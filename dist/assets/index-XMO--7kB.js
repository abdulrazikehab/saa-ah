var qF=e=>{throw TypeError(e)};var PE=(e,t,s)=>t.has(e)||qF("Cannot "+s);var xt=(e,t,s)=>(PE(e,t,"read from private field"),s?s.call(e):t.get(e)),qs=(e,t,s)=>t.has(e)?qF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),is=(e,t,s,a)=>(PE(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),Ui=(e,t,s)=>(PE(e,t,"access private method"),s);var d1=(e,t,s,a)=>({set _(n){is(e,t,n,s)},get _(){return xt(e,t,a)}});function lue(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uH={exports:{}},Hk={},hH={exports:{}},Ps={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej=Symbol.for("react.element"),cue=Symbol.for("react.portal"),due=Symbol.for("react.fragment"),uue=Symbol.for("react.strict_mode"),hue=Symbol.for("react.profiler"),mue=Symbol.for("react.provider"),fue=Symbol.for("react.context"),pue=Symbol.for("react.forward_ref"),xue=Symbol.for("react.suspense"),gue=Symbol.for("react.memo"),vue=Symbol.for("react.lazy"),GF=Symbol.iterator;function yue(e){return e===null||typeof e!="object"?null:(e=GF&&e[GF]||e["@@iterator"],typeof e=="function"?e:null)}var mH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fH=Object.assign,pH={};function D0(e,t,s){this.props=e,this.context=t,this.refs=pH,this.updater=s||mH}D0.prototype.isReactComponent={};D0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};D0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xH(){}xH.prototype=D0.prototype;function cO(e,t,s){this.props=e,this.context=t,this.refs=pH,this.updater=s||mH}var dO=cO.prototype=new xH;dO.constructor=cO;fH(dO,D0.prototype);dO.isPureReactComponent=!0;var KF=Array.isArray,gH=Object.prototype.hasOwnProperty,uO={current:null},vH={key:!0,ref:!0,__self:!0,__source:!0};function yH(e,t,s){var a,n={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gH.call(t,a)&&!vH.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:ej,type:e,key:i,ref:o,props:n,_owner:uO.current}}function bue(e,t){return{$$typeof:ej,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hO(e){return typeof e=="object"&&e!==null&&e.$$typeof===ej}function wue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var YF=/\/+/g;function TE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wue(""+e.key):t.toString(36)}function ON(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ej:case cue:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+TE(o,0):a,KF(n)?(s="",e!=null&&(s=e.replace(YF,"$&/")+"/"),ON(n,t,s,"",function(d){return d})):n!=null&&(hO(n)&&(n=bue(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(YF,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",KF(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+TE(i,l);o+=ON(i,t,s,c,n)}else if(c=yue(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+TE(i,l++),o+=ON(i,t,s,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function h1(e,t,s){if(e==null)return e;var a=[],n=0;return ON(e,a,"","",function(i){return t.call(s,i,n++)}),a}function jue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Po={current:null},IN={transition:null},Nue={ReactCurrentDispatcher:Po,ReactCurrentBatchConfig:IN,ReactCurrentOwner:uO};function bH(){throw Error("act(...) is not supported in production builds of React.")}Ps.Children={map:h1,forEach:function(e,t,s){h1(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return h1(e,function(){t++}),t},toArray:function(e){return h1(e,function(t){return t})||[]},only:function(e){if(!hO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ps.Component=D0;Ps.Fragment=due;Ps.Profiler=hue;Ps.PureComponent=cO;Ps.StrictMode=uue;Ps.Suspense=xue;Ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nue;Ps.act=bH;Ps.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=fH({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=uO.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gH.call(t,c)&&!vH.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:ej,type:e.type,key:n,ref:i,props:a,_owner:o}};Ps.createContext=function(e){return e={$$typeof:fue,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mue,_context:e},e.Consumer=e};Ps.createElement=yH;Ps.createFactory=function(e){var t=yH.bind(null,e);return t.type=e,t};Ps.createRef=function(){return{current:null}};Ps.forwardRef=function(e){return{$$typeof:pue,render:e}};Ps.isValidElement=hO;Ps.lazy=function(e){return{$$typeof:vue,_payload:{_status:-1,_result:e},_init:jue}};Ps.memo=function(e,t){return{$$typeof:gue,type:e,compare:t===void 0?null:t}};Ps.startTransition=function(e){var t=IN.transition;IN.transition={};try{e()}finally{IN.transition=t}};Ps.unstable_act=bH;Ps.useCallback=function(e,t){return Po.current.useCallback(e,t)};Ps.useContext=function(e){return Po.current.useContext(e)};Ps.useDebugValue=function(){};Ps.useDeferredValue=function(e){return Po.current.useDeferredValue(e)};Ps.useEffect=function(e,t){return Po.current.useEffect(e,t)};Ps.useId=function(){return Po.current.useId()};Ps.useImperativeHandle=function(e,t,s){return Po.current.useImperativeHandle(e,t,s)};Ps.useInsertionEffect=function(e,t){return Po.current.useInsertionEffect(e,t)};Ps.useLayoutEffect=function(e,t){return Po.current.useLayoutEffect(e,t)};Ps.useMemo=function(e,t){return Po.current.useMemo(e,t)};Ps.useReducer=function(e,t,s){return Po.current.useReducer(e,t,s)};Ps.useRef=function(e){return Po.current.useRef(e)};Ps.useState=function(e){return Po.current.useState(e)};Ps.useSyncExternalStore=function(e,t,s){return Po.current.useSyncExternalStore(e,t,s)};Ps.useTransition=function(){return Po.current.useTransition()};Ps.version="18.3.1";hH.exports=Ps;var f=hH.exports;const ae=na(f),mO=lue({__proto__:null,default:ae},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sue=f,kue=Symbol.for("react.element"),Cue=Symbol.for("react.fragment"),Aue=Object.prototype.hasOwnProperty,Eue=Sue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pue={key:!0,ref:!0,__self:!0,__source:!0};function wH(e,t,s){var a,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)Aue.call(t,a)&&!Pue.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:kue,type:e,key:i,ref:o,props:n,_owner:Eue.current}}Hk.Fragment=Cue;Hk.jsx=wH;Hk.jsxs=wH;uH.exports=Hk;var r=uH.exports,jH={exports:{}},_l={},NH={exports:{}},SH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var K=R.length;R.push(L);e:for(;0<K;){var H=K-1>>>1,F=R[H];if(0<n(F,L))R[H]=L,R[K]=F,K=H;else break e}}function s(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var L=R[0],K=R.pop();if(K!==L){R[0]=K;e:for(var H=0,F=R.length,G=F>>>1;H<G;){var U=2*(H+1)-1,W=R[U],J=U+1,z=R[J];if(0>n(W,K))J<F&&0>n(z,W)?(R[H]=z,R[J]=K,H=J):(R[H]=W,R[U]=K,H=U);else if(J<F&&0>n(z,K))R[H]=z,R[J]=K,H=J;else break e}}return L}function n(R,L){var K=R.sortIndex-L.sortIndex;return K!==0?K:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var L=s(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=R)a(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=s(d)}}function S(R){if(x=!1,v(R),!g)if(s(c)!==null)g=!0,M(j);else{var L=s(d);L!==null&&I(S,L.startTime-R)}}function j(R,L){g=!1,x&&(x=!1,b(C),C=-1),p=!0;var K=m;try{for(v(L),h=s(c);h!==null&&(!(h.expirationTime>L)||R&&!D());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var F=H(h.expirationTime<=L);L=e.unstable_now(),typeof F=="function"?h.callback=F:h===s(c)&&a(c),v(L)}else a(c);h=s(c)}if(h!==null)var G=!0;else{var U=s(d);U!==null&&I(S,U.startTime-L),G=!1}return G}finally{h=null,m=K,p=!1}}var k=!1,N=null,C=-1,A=5,E=-1;function D(){return!(e.unstable_now()-E<A)}function T(){if(N!==null){var R=e.unstable_now();E=R;var L=!0;try{L=N(!0,R)}finally{L?P():(k=!1,N=null)}}else k=!1}var P;if(typeof w=="function")P=function(){w(T)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,O=_.port2;_.port1.onmessage=T,P=function(){O.postMessage(null)}}else P=function(){y(T,0)};function M(R){N=R,k||(k=!0,P())}function I(R,L){C=y(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var K=m;m=L;try{return R()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=m;m=R;try{return L()}finally{m=K}},e.unstable_scheduleCallback=function(R,L,K){var H=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,R){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,R={id:u++,callback:L,priorityLevel:R,startTime:K,expirationTime:F,sortIndex:-1},K>H?(R.sortIndex=K,t(d,R),s(c)===null&&R===s(d)&&(x?(b(C),C=-1):x=!0,I(S,K-H))):(R.sortIndex=F,t(c,R),g||p||(g=!0,M(j))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var L=m;return function(){var K=m;m=L;try{return R.apply(this,arguments)}finally{m=K}}}})(SH);NH.exports=SH;var Tue=NH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _ue=f,Al=Tue;function At(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kH=new Set,hb={};function _p(e,t){Rg(e,t),Rg(e+"Capture",t)}function Rg(e,t){for(hb[e]=t,e=0;e<t.length;e++)kH.add(t[e])}var Bu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eT=Object.prototype.hasOwnProperty,Due=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XF={},QF={};function Oue(e){return eT.call(QF,e)?!0:eT.call(XF,e)?!1:Due.test(e)?QF[e]=!0:(XF[e]=!0,!1)}function Iue(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rue(e,t,s,a){if(t===null||typeof t>"u"||Iue(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function To(e,t,s,a,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ii[e]=new To(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ii[t]=new To(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ii[e]=new To(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ii[e]=new To(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ii[e]=new To(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ii[e]=new To(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ii[e]=new To(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ii[e]=new To(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ii[e]=new To(e,5,!1,e.toLowerCase(),null,!1,!1)});var fO=/[\-:]([a-z])/g;function pO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fO,pO);Ii[t]=new To(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fO,pO);Ii[t]=new To(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fO,pO);Ii[t]=new To(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ii[e]=new To(e,1,!1,e.toLowerCase(),null,!1,!1)});Ii.xlinkHref=new To("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ii[e]=new To(e,1,!1,e.toLowerCase(),null,!0,!0)});function xO(e,t,s,a){var n=Ii.hasOwnProperty(t)?Ii[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rue(t,s,n,a)&&(s=null),a||n===null?Oue(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var rh=_ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m1=Symbol.for("react.element"),Cx=Symbol.for("react.portal"),Ax=Symbol.for("react.fragment"),gO=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),CH=Symbol.for("react.provider"),AH=Symbol.for("react.context"),vO=Symbol.for("react.forward_ref"),rT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),yO=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),EH=Symbol.for("react.offscreen"),JF=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=JF&&e[JF]||e["@@iterator"],typeof e=="function"?e:null)}var sn=Object.assign,_E;function cy(e){if(_E===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);_E=t&&t[1]||""}return`
`+_E+e}var DE=!1;function OE(e,t){if(!e||DE)return"";DE=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{DE=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?cy(e):""}function Mue(e){switch(e.tag){case 5:return cy(e.type);case 16:return cy("Lazy");case 13:return cy("Suspense");case 19:return cy("SuspenseList");case 0:case 2:case 15:return e=OE(e.type,!1),e;case 11:return e=OE(e.type.render,!1),e;case 1:return e=OE(e.type,!0),e;default:return""}}function aT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ax:return"Fragment";case Cx:return"Portal";case tT:return"Profiler";case gO:return"StrictMode";case rT:return"Suspense";case sT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AH:return(e.displayName||"Context")+".Consumer";case CH:return(e._context.displayName||"Context")+".Provider";case vO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yO:return t=e.displayName||null,t!==null?t:aT(e.type)||"Memo";case Eh:t=e._payload,e=e._init;try{return aT(e(t))}catch{}}return null}function Fue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aT(t);case 8:return t===gO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gm(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lue(e){var t=PH(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function f1(e){e._valueTracker||(e._valueTracker=Lue(e))}function TH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=PH(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function f2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nT(e,t){var s=t.checked;return sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ZF(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=gm(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _H(e,t){t=t.checked,t!=null&&xO(e,"checked",t,!1)}function iT(e,t){_H(e,t);var s=gm(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oT(e,t.type,s):t.hasOwnProperty("defaultValue")&&oT(e,t.type,gm(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eL(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function oT(e,t,s){(t!=="number"||f2(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var dy=Array.isArray;function rg(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+gm(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function lT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(At(91));return sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tL(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(At(92));if(dy(s)){if(1<s.length)throw Error(At(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:gm(s)}}function DH(e,t){var s=gm(t.value),a=gm(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function rL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var p1,IH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(p1=p1||document.createElement("div"),p1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=p1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mb(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ky={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$ue=["Webkit","ms","Moz","O"];Object.keys(ky).forEach(function(e){$ue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ky[t]=ky[e]})});function RH(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ky.hasOwnProperty(e)&&ky[e]?(""+t).trim():t+"px"}function MH(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=RH(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var Bue=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dT(e,t){if(t){if(Bue[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(At(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(At(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(At(61))}if(t.style!=null&&typeof t.style!="object")throw Error(At(62))}}function uT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hT=null;function bO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mT=null,sg=null,ag=null;function sL(e){if(e=sj(e)){if(typeof mT!="function")throw Error(At(280));var t=e.stateNode;t&&(t=Xk(t),mT(e.stateNode,e.type,t))}}function FH(e){sg?ag?ag.push(e):ag=[e]:sg=e}function LH(){if(sg){var e=sg,t=ag;if(ag=sg=null,sL(e),t)for(e=0;e<t.length;e++)sL(t[e])}}function $H(e,t){return e(t)}function BH(){}var IE=!1;function UH(e,t,s){if(IE)return e(t,s);IE=!0;try{return $H(e,t,s)}finally{IE=!1,(sg!==null||ag!==null)&&(BH(),LH())}}function fb(e,t){var s=e.stateNode;if(s===null)return null;var a=Xk(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(At(231,t,typeof s));return s}var fT=!1;if(Bu)try{var Av={};Object.defineProperty(Av,"passive",{get:function(){fT=!0}}),window.addEventListener("test",Av,Av),window.removeEventListener("test",Av,Av)}catch{fT=!1}function Uue(e,t,s,a,n,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Cy=!1,p2=null,x2=!1,pT=null,Vue={onError:function(e){Cy=!0,p2=e}};function zue(e,t,s,a,n,i,o,l,c){Cy=!1,p2=null,Uue.apply(Vue,arguments)}function Wue(e,t,s,a,n,i,o,l,c){if(zue.apply(this,arguments),Cy){if(Cy){var d=p2;Cy=!1,p2=null}else throw Error(At(198));x2||(x2=!0,pT=d)}}function Dp(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function VH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aL(e){if(Dp(e)!==e)throw Error(At(188))}function Hue(e){var t=e.alternate;if(!t){if(t=Dp(e),t===null)throw Error(At(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return aL(n),e;if(i===a)return aL(n),t;i=i.sibling}throw Error(At(188))}if(s.return!==a.return)s=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,a=i;break}if(l===a){o=!0,a=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,a=n;break}if(l===a){o=!0,a=i,s=n;break}l=l.sibling}if(!o)throw Error(At(189))}}if(s.alternate!==a)throw Error(At(190))}if(s.tag!==3)throw Error(At(188));return s.stateNode.current===s?e:t}function zH(e){return e=Hue(e),e!==null?WH(e):null}function WH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WH(e);if(t!==null)return t;e=e.sibling}return null}var HH=Al.unstable_scheduleCallback,nL=Al.unstable_cancelCallback,que=Al.unstable_shouldYield,Gue=Al.unstable_requestPaint,Sn=Al.unstable_now,Kue=Al.unstable_getCurrentPriorityLevel,wO=Al.unstable_ImmediatePriority,qH=Al.unstable_UserBlockingPriority,g2=Al.unstable_NormalPriority,Yue=Al.unstable_LowPriority,GH=Al.unstable_IdlePriority,qk=null,Bd=null;function Xue(e){if(Bd&&typeof Bd.onCommitFiberRoot=="function")try{Bd.onCommitFiberRoot(qk,e,void 0,(e.current.flags&128)===128)}catch{}}var Jc=Math.clz32?Math.clz32:Zue,Que=Math.log,Jue=Math.LN2;function Zue(e){return e>>>=0,e===0?32:31-(Que(e)/Jue|0)|0}var x1=64,g1=4194304;function uy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function v2(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~n;l!==0?a=uy(l):(i&=o,i!==0&&(a=uy(i)))}else o=s&~n,o!==0?a=uy(o):i!==0&&(a=uy(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Jc(t),n=1<<s,a|=e[s],t&=~n;return a}function ehe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function the(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Jc(i),l=1<<o,c=n[o];c===-1?(!(l&s)||l&a)&&(n[o]=ehe(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KH(){var e=x1;return x1<<=1,!(x1&4194240)&&(x1=64),e}function RE(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function tj(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jc(t),e[t]=s}function rhe(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Jc(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function jO(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Jc(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var ha=0;function YH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XH,NO,QH,JH,ZH,gT=!1,v1=[],Zh=null,em=null,tm=null,pb=new Map,xb=new Map,Oh=[],she="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iL(e,t){switch(e){case"focusin":case"focusout":Zh=null;break;case"dragenter":case"dragleave":em=null;break;case"mouseover":case"mouseout":tm=null;break;case"pointerover":case"pointerout":pb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xb.delete(t.pointerId)}}function Ev(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=sj(t),t!==null&&NO(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function ahe(e,t,s,a,n){switch(t){case"focusin":return Zh=Ev(Zh,e,t,s,a,n),!0;case"dragenter":return em=Ev(em,e,t,s,a,n),!0;case"mouseover":return tm=Ev(tm,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return pb.set(i,Ev(pb.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,xb.set(i,Ev(xb.get(i)||null,e,t,s,a,n)),!0}return!1}function eq(e){var t=jf(e.target);if(t!==null){var s=Dp(t);if(s!==null){if(t=s.tag,t===13){if(t=VH(s),t!==null){e.blockedOn=t,ZH(e.priority,function(){QH(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function RN(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=vT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);hT=a,s.target.dispatchEvent(a),hT=null}else return t=sj(s),t!==null&&NO(t),e.blockedOn=s,!1;t.shift()}return!0}function oL(e,t,s){RN(e)&&s.delete(t)}function nhe(){gT=!1,Zh!==null&&RN(Zh)&&(Zh=null),em!==null&&RN(em)&&(em=null),tm!==null&&RN(tm)&&(tm=null),pb.forEach(oL),xb.forEach(oL)}function Pv(e,t){e.blockedOn===t&&(e.blockedOn=null,gT||(gT=!0,Al.unstable_scheduleCallback(Al.unstable_NormalPriority,nhe)))}function gb(e){function t(n){return Pv(n,e)}if(0<v1.length){Pv(v1[0],e);for(var s=1;s<v1.length;s++){var a=v1[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Zh!==null&&Pv(Zh,e),em!==null&&Pv(em,e),tm!==null&&Pv(tm,e),pb.forEach(t),xb.forEach(t),s=0;s<Oh.length;s++)a=Oh[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Oh.length&&(s=Oh[0],s.blockedOn===null);)eq(s),s.blockedOn===null&&Oh.shift()}var ng=rh.ReactCurrentBatchConfig,y2=!0;function ihe(e,t,s,a){var n=ha,i=ng.transition;ng.transition=null;try{ha=1,SO(e,t,s,a)}finally{ha=n,ng.transition=i}}function ohe(e,t,s,a){var n=ha,i=ng.transition;ng.transition=null;try{ha=4,SO(e,t,s,a)}finally{ha=n,ng.transition=i}}function SO(e,t,s,a){if(y2){var n=vT(e,t,s,a);if(n===null)HE(e,t,a,b2,s),iL(e,a);else if(ahe(n,e,t,s,a))a.stopPropagation();else if(iL(e,a),t&4&&-1<she.indexOf(e)){for(;n!==null;){var i=sj(n);if(i!==null&&XH(i),i=vT(e,t,s,a),i===null&&HE(e,t,a,b2,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else HE(e,t,a,null,s)}}var b2=null;function vT(e,t,s,a){if(b2=null,e=bO(a),e=jf(e),e!==null)if(t=Dp(e),t===null)e=null;else if(s=t.tag,s===13){if(e=VH(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return b2=e,null}function tq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kue()){case wO:return 1;case qH:return 4;case g2:case Yue:return 16;case GH:return 536870912;default:return 16}default:return 16}}var Vh=null,kO=null,MN=null;function rq(){if(MN)return MN;var e,t=kO,s=t.length,a,n="value"in Vh?Vh.value:Vh.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(a=1;a<=o&&t[s-a]===n[i-a];a++);return MN=n.slice(e,1<a?1-a:void 0)}function FN(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function y1(){return!0}function lL(){return!1}function Dl(e){function t(s,a,n,i,o){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?y1:lL,this.isPropagationStopped=lL,this}return sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=y1)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=y1)},persist:function(){},isPersistent:y1}),t}var O0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CO=Dl(O0),rj=sn({},O0,{view:0,detail:0}),lhe=Dl(rj),ME,FE,Tv,Gk=sn({},rj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tv&&(Tv&&e.type==="mousemove"?(ME=e.screenX-Tv.screenX,FE=e.screenY-Tv.screenY):FE=ME=0,Tv=e),ME)},movementY:function(e){return"movementY"in e?e.movementY:FE}}),cL=Dl(Gk),che=sn({},Gk,{dataTransfer:0}),dhe=Dl(che),uhe=sn({},rj,{relatedTarget:0}),LE=Dl(uhe),hhe=sn({},O0,{animationName:0,elapsedTime:0,pseudoElement:0}),mhe=Dl(hhe),fhe=sn({},O0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),phe=Dl(fhe),xhe=sn({},O0,{data:0}),dL=Dl(xhe),ghe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vhe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yhe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bhe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yhe[e])?!!t[e]:!1}function AO(){return bhe}var whe=sn({},rj,{key:function(e){if(e.key){var t=ghe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=FN(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vhe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AO,charCode:function(e){return e.type==="keypress"?FN(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?FN(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jhe=Dl(whe),Nhe=sn({},Gk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uL=Dl(Nhe),She=sn({},rj,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AO}),khe=Dl(She),Che=sn({},O0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ahe=Dl(Che),Ehe=sn({},Gk,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Phe=Dl(Ehe),The=[9,13,27,32],EO=Bu&&"CompositionEvent"in window,Ay=null;Bu&&"documentMode"in document&&(Ay=document.documentMode);var _he=Bu&&"TextEvent"in window&&!Ay,sq=Bu&&(!EO||Ay&&8<Ay&&11>=Ay),hL=" ",mL=!1;function aq(e,t){switch(e){case"keyup":return The.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ex=!1;function Dhe(e,t){switch(e){case"compositionend":return nq(t);case"keypress":return t.which!==32?null:(mL=!0,hL);case"textInput":return e=t.data,e===hL&&mL?null:e;default:return null}}function Ohe(e,t){if(Ex)return e==="compositionend"||!EO&&aq(e,t)?(e=rq(),MN=kO=Vh=null,Ex=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sq&&t.locale!=="ko"?null:t.data;default:return null}}var Ihe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ihe[e.type]:t==="textarea"}function iq(e,t,s,a){FH(a),t=w2(t,"onChange"),0<t.length&&(s=new CO("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Ey=null,vb=null;function Rhe(e){gq(e,0)}function Kk(e){var t=_x(e);if(TH(t))return e}function Mhe(e,t){if(e==="change")return t}var oq=!1;if(Bu){var $E;if(Bu){var BE="oninput"in document;if(!BE){var pL=document.createElement("div");pL.setAttribute("oninput","return;"),BE=typeof pL.oninput=="function"}$E=BE}else $E=!1;oq=$E&&(!document.documentMode||9<document.documentMode)}function xL(){Ey&&(Ey.detachEvent("onpropertychange",lq),vb=Ey=null)}function lq(e){if(e.propertyName==="value"&&Kk(vb)){var t=[];iq(t,vb,e,bO(e)),UH(Rhe,t)}}function Fhe(e,t,s){e==="focusin"?(xL(),Ey=t,vb=s,Ey.attachEvent("onpropertychange",lq)):e==="focusout"&&xL()}function Lhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kk(vb)}function $he(e,t){if(e==="click")return Kk(t)}function Bhe(e,t){if(e==="input"||e==="change")return Kk(t)}function Uhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sd=typeof Object.is=="function"?Object.is:Uhe;function yb(e,t){if(sd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!eT.call(t,n)||!sd(e[n],t[n]))return!1}return!0}function gL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vL(e,t){var s=gL(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gL(s)}}function cq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dq(){for(var e=window,t=f2();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=f2(e.document)}return t}function PO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vhe(e){var t=dq(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&cq(s.ownerDocument.documentElement,s)){if(a!==null&&PO(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=vL(s,i);var o=vL(s,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zhe=Bu&&"documentMode"in document&&11>=document.documentMode,Px=null,yT=null,Py=null,bT=!1;function yL(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bT||Px==null||Px!==f2(a)||(a=Px,"selectionStart"in a&&PO(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Py&&yb(Py,a)||(Py=a,a=w2(yT,"onSelect"),0<a.length&&(t=new CO("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Px)))}function b1(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Tx={animationend:b1("Animation","AnimationEnd"),animationiteration:b1("Animation","AnimationIteration"),animationstart:b1("Animation","AnimationStart"),transitionend:b1("Transition","TransitionEnd")},UE={},uq={};Bu&&(uq=document.createElement("div").style,"AnimationEvent"in window||(delete Tx.animationend.animation,delete Tx.animationiteration.animation,delete Tx.animationstart.animation),"TransitionEvent"in window||delete Tx.transitionend.transition);function Yk(e){if(UE[e])return UE[e];if(!Tx[e])return e;var t=Tx[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in uq)return UE[e]=t[s];return e}var hq=Yk("animationend"),mq=Yk("animationiteration"),fq=Yk("animationstart"),pq=Yk("transitionend"),xq=new Map,bL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Im(e,t){xq.set(e,t),_p(t,[e])}for(var VE=0;VE<bL.length;VE++){var zE=bL[VE],Whe=zE.toLowerCase(),Hhe=zE[0].toUpperCase()+zE.slice(1);Im(Whe,"on"+Hhe)}Im(hq,"onAnimationEnd");Im(mq,"onAnimationIteration");Im(fq,"onAnimationStart");Im("dblclick","onDoubleClick");Im("focusin","onFocus");Im("focusout","onBlur");Im(pq,"onTransitionEnd");Rg("onMouseEnter",["mouseout","mouseover"]);Rg("onMouseLeave",["mouseout","mouseover"]);Rg("onPointerEnter",["pointerout","pointerover"]);Rg("onPointerLeave",["pointerout","pointerover"]);_p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_p("onBeforeInput",["compositionend","keypress","textInput","paste"]);_p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qhe=new Set("cancel close invalid load scroll toggle".split(" ").concat(hy));function wL(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Wue(a,t,void 0,e),e.currentTarget=null}function gq(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;wL(n,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;wL(n,l,d),i=c}}}if(x2)throw e=pT,x2=!1,pT=null,e}function Ia(e,t){var s=t[kT];s===void 0&&(s=t[kT]=new Set);var a=e+"__bubble";s.has(a)||(vq(t,e,2,!1),s.add(a))}function WE(e,t,s){var a=0;t&&(a|=4),vq(s,e,a,t)}var w1="_reactListening"+Math.random().toString(36).slice(2);function bb(e){if(!e[w1]){e[w1]=!0,kH.forEach(function(s){s!=="selectionchange"&&(qhe.has(s)||WE(s,!1,e),WE(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[w1]||(t[w1]=!0,WE("selectionchange",!1,t))}}function vq(e,t,s,a){switch(tq(t)){case 1:var n=ihe;break;case 4:n=ohe;break;default:n=SO}s=n.bind(null,t,s,e),n=void 0,!fT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function HE(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=jf(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}UH(function(){var d=i,u=bO(s),h=[];e:{var m=xq.get(e);if(m!==void 0){var p=CO,g=e;switch(e){case"keypress":if(FN(s)===0)break e;case"keydown":case"keyup":p=jhe;break;case"focusin":g="focus",p=LE;break;case"focusout":g="blur",p=LE;break;case"beforeblur":case"afterblur":p=LE;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dhe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=khe;break;case hq:case mq:case fq:p=mhe;break;case pq:p=Ahe;break;case"scroll":p=lhe;break;case"wheel":p=Phe;break;case"copy":case"cut":case"paste":p=phe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uL}var x=(t&4)!==0,y=!x&&e==="scroll",b=x?m!==null?m+"Capture":null:m;x=[];for(var w=d,v;w!==null;){v=w;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,b!==null&&(S=fb(w,b),S!=null&&x.push(wb(w,S,v)))),y)break;w=w.return}0<x.length&&(m=new p(m,g,null,s,u),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&s!==hT&&(g=s.relatedTarget||s.fromElement)&&(jf(g)||g[Uu]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=s.relatedTarget||s.toElement,p=d,g=g?jf(g):null,g!==null&&(y=Dp(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=cL,S="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=uL,S="onPointerLeave",b="onPointerEnter",w="pointer"),y=p==null?m:_x(p),v=g==null?m:_x(g),m=new x(S,w+"leave",p,s,u),m.target=y,m.relatedTarget=v,S=null,jf(u)===d&&(x=new x(b,w+"enter",g,s,u),x.target=v,x.relatedTarget=y,S=x),y=S,p&&g)t:{for(x=p,b=g,w=0,v=x;v;v=ax(v))w++;for(v=0,S=b;S;S=ax(S))v++;for(;0<w-v;)x=ax(x),w--;for(;0<v-w;)b=ax(b),v--;for(;w--;){if(x===b||b!==null&&x===b.alternate)break t;x=ax(x),b=ax(b)}x=null}else x=null;p!==null&&jL(h,m,p,x,!1),g!==null&&y!==null&&jL(h,y,g,x,!0)}}e:{if(m=d?_x(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=Mhe;else if(fL(m))if(oq)j=Bhe;else{j=Lhe;var k=Fhe}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=$he);if(j&&(j=j(e,d))){iq(h,j,s,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&oT(m,"number",m.value)}switch(k=d?_x(d):window,e){case"focusin":(fL(k)||k.contentEditable==="true")&&(Px=k,yT=d,Py=null);break;case"focusout":Py=yT=Px=null;break;case"mousedown":bT=!0;break;case"contextmenu":case"mouseup":case"dragend":bT=!1,yL(h,s,u);break;case"selectionchange":if(zhe)break;case"keydown":case"keyup":yL(h,s,u)}var N;if(EO)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ex?aq(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(sq&&s.locale!=="ko"&&(Ex||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ex&&(N=rq()):(Vh=u,kO="value"in Vh?Vh.value:Vh.textContent,Ex=!0)),k=w2(d,C),0<k.length&&(C=new dL(C,e,null,s,u),h.push({event:C,listeners:k}),N?C.data=N:(N=nq(s),N!==null&&(C.data=N)))),(N=_he?Dhe(e,s):Ohe(e,s))&&(d=w2(d,"onBeforeInput"),0<d.length&&(u=new dL("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=N))}gq(h,t)})}function wb(e,t,s){return{instance:e,listener:t,currentTarget:s}}function w2(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=fb(e,s),i!=null&&a.unshift(wb(e,i,n)),i=fb(e,t),i!=null&&a.push(wb(e,i,n))),e=e.return}return a}function ax(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jL(e,t,s,a,n){for(var i=t._reactName,o=[];s!==null&&s!==a;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,n?(c=fb(s,i),c!=null&&o.unshift(wb(s,c,l))):n||(c=fb(s,i),c!=null&&o.push(wb(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var Ghe=/\r\n?/g,Khe=/\u0000|\uFFFD/g;function NL(e){return(typeof e=="string"?e:""+e).replace(Ghe,`
`).replace(Khe,"")}function j1(e,t,s){if(t=NL(t),NL(e)!==t&&s)throw Error(At(425))}function j2(){}var wT=null,jT=null;function NT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ST=typeof setTimeout=="function"?setTimeout:void 0,Yhe=typeof clearTimeout=="function"?clearTimeout:void 0,SL=typeof Promise=="function"?Promise:void 0,Xhe=typeof queueMicrotask=="function"?queueMicrotask:typeof SL<"u"?function(e){return SL.resolve(null).then(e).catch(Qhe)}:ST;function Qhe(e){setTimeout(function(){throw e})}function qE(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),gb(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);gb(t)}function rm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var I0=Math.random().toString(36).slice(2),Td="__reactFiber$"+I0,jb="__reactProps$"+I0,Uu="__reactContainer$"+I0,kT="__reactEvents$"+I0,Jhe="__reactListeners$"+I0,Zhe="__reactHandles$"+I0;function jf(e){var t=e[Td];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Uu]||s[Td]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=kL(e);e!==null;){if(s=e[Td])return s;e=kL(e)}return t}e=s,s=e.parentNode}return null}function sj(e){return e=e[Td]||e[Uu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _x(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(At(33))}function Xk(e){return e[jb]||null}var CT=[],Dx=-1;function Rm(e){return{current:e}}function $a(e){0>Dx||(e.current=CT[Dx],CT[Dx]=null,Dx--)}function Ta(e,t){Dx++,CT[Dx]=e.current,e.current=t}var vm={},so=Rm(vm),Go=Rm(!1),tp=vm;function Mg(e,t){var s=e.type.contextTypes;if(!s)return vm;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ko(e){return e=e.childContextTypes,e!=null}function N2(){$a(Go),$a(so)}function CL(e,t,s){if(so.current!==vm)throw Error(At(168));Ta(so,t),Ta(Go,s)}function yq(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(At(108,Fue(e)||"Unknown",n));return sn({},s,a)}function S2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vm,tp=so.current,Ta(so,e),Ta(Go,Go.current),!0}function AL(e,t,s){var a=e.stateNode;if(!a)throw Error(At(169));s?(e=yq(e,t,tp),a.__reactInternalMemoizedMergedChildContext=e,$a(Go),$a(so),Ta(so,e)):$a(Go),Ta(Go,s)}var ju=null,Qk=!1,GE=!1;function bq(e){ju===null?ju=[e]:ju.push(e)}function eme(e){Qk=!0,bq(e)}function Mm(){if(!GE&&ju!==null){GE=!0;var e=0,t=ha;try{var s=ju;for(ha=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}ju=null,Qk=!1}catch(n){throw ju!==null&&(ju=ju.slice(e+1)),HH(wO,Mm),n}finally{ha=t,GE=!1}}return null}var Ox=[],Ix=0,k2=null,C2=0,Xl=[],Ql=0,rp=null,ku=1,Cu="";function df(e,t){Ox[Ix++]=C2,Ox[Ix++]=k2,k2=e,C2=t}function wq(e,t,s){Xl[Ql++]=ku,Xl[Ql++]=Cu,Xl[Ql++]=rp,rp=e;var a=ku;e=Cu;var n=32-Jc(a)-1;a&=~(1<<n),s+=1;var i=32-Jc(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,ku=1<<32-Jc(t)+n|s<<n|a,Cu=i+e}else ku=1<<i|s<<n|a,Cu=e}function TO(e){e.return!==null&&(df(e,1),wq(e,1,0))}function _O(e){for(;e===k2;)k2=Ox[--Ix],Ox[Ix]=null,C2=Ox[--Ix],Ox[Ix]=null;for(;e===rp;)rp=Xl[--Ql],Xl[Ql]=null,Cu=Xl[--Ql],Xl[Ql]=null,ku=Xl[--Ql],Xl[Ql]=null}var Nl=null,wl=null,qa=!1,Wc=null;function jq(e,t){var s=tc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function EL(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nl=e,wl=rm(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nl=e,wl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=rp!==null?{id:ku,overflow:Cu}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=tc(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Nl=e,wl=null,!0):!1;default:return!1}}function AT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ET(e){if(qa){var t=wl;if(t){var s=t;if(!EL(e,t)){if(AT(e))throw Error(At(418));t=rm(s.nextSibling);var a=Nl;t&&EL(e,t)?jq(a,s):(e.flags=e.flags&-4097|2,qa=!1,Nl=e)}}else{if(AT(e))throw Error(At(418));e.flags=e.flags&-4097|2,qa=!1,Nl=e}}}function PL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nl=e}function N1(e){if(e!==Nl)return!1;if(!qa)return PL(e),qa=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!NT(e.type,e.memoizedProps)),t&&(t=wl)){if(AT(e))throw Nq(),Error(At(418));for(;t;)jq(e,t),t=rm(t.nextSibling)}if(PL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(At(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){wl=rm(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}wl=null}}else wl=Nl?rm(e.stateNode.nextSibling):null;return!0}function Nq(){for(var e=wl;e;)e=rm(e.nextSibling)}function Fg(){wl=Nl=null,qa=!1}function DO(e){Wc===null?Wc=[e]:Wc.push(e)}var tme=rh.ReactCurrentBatchConfig;function _v(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(At(309));var a=s.stateNode}if(!a)throw Error(At(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(At(284));if(!s._owner)throw Error(At(290,e))}return e}function S1(e,t){throw e=Object.prototype.toString.call(t),Error(At(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TL(e){var t=e._init;return t(e._payload)}function Sq(e){function t(b,w){if(e){var v=b.deletions;v===null?(b.deletions=[w],b.flags|=16):v.push(w)}}function s(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function a(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function n(b,w){return b=im(b,w),b.index=0,b.sibling=null,b}function i(b,w,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<w?(b.flags|=2,w):v):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,w,v,S){return w===null||w.tag!==6?(w=eP(v,b.mode,S),w.return=b,w):(w=n(w,v),w.return=b,w)}function c(b,w,v,S){var j=v.type;return j===Ax?u(b,w,v.props.children,S,v.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Eh&&TL(j)===w.type)?(S=n(w,v.props),S.ref=_v(b,w,v),S.return=b,S):(S=WN(v.type,v.key,v.props,null,b.mode,S),S.ref=_v(b,w,v),S.return=b,S)}function d(b,w,v,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=tP(v,b.mode,S),w.return=b,w):(w=n(w,v.children||[]),w.return=b,w)}function u(b,w,v,S,j){return w===null||w.tag!==7?(w=zf(v,b.mode,S,j),w.return=b,w):(w=n(w,v),w.return=b,w)}function h(b,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=eP(""+w,b.mode,v),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case m1:return v=WN(w.type,w.key,w.props,null,b.mode,v),v.ref=_v(b,null,w),v.return=b,v;case Cx:return w=tP(w,b.mode,v),w.return=b,w;case Eh:var S=w._init;return h(b,S(w._payload),v)}if(dy(w)||Cv(w))return w=zf(w,b.mode,v,null),w.return=b,w;S1(b,w)}return null}function m(b,w,v,S){var j=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(b,w,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case m1:return v.key===j?c(b,w,v,S):null;case Cx:return v.key===j?d(b,w,v,S):null;case Eh:return j=v._init,m(b,w,j(v._payload),S)}if(dy(v)||Cv(v))return j!==null?null:u(b,w,v,S,null);S1(b,v)}return null}function p(b,w,v,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(v)||null,l(w,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case m1:return b=b.get(S.key===null?v:S.key)||null,c(w,b,S,j);case Cx:return b=b.get(S.key===null?v:S.key)||null,d(w,b,S,j);case Eh:var k=S._init;return p(b,w,v,k(S._payload),j)}if(dy(S)||Cv(S))return b=b.get(v)||null,u(w,b,S,j,null);S1(w,S)}return null}function g(b,w,v,S){for(var j=null,k=null,N=w,C=w=0,A=null;N!==null&&C<v.length;C++){N.index>C?(A=N,N=null):A=N.sibling;var E=m(b,N,v[C],S);if(E===null){N===null&&(N=A);break}e&&N&&E.alternate===null&&t(b,N),w=i(E,w,C),k===null?j=E:k.sibling=E,k=E,N=A}if(C===v.length)return s(b,N),qa&&df(b,C),j;if(N===null){for(;C<v.length;C++)N=h(b,v[C],S),N!==null&&(w=i(N,w,C),k===null?j=N:k.sibling=N,k=N);return qa&&df(b,C),j}for(N=a(b,N);C<v.length;C++)A=p(N,b,C,v[C],S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?C:A.key),w=i(A,w,C),k===null?j=A:k.sibling=A,k=A);return e&&N.forEach(function(D){return t(b,D)}),qa&&df(b,C),j}function x(b,w,v,S){var j=Cv(v);if(typeof j!="function")throw Error(At(150));if(v=j.call(v),v==null)throw Error(At(151));for(var k=j=null,N=w,C=w=0,A=null,E=v.next();N!==null&&!E.done;C++,E=v.next()){N.index>C?(A=N,N=null):A=N.sibling;var D=m(b,N,E.value,S);if(D===null){N===null&&(N=A);break}e&&N&&D.alternate===null&&t(b,N),w=i(D,w,C),k===null?j=D:k.sibling=D,k=D,N=A}if(E.done)return s(b,N),qa&&df(b,C),j;if(N===null){for(;!E.done;C++,E=v.next())E=h(b,E.value,S),E!==null&&(w=i(E,w,C),k===null?j=E:k.sibling=E,k=E);return qa&&df(b,C),j}for(N=a(b,N);!E.done;C++,E=v.next())E=p(N,b,C,E.value,S),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?C:E.key),w=i(E,w,C),k===null?j=E:k.sibling=E,k=E);return e&&N.forEach(function(T){return t(b,T)}),qa&&df(b,C),j}function y(b,w,v,S){if(typeof v=="object"&&v!==null&&v.type===Ax&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case m1:e:{for(var j=v.key,k=w;k!==null;){if(k.key===j){if(j=v.type,j===Ax){if(k.tag===7){s(b,k.sibling),w=n(k,v.props.children),w.return=b,b=w;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Eh&&TL(j)===k.type){s(b,k.sibling),w=n(k,v.props),w.ref=_v(b,k,v),w.return=b,b=w;break e}s(b,k);break}else t(b,k);k=k.sibling}v.type===Ax?(w=zf(v.props.children,b.mode,S,v.key),w.return=b,b=w):(S=WN(v.type,v.key,v.props,null,b.mode,S),S.ref=_v(b,w,v),S.return=b,b=S)}return o(b);case Cx:e:{for(k=v.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){s(b,w.sibling),w=n(w,v.children||[]),w.return=b,b=w;break e}else{s(b,w);break}else t(b,w);w=w.sibling}w=tP(v,b.mode,S),w.return=b,b=w}return o(b);case Eh:return k=v._init,y(b,w,k(v._payload),S)}if(dy(v))return g(b,w,v,S);if(Cv(v))return x(b,w,v,S);S1(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(s(b,w.sibling),w=n(w,v),w.return=b,b=w):(s(b,w),w=eP(v,b.mode,S),w.return=b,b=w),o(b)):s(b,w)}return y}var Lg=Sq(!0),kq=Sq(!1),A2=Rm(null),E2=null,Rx=null,OO=null;function IO(){OO=Rx=E2=null}function RO(e){var t=A2.current;$a(A2),e._currentValue=t}function PT(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ig(e,t){E2=e,OO=Rx=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zo=!0),e.firstContext=null)}function uc(e){var t=e._currentValue;if(OO!==e)if(e={context:e,memoizedValue:t,next:null},Rx===null){if(E2===null)throw Error(At(308));Rx=e,E2.dependencies={lanes:0,firstContext:e}}else Rx=Rx.next=e;return t}var Nf=null;function MO(e){Nf===null?Nf=[e]:Nf.push(e)}function Cq(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,MO(t)):(s.next=n.next,n.next=s),t.interleaved=s,Vu(e,a)}function Vu(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ph=!1;function FO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aq(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _u(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sm(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Us&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Vu(e,s)}return n=a.interleaved,n===null?(t.next=t,MO(a)):(t.next=n.next,n.next=t),a.interleaved=t,Vu(e,s)}function LN(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jO(e,s)}}function _L(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function P2(e,t,s,a){var n=e.updateQueue;Ph=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((a&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(m=t,p=s,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=sn({},h,m);break e;case 2:Ph=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=n.effects,m===null?n.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;m=l,l=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);ap|=o,e.lanes=o,e.memoizedState=h}}function DL(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(At(191,n));n.call(a)}}}var aj={},Ud=Rm(aj),Nb=Rm(aj),Sb=Rm(aj);function Sf(e){if(e===aj)throw Error(At(174));return e}function LO(e,t){switch(Ta(Sb,t),Ta(Nb,e),Ta(Ud,aj),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cT(t,e)}$a(Ud),Ta(Ud,t)}function $g(){$a(Ud),$a(Nb),$a(Sb)}function Eq(e){Sf(Sb.current);var t=Sf(Ud.current),s=cT(t,e.type);t!==s&&(Ta(Nb,e),Ta(Ud,s))}function $O(e){Nb.current===e&&($a(Ud),$a(Nb))}var Xa=Rm(0);function T2(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var KE=[];function BO(){for(var e=0;e<KE.length;e++)KE[e]._workInProgressVersionPrimary=null;KE.length=0}var $N=rh.ReactCurrentDispatcher,YE=rh.ReactCurrentBatchConfig,sp=0,rn=null,Zn=null,hi=null,_2=!1,Ty=!1,kb=0,rme=0;function Vi(){throw Error(At(321))}function UO(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!sd(e[s],t[s]))return!1;return!0}function VO(e,t,s,a,n,i){if(sp=i,rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$N.current=e===null||e.memoizedState===null?ime:ome,e=s(a,n),Ty){i=0;do{if(Ty=!1,kb=0,25<=i)throw Error(At(301));i+=1,hi=Zn=null,t.updateQueue=null,$N.current=lme,e=s(a,n)}while(Ty)}if($N.current=D2,t=Zn!==null&&Zn.next!==null,sp=0,hi=Zn=rn=null,_2=!1,t)throw Error(At(300));return e}function zO(){var e=kb!==0;return kb=0,e}function Nd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?rn.memoizedState=hi=e:hi=hi.next=e,hi}function hc(){if(Zn===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=Zn.next;var t=hi===null?rn.memoizedState:hi.next;if(t!==null)hi=t,Zn=e;else{if(e===null)throw Error(At(310));Zn=e,e={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},hi===null?rn.memoizedState=hi=e:hi=hi.next=e}return hi}function Cb(e,t){return typeof t=="function"?t(e):t}function XE(e){var t=hc(),s=t.queue;if(s===null)throw Error(At(311));s.lastRenderedReducer=e;var a=Zn,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((sp&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=a):c=c.next=h,rn.lanes|=u,ap|=u}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,sd(a,t.memoizedState)||(zo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,rn.lanes|=i,ap|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function QE(e){var t=hc(),s=t.queue;if(s===null)throw Error(At(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);sd(i,t.memoizedState)||(zo=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function Pq(){}function Tq(e,t){var s=rn,a=hc(),n=t(),i=!sd(a.memoizedState,n);if(i&&(a.memoizedState=n,zo=!0),a=a.queue,WO(Oq.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||hi!==null&&hi.memoizedState.tag&1){if(s.flags|=2048,Ab(9,Dq.bind(null,s,a,n,t),void 0,null),yi===null)throw Error(At(349));sp&30||_q(s,t,n)}return n}function _q(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Dq(e,t,s,a){t.value=s,t.getSnapshot=a,Iq(t)&&Rq(e)}function Oq(e,t,s){return s(function(){Iq(t)&&Rq(e)})}function Iq(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!sd(e,s)}catch{return!0}}function Rq(e){var t=Vu(e,1);t!==null&&Zc(t,e,1,-1)}function OL(e){var t=Nd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:e},t.queue=e,e=e.dispatch=nme.bind(null,rn,e),[t.memoizedState,e]}function Ab(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=rn.updateQueue,t===null?(t={lastEffect:null,stores:null},rn.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Mq(){return hc().memoizedState}function BN(e,t,s,a){var n=Nd();rn.flags|=e,n.memoizedState=Ab(1|t,s,void 0,a===void 0?null:a)}function Jk(e,t,s,a){var n=hc();a=a===void 0?null:a;var i=void 0;if(Zn!==null){var o=Zn.memoizedState;if(i=o.destroy,a!==null&&UO(a,o.deps)){n.memoizedState=Ab(t,s,i,a);return}}rn.flags|=e,n.memoizedState=Ab(1|t,s,i,a)}function IL(e,t){return BN(8390656,8,e,t)}function WO(e,t){return Jk(2048,8,e,t)}function Fq(e,t){return Jk(4,2,e,t)}function Lq(e,t){return Jk(4,4,e,t)}function $q(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bq(e,t,s){return s=s!=null?s.concat([e]):null,Jk(4,4,$q.bind(null,t,e),s)}function HO(){}function Uq(e,t){var s=hc();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&UO(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Vq(e,t){var s=hc();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&UO(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function zq(e,t,s){return sp&21?(sd(s,t)||(s=KH(),rn.lanes|=s,ap|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zo=!0),e.memoizedState=s)}function sme(e,t){var s=ha;ha=s!==0&&4>s?s:4,e(!0);var a=YE.transition;YE.transition={};try{e(!1),t()}finally{ha=s,YE.transition=a}}function Wq(){return hc().memoizedState}function ame(e,t,s){var a=nm(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hq(e))qq(t,s);else if(s=Cq(e,t,s,a),s!==null){var n=No();Zc(s,e,a,n),Gq(s,t,a)}}function nme(e,t,s){var a=nm(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hq(e))qq(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(n.hasEagerState=!0,n.eagerState=l,sd(l,o)){var c=t.interleaved;c===null?(n.next=n,MO(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=Cq(e,t,n,a),s!==null&&(n=No(),Zc(s,e,a,n),Gq(s,t,a))}}function Hq(e){var t=e.alternate;return e===rn||t!==null&&t===rn}function qq(e,t){Ty=_2=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Gq(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jO(e,s)}}var D2={readContext:uc,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},ime={readContext:uc,useCallback:function(e,t){return Nd().memoizedState=[e,t===void 0?null:t],e},useContext:uc,useEffect:IL,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,BN(4194308,4,$q.bind(null,t,e),s)},useLayoutEffect:function(e,t){return BN(4194308,4,e,t)},useInsertionEffect:function(e,t){return BN(4,2,e,t)},useMemo:function(e,t){var s=Nd();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Nd();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ame.bind(null,rn,e),[a.memoizedState,e]},useRef:function(e){var t=Nd();return e={current:e},t.memoizedState=e},useState:OL,useDebugValue:HO,useDeferredValue:function(e){return Nd().memoizedState=e},useTransition:function(){var e=OL(!1),t=e[0];return e=sme.bind(null,e[1]),Nd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=rn,n=Nd();if(qa){if(s===void 0)throw Error(At(407));s=s()}else{if(s=t(),yi===null)throw Error(At(349));sp&30||_q(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,IL(Oq.bind(null,a,i,e),[e]),a.flags|=2048,Ab(9,Dq.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=Nd(),t=yi.identifierPrefix;if(qa){var s=Cu,a=ku;s=(a&~(1<<32-Jc(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=kb++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=rme++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ome={readContext:uc,useCallback:Uq,useContext:uc,useEffect:WO,useImperativeHandle:Bq,useInsertionEffect:Fq,useLayoutEffect:Lq,useMemo:Vq,useReducer:XE,useRef:Mq,useState:function(){return XE(Cb)},useDebugValue:HO,useDeferredValue:function(e){var t=hc();return zq(t,Zn.memoizedState,e)},useTransition:function(){var e=XE(Cb)[0],t=hc().memoizedState;return[e,t]},useMutableSource:Pq,useSyncExternalStore:Tq,useId:Wq,unstable_isNewReconciler:!1},lme={readContext:uc,useCallback:Uq,useContext:uc,useEffect:WO,useImperativeHandle:Bq,useInsertionEffect:Fq,useLayoutEffect:Lq,useMemo:Vq,useReducer:QE,useRef:Mq,useState:function(){return QE(Cb)},useDebugValue:HO,useDeferredValue:function(e){var t=hc();return Zn===null?t.memoizedState=e:zq(t,Zn.memoizedState,e)},useTransition:function(){var e=QE(Cb)[0],t=hc().memoizedState;return[e,t]},useMutableSource:Pq,useSyncExternalStore:Tq,useId:Wq,unstable_isNewReconciler:!1};function Fc(e,t){if(e&&e.defaultProps){t=sn({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function TT(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:sn({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Zk={isMounted:function(e){return(e=e._reactInternals)?Dp(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=No(),n=nm(e),i=_u(a,n);i.payload=t,s!=null&&(i.callback=s),t=sm(e,i,n),t!==null&&(Zc(t,e,n,a),LN(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=No(),n=nm(e),i=_u(a,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=sm(e,i,n),t!==null&&(Zc(t,e,n,a),LN(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=No(),a=nm(e),n=_u(s,a);n.tag=2,t!=null&&(n.callback=t),t=sm(e,n,a),t!==null&&(Zc(t,e,a,s),LN(t,e,a))}};function RL(e,t,s,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!yb(s,a)||!yb(n,i):!0}function Kq(e,t,s){var a=!1,n=vm,i=t.contextType;return typeof i=="object"&&i!==null?i=uc(i):(n=Ko(t)?tp:so.current,a=t.contextTypes,i=(a=a!=null)?Mg(e,n):vm),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zk,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function ML(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Zk.enqueueReplaceState(t,t.state,null)}function _T(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},FO(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=uc(i):(i=Ko(t)?tp:so.current,n.context=Mg(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(TT(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Zk.enqueueReplaceState(n,n.state,null),P2(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Bg(e,t){try{var s="",a=t;do s+=Mue(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function JE(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function DT(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var cme=typeof WeakMap=="function"?WeakMap:Map;function Yq(e,t,s){s=_u(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){I2||(I2=!0,VT=a),DT(e,t)},s}function Xq(e,t,s){s=_u(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){DT(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){DT(e,t),typeof a!="function"&&(am===null?am=new Set([this]):am.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function FL(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new cme;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=Nme.bind(null,e,t,s),t.then(e,e))}function LL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $L(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=_u(-1,1),t.tag=2,sm(s,t,1))),s.lanes|=1),e)}var dme=rh.ReactCurrentOwner,zo=!1;function mo(e,t,s,a){t.child=e===null?kq(t,null,s,a):Lg(t,e.child,s,a)}function BL(e,t,s,a,n){s=s.render;var i=t.ref;return ig(t,n),a=VO(e,t,s,a,i,n),s=zO(),e!==null&&!zo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,zu(e,t,n)):(qa&&s&&TO(t),t.flags|=1,mo(e,t,a,n),t.child)}function UL(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!ZO(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Qq(e,t,i,a,n)):(e=WN(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:yb,s(o,a)&&e.ref===t.ref)return zu(e,t,n)}return t.flags|=1,e=im(i,a),e.ref=t.ref,e.return=t,t.child=e}function Qq(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(yb(i,a)&&e.ref===t.ref)if(zo=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(zo=!0);else return t.lanes=e.lanes,zu(e,t,n)}return OT(e,t,s,a,n)}function Jq(e,t,s){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Fx,dl),dl|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ta(Fx,dl),dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,Ta(Fx,dl),dl|=a}else i!==null?(a=i.baseLanes|s,t.memoizedState=null):a=s,Ta(Fx,dl),dl|=a;return mo(e,t,n,s),t.child}function Zq(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function OT(e,t,s,a,n){var i=Ko(s)?tp:so.current;return i=Mg(t,i),ig(t,n),s=VO(e,t,s,a,i,n),a=zO(),e!==null&&!zo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,zu(e,t,n)):(qa&&a&&TO(t),t.flags|=1,mo(e,t,s,n),t.child)}function VL(e,t,s,a,n){if(Ko(s)){var i=!0;S2(t)}else i=!1;if(ig(t,n),t.stateNode===null)UN(e,t),Kq(t,s,a),_T(t,s,a,n),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=uc(d):(d=Ko(s)?tp:so.current,d=Mg(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&ML(t,o,a,d),Ph=!1;var m=t.memoizedState;o.state=m,P2(t,a,o,n),c=t.memoizedState,l!==a||m!==c||Go.current||Ph?(typeof u=="function"&&(TT(t,s,u,a),c=t.memoizedState),(l=Ph||RL(t,s,l,a,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Aq(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Fc(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=uc(c):(c=Ko(s)?tp:so.current,c=Mg(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ML(t,o,a,c),Ph=!1,m=t.memoizedState,o.state=m,P2(t,a,o,n);var g=t.memoizedState;l!==h||m!==g||Go.current||Ph?(typeof p=="function"&&(TT(t,s,p,a),g=t.memoizedState),(d=Ph||RL(t,s,d,a,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return IT(e,t,s,a,i,n)}function IT(e,t,s,a,n,i){Zq(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&AL(t,s,!1),zu(e,t,i);a=t.stateNode,dme.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Lg(t,e.child,null,i),t.child=Lg(t,null,l,i)):mo(e,t,l,i),t.memoizedState=a.state,n&&AL(t,s,!0),t.child}function eG(e){var t=e.stateNode;t.pendingContext?CL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CL(e,t.context,!1),LO(e,t.containerInfo)}function zL(e,t,s,a,n){return Fg(),DO(n),t.flags|=256,mo(e,t,s,a),t.child}var RT={dehydrated:null,treeContext:null,retryLane:0};function MT(e){return{baseLanes:e,cachePool:null,transitions:null}}function tG(e,t,s){var a=t.pendingProps,n=Xa.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ta(Xa,n&1),e===null)return ET(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rC(o,a,0,null),e=zf(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=MT(s),t.memoizedState=RT,e):qO(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return ume(e,t,o,a,l,n,s);if(i){i=a.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=im(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=im(l,i):(i=zf(i,o,s,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?MT(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=RT,a}return i=e.child,e=i.sibling,a=im(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function qO(e,t){return t=rC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function k1(e,t,s,a){return a!==null&&DO(a),Lg(t,e.child,null,s),e=qO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ume(e,t,s,a,n,i,o){if(s)return t.flags&256?(t.flags&=-257,a=JE(Error(At(422))),k1(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=rC({mode:"visible",children:a.children},n,0,null),i=zf(i,n,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Lg(t,e.child,null,o),t.child.memoizedState=MT(o),t.memoizedState=RT,i);if(!(t.mode&1))return k1(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(At(419)),a=JE(i,a,void 0),k1(e,t,o,a)}if(l=(o&e.childLanes)!==0,zo||l){if(a=yi,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Vu(e,n),Zc(a,e,n,-1))}return JO(),a=JE(Error(At(421))),k1(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Sme.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,wl=rm(n.nextSibling),Nl=t,qa=!0,Wc=null,e!==null&&(Xl[Ql++]=ku,Xl[Ql++]=Cu,Xl[Ql++]=rp,ku=e.id,Cu=e.overflow,rp=t),t=qO(t,a.children),t.flags|=4096,t)}function WL(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),PT(e.return,t,s)}function ZE(e,t,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function rG(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(mo(e,t,a.children,s),a=Xa.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WL(e,s,t);else if(e.tag===19)WL(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ta(Xa,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&T2(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),ZE(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&T2(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}ZE(t,!0,s,null,i);break;case"together":ZE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function UN(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zu(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ap|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(At(153));if(t.child!==null){for(e=t.child,s=im(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=im(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function hme(e,t,s){switch(t.tag){case 3:eG(t),Fg();break;case 5:Eq(t);break;case 1:Ko(t.type)&&S2(t);break;case 4:LO(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Ta(A2,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ta(Xa,Xa.current&1),t.flags|=128,null):s&t.child.childLanes?tG(e,t,s):(Ta(Xa,Xa.current&1),e=zu(e,t,s),e!==null?e.sibling:null);Ta(Xa,Xa.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return rG(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ta(Xa,Xa.current),a)break;return null;case 22:case 23:return t.lanes=0,Jq(e,t,s)}return zu(e,t,s)}var sG,FT,aG,nG;sG=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};FT=function(){};aG=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Sf(Ud.current);var i=null;switch(s){case"input":n=nT(e,n),a=nT(e,a),i=[];break;case"select":n=sn({},n,{value:void 0}),a=sn({},a,{value:void 0}),i=[];break;case"textarea":n=lT(e,n),a=lT(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=j2)}dT(s,a);var o;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hb.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hb.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ia("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};nG=function(e,t,s,a){s!==a&&(t.flags|=4)};function Dv(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function mme(e,t,s){var a=t.pendingProps;switch(_O(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:return Ko(t.type)&&N2(),zi(t),null;case 3:return a=t.stateNode,$g(),$a(Go),$a(so),BO(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(N1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wc!==null&&(HT(Wc),Wc=null))),FT(e,t),zi(t),null;case 5:$O(t);var n=Sf(Sb.current);if(s=t.type,e!==null&&t.stateNode!=null)aG(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(At(166));return zi(t),null}if(e=Sf(Ud.current),N1(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[Td]=t,a[jb]=i,e=(t.mode&1)!==0,s){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(n=0;n<hy.length;n++)Ia(hy[n],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":ZF(a,i),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ia("invalid",a);break;case"textarea":tL(a,i),Ia("invalid",a)}dT(s,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&j1(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&j1(a.textContent,l,e),n=["children",""+l]):hb.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ia("scroll",a)}switch(s){case"input":f1(a),eL(a,i,!0);break;case"textarea":f1(a),rL(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=j2)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OH(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),s==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[Td]=t,e[jb]=a,sG(e,t,!1,!1),t.stateNode=e;e:{switch(o=uT(s,a),s){case"dialog":Ia("cancel",e),Ia("close",e),n=a;break;case"iframe":case"object":case"embed":Ia("load",e),n=a;break;case"video":case"audio":for(n=0;n<hy.length;n++)Ia(hy[n],e);n=a;break;case"source":Ia("error",e),n=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),n=a;break;case"details":Ia("toggle",e),n=a;break;case"input":ZF(e,a),n=nT(e,a),Ia("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=sn({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":tL(e,a),n=lT(e,a),Ia("invalid",e);break;default:n=a}dT(s,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?MH(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IH(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&mb(e,c):typeof c=="number"&&mb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ia("scroll",e):c!=null&&xO(e,i,c,o))}switch(s){case"input":f1(e),eL(e,a,!1);break;case"textarea":f1(e),rL(e);break;case"option":a.value!=null&&e.setAttribute("value",""+gm(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?rg(e,!!a.multiple,i,!1):a.defaultValue!=null&&rg(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=j2)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&t.stateNode!=null)nG(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(At(166));if(s=Sf(Sb.current),Sf(Ud.current),N1(t)){if(a=t.stateNode,s=t.memoizedProps,a[Td]=t,(i=a.nodeValue!==s)&&(e=Nl,e!==null))switch(e.tag){case 3:j1(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&j1(a.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Td]=t,t.stateNode=a}return zi(t),null;case 13:if($a(Xa),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qa&&wl!==null&&t.mode&1&&!(t.flags&128))Nq(),Fg(),t.flags|=98560,i=!1;else if(i=N1(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(At(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(At(317));i[Td]=t}else Fg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zi(t),i=!1}else Wc!==null&&(HT(Wc),Wc=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Xa.current&1?si===0&&(si=3):JO())),t.updateQueue!==null&&(t.flags|=4),zi(t),null);case 4:return $g(),FT(e,t),e===null&&bb(t.stateNode.containerInfo),zi(t),null;case 10:return RO(t.type._context),zi(t),null;case 17:return Ko(t.type)&&N2(),zi(t),null;case 19:if($a(Xa),i=t.memoizedState,i===null)return zi(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Dv(i,!1);else{if(si!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=T2(e),o!==null){for(t.flags|=128,Dv(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)i=s,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ta(Xa,Xa.current&1|2),t.child}e=e.sibling}i.tail!==null&&Sn()>Ug&&(t.flags|=128,a=!0,Dv(i,!1),t.lanes=4194304)}else{if(!a)if(e=T2(o),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Dv(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qa)return zi(t),null}else 2*Sn()-i.renderingStartTime>Ug&&s!==1073741824&&(t.flags|=128,a=!0,Dv(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Sn(),t.sibling=null,s=Xa.current,Ta(Xa,a?s&1|2:s&1),t):(zi(t),null);case 22:case 23:return QO(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?dl&1073741824&&(zi(t),t.subtreeFlags&6&&(t.flags|=8192)):zi(t),null;case 24:return null;case 25:return null}throw Error(At(156,t.tag))}function fme(e,t){switch(_O(t),t.tag){case 1:return Ko(t.type)&&N2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $g(),$a(Go),$a(so),BO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $O(t),null;case 13:if($a(Xa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(At(340));Fg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $a(Xa),null;case 4:return $g(),null;case 10:return RO(t.type._context),null;case 22:case 23:return QO(),null;case 24:return null;default:return null}}var C1=!1,Xi=!1,pme=typeof WeakSet=="function"?WeakSet:Set,nr=null;function Mx(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){mn(e,t,a)}else s.current=null}function LT(e,t,s){try{s()}catch(a){mn(e,t,a)}}var HL=!1;function xme(e,t){if(wT=y2,e=dq(),PO(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||n!==0&&h.nodeType!==3||(l=o+n),h!==i||a!==0&&h.nodeType!==3||(c=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===n&&(l=o),m===i&&++u===a&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(jT={focusedElem:e,selectionRange:s},y2=!1,nr=t;nr!==null;)if(t=nr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nr=e;else for(;nr!==null;){t=nr;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:Fc(t.type,x),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(S){mn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,nr=e;break}nr=t.return}return g=HL,HL=!1,g}function _y(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&LT(t,s,i)}n=n.next}while(n!==a)}}function eC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function $T(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function iG(e){var t=e.alternate;t!==null&&(e.alternate=null,iG(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Td],delete t[jb],delete t[kT],delete t[Jhe],delete t[Zhe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oG(e){return e.tag===5||e.tag===3||e.tag===4}function qL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oG(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function BT(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=j2));else if(a!==4&&(e=e.child,e!==null))for(BT(e,t,s),e=e.sibling;e!==null;)BT(e,t,s),e=e.sibling}function UT(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(UT(e,t,s),e=e.sibling;e!==null;)UT(e,t,s),e=e.sibling}var Ai=null,Uc=!1;function gh(e,t,s){for(s=s.child;s!==null;)lG(e,t,s),s=s.sibling}function lG(e,t,s){if(Bd&&typeof Bd.onCommitFiberUnmount=="function")try{Bd.onCommitFiberUnmount(qk,s)}catch{}switch(s.tag){case 5:Xi||Mx(s,t);case 6:var a=Ai,n=Uc;Ai=null,gh(e,t,s),Ai=a,Uc=n,Ai!==null&&(Uc?(e=Ai,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ai.removeChild(s.stateNode));break;case 18:Ai!==null&&(Uc?(e=Ai,s=s.stateNode,e.nodeType===8?qE(e.parentNode,s):e.nodeType===1&&qE(e,s),gb(e)):qE(Ai,s.stateNode));break;case 4:a=Ai,n=Uc,Ai=s.stateNode.containerInfo,Uc=!0,gh(e,t,s),Ai=a,Uc=n;break;case 0:case 11:case 14:case 15:if(!Xi&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&LT(s,t,o),n=n.next}while(n!==a)}gh(e,t,s);break;case 1:if(!Xi&&(Mx(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){mn(s,t,l)}gh(e,t,s);break;case 21:gh(e,t,s);break;case 22:s.mode&1?(Xi=(a=Xi)||s.memoizedState!==null,gh(e,t,s),Xi=a):gh(e,t,s);break;default:gh(e,t,s)}}function GL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new pme),t.forEach(function(a){var n=kme.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function Tc(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ai=l.stateNode,Uc=!1;break e;case 3:Ai=l.stateNode.containerInfo,Uc=!0;break e;case 4:Ai=l.stateNode.containerInfo,Uc=!0;break e}l=l.return}if(Ai===null)throw Error(At(160));lG(i,o,n),Ai=null,Uc=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){mn(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cG(t,e),t=t.sibling}function cG(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tc(t,e),xd(e),a&4){try{_y(3,e,e.return),eC(3,e)}catch(x){mn(e,e.return,x)}try{_y(5,e,e.return)}catch(x){mn(e,e.return,x)}}break;case 1:Tc(t,e),xd(e),a&512&&s!==null&&Mx(s,s.return);break;case 5:if(Tc(t,e),xd(e),a&512&&s!==null&&Mx(s,s.return),e.flags&32){var n=e.stateNode;try{mb(n,"")}catch(x){mn(e,e.return,x)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_H(n,i),uT(l,o);var d=uT(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?MH(n,h):u==="dangerouslySetInnerHTML"?IH(n,h):u==="children"?mb(n,h):xO(n,u,h,d)}switch(l){case"input":iT(n,i);break;case"textarea":DH(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?rg(n,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?rg(n,!!i.multiple,i.defaultValue,!0):rg(n,!!i.multiple,i.multiple?[]:"",!1))}n[jb]=i}catch(x){mn(e,e.return,x)}}break;case 6:if(Tc(t,e),xd(e),a&4){if(e.stateNode===null)throw Error(At(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){mn(e,e.return,x)}}break;case 3:if(Tc(t,e),xd(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{gb(t.containerInfo)}catch(x){mn(e,e.return,x)}break;case 4:Tc(t,e),xd(e);break;case 13:Tc(t,e),xd(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(YO=Sn())),a&4&&GL(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Xi=(d=Xi)||u,Tc(t,e),Xi=d):Tc(t,e),xd(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(nr=e,u=e.child;u!==null;){for(h=nr=u;nr!==null;){switch(m=nr,p=m.child,m.tag){case 0:case 11:case 14:case 15:_y(4,m,m.return);break;case 1:Mx(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){a=m,s=m.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){mn(a,s,x)}}break;case 5:Mx(m,m.return);break;case 22:if(m.memoizedState!==null){YL(h);continue}}p!==null?(p.return=m,nr=p):YL(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RH("display",o))}catch(x){mn(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){mn(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tc(t,e),xd(e),a&4&&GL(e);break;case 21:break;default:Tc(t,e),xd(e)}}function xd(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(oG(s)){var a=s;break e}s=s.return}throw Error(At(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(mb(n,""),a.flags&=-33);var i=qL(e);UT(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=qL(e);BT(e,l,o);break;default:throw Error(At(161))}}catch(c){mn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gme(e,t,s){nr=e,dG(e)}function dG(e,t,s){for(var a=(e.mode&1)!==0;nr!==null;){var n=nr,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||C1;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Xi;l=C1;var d=Xi;if(C1=o,(Xi=c)&&!d)for(nr=n;nr!==null;)o=nr,c=o.child,o.tag===22&&o.memoizedState!==null?XL(n):c!==null?(c.return=o,nr=c):XL(n);for(;i!==null;)nr=i,dG(i),i=i.sibling;nr=n,C1=l,Xi=d}KL(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,nr=i):KL(e)}}function KL(e){for(;nr!==null;){var t=nr;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xi||eC(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Xi)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:Fc(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&DL(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}DL(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&gb(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(At(163))}Xi||t.flags&512&&$T(t)}catch(m){mn(t,t.return,m)}}if(t===e){nr=null;break}if(s=t.sibling,s!==null){s.return=t.return,nr=s;break}nr=t.return}}function YL(e){for(;nr!==null;){var t=nr;if(t===e){nr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,nr=s;break}nr=t.return}}function XL(e){for(;nr!==null;){var t=nr;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{eC(4,t)}catch(c){mn(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){mn(t,n,c)}}var i=t.return;try{$T(t)}catch(c){mn(t,i,c)}break;case 5:var o=t.return;try{$T(t)}catch(c){mn(t,o,c)}}}catch(c){mn(t,t.return,c)}if(t===e){nr=null;break}var l=t.sibling;if(l!==null){l.return=t.return,nr=l;break}nr=t.return}}var vme=Math.ceil,O2=rh.ReactCurrentDispatcher,GO=rh.ReactCurrentOwner,ic=rh.ReactCurrentBatchConfig,Us=0,yi=null,Un=null,Ti=0,dl=0,Fx=Rm(0),si=0,Eb=null,ap=0,tC=0,KO=0,Dy=null,Bo=null,YO=0,Ug=1/0,bu=null,I2=!1,VT=null,am=null,A1=!1,zh=null,R2=0,Oy=0,zT=null,VN=-1,zN=0;function No(){return Us&6?Sn():VN!==-1?VN:VN=Sn()}function nm(e){return e.mode&1?Us&2&&Ti!==0?Ti&-Ti:tme.transition!==null?(zN===0&&(zN=KH()),zN):(e=ha,e!==0||(e=window.event,e=e===void 0?16:tq(e.type)),e):1}function Zc(e,t,s,a){if(50<Oy)throw Oy=0,zT=null,Error(At(185));tj(e,s,a),(!(Us&2)||e!==yi)&&(e===yi&&(!(Us&2)&&(tC|=s),si===4&&Ih(e,Ti)),Yo(e,a),s===1&&Us===0&&!(t.mode&1)&&(Ug=Sn()+500,Qk&&Mm()))}function Yo(e,t){var s=e.callbackNode;the(e,t);var a=v2(e,e===yi?Ti:0);if(a===0)s!==null&&nL(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&nL(s),t===1)e.tag===0?eme(QL.bind(null,e)):bq(QL.bind(null,e)),Xhe(function(){!(Us&6)&&Mm()}),s=null;else{switch(YH(a)){case 1:s=wO;break;case 4:s=qH;break;case 16:s=g2;break;case 536870912:s=GH;break;default:s=g2}s=vG(s,uG.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function uG(e,t){if(VN=-1,zN=0,Us&6)throw Error(At(327));var s=e.callbackNode;if(og()&&e.callbackNode!==s)return null;var a=v2(e,e===yi?Ti:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=M2(e,a);else{t=a;var n=Us;Us|=2;var i=mG();(yi!==e||Ti!==t)&&(bu=null,Ug=Sn()+500,Vf(e,t));do try{wme();break}catch(l){hG(e,l)}while(!0);IO(),O2.current=i,Us=n,Un!==null?t=0:(yi=null,Ti=0,t=si)}if(t!==0){if(t===2&&(n=xT(e),n!==0&&(a=n,t=WT(e,n))),t===1)throw s=Eb,Vf(e,0),Ih(e,a),Yo(e,Sn()),s;if(t===6)Ih(e,a);else{if(n=e.current.alternate,!(a&30)&&!yme(n)&&(t=M2(e,a),t===2&&(i=xT(e),i!==0&&(a=i,t=WT(e,i))),t===1))throw s=Eb,Vf(e,0),Ih(e,a),Yo(e,Sn()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(At(345));case 2:uf(e,Bo,bu);break;case 3:if(Ih(e,a),(a&130023424)===a&&(t=YO+500-Sn(),10<t)){if(v2(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){No(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=ST(uf.bind(null,e,Bo,bu),t);break}uf(e,Bo,bu);break;case 4:if(Ih(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-Jc(a);i=1<<o,o=t[o],o>n&&(n=o),a&=~i}if(a=n,a=Sn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*vme(a/1960))-a,10<a){e.timeoutHandle=ST(uf.bind(null,e,Bo,bu),a);break}uf(e,Bo,bu);break;case 5:uf(e,Bo,bu);break;default:throw Error(At(329))}}}return Yo(e,Sn()),e.callbackNode===s?uG.bind(null,e):null}function WT(e,t){var s=Dy;return e.current.memoizedState.isDehydrated&&(Vf(e,t).flags|=256),e=M2(e,t),e!==2&&(t=Bo,Bo=s,t!==null&&HT(t)),e}function HT(e){Bo===null?Bo=e:Bo.push.apply(Bo,e)}function yme(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!sd(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ih(e,t){for(t&=~KO,t&=~tC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Jc(t),a=1<<s;e[s]=-1,t&=~a}}function QL(e){if(Us&6)throw Error(At(327));og();var t=v2(e,0);if(!(t&1))return Yo(e,Sn()),null;var s=M2(e,t);if(e.tag!==0&&s===2){var a=xT(e);a!==0&&(t=a,s=WT(e,a))}if(s===1)throw s=Eb,Vf(e,0),Ih(e,t),Yo(e,Sn()),s;if(s===6)throw Error(At(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uf(e,Bo,bu),Yo(e,Sn()),null}function XO(e,t){var s=Us;Us|=1;try{return e(t)}finally{Us=s,Us===0&&(Ug=Sn()+500,Qk&&Mm())}}function np(e){zh!==null&&zh.tag===0&&!(Us&6)&&og();var t=Us;Us|=1;var s=ic.transition,a=ha;try{if(ic.transition=null,ha=1,e)return e()}finally{ha=a,ic.transition=s,Us=t,!(Us&6)&&Mm()}}function QO(){dl=Fx.current,$a(Fx)}function Vf(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Yhe(s)),Un!==null)for(s=Un.return;s!==null;){var a=s;switch(_O(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&N2();break;case 3:$g(),$a(Go),$a(so),BO();break;case 5:$O(a);break;case 4:$g();break;case 13:$a(Xa);break;case 19:$a(Xa);break;case 10:RO(a.type._context);break;case 22:case 23:QO()}s=s.return}if(yi=e,Un=e=im(e.current,null),Ti=dl=t,si=0,Eb=null,KO=tC=ap=0,Bo=Dy=null,Nf!==null){for(t=0;t<Nf.length;t++)if(s=Nf[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}s.pending=a}Nf=null}return e}function hG(e,t){do{var s=Un;try{if(IO(),$N.current=D2,_2){for(var a=rn.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}_2=!1}if(sp=0,hi=Zn=rn=null,Ty=!1,kb=0,GO.current=null,s===null||s.return===null){si=1,Eb=t,Un=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Ti,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=LL(o);if(p!==null){p.flags&=-257,$L(p,o,l,i,t),p.mode&1&&FL(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){FL(i,d,t),JO();break e}c=Error(At(426))}}else if(qa&&l.mode&1){var y=LL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$L(y,o,l,i,t),DO(Bg(c,l));break e}}i=c=Bg(c,l),si!==4&&(si=2),Dy===null?Dy=[i]:Dy.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Yq(i,c,t);_L(i,b);break e;case 1:l=c;var w=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(am===null||!am.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Xq(i,l,t);_L(i,S);break e}}i=i.return}while(i!==null)}pG(s)}catch(j){t=j,Un===s&&s!==null&&(Un=s=s.return);continue}break}while(!0)}function mG(){var e=O2.current;return O2.current=D2,e===null?D2:e}function JO(){(si===0||si===3||si===2)&&(si=4),yi===null||!(ap&268435455)&&!(tC&268435455)||Ih(yi,Ti)}function M2(e,t){var s=Us;Us|=2;var a=mG();(yi!==e||Ti!==t)&&(bu=null,Vf(e,t));do try{bme();break}catch(n){hG(e,n)}while(!0);if(IO(),Us=s,O2.current=a,Un!==null)throw Error(At(261));return yi=null,Ti=0,si}function bme(){for(;Un!==null;)fG(Un)}function wme(){for(;Un!==null&&!que();)fG(Un)}function fG(e){var t=gG(e.alternate,e,dl);e.memoizedProps=e.pendingProps,t===null?pG(e):Un=t,GO.current=null}function pG(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=fme(s,t),s!==null){s.flags&=32767,Un=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{si=6,Un=null;return}}else if(s=mme(s,t,dl),s!==null){Un=s;return}if(t=t.sibling,t!==null){Un=t;return}Un=t=e}while(t!==null);si===0&&(si=5)}function uf(e,t,s){var a=ha,n=ic.transition;try{ic.transition=null,ha=1,jme(e,t,s,a)}finally{ic.transition=n,ha=a}return null}function jme(e,t,s,a){do og();while(zh!==null);if(Us&6)throw Error(At(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(At(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(rhe(e,i),e===yi&&(Un=yi=null,Ti=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||A1||(A1=!0,vG(g2,function(){return og(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=ic.transition,ic.transition=null;var o=ha;ha=1;var l=Us;Us|=4,GO.current=null,xme(e,s),cG(s,e),Vhe(jT),y2=!!wT,jT=wT=null,e.current=s,gme(s),Gue(),Us=l,ha=o,ic.transition=i}else e.current=s;if(A1&&(A1=!1,zh=e,R2=n),i=e.pendingLanes,i===0&&(am=null),Xue(s.stateNode),Yo(e,Sn()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(I2)throw I2=!1,e=VT,VT=null,e;return R2&1&&e.tag!==0&&og(),i=e.pendingLanes,i&1?e===zT?Oy++:(Oy=0,zT=e):Oy=0,Mm(),null}function og(){if(zh!==null){var e=YH(R2),t=ic.transition,s=ha;try{if(ic.transition=null,ha=16>e?16:e,zh===null)var a=!1;else{if(e=zh,zh=null,R2=0,Us&6)throw Error(At(331));var n=Us;for(Us|=4,nr=e.current;nr!==null;){var i=nr,o=i.child;if(nr.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(nr=d;nr!==null;){var u=nr;switch(u.tag){case 0:case 11:case 15:_y(8,u,i)}var h=u.child;if(h!==null)h.return=u,nr=h;else for(;nr!==null;){u=nr;var m=u.sibling,p=u.return;if(iG(u),u===d){nr=null;break}if(m!==null){m.return=p,nr=m;break}nr=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}nr=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,nr=o;else e:for(;nr!==null;){if(i=nr,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_y(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,nr=b;break e}nr=i.return}}var w=e.current;for(nr=w;nr!==null;){o=nr;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,nr=v;else e:for(o=w;nr!==null;){if(l=nr,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eC(9,l)}}catch(j){mn(l,l.return,j)}if(l===o){nr=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,nr=S;break e}nr=l.return}}if(Us=n,Mm(),Bd&&typeof Bd.onPostCommitFiberRoot=="function")try{Bd.onPostCommitFiberRoot(qk,e)}catch{}a=!0}return a}finally{ha=s,ic.transition=t}}return!1}function JL(e,t,s){t=Bg(s,t),t=Yq(e,t,1),e=sm(e,t,1),t=No(),e!==null&&(tj(e,1,t),Yo(e,t))}function mn(e,t,s){if(e.tag===3)JL(e,e,s);else for(;t!==null;){if(t.tag===3){JL(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(am===null||!am.has(a))){e=Bg(s,e),e=Xq(t,e,1),t=sm(t,e,1),e=No(),t!==null&&(tj(t,1,e),Yo(t,e));break}}t=t.return}}function Nme(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=No(),e.pingedLanes|=e.suspendedLanes&s,yi===e&&(Ti&s)===s&&(si===4||si===3&&(Ti&130023424)===Ti&&500>Sn()-YO?Vf(e,0):KO|=s),Yo(e,t)}function xG(e,t){t===0&&(e.mode&1?(t=g1,g1<<=1,!(g1&130023424)&&(g1=4194304)):t=1);var s=No();e=Vu(e,t),e!==null&&(tj(e,t,s),Yo(e,s))}function Sme(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xG(e,s)}function kme(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(At(314))}a!==null&&a.delete(t),xG(e,s)}var gG;gG=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Go.current)zo=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return zo=!1,hme(e,t,s);zo=!!(e.flags&131072)}else zo=!1,qa&&t.flags&1048576&&wq(t,C2,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;UN(e,t),e=t.pendingProps;var n=Mg(t,so.current);ig(t,s),n=VO(null,t,a,e,n,s);var i=zO();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ko(a)?(i=!0,S2(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,FO(t),n.updater=Zk,t.stateNode=n,n._reactInternals=t,_T(t,a,e,s),t=IT(null,t,a,!0,i,s)):(t.tag=0,qa&&i&&TO(t),mo(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(UN(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Ame(a),e=Fc(a,e),n){case 0:t=OT(null,t,a,e,s);break e;case 1:t=VL(null,t,a,e,s);break e;case 11:t=BL(null,t,a,e,s);break e;case 14:t=UL(null,t,a,Fc(a.type,e),s);break e}throw Error(At(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Fc(a,n),OT(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Fc(a,n),VL(e,t,a,n,s);case 3:e:{if(eG(t),e===null)throw Error(At(387));a=t.pendingProps,i=t.memoizedState,n=i.element,Aq(e,t),P2(t,a,null,s);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=Bg(Error(At(423)),t),t=zL(e,t,a,s,n);break e}else if(a!==n){n=Bg(Error(At(424)),t),t=zL(e,t,a,s,n);break e}else for(wl=rm(t.stateNode.containerInfo.firstChild),Nl=t,qa=!0,Wc=null,s=kq(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Fg(),a===n){t=zu(e,t,s);break e}mo(e,t,a,s)}t=t.child}return t;case 5:return Eq(t),e===null&&ET(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,NT(a,n)?o=null:i!==null&&NT(a,i)&&(t.flags|=32),Zq(e,t),mo(e,t,o,s),t.child;case 6:return e===null&&ET(t),null;case 13:return tG(e,t,s);case 4:return LO(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Lg(t,null,a,s):mo(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Fc(a,n),BL(e,t,a,n,s);case 7:return mo(e,t,t.pendingProps,s),t.child;case 8:return mo(e,t,t.pendingProps.children,s),t.child;case 12:return mo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Ta(A2,a._currentValue),a._currentValue=o,i!==null)if(sd(i.value,o)){if(i.children===n.children&&!Go.current){t=zu(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=_u(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),PT(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(At(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),PT(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mo(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,ig(t,s),n=uc(n),a=a(n),t.flags|=1,mo(e,t,a,s),t.child;case 14:return a=t.type,n=Fc(a,t.pendingProps),n=Fc(a.type,n),UL(e,t,a,n,s);case 15:return Qq(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Fc(a,n),UN(e,t),t.tag=1,Ko(a)?(e=!0,S2(t)):e=!1,ig(t,s),Kq(t,a,n),_T(t,a,n,s),IT(null,t,a,!0,e,s);case 19:return rG(e,t,s);case 22:return Jq(e,t,s)}throw Error(At(156,t.tag))};function vG(e,t){return HH(e,t)}function Cme(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tc(e,t,s,a){return new Cme(e,t,s,a)}function ZO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ame(e){if(typeof e=="function")return ZO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vO)return 11;if(e===yO)return 14}return 2}function im(e,t){var s=e.alternate;return s===null?(s=tc(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function WN(e,t,s,a,n,i){var o=2;if(a=e,typeof e=="function")ZO(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ax:return zf(s.children,n,i,t);case gO:o=8,n|=8;break;case tT:return e=tc(12,s,t,n|2),e.elementType=tT,e.lanes=i,e;case rT:return e=tc(13,s,t,n),e.elementType=rT,e.lanes=i,e;case sT:return e=tc(19,s,t,n),e.elementType=sT,e.lanes=i,e;case EH:return rC(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CH:o=10;break e;case AH:o=9;break e;case vO:o=11;break e;case yO:o=14;break e;case Eh:o=16,a=null;break e}throw Error(At(130,e==null?e:typeof e,""))}return t=tc(o,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function zf(e,t,s,a){return e=tc(7,e,a,t),e.lanes=s,e}function rC(e,t,s,a){return e=tc(22,e,a,t),e.elementType=EH,e.lanes=s,e.stateNode={isHidden:!1},e}function eP(e,t,s){return e=tc(6,e,null,t),e.lanes=s,e}function tP(e,t,s){return t=tc(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eme(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RE(0),this.expirationTimes=RE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RE(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function eI(e,t,s,a,n,i,o,l,c){return e=new Eme(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},FO(i),e}function Pme(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cx,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function yG(e){if(!e)return vm;e=e._reactInternals;e:{if(Dp(e)!==e||e.tag!==1)throw Error(At(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(At(171))}if(e.tag===1){var s=e.type;if(Ko(s))return yq(e,s,t)}return t}function bG(e,t,s,a,n,i,o,l,c){return e=eI(s,a,!0,e,n,i,o,l,c),e.context=yG(null),s=e.current,a=No(),n=nm(s),i=_u(a,n),i.callback=t??null,sm(s,i,n),e.current.lanes=n,tj(e,n,a),Yo(e,a),e}function sC(e,t,s,a){var n=t.current,i=No(),o=nm(n);return s=yG(s),t.context===null?t.context=s:t.pendingContext=s,t=_u(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=sm(n,t,o),e!==null&&(Zc(e,n,o,i),LN(e,n,o)),o}function F2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function tI(e,t){ZL(e,t),(e=e.alternate)&&ZL(e,t)}function Tme(){return null}var wG=typeof reportError=="function"?reportError:function(e){console.error(e)};function rI(e){this._internalRoot=e}aC.prototype.render=rI.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(At(409));sC(e,t,null,null)};aC.prototype.unmount=rI.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(function(){sC(null,e,null,null)}),t[Uu]=null}};function aC(e){this._internalRoot=e}aC.prototype.unstable_scheduleHydration=function(e){if(e){var t=JH();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Oh.length&&t!==0&&t<Oh[s].priority;s++);Oh.splice(s,0,e),s===0&&eq(e)}};function sI(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e6(){}function _me(e,t,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=F2(o);i.call(d)}}var o=bG(t,a,e,0,null,!1,!1,"",e6);return e._reactRootContainer=o,e[Uu]=o.current,bb(e.nodeType===8?e.parentNode:e),np(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var d=F2(c);l.call(d)}}var c=eI(e,0,!1,null,null,!1,!1,"",e6);return e._reactRootContainer=c,e[Uu]=c.current,bb(e.nodeType===8?e.parentNode:e),np(function(){sC(t,c,s,a)}),c}function iC(e,t,s,a,n){var i=s._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=F2(o);l.call(c)}}sC(t,o,e,n)}else o=_me(s,t,e,n,a);return F2(o)}XH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=uy(t.pendingLanes);s!==0&&(jO(t,s|1),Yo(t,Sn()),!(Us&6)&&(Ug=Sn()+500,Mm()))}break;case 13:np(function(){var a=Vu(e,1);if(a!==null){var n=No();Zc(a,e,1,n)}}),tI(e,1)}};NO=function(e){if(e.tag===13){var t=Vu(e,134217728);if(t!==null){var s=No();Zc(t,e,134217728,s)}tI(e,134217728)}};QH=function(e){if(e.tag===13){var t=nm(e),s=Vu(e,t);if(s!==null){var a=No();Zc(s,e,t,a)}tI(e,t)}};JH=function(){return ha};ZH=function(e,t){var s=ha;try{return ha=e,t()}finally{ha=s}};mT=function(e,t,s){switch(t){case"input":if(iT(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=Xk(a);if(!n)throw Error(At(90));TH(a),iT(a,n)}}}break;case"textarea":DH(e,s);break;case"select":t=s.value,t!=null&&rg(e,!!s.multiple,t,!1)}};$H=XO;BH=np;var Dme={usingClientEntryPoint:!1,Events:[sj,_x,Xk,FH,LH,XO]},Ov={findFiberByHostInstance:jf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ome={bundleType:Ov.bundleType,version:Ov.version,rendererPackageName:Ov.rendererPackageName,rendererConfig:Ov.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zH(e),e===null?null:e.stateNode},findFiberByHostInstance:Ov.findFiberByHostInstance||Tme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E1.isDisabled&&E1.supportsFiber)try{qk=E1.inject(Ome),Bd=E1}catch{}}_l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dme;_l.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sI(t))throw Error(At(200));return Pme(e,t,null,s)};_l.createRoot=function(e,t){if(!sI(e))throw Error(At(299));var s=!1,a="",n=wG;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=eI(e,1,!1,null,null,s,!1,a,n),e[Uu]=t.current,bb(e.nodeType===8?e.parentNode:e),new rI(t)};_l.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(At(188)):(e=Object.keys(e).join(","),Error(At(268,e)));return e=zH(t),e=e===null?null:e.stateNode,e};_l.flushSync=function(e){return np(e)};_l.hydrate=function(e,t,s){if(!nC(t))throw Error(At(200));return iC(null,e,t,!0,s)};_l.hydrateRoot=function(e,t,s){if(!sI(e))throw Error(At(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",o=wG;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=bG(t,null,e,1,s??null,n,!1,i,o),e[Uu]=t.current,bb(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new aC(t)};_l.render=function(e,t,s){if(!nC(t))throw Error(At(200));return iC(null,e,t,!1,s)};_l.unmountComponentAtNode=function(e){if(!nC(e))throw Error(At(40));return e._reactRootContainer?(np(function(){iC(null,null,e,!1,function(){e._reactRootContainer=null,e[Uu]=null})}),!0):!1};_l.unstable_batchedUpdates=XO;_l.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!nC(s))throw Error(At(200));if(e==null||e._reactInternals===void 0)throw Error(At(38));return iC(e,t,s,!1,a)};_l.version="18.3.1-next-f1338f8080-20240426";function jG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jG)}catch(e){console.error(e)}}jG(),jH.exports=_l;var rc=jH.exports;const NG=na(rc);var SG,t6=rc;SG=t6.createRoot,t6.hydrateRoot;const Ime=1,Rme=1e6;let rP=0;function Mme(){return rP=(rP+1)%Number.MAX_SAFE_INTEGER,rP.toString()}const sP=new Map,r6=e=>{if(sP.has(e))return;const t=setTimeout(()=>{sP.delete(e),Iy({type:"REMOVE_TOAST",toastId:e})},Rme);sP.set(e,t)},Fme=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ime)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?r6(s):e.toasts.forEach(a=>{r6(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},HN=[];let qN={toasts:[]};function Iy(e){qN=Fme(qN,e),HN.forEach(t=>{t(qN)})}function yr({...e}){const t=Mme(),s=n=>Iy({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>Iy({type:"DISMISS_TOAST",toastId:t});return Iy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:s}}function Lt(){const[e,t]=f.useState(qN);return f.useEffect(()=>(HN.push(t),()=>{const s=HN.indexOf(t);s>-1&&HN.splice(s,1)}),[e]),{...e,toast:yr,dismiss:s=>Iy({type:"DISMISS_TOAST",toastId:s})}}function bt(e,t,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e==null||e(n),s===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function s6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oC(...e){return t=>{let s=!1;const a=e.map(n=>{const i=s6(n,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():s6(e[n],null)}}}}function Pr(...e){return f.useCallback(oC(...e),e)}function Lme(e,t){const s=f.createContext(t),a=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};a.displayName=e+"Provider";function n(i){const o=f.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function on(e,t=[]){let s=[];function a(i,o){const l=f.createContext(o),c=s.length;s=[...s,o];const d=h=>{var b;const{scope:m,children:p,...g}=h,x=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,y=f.useMemo(()=>g,Object.values(g));return r.jsx(x.Provider,{value:y,children:p})};d.displayName=i+"Provider";function u(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,g=f.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const n=()=>{const i=s.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[a,$me(n,...t)]}function $me(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function ym(e){const t=Bme(e),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(Ume);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}var kG=ym("Slot");function Bme(e){const t=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=zme(n),l=Vme(i,n.props);return n.type!==f.Fragment&&(l.ref=a?oC(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CG=Symbol("radix.slottable");function AG(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=CG,t}function Ume(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CG}function Vme(e,t){const s={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function zme(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function R0(e){const t=e+"CollectionProvider",[s,a]=on(t),[n,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:b}=x,w=ae.useRef(null),v=ae.useRef(new Map).current;return r.jsx(n,{scope:y,itemMap:v,collectionRef:w,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=ym(l),d=ae.forwardRef((x,y)=>{const{scope:b,children:w}=x,v=i(l,b),S=Pr(y,v.collectionRef);return r.jsx(c,{ref:S,children:w})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=ym(u),p=ae.forwardRef((x,y)=>{const{scope:b,children:w,...v}=x,S=ae.useRef(null),j=Pr(y,S),k=i(u,b);return ae.useEffect(()=>(k.itemMap.set(S,{ref:S,...v}),()=>void k.itemMap.delete(S))),r.jsx(m,{[h]:"",ref:j,children:w})});p.displayName=u;function g(x){const y=i(e+"CollectionConsumer",x);return ae.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,N)=>v.indexOf(k.ref.current)-v.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,a]}var Wme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=Wme.reduce((e,t)=>{const s=ym(`Primitive.${t}`),a=f.forwardRef((n,i)=>{const{asChild:o,...l}=n,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function aI(e,t){e&&rc.flushSync(()=>e.dispatchEvent(t))}function Qa(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var a;return(a=t.current)==null?void 0:a.call(t,...s)},[])}function Hme(e,t=globalThis==null?void 0:globalThis.document){const s=Qa(e);f.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var qme="DismissableLayer",qT="dismissableLayer.update",Gme="dismissableLayer.pointerDownOutside",Kme="dismissableLayer.focusOutside",a6,EG=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Op=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(EG),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),g=Pr(t,N=>h(N)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),w=u?x.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,j=Xme(N=>{const C=N.target,A=[...d.branches].some(E=>E.contains(C));!S||A||(n==null||n(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),k=Qme(N=>{const C=N.target;[...d.branches].some(E=>E.contains(C))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return Hme(N=>{w===d.layers.size-1&&(a==null||a(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(a6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),n6(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=a6)}},[u,m,s,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),n6())},[u,d]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(qT,N),()=>document.removeEventListener(qT,N)},[]),r.jsx(Bt.div,{...c,ref:g,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:bt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:bt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:bt(e.onPointerDownCapture,j.onPointerDownCapture)})});Op.displayName=qme;var Yme="DismissableLayerBranch",PG=f.forwardRef((e,t)=>{const s=f.useContext(EG),a=f.useRef(null),n=Pr(t,a);return f.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),r.jsx(Bt.div,{...e,ref:n})});PG.displayName=Yme;function Xme(e,t=globalThis==null?void 0:globalThis.document){const s=Qa(e),a=f.useRef(!1),n=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){TG(Gme,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",n.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function Qme(e,t=globalThis==null?void 0:globalThis.document){const s=Qa(e),a=f.useRef(!1);return f.useEffect(()=>{const n=i=>{i.target&&!a.current&&TG(Kme,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function n6(){const e=new CustomEvent(qT);document.dispatchEvent(e)}function TG(e,t,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),a?aI(n,i):n.dispatchEvent(i)}var Jme=Op,Zme=PG,vn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},efe="Portal",M0=f.forwardRef((e,t)=>{var l;const{container:s,...a}=e,[n,i]=f.useState(!1);vn(()=>i(!0),[]);const o=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NG.createPortal(r.jsx(Bt.div,{...a,ref:t}),o):null});M0.displayName=efe;function tfe(e,t){return f.useReducer((s,a)=>t[s][a]??s,e)}var qn=e=>{const{present:t,children:s}=e,a=rfe(t),n=typeof s=="function"?s({present:a.isPresent}):f.Children.only(s),i=Pr(a.ref,sfe(n));return typeof s=="function"||a.isPresent?f.cloneElement(n,{ref:i}):null};qn.displayName="Presence";function rfe(e){const[t,s]=f.useState(),a=f.useRef(null),n=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=tfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=P1(a.current);i.current=l==="mounted"?d:"none"},[l]),vn(()=>{const d=a.current,u=n.current;if(u!==e){const m=i.current,p=P1(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),vn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const x=P1(a.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!n.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(i.current=P1(a.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{a.current=d?getComputedStyle(d):null,s(d)},[])}}function P1(e){return(e==null?void 0:e.animationName)||"none"}function sfe(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var afe=mO[" useInsertionEffect ".trim().toString()]||vn;function ko({prop:e,defaultProp:t,onChange:s=()=>{},caller:a}){const[n,i,o]=nfe({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:n;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,a])}const d=f.useCallback(u=>{var h;if(l){const m=ife(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function nfe({defaultProp:e,onChange:t}){const[s,a]=f.useState(e),n=f.useRef(s),i=f.useRef(t);return afe(()=>{i.current=t},[t]),f.useEffect(()=>{var o;n.current!==s&&((o=i.current)==null||o.call(i,s),n.current=s)},[s,n]),[s,a,i]}function ife(e){return typeof e=="function"}var _G=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ofe="VisuallyHidden",lC=f.forwardRef((e,t)=>r.jsx(Bt.span,{...e,ref:t,style:{..._G,...e.style}}));lC.displayName=ofe;var lfe=lC,nI="ToastProvider",[iI,cfe,dfe]=R0("Toast"),[DG,f0t]=on("Toast",[dfe]),[ufe,cC]=DG(nI),OG=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${nI}\`. Expected non-empty \`string\`.`),r.jsx(iI.Provider,{scope:t,children:r.jsx(ufe,{scope:t,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};OG.displayName=nI;var IG="ToastViewport",hfe=["F8"],GT="toast.viewportPause",KT="toast.viewportResume",RG=f.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=hfe,label:n="Notifications ({hotkey})",...i}=e,o=cC(IG,s),l=cfe(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=Pr(t,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;f.useEffect(()=>{const y=b=>{var v;a.length!==0&&a.every(S=>b[S]||b.code===S)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),f.useEffect(()=>{const y=c.current,b=h.current;if(g&&y&&b){const w=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(GT);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(KT);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!y.contains(k.relatedTarget)&&v()},j=()=>{y.contains(document.activeElement)||v()};return y.addEventListener("focusin",w),y.addEventListener("focusout",S),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",v),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:y})=>{const w=l().map(v=>{const S=v.ref.current,j=[S,...kfe(S)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return f.useEffect(()=>{const y=h.current;if(y){const b=w=>{var j,k,N;const v=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!v){const C=document.activeElement,A=w.shiftKey;if(w.target===y&&A){(j=d.current)==null||j.focus();return}const T=x({tabbingDirection:A?"backwards":"forwards"}),P=T.findIndex(_=>_===C);aP(T.slice(P+1))?w.preventDefault():A?(k=d.current)==null||k.focus():(N=u.current)==null||N.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,x]),r.jsxs(Zme,{ref:c,role:"region","aria-label":n.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(YT,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});aP(y)}}),r.jsx(iI.Slot,{scope:s,children:r.jsx(Bt.ol,{tabIndex:-1,...i,ref:m})}),g&&r.jsx(YT,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});aP(y)}})]})});RG.displayName=IG;var MG="ToastFocusProxy",YT=f.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=cC(MG,s);return r.jsx(lC,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});YT.displayName=MG;var nj="Toast",mfe="toast.swipeStart",ffe="toast.swipeMove",pfe="toast.swipeCancel",xfe="toast.swipeEnd",FG=f.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,c]=ko({prop:a,defaultProp:n??!0,onChange:i,caller:nj});return r.jsx(qn,{present:s||l,children:r.jsx(yfe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Qa(e.onPause),onResume:Qa(e.onResume),onSwipeStart:bt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:bt(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:bt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:bt(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});FG.displayName=nj;var[gfe,vfe]=DG(nj,{onClose(){}}),yfe=f.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...g}=e,x=cC(nj,s),[y,b]=f.useState(null),w=Pr(t,_=>b(_)),v=f.useRef(null),S=f.useRef(null),j=n||x.duration,k=f.useRef(0),N=f.useRef(j),C=f.useRef(0),{onToastAdd:A,onToastRemove:E}=x,D=Qa(()=>{var O;(y==null?void 0:y.contains(document.activeElement))&&((O=x.viewport)==null||O.focus()),o()}),T=f.useCallback(_=>{!_||_===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(D,_))},[D]);f.useEffect(()=>{const _=x.viewport;if(_){const O=()=>{T(N.current),d==null||d()},M=()=>{const I=new Date().getTime()-k.current;N.current=N.current-I,window.clearTimeout(C.current),c==null||c()};return _.addEventListener(GT,M),_.addEventListener(KT,O),()=>{_.removeEventListener(GT,M),_.removeEventListener(KT,O)}}},[x.viewport,j,c,d,T]),f.useEffect(()=>{i&&!x.isClosePausedRef.current&&T(j)},[i,j,x.isClosePausedRef,T]),f.useEffect(()=>(A(),()=>E()),[A,E]);const P=f.useMemo(()=>y?WG(y):null,[y]);return x.viewport?r.jsxs(r.Fragment,{children:[P&&r.jsx(bfe,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),r.jsx(gfe,{scope:s,onClose:D,children:rc.createPortal(r.jsx(iI.ItemSlot,{scope:s,children:r.jsx(Jme,{asChild:!0,onEscapeKeyDown:bt(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:bt(e.onKeyDown,_=>{_.key==="Escape"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:bt(e.onPointerDown,_=>{_.button===0&&(v.current={x:_.clientX,y:_.clientY})}),onPointerMove:bt(e.onPointerMove,_=>{if(!v.current)return;const O=_.clientX-v.current.x,M=_.clientY-v.current.y,I=!!S.current,R=["left","right"].includes(x.swipeDirection),L=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,K=R?L(0,O):0,H=R?0:L(0,M),F=_.pointerType==="touch"?10:2,G={x:K,y:H},U={originalEvent:_,delta:G};I?(S.current=G,T1(ffe,h,U,{discrete:!1})):i6(G,x.swipeDirection,F)?(S.current=G,T1(mfe,u,U,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(O)>F||Math.abs(M)>F)&&(v.current=null)}),onPointerUp:bt(e.onPointerUp,_=>{const O=S.current,M=_.target;if(M.hasPointerCapture(_.pointerId)&&M.releasePointerCapture(_.pointerId),S.current=null,v.current=null,O){const I=_.currentTarget,R={originalEvent:_,delta:O};i6(O,x.swipeDirection,x.swipeThreshold)?T1(xfe,p,R,{discrete:!0}):T1(pfe,m,R,{discrete:!0}),I.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),bfe=e=>{const{__scopeToast:t,children:s,...a}=e,n=cC(nj,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return Nfe(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(M0,{asChild:!0,children:r.jsx(lC,{...a,children:i&&r.jsxs(r.Fragment,{children:[n.label," ",s]})})})},wfe="ToastTitle",LG=f.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Bt.div,{...a,ref:t})});LG.displayName=wfe;var jfe="ToastDescription",$G=f.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return r.jsx(Bt.div,{...a,ref:t})});$G.displayName=jfe;var BG="ToastAction",UG=f.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?r.jsx(zG,{altText:s,asChild:!0,children:r.jsx(oI,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${BG}\`. Expected non-empty \`string\`.`),null)});UG.displayName=BG;var VG="ToastClose",oI=f.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,n=vfe(VG,s);return r.jsx(zG,{asChild:!0,children:r.jsx(Bt.button,{type:"button",...a,ref:t,onClick:bt(e.onClick,n.onClose)})})});oI.displayName=VG;var zG=f.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...n}=e;return r.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function WG(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Sfe(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...WG(a))}}),t}function T1(e,t,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),a?aI(n,i):n.dispatchEvent(i)}var i6=(e,t,s=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return t==="left"||t==="right"?i&&a>s:!i&&n>s};function Nfe(e=()=>{}){const t=Qa(e);vn(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function Sfe(e){return e.nodeType===e.ELEMENT_NODE}function kfe(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function aP(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var Cfe=OG,HG=RG,qG=FG,GG=LG,KG=$G,YG=UG,XG=oI;function QG(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=QG(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function os(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=QG(e))&&(a&&(a+=" "),a+=t);return a}const o6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,l6=os,F0=(e,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return l6(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(d=>{const u=s==null?void 0:s[d],h=i==null?void 0:i[d];if(u===null)return null;const m=o6(u)||o6(h);return n[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...d,h,m]:d},[]);return l6(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JG=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Efe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...Efe,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:JG("lucide",n),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const s=f.forwardRef(({className:a,...n},i)=>f.createElement(Pfe,{ref:i,iconNode:t,className:JG(`lucide-${Afe(e)}`,a),...n}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Qe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=Qe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=Qe("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Qe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=Qe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Qe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Qe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=Qe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=Qe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Qe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Qe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Qe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=Qe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Qe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=Qe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Qe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=Qe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=Qe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Qe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=Qe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Qe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=Qe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=Qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Qe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=Qe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Qe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=Qe("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=Qe("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Qe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=Qe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Qe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Qe("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=Qe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=Qe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Qe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=Qe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=Qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=Qe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Qe("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Qe("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=Qe("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=Qe("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Qe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=Qe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Qe("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Qe("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Qe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Qe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=Qe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=Qe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Qe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=Qe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=Qe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Qe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=Qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Qe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=Qe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=Qe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bI="-",epe=e=>{const t=rpe(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(bI);return l[0]===""&&l.length!==1&&l.shift(),hK(l,t)||tpe(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},hK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?hK(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(bI);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},y6=/^\[(.+)\]$/,tpe=e=>{if(y6.test(e)){const t=y6.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},rpe=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return ape(Object.entries(e.classGroups),s).forEach(([i,o])=>{e_(o,a,i,t)}),a},e_=(e,t,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:b6(t,n);i.classGroupId=s;return}if(typeof n=="function"){if(spe(n)){e_(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{e_(o,b6(t,i),s,a)})})},b6=(e,t)=>{let s=e;return t.split(bI).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},spe=e=>e.isThemeGetter,ape=(e,t)=>t?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,n]}):e,npe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},mK="!",ipe=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let y=0;y<l.length;y++){let b=l[y];if(d===0){if(b===n&&(a||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(b==="/"){h=y;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(mK),g=p?m.substring(1):m,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},ope=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},lpe=e=>({cache:npe(e.cacheSize),parseClassName:ipe(e),...epe(e)}),cpe=/\s+/,dpe=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(cpe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=s(d);let g=!!p,x=a(g?m.substring(0,p):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=a(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=ope(u).join(":"),b=h?y+mK:y,w=b+x;if(i.includes(w))continue;i.push(w);const v=n(x,g);for(let S=0;S<v.length;++S){const j=v[S];i.push(b+j)}l=d+(l.length>0?" "+l:l)}return l};function upe(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=fK(t))&&(a&&(a+=" "),a+=s);return a}const fK=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=fK(e[a]))&&(s&&(s+=" "),s+=t);return s};function hpe(e,...t){let s,a,n,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return s=lpe(d),a=s.cache.get,n=s.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=dpe(c,s);return n(c,u),u}return function(){return i(upe.apply(null,arguments))}}const Oa=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},pK=/^\[(?:([a-z-]+):)?(.+)\]$/i,mpe=/^\d+\/\d+$/,fpe=new Set(["px","full","screen"]),ppe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xpe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ype=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xu=e=>cg(e)||fpe.has(e)||mpe.test(e),vh=e=>$0(e,"length",Ape),cg=e=>!!e&&!Number.isNaN(Number(e)),lP=e=>$0(e,"number",cg),Iv=e=>!!e&&Number.isInteger(Number(e)),bpe=e=>e.endsWith("%")&&cg(e.slice(0,-1)),fs=e=>pK.test(e),yh=e=>ppe.test(e),wpe=new Set(["length","size","percentage"]),jpe=e=>$0(e,wpe,xK),Npe=e=>$0(e,"position",xK),Spe=new Set(["image","url"]),kpe=e=>$0(e,Spe,Ppe),Cpe=e=>$0(e,"",Epe),Rv=()=>!0,$0=(e,t,s)=>{const a=pK.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},Ape=e=>xpe.test(e)&&!gpe.test(e),xK=()=>!1,Epe=e=>vpe.test(e),Ppe=e=>ype.test(e),Tpe=()=>{const e=Oa("colors"),t=Oa("spacing"),s=Oa("blur"),a=Oa("brightness"),n=Oa("borderColor"),i=Oa("borderRadius"),o=Oa("borderSpacing"),l=Oa("borderWidth"),c=Oa("contrast"),d=Oa("grayscale"),u=Oa("hueRotate"),h=Oa("invert"),m=Oa("gap"),p=Oa("gradientColorStops"),g=Oa("gradientColorStopPositions"),x=Oa("inset"),y=Oa("margin"),b=Oa("opacity"),w=Oa("padding"),v=Oa("saturate"),S=Oa("scale"),j=Oa("sepia"),k=Oa("skew"),N=Oa("space"),C=Oa("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fs,t],T=()=>[fs,t],P=()=>["",xu,vh],_=()=>["auto",cg,fs],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",fs],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[cg,fs];return{cacheSize:500,separator:":",theme:{colors:[Rv],spacing:[xu,vh],blur:["none","",yh,fs],brightness:H(),borderColor:[e],borderRadius:["none","","full",yh,fs],borderSpacing:T(),borderWidth:P(),contrast:H(),grayscale:L(),hueRotate:H(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[bpe,vh],inset:D(),margin:D(),opacity:H(),padding:T(),saturate:H(),scale:H(),sepia:L(),skew:H(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",fs]}],container:["container"],columns:[{columns:[yh]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),fs]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Iv,fs]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fs]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Iv,fs]}],"grid-cols":[{"grid-cols":[Rv]}],"col-start-end":[{col:["auto",{span:["full",Iv,fs]},fs]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Rv]}],"row-start-end":[{row:["auto",{span:[Iv,fs]},fs]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fs]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fs]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fs,t]}],"min-w":[{"min-w":[fs,t,"min","max","fit"]}],"max-w":[{"max-w":[fs,t,"none","full","min","max","fit","prose",{screen:[yh]},yh]}],h:[{h:[fs,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fs,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fs,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fs,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yh,vh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lP]}],"font-family":[{font:[Rv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fs]}],"line-clamp":[{"line-clamp":["none",cg,lP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xu,fs]}],"list-image":[{"list-image":["none",fs]}],"list-style-type":[{list:["none","disc","decimal",fs]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xu,vh]}],"underline-offset":[{"underline-offset":["auto",xu,fs]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),Npe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jpe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kpe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[xu,fs]}],"outline-w":[{outline:[xu,vh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[xu,vh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yh,Cpe]}],"shadow-color":[{shadow:[Rv]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yh,fs]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fs]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",fs]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",fs]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Iv,fs]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fs]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fs]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fs]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xu,vh,lP]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_pe=hpe(Tpe);function xe(...e){return _pe(os(e))}async function cj(e){return new Promise(t=>{const s=new FileReader;s.onloadend=a=>{if(!a.target||!a.target.result){t({isValid:!1,reason:"  "});return}const n=new Uint8Array(a.target.result).subarray(0,12);let i="";for(let o=0;o<n.length;o++)i+=n[o].toString(16).toUpperCase().padStart(2,"0");if(i.startsWith("FFD8FF")){t({isValid:!0});return}if(i.startsWith("89504E470D0A1A0A")){t({isValid:!0});return}if(i.startsWith("47494638")){t({isValid:!0});return}if(i.startsWith("52494646")&&i.substring(16,24)==="57454250"){t({isValid:!0});return}t({isValid:!1,reason:"         (   )"})},s.onerror=()=>{t({isValid:!1,reason:"    "})},s.readAsArrayBuffer(e.slice(0,12))})}const Dpe=Cfe,gK=f.forwardRef(({className:e,...t},s)=>r.jsx(HG,{ref:s,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gK.displayName=HG.displayName;const Ope=F0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vK=f.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(qG,{ref:a,className:xe(Ope({variant:t}),e),...s}));vK.displayName=qG.displayName;const Ipe=f.forwardRef(({className:e,...t},s)=>r.jsx(YG,{ref:s,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Ipe.displayName=YG.displayName;const yK=f.forwardRef(({className:e,...t},s)=>r.jsx(XG,{ref:s,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(jr,{className:"h-4 w-4"})}));yK.displayName=XG.displayName;const bK=f.forwardRef(({className:e,...t},s)=>r.jsx(GG,{ref:s,className:xe("text-sm font-semibold",e),...t}));bK.displayName=GG.displayName;const wK=f.forwardRef(({className:e,...t},s)=>r.jsx(KG,{ref:s,className:xe("text-sm opacity-90",e),...t}));wK.displayName=KG.displayName;function Rpe(){const{toasts:e}=Lt();return r.jsxs(Dpe,{children:[e.map(function({id:t,title:s,description:a,action:n,...i}){return r.jsxs(vK,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(bK,{children:s}),a&&r.jsx(wK,{children:a})]}),n,r.jsx(yK,{})]},t)}),r.jsx(gK,{})]})}var w6=["light","dark"],Mpe="(prefers-color-scheme: dark)",Fpe=f.createContext(void 0),Lpe={setTheme:e=>{},themes:[]},$pe=()=>{var e;return(e=f.useContext(Fpe))!=null?e:Lpe};f.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:a,enableColorScheme:n,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,h=n?w6.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,x=!1,y=!0)=>{let b=o?o[g]:g,w=x?g+"|| ''":`'${b}'`,v="";return n&&y&&!x&&w6.includes(g)&&(v+=`d.style.colorScheme = '${g}';`),s==="class"?x||b?v+=`c.add(${w})`:v+="null":b&&(v+=`d[s](n,${w})`),v},p=e?`!function(){${u}${m(e)}}()`:a?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Mpe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Bpe=e=>{switch(e){case"success":return zpe;case"info":return Hpe;case"warning":return Wpe;case"error":return qpe;default:return null}},Upe=Array(12).fill(0),Vpe=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},Upe.map((s,a)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),zpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kpe=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},t_=1,Ype=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...a}=e,n=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:t_++,i=this.toasts.find(l=>l.id===n),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:s}),{...l,...e,id:n,dismissible:o,title:s}):l):this.addToast({title:s,...a,dismissible:o,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),n=s!==void 0,i,o=a.then(async c=>{if(i=["resolve",c],ae.isValidElement(c))n=!1,this.create({id:s,type:"default",message:c});else if(Qpe(c)&&!c.ok){n=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:s,type:"error",message:d,description:u})}else if(t.success!==void 0){n=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){n=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:s,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(s),s=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||t_++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Lo=new Ype,Xpe=(e,t)=>{let s=(t==null?void 0:t.id)||t_++;return Lo.addToast({title:e,...t,id:s}),s},Qpe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Jpe=Xpe,Zpe=()=>Lo.toasts,exe=()=>Lo.getActiveToasts(),Rr=Object.assign(Jpe,{success:Lo.success,info:Lo.info,warning:Lo.warning,error:Lo.error,custom:Lo.custom,message:Lo.message,promise:Lo.promise,dismiss:Lo.dismiss,loading:Lo.loading},{getHistory:Zpe,getToasts:exe});function txe(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}txe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function D1(e){return e.label!==void 0}var rxe=3,sxe="32px",axe="16px",j6=4e3,nxe=356,ixe=14,oxe=20,lxe=200;function _c(...e){return e.filter(Boolean).join(" ")}function cxe(e){let[t,s]=e.split("-"),a=[];return t&&a.push(t),s&&a.push(s),a}var dxe=e=>{var t,s,a,n,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:g,interacting:x,setHeights:y,visibleToasts:b,heights:w,index:v,toasts:S,expanded:j,removeToast:k,defaultRichColors:N,closeButton:C,style:A,cancelButtonStyle:E,actionButtonStyle:D,className:T="",descriptionClassName:P="",duration:_,position:O,gap:M,loadingIcon:I,expandByDefault:R,classNames:L,icons:K,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:F}=e,[G,U]=ae.useState(null),[W,J]=ae.useState(null),[z,ie]=ae.useState(!1),[re,q]=ae.useState(!1),[se,B]=ae.useState(!1),[oe,de]=ae.useState(!1),[Te,He]=ae.useState(!1),[Oe,me]=ae.useState(0),[Ue,ce]=ae.useState(0),Ee=ae.useRef(p.duration||_||j6),Pe=ae.useRef(null),$e=ae.useRef(null),We=v===0,Xe=v+1<=b,Ce=p.type,Ye=p.dismissible!==!1,ft=p.className||"",Pt=p.descriptionClassName||"",vt=ae.useMemo(()=>w.findIndex(je=>je.toastId===p.id)||0,[w,p.id]),Qt=ae.useMemo(()=>{var je;return(je=p.closeButton)!=null?je:C},[p.closeButton,C]),br=ae.useMemo(()=>p.duration||_||j6,[p.duration,_]),$t=ae.useRef(0),qt=ae.useRef(0),Ts=ae.useRef(0),Ie=ae.useRef(null),[rs,Zs]=O.split("-"),wa=ae.useMemo(()=>w.reduce((je,ue,ne)=>ne>=vt?je:je+ue.height,0),[w,vt]),Wa=Kpe(),Ha=p.invert||m,ss=Ce==="loading";qt.current=ae.useMemo(()=>vt*M+wa,[vt,wa]),ae.useEffect(()=>{Ee.current=br},[br]),ae.useEffect(()=>{ie(!0)},[]),ae.useEffect(()=>{let je=$e.current;if(je){let ue=je.getBoundingClientRect().height;return ce(ue),y(ne=>[{toastId:p.id,height:ue,position:p.position},...ne]),()=>y(ne=>ne.filter(ze=>ze.toastId!==p.id))}},[y,p.id]),ae.useLayoutEffect(()=>{if(!z)return;let je=$e.current,ue=je.style.height;je.style.height="auto";let ne=je.getBoundingClientRect().height;je.style.height=ue,ce(ne),y(ze=>ze.find(Ke=>Ke.toastId===p.id)?ze.map(Ke=>Ke.toastId===p.id?{...Ke,height:ne}:Ke):[{toastId:p.id,height:ne,position:p.position},...ze])},[z,p.title,p.description,y,p.id]);let Rt=ae.useCallback(()=>{q(!0),me(qt.current),y(je=>je.filter(ue=>ue.toastId!==p.id)),setTimeout(()=>{k(p)},lxe)},[p,k,y,qt]);ae.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let je;return j||x||F&&Wa?(()=>{if(Ts.current<$t.current){let ue=new Date().getTime()-$t.current;Ee.current=Ee.current-ue}Ts.current=new Date().getTime()})():Ee.current!==1/0&&($t.current=new Date().getTime(),je=setTimeout(()=>{var ue;(ue=p.onAutoClose)==null||ue.call(p,p),Rt()},Ee.current)),()=>clearTimeout(je)},[j,x,p,Ce,F,Wa,Rt]),ae.useEffect(()=>{p.delete&&Rt()},[Rt,p.delete]);function wt(){var je,ue,ne;return K!=null&&K.loading?ae.createElement("div",{className:_c(L==null?void 0:L.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":Ce==="loading"},K.loading):I?ae.createElement("div",{className:_c(L==null?void 0:L.loader,(ue=p==null?void 0:p.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Ce==="loading"},I):ae.createElement(Vpe,{className:_c(L==null?void 0:L.loader,(ne=p==null?void 0:p.classNames)==null?void 0:ne.loader),visible:Ce==="loading"})}return ae.createElement("li",{tabIndex:0,ref:$e,className:_c(T,ft,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Ce],(s=p==null?void 0:p.classNames)==null?void 0:s[Ce]),"data-sonner-toast":"","data-rich-colors":(a=p.richColors)!=null?a:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":z,"data-promise":!!p.promise,"data-swiped":Te,"data-removed":re,"data-visible":Xe,"data-y-position":rs,"data-x-position":Zs,"data-index":v,"data-front":We,"data-swiping":se,"data-dismissible":Ye,"data-type":Ce,"data-invert":Ha,"data-swipe-out":oe,"data-swipe-direction":W,"data-expanded":!!(j||R&&z),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${re?Oe:qt.current}px`,"--initial-height":R?"auto":`${Ue}px`,...A,...p.style},onDragEnd:()=>{B(!1),U(null),Ie.current=null},onPointerDown:je=>{ss||!Ye||(Pe.current=new Date,me(qt.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(B(!0),Ie.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,ue,ne,ze;if(oe||!Ye)return;Ie.current=null;let Ke=Number(((je=$e.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ge=Number(((ue=$e.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((ne=Pe.current)==null?void 0:ne.getTime()),lt=G==="x"?Ke:Ge,ct=Math.abs(lt)/St;if(Math.abs(lt)>=oxe||ct>.11){me(qt.current),(ze=p.onDismiss)==null||ze.call(p,p),J(G==="x"?Ke>0?"right":"left":Ge>0?"down":"up"),Rt(),de(!0),He(!1);return}B(!1),U(null)},onPointerMove:je=>{var ue,ne,ze,Ke;if(!Ie.current||!Ye||((ue=window.getSelection())==null?void 0:ue.toString().length)>0)return;let Ge=je.clientY-Ie.current.y,St=je.clientX-Ie.current.x,lt=(ne=e.swipeDirections)!=null?ne:cxe(O);!G&&(Math.abs(St)>1||Math.abs(Ge)>1)&&U(Math.abs(St)>Math.abs(Ge)?"x":"y");let ct={x:0,y:0};G==="y"?(lt.includes("top")||lt.includes("bottom"))&&(lt.includes("top")&&Ge<0||lt.includes("bottom")&&Ge>0)&&(ct.y=Ge):G==="x"&&(lt.includes("left")||lt.includes("right"))&&(lt.includes("left")&&St<0||lt.includes("right")&&St>0)&&(ct.x=St),(Math.abs(ct.x)>0||Math.abs(ct.y)>0)&&He(!0),(ze=$e.current)==null||ze.style.setProperty("--swipe-amount-x",`${ct.x}px`),(Ke=$e.current)==null||Ke.style.setProperty("--swipe-amount-y",`${ct.y}px`)}},Qt&&!p.jsx?ae.createElement("button",{"aria-label":H,"data-disabled":ss,"data-close-button":!0,onClick:ss||!Ye?()=>{}:()=>{var je;Rt(),(je=p.onDismiss)==null||je.call(p,p)},className:_c(L==null?void 0:L.closeButton,(n=p==null?void 0:p.classNames)==null?void 0:n.closeButton)},(i=K==null?void 0:K.close)!=null?i:Gpe):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ae.createElement(ae.Fragment,null,Ce||p.icon||p.promise?ae.createElement("div",{"data-icon":"",className:_c(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||wt():null,p.type!=="loading"?p.icon||(K==null?void 0:K[Ce])||Bpe(Ce):null):null,ae.createElement("div",{"data-content":"",className:_c(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:_c(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ae.createElement("div",{"data-description":"",className:_c(P,Pt,L==null?void 0:L.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&D1(p.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:je=>{var ue,ne;D1(p.cancel)&&Ye&&((ne=(ue=p.cancel).onClick)==null||ne.call(ue,je),Rt())},className:_c(L==null?void 0:L.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&D1(p.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:je=>{var ue,ne;D1(p.action)&&((ne=(ue=p.action).onClick)==null||ne.call(ue,je),!je.defaultPrevented&&Rt())},className:_c(L==null?void 0:L.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function N6(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function uxe(e,t){let s={};return[e,t].forEach((a,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",l=i?axe:sxe;function c(d){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof a=="number"||typeof a=="string"?c(a):typeof a=="object"?["top","right","bottom","left"].forEach(d=>{a[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof a[d]=="number"?`${a[d]}px`:a[d]}):c(l)}),s}var hxe=f.forwardRef(function(e,t){let{invert:s,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:g=rxe,toastOptions:x,dir:y=N6(),gap:b=ixe,loadingIcon:w,icons:v,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[k,N]=ae.useState([]),C=ae.useMemo(()=>Array.from(new Set([a].concat(k.filter(F=>F.position).map(F=>F.position)))),[k,a]),[A,E]=ae.useState([]),[D,T]=ae.useState(!1),[P,_]=ae.useState(!1),[O,M]=ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=ae.useRef(null),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ae.useRef(null),K=ae.useRef(!1),H=ae.useCallback(F=>{N(G=>{var U;return(U=G.find(W=>W.id===F.id))!=null&&U.delete||Lo.dismiss(F.id),G.filter(({id:W})=>W!==F.id)})},[]);return ae.useEffect(()=>Lo.subscribe(F=>{if(F.dismiss){N(G=>G.map(U=>U.id===F.id?{...U,delete:!0}:U));return}setTimeout(()=>{NG.flushSync(()=>{N(G=>{let U=G.findIndex(W=>W.id===F.id);return U!==-1?[...G.slice(0,U),{...G[U],...F},...G.slice(U+1)]:[F,...G]})})})}),[]),ae.useEffect(()=>{if(u!=="system"){M(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:G})=>{M(G?"dark":"light")})}catch{F.addListener(({matches:U})=>{try{M(U?"dark":"light")}catch(W){console.error(W)}})}},[u]),ae.useEffect(()=>{k.length<=1&&T(!1)},[k]),ae.useEffect(()=>{let F=G=>{var U,W;n.every(J=>G[J]||G.code===J)&&(T(!0),(U=I.current)==null||U.focus()),G.code==="Escape"&&(document.activeElement===I.current||(W=I.current)!=null&&W.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[n]),ae.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,K.current=!1)}},[I.current]),ae.createElement("section",{ref:t,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((F,G)=>{var U;let[W,J]=F.split("-");return k.length?ae.createElement("ol",{key:F,dir:y==="auto"?N6():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":W,"data-lifted":D&&k.length>1&&!i,"data-x-position":J,style:{"--front-toast-height":`${((U=A[0])==null?void 0:U.height)||0}px`,"--width":`${nxe}px`,"--gap":`${b}px`,...p,...uxe(c,d)},onBlur:z=>{K.current&&!z.currentTarget.contains(z.relatedTarget)&&(K.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||K.current||(K.current=!0,L.current=z.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{P||T(!1)},onDragEnd:()=>T(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||_(!0)},onPointerUp:()=>_(!1)},k.filter(z=>!z.position&&G===0||z.position===F).map((z,ie)=>{var re,q;return ae.createElement(dxe,{key:z.id,icons:v,index:ie,toast:z,defaultRichColors:h,duration:(re=x==null?void 0:x.duration)!=null?re:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:g,closeButton:(q=x==null?void 0:x.closeButton)!=null?q:o,interacting:P,position:F,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:H,toasts:k.filter(se=>se.position==z.position),heights:A.filter(se=>se.position==z.position),setHeights:E,expandByDefault:i,gap:b,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const mxe=({...e})=>{const{theme:t="system"}=$pe();return r.jsx(hxe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var fxe=mO[" useId ".trim().toString()]||(()=>{}),pxe=0;function Sl(e){const[t,s]=f.useState(fxe());return vn(()=>{e||s(a=>a??String(pxe++))},[e]),e||(t?`radix-${t}`:"")}const xxe=["top","right","bottom","left"],Nm=Math.min,fl=Math.max,z2=Math.round,O1=Math.floor,Wd=e=>({x:e,y:e}),gxe={left:"right",right:"left",bottom:"top",top:"bottom"},vxe={start:"end",end:"start"};function r_(e,t,s){return fl(e,Nm(t,s))}function qu(e,t){return typeof e=="function"?e(t):e}function Gu(e){return e.split("-")[0]}function B0(e){return e.split("-")[1]}function wI(e){return e==="x"?"y":"x"}function jI(e){return e==="y"?"height":"width"}const yxe=new Set(["top","bottom"]);function Id(e){return yxe.has(Gu(e))?"y":"x"}function NI(e){return wI(Id(e))}function bxe(e,t,s){s===void 0&&(s=!1);const a=B0(e),n=NI(e),i=jI(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=W2(o)),[o,W2(o)]}function wxe(e){const t=W2(e);return[s_(e),t,s_(t)]}function s_(e){return e.replace(/start|end/g,t=>vxe[t])}const S6=["left","right"],k6=["right","left"],jxe=["top","bottom"],Nxe=["bottom","top"];function Sxe(e,t,s){switch(e){case"top":case"bottom":return s?t?k6:S6:t?S6:k6;case"left":case"right":return t?jxe:Nxe;default:return[]}}function kxe(e,t,s,a){const n=B0(e);let i=Sxe(Gu(e),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),t&&(i=i.concat(i.map(s_)))),i}function W2(e){return e.replace(/left|right|bottom|top/g,t=>gxe[t])}function Cxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function jK(e){return typeof e!="number"?Cxe(e):{top:e,right:e,bottom:e,left:e}}function H2(e){const{x:t,y:s,width:a,height:n}=e;return{width:a,height:n,top:s,left:t,right:t+a,bottom:s+n,x:t,y:s}}function C6(e,t,s){let{reference:a,floating:n}=e;const i=Id(t),o=NI(t),l=jI(o),c=Gu(t),d=i==="y",u=a.x+a.width/2-n.width/2,h=a.y+a.height/2-n.height/2,m=a[l]/2-n[l]/2;let p;switch(c){case"top":p={x:u,y:a.y-n.height};break;case"bottom":p={x:u,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-n.width,y:h};break;default:p={x:a.x,y:a.y}}switch(B0(t)){case"start":p[o]-=m*(s&&d?-1:1);break;case"end":p[o]+=m*(s&&d?-1:1);break}return p}const Axe=async(e,t,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:h}=C6(d,a,c),m=a,p={},g=0;for(let x=0;x<l.length;x++){const{name:y,fn:b}=l[x],{x:w,y:v,data:S,reset:j}=await b({x:u,y:h,initialPlacement:a,placement:m,strategy:n,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=w??u,h=v??h,p={...p,[y]:{...p[y],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):j.rects),{x:u,y:h}=C6(d,m,c)),x=-1)}return{x:u,y:h,placement:m,strategy:n,middlewareData:p}};async function _b(e,t){var s;t===void 0&&(t={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=qu(t,e),g=jK(p),y=l[m?h==="floating"?"reference":"floating":h],b=H2(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(y)))==null||s?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w=h==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},j=H2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:v,strategy:c}):w);return{top:(b.top-j.top+g.top)/S.y,bottom:(j.bottom-b.bottom+g.bottom)/S.y,left:(b.left-j.left+g.left)/S.x,right:(j.right-b.right+g.right)/S.x}}const Exe=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=qu(e,t)||{};if(d==null)return{};const h=jK(u),m={x:s,y:a},p=NI(n),g=jI(p),x=await o.getDimensions(d),y=p==="y",b=y?"top":"left",w=y?"bottom":"right",v=y?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-m[p]-i.floating[g],j=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=k?k[v]:0;(!N||!await(o.isElement==null?void 0:o.isElement(k)))&&(N=l.floating[v]||i.floating[g]);const C=S/2-j/2,A=N/2-x[g]/2-1,E=Nm(h[b],A),D=Nm(h[w],A),T=E,P=N-x[g]-D,_=N/2-x[g]/2+C,O=r_(T,_,P),M=!c.arrow&&B0(n)!=null&&_!==O&&i.reference[g]/2-(_<T?E:D)-x[g]/2<0,I=M?_<T?_-T:_-P:0;return{[p]:m[p]+I,data:{[p]:O,centerOffset:_-O-I,...M&&{alignmentOffset:I}},reset:M}}}),Pxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=qu(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const b=Gu(n),w=Id(l),v=Gu(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(v||!x?[W2(l)]:wxe(l)),k=g!=="none";!m&&k&&j.push(...kxe(l,x,g,S));const N=[l,...j],C=await _b(t,y),A=[];let E=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&A.push(C[b]),h){const _=bxe(n,o,S);A.push(C[_[0]],C[_[1]])}if(E=[...E,{placement:n,overflows:A}],!A.every(_=>_<=0)){var D,T;const _=(((D=i.flip)==null?void 0:D.index)||0)+1,O=N[_];if(O&&(!(h==="alignment"?w!==Id(O):!1)||E.every(R=>R.overflows[0]>0&&Id(R.placement)===w)))return{data:{index:_,overflows:E},reset:{placement:O}};let M=(T=E.filter(I=>I.overflows[0]<=0).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(p){case"bestFit":{var P;const I=(P=E.filter(R=>{if(k){const L=Id(R.placement);return L===w||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,K)=>L+K,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:P[0];I&&(M=I);break}case"initialPlacement":M=l;break}if(n!==M)return{reset:{placement:M}}}return{}}}};function A6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function E6(e){return xxe.some(t=>e[t]>=0)}const Txe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...n}=qu(e,t);switch(a){case"referenceHidden":{const i=await _b(t,{...n,elementContext:"reference"}),o=A6(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E6(o)}}}case"escaped":{const i=await _b(t,{...n,altBoundary:!0}),o=A6(i,s.floating);return{data:{escapedOffsets:o,escaped:E6(o)}}}default:return{}}}}},NK=new Set(["left","top"]);async function _xe(e,t){const{placement:s,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Gu(s),l=B0(s),c=Id(s)==="y",d=NK.has(o)?-1:1,u=i&&c?-1:1,h=qu(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const Dxe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=t,c=await _xe(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:o}}}}},Oxe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:n}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=qu(e,t),d={x:s,y:a},u=await _b(t,c),h=Id(Gu(n)),m=wI(h);let p=d[m],g=d[h];if(i){const y=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+u[y],v=p-u[b];p=r_(w,p,v)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+u[y],v=g-u[b];g=r_(w,g,v)}const x=l.fn({...t,[m]:p,[h]:g});return{...x,data:{x:x.x-s,y:x.y-a,enabled:{[m]:i,[h]:o}}}}}},Ixe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=qu(e,t),u={x:s,y:a},h=Id(n),m=wI(h);let p=u[m],g=u[h];const x=qu(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",S=i.reference[m]-i.floating[v]+y.mainAxis,j=i.reference[m]+i.reference[v]-y.mainAxis;p<S?p=S:p>j&&(p=j)}if(d){var b,w;const v=m==="y"?"width":"height",S=NK.has(Gu(n)),j=i.reference[h]-i.floating[v]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:y.crossAxis),k=i.reference[h]+i.reference[v]+(S?0:((w=o.offset)==null?void 0:w[h])||0)-(S?y.crossAxis:0);g<j?g=j:g>k&&(g=k)}return{[m]:p,[h]:g}}}},Rxe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:n,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=qu(e,t),u=await _b(t,d),h=Gu(n),m=B0(n),p=Id(n)==="y",{width:g,height:x}=i.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=m==="end"?"top":"bottom");const w=x-u.top-u.bottom,v=g-u.left-u.right,S=Nm(x-u[y],w),j=Nm(g-u[b],v),k=!t.middlewareData.shift;let N=S,C=j;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(C=v),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(N=w),k&&!m){const E=fl(u.left,0),D=fl(u.right,0),T=fl(u.top,0),P=fl(u.bottom,0);p?C=g-2*(E!==0||D!==0?E+D:fl(u.left,u.right)):N=x-2*(T!==0||P!==0?T+P:fl(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:N});const A=await o.getDimensions(l.floating);return g!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function uC(){return typeof window<"u"}function U0(e){return SK(e)?(e.nodeName||"").toLowerCase():"#document"}function kl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function au(e){var t;return(t=(SK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SK(e){return uC()?e instanceof Node||e instanceof kl(e).Node:!1}function nd(e){return uC()?e instanceof Element||e instanceof kl(e).Element:!1}function Zd(e){return uC()?e instanceof HTMLElement||e instanceof kl(e).HTMLElement:!1}function P6(e){return!uC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kl(e).ShadowRoot}const Mxe=new Set(["inline","contents"]);function dj(e){const{overflow:t,overflowX:s,overflowY:a,display:n}=id(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!Mxe.has(n)}const Fxe=new Set(["table","td","th"]);function Lxe(e){return Fxe.has(U0(e))}const $xe=[":popover-open",":modal"];function hC(e){return $xe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bxe=["transform","translate","scale","rotate","perspective"],Uxe=["transform","translate","scale","rotate","perspective","filter"],Vxe=["paint","layout","strict","content"];function SI(e){const t=kI(),s=nd(e)?id(e):e;return Bxe.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||Uxe.some(a=>(s.willChange||"").includes(a))||Vxe.some(a=>(s.contain||"").includes(a))}function zxe(e){let t=Sm(e);for(;Zd(t)&&!Vg(t);){if(SI(t))return t;if(hC(t))return null;t=Sm(t)}return null}function kI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Wxe=new Set(["html","body","#document"]);function Vg(e){return Wxe.has(U0(e))}function id(e){return kl(e).getComputedStyle(e)}function mC(e){return nd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sm(e){if(U0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||P6(e)&&e.host||au(e);return P6(t)?t.host:t}function kK(e){const t=Sm(e);return Vg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zd(t)&&dj(t)?t:kK(t)}function Db(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const n=kK(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=kl(n);if(i){const l=a_(o);return t.concat(o,o.visualViewport||[],dj(n)?n:[],l&&s?Db(l):[])}return t.concat(n,Db(n,[],s))}function a_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function CK(e){const t=id(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const n=Zd(e),i=n?e.offsetWidth:s,o=n?e.offsetHeight:a,l=z2(s)!==i||z2(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function CI(e){return nd(e)?e:e.contextElement}function dg(e){const t=CI(e);if(!Zd(t))return Wd(1);const s=t.getBoundingClientRect(),{width:a,height:n,$:i}=CK(t);let o=(i?z2(s.width):s.width)/a,l=(i?z2(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hxe=Wd(0);function AK(e){const t=kl(e);return!kI()||!t.visualViewport?Hxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qxe(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==kl(e)?!1:t}function dp(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=CI(e);let o=Wd(1);t&&(a?nd(a)&&(o=dg(a)):o=dg(e));const l=qxe(i,s,a)?AK(i):Wd(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(i){const m=kl(i),p=a&&nd(a)?kl(a):a;let g=m,x=a_(g);for(;x&&a&&p!==g;){const y=dg(x),b=x.getBoundingClientRect(),w=id(x),v=b.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,S=b.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,h*=y.y,c+=v,d+=S,g=kl(x),x=a_(g)}}return H2({width:u,height:h,x:c,y:d})}function AI(e,t){const s=mC(e).scrollLeft;return t?t.left+s:dp(au(e)).left+s}function EK(e,t,s){s===void 0&&(s=!1);const a=e.getBoundingClientRect(),n=a.left+t.scrollLeft-(s?0:AI(e,a)),i=a.top+t.scrollTop;return{x:n,y:i}}function Gxe(e){let{elements:t,rect:s,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=au(a),l=t?hC(t.floating):!1;if(a===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Wd(1);const u=Wd(0),h=Zd(a);if((h||!h&&!i)&&((U0(a)!=="body"||dj(o))&&(c=mC(a)),Zd(a))){const p=dp(a);d=dg(a),u.x=p.x+a.clientLeft,u.y=p.y+a.clientTop}const m=o&&!h&&!i?EK(o,c,!0):Wd(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function Kxe(e){return Array.from(e.getClientRects())}function Yxe(e){const t=au(e),s=mC(e),a=e.ownerDocument.body,n=fl(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=fl(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+AI(e);const l=-s.scrollTop;return id(a).direction==="rtl"&&(o+=fl(t.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function Xxe(e,t){const s=kl(e),a=au(e),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;const d=kI();(!d||d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l,y:c}}const Qxe=new Set(["absolute","fixed"]);function Jxe(e,t){const s=dp(e,!0,t==="fixed"),a=s.top+e.clientTop,n=s.left+e.clientLeft,i=Zd(e)?dg(e):Wd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=n*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function T6(e,t,s){let a;if(t==="viewport")a=Xxe(e,s);else if(t==="document")a=Yxe(au(e));else if(nd(t))a=Jxe(t,s);else{const n=AK(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return H2(a)}function PK(e,t){const s=Sm(e);return s===t||!nd(s)||Vg(s)?!1:id(s).position==="fixed"||PK(s,t)}function Zxe(e,t){const s=t.get(e);if(s)return s;let a=Db(e,[],!1).filter(l=>nd(l)&&U0(l)!=="body"),n=null;const i=id(e).position==="fixed";let o=i?Sm(e):e;for(;nd(o)&&!Vg(o);){const l=id(o),c=SI(o);!c&&l.position==="fixed"&&(n=null),(i?!c&&!n:!c&&l.position==="static"&&!!n&&Qxe.has(n.position)||dj(o)&&!c&&PK(e,o))?a=a.filter(u=>u!==o):n=l,o=Sm(o)}return t.set(e,a),a}function ege(e){let{element:t,boundary:s,rootBoundary:a,strategy:n}=e;const o=[...s==="clippingAncestors"?hC(t)?[]:Zxe(t,this._c):[].concat(s),a],l=o[0],c=o.reduce((d,u)=>{const h=T6(t,u,n);return d.top=fl(h.top,d.top),d.right=Nm(h.right,d.right),d.bottom=Nm(h.bottom,d.bottom),d.left=fl(h.left,d.left),d},T6(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tge(e){const{width:t,height:s}=CK(e);return{width:t,height:s}}function rge(e,t,s){const a=Zd(t),n=au(t),i=s==="fixed",o=dp(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wd(0);function d(){c.x=AI(n)}if(a||!a&&!i)if((U0(t)!=="body"||dj(n))&&(l=mC(t)),a){const p=dp(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else n&&d();i&&!a&&n&&d();const u=n&&!a&&!i?EK(n,l):Wd(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function cP(e){return id(e).position==="static"}function _6(e,t){if(!Zd(e)||id(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return au(e)===s&&(s=s.ownerDocument.body),s}function TK(e,t){const s=kl(e);if(hC(e))return s;if(!Zd(e)){let n=Sm(e);for(;n&&!Vg(n);){if(nd(n)&&!cP(n))return n;n=Sm(n)}return s}let a=_6(e,t);for(;a&&Lxe(a)&&cP(a);)a=_6(a,t);return a&&Vg(a)&&cP(a)&&!SI(a)?s:a||zxe(e)||s}const sge=async function(e){const t=this.getOffsetParent||TK,s=this.getDimensions,a=await s(e.floating);return{reference:rge(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function age(e){return id(e).direction==="rtl"}const nge={convertOffsetParentRelativeRectToViewportRelativeRect:Gxe,getDocumentElement:au,getClippingRect:ege,getOffsetParent:TK,getElementRects:sge,getClientRects:Kxe,getDimensions:tge,getScale:dg,isElement:nd,isRTL:age};function _K(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ige(e,t){let s=null,a;const n=au(e);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const g=O1(h),x=O1(n.clientWidth-(u+m)),y=O1(n.clientHeight-(h+p)),b=O1(u),v={rootMargin:-g+"px "+-x+"px "+-y+"px "+-b+"px",threshold:fl(0,Nm(1,c))||1};let S=!0;function j(k){const N=k[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):a=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!_K(d,e.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(j,{...v,root:n.ownerDocument})}catch{s=new IntersectionObserver(j,v)}s.observe(e)}return o(!0),i}function oge(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=CI(e),u=n||i?[...d?Db(d):[],...Db(t)]:[];u.forEach(b=>{n&&b.addEventListener("scroll",s,{passive:!0}),i&&b.addEventListener("resize",s)});const h=d&&l?ige(d,s):null;let m=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let g,x=c?dp(e):null;c&&y();function y(){const b=dp(e);x&&!_K(x,b)&&s(),x=b,g=requestAnimationFrame(y)}return s(),()=>{var b;u.forEach(w=>{n&&w.removeEventListener("scroll",s),i&&w.removeEventListener("resize",s)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const lge=Dxe,cge=Oxe,dge=Pxe,uge=Rxe,hge=Txe,D6=Exe,mge=Ixe,fge=(e,t,s)=>{const a=new Map,n={platform:nge,...s},i={...n.platform,_c:a};return Axe(e,t,{...n,platform:i})};var pge=typeof document<"u",xge=function(){},GN=pge?f.useLayoutEffect:xge;function q2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!q2(e[a],t[a]))return!1;return!0}if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!q2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function DK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function O6(e,t){const s=DK(e);return Math.round(t*s)/s}function dP(e){const t=f.useRef(e);return GN(()=>{t.current=e}),t}function gge(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(a);q2(m,a)||p(a);const[g,x]=f.useState(null),[y,b]=f.useState(null),w=f.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[]),v=f.useCallback(R=>{R!==N.current&&(N.current=R,b(R))},[]),S=i||g,j=o||y,k=f.useRef(null),N=f.useRef(null),C=f.useRef(u),A=c!=null,E=dP(c),D=dP(n),T=dP(d),P=f.useCallback(()=>{if(!k.current||!N.current)return;const R={placement:t,strategy:s,middleware:m};D.current&&(R.platform=D.current),fge(k.current,N.current,R).then(L=>{const K={...L,isPositioned:T.current!==!1};_.current&&!q2(C.current,K)&&(C.current=K,rc.flushSync(()=>{h(K)}))})},[m,t,s,D,T]);GN(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const _=f.useRef(!1);GN(()=>(_.current=!0,()=>{_.current=!1}),[]),GN(()=>{if(S&&(k.current=S),j&&(N.current=j),S&&j){if(E.current)return E.current(S,j,P);P()}},[S,j,P,E,A]);const O=f.useMemo(()=>({reference:k,floating:N,setReference:w,setFloating:v}),[w,v]),M=f.useMemo(()=>({reference:S,floating:j}),[S,j]),I=f.useMemo(()=>{const R={position:s,left:0,top:0};if(!M.floating)return R;const L=O6(M.floating,u.x),K=O6(M.floating,u.y);return l?{...R,transform:"translate("+L+"px, "+K+"px)",...DK(M.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:L,top:K}},[s,l,M.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:P,refs:O,elements:M,floatingStyles:I}),[u,P,O,M,I])}const vge=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:n}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?D6({element:a.current,padding:n}).fn(s):{}:a?D6({element:a,padding:n}).fn(s):{}}}},yge=(e,t)=>({...lge(e),options:[e,t]}),bge=(e,t)=>({...cge(e),options:[e,t]}),wge=(e,t)=>({...mge(e),options:[e,t]}),jge=(e,t)=>({...dge(e),options:[e,t]}),Nge=(e,t)=>({...uge(e),options:[e,t]}),Sge=(e,t)=>({...hge(e),options:[e,t]}),kge=(e,t)=>({...vge(e),options:[e,t]});var Cge="Arrow",OK=f.forwardRef((e,t)=>{const{children:s,width:a=10,height:n=5,...i}=e;return r.jsx(Bt.svg,{...i,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});OK.displayName=Cge;var Age=OK;function uj(e){const[t,s]=f.useState(void 0);return vn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var EI="Popper",[IK,Fm]=on(EI),[Ege,RK]=IK(EI),MK=e=>{const{__scopePopper:t,children:s}=e,[a,n]=f.useState(null);return r.jsx(Ege,{scope:t,anchor:a,onAnchorChange:n,children:s})};MK.displayName=EI;var FK="PopperAnchor",LK=f.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...n}=e,i=RK(FK,s),o=f.useRef(null),l=Pr(t,o);return f.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:r.jsx(Bt.div,{...n,ref:l})});LK.displayName=FK;var PI="PopperContent",[Pge,Tge]=IK(PI),$K=f.forwardRef((e,t)=>{var z,ie,re,q,se,B;const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,y=RK(PI,s),[b,w]=f.useState(null),v=Pr(t,oe=>w(oe)),[S,j]=f.useState(null),k=uj(S),N=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,A=a+(i!=="center"?"-"+i:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],T=D.length>0,P={padding:E,boundary:D.filter(Dge),altBoundary:T},{refs:_,floatingStyles:O,placement:M,isPositioned:I,middlewareData:R}=gge({strategy:"fixed",placement:A,whileElementsMounted:(...oe)=>oge(...oe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[yge({mainAxis:n+C,alignmentAxis:o}),c&&bge({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wge():void 0,...P}),c&&jge({...P}),Nge({...P,apply:({elements:oe,rects:de,availableWidth:Te,availableHeight:He})=>{const{width:Oe,height:me}=de.reference,Ue=oe.floating.style;Ue.setProperty("--radix-popper-available-width",`${Te}px`),Ue.setProperty("--radix-popper-available-height",`${He}px`),Ue.setProperty("--radix-popper-anchor-width",`${Oe}px`),Ue.setProperty("--radix-popper-anchor-height",`${me}px`)}}),S&&kge({element:S,padding:l}),Oge({arrowWidth:N,arrowHeight:C}),m&&Sge({strategy:"referenceHidden",...P})]}),[L,K]=VK(M),H=Qa(g);vn(()=>{I&&(H==null||H())},[I,H]);const F=(z=R.arrow)==null?void 0:z.x,G=(ie=R.arrow)==null?void 0:ie.y,U=((re=R.arrow)==null?void 0:re.centerOffset)!==0,[W,J]=f.useState();return vn(()=>{b&&J(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:I?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(q=R.transformOrigin)==null?void 0:q.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((B=R.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Pge,{scope:s,placedSide:L,onArrowChange:j,arrowX:F,arrowY:G,shouldHideArrow:U,children:r.jsx(Bt.div,{"data-side":L,"data-align":K,...x,ref:v,style:{...x.style,animation:I?void 0:"none"}})})})});$K.displayName=PI;var BK="PopperArrow",_ge={top:"bottom",right:"left",bottom:"top",left:"right"},UK=f.forwardRef(function(t,s){const{__scopePopper:a,...n}=t,i=Tge(BK,a),o=_ge[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(Age,{...n,ref:s,style:{...n.style,display:"block"}})})});UK.displayName=BK;function Dge(e){return e!==null}var Oge=e=>({name:"transformOrigin",options:e,fn(t){var y,b,w;const{placement:s,rects:a,middlewareData:n}=t,o=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=VK(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((b=n.arrow)==null?void 0:b.x)??0)+l/2,p=(((w=n.arrow)==null?void 0:w.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?h:`${m}px`,x=`${-c}px`):d==="top"?(g=o?h:`${m}px`,x=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?h:`${p}px`):d==="left"&&(g=`${a.floating.width+c}px`,x=o?h:`${p}px`),{data:{x:g,y:x}}}});function VK(e){const[t,s="center"]=e.split("-");return[t,s]}var TI=MK,hj=LK,fC=$K,pC=UK,[xC,p0t]=on("Tooltip",[Fm]),_I=Fm(),zK="TooltipProvider",Ige=700,I6="tooltip.open",[Rge,WK]=xC(zK),HK=e=>{const{__scopeTooltip:t,delayDuration:s=Ige,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(Rge,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:i})};HK.displayName=zK;var qK="Tooltip",[x0t,gC]=xC(qK),n_="TooltipTrigger",Mge=f.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,n=gC(n_,s),i=WK(n_,s),o=_I(s),l=f.useRef(null),c=Pr(t,l,n.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(hj,{asChild:!0,...o,children:r.jsx(Bt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:bt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:bt(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:bt(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:bt(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:bt(e.onBlur,n.onClose),onClick:bt(e.onClick,n.onClose)})})});Mge.displayName=n_;var Fge="TooltipPortal",[g0t,Lge]=xC(Fge,{forceMount:void 0}),zg="TooltipContent",GK=f.forwardRef((e,t)=>{const s=Lge(zg,e.__scopeTooltip),{forceMount:a=s.forceMount,side:n="top",...i}=e,o=gC(zg,e.__scopeTooltip);return r.jsx(qn,{present:a||o.open,children:o.disableHoverableContent?r.jsx(KK,{side:n,...i,ref:t}):r.jsx($ge,{side:n,...i,ref:t})})}),$ge=f.forwardRef((e,t)=>{const s=gC(zg,e.__scopeTooltip),a=WK(zg,e.__scopeTooltip),n=f.useRef(null),i=Pr(t,n),[o,l]=f.useState(null),{trigger:c,onClose:d}=s,u=n.current,{onPointerInTransitChange:h}=a,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((g,x)=>{const y=g.currentTarget,b={x:g.clientX,y:g.clientY},w=Wge(b,y.getBoundingClientRect()),v=Hge(b,w),S=qge(x.getBoundingClientRect()),j=Kge([...v,...S]);l(j),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const g=y=>p(y,u),x=y=>p(y,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",x)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const g=x=>{const y=x.target,b={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),v=!Gge(b,o);w?m():v&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,m]),r.jsx(KK,{...e,ref:i})}),[Bge,Uge]=xC(qK,{isInside:!1}),Vge=AG("TooltipContent"),KK=f.forwardRef((e,t)=>{const{__scopeTooltip:s,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=gC(zg,s),d=_I(s),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(I6,u),()=>document.removeEventListener(I6,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),r.jsx(Op,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:r.jsxs(fC,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Vge,{children:a}),r.jsx(Bge,{scope:s,isInside:!0,children:r.jsx(lfe,{id:c.contentId,role:"tooltip",children:n||a})})]})})});GK.displayName=zg;var YK="TooltipArrow",zge=f.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,n=_I(s);return Uge(YK,s).isInside?null:r.jsx(pC,{...n,...a,ref:t})});zge.displayName=YK;function Wge(e,t){const s=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(s,a,n,i)){case i:return"left";case n:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Hge(e,t,s=5){const a=[];switch(t){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function qge(e){const{top:t,right:s,bottom:a,left:n}=e;return[{x:n,y:t},{x:s,y:t},{x:s,y:a},{x:n,y:a}]}function Gge(e,t){const{x:s,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>a!=m>a&&s<(h-d)*(a-u)/(m-u)+d&&(n=!n)}return n}function Kge(e){const t=e.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),Yge(t)}function Yge(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const s=[];for(let a=e.length-1;a>=0;a--){const n=e[a];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))s.pop();else break}s.push(n)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var Xge=HK,XK=GK;const Qge=Xge,Jge=f.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(XK,{ref:a,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));Jge.displayName=XK.displayName;var vC=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yC=typeof window>"u"||"Deno"in globalThis;function Lc(){}function Zge(e,t){return typeof e=="function"?e(t):e}function e0e(e){return typeof e=="number"&&e>=0&&e!==1/0}function t0e(e,t){return Math.max(e+(t||0)-Date.now(),0)}function i_(e,t){return typeof e=="function"?e(t):e}function r0e(e,t){return typeof e=="function"?e(t):e}function R6(e,t){const{type:s="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==DI(o,t.options))return!1}else if(!Ib(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function M6(e,t){const{exact:s,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Ob(t.options.mutationKey)!==Ob(i))return!1}else if(!Ib(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function DI(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ob)(e)}function Ob(e){return JSON.stringify(e,(t,s)=>o_(s)?Object.keys(s).sort().reduce((a,n)=>(a[n]=s[n],a),{}):s)}function Ib(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ib(e[s],t[s])):!1}function QK(e,t){if(e===t)return e;const s=F6(e)&&F6(t);if(s||o_(e)&&o_(t)){const a=s?e:Object.keys(e),n=a.length,i=s?t:Object.keys(t),o=i.length,l=s?[]:{},c=new Set(a);let d=0;for(let u=0;u<o;u++){const h=s?u:i[u];(!s&&c.has(h)||s)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=QK(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return n===o&&d===n?e:l}return t}function F6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function o_(e){if(!L6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!L6(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function L6(e){return Object.prototype.toString.call(e)==="[object Object]"}function s0e(e){return new Promise(t=>{setTimeout(t,e)})}function a0e(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?QK(e,t):t}function n0e(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function i0e(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var OI=Symbol();function JK(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===OI?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Mf,Fh,Ag,sH,o0e=(sH=class extends vC{constructor(){super();qs(this,Mf);qs(this,Fh);qs(this,Ag);is(this,Ag,t=>{if(!yC&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){xt(this,Fh)||this.setEventListener(xt(this,Ag))}onUnsubscribe(){var t;this.hasListeners()||((t=xt(this,Fh))==null||t.call(this),is(this,Fh,void 0))}setEventListener(t){var s;is(this,Ag,t),(s=xt(this,Fh))==null||s.call(this),is(this,Fh,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){xt(this,Mf)!==t&&(is(this,Mf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof xt(this,Mf)=="boolean"?xt(this,Mf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mf=new WeakMap,Fh=new WeakMap,Ag=new WeakMap,sH),ZK=new o0e,Eg,Lh,Pg,aH,l0e=(aH=class extends vC{constructor(){super();qs(this,Eg,!0);qs(this,Lh);qs(this,Pg);is(this,Pg,t=>{if(!yC&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){xt(this,Lh)||this.setEventListener(xt(this,Pg))}onUnsubscribe(){var t;this.hasListeners()||((t=xt(this,Lh))==null||t.call(this),is(this,Lh,void 0))}setEventListener(t){var s;is(this,Pg,t),(s=xt(this,Lh))==null||s.call(this),is(this,Lh,t(this.setOnline.bind(this)))}setOnline(t){xt(this,Eg)!==t&&(is(this,Eg,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return xt(this,Eg)}},Eg=new WeakMap,Lh=new WeakMap,Pg=new WeakMap,aH),G2=new l0e;function c0e(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function a(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},s.reject=n=>{a({status:"rejected",reason:n}),t(n)},s}function d0e(e){return Math.min(1e3*2**e,3e4)}function eY(e){return(e??"online")==="online"?G2.isOnline():!0}var tY=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uP(e){return e instanceof tY}function rY(e){let t=!1,s=0,a=!1,n;const i=c0e(),o=x=>{var y;a||(m(new tY(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>ZK.isFocused()&&(e.networkMode==="always"||G2.isOnline())&&e.canRun(),u=()=>eY(e.networkMode)&&e.canRun(),h=x=>{var y;a||(a=!0,(y=e.onSuccess)==null||y.call(e,x),n==null||n(),i.resolve(x))},m=x=>{var y;a||(a=!0,(y=e.onError)==null||y.call(e,x),n==null||n(),i.reject(x))},p=()=>new Promise(x=>{var y;n=b=>{(a||d())&&x(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;n=void 0,a||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(a)return;let x;const y=s===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(b){x=Promise.reject(b)}Promise.resolve(x).then(h).catch(b=>{var k;if(a)return;const w=e.retry??(yC?0:3),v=e.retryDelay??d0e,S=typeof v=="function"?v(s,b):v,j=w===!0||typeof w=="number"&&s<w||typeof w=="function"&&w(s,b);if(t||!j){m(b);return}s++,(k=e.onFail)==null||k.call(e,s,b),s0e(S).then(()=>d()?void 0:p()).then(()=>{t?m(b):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var u0e=e=>setTimeout(e,0);function h0e(){let e=[],t=0,s=l=>{l()},a=l=>{l()},n=u0e;const i=l=>{t?e.push(l):n(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{a(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var go=h0e(),Ff,nH,sY=(nH=class{constructor(){qs(this,Ff)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e0e(this.gcTime)&&is(this,Ff,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yC?1/0:5*60*1e3))}clearGcTimeout(){xt(this,Ff)&&(clearTimeout(xt(this,Ff)),is(this,Ff,void 0))}},Ff=new WeakMap,nH),Tg,Lf,ql,$f,qi,Jw,Bf,$c,yu,iH,m0e=(iH=class extends sY{constructor(t){super();qs(this,$c);qs(this,Tg);qs(this,Lf);qs(this,ql);qs(this,$f);qs(this,qi);qs(this,Jw);qs(this,Bf);is(this,Bf,!1),is(this,Jw,t.defaultOptions),this.setOptions(t.options),this.observers=[],is(this,$f,t.client),is(this,ql,xt(this,$f).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,is(this,Tg,p0e(this.options)),this.state=t.state??xt(this,Tg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xt(this,qi))==null?void 0:t.promise}setOptions(t){this.options={...xt(this,Jw),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xt(this,ql).remove(this)}setData(t,s){const a=a0e(this.state.data,t,this.options);return Ui(this,$c,yu).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(t,s){Ui(this,$c,yu).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var a,n;const s=(a=xt(this,qi))==null?void 0:a.promise;return(n=xt(this,qi))==null||n.cancel(t),s?s.then(Lc).catch(Lc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xt(this,Tg))}isActive(){return this.observers.some(t=>r0e(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>i_(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!t0e(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=xt(this,qi))==null||s.continue()}onOnline(){var s;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=xt(this,qi))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xt(this,ql).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(xt(this,qi)&&(xt(this,Bf)?xt(this,qi).cancel({revert:!0}):xt(this,qi).cancelRetry()),this.scheduleGc()),xt(this,ql).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ui(this,$c,yu).call(this,{type:"invalidate"})}fetch(t,s){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(xt(this,qi))return xt(this,qi).continueRetry(),xt(this,qi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,n=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(is(this,Bf,!0),a.signal)})},i=()=>{const m=JK(this.options,s),g=(()=>{const x={client:xt(this,$f),queryKey:this.queryKey,meta:this.meta};return n(x),x})();return is(this,Bf,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l=(()=>{const m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:xt(this,$f),state:this.state,fetchFn:i};return n(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),is(this,Lf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Ui(this,$c,yu).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,g,x,y;uP(m)&&m.silent||Ui(this,$c,yu).call(this,{type:"error",error:m}),uP(m)||((g=(p=xt(this,ql).config).onError)==null||g.call(p,m,this),(y=(x=xt(this,ql).config).onSettled)==null||y.call(x,this.state.data,m,this)),this.scheduleGc()};return is(this,qi,rY({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var p,g,x,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){c(b);return}(g=(p=xt(this,ql).config).onSuccess)==null||g.call(p,m,this),(y=(x=xt(this,ql).config).onSettled)==null||y.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{Ui(this,$c,yu).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Ui(this,$c,yu).call(this,{type:"pause"})},onContinue:()=>{Ui(this,$c,yu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xt(this,qi).start()}},Tg=new WeakMap,Lf=new WeakMap,ql=new WeakMap,$f=new WeakMap,qi=new WeakMap,Jw=new WeakMap,Bf=new WeakMap,$c=new WeakSet,yu=function(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...f0e(a.data,this.options),fetchMeta:t.meta??null};case"success":return is(this,Lf,void 0),{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return uP(n)&&n.revert&&xt(this,Lf)?{...xt(this,Lf),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),go.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),xt(this,ql).notify({query:this,type:"updated",action:t})})},iH);function f0e(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eY(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function p0e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ad,oH,x0e=(oH=class extends vC{constructor(t={}){super();qs(this,Ad);this.config=t,is(this,Ad,new Map)}build(t,s,a){const n=s.queryKey,i=s.queryHash??DI(n,s);let o=this.get(i);return o||(o=new m0e({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){xt(this,Ad).has(t.queryHash)||(xt(this,Ad).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=xt(this,Ad).get(t.queryHash);s&&(t.destroy(),s===t&&xt(this,Ad).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){go.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xt(this,Ad).get(t)}getAll(){return[...xt(this,Ad).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>R6(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>R6(t,a)):s}notify(t){go.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){go.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){go.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ad=new WeakMap,oH),Ed,ho,Uf,Pd,jh,lH,g0e=(lH=class extends sY{constructor(t){super();qs(this,Pd);qs(this,Ed);qs(this,ho);qs(this,Uf);this.mutationId=t.mutationId,is(this,ho,t.mutationCache),is(this,Ed,[]),this.state=t.state||v0e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xt(this,Ed).includes(t)||(xt(this,Ed).push(t),this.clearGcTimeout(),xt(this,ho).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){is(this,Ed,xt(this,Ed).filter(s=>s!==t)),this.scheduleGc(),xt(this,ho).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xt(this,Ed).length||(this.state.status==="pending"?this.scheduleGc():xt(this,ho).remove(this))}continue(){var t;return((t=xt(this,Uf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,g,x,y,b,w,v,S,j,k,N,C;const s=()=>{Ui(this,Pd,jh).call(this,{type:"continue"})};is(this,Uf,rY({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Ui(this,Pd,jh).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Ui(this,Pd,jh).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xt(this,ho).canRun(this)}));const a=this.state.status==="pending",n=!xt(this,Uf).canStart();try{if(a)s();else{Ui(this,Pd,jh).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(i=xt(this,ho).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Ui(this,Pd,jh).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const A=await xt(this,Uf).start();return await((u=(d=xt(this,ho).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,A,t,this.state.context)),await((g=(p=xt(this,ho).config).onSettled)==null?void 0:g.call(p,A,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,A,null,t,this.state.context)),Ui(this,Pd,jh).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(b=xt(this,ho).config).onError)==null?void 0:w.call(b,A,t,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,A,t,this.state.context)),await((k=(j=xt(this,ho).config).onSettled)==null?void 0:k.call(j,void 0,A,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,A,t,this.state.context)),A}finally{Ui(this,Pd,jh).call(this,{type:"error",error:A})}}finally{xt(this,ho).runNext(this)}}},Ed=new WeakMap,ho=new WeakMap,Uf=new WeakMap,Pd=new WeakSet,jh=function(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),go.batch(()=>{xt(this,Ed).forEach(a=>{a.onMutationUpdate(t)}),xt(this,ho).notify({mutation:this,type:"updated",action:t})})},lH);function v0e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nu,Bc,Zw,cH,y0e=(cH=class extends vC{constructor(t={}){super();qs(this,Nu);qs(this,Bc);qs(this,Zw);this.config=t,is(this,Nu,new Set),is(this,Bc,new Map),is(this,Zw,0)}build(t,s,a){const n=new g0e({mutationCache:this,mutationId:++d1(this,Zw)._,options:t.defaultMutationOptions(s),state:a});return this.add(n),n}add(t){xt(this,Nu).add(t);const s=I1(t);if(typeof s=="string"){const a=xt(this,Bc).get(s);a?a.push(t):xt(this,Bc).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(xt(this,Nu).delete(t)){const s=I1(t);if(typeof s=="string"){const a=xt(this,Bc).get(s);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&xt(this,Bc).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=I1(t);if(typeof s=="string"){const a=xt(this,Bc).get(s),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const s=I1(t);if(typeof s=="string"){const n=(a=xt(this,Bc).get(s))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){go.batch(()=>{xt(this,Nu).forEach(t=>{this.notify({type:"removed",mutation:t})}),xt(this,Nu).clear(),xt(this,Bc).clear()})}getAll(){return Array.from(xt(this,Nu))}find(t){const s={exact:!0,...t};return this.getAll().find(a=>M6(s,a))}findAll(t={}){return this.getAll().filter(s=>M6(t,s))}notify(t){go.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return go.batch(()=>Promise.all(t.map(s=>s.continue().catch(Lc))))}},Nu=new WeakMap,Bc=new WeakMap,Zw=new WeakMap,cH);function I1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function $6(e){return{onFetch:(t,s)=>{var u,h,m,p,g;const a=t.options,n=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},b=JK(t.options,t.fetchOptions),w=async(v,S,j)=>{if(x)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return y(D),D})(),C=await b(N),{maxPages:A}=t.options,E=j?i0e:n0e;return{pages:E(v.pages,C,A),pageParams:E(v.pageParams,S,A)}};if(n&&i.length){const v=n==="backward",S=v?b0e:B6,j={pages:i,pageParams:o},k=S(a,j);l=await w(j,k,v)}else{const v=e??i.length;do{const S=c===0?o[0]??a.initialPageParam:B6(a,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function B6(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function b0e(e,{pages:t,pageParams:s}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,s[0],s):void 0}var dn,$h,Bh,_g,Dg,Uh,Og,Ig,dH,w0e=(dH=class{constructor(e={}){qs(this,dn);qs(this,$h);qs(this,Bh);qs(this,_g);qs(this,Dg);qs(this,Uh);qs(this,Og);qs(this,Ig);is(this,dn,e.queryCache||new x0e),is(this,$h,e.mutationCache||new y0e),is(this,Bh,e.defaultOptions||{}),is(this,_g,new Map),is(this,Dg,new Map),is(this,Uh,0)}mount(){d1(this,Uh)._++,xt(this,Uh)===1&&(is(this,Og,ZK.subscribe(async e=>{e&&(await this.resumePausedMutations(),xt(this,dn).onFocus())})),is(this,Ig,G2.subscribe(async e=>{e&&(await this.resumePausedMutations(),xt(this,dn).onOnline())})))}unmount(){var e,t;d1(this,Uh)._--,xt(this,Uh)===0&&((e=xt(this,Og))==null||e.call(this),is(this,Og,void 0),(t=xt(this,Ig))==null||t.call(this),is(this,Ig,void 0))}isFetching(e){return xt(this,dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xt(this,$h).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xt(this,dn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=xt(this,dn).build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(i_(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return xt(this,dn).findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),n=xt(this,dn).get(a.queryHash),i=n==null?void 0:n.state.data,o=Zge(t,i);if(o!==void 0)return xt(this,dn).build(this,a).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return go.batch(()=>xt(this,dn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xt(this,dn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=xt(this,dn);go.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=xt(this,dn);return go.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=go.batch(()=>xt(this,dn).findAll(e).map(n=>n.cancel(s)));return Promise.all(a).then(Lc).catch(Lc)}invalidateQueries(e,t={}){return go.batch(()=>(xt(this,dn).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=go.batch(()=>xt(this,dn).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(Lc)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Lc)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=xt(this,dn).build(this,t);return s.isStaleByTime(i_(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lc).catch(Lc)}fetchInfiniteQuery(e){return e.behavior=$6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lc).catch(Lc)}ensureInfiniteQueryData(e){return e.behavior=$6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return G2.isOnline()?xt(this,$h).resumePausedMutations():Promise.resolve()}getQueryCache(){return xt(this,dn)}getMutationCache(){return xt(this,$h)}getDefaultOptions(){return xt(this,Bh)}setDefaultOptions(e){is(this,Bh,e)}setQueryDefaults(e,t){xt(this,_g).set(Ob(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xt(this,_g).values()],s={};return t.forEach(a=>{Ib(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){xt(this,Dg).set(Ob(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xt(this,Dg).values()],s={};return t.forEach(a=>{Ib(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xt(this,Bh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=DI(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===OI&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xt(this,Bh).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xt(this,dn).clear(),xt(this,$h).clear()}},dn=new WeakMap,$h=new WeakMap,Bh=new WeakMap,_g=new WeakMap,Dg=new WeakMap,Uh=new WeakMap,Og=new WeakMap,Ig=new WeakMap,dH),j0e=f.createContext(void 0),N0e=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(j0e.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Rb.apply(this,arguments)}var Hh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hh||(Hh={}));const U6="popstate";function S0e(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return l_("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:K2(n)}return C0e(t,s,null,e)}function En(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aY(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k0e(){return Math.random().toString(36).substr(2,8)}function V6(e,t){return{usr:e.state,key:e.key,idx:t}}function l_(e,t,s,a){return s===void 0&&(s=null),Rb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?V0(t):t,{state:s,key:t&&t.key||a||k0e()})}function K2(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function V0(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function C0e(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Hh.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Rb({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Hh.Pop;let y=u(),b=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:b})}function m(y,b){l=Hh.Push;let w=l_(x.location,y,b);d=u()+1;let v=V6(w,d),S=x.createHref(w);try{o.pushState(v,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,b){l=Hh.Replace;let w=l_(x.location,y,b);d=u();let v=V6(w,d),S=x.createHref(w);o.replaceState(v,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let b=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof y=="string"?y:K2(y);return w=w.replace(/ $/,"%20"),En(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let x={get action(){return l},get location(){return e(n,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(U6,h),c=y,()=>{n.removeEventListener(U6,h),c=null}},createHref(y){return t(n,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(y){return o.go(y)}};return x}var z6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(z6||(z6={}));function A0e(e,t,s){return s===void 0&&(s="/"),E0e(e,t,s,!1)}function E0e(e,t,s,a){let n=typeof t=="string"?V0(t):t,i=II(n.pathname||"/",s);if(i==null)return null;let o=nY(e);P0e(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=B0e(i);l=L0e(o[c],d,a)}return l}function nY(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(En(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=dm([a,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(En(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nY(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:M0e(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of iY(i.path))n(i,o,c)}),t}function iY(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=iY(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function P0e(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:F0e(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const T0e=/^:[\w-]+$/,_0e=3,D0e=2,O0e=1,I0e=10,R0e=-2,W6=e=>e==="*";function M0e(e,t){let s=e.split("/"),a=s.length;return s.some(W6)&&(a+=R0e),t&&(a+=D0e),s.filter(n=>!W6(n)).reduce((n,i)=>n+(T0e.test(i)?_0e:i===""?O0e:I0e),a)}function F0e(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function L0e(e,t,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=H6({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!a[a.length-1].route.index&&(h=H6({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:dm([i,h.pathname]),pathnameBase:W0e(dm([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=dm([i,h.pathnameBase]))}return o}function H6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=$0e(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function $0e(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),aY(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function B0e(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aY(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function II(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function U0e(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?V0(e):e;return{pathname:s?s.startsWith("/")?s:V0e(s,t):t,search:H0e(a),hash:q0e(n)}}function V0e(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function hP(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z0e(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function RI(e,t){let s=z0e(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function MI(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=V0(e):(n=Rb({},e),En(!n.pathname||!n.pathname.includes("?"),hP("?","pathname","search",n)),En(!n.pathname||!n.pathname.includes("#"),hP("#","pathname","hash",n)),En(!n.search||!n.search.includes("#"),hP("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=U0e(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const dm=e=>e.join("/").replace(/\/\/+/g,"/"),W0e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H0e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,q0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function G0e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oY=["post","put","patch","delete"];new Set(oY);const K0e=["get",...oY];new Set(K0e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Mb.apply(this,arguments)}const FI=f.createContext(null),Y0e=f.createContext(null),Lm=f.createContext(null),bC=f.createContext(null),nu=f.createContext({outlet:null,matches:[],isDataRoute:!1}),lY=f.createContext(null);function X0e(e,t){let{relative:s}=t===void 0?{}:t;z0()||En(!1);let{basename:a,navigator:n}=f.useContext(Lm),{hash:i,pathname:o,search:l}=dY(e,{relative:s}),c=o;return a!=="/"&&(c=o==="/"?a:dm([a,o])),n.createHref({pathname:c,search:l,hash:i})}function z0(){return f.useContext(bC)!=null}function Gn(){return z0()||En(!1),f.useContext(bC).location}function cY(e){f.useContext(Lm).static||f.useLayoutEffect(e)}function ts(){let{isDataRoute:e}=f.useContext(nu);return e?uve():Q0e()}function Q0e(){z0()||En(!1);let e=f.useContext(FI),{basename:t,future:s,navigator:a}=f.useContext(Lm),{matches:n}=f.useContext(nu),{pathname:i}=Gn(),o=JSON.stringify(RI(n,s.v7_relativeSplatPath)),l=f.useRef(!1);return cY(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=MI(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:dm([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,o,i,e])}const J0e=f.createContext(null);function Z0e(e){let t=f.useContext(nu).outlet;return t&&f.createElement(J0e.Provider,{value:e},t)}function $m(){let{matches:e}=f.useContext(nu),t=e[e.length-1];return t?t.params:{}}function dY(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=f.useContext(Lm),{matches:n}=f.useContext(nu),{pathname:i}=Gn(),o=JSON.stringify(RI(n,a.v7_relativeSplatPath));return f.useMemo(()=>MI(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function eve(e,t){return tve(e,t)}function tve(e,t,s,a){z0()||En(!1);let{navigator:n}=f.useContext(Lm),{matches:i}=f.useContext(nu),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Gn(),u;if(t){var h;let y=typeof t=="string"?V0(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||En(!1),u=y}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=A0e(e,{pathname:p}),x=ive(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:dm([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:dm([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,a);return t&&x?f.createElement(bC.Provider,{value:{location:Mb({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hh.Pop}},x):x}function rve(){let e=dve(),t=G0e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),s?f.createElement("pre",{style:n},s):null,null)}const sve=f.createElement(rve,null);class ave extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?f.createElement(nu.Provider,{value:this.props.routeContext},f.createElement(lY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nve(e){let{routeContext:t,match:s,children:a}=e,n=f.useContext(FI);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(nu.Provider,{value:t},a)}function ive(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||En(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=s,g=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,g=!1,x=null,y=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||sve,c&&(d<0&&m===0?(g=!0,y=null):d===m&&(g=!0,y=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,m+1)),w=()=>{let v;return p?v=x:g?v=y:h.route.Component?v=f.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,f.createElement(nve,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(ave,{location:s.location,revalidation:s.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var uY=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uY||{}),Y2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y2||{});function ove(e){let t=f.useContext(FI);return t||En(!1),t}function lve(e){let t=f.useContext(Y0e);return t||En(!1),t}function cve(e){let t=f.useContext(nu);return t||En(!1),t}function hY(e){let t=cve(),s=t.matches[t.matches.length-1];return s.route.id||En(!1),s.route.id}function dve(){var e;let t=f.useContext(lY),s=lve(Y2.UseRouteError),a=hY(Y2.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function uve(){let{router:e}=ove(uY.UseNavigateStable),t=hY(Y2.UseNavigateStable),s=f.useRef(!1);return cY(()=>{s.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Mb({fromRouteId:t},i)))},[e,t])}function hve(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function c_(e){let{to:t,replace:s,state:a,relative:n}=e;z0()||En(!1);let{future:i,static:o}=f.useContext(Lm),{matches:l}=f.useContext(nu),{pathname:c}=Gn(),d=ts(),u=MI(t,RI(l,i.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:s,state:a,relative:n}),[d,h,n,s,a]),null}function wC(e){return Z0e(e.context)}function nt(e){En(!1)}function mve(e){let{basename:t="/",children:s=null,location:a,navigationType:n=Hh.Pop,navigator:i,static:o=!1,future:l}=e;z0()&&En(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:Mb({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=V0(a));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:g="default"}=a,x=f.useMemo(()=>{let y=II(u,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:p,key:g},navigationType:n}},[c,u,h,m,p,g,n]);return x==null?null:f.createElement(Lm.Provider,{value:d},f.createElement(bC.Provider,{children:s,value:x}))}function mY(e){let{children:t,location:s}=e;return eve(d_(t),s)}new Promise(()=>{});function d_(e,t){t===void 0&&(t=[]);let s=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...t,n];if(a.type===f.Fragment){s.push.apply(s,d_(a.props.children,i));return}a.type!==nt&&En(!1),!a.props.index||!a.props.children||En(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=d_(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},u_.apply(this,arguments)}function fve(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function pve(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xve(e,t){return e.button===0&&(!t||t==="_self")&&!pve(e)}function h_(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function gve(e,t){let s=h_(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const vve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yve="6";try{window.__reactRouterVersion=yve}catch{}const bve="startTransition",q6=mO[bve];function wve(e){let{basename:t,children:s,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=S0e({window:n,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=f.useCallback(h=>{d&&q6?q6(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>hve(a),[a]),f.createElement(mve,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const jve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nve=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=f.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=fve(t,vve),{basename:p}=f.useContext(Lm),g,x=!1;if(typeof d=="string"&&Nve.test(d)&&(g=d,jve))try{let v=new URL(window.location.href),S=d.startsWith("//")?new URL(v.protocol+d):new URL(d),j=II(S.pathname,p);S.origin===v.origin&&j!=null?d=j+S.search+S.hash:x=!0}catch{}let y=X0e(d,{relative:n}),b=Sve(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:h});function w(v){a&&a(v),v.defaultPrevented||b(v)}return f.createElement("a",u_({},m,{href:g||y,onClick:x||i?a:w,ref:s,target:c}))});var G6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(G6||(G6={}));var K6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K6||(K6={}));function Sve(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ts(),d=Gn(),u=dY(e,{relative:o});return f.useCallback(h=>{if(xve(h,s)){h.preventDefault();let m=a!==void 0?a:K2(d)===K2(u);c(e,{replace:m,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,n,s,e,i,o,l])}function Bm(e){let t=f.useRef(h_(e)),s=f.useRef(!1),a=Gn(),n=f.useMemo(()=>gve(a.search,s.current?null:t.current),[a.search]),i=ts(),o=f.useCallback((l,c)=>{const d=h_(typeof l=="function"?l(n):l);s.current=!0,i("?"+d,c)},[i,n]);return[n,o]}function Jl(e){var t;if(!e)return"An error occurred";if(typeof e=="string")return e;if(e instanceof Error)return e.message||"An error occurred";if(typeof e=="object"){if("message"in e){const s=e.message;if(typeof s=="string")return s;if(typeof s=="object")return JSON.stringify(s)}if("status"in e&&"message"in e){const s=e.message;if(typeof s=="string")return s}if("response"in e){const s=e.response;if((t=s==null?void 0:s.data)!=null&&t.message)return typeof s.data.message=="string"?s.data.message:JSON.stringify(s.data.message)}try{return JSON.stringify(e)}catch{return"An error occurred"}}return"An error occurred"}function vo(e){return!e||typeof e!="object"?!1:"message"in e&&("error"in e||"statusCode"in e)}const Gr=e=>typeof e=="string",Mv=()=>{let e,t;const s=new Promise((a,n)=>{e=a,t=n});return s.resolve=e,s.reject=t,s},Y6=e=>e==null?"":""+e,kve=(e,t,s)=>{e.forEach(a=>{t[a]&&(s[a]=t[a])})},Cve=/###/g,X6=e=>e&&e.indexOf("###")>-1?e.replace(Cve,"."):e,Q6=e=>!e||Gr(e),My=(e,t,s)=>{const a=Gr(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(Q6(e))return{};const i=X6(a[n]);!e[i]&&s&&(e[i]=new s),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return Q6(e)?{}:{obj:e,k:X6(a[n])}},J6=(e,t,s)=>{const{obj:a,k:n}=My(e,t,Object);if(a!==void 0||t.length===1){a[n]=s;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=My(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=My(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},Ave=(e,t,s,a)=>{const{obj:n,k:i}=My(e,t,Object);n[i]=n[i]||[],n[i].push(s)},X2=(e,t)=>{const{obj:s,k:a}=My(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},Eve=(e,t,s)=>{const a=X2(e,s);return a!==void 0?a:X2(t,s)},fY=(e,t,s)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?Gr(e[a])||e[a]instanceof String||Gr(t[a])||t[a]instanceof String?s&&(e[a]=t[a]):fY(e[a],t[a],s):e[a]=t[a]);return e},nx=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Pve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Tve=e=>Gr(e)?e.replace(/[&<>"'\/]/g,t=>Pve[t]):e;class _ve{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const s=this.regExpMap.get(t);if(s!==void 0)return s;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const Dve=[" ",",","?","!",";"],Ove=new _ve(20),Ive=(e,t,s)=>{t=t||"",s=s||"";const a=Dve.filter(o=>t.indexOf(o)<0&&s.indexOf(o)<0);if(a.length===0)return!0;const n=Ove.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!n.test(e);if(!i){const o=e.indexOf(s);o>0&&!n.test(e.substring(0,o))&&(i=!0)}return i},m_=(e,t,s=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(s);let n=e;for(let i=0;i<a.length;){if(!n||typeof n!="object")return;let o,l="";for(let c=i;c<a.length;++c)if(c!==i&&(l+=s),l+=a[c],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;i+=c-i+1;break}n=o}return n},Fb=e=>e==null?void 0:e.replace("_","-"),Rve={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var s,a;(a=(s=console==null?void 0:console[e])==null?void 0:s.apply)==null||a.call(s,console,t)}};class Q2{constructor(t,s={}){this.init(t,s)}init(t,s={}){this.prefix=s.prefix||"i18next:",this.logger=t||Rve,this.options=s,this.debug=s.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,a,n){return n&&!this.debug?null:(Gr(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[s](t))}create(t){return new Q2(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Q2(this.logger,t)}}var Rd=new Q2;let jC=class{constructor(){this.observers={}}on(t,s){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const n=this.observers[a].get(s)||0;this.observers[a].set(s,n+1)}),this}off(t,s){if(this.observers[t]){if(!s){delete this.observers[t];return}this.observers[t].delete(s)}}emit(t,...s){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n.apply(n,[t,...s])})}};class Z6 extends jC{constructor(t,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const s=this.options.ns.indexOf(t);s>-1&&this.options.ns.splice(s,1)}getResource(t,s,a,n={}){var d,u;const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,s],a&&(Array.isArray(a)?l.push(...a):Gr(a)&&i?l.push(...a.split(i)):l.push(a)));const c=X2(this.data,l);return!c&&!s&&!a&&t.indexOf(".")>-1&&(t=l[0],s=l[1],a=l.slice(2).join(".")),c||!o||!Gr(a)?c:m_((u=(d=this.data)==null?void 0:d[t])==null?void 0:u[s],a,i)}addResource(t,s,a,n,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,s];a&&(l=l.concat(o?a.split(o):a)),t.indexOf(".")>-1&&(l=t.split("."),n=s,s=l[1]),this.addNamespaces(s),J6(this.data,l,n),i.silent||this.emit("added",t,s,a,n)}addResources(t,s,a,n={silent:!1}){for(const i in a)(Gr(a[i])||Array.isArray(a[i]))&&this.addResource(t,s,i,a[i],{silent:!0});n.silent||this.emit("added",t,s,a)}addResourceBundle(t,s,a,n,i,o={silent:!1,skipCopy:!1}){let l=[t,s];t.indexOf(".")>-1&&(l=t.split("."),n=a,a=s,s=l[1]),this.addNamespaces(s);let c=X2(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),n?fY(c,a,i):c={...c,...a},J6(this.data,l,c),o.silent||this.emit("added",t,s,a)}removeResourceBundle(t,s){this.hasResourceBundle(t,s)&&delete this.data[t][s],this.removeNamespaces(s),this.emit("removed",t,s)}hasResourceBundle(t,s){return this.getResource(t,s)!==void 0}getResourceBundle(t,s){return s||(s=this.options.defaultNS),this.getResource(t,s)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const s=this.getDataByLanguage(t);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var pY={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,a,n){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,s,a,n))??t}),t}};const xY=Symbol("i18next/PATH_KEY");function Mve(){const e=[],t=Object.create(null);let s;return t.get=(a,n)=>{var i;return(i=s==null?void 0:s.revoke)==null||i.call(s),n===xY?e:(e.push(n),s=Proxy.revocable(a,t),s.proxy)},Proxy.revocable(Object.create(null),t).proxy}function f_(e,t){const{[xY]:s}=e(Mve());return s.join((t==null?void 0:t.keySeparator)??".")}const e$={},mP=e=>!Gr(e)&&typeof e!="boolean"&&typeof e!="number";class J2 extends jC{constructor(t,s={}){super(),kve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Rd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,s={interpolation:{}}){const a={...s};if(t==null)return!1;const n=this.resolve(t,a);if((n==null?void 0:n.res)===void 0)return!1;const i=mP(n.res);return!(a.returnObjects===!1&&i)}extractFromKey(t,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const n=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const o=a&&t.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Ive(t,a,n);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Gr(i)?[i]:i};const d=t.split(a);(a!==n||a===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:Gr(i)?[i]:i}}translate(t,s,a){let n=typeof s=="object"?{...s}:s;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=f_(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=n.lng||this.language,m=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:l;const p=this.resolve(t,n);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||l,y=(p==null?void 0:p.exactUsedKey)||l,b=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=n.count!==void 0&&!Gr(n.count),j=J2.hasDefaultValue(n),k=S?this.pluralResolver.getSuffix(h,n.count,n):"",N=n.ordinal&&S?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",C=S&&!n.ordinal&&n.count===0,A=C&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${N}`]||n.defaultValue;let E=g;v&&!g&&j&&(E=A);const D=mP(E),T=Object.prototype.toString.apply(E);if(v&&E&&D&&b.indexOf(T)<0&&!(Gr(w)&&Array.isArray(E))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,E,{...n,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(p.res=P,p.usedParams=this.getUsedParamsDetails(n),p):P}if(o){const P=Array.isArray(E),_=P?[]:{},O=P?y:x;for(const M in E)if(Object.prototype.hasOwnProperty.call(E,M)){const I=`${O}${o}${M}`;j&&!g?_[M]=this.translate(I,{...n,defaultValue:mP(A)?A[M]:void 0,joinArrays:!1,ns:c}):_[M]=this.translate(I,{...n,joinArrays:!1,ns:c}),_[M]===I&&(_[M]=E[M])}g=_}}else if(v&&Gr(w)&&Array.isArray(g))g=g.join(w),g&&(g=this.extendTranslation(g,t,n,a));else{let P=!1,_=!1;!this.isValidLookup(g)&&j&&(P=!0,g=A),this.isValidLookup(g)||(_=!0,g=l);const M=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:g,I=j&&A!==g&&this.options.updateMissing;if(_||P||I){if(this.logger.log(I?"updateKey":"missingKey",h,d,l,I?A:g),o){const H=this.resolve(l,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let R=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let H=0;H<L.length;H++)R.push(L[H]);else this.options.saveMissingTo==="all"?R=this.languageUtils.toResolveHierarchy(n.lng||this.language):R.push(n.lng||this.language);const K=(H,F,G)=>{var W;const U=j&&G!==g?G:M;this.options.missingKeyHandler?this.options.missingKeyHandler(H,d,F,U,I,n):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(H,d,F,U,I,n),this.emit("missingKey",H,d,F,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?R.forEach(H=>{const F=this.pluralResolver.getSuffixes(H,n);C&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(G=>{K([H],l+G,n[`defaultValue${G}`]||A)})}):K(R,l,A))}g=this.extendTranslation(g,t,n,p,a),_&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${l}`),(_||P)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${l}`:l,P?g:void 0,n))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(n),p):g}extendTranslation(t,s,a,n,i){var c,d;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const u=Gr(t)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=a.replace&&!Gr(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,a.lng||this.language||n.usedLng,a),u){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(a.nest=!1)}!a.lng&&n&&n.res&&(a.lng=this.language||n.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(i==null?void 0:i[0])===p[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${s[0]}`),null):this.translate(...p,s),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,l=Gr(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&a.applyPostProcessor!==!1&&(t=pY.handle(l,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,s={}){let a,n,i,o,l;return Gr(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(c,s),u=d.key;n=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=s.count!==void 0&&!Gr(s.count),p=m&&!s.ordinal&&s.count===0,g=s.context!==void 0&&(Gr(s.context)||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(y=>{var b,w;this.isValidLookup(a)||(l=y,!e$[`${x[0]}-${y}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(e$[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${n}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{var k;if(this.isValidLookup(a))return;o=v;const S=[u];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,v,y,s);else{let N;m&&(N=this.pluralResolver.getSuffix(v,s.count,s));const C=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(s.ordinal&&N.indexOf(A)===0&&S.push(u+N.replace(A,this.options.pluralSeparator)),S.push(u+N),p&&S.push(u+C)),g){const E=`${u}${this.options.contextSeparator||"_"}${s.context}`;S.push(E),m&&(s.ordinal&&N.indexOf(A)===0&&S.push(E+N.replace(A,this.options.pluralSeparator)),S.push(E+N),p&&S.push(E+C))}}let j;for(;j=S.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(v,y,j,s))}))})}),{res:a,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,s,a,n={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,s,a,n):this.resourceStore.getResource(t,s,a,n)}getUsedParamsDetails(t={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!Gr(t.replace);let n=a?t.replace:t;if(a&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!a){n={...n};for(const i of s)delete n[i]}return n}static hasDefaultValue(t){const s="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s===a.substring(0,s.length)&&t[a]!==void 0)return!0;return!1}}class t${constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rd.create("languageUtils")}getScriptPartFromCode(t){if(t=Fb(t),!t||t.indexOf("-")<0)return null;const s=t.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(t){if(t=Fb(t),!t||t.indexOf("-")<0)return t;const s=t.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(t){if(Gr(t)&&t.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(t)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let s;return t.forEach(a=>{if(s)return;const n=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(n))&&(s=n)}),!s&&this.options.supportedLngs&&t.forEach(a=>{if(s)return;const n=this.getScriptPartFromCode(a);if(this.isSupportedCode(n))return s=n;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(t,s){if(!t)return[];if(typeof t=="function"&&(t=t(s)),Gr(t)&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let a=t[s];return a||(a=t[this.getScriptPartFromCode(s)]),a||(a=t[this.formatLanguageCode(s)]),a||(a=t[this.getLanguagePartFromCode(s)]),a||(a=t.default),a||[]}toResolveHierarchy(t,s){const a=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],t),n=[],i=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Gr(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Gr(t)&&i(this.formatLanguageCode(t)),a.forEach(o=>{n.indexOf(o)<0&&i(this.formatLanguageCode(o))}),n}}const r$={zero:0,one:1,two:2,few:3,many:4,other:5},s$={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fve{constructor(t,s={}){this.languageUtils=t,this.options=s,this.logger=Rd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,s){this.rules[t]=s}clearCache(){this.pluralRulesCache={}}getRule(t,s={}){const a=Fb(t==="dev"?"en":t),n=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),s$;if(!t.match(/-|_/))return s$;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,s)}return this.pluralRulesCache[i]=o,o}needsPlural(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,s,a={}){return this.getSuffixes(t,a).map(n=>`${s}${n}`)}getSuffixes(t,s={}){let a=this.getRule(t,s);return a||(a=this.getRule("dev",s)),a?a.resolvedOptions().pluralCategories.sort((n,i)=>r$[n]-r$[i]).map(n=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,s,a={}){const n=this.getRule(t,a);return n?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n.select(s)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",s,a))}}const a$=(e,t,s,a=".",n=!0)=>{let i=Eve(e,t,s);return!i&&n&&Gr(s)&&(i=m_(e,s,a),i===void 0&&(i=m_(t,s,a))),i},fP=e=>e.replace(/\$/g,"$$$$");class Lve{constructor(t={}){var s;this.logger=Rd.create("interpolator"),this.options=t,this.format=((s=t==null?void 0:t.interpolation)==null?void 0:s.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:b,alwaysFormat:w}=t.interpolation;this.escape=s!==void 0?s:Tve,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?nx(i):o||"{{",this.suffix=l?nx(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?nx(m):p||nx("$t("),this.nestingSuffix=g?nx(g):x||nx(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(s,a)=>(s==null?void 0:s.source)===a?(s.lastIndex=0,s):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,s,a,n){var p;let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const w=a$(s,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,a,{...n,...s,interpolationkey:g}):w}const x=g.split(this.formatSeparator),y=x.shift().trim(),b=x.join(this.formatSeparator).trim();return this.format(a$(s,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,a,{...n,...s,interpolationkey:y})};this.resetRegExp();const u=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=n==null?void 0:n.interpolation)==null?void 0:p.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>fP(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?fP(this.escape(g)):fP(g)}].forEach(g=>{for(l=0;i=g.regex.exec(t);){const x=i[1].trim();if(o=d(x),o===void 0)if(typeof u=="function"){const b=u(t,i,n);o=Gr(b)?b:""}else if(n&&Object.prototype.hasOwnProperty.call(n,x))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),o="";else!Gr(o)&&!this.useRawValueToEscape&&(o=Y6(o));const y=g.safeValue(o);if(t=t.replace(i[0],y),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,s,a={}){let n,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];o={...a},o=o.replace&&!Gr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=s(l.call(this,n[1].trim(),o),o),i&&n[0]===t&&!Gr(i))return i;Gr(i)||(i=Y6(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,h)=>this.format(u,h,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const $ve=e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);t==="currency"&&n.indexOf(":")<0?s.currency||(s.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?s.range||(s.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();s[u]||(s[u]=d),d==="false"&&(s[u]=!1),d==="true"&&(s[u]=!0),isNaN(d)||(s[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:s}},n$=e=>{const t={};return(s,a,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const o=a+JSON.stringify(i);let l=t[o];return l||(l=e(Fb(a),n),t[o]=l),l(s)}},Bve=e=>(t,s,a)=>e(Fb(s),a)(t);class Uve{constructor(t={}){this.logger=Rd.create("formatter"),this.options=t,this.init(t)}init(t,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const a=s.cacheInBuiltFormats?n$:Bve;this.formats={number:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:a((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:a((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:a((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})}}add(t,s){this.formats[t.toLowerCase().trim()]=s}addCached(t,s){this.formats[t.toLowerCase().trim()]=n$(s)}format(t,s,a,n={}){const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:d,formatOptions:u}=$ve(c);if(this.formats[d]){let m=l;try{const p=((h=n==null?void 0:n.formatParams)==null?void 0:h[n.interpolationkey])||{},g=p.locale||p.lng||n.locale||n.lng||a;m=this.formats[d](l,g,{...u,...n,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const Vve=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class zve extends jC{constructor(t,s,a,n={}){var i,o;super(),this.backend=t,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=n,this.logger=Rd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,n.backend,n)}queueLoad(t,s,a,n){const i={},o={},l={},c={};return t.forEach(d=>{let u=!0;s.forEach(h=>{const m=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,s,a){const n=t.split("|"),i=n[0],o=n[1];s&&this.emit("failedLoading",i,o,s),!s&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[t]=s?-1:2,s&&a&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Ave(c.loaded,[i],o),Vve(c,t),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,s,a,n=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:s,fcName:a,tried:n,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,s,a,n+1,i*2,o)},i);return}o(d,u)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const d=c(t,s);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(t,s,l)}prepareLoading(t,s,a={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Gr(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Gr(s)&&(s=[s]);const i=this.queueLoad(t,s,a,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,s,a){this.prepareLoading(t,s,{},a)}reload(t,s,a){this.prepareLoading(t,s,{reload:!0},a)}loadOne(t,s=""){const a=t.split("|"),n=a[0],i=a[1];this.read(n,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${s}loading namespace ${i} for language ${n} failed`,o),!o&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${n}`,l),this.loaded(t,o,l)})}saveMissing(t,s,a,n,i,o={},l=()=>{}){var c,d,u,h,m;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(t,s,a,n,p):x=g(t,s,a,n),x&&typeof x.then=="function"?x.then(y=>l(null,y)).catch(l):l(null,x)}catch(x){l(x)}else g(t,s,a,n,l,p)}!t||!t[0]||this.store.addResource(t[0],s,a,n)}}}const i$=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Gr(e[1])&&(t.defaultValue=e[1]),Gr(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(a=>{t[a]=s[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),o$=e=>{var t,s;return Gr(e.ns)&&(e.ns=[e.ns]),Gr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Gr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((s=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:s.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},R1=()=>{},Wve=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(s=>{typeof e[s]=="function"&&(e[s]=e[s].bind(e))})};class Fy extends jC{constructor(t={},s){if(super(),this.options=o$(t),this.services={},this.logger=Rd,this.modules={external:[]},Wve(this),s&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,s),this;setTimeout(()=>{this.init(t,s)},0)}}init(t={},s){this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),t.defaultNS==null&&t.ns&&(Gr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=i$();this.options={...a,...this.options,...o$(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Rd.init(n(this.modules.logger),this.options):Rd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Uve;const u=new t$(this.options);this.store=new Z6(this.options.resources,this.options);const h=this.services;h.logger=Rd,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new Fve(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=n(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Lve(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new zve(n(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=n(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=n(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new J2(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,s||(s=R1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const l=Mv(),c=()=>{const d=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),s(u,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,s=R1){var i,o;let a=s;const n=Gr(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};n?c(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(t,s,a){const n=Mv();return typeof t=="function"&&(a=t,t=void 0),typeof s=="function"&&(a=s,s=void 0),t||(t=this.languages),s||(s=this.options.ns),a||(a=R1),this.services.backendConnector.reload(t,s,i=>{n.resolve(),a(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&pY.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,s){this.isLanguageChangingTo=t;const a=Mv();this.emit("languageChanging",t);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),s&&s(l,(...d)=>this.t(...d))},o=l=>{var u,h;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Gr(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Gr(l)?[l]:l);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),(h=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||h.call(u,d)),this.loadResources(d,m=>{i(m,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),a}getFixedT(t,s,a){const n=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(h=>(typeof h=="function"&&(h=f_(h,{...this.options,...o})),`${c.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=f_(i,{...this.options,...o})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Gr(t)?n.lng=t:n.lngs=t,n.ns=s,n.keyPrefix=a,n}t(...t){var s;return(s=this.translator)==null?void 0:s.translate(...t)}exists(...t){var s;return(s=this.translator)==null?void 0:s.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,t)&&(!n||o(i,t)))}loadNamespaces(t,s){const a=Mv();return this.options.ns?(Gr(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{a.resolve(),s&&s(n)}),a):(s&&s(),Promise.resolve())}loadLanguages(t,s){const a=Mv();Gr(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=n.concat(i),this.loadResources(o=>{a.resolve(),s&&s(o)}),a):(s&&s(),Promise.resolve())}dir(t){var n,i;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new t$(i$());return t.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},s){const a=new Fy(t,s);return a.createInstance=Fy.createInstance,a}cloneInstance(t={},s=R1){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new Fy(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,h)=>(u[h]={...c[d][h]},u),c[d]),c),{});i.store=new Z6(l,n),i.services.resourceStore=i.store}return i.translator=new J2(i.services,n),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(n,s),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ba=Fy.createInstance();Ba.createInstance;Ba.dir;Ba.init;Ba.loadResources;Ba.reloadResources;Ba.use;Ba.changeLanguage;Ba.getFixedT;Ba.t;Ba.exists;Ba.setDefaultNamespace;Ba.hasLoadedNamespace;Ba.loadNamespaces;Ba.loadLanguages;const Hve=(e,t,s,a)=>{var i,o,l,c;const n=[s,{code:t,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);up(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},l$={},gY=(e,t,s,a)=>{up(s)&&l$[s]||(up(s)&&(l$[s]=new Date),Hve(e,t,s,a))},vY=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},p_=(e,t,s)=>{e.loadNamespaces(t,vY(e,s))},c$=(e,t,s,a)=>{if(up(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return p_(e,s,a);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,vY(e,a))},qve=(e,t,s={})=>!t.languages||!t.languages.length?(gY(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,n)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),up=e=>typeof e=="string",Gve=e=>typeof e=="object"&&e!==null,Kve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Yve={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Xve=e=>Yve[e],Qve=e=>e.replace(Kve,Xve);let x_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qve};const Jve=(e={})=>{x_={...x_,...e}},Zve=()=>x_;let yY;const eye=e=>{yY=e},tye=()=>yY,rye={type:"3rdParty",init(e){Jve(e.options.react),eye(e)}},sye=f.createContext();class aye{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var bY={exports:{}},wY={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=f;function nye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iye=typeof Object.is=="function"?Object.is:nye,oye=Wg.useState,lye=Wg.useEffect,cye=Wg.useLayoutEffect,dye=Wg.useDebugValue;function uye(e,t){var s=t(),a=oye({inst:{value:s,getSnapshot:t}}),n=a[0].inst,i=a[1];return cye(function(){n.value=s,n.getSnapshot=t,pP(n)&&i({inst:n})},[e,s,t]),lye(function(){return pP(n)&&i({inst:n}),e(function(){pP(n)&&i({inst:n})})},[e]),dye(s),s}function pP(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!iye(e,s)}catch{return!0}}function hye(e,t){return t()}var mye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hye:uye;wY.useSyncExternalStore=Wg.useSyncExternalStore!==void 0?Wg.useSyncExternalStore:mye;bY.exports=wY;var jY=bY.exports;const fye=(e,t)=>up(t)?t:Gve(t)&&up(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,pye={t:fye,ready:!1},xye=()=>()=>{},It=(e,t={})=>{var N,C;const{i18n:s}=t,{i18n:a,defaultNS:n}=f.useContext(sye)||{},i=s||a||tye();i&&!i.reportNamespaces&&(i.reportNamespaces=new aye),i||gY(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=f.useMemo(()=>{var A;return{...Zve(),...(A=i==null?void 0:i.options)==null?void 0:A.react,...t}},[i,t]),{useSuspense:l,keyPrefix:c}=o,d=f.useMemo(()=>{var E;const A=n||((E=i==null?void 0:i.options)==null?void 0:E.defaultNS);return up(A)?[A]:A||["translation"]},[e,n,i]);(C=(N=i==null?void 0:i.reportNamespaces)==null?void 0:N.addUsedNamespaces)==null||C.call(N,d);const u=f.useRef(0),h=f.useCallback(A=>{if(!i)return xye;const{bindI18n:E,bindI18nStore:D}=o,T=()=>{u.current+=1,A()};return E&&i.on(E,T),D&&i.store.on(D,T),()=>{E&&E.split(" ").forEach(P=>i.off(P,T)),D&&D.split(" ").forEach(P=>i.store.off(P,T))}},[i,o]),m=f.useRef(),p=f.useCallback(()=>{if(!i)return pye;const A=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(O=>qve(O,i,o)),E=t.lng||i.language,D=u.current,T=m.current;if(T&&T.ready===A&&T.lng===E&&T.keyPrefix===c&&T.revision===D)return T;const _={t:i.getFixedT(E,o.nsMode==="fallback"?d:d[0],c),ready:A,lng:E,keyPrefix:c,revision:D};return m.current=_,_},[i,d,c,o,t.lng]),[g,x]=f.useState(0),{t:y,ready:b}=jY.useSyncExternalStore(h,p,p);f.useEffect(()=>{if(i&&!b&&!l){const A=()=>x(E=>E+1);t.lng?c$(i,t.lng,d,A):p_(i,d,A)}},[i,t.lng,d,b,l,g]);const w=i||{},v=f.useRef(null),S=f.useRef(),j=A=>{const E=Object.getOwnPropertyDescriptors(A);E.__original&&delete E.__original;const D=Object.create(Object.getPrototypeOf(A),E);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},k=f.useMemo(()=>{const A=w,E=A==null?void 0:A.language;let D=A;A&&(v.current&&v.current.__original===A?S.current!==E?(D=j(A),v.current=D,S.current=E):D=v.current:(D=j(A),v.current=D,S.current=E));const T=[y,D,b];return T.t=y,T.i18n=D,T.ready=b,T},[y,w,b,w.resolvedLanguage,w.language,w.languages]);if(i&&l&&!b)throw new Promise(A=>{const E=()=>A();t.lng?c$(i,t.lng,d,E):p_(i,d,E)});return k},gye=(e,t)=>{const s={400:{title:{ar:"  ",en:"Action could not be completed"},description:{ar:"      .",en:"Please check your input and try again."}},401:{title:{ar:"",en:"Notice"},description:{ar:"  .     .",en:"Your session has expired. Please sign in again."}},403:{title:{ar:" ",en:"Access denied"},description:{ar:"    .",en:"You dont have permission to do this action."}},404:{title:{ar:" ",en:"Not found"},description:{ar:"     .",en:"We couldnt find what you were looking for."}},409:{title:{ar:"  ",en:"Data conflict"},description:{ar:"   .    .",en:"This information is already in use. Please try different details."}},422:{title:{ar:"  ",en:"Incomplete information"},description:{ar:"      .",en:"Some required information is missing or incorrect."}},429:{title:{ar:" ",en:"Too many requests"},description:{ar:"      .",en:"Please wait a moment and try again."}},500:{title:{ar:" ",en:"Temporary issue"},description:{ar:"   .   .",en:"The service is temporarily unavailable. Please try again later."}},502:{title:{ar:"  ",en:"Connection issue"},description:{ar:"   .   .",en:"The service is temporarily unavailable. Please try again later."}},503:{title:{ar:"  ",en:"Service unavailable"},description:{ar:"  .    .",en:"The service is temporarily unavailable. Please try again in a moment."}}},a=s[e]||s[500];return{title:t?a.title.ar:a.title.en,description:t?a.description.ar:a.description.en}},Wo=(e,t,s=!1)=>{var u;const a=s?" ":"Something went wrong",n=s?"   .":"Please try again.";let i;if(e&&typeof e=="object"){const h=e;if(h.response&&typeof h.response=="object"){const m=h.response;i=m.status,(u=m.data)!=null&&u.errorCode}else typeof h.status=="number"?i=h.status:typeof h.statusCode=="number"&&(i=h.statusCode)}const o=Jl(e),l=!o||o.toLowerCase().includes("error")||o.toLowerCase().includes("request");if(i&&i>=400){const h=gye(i,s);return o&&!l&&i!==500?{title:h.title,description:o}:h}const c=o.toLowerCase(),d={network:{ar:"     .",en:"Please check your internet connection and try again."},timeout:{ar:"   .    .",en:"The request timed out. Please try again."},offline:{ar:"   .",en:"No internet connection."},unauthorized:{ar:"   .",en:"Please log in to continue."},forbidden:{ar:"   .",en:"You dont have permission to do this."},"verification code":{ar:"   .",en:"Verification code is invalid."},"code expired":{ar:"  .    .",en:"Verification code has expired. Please request a new one."},otp:{ar:"   .",en:"Incorrect verification code."},expired:{ar:"  .",en:"Your session has expired. Please sign in again."},constraint:{ar:"   .    .",en:"We couldnt save your data. Please try again."},duplicate:{ar:"   .",en:"This entry already exists."},"foreign key":{ar:"    .",en:"Something went wrong with the data. Please try again."}};for(const[h,m]of Object.entries(d))if(c.includes(h))return{title:s?"":"Notice",description:s?m.ar:m.en};return{title:a,description:n}},vye={common:{welcome:"",loading:" ...",error:"",success:"",sar:".",cancel:"",confirm:"",save:"",saving:" ...",generating:" ...",delete:"",edit:"",search:"",filter:"",back:"",next:"",previous:"",submit:"",close:"",openInNewWindow:"   ",sessionExpired:" ",sessionExpiredDesc:"   .        .",unauthorized:" ",pleaseLogin:"   ",refreshingSession:"  ...",sessionRefreshed:"   -    ",sessionRefreshFailed:"   -      ",authError:"   -      ",forbiddenRetry:"  -      ",networkError:"   -    ",errorOccurred:" ",failedToLoad:"  ",tryAgain:"  ",authFailed:"  -     ",all:"",none:" ",currency:".",selected:"",free:"",quantity:"",cards:"",gridView:" ",listView:" ",itemsPerPage:"  ",showingResults:" {{start}}  {{end}}  {{total}} ",priority:{low:"",medium:"",high:"",urgent:""},status:{open:"",pending:" ",inProgress:" ",resolved:"",approved:"",rejected:"",completed:""},noData:"  ",refresh:"",copied:" ",copy:"",passwordCopied:"     ",copyFailed:"   .   .",saveChanges:" ",optional:"",understood:"",selectedCustomer:" ",notAvailable:" ",ourStore:"",backToHome:" ",noContentYet:"   ",noContentDescription:"     .   .",exploreMore:" ",currencies:{SAR:" ",AED:" ",KWD:" ",USD:" ",QAR:" "}},nav:{home:"",products:"",categories:"",cart:"",profile:" ",dashboard:" ",login:" ",signup:" ",logout:" "},auth:{login:{title:" ",email:" ",password:" ",remember:"",forgotPassword:"  ",noAccount:"  ",signupLink:" ",button:" "},signup:{title:"  ",storeName:" ",subdomain:" ",haveAccount:"  ",loginLink:" ",button:" "}},landing:{hero:{badge:"  ",title:"   ",titleHighlight:"",subtitle:"       .    .",cta:"  ",startFree:" ",watchDemo:" ",demo:"  ",readyIn5:"  ",support247:"   ",stats:{merchants:"+10  ",sales:"+100  ",rating:" 4.9/5"}},features:{badge:"",title:"   ",titleHighlight:"",subtitle:"         ",items:{easy:{title:" ",description:"         "},design:{title:" ",description:"           "},payments:{title:" ",description:"          "},analytics:{title:" ",description:"           "},security:{title:" ",description:"        "},performance:{title:" ",description:"       "}}},pricing:{badge:"",title:"  ",titleHighlight:" ",subtitle:"      .       ",period:"",currency:".",popular:" ",plans:{free:{name:"",description:"   ",cta:" ",features:{products:" 50 ",subdomain:"  ",templates:" ",support:"   ",storage:"  1 "}},pro:{name:"",description:"   ",cta:" ",features:{products:"  ",domain:"  ",templates:"  ",support:"   ",analytics:" ",payments:" ",storage:"  10 ",watermark:"  "}},enterprise:{name:"",price:"",description:"   ",cta:" ",features:{proFeatures:"   ",multiStore:" ",api:"   ",accountManager:"  ",training:" ",sla:"   ",storage:"   ",development:" "}}}},cta:{title:"  ",subtitle:"           ",button:"   "},footer:{description:"        ",product:"",support:"",company:"",links:{features:"",pricing:"",templates:"",integrations:"",helpCenter:" ",faq:" ",contact:" ",docs:"",about:" ",blog:"",careers:"",press:"",privacy:" ",terms:" ",cookies:"  "},copyright:" 2024 .   ."}},dashboard:{categories:{title:"  ",subtitle:"    ",tabs:{productCategories:" ",customerTiers:" ",offers:""},productCategories:{allCategories:" ",noCategories:"    ",noCategoriesDesc:"    ",addCategory:" ",addSubcategory:"  ",subcategories:" ",level:"",maxSubcategoriesReached:"   ",maxSubcategoriesDesc:"     {{max}}     ",maxDepthReached:"    ",maxDepthDesc:"     .    {{max}} .",maxDepthTooltip:"       ({{max}})",maxDepthWarning:"      ({{max}} ).    .",export:"",import:"",logo:"",category:"",productCount:" ",actions:"",noDescription:"  ",editCategory:" ",addNewCategory:"  ",editCategoryDesc:"  ",addCategoryDesc:"    ",categoryName:" ",slug:" ",slugHint:"   (   )",description:"",categoryLogo:" ",uploadLogo:"  ",logoHint:"      ",update:"",add:"",deleteConfirm:"      ",exportSuccess:"   ",importSuccess:"  {{count}}  {{errors}}",importError:"  ",importingCategories:"  ",importingCategoriesDesc:"       Excel...",importErrorTitle:"   ",importErrorDesc:"     .          Excel.",loadError:"  ",saveError:"  ",deleteSuccess:"   ",deleteError:"  ",updateSuccess:"   ",addSuccess:"   ",deleteSelected:" "},customerTiers:{addTier:"  ",editTier:"  ",addNewTier:"   ",tierDesc:"      ",tierName:" ",tierNamePlaceholder:":  VIP",description:"",descriptionPlaceholder:"   ",color:"",discountPercent:"  (%)",linkedCategories:"  :",allCategories:" ",assignedCustomers:" :",noCustomersAssigned:"   ",customerCount:"{{count}} ",assignCustomers:"   ",loadingCustomers:"  ...",noCustomersAvailable:"   ",selectCustomer:"   ",customer:"",assignedCount:"{{count}}    ",selectProductCategory:"  ",linkedProductCategories:"   ()",howItWorks:"   ",howItWorksDesc1:"          ",howItWorksDesc2:"     (VIP)   15%   ",howItWorksDesc3:"     ()   10%",howItWorksDesc4:"     ()   5%",howItWorksDesc5:"       ",tierNameRequired:"  ",updateSuccess:"   ",addSuccess:"   ",deleteSuccess:"   ",deleteConfirm:"      "},offers:{addOffer:" ",editOffer:" ",addNewOffer:"  ",offerDesc:"       ",noOffers:"    ",noOffersDesc:"     ",offerName:" ",offerNamePlaceholder:":  ",customerTier:" ",selectCustomerTier:"  ",discountPercent:"  (%)",includedCategories:"  :",allCategories:" ",example:":",exampleDesc:"  100 .    : {{price}} .",active:"",inactive:" ",forTier:": {{tierName}}",nameAndTierRequired:"    ",updateSuccess:"  ",addSuccess:"  ",deleteSuccess:"  ",deleteConfirm:"      ",selectProductCategories:"  ",productCategories:"  ()"}},main:{viewMode:"",normal:"",cards:"",navigation:"",totalSales:" ",totalOrders:" ",avgOrderValue:"  ",totalCustomers:" ",visits:"",totalProducts:" ",salesChart:" ",visual:"",summary:"",detailed:"",showSummary:" ",showDetailed:" ",notifications:"",noNotifications:"  ",recentOrders:" ",viewAll:" ",noOrders:"  ",displayMode:" ",lastWeek:" ",lastMonth:" ",lastYear:" ",subtitle:"    "},sidebar:{home:"",dashboard:" ",salesAndOrders:" ",products:"",productsDesc:"    ",hierarchical:"  ",hierarchicalDesc:"   ",priceManagement:" ",priceManagementDesc:"  ",orders:"",ordersDesc:"  ",customers:"",customersDesc:"  ",reports:"",reportsDesc:"  ",contentAndDesign:" ",categories:"",categoriesDesc:"  ",pages:"",pagesDesc:"  ",storefront:" ",storefrontDesc:"   ",storeDesign:" ",storeDesignDesc:"  ",templates:"",templatesDesc:"  ",marketing:"",marketingDesc:"  ",potentialAndMarketing:"  ",smartLine:"  (AI)",smartLineDesc:"    ",storeSettings:" ",generalSettings:" ",generalSettingsDesc:"  ",notifications:"",notificationsDesc:" ",payment:"",paymentDesc:"  ",checkoutSettings:" ",limits:"",domains:"",domainsDesc:"  ",suppliers:"",suppliersDesc:" ",brands:" ",units:"",currencies:"",advanced:"",usersAndPermissions:" ",usersAndPermissionsDesc:"  ",employees:"",permissions:" ",integrations:"",integrationsDesc:"   ",identityVerification:" ",identityVerificationDesc:" ",appStore:" ",appStoreDesc:"  ",storeManagement:" ",chat:"",chatDesc:"  ",transactions:"",controlPanel:" ",clickToViewWallet:"  ",yourBalance:"",new:"",support:"",cardsMarketplace:" ",cardsStore:"",cardsFavorites:"",cardsOrders:"",walletTopUp:" ",cardsReports:""},orders:{title:"  ",subtitle:"     ",orders:"",topups:" ",totalOrders:" ",pending:" ",processing:" ",shipped:" ",delivered:" ",approved:" ",rejected:"",cancelled:"",noOrders:"  ",noMatchingOrders:"     ",searchPlaceholder:"     ...",allStatuses:" ",export:"",import:"",orderNumber:" ",customer:"",products:"",amount:"",status:"",paymentStatus:" ",date:"",actions:"",viewDetails:" ",print:"",previous:"",next:"",paymentPending:"  ",paid:"",failed:"",refunded:"",topupRequests:"  ",pendingTopups:"   ",user:"",bank:"",receiptImage:" ",requestDate:" ",view:"",noTopups:"   ",noPendingTopups:"     ",accountNumber:" ",noImage:"  ",approve:"",reject:"",approveConfirm:"        ",rejectConfirm:"       ",rejectReason:" ",enterRejectReason:"  ",confirm:"",cancel:"",success:"",error:"",updateStatusSuccess:"    ",updateStatusError:"   ",loadOrdersError:"  ",loadTopupsError:"   ",approveSuccess:"    ",approveError:"   ",rejectSuccess:"   ",rejectError:"  ",rejectOrder:" ",enterRejectReasonOrder:"    ",orderApproved:"      ",orderRejected:"     ",rejectionReason:" ",rejectionReasonDescription:"      ",noReasonProvided:"   ",preview:"",topupDetails:"  ",requestAmount:" ",bankName:" ",viewFullImage:"  ",customerName:" ",email:" ",phone:" ",shippingAddress:" ",address:"",city:"",state:"/",postalCode:" ",country:"",noShippingInfo:"   ",paymentDetails:" ",paymentMethod:" ",productName:" ",items:"",shipping:"",printInvoice:" ",invoice:{vatNumber:" ",simplifiedTaxInvoice:"  ",invoiceInfo:" ",orderNumber:" ",date:"",paymentStatus:" ",paid:"",unpaid:" ",customerInfo:" ",name:"",phone:"",address:"",product:"",quantity:"",unitPrice:" ",total:"",subtotal:" ",vat:"  ",shipping:"",discount:"",grandTotal:" ",thankYou:"   {{storeName}}",footer:"        "}},reports:{title:"",export:"",pdf:"PDF",excel:"Excel",search:"...",startDate:" ",endDate:" ",selectBrand:"  ",allBrands:"  ",totalPrice:" ",totalTax:" ",totalAfterTax:"  ",products:"",orders:"",orderDetails:" ",productReport:" ",productName:" ",sku:"SKU",stock:"",salesCount:" ",revenue:"",noData:"  ",orderReport:" ",email:" ",subtotal:" ",tax:"",total:"",orderDate:" ",orderNo:" ",payment:"",quantity:"",itemTotal:" ",loading:" ...",totalSales:" ",salesAnalysis:" ",salesAndRevenueTrends:"  ",customers:"",sales:"",payments:"",last7Days:" 7 ",last30Days:" 30 ",last90Days:" 90 ",thisYear:" ",productPerformance:" ",topSellingProducts:"  ",topCustomers:" ",topBuyers:"  ",paymentDistribution:" ",transactionVolumeByMethod:"    ",paymentSummary:" ",feesAndNet:" ",net:"",fees:"",noProductData:"   ",noCustomerData:"   ",noPaymentData:"   ",selectDateRange:" "},design:{title:" ",subtitle:"  ",generateAI:"   ",noThemes:"    ",seedHint:"      :",active:"",activate:"",preview:"",aiDialogTitle:"   ",aiDialogDesc:"         .",themeDesc:" ",themeDescPlaceholder:":                ...",generating:" ...",generateTheme:" ",themeGenerated:"  !",themeGeneratedDesc:"      .",activateSuccess:"  ",activateSuccessDesc:"     .",error:"",loadError:"  ",activateError:"  ",generateError:"  ",enterPrompt:"   ",themes:{vibrant:"",minimal:"",modernStore:" ",classic:"",darkMode:" ",lightMode:" ",restaurantAndCafe:" ",servicesBusiness:" ",digitalCards:" ",simpleStore:" ",blankTemplate:" ",landingPage:" ",beautyAndCosmetics:"  ",homeAndFurniture:" ",fashionStore:" ",electronicsShop:" ",foodAndBeverage:" "},themeDescriptions:{vibrantDesc:"      ",minimalDesc:"     ",modernStoreDesc:"      ",restaurantDesc:"   ",servicesDesc:"     ",digitalCardsDesc:"        ",simpleStoreDesc:"   ",blankDesc:"  ",landingPageDesc:"   ",beautyDesc:"    ",homeDesc:"     ",fashionDesc:"          ",electronicsDesc:"       ",foodDesc:"      ",digitalCardsShortDesc:"      "}},templates:{title:" ",subtitle:"       ",createNew:"  ",searchPlaceholder:"  ...",allTemplates:" ",loading:"  ...",noTemplates:"    ",adjustSearch:"    ",noTemplatesAvailable:"    ",createCustom:"  ",useTemplate:"  ",official:"",professionalDesc:"   ",loadError:"  ",categories:{fashion:"",electronics:"",food:" ",beauty:"",home:" ",digital:" ",services:"",restaurant:" ",cards:" ",landing:" ",store:"",blank:"",general:"",business:"",portfolio:" ",ecommerce:" ",blog:"",corporate:"",creative:"",technology:"",health:"",education:"",travel:"",sports:"",entertainment:"",automotive:"",realestate:"",finance:"",legal:"",nonprofit:" ",personal:"",photography:"",wedding:"",kids:"",pets:" ",jewelry:"",furniture:"",grocery:"",pharmacy:"",cafe:"",bakery:""}},products:{title:"",subtitle:"   ",addProduct:" ",editProduct:" ",addNewProduct:"  ",hierarchical:{title:" ",description:"      ",loadError:"   "},enterProductDetails:"  ",viewInStore:"  ",cancel:"",update:"",add:"",delete:"",viewProduct:" ",totalProducts:" ",activeProducts:" ",lowStock:" ",outOfStock:"  ",allProducts:" ",nearDepletion:" ",quantityDepleted:" ",depleted:"",available:"",lowStockTab:" ",outOfStockTab:"  ",searchPlaceholder:"   SKU...",allStatuses:" ",active:"",draft:"",archived:"",category:"",allCategories:" ",export:"",import:"",importingProducts:"  ",importingProductsDesc:"      ...",importStopped:"  ",importStoppedDesc:"    ",loadDataError:"  ",loadDataErrorDesc:"    .   .",exportSuccess:"  ",noProducts:"  ",noProductsDesc:"      ",startAddingFirst:"   ",product:"",price:"",stock:"",status:"",actions:"",view:"",edit:"",bulkDelete:" ",saveProduct:" ",nameEn:" (English)",nameAr:" ()",descriptionEn:" (English)",descriptionAr:" ()",compareAtPrice:"  ",cost:"",barcode:"",lowStockThreshold:"  ",featured:" ",images:" ",uploadImages:" ",selectFromCloudinary:"  Cloudinary",seoTitle:" SEO",messages:{requiredField:" ",nameRequired:"  ",priceRequired:"  ",priceError:"  ",priceInvalid:"          ",priceTooLow:"    {{minPrice}} .   ({{quantity}} {{unit}}  {{cost}} .)",categoriesWarning:"",categoriesWarningDesc:"       .    .",saveError:"  ",saveErrorDesc:"    .    .",deleted:" ",notFound:"   (   )",deleteError:"  ",deleteErrorDesc:"    .    .",noSelection:"   ",noSelectionDesc:"    ",confirmDelete:"     {{count}} ",deletePartial:"  {{deleted}}   {{total}} .   : {{failed}}",deleteSuccess:"  {{count}}  ",selectAllSuccess:"  {{count}} ",selectAllError:"    ",exportError:"  ",exportErrorDesc:"  .    .",settingsError:"  ",settingsErrorDesc:"      .     .",readingFile:"   Excel...",analyzingData:"  ...",processingData:"  ...",noDataError:"        Excel.    .",validatingRows:"   {{count}} ...",validatingRow:"   {{current}}/{{total}}...",row:"",nameRequiredImport:"    SKU ",priceRequiredImport:" ",priceInvalidImport:"   ",categoryNotFound:' "{{category}}"  ',brandNotFound:'  "{{brand}}"  ',uploadingValid:"  {{count}}  ...",unknownError:"   ",storeSetupRequired:"   .",categoryOrBrandNotFound:"     .",productExists:"   ( SKU  )",importCompleteWithErrors:" !   {{success}}    {{errors}}    {{total}}",importComplete:" !   {{success}}     {{total}}",importSuccess:"  ",importFailed:" ",importSuccessDescWithErrors:"  {{success}}    {{errors}} ",importSuccessDesc:"  {{success}}  ",importErrorTitle:"  ",importErrorDesc:"     .     .",productsAndCollections:"  ",importBtn:"",selectAll:" ",deleting:" ...",deleteSelected:" {{count}}",path:"",defaultProductName:""},form:{categories:" (Categories)",selectCategories:" ...",noCategorySelected:"    ",path:"  (Path)",pathPlaceholder:": product-name",pathDesc:" URL  (   )",tags:" (Tags)",tagsPlaceholder:"    (: , )",tagsDesc:"       ",productId:"Product ID",productCode:"Product Code",odooId:"Odoo ID",optional:"",pricing:"",price:" ()",compareAtPrice:"  ",cost:" ()",costAutoFilled:"(      )",costDisabledDesc:"      .     .",inventory:"",sku:"SKU",barcode:"",quantity:"",lowStockThreshold:" ",unit:" ",selectUnit:" ...",suppliers:" (Suppliers)",suppliersAutoSelect:"    ",addSupplier:" ...",supplierPrice:"   ()",discountRate:"  (%)",setAsPrimary:"  ",noSuppliers:"    .      .",weight:" ()",dimensions:" ()",dimensionsPlaceholder:"    ",quantitySlider:"  (Slider)",quantitySliderDesc:"     ",minQuantity:" ",maxQuantity:" ",seo:"   (SEO)",metaTitle:"  (Meta Title)",metaTitlePlaceholder:"    ",metaDescription:"  (Meta Description)",metaDescriptionPlaceholder:"       ",publishSettings:" ",productStatus:" ",productStatusDesc:"      ",featuredProduct:" ",featuredProductDesc:"        ",cancel:"",save:" ",updateProduct:" ",addProduct:" ",saving:" ...",next:"",previous:"",basicInfo:" ",media:" ",pricingInventory:" ",advanced:" ",seoSettings:"SEO ",dragDropImages:"   ",orClickToUpload:"  ",maxSize:"  5MB  ",browseCloudinary:"  ",mainImage:"",remove:"",name:" ",nameAr:"  ()",description:"",descriptionAr:" ()"},statusBadges:{active:"",draft:"",archived:"",low:"",available:""},seoDescription:" SEO",weight:"",dimensions:"",unit:"",brand:" ",suppliers:"",tags:"",tagsHint:"   ",basicInfo:" ",pricingAndInventory:" ",organization:"",media:"",seo:"SEO",advanced:""},header:{newOrder:" ",newOrderMessage:"  #{{orderNumber}}  {{amount}}",lowStockAlert:"  ",lowStockMessage:"   {{productName}}",now:"",notifications:"",clearAll:" ",noNotifications:"  ",allNotificationsCleared:"    ",notificationsCleared:"  ",profile:" ",settings:"",helpAndSupport:" ",logout:" ",searchPlaceholder:"...",filter:"",filterDescription:"    ",status:"",all:"",active:"",inactive:" ",pending:" ",completed:"",fromDate:" ",toDate:" ",customDate:" ",download:"",exportingReports:"  ...",exportingOrders:"  ...",exportingProducts:"  ...",exportingCustomers:"  ...",navigateToReports:"     ",exportError:"  ",filterApplied:"   "},notifications:{newOrders:" ",pendingOrdersMessage:" {{count}}     ",justNow:" ",minutesAgo:" {{count}} ",hoursAgo:" {{count}} "},setupPrompt:{title:"  ",description:"             ",button:" "},marketing:{title:" ",subtitle:"    ",partnerTitle:"Smart Line -   ",partnerDesc:"       ",stats:{totalFollowers:" ",engagementRate:" ",postsThisMonth:"  ",totalReach:" "},socialAccounts:{title:"   ",subtitle:"    ",followers:""},packages:{title:" Smart Line",subtitle:"    ",mostPopular:" ",monthly:"",select:" ",selected:" ",basic:{name:" ",nameEn:"",features:["    ","10  ","  ","  ","   "]},professional:{name:" ",nameEn:"",features:[" 4    ","20  ","   +  ","  ","  ","    "," "]},enterprise:{name:" ",nameEn:"",features:["   ","40  ","   (  )","   ","  ","  ","  ","   "]}},customPackage:{title:"    ",desc:"   Smart Line      ",contact:" "}},smartLineMarket:{title:"  ",subtitle:"   ",badge:"   ",description:"        .           .",browseServices:" ",contactExpert:"  ",searchPlaceholder:"  ...",categories:{all:"",social:" ",seo:"SEO",content:"",ads:"",dev:""},service:{pricePerMonth:" / ",subscribeNow:" ",rating:"",reviews:""},emptyState:{title:"   ",desc:"       ",showAll:"  "},trust:{speed:{title:"  ",desc:"       "},results:{title:" ",desc:"       "},support:{title:" ",desc:"      "}},services:{socialMedia:{title:"  ",description:"         .",features:["3 ","12  "," ","  "]},seo:{title:"   SEO",description:"         .",features:["  "," "," "," "]},content:{title:"  ",description:"       .",features:[" "," "," "," "]},ads:{title:"  ",description:"         .",features:["Google Ads","Facebook Ads"," ROI"," "]},video:{title:"  ",description:"        .",features:[" "," "," "," "]},dev:{title:"  ",description:"        .",features:[" "," ","  "," "]}}},suppliers:{title:"  ",subtitle:"     ",tabs:{manage:" ",purchase:"  ",history:" ",statistics:" ",emailTemplate:"  "},addSupplier:" ",listTitle:" ",listDesc:"    ",table:{name:"",email:" ",phone:"",discount:" ",api:"API",status:"",actions:""},status:{active:"",inactive:" ",enabled:"",configured:""},purchase:{title:"  ",desc:"    .        ",selectProduct:" ",checkPrice:" ",bestPrice:"  :",noSupplier:"    ",buyNow:" ",price:":",available:"",unavailable:" ",cost:":",sellingPrice:" :",profit:":",buy:"",badPrice:"  ",buyBestAuto:"    ",noPrices:"       "},history:{title:"   ",desc:"    ",noPurchases:"    ",table:{product:"",supplier:"",quantity:"",price:"",total:"",status:"",date:""}},statistics:{title:" ",desc:"      ",loading:"  ...",noStats:"    ",summary:{totalPurchases:" ",totalAmount:" ",totalQuantity:" ",averagePrice:" "},products:{title:" ",quantity:":",avgPrice:" :",lastPurchase:" :",totalAmount:" "},alerts:{title:" ",critical:"",warning:"",low:"",current:":",threshold:" :",needsRecharge:"    ",allNormal:"   "}},dialogs:{addSupplier:"  ",desc:"     ",name:"  *",nameAr:"  ()",email:" ",phone:"",contactPerson:" ",address:"",discount:"  (%) *",responseDays:"   *",responseDaysHint:"        (    {{days}} )",status:" ",statusDesc:"   ",notes:"",api:{title:" API ",desc:" API     ",endpoint:" API ",endpointHint:"   API   (: https://api.supplier.com/v1)",key:" API",keyHint:"    API  ",autoPurchase:"  ",autoPurchaseDesc:"          ",interval:"   ()",intervalHint:"        (: 60 )"},purchase:{title:" ",quantity:"",confirm:" ",loading:" ..."},editSupplier:" ",deleteConfirm:"      "},toasts:{loadError:"  ",loadErrorDesc:"    .   .",updateSuccess:"   ",addSuccess:"   ",saveError:"  ",saveErrorDesc:"    .    .",deactivateSuccess:"   (  )",deleteSuccess:"   ",deleteError:"  ",deleteErrorDesc:"    .    .",noPrices:"  ",noPricesDesc:"         API ",fetchPricesError:"  ",fetchPricesErrorDesc:"      ",bestSupplierFound:"    ",noSuitableSupplier:"   ",noSuitableSupplierDesc:"     ",findBestError:"    ",findBestErrorDesc:"      ",purchaseSuccess:" ",purchaseSuccessDesc:"    . : {{quantity}}",purchaseError:" ",purchaseErrorDesc:"     ",autoPurchaseSuccess:"  ",autoPurchaseSuccessDesc:"     . : {{quantity}}",autoPurchaseErrorDesc:"    "},emailTemplates:{title:"   ",subtitle:"           ",saveCurrent:"  ",selectType:"  ",selectTypeDesc:"        ",active:"",editorTitle:" : {{name}}",availableVariables:" ",availableVariablesDesc:"     .      .",subject:"",body:"",preview:"",edit:"",settings:" ",enableTemplate:" ",enableTemplateDesc:"         ",types:{customerProblem:" ",orderIssue:" ",deliveryProblem:" ",paymentIssue:" ",refundRequest:" ",productQuality:" ",custom:" "},variables:{storeName:" ",storeLogo:" ",storeDetails:" ",customerName:" ",supplierResponseDays:"  ",problemDetails:" ",orderNumber:" ",orderDate:" ",productName:" ",refundAmount:" ",currentYear:" "},toasts:{loadError:"  ",saveSuccess:"     ",saveError:"  "}}},customers:{title:"",subtitle:"   ",addCustomer:" ",loyaltyPrograms:" ",tabs:{customers:"",loyalty:" "},totalCustomers:" ",goldCustomers:" ",averageSpending:" ",totalPoints:" ",searchPlaceholder:"    ...",filterTier:"  ",allTiers:" ",gold:"",silver:"",bronze:"",export:"",import:"",customer:"",contactInfo:" ",orders:"",totalSpent:" ",loyaltyPoints:" ",tier:"",lastOrder:" ",memberSince:" ",noResults:"  ",noResultsDesc:"      ",loyaltyDesc:"    ",createProgram:"  ",noPrograms:"   ",noProgramsDesc:"    ",members:"",minPoints:"  ",benefits:"",editProgram:" ",createProgramTitle:"   ",editProgramTitle:"  ",programName:" ",description:"",benefitsPlaceholder:":  10%    ",benefitsHint:"    (,)",addNewCustomer:"  ",addCustomerDesc:"   .      .",name:"",email:" ",phone:"  ()",loadCustomersError:"   ",addCustomerSuccess:"   ",addCustomerError:"  ",saveProgramSuccess:"   ",saveProgramError:"  ",exportHeaders:{id:"",name:"",email:" ",phone:"",totalOrders:" ",totalSpent:" ",loyaltyPoints:" ",loyaltyTier:" ",createdAt:" ",lastOrderDate:"  "},importProcessed:"  ",importProcessedDesc:"  {{count}} .      ."},wallet:{title:" ",subtitle:"   ",exportReport:" ",availableBalance:" ",pendingBalance:" ",totalRevenue:" ",platformFees:" ",readyToWithdraw:" ",processing:" ",beforeFees:"  ",serviceFees:" ",transactionLog:" ",recentTransactions:"    ",orderNumber:" ",date:"",cardNumber:" ",amount:"",net:"",printCount:" ",reprint:" ",refund:"",print:"",printing:"...",refunded:" ",refunding:"...",noTransactions:"    ",printSuccess:" ",printSuccessDesc:"    {{orderNumber}}",printError:" ",printErrorDesc:"    ",refundSuccess:" ",refundSuccessDesc:"    {{orderNumber}} ",refundError:" ",refundErrorDesc:"    ",refundConfirm:"              .",subscriptionDetails:" ",currentPlanAndRenewal:"   ",currentPlan:" ",price:"",perMonth:"/",nextBillingDate:"  ",daysRemaining:" ",day:"",days:"",planFeatures:" :",upgradePlan:" ",renewSubscriptionRequired:"   ",subscriptionExpiresSoon:"    {{plan}}  {{days}} .      .",renewNow:"  ",invoices:"",transactions:"",totalIncome:" ",totalExpense:" ",pendingInvoices:" ",paidInvoices:" ",filterType:" ",filterStatus:" ",allTypes:" ",credit:"",debit:"",allStatuses:" ",completed:"",pending:" ",failed:"",paid:"",overdue:"",cancelled:"",invoiceNumber:" ",dueDate:" ",tax:"",total:"",actions:"",downloadInvoice:" ",noInvoices:"  ",noInvoicesDesc:"     ",downloading:" ...",downloadSuccess:"  ",downloadError:" ",lastUpdate:" ",description:"",quantity:"",subtotal:" ",pageTitle:" ",pageDesc:"     ",totalBanks:" ",totalTransactions:" ",tabs:{transactions:" ",requests:" ",banks:""},banksTab:{title:"",desc:"      ",addBank:" ",editBank:" ",addNewBank:"  ",editBankTitle:" ",addBankTitle:"  ",dialogDesc:"       ",bankName:" ",bankNameAr:"  ()",bankCode:" ",bankCodeHint:"      ",bankLogo:" ",currentLogo:" ",uploadLogo:"  ",accountName:"  ",accountNumber:" ",iban:"IBAN",swiftCode:"SWIFT Code",sortOrder:" ",active:" ( )",deleteConfirm:"      ",deleteSuccess:"   ",saveSuccess:"   ",updateSuccess:"   ",fillRequired:"    ",saveError:"  ",deleteError:"  ",copied:" ",saveChanges:" ",noBanks:"  ",noBanksDesc:"       "},requestsTab:{noRequests:"   ",method:" ",approveConfirm:"         {{amount}} {{currency}}",approveSuccess:"     ",approveError:"    ",rejectConfirm:"   ",rejectSuccess:"    ",rejectError:"   ",viewDetails:" ",bankInfo:" ",senderInfo:" ",senderName:" ",referenceNumber:" ",notes:"",receiptImage:" ",receipt:"",rejectionReason:" ",detailsTitle:"  ",detailsDesc:"      ",reject:"",processing:" ...",approve:"",rejectTitle:"  ",rejectDesc:"     ",rejectPlaceholder:"  ..."},transactionTypes:{TOPUP:"",PURCHASE:"",REFUND:"",BONUS:"",WITHDRAWAL:"",ADJUSTMENT:""},status:{PENDING:"",APPROVED:" ",COMPLETED:"",REJECTED:"",FAILED:""}}},storefront:{products:{categories:"",priceRange:" ",from:"",to:"",clearFilters:" ",home:"",title:" ",subtitle:"     ",searchPlaceholder:"  ...",sortBy:" ",newest:"",priceAsc:":  ",priceDesc:":  ",filter:"",filters:"",filterDesc:"    ",loading:"  ...",availableProducts:" ",search:"",selectedCategories:" ",noProducts:"  ",noProductsDesc:"     .      .",noProductsEmpty:"    .    !"},cloudinary:{title:"   Cloudinary",desc:"    Cloudinary.   {{selectionText}}.",multiple:" ",single:" ",folders:"",search:"  ...",selectedCount:"{{count}}  ",selectedCountSingle:"  ",noImages:"     ",loadMore:" ",loading:" ...",cancel:"",save:"",toasts:{loadFoldersError:"  ",loadImagesError:"  ",noSelection:"   ",noSelectionDesc:"     ",selectError:"    "}}},builder:{addSections:" ",templateApplied:"  ",templateAppliedDesc:"   {{name}} .",templateError:"  ",domainMissing:" ",editMode:" ",preview:"",livePreview:" ",searchSections:"  ...",backgroundColor:"",lightMode:" ",darkMode:" ",noSections:"     .         .",browseTemplates:" ",chooseTemplate:" ",magicDesign:" ",aiDesignTitle:"   ",aiDesignDesc:"         .",aiPromptLabel:"     ",aiPromptPlaceholder:':          " ".',generateDesign:" ",aiDesignSuccess:"  ",aiDesignSuccessDesc:"      .",aiDesignError:"  .    .",codeEditor:" ",backToPages:" ",editPage:" ",newPage:" ",usingTemplate:'  "{{name}}"',pageTitle:" ",urlSlug:" ",pageHistory:" ",restoreVersion:"     .",noHistory:"   ",version:"",restore:"",codeEditorTitle:" ",codeEditorDesc:"      JSON.   -    JSON  .",loadingEditor:"  ...",applyChanges:" ",defaults:{header:{companyName:"",home:"",products:"",about:" "},hero:{title:"   ",subtitle:"  ",buttonText:" "},features:{title:"",fastShipping:" ",fastShippingDesc:"   ",securePayment:" ",securePaymentDesc:" ",giftCards:" ",giftCardsDesc:"  "},products:{title:" "},gallery:{title:""},slider:{title:" ",description:" "},contentSlider:{title:" ",item1:"  ",item1Desc:" ",item2:" ",item2Desc:"    ",item3:" ",item3Desc:"    ",item4:" ",item4Desc:"  ",item5:" ",item5Desc:" "},cta:{title:" ",description:"    ",buttonText:" "},testimonials:{title:"  ",customer1:" ",role1:"",text1:"    !",customer2:" ",role2:"",text2:"   !"},pricing:{title:" ",subtitle:"  ",basic:"",pro:"",month:"",feature1:"10 ",feature2:" ",feature3:"1  ",feature4:"  ",feature5:"  ",feature6:"10  "},team:{title:"  ",subtitle:"  ",member1:" ",role1:"  ",bio1:"  "},stats:{title:"",customers:" ",products:"",countries:"",satisfaction:""},faq:{title:" ",subtitle:"    ",q1:"  ",a1:"     .",q2:"     ",a2:"        ."},newsletter:{title:"   ",subtitle:"    ",placeholder:"  ",button:""},video:{title:" "},countdown:{title:"  ",subtitle:"!   "},brands:{title:"      "},contact:{title:" ",subtitle:"   ",address:"   "},footer:{companyName:"",about:" ",contact:" ",privacy:""},categoriesHierarchy:{title:" ",subtitle:"    "}}},sections:{customerOrders:{label:"",desc:"   ",title:"",subtitle:"      ",searchPlaceholder:"    ...",allStatuses:" ",orderNumber:" ",date:"",status:"",total:"",actions:"",view:"",noOrders:"  ",orderDetails:" ",trackOrder:" ",viewDetails:" ",loadError:"  ",loadErrorDesc:"    .    .",orderStatus:{pending:" ",processing:" ",shipped:" ",delivered:" ",approved:" ",rejected:"",cancelled:"",completed:"",refunded:""},continueShopping:" "},hero:{label:" ",desc:"  "},features:{label:"",desc:" "},products:{label:"",desc:" "},categoriesHierarchy:{label:" ",desc:"  "},testimonials:{label:" ",desc:" "},pricing:{label:"",desc:" "},team:{label:"",desc:" "},stats:{label:"",desc:" "},faq:{label:" ",desc:" "},newsletter:{label:" ",desc:"   "},video:{label:"",desc:" "},countdown:{label:" ",desc:" "},brands:{label:" ",desc:" "},contact:{label:" ",desc:" "},slider:{label:" ",desc:"  "},contentSlider:{label:" ",desc:"   "},payments:{label:" ",desc:"   "},cta:{label:"  ",desc:" CTA"},text:{label:" ",desc:"  "},image:{label:"",desc:" "},gallery:{label:" ",desc:" "},merchantDashboard:{label:" ",desc:"     "},productList:{label:" ",desc:"    "},storePage:{label:" ",desc:"      "},supportTickets:{label:" ",desc:"   ",title:"",managerBadge:" : {{name}}",addTicket:"  +",ticketNumber:" ",dateAdded:" ",ticketTitle:" ",orderNumber:" ",status:"",description:"",noTickets:"    ",contactUs:" ",contactDesc:"               .",storeEmail:"  :",sendMessage:" ",createTitle:"  ",createDesc:"    ",contactDialogDesc:"     ",form:{title:" ",titlePlaceholder:" ",description:"",descriptionPlaceholder:" ...",orderNumber:"  ()",orderNumberPlaceholder:"   ",priority:""},contactForm:{name:"",namePlaceholder:"",email:" ",emailPlaceholder:"your.email@example.com",subject:"",subjectPlaceholder:" ",message:"",messagePlaceholder:"..."},createButton:" ",creating:" ...",sending:" ...",sendButton:" ",orderTicketTitle:" {{number}}",contactSubject:"  {{name}}"},favoritesPage:{label:" ",desc:"    ",title:" ",searchPlaceholder:"  ...",selectCard:" ",wholesalePrice:" ",retailPrice:" ",productDetails:" ",noFavorites:"   ",paginationInfo:" {{count}}  {{total}} ",cartTitle:" ",cartCount:" ",total:"",checkout:" ",cartEmpty:" ",addToCart:" ",addedToCart:"   ",failedToAddToCart:"  "},balanceOperations:{label:" ",desc:"   ",title:"  ",id:" ",date:" ",description:"",action:"",status:"",amount:"",deposit:"",withdraw:"",topupRequest:"  ",rejectionReason:" ",rejectionReasonDescription:"       ",noReasonProvided:"   ",viewRejectionReason:"  "},employeesPage:{label:" ",desc:"  ",title:"",tabs:{employees:" ",groups:" "},searchPlaceholder:"  ",addEmployee:"  ",addGroup:"  ",table:{name:"",username:" ",phone:"",status:"",balance:"",actions:""},noEmployees:"  ",noGroups:"  ",group:{employeeCount:" :",permissions:":",viewEmployees:" "},dialog:{add:" ",addEmployeeTitle:"  ",addEmployeeDesc:"       ",editEmployeeTitle:" ",editEmployeeDesc:"  ",addGroupTitle:"   ",addGroupDesc:"       "},passwordDialog:{title:"   ",description:"   .        .",email:" ",temporaryPassword:"  ",copy:"",copied:" ",warning:"",warningText:"        .    .",close:"",important:"",mustChangePassword:"         ."},employeeCreated:"   ",employeeUpdated:"   ",employeeError:"  .    .",employeeDeleted:"   ",deleteConfirm:"      ",form:{selectCustomer:"  ()",selectCustomerPlaceholder:"--   --",selectCustomerHint:"        ",loadingCustomers:"  ...",noCustomers:"     ",name:" *",username:"  *",email:"  *",emailPlaceholder:"employee@example.com",emailHint:"      ",password:"  *",phone:"  *",group:" ()",noGroup:" ",groupHint:"    ",permissions:"",groupName:"  *",groupDesc:"",defaultPermissions:" ",amount:"",employee:"",emailRequired:"  "},permissions:{ordersCreate:" ",ordersRead:" ",reportsRead:" ",walletRead:" ",playersWrite:" ",employeesManage:" ",settingsWrite:" ",invoicesRead:" ",mobileAccess:"  ",mobileOrders:"  ()",mobileProducts:"  ()",mobileCustomers:"  ()",mobileAnalytics:"  ()",manageProducts:" ",manageOrders:" ",manageCustomers:" ",manageSettings:" ",viewAnalytics:" "},messages:{loadError:"   ",loadErrorDesc:"     .   .",createError:"  ",deleteError:"  ",deleteErrorDesc:"    .    ."},addBalance:" ",addBalanceDesc:"     "},chargeWallet:{label:" ",desc:"  ",title:" ",paymentMethod:" ",methods:{cash:"",visa:"",bankTransfer:" "},bank:"",selectBank:" ",bankDetails:"  ",accountName:"  :",accountNumber:"  :",iban:"IBAN :",transferrerAccount:"  ",selectTransferrerAccount:"  ",transferrerName:" ",transferrerNamePlaceholder:"  ",amount:" ",currency:"",receipt:" ",uploadReceipt:" ",receiptHint:"        : jpeg. png. jpg. pdf",submit:"",submitting:" ...",successTitle:"  ",successDesc:"     ",noBankAccounts:"     .     .",addBankAccount:"  ",notAllowed:" ",staffNotAllowed:"     ",staffNotAllowedDesc:"     .       .",loadError:"  ",loadErrorDesc:"    .    .",fileSizeError:"   ",fileSizeErrorDesc:"     5 ",invalidAmount:"  ",invalidAmountDesc:"      ",bankRequired:" ",bankRequiredDesc:"  ",submitSuccess:"    ",submitSuccessDesc:"       ",submitError:"   ",currentBalance:" ",addNewBalance:"  ",choosePaymentMethod:"    ",bankInfo:"  :",notesPlaceholder:"  ..."},reportsPage:{label:" ",desc:"  ",title:"",tabs:{products:"",orders:"",orderDetails:" "},export:":",selectBrand:"  ",searchPlaceholder:"...",summary:{totalAfterTax:"  ",totalTax:" ",totalPrice:" "},table:{productName:" ",brandName:"  ",type:"",quantity:"",unitPrice:" ",totalPrice:" ",unitTax:"  ",totalAfterTax:"  "},noData:"No data"},profilePage:{label:"  ",desc:"  ",balance:"",addBalance:" ",documents:"",table:{fileName:" ",type:"",size:"",uploadDate:" ",action:""},download:"",verified:"",tabs:{documents:"",edit:" "},fields:{companyName:"  :",manager:"  :",phone:"  :",email:"  :",commercialRecord:"   :",taxCard:"   :",country:" :",city:" :",address:" :",joinDate:"  :"}}},cart:{title:" ",emptyTitle:" ",emptyDesc:"     ",browseProducts:" ",continueShopping:" ",subtotal:" ",shipping:"",tax:"",total:"",checkout:" ",couponCode:" ",couponApplied:"    ",enterCode:" ",itemsCount:"{{count}}   ",freeShippingHint:" {{amount}} {{currency}}    "},checkout:{title:" ",orderSummary:" ",shippingInfo:" ",customerInfo:" ",shippingMethod:" ",paymentMethod:" ",placeOrder:" ",walletBalance:" ",availableBalance:"  ",sufficientBalance:" ",insufficientBalance:"  ",insufficientWalletDesc:"       .        .",rechargeNow:" ",loadingPaymentMethods:"   ...",noPaymentMethods:"    ",noPaymentMethodsDesc:"      ",securePayment:"  ",fastShipping:"  ",bestPrices:"  ",fullName:" ",phoneNumber:" ",email:" "},order:{notFound:"  ",successTitle:"   !",successDesc:" .      .",details:" ",number:" ",status:{processing:" "},print:" ",confirmationSent:"      {{email}}",trackHint:"       "},payment:{wallet:{name:" ",desc:"   "},hyperpay:{name:"  (HyperPay)",desc:"  "},stripe:{name:"  (Stripe)",desc:" "},paypal:{name:" ",desc:"   "},cod:{name:"  ",desc:"   "},bank:{name:" ",desc:"    "}},properties:{generateAI:"  ",colors:"",background:"",text:"",spacing:"",paddingTopBottom:" ",typography:"",textAlignment:" ",contentPosition:" ",position:{top:"",center:"",bottom:""},fontSize:" ",fontWeight:" ",weight:{light:"",normal:"",medium:"",semibold:" ",bold:""},lineHeight:" ",backgroundImage:" ",uploadBackground:" ",animation:"",animationType:"",duration:"",animations:{fade:" ",slideUp:" ",slideDown:" ",slideLeft:" ",slideRight:" ",zoom:"",bounce:""},companyName:" ",logoUrl:" ",links:" ",label:"",url:"",newLink:" ",addLink:" ",showThemeToggle:"  ",showLanguageToggle:"  ",title:"",titleSize:" ",subtitle:" ",subtitleSize:"  ",buttonText:" ",buttonLink:" ",buttonStyle:" ",styles:{primary:"",secondary:"",outline:"",ghost:""},overlayOpacity:"  ",minHeight:"  ",fullScreen:" ",sectionTitle:" ",features:"",icon:"",description:"",newFeature:" ",featureDesc:" ",addFeature:" ",content:"",image:"",altText:" ",category:"",allCategories:" ",numberOfProducts:" ",layout:"",layouts:{grid:"",carousel:"",list:""},columns:"",displayOptions:" ",showPrice:" ",showImage:" ",showName:" ",showDescription:" ",showRating:" ",showAddToCart:"   ",showStock:" ",autoPlay:" ",interval:"  ()",showDots:" ",showArrows:" ",height:"",items:"",newItem:" ",addItem:" ",plans:"",newPlan:" ",addPlan:" ",price:"",currency:"",period:"",highlighted:"",members:"",newMember:" ",addMember:" ",role:"",bio:"",stats:"",newStat:" ",addStat:" ",number:"",suffix:" ( +)",questions:"",newQuestion:" ",addQuestion:" ",question:"",answer:"",placeholder:" ",videoUrl:" ",targetDate:" ",logos:"",grayscale:" ",email:" ",phone:"",address:"",methods:" ",productsPerCategory:"  ",productsLayout:" ",productsColumns:" ",component:"",components:{supportTickets:" ",favoritesPage:" ",balanceOperations:" ",employeesPage:" ",chargeWallet:" ",reportsPage:" ",profilePage:"  ",storeManagers:" "}},masterDashboard:{overview:{title:"   ",subtitle:"     ",loadError:"      ",stats:{totalTenants:" ",activeTenants:"",totalRevenue:" ",platformFees:" ",transactions:"",allTime:" ",totalUsers:" ",acrossTenants:"  ",paymentGateways:" ",partners:"",active:""},tenantStatus:{title:" ",active:"",suspended:"",inactive:" ",total:""},planDistribution:{title:" "},recentActivity:{title:" ",noActivity:"   "}},paymentGateways:{title:"  ",subtitle:"   ",addGateway:" ",searchPlaceholder:"  ...",loadError:"    ",deleteConfirm:"       ",deleteSuccess:"  ",toggleSuccess:"   ",createSuccess:"    ",updateSuccess:"    ",missingName:" ",missingNameDesc:"   .",missingEntityId:"Entity ID ",missingEntityIdDesc:" HyperPay   (Entity ID)  .",missingClientId:"Client ID ",missingClientIdDesc:" Neoleap   (Client ID).",noGateways:"     ",edit:"",enable:"",disable:"",modal:{addTitle:"  ",editTitle:" ",gatewayName:" ",provider:"",credentials:" ",secretKey:" ",publishableKey:"  ",clientId:" ",clientSecret:" ",entityId:" ",accessToken:" ",cancel:"",update:" ",add:" "}},limits:{title:" ",subtitle:"        ",howItWorks:"  ",howItWorksDesc1:"   /  verified   ",howItWorksDesc2:"   verified    ",howItWorksDesc3:"          ",howItWorksDesc4:"              ",defaultLimits:" ",defaultLimitsDesc:"        verified",defaultLimitAmount:"  (.)",defaultLimitHint:"       /  verified ",tierLimits:"  (Tiers)",tierLimitsDesc:"        ",tierId:" ",tierName:" ",baseLimit:"  (.)",increasePerPurchase:"    (.)",addNewTier:"  ",addTier:" ",advancedSettings:" ",advancedSettingsDesc:"     ",enablePurchaseCountIncrease:"      ",enablePurchaseCountIncreaseDesc:"           ",enableCreditCardTracking:"   ",enableCreditCardTrackingDesc:"                ",save:" ",saving:" ...",loadError:"   ",saveError:"   ",saveSuccess:"    "}},pages:{allPagesExist:"  ",allDigitalCardsPagesExist:"      ",createdSuccessfully:"  ",digitalCardsCreated:"  {{count}}     ",creationError:"  ",digitalCardsCreationError:"       .    .",manager:{title:" ",subtitle:"   ",createNew:" ",createFirst:"   ",noPages:"   ",loading:"  ...",table:{page:"",slug:"",status:"",lastUpdated:" ",actions:""},status:{published:"",draft:"",hidden:""},actions:{edit:"",preview:"",delete:"",duplicate:""},deleteConfirm:"      ",deleteSuccess:"   ",deleteError:"  ",duplicateSuccess:"   ",searchPlaceholder:"  ...",bulkDelete:" ",bulkDeleteConfirm:"     {{count}} ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",templates:" ",filters:{all:" ",published:"",draft:""}}},cardsStore:{title:"",searchPlaceholder:"      ...",allCategories:" ",backToBrands:"  ",chooseCard:" :",noCardsAvailable:"   ",retail:" ",wholesale:" ",addProduct:" ",chooseBrand:"  ",brands:" ",cards:"",shoppingCart:" ",cartEmpty:" ",cardsCount:" ",total:"",usd:"",processing:" ...",completeOrder:" ",addedToCart:"  ",addedToFavorites:"  ",removedFromFavorites:"   ",orderCompletedSuccess:"   ",orderFailed:"   ",downloadSuccess:"    ",insufficientBalance:"  .   .",downloadCardsQuestion:"    ",walletDeductionNote:"     .",yes:"",no:"",rechargeWallet:" "},cardsOrders:{title:" ",createOrder:" ",createFirstOrder:"     ",browseStore:" ",table:{orderNumber:" ",date:" ",cards:" ",amount:"",status:"",by:""},orderDetails:" ",orderDate:" ",status:"",totalAmount:" ",paymentMethod:" ",orderedCards:" ",codes:":",copied:" ",previous:"",next:""},cardsFavorites:{title:" ",searchPlaceholder:"  ...",noFavorites:"   ",addFromStore:"     ",browseStore:" ",showing:" {{filtered}}  {{total}} "}},yye={common:{welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",sar:"SAR",cancel:"Cancel",confirm:"Confirm",save:"Save",saving:"Saving...",generating:"Generating...",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",back:"Back",next:"Next",previous:"Previous",submit:"Submit",close:"Close",openInNewWindow:"Open in New Window",sessionExpired:"Session Expired",sessionExpiredDesc:"Your session has expired. Please refresh the page or log in again.",unauthorized:"Unauthorized",pleaseLogin:"Please log in first",refreshingSession:"Refreshing session...",sessionRefreshed:"Session updated - retrying",sessionRefreshFailed:"Session expired - please refresh the page and try again",authError:"Authentication error - please refresh the page and try again",forbiddenRetry:"Unauthorized - please refresh the page and try again",networkError:"Network error - please check your connection",errorOccurred:"An error occurred",failedToLoad:"Failed to load data",tryAgain:"Try again",authFailed:"Authentication failed - please login again",all:"All",none:"None",currency:"SAR",selected:"Selected",free:"Free",quantity:"Quantity",cards:"Cards",backToHome:"Back to Home",notAvailable:"N/A",ourStore:"Our Store",gridView:"Grid View",listView:"List View",itemsPerPage:"Items per page",showingResults:"Showing {{start}} to {{end}} of {{total}} results",refresh:"Refresh",copied:"Copied",copy:"Copy",passwordCopied:"Password copied to clipboard",copyFailed:"Failed to copy password. Please copy manually.",saveChanges:"Save Changes",optional:"Optional",understood:"Understood",noData:"No data",selectedCustomer:"Selected Customer",noContentYet:"No content yet",noContentDescription:"Sorry, there is no content to display currently. Please come back later.",exploreMore:"Explore more",priority:{low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},status:{open:"Open",pending:"Pending",inProgress:"In Progress",resolved:"Resolved",approved:"Approved",rejected:"Rejected",completed:"Completed"},currencies:{SAR:"Saudi Riyal",AED:"UAE Dirham",KWD:"Kuwaiti Dinar",USD:"US Dollar",QAR:"Qatari Riyal"}},nav:{home:"Home",products:"Products",categories:"Categories",cart:"Cart",profile:"Profile",dashboard:"Dashboard",login:"Login",signup:"Sign Up",logout:"Logout"},auth:{login:{title:"Login",email:"Email",password:"Password",remember:"Remember me",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",signupLink:"Sign up",button:"Login"},signup:{title:"Create Account",storeName:"Store Name",subdomain:"Subdomain",haveAccount:"Already have an account?",loginLink:"Login",button:"Sign Up"}},landing:{hero:{badge:"Your Digital Markets Platform",title:"Create Your Online Store in",titleHighlight:"Minutes",subtitle:"The easiest and fastest platform to start your e-commerce journey. No technical experience required.",cta:"Start Now for Free",startFree:"Start Free",watchDemo:"Watch Demo",demo:"View Demo Store",readyIn5:"Ready in  Minutes",support247:"24/7 Support",stats:{merchants:"10k+ Merchants",sales:"100M+ Sales",rating:"4.9/5 Rating"}},features:{badge:"Features",title:"Everything You Need to",titleHighlight:"Succeed",subtitle:"Powerful tools designed to help you manage and grow your business with ease",items:{easy:{title:"Easy to Use",description:"Simple and intuitive interface to manage products, orders, and customers without any complexity"},design:{title:"Professional Design",description:"Modern and responsive templates that look great on all devices and attract more customers"},payments:{title:"Secure Payments",description:"Integrated with the best payment gateways to ensure safe and fast transactions for your customers"},analytics:{title:"Advanced Analytics",description:"Detailed reports on sales, visits, and customer behavior to help you make better decisions"},security:{title:"High Security",description:"Complete protection for your data and financial transactions with the latest security standards"},performance:{title:"Fast Performance",description:"Fast and SEO-optimized stores to improve customer experience"}}},pricing:{badge:"Pricing",title:"Flexible Plans Suit",titleHighlight:"All Sizes",subtitle:"Choose the right plan for you and start growing. You can upgrade or cancel at any time",period:"monthly",currency:"SAR",popular:"Most Popular",plans:{free:{name:"Free",description:"Perfect for starting and trying the platform",cta:"Start for Free",features:{products:"Up to 50 products",subdomain:"Free subdomain",templates:"Basic templates",support:"Email support",storage:"1 GB storage"}},pro:{name:"Pro",description:"For startups and growing businesses",cta:"Start Now",features:{products:"Unlimited products",domain:"Free custom domain",templates:"All premium templates",support:"24/7 support",analytics:"Advanced analytics",payments:"Payment integration",storage:"10 GB storage",watermark:"Remove watermark"}},enterprise:{name:"Enterprise",price:"Custom",description:"Custom solutions for large enterprises",cta:"Contact Us",features:{proFeatures:"All Pro features",multiStore:"Multiple stores",api:"Custom API",accountManager:"Dedicated account manager",training:"Training and onboarding",sla:"Guaranteed SLA",storage:"Unlimited storage",development:"Custom development"}}}},cta:{title:"Ready to Start Your Journey?",subtitle:"Join thousands of merchants who trust our platform to grow their business and achieve their goals",button:"Create Your Store Now for Free"},footer:{description:"A complete platform to create and manage online stores with ease and professionalism",product:"Product",support:"Support",company:"Company",links:{features:"Features",pricing:"Pricing",templates:"Templates",integrations:"Integrations",helpCenter:"Help Center",faq:"FAQ",contact:"Contact Us",docs:"Documentation",about:"About Us",blog:"Blog",careers:"Careers",press:"Press",privacy:"Privacy Policy",terms:"Terms & Conditions",cookies:"Cookie Policy"},copyright:" 2024 Saa. All rights reserved."}},dashboard:{categories:{title:"Categories & Offers Management",subtitle:"Organize product categories and customer offers",tabs:{productCategories:"Product Categories",customerTiers:"Customer Tiers",offers:"Offers"},productCategories:{allCategories:"All Categories",noCategories:"No categories found",noCategoriesDesc:"Create your first category to organize products",addCategory:"Add Category",addSubcategory:"Add Subcategory",subcategories:"Subcategories",level:"Level",maxSubcategoriesReached:"Maximum Subcategories Reached",maxSubcategoriesDesc:"Cannot add more than {{max}} subcategories per parent category",maxDepthReached:"Maximum Depth Reached",maxDepthDesc:"Cannot add more subcategories. Maximum is {{max}} levels.",maxDepthTooltip:"Maximum depth reached ({{max}} levels)",maxDepthWarning:" Maximum depth reached ({{max}} levels). You can only add products.",export:"Export",import:"Import",logo:"Logo",category:"Category",productCount:"Product Count",actions:"Actions",noDescription:"No description",editCategory:"Edit Category",addNewCategory:"Add New Category",editCategoryDesc:"Update category information",addCategoryDesc:"Add a new category to organize your products",categoryName:"Category Name",slug:"Slug",slugHint:"Used in URLs (leave empty for auto-generation)",description:"Description",categoryLogo:"Category Logo",uploadLogo:"Upload category logo",logoHint:"You can upload a logo for the category to display in the store",update:"Update",add:"Add",deleteConfirm:"Are you sure you want to delete this category?",exportSuccess:"Categories exported successfully",importSuccess:"Successfully imported {{count}} categories{{errors}}",importError:"Failed to import categories",importingCategories:"Importing Categories",importingCategoriesDesc:"Please wait while we import categories from Excel file...",importErrorTitle:"Category Import Error Report",importErrorDesc:"The following errors occurred during category import. Please review failed rows and correct data in Excel file.",loadError:"Failed to load categories",saveError:"Failed to save category",deleteSuccess:"Category deleted successfully",deleteError:"Failed to delete category",updateSuccess:"Category updated successfully",addSuccess:"Category added successfully",deleteSelected:"Delete Selected"},customerTiers:{addTier:"Add Customer Tier",editTier:"Edit Customer Tier",addNewTier:"Add New Customer Tier",tierDesc:"Create tiers to classify customers and offer custom discounts",tierName:"Tier Name",tierNamePlaceholder:"e.g., VIP Tier",description:"Description",descriptionPlaceholder:"Brief description of this tier",color:"Color",discountPercent:"Discount Percentage (%)",linkedCategories:"Linked Product Categories:",allCategories:"All Categories",assignedCustomers:"Assigned Customers:",noCustomersAssigned:"No customers assigned",customerCount:"{{count}} customer",assignCustomers:"Assign customers to this tier",loadingCustomers:"Loading customers...",noCustomersAvailable:"No customers available",selectCustomer:"Select a customer to add to tier",customer:"Customer",assignedCount:"{{count}} customers assigned to this tier",selectProductCategory:"Select product category",linkedProductCategories:"Linked Product Categories (optional)",howItWorks:"How Customer Classification Works",howItWorksDesc1:" Customers are automatically classified based on product categories they purchase",howItWorksDesc2:" Tier A (VIP) customers get 15% discount on all products",howItWorksDesc3:" Tier B (Gold) customers get 10% discount",howItWorksDesc4:" Tier C (Regular) customers get 5% discount",howItWorksDesc5:"Link product categories with customer tiers to enable automatic classification",tierNameRequired:"Tier name is required",updateSuccess:"Customer tier updated",addSuccess:"Customer tier added",deleteSuccess:"Customer tier deleted",deleteConfirm:"Are you sure you want to delete this tier?"},offers:{addOffer:"Add Offer",editOffer:"Edit Offer",addNewOffer:"Add New Offer",offerDesc:"Create special offers for customer tiers on specific products",noOffers:"No offers found",noOffersDesc:"Create special offers for different customer tiers",offerName:"Offer Name",offerNamePlaceholder:"e.g., Ramadan Offer",customerTier:"Customer Tier",selectCustomerTier:"Select customer tier",discountPercent:"Discount Percentage (%)",includedCategories:"Included Product Categories:",allCategories:"All Categories",example:"Example:",exampleDesc:"Product priced at 100 SAR  Price after discount: {{price}} SAR",active:"Active",inactive:"Inactive",forTier:"For tier: {{tierName}}",nameAndTierRequired:"Offer name and customer tier are required",updateSuccess:"Offer updated",addSuccess:"Offer added",deleteSuccess:"Offer deleted",deleteConfirm:"Are you sure you want to delete this offer?",selectProductCategories:"Select product categories",productCategories:"Product Categories (optional)"}},main:{viewMode:"View",normal:"Normal",cards:"Cards",navigation:"Navigation",totalSales:"Total Sales",totalOrders:"Total Orders",avgOrderValue:"Avg Order Value",totalCustomers:"Total Customers",visits:"Visits",totalProducts:"Total Products",salesChart:"Sales Chart",visual:"Visual",summary:"Summary",detailed:"Detailed",showSummary:"Show Summary",showDetailed:"Show Detailed",notifications:"Notifications",noNotifications:"No notifications",recentOrders:"Recent Orders",viewAll:"View All",noOrders:"No orders",displayMode:"Display Mode",lastWeek:"Last Week",lastMonth:"Last Month",lastYear:"Last Year",subtitle:"Overview of your store performance"},sidebar:{home:"Home",dashboard:"Dashboard",salesAndOrders:"Sales & Orders",products:"Products",productsDesc:"Manage your product catalog",hierarchical:"Products & Collections",hierarchicalDesc:"Browse products by category",priceManagement:"Price Management",priceManagementDesc:"Update product prices",orders:"Orders",ordersDesc:"Process customer orders",customers:"Customers",customersDesc:"Manage customer relationships",reports:"Reports",reportsDesc:"View sales analytics",contentAndDesign:"Content & Design",categories:"Categories",categoriesDesc:"Organize product categories",pages:"Pages",pagesDesc:"Manage static pages",storefront:"Storefront",storefrontDesc:"Customize storefront homepage",storeDesign:"Store Design",storeDesignDesc:"Change themes and colors",templates:"Templates",templatesDesc:"Manage page templates",marketing:"Marketing",marketingDesc:"Create marketing campaigns",potentialAndMarketing:"Potential & Marketing",smartLine:"Smart Line (AI)",smartLineDesc:"AI-powered marketing tools",storeSettings:"Store Settings",generalSettings:"General Settings",generalSettingsDesc:"Configure store settings",notifications:"Notifications",notificationsDesc:"Manage notifications",payment:"Payment",paymentDesc:"Setup payment gateways",checkoutSettings:"Checkout Settings",limits:"Limits",domains:"Domains",domainsDesc:"Manage custom domains",suppliers:"Suppliers",suppliersDesc:"Manage suppliers",brands:"Brands",units:"Units",currencies:"Currencies",advanced:"Advanced",usersAndPermissions:"Users & Permissions",usersAndPermissionsDesc:"Manage team access",employees:"Employees",permissions:"Permissions Management",integrations:"Integrations",integrationsDesc:"Connect third-party apps",identityVerification:"Identity Verification",identityVerificationDesc:"Verify your identity",appStore:"App Store",appStoreDesc:"Install apps and plugins",storeManagement:"Store Management",chat:"Chat",chatDesc:"Customer support chat",transactions:"Transactions",controlPanel:"Control Panel",clickToViewWallet:"Click to view balance",yourBalance:"Your Balance",new:"New",support:"Support",cardsMarketplace:"Cards Marketplace",cardsStore:"Store",cardsFavorites:"Favorites",cardsOrders:"My Orders",walletTopUp:"Balance Top-up",cardsReports:"Reports"},orders:{title:"Orders & Top-ups",subtitle:"Manage customer orders and balance top-up requests",orders:"Orders",topups:"Top-up Requests",totalOrders:"Total Orders",pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",noOrders:"No orders found",noMatchingOrders:"No matching orders found",searchPlaceholder:"Search by order number or customer name...",allStatuses:"All Statuses",export:"Export",import:"Import",orderNumber:"Order Number",customer:"Customer",products:"Products",amount:"Amount",status:"Status",paymentStatus:"Payment Status",date:"Date",actions:"Actions",viewDetails:"View Details",print:"Print",previous:"Previous",next:"Next",paymentPending:"Payment Pending",paid:"Paid",failed:"Failed",refunded:"Refunded",topupRequests:"Top-up Requests",pendingTopups:"Pending Top-ups",user:"User",bank:"Bank",receiptImage:"Receipt Image",requestDate:"Request Date",view:"View",noTopups:"No top-up requests",noPendingTopups:"No pending top-up requests",accountNumber:"Account Number",noImage:"No image",approve:"Approve",reject:"Reject",approveConfirm:"Are you sure you want to approve this top-up?",rejectConfirm:"Are you sure you want to reject this top-up?",rejectReason:"Rejection Reason",enterRejectReason:"Enter rejection reason",confirm:"Confirm",cancel:"Cancel",success:"Success",error:"Error",updateStatusSuccess:"Order status updated successfully",updateStatusError:"Failed to update order status",loadOrdersError:"Failed to load orders",loadTopupsError:"Failed to load top-up requests",approveSuccess:"Approved successfully",approveError:"Failed to approve",rejectSuccess:"Rejected successfully",rejectError:"Failed to reject",rejectOrder:"Reject Order",enterRejectReasonOrder:"Please enter the reason for rejecting this order",orderApproved:"Order status changed to approved",orderRejected:"Order status changed to rejected",rejectionReason:"Rejection Reason",rejectionReasonDescription:"The reason why this request was rejected",noReasonProvided:"No reason provided",preview:"Preview",topupDetails:"Top-up Request Details",requestAmount:"Requested Amount",bankName:"Bank Name",viewFullImage:"View Full Image",customerName:"Customer Name",email:"Email",phone:"Phone",shippingAddress:"Shipping Address",address:"Address",city:"City",state:"State/Region",postalCode:"Postal Code",country:"Country",noShippingInfo:"No shipping information available",paymentDetails:"Payment Details",paymentMethod:"Payment Method",productName:"Product Name",items:"items",shipping:"Shipping",printInvoice:"Print Invoice",invoice:{vatNumber:"VAT Number",simplifiedTaxInvoice:"Simplified Tax Invoice",invoiceInfo:"Invoice Information",orderNumber:"Order Number",date:"Date",paymentStatus:"Payment Status",paid:"Paid",unpaid:"Unpaid",customerInfo:"Customer Information",name:"Name",phone:"Phone",address:"Address",product:"Product",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",subtotal:"Subtotal",vat:"VAT",shipping:"Shipping",discount:"Discount",grandTotal:"Grand Total",thankYou:"Thank you for shopping with {{storeName}}",footer:"This invoice was generated electronically and does not require a signature"}},reports:{title:"Reports",export:"Export",pdf:"PDF",excel:"Excel",search:"Search...",startDate:"Start Date",endDate:"End Date",selectBrand:"Select Brand",allBrands:"All Brands",totalPrice:"Total Price",totalTax:"Total Tax",totalAfterTax:"Total After Tax",products:"Products",orders:"Orders",orderDetails:"Order Details",productReport:"Product Report",productName:"Product Name",sku:"SKU",stock:"Stock",salesCount:"Sales Count",revenue:"Revenue",noData:"No data available",orderReport:"Order Report",email:"Email",subtotal:"Subtotal",tax:"Tax",total:"Total",orderDate:"Order Date",orderNo:"Order No",payment:"Payment",quantity:"Quantity",itemTotal:"Item Total",loading:"Loading..."},design:{title:"Themes Store",subtitle:"Choose a theme for your store",generateAI:"Generate AI Theme",noThemes:"No Themes Found",seedHint:"Run the seed script to add default themes:",active:"Active",activate:"Activate",preview:"Preview",aiDialogTitle:"Generate AI Theme",aiDialogDesc:"Describe your ideal theme and AI will create a custom design for your store.",themeDesc:"Theme Description",themeDescPlaceholder:"Example: Modern e-commerce theme with dark mode, vibrant purple and blue gradients, clean typography, and smooth animations...",generating:"Generating...",generateTheme:"Generate Theme",themeGenerated:"Theme Generated!",themeGeneratedDesc:"AI has created a custom theme for your store.",activateSuccess:"Theme Activated",activateSuccessDesc:"The theme has been applied to your store.",error:"Error",loadError:"Failed to load themes",activateError:"Failed to activate theme",generateError:"Failed to generate theme",enterPrompt:"Please enter a theme description"},templates:{title:"Website Templates",subtitle:"Choose from our professionally designed templates to get started quickly",createNew:"Create New Page",searchPlaceholder:"Search templates...",allTemplates:"All Templates",loading:"Loading templates...",noTemplates:"No templates found",adjustSearch:"Try adjusting your search or filters",noTemplatesAvailable:"No templates available yet",createCustom:"Create Custom Page",useTemplate:"Use This Template",official:"Official",professionalDesc:"Professional template ready to use",loadError:"Failed to load templates",categories:{fashion:"Fashion",electronics:"Electronics",food:"Food & Beverage",beauty:"Beauty",home:"Home & Furniture",digital:"Digital Products",services:"Services",restaurant:"Restaurant & Cafe",cards:"Digital Cards",landing:"Landing Pages",store:"Stores",blank:"Blank"}},products:{title:"Products",subtitle:"Manage store products and inventory",addProduct:"Add Product",hierarchical:{title:"Products & Collections",description:"Browse and manage products by category hierarchy",loadError:"Failed to load hierarchical data"},editProduct:"Edit Product",addNewProduct:"Add New Product",enterProductDetails:"Enter product details",viewInStore:"View in Store",cancel:"Cancel",update:"Update",add:"Add",delete:"Delete",viewProduct:"View Product",totalProducts:"Total Products",activeProducts:"Active Products",lowStock:"Low Stock",outOfStock:"Out of Stock",allProducts:"All Products",nearDepletion:"Near Depletion",quantityDepleted:"Quantity Depleted",depleted:"Depleted",available:"Available",lowStockTab:"Low Stock",outOfStockTab:"Out of Stock",searchPlaceholder:"Search by name or SKU...",allStatuses:"All Statuses",active:"Active",draft:"Draft",archived:"Archived",category:"Category",allCategories:"All Categories",export:"Export",import:"Import",importingProducts:"Importing Products",importingProductsDesc:"Please wait while we process and upload products...",importStopped:"Import Stopped",importStoppedDesc:"Import process has been stopped successfully",loadDataError:"Failed to load data",loadDataErrorDesc:"An error occurred while loading products. Please refresh the page.",exportSuccess:"Exported successfully",noProducts:"No products",noProductsDesc:"No products found matching your search",startAddingFirst:"Start by adding your first product",product:"Product",price:"Price",stock:"Stock",status:"Status",actions:"Actions",view:"View",edit:"Edit",bulkDelete:"Delete Selected",saveProduct:"Save Product",nameEn:"Name (English)",nameAr:"Name (Arabic)",descriptionEn:"Description (English)",descriptionAr:"Description (Arabic)",compareAtPrice:"Compare at Price",cost:"Cost",barcode:"Barcode",lowStockThreshold:"Low Stock Threshold",featured:"Featured Product",images:"Product Images",uploadImages:"Upload Images",selectFromCloudinary:"Select from Cloudinary",seoTitle:"SEO Title",messages:{requiredField:"Required Field",nameRequired:"Product name is required",priceRequired:"Product price is required",priceError:"Price Error",priceInvalid:"Price must be a number greater than or equal to zero",priceTooLow:"Price must be at least {{minPrice}} SAR ({{quantity}} {{unit}}  {{cost}} SAR)",categoriesWarning:"Warning",categoriesWarningDesc:"Product saved but categories were not attached. Please check categories.",saveError:"Failed to save product",saveErrorDesc:"An error occurred while saving the product. Please try again.",deleted:"Deleted",notFound:"Product not found (may have been deleted already)",deleteError:"Failed to delete product",deleteErrorDesc:"An error occurred while deleting the product. Please try again.",noSelection:"No products selected",noSelectionDesc:"Please select products to delete",confirmDelete:"Are you sure you want to delete {{count}} product(s)?",deletePartial:"Deleted {{deleted}} of {{total}} products. Failed attempts: {{failed}}",deleteSuccess:"Successfully deleted {{count}} product(s)",selectAllSuccess:"Selected {{count}} products",selectAllError:"Failed to select all products",exportError:"Failed to export products",exportErrorDesc:"Failed to export products. Please try again.",settingsError:"Settings Error",settingsErrorDesc:"You must set up a store before importing products. Please go to Store Settings.",readingFile:"Reading Excel file...",analyzingData:"Analyzing data...",processingData:"Processing data...",noDataError:"No data found in Excel file. Please check the file.",validatingRows:"Scanning and validating {{count}} rows...",validatingRow:"Scanning row {{current}}/{{total}}...",row:"Row",nameRequiredImport:"Name, product_id, or sku is required",priceRequiredImport:"Price is required",priceInvalidImport:"Invalid price format",categoryNotFound:'Category "{{category}}" not found',brandNotFound:'Brand "{{brand}}" not found',uploadingValid:"Uploading {{count}} valid products...",unknownError:"Unknown error occurred",storeSetupRequired:"Store setup required first.",categoryOrBrandNotFound:"Category or Brand not found.",productExists:"Product already exists (duplicate SKU or name)",importCompleteWithErrors:"Import complete! Successfully imported {{success}} products, rejected {{errors}} products out of {{total}}",importComplete:"Import complete! Successfully imported {{success}} products out of {{total}}",importSuccess:"Import Successful",importFailed:"Import Failed",importSuccessDescWithErrors:"Successfully imported {{success}} products, rejected {{errors}} products",importSuccessDesc:"Successfully imported {{success}} products",importErrorTitle:"Failed to import products",importErrorDesc:"Error reading import file. Please check file format.",productsAndCollections:"Products & Collections",importBtn:"Import",selectAll:"Select All",deleting:"Deleting...",deleteSelected:"Delete {{count}}",path:"Path",defaultProductName:"Product"},form:{categories:"Categories",selectCategories:"Select Categories...",noCategorySelected:"No category selected",path:"Product Path",pathPlaceholder:"e.g. product-name",pathDesc:"Product URL path (used in product links)",tags:"Tags",tagsPlaceholder:"Enter tags separated by comma (e.g. electronics, phones)",tagsDesc:"Tags help improve search results within the store",productId:"Product ID",productCode:"Product Code",odooId:"Odoo ID",optional:"Optional",pricing:"Pricing",price:"Price (SAR)",compareAtPrice:"Compare at Price",cost:"Cost (for accounting)",costAutoFilled:"(Auto-filled from best supplier price)",costDisabledDesc:"Cost cannot be edited when suppliers are present. Best price will be used automatically.",inventory:"Inventory",sku:"SKU",barcode:"Barcode",quantity:"Quantity",lowStockThreshold:"Low Stock Threshold",unit:"Unit of Measure",selectUnit:"Select Unit...",suppliers:"Suppliers",suppliersAutoSelect:"Best price will be selected automatically",addSupplier:"Add Supplier...",supplierPrice:"Supplier Price (SAR)",discountRate:"Discount Rate (%)",setAsPrimary:"Set as Primary",noSuppliers:"No suppliers added. You can add multiple suppliers with their prices.",weight:"Weight (kg)",dimensions:"Dimensions (cm)",dimensionsPlaceholder:"Length x Width x Height",quantitySlider:"Quantity Slider",quantitySliderDesc:"Enable quantity selection via slider interface",minQuantity:"Minimum Quantity",maxQuantity:"Maximum Quantity",seo:"SEO",metaTitle:"Meta Title",metaTitlePlaceholder:"Title shown in search results",metaDescription:"Meta Description",metaDescriptionPlaceholder:"Brief description shown below title in search results",publishSettings:"Publish Settings",productStatus:"Product Status",productStatusDesc:"Determine if the product is visible to customers",featuredProduct:"Featured Product",featuredProductDesc:"Show product in featured products section on homepage",cancel:"Cancel",save:"Save Product",updateProduct:"Update Product",addProduct:"Add Product",saving:"Saving...",next:"Next",previous:"Previous",basicInfo:"Basic Info",media:"Images & Media",pricingInventory:"Pricing & Inventory",advanced:"Advanced Options",seoSettings:"SEO & Settings",dragDropImages:"Drag & drop images here",orClickToUpload:"or click to upload",maxSize:"Max size 5MB per image",browseCloudinary:"Browse Image Library",mainImage:"Main",remove:"Remove",name:"Product Name",nameAr:"Product Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)"},statusBadges:{active:"Active",draft:"Draft",archived:"Archived",low:"Low",available:"Available"},seoDescription:"SEO Description",weight:"Weight",dimensions:"Dimensions",unit:"Unit",brand:"Brand",suppliers:"Suppliers",tags:"Tags",tagsHint:"Separate tags with commas",basicInfo:"Basic Information",pricingAndInventory:"Pricing & Inventory",organization:"Organization",media:"Media",seo:"SEO",advanced:"Advanced"},header:{newOrder:"New Order",newOrderMessage:"New order #{{orderNumber}} of value {{amount}}",lowStockAlert:"Low Stock Alert",lowStockMessage:"Product {{productName}} is running low",now:"Now",notifications:"Notifications",clearAll:"Clear All",noNotifications:"No notifications",allNotificationsCleared:"All notifications marked as read",notificationsCleared:"Notifications cleared",profile:"Profile",settings:"Settings",helpAndSupport:"Help & Support",logout:"Logout",searchPlaceholder:"Search...",filter:"Filter",filterDescription:"Filter data on current page",status:"Status",all:"All",active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",fromDate:"From Date",toDate:"To Date",customDate:"Custom Date",download:"Download",exportingReports:"Exporting reports...",exportingOrders:"Exporting orders...",exportingProducts:"Exporting products...",exportingCustomers:"Exporting customers...",navigateToReports:"Go to reports page to export data",exportError:"Failed to export data",filterApplied:"Filter applied successfully"},notifications:{newOrders:"New Orders",pendingOrdersMessage:"You have {{count}} new order(s) pending",justNow:"Just now",minutesAgo:"{{count}} minute(s) ago",hoursAgo:"{{count}} hour(s) ago"},setupPrompt:{title:"Create Your Online Store",description:"You can create pages and content now, then complete store setup later to get your own domain",button:"Setup Store"},marketing:{title:"Marketing Dashboard",subtitle:"Manage marketing campaigns and analyze performance",partnerTitle:"Smart Line - Our Marketing Partner",partnerDesc:"Integrated marketing solutions and professional social media management",stats:{totalFollowers:"Total Followers",engagementRate:"Engagement Rate",postsThisMonth:"Posts This Month",totalReach:"Total Reach"},socialAccounts:{title:"Your Social Media Accounts",subtitle:"Overview of your account performance",followers:"Followers"},packages:{title:"Smart Line Packages",subtitle:"Choose the right package for your marketing needs",mostPopular:"Most Popular",monthly:"Monthly",select:"Select Package",selected:"Selected",basic:{name:"Basic Package",nameEn:"",features:["Manage 2 social media accounts","10 posts per month","Professional content design","Monthly performance report","Email support"]},professional:{name:"Professional Package",nameEn:"",features:["Manage 4 social media accounts","20 posts per month","Professional content design + short videos","Paid ads management","Weekly performance report","24/7 technical support","Marketing consultations"]},enterprise:{name:"Enterprise Package",nameEn:"",features:["Unlimited account management","40 posts per month","Multimedia content (images, video, infographic)","Full paid ads management","Detailed daily reports","Dedicated account manager","Comprehensive marketing strategy","Advanced AI analytics"]}},customPackage:{title:"Need a custom package?",desc:"Contact Smart Line team for a custom offer that fits your needs",contact:"Contact Us"}},smartLineMarket:{title:"Smart Line Market",subtitle:"Smart Marketing Services Marketplace",badge:"Smart Marketing Services Market",description:"Elevate your store to the next level with professional marketing services. Choose from a wide range of services designed specifically for your business growth.",browseServices:"Browse Services",contactExpert:"Contact an Expert",searchPlaceholder:"Search for a service...",categories:{all:"All",social:"Social Media",seo:"SEO",content:"Content",ads:"Ads",dev:"Development"},service:{pricePerMonth:"SAR / Month",subscribeNow:"Subscribe Now",rating:"Rating",reviews:"Reviews"},emptyState:{title:"No matching services",desc:"Try searching with different keywords or browse other categories",showAll:"Show all services"},trust:{speed:{title:"Speed in Execution",desc:"We are committed to delivering our services on time and with the highest quality"},results:{title:"Guaranteed Results",desc:"We guarantee a noticeable improvement in your store performance and sales"},support:{title:"Continuous Support",desc:"Our team is always available to answer your questions and help you"}},services:{socialMedia:{title:"Social Media Management",description:"Comprehensive management of your social media accounts to increase engagement and reach.",features:["3 Platforms","12 Posts per month","Graphic design","Comment moderation"]},seo:{title:"SEO Optimization",description:"Improve your website visibility in top search results and increase organic traffic.",features:["Keyword analysis","Content optimization","Link building","Monthly reports"]},content:{title:"Creative Content Creation",description:"Writing attractive marketing content and designing professional images and videos.",features:["Article writing","Image design","Video script","Email newsletter"]},ads:{title:"Paid Ads Management",description:"Manage advertising campaigns on Google, Facebook, and Instagram to achieve the highest return.",features:["Google Ads","Facebook Ads","ROI analysis","Precise targeting"]},video:{title:"Video Production",description:"Produce promotional videos and motion graphics to enhance your brand identity.",features:["Intro video","Motion graphics","Product photography","Professional editing"]},dev:{title:"Store Development",description:"Programming services to improve your store speed and performance and add custom features.",features:["Speed optimization","Theme customization","Payment gateway integration","Monthly maintenance"]}}},suppliers:{title:"Suppliers & Purchasing Management",subtitle:"Manage suppliers and automated purchasing from suppliers",tabs:{manage:"Manage Suppliers",purchase:"Buy from Suppliers",history:"Purchase History",statistics:"Supplier Statistics",emailTemplate:"Issue Email Template"},addSupplier:"Add Supplier",listTitle:"Suppliers List",listDesc:"All suppliers registered in the system",table:{name:"Name",email:"Email",phone:"Phone",discount:"Discount Rate",api:"API",status:"Status",actions:"Actions"},status:{active:"Active",inactive:"Inactive",enabled:"Enabled",configured:"Configured"},purchase:{title:"Buy from Suppliers",desc:"Select a product to buy from suppliers. The best supplier will be automatically selected based on price",selectProduct:"Select Product",checkPrice:"Check Price",bestPrice:"Best available price:",noSupplier:"No supplier found for this product",buyNow:"Buy Now",price:"Price:",available:"Available",unavailable:"Unavailable",cost:"Cost:",sellingPrice:"Selling Price:",profit:"Profit:",buy:"Buy",badPrice:"Bad Price",buyBestAuto:"Buy from best supplier automatically",noPrices:"No prices available from suppliers for this product",pricesFromSuppliers:"Prices from Suppliers"},history:{title:"Purchase History",desc:"View all purchases from suppliers",noPurchases:"No purchases recorded yet",table:{product:"Product",supplier:"Supplier",quantity:"Quantity",price:"Price",total:"Total",status:"Status",date:"Date"}},statistics:{title:"Supplier Statistics",desc:"View purchase, inventory, and alert statistics for each supplier",loading:"Loading statistics...",noStats:"No statistics available yet",summary:{totalPurchases:"Total Purchases",totalAmount:"Total Amount",totalQuantity:"Total Quantity",averagePrice:"Average Price"},products:{title:"Products Purchased",quantity:"Quantity:",avgPrice:"Avg Price:",lastPurchase:"Last Purchase:",totalAmount:"Total Amount"},alerts:{title:"Inventory Alerts",critical:"Critical",warning:"Warning",low:"Low",current:"Current Quantity:",threshold:"Threshold:",needsRecharge:"Needs recharge or purchase from supplier",allNormal:"No alerts - all products at normal levels"}},dialogs:{editSupplier:"Edit Supplier",addSupplier:"Add New Supplier",desc:"Fill in the following information to add a new supplier",name:"Supplier Name *",nameAr:"Supplier Name (Arabic)",email:"Email",phone:"Phone",contactPerson:"Contact Person",address:"Address",discount:"Discount Rate (%) *",responseDays:"Problem Response Days *",responseDaysHint:"Number of days the supplier takes to respond to problems (email will be sent after {{days}} days)",status:"Supplier Status",statusDesc:"Enable or disable the supplier",notes:"Notes",api:{title:"Supplier API Settings",desc:"Configure supplier API for automated purchasing and price comparison",endpoint:"Supplier API Endpoint",endpointHint:"Base URL for the supplier API (e.g., https://api.supplier.com/v1)",key:"API Key",keyHint:"Authentication key to access the supplier API",autoPurchase:"Enable Auto Purchase",autoPurchaseDesc:"Allow the system to automatically purchase from this supplier when the best price is available",interval:"Price Check Interval (minutes)",intervalHint:"How often to check prices from this supplier (default: 60 minutes)"},purchase:{title:"Confirm Purchase",quantity:"Quantity",confirm:"Confirm Purchase",loading:"Purchasing..."},emailTemplates:{title:"Email Template Settings",subtitle:"Customize email templates sent to customers in various situations",saveCurrent:"Save Current Template",selectType:"Select Template Type",selectTypeDesc:"Choose the template type you want to edit from the list below",active:"Active",editorTitle:"Edit Template: {{name}}",availableVariables:"Available Variables",availableVariablesDesc:"You can use these variables in the template. They will be replaced with actual values when sending.",subject:"Subject",body:"Body",preview:"Preview",edit:"Edit",settings:"Template Settings",enableTemplate:"Enable Template",enableTemplateDesc:"When enabled, this template will be used to send emails to customers",types:{customerProblem:"Customer Problem",orderIssue:"Order Issue",deliveryProblem:"Delivery Problem",paymentIssue:"Payment Issue",refundRequest:"Refund Request",productQuality:"Product Quality",custom:"Custom Template"},variables:{storeName:"Store Name",storeLogo:"Store Logo",storeDetails:"Store Details",customerName:"Customer Name",supplierResponseDays:"Supplier Response Days",problemDetails:"Problem Details",orderNumber:"Order Number",orderDate:"Order Date",productName:"Product Name",refundAmount:"Refund Amount",currentYear:"Current Year"},toasts:{loadError:"Failed to load templates",saveSuccess:"Email template saved successfully",saveError:"Failed to save template"}},deleteConfirm:"Are you sure you want to delete this supplier?"},toasts:{loadError:"Failed to load suppliers",loadErrorDesc:"An error occurred while loading suppliers. Please refresh the page.",updateSuccess:"Supplier updated successfully",addSuccess:"Supplier added successfully",saveError:"Failed to save supplier",saveErrorDesc:"An error occurred while saving supplier. Please try again.",deactivateSuccess:"Supplier deactivated (used in products)",deleteSuccess:"Supplier deleted successfully",deleteError:"Failed to delete supplier",deleteErrorDesc:"An error occurred while deleting supplier. Please try again.",noPrices:"No prices found",noPricesDesc:"No suppliers linked to this product or API not configured",fetchPricesError:"Failed to fetch prices",fetchPricesErrorDesc:"An error occurred while fetching prices from suppliers",bestSupplierFound:"Best supplier found",noSuitableSupplier:"No suitable supplier",noSuitableSupplierDesc:"No supplier meets the price criteria",findBestError:"Failed to find best supplier",findBestErrorDesc:"An error occurred while searching for the best supplier",purchaseSuccess:"Purchase successful",purchaseSuccessDesc:"Successfully purchased from supplier. Quantity: {{quantity}}",purchaseError:"Purchase failed",purchaseErrorDesc:"An error occurred while purchasing from supplier",autoPurchaseSuccess:"Auto-purchase successful",autoPurchaseSuccessDesc:"Successfully purchased from best supplier. Quantity: {{quantity}}",autoPurchaseError:"Auto-purchase failed",autoPurchaseErrorDesc:"An error occurred during auto-purchase"}},customers:{title:"Customers",subtitle:"Manage customers and loyalty programs",addCustomer:"Add Customer",loyaltyPrograms:"Loyalty Programs",tabs:{customers:"Customers",loyalty:"Loyalty Programs"},totalCustomers:"Total Customers",goldCustomers:"Gold Customers",averageSpending:"Average Spending",totalPoints:"Total Points",searchPlaceholder:"Search by name or email...",filterTier:"Filter by Tier",allTiers:"All Tiers",gold:"Gold",silver:"Silver",bronze:"Bronze",export:"Export",import:"Import",customer:"Customer",contactInfo:"Contact Info",orders:"Orders",totalSpent:"Total Spent",loyaltyPoints:"Loyalty Points",tier:"Tier",lastOrder:"Last Order",memberSince:"Member since",noResults:"No results found",noResultsDesc:"No customers found matching your search",loyaltyDesc:"Manage loyalty programs and rewards for customers",createProgram:"Create New Program",noPrograms:"No loyalty programs",noProgramsDesc:"Start by creating a loyalty program for your customers",members:"Members",minPoints:"Minimum Points",benefits:"Benefits",editProgram:"Edit Program",createProgramTitle:"Create New Loyalty Program",editProgramTitle:"Edit Loyalty Program",programName:"Program Name",description:"Description",benefitsPlaceholder:"Example: 10% discount, free shipping, triple points",benefitsHint:"Write benefits separated by commas (,)",addNewCustomer:"Add New Customer",addCustomerDesc:"Enter new customer information. An email invitation will be sent.",name:"Name",email:"Email",phone:"Phone Number (Optional)",loadCustomersError:"Failed to load customers data",addCustomerSuccess:"Customer added successfully",addCustomerError:"Failed to add customer",saveProgramSuccess:"Program saved successfully",saveProgramError:"Failed to save program",exportHeaders:{id:"ID",name:"Name",email:"Email",phone:"Phone",totalOrders:"Total Orders",totalSpent:"Total Spent",loyaltyPoints:"Loyalty Points",loyaltyTier:"Loyalty Tier",createdAt:"Created At",lastOrderDate:"Last Order Date"},importProcessed:"Import processed",importProcessedDesc:"Read {{count}} records. Bulk import implementation required in backend."}},storefront:{products:{categories:"Categories",priceRange:"Price Range",from:"From",to:"To",clearFilters:"Clear Filters",home:"Home",title:"All Products",subtitle:"Discover our wide range of premium products",searchPlaceholder:"Search for products...",sortBy:"Sort By",newest:"Newest",priceAsc:"Price: Low to High",priceDesc:"Price: High to Low",nameAsc:"Name: A-Z",nameDesc:"Name: Z-A",filter:"Filter",filters:"Filters",filterDesc:"Select filters to narrow down your search",loading:"Loading products...",availableProducts:"products available",search:"Search",selectedCategories:"categories selected",noProducts:"No products found",noProductsDesc:"We couldn't find any products matching your search. Try different keywords or clear filters.",noProductsEmpty:"No products are currently available. Check back soon!"},cloudinary:{title:"Select Images from Cloudinary",desc:"Choose images from Cloudinary folders. You can select {{selectionText}}.",multiple:"multiple images",single:"one image",folders:"Folders",search:"Search for image...",selectedCount:"{{count}} images selected",selectedCountSingle:"one image selected",noImages:"No images in this folder",loadMore:"Load More",loading:"Loading...",cancel:"Cancel",save:"Save",toasts:{loadFoldersError:"Failed to load folders",loadImagesError:"Failed to load images",noSelection:"No images selected",noSelectionDesc:"Please select at least one image",selectError:"Error selecting images"}}},builder:{addSections:"Add Sections",templateApplied:"Template Applied",templateAppliedDesc:"Template {{name}} has been applied successfully.",templateError:"Template Error",domainMissing:"Domain Missing",editMode:"Edit Mode",preview:"Preview",livePreview:"Live Site",searchSections:"Search sections...",backgroundColor:"Background",lightMode:"Light Mode",darkMode:"Dark Mode",noSections:"No sections added yet. Start by adding sections from the sidebar or choose a template.",browseTemplates:"Browse Templates",chooseTemplate:"Choose Template",magicDesign:"Magic Design",aiDesignTitle:"AI Magic Design",aiDesignDesc:"Describe the section you want to create, and our AI will design it for you.",aiPromptLabel:"What should this section contain?",aiPromptPlaceholder:'e.g., A hero section for a luxury watch store with a dark theme and a "Shop Now" button.',generateDesign:"Generate Design",aiDesignSuccess:"Design Generated",aiDesignSuccessDesc:"AI has created a new section for you.",aiDesignError:"Failed to generate design. Please try again.",codeEditor:"Code Editor",backToPages:"Back to Pages",editPage:"Edit Page",newPage:"New Page",usingTemplate:'Using "{{name}}" template',pageTitle:"Page Title",urlSlug:"URL Slug",pageHistory:"Page History",restoreVersion:"Restore a previous version of this page.",noHistory:"No history available",version:"Version",restore:"Restore",codeEditorTitle:"Code Editor",codeEditorDesc:"Edit the page structure directly in JSON format. Be careful - invalid JSON will not be applied.",loadingEditor:"Loading Editor...",applyChanges:"Apply Changes",defaults:{header:{companyName:"My Store",home:"Home",products:"Products",about:"About"},hero:{title:"Welcome to Our Store",subtitle:"Discover amazing products",buttonText:"Shop Now"},features:{title:"Features",fastShipping:"Fast Shipping",fastShippingDesc:"Get your orders quickly",securePayment:"Secure Payment",securePaymentDesc:"Your data is safe",giftCards:"Gift Cards",giftCardsDesc:"Perfect for any occasion"},products:{title:"Featured Products"},gallery:{title:"Our Gallery"},slider:{title:"Image Showcase",description:"Browse through our collection"},contentSlider:{title:"Featured Content",item1:"Quality Products",item1Desc:"Top-notch quality guaranteed",item2:"Fast Delivery",item2Desc:"Quick shipping worldwide",item3:"Premium Support",item3Desc:"24/7 customer service",item4:"Special Offers",item4Desc:"Exclusive deals daily",item5:"Secure Payment",item5Desc:"Safe transactions"},cta:{title:"Ready to get started?",description:"Join thousands of happy customers",buttonText:"Get Started"},testimonials:{title:"What Our Customers Say",customer1:"Ahmed Ali",role1:"Customer",text1:"Excellent service and quality products!",customer2:"Sara Mohamed",role2:"Customer",text2:"Fast delivery and great support!"},pricing:{title:"Choose Your Plan",subtitle:"Simple, transparent pricing",basic:"Basic",pro:"Pro",month:"month",feature1:"10 Products",feature2:"Basic Support",feature3:"1 GB Storage",feature4:"Unlimited Products",feature5:"Priority Support",feature6:"10 GB Storage"},team:{title:"Meet Our Team",subtitle:"The people behind our success",member1:"John Doe",role1:"CEO & Founder",bio1:"Leading the company vision"},stats:{title:"Our Achievements",customers:"Happy Customers",products:"Products",countries:"Countries",satisfaction:"Satisfaction"},faq:{title:"Frequently Asked Questions",subtitle:"Find answers to common questions",q1:"How do I place an order?",a1:"Simply browse our products and add items to your cart.",q2:"What payment methods do you accept?",a2:"We accept all major credit cards and online payment methods."},newsletter:{title:"Subscribe to Our Newsletter",subtitle:"Get the latest updates and offers",placeholder:"Enter your email",button:"Subscribe"},video:{title:"Watch Our Story"},countdown:{title:"Limited Time Offer",subtitle:"Hurry up! Offer ends soon"},brands:{title:"Trusted By Leading Brands"},contact:{title:"Get In Touch",subtitle:"We'd love to hear from you",address:"Riyadh, Saudi Arabia"},footer:{companyName:"Your Company",about:"About",contact:"Contact",privacy:"Privacy"},categoriesHierarchy:{title:"Categories & Products",subtitle:"Browse categories, subcategories, and products"}}},cart:{title:"Shopping Cart",emptyTitle:"Your cart is empty",emptyDesc:"Start shopping now and discover our amazing products",browseProducts:"Browse Products",continueShopping:"Continue Shopping",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",total:"Total",checkout:"Checkout",couponCode:"Coupon Code",couponApplied:"Coupon code applied successfully",enterCode:"Enter code",itemsCount:"{{count}} items in your cart",freeShippingHint:"Add {{amount}} {{currency}} more for free shipping"},checkout:{title:"Checkout",orderSummary:"Order Summary",shippingInfo:"Shipping Information",customerInfo:"Customer Information",shippingMethod:"Shipping Method",paymentMethod:"Payment Method",placeOrder:"Place Order",walletBalance:"Wallet Balance",availableBalance:"Available balance for payment",sufficientBalance:"Sufficient balance",insufficientBalance:"Insufficient balance",insufficientWalletDesc:"Sorry, your wallet balance is insufficient for this order. Please recharge or choose another payment method.",rechargeNow:"Recharge Now",loadingPaymentMethods:"Loading payment methods...",noPaymentMethods:"No payment methods available",noPaymentMethodsDesc:"Please recharge your balance or contact support",securePayment:"Secure and encrypted payment",fastShipping:"Fast and reliable shipping",bestPrices:"Best prices guaranteed",fullName:"Full Name",phoneNumber:"Phone Number",email:"Email"},order:{notFound:"Order not found",successTitle:"Your order has been received!",successDesc:"Thank you for your order. We will send you a confirmation email soon.",details:"Order Details",number:"Order Number",status:{processing:"Processing"},print:"Print Order",confirmationSent:"A confirmation email has been sent to {{email}}",trackHint:"You can track your order using the order number and email"},payment:{wallet:{name:"Wallet Balance",desc:"Use your wallet balance for payment"},hyperpay:{name:"Credit Card (HyperPay)",desc:"Visa, Mastercard, Mada"},stripe:{name:"Credit Card (Stripe)",desc:"Visa, Mastercard"},paypal:{name:"PayPal",desc:"Pay via PayPal"},cod:{name:"Cash on Delivery",desc:"Pay cash upon delivery"},bank:{name:"Bank Transfer",desc:"Pay via direct bank transfer"}},sections:{customerOrders:{label:"My Orders",desc:"View and track all your orders",title:"My Orders",subtitle:"View all your orders with the status of each order",searchPlaceholder:"Search by order number or status...",allStatuses:"All Statuses",orderNumber:"Order #",date:"Date",status:"Status",total:"Total",actions:"Actions",view:"View",noOrders:"No orders found",orderDetails:"Order Details",trackOrder:"Track Order",viewDetails:"View Details",loadError:"Failed to load orders",loadErrorDesc:"An error occurred while loading orders. Please try again.",orderStatus:{pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",refunded:"Refunded"},continueShopping:"Continue Shopping"},supportTickets:{label:"Support Tickets",desc:"Manage support tickets",title:"Support",addTicket:"Add Ticket +",ticketNumber:"Ticket #",dateAdded:"Date Added",ticketTitle:"Title",orderNumber:"Order #",status:"Status",description:"Description",noTickets:"No tickets found",form:{title:"Ticket Title",titlePlaceholder:"Issue title",description:"Description",descriptionPlaceholder:"Describe your issue...",orderNumber:"Order Number (Optional)",orderNumberPlaceholder:"Enter related order number",priority:"Priority"},createButton:"Create Ticket",creating:"Creating..."},favoritesPage:{label:"Favorites Page",desc:"Favorite cards with cart",title:"Favorite Cards",searchPlaceholder:"Search for a card...",selectCard:"Select Card",wholesalePrice:"Wholesale Price",retailPrice:"Retail Price",productDetails:"Product Details",noFavorites:"No favorite cards",cartTitle:"Shopping Cart",total:"Total",checkout:"Checkout",cartEmpty:"Cart is empty"},balanceOperations:{label:"Balance Operations",desc:"List of balance recharge operations",title:"Balance Operations",id:"ID",date:"Date",description:"Description",action:"Action",status:"Status",amount:"Amount",deposit:"Deposit",withdraw:"Withdraw",topupRequest:"Top-up Request",viewRejectionReason:"View rejection reason"},chargeWallet:{label:"Charge Wallet",desc:"Balance recharge form",title:"Charge Balance",paymentMethod:"Payment Method",methods:{cash:"Cash",visa:"Visa",bankTransfer:"Bank Transfer"},bank:"Bank",selectBank:"Select Bank",bankDetails:"Bank Account Details",accountName:"Account Name:",accountNumber:"Account Number:",iban:"IBAN:",transferrerAccount:"Transferrer Account",selectTransferrerAccount:"Select bank account",transferrerName:"Transferrer Name",transferrerNamePlaceholder:"Enter transferrer name",amount:"Amount",currency:"Currency",receipt:"Receipt Image",uploadReceipt:"Upload File",receiptHint:"Receipt image must be: jpeg, png, jpg, pdf",submit:"Submit",submitting:"Submitting...",successTitle:"Request Sent",successDesc:"Balance charge request sent successfully",noBankAccounts:"No bank accounts found. Please add a bank account first.",addBankAccount:"Add Bank Account",notAllowed:"Not Allowed",staffNotAllowed:"Staff are not allowed to recharge balance",staffNotAllowedDesc:"Staff members are not allowed to recharge balance. Please contact the store owner to add balance.",loadError:"Failed to load data",loadErrorDesc:"An error occurred while loading data. Please try again.",fileSizeError:"File size too large",fileSizeErrorDesc:"Maximum file size is 5MB",invalidAmount:"Invalid amount",invalidAmountDesc:"Please enter a valid amount greater than zero",bankRequired:"Bank required",bankRequiredDesc:"Please select a bank",submitSuccess:"Recharge request sent successfully",submitSuccessDesc:"Your request will be reviewed soon and balance will be added to your wallet",submitError:"Failed to send recharge request",currentBalance:"Current Balance",addNewBalance:"Add New Balance",choosePaymentMethod:"Choose payment method and enter amount",bankInfo:"Bank Account Information:",notesPlaceholder:"Any additional notes..."},employeesPage:{form:{permissions:"Permissions",groupHint:"Selecting a group will apply its default permissions",name:"Name",username:"Username",password:"Password",phone:"Phone",group:"Group",selectGroup:"Select Group (Optional)",namePlaceholder:"Employee Name",usernamePlaceholder:"Username",passwordPlaceholder:"Password",phonePlaceholder:"Phone Number",amount:"Amount",employee:"Employee"},table:{name:"Name",username:"Username",phone:"Phone",balance:"Balance",status:"Status",actions:"Actions"},permissions:{ordersCreate:"Create Orders",ordersRead:"View Orders",reportsRead:"View Reports",walletRead:"View Balance",playersWrite:"Manage Players",employeesManage:"Manage Employees",settingsWrite:"Edit Settings",invoicesRead:"View Invoices",mobileAccess:"Mobile App Access",mobileOrders:"Mobile Orders Management",mobileProducts:"Mobile Products Management",mobileCustomers:"Mobile Customers View",mobileAnalytics:"Mobile Analytics View",manageProducts:"Manage Products",manageOrders:"Manage Orders",manageCustomers:"Manage Customers",manageSettings:"Manage Settings",viewAnalytics:"View Reports"},messages:{loadError:"Failed to load employees",loadErrorDesc:"An error occurred while loading employee data. Please refresh the page.",createError:"Failed to add employee",deleteError:"Failed to delete employee",deleteErrorDesc:"An error occurred while deleting the employee. Please try again."},addBalance:"Add Balance",addBalanceDesc:"Add balance to employee balance from your balance",dialog:{add:"Add Employee",addEmployeeTitle:"Add New Employee",addEmployeeDesc:"Fill in the information below to add a new employee to your store",editEmployeeTitle:"Edit Employee",editEmployeeDesc:"Update employee information",addGroupTitle:"Add New Employee Group",addGroupDesc:"Create a new group and set default permissions for it"},passwordDialog:{title:"Employee Created Successfully",description:"The employee account has been created. Please copy the password below and share it with the employee.",email:"Email",temporaryPassword:"Temporary Password",copy:"Copy",copied:"Copied",warning:"Warning",warningText:"You will not be able to see this password again. Make sure to copy it now.",close:"Close",important:"Important",mustChangePassword:"The employee will be required to change the password on first login."},employeeCreated:"Employee created successfully",employeeUpdated:"Employee updated successfully",employeeError:"Failed to save employee. Please try again.",employeeDeleted:"Employee deleted successfully",deleteConfirm:"Are you sure you want to delete this employee?",addEmployee:"Add New Employee",formValidation:{emailRequired:"Email is required"}},wallet:{title:"Balance & Payments",subtitle:"Manage your balance, transactions, and subscription",exportReport:"Export Report",availableBalance:"Available Balance",pendingBalance:"Pending Balance",totalRevenue:"Total Revenue",platformFees:"Platform Fees",readyToWithdraw:"Ready for withdrawal",processing:"Processing",beforeFees:"Before fees deduction",serviceFees:"Service fees",transactionLog:"Transaction Log",recentTransactions:"Recent financial transactions in your store",orderNumber:"Order Number",date:"Date",cardNumber:"Card Number",amount:"Amount",net:"Net",printCount:"Print Count",reprint:"Reprint",refund:"Refund",print:"Print",printing:"Printing...",refunded:"Refunded",refunding:"Refunding...",noTransactions:"No transactions yet",printSuccess:"Printed Successfully",printSuccessDesc:"Receipt for order {{orderNumber}} printed",printError:"Print Failed",printErrorDesc:"An error occurred while printing the receipt",refundSuccess:"Refunded Successfully",refundSuccessDesc:"Transaction {{orderNumber}} refunded successfully",refundError:"Refund Failed",refundErrorDesc:"An error occurred while refunding the transaction",refundConfirm:"Are you sure you want to refund this transaction? This action cannot be undone.",subscriptionDetails:"Subscription Details",currentPlanAndRenewal:"Your current plan and renewal date",currentPlan:"Current Plan",price:"Price",perMonth:"/ month",nextBillingDate:"Next Billing Date",daysRemaining:"Days Remaining",day:"day",days:"days",planFeatures:"Plan Features:",upgradePlan:"Upgrade Plan",renewSubscriptionRequired:"Subscription Renewal Required Soon",subscriptionExpiresSoon:"Your {{plan}} subscription expires in {{days}} days. Please renew to continue service.",renewNow:"Renew Now",invoices:"Invoices",transactions:"Transactions",totalIncome:"Total Income",totalExpense:"Total Expenses",pendingInvoices:"Pending Invoices",paidInvoices:"Paid Invoices",filterType:"Filter Type",filterStatus:"Filter Status",allTypes:"All Types",credit:"Deposit",debit:"Withdrawal",allStatuses:"All Statuses",completed:"Completed",pending:"Pending",failed:"Failed",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled",invoiceNumber:"Invoice #",dueDate:"Due Date",tax:"Tax",total:"Total",actions:"Actions",downloadInvoice:"Download Invoice",noInvoices:"No Invoices",noInvoicesDesc:"No invoices issued yet",downloading:"Downloading...",downloadSuccess:"Download Successful",downloadError:"Download Failed",lastUpdate:"Last Update",description:"Description",quantity:"Quantity",subtotal:"Subtotal",pageTitle:"Banks and Transactions",pageDesc:"Manage banks and view financial transaction history",totalBanks:"Total Banks",totalTransactions:"Total Transactions",tabs:{transactions:"Transactions",requests:"Top-up Requests",banks:"Banks"},banksTab:{title:"Banks",desc:"Manage banks that customers can transfer to",addBank:"Add Bank",editBank:"Edit Bank",addNewBank:"Add New Bank",editBankTitle:"Edit Bank",addBankTitle:"Add New Bank",dialogDesc:"Enter bank information that customers can transfer to",bankName:"Bank Name",bankNameAr:"Bank Name (Arabic)",bankCode:"Bank Code",bankCodeHint:"Bank code cannot be changed after creation",bankLogo:"Bank Logo",currentLogo:"Current logo",uploadLogo:"Click to upload logo",accountName:"Account Holder Name",accountNumber:"Account Number",iban:"IBAN",swiftCode:"SWIFT Code",sortOrder:"Sort Order",active:"Active (will be shown to customers)",deleteConfirm:"Are you sure you want to delete this bank?",deleteSuccess:"Bank deleted successfully",saveSuccess:"Bank added successfully",updateSuccess:"Bank updated successfully",fillRequired:"Please fill all required fields",saveError:"Failed to save bank",deleteError:"Failed to delete bank",copied:"Copied",saveChanges:"Save Changes",noBanks:"No banks yet",noBanksDesc:"Add your first bank so customers can transfer to it"},requestsTab:{noRequests:"No top-up requests",method:"Method",approveConfirm:"Are you sure you want to approve this top-up request of {{amount}} {{currency}}?",approveSuccess:"Top-up request approved successfully",approveError:"Failed to approve top-up request",rejectConfirm:"Please enter a rejection reason",rejectSuccess:"Top-up request rejected successfully",rejectError:"Failed to reject top-up request",viewDetails:"View Details",bankInfo:"Bank Information",senderInfo:"Sender Information",senderName:"Sender Name",referenceNumber:"Reference Number",notes:"Notes",receiptImage:"Receipt Image",receipt:"Receipt",rejectionReason:"Rejection Reason",detailsTitle:"Top-up Request Details",detailsDesc:"View top-up request details and approve or reject",reject:"Reject",processing:"Processing...",approve:"Approve",rejectTitle:"Reject Top-up Request",rejectDesc:"Please enter a reason for rejecting this top-up request",rejectPlaceholder:"Enter rejection reason..."},transactionTypes:{TOPUP:"Top Up",PURCHASE:"Purchase",REFUND:"Refund",BONUS:"Bonus",WITHDRAWAL:"Withdrawal",ADJUSTMENT:"Adjustment"},status:{PENDING:"Pending",APPROVED:"Approved",COMPLETED:"Completed",REJECTED:"Rejected",FAILED:"Failed"}}},masterDashboard:{overview:{title:"Platform Overview",subtitle:"Monitor your entire platform at a glance",loadError:"Failed to load platform overview",stats:{totalTenants:"Total Tenants",activeTenants:"active",totalRevenue:"Total Revenue",platformFees:"platform fees",transactions:"Transactions",allTime:"All time",totalUsers:"Total Users",acrossTenants:"Across all tenants",paymentGateways:"Payment Gateways",partners:"Partners",active:"Active"},tenantStatus:{title:"Tenant Status",active:"Active",suspended:"Suspended",inactive:"Inactive",total:"Total"},planDistribution:{title:"Plan Distribution"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity"}},paymentGateways:{title:"Payment Gateway Management",subtitle:"Configure and manage payment gateways",addGateway:"Add Gateway",searchPlaceholder:"Search gateways...",loadError:"Failed to load payment gateways",deleteConfirm:"Are you sure you want to delete this gateway?",deleteSuccess:"Gateway deleted",toggleSuccess:"Gateway status updated",createSuccess:"Payment gateway created successfully",updateSuccess:"Payment gateway updated successfully",missingName:"Missing name",missingNameDesc:"Please provide a gateway name.",missingEntityId:"Missing Entity ID",missingEntityIdDesc:"HyperPay requires Entity ID at minimum.",missingClientId:"Missing Client ID",missingClientIdDesc:"Neoleap requires Client ID.",noGateways:"No payment gateways found",edit:"Edit",enable:"Enable",disable:"Disable",modal:{addTitle:"Add New Gateway",editTitle:"Edit Gateway",gatewayName:"Gateway Name",provider:"Provider",credentials:"Credentials",secretKey:"Secret Key",publishableKey:"Publishable Key",clientId:"Client ID",clientSecret:"Client Secret",entityId:"Entity ID",accessToken:"Access Token",cancel:"Cancel",update:"Update Gateway",add:"Add Gateway"}},limits:{title:"Purchase Limits Settings",subtitle:"Set purchase limits for customers based on verification status and tier",howItWorks:"How Limits Work",howItWorksDesc1:" Unregistered/unverified customers use the default limit",howItWorksDesc2:" Verified customers use the limit customized for their tier",howItWorksDesc3:" The limit increases automatically with each purchase if enabled",howItWorksDesc4:" If the same credit card is used by another customer, the default limit is applied",defaultLimits:"Default Limits",defaultLimitsDesc:"Default limit for unregistered or unverified customers",defaultLimitAmount:"Default Limit (SAR)",defaultLimitHint:"Maximum amount that unregistered/unverified customers can purchase",tierLimits:"Tier Limits",tierLimitsDesc:"Set customized limits for each customer tier based on verification status",tierId:"Tier ID",tierName:"Tier Name",baseLimit:"Base Limit (SAR)",increasePerPurchase:"Increase Per Purchase (SAR)",addNewTier:"Add New Tier",addTier:"Add Tier",advancedSettings:"Advanced Settings",advancedSettingsDesc:"Enable or disable limit tracking features",enablePurchaseCountIncrease:"Enable Limit Increase Based on Purchase Count",enablePurchaseCountIncreaseDesc:"When enabled, the customer limit will automatically increase with each successful purchase",enableCreditCardTracking:"Enable Credit Card Tracking",enableCreditCardTrackingDesc:"When enabled, if the same credit card is used by another customer, the default limit will be applied",save:"Save Changes",saving:"Saving...",loadError:"Failed to load limit settings",saveError:"Failed to save limit settings",saveSuccess:"Limits saved successfully"}},pages:{allPagesExist:"All pages exist",allDigitalCardsPagesExist:"All digital cards store pages already exist",createdSuccessfully:"Created Successfully",digitalCardsCreated:"Successfully created {{count}} pages for digital cards store",creationError:"Creation Error",digitalCardsCreationError:"An error occurred while creating digital cards store pages. Please try again.",manager:{title:"Pages Manager",subtitle:"Create and manage your website pages",createNew:"New Page",createFirst:"Create your first page now",noPages:"No pages yet",loading:"Loading pages...",table:{page:"Page",slug:"Slug",status:"Status",lastUpdated:"Last Updated",actions:"Actions"},status:{published:"Published",draft:"Draft",hidden:"Hidden"},actions:{edit:"Edit",preview:"Preview",delete:"Delete",duplicate:"Duplicate"},deleteConfirm:"Are you sure you want to delete this page?",deleteSuccess:"Page deleted successfully",deleteError:"Failed to delete page",duplicateSuccess:"Page duplicated successfully",searchPlaceholder:"Search pages...",bulkDelete:"Delete Selected",bulkDeleteConfirm:"Are you sure you want to delete {{count}} pages?",bulkDeleteSuccess:"Successfully deleted {{count}} pages",bulkDeleteError:"Failed to delete some pages",templates:"Ready Templates",filters:{all:"All Pages",published:"Published",draft:"Drafts"}}},cardsStore:{title:"Store",searchPlaceholder:"Search brand or card name...",allCategories:"All Categories",backToBrands:"Back to brands",chooseCard:"Choose Card:",noCardsAvailable:"No cards available",retail:"Retail",wholesale:"Wholesale",addProduct:"Add Product",chooseBrand:"Choose Brand",brands:"brands",cards:"cards",shoppingCart:"Shopping Cart",cartEmpty:"Cart is empty",cardsCount:"Cards count",total:"Total",usd:"USD",processing:"Processing...",completeOrder:"Complete Order",addedToCart:"Added to cart",addedToFavorites:"Added to favorites",removedFromFavorites:"Removed from favorites",orderCompletedSuccess:"Order completed successfully",orderFailed:"Failed to complete order",downloadSuccess:"Card files downloaded successfully",insufficientBalance:"Insufficient balance. Please recharge your wallet.",downloadCardsQuestion:"Do you want to download the card files?",walletDeductionNote:"The amount will be deducted from your wallet automatically.",yes:"Yes",no:"No",rechargeWallet:"Recharge Wallet"},cardsOrders:{title:"Card Orders",createOrder:"Create Order",createFirstOrder:"Create your first order from the store",browseStore:"Browse Store",table:{orderNumber:"Order #",date:"Date",cards:"Cards",amount:"Amount",status:"Status",by:"By"},orderDetails:"Order Details",orderDate:"Order Date",status:"Status",totalAmount:"Total Amount",paymentMethod:"Payment Method",orderedCards:"Ordered Cards",codes:"Codes:",copied:"Copied",previous:"Previous",next:"Next"},cardsFavorites:{title:"Favorite Cards",searchPlaceholder:"Search for a card...",noFavorites:"No favorite cards",addFromStore:"Add cards to favorites from the store",browseStore:"Browse Store",showing:"Showing {{filtered}} of {{total}} cards"},properties:{generateAI:"Generate with AI",colors:"Colors",background:"Background",text:"Text",spacing:"Spacing",paddingTopBottom:"Vertical Padding",typography:"Typography",textAlignment:"Text Alignment",contentPosition:"Content Position",position:{top:"Top",center:"Center",bottom:"Bottom"},fontSize:"Font Size",fontWeight:"Font Weight",weight:{light:"Light",normal:"Normal",medium:"Medium",semibold:"Semi Bold",bold:"Bold"},lineHeight:"Line Height",backgroundImage:"Background Image",uploadBackground:"Upload Background",animation:"Animation",animationType:"Type",duration:"Duration"}},bye=()=>{const e=localStorage.getItem("userLanguagePreference"),t=localStorage.getItem("i18nextLng");return e==="true"&&t&&(t==="ar"||t==="en")?t:(localStorage.setItem("i18nextLng","ar"),"ar")},LI=bye();console.log(" i18n initialized with language:",LI,"| localStorage:",localStorage.getItem("i18nextLng"));Ba.use(rye).init({resources:{ar:{translation:vye},en:{translation:yye}},lng:LI,fallbackLng:"en",interpolation:{escapeValue:!1}});const $I=e=>{const t=e==="ar"?"rtl":"ltr";localStorage.setItem("i18nextLng",e);let s=document.getElementById("direction-style");s||(s=document.createElement("style"),s.id="direction-style",document.head.appendChild(s)),s.textContent=`
    html { direction: ${t} !important; }
    body { direction: ${t} !important; }
    html[dir="${t}"] { direction: ${t} !important; }
    body[dir="${t}"] { direction: ${t} !important; }
    html.${t} { direction: ${t} !important; }
    body.${t} { direction: ${t} !important; }
  `,document.documentElement.dir=t,document.documentElement.lang=e,document.documentElement.setAttribute("dir",t),document.documentElement.setAttribute("lang",e),document.body&&(document.body.dir=t,document.body.setAttribute("dir",t),document.body.style.setProperty("direction",t,"important"),document.body.style.direction=t),t==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl")))};Ba.on("languageChanged",$I);$I(LI);const BI=e=>{localStorage.setItem("i18nextLng",e),localStorage.setItem("userLanguagePreference","true"),sessionStorage.setItem("languageSetThisSession","true"),Ba.changeLanguage(e).then(()=>{window.dispatchEvent(new Event("languagechange")),window.dispatchEvent(new CustomEvent("i18n:languageChanged",{detail:{language:e}})),$I(e)}).catch(t=>{})},NY=e=>{let t=e==="3001"?"https://saeaa.net/auth":"https://saeaa.net/api";if(t){t=t.replace(/\/+$/,"");const a=typeof window<"u"&&window.location.protocol==="https:";return/^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d+)?/.test(t)&&(a&&t.startsWith("http://")?(console.warn(`Converting HTTP to HTTPS for IP address URL to avoid Mixed Content: ${t}`),t=t.replace(/^http:\/\//,"https://")):!a&&t.startsWith("https://")&&(console.warn(`Converting HTTPS to HTTP for IP address URL: ${t}`),t=t.replace(/^https:\/\//,"http://"))),t}return typeof window<"u"&&window.location.protocol==="https:"?`https://localhost:${e}`:`http://localhost:${e}`},SY=NY("3001"),M1=NY("3002"),ix=M1.endsWith("/api")?M1:`${M1}${M1.endsWith("/")?"":"/"}api`;class zl extends Error{constructor(t,s,a){super(s),this.status=t,this.data=a,this.name="ApiError"}}const tf=(e,t,s,a=!1)=>{const n=Ba.language==="ar",i=typeof t=="object"&&t?{...t,status:e}:{status:e,message:t},{title:o,description:l}=Wo(i,void 0,n);throw e>=400&&!a&&(e===401?Rr.warning(o,{description:l,duration:5e3}):Rr.error(o,{description:l,duration:5e3})),new zl(e,l,s)},kf=()=>{if(typeof window>"u")return!1;const e=window.location.pathname,t=e==="/dashboard"||e.startsWith("/dashboard/")||e==="/setup"||e.startsWith("/setup/"),s=!!localStorage.getItem("user");return t||s&&(e==="/login"||e==="/auth/login")},Lx=e=>{console.warn(`[API] Clearing auth data. Reason: ${e}`),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")};let Fv=!1,g_=[];const xP=(e,t=null)=>{g_.forEach(s=>{e?s.reject(e):s.resolve(t)}),g_=[]};function KN(e){var a;const s=`; ${document.cookie}`.split(`; ${e}=`);if(s.length>=2){const n=((a=s.pop())==null?void 0:a.split(";").shift())||null;return n?decodeURIComponent(n):null}return null}function Mo(e){const t=typeof window<"u"?localStorage.getItem(e):null;return t||KN(e)}const ox=e=>e.replace(/^Bearer /i,"").trim();async function v_(){const e=Mo("refreshToken");if(!e)return null;try{const t=JSON.stringify({refreshToken:e}),s=SY.replace(/\/$/,""),a=s.endsWith("/auth")?`${s}/refresh`:`${s}/auth/refresh`,n=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:t});if(!n.ok){if(n.status===401){console.warn("[API] Refresh token is invalid or expired (401)");const o=kf();return kf()?console.warn("[API] Refresh token expired on protected page - user should refresh page manually"):Lx("Refresh token invalid (401)"),null}throw new Error(`Token refresh failed: ${n.status} ${n.statusText}`)}const i=await n.json();return i.accessToken&&(localStorage.setItem("accessToken",i.accessToken),document.cookie=`accessToken=${encodeURIComponent(i.accessToken)}; path=/; SameSite=Lax`),i.refreshToken&&(localStorage.setItem("refreshToken",i.refreshToken),document.cookie=`refreshToken=${encodeURIComponent(i.refreshToken)}; path=/; SameSite=Lax`),i.accessToken}catch(t){return console.error("[API] Token refresh error:",t),kf()?console.warn("[API] Token refresh failed on protected page - keeping existing tokens"):Lx("Refresh error caught"),null}}async function Hc(e,t={}){var v;const{requireAuth:s=!1,sessionId:a,adminApiKey:n,_retry:i=!1,...o}=t;console.log(" fetchApi called:",{url:e,method:o.method||"GET",sessionId:a,requireAuth:s});const l={"Content-Type":"application/json","X-Tenant-Domain":window.location.hostname,...o.headers};try{const S=Mo("user");if(S){let j=S;try{for(;j.includes("%");){const C=decodeURIComponent(j);if(C===j)break;j=C}let k=JSON.parse(j);typeof k=="string"&&(k=JSON.parse(k));const N=(k==null?void 0:k.tenantId)||((v=k==null?void 0:k.user)==null?void 0:v.tenantId);N&&N!=="default"&&N!=="system"&&(l["X-Tenant-Id"]=N,console.log(` [API] Using tenant ID: ${String(N).substring(0,10)}...`))}catch(k){console.warn(" [API] Failed to parse user data for tenant ID:",k)}}else if((window.location.pathname.startsWith("/storefront")||window.location.pathname.startsWith("/store")||window.location.pathname==="/")&&window.location.hostname==="localhost"){const k=sessionStorage.getItem("storefrontTenantId");k&&k!=="default"&&k!=="system"?(l["X-Tenant-Id"]=k,console.log(" [API] Using storefront tenant ID from session:",k.substring(0,20)+"...")):console.warn(" [API] Storefront on localhost without tenant ID - products may not load")}}catch{}o.body instanceof FormData&&delete l["Content-Type"];const c=Mo("accessToken"),d=Mo("customerToken"),u=l.Authorization||l.authorization,h=kf(),m=(e.includes("/customers/")||e.includes("/auth/customers/"))&&!e.includes("/dashboard/"),p=e.includes("/merchant/employees")&&!e.includes("/merchant/internal/employees"),g=e.includes("/merchant/wallet/"),x=(e.includes("/merchant/")||e.includes("/api/merchant/")||e.includes("/dashboard/")||e.includes("/auth/staff/")||h)&&!p&&!g;let y=!1,b;if(u){const S=u.replace("Bearer ","").trim(),j=d;y=!!j&&S===j,b=void 0}else m||p||g?(b=d||c,y=!!d):x?(b=c,y=!1):(b=c||d,y=!c&&!!d);if(b&&!u){const S=ox(b);l.Authorization=`Bearer ${S}`}const w=l.Authorization||l.authorization;if(console.log(` fetchApi: Requesting ${e} with auth: ${w?w.substring(0,15)+"...":"none"}`),s&&!b&&!u&&!i&&!n){const S=Mo("accessToken"),j=Mo("customerToken");if(S||j){console.log(" fetchApi: Found token on immediate re-check before refresh, using it"),b=S||j;const k=ox(b);l.Authorization=`Bearer ${k}`}}if(s&&!b&&!u&&!i&&!n){if(console.warn(" fetchApi: No token available, attempting refresh...",{url:e,requireAuth:s,hasAccessToken:!!c,hasCustomerToken:!!d,isMerchantEndpoint:x,isCustomerEndpoint:m}),Mo("refreshToken"))try{if(await v_())return console.log(" Token refreshed successfully, retrying request"),Hc(e,{...t,_retry:!0});if(Mo("accessToken"))return console.log(" Refresh failed but found existing access token, retrying request"),Hc(e,{...t,_retry:!0})}catch(N){if(console.error(" Token refresh failed:",N),Mo("accessToken"))return console.log(" Refresh error but found existing access token, retrying request"),Hc(e,{...t,_retry:!0})}const j=Mo("accessToken"),k=Mo("customerToken");if(j||k)console.log(" Using existing token after refresh attempts failed"),b=j||k;else{const N="Authentication required. Please log in again.";throw console.error(" fetchApi: Authentication required but no token available after refresh attempt",{url:e,requireAuth:s}),new zl(401,N,{code:"AUTH_REQUIRED",url:e})}}else if(s&&!b&&!u&&i&&!n){const S=Mo("accessToken"),j=Mo("customerToken");if(S||j)console.log(" Found token on retry attempt, using it"),b=S||j;else{const k="Authentication required. Please log in again.";throw new zl(401,k,{code:"AUTH_REQUIRED",url:e})}}if(b&&!u){const S=ox(b);l.Authorization=`Bearer ${S}`}n?(l["X-Admin-API-Key"]=n,console.log(" Using admin API key for authentication (skipping JWT token requirement)")):s&&e.includes("/admin/master/")&&console.warn(" Admin endpoint accessed without admin API key:",e),a&&(l["X-Session-ID"]=a);try{const S=new AbortController,j=setTimeout(()=>S.abort(),o.timeout||6e4),k=l,N=k.Authorization||k.authorization;console.log(" fetchApi: Making request to",e,"with headers:",{...k,Authorization:N?"Bearer ***":void 0});const C=await fetch(e,{...o,headers:l,credentials:t.credentials||"include",signal:S.signal});if(clearTimeout(j),console.log(" fetchApi: Response received:",{status:C.status,statusText:C.statusText,url:e}),!C.ok){const D=await C.json().catch(()=>({}));if(C.status===401){if(console.log(`[API] 401 Unauthorized: ${e}, requireAuth: ${s}, _retry: ${i}, isCustomerRequest: ${y}`),y)throw console.log("[API] Customer request failed with 401, clearing customer tokens only"),document.cookie="customerToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="customerData=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",s&&!window.location.pathname.includes("/auth/login")&&!window.location.pathname.includes("/login")&&(console.log("[API] Redirecting customer to storefront login"),window.location.href="/login"),new zl(401,Ba.t("common.sessionExpired"));if(s&&!i){if(Fv)return console.log("[API] Waiting for ongoing refresh..."),new Promise((P,_)=>{g_.push({resolve:P,reject:_})}).then(P=>{const _={...t.headers||{},Authorization:`Bearer ${P}`};return Hc(e,{...t,headers:_,_retry:!0})});Fv=!0,console.log("[API] Attempting token refresh...");try{const P=await v_();if(P){Fv=!1,xP(null,P);const _=Mo("accessToken");if(_&&P===_&&i)throw console.error("[API] Refresh returned same token as before, assuming session invalid"),Lx("Refresh loop detected (same token)"),window.location.href="/login",new zl(401,"Session invalid");console.log("[API] Refresh successful, retrying original request...");const O=ox(P),M={...l,Authorization:`Bearer ${O}`};return ox(P)!==ox(_||"")&&localStorage.setItem("accessToken",O),Hc(e,{...t,headers:M,_retry:!0})}else console.error("[API] Refresh failed: newToken is null"),xP(new Error("Token refresh failed"),null),Fv=!1,kf()?console.warn("[API] Token refresh failed on protected page - user should manually refresh page"):(Lx("Token refresh failed (null response)"),s&&!window.location.pathname.includes("/auth/login")&&!window.location.pathname.includes("/login")&&(console.log("[API] Redirecting to login (refresh failed)"),window.location.href="/login")),tf(401,Ba.t("common.sessionExpired"),void 0,t.hideErrorToast)}catch(P){console.error("[API] Refresh failed:",P),xP(P instanceof Error?P:new Error("Unknown error"),null),Fv=!1;const _=P;if(_!=null&&_.isNetworkError||(_==null?void 0:_.status)===0)throw console.warn("[API] Network error during refresh - not redirecting"),new zl(0,"Network error during token refresh");kf()?console.warn("[API] Token refresh failed on protected page - user should manually refresh page"):(Lx("Refresh error caught in fetchApi"),s&&!window.location.pathname.includes("/auth/login")&&!window.location.pathname.includes("/login")&&(console.log("[API] Redirecting to login (refresh error)"),window.location.href="/login")),tf(401,Ba.t("common.sessionExpired"),void 0,t.hideErrorToast)}}else if(s&&i)console.log("[API] 401 after retry"),kf()||(Lx("Retry failed (401 after retry)"),!window.location.pathname.includes("/auth/login")&&!window.location.pathname.includes("/login")&&(console.log("[API] Redirecting to login (retry failed)"),window.location.href="/login")),tf(401,Ba.t("common.authFailed"),void 0,t.hideErrorToast);else if(!s)throw console.log("[API] 401 on public endpoint, ignoring redirect"),new zl(401,"Unauthorized",D)}let T=D.message||"An error occurred";if(typeof T=="object"&&(T=JSON.stringify(T)),C.status===403){const P=T||"Access forbidden. Please ensure you have set up a market.";console.error(" 403 Forbidden error:",{forbiddenMessage:P,data:D,url:e}),tf(C.status,P,D,t.hideErrorToast)}C.status===404&&!s&&tf(C.status,T,D,t.hideErrorToast),tf(C.status,T,D,t.hideErrorToast)}if(C.status===204)return null;const A=C.headers.get("X-Session-ID");if(console.log(" fetchApi: Response headers X-Session-ID:",A),console.log(" fetchApi: Request sessionId:",a),A){const D=localStorage.getItem("guestSessionId");D!==A&&(console.log(" fetchApi: Updating localStorage sessionId:",{old:D,new:A}),localStorage.setItem("guestSessionId",A))}let E;try{E=await C.json()}catch{return null}if(E&&typeof E=="object"){if(vo(E)){const D=typeof E.message=="string"?E.message:typeof E.message=="object"?JSON.stringify(E.message):"An error occurred",T=E.statusCode||500;throw new zl(T,D,E)}if("success"in E&&"data"in E){const D=E.data;if(D&&vo(D)){const T=typeof D.message=="string"?D.message:typeof D.message=="object"?JSON.stringify(D.message):"An error occurred";throw new zl(D.statusCode||500,T,D)}if(Array.isArray(D)){const T=D.filter(P=>!vo(P));return T.length===D.length?D:T}return D}}if(vo(E)){const D=typeof E.message=="string"?E.message:typeof E.message=="object"?JSON.stringify(E.message):"An error occurred";throw new zl(E.statusCode||500,D,E)}return E}catch(S){if(S instanceof zl)throw S;console.error("[API] Network/CORS error:",S),tf(0,S,void 0,t.hideErrorToast)}}async function kY(){try{const e=KN("accessToken");if(e)try{const a=e.split(".");if(a.length===3){const i=JSON.parse(atob(a[1])).exp;if(i&&i*1e3>Date.now()+6e4)return console.log("[API] Existing access token is still valid, no refresh needed"),!0}}catch{console.warn("[API] Could not validate existing token, attempting refresh")}return KN("refreshToken")||localStorage.getItem("refreshToken")?await v_()?(console.log("[API] Token refreshed successfully before operation"),!0):e?(console.warn("[API] Refresh failed but existing access token might still be valid"),!0):!1:(console.log("[API] No refresh token available"),!!e)}catch(e){return console.error("[API] Failed to refresh token:",e),!!KN("accessToken")}}const Q={fetch:Hc,authUrl:SY,coreUrl:ix,ensureFreshToken:kY,get:async(e,t={})=>{const s=e.startsWith("http")?e:`${ix}${e}`;return Hc(s,{...t,method:"GET"})},post:async(e,t,s={})=>{const a=e.startsWith("http")?e:`${ix}${e}`;return Hc(a,{...s,method:"POST",body:t instanceof FormData?t:JSON.stringify(t)})},put:async(e,t,s={})=>{const a=e.startsWith("http")?e:`${ix}${e}`;return Hc(a,{...s,method:"PUT",body:JSON.stringify(t)})},delete:async(e,t={})=>{const s=e.startsWith("http")?e:`${ix}${e}`;return Hc(s,{...t,method:"DELETE"})},patch:async(e,t,s={})=>{const a=e.startsWith("http")?e:`${ix}${e}`;return Hc(a,{...s,method:"PATCH",body:JSON.stringify(t)})}},F1=Object.freeze(Object.defineProperty({__proto__:null,ApiError:zl,apiClient:Q,ensureFreshToken:kY},Symbol.toStringTag,{value:"Module"}));async function wye(){try{const e=document.createElement("canvas"),t=e.getContext("2d");return t?(e.width=200,e.height=50,t.textBaseline="top",t.font='14px "Arial"',t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("Hello World! <@>",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("Hello World! <@>",4,17),e.toDataURL()):""}catch{return""}}function jye(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return"";const s=t.getExtension("WEBGL_debug_renderer_info");return s&&t.getParameter(s.UNMASKED_RENDERER_WEBGL)||""}catch{return""}}function Nye(e){let t=0;if(e.length===0)return t.toString();for(let s=0;s<e.length;s++){const a=e.charCodeAt(s);t=(t<<5)-t+a,t=t&t}return Math.abs(t).toString(16)}async function d$(){const e={userAgent:navigator.userAgent,language:navigator.language,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,platform:navigator.platform,hardwareConcurrency:navigator.hardwareConcurrency||0,deviceMemory:navigator.deviceMemory||0,webglRenderer:jye(),cookiesEnabled:navigator.cookieEnabled,localStorageEnabled:!!window.localStorage,canvasHash:await wye()},t=JSON.stringify(e),s=Nye(t),n=["SwiftShader","llvmpipe","VMware","VirtualBox","Software Adapter","Microsoft Basic Render Driver"].some(h=>e.webglRenderer.includes(h))||e.screenResolution==="800x600"||e.screenResolution==="1024x768";let i="Unknown";navigator.userAgent.indexOf("Win")!==-1&&(i="Windows"),navigator.userAgent.indexOf("Mac")!==-1&&(i="MacOS"),navigator.userAgent.indexOf("Linux")!==-1&&(i="Linux"),navigator.userAgent.indexOf("Android")!==-1&&(i="Android"),navigator.userAgent.indexOf("like Mac")!==-1&&(i="iOS");const o=e.timezone,c=new Date().getTimezoneOffset();let d=!1;o==="UTC"&&c!==0&&(d=!0),navigator.userAgent.includes("Tor")&&(d=!0);let u=0;return n&&(u+=50),d&&(u+=30),e.cookiesEnabled||(u+=10),e.localStorageEnabled||(u+=10),e.userAgent.includes("Headless")&&(u+=80),{visitorId:s,components:e,isVM:n,isVpn:d,os:i,riskScore:u}}const eo={login:async e=>{const t=await d$();return Q.fetch(`${Q.authUrl}/login`,{method:"POST",body:JSON.stringify({...e,fingerprint:t})})},signup:async e=>{const t=await d$();return Q.fetch(`${Q.authUrl}/signup`,{method:"POST",credentials:"include",body:JSON.stringify({...e,fingerprint:t})})},verifyEmail:async(e,t)=>Q.fetch(`${Q.authUrl}/verify-email`,{method:"POST",credentials:"include",body:JSON.stringify({email:e,code:t})}),resendVerificationCode:async e=>Q.fetch(`${Q.authUrl}/resend-verification`,{method:"POST",body:JSON.stringify({email:e})}),loginWithRecoveryId:async(e,t)=>Q.fetch(`${Q.authUrl}/login-recovery`,{method:"POST",body:JSON.stringify({recoveryId:e,password:t})}),recoverEmail:async e=>Q.fetch(`${Q.authUrl}/recover-email`,{method:"POST",body:JSON.stringify({recoveryId:e})}),forgotPassword:async e=>Q.fetch(`${Q.authUrl}/forgot-password`,{method:"POST",body:JSON.stringify({email:e})}),verifyResetToken:async e=>Q.fetch(`${Q.authUrl}/verify-reset-token?token=${encodeURIComponent(e)}`,{method:"GET"}),verifyResetCode:async(e,t)=>Q.fetch(`${Q.authUrl}/verify-reset-code`,{method:"POST",body:JSON.stringify({email:e,code:t})}),sendResetByRecoveryId:async e=>Q.fetch(`${Q.authUrl}/send-reset-by-recovery`,{method:"POST",body:JSON.stringify({recoveryId:e})}),refreshToken:e=>Q.fetch(`${Q.authUrl}/refresh`,{method:"POST",credentials:"include",body:JSON.stringify(e?{refreshToken:e}:{})}),logout:()=>Q.fetch(`${Q.authUrl}/logout`,{method:"POST",requireAuth:!0,credentials:"include"}),me:e=>Q.fetch(`${Q.authUrl}/me`,{requireAuth:!0,...e}),googleLogin:()=>{window.location.href=`${Q.authUrl}/oauth/google`},getProfile:()=>Q.fetch(`${Q.authUrl}/profile`,{requireAuth:!0}),updateProfile:e=>Q.fetch(`${Q.authUrl}/profile`,{method:"PUT",body:JSON.stringify(e),requireAuth:!0}),submitKyc:e=>Q.fetch(`${Q.authUrl}/kyc/submit`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateKycStatus:(e,t,s)=>Q.fetch(`${Q.authUrl}/kyc/${e}/status`,{method:"PUT",body:JSON.stringify({status:t,notes:s}),requireAuth:!0}),getUserMarkets:()=>Q.fetch(`${Q.authUrl}/markets`,{requireAuth:!0}),switchStore:e=>Q.fetch(`${Q.authUrl}/markets/switch`,{method:"POST",body:JSON.stringify({tenantId:e}),requireAuth:!0}),canCreateMarket:()=>Q.fetch(`${Q.authUrl}/markets/can-create`,{requireAuth:!0}),getMarketLimit:()=>Q.fetch(`${Q.authUrl}/markets/limit`,{requireAuth:!0}),deleteMarket:e=>Q.fetch(`${Q.coreUrl}/tenants/${e}`,{method:"DELETE",requireAuth:!0}),resetPasswordComplete:e=>Q.fetch(`${Q.authUrl}/reset-password`,{method:"POST",body:JSON.stringify(e)}),changePassword:(e,t)=>Q.fetch(`${Q.authUrl}/change-password`,{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t}),requireAuth:!0}),get:async(e,t)=>Q.fetch(`${Q.authUrl}${e}`,{requireAuth:(t==null?void 0:t.requireAuth)??!0,adminApiKey:t==null?void 0:t.adminApiKey}),put:async(e,t,s)=>Q.fetch(`${Q.authUrl}${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:(s==null?void 0:s.requireAuth)??!0,adminApiKey:s==null?void 0:s.adminApiKey})},Sye={getProducts:async(e,t=!1)=>{const s=new URLSearchParams;e&&Object.entries(e).forEach(([o,l])=>{l!=null&&l!==""&&s.append(o,String(l))}),s.append("includeCategories","true");const a=`${Q.coreUrl}/products?${s.toString()}`;console.log(" Fetching products from:",a);const n=await Q.fetch(a,{requireAuth:t});if(console.log(" Products API response:",n),n&&typeof n=="object"&&"data"in n&&"meta"in n)return console.log(" Paginated response:",n.data.length,"products"),n;const i=(n==null?void 0:n.data)||n||[];return console.log(" Non-paginated response:",i.length,"products"),i},getProduct:async e=>Q.fetch(`${Q.coreUrl}/products/${e}`,{requireAuth:!1}),createProduct:async(e,t)=>{const s=`${Q.coreUrl}/products${t?"?upsert=true":""}`;return Q.fetch(s,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},updateProduct:async(e,t)=>{const s=encodeURIComponent(e);return Q.fetch(`${Q.coreUrl}/products/${s}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0})},deleteProduct:async e=>{const t=encodeURIComponent(e);await Q.delete(`/products/${t}`,{requireAuth:!0})},deleteProducts:async e=>Q.fetch(`${Q.coreUrl}/products/bulk-delete`,{method:"POST",body:JSON.stringify({ids:e}),requireAuth:!0}),getCategories:async(e,t=!1)=>{const s=e?`?${new URLSearchParams(e)}`:"",a=await Q.fetch(`${Q.coreUrl}/categories${s}`,{requireAuth:t});return a&&typeof a=="object"&&"categories"in a&&"meta"in a?a:(a==null?void 0:a.categories)||a||[]},getCategory:async e=>Q.fetch(`${Q.coreUrl}/categories/${e}`,{requireAuth:!1}),createCategory:async e=>Q.fetch(`${Q.coreUrl}/categories`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateCategory:async(e,t)=>Q.fetch(`${Q.coreUrl}/categories/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteCategory:async e=>{await Q.fetch(`${Q.coreUrl}/categories/${e}`,{method:"DELETE",requireAuth:!0})},deleteCategories:async e=>Q.fetch(`${Q.coreUrl}/categories/bulk-delete`,{method:"POST",body:JSON.stringify({ids:e}),requireAuth:!0}),getVariants:async e=>Q.fetch(`${Q.coreUrl}/products/${e}/variants`,{requireAuth:!1}),createVariant:async(e,t)=>Q.fetch(`${Q.coreUrl}/products/${e}/variants`,{method:"POST",body:JSON.stringify(t),requireAuth:!0}),updateVariantInventory:async(e,t)=>{await Q.fetch(`${Q.coreUrl}/products/variants/${e}/inventory`,{method:"PATCH",body:JSON.stringify({quantity:t}),requireAuth:!0})},updateCollection:async(e,t)=>{await Q.fetch(`${Q.coreUrl}/collections/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0})},deleteCollection:async e=>{await Q.fetch(`${Q.coreUrl}/collections/${e}`,{method:"DELETE",requireAuth:!0})},getBrands:async(e=!1)=>{const t=await Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:e});return t&&typeof t=="object"&&"data"in t?t.data:Array.isArray(t)?t:[]},getBrand:async e=>Q.fetch(`${Q.coreUrl}/brands/${e}`,{requireAuth:!1}),createBrand:async e=>Q.fetch(`${Q.coreUrl}/brands`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateBrand:async(e,t)=>Q.fetch(`${Q.coreUrl}/brands/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteBrand:async e=>{await Q.fetch(`${Q.coreUrl}/brands/${e}`,{method:"DELETE",requireAuth:!0})}},kye={getCart:e=>Q.fetch(`${Q.coreUrl}/cart`,{sessionId:e,requireAuth:!1}),addToCart:(e,t)=>Q.fetch(`${Q.coreUrl}/cart/items`,{method:"POST",body:JSON.stringify(e),sessionId:t,requireAuth:!1}),updateCartItem:(e,t,s)=>Q.fetch(`${Q.coreUrl}/cart/items/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify({quantity:t}),sessionId:s,requireAuth:!1}),removeFromCart:(e,t)=>Q.fetch(`${Q.coreUrl}/cart/items/${encodeURIComponent(e)}`,{method:"DELETE",sessionId:t,requireAuth:!1}),clearCart:e=>Q.fetch(`${Q.coreUrl}/cart`,{method:"DELETE",sessionId:e,requireAuth:!1})},Cye={createOrder:e=>Q.fetch(`${Q.coreUrl}/orders`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),getOrders:async e=>{const t=new URLSearchParams;e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString()),e!=null&&e.status&&t.set("status",e.status);const s=t.toString()?`?${t.toString()}`:"",a=await Q.fetch(`${Q.coreUrl}/orders${s}`,{requireAuth:!0});return a&&typeof a=="object"&&"data"in a&&"meta"in a?a:a||[]},getOrder:e=>Q.fetch(`${Q.coreUrl}/orders/${e}`,{requireAuth:!0}),updateOrderStatus:(e,t)=>Q.fetch(`${Q.coreUrl}/orders/${e}/status`,{method:"PUT",body:JSON.stringify({status:t}),requireAuth:!0}),rejectOrder:(e,t)=>Q.fetch(`${Q.coreUrl}/orders/${e}/reject`,{method:"PUT",body:JSON.stringify({reason:t}),requireAuth:!0}),getCardOrder:e=>Q.fetch(`${Q.coreUrl}/card-orders/${e}`,{requireAuth:!0}),getMyCardOrders:e=>{const t=new URLSearchParams;e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString()),e!=null&&e.status&&t.set("status",e.status);const s=t.toString()?`?${t.toString()}`:"";return Q.fetch(`${Q.coreUrl}/card-orders/my-orders${s}`,{requireAuth:!0})},downloadCardOrderFiles:e=>Q.fetch(`${Q.coreUrl}/card-orders/${e}/download-files`,{requireAuth:!0})},Lb={getThemes:()=>Q.fetch(`${Q.coreUrl}/themes`,{requireAuth:!1}),getTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{requireAuth:!1}),createTheme:e=>Q.fetch(`${Q.coreUrl}/themes`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateTheme:(e,t)=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{method:"DELETE",requireAuth:!0}),installTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}/install`,{method:"POST",requireAuth:!0}),activateTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}/activate`,{method:"POST",requireAuth:!0})},Aye={getPlugins:()=>Q.fetch(`${Q.coreUrl}/plugins`,{requireAuth:!0}),togglePlugin:e=>Q.fetch(`${Q.coreUrl}/plugins/${e}/toggle`,{method:"POST",requireAuth:!0})},Eye={getCoupons:()=>Q.fetch(`${Q.coreUrl}/coupons`,{requireAuth:!0}),getCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{requireAuth:!0}),createCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateCoupon:(e,t)=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{method:"DELETE",requireAuth:!0}),validateCoupon:(e,t)=>Q.fetch(`${Q.coreUrl}/coupons/validate`,{method:"POST",body:JSON.stringify({code:e,amount:t}),requireAuth:!1})},lx=e=>{let t=encodeURIComponent(e);return t=t.replace(/%2F/g,"%252F"),t},CY={getPages:async(e=!1)=>{const t=await Q.fetch(`${Q.coreUrl}/pages`,{requireAuth:e});return Array.isArray(t)?t:[]},getPage:async e=>Q.fetch(`${Q.coreUrl}/pages/${lx(e)}`,{requireAuth:!0}),getPageBySlug:async e=>{try{return await Q.fetch(`${Q.coreUrl}/pages/slug/${encodeURIComponent(e)}`,{requireAuth:!1})}catch(t){if((t==null?void 0:t.status)===404)return null;throw t}},createPage:async e=>Q.fetch(`${Q.coreUrl}/pages`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePage:async(e,t)=>Q.fetch(`${Q.coreUrl}/pages/${lx(e)}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deletePage:async e=>{await Q.fetch(`${Q.coreUrl}/pages/${lx(e)}`,{method:"DELETE",requireAuth:!0})},getHistory:async e=>{const t=await Q.fetch(`${Q.coreUrl}/pages/${lx(e)}/history`,{requireAuth:!0});return Array.isArray(t)?t:[]},restoreVersion:async(e,t)=>Q.fetch(`${Q.coreUrl}/pages/${lx(e)}/restore/${lx(t)}`,{method:"POST",requireAuth:!0})},Pye={getDashboardStats:()=>Q.fetch(`${Q.coreUrl}/analytics/dashboard`,{requireAuth:!0}),getSalesReport:e=>Q.fetch(`${Q.coreUrl}/analytics/sales?${new URLSearchParams(e)}`,{requireAuth:!0}),getProductStats:()=>Q.fetch(`${Q.coreUrl}/analytics/products`,{requireAuth:!0}),getCustomerStats:()=>Q.fetch(`${Q.coreUrl}/analytics/customers`,{requireAuth:!0}),getOrderStats:()=>Q.fetch(`${Q.coreUrl}/analytics/orders`,{requireAuth:!0}),getTrafficStats:()=>Q.fetch(`${Q.coreUrl}/analytics/traffic`,{requireAuth:!0}),getRevenueStats:()=>Q.fetch(`${Q.coreUrl}/analytics/revenue`,{requireAuth:!0})},Tye={getShippingZones:()=>Q.fetch(`${Q.coreUrl}/shipping/zones`,{requireAuth:!0}),createShippingZone:e=>Q.fetch(`${Q.coreUrl}/shipping/zones`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateShippingZone:(e,t)=>Q.fetch(`${Q.coreUrl}/shipping/zones/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteShippingZone:e=>Q.fetch(`${Q.coreUrl}/shipping/zones/${e}`,{method:"DELETE",requireAuth:!0}),calculateShipping:e=>Q.fetch(`${Q.coreUrl}/shipping/calculate`,{method:"POST",body:JSON.stringify(e)})},_ye={calculateTax:e=>Q.fetch(`${Q.coreUrl}/tax/calculate?${new URLSearchParams(e)}`,{requireAuth:!1}),getTaxRates:()=>Q.fetch(`${Q.coreUrl}/tax/rates`,{requireAuth:!0}),createTaxRate:e=>Q.fetch(`${Q.coreUrl}/tax/rates`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateTaxRate:(e,t)=>Q.fetch(`${Q.coreUrl}/tax/rates/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteTaxRate:e=>Q.fetch(`${Q.coreUrl}/tax/rates/${e}`,{method:"DELETE",requireAuth:!0})},NC={async setupMarket(e){return Q.fetch(`${Q.coreUrl}/tenants/setup`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async getTenant(e){return Q.fetch(`${Q.coreUrl}/tenants/${e}`,{requireAuth:!0})},async getCurrentUserTenant(){try{return await Q.fetch(`${Q.coreUrl}/tenants/me`,{requireAuth:!0})}catch{return null}},async updateCurrentUserTenant(e){return Q.fetch(`${Q.coreUrl}/tenants/update-me`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async updateTenant(e,t){return Q.fetch(`${Q.coreUrl}/tenants/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0})},async checkSubdomainAvailability(e){return Q.fetch(`${Q.coreUrl}/public/check-subdomain?subdomain=${encodeURIComponent(e)}`,{requireAuth:!1})}},Dye={getDomain:async()=>{try{const[e,t]=await Promise.all([Q.fetch(`${Q.coreUrl}/tenants/me`,{requireAuth:!0}),Q.fetch(`${Q.coreUrl}/domains`,{requireAuth:!0})]),s=t&&t.length>0?t[0]:null;return{id:e.id,subdomain:e.subdomain,customDomain:s==null?void 0:s.domain,verified:(s==null?void 0:s.status)==="ACTIVE",verifiedAt:s==null?void 0:s.verifiedAt}}catch(e){throw e}},addCustomDomain:e=>Q.fetch(`${Q.coreUrl}/domains`,{method:"POST",body:JSON.stringify({domain:e}),requireAuth:!0}),verifyDomain:e=>Q.fetch(`${Q.coreUrl}/domains/${e}/verify`,{method:"POST",requireAuth:!0}),deleteDomain:e=>Q.fetch(`${Q.coreUrl}/domains/${e}`,{method:"DELETE",requireAuth:!0})},AY={initializePayment:e=>Q.fetch(`${Q.coreUrl}/payment/initialize`,{method:"POST",body:JSON.stringify({orderId:e.orderId,paymentMethod:e.method}),requireAuth:!0}),getPaymentStatus:e=>Q.fetch(`${Q.coreUrl}/payment/status/${e}`,{requireAuth:!0}),getPaymentMethods:()=>Q.fetch(`${Q.coreUrl}/payment/methods`,{requireAuth:!1}),getPaymentSettings:()=>Q.fetch(`${Q.coreUrl}/payment/settings`,{requireAuth:!0}),updatePaymentSettings:e=>Q.fetch(`${Q.coreUrl}/payment/settings`,{method:"PUT",body:JSON.stringify(e),requireAuth:!0})},um={getStaffUsers:(e=1,t=50)=>Q.fetch(`${Q.authUrl}/staff?page=${e}&limit=${t}`,{requireAuth:!0}),getStaffUser:e=>Q.fetch(`${Q.authUrl}/staff/${e}`,{requireAuth:!0}),getAvailablePermissions:()=>Q.fetch(`${Q.authUrl}/staff/permissions`,{requireAuth:!0}),createStaff:e=>Q.fetch(`${Q.authUrl}/staff`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePermissions:(e,t)=>Q.fetch(`${Q.authUrl}/staff/${e}/permissions`,{method:"PUT",body:JSON.stringify({permissions:t}),requireAuth:!0}),deleteStaff:e=>Q.fetch(`${Q.authUrl}/staff/${e}`,{method:"DELETE",requireAuth:!0})},Oye={getBalance:e=>Q.get("/transactions/balance",{requireAuth:!0,params:{tenantId:e}}),getTransactions:(e,t)=>{const s=new URLSearchParams({tenantId:e,...t}).toString();return Q.get(`/transactions?${s}`,{requireAuth:!0})},getTransaction:(e,t)=>Q.get(`/transactions/${t}?tenantId=${e}`,{requireAuth:!0}),getStats:(e,t,s)=>{const a={tenantId:e};t&&(a.startDate=t),s&&(a.endDate=s);const n=new URLSearchParams(a).toString();return Q.get(`/transactions/stats?${n}`,{requireAuth:!0})},getSubscription:e=>Q.get(`/transactions/subscription?tenantId=${e}`,{requireAuth:!0}),reprintTransaction:(e,t)=>Q.post(`/transactions/${t}/reprint?tenantId=${e}`,{},{requireAuth:!0}),refundTransaction:(e,t)=>Q.post(`/transactions/${t}/refund?tenantId=${e}`,{},{requireAuth:!0})},qh={getOverview:()=>Q.get("/reports/overview",{requireAuth:!0}),getProductReport:e=>{const t=new URLSearchParams;e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.search&&t.append("search",e.search);const s=t.toString();return Q.get(`/reports/products${s?`?${s}`:""}`,{requireAuth:!0})},getCustomerReport:()=>Q.get("/reports/customers",{requireAuth:!0}),getPaymentReport:()=>Q.get("/reports/payments",{requireAuth:!0})},L1={async getPartners(){try{const e=await Q.get("/public/partners");return(e==null?void 0:e.partners)||[]}catch{return[]}},async getPlans(e){try{const t=e?`/public/plans?billingCycle=${e}`:"/public/plans",s=await Q.get(t);return(s==null?void 0:s.plans)||[]}catch{return[]}},async getPaymentProviders(){try{const e=await Q.get("/public/payment-providers");return(e==null?void 0:e.providers)||[]}catch{return[]}},async getStats(){try{const e=await Q.get("/public/stats");return(e==null?void 0:e.stats)||null}catch{return null}},async getTestimonials(e=6){try{const t=await Q.get(`/public/testimonials?limit=${e}`);return(t==null?void 0:t.testimonials)||[]}catch{return[]}}},Is={getBalance:()=>Q.get("/wallet/balance",{requireAuth:!0}),getTransactions:(e=1,t=20)=>Q.get(`/wallet/transactions?page=${e}&limit=${t}`,{requireAuth:!0}),getBanks:()=>Q.get("/wallet/banks",{requireAuth:!1}),getAllBanks:()=>Q.get("/merchant/wallet/banks/all",{requireAuth:!0}),createBank:(e,t)=>{const s=new FormData;return Object.entries(e).forEach(([a,n])=>{n!=null&&s.append(a,String(n))}),t&&s.append("logo",t),Q.post("/merchant/wallet/banks",s,{requireAuth:!0,headers:{"Content-Type":"multipart/form-data"}})},updateBank:(e,t,s)=>{const a=new FormData;return Object.entries(t).forEach(([n,i])=>{i!=null&&a.append(n,String(i))}),s&&a.append("logo",s),Q.post(`/merchant/wallet/banks/${e}`,a,{requireAuth:!0,headers:{"Content-Type":"multipart/form-data"}})},deleteBank:e=>Q.post(`/merchant/wallet/banks/${e}/delete`,{},{requireAuth:!0}),getBankAccounts:()=>Q.get("/wallet/bank-accounts",{requireAuth:!0}),addBankAccount:e=>Q.post("/wallet/bank-accounts",e,{requireAuth:!0}),deleteBankAccount:e=>Q.delete(`/wallet/bank-accounts/${e}`,{requireAuth:!0}),createTopUpRequest:e=>Q.post("/wallet/topup",e,{requireAuth:!0}),getTopUpRequests:e=>{const t=e?`?status=${e}`:"",s=`/merchant/wallet/topup-requests${t}`,a=`/wallet/topup-requests${t}`;return Q.get(s,{requireAuth:!0}).catch(()=>Q.get(a,{requireAuth:!0}))},getPendingTopUps:()=>Q.get("/merchant/wallet/admin/pending-topups",{requireAuth:!0}),approveTopUp:e=>Q.post(`/merchant/wallet/admin/topup/${e}/approve`,{},{requireAuth:!0}),rejectTopUp:(e,t)=>Q.post(`/merchant/wallet/admin/topup/${e}/reject`,{reason:t},{requireAuth:!0}),getStaffListForCustomer:()=>Q.get("/merchant/wallet/staff-list",{requireAuth:!0}),giveBalanceToStaff:e=>Q.post("/merchant/wallet/admin/give-balance",e,{requireAuth:!0})},pl=eo,fe={...Sye,...kye,...Cye,...Lb,...Aye,...Eye,...CY,...Pye,...Tye,..._ye,...NC,...Dye,...AY,...um,...Oye,...qh,...Is,get:async(e,t)=>await Q.get(e,t),post:async(e,t,s)=>await Q.post(e,t,s),put:async(e,t,s)=>await Q.put(e,t,s),delete:async(e,t)=>await Q.delete(e,t),patch:async(e,t,s)=>await Q.patch(e,t,s)},UI=f.createContext(void 0),gd=(e,t,s=7)=>{const a=new Date(Date.now()+s*864e5).toUTCString(),i=window.location.protocol==="https:"?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}; expires=${a}; path=/; SameSite=Lax${i}`,(e==="user"||e==="accessToken"||e==="refreshToken")&&localStorage.setItem(e,t)},EY=e=>{var a;const s=`; ${document.cookie}`.split(`; ${e}=`);if(s.length===2){const n=(a=s.pop())==null?void 0:a.split(";").shift();return n?decodeURIComponent(n):null}return null},cx=e=>{const s=window.location.protocol==="https:"?"; Secure":"";document.cookie=`${e}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax${s}`,(e==="user"||e==="accessToken"||e==="refreshToken")&&localStorage.getItem(e)&&localStorage.removeItem(e)},$1=()=>{try{const e=EY("user")||localStorage.getItem("user");return e?JSON.parse(e):null}catch{return null}},Iye=({children:e})=>{const[t,s]=f.useState(()=>$1()),[a,n]=f.useState(()=>!$1());f.useEffect(()=>{i()},[]);const i=async()=>{var g,x;if(!EY("accessToken")){const y=$1();s(y),n(!1);return}try{const y=await pl.me();s(y.user),gd("user",JSON.stringify(y.user),7),(g=y.user)!=null&&g.tenantId&&sessionStorage.setItem("storefrontTenantId",y.user.tenantId)}catch(y){const b=y,w=(b==null?void 0:b.status)||((x=b==null?void 0:b.response)==null?void 0:x.status);if(w===401&&!l())cx("user"),cx("accessToken"),cx("refreshToken"),s(null);else{console.warn("checkAuth: Keeping session despite error (protected page or non-401)",{status:w,error:y});const v=$1();v&&s(v)}}finally{n(!1)}},o=async()=>{await i()},l=()=>{if(typeof window>"u")return!1;const p=window.location.pathname,g=p==="/dashboard"||p.startsWith("/dashboard/")||p==="/setup"||p.startsWith("/setup/"),x=!!localStorage.getItem("user");return g||x&&(p==="/login"||p==="/auth/login")},c=async(p,g)=>{const y=p.includes("@")?{email:p,password:g}:{username:p,password:g},b=await pl.login(y);b.accessToken&&gd("accessToken",b.accessToken,1),b.refreshToken&&gd("refreshToken",b.refreshToken,7);const w={id:b.id,email:b.email,role:b.role,tenantId:b.tenantId,tenantName:b.tenantName,tenantSubdomain:b.tenantSubdomain,avatar:b.avatar,mustChangePassword:b.mustChangePassword||!1,permissions:b.permissions,employerEmail:b.employerEmail};return gd("user",JSON.stringify(w),7),s(w),w.tenantId&&sessionStorage.setItem("storefrontTenantId",w.tenantId),b.mustChangePassword||!1},d=async(p,g,x)=>{try{gd("accessToken",p,1),gd("refreshToken",g,7);let y=x;y||(y=(await pl.me({hideErrorToast:!0})).user),y&&(s(y),gd("user",JSON.stringify(y),7),y.tenantId&&sessionStorage.setItem("storefrontTenantId",y.tenantId))}catch(y){throw console.error("Failed to login with tokens:",y),h(),y}},u=async(p,g,x,y,b)=>{const w=await pl.signup({email:p,password:g,storeName:x,subdomain:y,nationalId:b});w.accessToken&&gd("accessToken",w.accessToken,1),w.refreshToken&&gd("refreshToken",w.refreshToken,7);const v={id:w.id,email:w.email,role:"SHOP_OWNER",tenantId:void 0,avatar:null};gd("user",JSON.stringify(v),7),s(v)},h=async()=>{try{await pl.logout().catch(()=>{})}catch{}cx("accessToken"),cx("refreshToken"),cx("user"),sessionStorage.removeItem("storefrontTenantId"),s(null)},m=async()=>{try{const p=await pl.refreshToken();return!0}catch(p){return console.error("Token refresh failed:",p),h(),!1}};return r.jsx(UI.Provider,{value:{user:t,loading:a,isAuthenticated:!!t,login:c,loginWithTokens:d,signup:u,logout:h,refreshToken:m,setUser:s,refreshUser:o},children:e})},$s=()=>{const e=f.useContext(UI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},PY=f.createContext(void 0),Rye=({children:e})=>{console.log(" CartProvider: Component rendered");const t=f.useContext(UI),s=(t==null?void 0:t.user)||null,[a,n]=f.useState(null),[i,o]=f.useState(!1),l=f.useRef(null),c=f.useRef(!1),d=f.useRef(0),u=f.useRef(null),h=f.useRef(!1),[m,p]=f.useState(()=>{let v=localStorage.getItem("guestSessionId");return v||(v=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("guestSessionId",v)),console.log(" CartProvider: SessionId initialized:",v),v});f.useEffect(()=>{l.current=a},[a]),f.useEffect(()=>{c.current=i},[i]),f.useEffect(()=>{const v=()=>{const S=localStorage.getItem("guestSessionId");S&&S!==m&&(console.log(" CartProvider: SessionId changed in localStorage, updating state:",{old:m,new:S}),p(S))};if(v(),!s){const S=setInterval(v,5e3);return()=>{clearInterval(S)}}},[m,s]);const g=ae.useCallback(async()=>{if(console.log(" CartContext: refreshCart called",{user:!!s,sessionId:m,hasUser:!!s}),h.current){console.log(" CartContext: Add to cart in progress, skipping refresh to prevent overwrite");return}if(c.current){console.log(" CartContext: Already loading, skipping refresh");return}const v=Date.now();if(v-d.current<500&&d.current>0){console.log(" CartContext: Too soon since last refresh, skipping (debounced)");return}d.current=v,o(!0);try{console.log(" CartContext: Calling coreApi.getCart...",{user:!!s,sessionId:m});const j=await fe.getCart(s?void 0:m);console.log(" CartContext: Raw cart response:",j),console.log(" CartContext: Response type:",typeof j),console.log(" CartContext: Response keys:",j&&typeof j=="object"?Object.keys(j):"N/A");let k=j;if(j&&typeof j=="object"&&"data"in j&&"success"in j&&j.success===!0&&(console.log(" CartContext: Response is wrapped, unwrapping..."),k=j.data),console.log(" CartContext: Final data after unwrapping:",k),vo(k)){console.error(" CartContext: Cart API returned error object:",k),l.current||n(null);return}if(k&&typeof k=="object"&&!vo(k)){const N=k;N.cartItems&&!N.items&&(N.items=N.cartItems),Array.isArray(N.cartItems)||(N.cartItems=N.items||[]),Array.isArray(N.items)||(N.items=N.cartItems||[]),!N.cartItems&&!N.items&&(N.items=[],N.cartItems=[]);const C=(N.cartItems||N.items||[]).filter(O=>!O||!O.product?(console.warn(" CartContext: Filtering out invalid cart item:",O),!1):!0);N.cartItems=C,N.items=C;const A=C.length;console.log(" CartContext: Setting cart with",A,"valid items"),console.log(" CartContext: Cart ID:",N.id),console.log(" CartContext: Cart items details:",C.map(O=>{var M,I;return{cartItemId:O.id,productId:O.productId,productName:((M=O.product)==null?void 0:M.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown",quantity:O.quantity,hasProduct:!!O.product,hasVariant:!!O.productVariant}}));const E=l.current,D=new Set(((E==null?void 0:E.cartItems)||(E==null?void 0:E.items)||[]).map(O=>O.id)),T=new Set(C.map(O=>O.id)),P=D.size!==T.size||Array.from(T).some(O=>!D.has(O))||C.some(O=>{const M=((E==null?void 0:E.cartItems)||(E==null?void 0:E.items)||[]).find(I=>I.id===O.id);return!M||M.quantity!==O.quantity});!E||E.id!==N.id||P||A!==D.size||A>0?(console.log(" CartContext: Cart changed, updating state",{hadCart:!!E,cartIdChanged:(E==null?void 0:E.id)!==N.id,itemsChanged:P,currentItemCount:D.size,newItemCount:A,currentItemIds:Array.from(D),newItemIds:Array.from(T)}),n({...N})):console.log(" CartContext: Cart unchanged, skipping state update to prevent flicker")}else console.warn(" CartContext: Invalid cart data structure:",k),l.current||n(null)}catch(j){const k=Jl(j);if(k.includes("not found")||k.includes("404")||j&&typeof j=="object"&&"status"in j&&j.status===404||k.includes("     ")){console.log(" CartContext: Cart not found (404), treating as empty"),n(null),l.current=null;return}console.error(" CartContext: Failed to fetch cart:",j),l.current||n(null)}finally{o(!1),console.log(" CartContext: refreshCart completed, loading set to false")}},[s,m]);f.useEffect(()=>{console.log(" CartContext: useEffect triggered, calling refreshCart"),console.log(" CartContext: Dependencies:",{user:!!s,sessionId:m});let v=!0;return u.current&&(clearTimeout(u.current),u.current=null),u.current=setTimeout(()=>{v&&g().catch(S=>{v&&console.error(" CartContext: Error in refreshCart from useEffect:",S)})},100),()=>{v=!1,u.current&&(clearTimeout(u.current),u.current=null)}},[s,m,g]);const x=async(v,S,j)=>{var k,N;if(h.current){console.log(" CartContext: Add to cart already in progress, waiting...");for(let C=0;C<3&&(await new Promise(A=>setTimeout(A,200)),!!h.current);C++);h.current&&console.warn(" CartContext: Add to cart still locked after waiting, proceeding anyway to prevent blocking")}h.current=!0;try{if(!v||typeof v!="string"||v.trim()==="")throw console.error(" CartContext: Invalid productId:",v),yr({title:"",description:"   ",variant:"destructive"}),new Error("Invalid product ID");console.log(" CartContext: Adding to cart",{productId:v.trim(),quantity:S,variantId:j,sessionId:m,user:!!s});const C={productId:v.trim(),quantity:Number(S)};j&&(C.productVariantId=j.trim()),console.log(" CartContext: Payload",C);const A=l.current,E=((k=A==null?void 0:A.cartItems)==null?void 0:k.length)||((N=A==null?void 0:A.items)==null?void 0:N.length)||0;console.log(" CartContext: Current cart has",E,"items before adding");const D=await fe.addToCart(C,s?void 0:m);console.log("CartContext: Add to cart response:",D);let T=D;if(D&&typeof D=="object"&&"data"in D&&"success"in D&&(T=D.data,console.log("CartContext: Unwrapped add to cart response:",T)),T&&typeof T=="object"){T.cartItems&&!T.items&&(T.items=T.cartItems),!T.cartItems&&T.items&&(T.cartItems=T.items),Array.isArray(T.cartItems)||(T.cartItems=[]),Array.isArray(T.items)||(T.items=T.cartItems||[]);const P=(T.cartItems||T.items||[]).filter(O=>!O||!O.product?(console.warn(" CartContext: Filtering out invalid cart item from add response:",O),!1):!0);T.cartItems=P,T.items=P,console.log(" CartContext: Setting cart from add response with",P.length,"valid items"),console.log(" CartContext: Cart items details:",P.map(O=>{var M,I;return{cartItemId:O.id,productId:O.productId,productName:((M=O.product)==null?void 0:M.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown",quantity:O.quantity,hasProduct:!!O.product}})),T.sessionId&&T.sessionId!==m&&(console.log(" CartContext: Updating sessionId from cart response:",T.sessionId),localStorage.setItem("guestSessionId",T.sessionId),p(T.sessionId)),console.log(" CartContext: Updating cart state with",P.length,"items from addToCart response"),console.log(" CartContext: Item count changed from",E,"to",P.length),P.length<E&&E>0&&(console.warn(" CartContext: WARNING - Item count decreased! This might indicate items were lost."),console.warn(" CartContext: Current items:",E,"New items:",P.length),console.warn(" CartContext: Current product IDs:",((A==null?void 0:A.cartItems)||(A==null?void 0:A.items)||[]).map(O=>O.productId)),console.warn(" CartContext: New product IDs:",P.map(O=>O.productId)));const _={...T};n(_),l.current=_,console.log(" CartContext: ========== CART STATE UPDATED =========="),console.log(" CartContext: Cart ID:",_.id),console.log(" CartContext: Total items in cart:",P.length),console.log(" CartContext: Product IDs:",P.map(O=>O.productId)),console.log(" CartContext: Product Names:",P.map(O=>{var M,I;return((M=O.product)==null?void 0:M.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown"})),console.log(" CartContext: Cart Item IDs:",P.map(O=>O.id)),console.log(" CartContext: Quantities:",P.map(O=>O.quantity)),console.log(" CartContext: ======================================="),yr({title:"Added to cart",description:"Item added successfully"})}else console.warn(" CartContext: Add to cart response missing cart data, refreshing..."),await g(),yr({title:"Added to cart",description:"Item added successfully"})}catch(C){console.error("CartContext: Add to cart failed",C);const A=Jl(C);throw yr({title:"Error",description:A||"Could not add item to cart",variant:"destructive"}),C}finally{h.current=!1,setTimeout(()=>{h.current?(console.log(" CartContext: Skipping refresh - another addToCart in progress"),setTimeout(()=>{h.current||g().catch(C=>console.error("Failed to refresh cart after delayed add:",C))},1e3)):(console.log(" CartContext: Refreshing cart after add to ensure all items are present"),g().catch(C=>console.error("Failed to refresh cart after add:",C)))},1e3)}},y=async(v,S)=>{try{const j=await fe.updateCartItem(v,S,s?void 0:m);let k=j;if(j&&typeof j=="object"&&"data"in j&&"success"in j&&(k=j.data),k&&typeof k=="object"&&!vo(k)){const N=k;N.cartItems&&!N.items&&(N.items=N.cartItems),!N.cartItems&&N.items&&(N.cartItems=N.items),Array.isArray(N.cartItems)||(N.cartItems=N.items||[]),Array.isArray(N.items)||(N.items=N.cartItems||[]);const C=(N.cartItems||N.items||[]).filter(A=>A&&A.product);N.cartItems=C,N.items=C,console.log(" CartContext: Updating cart from updateQuantity response with",C.length,"items"),n({...N}),setTimeout(()=>{g().catch(A=>console.error("Failed to refresh cart after update:",A))},200)}else await g()}catch(j){const k=Jl(j);throw yr({title:"Error",description:k||"Could not update quantity",variant:"destructive"}),j}},b=async v=>{try{console.log(" CartContext: removeItem called with itemId:",v),console.log(" CartContext: itemId type:",typeof v),console.log(" CartContext: itemId length:",v==null?void 0:v.length);let S=v;(v.includes("/")||v.includes("+"))&&(S=v.split(/[/+]/).find(C=>C.length>=20&&!C.includes("/")&&!C.includes("+"))||v,console.log(" CartContext: Cleaned itemId from",v,"to",S));const j=l.current;if(j){const N=(j==null?void 0:j.cartItems)||(j==null?void 0:j.items)||[];console.log(" CartContext: Current cart has",N.length,"items");const C=N.map(E=>E.id);console.log(" CartContext: Current cart item IDs:",C);const A=C.includes(S)||C.some(E=>E.includes(S)||S.includes(E));if(console.log(" CartContext: ItemId exists in cart?",A),!A&&C.length>0){const E=N.find(D=>D.id.includes(S.substring(0,20))||S.includes(D.id.substring(0,20)));E?(S=E.id,console.log(" CartContext: Found matching item, using ID:",S)):console.warn(" CartContext: ItemId not found in current cart, but will try to remove anyway")}}const k=await fe.removeFromCart(S,s?void 0:m);await g(),yr({title:"Item removed",description:"Item removed from cart"})}catch(S){console.error(" CartContext: Error removing item:",S);const j=Jl(S),k=j.includes("not found")||j.includes("404")||S&&typeof S=="object"&&"status"in S&&S.status===404;try{await g()}catch(N){console.error(" CartContext: Failed to refresh cart after error:",N)}if(k?console.log(" CartContext: Item not found (404), assuming already removed"):yr({title:"Error",description:j||"Could not remove item",variant:"destructive"}),!k)throw S}},w=async()=>{try{o(!0),await fe.clearCart(s?void 0:m),n(null),l.current=null}catch(v){console.error(" CartContext: Failed to clear cart:",v),n(null),l.current=null}finally{o(!1)}};return r.jsx(PY.Provider,{value:{cart:a,loading:i,addToCart:x,updateQuantity:y,removeItem:b,refreshCart:g,clearCart:w},children:e})},Rp=()=>{const e=f.useContext(PY);if(!e)throw new Error("useCart must be used within CartProvider");return e},Mye=f.createContext(void 0),Fye=({children:e})=>{const[t,s]=f.useState(()=>{const n=localStorage.getItem("darkMode");return n!==null?n==="true":!1});f.useEffect(()=>{t?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),localStorage.setItem("darkMode",String(t)),console.log(" Dark mode:",t?"ON":"OFF")},[t]);const a=()=>{s(n=>!n)};return r.jsx(Mye.Provider,{value:{isDarkMode:t,toggleDarkMode:a},children:e})},u$="tab_updates_watched";function Lye(){const[e,t]=f.useState({}),[s,a]=f.useState({});f.useEffect(()=>{try{const u=localStorage.getItem(u$);u&&a(JSON.parse(u))}catch(u){console.error("Failed to load watched state:",u)}},[]);const n=f.useCallback(u=>{try{localStorage.setItem(u$,JSON.stringify(u)),a(u)}catch(h){console.error("Failed to save watched state:",h)}},[]),i=f.useCallback((u,h)=>{t(m=>{const p=m[u]||{updates:[],lastWatched:null},g={...h,id:`${Date.now()}-${Math.random()}`,timestamp:new Date};return{...m,[u]:{updates:[g,...p.updates],lastWatched:p.lastWatched}}})},[]),o=f.useCallback(u=>{const h=new Date;t(m=>{const p=m[u];return p?{...m,[u]:{...p,lastWatched:h}}:m}),a(m=>{const p={...m,[u]:h};return n(p),p})},[n]),l=f.useCallback(u=>{const h=e[u];if(!h||h.updates.length===0)return!1;const m=s[u]?new Date(s[u]):h.lastWatched;return m?h.updates.some(p=>p.timestamp>m):!0},[e,s]),c=f.useCallback(u=>{const h=e[u];if(!h||h.updates.length===0)return[];const m=s[u]?new Date(s[u]):h.lastWatched;return m?h.updates.filter(p=>p.timestamp>m):h.updates},[e,s]),d=f.useCallback(u=>{t(h=>{const m={...h};return delete m[u],m})},[]);return{updates:e,addUpdate:i,markAsWatched:o,hasUnreadUpdates:l,getUnreadUpdates:c,clearUpdates:d}}const TY=f.createContext(void 0);function $ye({children:e}){const t=Lye();return r.jsx(TY.Provider,{value:t,children:e})}function Bye(){const e=f.useContext(TY);if(e===void 0)throw new Error("useTabUpdatesContext must be used within a TabUpdatesProvider");return e}const _Y=f.createContext(void 0),Uye=({children:e})=>{const[t,s]=f.useState([]);f.useEffect(()=>{const l=localStorage.getItem("wishlist");if(l)try{s(JSON.parse(l))}catch(c){console.error("Failed to parse wishlist from local storage",c)}},[]),f.useEffect(()=>{localStorage.setItem("wishlist",JSON.stringify(t))},[t]);const a=l=>{if(i(l.id)){yr({title:" ",description:"     "});return}s(c=>[...c,l]),yr({title:"  ",description:"    "})},n=l=>{s(c=>c.filter(d=>d.id!==l)),yr({title:"  ",description:"    "})},i=l=>t.some(c=>c.id===l),o=()=>{s([])};return r.jsx(_Y.Provider,{value:{items:t,addToWishlist:a,removeFromWishlist:n,isInWishlist:i,clearWishlist:o},children:e})},VI=()=>{const e=f.useContext(_Y);if(e===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return e},zI=typeof window<"u"&&window.__StoreSettingsContext?window.__StoreSettingsContext:f.createContext(void 0);typeof window<"u"&&(window.__StoreSettingsContext=zI);const Um=()=>{const e=f.useContext(zI);if(!e)throw new Error("useStoreSettings must be used within StoreSettingsProvider");return e},Vye=({children:e})=>{const[t,s]=f.useState(null),[a,n]=f.useState(!0),i=async()=>{try{n(!0);const o=await fe.get("/site-config"),l=(o==null?void 0:o.settings)||o||{};s(l)}catch(o){console.error("Failed to load store settings:",o),s({currency:"SAR",language:"ar",taxEnabled:!0,taxRate:15,shippingEnabled:!0,inventoryTracking:!0,allowGuestCheckout:!0,maintenanceMode:!1,storeType:"GENERAL",paymentMethods:[]})}finally{n(!1)}};return f.useEffect(()=>{i()},[]),r.jsx(zI.Provider,{value:{settings:t,loading:a,refreshSettings:i},children:e})},eu=Object.create(null);eu.open="0";eu.close="1";eu.ping="2";eu.pong="3";eu.message="4";eu.upgrade="5";eu.noop="6";const YN=Object.create(null);Object.keys(eu).forEach(e=>{YN[eu[e]]=e});const y_={type:"error",data:"parser error"},DY=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",OY=typeof ArrayBuffer=="function",IY=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,WI=({type:e,data:t},s,a)=>DY&&t instanceof Blob?s?a(t):h$(t,a):OY&&(t instanceof ArrayBuffer||IY(t))?s?a(t):h$(new Blob([t]),a):a(eu[e]+(t||"")),h$=(e,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(e)};function m$(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let gP;function zye(e,t){if(DY&&e.data instanceof Blob)return e.data.arrayBuffer().then(m$).then(t);if(OY&&(e.data instanceof ArrayBuffer||IY(e.data)))return t(m$(e.data));WI(e,!1,s=>{gP||(gP=new TextEncoder),t(gP.encode(s))})}const f$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",my=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<f$.length;e++)my[f$.charCodeAt(e)]=e;const Wye=e=>{let t=e.length*.75,s=e.length,a,n=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(a=0;a<s;a+=4)i=my[e.charCodeAt(a)],o=my[e.charCodeAt(a+1)],l=my[e.charCodeAt(a+2)],c=my[e.charCodeAt(a+3)],u[n++]=i<<2|o>>4,u[n++]=(o&15)<<4|l>>2,u[n++]=(l&3)<<6|c&63;return d},Hye=typeof ArrayBuffer=="function",HI=(e,t)=>{if(typeof e!="string")return{type:"message",data:RY(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:qye(e.substring(1),t)}:YN[s]?e.length>1?{type:YN[s],data:e.substring(1)}:{type:YN[s]}:y_},qye=(e,t)=>{if(Hye){const s=Wye(e);return RY(s,t)}else return{base64:!0,data:e}},RY=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},MY="",Gye=(e,t)=>{const s=e.length,a=new Array(s);let n=0;e.forEach((i,o)=>{WI(i,!1,l=>{a[o]=l,++n===s&&t(a.join(MY))})})},Kye=(e,t)=>{const s=e.split(MY),a=[];for(let n=0;n<s.length;n++){const i=HI(s[n],t);if(a.push(i),i.type==="error")break}return a};function Yye(){return new TransformStream({transform(e,t){zye(e,s=>{const a=s.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let vP;function B1(e){return e.reduce((t,s)=>t+s.length,0)}function U1(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)s[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),s}function Xye(e,t){vP||(vP=new TextDecoder);const s=[];let a=0,n=-1,i=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(a===0){if(B1(s)<1)break;const c=U1(s,1);i=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(B1(s)<2)break;const c=U1(s,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(B1(s)<8)break;const c=U1(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(y_);break}n=u*Math.pow(2,32)+d.getUint32(4),a=3}else{if(B1(s)<n)break;const c=U1(s,n);l.enqueue(HI(i?c:vP.decode(c),t)),a=0}if(n===0||n>e){l.enqueue(y_);break}}}})}const FY=4;function Vn(e){if(e)return Qye(e)}function Qye(e){for(var t in Vn.prototype)e[t]=Vn.prototype[t];return e}Vn.prototype.on=Vn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Vn.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Vn.prototype.off=Vn.prototype.removeListener=Vn.prototype.removeAllListeners=Vn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<s.length;n++)if(a=s[n],a===t||a.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Vn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,n=s.length;a<n;++a)s[a].apply(this,t)}return this};Vn.prototype.emitReserved=Vn.prototype.emit;Vn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Vn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const SC=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Zl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Jye="arraybuffer";function LY(e,...t){return t.reduce((s,a)=>(e.hasOwnProperty(a)&&(s[a]=e[a]),s),{})}const Zye=Zl.setTimeout,ebe=Zl.clearTimeout;function kC(e,t){t.useNativeTimers?(e.setTimeoutFn=Zye.bind(Zl),e.clearTimeoutFn=ebe.bind(Zl)):(e.setTimeoutFn=Zl.setTimeout.bind(Zl),e.clearTimeoutFn=Zl.clearTimeout.bind(Zl))}const tbe=1.33;function rbe(e){return typeof e=="string"?sbe(e):Math.ceil((e.byteLength||e.size)*tbe)}function sbe(e){let t=0,s=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function $Y(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function abe(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function nbe(e){let t={},s=e.split("&");for(let a=0,n=s.length;a<n;a++){let i=s[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ibe extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class qI extends Vn{constructor(t){super(),this.writable=!1,kC(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new ibe(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=HI(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=abe(t);return s.length?"?"+s:""}}class obe extends qI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Kye(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Gye(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=$Y()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let BY=!1;try{BY=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lbe=BY;function cbe(){}class dbe extends obe{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class Hd extends Vn{constructor(t,s,a){super(),this.createRequest=t,kC(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=LY(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Hd.requestsCount++,Hd.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cbe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Hd.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Hd.requestsCount=0;Hd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",p$);else if(typeof addEventListener=="function"){const e="onpagehide"in Zl?"pagehide":"unload";addEventListener(e,p$,!1)}}function p$(){for(let e in Hd.requests)Hd.requests.hasOwnProperty(e)&&Hd.requests[e].abort()}const ube=function(){const e=UY({xdomain:!1});return e&&e.responseType!==null}();class hbe extends dbe{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=ube&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Hd(UY,this.uri(),t)}}function UY(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lbe))return new XMLHttpRequest}catch{}if(!t)try{return new Zl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const VY=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mbe extends qI{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=VY?{}:LY(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;WI(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&SC(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=$Y()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const yP=Zl.WebSocket||Zl.MozWebSocket;class fbe extends mbe{createSocket(t,s,a){return VY?new yP(t,s,a):s?new yP(t,s):new yP(t)}doWrite(t,s){this.ws.send(s)}}class pbe extends qI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=Xye(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),n=Yye();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;this._writer.write(a).then(()=>{n&&SC(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const xbe={websocket:fbe,webtransport:pbe,polling:hbe},gbe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vbe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function b_(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),a=e.indexOf("]");s!=-1&&a!=-1&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));let n=gbe.exec(e||""),i={},o=14;for(;o--;)i[vbe[o]]=n[o]||"";return s!=-1&&a!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ybe(i,i.path),i.queryKey=bbe(i,i.query),i}function ybe(e,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function bbe(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(s[n]=i)}),s}const w_=typeof addEventListener=="function"&&typeof removeEventListener=="function",XN=[];w_&&addEventListener("offline",()=>{XN.forEach(e=>e())},!1);class hm extends Vn{constructor(t,s){if(super(),this.binaryType=Jye,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=b_(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=b_(s.host).host);kC(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nbe(this.opts.query)),w_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},XN.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=FY,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&hm.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",hm.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(s+=rbe(n)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,SC(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,n){if(typeof s=="function"&&(n=s,s=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:t,data:s,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(hm.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=XN.indexOf(this._offlineEventListener);a!==-1&&XN.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}hm.protocol=FY;class wbe extends hm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;hm.priorWebsocketSuccess=!1;const n=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!a)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;hm.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=s.name,this.emitReserved("upgradeError",m)}}))};function i(){a||(a=!0,u(),s.close(),s=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=s.name,i(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){s&&h.name!==s.name&&i()}const u=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};s.once("open",n),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let jbe=class extends wbe{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>xbe[n]).filter(n=>!!n)),super(t,a)}};function Nbe(e,t="",s){let a=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),a=b_(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(s&&s.port===a.port?"":":"+a.port),a}const Sbe=typeof ArrayBuffer=="function",kbe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,zY=Object.prototype.toString,Cbe=typeof Blob=="function"||typeof Blob<"u"&&zY.call(Blob)==="[object BlobConstructor]",Abe=typeof File=="function"||typeof File<"u"&&zY.call(File)==="[object FileConstructor]";function GI(e){return Sbe&&(e instanceof ArrayBuffer||kbe(e))||Cbe&&e instanceof Blob||Abe&&e instanceof File}function QN(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,a=e.length;s<a;s++)if(QN(e[s]))return!0;return!1}if(GI(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return QN(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&QN(e[s]))return!0;return!1}function Ebe(e){const t=[],s=e.data,a=e;return a.data=j_(s,t),a.attachments=t.length,{packet:a,buffers:t}}function j_(e,t){if(!e)return e;if(GI(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let a=0;a<e.length;a++)s[a]=j_(e[a],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=j_(e[a],t));return s}return e}function Pbe(e,t){return e.data=N_(e.data,t),delete e.attachments,e}function N_(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=N_(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=N_(e[s],t));return e}const Tbe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_be=5;var Ds;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ds||(Ds={}));class Dbe{constructor(t){this.replacer=t}encode(t){return(t.type===Ds.EVENT||t.type===Ds.ACK)&&QN(t)?this.encodeAsBinary({type:t.type===Ds.EVENT?Ds.BINARY_EVENT:Ds.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Ds.BINARY_EVENT||t.type===Ds.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Ebe(t),a=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(a),n}}function x$(e){return Object.prototype.toString.call(e)==="[object Object]"}class KI extends Vn{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===Ds.BINARY_EVENT;a||s.type===Ds.BINARY_ACK?(s.type=a?Ds.EVENT:Ds.ACK,this.reconstructor=new Obe(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(GI(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if(Ds[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Ds.BINARY_EVENT||a.type===Ds.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(i,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(i,s)}else a.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const i=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}a.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(KI.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case Ds.CONNECT:return x$(s);case Ds.DISCONNECT:return s===void 0;case Ds.CONNECT_ERROR:return typeof s=="string"||x$(s);case Ds.EVENT:case Ds.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Tbe.indexOf(s[0])===-1);case Ds.ACK:case Ds.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Obe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Pbe(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ibe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:KI,Encoder:Dbe,get PacketType(){return Ds},protocol:_be},Symbol.toStringTag,{value:"Module"}));function Vc(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const Rbe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class WY extends Vn{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Vc(t,"open",this.onopen.bind(this)),Vc(t,"packet",this.onpacket.bind(this)),Vc(t,"error",this.onerror.bind(this)),Vc(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,n,i;if(Rbe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:Ds.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,h=s.pop();this._registerAckCallback(u,h),o.id=u}const l=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},n),o=(...l)=>{this.io.clearTimeoutFn(i),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((a,n)=>{const i=(o,l)=>o?n(o):a(l);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ds.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ds.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ds.EVENT:case Ds.BINARY_EVENT:this.onevent(t);break;case Ds.ACK:case Ds.BINARY_ACK:this.onack(t);break;case Ds.DISCONNECT:this.ondisconnect();break;case Ds.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...n){a||(a=!0,s.packet({type:Ds.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ds.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function W0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}W0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};W0.prototype.reset=function(){this.attempts=0};W0.prototype.setMin=function(e){this.ms=e};W0.prototype.setMax=function(e){this.max=e};W0.prototype.setJitter=function(e){this.jitter=e};class S_ extends Vn{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,kC(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new W0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||Ibe;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new jbe(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=Vc(s,"open",function(){a.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Vc(s,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Vc(t,"ping",this.onping.bind(this)),Vc(t,"data",this.ondata.bind(this)),Vc(t,"error",this.onerror.bind(this)),Vc(t,"close",this.onclose.bind(this)),Vc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){SC(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new WY(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Lv={};function Ly(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Nbe(e,t.path||"/socket.io"),a=s.source,n=s.id,i=s.path,o=Lv[n]&&i in Lv[n].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new S_(a,t):(Lv[n]||(Lv[n]=new S_(a,t)),c=Lv[n]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(Ly,{Manager:S_,Socket:WY,io:Ly,connect:Ly});const Mbe="https://saeaa.net/api",Fbe=e=>Ly(`${Mbe}/notifications`,{auth:{token:e},transports:["websocket"]}),HY=f.createContext(void 0),Lbe=({children:e})=>{const{user:t,token:s}=$s(),[a,n]=f.useState([]),[i,o]=f.useState(null),l=f.useCallback(async()=>{if(s)try{const h=await fe.get("/notifications",{requireAuth:!0});Array.isArray(h)&&n(h)}catch(h){console.error("Failed to fetch notifications:",h)}},[s]);f.useEffect(()=>{if(s&&t){l();const h=Fbe(s);return h.on("connect",()=>{console.log("Connected to notifications socket")}),h.on("notification",m=>{n(x=>[m,...x]);const p=Ba.language==="ar"&&m.titleAr||m.titleEn,g=Ba.language==="ar"&&m.bodyAr||m.bodyEn;Rr(p,{description:g,action:{label:Ba.language==="ar"?"":"View",onClick:()=>{m.type==="ORDER"&&(window.location.href="/dashboard/orders"),m.type==="CUSTOMER"&&(window.location.href="/dashboard/customers"),m.type==="INVENTORY"&&(window.location.href="/dashboard/products")}}})}),o(h),()=>{h.disconnect()}}},[s,t,l]);const c=async h=>{try{await fe.put(`/notifications/${h}/read`,{},{requireAuth:!0}),n(m=>m.map(p=>p.id===h?{...p,readAt:new Date().toISOString()}:p))}catch(m){console.error("Failed to mark notification as read:",m)}},d=async()=>{try{await fe.put("/notifications/read-all",{},{requireAuth:!0}),n(h=>h.map(m=>({...m,readAt:new Date().toISOString()})))}catch(h){console.error("Failed to mark all notifications as read:",h)}},u=a.filter(h=>!h.readAt).length;return r.jsx(HY.Provider,{value:{notifications:a,unreadCount:u,markAsRead:c,markAllAsRead:d,refreshNotifications:l},children:e})},$be=()=>{const e=f.useContext(HY);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},qY=()=>{const e=Gn();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),r.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),r.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},YI=f.createContext({});function H0(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const XI=typeof window<"u",CC=XI?f.useLayoutEffect:f.useEffect,AC=f.createContext(null);function QI(e,t){e.indexOf(t)===-1&&e.push(t)}function JI(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const tu=(e,t,s)=>s>t?t:s<e?e:s;let Hg=()=>{};const Ku={},GY=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KY(e){return typeof e=="object"&&e!==null}const YY=e=>/^0[^.\s]+$/u.test(e);function ZI(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zo=e=>e,Bbe=(e,t)=>s=>t(e(s)),mj=(...e)=>e.reduce(Bbe),qg=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class e3{constructor(){this.subscriptions=[]}add(t){return QI(this.subscriptions,t),()=>JI(this.subscriptions,t)}notify(t,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qd=e=>e*1e3,ac=e=>e/1e3;function t3(e,t){return t?e*(1e3/t):0}const XY=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Ube=1e-7,Vbe=12;function zbe(e,t,s,a,n){let i,o,l=0;do o=t+(s-t)/2,i=XY(o,a,n)-e,i>0?s=o:t=o;while(Math.abs(i)>Ube&&++l<Vbe);return o}function fj(e,t,s,a){if(e===t&&s===a)return Zo;const n=i=>zbe(i,0,1,e,s);return i=>i===0||i===1?i:XY(n(i),t,a)}const QY=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,JY=e=>t=>1-e(1-t),ZY=fj(.33,1.53,.69,.99),r3=JY(ZY),eX=QY(r3),tX=e=>(e*=2)<1?.5*r3(e):.5*(2-Math.pow(2,-10*(e-1))),s3=e=>1-Math.sin(Math.acos(e)),rX=JY(s3),sX=QY(s3),Wbe=fj(.42,0,1,1),Hbe=fj(0,0,.58,1),aX=fj(.42,0,.58,1),qbe=e=>Array.isArray(e)&&typeof e[0]!="number",nX=e=>Array.isArray(e)&&typeof e[0]=="number",g$={linear:Zo,easeIn:Wbe,easeInOut:aX,easeOut:Hbe,circIn:s3,circInOut:sX,circOut:rX,backIn:r3,backInOut:eX,backOut:ZY,anticipate:tX},Gbe=e=>typeof e=="string",v$=e=>{if(nX(e)){Hg(e.length===4);const[t,s,a,n]=e;return fj(t,s,a,n)}else if(Gbe(e))return Hg(g$[e]!==void 0),g$[e];return e},V1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],y$={value:null,addProjectionMetrics:null};function Kbe(e,t){let s=new Set,a=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,m=!1,p=!1)=>{const x=p&&n?s:a;return m&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(l=h,n){i=!0;return}n=!0,[s,a]=[a,s],s.forEach(d),t&&y$.value&&y$.value.frameloop[t].push(c),c=0,s.clear(),n=!1,i&&(i=!1,u.process(h))}};return u}const Ybe=40;function iX(e,t){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=V1.reduce((v,S)=>(v[S]=Kbe(i,t?S:void 0),v),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:p,postRender:g}=o,x=()=>{const v=Ku.useManualTiming?n.timestamp:performance.now();s=!1,Ku.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(v-n.timestamp,Ybe),1)),n.timestamp=v,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),m.process(n),p.process(n),g.process(n),n.isProcessing=!1,s&&t&&(a=!1,e(x))},y=()=>{s=!0,a=!0,n.isProcessing||e(x)};return{schedule:V1.reduce((v,S)=>{const j=o[S];return v[S]=(k,N=!1,C=!1)=>(s||y(),j.schedule(k,N,C)),v},{}),cancel:v=>{for(let S=0;S<V1.length;S++)o[V1[S]].cancel(v)},state:n,steps:o}}const{schedule:aa,cancel:od,state:ci,steps:bP}=iX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zo,!0);let JN;function Xbe(){JN=void 0}const Ho={now:()=>(JN===void 0&&Ho.set(ci.isProcessing||Ku.useManualTiming?ci.timestamp:performance.now()),JN),set:e=>{JN=e,queueMicrotask(Xbe)}},oX=e=>t=>typeof t=="string"&&t.startsWith(e),a3=oX("--"),Qbe=oX("var(--"),n3=e=>Qbe(e)?Jbe.test(e.split("/*")[0].trim()):!1,Jbe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,q0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$b={...q0,transform:e=>tu(0,1,e)},z1={...q0,default:1},$y=e=>Math.round(e*1e5)/1e5,i3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zbe(e){return e==null}const ewe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,o3=(e,t)=>s=>!!(typeof s=="string"&&ewe.test(s)&&s.startsWith(e)||t&&!Zbe(s)&&Object.prototype.hasOwnProperty.call(s,t)),lX=(e,t,s)=>a=>{if(typeof a!="string")return a;const[n,i,o,l]=a.match(i3);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},twe=e=>tu(0,255,e),wP={...q0,transform:e=>Math.round(twe(e))},Cf={test:o3("rgb","red"),parse:lX("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+wP.transform(e)+", "+wP.transform(t)+", "+wP.transform(s)+", "+$y($b.transform(a))+")"};function rwe(e){let t="",s="",a="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const k_={test:o3("#"),parse:rwe,transform:Cf.transform},pj=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nh=pj("deg"),Gd=pj("%"),Wr=pj("px"),swe=pj("vh"),awe=pj("vw"),b$={...Gd,parse:e=>Gd.parse(e)/100,transform:e=>Gd.transform(e*100)},$x={test:o3("hsl","hue"),parse:lX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Gd.transform($y(t))+", "+Gd.transform($y(s))+", "+$y($b.transform(a))+")"},Bn={test:e=>Cf.test(e)||k_.test(e)||$x.test(e),parse:e=>Cf.test(e)?Cf.parse(e):$x.test(e)?$x.parse(e):k_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cf.transform(e):$x.transform(e),getAnimatableNone:e=>{const t=Bn.parse(e);return t.alpha=0,Bn.transform(t)}},nwe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iwe(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(i3))==null?void 0:t.length)||0)+(((s=e.match(nwe))==null?void 0:s.length)||0)>0}const cX="number",dX="color",owe="var",lwe="var(",w$="${}",cwe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bb(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},n=[];let i=0;const l=t.replace(cwe,c=>(Bn.test(c)?(a.color.push(i),n.push(dX),s.push(Bn.parse(c))):c.startsWith(lwe)?(a.var.push(i),n.push(owe),s.push(c)):(a.number.push(i),n.push(cX),s.push(parseFloat(c))),++i,w$)).split(w$);return{values:s,split:l,indexes:a,types:n}}function uX(e){return Bb(e).values}function hX(e){const{split:t,types:s}=Bb(e),a=t.length;return n=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],n[o]!==void 0){const l=s[o];l===cX?i+=$y(n[o]):l===dX?i+=Bn.transform(n[o]):i+=n[o]}return i}}const dwe=e=>typeof e=="number"?0:Bn.test(e)?Bn.getAnimatableNone(e):e;function uwe(e){const t=uX(e);return hX(e)(t.map(dwe))}const km={test:iwe,parse:uX,createTransformer:hX,getAnimatableNone:uwe};function jP(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function hwe({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let n=0,i=0,o=0;if(!t)n=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;n=jP(c,l,e+1/3),i=jP(c,l,e),o=jP(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function Z2(e,t){return s=>s>0?t:e}const Ja=(e,t,s)=>e+(t-e)*s,NP=(e,t,s)=>{const a=e*e,n=s*(t*t-a)+a;return n<0?0:Math.sqrt(n)},mwe=[k_,Cf,$x],fwe=e=>mwe.find(t=>t.test(e));function j$(e){const t=fwe(e);if(!t)return!1;let s=t.parse(e);return t===$x&&(s=hwe(s)),s}const N$=(e,t)=>{const s=j$(e),a=j$(t);if(!s||!a)return Z2(e,t);const n={...s};return i=>(n.red=NP(s.red,a.red,i),n.green=NP(s.green,a.green,i),n.blue=NP(s.blue,a.blue,i),n.alpha=Ja(s.alpha,a.alpha,i),Cf.transform(n))},C_=new Set(["none","hidden"]);function pwe(e,t){return C_.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function xwe(e,t){return s=>Ja(e,t,s)}function l3(e){return typeof e=="number"?xwe:typeof e=="string"?n3(e)?Z2:Bn.test(e)?N$:ywe:Array.isArray(e)?mX:typeof e=="object"?Bn.test(e)?N$:gwe:Z2}function mX(e,t){const s=[...e],a=s.length,n=e.map((i,o)=>l3(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)s[o]=n[o](i);return s}}function gwe(e,t){const s={...e,...t},a={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(a[n]=l3(e[n])(e[n],t[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}}function vwe(e,t){const s=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=e.indexes[i][a[i]],l=e.values[o]??0;s[n]=l,a[i]++}return s}const ywe=(e,t)=>{const s=km.createTransformer(t),a=Bb(e),n=Bb(t);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?C_.has(e)&&!n.values.length||C_.has(t)&&!a.values.length?pwe(e,t):mj(mX(vwe(a,n),n.values),s):Z2(e,t)};function fX(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Ja(e,t,s):l3(e)(e,t)}const bwe=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>aa.update(t,s),stop:()=>od(t),now:()=>ci.isProcessing?ci.timestamp:Ho.now()}},pX=(e,t,s=10)=>{let a="";const n=Math.max(Math.round(t/s),2);for(let i=0;i<n;i++)a+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},eS=2e4;function c3(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<eS;)t+=s,a=e.next(t);return t>=eS?1/0:t}function wwe(e,t=100,s){const a=s({...e,keyframes:[0,t]}),n=Math.min(c3(a),eS);return{type:"keyframes",ease:i=>a.next(n*i).value/t,duration:ac(n)}}const jwe=5;function xX(e,t,s){const a=Math.max(t-jwe,0);return t3(s-e(a),t-a)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SP=.001;function Nwe({duration:e=un.duration,bounce:t=un.bounce,velocity:s=un.velocity,mass:a=un.mass}){let n,i,o=1-t;o=tu(un.minDamping,un.maxDamping,o),e=tu(un.minDuration,un.maxDuration,ac(e)),o<1?(n=d=>{const u=d*o,h=u*e,m=u-s,p=A_(d,o),g=Math.exp(-h);return SP-m/p*g},i=d=>{const h=d*o*e,m=h*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),x=A_(Math.pow(d,2),o);return(-n(d)+SP>0?-1:1)*((m-p)*g)/x}):(n=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-SP+u*h},i=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=kwe(n,i,l);if(e=qd(e),isNaN(c))return{stiffness:un.stiffness,damping:un.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const Swe=12;function kwe(e,t,s){let a=s;for(let n=1;n<Swe;n++)a=a-e(a)/t(a);return a}function A_(e,t){return e*Math.sqrt(1-t*t)}const Cwe=["duration","bounce"],Awe=["stiffness","damping","mass"];function S$(e,t){return t.some(s=>e[s]!==void 0)}function Ewe(e){let t={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...e};if(!S$(e,Awe)&&S$(e,Cwe))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),n=a*a,i=2*tu(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:un.mass,stiffness:n,damping:i}}else{const s=Nwe(e);t={...t,...s,mass:un.mass},t.isResolvedFromDuration=!0}return t}function tS(e=un.visualDuration,t=un.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:n}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=Ewe({...s,velocity:-ac(s.velocity||0)}),g=m||0,x=d/(2*Math.sqrt(c*u)),y=o-i,b=ac(Math.sqrt(c/u)),w=Math.abs(y)<5;a||(a=w?un.restSpeed.granular:un.restSpeed.default),n||(n=w?un.restDelta.granular:un.restDelta.default);let v;if(x<1){const j=A_(b,x);v=k=>{const N=Math.exp(-x*b*k);return o-N*((g+x*b*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(x===1)v=j=>o-Math.exp(-b*j)*(y+(g+b*y)*j);else{const j=b*Math.sqrt(x*x-1);v=k=>{const N=Math.exp(-x*b*k),C=Math.min(j*k,300);return o-N*((g+x*b*y)*Math.sinh(C)+j*y*Math.cosh(C))/j}}const S={calculatedDuration:p&&h||null,next:j=>{const k=v(j);if(p)l.done=j>=h;else{let N=j===0?g:0;x<1&&(N=j===0?qd(g):xX(v,j,k));const C=Math.abs(N)<=a,A=Math.abs(o-k)<=n;l.done=C&&A}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(c3(S),eS),k=pX(N=>S.next(j*N).value,j,30);return j+"ms "+k},toTransition:()=>{}};return S}tS.applyToOptions=e=>{const t=wwe(e,100,tS);return e.ease=t.ease,e.duration=qd(t.duration),e.type="keyframes",e};function E_({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=s*t;const y=h+x,b=o===void 0?y:o(y);b!==y&&(x=b-h);const w=C=>-x*Math.exp(-C/a),v=C=>b+w(C),S=C=>{const A=w(C),E=v(C);m.done=Math.abs(A)<=d,m.value=m.done?b:E};let j,k;const N=C=>{p(m.value)&&(j=C,k=tS({keyframes:[m.value,g(m.value)],velocity:xX(v,C,m.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:C=>{let A=!1;return!k&&j===void 0&&(A=!0,S(C),N(C)),j!==void 0&&C>=j?k.next(C-j):(!A&&S(C),m)}}}function Pwe(e,t,s){const a=[],n=s||Ku.mix||fX,i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Zo:t;l=mj(c,l)}a.push(l)}return a}function d3(e,t,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(Hg(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Pwe(t,a,n),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=qg(e[h],e[h+1],u);return l[h](m)};return s?u=>d(tu(e[0],e[i-1],u)):d}function Twe(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const n=qg(0,t,a);e.push(Ja(s,1,n))}}function gX(e){const t=[0];return Twe(t,e.length-1),t}function _we(e,t){return e.map(s=>s*t)}function Dwe(e,t){return e.map(()=>t||aX).splice(0,e.length-1)}function By({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const n=qbe(a)?a.map(v$):v$(a),i={done:!1,value:t[0]},o=_we(s&&s.length===t.length?s:gX(t),e),l=d3(o,t,{ease:Array.isArray(n)?n:Dwe(t,n)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Owe=e=>e!==null;function u3(e,{repeat:t,repeatType:s="loop"},a,n=1){const i=e.filter(Owe),l=n<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const Iwe={decay:E_,inertia:E_,tween:By,keyframes:By,spring:tS};function vX(e){typeof e.type=="string"&&(e.type=Iwe[e.type])}class h3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Rwe=e=>e/100;class EC extends h3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Ho.now()&&this.tick(Ho.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vX(t);const{type:s=By,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=s||By;c!==By&&typeof l[0]!="number"&&(this.mixKeyframes=mj(Rwe,fX(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=c3(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>n;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let v=this.currentTime,S=a;if(h){const C=Math.min(this.currentTime,n)/l;let A=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(E=1-E,p&&(E-=p/l)):m==="mirror"&&(S=o)),v=tu(0,1,E)*l}const j=w?{done:!1,value:u[0]}:S.next(v);i&&(j.value=i(j.value));let{done:k}=j;!w&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&g!==E_&&(j.value=u3(u,this.options,y,this.speed)),x&&x(j.value),N&&this.finish(),j}then(t,s){return this.finished.then(t,s)}get duration(){return ac(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ac(t)}get time(){return ac(this.currentTime)}set time(t){var s;t=qd(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ho.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ac(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=bwe,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ho.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Mwe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Af=e=>e*180/Math.PI,P_=e=>{const t=Af(Math.atan2(e[1],e[0]));return T_(t)},Fwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:P_,rotateZ:P_,skewX:e=>Af(Math.atan(e[1])),skewY:e=>Af(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},T_=e=>(e=e%360,e<0&&(e+=360),e),k$=P_,C$=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),A$=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C$,scaleY:A$,scale:e=>(C$(e)+A$(e))/2,rotateX:e=>T_(Af(Math.atan2(e[6],e[5]))),rotateY:e=>T_(Af(Math.atan2(-e[2],e[0]))),rotateZ:k$,rotate:k$,skewX:e=>Af(Math.atan(e[4])),skewY:e=>Af(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function __(e){return e.includes("scale")?1:0}function D_(e,t){if(!e||e==="none")return __(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(s)a=Lwe,n=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Fwe,n=l}if(!n)return __(t);const i=a[t],o=n[1].split(",").map(Bwe);return typeof i=="function"?i(o):o[i]}const $we=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return D_(s,t)};function Bwe(e){return parseFloat(e.trim())}const G0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],K0=new Set(G0),E$=e=>e===q0||e===Wr,Uwe=new Set(["x","y","z"]),Vwe=G0.filter(e=>!Uwe.has(e));function zwe(e){const t=[];return Vwe.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const Hf={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>D_(t,"x"),y:(e,{transform:t})=>D_(t,"y")};Hf.translateX=Hf.x;Hf.translateY=Hf.y;const qf=new Set;let O_=!1,I_=!1,R_=!1;function yX(){if(I_){const e=Array.from(qf).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const n=zwe(a);n.length&&(s.set(a,n),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const n=s.get(a);n&&n.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}I_=!1,O_=!1,qf.forEach(e=>e.complete(R_)),qf.clear()}function bX(){qf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(I_=!0)})}function Wwe(){R_=!0,bX(),yX(),R_=!1}class m3{constructor(t,s,a,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qf.add(this),O_||(O_=!0,aa.read(bX),aa.resolveKeyframes(yX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&s){const l=a.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}Mwe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qf.delete(this)}cancel(){this.state==="scheduled"&&(qf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hwe=e=>e.startsWith("--");function qwe(e,t,s){Hwe(t)?e.style.setProperty(t,s):e.style[t]=s}const wX=ZI(()=>window.ScrollTimeline!==void 0),Gwe={};function Kwe(e,t){const s=ZI(e);return()=>Gwe[t]??s()}const jX=Kwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fy=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,P$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fy([0,.65,.55,1]),circOut:fy([.55,0,1,.45]),backIn:fy([.31,.01,.66,-.59]),backOut:fy([.33,1.53,.69,.99])};function NX(e,t){if(e)return typeof e=="function"?jX()?pX(e,t):"ease-out":nX(e)?fy(e):Array.isArray(e)?e.map(s=>NX(s,t)||P$.easeOut):P$[e]}function Ywe(e,t,s,{delay:a=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const h=NX(l,n);Array.isArray(h)&&(u.easing=h);const m={delay:a,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function SX(e){return typeof e=="function"&&"applyToOptions"in e}function Xwe({type:e,...t}){return SX(e)&&jX()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Qwe extends h3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Hg(typeof t.type!="string");const d=Xwe(t);this.animation=Ywe(s,a,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=u3(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):qwe(s,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,a;const t=((a=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:a.call(s).duration)||0;return ac(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ac(t)}get time(){return ac(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qd(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wX()?(this.animation.timeline=t,Zo):s(this)}}const kX={anticipate:tX,backInOut:eX,circInOut:sX};function Jwe(e){return e in kX}function Zwe(e){typeof e.ease=="string"&&Jwe(e.ease)&&(e.ease=kX[e.ease])}const T$=10;class eje extends Qwe{constructor(t){Zwe(t),vX(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:n,element:i,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new EC({...o,autoplay:!1}),c=qd(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-T$).value,l.sample(c).value,T$),l.stop()}}const _$=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(km.test(e)||e==="0")&&!e.startsWith("url("));function tje(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function rje(e,t,s,a){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_$(n,t),l=_$(i,t);return!o||!l?!1:tje(e)||(s==="spring"||SX(s))&&a}function M_(e){e.duration=0,e.type="keyframes"}const sje=new Set(["opacity","clipPath","filter","transform"]),aje=ZI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nje(e){var u;const{motionValue:t,name:s,repeatDelay:a,repeatType:n,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return aje()&&s&&sje.has(s)&&(s!=="transform"||!d)&&!c&&!a&&n!=="mirror"&&i!==0&&o!=="inertia"}const ije=40;class oje extends h3{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ho.now();const m={autoplay:t,delay:s,type:a,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||m3;this.keyframeResolver=new p(l,(x,y,b)=>this.onKeyframesResolved(x,y,m,!b),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,s,a,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=Ho.now(),rje(t,i,o,l)||((Ku.instantAnimations||!c)&&(u==null||u(u3(t,a,s))),t[0]=t[t.length-1],M_(a),a.repeat=0);const m={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>ije?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},p=!d&&nje(m)?new eje({...m,element:m.motionValue.owner.current}):new EC(m);p.finished.then(()=>this.notifyFinished()).catch(Zo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Wwe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const lje=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cje(e){const t=lje.exec(e);if(!t)return[,];const[,s,a,n]=t;return[`--${s??a}`,n]}function CX(e,t,s=1){const[a,n]=cje(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return GY(o)?parseFloat(o):o}return n3(n)?CX(n,t,s+1):n}function f3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const AX=new Set(["width","height","top","left","right","bottom",...G0]),dje={test:e=>e==="auto",parse:e=>e},EX=e=>t=>t.test(e),PX=[q0,Wr,Gd,Nh,awe,swe,dje],D$=e=>PX.find(EX(e));function uje(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YY(e):!0}const hje=new Set(["brightness","contrast","saturate","opacity"]);function mje(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(i3)||[];if(!a)return e;const n=s.replace(a,"");let i=hje.has(t)?1:0;return a!==s&&(i*=100),t+"("+i+n+")"}const fje=/\b([a-z-]*)\(.*?\)/gu,F_={...km,getAnimatableNone:e=>{const t=e.match(fje);return t?t.map(mje).join(" "):e}},O$={...q0,transform:Math.round},pje={rotate:Nh,rotateX:Nh,rotateY:Nh,rotateZ:Nh,scale:z1,scaleX:z1,scaleY:z1,scaleZ:z1,skew:Nh,skewX:Nh,skewY:Nh,distance:Wr,translateX:Wr,translateY:Wr,translateZ:Wr,x:Wr,y:Wr,z:Wr,perspective:Wr,transformPerspective:Wr,opacity:$b,originX:b$,originY:b$,originZ:Wr},p3={borderWidth:Wr,borderTopWidth:Wr,borderRightWidth:Wr,borderBottomWidth:Wr,borderLeftWidth:Wr,borderRadius:Wr,radius:Wr,borderTopLeftRadius:Wr,borderTopRightRadius:Wr,borderBottomRightRadius:Wr,borderBottomLeftRadius:Wr,width:Wr,maxWidth:Wr,height:Wr,maxHeight:Wr,top:Wr,right:Wr,bottom:Wr,left:Wr,padding:Wr,paddingTop:Wr,paddingRight:Wr,paddingBottom:Wr,paddingLeft:Wr,margin:Wr,marginTop:Wr,marginRight:Wr,marginBottom:Wr,marginLeft:Wr,backgroundPositionX:Wr,backgroundPositionY:Wr,...pje,zIndex:O$,fillOpacity:$b,strokeOpacity:$b,numOctaves:O$},xje={...p3,color:Bn,backgroundColor:Bn,outlineColor:Bn,fill:Bn,stroke:Bn,borderColor:Bn,borderTopColor:Bn,borderRightColor:Bn,borderBottomColor:Bn,borderLeftColor:Bn,filter:F_,WebkitFilter:F_},TX=e=>xje[e];function _X(e,t){let s=TX(e);return s!==F_&&(s=km),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const gje=new Set(["auto","none","0"]);function vje(e,t,s){let a=0,n;for(;a<e.length&&!n;){const i=e[a];typeof i=="string"&&!gje.has(i)&&Bb(i).values.length&&(n=e[a]),a++}if(n&&s)for(const i of t)e[i]=_X(s,n)}class yje extends m3{constructor(t,s,a,n,i){super(t,s,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),n3(d))){const u=CX(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!AX.has(a)||t.length!==2)return;const[n,i]=t,o=D$(n),l=D$(i);if(o!==l)if(E$(o)&&E$(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Hf[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let n=0;n<t.length;n++)(t[n]===null||uje(t[n]))&&a.push(n);a.length&&vje(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hf[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(a,n).jump(n,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Hf[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function DX(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const n=document.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const OX=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function x3(e){return KY(e)&&"offsetHeight"in e}const I$=30,bje=e=>!isNaN(parseFloat(e)),Uy={current:void 0};class wje{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const n=Ho.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ho.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bje(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new e3);const a=this.events[t].add(s);return t==="change"?()=>{a(),aa.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Uy.current&&Uy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ho.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>I$)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,I$);return t3(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yc(e,t){return new wje(e,t)}const{schedule:g3,cancel:b0t}=iX(queueMicrotask,!1),Ic={x:!1,y:!1};function IX(){return Ic.x||Ic.y}function jje(e){return e==="x"||e==="y"?Ic[e]?null:(Ic[e]=!0,()=>{Ic[e]=!1}):Ic.x||Ic.y?null:(Ic.x=Ic.y=!0,()=>{Ic.x=Ic.y=!1})}function RX(e,t){const s=DX(e),a=new AbortController,n={passive:!0,...t,signal:a.signal};return[s,n,()=>a.abort()]}function R$(e){return!(e.pointerType==="touch"||IX())}function Nje(e,t,s={}){const[a,n,i]=RX(e,s),o=l=>{if(!R$(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{R$(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return a.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const MX=(e,t)=>t?e===t?!0:MX(e,t.parentElement):!1,v3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Sje=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kje(e){return Sje.has(e.tagName)||e.tabIndex!==-1}const ZN=new WeakSet;function M$(e){return t=>{t.key==="Enter"&&e(t)}}function kP(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Cje=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=M$(()=>{if(ZN.has(s))return;kP(s,"down");const n=M$(()=>{kP(s,"up")}),i=()=>kP(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function F$(e){return v3(e)&&!IX()}function Aje(e,t,s={}){const[a,n,i]=RX(e,s),o=l=>{const c=l.currentTarget;if(!F$(l))return;ZN.add(c);const d=t(c,l),u=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),ZN.has(c)&&ZN.delete(c),F$(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{u(p,c===window||c===document||s.useGlobalTarget||MX(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",m,n)};return a.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),x3(l)&&(l.addEventListener("focus",d=>Cje(d,n)),!kje(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function y3(e){return KY(e)&&"ownerSVGElement"in e}const e2=new WeakMap;let Sh;const FX=(e,t,s)=>(a,n)=>n&&n[0]?n[0][e+"Size"]:y3(a)&&"getBBox"in a?a.getBBox()[t]:a[s],Eje=FX("inline","width","offsetWidth"),Pje=FX("block","height","offsetHeight");function Tje({target:e,borderBoxSize:t}){var s;(s=e2.get(e))==null||s.forEach(a=>{a(e,{get width(){return Eje(e,t)},get height(){return Pje(e,t)}})})}function _je(e){e.forEach(Tje)}function Dje(){typeof ResizeObserver>"u"||(Sh=new ResizeObserver(_je))}function Oje(e,t){Sh||Dje();const s=DX(e);return s.forEach(a=>{let n=e2.get(a);n||(n=new Set,e2.set(a,n)),n.add(t),Sh==null||Sh.observe(a)}),()=>{s.forEach(a=>{const n=e2.get(a);n==null||n.delete(t),n!=null&&n.size||Sh==null||Sh.unobserve(a)})}}const t2=new Set;let Bx;function Ije(){Bx=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};t2.forEach(t=>t(e))},window.addEventListener("resize",Bx)}function Rje(e){return t2.add(e),Bx||Ije(),()=>{t2.delete(e),!t2.size&&typeof Bx=="function"&&(window.removeEventListener("resize",Bx),Bx=void 0)}}function Mje(e,t){return typeof e=="function"?Rje(e):Oje(e,t)}function LX(e,t){let s;const a=()=>{const{currentTime:n}=t,o=(n===null?0:n.value)/100;s!==o&&e(o),s=o};return aa.preUpdate(a,!0),()=>od(a)}function Fje(e){return y3(e)&&e.tagName==="svg"}function Lje(...e){const t=!Array.isArray(e[0]),s=t?0:-1,a=e[0+s],n=e[1+s],i=e[2+s],o=e[3+s],l=d3(n,i,o);return t?l(a):l}const gi=e=>!!(e&&e.getVelocity);function $je(e,t,s){const a=e.get();let n=null,i=a,o;const l=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,c=()=>{n&&(n.stop(),n=null)},d=()=>{c(),n=new EC({keyframes:[$$(e.get()),$$(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:o})};if(e.attach((u,h)=>{i=u,o=m=>h(L$(m,l)),aa.postRender(d)},c),gi(t)){const u=t.on("change",m=>e.set(L$(m,l))),h=e.on("destroy",u);return()=>{u(),h()}}return c}function L$(e,t){return t?e+t:e}function $$(e){return typeof e=="number"?e:parseFloat(e)}const Bje=[...PX,Bn,km],Uje=e=>Bje.find(EX(e)),xj=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function B$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vje(...e){return t=>{let s=!1;const a=e.map(n=>{const i=B$(n,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():B$(e[n],null)}}}}function zje(...e){return f.useCallback(Vje(...e),e)}class Wje extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,n=x3(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Hje({children:e,isPresent:t,anchorX:s,root:a}){const n=f.useId(),i=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=f.useContext(xj),c=zje(i,e==null?void 0:e.ref);return f.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:m,right:p}=o.current;if(t||!i.current||!d||!u)return;const g=s==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=n;const x=document.createElement("style");l&&(x.nonce=l);const y=a??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),r.jsx(Wje,{isPresent:t,childRef:i,sizeRef:o,children:f.cloneElement(e,{ref:c})})}const qje=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=H0(Gje),u=f.useId();let h=!0,m=f.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:s,custom:n,onExitComplete:p=>{d.set(p,!0);for(const g of d.values())if(!g)return;a&&a()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[s,d,a]);return i&&h&&(m={...m}),f.useMemo(()=>{d.forEach((p,g)=>d.set(g,!1))},[s]),f.useEffect(()=>{!s&&!d.size&&a&&a()},[s]),o==="popLayout"&&(e=r.jsx(Hje,{isPresent:s,anchorX:l,root:c,children:e})),r.jsx(AC.Provider,{value:m,children:e})};function Gje(){return new Map}function $X(e=!0){const t=f.useContext(AC);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:n}=t,i=f.useId();f.useEffect(()=>{if(e)return n(i)},[e]);const o=f.useCallback(()=>e&&a&&a(i),[i,a,e]);return!s&&a?[!1,o]:[!0]}const W1=e=>e.key||"";function U$(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const Wn=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=$X(o),h=f.useMemo(()=>U$(e),[e]),m=o&&!d?[]:h.map(W1),p=f.useRef(!0),g=f.useRef(h),x=H0(()=>new Map),[y,b]=f.useState(h),[w,v]=f.useState(h);CC(()=>{p.current=!1,g.current=h;for(let k=0;k<w.length;k++){const N=W1(w[k]);m.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[w,m.length,m.join("-")]);const S=[];if(h!==y){let k=[...h];for(let N=0;N<w.length;N++){const C=w[N],A=W1(C);m.includes(A)||(k.splice(N,0,C),S.push(C))}return i==="wait"&&S.length&&(k=S),v(U$(k)),b(h),null}const{forceRender:j}=f.useContext(YI);return r.jsx(r.Fragment,{children:w.map(k=>{const N=W1(k),C=o&&!d?!1:h===w||m.includes(N),A=()=>{if(x.has(N))x.set(N,!0);else return;let E=!0;x.forEach(D=>{D||(E=!1)}),E&&(j==null||j(),v(g.current),o&&(u==null||u()),a&&a())};return r.jsx(qje,{isPresent:C,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:C?void 0:A,anchorX:l,children:k},N)})})},BX=f.createContext({strict:!1}),V$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gg={};for(const e in V$)Gg[e]={isEnabled:t=>V$[e].some(s=>!!t[s])};function Kje(e){for(const t in e)Gg[t]={...Gg[t],...e[t]}}const Yje=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rS(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Yje.has(e)}let UX=e=>!rS(e);function Xje(e){typeof e=="function"&&(UX=t=>t.startsWith("on")?!rS(t):e(t))}try{Xje(require("@emotion/is-prop-valid").default)}catch{}function Qje(e,t,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(UX(n)||s===!0&&rS(n)||!t&&!rS(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}const PC=f.createContext({});function TC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ub(e){return typeof e=="string"||Array.isArray(e)}const b3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w3=["initial",...b3];function _C(e){return TC(e.animate)||w3.some(t=>Ub(e[t]))}function VX(e){return!!(_C(e)||e.variants)}function Jje(e,t){if(_C(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Ub(s)?s:void 0,animate:Ub(a)?a:void 0}}return e.inherit!==!1?t:{}}function Zje(e){const{initial:t,animate:s}=Jje(e,f.useContext(PC));return f.useMemo(()=>({initial:t,animate:s}),[z$(t),z$(s)])}function z$(e){return Array.isArray(e)?e.join(" "):e}const Vb={};function e1e(e){for(const t in e)Vb[t]=e[t],a3(t)&&(Vb[t].isCSSVariable=!0)}function zX(e,{layout:t,layoutId:s}){return K0.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Vb[e]||e==="opacity")}const t1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r1e=G0.length;function s1e(e,t,s){let a="",n=!0;for(let i=0;i<r1e;i++){const o=G0[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=OX(l,p3[o]);if(!c){n=!1;const u=t1e[o]||o;a+=`${u}(${d}) `}s&&(t[o]=d)}}return a=a.trim(),s?a=s(t,n?"":a):n&&(a="none"),a}function j3(e,t,s){const{style:a,vars:n,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(K0.has(c)){o=!0;continue}else if(a3(c)){n[c]=d;continue}else{const u=OX(d,p3[c]);c.startsWith("origin")?(l=!0,i[c]=u):a[c]=u}}if(t.transform||(o||s?a.transform=s1e(t,e.transform,s):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const N3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WX(e,t,s){for(const a in t)!gi(t[a])&&!zX(a,s)&&(e[a]=t[a])}function a1e({transformTemplate:e},t){return f.useMemo(()=>{const s=N3();return j3(s,t,e),Object.assign({},s.vars,s.style)},[t])}function n1e(e,t){const s=e.style||{},a={};return WX(a,s,e),Object.assign(a,a1e(e,t)),a}function i1e(e,t){const s={},a=n1e(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const o1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},l1e={offset:"strokeDashoffset",array:"strokeDasharray"};function c1e(e,t,s=1,a=0,n=!0){e.pathLength=1;const i=n?o1e:l1e;e[i.offset]=Wr.transform(-a);const o=Wr.transform(t),l=Wr.transform(s);e[i.array]=`${o} ${l}`}function HX(e,{attrX:t,attrY:s,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(j3(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),n!==void 0&&c1e(h,n,i,o,!1)}const qX=()=>({...N3(),attrs:{}}),GX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function d1e(e,t,s,a){const n=f.useMemo(()=>{const i=qX();return HX(i,t,GX(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};WX(i,e.style,e),n.style={...i,...n.style}}return n}const u1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S3(e){return typeof e!="string"||e.includes("-")?!1:!!(u1e.indexOf(e)>-1||/[A-Z]/u.test(e))}function h1e(e,t,s,{latestValues:a},n,i=!1){const l=(S3(e)?d1e:i1e)(t,a,n,e),c=Qje(t,typeof e=="string",i),d=e!==f.Fragment?{...c,...l,ref:s}:{},{children:u}=t,h=f.useMemo(()=>gi(u)?u.get():u,[u]);return f.createElement(e,{...d,children:h})}function W$(e){const t=[{},{}];return e==null||e.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function k3(e,t,s,a){if(typeof t=="function"){const[n,i]=W$(a);t=t(s!==void 0?s:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=W$(a);t=t(s!==void 0?s:e.custom,n,i)}return t}function r2(e){return gi(e)?e.get():e}function m1e({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,n){return{latestValues:f1e(s,a,n,e),renderState:t()}}function f1e(e,t,s,a){const n={},i=a(e,{});for(const m in i)n[m]=r2(i[m]);let{initial:o,animate:l}=e;const c=_C(e),d=VX(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!TC(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=k3(e,m[p]);if(g){const{transitionEnd:x,transition:y,...b}=g;for(const w in b){let v=b[w];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(n[w]=v)}for(const w in x)n[w]=x[w]}}}return n}const KX=e=>(t,s)=>{const a=f.useContext(PC),n=f.useContext(AC),i=()=>m1e(e,t,a,n);return s?i():H0(i)};function C3(e,t,s){var i;const{style:a}=e,n={};for(const o in a)(gi(a[o])||t.style&&gi(t.style[o])||zX(o,e)||((i=s==null?void 0:s.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(n[o]=a[o]);return n}const p1e=KX({scrapeMotionValuesFromProps:C3,createRenderState:N3});function YX(e,t,s){const a=C3(e,t,s);for(const n in e)if(gi(e[n])||gi(t[n])){const i=G0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=e[n]}return a}const x1e=KX({scrapeMotionValuesFromProps:YX,createRenderState:qX}),g1e=Symbol.for("motionComponentSymbol");function Ux(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v1e(e,t,s){return f.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Ux(s)&&(s.current=a))},[t])}const A3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y1e="framerAppearId",XX="data-"+A3(y1e),QX=f.createContext({});function b1e(e,t,s,a,n){var x,y;const{visualElement:i}=f.useContext(PC),o=f.useContext(BX),l=f.useContext(AC),c=f.useContext(xj).reducedMotion,d=f.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=f.useContext(QX);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&w1e(d.current,s,n,h);const m=f.useRef(!1);f.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const p=s[XX],g=f.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return CC(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),g.current=!1),u.enteringChildren=void 0)}),u}function w1e(e,t,s,a){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:JX(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&Ux(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function JX(e){if(e)return e.options.allowProjection!==!1?e.projection:JX(e.parent)}function CP(e,{forwardMotionProps:t=!1}={},s,a){s&&Kje(s);const n=S3(e)?x1e:p1e;function i(l,c){let d;const u={...f.useContext(xj),...l,layoutId:j1e(l)},{isStatic:h}=u,m=Zje(l),p=n(l,h);if(!h&&XI){N1e();const g=S1e(u);d=g.MeasureLayout,m.visualElement=b1e(e,p,u,a,g.ProjectionNode)}return r.jsxs(PC.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,h1e(e,l,v1e(p,m.visualElement,c),p,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=f.forwardRef(i);return o[g1e]=e,o}function j1e({layoutId:e}){const t=f.useContext(YI).id;return t&&e!==void 0?t+"-"+e:e}function N1e(e,t){f.useContext(BX).strict}function S1e(e){const{drag:t,layout:s}=Gg;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function k1e(e,t){if(typeof Proxy>"u")return CP;const s=new Map,a=(i,o)=>CP(i,o,e,t),n=(i,o)=>a(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?a:(s.has(o)||s.set(o,CP(o,void 0,e,t)),s.get(o))})}function ZX({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function C1e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function A1e(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function AP(e){return e===void 0||e===1}function L_({scale:e,scaleX:t,scaleY:s}){return!AP(e)||!AP(t)||!AP(s)}function ff(e){return L_(e)||eQ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eQ(e){return H$(e.x)||H$(e.y)}function H$(e){return e&&e!=="0%"}function sS(e,t,s){const a=e-s,n=t*a;return s+n}function q$(e,t,s,a,n){return n!==void 0&&(e=sS(e,n,a)),sS(e,s,a)+t}function $_(e,t=0,s=1,a,n){e.min=q$(e.min,t,s,a,n),e.max=q$(e.max,t,s,a,n)}function tQ(e,{x:t,y:s}){$_(e.x,t.translate,t.scale,t.originPoint),$_(e.y,s.translate,s.scale,s.originPoint)}const G$=.999999999999,K$=1.0000000000001;function E1e(e,t,s,a=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zx(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tQ(e,o)),a&&ff(i.latestValues)&&zx(e,i.latestValues))}t.x<K$&&t.x>G$&&(t.x=1),t.y<K$&&t.y>G$&&(t.y=1)}function Vx(e,t){e.min=e.min+t,e.max=e.max+t}function Y$(e,t,s,a,n=.5){const i=Ja(e.min,e.max,n);$_(e,t,s,i,a)}function zx(e,t){Y$(e.x,t.x,t.scaleX,t.scale,t.originX),Y$(e.y,t.y,t.scaleY,t.scale,t.originY)}function rQ(e,t){return ZX(A1e(e.getBoundingClientRect(),t))}function P1e(e,t,s){const a=rQ(e,s),{scroll:n}=t;return n&&(Vx(a.x,n.offset.x),Vx(a.y,n.offset.y)),a}const X$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wx=()=>({x:X$(),y:X$()}),Q$=()=>({min:0,max:0}),jn=()=>({x:Q$(),y:Q$()}),B_={current:null},sQ={current:!1};function T1e(){if(sQ.current=!0,!!XI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>B_.current=e.matches;e.addEventListener("change",t),t()}else B_.current=!1}const _1e=new WeakMap;function D1e(e,t,s){for(const a in t){const n=t[a],i=s[a];if(gi(n))e.addValue(a,n);else if(gi(i))e.addValue(a,Yc(n,{owner:e}));else if(i!==n)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(a);e.addValue(a,Yc(o!==void 0?o:n,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const J$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O1e{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=m3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ho.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,aa.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=_C(s),this.isVariantNode=VX(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&gi(p)&&p.set(c[m])}}mount(t){var s;this.current=t,_1e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),sQ.current||T1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B_.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),od(this.notifyUpdate),od(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=K0.has(t);a&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&aa.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gg){const s=Gg[t];if(!s)continue;const{isEnabled:a,Feature:n}=s;if(!this.features[t]&&n&&a(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<J$.length;a++){const n=J$[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=D1e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Yc(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(GY(a)||YY(a))?a=parseFloat(a):!Uje(a)&&km.test(s)&&(a=_X(t,s)),this.setBaseTarget(t,gi(a)?a.get():a)),gi(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const o=k3(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(s&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!gi(n)?n:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new e3),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){g3.render(this.render)}}class aQ extends O1e{constructor(){super(...arguments),this.KeyframeResolver=yje}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gi(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function nQ(e,{style:t,vars:s},a,n){const i=e.style;let o;for(o in t)i[o]=t[o];n==null||n.applyProjectionStyles(i,a);for(o in s)i.setProperty(o,s[o])}function I1e(e){return window.getComputedStyle(e)}class R1e extends aQ{constructor(){super(...arguments),this.type="html",this.renderInstance=nQ}readValueFromInstance(t,s){var a;if(K0.has(s))return(a=this.projection)!=null&&a.isProjecting?__(s):$we(t,s);{const n=I1e(t),i=(a3(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return rQ(t,s)}build(t,s,a){j3(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return C3(t,s,a)}}const iQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M1e(e,t,s,a){nQ(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(iQ.has(n)?n:A3(n),t.attrs[n])}class F1e extends aQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(K0.has(s)){const a=TX(s);return a&&a.default||0}return s=iQ.has(s)?s:A3(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return YX(t,s,a)}build(t,s,a){HX(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,n){M1e(t,s,a,n)}mount(t){this.isSVGTag=GX(t.tagName),super.mount(t)}}const L1e=(e,t)=>S3(e)?new F1e(t):new R1e(t,{allowProjection:e!==f.Fragment});function ug(e,t,s){const a=e.getProps();return k3(a,t,s!==void 0?s:a.custom,e)}const U_=e=>Array.isArray(e);function $1e(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Yc(s))}function B1e(e){return U_(e)?e[e.length-1]||0:e}function U1e(e,t){const s=ug(e,t);let{transitionEnd:a={},transition:n={},...i}=s||{};i={...i,...a};for(const o in i){const l=B1e(i[o]);$1e(e,o,l)}}function V1e(e){return!!(gi(e)&&e.add)}function V_(e,t){const s=e.getValue("willChange");if(V1e(s))return s.add(t);if(!s&&Ku.WillChange){const a=new Ku.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function oQ(e){return e.props[XX]}const z1e=e=>e!==null;function W1e(e,{repeat:t,repeatType:s="loop"},a){const n=e.filter(z1e),i=t&&s!=="loop"&&t%2===1?0:n.length-1;return!i||a===void 0?n[i]:a}const H1e={type:"spring",stiffness:500,damping:25,restSpeed:10},q1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G1e={type:"keyframes",duration:.8},K1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y1e=(e,{keyframes:t})=>t.length>2?G1e:K0.has(e)?e.startsWith("scale")?q1e(t[1]):H1e:K1e;function X1e({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const E3=(e,t,s,a={},n,i)=>o=>{const l=f3(a,e)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-qd(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:n};X1e(l)||Object.assign(u,Y1e(e,u)),u.duration&&(u.duration=qd(u.duration)),u.repeatDelay&&(u.repeatDelay=qd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(M_(u),u.delay===0&&(h=!0)),(Ku.instantAnimations||Ku.skipAnimations)&&(h=!0,M_(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const m=W1e(u.keyframes,l);if(m!==void 0){aa.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new EC(u):new oje(u)};function Q1e({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function lQ(e,t,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&Q1e(d,u))continue;const p={delay:s,...f3(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=oQ(e);if(b){const w=window.MotionHandoffAnimation(b,u,aa);w!==null&&(p.startTime=w,x=!0)}}V_(e,u),h.start(E3(u,h,m,e.shouldReduceMotion&&AX.has(u)?{type:!1}:p,e,x));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{aa.update(()=>{o&&U1e(e,o)})}),c}function cQ(e,t,s,a=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*a;return typeof s=="function"?s(i,o):n===1?i*a:l-i*a}function z_(e,t,s={}){var c;const a=ug(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(lQ(e,a,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=n;return J1e(e,t,d,u,h,m,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function J1e(e,t,s=0,a=0,n=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(z_(c,t,{...o,delay:s+(typeof a=="function"?0:a)+cQ(e.variantChildren,c,a,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Z1e(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>z_(e,i,s));a=Promise.all(n)}else if(typeof t=="string")a=z_(e,t,s);else{const n=typeof t=="function"?ug(e,t,s.custom):t;a=Promise.all(lQ(e,n,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function dQ(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const eNe=w3.length;function uQ(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?uQ(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<eNe;s++){const a=w3[s],n=e.props[a];(Ub(n)||n===!1)&&(t[a]=n)}return t}const tNe=[...b3].reverse(),rNe=b3.length;function sNe(e){return t=>Promise.all(t.map(({animation:s,options:a})=>Z1e(e,s,a)))}function aNe(e){let t=sNe(e),s=Z$(),a=!0;const n=c=>(d,u)=>{var m;const h=ug(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;d={...d,...x,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=uQ(e.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let y=0;y<rNe;y++){const b=tNe[y],w=s[b],v=d[b]!==void 0?d[b]:u[b],S=Ub(v),j=b===c?w.isActive:null;j===!1&&(g=y);let k=v===u[b]&&v!==d[b]&&S;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...p},!w.isActive&&j===null||!v&&!w.prevProp||TC(v)||typeof v=="boolean")continue;const N=nNe(w.prevProp,v);let C=N||b===c&&w.isActive&&!k&&S||y>g&&S,A=!1;const E=Array.isArray(v)?v:[v];let D=E.reduce(n(b),{});j===!1&&(D={});const{prevResolvedValues:T={}}=w,P={...T,...D},_=I=>{C=!0,m.has(I)&&(A=!0,m.delete(I)),w.needsAnimating[I]=!0;const R=e.getValue(I);R&&(R.liveStyle=!1)};for(const I in P){const R=D[I],L=T[I];if(p.hasOwnProperty(I))continue;let K=!1;U_(R)&&U_(L)?K=!dQ(R,L):K=R!==L,K?R!=null?_(I):m.add(I):R!==void 0&&m.has(I)?_(I):w.protectedKeys[I]=!0}w.prevProp=v,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),a&&e.blockInitialAnimation&&(C=!1);const O=k&&N;C&&(!O||A)&&h.push(...E.map(I=>{const R={type:b};if(typeof I=="string"&&a&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,K=ug(L,I);if(L.enteringChildren&&K){const{delayChildren:H}=K.transition||{};R.delay=cQ(L.enteringChildren,e,H)}}return{animation:I,options:R}}))}if(m.size){const y={};if(typeof d.initial!="boolean"){const b=ug(e,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(y.transition=b.transition)}m.forEach(b=>{const w=e.getBaseTarget(b),v=e.getValue(b);v&&(v.liveStyle=!0),y[b]=w??null}),h.push({animation:y})}let x=!!h.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(h):Promise.resolve()}function l(c,d){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Z$()}}}function nNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dQ(t,e):!1}function rf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z$(){return{animate:rf(!0),whileInView:rf(),whileHover:rf(),whileTap:rf(),whileDrag:rf(),whileFocus:rf(),exit:rf()}}class Vm{constructor(t){this.isMounted=!1,this.node=t}update(){}}class iNe extends Vm{constructor(t){super(t),t.animationState||(t.animationState=aNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();TC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let oNe=0;class lNe extends Vm{constructor(){super(...arguments),this.id=oNe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const cNe={animation:{Feature:iNe},exit:{Feature:lNe}};function zb(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function gj(e){return{point:{x:e.pageX,y:e.pageY}}}const dNe=e=>t=>v3(t)&&e(t,gj(t));function Vy(e,t,s,a){return zb(e,t,dNe(s),a)}const hQ=1e-4,uNe=1-hQ,hNe=1+hQ,mQ=.01,mNe=0-mQ,fNe=0+mQ;function yo(e){return e.max-e.min}function pNe(e,t,s){return Math.abs(e-t)<=s}function e8(e,t,s,a=.5){e.origin=a,e.originPoint=Ja(t.min,t.max,e.origin),e.scale=yo(s)/yo(t),e.translate=Ja(s.min,s.max,e.origin)-e.originPoint,(e.scale>=uNe&&e.scale<=hNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=mNe&&e.translate<=fNe||isNaN(e.translate))&&(e.translate=0)}function zy(e,t,s,a){e8(e.x,t.x,s.x,a?a.originX:void 0),e8(e.y,t.y,s.y,a?a.originY:void 0)}function t8(e,t,s){e.min=s.min+t.min,e.max=e.min+yo(t)}function xNe(e,t,s){t8(e.x,t.x,s.x),t8(e.y,t.y,s.y)}function r8(e,t,s){e.min=t.min-s.min,e.max=e.min+yo(t)}function Wy(e,t,s){r8(e.x,t.x,s.x),r8(e.y,t.y,s.y)}function Wl(e){return[e("x"),e("y")]}const fQ=({current:e})=>e?e.ownerDocument.defaultView:null,s8=(e,t)=>Math.abs(e-t);function gNe(e,t){const s=s8(e.x,t.x),a=s8(e.y,t.y);return Math.sqrt(s**2+a**2)}class pQ{constructor(t,s,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=PP(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=gNe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:x}=m,{timestamp:y}=ci;this.history.push({...x,timestamp:y});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=EP(p,this.transformPagePoint),aa.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=PP(m.type==="pointercancel"?this.lastMoveEventInfo:EP(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),x&&x(m,b)},!v3(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=n||window;const l=gj(t),c=EP(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=ci;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,PP(c,this.history)),this.removeListeners=mj(Vy(this.contextWindow,"pointermove",this.handlePointerMove),Vy(this.contextWindow,"pointerup",this.handlePointerUp),Vy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),od(this.updatePoint)}}function EP(e,t){return t?{point:t(e.point)}:e}function a8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function PP({point:e},t){return{point:e,delta:a8(e,xQ(t)),offset:a8(e,vNe(t)),velocity:yNe(t,.1)}}function vNe(e){return e[0]}function xQ(e){return e[e.length-1]}function yNe(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=xQ(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>qd(t)));)s--;if(!a)return{x:0,y:0};const i=ac(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bNe(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Ja(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Ja(s,e,a.max):Math.min(e,s)),e}function n8(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function wNe(e,{top:t,left:s,bottom:a,right:n}){return{x:n8(e.x,s,n),y:n8(e.y,t,a)}}function i8(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function jNe(e,t){return{x:i8(e.x,t.x),y:i8(e.y,t.y)}}function NNe(e,t){let s=.5;const a=yo(e),n=yo(t);return n>a?s=qg(t.min,t.max-a,e.min):a>n&&(s=qg(e.min,e.max-n,t.min)),tu(0,1,s)}function SNe(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const W_=.35;function kNe(e=W_){return e===!1?e=0:e===!0&&(e=W_),{x:o8(e,"left","right"),y:o8(e,"top","bottom")}}function o8(e,t,s){return{min:l8(e,t),max:l8(e,s)}}function l8(e,t){return typeof e=="number"?e:e[t]||0}const CNe=new WeakMap;class ANe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(gj(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jje(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wl(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Gd.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[b];S&&(w=yo(S)*(parseFloat(w)/100))}}this.originPoint[b]=w}),x&&aa.postRender(()=>x(h,m)),V_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=m;if(g&&this.currentDirection===null){this.currentDirection=ENe(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),y&&y(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Wl(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new pQ(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:fQ(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,n=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&aa.postRender(()=>l(a,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:n}=this.getProps();if(!a||!H1(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=bNe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&Ux(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=wNe(a.layoutBox,t):this.constraints=!1,this.elastic=kNe(s),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Wl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SNe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ux(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=P1e(a,n.root,this.visualElement.getTransformPagePoint());let o=jNe(n.layout.layoutBox,i);if(s){const l=s(C1e(o));this.hasMutatedConstraints=!!l,l&&(o=ZX(l))}return o}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Wl(u=>{if(!H1(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=n?200:1e6,p=n?40:1e7,g={type:"inertia",velocity:a?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return V_(this.visualElement,t),a.start(E3(t,a,0,s,this.visualElement,!1))}stopAnimation(){Wl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wl(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Wl(s=>{const{drag:a}=this.getProps();if(!H1(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];i.set(t[s]-Ja(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Ux(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Wl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=NNe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Wl(o=>{if(!H1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ja(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;CNe.set(this.visualElement,this);const t=this.visualElement.current,s=Vy(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Ux(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),aa.read(a);const o=zb(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wl(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=W_,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function H1(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function ENe(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class PNe extends Vm{constructor(t){super(t),this.removeGroupControls=Zo,this.removeListeners=Zo,this.controls=new ANe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zo}unmount(){this.removeGroupControls(),this.removeListeners()}}const c8=e=>(t,s)=>{e&&aa.postRender(()=>e(t,s))};class TNe extends Vm{constructor(){super(...arguments),this.removePointerDownListener=Zo}onPointerDown(t){this.session=new pQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fQ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:c8(t),onStart:c8(s),onMove:a,onEnd:(i,o)=>{delete this.session,n&&aa.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=Vy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const s2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $v={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wr.test(e))e=parseFloat(e);else return e;const s=d8(e,t.target.x),a=d8(e,t.target.y);return`${s}% ${a}%`}},_Ne={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,n=km.parse(e);if(n.length>5)return a;const i=km.createTransformer(e),o=typeof n[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const d=Ja(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),i(n)}};let TP=!1;class DNe extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;e1e(ONe),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),TP&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),s2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,TP=!0,n||t.layoutDependency!==s||s===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||aa.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),g3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=t;TP=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gQ(e){const[t,s]=$X(),a=f.useContext(YI);return r.jsx(DNe,{...e,layoutGroup:a,switchLayoutGroup:f.useContext(QX),isPresent:t,safeToRemove:s})}const ONe={borderRadius:{...$v,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$v,borderTopRightRadius:$v,borderBottomLeftRadius:$v,borderBottomRightRadius:$v,boxShadow:_Ne};function INe(e,t,s){const a=gi(e)?e:Yc(e);return a.start(E3("",a,t,s)),a.animation}const RNe=(e,t)=>e.depth-t.depth;class MNe{constructor(){this.children=[],this.isDirty=!1}add(t){QI(this.children,t),this.isDirty=!0}remove(t){JI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(RNe),this.isDirty=!1,this.children.forEach(t)}}function FNe(e,t){const s=Ho.now(),a=({timestamp:n})=>{const i=n-s;i>=t&&(od(a),e(i-t))};return aa.setup(a,!0),()=>od(a)}const vQ=["TopLeft","TopRight","BottomLeft","BottomRight"],LNe=vQ.length,u8=e=>typeof e=="string"?parseFloat(e):e,h8=e=>typeof e=="number"||Wr.test(e);function $Ne(e,t,s,a,n,i){n?(e.opacity=Ja(0,s.opacity??1,BNe(a)),e.opacityExit=Ja(t.opacity??1,0,UNe(a))):i&&(e.opacity=Ja(t.opacity??1,s.opacity??1,a));for(let o=0;o<LNe;o++){const l=`border${vQ[o]}Radius`;let c=m8(t,l),d=m8(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||h8(c)===h8(d)?(e[l]=Math.max(Ja(u8(c),u8(d),a),0),(Gd.test(d)||Gd.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Ja(t.rotate||0,s.rotate||0,a))}function m8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BNe=yQ(0,.5,rX),UNe=yQ(.5,.95,Zo);function yQ(e,t,s){return a=>a<e?0:a>t?1:s(qg(e,t,a))}function f8(e,t){e.min=t.min,e.max=t.max}function Il(e,t){f8(e.x,t.x),f8(e.y,t.y)}function p8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x8(e,t,s,a,n){return e-=t,e=sS(e,1/s,a),n!==void 0&&(e=sS(e,1/n,a)),e}function VNe(e,t=0,s=1,a=.5,n,i=e,o=e){if(Gd.test(t)&&(t=parseFloat(t),t=Ja(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ja(i.min,i.max,a);e===i&&(l-=t),e.min=x8(e.min,t,s,l,n),e.max=x8(e.max,t,s,l,n)}function g8(e,t,[s,a,n],i,o){VNe(e,t[s],t[a],t[n],t.scale,i,o)}const zNe=["x","scaleX","originX"],WNe=["y","scaleY","originY"];function v8(e,t,s,a){g8(e.x,t,zNe,s?s.x:void 0,a?a.x:void 0),g8(e.y,t,WNe,s?s.y:void 0,a?a.y:void 0)}function y8(e){return e.translate===0&&e.scale===1}function bQ(e){return y8(e.x)&&y8(e.y)}function b8(e,t){return e.min===t.min&&e.max===t.max}function HNe(e,t){return b8(e.x,t.x)&&b8(e.y,t.y)}function w8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wQ(e,t){return w8(e.x,t.x)&&w8(e.y,t.y)}function j8(e){return yo(e.x)/yo(e.y)}function N8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qNe{constructor(){this.members=[]}add(t){QI(this.members,t),t.scheduleRender()}remove(t){if(JI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GNe(e,t,s){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((n||i||o)&&(a=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:g}=s;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),h&&(a+=`rotateX(${h}deg) `),m&&(a+=`rotateY(${m}deg) `),p&&(a+=`skewX(${p}deg) `),g&&(a+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const _P=["","X","Y","Z"],KNe=1e3;let YNe=0;function DP(e,t,s,a){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),a&&(a[e]=0))}function jQ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=oQ(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",aa,!(n||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&jQ(a)}function NQ({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=YNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JNe),this.nodes.forEach(r2e),this.nodes.forEach(s2e),this.nodes.forEach(ZNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new MNe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=y3(o)&&!Fje(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;aa.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=FNe(m,250),s2.hasAnimatedSinceResize&&(s2.hasAnimatedSinceResize=!1,this.nodes.forEach(C8)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||l2e,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),b=!this.targetLayout||!wQ(this.targetLayout,p),w=!h&&m;if(this.options.layoutRoot||this.resumeFrom||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...f3(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,w)}else h||C8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),od(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(t2e),this.nodes.forEach(XNe),this.nodes.forEach(QNe)):this.nodes.forEach(k8),this.clearAllSnapshots();const l=Ho.now();ci.delta=tu(0,1e3/60,l-ci.timestamp),ci.timestamp=l,ci.isProcessing=!0,bP.update.process(ci),bP.preRender.process(ci),bP.render.process(ci),ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e2e),this.sharedNodes.forEach(n2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yo(this.snapshot.measuredBox.x)&&!yo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bQ(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ff(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),c2e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return jn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(d2e))){const{scroll:u}=this.root;u&&(Vx(l.x,u.offset.x),Vx(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=jn();if(Il(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Il(l,o),Vx(l.x,h.offset.x),Vx(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=jn();Il(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zx(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ff(u.latestValues)&&zx(c,u.latestValues)}return ff(this.latestValues)&&zx(c,this.latestValues),c}removeTransform(o){const l=jn();Il(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ff(d.latestValues))continue;L_(d.latestValues)&&d.updateSnapshot();const u=jn(),h=d.measurePageBox();Il(u,h),v8(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ff(this.latestValues)&&v8(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ci.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Wy(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Il(this.target,this.layout.layoutBox),tQ(this.target,this.targetDelta)):Il(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),Wy(this.relativeTargetOrigin,this.target,p.target),Il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||L_(this.parent.latestValues)||eQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ci.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Il(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;E1e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p8(this.prevProjectionDelta.x,this.projectionDelta.x),p8(this.prevProjectionDelta.y,this.projectionDelta.y)),zy(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!N8(this.projectionDelta.x,this.prevProjectionDelta.x)||!N8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wx(),this.projectionDelta=Wx(),this.projectionDeltaWithTransform=Wx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Wx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=jn(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,y=this.getStack(),b=!y||y.members.length<=1,w=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(o2e));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const j=S/1e3;A8(h.x,o.x,j),A8(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i2e(this.relativeTarget,this.relativeTargetOrigin,m,j),v&&HNe(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=jn()),Il(v,this.relativeTarget)),x&&(this.animationValues=u,$Ne(u,d,this.latestValues,j,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(od(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aa.update(()=>{s2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yc(0)),this.currentAnimation=INe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&SQ(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||jn();const h=yo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=yo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Il(l,c),zx(l,u),zy(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qNe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&DP("z",o,d,this.animationValues);for(let u=0;u<_P.length;u++)DP(`rotate${_P[u]}`,o,d,this.animationValues),DP(`skew${_P[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=r2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=r2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ff(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=GNe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Vb){if(u[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:b}=Vb[g],w=h==="none"?u[g]:x(u[g],d);if(y){const v=y.length;for(let S=0;S<v;S++)o[y[S]]=w}else b?this.options.visualElement.renderState.vars[g]=w:o[g]=w}this.options.layoutId&&(o.pointerEvents=d===this?r2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(S8),this.root.sharedNodes.clear()}}}function XNe(e){e.updateLayout()}function QNe(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Wl(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=yo(m);m.min=a[h].min,m.max=m.min+p}):SQ(i,t.layoutBox,a)&&Wl(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=yo(a[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Wx();zy(l,a,t.layoutBox);const c=Wx();o?zy(c,e.applyTransform(n,!0),t.measuredBox):zy(c,a,t.layoutBox);const d=!bQ(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=jn();Wy(g,t.layoutBox,m.layoutBox);const x=jn();Wy(x,a,p.layoutBox),wQ(g,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function JNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function e2e(e){e.clearSnapshot()}function S8(e){e.clearMeasurements()}function k8(e){e.isLayoutDirty=!1}function t2e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function C8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r2e(e){e.resolveTargetDelta()}function s2e(e){e.calcProjection()}function a2e(e){e.resetSkewAndRotation()}function n2e(e){e.removeLeadSnapshot()}function A8(e,t,s){e.translate=Ja(t.translate,0,s),e.scale=Ja(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function E8(e,t,s,a){e.min=Ja(t.min,s.min,a),e.max=Ja(t.max,s.max,a)}function i2e(e,t,s,a){E8(e.x,t.x,s.x,a),E8(e.y,t.y,s.y,a)}function o2e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const l2e={duration:.45,ease:[.4,0,.1,1]},P8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),T8=P8("applewebkit/")&&!P8("chrome/")?Math.round:Zo;function _8(e){e.min=T8(e.min),e.max=T8(e.max)}function c2e(e){_8(e.x),_8(e.y)}function SQ(e,t,s){return e==="position"||e==="preserve-aspect"&&!pNe(j8(t),j8(s),.2)}function d2e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const u2e=NQ({attachResizeListener:(e,t)=>zb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OP={current:void 0},kQ=NQ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!OP.current){const e=new u2e({});e.mount(window),e.setOptions({layoutScroll:!0}),OP.current=e}return OP.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),h2e={pan:{Feature:TNe},drag:{Feature:PNe,ProjectionNode:kQ,MeasureLayout:gQ}};function D8(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,i=a[n];i&&aa.postRender(()=>i(t,gj(t)))}class m2e extends Vm{mount(){const{current:t}=this.node;t&&(this.unmount=Nje(t,(s,a)=>(D8(this.node,a,"Start"),n=>D8(this.node,n,"End"))))}unmount(){}}class f2e extends Vm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mj(zb(this.node.current,"focus",()=>this.onFocus()),zb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O8(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),i=a[n];i&&aa.postRender(()=>i(t,gj(t)))}class p2e extends Vm{mount(){const{current:t}=this.node;t&&(this.unmount=Aje(t,(s,a)=>(O8(this.node,a,"Start"),(n,{success:i})=>O8(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H_=new WeakMap,IP=new WeakMap,x2e=e=>{const t=H_.get(e.target);t&&t(e)},g2e=e=>{e.forEach(x2e)};function v2e({root:e,...t}){const s=e||document;IP.has(s)||IP.set(s,{});const a=IP.get(s),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(g2e,{root:e,...t})),a[n]}function y2e(e,t,s){const a=v2e(t);return H_.set(e,s),a.observe(e),()=>{H_.delete(e),a.unobserve(e)}}const b2e={some:0,all:1};class w2e extends Vm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:b2e[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return y2e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(j2e(t,s))&&this.startObserver()}unmount(){}}function j2e({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const N2e={inView:{Feature:w2e},tap:{Feature:p2e},focus:{Feature:f2e},hover:{Feature:m2e}},S2e={layout:{ProjectionNode:kQ,MeasureLayout:gQ}},k2e={...cNe,...N2e,...h2e,...S2e},Me=k1e(k2e,L1e),C2e=50,I8=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),A2e=()=>({time:0,x:I8(),y:I8()}),E2e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function R8(e,t,s,a){const n=s[t],{length:i,position:o}=E2e[t],l=n.current,c=s.time;n.current=e[`scroll${o}`],n.scrollLength=e[`scroll${i}`]-e[`client${i}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=qg(0,n.scrollLength,n.current);const d=a-c;n.velocity=d>C2e?0:t3(n.current-l,d)}function P2e(e,t,s){R8(e,"x",t,s),R8(e,"y",t,s),t.time=s}function T2e(e,t){const s={x:0,y:0};let a=e;for(;a&&a!==t;)if(x3(a))s.x+=a.offsetLeft,s.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const n=a.getBoundingClientRect();a=a.parentElement;const i=a.getBoundingClientRect();s.x+=n.left-i.left,s.y+=n.top-i.top}else if(a instanceof SVGGraphicsElement){const{x:n,y:i}=a.getBBox();s.x+=n,s.y+=i;let o=null,l=a.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=a.parentNode;a=o}else break;return s}const q_={start:0,center:.5,end:1};function M8(e,t,s=0){let a=0;if(e in q_&&(e=q_[e]),typeof e=="string"){const n=parseFloat(e);e.endsWith("px")?a=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?a=n/100*document.documentElement.clientWidth:e.endsWith("vh")?a=n/100*document.documentElement.clientHeight:e=n}return typeof e=="number"&&(a=t*e),s+a}const _2e=[0,0];function D2e(e,t,s,a){let n=Array.isArray(e)?e:_2e,i=0,o=0;return typeof e=="number"?n=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,q_[e]?e:"0"]),i=M8(n[0],s,a),o=M8(n[1],t),i-o}const O2e={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},I2e={x:0,y:0};function R2e(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function M2e(e,t,s){const{offset:a=O2e.All}=s,{target:n=e,axis:i="y"}=s,o=i==="y"?"height":"width",l=n!==e?T2e(n,e):I2e,c=n===e?{width:e.scrollWidth,height:e.scrollHeight}:R2e(n),d={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const h=a.length;for(let m=0;m<h;m++){const p=D2e(a[m],d[o],c[o],l[i]);!u&&p!==t[i].interpolatorOffsets[m]&&(u=!0),t[i].offset[m]=p}u&&(t[i].interpolate=d3(t[i].offset,gX(a),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=tu(0,1,t[i].interpolate(t[i].current))}function F2e(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let a=t;for(;a&&a!==e;)s.x.targetOffset+=a.offsetLeft,s.y.targetOffset+=a.offsetTop,a=a.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function L2e(e,t,s,a={}){return{measure:n=>{F2e(e,a.target,s),P2e(e,s,n),(a.offset||a.target)&&M2e(e,s,a)},notify:()=>t(s)}}const Bv=new WeakMap,F8=new WeakMap,RP=new WeakMap,L8=e=>e===document.scrollingElement?window:e;function CQ(e,{container:t=document.scrollingElement,...s}={}){if(!t)return Zo;let a=RP.get(t);a||(a=new Set,RP.set(t,a));const n=A2e(),i=L2e(t,e,n,s);if(a.add(i),!Bv.has(t)){const l=()=>{for(const h of a)h.measure(ci.timestamp);aa.preUpdate(c)},c=()=>{for(const h of a)h.notify()},d=()=>aa.read(l);Bv.set(t,d);const u=L8(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&F8.set(t,Mje(t,d)),u.addEventListener("scroll",d,{passive:!0}),d()}const o=Bv.get(t);return aa.read(o,!1,!0),()=>{var d;od(o);const l=RP.get(t);if(!l||(l.delete(i),l.size))return;const c=Bv.get(t);Bv.delete(t),c&&(L8(t).removeEventListener("scroll",c),(d=F8.get(t))==null||d(),window.removeEventListener("resize",c))}}const $8=new Map;function $2e(e){const t={value:0},s=CQ(a=>{t.value=a[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function AQ({source:e,container:t,...s}){const{axis:a}=s;e&&(t=e);const n=$8.get(t)??new Map;$8.set(t,n);const i=s.target??"self",o=n.get(i)??{},l=a+(s.offset??[]).join(",");return o[l]||(o[l]=!s.target&&wX()?new ScrollTimeline({source:t,axis:a}):$2e({container:t,...s})),o[l]}function B2e(e,t){const s=AQ(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:a=>(a.pause(),LX(n=>{a.time=a.iterationDuration*n},s))})}function U2e(e){return e.length===2}function V2e(e,t){return U2e(e)?CQ(s=>{e(s[t.axis].progress,s)},t):LX(e,AQ(t))}function z2e(e,{axis:t="y",container:s=document.scrollingElement,...a}={}){if(!s)return Zo;const n={axis:t,container:s,...a};return typeof e=="function"?V2e(e,n):B2e(e,n)}const W2e=()=>({scrollX:Yc(0),scrollY:Yc(0),scrollXProgress:Yc(0),scrollYProgress:Yc(0)}),q1=e=>e?!e.current:!1;function H2e({container:e,target:t,...s}={}){const a=H0(W2e),n=f.useRef(null),i=f.useRef(!1),o=f.useCallback(()=>(n.current=z2e((l,{x:c,y:d})=>{a.scrollX.set(c.current),a.scrollXProgress.set(c.progress),a.scrollY.set(d.current),a.scrollYProgress.set(d.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=n.current)==null||l.call(n)}),[e,t,JSON.stringify(s.offset)]);return CC(()=>{if(i.current=!1,q1(e)||q1(t)){i.current=!0;return}else return o()},[o]),f.useEffect(()=>{if(i.current)return Hg(!q1(e)),Hg(!q1(t)),o()},[o]),a}function EQ(e){const t=H0(()=>Yc(e)),{isStatic:s}=f.useContext(xj);if(s){const[,a]=f.useState(e);f.useEffect(()=>t.on("change",a),[])}return t}function PQ(e,t){const s=EQ(t()),a=()=>s.set(t());return a(),CC(()=>{const n=()=>aa.preRender(a,!1,!0),i=e.map(o=>o.on("change",n));return()=>{i.forEach(o=>o()),od(a)}}),s}function q2e(e){Uy.current=[],e();const t=PQ(Uy.current,e);return Uy.current=void 0,t}function G2e(e,t,s,a){if(typeof e=="function")return q2e(e);const n=Lje(t,s,a);return Array.isArray(e)?B8(e,n):B8([e],([i])=>n(i))}function B8(e,t){const s=H0(()=>[]);return PQ(e,()=>{s.length=0;const a=e.length;for(let n=0;n<a;n++)s[n]=e[n].get();return t(s)})}function K2e(e,t={}){const{isStatic:s}=f.useContext(xj),a=()=>gi(e)?e.get():e;if(s)return G2e(a);const n=EQ(a());return f.useInsertionEffect(()=>$je(n,e,t),[n,JSON.stringify(t)]),n}const Y2e="9",X2e="/branding/saeaa-logo-v4.png",ai="",pi="Saeaa",G_="  ",K_="Your Digital Markets Platform",sl=()=>`${X2e}?v=${Y2e}`,P3="1.0.0";new Date().toISOString();const Y_="dev";function Mp({className:e="",showCommit:t=!0}){return r.jsx("div",{className:`text-center text-xs text-muted-foreground py-2 ${e}`,children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs("span",{children:["v",P3]}),t&&Y_!=="dev"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"opacity-50",children:""}),r.jsx("span",{className:"opacity-70 font-mono",children:Y_.substring(0,7)})]})]})})}const Q2e=({isGreeting:e=!1})=>{const[t,s]=f.useState(!1),[a,n]=f.useState(!1);return f.useEffect(()=>{const i=setInterval(()=>{s(!0),setTimeout(()=>s(!1),150)},2500);return()=>clearInterval(i)},[]),f.useEffect(()=>{if(e){const i=setTimeout(()=>{n(!0)},500);return()=>clearTimeout(i)}},[e]),r.jsxs(Me.div,{className:"relative",initial:{scale:.5,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",stiffness:200,damping:15},children:[r.jsx(Me.div,{className:"absolute inset-0 blur-3xl -z-10",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0},style:{background:"radial-gradient(circle, rgba(76, 217, 200, 0.5) 0%, transparent 70%)",transform:"scale(2)"}}),r.jsxs(Me.div,{className:"relative",animate:e?{y:[0,-25,0,-15,0],rotate:[0,-5,5,-3,0]}:{y:[0,-10,0]},transition:e?{duration:1,times:[0,.3,.5,.7,1]}:{duration:2,repeat:1/0,ease:"easeInOut"},children:[r.jsxs("svg",{width:"280",height:"320",viewBox:"0 0 280 320",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"drop-shadow-[0_0_40px_rgba(76,217,200,0.5)]",children:[r.jsxs("g",{className:"gift-cards",children:[r.jsxs(Me.g,{animate:{rotate:[-8,-12,-8],y:[0,-3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{transformOrigin:"70px 50px"},children:[r.jsx("rect",{x:"45",y:"20",width:"50",height:"70",rx:"8",fill:"#1a237e",stroke:"#4CD9C8",strokeWidth:"1.5"}),r.jsx("text",{x:"70",y:"60",textAnchor:"middle",fill:"#fff",fontSize:"24",fontWeight:"bold",children:"P"})]}),r.jsxs(Me.g,{animate:{rotate:[5,8,5],y:[0,-4,0]},transition:{duration:2.2,repeat:1/0,ease:"easeInOut",delay:.2},style:{transformOrigin:"115px 45px"},children:[r.jsx("rect",{x:"90",y:"10",width:"50",height:"70",rx:"8",fill:"#107c10",stroke:"#4CD9C8",strokeWidth:"1.5"}),r.jsx("text",{x:"115",y:"52",textAnchor:"middle",fill:"#fff",fontSize:"20",fontWeight:"bold",children:"X"})]}),r.jsxs(Me.g,{animate:{rotate:[12,16,12],y:[0,-3,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut",delay:.4},style:{transformOrigin:"160px 50px"},children:[r.jsx("rect",{x:"135",y:"15",width:"50",height:"70",rx:"8",fill:"#1b2838",stroke:"#4CD9C8",strokeWidth:"1.5"}),r.jsx("circle",{cx:"160",cy:"50",r:"12",fill:"none",stroke:"#fff",strokeWidth:"2"})]}),r.jsxs(Me.g,{animate:{rotate:[18,22,18],y:[0,-5,0]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut",delay:.3},style:{transformOrigin:"200px 55px"},children:[r.jsx("rect",{x:"175",y:"25",width:"50",height:"70",rx:"8",fill:"#232f3e",stroke:"#4CD9C8",strokeWidth:"1.5"}),r.jsx("text",{x:"200",y:"65",textAnchor:"middle",fill:"#ff9900",fontSize:"22",fontWeight:"bold",children:"a"})]})]}),r.jsx("rect",{x:"40",y:"100",width:"200",height:"160",rx:"24",fill:"url(#cartGradient)",stroke:"#4CD9C8",strokeWidth:"3"}),r.jsx("rect",{x:"50",y:"110",width:"180",height:"140",rx:"18",fill:"url(#innerGlow)",opacity:"0.5"}),r.jsxs(Me.g,{animate:t?{scaleY:.1}:{scaleY:1},transition:{duration:.1},style:{transformOrigin:"100px 170px"},children:[r.jsx(Me.ellipse,{cx:"100",cy:"170",rx:"28",ry:"35",fill:"url(#eyeGradient)",animate:e?{scale:[1,1.2,1]}:{},transition:{duration:.5,delay:.3}}),r.jsx("ellipse",{cx:"90",cy:"158",rx:"10",ry:"12",fill:"rgba(255,255,255,0.4)"}),r.jsx(Me.ellipse,{cx:"100",cy:"175",rx:"8",ry:"10",fill:"rgba(0,80,70,0.3)",animate:{y:[0,2,0]},transition:{duration:3,repeat:1/0}})]}),r.jsxs(Me.g,{animate:t?{scaleY:.1}:{scaleY:1},transition:{duration:.1},style:{transformOrigin:"180px 170px"},children:[r.jsx(Me.ellipse,{cx:"180",cy:"170",rx:"28",ry:"35",fill:"url(#eyeGradient)",animate:e?{scale:[1,1.2,1]}:{},transition:{duration:.5,delay:.4}}),r.jsx("ellipse",{cx:"170",cy:"158",rx:"10",ry:"12",fill:"rgba(255,255,255,0.4)"}),r.jsx(Me.ellipse,{cx:"180",cy:"175",rx:"8",ry:"10",fill:"rgba(0,80,70,0.3)",animate:{y:[0,2,0]},transition:{duration:3,repeat:1/0,delay:.5}})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx(Me.ellipse,{cx:"65",cy:"200",rx:"15",ry:"8",fill:"rgba(255,150,180,0.5)",initial:{opacity:0,scale:0},animate:{opacity:.6,scale:1},transition:{delay:.5}}),r.jsx(Me.ellipse,{cx:"215",cy:"200",rx:"15",ry:"8",fill:"rgba(255,150,180,0.5)",initial:{opacity:0,scale:0},animate:{opacity:.6,scale:1},transition:{delay:.5}})]}),r.jsx(Me.path,{d:"M 105 220 Q 140 255 175 220",stroke:"#4CD9C8",strokeWidth:"5",strokeLinecap:"round",fill:"none",animate:e?{d:["M 105 220 Q 140 255 175 220","M 100 215 Q 140 270 180 215","M 105 220 Q 140 255 175 220"]}:{},transition:{duration:.6,delay:.4},style:{filter:"drop-shadow(0 0 8px rgba(76, 217, 200, 0.8))"}}),r.jsx(Me.circle,{cx:"90",cy:"275",r:"18",fill:"#0d1520",stroke:"#4CD9C8",strokeWidth:"3",animate:{rotate:e?360:0},transition:{duration:1,ease:"linear"},style:{transformOrigin:"90px 275px"}}),r.jsx(Me.circle,{cx:"190",cy:"275",r:"18",fill:"#0d1520",stroke:"#4CD9C8",strokeWidth:"3",animate:{rotate:e?360:0},transition:{duration:1,ease:"linear"},style:{transformOrigin:"190px 275px"}}),r.jsx("circle",{cx:"90",cy:"275",r:"6",fill:"#4CD9C8"}),r.jsx("circle",{cx:"190",cy:"275",r:"6",fill:"#4CD9C8"}),r.jsx(Me.path,{d:"M 240 130 L 260 130 L 260 200 Q 260 220 240 220",stroke:"#4CD9C8",strokeWidth:"6",strokeLinecap:"round",fill:"none",animate:e?{x:[0,5,0]}:{},transition:{duration:.5,delay:.2}}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"cartGradient",x1:"40",y1:"100",x2:"40",y2:"260",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{offset:"0%",stopColor:"#1e2a3a"}),r.jsx("stop",{offset:"100%",stopColor:"#0d1520"})]}),r.jsxs("linearGradient",{id:"innerGlow",x1:"140",y1:"110",x2:"140",y2:"250",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{offset:"0%",stopColor:"#4CD9C8",stopOpacity:"0.1"}),r.jsx("stop",{offset:"100%",stopColor:"#4CD9C8",stopOpacity:"0"})]}),r.jsxs("linearGradient",{id:"eyeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#5fe3d3"}),r.jsx("stop",{offset:"100%",stopColor:"#38b5a6"})]})]})]}),a&&r.jsxs(r.Fragment,{children:[r.jsx(Me.span,{className:"absolute top-0 left-1/2 -translate-x-1/2 text-3xl",initial:{opacity:0,y:0,scale:0},animate:{opacity:[0,1,1,0],y:[0,-40,-60,-80],scale:[0,1.2,1,.8]},transition:{duration:2,repeat:1/0},children:""}),r.jsx(Me.span,{className:"absolute top-10 left-0 text-2xl",initial:{opacity:0},animate:{opacity:[0,1,0],y:[0,-30,-50],x:[-10,-20,-30],scale:[0,1,.5]},transition:{duration:1.8,repeat:1/0,delay:.5},children:""})]}),r.jsx(Me.span,{className:"absolute -top-4 -right-4 text-2xl",animate:{opacity:[0,1,0],scale:[0,1.2,0],rotate:[0,20,0]},transition:{duration:1.5,repeat:1/0},children:""}),r.jsx(Me.span,{className:"absolute -top-4 -left-4 text-2xl",animate:{opacity:[0,1,0],scale:[0,1.2,0],rotate:[0,-20,0]},transition:{duration:1.5,repeat:1/0,delay:.75},children:""}),r.jsx(Me.span,{className:"absolute top-1/2 -right-8 text-xl",animate:{opacity:[0,1,0],scale:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:.5},children:""})]})]})},J2e=({onFinish:e})=>{const[t,s]=f.useState(0);return f.useEffect(()=>{const a=setTimeout(()=>{s(1)},2e3),n=setTimeout(()=>{s(2)},4500),i=setTimeout(()=>{s(3)},7e3),o=setTimeout(()=>{e()},8e3);return()=>{clearTimeout(a),clearTimeout(n),clearTimeout(i),clearTimeout(o)}},[e]),r.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),r.jsx(Me.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-3xl"}),r.jsx(Me.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,delay:2},className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary/20 rounded-full blur-3xl"}),r.jsxs(Wn,{mode:"wait",children:[t===0&&r.jsxs(Me.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 flex flex-col items-center",children:[r.jsxs("div",{className:"relative p-8 rounded-3xl bg-card/50 backdrop-blur-xl border border-primary/20 shadow-2xl shadow-primary/20 mb-8",children:[r.jsx(Me.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl border border-dashed border-primary/30"}),r.jsx("img",{src:sl(),alt:"Saeaa Logo",className:"h-32 w-auto object-contain"})]}),r.jsx(Me.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-4xl font-bold gradient-text",children:"Saeaa"})]},"logo"),t===1&&r.jsxs(Me.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.8},className:"relative z-10 flex flex-col items-center",children:[r.jsx("div",{className:"mb-6",children:r.jsx(Q2e,{isGreeting:!0})}),r.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[r.jsx(Me.h2,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.3,type:"spring",stiffness:100},className:"text-5xl md:text-6xl font-bold text-white",children:"Hi!"}),r.jsx(Me.span,{initial:{opacity:0,scale:0,rotate:0},animate:{opacity:1,scale:1,rotate:[0,20,-10,20,0]},transition:{delay:.5,rotate:{delay:.7,duration:.8}},className:"text-4xl md:text-5xl",children:""}),r.jsx(Me.h2,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.7,type:"spring",stiffness:100},className:"text-5xl md:text-6xl font-bold",style:{background:"linear-gradient(90deg, #4CD9C8 0%, #38b5a6 50%, #2dd4bf 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"!"})]})]},"greeting"),t===2&&r.jsxs(Me.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.8},className:"relative z-10 text-center max-w-2xl px-4",children:[r.jsx(Me.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"w-16 h-16 mx-auto mb-6 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(bs,{className:"w-8 h-8 text-primary"})}),r.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:[r.jsx("span",{className:"block text-foreground mb-2",children:"  "}),r.jsx("span",{className:"gradient-text-aurora",children:" "})]}),r.jsx("p",{className:"text-xl text-muted-foreground",children:"    "})]},"motivation")]}),r.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 w-64 h-1 bg-muted rounded-full overflow-hidden",children:r.jsx(Me.div,{initial:{width:"0%"},animate:{width:"100%"},transition:{duration:8,ease:"linear"},className:"h-full gradient-primary"})})]})},DC=F0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 hover:shadow-md",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/90 hover:shadow-md",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white shadow-md hover:shadow-lg hover:brightness-110","gradient-secondary":"bg-gradient-secondary text-white shadow-md hover:shadow-lg hover:brightness-110","gradient-accent":"bg-gradient-accent text-white shadow-md hover:shadow-lg hover:brightness-110","soft-primary":"bg-primary/10 text-primary hover:bg-primary/20","soft-secondary":"bg-secondary/10 text-secondary hover:bg-secondary/20","soft-success":"bg-success/10 text-success hover:bg-success/20","soft-destructive":"bg-destructive/10 text-destructive hover:bg-destructive/20",glow:"bg-primary text-primary-foreground shadow-glow hover:shadow-glow hover:brightness-110"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),V=f.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},i)=>{const o=a?kG:"button";return r.jsx(o,{className:xe(DC({variant:t,size:s,className:e})),ref:i,...n})});V.displayName="Button";const pe=f.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-base ring-offset-background transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));pe.displayName="Input";const we=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("rounded-xl border bg-card text-card-foreground shadow-sm transition-all duration-200",e),...t}));we.displayName="Card";const st=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));st.displayName="CardHeader";const it=f.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:xe("font-heading text-xl font-semibold leading-none tracking-tight",e),...t}));it.displayName="CardTitle";const Kt=f.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:xe("text-sm text-muted-foreground leading-relaxed",e),...t}));Kt.displayName="CardDescription";const Se=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("p-6 pt-0",e),...t}));Se.displayName="CardContent";const ah=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("flex items-center p-6 pt-0",e),...t}));ah.displayName="CardFooter";const vj={async chat(e){return Q.fetch(`${Q.coreUrl}/ai/chat`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async getSuggestions(e){return Q.fetch(`${Q.coreUrl}/ai/suggestions?sectionType=${encodeURIComponent(e)}`,{method:"POST",requireAuth:!0})},async generateText(e,t){return Q.fetch(`${Q.coreUrl}/ai/generate-text`,{method:"POST",body:JSON.stringify({prompt:e,type:t}),requireAuth:!0})},async generateDesign(e){return Q.fetch(`${Q.coreUrl}/ai/generate-design`,{method:"POST",body:JSON.stringify({prompt:e}),requireAuth:!0})}};function X_({mood:e="happy",size:t="md",showMessage:s=!1,message:a,onMessageClick:n,className:i,autoChangeMood:o=!1,isArabic:l=!1,followMouse:c=!0}){const[d,u]=f.useState(e),[h,m]=f.useState(!1),[p,g]=f.useState({x:0,y:0}),x=f.useRef(null);f.useEffect(()=>{if(!c)return;const N=C=>{if(!x.current)return;const A=x.current.getBoundingClientRect(),E=A.left+A.width/2,D=A.top+A.height/2,T=C.clientX-E,P=C.clientY-D,_=3,O=Math.sqrt(T*T+P*P),M=O>0?T/O*Math.min(O/50,1)*_:0,I=O>0?P/O*Math.min(O/50,1)*_:0;g({x:M,y:I})};return window.addEventListener("mousemove",N),()=>window.removeEventListener("mousemove",N)},[c]),f.useEffect(()=>{if(d==="sleeping"||d==="wink")return;const N=setInterval(()=>{Math.random()>.7&&(m(!0),setTimeout(()=>m(!1),150))},2500);return()=>clearInterval(N)},[d]),f.useEffect(()=>{if(!o)return;const N=["happy","excited","wink","thinking"],C=setInterval(()=>{const A=N[Math.floor(Math.random()*N.length)];u(A)},5e3);return()=>clearInterval(C)},[o]),f.useEffect(()=>{u(e)},[e]);const y={xs:"w-10 h-10",sm:"w-12 h-12",md:"w-14 h-14",lg:"w-20 h-20",xl:"w-28 h-28"},b={xs:{width:8,height:10},sm:{width:10,height:12},md:{width:12,height:14},lg:{width:18,height:22},xl:{width:24,height:30}},w={xs:{width:6},sm:{width:8},md:{width:10},lg:{width:16},xl:{width:22}},v={xs:1.5,sm:2,md:3,lg:5,xl:7},S=N=>{const C=b[t];if(h)return{...C,height:2};switch(d){case"happy":return C;case"thinking":return{...C,height:C.height*.7};case"excited":return{...C,height:C.height*1.1};case"wink":return N?C:{...C,height:2};case"surprised":return{...C,width:C.width*1.2,height:C.height*1.2};case"talking":return C;case"sleeping":return{...C,height:2};case"love":return C;default:return C}},j=()=>{const N=w[t].width,C=N*.5;switch(d){case"happy":return`M 0 0 Q ${N/2} ${C} ${N} 0`;case"thinking":return`M 0 ${C/2} L ${N} ${C/2}`;case"excited":return`M 0 0 Q ${N/2} ${C*1.3} ${N} 0`;case"wink":return`M 0 0 Q ${N/2} ${C} ${N} 0`;case"surprised":return`M ${N*.3} 0 A ${N*.2} ${C*.6} 0 1 1 ${N*.7} 0`;case"talking":return`M ${N*.2} 0 Q ${N/2} ${C*.7} ${N*.8} 0`;case"sleeping":return`M ${N*.3} ${C/2} L ${N*.7} ${C/2}`;case"love":return`M 0 0 Q ${N/2} ${C*1.1} ${N} 0`;default:return`M 0 0 Q ${N/2} ${C} ${N} 0`}},k=f.useMemo(()=>({happy:l?"!   ":"Hi! How can I help you?",thinking:l?" ...":"Let me think...",excited:l?"! !":"Awesome! Let's go!",wink:l?" !":"I have an idea!",surprised:l?"!":"Wow!",talking:l?"...":"I'm listening...",sleeping:"Zzz...",love:l?" !":"Love your store!"}),[l]);return r.jsxs("div",{className:xe("relative inline-flex flex-col items-center",i),ref:x,children:[r.jsx(Wn,{children:s&&r.jsxs(Me.div,{initial:{opacity:0,y:10,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.8},transition:{type:"spring",damping:20,stiffness:300},className:xe("absolute -top-14 bg-white dark:bg-slate-800 rounded-2xl px-3 py-1.5 shadow-lg border border-border cursor-pointer z-10",l?"rounded-br-sm":"rounded-bl-sm"),onClick:n,children:[r.jsx("p",{className:"text-xs font-medium text-foreground whitespace-nowrap",children:a||k[d]}),r.jsx("div",{className:xe("absolute w-2 h-2 bg-white dark:bg-slate-800 border-b border-r border-border transform rotate-45",l?"-bottom-1 right-3":"-bottom-1 left-3")})]})}),r.jsxs(Me.div,{className:xe(y[t],"relative rounded-xl bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 border border-slate-500/50 shadow-lg overflow-hidden cursor-pointer"),whileHover:{scale:1.08},whileTap:{scale:.95},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent pointer-events-none"}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-[20%] pb-[8%]",children:[r.jsxs(Me.div,{className:"relative",animate:{scaleY:h?.1:1,x:p.x,y:p.y},transition:{duration:.1,x:{duration:.15},y:{duration:.15}},children:[r.jsx(Me.div,{className:"rounded-sm bg-cyan-400",style:{width:S(!0).width,height:S(!0).height},animate:{width:S(!0).width,height:S(!0).height},transition:{duration:.2}}),r.jsx(Me.div,{className:"absolute top-[20%] left-[55%] w-[15%] h-[15%] bg-white/70 rounded-full",animate:{opacity:h?0:1}}),d==="love"&&r.jsx(Me.div,{className:"absolute inset-0 flex items-center justify-center text-red-500 text-xs",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.3},children:""})]}),r.jsxs(Me.div,{className:"relative",animate:{scaleY:h||d==="wink"?.1:1,x:p.x,y:p.y},transition:{duration:.1,x:{duration:.15},y:{duration:.15}},children:[r.jsx(Me.div,{className:"rounded-sm bg-cyan-400",style:{width:S(!1).width,height:S(!1).height},animate:{width:S(!1).width,height:S(!1).height},transition:{duration:.2}}),r.jsx(Me.div,{className:"absolute top-[20%] left-[55%] w-[15%] h-[15%] bg-white/70 rounded-full",animate:{opacity:h||d==="wink"?0:1}}),d==="love"&&r.jsx(Me.div,{className:"absolute inset-0 flex items-center justify-center text-red-500 text-xs",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.3,delay:.1},children:""})]})]}),r.jsx(Me.div,{className:"absolute bottom-[18%] left-1/2 transform -translate-x-1/2",animate:d==="talking"?{scaleY:[1,.6,1]}:{},transition:{duration:.25,repeat:d==="talking"?1/0:0,repeatType:"reverse"},children:r.jsx("svg",{width:w[t].width+4,height:w[t].width*.6,viewBox:`-2 -2 ${w[t].width+4} ${w[t].width*.6}`,children:r.jsx(Me.path,{d:j(),stroke:"rgb(45, 212, 191)",strokeWidth:"2",fill:"none",strokeLinecap:"round",initial:!1,animate:{d:j()},transition:{duration:.3}})})}),r.jsx(Me.div,{className:"absolute rounded-full bg-pink-400/25",style:{width:v[t],height:v[t],left:"10%",bottom:"22%"},animate:{opacity:["happy","excited","love","wink"].includes(d)?.5:0},transition:{duration:.3}}),r.jsx(Me.div,{className:"absolute rounded-full bg-pink-400/25",style:{width:v[t],height:v[t],right:"10%",bottom:"22%"},animate:{opacity:["happy","excited","love","wink"].includes(d)?.5:0},transition:{duration:.3}}),r.jsx(Wn,{children:d==="sleeping"&&r.jsx(r.Fragment,{children:[0,1,2].map(N=>r.jsx(Me.div,{className:"absolute text-cyan-300 font-bold",style:{fontSize:t==="sm"?"6px":t==="md"?"8px":"12px",right:"8%",top:"8%"},initial:{opacity:0,y:0,x:0,scale:.5},animate:{opacity:[0,1,0],y:-15-N*8,x:8+N*4,scale:.7+N*.15},transition:{duration:2,delay:N*.5,repeat:1/0,ease:"easeOut"},children:"Z"},N))})})]})]})}function OC({context:e}){const{t,i18n:s}=It(),{user:a}=$s(),n=s.language==="ar";a==null||a.tenantSubdomain;const[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState([{role:"assistant",content:n?"!    .              .    ":"Hi! I'm Saeaa AI Assistant. I can help you build amazing pages, suggest content, and answer questions about the page builder. How can I help you today?"}]),[h,m]=f.useState(""),[p,g]=f.useState(!1),x=f.useRef(null),{toast:y}=Lt(),b=()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{b()},[d]),f.useEffect(()=>{const k=setTimeout(()=>{i||c(!0)},1500),N=setTimeout(()=>{c(!1)},6500);return()=>{clearTimeout(k),clearTimeout(N)}},[i]),f.useEffect(()=>{i&&c(!1)},[i]);const w=async()=>{if(!h.trim()||p)return;const k=h.trim();m(""),u(N=>[...N,{role:"user",content:k}]),g(!0);try{const N=await vj.chat({message:k,context:e});u(C=>[...C,{role:"assistant",content:N.response}])}catch(N){y({title:"Error",description:N instanceof Error?N.message:"Failed to get AI response",variant:"destructive"}),u(C=>[...C,{role:"assistant",content:"I apologize, but I encountered an error. Please try again."}])}finally{g(!1)}},v=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),w())},S=n?[{label:"  ",action:"    "},{label:" ",action:"   "},{label:" ",action:"     "}]:[{label:"How do I add a section?",action:"How do I add a section to my page?"},{label:"Content ideas",action:"Give me content ideas for my page"},{label:"Best practices",action:"What are best practices for page design?"}],j=k=>{m(k)};return r.jsxs(r.Fragment,{children:[r.jsx(Wn,{children:!i&&r.jsxs("div",{className:`fixed bottom-24 z-50 flex items-end gap-6 pointer-events-none ${n?"left-8 flex-row-reverse":"right-8 flex-row"}`,children:[l&&r.jsxs(Me.div,{initial:{opacity:0,y:10,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.8},className:`bg-white dark:bg-slate-800 text-foreground p-4 rounded-2xl shadow-xl border border-border mb-2 relative max-w-[250px] pointer-events-auto ${n?"ml-2 rounded-bl-sm":"mr-2 rounded-br-sm"}`,children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-2 rounded-full shrink-0",children:r.jsx(Vd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium leading-tight",children:n?"     ":"Do you need help with anything?"}),r.jsx("button",{onClick:()=>o(!0),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 font-semibold",children:n?"  ":"Chat with me now"})]})]}),r.jsx("button",{onClick:()=>c(!1),className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground p-1",children:r.jsx(jr,{className:"w-3 h-3"})})]}),r.jsxs(Me.div,{className:"pointer-events-auto relative cursor-pointer",whileHover:{scale:1.1},whileTap:{scale:.92},onClick:()=>o(!0),children:[r.jsx(X_,{mood:l?"wink":"happy",size:"xs",autoChangeMood:!1,isArabic:n,followMouse:!0}),r.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white shadow-sm"})]})]})]})}),r.jsx(Wn,{children:i&&r.jsx(Me.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:`fixed bottom-6 w-96 h-[600px] z-50 ${n?"left-6":"right-6"}`,children:r.jsxs(we,{className:"h-full shadow-2xl flex flex-col border-2 border-blue-200 dark:border-blue-800 bg-background overflow-hidden rounded-2xl",children:[r.jsxs("div",{className:`bg-gradient-to-r from-slate-800 to-slate-900 text-white p-4 flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":""}`,children:[r.jsx(X_,{mood:p?"thinking":"happy",size:"sm",isArabic:n}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg font-bold",children:" AI"}),r.jsx("span",{className:"text-xs bg-cyan-500/30 px-1.5 py-0.5 rounded text-cyan-200",children:"BETA"})]}),r.jsx("p",{className:"text-xs text-white/80",children:n?"  ":"Your personal AI assistant"})]})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>o(!1),className:"text-white hover:bg-white/20 rounded-full",children:r.jsx(jr,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:`flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ${n?"rtl":"ltr"}`,children:[d.map((k,N)=>r.jsx(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${k.role==="user"?n?"justify-start":"justify-end":n?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 shadow-sm ${k.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-card border border-border dark:text-foreground rounded-bl-none"}`,children:r.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:k.content})})},N)),p&&r.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:r.jsx("div",{className:"bg-white dark:bg-card border border-border rounded-2xl rounded-bl-none p-4 shadow-sm",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Me.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1},className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx(Me.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1,delay:.2},className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx(Me.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1,delay:.4},className:"w-2 h-2 bg-blue-500 rounded-full"})]})})}),r.jsx("div",{ref:x})]}),d.length===1&&r.jsxs("div",{className:`px-4 py-3 border-t border-border bg-background ${n?"rtl":"ltr"}`,children:[r.jsxs("p",{className:"text-xs font-medium text-muted-foreground mb-2 flex items-center gap-1",children:[r.jsx(bs,{className:"w-3 h-3"}),n?" :":"Quick suggestions:"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((k,N)=>r.jsx(V,{variant:"outline",size:"sm",onClick:()=>j(k.action),className:"text-xs h-8 bg-muted/50 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 dark:hover:bg-blue-900/20 dark:hover:text-blue-400 dark:hover:border-blue-800 transition-colors",children:k.label},N))})]}),r.jsx("div",{className:`p-4 border-t border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 ${n?"rtl":"ltr"}`,children:r.jsxs("div",{className:"relative flex items-center gap-2",children:[r.jsx(pe,{value:h,onChange:k=>m(k.target.value),onKeyPress:v,placeholder:n?"  ...":"Type your message here...",disabled:p,className:`flex-1 pr-4 py-6 rounded-xl border-border focus-visible:ring-blue-500 shadow-inner bg-muted/30 ${n?"text-right":"text-left"}`}),r.jsx(V,{onClick:w,disabled:!h.trim()||p,size:"icon",className:"h-12 w-12 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/20 transition-all hover:scale-105 shrink-0",children:r.jsx(Ip,{className:`h-5 w-5 ${n?"rotate-180":""}`})})]})})]})})})]})}var MP="focusScope.autoFocusOnMount",FP="focusScope.autoFocusOnUnmount",U8={bubbles:!1,cancelable:!0},Z2e="FocusScope",yj=f.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Qa(n),u=Qa(i),h=f.useRef(null),m=Pr(t,x=>c(x)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(a){let x=function(v){if(p.paused||!l)return;const S=v.target;l.contains(S)?h.current=S:kh(h.current,{select:!0})},y=function(v){if(p.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||kh(h.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&kh(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),w.disconnect()}}},[a,l,p.paused]),f.useEffect(()=>{if(l){z8.add(p);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(MP,U8);l.addEventListener(MP,d),l.dispatchEvent(b),b.defaultPrevented||(eSe(nSe(TQ(l)),{select:!0}),document.activeElement===x&&kh(l))}return()=>{l.removeEventListener(MP,d),setTimeout(()=>{const b=new CustomEvent(FP,U8);l.addEventListener(FP,u),l.dispatchEvent(b),b.defaultPrevented||kh(x??document.body,{select:!0}),l.removeEventListener(FP,u),z8.remove(p)},0)}}},[l,d,u,p]);const g=f.useCallback(x=>{if(!s&&!a||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(y&&b){const w=x.currentTarget,[v,S]=tSe(w);v&&S?!x.shiftKey&&b===S?(x.preventDefault(),s&&kh(v,{select:!0})):x.shiftKey&&b===v&&(x.preventDefault(),s&&kh(S,{select:!0})):b===w&&x.preventDefault()}},[s,a,p.paused]);return r.jsx(Bt.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});yj.displayName=Z2e;function eSe(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if(kh(a,{select:t}),document.activeElement!==s)return}function tSe(e){const t=TQ(e),s=V8(t,e),a=V8(t.reverse(),e);return[s,a]}function TQ(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function V8(e,t){for(const s of e)if(!rSe(s,{upTo:t}))return s}function rSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sSe(e){return e instanceof HTMLInputElement&&"select"in e}function kh(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&sSe(e)&&t&&e.select()}}var z8=aSe();function aSe(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=W8(e,t),e.unshift(t)},remove(t){var s;e=W8(e,t),(s=e[0])==null||s.resume()}}}function W8(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function nSe(e){return e.filter(t=>t.tagName!=="A")}var LP=0;function IC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H8()),document.body.insertAdjacentElement("beforeend",e[1]??H8()),LP++,()=>{LP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),LP--}},[])}function H8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _d=function(){return _d=Object.assign||function(t){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},_d.apply(this,arguments)};function _Q(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}function iSe(e,t,s){if(s||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var a2="right-scroll-bar-position",n2="width-before-scroll-bar",oSe="with-scroll-bars-hidden",lSe="--removed-body-scroll-bar-size";function $P(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cSe(e,t){var s=f.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=t,s.facade}var dSe=typeof window<"u"?f.useLayoutEffect:f.useEffect,q8=new WeakMap;function uSe(e,t){var s=cSe(null,function(a){return e.forEach(function(n){return $P(n,a)})});return dSe(function(){var a=q8.get(s);if(a){var n=new Set(a),i=new Set(e),o=s.current;n.forEach(function(l){i.has(l)||$P(l,null)}),i.forEach(function(l){n.has(l)||$P(l,o)})}q8.set(s,e)},[e]),s}function hSe(e){return e}function mSe(e,t){t===void 0&&(t=hSe);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return n}function fSe(e){e===void 0&&(e={});var t=mSe(null);return t.options=_d({async:!0,ssr:!1},e),t}var DQ=function(e){var t=e.sideCar,s=_Q(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return f.createElement(a,_d({},s))};DQ.isSideCarExport=!0;function pSe(e,t){return e.useMedium(t),DQ}var OQ=fSe(),BP=function(){},RC=f.forwardRef(function(e,t){var s=f.useRef(null),a=f.useState({onScrollCapture:BP,onWheelCapture:BP,onTouchMoveCapture:BP}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,v=e.gapMode,S=_Q(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=uSe([s,t]),N=_d(_d({},S),n);return f.createElement(f.Fragment,null,u&&f.createElement(j,{sideCar:OQ,removeScrollBar:d,shards:h,noRelative:p,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:s,gapMode:v}),o?f.cloneElement(f.Children.only(l),_d(_d({},N),{ref:k})):f.createElement(w,_d({},N,{className:c,ref:k}),l))});RC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RC.classNames={fullWidth:n2,zeroRight:a2};var xSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gSe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xSe();return t&&e.setAttribute("nonce",t),e}function vSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ySe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bSe=function(){var e=0,t=null;return{add:function(s){e==0&&(t=gSe())&&(vSe(t,s),ySe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wSe=function(){var e=bSe();return function(t,s){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},IQ=function(){var e=wSe(),t=function(s){var a=s.styles,n=s.dynamic;return e(a,n),null};return t},jSe={left:0,top:0,right:0,gap:0},UP=function(e){return parseInt(e||"",10)||0},NSe=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[UP(s),UP(a),UP(n)]},SSe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jSe;var t=NSe(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},kSe=IQ(),hg="data-scroll-locked",CSe=function(e,t,s,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(oSe,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(hg,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(a2,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(n2,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(a2," .").concat(a2,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(n2," .").concat(n2,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(hg,`] {
    `).concat(lSe,": ").concat(l,`px;
  }
`)},G8=function(){var e=parseInt(document.body.getAttribute(hg)||"0",10);return isFinite(e)?e:0},ASe=function(){f.useEffect(function(){return document.body.setAttribute(hg,(G8()+1).toString()),function(){var e=G8()-1;e<=0?document.body.removeAttribute(hg):document.body.setAttribute(hg,e.toString())}},[])},ESe=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;ASe();var i=f.useMemo(function(){return SSe(n)},[n]);return f.createElement(kSe,{styles:CSe(i,!t,n,s?"":"!important")})},Q_=!1;if(typeof window<"u")try{var G1=Object.defineProperty({},"passive",{get:function(){return Q_=!0,!0}});window.addEventListener("test",G1,G1),window.removeEventListener("test",G1,G1)}catch{Q_=!1}var dx=Q_?{passive:!1}:!1,PSe=function(e){return e.tagName==="TEXTAREA"},RQ=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!PSe(e)&&s[t]==="visible")},TSe=function(e){return RQ(e,"overflowY")},_Se=function(e){return RQ(e,"overflowX")},K8=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=MQ(e,a);if(n){var i=FQ(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},DSe=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},OSe=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},MQ=function(e,t){return e==="v"?TSe(t):_Se(t)},FQ=function(e,t){return e==="v"?DSe(t):OSe(t)},ISe=function(e,t){return e==="h"&&t==="rtl"?-1:1},RSe=function(e,t,s,a,n){var i=ISe(e,window.getComputedStyle(t).direction),o=i*a,l=s.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=FQ(e,l),g=p[0],x=p[1],y=p[2],b=x-y-i*g;(g||b)&&MQ(e,l)&&(h+=b,m+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!n)||!u&&(Math.abs(m)<1||!n))&&(d=!0),d},K1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y8=function(e){return[e.deltaX,e.deltaY]},X8=function(e){return e&&"current"in e?e.current:e},MSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FSe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LSe=0,ux=[];function $Se(e){var t=f.useRef([]),s=f.useRef([0,0]),a=f.useRef(),n=f.useState(LSe++)[0],i=f.useState(IQ)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var x=iSe([e.lockRef.current],(e.shards||[]).map(X8),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=K1(x),w=s.current,v="deltaX"in x?x.deltaX:w[0]-b[0],S="deltaY"in x?x.deltaY:w[1]-b[1],j,k=x.target,N=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in x&&N==="h"&&k.type==="range")return!1;var C=K8(N,k);if(!C)return!0;if(C?j=N:(j=N==="v"?"h":"v",C=K8(N,k)),!C)return!1;if(!a.current&&"changedTouches"in x&&(v||S)&&(a.current=j),!j)return!0;var A=a.current||j;return RSe(A,y,x,A==="h"?v:S,!0)},[]),c=f.useCallback(function(x){var y=x;if(!(!ux.length||ux[ux.length-1]!==i)){var b="deltaY"in y?Y8(y):K1(y),w=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&MSe(j.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var v=(o.current.shards||[]).map(X8).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=v.length>0?l(y,v[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=f.useCallback(function(x,y,b,w){var v={name:x,delta:y,target:b,should:w,shadowParent:BSe(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(S){return S!==v})},1)},[]),u=f.useCallback(function(x){s.current=K1(x),a.current=void 0},[]),h=f.useCallback(function(x){d(x.type,Y8(x),x.target,l(x,e.lockRef.current))},[]),m=f.useCallback(function(x){d(x.type,K1(x),x.target,l(x,e.lockRef.current))},[]);f.useEffect(function(){return ux.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,dx),document.addEventListener("touchmove",c,dx),document.addEventListener("touchstart",u,dx),function(){ux=ux.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,dx),document.removeEventListener("touchmove",c,dx),document.removeEventListener("touchstart",u,dx)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:FSe(n)}):null,p?f.createElement(ESe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const USe=pSe(OQ,$Se);var bj=f.forwardRef(function(e,t){return f.createElement(RC,_d({},e,{ref:t,sideCar:USe}))});bj.classNames=RC.classNames;var VSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hx=new WeakMap,Y1=new WeakMap,X1={},VP=0,LQ=function(e){return e&&(e.host||LQ(e.parentNode))},zSe=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=LQ(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},WSe=function(e,t,s,a){var n=zSe(t,Array.isArray(e)?e:[e]);X1[s]||(X1[s]=new WeakMap);var i=X1[s],o=[],l=new Set,c=new Set(n),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(a),g=p!==null&&p!=="false",x=(hx.get(m)||0)+1,y=(i.get(m)||0)+1;hx.set(m,x),i.set(m,y),o.push(m),x===1&&g&&Y1.set(m,!0),y===1&&m.setAttribute(s,"true"),g||m.setAttribute(a,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(t),l.clear(),VP++,function(){o.forEach(function(h){var m=hx.get(h)-1,p=i.get(h)-1;hx.set(h,m),i.set(h,p),m||(Y1.has(h)||h.removeAttribute(a),Y1.delete(h)),p||h.removeAttribute(s)}),VP--,VP||(hx=new WeakMap,hx=new WeakMap,Y1=new WeakMap,X1={})}},MC=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=VSe(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live]"))),WSe(a,n,s,"aria-hidden")):function(){return null}},FC="Dialog",[$Q,BQ]=on(FC),[HSe,ud]=$Q(FC),UQ=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=ko({prop:a,defaultProp:n??!1,onChange:i,caller:FC});return r.jsx(HSe,{scope:t,triggerRef:l,contentRef:c,contentId:Sl(),titleId:Sl(),descriptionId:Sl(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};UQ.displayName=FC;var VQ="DialogTrigger",zQ=f.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=ud(VQ,s),i=Pr(t,n.triggerRef);return r.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":D3(n.open),...a,ref:i,onClick:bt(e.onClick,n.onOpenToggle)})});zQ.displayName=VQ;var T3="DialogPortal",[qSe,WQ]=$Q(T3,{forceMount:void 0}),HQ=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:n}=e,i=ud(T3,t);return r.jsx(qSe,{scope:t,forceMount:s,children:f.Children.map(a,o=>r.jsx(qn,{present:s||i.open,children:r.jsx(M0,{asChild:!0,container:n,children:o})}))})};HQ.displayName=T3;var aS="DialogOverlay",qQ=f.forwardRef((e,t)=>{const s=WQ(aS,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=ud(aS,e.__scopeDialog);return i.modal?r.jsx(qn,{present:a||i.open,children:r.jsx(KSe,{...n,ref:t})}):null});qQ.displayName=aS;var GSe=ym("DialogOverlay.RemoveScroll"),KSe=f.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=ud(aS,s);return r.jsx(bj,{as:GSe,allowPinchZoom:!0,shards:[n.contentRef],children:r.jsx(Bt.div,{"data-state":D3(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),hp="DialogContent",GQ=f.forwardRef((e,t)=>{const s=WQ(hp,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=ud(hp,e.__scopeDialog);return r.jsx(qn,{present:a||i.open,children:i.modal?r.jsx(YSe,{...n,ref:t}):r.jsx(XSe,{...n,ref:t})})});GQ.displayName=hp;var YSe=f.forwardRef((e,t)=>{const s=ud(hp,e.__scopeDialog),a=f.useRef(null),n=Pr(t,s.contentRef,a);return f.useEffect(()=>{const i=a.current;if(i)return MC(i)},[]),r.jsx(KQ,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:bt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:bt(e.onFocusOutside,i=>i.preventDefault())})}),XSe=f.forwardRef((e,t)=>{const s=ud(hp,e.__scopeDialog),a=f.useRef(!1),n=f.useRef(!1);return r.jsx(KQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),KQ=f.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=ud(hp,s),c=f.useRef(null),d=Pr(t,c);return IC(),r.jsxs(r.Fragment,{children:[r.jsx(yj,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:r.jsx(Op,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":D3(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(JSe,{titleId:l.titleId}),r.jsx(eke,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_3="DialogTitle",YQ=f.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=ud(_3,s);return r.jsx(Bt.h2,{id:n.titleId,...a,ref:t})});YQ.displayName=_3;var XQ="DialogDescription",QQ=f.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=ud(XQ,s);return r.jsx(Bt.p,{id:n.descriptionId,...a,ref:t})});QQ.displayName=XQ;var JQ="DialogClose",ZQ=f.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,n=ud(JQ,s);return r.jsx(Bt.button,{type:"button",...a,ref:t,onClick:bt(e.onClick,()=>n.onOpenChange(!1))})});ZQ.displayName=JQ;function D3(e){return e?"open":"closed"}var eJ="DialogTitleWarning",[QSe,tJ]=Lme(eJ,{contentName:hp,titleName:_3,docsSlug:"dialog"}),JSe=({titleId:e})=>{const t=tJ(eJ),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},ZSe="DialogDescriptionWarning",eke=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tJ(ZSe).contentName}}.`;return f.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},O3=UQ,I3=zQ,R3=HQ,wj=qQ,jj=GQ,Nj=YQ,Sj=QQ,LC=ZQ;const Y0=O3,$C=I3,tke=R3,rJ=f.forwardRef(({className:e,...t},s)=>r.jsx(wj,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));rJ.displayName=wj.displayName;const rke=F0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Fp=f.forwardRef(({side:e="right",className:t,children:s,...a},n)=>r.jsxs(tke,{children:[r.jsx(rJ,{}),r.jsxs(jj,{ref:n,className:xe(rke({side:e}),t),...a,children:[s,r.jsxs(LC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[r.jsx(jr,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fp.displayName=jj.displayName;const X0=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});X0.displayName="SheetHeader";const sJ=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sJ.displayName="SheetFooter";const Q0=f.forwardRef(({className:e,...t},s)=>r.jsx(Nj,{ref:s,className:xe("text-lg font-semibold text-foreground",e),...t}));Q0.displayName=Nj.displayName;const BC=f.forwardRef(({className:e,...t},s)=>r.jsx(Sj,{ref:s,className:xe("text-sm text-muted-foreground",e),...t}));BC.displayName=Sj.displayName;var ske="Label",aJ=f.forwardRef((e,t)=>r.jsx(Bt.label,{...e,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));aJ.displayName=ske;var nJ=aJ;const ake=F0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=f.forwardRef(({className:e,...t},s)=>r.jsx(nJ,{ref:s,className:xe(ake(),e),...t}));Y.displayName=nJ.displayName;var nke=f.createContext(void 0);function zm(e){const t=f.useContext(nke);return e||t||"ltr"}var zP="rovingFocusGroup.onEntryFocus",ike={bubbles:!1,cancelable:!0},kj="RovingFocusGroup",[J_,iJ,oke]=R0(kj),[lke,J0]=on(kj,[oke]),[cke,dke]=lke(kj),oJ=f.forwardRef((e,t)=>r.jsx(J_.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(J_.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(uke,{...e,ref:t})})}));oJ.displayName=kj;var uke=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=Pr(t,m),g=zm(i),[x,y]=ko({prop:o,defaultProp:l??null,onChange:c,caller:kj}),[b,w]=f.useState(!1),v=Qa(d),S=iJ(s),j=f.useRef(!1),[k,N]=f.useState(0);return f.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(zP,v),()=>C.removeEventListener(zP,v)},[v]),r.jsx(cke,{scope:s,orientation:a,dir:g,loop:n,currentTabStopId:x,onItemFocus:f.useCallback(C=>y(C),[y]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>N(C=>C-1),[]),children:r.jsx(Bt.div,{tabIndex:b||k===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:bt(e.onMouseDown,()=>{j.current=!0}),onFocus:bt(e.onFocus,C=>{const A=!j.current;if(C.target===C.currentTarget&&A&&!b){const E=new CustomEvent(zP,ike);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const D=S().filter(M=>M.focusable),T=D.find(M=>M.active),P=D.find(M=>M.id===x),O=[T,P,...D].filter(Boolean).map(M=>M.ref.current);dJ(O,u)}}j.current=!1}),onBlur:bt(e.onBlur,()=>w(!1))})})}),lJ="RovingFocusGroupItem",cJ=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,c=Sl(),d=i||c,u=dke(lJ,s),h=u.currentTabStopId===d,m=iJ(s),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:x}=u;return f.useEffect(()=>{if(a)return p(),()=>g()},[a,p,g]),r.jsx(J_.ItemSlot,{scope:s,id:d,focusable:a,active:n,children:r.jsx(Bt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:bt(e.onMouseDown,y=>{a?u.onItemFocus(d):y.preventDefault()}),onFocus:bt(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:bt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=fke(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const S=v.indexOf(y.currentTarget);v=u.loop?pke(v,S+1):v.slice(S+1)}setTimeout(()=>dJ(v))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});cJ.displayName=lJ;var hke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mke(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fke(e,t,s){const a=mke(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return hke[a]}function dJ(e,t=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}function pke(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var M3=oJ,F3=cJ,UC="Tabs",[xke,j0t]=on(UC,[J0]),uJ=J0(),[gke,L3]=xke(UC),hJ=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=zm(l),[h,m]=ko({prop:a,onChange:n,defaultProp:i??"",caller:UC});return r.jsx(gke,{scope:s,baseId:Sl(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(Bt.div,{dir:u,"data-orientation":o,...d,ref:t})})});hJ.displayName=UC;var mJ="TabsList",fJ=f.forwardRef((e,t)=>{const{__scopeTabs:s,loop:a=!0,...n}=e,i=L3(mJ,s),o=uJ(s);return r.jsx(M3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(Bt.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});fJ.displayName=mJ;var pJ="TabsTrigger",xJ=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=e,o=L3(pJ,s),l=uJ(s),c=yJ(o.baseId,a),d=bJ(o.baseId,a),u=a===o.value;return r.jsx(F3,{asChild:!0,...l,focusable:!n,active:u,children:r.jsx(Bt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...i,ref:t,onMouseDown:bt(e.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:bt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:bt(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!n&&h&&o.onValueChange(a)})})})});xJ.displayName=pJ;var gJ="TabsContent",vJ=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=e,l=L3(gJ,s),c=yJ(l.baseId,a),d=bJ(l.baseId,a),u=a===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(qn,{present:n||u,children:({present:m})=>r.jsx(Bt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});vJ.displayName=gJ;function yJ(e,t){return`${e}-trigger-${t}`}function bJ(e,t){return`${e}-content-${t}`}var vke=hJ,wJ=fJ,jJ=xJ,NJ=vJ;const Kn=vke,_n=f.forwardRef(({className:e,...t},s)=>r.jsx(wJ,{ref:s,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_n.displayName=wJ.displayName;const _r=f.forwardRef(({className:e,...t},s)=>r.jsx(jJ,{ref:s,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));_r.displayName=jJ.displayName;const Yr=f.forwardRef(({className:e,...t},s)=>r.jsx(NJ,{ref:s,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yr.displayName=NJ.displayName;const sf=e=>{let t=0,s=0,a=0;e.length===4?(t=parseInt("0x"+e[1]+e[1]),s=parseInt("0x"+e[2]+e[2]),a=parseInt("0x"+e[3]+e[3])):e.length===7&&(t=parseInt("0x"+e[1]+e[2]),s=parseInt("0x"+e[3]+e[4]),a=parseInt("0x"+e[5]+e[6])),t/=255,s/=255,a/=255;const n=Math.min(t,s,a),i=Math.max(t,s,a),o=i-n;let l=0,c=0,d=0;return o===0?l=0:i===t?l=(s-a)/o%6:i===s?l=(a-t)/o+2:l=(t-s)/o+4,l=Math.round(l*60),l<0&&(l+=360),d=(i+n)/2,c=o===0?0:o/(1-Math.abs(2*d-1)),c=+(c*100).toFixed(1),d=+(d*100).toFixed(1),`${l} ${c}% ${d}%`},Ch={light:{primary:"#0091FF",secondary:"#0066FF",accent:"#38BDF8",background:"#FCFCFD",foreground:"#14141F",card:"#FFFFFF",sidebar:"#0D162B"},dark:{primary:"#0091FF",secondary:"#0066FF",accent:"#38BDF8",background:"#0D162B",foreground:"#F1F1F3",card:"#09101F",sidebar:"#09101F"}},yke=[{name:"Saeaa Blue (Default)",config:Ch},{name:"Ocean Depths",config:{light:{primary:"#0EA5E9",secondary:"#0284C7",accent:"#38BDF8",background:"#F0F9FF",foreground:"#0C4A6E",card:"#FFFFFF",sidebar:"#0C4A6E"},dark:{primary:"#38BDF8",secondary:"#0EA5E9",accent:"#7DD3FC",background:"#0C4A6E",foreground:"#F0F9FF",card:"#082F49",sidebar:"#082F49"}}},{name:"Forest Whisper",config:{light:{primary:"#22C55E",secondary:"#16A34A",accent:"#86EFAC",background:"#F0FDF4",foreground:"#14532D",card:"#FFFFFF",sidebar:"#14532D"},dark:{primary:"#4ADE80",secondary:"#22C55E",accent:"#86EFAC",background:"#14532D",foreground:"#F0FDF4",card:"#052E16",sidebar:"#052E16"}}},{name:"Sunset Glow",config:{light:{primary:"#F97316",secondary:"#EA580C",accent:"#FDBA74",background:"#FFF7ED",foreground:"#7C2D12",card:"#FFFFFF",sidebar:"#7C2D12"},dark:{primary:"#FB923C",secondary:"#F97316",accent:"#FDBA74",background:"#7C2D12",foreground:"#FFF7ED",card:"#431407",sidebar:"#431407"}}},{name:"Royal Velvet",config:{light:{primary:"#8B5CF6",secondary:"#7C3AED",accent:"#C4B5FD",background:"#F5F3FF",foreground:"#4C1D95",card:"#FFFFFF",sidebar:"#4C1D95"},dark:{primary:"#A78BFA",secondary:"#8B5CF6",accent:"#C4B5FD",background:"#4C1D95",foreground:"#F5F3FF",card:"#2E1065",sidebar:"#2E1065"}}},{name:"Midnight Dreams",config:{light:{primary:"#6366F1",secondary:"#4F46E5",accent:"#818CF8",background:"#EEF2FF",foreground:"#1E1B4B",card:"#FFFFFF",sidebar:"#1E1B4B"},dark:{primary:"#818CF8",secondary:"#6366F1",accent:"#A5B4FC",background:"#1E1B4B",foreground:"#EEF2FF",card:"#1E1B4B",sidebar:"#0F0E24"}}},{name:"Crimson Tide",config:{light:{primary:"#EF4444",secondary:"#DC2626",accent:"#FCA5A5",background:"#FEF2F2",foreground:"#7F1D1D",card:"#FFFFFF",sidebar:"#7F1D1D"},dark:{primary:"#F87171",secondary:"#EF4444",accent:"#FCA5A5",background:"#7F1D1D",foreground:"#FEF2F2",card:"#450A0A",sidebar:"#450A0A"}}},{name:"Corporate Slate",config:{light:{primary:"#64748B",secondary:"#475569",accent:"#94A3B8",background:"#F8FAFC",foreground:"#0F172A",card:"#FFFFFF",sidebar:"#0F172A"},dark:{primary:"#94A3B8",secondary:"#64748B",accent:"#CBD5E1",background:"#0F172A",foreground:"#F8FAFC",card:"#020617",sidebar:"#020617"}}},{name:"Cyberpunk",config:{light:{primary:"#D946EF",secondary:"#8B5CF6",accent:"#06B6D4",background:"#FDF4FF",foreground:"#2E1065",card:"#FFFFFF",sidebar:"#2E1065"},dark:{primary:"#E879F9",secondary:"#D946EF",accent:"#22D3EE",background:"#09090B",foreground:"#FAFAFA",card:"#18181B",sidebar:"#000000"}}},{name:"Lavender Mist",config:{light:{primary:"#D8B4FE",secondary:"#C084FC",accent:"#E9D5FF",background:"#FAF5FF",foreground:"#3B0764",card:"#FFFFFF",sidebar:"#3B0764"},dark:{primary:"#C084FC",secondary:"#A855F7",accent:"#D8B4FE",background:"#3B0764",foreground:"#FAF5FF",card:"#2E1065",sidebar:"#2E1065"}}}];function $3(){const{i18n:e}=It(),t=e.language==="ar",[s,a]=f.useState(Ch),[n,i]=f.useState(!1),[o,l]=f.useState("light");f.useEffect(()=>{const p=localStorage.getItem("custom-theme-config-v2");if(p)try{const g=JSON.parse(p),x={light:{...Ch.light,...g.light},dark:{...Ch.dark,...g.dark}};a(x),c(x)}catch(g){console.error("Failed to parse saved theme",g),c(Ch)}else c(Ch)},[]);const c=p=>{const g="theme-customizer-styles";let x=document.getElementById(g);x||(x=document.createElement("style"),x.id=g,document.head.appendChild(x));const y=b=>{const w=sf(b.primary),v=sf(b.secondary),S=sf(b.accent),j=sf(b.background),k=sf(b.foreground),N=sf(b.card),C=sf(b.sidebar);return`
        --primary: ${w} !important;
        --secondary: ${v} !important;
        --accent: ${S} !important;
        --background: ${j} !important;
        --foreground: ${k} !important;
        --card: ${N} !important;
        --sidebar-background: ${C} !important;
        --ring: ${w} !important;
        
        /* Derived Gradients */
        --gradient-primary: linear-gradient(135deg, hsl(${w}) 0%, hsl(${v}) 100%) !important;
        --gradient-secondary: linear-gradient(135deg, hsl(${v}) 0%, hsl(0 84% 60%) 100%) !important;
        --gradient-accent: linear-gradient(135deg, hsl(${S}) 0%, hsl(${w}) 100%) !important;
      `};x.textContent=`
      html {
        ${y(p.light)}
      }
      
      html.dark {
        ${y(p.dark)}
      }
    `},d=(p,g,x)=>{const y={...s,[p]:{...s[p],[g]:x}};a(y),c(y)},u=p=>{a(p.config),c(p.config),Rr.success(`Applied ${p.name} theme!`)},h=()=>{localStorage.setItem("custom-theme-config-v2",JSON.stringify(s)),Rr.success("Theme saved successfully!"),i(!1)},m=()=>{a(Ch),c(Ch),localStorage.removeItem("custom-theme-config-v2");const p=document.getElementById("theme-customizer-styles");p&&p.remove(),Rr.info("Theme reset to default.")};return r.jsxs(Y0,{open:n,onOpenChange:i,children:[r.jsx($C,{asChild:!0,children:r.jsx(V,{variant:"outline",size:"icon",className:`fixed bottom-8 z-50 h-10 w-10 rounded-xl shadow-lg border-slate-500/50 bg-slate-800 hover:bg-slate-700 hover:border-primary transition-all duration-300 hover:scale-105 ${t?"left-8":"right-8"}`,children:r.jsx(Hfe,{className:"h-6 w-6 text-primary"})})}),r.jsxs(Fp,{className:"w-[400px] sm:w-[540px] flex flex-col h-full p-0 gap-0",children:[r.jsx("div",{className:"p-6 pb-2 border-b",children:r.jsxs(X0,{children:[r.jsx(Q0,{children:"Theme Customizer"}),r.jsx(BC,{children:"Choose a preset theme or customize colors for Light and Dark modes."})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{className:"text-base font-medium",children:"Preset Themes"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:yke.map(p=>r.jsxs("button",{onClick:()=>u(p),className:"group relative flex items-center gap-3 rounded-lg border p-2 hover:border-primary transition-all hover:bg-accent/5",children:[r.jsxs("div",{className:"flex shrink-0 -space-x-2",children:[r.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-30",style:{backgroundColor:p.config.light.primary}}),r.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-20",style:{backgroundColor:p.config.light.secondary}}),r.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-10",style:{backgroundColor:p.config.light.background}})]}),r.jsx("span",{className:"text-sm font-medium",children:p.name})]},p.name))})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or customize manually"})})]}),r.jsxs(Kn,{value:o,onValueChange:l,className:"w-full",children:[r.jsxs(_n,{className:"grid w-full grid-cols-2",children:[r.jsxs(_r,{value:"light",className:"flex items-center gap-2",children:[r.jsx(Jd,{className:"h-4 w-4"})," Light Mode"]}),r.jsxs(_r,{value:"dark",className:"flex items-center gap-2",children:[r.jsx(ad,{className:"h-4 w-4"})," Dark Mode"]})]}),["light","dark"].map(p=>r.jsxs(Yr,{value:p,className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Primary Color"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:s[p].primary}}),r.jsx(pe,{type:"color",value:s[p].primary,onChange:g=>d(p,"primary",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:s[p].secondary}}),r.jsx(pe,{type:"color",value:s[p].secondary,onChange:g=>d(p,"secondary",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Accent Color"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:s[p].accent}}),r.jsx(pe,{type:"color",value:s[p].accent,onChange:g=>d(p,"accent",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Background Color"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:s[p].background}}),r.jsx(pe,{type:"color",value:s[p].background,onChange:g=>d(p,"background",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Sidebar Background"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:s[p].sidebar}}),r.jsx(pe,{type:"color",value:s[p].sidebar,onChange:g=>d(p,"sidebar",g.target.value),className:"h-10 w-full cursor-pointer"})]})]})]},p))]})]}),r.jsx("div",{className:"p-6 border-t bg-background/50 backdrop-blur-sm mt-auto",children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(V,{onClick:h,className:"w-full gap-2",children:[r.jsx(Za,{className:"h-4 w-4"})," Save Changes"]}),r.jsxs(V,{variant:"outline",onClick:m,className:"w-full gap-2",children:[r.jsx(xI,{className:"h-4 w-4"})," Reset to Default"]})]})})]})]})}const bke=({children:e,className:t})=>r.jsxs("div",{className:`relative mx-auto w-full max-w-[900px] ${t}`,children:[r.jsxs("div",{className:"relative rounded-[1.5rem] bg-[#1a1b1e] p-[10px] ring-1 ring-white/10 shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 left-1/2 h-3 w-28 -translate-x-1/2 rounded-b-md bg-[#1a1b1e] border-b border-x border-white/5 z-20"}),r.jsx("div",{className:"rounded-lg bg-slate-950 border border-white/5 relative z-10 h-[500px] w-full overflow-visible",children:r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e})})]}),r.jsx("div",{className:"relative mx-auto h-3 w-full max-w-[95%] rounded-b-xl bg-[#25262b] shadow-xl border-t border-black/50"}),r.jsx("div",{className:"relative mx-auto h-1 w-[120px] rounded-b-xl bg-[#2c2d31]/50 mt-1"})]}),wke=({children:e,className:t})=>r.jsx("div",{className:`relative mx-auto w-[200px] sm:w-[240px] md:w-[260px] ${t}`,children:r.jsxs("div",{className:"relative rounded-[2.5rem] border-[6px] md:border-[8px] border-[#1a1b1e] bg-[#1a1b1e] shadow-2xl aspect-[9/19.5]",children:[r.jsx("div",{className:"absolute top-0 left-1/2 h-5 md:h-6 w-24 md:w-32 -translate-x-1/2 rounded-b-2xl bg-[#1a1b1e] z-20"}),r.jsx("div",{className:"overflow-hidden rounded-[2rem] bg-slate-950 border border-white/5 relative z-10 h-full w-full",children:e}),r.jsx("div",{className:"absolute -right-[8px] md:-right-[10px] top-24 h-12 w-[2px] rounded-r-sm bg-[#2c2d31]"}),r.jsx("div",{className:"absolute -left-[8px] md:-left-[10px] top-24 h-8 w-[2px] rounded-l-sm bg-[#2c2d31]"}),r.jsx("div",{className:"absolute -left-[8px] md:-left-[10px] top-36 h-12 w-[2px] rounded-l-sm bg-[#2c2d31]"})]})});var jke=Array.isArray,nl=jke,Nke=typeof u1=="object"&&u1&&u1.Object===Object&&u1,SJ=Nke,Ske=SJ,kke=typeof self=="object"&&self&&self.Object===Object&&self,Cke=Ske||kke||Function("return this")(),iu=Cke,Ake=iu,Eke=Ake.Symbol,Cj=Eke,Q8=Cj,kJ=Object.prototype,Pke=kJ.hasOwnProperty,Tke=kJ.toString,Uv=Q8?Q8.toStringTag:void 0;function _ke(e){var t=Pke.call(e,Uv),s=e[Uv];try{e[Uv]=void 0;var a=!0}catch{}var n=Tke.call(e);return a&&(t?e[Uv]=s:delete e[Uv]),n}var Dke=_ke,Oke=Object.prototype,Ike=Oke.toString;function Rke(e){return Ike.call(e)}var Mke=Rke,J8=Cj,Fke=Dke,Lke=Mke,$ke="[object Null]",Bke="[object Undefined]",Z8=J8?J8.toStringTag:void 0;function Uke(e){return e==null?e===void 0?Bke:$ke:Z8&&Z8 in Object(e)?Fke(e):Lke(e)}var nh=Uke;function Vke(e){return e!=null&&typeof e=="object"}var ih=Vke,zke=nh,Wke=ih,Hke="[object Symbol]";function qke(e){return typeof e=="symbol"||Wke(e)&&zke(e)==Hke}var Z0=qke,Gke=nl,Kke=Z0,Yke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xke=/^\w*$/;function Qke(e,t){if(Gke(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||Kke(e)?!0:Xke.test(e)||!Yke.test(e)||t!=null&&e in Object(t)}var B3=Qke;function Jke(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wm=Jke;const ev=na(Wm);var Zke=nh,eCe=Wm,tCe="[object AsyncFunction]",rCe="[object Function]",sCe="[object GeneratorFunction]",aCe="[object Proxy]";function nCe(e){if(!eCe(e))return!1;var t=Zke(e);return t==rCe||t==sCe||t==tCe||t==aCe}var U3=nCe;const Ur=na(U3);var iCe=iu,oCe=iCe["__core-js_shared__"],lCe=oCe,WP=lCe,eB=function(){var e=/[^.]+$/.exec(WP&&WP.keys&&WP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cCe(e){return!!eB&&eB in e}var dCe=cCe,uCe=Function.prototype,hCe=uCe.toString;function mCe(e){if(e!=null){try{return hCe.call(e)}catch{}try{return e+""}catch{}}return""}var CJ=mCe,fCe=U3,pCe=dCe,xCe=Wm,gCe=CJ,vCe=/[\\^$.*+?()[\]{}|]/g,yCe=/^\[object .+?Constructor\]$/,bCe=Function.prototype,wCe=Object.prototype,jCe=bCe.toString,NCe=wCe.hasOwnProperty,SCe=RegExp("^"+jCe.call(NCe).replace(vCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kCe(e){if(!xCe(e)||pCe(e))return!1;var t=fCe(e)?SCe:yCe;return t.test(gCe(e))}var CCe=kCe;function ACe(e,t){return e==null?void 0:e[t]}var ECe=ACe,PCe=CCe,TCe=ECe;function _Ce(e,t){var s=TCe(e,t);return PCe(s)?s:void 0}var Lp=_Ce,DCe=Lp,OCe=DCe(Object,"create"),VC=OCe,tB=VC;function ICe(){this.__data__=tB?tB(null):{},this.size=0}var RCe=ICe;function MCe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var FCe=MCe,LCe=VC,$Ce="__lodash_hash_undefined__",BCe=Object.prototype,UCe=BCe.hasOwnProperty;function VCe(e){var t=this.__data__;if(LCe){var s=t[e];return s===$Ce?void 0:s}return UCe.call(t,e)?t[e]:void 0}var zCe=VCe,WCe=VC,HCe=Object.prototype,qCe=HCe.hasOwnProperty;function GCe(e){var t=this.__data__;return WCe?t[e]!==void 0:qCe.call(t,e)}var KCe=GCe,YCe=VC,XCe="__lodash_hash_undefined__";function QCe(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=YCe&&t===void 0?XCe:t,this}var JCe=QCe,ZCe=RCe,eAe=FCe,tAe=zCe,rAe=KCe,sAe=JCe;function tv(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}tv.prototype.clear=ZCe;tv.prototype.delete=eAe;tv.prototype.get=tAe;tv.prototype.has=rAe;tv.prototype.set=sAe;var aAe=tv;function nAe(){this.__data__=[],this.size=0}var iAe=nAe;function oAe(e,t){return e===t||e!==e&&t!==t}var V3=oAe,lAe=V3;function cAe(e,t){for(var s=e.length;s--;)if(lAe(e[s][0],t))return s;return-1}var zC=cAe,dAe=zC,uAe=Array.prototype,hAe=uAe.splice;function mAe(e){var t=this.__data__,s=dAe(t,e);if(s<0)return!1;var a=t.length-1;return s==a?t.pop():hAe.call(t,s,1),--this.size,!0}var fAe=mAe,pAe=zC;function xAe(e){var t=this.__data__,s=pAe(t,e);return s<0?void 0:t[s][1]}var gAe=xAe,vAe=zC;function yAe(e){return vAe(this.__data__,e)>-1}var bAe=yAe,wAe=zC;function jAe(e,t){var s=this.__data__,a=wAe(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}var NAe=jAe,SAe=iAe,kAe=fAe,CAe=gAe,AAe=bAe,EAe=NAe;function rv(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}rv.prototype.clear=SAe;rv.prototype.delete=kAe;rv.prototype.get=CAe;rv.prototype.has=AAe;rv.prototype.set=EAe;var WC=rv,PAe=Lp,TAe=iu,_Ae=PAe(TAe,"Map"),z3=_Ae,rB=aAe,DAe=WC,OAe=z3;function IAe(){this.size=0,this.__data__={hash:new rB,map:new(OAe||DAe),string:new rB}}var RAe=IAe;function MAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var FAe=MAe,LAe=FAe;function $Ae(e,t){var s=e.__data__;return LAe(t)?s[typeof t=="string"?"string":"hash"]:s.map}var HC=$Ae,BAe=HC;function UAe(e){var t=BAe(this,e).delete(e);return this.size-=t?1:0,t}var VAe=UAe,zAe=HC;function WAe(e){return zAe(this,e).get(e)}var HAe=WAe,qAe=HC;function GAe(e){return qAe(this,e).has(e)}var KAe=GAe,YAe=HC;function XAe(e,t){var s=YAe(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}var QAe=XAe,JAe=RAe,ZAe=VAe,eEe=HAe,tEe=KAe,rEe=QAe;function sv(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}sv.prototype.clear=JAe;sv.prototype.delete=ZAe;sv.prototype.get=eEe;sv.prototype.has=tEe;sv.prototype.set=rEe;var W3=sv,AJ=W3,sEe="Expected a function";function H3(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sEe);var s=function(){var a=arguments,n=t?t.apply(this,a):a[0],i=s.cache;if(i.has(n))return i.get(n);var o=e.apply(this,a);return s.cache=i.set(n,o)||i,o};return s.cache=new(H3.Cache||AJ),s}H3.Cache=AJ;var EJ=H3;const aEe=na(EJ);var nEe=EJ,iEe=500;function oEe(e){var t=nEe(e,function(a){return s.size===iEe&&s.clear(),a}),s=t.cache;return t}var lEe=oEe,cEe=lEe,dEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uEe=/\\(\\)?/g,hEe=cEe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dEe,function(s,a,n,i){t.push(n?i.replace(uEe,"$1"):a||s)}),t}),mEe=hEe;function fEe(e,t){for(var s=-1,a=e==null?0:e.length,n=Array(a);++s<a;)n[s]=t(e[s],s,e);return n}var q3=fEe,sB=Cj,pEe=q3,xEe=nl,gEe=Z0,vEe=1/0,aB=sB?sB.prototype:void 0,nB=aB?aB.toString:void 0;function PJ(e){if(typeof e=="string")return e;if(xEe(e))return pEe(e,PJ)+"";if(gEe(e))return nB?nB.call(e):"";var t=e+"";return t=="0"&&1/e==-vEe?"-0":t}var yEe=PJ,bEe=yEe;function wEe(e){return e==null?"":bEe(e)}var TJ=wEe,jEe=nl,NEe=B3,SEe=mEe,kEe=TJ;function CEe(e,t){return jEe(e)?e:NEe(e,t)?[e]:SEe(kEe(e))}var _J=CEe,AEe=Z0,EEe=1/0;function PEe(e){if(typeof e=="string"||AEe(e))return e;var t=e+"";return t=="0"&&1/e==-EEe?"-0":t}var qC=PEe,TEe=_J,_Ee=qC;function DEe(e,t){t=TEe(t,e);for(var s=0,a=t.length;e!=null&&s<a;)e=e[_Ee(t[s++])];return s&&s==a?e:void 0}var G3=DEe,OEe=G3;function IEe(e,t,s){var a=e==null?void 0:OEe(e,t);return a===void 0?s:a}var DJ=IEe;const Cl=na(DJ);function REe(e){return e==null}var MEe=REe;const ls=na(MEe);var FEe=nh,LEe=nl,$Ee=ih,BEe="[object String]";function UEe(e){return typeof e=="string"||!LEe(e)&&$Ee(e)&&FEe(e)==BEe}var VEe=UEe;const mp=na(VEe);var OJ={exports:{}},fa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3=Symbol.for("react.element"),Y3=Symbol.for("react.portal"),GC=Symbol.for("react.fragment"),KC=Symbol.for("react.strict_mode"),YC=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),QC=Symbol.for("react.context"),zEe=Symbol.for("react.server_context"),JC=Symbol.for("react.forward_ref"),ZC=Symbol.for("react.suspense"),eA=Symbol.for("react.suspense_list"),tA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),WEe=Symbol.for("react.offscreen"),IJ;IJ=Symbol.for("react.module.reference");function gc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case K3:switch(e=e.type,e){case GC:case YC:case KC:case ZC:case eA:return e;default:switch(e=e&&e.$$typeof,e){case zEe:case QC:case JC:case rA:case tA:case XC:return e;default:return t}}case Y3:return t}}}fa.ContextConsumer=QC;fa.ContextProvider=XC;fa.Element=K3;fa.ForwardRef=JC;fa.Fragment=GC;fa.Lazy=rA;fa.Memo=tA;fa.Portal=Y3;fa.Profiler=YC;fa.StrictMode=KC;fa.Suspense=ZC;fa.SuspenseList=eA;fa.isAsyncMode=function(){return!1};fa.isConcurrentMode=function(){return!1};fa.isContextConsumer=function(e){return gc(e)===QC};fa.isContextProvider=function(e){return gc(e)===XC};fa.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===K3};fa.isForwardRef=function(e){return gc(e)===JC};fa.isFragment=function(e){return gc(e)===GC};fa.isLazy=function(e){return gc(e)===rA};fa.isMemo=function(e){return gc(e)===tA};fa.isPortal=function(e){return gc(e)===Y3};fa.isProfiler=function(e){return gc(e)===YC};fa.isStrictMode=function(e){return gc(e)===KC};fa.isSuspense=function(e){return gc(e)===ZC};fa.isSuspenseList=function(e){return gc(e)===eA};fa.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===GC||e===YC||e===KC||e===ZC||e===eA||e===WEe||typeof e=="object"&&e!==null&&(e.$$typeof===rA||e.$$typeof===tA||e.$$typeof===XC||e.$$typeof===QC||e.$$typeof===JC||e.$$typeof===IJ||e.getModuleId!==void 0)};fa.typeOf=gc;OJ.exports=fa;var HEe=OJ.exports,qEe=nh,GEe=ih,KEe="[object Number]";function YEe(e){return typeof e=="number"||GEe(e)&&qEe(e)==KEe}var RJ=YEe;const XEe=na(RJ);var QEe=RJ;function JEe(e){return QEe(e)&&e!=+e}var ZEe=JEe;const av=na(ZEe);var bo=function(t){return t===0?0:t>0?1:-1},Ef=function(t){return mp(t)&&t.indexOf("%")===t.length-1},Ct=function(t){return XEe(t)&&!av(t)},ePe=function(t){return ls(t)},ni=function(t){return Ct(t)||mp(t)},tPe=0,nv=function(t){var s=++tPe;return"".concat(t||"").concat(s)},wo=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ct(t)&&!mp(t))return a;var i;if(Ef(t)){var o=t.indexOf("%");i=s*parseFloat(t.slice(0,o))/100}else i=+t;return av(i)&&(i=a),n&&i>s&&(i=s),i},Rh=function(t){if(!t)return null;var s=Object.keys(t);return s&&s.length?t[s[0]]:null},rPe=function(t){if(!Array.isArray(t))return!1;for(var s=t.length,a={},n=0;n<s;n++)if(!a[t[n]])a[t[n]]=!0;else return!0;return!1},Vo=function(t,s){return Ct(t)&&Ct(s)?function(a){return t+a*(s-t)}:function(){return s}};function nS(e,t,s){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Cl(a,t))===s})}var sPe=function(t,s){return Ct(t)&&Ct(s)?t-s:mp(t)&&mp(s)?t.localeCompare(s):t instanceof Date&&s instanceof Date?t.getTime()-s.getTime():String(t).localeCompare(String(s))};function mg(e,t){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(t,s)||e[s]!==t[s]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Z_(e){"@babel/helpers - typeof";return Z_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z_(e)}var aPe=["viewBox","children"],nPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iB=["points","pathLength"],HP={svg:aPe,polygon:iB,polyline:iB},X3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iS=function(t,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(f.isValidElement(t)&&(a=t.props),!ev(a))return null;var n={};return Object.keys(a).forEach(function(i){X3.includes(i)&&(n[i]=s||function(o){return a[i](a,o)})}),n},iPe=function(t,s,a){return function(n){return t(s,a,n),null}},fp=function(t,s,a){if(!ev(t)||Z_(t)!=="object")return null;var n=null;return Object.keys(t).forEach(function(i){var o=t[i];X3.includes(i)&&typeof o=="function"&&(n||(n={}),n[i]=iPe(o,s,a))}),n},oPe=["children"],lPe=["children"];function oB(e,t){if(e==null)return{};var s=cPe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cPe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function e5(e){"@babel/helpers - typeof";return e5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e5(e)}var lB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ou=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},cB=null,qP=null,Q3=function e(t){if(t===cB&&Array.isArray(qP))return qP;var s=[];return f.Children.forEach(t,function(a){ls(a)||(HEe.isFragment(a)?s=s.concat(e(a.props.children)):s.push(a))}),qP=s,cB=t,s};function lc(e,t){var s=[],a=[];return Array.isArray(t)?a=t.map(function(n){return Ou(n)}):a=[Ou(t)],Q3(e).forEach(function(n){var i=Cl(n,"type.displayName")||Cl(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}function ul(e,t){var s=lc(e,t);return s&&s[0]}var dB=function(t){if(!t||!t.props)return!1;var s=t.props,a=s.width,n=s.height;return!(!Ct(a)||a<=0||!Ct(n)||n<=0)},dPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uPe=function(t){return t&&t.type&&mp(t.type)&&dPe.indexOf(t.type)>=0},hPe=function(t){return t&&e5(t)==="object"&&"clipDot"in t},mPe=function(t,s,a,n){var i,o=(i=HP==null?void 0:HP[n])!==null&&i!==void 0?i:[];return s.startsWith("data-")||!Ur(t)&&(n&&o.includes(s)||nPe.includes(s))||a&&X3.includes(s)},Dr=function(t,s,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(f.isValidElement(t)&&(n=t.props),!ev(n))return null;var i={};return Object.keys(n).forEach(function(o){var l;mPe((l=n)===null||l===void 0?void 0:l[o],o,s,a)&&(i[o]=n[o])}),i},t5=function e(t,s){if(t===s)return!0;var a=f.Children.count(t);if(a!==f.Children.count(s))return!1;if(a===0)return!0;if(a===1)return uB(Array.isArray(t)?t[0]:t,Array.isArray(s)?s[0]:s);for(var n=0;n<a;n++){var i=t[n],o=s[n];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!uB(i,o))return!1}return!0},uB=function(t,s){if(ls(t)&&ls(s))return!0;if(!ls(t)&&!ls(s)){var a=t.props||{},n=a.children,i=oB(a,oPe),o=s.props||{},l=o.children,c=oB(o,lPe);return n&&l?mg(i,c)&&t5(n,l):!n&&!l?mg(i,c):!1}return!1},hB=function(t,s){var a=[],n={};return Q3(t).forEach(function(i,o){if(uPe(i))a.push(i);else if(i){var l=Ou(i.type),c=s[l]||{},d=c.handler,u=c.once;if(d&&(!u||!n[l])){var h=d(i,l,o);a.push(h),n[l]=!0}}}),a},fPe=function(t){var s=t&&t.type;return s&&lB[s]?lB[s]:null},pPe=function(t,s){return Q3(s).indexOf(t)},xPe=["children","width","height","viewBox","className","style","title","desc"];function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},r5.apply(this,arguments)}function gPe(e,t){if(e==null)return{};var s=vPe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function vPe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function s5(e){var t=e.children,s=e.width,a=e.height,n=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=gPe(e,xPe),u=n||{width:s,height:a,x:0,y:0},h=os("recharts-surface",i);return ae.createElement("svg",r5({},Dr(d,!0,"svg"),{className:h,width:s,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),t)}var yPe=["children","className"];function a5(){return a5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},a5.apply(this,arguments)}function bPe(e,t){if(e==null)return{};var s=wPe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function wPe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}var Rs=ae.forwardRef(function(e,t){var s=e.children,a=e.className,n=bPe(e,yPe),i=os("recharts-layer",a);return ae.createElement("g",a5({className:i},Dr(n,!0),{ref:t}),s)}),ed=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function jPe(e,t,s){var a=-1,n=e.length;t<0&&(t=-t>n?0:n+t),s=s>n?n:s,s<0&&(s+=n),n=t>s?0:s-t>>>0,t>>>=0;for(var i=Array(n);++a<n;)i[a]=e[a+t];return i}var NPe=jPe,SPe=NPe;function kPe(e,t,s){var a=e.length;return s=s===void 0?a:s,!t&&s>=a?e:SPe(e,t,s)}var CPe=kPe,APe="\\ud800-\\udfff",EPe="\\u0300-\\u036f",PPe="\\ufe20-\\ufe2f",TPe="\\u20d0-\\u20ff",_Pe=EPe+PPe+TPe,DPe="\\ufe0e\\ufe0f",OPe="\\u200d",IPe=RegExp("["+OPe+APe+_Pe+DPe+"]");function RPe(e){return IPe.test(e)}var MJ=RPe;function MPe(e){return e.split("")}var FPe=MPe,FJ="\\ud800-\\udfff",LPe="\\u0300-\\u036f",$Pe="\\ufe20-\\ufe2f",BPe="\\u20d0-\\u20ff",UPe=LPe+$Pe+BPe,VPe="\\ufe0e\\ufe0f",zPe="["+FJ+"]",n5="["+UPe+"]",i5="\\ud83c[\\udffb-\\udfff]",WPe="(?:"+n5+"|"+i5+")",LJ="[^"+FJ+"]",$J="(?:\\ud83c[\\udde6-\\uddff]){2}",BJ="[\\ud800-\\udbff][\\udc00-\\udfff]",HPe="\\u200d",UJ=WPe+"?",VJ="["+VPe+"]?",qPe="(?:"+HPe+"(?:"+[LJ,$J,BJ].join("|")+")"+VJ+UJ+")*",GPe=VJ+UJ+qPe,KPe="(?:"+[LJ+n5+"?",n5,$J,BJ,zPe].join("|")+")",YPe=RegExp(i5+"(?="+i5+")|"+KPe+GPe,"g");function XPe(e){return e.match(YPe)||[]}var QPe=XPe,JPe=FPe,ZPe=MJ,e4e=QPe;function t4e(e){return ZPe(e)?e4e(e):JPe(e)}var r4e=t4e,s4e=CPe,a4e=MJ,n4e=r4e,i4e=TJ;function o4e(e){return function(t){t=i4e(t);var s=a4e(t)?n4e(t):void 0,a=s?s[0]:t.charAt(0),n=s?s4e(s,1).join(""):t.slice(1);return a[e]()+n}}var l4e=o4e,c4e=l4e,d4e=c4e("toUpperCase"),u4e=d4e;const sA=na(u4e);function Pa(e){return function(){return e}}const zJ=Math.cos,oS=Math.sin,hd=Math.sqrt,lS=Math.PI,aA=2*lS,o5=Math.PI,l5=2*o5,pf=1e-6,h4e=l5-pf;function WJ(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function m4e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WJ;const s=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class f4e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WJ:m4e(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,a,n){this._append`Q${+t},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,s,a,n,i,o){this._append`C${+t},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(t,s,a,n,i){if(t=+t,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=n-s,u=o-t,h=l-s,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(m>pf)if(!(Math.abs(h*c-d*u)>pf)||!i)this._append`L${this._x1=t},${this._y1=s}`;else{let p=a-o,g=n-l,x=c*c+d*d,y=p*p+g*g,b=Math.sqrt(x),w=Math.sqrt(m),v=i*Math.tan((o5-Math.acos((x+m-y)/(2*b*w)))/2),S=v/w,j=v/b;Math.abs(S-1)>pf&&this._append`L${t+S*u},${s+S*h}`,this._append`A${i},${i},0,0,${+(h*p>u*g)},${this._x1=t+j*c},${this._y1=s+j*d}`}}arc(t,s,a,n,i,o){if(t=+t,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),c=a*Math.sin(n),d=t+l,u=s+c,h=1^o,m=o?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>pf||Math.abs(this._y1-u)>pf)&&this._append`L${d},${u}`,a&&(m<0&&(m=m%l5+l5),m>h4e?this._append`A${a},${a},0,1,${h},${t-l},${s-c}A${a},${a},0,1,${h},${this._x1=d},${this._y1=u}`:m>pf&&this._append`A${a},${a},0,${+(m>=o5)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(t,s,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function J3(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);t=a}return e},()=>new f4e(t)}function Z3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HJ(e){this._context=e}HJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nA(e){return new HJ(e)}function qJ(e){return e[0]}function GJ(e){return e[1]}function KJ(e,t){var s=Pa(!0),a=null,n=nA,i=null,o=J3(l);e=typeof e=="function"?e:e===void 0?qJ:Pa(e),t=typeof t=="function"?t:t===void 0?GJ:Pa(t);function l(c){var d,u=(c=Z3(c)).length,h,m=!1,p;for(a==null&&(i=n(p=o())),d=0;d<=u;++d)!(d<u&&s(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Pa(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Pa(+c),l):t},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Pa(!!c),l):s},l.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),l):n},l.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),l):a},l}function Q1(e,t,s){var a=null,n=Pa(!0),i=null,o=nA,l=null,c=J3(d);e=typeof e=="function"?e:e===void 0?qJ:Pa(+e),t=typeof t=="function"?t:Pa(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?GJ:Pa(+s);function d(h){var m,p,g,x=(h=Z3(h)).length,y,b=!1,w,v=new Array(x),S=new Array(x);for(i==null&&(l=o(w=c())),m=0;m<=x;++m){if(!(m<x&&n(y=h[m],m,h))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=p;--g)l.point(v[g],S[g]);l.lineEnd(),l.areaEnd()}b&&(v[m]=+e(y,m,h),S[m]=+t(y,m,h),l.point(a?+a(y,m,h):v[m],s?+s(y,m,h):S[m]))}if(w)return l=null,w+""||null}function u(){return KJ().defined(n).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Pa(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Pa(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Pa(+h),d):a},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Pa(+h),s=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Pa(+h),d):t},d.y1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Pa(+h),d):s},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(s)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Pa(!!h),d):n},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class YJ{constructor(t,s){this._context=t,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,s,t,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,t,this._y0,t,s);break}}this._x0=t,this._y0=s}}function p4e(e){return new YJ(e,!0)}function x4e(e){return new YJ(e,!1)}const eR={draw(e,t){const s=hd(t/lS);e.moveTo(s,0),e.arc(0,0,s,0,aA)}},g4e={draw(e,t){const s=hd(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},XJ=hd(1/3),v4e=XJ*2,y4e={draw(e,t){const s=hd(t/v4e),a=s*XJ;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},b4e={draw(e,t){const s=hd(t),a=-s/2;e.rect(a,a,s,s)}},w4e=.8908130915292852,QJ=oS(lS/10)/oS(7*lS/10),j4e=oS(aA/10)*QJ,N4e=-zJ(aA/10)*QJ,S4e={draw(e,t){const s=hd(t*w4e),a=j4e*s,n=N4e*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const o=aA*i/5,l=zJ(o),c=oS(o);e.lineTo(c*s,-l*s),e.lineTo(l*a-c*n,c*a+l*n)}e.closePath()}},GP=hd(3),k4e={draw(e,t){const s=-hd(t/(GP*3));e.moveTo(0,s*2),e.lineTo(-GP*s,-s),e.lineTo(GP*s,-s),e.closePath()}},Rl=-.5,Ml=hd(3)/2,c5=1/hd(12),C4e=(c5/2+1)*3,A4e={draw(e,t){const s=hd(t/C4e),a=s/2,n=s*c5,i=a,o=s*c5+s,l=-i,c=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Rl*a-Ml*n,Ml*a+Rl*n),e.lineTo(Rl*i-Ml*o,Ml*i+Rl*o),e.lineTo(Rl*l-Ml*c,Ml*l+Rl*c),e.lineTo(Rl*a+Ml*n,Rl*n-Ml*a),e.lineTo(Rl*i+Ml*o,Rl*o-Ml*i),e.lineTo(Rl*l+Ml*c,Rl*c-Ml*l),e.closePath()}};function E4e(e,t){let s=null,a=J3(n);e=typeof e=="function"?e:Pa(e||eR),t=typeof t=="function"?t:Pa(t===void 0?64:+t);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Pa(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Pa(+i),n):t},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function cS(){}function dS(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function JJ(e){this._context=e}JJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P4e(e){return new JJ(e)}function ZJ(e){this._context=e}ZJ.prototype={areaStart:cS,areaEnd:cS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T4e(e){return new ZJ(e)}function eZ(e){this._context=e}eZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:dS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _4e(e){return new eZ(e)}function tZ(e){this._context=e}tZ.prototype={areaStart:cS,areaEnd:cS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function D4e(e){return new tZ(e)}function mB(e){return e<0?-1:1}function fB(e,t,s){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(s-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(mB(i)+mB(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function pB(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function KP(e,t,s){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*t,i-l,o-l*s,i,o)}function uS(e){this._context=e}uS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KP(this,this._t0,pB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,KP(this,pB(this,s=fB(this,e,t)),s);break;default:KP(this,this._t0,s=fB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}};function rZ(e){this._context=new sZ(e)}(rZ.prototype=Object.create(uS.prototype)).point=function(e,t){uS.prototype.point.call(this,t,e)};function sZ(e){this._context=e}sZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,a,n,i){this._context.bezierCurveTo(t,e,a,s,i,n)}};function O4e(e){return new uS(e)}function I4e(e){return new rZ(e)}function aZ(e){this._context=e}aZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var a=xB(e),n=xB(t),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],t[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xB(e){var t,s=e.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<s-1;++t)n[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)a=n[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(n[s-1]=o[s-1]/i[s-1],t=s-2;t>=0;--t)n[t]=(o[t]-n[t+1])/i[t];for(i[s-1]=(e[s]+n[s-1])/2,t=0;t<s-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function R4e(e){return new aZ(e)}function iA(e,t){this._context=e,this._t=t}iA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=e,this._y=t}};function M4e(e){return new iA(e,.5)}function F4e(e){return new iA(e,0)}function L4e(e){return new iA(e,1)}function Kg(e,t){if((o=e.length)>1)for(var s=1,a,n,i=e[t[0]],o,l=i.length;s<o;++s)for(n=i,i=e[t[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function d5(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function $4e(e,t){return e[t]}function B4e(e){const t=[];return t.key=e,t}function U4e(){var e=Pa([]),t=d5,s=Kg,a=$4e;function n(i){var o=Array.from(e.apply(this,arguments),B4e),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(h,o[l].key,d,i)]).data=h;for(l=0,u=Z3(t(o));l<c;++l)o[u[l]].index=l;return s(o,u),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pa(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Pa(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?d5:typeof i=="function"?i:Pa(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(s=i??Kg,n):s},n}function V4e(e,t){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<a;++s)e[s][n][1]/=o}Kg(e,t)}}function z4e(e,t){if((n=e.length)>0){for(var s=0,a=e[t[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}Kg(e,t)}}function W4e(e,t){if(!(!((o=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[a][1]||0,m=u[a-1][1]||0,p=(h-m)/2,g=0;g<l;++g){var x=e[t[g]],y=x[a][1]||0,b=x[a-1][1]||0;p+=y-b}c+=h,d+=p*h}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,Kg(e,t)}}function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}var H4e=["type","size","sizeType"];function u5(){return u5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},u5.apply(this,arguments)}function gB(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vB(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(s),!0).forEach(function(a){q4e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gB(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function q4e(e,t,s){return t=G4e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function G4e(e){var t=K4e(e,"string");return Wb(t)=="symbol"?t:t+""}function K4e(e,t){if(Wb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Wb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y4e(e,t){if(e==null)return{};var s=X4e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function X4e(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}var nZ={symbolCircle:eR,symbolCross:g4e,symbolDiamond:y4e,symbolSquare:b4e,symbolStar:S4e,symbolTriangle:k4e,symbolWye:A4e},Q4e=Math.PI/180,J4e=function(t){var s="symbol".concat(sA(t));return nZ[s]||eR},Z4e=function(t,s,a){if(s==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Q4e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eTe=function(t,s){nZ["symbol".concat(sA(t))]=s},tR=function(t){var s=t.type,a=s===void 0?"circle":s,n=t.size,i=n===void 0?64:n,o=t.sizeType,l=o===void 0?"area":o,c=Y4e(t,H4e),d=vB(vB({},c),{},{type:a,size:i,sizeType:l}),u=function(){var y=J4e(a),b=E4e().type(y).size(Z4e(i,l,a));return b()},h=d.className,m=d.cx,p=d.cy,g=Dr(d,!0);return m===+m&&p===+p&&i===+i?ae.createElement("path",u5({},g,{className:os("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};tR.registerSymbol=eTe;function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},h5.apply(this,arguments)}function yB(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function tTe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(s),!0).forEach(function(a){Hb(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yB(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sTe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oZ(a.key),a)}}function aTe(e,t,s){return t&&sTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nTe(e,t,s){return t=hS(t),iTe(e,iZ()?Reflect.construct(t,s||[],hS(e).constructor):t.apply(e,s))}function iTe(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(e)}function oTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iZ=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},hS(e)}function lTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m5(e,t)}function m5(e,t){return m5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},m5(e,t)}function Hb(e,t,s){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oZ(e){var t=cTe(e,"string");return Yg(t)=="symbol"?t:t+""}function cTe(e,t){if(Yg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fl=32,rR=function(e){function t(){return rTe(this,t),nTe(this,t,arguments)}return lTe(t,e),aTe(t,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,i=Fl/2,o=Fl/6,l=Fl/3,c=a.inactive?n:a.color;if(a.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Fl,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Fl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Fl/8,"h").concat(Fl,"v").concat(Fl*3/4,"h").concat(-Fl,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(a.legendIcon)){var d=tTe({},a);return delete d.legendIcon,ae.cloneElement(a.legendIcon,d)}return ae.createElement(tR,{fill:c,cx:i,cy:i,size:Fl,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,i=n.payload,o=n.iconSize,l=n.layout,c=n.formatter,d=n.inactiveColor,u={x:0,y:0,width:Fl,height:Fl},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var x=p.formatter||c,y=os(Hb(Hb({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Ur(p.value)?null:p.value;ed(!Ur(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?d:p.color;return ae.createElement("li",h5({className:y,style:h,key:"legend-item-".concat(g)},fp(a.props,p,g)),ae.createElement(s5,{width:o,height:o,viewBox:u,style:m},a.renderIcon(p)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(b,p,g):b))})}},{key:"render",value:function(){var a=this.props,n=a.payload,i=a.layout,o=a.align;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(f.PureComponent);Hb(rR,"displayName","Legend");Hb(rR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dTe=WC;function uTe(){this.__data__=new dTe,this.size=0}var hTe=uTe;function mTe(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}var fTe=mTe;function pTe(e){return this.__data__.get(e)}var xTe=pTe;function gTe(e){return this.__data__.has(e)}var vTe=gTe,yTe=WC,bTe=z3,wTe=W3,jTe=200;function NTe(e,t){var s=this.__data__;if(s instanceof yTe){var a=s.__data__;if(!bTe||a.length<jTe-1)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new wTe(a)}return s.set(e,t),this.size=s.size,this}var STe=NTe,kTe=WC,CTe=hTe,ATe=fTe,ETe=xTe,PTe=vTe,TTe=STe;function iv(e){var t=this.__data__=new kTe(e);this.size=t.size}iv.prototype.clear=CTe;iv.prototype.delete=ATe;iv.prototype.get=ETe;iv.prototype.has=PTe;iv.prototype.set=TTe;var lZ=iv,_Te="__lodash_hash_undefined__";function DTe(e){return this.__data__.set(e,_Te),this}var OTe=DTe;function ITe(e){return this.__data__.has(e)}var RTe=ITe,MTe=W3,FTe=OTe,LTe=RTe;function mS(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new MTe;++t<s;)this.add(e[t])}mS.prototype.add=mS.prototype.push=FTe;mS.prototype.has=LTe;var cZ=mS;function $Te(e,t){for(var s=-1,a=e==null?0:e.length;++s<a;)if(t(e[s],s,e))return!0;return!1}var dZ=$Te;function BTe(e,t){return e.has(t)}var uZ=BTe,UTe=cZ,VTe=dZ,zTe=uZ,WTe=1,HTe=2;function qTe(e,t,s,a,n,i){var o=s&WTe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,m=!0,p=s&HTe?new UTe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],x=t[h];if(a)var y=o?a(x,g,h,t,e,i):a(g,x,h,e,t,i);if(y!==void 0){if(y)continue;m=!1;break}if(p){if(!VTe(t,function(b,w){if(!zTe(p,w)&&(g===b||n(g,b,s,a,i)))return p.push(w)})){m=!1;break}}else if(!(g===x||n(g,x,s,a,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var hZ=qTe,GTe=iu,KTe=GTe.Uint8Array,YTe=KTe;function XTe(e){var t=-1,s=Array(e.size);return e.forEach(function(a,n){s[++t]=[n,a]}),s}var QTe=XTe;function JTe(e){var t=-1,s=Array(e.size);return e.forEach(function(a){s[++t]=a}),s}var sR=JTe,bB=Cj,wB=YTe,ZTe=V3,e_e=hZ,t_e=QTe,r_e=sR,s_e=1,a_e=2,n_e="[object Boolean]",i_e="[object Date]",o_e="[object Error]",l_e="[object Map]",c_e="[object Number]",d_e="[object RegExp]",u_e="[object Set]",h_e="[object String]",m_e="[object Symbol]",f_e="[object ArrayBuffer]",p_e="[object DataView]",jB=bB?bB.prototype:void 0,YP=jB?jB.valueOf:void 0;function x_e(e,t,s,a,n,i,o){switch(s){case p_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case f_e:return!(e.byteLength!=t.byteLength||!i(new wB(e),new wB(t)));case n_e:case i_e:case c_e:return ZTe(+e,+t);case o_e:return e.name==t.name&&e.message==t.message;case d_e:case h_e:return e==t+"";case l_e:var l=t_e;case u_e:var c=a&s_e;if(l||(l=r_e),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=a_e,o.set(e,t);var u=e_e(l(e),l(t),a,n,i,o);return o.delete(e),u;case m_e:if(YP)return YP.call(e)==YP.call(t)}return!1}var g_e=x_e;function v_e(e,t){for(var s=-1,a=t.length,n=e.length;++s<a;)e[n+s]=t[s];return e}var mZ=v_e,y_e=mZ,b_e=nl;function w_e(e,t,s){var a=t(e);return b_e(e)?a:y_e(a,s(e))}var j_e=w_e;function N_e(e,t){for(var s=-1,a=e==null?0:e.length,n=0,i=[];++s<a;){var o=e[s];t(o,s,e)&&(i[n++]=o)}return i}var S_e=N_e;function k_e(){return[]}var C_e=k_e,A_e=S_e,E_e=C_e,P_e=Object.prototype,T_e=P_e.propertyIsEnumerable,NB=Object.getOwnPropertySymbols,__e=NB?function(e){return e==null?[]:(e=Object(e),A_e(NB(e),function(t){return T_e.call(e,t)}))}:E_e,D_e=__e;function O_e(e,t){for(var s=-1,a=Array(e);++s<e;)a[s]=t(s);return a}var I_e=O_e,R_e=nh,M_e=ih,F_e="[object Arguments]";function L_e(e){return M_e(e)&&R_e(e)==F_e}var $_e=L_e,SB=$_e,B_e=ih,fZ=Object.prototype,U_e=fZ.hasOwnProperty,V_e=fZ.propertyIsEnumerable,z_e=SB(function(){return arguments}())?SB:function(e){return B_e(e)&&U_e.call(e,"callee")&&!V_e.call(e,"callee")},aR=z_e,fS={exports:{}};function W_e(){return!1}var H_e=W_e;fS.exports;(function(e,t){var s=iu,a=H_e,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(fS,fS.exports);var pZ=fS.exports,q_e=9007199254740991,G_e=/^(?:0|[1-9]\d*)$/;function K_e(e,t){var s=typeof e;return t=t??q_e,!!t&&(s=="number"||s!="symbol"&&G_e.test(e))&&e>-1&&e%1==0&&e<t}var nR=K_e,Y_e=9007199254740991;function X_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Y_e}var iR=X_e,Q_e=nh,J_e=iR,Z_e=ih,e5e="[object Arguments]",t5e="[object Array]",r5e="[object Boolean]",s5e="[object Date]",a5e="[object Error]",n5e="[object Function]",i5e="[object Map]",o5e="[object Number]",l5e="[object Object]",c5e="[object RegExp]",d5e="[object Set]",u5e="[object String]",h5e="[object WeakMap]",m5e="[object ArrayBuffer]",f5e="[object DataView]",p5e="[object Float32Array]",x5e="[object Float64Array]",g5e="[object Int8Array]",v5e="[object Int16Array]",y5e="[object Int32Array]",b5e="[object Uint8Array]",w5e="[object Uint8ClampedArray]",j5e="[object Uint16Array]",N5e="[object Uint32Array]",Ra={};Ra[p5e]=Ra[x5e]=Ra[g5e]=Ra[v5e]=Ra[y5e]=Ra[b5e]=Ra[w5e]=Ra[j5e]=Ra[N5e]=!0;Ra[e5e]=Ra[t5e]=Ra[m5e]=Ra[r5e]=Ra[f5e]=Ra[s5e]=Ra[a5e]=Ra[n5e]=Ra[i5e]=Ra[o5e]=Ra[l5e]=Ra[c5e]=Ra[d5e]=Ra[u5e]=Ra[h5e]=!1;function S5e(e){return Z_e(e)&&J_e(e.length)&&!!Ra[Q_e(e)]}var k5e=S5e;function C5e(e){return function(t){return e(t)}}var xZ=C5e,pS={exports:{}};pS.exports;(function(e,t){var s=SJ,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,o=i&&s.process,l=function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(pS,pS.exports);var A5e=pS.exports,E5e=k5e,P5e=xZ,kB=A5e,CB=kB&&kB.isTypedArray,T5e=CB?P5e(CB):E5e,gZ=T5e,_5e=I_e,D5e=aR,O5e=nl,I5e=pZ,R5e=nR,M5e=gZ,F5e=Object.prototype,L5e=F5e.hasOwnProperty;function $5e(e,t){var s=O5e(e),a=!s&&D5e(e),n=!s&&!a&&I5e(e),i=!s&&!a&&!n&&M5e(e),o=s||a||n||i,l=o?_5e(e.length,String):[],c=l.length;for(var d in e)(t||L5e.call(e,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||R5e(d,c)))&&l.push(d);return l}var B5e=$5e,U5e=Object.prototype;function V5e(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||U5e;return e===s}var z5e=V5e;function W5e(e,t){return function(s){return e(t(s))}}var vZ=W5e,H5e=vZ,q5e=H5e(Object.keys,Object),G5e=q5e,K5e=z5e,Y5e=G5e,X5e=Object.prototype,Q5e=X5e.hasOwnProperty;function J5e(e){if(!K5e(e))return Y5e(e);var t=[];for(var s in Object(e))Q5e.call(e,s)&&s!="constructor"&&t.push(s);return t}var Z5e=J5e,eDe=U3,tDe=iR;function rDe(e){return e!=null&&tDe(e.length)&&!eDe(e)}var Aj=rDe,sDe=B5e,aDe=Z5e,nDe=Aj;function iDe(e){return nDe(e)?sDe(e):aDe(e)}var oA=iDe,oDe=j_e,lDe=D_e,cDe=oA;function dDe(e){return oDe(e,cDe,lDe)}var uDe=dDe,AB=uDe,hDe=1,mDe=Object.prototype,fDe=mDe.hasOwnProperty;function pDe(e,t,s,a,n,i){var o=s&hDe,l=AB(e),c=l.length,d=AB(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in t:fDe.call(t,m)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var x=!0;i.set(e,t),i.set(t,e);for(var y=o;++h<c;){m=l[h];var b=e[m],w=t[m];if(a)var v=o?a(w,b,m,t,e,i):a(b,w,m,e,t,i);if(!(v===void 0?b===w||n(b,w,s,a,i):v)){x=!1;break}y||(y=m=="constructor")}if(x&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(x=!1)}return i.delete(e),i.delete(t),x}var xDe=pDe,gDe=Lp,vDe=iu,yDe=gDe(vDe,"DataView"),bDe=yDe,wDe=Lp,jDe=iu,NDe=wDe(jDe,"Promise"),SDe=NDe,kDe=Lp,CDe=iu,ADe=kDe(CDe,"Set"),yZ=ADe,EDe=Lp,PDe=iu,TDe=EDe(PDe,"WeakMap"),_De=TDe,f5=bDe,p5=z3,x5=SDe,g5=yZ,v5=_De,bZ=nh,ov=CJ,EB="[object Map]",DDe="[object Object]",PB="[object Promise]",TB="[object Set]",_B="[object WeakMap]",DB="[object DataView]",ODe=ov(f5),IDe=ov(p5),RDe=ov(x5),MDe=ov(g5),FDe=ov(v5),xf=bZ;(f5&&xf(new f5(new ArrayBuffer(1)))!=DB||p5&&xf(new p5)!=EB||x5&&xf(x5.resolve())!=PB||g5&&xf(new g5)!=TB||v5&&xf(new v5)!=_B)&&(xf=function(e){var t=bZ(e),s=t==DDe?e.constructor:void 0,a=s?ov(s):"";if(a)switch(a){case ODe:return DB;case IDe:return EB;case RDe:return PB;case MDe:return TB;case FDe:return _B}return t});var LDe=xf,XP=lZ,$De=hZ,BDe=g_e,UDe=xDe,OB=LDe,IB=nl,RB=pZ,VDe=gZ,zDe=1,MB="[object Arguments]",FB="[object Array]",J1="[object Object]",WDe=Object.prototype,LB=WDe.hasOwnProperty;function HDe(e,t,s,a,n,i){var o=IB(e),l=IB(t),c=o?FB:OB(e),d=l?FB:OB(t);c=c==MB?J1:c,d=d==MB?J1:d;var u=c==J1,h=d==J1,m=c==d;if(m&&RB(e)){if(!RB(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new XP),o||VDe(e)?$De(e,t,s,a,n,i):BDe(e,t,c,s,a,n,i);if(!(s&zDe)){var p=u&&LB.call(e,"__wrapped__"),g=h&&LB.call(t,"__wrapped__");if(p||g){var x=p?e.value():e,y=g?t.value():t;return i||(i=new XP),n(x,y,s,a,i)}}return m?(i||(i=new XP),UDe(e,t,s,a,n,i)):!1}var qDe=HDe,GDe=qDe,$B=ih;function wZ(e,t,s,a,n){return e===t?!0:e==null||t==null||!$B(e)&&!$B(t)?e!==e&&t!==t:GDe(e,t,s,a,wZ,n)}var oR=wZ,KDe=lZ,YDe=oR,XDe=1,QDe=2;function JDe(e,t,s,a){var n=s.length,i=n,o=!a;if(e==null)return!i;for(e=Object(e);n--;){var l=s[n];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<i;){l=s[n];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new KDe;if(a)var m=a(d,u,c,e,t,h);if(!(m===void 0?YDe(u,d,XDe|QDe,a,h):m))return!1}}return!0}var ZDe=JDe,eOe=Wm;function tOe(e){return e===e&&!eOe(e)}var jZ=tOe,rOe=jZ,sOe=oA;function aOe(e){for(var t=sOe(e),s=t.length;s--;){var a=t[s],n=e[a];t[s]=[a,n,rOe(n)]}return t}var nOe=aOe;function iOe(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==void 0||e in Object(s))}}var NZ=iOe,oOe=ZDe,lOe=nOe,cOe=NZ;function dOe(e){var t=lOe(e);return t.length==1&&t[0][2]?cOe(t[0][0],t[0][1]):function(s){return s===e||oOe(s,e,t)}}var uOe=dOe;function hOe(e,t){return e!=null&&t in Object(e)}var mOe=hOe,fOe=_J,pOe=aR,xOe=nl,gOe=nR,vOe=iR,yOe=qC;function bOe(e,t,s){t=fOe(t,e);for(var a=-1,n=t.length,i=!1;++a<n;){var o=yOe(t[a]);if(!(i=e!=null&&s(e,o)))break;e=e[o]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&vOe(n)&&gOe(o,n)&&(xOe(e)||pOe(e)))}var wOe=bOe,jOe=mOe,NOe=wOe;function SOe(e,t){return e!=null&&NOe(e,t,jOe)}var kOe=SOe,COe=oR,AOe=DJ,EOe=kOe,POe=B3,TOe=jZ,_Oe=NZ,DOe=qC,OOe=1,IOe=2;function ROe(e,t){return POe(e)&&TOe(t)?_Oe(DOe(e),t):function(s){var a=AOe(s,e);return a===void 0&&a===t?EOe(s,e):COe(t,a,OOe|IOe)}}var MOe=ROe;function FOe(e){return e}var lv=FOe;function LOe(e){return function(t){return t==null?void 0:t[e]}}var $Oe=LOe,BOe=G3;function UOe(e){return function(t){return BOe(t,e)}}var VOe=UOe,zOe=$Oe,WOe=VOe,HOe=B3,qOe=qC;function GOe(e){return HOe(e)?zOe(qOe(e)):WOe(e)}var KOe=GOe,YOe=uOe,XOe=MOe,QOe=lv,JOe=nl,ZOe=KOe;function eIe(e){return typeof e=="function"?e:e==null?QOe:typeof e=="object"?JOe(e)?XOe(e[0],e[1]):YOe(e):ZOe(e)}var ou=eIe;function tIe(e,t,s,a){for(var n=e.length,i=s+(a?1:-1);a?i--:++i<n;)if(t(e[i],i,e))return i;return-1}var SZ=tIe;function rIe(e){return e!==e}var sIe=rIe;function aIe(e,t,s){for(var a=s-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}var nIe=aIe,iIe=SZ,oIe=sIe,lIe=nIe;function cIe(e,t,s){return t===t?lIe(e,t,s):iIe(e,oIe,s)}var dIe=cIe,uIe=dIe;function hIe(e,t){var s=e==null?0:e.length;return!!s&&uIe(e,t,0)>-1}var mIe=hIe;function fIe(e,t,s){for(var a=-1,n=e==null?0:e.length;++a<n;)if(s(t,e[a]))return!0;return!1}var pIe=fIe;function xIe(){}var gIe=xIe,QP=yZ,vIe=gIe,yIe=sR,bIe=1/0,wIe=QP&&1/yIe(new QP([,-0]))[1]==bIe?function(e){return new QP(e)}:vIe,jIe=wIe,NIe=cZ,SIe=mIe,kIe=pIe,CIe=uZ,AIe=jIe,EIe=sR,PIe=200;function TIe(e,t,s){var a=-1,n=SIe,i=e.length,o=!0,l=[],c=l;if(s)o=!1,n=kIe;else if(i>=PIe){var d=t?null:AIe(e);if(d)return EIe(d);o=!1,n=CIe,c=new NIe}else c=t?[]:l;e:for(;++a<i;){var u=e[a],h=t?t(u):u;if(u=s||u!==0?u:0,o&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(u)}else n(c,h,s)||(c!==l&&c.push(h),l.push(u))}return l}var _Ie=TIe,DIe=ou,OIe=_Ie;function IIe(e,t){return e&&e.length?OIe(e,DIe(t)):[]}var RIe=IIe;const BB=na(RIe);function kZ(e,t,s){return t===!0?BB(e,s):Ur(t)?BB(e,t):e}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}var MIe=["ref"];function UB(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gu(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(s),!0).forEach(function(a){lA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):UB(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function FIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VB(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AZ(a.key),a)}}function LIe(e,t,s){return t&&VB(e.prototype,t),s&&VB(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ie(e,t,s){return t=xS(t),BIe(e,CZ()?Reflect.construct(t,s||[],xS(e).constructor):t.apply(e,s))}function BIe(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIe(e)}function UIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CZ=function(){return!!e})()}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},xS(e)}function VIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y5(e,t)}function y5(e,t){return y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},y5(e,t)}function lA(e,t,s){return t=AZ(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function AZ(e){var t=zIe(e,"string");return Xg(t)=="symbol"?t:t+""}function zIe(e,t){if(Xg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WIe(e,t){if(e==null)return{};var s=HIe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function HIe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function qIe(e){return e.value}function GIe(e,t){if(ae.isValidElement(e))return ae.cloneElement(e,t);if(typeof e=="function")return ae.createElement(e,t);t.ref;var s=WIe(t,MIe);return ae.createElement(rR,s)}var zB=1,fg=function(e){function t(){var s;FIe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=$Ie(this,t,[].concat(n)),lA(s,"lastBoundingBox",{width:-1,height:-1}),s}return VIe(t,e),LIe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>zB||Math.abs(n.height-this.lastBoundingBox.height)>zB)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,i=n.layout,o=n.align,l=n.verticalAlign,c=n.margin,d=n.chartWidth,u=n.chartHeight,h,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((u||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gu(gu({},h),m)}},{key:"render",value:function(){var a=this,n=this.props,i=n.content,o=n.width,l=n.height,c=n.wrapperStyle,d=n.payloadUniqBy,u=n.payload,h=gu(gu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){a.wrapperNode=p}},GIe(i,gu(gu({},this.props),{},{payload:kZ(u,d,qIe)})))}}],[{key:"getWithHeight",value:function(a,n){var i=gu(gu({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Ct(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||n}:null}}])}(f.PureComponent);lA(fg,"displayName","Legend");lA(fg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WB=Cj,KIe=aR,YIe=nl,HB=WB?WB.isConcatSpreadable:void 0;function XIe(e){return YIe(e)||KIe(e)||!!(HB&&e&&e[HB])}var QIe=XIe,JIe=mZ,ZIe=QIe;function EZ(e,t,s,a,n){var i=-1,o=e.length;for(s||(s=ZIe),n||(n=[]);++i<o;){var l=e[i];t>0&&s(l)?t>1?EZ(l,t-1,s,a,n):JIe(n,l):a||(n[n.length]=l)}return n}var PZ=EZ;function e3e(e){return function(t,s,a){for(var n=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++n];if(s(i[c],c,i)===!1)break}return t}}var t3e=e3e,r3e=t3e,s3e=r3e(),a3e=s3e,n3e=a3e,i3e=oA;function o3e(e,t){return e&&n3e(e,t,i3e)}var TZ=o3e,l3e=Aj;function c3e(e,t){return function(s,a){if(s==null)return s;if(!l3e(s))return e(s,a);for(var n=s.length,i=t?n:-1,o=Object(s);(t?i--:++i<n)&&a(o[i],i,o)!==!1;);return s}}var d3e=c3e,u3e=TZ,h3e=d3e,m3e=h3e(u3e),lR=m3e,f3e=lR,p3e=Aj;function x3e(e,t){var s=-1,a=p3e(e)?Array(e.length):[];return f3e(e,function(n,i,o){a[++s]=t(n,i,o)}),a}var _Z=x3e;function g3e(e,t){var s=e.length;for(e.sort(t);s--;)e[s]=e[s].value;return e}var v3e=g3e,qB=Z0;function y3e(e,t){if(e!==t){var s=e!==void 0,a=e===null,n=e===e,i=qB(e),o=t!==void 0,l=t===null,c=t===t,d=qB(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!s&&c||!n)return 1;if(!a&&!i&&!d&&e<t||d&&s&&n&&!a&&!i||l&&s&&n||!o&&n||!c)return-1}return 0}var b3e=y3e,w3e=b3e;function j3e(e,t,s){for(var a=-1,n=e.criteria,i=t.criteria,o=n.length,l=s.length;++a<o;){var c=w3e(n[a],i[a]);if(c){if(a>=l)return c;var d=s[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var N3e=j3e,JP=q3,S3e=G3,k3e=ou,C3e=_Z,A3e=v3e,E3e=xZ,P3e=N3e,T3e=lv,_3e=nl;function D3e(e,t,s){t.length?t=JP(t,function(i){return _3e(i)?function(o){return S3e(o,i.length===1?i[0]:i)}:i}):t=[T3e];var a=-1;t=JP(t,E3e(k3e));var n=C3e(e,function(i,o,l){var c=JP(t,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return A3e(n,function(i,o){return P3e(i,o,s)})}var O3e=D3e;function I3e(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}var R3e=I3e,M3e=R3e,GB=Math.max;function F3e(e,t,s){return t=GB(t===void 0?e.length-1:t,0),function(){for(var a=arguments,n=-1,i=GB(a.length-t,0),o=Array(i);++n<i;)o[n]=a[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=a[n];return l[t]=s(o),M3e(e,this,l)}}var L3e=F3e;function $3e(e){return function(){return e}}var B3e=$3e,U3e=Lp,V3e=function(){try{var e=U3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),DZ=V3e,z3e=B3e,KB=DZ,W3e=lv,H3e=KB?function(e,t){return KB(e,"toString",{configurable:!0,enumerable:!1,value:z3e(t),writable:!0})}:W3e,q3e=H3e,G3e=800,K3e=16,Y3e=Date.now;function X3e(e){var t=0,s=0;return function(){var a=Y3e(),n=K3e-(a-s);if(s=a,n>0){if(++t>=G3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Q3e=X3e,J3e=q3e,Z3e=Q3e,eRe=Z3e(J3e),tRe=eRe,rRe=lv,sRe=L3e,aRe=tRe;function nRe(e,t){return aRe(sRe(e,t,rRe),e+"")}var iRe=nRe,oRe=V3,lRe=Aj,cRe=nR,dRe=Wm;function uRe(e,t,s){if(!dRe(s))return!1;var a=typeof t;return(a=="number"?lRe(s)&&cRe(t,s.length):a=="string"&&t in s)?oRe(s[t],e):!1}var cA=uRe,hRe=PZ,mRe=O3e,fRe=iRe,YB=cA,pRe=fRe(function(e,t){if(e==null)return[];var s=t.length;return s>1&&YB(e,t[0],t[1])?t=[]:s>2&&YB(t[0],t[1],t[2])&&(t=[t[0]]),mRe(e,hRe(t,1),[])}),xRe=pRe;const cR=na(xRe);function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},b5.apply(this,arguments)}function gRe(e,t){return wRe(e)||bRe(e,t)||yRe(e,t)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yRe(e,t){if(e){if(typeof e=="string")return XB(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return XB(e,t)}}function XB(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function bRe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function wRe(e){if(Array.isArray(e))return e}function QB(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ZP(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(s),!0).forEach(function(a){jRe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QB(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jRe(e,t,s){return t=NRe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function NRe(e){var t=SRe(e,"string");return qb(t)=="symbol"?t:t+""}function SRe(e,t){if(qb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(qb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kRe(e){return Array.isArray(e)&&ni(e[0])&&ni(e[1])?e.join(" ~ "):e}var CRe=function(t){var s=t.separator,a=s===void 0?" : ":s,n=t.contentStyle,i=n===void 0?{}:n,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,m=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,x=t.label,y=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,v=function(){if(u&&u.length){var T={padding:0,margin:0},P=(m?cR(u,m):u).map(function(_,O){if(_.type==="none")return null;var M=ZP({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},l),I=_.formatter||h||kRe,R=_.value,L=_.name,K=R,H=L;if(I&&K!=null&&H!=null){var F=I(R,L,_,O,u);if(Array.isArray(F)){var G=gRe(F,2);K=G[0],H=G[1]}else K=F}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:M},ni(H)?ae.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ni(H)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},K),ae.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},S=ZP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=ZP({margin:0},d),k=!ls(x),N=k?x:"",C=os("recharts-default-tooltip",p),A=os("recharts-tooltip-label",g);k&&y&&u!==void 0&&u!==null&&(N=y(x,u));var E=w?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",b5({className:C,style:S},E),ae.createElement("p",{className:A,style:j},ae.isValidElement(N)?N:"".concat(N)),v())};function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}function Z1(e,t,s){return t=ARe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ARe(e){var t=ERe(e,"string");return Gb(t)=="symbol"?t:t+""}function ERe(e,t){if(Gb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Gb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vv="recharts-tooltip-wrapper",PRe={visibility:"hidden"};function TRe(e){var t=e.coordinate,s=e.translateX,a=e.translateY;return os(Vv,Z1(Z1(Z1(Z1({},"".concat(Vv,"-right"),Ct(s)&&t&&Ct(t.x)&&s>=t.x),"".concat(Vv,"-left"),Ct(s)&&t&&Ct(t.x)&&s<t.x),"".concat(Vv,"-bottom"),Ct(a)&&t&&Ct(t.y)&&a>=t.y),"".concat(Vv,"-top"),Ct(a)&&t&&Ct(t.y)&&a<t.y))}function JB(e){var t=e.allowEscapeViewBox,s=e.coordinate,a=e.key,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Ct(i[a]))return i[a];var u=s[a]-l-n,h=s[a]+n;if(t[a])return o[a]?u:h;if(o[a]){var m=u,p=c[a];return m<p?Math.max(h,c[a]):Math.max(u,c[a])}var g=h+l,x=c[a]+d;return g>x?Math.max(u,c[a]):Math.max(h,c[a])}function _Re(e){var t=e.translateX,s=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}function DRe(e){var t=e.allowEscapeViewBox,s=e.coordinate,a=e.offsetTopLeft,n=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&s?(u=JB({allowEscapeViewBox:t,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=JB({allowEscapeViewBox:t,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=_Re({translateX:u,translateY:h,useTranslate3d:l})):d=PRe,{cssProperties:d,cssClasses:TRe({translateX:u,translateY:h,coordinate:s})}}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function ZB(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function e9(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(s),!0).forEach(function(a){j5(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZB(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ORe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IRe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IZ(a.key),a)}}function RRe(e,t,s){return t&&IRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MRe(e,t,s){return t=gS(t),FRe(e,OZ()?Reflect.construct(t,s||[],gS(e).constructor):t.apply(e,s))}function FRe(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LRe(e)}function LRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OZ=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},gS(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w5(e,t)}function w5(e,t){return w5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},w5(e,t)}function j5(e,t,s){return t=IZ(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function IZ(e){var t=BRe(e,"string");return Qg(t)=="symbol"?t:t+""}function BRe(e,t){if(Qg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Qg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t9=1,URe=function(e){function t(){var s;ORe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=MRe(this,t,[].concat(n)),j5(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),j5(s,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=s.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),s}return $Re(t,e),RRe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>t9||Math.abs(a.height-this.state.lastBoundingBox.height)>t9)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.children,u=n.coordinate,h=n.hasPayload,m=n.isAnimationActive,p=n.offset,g=n.position,x=n.reverseDirection,y=n.useTranslate3d,b=n.viewBox,w=n.wrapperStyle,v=DRe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),S=v.cssClasses,j=v.cssProperties,k=e9(e9({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ae.createElement("div",{tabIndex:-1,className:S,style:k,ref:function(C){a.wrapperNode=C}},d)}}])}(f.PureComponent),VRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Kd={isSsr:VRe(),get:function(t){return Kd[t]},set:function(t,s){if(typeof t=="string")Kd[t]=s;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(n){Kd[n]=t[n]})}}};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function r9(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function s9(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?r9(Object(s),!0).forEach(function(a){dR(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r9(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WRe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MZ(a.key),a)}}function HRe(e,t,s){return t&&WRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qRe(e,t,s){return t=vS(t),GRe(e,RZ()?Reflect.construct(t,s||[],vS(e).constructor):t.apply(e,s))}function GRe(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RZ=function(){return!!e})()}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},vS(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N5(e,t)}function N5(e,t){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},N5(e,t)}function dR(e,t,s){return t=MZ(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function MZ(e){var t=XRe(e,"string");return Jg(t)=="symbol"?t:t+""}function XRe(e,t){if(Jg(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Jg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QRe(e){return e.dataKey}function JRe(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(CRe,t)}var Kl=function(e){function t(){return zRe(this,t),qRe(this,t,arguments)}return YRe(t,e),HRe(t,[{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.content,u=n.coordinate,h=n.filterNull,m=n.isAnimationActive,p=n.offset,g=n.payload,x=n.payloadUniqBy,y=n.position,b=n.reverseDirection,w=n.useTranslate3d,v=n.viewBox,S=n.wrapperStyle,j=g??[];h&&j.length&&(j=kZ(g.filter(function(N){return N.value!=null&&(N.hide!==!0||a.props.includeHidden)}),x,QRe));var k=j.length>0;return ae.createElement(URe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:k,offset:p,position:y,reverseDirection:b,useTranslate3d:w,viewBox:v,wrapperStyle:S},JRe(d,s9(s9({},this.props),{},{payload:j})))}}])}(f.PureComponent);dR(Kl,"displayName","Tooltip");dR(Kl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZRe=iu,eMe=function(){return ZRe.Date.now()},tMe=eMe,rMe=/\s/;function sMe(e){for(var t=e.length;t--&&rMe.test(e.charAt(t)););return t}var aMe=sMe,nMe=aMe,iMe=/^\s+/;function oMe(e){return e&&e.slice(0,nMe(e)+1).replace(iMe,"")}var lMe=oMe,cMe=lMe,a9=Wm,dMe=Z0,n9=NaN,uMe=/^[-+]0x[0-9a-f]+$/i,hMe=/^0b[01]+$/i,mMe=/^0o[0-7]+$/i,fMe=parseInt;function pMe(e){if(typeof e=="number")return e;if(dMe(e))return n9;if(a9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=a9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cMe(e);var s=hMe.test(e);return s||mMe.test(e)?fMe(e.slice(2),s?2:8):uMe.test(e)?n9:+e}var FZ=pMe,xMe=Wm,e4=tMe,i9=FZ,gMe="Expected a function",vMe=Math.max,yMe=Math.min;function bMe(e,t,s){var a,n,i,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(gMe);t=i9(t)||0,xMe(s)&&(u=!!s.leading,h="maxWait"in s,i=h?vMe(i9(s.maxWait)||0,t):i,m="trailing"in s?!!s.trailing:m);function p(k){var N=a,C=n;return a=n=void 0,d=k,o=e.apply(C,N),o}function g(k){return d=k,l=setTimeout(b,t),u?p(k):o}function x(k){var N=k-c,C=k-d,A=t-N;return h?yMe(A,i-C):A}function y(k){var N=k-c,C=k-d;return c===void 0||N>=t||N<0||h&&C>=i}function b(){var k=e4();if(y(k))return w(k);l=setTimeout(b,x(k))}function w(k){return l=void 0,m&&a?p(k):(a=n=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,a=c=n=l=void 0}function S(){return l===void 0?o:w(e4())}function j(){var k=e4(),N=y(k);if(a=arguments,n=this,c=k,N){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=v,j.flush=S,j}var wMe=bMe,jMe=wMe,NMe=Wm,SMe="Expected a function";function kMe(e,t,s){var a=!0,n=!0;if(typeof e!="function")throw new TypeError(SMe);return NMe(s)&&(a="leading"in s?!!s.leading:a,n="trailing"in s?!!s.trailing:n),jMe(e,t,{leading:a,maxWait:t,trailing:n})}var CMe=kMe;const LZ=na(CMe);function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}function o9(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function eN(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?o9(Object(s),!0).forEach(function(a){AMe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o9(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function AMe(e,t,s){return t=EMe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function EMe(e){var t=PMe(e,"string");return Kb(t)=="symbol"?t:t+""}function PMe(e,t){if(Kb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Kb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TMe(e,t){return IMe(e)||OMe(e,t)||DMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DMe(e,t){if(e){if(typeof e=="string")return l9(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return l9(e,t)}}function l9(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function OMe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function IMe(e){if(Array.isArray(e))return e}var Yb=f.forwardRef(function(e,t){var s=e.aspect,a=e.initialDimension,n=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,p=e.children,g=e.debounce,x=g===void 0?0:g,y=e.id,b=e.className,w=e.onResize,v=e.style,S=v===void 0?{}:v,j=f.useRef(null),k=f.useRef();k.current=w,f.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=f.useState({containerWidth:n.width,containerHeight:n.height}),C=TMe(N,2),A=C[0],E=C[1],D=f.useCallback(function(P,_){E(function(O){var M=Math.round(P),I=Math.round(_);return O.containerWidth===M&&O.containerHeight===I?O:{containerWidth:M,containerHeight:I}})},[]);f.useEffect(function(){var P=function(L){var K,H=L[0].contentRect,F=H.width,G=H.height;D(F,G),(K=k.current)===null||K===void 0||K.call(k,F,G)};x>0&&(P=LZ(P,x,{trailing:!0,leading:!1}));var _=new ResizeObserver(P),O=j.current.getBoundingClientRect(),M=O.width,I=O.height;return D(M,I),_.observe(j.current),function(){_.disconnect()}},[D,x]);var T=f.useMemo(function(){var P=A.containerWidth,_=A.containerHeight;if(P<0||_<0)return null;ed(Ef(o)||Ef(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ed(!s||s>0,"The aspect(%s) must be greater than zero.",s);var O=Ef(o)?P:o,M=Ef(c)?_:c;s&&s>0&&(O?M=O/s:M&&(O=M*s),m&&M>m&&(M=m)),ed(O>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,M,o,c,u,h,s);var I=!Array.isArray(p)&&Ou(p.type).endsWith("Chart");return ae.Children.map(p,function(R){return ae.isValidElement(R)?f.cloneElement(R,eN({width:O,height:M},I?{style:eN({height:"100%",width:"100%",maxHeight:M,maxWidth:O},R.props.style)}:{})):R})},[s,p,c,m,h,u,A,o]);return ae.createElement("div",{id:y?"".concat(y):void 0,className:os("recharts-responsive-container",b),style:eN(eN({},S),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:j},T)}),dA=function(t){return null};dA.displayName="Cell";function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function c9(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function S5(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?c9(Object(s),!0).forEach(function(a){RMe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c9(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function RMe(e,t,s){return t=MMe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function MMe(e){var t=FMe(e,"string");return Xb(t)=="symbol"?t:t+""}function FMe(e,t){if(Xb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Xb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx={widthCache:{},cacheCount:0},LMe=2e3,$Me={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d9="recharts_measurement_span";function BMe(e){var t=S5({},e);return Object.keys(t).forEach(function(s){t[s]||delete t[s]}),t}var Hy=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Kd.isSsr)return{width:0,height:0};var a=BMe(s),n=JSON.stringify({text:t,copyStyle:a});if(mx.widthCache[n])return mx.widthCache[n];try{var i=document.getElementById(d9);i||(i=document.createElement("span"),i.setAttribute("id",d9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=S5(S5({},$Me),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return mx.widthCache[n]=c,++mx.cacheCount>LMe&&(mx.cacheCount=0,mx.widthCache={}),c}catch{return{width:0,height:0}}},UMe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}function yS(e,t){return HMe(e)||WMe(e,t)||zMe(e,t)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zMe(e,t){if(e){if(typeof e=="string")return u9(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u9(e,t)}}function u9(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function WMe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function HMe(e){if(Array.isArray(e))return e}function qMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h9(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,KMe(a.key),a)}}function GMe(e,t,s){return t&&h9(e.prototype,t),s&&h9(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function KMe(e){var t=YMe(e,"string");return Qb(t)=="symbol"?t:t+""}function YMe(e,t){if(Qb(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(Qb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$Z={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JMe=Object.keys($Z),Hx="NaN";function ZMe(e,t){return e*$Z[t]}var tN=function(){function e(t,s){qMe(this,e),this.num=t,this.unit=s,this.num=t,this.unit=s,Number.isNaN(t)&&(this.unit=""),s!==""&&!XMe.test(s)&&(this.num=NaN,this.unit=""),JMe.includes(s)&&(this.num=ZMe(t,s),this.unit="px")}return GMe(e,[{key:"add",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var a,n=(a=QMe.exec(s))!==null&&a!==void 0?a:[],i=yS(n,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function BZ(e){if(e.includes(Hx))return Hx;for(var t=e;t.includes("*")||t.includes("/");){var s,a=(s=m9.exec(t))!==null&&s!==void 0?s:[],n=yS(a,4),i=n[1],o=n[2],l=n[3],c=tN.parse(i??""),d=tN.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Hx;t=t.replace(m9,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=f9.exec(t))!==null&&h!==void 0?h:[],p=yS(m,4),g=p[1],x=p[2],y=p[3],b=tN.parse(g??""),w=tN.parse(y??""),v=x==="+"?b.add(w):b.subtract(w);if(v.isNaN())return Hx;t=t.replace(f9,v.toString())}return t}var p9=/\(([^()]*)\)/;function eFe(e){for(var t=e;t.includes("(");){var s=p9.exec(t),a=yS(s,2),n=a[1];t=t.replace(p9,BZ(n))}return t}function tFe(e){var t=e.replace(/\s+/g,"");return t=eFe(t),t=BZ(t),t}function rFe(e){try{return tFe(e)}catch{return Hx}}function t4(e){var t=rFe(e.slice(5,-1));return t===Hx?"":t}var sFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aFe=["dx","dy","angle","className","breakAll"];function k5(){return k5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},k5.apply(this,arguments)}function x9(e,t){if(e==null)return{};var s=nFe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function nFe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function g9(e,t){return cFe(e)||lFe(e,t)||oFe(e,t)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oFe(e,t){if(e){if(typeof e=="string")return v9(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return v9(e,t)}}function v9(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function lFe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function cFe(e){if(Array.isArray(e))return e}var UZ=/[ \f\n\r\t\v\u2028\u2029]+/,VZ=function(t){var s=t.children,a=t.breakAll,n=t.style;try{var i=[];ls(s)||(a?i=s.toString().split(""):i=s.toString().split(UZ));var o=i.map(function(c){return{word:c,width:Hy(c,n).width}}),l=a?0:Hy("",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},dFe=function(t,s,a,n,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ct(o),h=l,m=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(M,I){var R=I.word,L=I.width,K=M[M.length-1];if(K&&(n==null||i||K.width+L+a<Number(n)))K.words.push(R),K.width+=L+a;else{var H={words:[R],width:L};M.push(H)}return M},[])},p=m(s),g=function(O){return O.reduce(function(M,I){return M.width>I.width?M:I})};if(!u)return p;for(var x="",y=function(O){var M=h.slice(0,O),I=VZ({breakAll:d,style:c,children:M+x}).wordsWithComputedWidth,R=m(I),L=R.length>o||g(R).width>Number(n);return[L,R]},b=0,w=h.length-1,v=0,S;b<=w&&v<=h.length-1;){var j=Math.floor((b+w)/2),k=j-1,N=y(k),C=g9(N,2),A=C[0],E=C[1],D=y(j),T=g9(D,1),P=T[0];if(!A&&!P&&(b=j+1),A&&P&&(w=j-1),!A&&P){S=E;break}v++}return S||p},y9=function(t){var s=ls(t)?[]:t.toString().split(UZ);return[{words:s}]},uFe=function(t){var s=t.width,a=t.scaleToFit,n=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((s||a)&&!Kd.isSsr){var c,d,u=VZ({breakAll:o,children:n,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return y9(n);return dFe({breakAll:o,children:n,maxLines:l,style:i},c,d,s,a)}return y9(n)},b9="#808080",pp=function(t){var s=t.x,a=s===void 0?0:s,n=t.y,i=n===void 0?0:n,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,m=t.textAnchor,p=m===void 0?"start":m,g=t.verticalAnchor,x=g===void 0?"end":g,y=t.fill,b=y===void 0?b9:y,w=x9(t,sFe),v=f.useMemo(function(){return uFe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),S=w.dx,j=w.dy,k=w.angle,N=w.className,C=w.breakAll,A=x9(w,aFe);if(!ni(a)||!ni(i))return null;var E=a+(Ct(S)?S:0),D=i+(Ct(j)?j:0),T;switch(x){case"start":T=t4("calc(".concat(d,")"));break;case"middle":T=t4("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:T=t4("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[];if(h){var _=v[0].width,O=w.width;P.push("scale(".concat((Ct(O)?O/_:1)/_,")"))}return k&&P.push("rotate(".concat(k,", ").concat(E,", ").concat(D,")")),P.length&&(A.transform=P.join(" ")),ae.createElement("text",k5({},Dr(A,!0),{x:E,y:D,className:os("recharts-text",N),textAnchor:p,fill:b.includes("url")?b9:b}),v.map(function(M,I){var R=M.words.join(C?"":" ");return ae.createElement("tspan",{x:E,dy:I===0?T:l,key:"".concat(R,"-").concat(I)},R)}))};function mm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uR(e){let t,s,a;e.length!==2?(t=mm,s=(l,c)=>mm(e(l),c),a=(l,c)=>e(l)-c):(t=e===mm||e===hFe?e:mFe,s=e,a=e);function n(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=n(l,c,d,u-1);return h>d&&a(l[h-1],c)>-a(l[h],c)?h-1:h}return{left:n,center:o,right:i}}function mFe(){return 0}function zZ(e){return e===null?NaN:+e}function*fFe(e,t){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const pFe=uR(mm),Ej=pFe.right;uR(zZ).center;class w9 extends Map{constructor(t,s=vFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(j9(this,t))}has(t){return super.has(j9(this,t))}set(t,s){return super.set(xFe(this,t),s)}delete(t){return super.delete(gFe(this,t))}}function j9({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):s}function xFe({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function gFe({_intern:e,_key:t},s){const a=t(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function vFe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yFe(e=mm){if(e===mm)return WZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,s)=>{const a=e(t,s);return a||a===0?a:(e(s,s)===0)-(e(t,t)===0)}}function WZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bFe=Math.sqrt(50),wFe=Math.sqrt(10),jFe=Math.sqrt(2);function bS(e,t,s){const a=(t-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=bFe?10:i>=wFe?5:i>=jFe?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=s&&s<2?bS(e,t,s*2):[l,c,d]}function C5(e,t,s){if(t=+t,e=+e,s=+s,!(s>0))return[];if(e===t)return[e];const a=t<e,[n,i,o]=a?bS(t,e,s):bS(e,t,s);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function A5(e,t,s){return t=+t,e=+e,s=+s,bS(e,t,s)[2]}function E5(e,t,s){t=+t,e=+e,s=+s;const a=t<e,n=a?A5(t,e,s):A5(e,t,s);return(a?-1:1)*(n<0?1/-n:n)}function N9(e,t){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function S9(e,t){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function HZ(e,t,s=0,a=1/0,n){if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=t&&t<=a))return e;for(n=n===void 0?WZ:yFe(n);a>s;){if(a-s>600){const c=a-s+1,d=t-s+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),p=Math.max(s,Math.floor(t-d*h/c+m)),g=Math.min(a,Math.floor(t+(c-d)*h/c+m));HZ(e,t,p,g,n)}const i=e[t];let o=s,l=a;for(zv(e,s,t),n(e[a],i)>0&&zv(e,s,a);o<l;){for(zv(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?zv(e,s,l):(++l,zv(e,l,a)),l<=t&&(s=l+1),t<=l&&(a=l-1)}return e}function zv(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function NFe(e,t,s){if(e=Float64Array.from(fFe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return S9(e);if(t>=1)return N9(e);var a,n=(a-1)*t,i=Math.floor(n),o=N9(HZ(e,i).subarray(0,i+1)),l=S9(e.subarray(i+1));return o+(l-o)*(n-i)}}function SFe(e,t,s=zZ){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+s(e[0],0,e);if(t>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function kFe(e,t,s){e=+e,t=+t,s=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function vc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const P5=Symbol("implicit");function hR(){var e=new w9,t=[],s=[],a=P5;function n(i){let o=e.get(i);if(o===void 0){if(a!==P5)return a;e.set(i,o=t.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new w9;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return hR(t,s).unknown(a)},vc.apply(n,arguments),n}function Jb(){var e=hR().unknown(void 0),t=e.domain,s=e.range,a=0,n=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,p=n<a,g=p?n:a,x=p?a:n;i=(x-g)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),g+=(x-g-i*(m-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=kFe(m).map(function(b){return g+i*b});return s(p?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([a,n]=m,a=+a,n=+n,h()):[a,n]},e.rangeRound=function(m){return[a,n]=m,a=+a,n=+n,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return Jb(t(),[a,n]).round(l).paddingInner(c).paddingOuter(d).align(u)},vc.apply(h(),arguments)}function qZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qZ(t())},e}function qy(){return qZ(Jb.apply(null,arguments).paddingInner(1))}function mR(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function GZ(e,t){var s=Object.create(e.prototype);for(var a in t)s[a]=t[a];return s}function Pj(){}var Zb=.7,wS=1/Zb,pg="\\s*([+-]?\\d+)\\s*",ew="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CFe=/^#([0-9a-f]{3,8})$/,AFe=new RegExp(`^rgb\\(${pg},${pg},${pg}\\)$`),EFe=new RegExp(`^rgb\\(${Yd},${Yd},${Yd}\\)$`),PFe=new RegExp(`^rgba\\(${pg},${pg},${pg},${ew}\\)$`),TFe=new RegExp(`^rgba\\(${Yd},${Yd},${Yd},${ew}\\)$`),_Fe=new RegExp(`^hsl\\(${ew},${Yd},${Yd}\\)$`),DFe=new RegExp(`^hsla\\(${ew},${Yd},${Yd},${ew}\\)$`),k9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mR(Pj,tw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:C9,formatHex:C9,formatHex8:OFe,formatHsl:IFe,formatRgb:A9,toString:A9});function C9(){return this.rgb().formatHex()}function OFe(){return this.rgb().formatHex8()}function IFe(){return KZ(this).formatHsl()}function A9(){return this.rgb().formatRgb()}function tw(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=CFe.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?E9(t):s===3?new qo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?rN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?rN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AFe.exec(e))?new qo(t[1],t[2],t[3],1):(t=EFe.exec(e))?new qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PFe.exec(e))?rN(t[1],t[2],t[3],t[4]):(t=TFe.exec(e))?rN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Fe.exec(e))?_9(t[1],t[2]/100,t[3]/100,1):(t=DFe.exec(e))?_9(t[1],t[2]/100,t[3]/100,t[4]):k9.hasOwnProperty(e)?E9(k9[e]):e==="transparent"?new qo(NaN,NaN,NaN,0):null}function E9(e){return new qo(e>>16&255,e>>8&255,e&255,1)}function rN(e,t,s,a){return a<=0&&(e=t=s=NaN),new qo(e,t,s,a)}function RFe(e){return e instanceof Pj||(e=tw(e)),e?(e=e.rgb(),new qo(e.r,e.g,e.b,e.opacity)):new qo}function T5(e,t,s,a){return arguments.length===1?RFe(e):new qo(e,t,s,a??1)}function qo(e,t,s,a){this.r=+e,this.g=+t,this.b=+s,this.opacity=+a}mR(qo,T5,GZ(Pj,{brighter(e){return e=e==null?wS:Math.pow(wS,e),new qo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zb:Math.pow(Zb,e),new qo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qo(Gf(this.r),Gf(this.g),Gf(this.b),jS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P9,formatHex:P9,formatHex8:MFe,formatRgb:T9,toString:T9}));function P9(){return`#${Pf(this.r)}${Pf(this.g)}${Pf(this.b)}`}function MFe(){return`#${Pf(this.r)}${Pf(this.g)}${Pf(this.b)}${Pf((isNaN(this.opacity)?1:this.opacity)*255)}`}function T9(){const e=jS(this.opacity);return`${e===1?"rgb(":"rgba("}${Gf(this.r)}, ${Gf(this.g)}, ${Gf(this.b)}${e===1?")":`, ${e})`}`}function jS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pf(e){return e=Gf(e),(e<16?"0":"")+e.toString(16)}function _9(e,t,s,a){return a<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new qc(e,t,s,a)}function KZ(e){if(e instanceof qc)return new qc(e.h,e.s,e.l,e.opacity);if(e instanceof Pj||(e=tw(e)),!e)return new qc;if(e instanceof qc)return e;e=e.rgb();var t=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(t,s,a),i=Math.max(t,s,a),o=NaN,l=i-n,c=(i+n)/2;return l?(t===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-t)/l+2:o=(t-s)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new qc(o,l,c,e.opacity)}function FFe(e,t,s,a){return arguments.length===1?KZ(e):new qc(e,t,s,a??1)}function qc(e,t,s,a){this.h=+e,this.s=+t,this.l=+s,this.opacity=+a}mR(qc,FFe,GZ(Pj,{brighter(e){return e=e==null?wS:Math.pow(wS,e),new qc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zb:Math.pow(Zb,e),new qc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*t,n=2*s-a;return new qo(r4(e>=240?e-240:e+120,n,a),r4(e,n,a),r4(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new qc(D9(this.h),sN(this.s),sN(this.l),jS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jS(this.opacity);return`${e===1?"hsl(":"hsla("}${D9(this.h)}, ${sN(this.s)*100}%, ${sN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function D9(e){return e=(e||0)%360,e<0?e+360:e}function sN(e){return Math.max(0,Math.min(1,e||0))}function r4(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const fR=e=>()=>e;function LFe(e,t){return function(s){return e+s*t}}function $Fe(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(a){return Math.pow(e+a*t,s)}}function BFe(e){return(e=+e)==1?YZ:function(t,s){return s-t?$Fe(t,s,e):fR(isNaN(t)?s:t)}}function YZ(e,t){var s=t-e;return s?LFe(e,s):fR(isNaN(e)?t:e)}const O9=function e(t){var s=BFe(t);function a(n,i){var o=s((n=T5(n)).r,(i=T5(i)).r),l=s(n.g,i.g),c=s(n.b,i.b),d=YZ(n.opacity,i.opacity);return function(u){return n.r=o(u),n.g=l(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=e,a}(1);function UFe(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function VFe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zFe(e,t){var s=t?t.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=cv(e[o],t[o]);for(;o<s;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function WFe(e,t){var s=new Date;return e=+e,t=+t,function(a){return s.setTime(e*(1-a)+t*a),s}}function NS(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function HFe(e,t){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=cv(e[n],t[n]):a[n]=t[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var _5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s4=new RegExp(_5.source,"g");function qFe(e){return function(){return e}}function GFe(e){return function(t){return e(t)+""}}function KFe(e,t){var s=_5.lastIndex=s4.lastIndex=0,a,n,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=_5.exec(e))&&(n=s4.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:NS(a,n)})),s=s4.lastIndex;return s<t.length&&(i=t.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?GFe(c[0].x):qFe(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function cv(e,t){var s=typeof t,a;return t==null||s==="boolean"?fR(t):(s==="number"?NS:s==="string"?(a=tw(t))?(t=a,O9):KFe:t instanceof tw?O9:t instanceof Date?WFe:VFe(t)?UFe:Array.isArray(t)?zFe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HFe:NS)(e,t)}function pR(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function YFe(e,t){t===void 0&&(t=e,e=cv);for(var s=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=t[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function XFe(e){return function(){return e}}function SS(e){return+e}var I9=[0,1];function jo(e){return e}function D5(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:XFe(isNaN(t)?NaN:.5)}function QFe(e,t){var s;return e>t&&(s=e,e=t,t=s),function(a){return Math.max(e,Math.min(t,a))}}function JFe(e,t,s){var a=e[0],n=e[1],i=t[0],o=t[1];return n<a?(a=D5(n,a),i=s(o,i)):(a=D5(a,n),i=s(i,o)),function(l){return i(a(l))}}function ZFe(e,t,s){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)n[o]=D5(e[o],e[o+1]),i[o]=s(t[o],t[o+1]);return function(l){var c=Ej(e,l,1,a)-1;return i[c](n[c](l))}}function Tj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uA(){var e=I9,t=I9,s=cv,a,n,i,o=jo,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==jo&&(o=QFe(e[0],e[m-1])),l=m>2?ZFe:JFe,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(a),t,s)))(a(o(m)))}return h.invert=function(m){return o(n((d||(d=l(t,e.map(a),NS)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,SS),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),s=pR,u()},h.clamp=function(m){return arguments.length?(o=m?!0:jo,u()):o!==jo},h.interpolate=function(m){return arguments.length?(s=m,u()):s},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return a=m,n=p,u()}}function xR(){return uA()(jo,jo)}function eLe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kS(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function Zg(e){return e=kS(Math.abs(e)),e?e[1]:NaN}function tLe(e,t){return function(s,a){for(var n=s.length,i=[],o=0,l=e[0],c=0;n>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(s.substring(n-=l,n+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function rLe(e){return function(t){return t.replace(/[0-9]/g,function(s){return e[+s]})}}var sLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rw(e){if(!(t=sLe.exec(e)))throw new Error("invalid format: "+e);var t;return new gR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rw.prototype=gR.prototype;function gR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aLe(e){e:for(var t=e.length,s=1,a=-1,n;s<t;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var XZ;function nLe(e,t){var s=kS(e,t);if(!s)return e+"";var a=s[0],n=s[1],i=n-(XZ=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+kS(e,Math.max(0,t+i-1))[0]}function R9(e,t){var s=kS(e,t);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const M9={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eLe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>R9(e*100,t),r:R9,s:nLe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F9(e){return e}var L9=Array.prototype.map,$9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iLe(e){var t=e.grouping===void 0||e.thousands===void 0?F9:tLe(L9.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F9:rLe(L9.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=rw(h);var m=h.fill,p=h.align,g=h.sign,x=h.symbol,y=h.zero,b=h.width,w=h.comma,v=h.precision,S=h.trim,j=h.type;j==="n"?(w=!0,j="g"):M9[j]||(v===void 0&&(v=12),S=!0,j="g"),(y||m==="0"&&p==="=")&&(y=!0,m="0",p="=");var k=x==="$"?s:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",N=x==="$"?a:/[%p]/.test(j)?o:"",C=M9[j],A=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function E(D){var T=k,P=N,_,O,M;if(j==="c")P=C(D)+P,D="";else{D=+D;var I=D<0||1/D<0;if(D=isNaN(D)?c:C(Math.abs(D),v),S&&(D=aLe(D)),I&&+D==0&&g!=="+"&&(I=!1),T=(I?g==="("?g:l:g==="-"||g==="("?"":g)+T,P=(j==="s"?$9[8+XZ/3]:"")+P+(I&&g==="("?")":""),A){for(_=-1,O=D.length;++_<O;)if(M=D.charCodeAt(_),48>M||M>57){P=(M===46?n+D.slice(_+1):D.slice(_))+P,D=D.slice(0,_);break}}}w&&!y&&(D=t(D,1/0));var R=T.length+D.length+P.length,L=R<b?new Array(b-R+1).join(m):"";switch(w&&y&&(D=t(L+D,L.length?b-P.length:1/0),L=""),p){case"<":D=T+D+P+L;break;case"=":D=T+L+D+P;break;case"^":D=L.slice(0,R=L.length>>1)+T+D+P+L.slice(R);break;default:D=L+T+D+P;break}return i(D)}return E.toString=function(){return h+""},E}function u(h,m){var p=d((h=rw(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Zg(m)/3)))*3,x=Math.pow(10,-g),y=$9[8+g/3];return function(b){return p(x*b)+y}}return{format:d,formatPrefix:u}}var aN,vR,QZ;oLe({thousands:",",grouping:[3],currency:["$",""]});function oLe(e){return aN=iLe(e),vR=aN.format,QZ=aN.formatPrefix,aN}function lLe(e){return Math.max(0,-Zg(Math.abs(e)))}function cLe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zg(t)/3)))*3-Zg(Math.abs(e)))}function dLe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zg(t)-Zg(e))+1}function JZ(e,t,s,a){var n=E5(e,t,s),i;switch(a=rw(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=cLe(n,o))&&(a.precision=i),QZ(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=dLe(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=lLe(n))&&(a.precision=i-(a.type==="%")*2);break}}return vR(a)}function Hm(e){var t=e.domain;return e.ticks=function(s){var a=t();return C5(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=t();return JZ(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=t(),n=0,i=a.length-1,o=a[n],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=n,n=i,i=d);u-- >0;){if(d=A5(o,l,s),d===c)return a[n]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function CS(){var e=xR();return e.copy=function(){return Tj(e,CS())},vc.apply(e,arguments),Hm(e)}function ZZ(e){var t;function s(a){return a==null||isNaN(a=+a)?t:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,SS),s):e.slice()},s.unknown=function(a){return arguments.length?(t=a,s):t},s.copy=function(){return ZZ(e).unknown(t)},e=arguments.length?Array.from(e,SS):[0,1],Hm(s)}function eee(e,t){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),e[s]=t.floor(n),e[a]=t.ceil(i),e}function B9(e){return Math.log(e)}function U9(e){return Math.exp(e)}function uLe(e){return-Math.log(-e)}function hLe(e){return-Math.exp(-e)}function mLe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fLe(e){return e===10?mLe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pLe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V9(e){return(t,s)=>-e(-t,s)}function yR(e){const t=e(B9,U9),s=t.domain;let a=10,n,i;function o(){return n=pLe(a),i=fLe(a),s()[0]<0?(n=V9(n),i=V9(i),e(uLe,hLe)):e(B9,U9),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(s(l),o()):s()},t.ticks=l=>{const c=s();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=n(d),p=n(u),g,x;const y=l==null?10:+l;let b=[];if(!(a%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(g=1;g<a;++g)if(x=m<0?g/i(-m):g*i(m),!(x<d)){if(x>u)break;b.push(x)}}else for(;m<=p;++m)for(g=a-1;g>=1;--g)if(x=m>0?g/i(-m):g*i(m),!(x<d)){if(x>u)break;b.push(x)}b.length*2<y&&(b=C5(d,u,y))}else b=C5(m,p,Math.min(p-m,y)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=rw(c)).precision==null&&(c.trim=!0),c=vR(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let h=u/i(Math.round(n(u)));return h*a<a-.5&&(h*=a),h<=d?c(u):""}},t.nice=()=>s(eee(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),t}function tee(){const e=yR(uA()).domain([1,10]);return e.copy=()=>Tj(e,tee()).base(e.base()),vc.apply(e,arguments),e}function z9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bR(e){var t=1,s=e(z9(t),W9(t));return s.constant=function(a){return arguments.length?e(z9(t=+a),W9(t)):t},Hm(s)}function ree(){var e=bR(uA());return e.copy=function(){return Tj(e,ree()).constant(e.constant())},vc.apply(e,arguments)}function H9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xLe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gLe(e){return e<0?-e*e:e*e}function wR(e){var t=e(jo,jo),s=1;function a(){return s===1?e(jo,jo):s===.5?e(xLe,gLe):e(H9(s),H9(1/s))}return t.exponent=function(n){return arguments.length?(s=+n,a()):s},Hm(t)}function jR(){var e=wR(uA());return e.copy=function(){return Tj(e,jR()).exponent(e.exponent())},vc.apply(e,arguments),e}function vLe(){return jR.apply(null,arguments).exponent(.5)}function q9(e){return Math.sign(e)*e*e}function yLe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function see(){var e=xR(),t=[0,1],s=!1,a;function n(i){var o=yLe(e(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return e.invert(q9(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,SS)).map(q9)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return see(e.domain(),t).round(s).clamp(e.clamp()).unknown(a)},vc.apply(n,arguments),Hm(n)}function aee(){var e=[],t=[],s=[],a;function n(){var o=0,l=Math.max(1,t.length);for(s=new Array(l-1);++o<l;)s[o-1]=SFe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[Ej(s,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(mm),n()},i.range=function(o){return arguments.length?(t=Array.from(o),n()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return aee().domain(e).range(t).unknown(a)},vc.apply(i,arguments)}function nee(){var e=0,t=1,s=1,a=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[Ej(a,c,0,s)]:i}function l(){var c=-1;for(a=new Array(s);++c<s;)a[c]=((c+1)*t-(c-s)*e)/(s+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=s?[a[s-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return nee().domain([e,t]).range(n).unknown(i)},vc.apply(Hm(o),arguments)}function iee(){var e=[.5],t=[0,1],s,a=1;function n(i){return i!=null&&i<=i?t[Ej(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return iee().domain(e).range(t).unknown(s)},vc.apply(n,arguments)}const a4=new Date,n4=new Date;function oi(e,t,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},n.filter=i=>oi(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),s&&(n.count=(i,o)=>(a4.setTime(+i),n4.setTime(+o),e(a4),e(n4),Math.floor(s(a4,n4))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const AS=oi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);AS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?oi(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):AS);AS.range;const Au=1e3,nc=Au*60,Eu=nc*60,Yu=Eu*24,NR=Yu*7,G9=Yu*30,i4=Yu*365,Tf=oi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Au)},(e,t)=>(t-e)/Au,e=>e.getUTCSeconds());Tf.range;const SR=oi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Au)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getMinutes());SR.range;const kR=oi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCMinutes());kR.range;const CR=oi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Au-e.getMinutes()*nc)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getHours());CR.range;const AR=oi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Eu)},(e,t)=>(t-e)/Eu,e=>e.getUTCHours());AR.range;const _j=oi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nc)/Yu,e=>e.getDate()-1);_j.range;const hA=oi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yu,e=>e.getUTCDate()-1);hA.range;const oee=oi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yu,e=>Math.floor(e/Yu));oee.range;function $p(e){return oi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,s)=>{t.setDate(t.getDate()+s*7)},(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*nc)/NR)}const mA=$p(0),ES=$p(1),bLe=$p(2),wLe=$p(3),e0=$p(4),jLe=$p(5),NLe=$p(6);mA.range;ES.range;bLe.range;wLe.range;e0.range;jLe.range;NLe.range;function Bp(e){return oi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s*7)},(t,s)=>(s-t)/NR)}const fA=Bp(0),PS=Bp(1),SLe=Bp(2),kLe=Bp(3),t0=Bp(4),CLe=Bp(5),ALe=Bp(6);fA.range;PS.range;SLe.range;kLe.range;t0.range;CLe.range;ALe.range;const ER=oi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ER.range;const PR=oi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());PR.range;const Xu=oi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)});Xu.range;const Qu=oi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:oi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)});Qu.range;function lee(e,t,s,a,n,i){const o=[[Tf,1,Au],[Tf,5,5*Au],[Tf,15,15*Au],[Tf,30,30*Au],[i,1,nc],[i,5,5*nc],[i,15,15*nc],[i,30,30*nc],[n,1,Eu],[n,3,3*Eu],[n,6,6*Eu],[n,12,12*Eu],[a,1,Yu],[a,2,2*Yu],[s,1,NR],[t,1,G9],[t,3,3*G9],[e,1,i4]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const p=h&&typeof h.range=="function"?h:c(d,u,h),g=p?p.range(d,+u+1):[];return m?g.reverse():g}function c(d,u,h){const m=Math.abs(u-d)/h,p=uR(([,,y])=>y).right(o,m);if(p===o.length)return e.every(E5(d/i4,u/i4,h));if(p===0)return AS.every(Math.max(E5(d,u,h),1));const[g,x]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return g.every(x)}return[l,c]}const[ELe,PLe]=lee(Qu,PR,fA,oee,AR,kR),[TLe,_Le]=lee(Xu,ER,mA,_j,CR,SR);function o4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wv(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}function DLe(e){var t=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Hv(n),u=qv(n),h=Hv(i),m=qv(i),p=Hv(o),g=qv(o),x=Hv(l),y=qv(l),b=Hv(c),w=qv(c),v={a:I,A:R,b:L,B:K,c:null,d:Z9,e:Z9,f:t6e,g:u6e,G:m6e,H:JLe,I:ZLe,j:e6e,L:cee,m:r6e,M:s6e,p:H,q:F,Q:rU,s:sU,S:a6e,u:n6e,U:i6e,V:o6e,w:l6e,W:c6e,x:null,X:null,y:d6e,Y:h6e,Z:f6e,"%":tU},S={a:G,A:U,b:W,B:J,c:null,d:eU,e:eU,f:v6e,g:E6e,G:T6e,H:p6e,I:x6e,j:g6e,L:uee,m:y6e,M:b6e,p:z,q:ie,Q:rU,s:sU,S:w6e,u:j6e,U:N6e,V:S6e,w:k6e,W:C6e,x:null,X:null,y:A6e,Y:P6e,Z:_6e,"%":tU},j={a:E,A:D,b:T,B:P,c:_,d:Q9,e:Q9,f:KLe,g:X9,G:Y9,H:J9,I:J9,j:WLe,L:GLe,m:zLe,M:HLe,p:A,q:VLe,Q:XLe,s:QLe,S:qLe,u:FLe,U:LLe,V:$Le,w:MLe,W:BLe,x:O,X:M,y:X9,Y:Y9,Z:ULe,"%":YLe};v.x=k(s,v),v.X=k(a,v),v.c=k(t,v),S.x=k(s,S),S.X=k(a,S),S.c=k(t,S);function k(re,q){return function(se){var B=[],oe=-1,de=0,Te=re.length,He,Oe,me;for(se instanceof Date||(se=new Date(+se));++oe<Te;)re.charCodeAt(oe)===37&&(B.push(re.slice(de,oe)),(Oe=K9[He=re.charAt(++oe)])!=null?He=re.charAt(++oe):Oe=He==="e"?" ":"0",(me=q[He])&&(He=me(se,Oe)),B.push(He),de=oe+1);return B.push(re.slice(de,oe)),B.join("")}}function N(re,q){return function(se){var B=Wv(1900,void 0,1),oe=C(B,re,se+="",0),de,Te;if(oe!=se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(q&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(de=l4(Wv(B.y,0,1)),Te=de.getUTCDay(),de=Te>4||Te===0?PS.ceil(de):PS(de),de=hA.offset(de,(B.V-1)*7),B.y=de.getUTCFullYear(),B.m=de.getUTCMonth(),B.d=de.getUTCDate()+(B.w+6)%7):(de=o4(Wv(B.y,0,1)),Te=de.getDay(),de=Te>4||Te===0?ES.ceil(de):ES(de),de=_j.offset(de,(B.V-1)*7),B.y=de.getFullYear(),B.m=de.getMonth(),B.d=de.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Te="Z"in B?l4(Wv(B.y,0,1)).getUTCDay():o4(Wv(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Te+5)%7:B.w+B.U*7-(Te+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,l4(B)):o4(B)}}function C(re,q,se,B){for(var oe=0,de=q.length,Te=se.length,He,Oe;oe<de;){if(B>=Te)return-1;if(He=q.charCodeAt(oe++),He===37){if(He=q.charAt(oe++),Oe=j[He in K9?q.charAt(oe++):He],!Oe||(B=Oe(re,se,B))<0)return-1}else if(He!=se.charCodeAt(B++))return-1}return B}function A(re,q,se){var B=d.exec(q.slice(se));return B?(re.p=u.get(B[0].toLowerCase()),se+B[0].length):-1}function E(re,q,se){var B=p.exec(q.slice(se));return B?(re.w=g.get(B[0].toLowerCase()),se+B[0].length):-1}function D(re,q,se){var B=h.exec(q.slice(se));return B?(re.w=m.get(B[0].toLowerCase()),se+B[0].length):-1}function T(re,q,se){var B=b.exec(q.slice(se));return B?(re.m=w.get(B[0].toLowerCase()),se+B[0].length):-1}function P(re,q,se){var B=x.exec(q.slice(se));return B?(re.m=y.get(B[0].toLowerCase()),se+B[0].length):-1}function _(re,q,se){return C(re,t,q,se)}function O(re,q,se){return C(re,s,q,se)}function M(re,q,se){return C(re,a,q,se)}function I(re){return o[re.getDay()]}function R(re){return i[re.getDay()]}function L(re){return c[re.getMonth()]}function K(re){return l[re.getMonth()]}function H(re){return n[+(re.getHours()>=12)]}function F(re){return 1+~~(re.getMonth()/3)}function G(re){return o[re.getUTCDay()]}function U(re){return i[re.getUTCDay()]}function W(re){return c[re.getUTCMonth()]}function J(re){return l[re.getUTCMonth()]}function z(re){return n[+(re.getUTCHours()>=12)]}function ie(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var q=k(re+="",v);return q.toString=function(){return re},q},parse:function(re){var q=N(re+="",!1);return q.toString=function(){return re},q},utcFormat:function(re){var q=k(re+="",S);return q.toString=function(){return re},q},utcParse:function(re){var q=N(re+="",!0);return q.toString=function(){return re},q}}}var K9={"-":"",_:" ",0:"0"},wi=/^\s*\d+/,OLe=/^%/,ILe=/[\\^$*+?|[\]().{}]/g;function Qs(e,t,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(t)+n:n)}function RLe(e){return e.replace(ILe,"\\$&")}function Hv(e){return new RegExp("^(?:"+e.map(RLe).join("|")+")","i")}function qv(e){return new Map(e.map((t,s)=>[t.toLowerCase(),s]))}function MLe(e,t,s){var a=wi.exec(t.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function FLe(e,t,s){var a=wi.exec(t.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function LLe(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function $Le(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function BLe(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function Y9(e,t,s){var a=wi.exec(t.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function X9(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function ULe(e,t,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function VLe(e,t,s){var a=wi.exec(t.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function zLe(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function Q9(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function WLe(e,t,s){var a=wi.exec(t.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function J9(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function HLe(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function qLe(e,t,s){var a=wi.exec(t.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function GLe(e,t,s){var a=wi.exec(t.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function KLe(e,t,s){var a=wi.exec(t.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function YLe(e,t,s){var a=OLe.exec(t.slice(s,s+1));return a?s+a[0].length:-1}function XLe(e,t,s){var a=wi.exec(t.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function QLe(e,t,s){var a=wi.exec(t.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function Z9(e,t){return Qs(e.getDate(),t,2)}function JLe(e,t){return Qs(e.getHours(),t,2)}function ZLe(e,t){return Qs(e.getHours()%12||12,t,2)}function e6e(e,t){return Qs(1+_j.count(Xu(e),e),t,3)}function cee(e,t){return Qs(e.getMilliseconds(),t,3)}function t6e(e,t){return cee(e,t)+"000"}function r6e(e,t){return Qs(e.getMonth()+1,t,2)}function s6e(e,t){return Qs(e.getMinutes(),t,2)}function a6e(e,t){return Qs(e.getSeconds(),t,2)}function n6e(e){var t=e.getDay();return t===0?7:t}function i6e(e,t){return Qs(mA.count(Xu(e)-1,e),t,2)}function dee(e){var t=e.getDay();return t>=4||t===0?e0(e):e0.ceil(e)}function o6e(e,t){return e=dee(e),Qs(e0.count(Xu(e),e)+(Xu(e).getDay()===4),t,2)}function l6e(e){return e.getDay()}function c6e(e,t){return Qs(ES.count(Xu(e)-1,e),t,2)}function d6e(e,t){return Qs(e.getFullYear()%100,t,2)}function u6e(e,t){return e=dee(e),Qs(e.getFullYear()%100,t,2)}function h6e(e,t){return Qs(e.getFullYear()%1e4,t,4)}function m6e(e,t){var s=e.getDay();return e=s>=4||s===0?e0(e):e0.ceil(e),Qs(e.getFullYear()%1e4,t,4)}function f6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qs(t/60|0,"0",2)+Qs(t%60,"0",2)}function eU(e,t){return Qs(e.getUTCDate(),t,2)}function p6e(e,t){return Qs(e.getUTCHours(),t,2)}function x6e(e,t){return Qs(e.getUTCHours()%12||12,t,2)}function g6e(e,t){return Qs(1+hA.count(Qu(e),e),t,3)}function uee(e,t){return Qs(e.getUTCMilliseconds(),t,3)}function v6e(e,t){return uee(e,t)+"000"}function y6e(e,t){return Qs(e.getUTCMonth()+1,t,2)}function b6e(e,t){return Qs(e.getUTCMinutes(),t,2)}function w6e(e,t){return Qs(e.getUTCSeconds(),t,2)}function j6e(e){var t=e.getUTCDay();return t===0?7:t}function N6e(e,t){return Qs(fA.count(Qu(e)-1,e),t,2)}function hee(e){var t=e.getUTCDay();return t>=4||t===0?t0(e):t0.ceil(e)}function S6e(e,t){return e=hee(e),Qs(t0.count(Qu(e),e)+(Qu(e).getUTCDay()===4),t,2)}function k6e(e){return e.getUTCDay()}function C6e(e,t){return Qs(PS.count(Qu(e)-1,e),t,2)}function A6e(e,t){return Qs(e.getUTCFullYear()%100,t,2)}function E6e(e,t){return e=hee(e),Qs(e.getUTCFullYear()%100,t,2)}function P6e(e,t){return Qs(e.getUTCFullYear()%1e4,t,4)}function T6e(e,t){var s=e.getUTCDay();return e=s>=4||s===0?t0(e):t0.ceil(e),Qs(e.getUTCFullYear()%1e4,t,4)}function _6e(){return"+0000"}function tU(){return"%"}function rU(e){return+e}function sU(e){return Math.floor(+e/1e3)}var fx,mee,fee;D6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D6e(e){return fx=DLe(e),mee=fx.format,fx.parse,fee=fx.utcFormat,fx.utcParse,fx}function O6e(e){return new Date(e)}function I6e(e){return e instanceof Date?+e:+new Date(+e)}function TR(e,t,s,a,n,i,o,l,c,d){var u=xR(),h=u.invert,m=u.domain,p=d(".%L"),g=d(":%S"),x=d("%I:%M"),y=d("%I %p"),b=d("%a %d"),w=d("%b %d"),v=d("%B"),S=d("%Y");function j(k){return(c(k)<k?p:l(k)<k?g:o(k)<k?x:i(k)<k?y:a(k)<k?n(k)<k?b:w:s(k)<k?v:S)(k)}return u.invert=function(k){return new Date(h(k))},u.domain=function(k){return arguments.length?m(Array.from(k,I6e)):m().map(O6e)},u.ticks=function(k){var N=m();return e(N[0],N[N.length-1],k??10)},u.tickFormat=function(k,N){return N==null?j:d(N)},u.nice=function(k){var N=m();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?m(eee(N,k)):u},u.copy=function(){return Tj(u,TR(e,t,s,a,n,i,o,l,c,d))},u}function R6e(){return vc.apply(TR(TLe,_Le,Xu,ER,mA,_j,CR,SR,Tf,mee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M6e(){return vc.apply(TR(ELe,PLe,Qu,PR,fA,hA,AR,kR,Tf,fee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pA(){var e=0,t=1,s,a,n,i,o=jo,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(n===0?.5:(h=(i(h)-s)*n,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,s=i(e=+e),a=i(t=+t),n=s===a?0:1/(a-s),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var p,g;return arguments.length?([p,g]=m,o=h(p,g),d):[o(0),o(1)]}}return d.range=u(cv),d.rangeRound=u(pR),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,s=h(e),a=h(t),n=s===a?0:1/(a-s),d}}function qm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pee(){var e=Hm(pA()(jo));return e.copy=function(){return qm(e,pee())},oh.apply(e,arguments)}function xee(){var e=yR(pA()).domain([1,10]);return e.copy=function(){return qm(e,xee()).base(e.base())},oh.apply(e,arguments)}function gee(){var e=bR(pA());return e.copy=function(){return qm(e,gee()).constant(e.constant())},oh.apply(e,arguments)}function _R(){var e=wR(pA());return e.copy=function(){return qm(e,_R()).exponent(e.exponent())},oh.apply(e,arguments)}function F6e(){return _R.apply(null,arguments).exponent(.5)}function vee(){var e=[],t=jo;function s(a){if(a!=null&&!isNaN(a=+a))return t((Ej(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(mm),s},s.interpolator=function(a){return arguments.length?(t=a,s):t},s.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>NFe(e,i/a))},s.copy=function(){return vee(t).domain(e)},oh.apply(s,arguments)}function xA(){var e=0,t=.5,s=1,a=1,n,i,o,l,c,d=jo,u,h=!1,m;function p(x){return isNaN(x=+x)?m:(x=.5+((x=+u(x))-i)*(a*x<a*i?l:c),d(h?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,s]=x,n=u(e=+e),i=u(t=+t),o=u(s=+s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p):[e,t,s]},p.clamp=function(x){return arguments.length?(h=!!x,p):h},p.interpolator=function(x){return arguments.length?(d=x,p):d};function g(x){return function(y){var b,w,v;return arguments.length?([b,w,v]=y,d=YFe(x,[b,w,v]),p):[d(0),d(.5),d(1)]}}return p.range=g(cv),p.rangeRound=g(pR),p.unknown=function(x){return arguments.length?(m=x,p):m},function(x){return u=x,n=x(e),i=x(t),o=x(s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p}}function yee(){var e=Hm(xA()(jo));return e.copy=function(){return qm(e,yee())},oh.apply(e,arguments)}function bee(){var e=yR(xA()).domain([.1,1,10]);return e.copy=function(){return qm(e,bee()).base(e.base())},oh.apply(e,arguments)}function wee(){var e=bR(xA());return e.copy=function(){return qm(e,wee()).constant(e.constant())},oh.apply(e,arguments)}function DR(){var e=wR(xA());return e.copy=function(){return qm(e,DR()).exponent(e.exponent())},oh.apply(e,arguments)}function L6e(){return DR.apply(null,arguments).exponent(.5)}const aU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jb,scaleDiverging:yee,scaleDivergingLog:bee,scaleDivergingPow:DR,scaleDivergingSqrt:L6e,scaleDivergingSymlog:wee,scaleIdentity:ZZ,scaleImplicit:P5,scaleLinear:CS,scaleLog:tee,scaleOrdinal:hR,scalePoint:qy,scalePow:jR,scaleQuantile:aee,scaleQuantize:nee,scaleRadial:see,scaleSequential:pee,scaleSequentialLog:xee,scaleSequentialPow:_R,scaleSequentialQuantile:vee,scaleSequentialSqrt:F6e,scaleSequentialSymlog:gee,scaleSqrt:vLe,scaleSymlog:ree,scaleThreshold:iee,scaleTime:R6e,scaleUtc:M6e,tickFormat:JZ},Symbol.toStringTag,{value:"Module"}));var $6e=Z0;function B6e(e,t,s){for(var a=-1,n=e.length;++a<n;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!$6e(o):s(o,l)))var l=o,c=i}return c}var gA=B6e;function U6e(e,t){return e>t}var jee=U6e,V6e=gA,z6e=jee,W6e=lv;function H6e(e){return e&&e.length?V6e(e,W6e,z6e):void 0}var q6e=H6e;const Gh=na(q6e);function G6e(e,t){return e<t}var Nee=G6e,K6e=gA,Y6e=Nee,X6e=lv;function Q6e(e){return e&&e.length?K6e(e,X6e,Y6e):void 0}var J6e=Q6e;const vA=na(J6e);var Z6e=q3,e$e=ou,t$e=_Z,r$e=nl;function s$e(e,t){var s=r$e(e)?Z6e:t$e;return s(e,e$e(t))}var a$e=s$e,n$e=PZ,i$e=a$e;function o$e(e,t){return n$e(i$e(e,t),1)}var l$e=o$e;const c$e=na(l$e);var d$e=oR;function u$e(e,t){return d$e(e,t)}var h$e=u$e;const r0=na(h$e);var dv=1e9,m$e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IR,Ka=!0,fc="[DecimalError] ",Kf=fc+"Invalid argument: ",OR=fc+"Exponent out of range: ",uv=Math.floor,gf=Math.pow,f$e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vl,di=1e7,Ma=7,See=9007199254740991,TS=uv(See/Ma),or={};or.absoluteValue=or.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};or.comparedTo=or.cmp=function(e){var t,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,s=a<n?a:n;t<s;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};or.decimalPlaces=or.dp=function(){var e=this,t=e.d.length-1,s=(t-e.e)*Ma;if(t=e.d[t],t)for(;t%10==0;t/=10)s--;return s<0?0:s};or.dividedBy=or.div=function(e){return Iu(this,new this.constructor(e))};or.dividedToIntegerBy=or.idiv=function(e){var t=this,s=t.constructor;return Sa(Iu(t,new s(e),0,1),s.precision)};or.equals=or.eq=function(e){return!this.cmp(e)};or.exponent=function(){return Hn(this)};or.greaterThan=or.gt=function(e){return this.cmp(e)>0};or.greaterThanOrEqualTo=or.gte=function(e){return this.cmp(e)>=0};or.isInteger=or.isint=function(){return this.e>this.d.length-2};or.isNegative=or.isneg=function(){return this.s<0};or.isPositive=or.ispos=function(){return this.s>0};or.isZero=function(){return this.s===0};or.lessThan=or.lt=function(e){return this.cmp(e)<0};or.lessThanOrEqualTo=or.lte=function(e){return this.cmp(e)<1};or.logarithm=or.log=function(e){var t,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(vl))throw Error(fc+"NaN");if(s.s<1)throw Error(fc+(s.s?"NaN":"-Infinity"));return s.eq(vl)?new a(0):(Ka=!1,t=Iu(sw(s,i),sw(e,i),i),Ka=!0,Sa(t,n))};or.minus=or.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Aee(t,e):kee(t,(e.s=-e.s,e))};or.modulo=or.mod=function(e){var t,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(fc+"NaN");return s.s?(Ka=!1,t=Iu(s,e,0,1).times(e),Ka=!0,s.minus(t)):Sa(new a(s),n)};or.naturalExponential=or.exp=function(){return Cee(this)};or.naturalLogarithm=or.ln=function(){return sw(this)};or.negated=or.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};or.plus=or.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kee(t,e):Aee(t,(e.s=-e.s,e))};or.precision=or.sd=function(e){var t,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kf+e);if(t=Hn(n)+1,a=n.d.length-1,s=a*Ma+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&t>s?t:s};or.squareRoot=or.sqrt=function(){var e,t,s,a,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(fc+"NaN")}for(e=Hn(l),Ka=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=Md(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=uv((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),s=c.precision,n=o=s+3;;)if(i=a,a=i.plus(Iu(l,i,o+2)).times(.5),Md(i.d).slice(0,o)===(t=Md(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),n==o&&t=="4999"){if(Sa(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Ka=!0,Sa(a,s)};or.times=or.mul=function(e){var t,s,a,n,i,o,l,c,d,u=this,h=u.constructor,m=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,s=u.e+e.e,c=m.length,d=p.length,c<d&&(i=m,m=p,p=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=i[n]+p[a]*m[n-a-1]+t,i[n--]=l%di|0,t=l/di|0;i[n]=(i[n]+t)%di|0}for(;!i[--o];)i.pop();return t?++s:i.shift(),e.d=i,e.e=s,Ka?Sa(e,h.precision):e};or.toDecimalPlaces=or.todp=function(e,t){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(ru(e,0,dv),t===void 0?t=a.rounding:ru(t,0,8),Sa(s,e+Hn(s)+1,t))};or.toExponential=function(e,t){var s,a=this,n=a.constructor;return e===void 0?s=xp(a,!0):(ru(e,0,dv),t===void 0?t=n.rounding:ru(t,0,8),a=Sa(new n(a),e+1,t),s=xp(a,!0,e+1)),s};or.toFixed=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?xp(n):(ru(e,0,dv),t===void 0?t=i.rounding:ru(t,0,8),a=Sa(new i(n),e+Hn(n)+1,t),s=xp(a.abs(),!1,e+Hn(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};or.toInteger=or.toint=function(){var e=this,t=e.constructor;return Sa(new t(e),Hn(e)+1,t.rounding)};or.toNumber=function(){return+this};or.toPower=or.pow=function(e){var t,s,a,n,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(vl);if(l=new c(l),!l.s){if(e.s<1)throw Error(fc+"Infinity");return l}if(l.eq(vl))return l;if(a=c.precision,e.eq(vl))return Sa(l,a);if(t=e.e,s=e.d.length-1,o=t>=s,i=l.s,o){if((s=u<0?-u:u)<=See){for(n=new c(vl),t=Math.ceil(a/Ma+4),Ka=!1;s%2&&(n=n.times(l),iU(n.d,t)),s=uv(s/2),s!==0;)l=l.times(l),iU(l.d,t);return Ka=!0,e.s<0?new c(vl).div(n):Sa(n,a)}}else if(i<0)throw Error(fc+"NaN");return i=i<0&&e.d[Math.max(t,s)]&1?-1:1,l.s=1,Ka=!1,n=e.times(sw(l,a+d)),Ka=!0,n=Cee(n),n.s=i,n};or.toPrecision=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?(s=Hn(n),a=xp(n,s<=i.toExpNeg||s>=i.toExpPos)):(ru(e,1,dv),t===void 0?t=i.rounding:ru(t,0,8),n=Sa(new i(n),e,t),s=Hn(n),a=xp(n,e<=s||s<=i.toExpNeg,e)),a};or.toSignificantDigits=or.tosd=function(e,t){var s=this,a=s.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ru(e,1,dv),t===void 0?t=a.rounding:ru(t,0,8)),Sa(new a(s),e,t)};or.toString=or.valueOf=or.val=or.toJSON=or[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hn(e),s=e.constructor;return xp(e,t<=s.toExpNeg||t>=s.toExpPos)};function kee(e,t){var s,a,n,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ka?Sa(t,h):t;if(c=e.d,d=t.d,o=e.e,n=t.e,c=c.slice(),i=o-n,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,n=o,l=c.length),o=Math.ceil(h/Ma),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/di|0,c[i]%=di;for(s&&(c.unshift(s),++n),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=n,Ka?Sa(t,h):t}function ru(e,t,s){if(e!==~~e||e<t||e>s)throw Error(Kf+e)}function Md(e){var t,s,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,t=1;t<n;t++)a=e[t]+"",s=Ma-a.length,s&&(i+=Th(s)),i+=a;o=e[t],a=o+"",s=Ma-a.length,s&&(i+=Th(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Iu=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%di|0,o=i/di|0;return o&&a.unshift(o),a}function t(a,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=n[l]){c=a[l]>n[l]?1:-1;break}return c}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*di+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,c,d,u,h,m,p,g,x,y,b,w,v,S,j,k,N,C,A=a.constructor,E=a.s==n.s?1:-1,D=a.d,T=n.d;if(!a.s)return new A(a);if(!n.s)throw Error(fc+"Division by zero");for(c=a.e-n.e,N=T.length,j=D.length,p=new A(E),g=p.d=[],d=0;T[d]==(D[d]||0);)++d;if(T[d]>(D[d]||0)&&--c,i==null?w=i=A.precision:o?w=i+(Hn(a)-Hn(n))+1:w=i,w<0)return new A(0);if(w=w/Ma+2|0,d=0,N==1)for(u=0,T=T[0],w++;(d<j||u)&&w--;d++)v=u*di+(D[d]||0),g[d]=v/T|0,u=v%T|0;else{for(u=di/(T[0]+1)|0,u>1&&(T=e(T,u),D=e(D,u),N=T.length,j=D.length),S=N,x=D.slice(0,N),y=x.length;y<N;)x[y++]=0;C=T.slice(),C.unshift(0),k=T[0],T[1]>=di/2&&++k;do u=0,l=t(T,x,N,y),l<0?(b=x[0],N!=y&&(b=b*di+(x[1]||0)),u=b/k|0,u>1?(u>=di&&(u=di-1),h=e(T,u),m=h.length,y=x.length,l=t(h,x,m,y),l==1&&(u--,s(h,N<m?C:T,m))):(u==0&&(l=u=1),h=T.slice()),m=h.length,m<y&&h.unshift(0),s(x,h,y),l==-1&&(y=x.length,l=t(T,x,N,y),l<1&&(u++,s(x,N<y?C:T,y))),y=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[y++]=D[S]||0:(x=[D[S]],y=1);while((S++<j||x[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,Sa(p,o?i+Hn(p)+1:i)}}();function Cee(e,t){var s,a,n,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Hn(e)>16)throw Error(OR+Hn(e));if(!e.s)return new u(vl);for(t==null?(Ka=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(gf(2,d))/Math.LN10*2+5|0,l+=a,s=n=i=new u(vl),u.precision=l;;){if(n=Sa(n.times(e),l),s=s.times(++c),o=i.plus(Iu(n,s,l)),Md(o.d).slice(0,l)===Md(i.d).slice(0,l)){for(;d--;)i=Sa(i.times(i),l);return u.precision=h,t==null?(Ka=!0,Sa(i,h)):i}i=o}}function Hn(e){for(var t=e.e*Ma,s=e.d[0];s>=10;s/=10)t++;return t}function c4(e,t,s){if(t>e.LN10.sd())throw Ka=!0,s&&(e.precision=s),Error(fc+"LN10 precision limit exceeded");return Sa(new e(e.LN10),t)}function Th(e){for(var t="";e--;)t+="0";return t}function sw(e,t){var s,a,n,i,o,l,c,d,u,h=1,m=10,p=e,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(fc+(p.s?"NaN":"-Infinity"));if(p.eq(vl))return new x(0);if(t==null?(Ka=!1,d=y):d=t,p.eq(10))return t==null&&(Ka=!0),c4(x,d);if(d+=m,x.precision=d,s=Md(g),a=s.charAt(0),i=Hn(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)p=p.times(e),s=Md(p.d),a=s.charAt(0),h++;i=Hn(p),a>1?(p=new x("0."+s),i++):p=new x(a+"."+s.slice(1))}else return c=c4(x,d+2,y).times(i+""),p=sw(new x(a+"."+s.slice(1)),d-m).plus(c),x.precision=y,t==null?(Ka=!0,Sa(p,y)):p;for(l=o=p=Iu(p.minus(vl),p.plus(vl),d),u=Sa(p.times(p),d),n=3;;){if(o=Sa(o.times(u),d),c=l.plus(Iu(o,new x(n),d)),Md(c.d).slice(0,d)===Md(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(c4(x,d+2,y).times(i+""))),l=Iu(l,new x(h),d),x.precision=y,t==null?(Ka=!0,Sa(l,y)):l;l=c,n+=2}}function nU(e,t){var s,a,n;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,s=s-a-1,e.e=uv(s/Ma),e.d=[],a=(s+1)%Ma,s<0&&(a+=Ma),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Ma;a<n;)e.d.push(+t.slice(a,a+=Ma));t=t.slice(a),a=Ma-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Ka&&(e.e>TS||e.e<-TS))throw Error(OR+s)}else e.s=0,e.e=0,e.d=[0];return e}function Sa(e,t,s){var a,n,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Ma,n=t,d=h[u=0];else{if(u=Math.ceil((a+1)/Ma),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;a%=Ma,n=a-Ma+o}if(s!==void 0&&(i=gf(10,o-n-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=s<4?(l||c)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||c||s==6&&(a>0?n>0?d/gf(10,o-n):0:h[u-1])%10&1||s==(e.s<0?8:7))),t<1||!h[0])return c?(i=Hn(e),h.length=1,t=t-i-1,h[0]=gf(10,(Ma-t%Ma)%Ma),e.e=uv(-t/Ma)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=gf(10,Ma-a),h[u]=n>0?(d/gf(10,o-n)%gf(10,n)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==di&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=di)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Ka&&(e.e>TS||e.e<-TS))throw Error(OR+Hn(e));return e}function Aee(e,t){var s,a,n,i,o,l,c,d,u,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ka?Sa(t,p):t;if(c=e.d,h=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(s=c,o=-o,l=h.length):(s=h,a=d,l=c.length),n=Math.max(Math.ceil(p/Ma),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=c.length,l=h.length,u=n<l,u&&(l=n),n=0;n<l;n++)if(c[n]!=h[n]){u=c[n]<h[n];break}o=0}for(u&&(s=c,c=h,h=s,t.s=-t.s),l=c.length,n=h.length-l;n>0;--n)c[l++]=0;for(n=h.length;n>o;){if(c[--n]<h[n]){for(i=n;i&&c[--i]===0;)c[i]=di-1;--c[i],c[n]+=di}c[n]-=h[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Ka?Sa(t,p):t):new m(0)}function xp(e,t,s){var a,n=Hn(e),i=Md(e.d),o=i.length;return t?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Th(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Th(-n-1)+i,s&&(a=s-o)>0&&(i+=Th(a))):n>=o?(i+=Th(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+Th(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=Th(a))),e.s<0?"-"+i:i}function iU(e,t){if(e.length>t)return e.length=t,!0}function Eee(e){var t,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return nU(o,i.toString())}else if(typeof i!="string")throw Error(Kf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,f$e.test(i))nU(o,i);else throw Error(Kf+i)}if(n.prototype=or,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=Eee,n.config=n.set=p$e,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(s=a[t++])||(e[s]=this[s]);return n.config(e),n}function p$e(e){if(!e||typeof e!="object")throw Error(fc+"Object expected");var t,s,a,n=["precision",1,dv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[s=n[t]])!==void 0)if(uv(a)===a&&a>=n[t+1]&&a<=n[t+2])this[s]=a;else throw Error(Kf+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Kf+s+": "+a);return this}var IR=Eee(m$e);vl=new IR(1);const ga=IR;function x$e(e){return b$e(e)||y$e(e)||v$e(e)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$e(e,t){if(e){if(typeof e=="string")return O5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return O5(e,t)}}function y$e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b$e(e){if(Array.isArray(e))return O5(e)}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var w$e=function(t){return t},Pee={"@@functional/placeholder":!0},Tee=function(t){return t===Pee},oU=function(t){return function s(){return arguments.length===0||arguments.length===1&&Tee(arguments.length<=0?void 0:arguments[0])?s:t.apply(void 0,arguments)}},j$e=function e(t,s){return t===1?s:oU(function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var o=n.filter(function(l){return l!==Pee}).length;return o>=t?s.apply(void 0,n):e(t-o,oU(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=n.map(function(h){return Tee(h)?c.shift():h});return s.apply(void 0,x$e(u).concat(c))}))})},yA=function(t){return j$e(t.length,t)},I5=function(t,s){for(var a=[],n=t;n<s;++n)a[n-t]=n;return a},N$e=yA(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(s){return t[s]}).map(e)}),S$e=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(!s.length)return w$e;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},R5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_ee=function(t){var s=null,a=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s&&i.every(function(l,c){return l===s[c]})||(s=i,a=t.apply(void 0,i)),a}};function k$e(e){var t;return e===0?t=1:t=Math.floor(new ga(e).abs().log(10).toNumber())+1,t}function C$e(e,t,s){for(var a=new ga(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}var A$e=yA(function(e,t,s){var a=+e,n=+t;return a+s*(n-a)}),E$e=yA(function(e,t,s){var a=t-+e;return a=a||1/0,(s-e)/a}),P$e=yA(function(e,t,s){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});const bA={rangeStep:C$e,getDigitCount:k$e,interpolateNumber:A$e,uninterpolateNumber:E$e,uninterpolateTruncation:P$e};function M5(e){return D$e(e)||_$e(e)||Dee(e)||T$e()}function T$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function D$e(e){if(Array.isArray(e))return F5(e)}function aw(e,t){return R$e(e)||I$e(e,t)||Dee(e,t)||O$e()}function O$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(e,t){if(e){if(typeof e=="string")return F5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return F5(e,t)}}function F5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function I$e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var s=[],a=!0,n=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(s.push(l.value),!(t&&s.length===t));a=!0);}catch(c){n=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(n)throw i}}return s}}function R$e(e){if(Array.isArray(e))return e}function Oee(e){var t=aw(e,2),s=t[0],a=t[1],n=s,i=a;return s>a&&(n=a,i=s),[n,i]}function Iee(e,t,s){if(e.lte(0))return new ga(0);var a=bA.getDigitCount(e.toNumber()),n=new ga(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new ga(Math.ceil(i.div(o).toNumber())).add(s).mul(o),c=l.mul(n);return t?c:new ga(Math.ceil(c))}function M$e(e,t,s){var a=1,n=new ga(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new ga(10).pow(bA.getDigitCount(e)-1),n=new ga(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new ga(Math.floor(e)))}else e===0?n=new ga(Math.floor((t-1)/2)):s||(n=new ga(Math.floor(e)));var o=Math.floor((t-1)/2),l=S$e(N$e(function(c){return n.add(new ga(c-o).mul(a)).toNumber()}),I5);return l(0,t)}function Ree(e,t,s,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(s-1)))return{step:new ga(0),tickMin:new ga(0),tickMax:new ga(0)};var i=Iee(new ga(t).sub(e).div(s-1),a,n),o;e<=0&&t>=0?o=new ga(0):(o=new ga(e).add(t).div(2),o=o.sub(new ga(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ga(t).sub(o).div(i).toNumber()),d=l+c+1;return d>s?Ree(e,t,s,a,n+1):(d<s&&(c=t>0?c+(s-d):c,l=t>0?l:l+(s-d)),{step:i,tickMin:o.sub(new ga(l).mul(i)),tickMax:o.add(new ga(c).mul(i))})}function F$e(e){var t=aw(e,2),s=t[0],a=t[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),l=Oee([s,a]),c=aw(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(M5(I5(0,n-1).map(function(){return 1/0}))):[].concat(M5(I5(0,n-1).map(function(){return-1/0})),[u]);return s>a?R5(h):h}if(d===u)return M$e(d,n,i);var m=Ree(d,u,o,i),p=m.step,g=m.tickMin,x=m.tickMax,y=bA.rangeStep(g,x.add(new ga(.1).mul(p)),p);return s>a?R5(y):y}function L$e(e,t){var s=aw(e,2),a=s[0],n=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Oee([a,n]),l=aw(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,n];if(c===d)return[c];var u=Math.max(t,2),h=Iee(new ga(d).sub(c).div(u-1),i,0),m=[].concat(M5(bA.rangeStep(new ga(c),new ga(d).sub(new ga(.99).mul(h)),h)),[d]);return a>n?R5(m):m}var $$e=_ee(F$e),B$e=_ee(L$e),U$e="Invariant failed";function gp(e,t){throw new Error(U$e)}var V$e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_S.apply(this,arguments)}function z$e(e,t){return G$e(e)||q$e(e,t)||H$e(e,t)||W$e()}function W$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$e(e,t){if(e){if(typeof e=="string")return lU(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return lU(e,t)}}function lU(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function q$e(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function G$e(e){if(Array.isArray(e))return e}function K$e(e,t){if(e==null)return{};var s=Y$e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Y$e(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function X$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Lee(a.key),a)}}function J$e(e,t,s){return t&&Q$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z$e(e,t,s){return t=DS(t),e8e(e,Mee()?Reflect.construct(t,s||[],DS(e).constructor):t.apply(e,s))}function e8e(e,t){if(t&&(s0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t8e(e)}function t8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},DS(e)}function r8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L5(e,t)}function L5(e,t){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},L5(e,t)}function Fee(e,t,s){return t=Lee(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lee(e){var t=s8e(e,"string");return s0(t)=="symbol"?t:t+""}function s8e(e,t){if(s0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(s0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wA=function(e){function t(){return X$e(this,t),Z$e(this,t,arguments)}return r8e(t,e),J$e(t,[{key:"render",value:function(){var a=this.props,n=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,m=K$e(a,V$e),p=Dr(m,!1);this.props.direction==="x"&&u.type!=="number"&&gp();var g=c.map(function(x){var y=d(x,l),b=y.x,w=y.y,v=y.value,S=y.errorVal;if(!S)return null;var j=[],k,N;if(Array.isArray(S)){var C=z$e(S,2);k=C[0],N=C[1]}else k=N=S;if(i==="vertical"){var A=u.scale,E=w+n,D=E+o,T=E-o,P=A(v-k),_=A(v+N);j.push({x1:_,y1:D,x2:_,y2:T}),j.push({x1:P,y1:E,x2:_,y2:E}),j.push({x1:P,y1:D,x2:P,y2:T})}else if(i==="horizontal"){var O=h.scale,M=b+n,I=M-o,R=M+o,L=O(v-k),K=O(v+N);j.push({x1:I,y1:K,x2:R,y2:K}),j.push({x1:M,y1:L,x2:M,y2:K}),j.push({x1:I,y1:L,x2:R,y2:L})}return ae.createElement(Rs,_S({className:"recharts-errorBar",key:"bar-".concat(j.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),j.map(function(H){return ae.createElement("line",_S({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return ae.createElement(Rs,{className:"recharts-errorBars"},g)}}])}(ae.Component);Fee(wA,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Fee(wA,"displayName","ErrorBar");function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function cU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function af(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(s),!0).forEach(function(a){a8e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function a8e(e,t,s){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function n8e(e){var t=i8e(e,"string");return nw(t)=="symbol"?t:t+""}function i8e(e,t){if(nw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(nw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ee=function(t){var s=t.children,a=t.formattedGraphicalItems,n=t.legendWidth,i=t.legendContent,o=ul(s,fg);if(!o)return null;var l=fg.defaultProps,c=l!==void 0?af(af({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,h){var m=h.item,p=h.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(a||[]).map(function(u){var h=u.item,m=h.type.defaultProps,p=m!==void 0?af(af({},m),h.props):{},g=p.dataKey,x=p.name,y=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:RR(h),value:x||g,payload:p}}),af(af(af({},c),fg.getWithHeight(o,n)),{},{payload:d,item:o})};function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function dU(e){return d8e(e)||c8e(e)||l8e(e)||o8e()}function o8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8e(e,t){if(e){if(typeof e=="string")return $5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $5(e,t)}}function c8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d8e(e){if(Array.isArray(e))return $5(e)}function $5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function uU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(s),!0).forEach(function(a){xg(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xg(e,t,s){return t=u8e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function u8e(e){var t=h8e(e,"string");return iw(t)=="symbol"?t:t+""}function h8e(e,t){if(iw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(iw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(e,t,s){return ls(e)||ls(t)?s:ni(t)?Cl(e,t,s):Ur(t)?t(e):s}function Gy(e,t,s,a){var n=c$e(e,function(l){return ti(l,t)});if(s==="number"){var i=n.filter(function(l){return Ct(l)||parseFloat(l)});return i.length?[vA(i),Gh(i)]:[1/0,-1/0]}var o=a?n.filter(function(l){return!ls(l)}):n;return o.map(function(l){return ni(l)||l instanceof Date?l:""})}var m8e=function(t){var s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(s=a==null?void 0:a.length)!==null&&s!==void 0?s:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?n[d-1].coordinate:n[l-1].coordinate,h=n[d].coordinate,m=d>=l-1?n[0].coordinate:n[d+1].coordinate,p=void 0;if(bo(h-u)!==bo(m-h)){var g=[];if(bo(m-h)===bo(c[1]-c[0])){p=m;var x=h+c[1]-c[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var y=m+c[1]-c[0];g[0]=Math.min(h,(y+h)/2),g[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=n[d].index;break}}else{var w=Math.min(u,m),v=Math.max(u,m);if(t>(w+h)/2&&t<=(v+h)/2){o=n[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<l-1&&t>(a[S].coordinate+a[S-1].coordinate)/2&&t<=(a[S].coordinate+a[S+1].coordinate)/2||S===l-1&&t>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},RR=function(t){var s,a=t,n=a.type.displayName,i=(s=t.type)!==null&&s!==void 0&&s.defaultProps?fn(fn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(n){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},f8e=function(t){var s=t.barSize,a=t.totalSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,p=h.length;m<p;m++){var g=u[h[m]],x=g.items,y=g.cateAxisId,b=x.filter(function(N){return Ou(N.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,v=w!==void 0?fn(fn({},w),b[0].props):b[0].props,S=v.barSize,j=v[y];o[j]||(o[j]=[]);var k=ls(S)?s:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:ls(k)?void 0:wo(k,a,0)})}}return o},p8e=function(t){var s=t.barGap,a=t.barCategoryGap,n=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=wo(s,n,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=n/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*d,g>=n&&(g-=(c-1)*d,d=0),g>=n&&p>0&&(m=!0,p*=.9,g=c*p);var x=(n-g)/2>>0,y={offset:x-d,size:0};u=o.reduce(function(S,j){var k={item:j.item,position:{offset:y.offset+y.size+d,size:m?p:j.barSize}},N=[].concat(dU(S),[k]);return y=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){N.push({item:C,position:y})}),N},h)}else{var b=wo(a,n,0,!0);n-2*b-(c-1)*d<=0&&(d=0);var w=(n-2*b-(c-1)*d)/c;w>1&&(w>>=0);var v=l===+l?Math.min(w,l):w;u=o.reduce(function(S,j,k){var N=[].concat(dU(S),[{item:j.item,position:{offset:b+(w+d)*k+(w-v)/2,size:v}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},h)}return u},x8e=function(t,s,a,n){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=$ee({children:i,legendWidth:c});if(d){var u=n||{},h=u.width,m=u.height,p=d.align,g=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&Ct(t[p]))return fn(fn({},t),{},xg({},p,t[p]+(h||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&Ct(t[g]))return fn(fn({},t),{},xg({},g,t[g]+(m||0)))}return t},g8e=function(t,s,a){return ls(s)?!0:t==="horizontal"?s==="yAxis":t==="vertical"||a==="x"?s==="xAxis":a==="y"?s==="yAxis":!0},Bee=function(t,s,a,n,i){var o=s.props.children,l=lc(o,wA).filter(function(d){return g8e(n,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=ti(u,a);if(ls(h))return d;var m=Array.isArray(h)?[vA(h),Gh(h)]:[h,h],p=c.reduce(function(g,x){var y=ti(u,x,0),b=m[0]-Math.abs(Array.isArray(y)?y[0]:y),w=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},v8e=function(t,s,a,n,i){var o=s.map(function(l){return Bee(t,l,a,i,n)}).filter(function(l){return!ls(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Uee=function(t,s,a,n,i){var o=s.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&Bee(t,c,d,n)||Gy(t,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Vee=function(t,s){return t==="horizontal"&&s==="xAxis"||t==="vertical"&&s==="yAxis"||t==="centric"&&s==="angleAxis"||t==="radial"&&s==="radiusAxis"},zee=function(t,s,a,n){if(n)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(s),o||l.push(a),l},Pu=function(t,s,a){if(!t)return null;var n=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?n.bandwidth()/2:2,d=(s||a)&&o==="category"&&n.bandwidth?n.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?bo(l[0]-l[1])*2*d:d,s&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:n(m)+d,value:h,offset:d}});return u.filter(function(h){return!av(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:n(h)+d,value:h,index:m,offset:d}}):n.ticks&&!a?n.ticks(t.tickCount).map(function(h){return{coordinate:n(h)+d,value:h,offset:d}}):n.domain().map(function(h,m){return{coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}})},d4=new WeakMap,nN=function(t,s){if(typeof s!="function")return t;d4.has(t)||d4.set(t,new WeakMap);var a=d4.get(t);if(a.has(s))return a.get(s);var n=function(){t.apply(void 0,arguments),s.apply(void 0,arguments)};return a.set(s,n),n},Wee=function(t,s,a){var n=t.scale,i=t.type,o=t.layout,l=t.axisType;if(n==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Jb(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:CS(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?{scale:qy(),realScaleType:"point"}:i==="category"?{scale:Jb(),realScaleType:"band"}:{scale:CS(),realScaleType:"linear"};if(mp(n)){var c="scale".concat(sA(n));return{scale:(aU[c]||qy)(),realScaleType:aU[c]?c:"point"}}return Ur(n)?{scale:n}:{scale:qy(),realScaleType:"point"}},hU=1e-4,Hee=function(t){var s=t.domain();if(!(!s||s.length<=2)){var a=s.length,n=t.range(),i=Math.min(n[0],n[1])-hU,o=Math.max(n[0],n[1])+hU,l=t(s[0]),c=t(s[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([s[0],s[a-1]])}},y8e=function(t,s){if(!t)return null;for(var a=0,n=t.length;a<n;a++)if(t[a].item===s)return t[a].position;return null},b8e=function(t,s){if(!s||s.length!==2||!Ct(s[0])||!Ct(s[1]))return t;var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]),i=[t[0],t[1]];return(!Ct(t[0])||t[0]<a)&&(i[0]=a),(!Ct(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<a&&(i[1]=a),i},w8e=function(t){var s=t.length;if(!(s<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,o=0,l=0;l<s;++l){var c=av(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},j8e=function(t){var s=t.length;if(!(s<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,o=0;o<s;++o){var l=av(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},N8e={sign:w8e,expand:V4e,none:Kg,silhouette:z4e,wiggle:W4e,positive:j8e},S8e=function(t,s,a){var n=s.map(function(l){return l.props.dataKey}),i=N8e[a],o=U4e().keys(n).value(function(l,c){return+ti(l,c,0)}).order(d5).offset(i);return o(t)},k8e=function(t,s,a,n,i,o){if(!t)return null;var l=o?s.reverse():s,c={},d=l.reduce(function(h,m){var p,g=(p=m.type)!==null&&p!==void 0&&p.defaultProps?fn(fn({},m.type.defaultProps),m.props):m.props,x=g.stackId,y=g.hide;if(y)return h;var b=g[a],w=h[b]||{hasStack:!1,stackGroups:{}};if(ni(x)){var v=w.stackGroups[x]||{numericAxisId:a,cateAxisId:n,items:[]};v.items.push(m),w.hasStack=!0,w.stackGroups[x]=v}else w.stackGroups[nv("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[m]};return fn(fn({},h),{},xg({},b,w))},c),u={};return Object.keys(d).reduce(function(h,m){var p=d[m];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var b=p.stackGroups[y];return fn(fn({},x),{},xg({},y,{numericAxisId:a,cateAxisId:n,items:b.items,stackedData:S8e(t,b.items,i)}))},g)}return fn(fn({},h),{},xg({},m,p))},u)},qee=function(t,s){var a=s.realScaleType,n=s.type,i=s.tickCount,o=s.originalDomain,l=s.allowDecimals,c=a||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=$$e(d,i,l);return t.domain([vA(u),Gh(u)]),{niceTicks:u}}if(i&&n==="number"){var h=t.domain(),m=B$e(h,i,l);return{niceTicks:m}}return null};function mU(e){var t=e.axis,s=e.ticks,a=e.bandSize,n=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ls(n[t.dataKey])){var l=nS(s,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var c=ti(n,ls(o)?t.dataKey:o);return ls(c)?null:t.scale(c)}var fU=function(t){var s=t.axis,a=t.ticks,n=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(s.type==="category")return a[l]?a[l].coordinate+n:null;var c=ti(o,s.dataKey,s.domain[l]);return ls(c)?null:s.scale(c)-i/2+n},C8e=function(t){var s=t.numericAxis,a=s.scale.domain();if(s.type==="number"){var n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return n<=0&&i>=0?0:i<0?i:n}return a[0]},A8e=function(t,s){var a,n=(a=t.type)!==null&&a!==void 0&&a.defaultProps?fn(fn({},t.type.defaultProps),t.props):t.props,i=n.stackId;if(ni(i)){var o=s[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},E8e=function(t){return t.reduce(function(s,a){return[vA(a.concat([s[0]]).filter(Ct)),Gh(a.concat([s[1]]).filter(Ct))]},[1/0,-1/0])},Gee=function(t,s,a){return Object.keys(t).reduce(function(n,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=E8e(u.slice(s,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},pU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B5=function(t,s,a){if(Ur(t))return t(s,a);if(!Array.isArray(t))return s;var n=[];if(Ct(t[0]))n[0]=a?t[0]:Math.min(t[0],s[0]);else if(pU.test(t[0])){var i=+pU.exec(t[0])[1];n[0]=s[0]-i}else Ur(t[0])?n[0]=t[0](s[0]):n[0]=s[0];if(Ct(t[1]))n[1]=a?t[1]:Math.max(t[1],s[1]);else if(xU.test(t[1])){var o=+xU.exec(t[1])[1];n[1]=s[1]+o}else Ur(t[1])?n[1]=t[1](s[1]):n[1]=s[1];return n},OS=function(t,s,a){if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!a||n>0)return n}if(t&&s&&s.length>=2){for(var i=cR(s,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},gU=function(t,s,a){return!t||!t.length||r0(t,Cl(a,"type.defaultProps.domain"))?s:t},Kee=function(t,s){var a=t.type.defaultProps?fn(fn({},t.type.defaultProps),t.props):t.props,n=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return fn(fn({},Dr(t,!1)),{},{dataKey:n,unit:o,formatter:l,name:i||n,color:RR(t),value:ti(s,n),type:c,payload:s,chartType:d,hide:u})};function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}function vU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function wu(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(s),!0).forEach(function(a){Yee(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Yee(e,t,s){return t=P8e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function P8e(e){var t=T8e(e,"string");return ow(t)=="symbol"?t:t+""}function T8e(e,t){if(ow(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(ow(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8e(e,t){return R8e(e)||I8e(e,t)||O8e(e,t)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(e,t){if(e){if(typeof e=="string")return yU(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yU(e,t)}}function yU(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function I8e(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function R8e(e){if(Array.isArray(e))return e}var IS=Math.PI/180,M8e=function(t){return t*180/Math.PI},_a=function(t,s,a,n){return{x:t+Math.cos(-IS*n)*a,y:s+Math.sin(-IS*n)*a}},Xee=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},F8e=function(t,s,a,n,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=wo(t.cx,o,o/2),h=wo(t.cy,l,l/2),m=Xee(o,l,a),p=wo(t.innerRadius,m,0),g=wo(t.outerRadius,m,m*.8),x=Object.keys(s);return x.reduce(function(y,b){var w=s[b],v=w.domain,S=w.reversed,j;if(ls(w.range))n==="angleAxis"?j=[c,d]:n==="radiusAxis"&&(j=[p,g]),S&&(j=[j[1],j[0]]);else{j=w.range;var k=j,N=_8e(k,2);c=N[0],d=N[1]}var C=Wee(w,i),A=C.realScaleType,E=C.scale;E.domain(v).range(j),Hee(E);var D=qee(E,wu(wu({},w),{},{realScaleType:A})),T=wu(wu(wu({},w),D),{},{range:j,radius:g,realScaleType:A,scale:E,cx:u,cy:h,innerRadius:p,outerRadius:g,startAngle:c,endAngle:d});return wu(wu({},y),{},Yee({},b,T))},{})},L8e=function(t,s){var a=t.x,n=t.y,i=s.x,o=s.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-o,2))},$8e=function(t,s){var a=t.x,n=t.y,i=s.cx,o=s.cy,l=L8e({x:a,y:n},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return n>o&&(d=2*Math.PI-d),{radius:l,angle:M8e(d),angleInRadian:d}},B8e=function(t){var s=t.startAngle,a=t.endAngle,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return{startAngle:s-o*360,endAngle:a-o*360}},U8e=function(t,s){var a=s.startAngle,n=s.endAngle,i=Math.floor(a/360),o=Math.floor(n/360),l=Math.min(i,o);return t+l*360},bU=function(t,s){var a=t.x,n=t.y,i=$8e({x:a,y:n},s),o=i.radius,l=i.angle,c=s.innerRadius,d=s.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=B8e(s),h=u.startAngle,m=u.endAngle,p=l,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?wu(wu({},s),{},{radius:o,angle:U8e(p,s)}):null},Qee=function(t){return!f.isValidElement(t)&&!Ur(t)&&typeof t!="boolean"?t.className:""};function lw(e){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lw(e)}var V8e=["offset"];function z8e(e){return G8e(e)||q8e(e)||H8e(e)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8e(e,t){if(e){if(typeof e=="string")return U5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return U5(e,t)}}function q8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G8e(e){if(Array.isArray(e))return U5(e)}function U5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function K8e(e,t){if(e==null)return{};var s=Y8e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Y8e(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function wU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(s),!0).forEach(function(a){X8e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function X8e(e,t,s){return t=Q8e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Q8e(e){var t=J8e(e,"string");return lw(t)=="symbol"?t:t+""}function J8e(e,t){if(lw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(lw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},cw.apply(this,arguments)}var Z8e=function(t){var s=t.value,a=t.formatter,n=ls(t.children)?s:t.children;return Ur(a)?a(n):n},eBe=function(t,s){var a=bo(s-t),n=Math.min(Math.abs(s-t),360);return a*n},tBe=function(t,s,a){var n=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,p=c.startAngle,g=c.endAngle,x=c.clockWise,y=(h+m)/2,b=eBe(p,g),w=b>=0?1:-1,v,S;n==="insideStart"?(v=p+w*o,S=x):n==="insideEnd"?(v=g-w*o,S=!x):n==="end"&&(v=g+w*o,S=x),S=b<=0?S:!S;var j=_a(d,u,y,v),k=_a(d,u,y,v+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),C=ls(t.id)?nv("recharts-radial-line-"):t.id;return ae.createElement("text",cw({},a,{dominantBaseline:"central",className:os("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:C,d:N})),ae.createElement("textPath",{xlinkHref:"#".concat(C)},s))},rBe=function(t){var s=t.viewBox,a=t.offset,n=t.position,i=s,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(n==="outside"){var p=_a(o,l,d+a,m),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,b=_a(o,l,y,m),w=b.x,v=b.y;return{x:w,y:v,textAnchor:"middle",verticalAnchor:"middle"}},sBe=function(t){var s=t.viewBox,a=t.parentViewBox,n=t.offset,i=t.position,o=s,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*n,p=h>0?"end":"start",g=h>0?"start":"end",x=d>=0?1:-1,y=x*n,b=x>0?"end":"start",w=x>0?"start":"end";if(i==="top"){var v={x:l+d/2,y:c-h*n,textAnchor:"middle",verticalAnchor:p};return Xn(Xn({},v),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:g};return Xn(Xn({},S),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Xn(Xn({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var k={x:l+d+y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Xn(Xn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var N=a?{width:d,height:u}:{};return i==="insideLeft"?Xn({x:l+y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Xn({x:l+d-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Xn({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Xn({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?Xn({x:l+y,y:c+m,textAnchor:w,verticalAnchor:g},N):i==="insideTopRight"?Xn({x:l+d-y,y:c+m,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Xn({x:l+y,y:c+u-m,textAnchor:w,verticalAnchor:p},N):i==="insideBottomRight"?Xn({x:l+d-y,y:c+u-m,textAnchor:b,verticalAnchor:p},N):ev(i)&&(Ct(i.x)||Ef(i.x))&&(Ct(i.y)||Ef(i.y))?Xn({x:l+wo(i.x,d),y:c+wo(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):Xn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},aBe=function(t){return"cx"in t&&Ct(t.cx)};function fi(e){var t=e.offset,s=t===void 0?5:t,a=K8e(e,V8e),n=Xn({offset:s},a),i=n.viewBox,o=n.position,l=n.value,c=n.children,d=n.content,u=n.className,h=u===void 0?"":u,m=n.textBreakAll;if(!i||ls(l)&&ls(c)&&!f.isValidElement(d)&&!Ur(d))return null;if(f.isValidElement(d))return f.cloneElement(d,n);var p;if(Ur(d)){if(p=f.createElement(d,n),f.isValidElement(p))return p}else p=Z8e(n);var g=aBe(i),x=Dr(n,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tBe(n,p,x);var y=g?rBe(n):sBe(n);return ae.createElement(pp,cw({className:os("recharts-label",h)},x,y,{breakAll:m}),p)}fi.displayName="Label";var Jee=function(t){var s=t.cx,a=t.cy,n=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,m=t.y,p=t.top,g=t.left,x=t.width,y=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ct(x)&&Ct(y)){if(Ct(h)&&Ct(m))return{x:h,y:m,width:x,height:y};if(Ct(p)&&Ct(g))return{x:p,y:g,width:x,height:y}}return Ct(h)&&Ct(m)?{x:h,y:m,width:0,height:0}:Ct(s)&&Ct(a)?{cx:s,cy:a,startAngle:i||n||0,endAngle:o||n||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},nBe=function(t,s){return t?t===!0?ae.createElement(fi,{key:"label-implicit",viewBox:s}):ni(t)?ae.createElement(fi,{key:"label-implicit",viewBox:s,value:t}):f.isValidElement(t)?t.type===fi?f.cloneElement(t,{key:"label-implicit",viewBox:s}):ae.createElement(fi,{key:"label-implicit",content:t,viewBox:s}):Ur(t)?ae.createElement(fi,{key:"label-implicit",content:t,viewBox:s}):ev(t)?ae.createElement(fi,cw({viewBox:s},t,{key:"label-implicit"})):null:null},iBe=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var n=t.children,i=Jee(t),o=lc(n,fi).map(function(c,d){return f.cloneElement(c,{viewBox:s||i,key:"label-".concat(d)})});if(!a)return o;var l=nBe(t.label,s||i);return[l].concat(z8e(o))};fi.parseViewBox=Jee;fi.renderCallByParent=iBe;function oBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lBe=oBe;const cBe=na(lBe);function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}var dBe=["valueAccessor"],uBe=["data","dataKey","clockWise","id","textBreakAll"];function hBe(e){return xBe(e)||pBe(e)||fBe(e)||mBe()}function mBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fBe(e,t){if(e){if(typeof e=="string")return V5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V5(e,t)}}function pBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xBe(e){if(Array.isArray(e))return V5(e)}function V5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},RS.apply(this,arguments)}function jU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function NU(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jU(Object(s),!0).forEach(function(a){gBe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gBe(e,t,s){return t=vBe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function vBe(e){var t=yBe(e,"string");return dw(t)=="symbol"?t:t+""}function yBe(e,t){if(dw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(dw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SU(e,t){if(e==null)return{};var s=bBe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function bBe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}var wBe=function(t){return Array.isArray(t.value)?cBe(t.value):t.value};function Ru(e){var t=e.valueAccessor,s=t===void 0?wBe:t,a=SU(e,dBe),n=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=SU(a,uBe);return!n||!n.length?null:ae.createElement(Rs,{className:"recharts-label-list"},n.map(function(u,h){var m=ls(i)?s(u,h):ti(u&&u.payload,i),p=ls(l)?{}:{id:"".concat(l,"-").concat(h)};return ae.createElement(fi,RS({},Dr(u,!0),d,p,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:fi.parseViewBox(ls(o)?u:NU(NU({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ru.displayName="LabelList";function jBe(e,t){return e?e===!0?ae.createElement(Ru,{key:"labelList-implicit",data:t}):ae.isValidElement(e)||Ur(e)?ae.createElement(Ru,{key:"labelList-implicit",data:t,content:e}):ev(e)?ae.createElement(Ru,RS({data:t},e,{key:"labelList-implicit"})):null:null}function NBe(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,n=lc(a,Ru).map(function(o,l){return f.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!s)return n;var i=jBe(e.label,t);return[i].concat(hBe(n))}Ru.renderCallByParent=NBe;function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function z5(){return z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},z5.apply(this,arguments)}function kU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function CU(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(s),!0).forEach(function(a){SBe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function SBe(e,t,s){return t=kBe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function kBe(e){var t=CBe(e,"string");return uw(t)=="symbol"?t:t+""}function CBe(e,t){if(uw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(uw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ABe=function(t,s){var a=bo(s-t),n=Math.min(Math.abs(s-t),359.999);return a*n},iN=function(t){var s=t.cx,a=t.cy,n=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+n,h=Math.asin(c/u)/IS,m=d?i:i+o*h,p=_a(s,a,u,m),g=_a(s,a,n,m),x=d?i-o*h:i,y=_a(s,a,u*Math.cos(h*IS),x);return{center:p,circleTangency:g,lineTangency:y,theta:h}},Zee=function(t){var s=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ABe(o,l),d=o+c,u=_a(s,a,i,o),h=_a(s,a,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var p=_a(s,a,n,o),g=_a(s,a,n,d);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(s,",").concat(a," Z");return m},EBe=function(t){var s=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=bo(u-d),m=iN({cx:s,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,g=m.lineTangency,x=m.theta,y=iN({cx:s,cy:a,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,w=y.lineTangency,v=y.theta,S=c?Math.abs(d-u):Math.abs(d-u)-x-v;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Zee({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var k=iN({cx:s,cy:a,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=k.circleTangency,C=k.lineTangency,A=k.theta,E=iN({cx:s,cy:a,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=E.circleTangency,T=E.lineTangency,P=E.theta,_=c?Math.abs(d-u):Math.abs(d-u)-A-P;if(_<0&&o===0)return"".concat(j,"L").concat(s,",").concat(a,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(_>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(s,",").concat(a,"Z");return j},PBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ete=function(t){var s=CU(CU({},PBe),t),a=s.cx,n=s.cy,i=s.innerRadius,o=s.outerRadius,l=s.cornerRadius,c=s.forceCornerRadius,d=s.cornerIsExternal,u=s.startAngle,h=s.endAngle,m=s.className;if(o<i||u===h)return null;var p=os("recharts-sector",m),g=o-i,x=wo(l,g,0,!0),y;return x>0&&Math.abs(u-h)<360?y=EBe({cx:a,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):y=Zee({cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ae.createElement("path",z5({},Dr(s,!0),{className:p,d:y,role:"img"}))};function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function W5(){return W5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},W5.apply(this,arguments)}function AU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function EU(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(s),!0).forEach(function(a){TBe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function TBe(e,t,s){return t=_Be(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _Be(e){var t=DBe(e,"string");return hw(t)=="symbol"?t:t+""}function DBe(e,t){if(hw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(hw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PU={curveBasisClosed:T4e,curveBasisOpen:_4e,curveBasis:P4e,curveBumpX:p4e,curveBumpY:x4e,curveLinearClosed:D4e,curveLinear:nA,curveMonotoneX:O4e,curveMonotoneY:I4e,curveNatural:R4e,curveStep:M4e,curveStepAfter:L4e,curveStepBefore:F4e},oN=function(t){return t.x===+t.x&&t.y===+t.y},Gv=function(t){return t.x},Kv=function(t){return t.y},OBe=function(t,s){if(Ur(t))return t;var a="curve".concat(sA(t));return(a==="curveMonotone"||a==="curveBump")&&s?PU["".concat(a).concat(s==="vertical"?"Y":"X")]:PU[a]||nA},IBe=function(t){var s=t.type,a=s===void 0?"linear":s,n=t.points,i=n===void 0?[]:n,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=OBe(a,l),h=d?i.filter(function(x){return oN(x)}):i,m;if(Array.isArray(o)){var p=d?o.filter(function(x){return oN(x)}):o,g=h.map(function(x,y){return EU(EU({},x),{},{base:p[y]})});return l==="vertical"?m=Q1().y(Kv).x1(Gv).x0(function(x){return x.base.x}):m=Q1().x(Gv).y1(Kv).y0(function(x){return x.base.y}),m.defined(oN).curve(u),m(g)}return l==="vertical"&&Ct(o)?m=Q1().y(Kv).x1(Gv).x0(o):Ct(o)?m=Q1().x(Gv).y1(Kv).y0(o):m=KJ().x(Gv).y(Kv),m.defined(oN).curve(u),m(h)},gg=function(t){var s=t.className,a=t.points,n=t.path,i=t.pathRef;if((!a||!a.length)&&!n)return null;var o=a&&a.length?IBe(t):n;return f.createElement("path",W5({},Dr(t,!1),iS(t),{className:os("recharts-curve",s),d:o,ref:i}))},tte={exports:{}},RBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MBe=RBe,FBe=MBe;function rte(){}function ste(){}ste.resetWarningCache=rte;var LBe=function(){function e(a,n,i,o,l,c){if(c!==FBe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ste,resetWarningCache:rte};return s.PropTypes=s,s};tte.exports=LBe();var $Be=tte.exports;const ra=na($Be);var BBe=Object.getOwnPropertyNames,UBe=Object.getOwnPropertySymbols,VBe=Object.prototype.hasOwnProperty;function TU(e,t){return function(a,n,i){return e(a,n,i)&&t(a,n,i)}}function lN(e){return function(s,a,n){if(!s||!a||typeof s!="object"||typeof a!="object")return e(s,a,n);var i=n.cache,o=i.get(s),l=i.get(a);if(o&&l)return o===a&&l===s;i.set(s,a),i.set(a,s);var c=e(s,a,n);return i.delete(s),i.delete(a),c}}function _U(e){return BBe(e).concat(UBe(e))}var zBe=Object.hasOwn||function(e,t){return VBe.call(e,t)};function Up(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var WBe="__v",HBe="__o",qBe="_owner",DU=Object.getOwnPropertyDescriptor,OU=Object.keys;function GBe(e,t,s){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!s.equals(e[a],t[a],a,a,e,t,s))return!1;return!0}function KBe(e,t){return Up(e.getTime(),t.getTime())}function YBe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function XBe(e,t){return e===t}function IU(e,t,s){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(n[h]){h++;continue}var m=o.value,p=l.value;if(s.equals(m[0],p[0],c,h,e,t,s)&&s.equals(m[1],p[1],m[0],p[0],e,t,s)){u=n[h]=!0;break}h++}if(!u)return!1;c++}return!0}var QBe=Up;function JBe(e,t,s){var a=OU(e),n=a.length;if(OU(t).length!==n)return!1;for(;n-- >0;)if(!ate(e,t,s,a[n]))return!1;return!0}function Yv(e,t,s){var a=_U(e),n=a.length;if(_U(t).length!==n)return!1;for(var i,o,l;n-- >0;)if(i=a[n],!ate(e,t,s,i)||(o=DU(e,i),l=DU(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ZBe(e,t){return Up(e.valueOf(),t.valueOf())}function e9e(e,t){return e.source===t.source&&e.flags===t.flags}function RU(e,t,s){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!n[u]&&s.equals(o.value,l.value,o.value,l.value,e,t,s)){d=n[u]=!0;break}u++}if(!d)return!1}return!0}function t9e(e,t){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(e[s]!==t[s])return!1;return!0}function r9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ate(e,t,s,a){return(a===qBe||a===HBe||a===WBe)&&(e.$$typeof||t.$$typeof)?!0:zBe(t,a)&&s.equals(e[a],t[a],a,a,e,t,s)}var s9e="[object Arguments]",a9e="[object Boolean]",n9e="[object Date]",i9e="[object Error]",o9e="[object Map]",l9e="[object Number]",c9e="[object Object]",d9e="[object RegExp]",u9e="[object Set]",h9e="[object String]",m9e="[object URL]",f9e=Array.isArray,MU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,FU=Object.assign,p9e=Object.prototype.toString.call.bind(Object.prototype.toString);function x9e(e){var t=e.areArraysEqual,s=e.areDatesEqual,a=e.areErrorsEqual,n=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(g,x,y){if(g===x)return!0;if(g==null||x==null)return!1;var b=typeof g;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?o(g,x,y):b==="function"?n(g,x,y):!1;var w=g.constructor;if(w!==x.constructor)return!1;if(w===Object)return l(g,x,y);if(f9e(g))return t(g,x,y);if(MU!=null&&MU(g))return h(g,x,y);if(w===Date)return s(g,x,y);if(w===RegExp)return d(g,x,y);if(w===Map)return i(g,x,y);if(w===Set)return u(g,x,y);var v=p9e(g);return v===n9e?s(g,x,y):v===d9e?d(g,x,y):v===o9e?i(g,x,y):v===u9e?u(g,x,y):v===c9e?typeof g.then!="function"&&typeof x.then!="function"&&l(g,x,y):v===m9e?m(g,x,y):v===i9e?a(g,x,y):v===s9e?l(g,x,y):v===a9e||v===l9e||v===h9e?c(g,x,y):!1}}function g9e(e){var t=e.circular,s=e.createCustomConfig,a=e.strict,n={areArraysEqual:a?Yv:GBe,areDatesEqual:KBe,areErrorsEqual:YBe,areFunctionsEqual:XBe,areMapsEqual:a?TU(IU,Yv):IU,areNumbersEqual:QBe,areObjectsEqual:a?Yv:JBe,arePrimitiveWrappersEqual:ZBe,areRegExpsEqual:e9e,areSetsEqual:a?TU(RU,Yv):RU,areTypedArraysEqual:a?Yv:t9e,areUrlsEqual:r9e};if(s&&(n=FU({},n,s(n))),t){var i=lN(n.areArraysEqual),o=lN(n.areMapsEqual),l=lN(n.areObjectsEqual),c=lN(n.areSetsEqual);n=FU({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return n}function v9e(e){return function(t,s,a,n,i,o,l){return e(t,s,l)}}function y9e(e){var t=e.circular,s=e.comparator,a=e.createState,n=e.equals,i=e.strict;if(a)return function(c,d){var u=a(),h=u.cache,m=h===void 0?t?new WeakMap:void 0:h,p=u.meta;return s(c,d,{cache:m,equals:n,meta:p,strict:i})};if(t)return function(c,d){return s(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var o={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return s(c,d,o)}}var b9e=Gm();Gm({strict:!0});Gm({circular:!0});Gm({circular:!0,strict:!0});Gm({createInternalComparator:function(){return Up}});Gm({strict:!0,createInternalComparator:function(){return Up}});Gm({circular:!0,createInternalComparator:function(){return Up}});Gm({circular:!0,createInternalComparator:function(){return Up},strict:!0});function Gm(e){e===void 0&&(e={});var t=e.circular,s=t===void 0?!1:t,a=e.createInternalComparator,n=e.createState,i=e.strict,o=i===void 0?!1:i,l=g9e(e),c=x9e(l),d=a?a(c):v9e(c);return y9e({circular:s,comparator:c,createState:n,equals:d,strict:o})}function w9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function LU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,a=function n(i){s<0&&(s=i),i-s>t?(e(i),s=-1):w9e(n)};requestAnimationFrame(a)}function H5(e){"@babel/helpers - typeof";return H5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H5(e)}function j9e(e){return C9e(e)||k9e(e)||S9e(e)||N9e()}function N9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9e(e,t){if(e){if(typeof e=="string")return $U(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $U(e,t)}}function $U(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function k9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C9e(e){if(Array.isArray(e))return e}function A9e(){var e={},t=function(){return null},s=!1,a=function n(i){if(!s){if(Array.isArray(i)){if(!i.length)return;var o=i,l=j9e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){LU(n.bind(null,d),c);return}n(c),LU(n.bind(null,d));return}H5(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){s=!0},start:function(i){s=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function mw(e){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mw(e)}function BU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function UU(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(s),!0).forEach(function(a){nte(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nte(e,t,s){return t=E9e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function E9e(e){var t=P9e(e,"string");return mw(t)==="symbol"?t:String(t)}function P9e(e,t){if(mw(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(mw(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T9e=function(t,s){return[Object.keys(t),Object.keys(s)].reduce(function(a,n){return a.filter(function(i){return n.includes(i)})})},_9e=function(t){return t},D9e=function(t){return t.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},Ky=function(t,s){return Object.keys(s).reduce(function(a,n){return UU(UU({},a),{},nte({},n,t(n,s[n])))},{})},VU=function(t,s,a){return t.map(function(n){return"".concat(D9e(n)," ").concat(s,"ms ").concat(a)}).join(",")};function O9e(e,t){return M9e(e)||R9e(e,t)||ite(e,t)||I9e()}function I9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R9e(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function M9e(e){if(Array.isArray(e))return e}function F9e(e){return B9e(e)||$9e(e)||ite(e)||L9e()}function L9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(e,t){if(e){if(typeof e=="string")return q5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q5(e,t)}}function $9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B9e(e){if(Array.isArray(e))return q5(e)}function q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var MS=1e-4,ote=function(t,s){return[0,3*t,3*s-6*t,3*t-3*s+1]},lte=function(t,s){return t.map(function(a,n){return a*Math.pow(s,n)}).reduce(function(a,n){return a+n})},zU=function(t,s){return function(a){var n=ote(t,s);return lte(n,a)}},U9e=function(t,s){return function(a){var n=ote(t,s),i=[].concat(F9e(n.map(function(o,l){return o*l}).slice(1)),[0]);return lte(i,a)}},WU=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s[0],i=s[1],o=s[2],l=s[3];if(s.length===1)switch(s[0]){case"linear":n=0,i=0,o=1,l=1;break;case"ease":n=.25,i=.1,o=.25,l=1;break;case"ease-in":n=.42,i=0,o=1,l=1;break;case"ease-out":n=.42,i=0,o=.58,l=1;break;case"ease-in-out":n=0,i=0,o=.58,l=1;break;default:{var c=s[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=O9e(d,4);n=u[0],i=u[1],o=u[2],l=u[3]}}}var h=zU(n,o),m=zU(i,l),p=U9e(n,o),g=function(b){return b>1?1:b<0?0:b},x=function(b){for(var w=b>1?1:b,v=w,S=0;S<8;++S){var j=h(v)-w,k=p(v);if(Math.abs(j-w)<MS||k<MS)return m(v);v=g(v-j/k)}return m(v)};return x.isStepper=!1,x},V9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.stiff,a=s===void 0?100:s,n=t.damping,i=n===void 0?8:n,o=t.dt,l=o===void 0?17:o,c=function(u,h,m){var p=-(u-h)*a,g=m*i,x=m+(p-g)*l/1e3,y=m*l/1e3+u;return Math.abs(y-h)<MS&&Math.abs(x)<MS?[h,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},z9e=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WU(n);case"spring":return V9e();default:if(n.split("(")[0]==="cubic-bezier")return WU(n)}return typeof n=="function"?n:null};function fw(e){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fw(e)}function HU(e){return q9e(e)||H9e(e)||cte(e)||W9e()}function W9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q9e(e){if(Array.isArray(e))return K5(e)}function qU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ci(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qU(Object(s),!0).forEach(function(a){G5(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function G5(e,t,s){return t=G9e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function G9e(e){var t=K9e(e,"string");return fw(t)==="symbol"?t:String(t)}function K9e(e,t){if(fw(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(fw(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9e(e,t){return J9e(e)||Q9e(e,t)||cte(e,t)||X9e()}function X9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(e,t){if(e){if(typeof e=="string")return K5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return K5(e,t)}}function K5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function Q9e(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function J9e(e){if(Array.isArray(e))return e}var FS=function(t,s,a){return t+(s-t)*a},Y5=function(t){var s=t.from,a=t.to;return s!==a},Z9e=function e(t,s,a){var n=Ky(function(i,o){if(Y5(o)){var l=t(o.from,o.to,o.velocity),c=Y9e(l,2),d=c[0],u=c[1];return Ci(Ci({},o),{},{from:d,velocity:u})}return o},s);return a<1?Ky(function(i,o){return Y5(o)?Ci(Ci({},o),{},{velocity:FS(o.velocity,n[i].velocity,a),from:FS(o.from,n[i].from,a)}):o},s):e(t,n,a-1)};const eUe=function(e,t,s,a,n){var i=T9e(e,t),o=i.reduce(function(y,b){return Ci(Ci({},y),{},G5({},b,[e[b],t[b]]))},{}),l=i.reduce(function(y,b){return Ci(Ci({},y),{},G5({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return Ky(function(b,w){return w.from},l)},p=function(){return!Object.values(l).filter(Y5).length},g=function(b){d||(d=b);var w=b-d,v=w/s.dt;l=Z9e(s,l,v),n(Ci(Ci(Ci({},e),t),m())),d=b,p()||(c=requestAnimationFrame(h))},x=function(b){u||(u=b);var w=(b-u)/a,v=Ky(function(j,k){return FS.apply(void 0,HU(k).concat([s(w)]))},o);if(n(Ci(Ci(Ci({},e),t),v)),w<1)c=requestAnimationFrame(h);else{var S=Ky(function(j,k){return FS.apply(void 0,HU(k).concat([s(1)]))},o);n(Ci(Ci(Ci({},e),t),S))}};return h=s.isStepper?g:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}var tUe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rUe(e,t){if(e==null)return{};var s=sUe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function sUe(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function u4(e){return oUe(e)||iUe(e)||nUe(e)||aUe()}function aUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nUe(e,t){if(e){if(typeof e=="string")return X5(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return X5(e,t)}}function iUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oUe(e){if(Array.isArray(e))return X5(e)}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function GU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Dc(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(s),!0).forEach(function(a){py(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function py(e,t,s){return t=dte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function lUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cUe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dte(a.key),a)}}function dUe(e,t,s){return t&&cUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dte(e){var t=uUe(e,"string");return a0(t)==="symbol"?t:String(t)}function uUe(e,t){if(a0(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(a0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q5(e,t)}function Q5(e,t){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Q5(e,t)}function mUe(e){var t=fUe();return function(){var a=LS(e),n;if(t){var i=LS(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return J5(this,n)}}function J5(e,t){if(t&&(a0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z5(e)}function Z5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},LS(e)}var su=function(e){hUe(s,e);var t=mUe(s);function s(a,n){var i;lUe(this,s),i=t.call(this,a,n);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Z5(i)),i.changeStyle=i.changeStyle.bind(Z5(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),J5(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},J5(i);i.state={style:c?py({},c,d):d}}else i.state={style:{}};return i}return dUe(s,[{key:"componentDidMount",value:function(){var n=this.props,i=n.isActive,o=n.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var p={style:c?py({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(p);return}if(!(b9e(n.to,u)&&n.canBegin&&n.isActive)){var g=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||d?h:n.to;if(this.state&&m){var y={style:c?py({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(y)}this.runAnimation(Dc(Dc({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var i=this,o=n.from,l=n.to,c=n.duration,d=n.easing,u=n.begin,h=n.onAnimationEnd,m=n.onAnimationStart,p=eUe(o,l,z9e(d),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([m,u,g,c,h])}},{key:"runStepAnimation",value:function(n){var i=this,o=n.steps,l=n.begin,c=n.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,p=function(x,y,b){if(b===0)return x;var w=y.duration,v=y.easing,S=v===void 0?"ease":v,j=y.style,k=y.properties,N=y.onAnimationEnd,C=b>0?o[b-1]:y,A=k||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(u4(x),[i.runJSAnimation.bind(i,{from:C.style,to:j,duration:w,easing:S}),w]);var E=VU(A,w,S),D=Dc(Dc(Dc({},C.style),j),{},{transition:E});return[].concat(u4(x),[D,w,N]).filter(_9e)};return this.manager.start([c].concat(u4(o.reduce(p,[u,Math.max(m,l)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=A9e());var i=n.begin,o=n.duration,l=n.attributeName,c=n.to,d=n.easing,u=n.onAnimationStart,h=n.onAnimationEnd,m=n.steps,p=n.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(n);return}if(m.length>1){this.runStepAnimation(n);return}var x=l?py({},l,c):c,y=VU(Object.keys(x),o,d);g.start([u,i,Dc(Dc({},x),{},{transition:y}),o,h])}},{key:"render",value:function(){var n=this.props,i=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var l=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var c=rUe(n,tUe),d=f.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(p){var g=p.props,x=g.style,y=x===void 0?{}:x,b=g.className,w=f.cloneElement(p,Dc(Dc({},c),{},{style:Dc(Dc({},y),u),className:b}));return w};return d===1?h(f.Children.only(i)):ae.createElement("div",null,f.Children.map(i,function(m){return h(m)}))}}]),s}(f.PureComponent);su.displayName="Animate";su.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};su.propTypes={from:ra.oneOfType([ra.object,ra.string]),to:ra.oneOfType([ra.object,ra.string]),attributeName:ra.string,duration:ra.number,begin:ra.number,easing:ra.oneOfType([ra.string,ra.func]),steps:ra.arrayOf(ra.shape({duration:ra.number.isRequired,style:ra.object.isRequired,easing:ra.oneOfType([ra.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ra.func]),properties:ra.arrayOf("string"),onAnimationEnd:ra.func})),children:ra.oneOfType([ra.node,ra.func]),isActive:ra.bool,canBegin:ra.bool,onAnimationEnd:ra.func,shouldReAnimate:ra.bool,onAnimationStart:ra.func,onAnimationReStart:ra.func};function pw(e){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$S.apply(this,arguments)}function pUe(e,t){return yUe(e)||vUe(e,t)||gUe(e,t)||xUe()}function xUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gUe(e,t){if(e){if(typeof e=="string")return KU(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return KU(e,t)}}function KU(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function vUe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function yUe(e){if(Array.isArray(e))return e}function YU(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function XU(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(s),!0).forEach(function(a){bUe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):YU(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bUe(e,t,s){return t=wUe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wUe(e){var t=jUe(e,"string");return pw(t)=="symbol"?t:t+""}function jUe(e,t){if(pw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(pw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QU=function(t,s,a,n,i){var o=Math.min(Math.abs(a)/2,Math.abs(n)/2),l=n>=0?1:-1,c=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(s+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(s)),u+="L ".concat(t+a-c*h[1],",").concat(s),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(s+l*h[1])),u+="L ".concat(t+a,",").concat(s+n-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+a-c*h[2],",").concat(s+n)),u+="L ".concat(t+c*h[3],",").concat(s+n),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(s+n-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(s+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(s,`
            L `).concat(t+a-c*g,",").concat(s,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a,",").concat(s+l*g,`
            L `).concat(t+a,",").concat(s+n-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a-c*g,",").concat(s+n,`
            L `).concat(t+c*g,",").concat(s+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(s+n-l*g," Z")}else u="M ".concat(t,",").concat(s," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return u},NUe=function(t,s){if(!t||!s)return!1;var a=t.x,n=t.y,i=s.x,o=s.y,l=s.width,c=s.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return a>=d&&a<=u&&n>=h&&n<=m}return!1},SUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MR=function(t){var s=XU(XU({},SUe),t),a=f.useRef(),n=f.useState(-1),i=pUe(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&l(S)}catch{}},[]);var c=s.x,d=s.y,u=s.width,h=s.height,m=s.radius,p=s.className,g=s.animationEasing,x=s.animationDuration,y=s.animationBegin,b=s.isAnimationActive,w=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var v=os("recharts-rectangle",p);return w?ae.createElement(su,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:x,animationEasing:g,isActive:w},function(S){var j=S.width,k=S.height,N=S.x,C=S.y;return ae.createElement(su,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:b,easing:g},ae.createElement("path",$S({},Dr(s,!0),{className:v,d:QU(N,C,j,k,m),ref:a})))}):ae.createElement("path",$S({},Dr(s,!0),{className:v,d:QU(c,d,u,h,m)}))},kUe=["points","className","baseLinePoints","connectNulls"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qx.apply(this,arguments)}function CUe(e,t){if(e==null)return{};var s=AUe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function AUe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function JU(e){return _Ue(e)||TUe(e)||PUe(e)||EUe()}function EUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PUe(e,t){if(e){if(typeof e=="string")return eD(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eD(e,t)}}function TUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ue(e){if(Array.isArray(e))return eD(e)}function eD(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var ZU=function(t){return t&&t.x===+t.x&&t.y===+t.y},DUe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return t.forEach(function(a){ZU(a)?s[s.length-1].push(a):s[s.length-1].length>0&&s.push([])}),ZU(t[0])&&s[s.length-1].push(t[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},Yy=function(t,s){var a=DUe(t);s&&(a=[a.reduce(function(i,o){return[].concat(JU(i),JU(o))},[])]);var n=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(n,"Z"):n},OUe=function(t,s,a){var n=Yy(t,a);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Yy(s.reverse(),a).slice(1))},IUe=function(t){var s=t.points,a=t.className,n=t.baseLinePoints,i=t.connectNulls,o=CUe(t,kUe);if(!s||!s.length)return null;var l=os("recharts-polygon",a);if(n&&n.length){var c=o.stroke&&o.stroke!=="none",d=OUe(s,n,i);return ae.createElement("g",{className:l},ae.createElement("path",qx({},Dr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ae.createElement("path",qx({},Dr(o,!0),{fill:"none",d:Yy(s,i)})):null,c?ae.createElement("path",qx({},Dr(o,!0),{fill:"none",d:Yy(n,i)})):null)}var u=Yy(s,i);return ae.createElement("path",qx({},Dr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},tD.apply(this,arguments)}var jA=function(t){var s=t.cx,a=t.cy,n=t.r,i=t.className,o=os("recharts-dot",i);return s===+s&&a===+a&&n===+n?f.createElement("circle",tD({},Dr(t,!1),iS(t),{className:o,cx:s,cy:a,r:n})):null};function xw(e){"@babel/helpers - typeof";return xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xw(e)}var RUe=["x","y","top","left","width","height","className"];function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rD.apply(this,arguments)}function e7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function MUe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(s),!0).forEach(function(a){FUe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):e7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function FUe(e,t,s){return t=LUe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function LUe(e){var t=$Ue(e,"string");return xw(t)=="symbol"?t:t+""}function $Ue(e,t){if(xw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(xw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BUe(e,t){if(e==null)return{};var s=UUe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function UUe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}var VUe=function(t,s,a,n,i,o){return"M".concat(t,",").concat(i,"v").concat(n,"M").concat(o,",").concat(s,"h").concat(a)},zUe=function(t){var s=t.x,a=s===void 0?0:s,n=t.y,i=n===void 0?0:n,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,m=t.height,p=m===void 0?0:m,g=t.className,x=BUe(t,RUe),y=MUe({x:a,y:i,top:l,left:d,width:h,height:p},x);return!Ct(a)||!Ct(i)||!Ct(h)||!Ct(p)||!Ct(l)||!Ct(d)?null:ae.createElement("path",rD({},Dr(y,!0),{className:os("recharts-cross",g),d:VUe(a,i,h,p,l,d)}))},WUe=gA,HUe=jee,qUe=ou;function GUe(e,t){return e&&e.length?WUe(e,qUe(t),HUe):void 0}var KUe=GUe;const YUe=na(KUe);var XUe=gA,QUe=ou,JUe=Nee;function ZUe(e,t){return e&&e.length?XUe(e,QUe(t),JUe):void 0}var e7e=ZUe;const t7e=na(e7e);var r7e=["cx","cy","angle","ticks","axisLine"],s7e=["ticks","tick","angle","tickFormatter","stroke"];function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Xy.apply(this,arguments)}function t7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function nf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(s),!0).forEach(function(a){NA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function r7(e,t){if(e==null)return{};var s=a7e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function a7e(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function n7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hte(a.key),a)}}function i7e(e,t,s){return t&&s7(e.prototype,t),s&&s7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function o7e(e,t,s){return t=BS(t),l7e(e,ute()?Reflect.construct(t,s||[],BS(e).constructor):t.apply(e,s))}function l7e(e,t){if(t&&(n0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7e(e)}function c7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ute=function(){return!!e})()}function BS(e){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},BS(e)}function d7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sD(e,t)}function sD(e,t){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},sD(e,t)}function NA(e,t,s){return t=hte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function hte(e){var t=u7e(e,"string");return n0(t)=="symbol"?t:t+""}function u7e(e,t){if(n0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(n0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SA=function(e){function t(){return n7e(this,t),o7e(this,t,arguments)}return d7e(t,e),i7e(t,[{key:"getTickValueCoord",value:function(a){var n=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return _a(l,c,n,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,n;switch(a){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=YUe(l,function(u){return u.coordinate||0}),d=t7e(l,function(u){return u.coordinate||0});return{cx:n,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=r7(a,r7e),u=l.reduce(function(g,x){return[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)]},[1/0,-1/0]),h=_a(n,i,u[0],o),m=_a(n,i,u[1],o),p=nf(nf(nf({},Dr(d,!1)),{},{fill:"none"},Dr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ae.createElement("line",Xy({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.angle,c=n.tickFormatter,d=n.stroke,u=r7(n,s7e),h=this.getTickTextAnchor(),m=Dr(u,!1),p=Dr(o,!1),g=i.map(function(x,y){var b=a.getTickValueCoord(x),w=nf(nf(nf(nf({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},p),{},{index:y},b),{},{payload:x});return ae.createElement(Rs,Xy({className:os("recharts-polar-radius-axis-tick",Qee(o)),key:"tick-".concat(x.coordinate)},fp(a.props,x,y)),t.renderTickItem(o,w,c?c(x.value,y):x.value))});return ae.createElement(Rs,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.axisLine,o=a.tick;return!n||!n.length?null:ae.createElement(Rs,{className:os("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),fi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,n,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,n):Ur(a)?o=a(n):o=ae.createElement(pp,Xy({},n,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(f.PureComponent);NA(SA,"displayName","PolarRadiusAxis");NA(SA,"axisType","radiusAxis");NA(SA,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bf.apply(this,arguments)}function a7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function of(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(s),!0).forEach(function(a){kA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fte(a.key),a)}}function m7e(e,t,s){return t&&n7(e.prototype,t),s&&n7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function f7e(e,t,s){return t=US(t),p7e(e,mte()?Reflect.construct(t,s||[],US(e).constructor):t.apply(e,s))}function p7e(e,t){if(t&&(i0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x7e(e)}function x7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mte=function(){return!!e})()}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},US(e)}function g7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aD(e,t)}function aD(e,t){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},aD(e,t)}function kA(e,t,s){return t=fte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function fte(e){var t=v7e(e,"string");return i0(t)=="symbol"?t:t+""}function v7e(e,t){if(i0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(i0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y7e=Math.PI/180,i7=1e-5,CA=function(e){function t(){return h7e(this,t),f7e(this,t,arguments)}return g7e(t,e),m7e(t,[{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.cx,o=n.cy,l=n.radius,c=n.orientation,d=n.tickSize,u=d||8,h=_a(i,o,l,a.coordinate),m=_a(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(a){var n=this.props.orientation,i=Math.cos(-a.coordinate*y7e),o;return i>i7?o=n==="outer"?"start":"end":i<-i7?o=n==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=of(of({},Dr(this.props,!1)),{},{fill:"none"},Dr(l,!1));if(c==="circle")return ae.createElement(jA,bf({className:"recharts-polar-angle-axis-line"},d,{cx:n,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return _a(n,i,o,m.coordinate)});return ae.createElement(IUe,bf({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.tickLine,c=n.tickFormatter,d=n.stroke,u=Dr(this.props,!1),h=Dr(o,!1),m=of(of({},u),{},{fill:"none"},Dr(l,!1)),p=i.map(function(g,x){var y=a.getTickLineCoord(g),b=a.getTickTextAnchor(g),w=of(of(of({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:x,payload:g,x:y.x2,y:y.y2});return ae.createElement(Rs,bf({className:os("recharts-polar-angle-axis-tick",Qee(o)),key:"tick-".concat(g.coordinate)},fp(a.props,g,x)),l&&ae.createElement("line",bf({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,w,c?c(g.value,x):g.value))});return ae.createElement(Rs,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!n||!n.length?null:ae.createElement(Rs,{className:os("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,n,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,n):Ur(a)?o=a(n):o=ae.createElement(pp,bf({},n,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(f.PureComponent);kA(CA,"displayName","PolarAngleAxis");kA(CA,"axisType","angleAxis");kA(CA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var b7e=vZ,w7e=b7e(Object.getPrototypeOf,Object),j7e=w7e,N7e=nh,S7e=j7e,k7e=ih,C7e="[object Object]",A7e=Function.prototype,E7e=Object.prototype,pte=A7e.toString,P7e=E7e.hasOwnProperty,T7e=pte.call(Object);function _7e(e){if(!k7e(e)||N7e(e)!=C7e)return!1;var t=S7e(e);if(t===null)return!0;var s=P7e.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&pte.call(s)==T7e}var D7e=_7e;const O7e=na(D7e);var I7e=nh,R7e=ih,M7e="[object Boolean]";function F7e(e){return e===!0||e===!1||R7e(e)&&I7e(e)==M7e}var L7e=F7e;const $7e=na(L7e);function gw(e){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},VS.apply(this,arguments)}function B7e(e,t){return W7e(e)||z7e(e,t)||V7e(e,t)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7e(e,t){if(e){if(typeof e=="string")return o7(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o7(e,t)}}function o7(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function z7e(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function W7e(e){if(Array.isArray(e))return e}function l7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function c7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(s),!0).forEach(function(a){H7e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function H7e(e,t,s){return t=q7e(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function q7e(e){var t=G7e(e,"string");return gw(t)=="symbol"?t:t+""}function G7e(e,t){if(gw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(gw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7=function(t,s,a,n,i){var o=a-n,l;return l="M ".concat(t,",").concat(s),l+="L ".concat(t+a,",").concat(s),l+="L ".concat(t+a-o/2,",").concat(s+i),l+="L ".concat(t+a-o/2-n,",").concat(s+i),l+="L ".concat(t,",").concat(s," Z"),l},K7e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y7e=function(t){var s=c7(c7({},K7e),t),a=f.useRef(),n=f.useState(-1),i=B7e(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var v=a.current.getTotalLength();v&&l(v)}catch{}},[]);var c=s.x,d=s.y,u=s.upperWidth,h=s.lowerWidth,m=s.height,p=s.className,g=s.animationEasing,x=s.animationDuration,y=s.animationBegin,b=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var w=os("recharts-trapezoid",p);return b?ae.createElement(su,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:x,animationEasing:g,isActive:b},function(v){var S=v.upperWidth,j=v.lowerWidth,k=v.height,N=v.x,C=v.y;return ae.createElement(su,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:g},ae.createElement("path",VS({},Dr(s,!0),{className:w,d:d7(N,C,S,j,k),ref:a})))}):ae.createElement("g",null,ae.createElement("path",VS({},Dr(s,!0),{className:w,d:d7(c,d,u,h,m)})))},X7e=["option","shapeType","propTransformer","activeClassName","isActive"];function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function Q7e(e,t){if(e==null)return{};var s=J7e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function J7e(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function u7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zS(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(s),!0).forEach(function(a){Z7e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Z7e(e,t,s){return t=eVe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eVe(e){var t=tVe(e,"string");return vw(t)=="symbol"?t:t+""}function tVe(e,t){if(vw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(vw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rVe(e,t){return zS(zS({},t),e)}function sVe(e,t){return e==="symbols"}function h7(e){var t=e.shapeType,s=e.elementProps;switch(t){case"rectangle":return ae.createElement(MR,s);case"trapezoid":return ae.createElement(Y7e,s);case"sector":return ae.createElement(ete,s);case"symbols":if(sVe(t))return ae.createElement(tR,s);break;default:return null}}function aVe(e){return f.isValidElement(e)?e.props:e}function xte(e){var t=e.option,s=e.shapeType,a=e.propTransformer,n=a===void 0?rVe:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Q7e(e,X7e),d;if(f.isValidElement(t))d=f.cloneElement(t,zS(zS({},c),aVe(t)));else if(Ur(t))d=t(c);else if(O7e(t)&&!$7e(t)){var u=n(t,c);d=ae.createElement(h7,{shapeType:s,elementProps:u})}else{var h=c;d=ae.createElement(h7,{shapeType:s,elementProps:h})}return l?ae.createElement(Rs,{className:o},d):d}function AA(e,t){return t!=null&&"trapezoids"in e.props}function EA(e,t){return t!=null&&"sectors"in e.props}function yw(e,t){return t!=null&&"points"in e.props}function nVe(e,t){var s,a,n=e.x===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return n&&i}function iVe(e,t){var s=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return s&&a}function oVe(e,t){var s=e.x===t.x,a=e.y===t.y,n=e.z===t.z;return s&&a&&n}function lVe(e,t){var s;return AA(e,t)?s=nVe:EA(e,t)?s=iVe:yw(e,t)&&(s=oVe),s}function cVe(e,t){var s;return AA(e,t)?s="trapezoids":EA(e,t)?s="sectors":yw(e,t)&&(s="points"),s}function dVe(e,t){if(AA(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(EA(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return yw(e,t)?t.payload:{}}function uVe(e){var t=e.activeTooltipItem,s=e.graphicalItem,a=e.itemData,n=cVe(s,t),i=dVe(s,t),o=a.filter(function(c,d){var u=r0(i,c),h=s.props[n].filter(function(g){var x=lVe(s,t);return x(g,t)}),m=s.props[n].indexOf(h[h.length-1]),p=d===m;return u&&p}),l=a.indexOf(o[o.length-1]);return l}var i2;function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Gx.apply(this,arguments)}function m7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ea(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(s),!0).forEach(function(a){ec(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vte(a.key),a)}}function mVe(e,t,s){return t&&f7(e.prototype,t),s&&f7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function fVe(e,t,s){return t=WS(t),pVe(e,gte()?Reflect.construct(t,s||[],WS(e).constructor):t.apply(e,s))}function pVe(e,t){if(t&&(o0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xVe(e)}function xVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},WS(e)}function gVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nD(e,t)}function nD(e,t){return nD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},nD(e,t)}function ec(e,t,s){return t=vte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function vte(e){var t=vVe(e,"string");return o0(t)=="symbol"?t:t+""}function vVe(e,t){if(o0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(o0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lh=function(e){function t(s){var a;return hVe(this,t),a=fVe(this,t,[s]),ec(a,"pieRef",null),ec(a,"sectorRefs",[]),ec(a,"id",nv("recharts-pie-")),ec(a,"handleAnimationEnd",function(){var n=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ur(n)&&n()}),ec(a,"handleAnimationStart",function(){var n=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ur(n)&&n()}),a.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},a}return gVe(t,e),mVe(t,[{key:"isActiveIndex",value:function(a){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(a)!==-1:a===n}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Dr(this.props,!1),h=Dr(o,!1),m=Dr(l,!1),p=o&&o.offsetRadius||20,g=a.map(function(x,y){var b=(x.startAngle+x.endAngle)/2,w=_a(x.cx,x.cy,x.outerRadius+p,b),v=Ea(Ea(Ea(Ea({},u),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(w.x,x.cx)},w),S=Ea(Ea(Ea(Ea({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[_a(x.cx,x.cy,x.outerRadius,b),w]}),j=c;return ls(c)&&ls(d)?j="value":ls(c)&&(j=d),ae.createElement(Rs,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,v,ti(x,j)))});return ae.createElement(Rs,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var n=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=n.isActiveIndex(u),m=c&&n.hasActiveIndex()?c:null,p=h?o:m,g=Ea(Ea({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ae.createElement(Rs,Gx({ref:function(y){y&&!n.sectorRefs.includes(y)&&n.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},fp(n.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ae.createElement(xte,Gx({option:p,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,n=this.props,i=n.sectors,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=this.state,m=h.prevSectors,p=h.prevIsAnimationActive;return ae.createElement(su,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var x=g.t,y=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(v,S){var j=m&&m[S],k=S>0?Cl(v,"paddingAngle",0):0;if(j){var N=Vo(j.endAngle-j.startAngle,v.endAngle-v.startAngle),C=Ea(Ea({},v),{},{startAngle:w+k,endAngle:w+N(x)+k});y.push(C),w=C.endAngle}else{var A=v.endAngle,E=v.startAngle,D=Vo(0,A-E),T=D(x),P=Ea(Ea({},v),{},{startAngle:w+k,endAngle:w+T+k});y.push(P),w=P.endAngle}}),ae.createElement(Rs,null,a.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(a){var n=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,n=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&n&&n.length&&(!o||!r0(o,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,n=this.props,i=n.hide,o=n.sectors,l=n.className,c=n.label,d=n.cx,u=n.cy,h=n.innerRadius,m=n.outerRadius,p=n.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ct(d)||!Ct(u)||!Ct(h)||!Ct(m))return null;var x=os("recharts-pie",l);return ae.createElement(Rs,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){a.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),fi.renderCallByParent(this.props,null,!1),(!p||g)&&Ru.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return n.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:a.sectors!==n.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,n){return a>n?"start":a<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,n,i){if(ae.isValidElement(a))return ae.cloneElement(a,n);if(Ur(a))return a(n);var o=os("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ae.createElement(gg,Gx({},n,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,n,i){if(ae.isValidElement(a))return ae.cloneElement(a,n);var o=i;if(Ur(a)&&(o=a(n),ae.isValidElement(o)))return o;var l=os("recharts-pie-label-text",typeof a!="boolean"&&!Ur(a)?a.className:"");return ae.createElement(pp,Gx({},n,{alignmentBaseline:"middle",className:l}),o)}}])}(f.PureComponent);i2=lh;ec(lh,"displayName","Pie");ec(lh,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Kd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ec(lh,"parseDeltaAngle",function(e,t){var s=bo(t-e),a=Math.min(Math.abs(t-e),360);return s*a});ec(lh,"getRealPieData",function(e){var t=e.data,s=e.children,a=Dr(e,!1),n=lc(s,dA);return t&&t.length?t.map(function(i,o){return Ea(Ea(Ea({payload:i},a),i),n&&n[o]&&n[o].props)}):n&&n.length?n.map(function(i){return Ea(Ea({},a),i.props)}):[]});ec(lh,"parseCoordinateOfPie",function(e,t){var s=t.top,a=t.left,n=t.width,i=t.height,o=Xee(n,i),l=a+wo(e.cx,n,n/2),c=s+wo(e.cy,i,i/2),d=wo(e.innerRadius,o,0),u=wo(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(n*n+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});ec(lh,"getComposedData",function(e){var t=e.item,s=e.offset,a=t.type.defaultProps!==void 0?Ea(Ea({},t.type.defaultProps),t.props):t.props,n=i2.getRealPieData(a);if(!n||!n.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,h=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),g=i2.parseCoordinateOfPie(a,s),x=i2.parseDeltaAngle(o,l),y=Math.abs(x),b=d;ls(d)&&ls(h)?(ed(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ls(d)&&(ed(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=n.filter(function(C){return ti(C,b,0)!==0}).length,v=(y>=360?w:w-1)*c,S=y-w*p-v,j=n.reduce(function(C,A){var E=ti(A,b,0);return C+(Ct(E)?E:0)},0),k;if(j>0){var N;k=n.map(function(C,A){var E=ti(C,b,0),D=ti(C,u,A),T=(Ct(E)?E:0)/j,P;A?P=N.endAngle+bo(x)*c*(E!==0?1:0):P=o;var _=P+bo(x)*((E!==0?p:0)+T*S),O=(P+_)/2,M=(g.innerRadius+g.outerRadius)/2,I=[{name:D,value:E,payload:C,dataKey:b,type:m}],R=_a(g.cx,g.cy,M,O);return N=Ea(Ea(Ea({percent:T,cornerRadius:i,name:D,tooltipPayload:I,midAngle:O,middleRadius:M,tooltipPosition:R},C),g),{},{value:ti(C,b),startAngle:P,endAngle:_,payload:C,paddingAngle:bo(x)*c}),N})}return Ea(Ea({},g),{},{sectors:k,data:n})});var yVe=Math.ceil,bVe=Math.max;function wVe(e,t,s,a){for(var n=-1,i=bVe(yVe((t-e)/(s||1)),0),o=Array(i);i--;)o[a?i:++n]=e,e+=s;return o}var jVe=wVe,NVe=FZ,p7=1/0,SVe=17976931348623157e292;function kVe(e){if(!e)return e===0?e:0;if(e=NVe(e),e===p7||e===-p7){var t=e<0?-1:1;return t*SVe}return e===e?e:0}var yte=kVe,CVe=jVe,AVe=cA,h4=yte;function EVe(e){return function(t,s,a){return a&&typeof a!="number"&&AVe(t,s,a)&&(s=a=void 0),t=h4(t),s===void 0?(s=t,t=0):s=h4(s),a=a===void 0?t<s?1:-1:h4(a),CVe(t,s,a,e)}}var PVe=EVe,TVe=PVe,_Ve=TVe(),DVe=_Ve;const HS=na(DVe);function bw(e){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bw(e)}function x7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function g7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(s),!0).forEach(function(a){bte(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bte(e,t,s){return t=OVe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function OVe(e){var t=IVe(e,"string");return bw(t)=="symbol"?t:t+""}function IVe(e,t){if(bw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(bw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RVe=["Webkit","Moz","O","ms"],MVe=function(t,s){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),n=RVe.reduce(function(i,o){return g7(g7({},i),{},bte({},o+a,s))},{});return n[t]=s,n};function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qS.apply(this,arguments)}function v7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function m4(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(s),!0).forEach(function(a){cl(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function FVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jte(a.key),a)}}function LVe(e,t,s){return t&&y7(e.prototype,t),s&&y7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ve(e,t,s){return t=GS(t),BVe(e,wte()?Reflect.construct(t,s||[],GS(e).constructor):t.apply(e,s))}function BVe(e,t){if(t&&(l0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UVe(e)}function UVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!e})()}function GS(e){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},GS(e)}function VVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iD(e,t)}function iD(e,t){return iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},iD(e,t)}function cl(e,t,s){return t=jte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function jte(e){var t=zVe(e,"string");return l0(t)=="symbol"?t:t+""}function zVe(e,t){if(l0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(l0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WVe=function(t){var s=t.data,a=t.startIndex,n=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!s||!s.length)return{};var c=s.length,d=qy().domain(HS(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(n),scale:d,scaleValues:u}},b7=function(t){return t.changedTouches&&!!t.changedTouches.length},c0=function(e){function t(s){var a;return FVe(this,t),a=$Ve(this,t,[s]),cl(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),cl(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),cl(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,i=n.endIndex,o=n.onDragEnd,l=n.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),cl(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),cl(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),cl(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),cl(a,"handleSlideDragStart",function(n){var i=b7(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return VVe(t,e),LVe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(n,i),m=Math.max(n,i),p=t.getIndexInRange(o,h),g=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,i=n.data,o=n.tickFormatter,l=n.dataKey,c=ti(i[a],l,a);return Ur(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,i=n.slideMoveStartX,o=n.startX,l=n.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,p=c.endIndex,g=c.onChange,x=a.pageX-i;x>0?x=Math.min(x,d+u-h-l,d+u-h-o):x<0&&(x=Math.max(x,d-o,d-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==m||y.endIndex!==p)&&g&&g(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var i=b7(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,i=n.brushMoveStartX,o=n.movingTravellerId,l=n.endX,c=n.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},w=a.pageX-i;w>0?w=Math.min(w,h+m-p-d):w<0&&(w=Math.max(w,h-d)),b[o]=d+w;var v=this.getIndex(b),S=v.startIndex,j=v.endIndex,k=function(){var C=y.length-1;return o==="startX"&&(l>c?S%x===0:j%x===0)||l<c&&j===C||o==="endX"&&(l>c?j%x===0:S%x===0)||l>c&&j===C};this.setState(cl(cl({},o,d+w),"brushMoveStartX",a.pageX),function(){g&&k()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[n],h=l.indexOf(u);if(h!==-1){var m=h+a;if(!(m===-1||m>=l.length)){var p=l[m];n==="startX"&&p>=d||n==="endX"&&p<=c||this.setState(cl({},n,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return ae.createElement("rect",{stroke:d,fill:c,x:n,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,h=f.Children.only(d);return h?ae.cloneElement(h,{x:n,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,p=c.ariaLabel,g=c.data,x=c.startIndex,y=c.endIndex,b=Math.max(a,this.props.x),w=m4(m4({},Dr(this.props,!1)),{},{x:b,y:d,width:u,height:h}),v=p||"Min value: ".concat((i=g[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return ae.createElement(Rs,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,n))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(a,n){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,n)+d,h=Math.max(Math.abs(n-a)-d,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,h=u.startX,m=u.endX,p=5,g={pointerEvents:"none",fill:d};return ae.createElement(Rs,{className:"recharts-brush-texts"},ae.createElement(pp,qS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+l/2},g),this.getTextOfTick(n)),ae.createElement(pp,qS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,n=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,h=a.alwaysShowText,m=this.state,p=m.startX,g=m.endX,x=m.isTextActive,y=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!n||!n.length||!Ct(l)||!Ct(c)||!Ct(d)||!Ct(u)||d<=0||u<=0)return null;var v=os("recharts-brush",i),S=ae.Children.count(o)===1,j=MVe("userSelect","none");return ae.createElement(Rs,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||y||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:n,y:i,width:o,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:n+1,y1:d,x2:n+o-1,y2:d,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:n+1,y1:d+2,x2:n+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var i;return ae.isValidElement(a)?i=ae.cloneElement(a,n):Ur(a)?i=a(n):i=t.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(a,n){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==n.prevData||d!==n.prevUpdateId)return m4({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?WVe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||l!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([l,l+o-c]);var m=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,n){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>n?l=c:o=c}return n>=a[l]?l:o}}])}(f.PureComponent);cl(c0,"displayName","Brush");cl(c0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HVe=lR;function qVe(e,t){var s;return HVe(e,function(a,n,i){return s=t(a,n,i),!s}),!!s}var GVe=qVe,KVe=dZ,YVe=ou,XVe=GVe,QVe=nl,JVe=cA;function ZVe(e,t,s){var a=QVe(e)?KVe:XVe;return s&&JVe(e,t,s)&&(t=void 0),a(e,YVe(t))}var eze=ZVe;const tze=na(eze);var Xd=function(t,s){var a=t.alwaysShow,n=t.ifOverflow;return a&&(n="extendDomain"),n===s},w7=DZ;function rze(e,t,s){t=="__proto__"&&w7?w7(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}var sze=rze,aze=sze,nze=TZ,ize=ou;function oze(e,t){var s={};return t=ize(t),nze(e,function(a,n,i){aze(s,n,t(a,n,i))}),s}var lze=oze;const cze=na(lze);function dze(e,t){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!t(e[s],s,e))return!1;return!0}var uze=dze,hze=lR;function mze(e,t){var s=!0;return hze(e,function(a,n,i){return s=!!t(a,n,i),s}),s}var fze=mze,pze=uze,xze=fze,gze=ou,vze=nl,yze=cA;function bze(e,t,s){var a=vze(e)?pze:xze;return s&&yze(e,t,s)&&(t=void 0),a(e,gze(t))}var wze=bze;const Nte=na(wze);var jze=["x","y"];function ww(e){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ww(e)}function oD(){return oD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},oD.apply(this,arguments)}function j7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xv(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(s),!0).forEach(function(a){Nze(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Nze(e,t,s){return t=Sze(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Sze(e){var t=kze(e,"string");return ww(t)=="symbol"?t:t+""}function kze(e,t){if(ww(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(ww(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cze(e,t){if(e==null)return{};var s=Aze(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Aze(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Eze(e,t){var s=e.x,a=e.y,n=Cze(e,jze),i="".concat(s),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||n.height),u=parseInt(d,10),h="".concat(t.width||n.width),m=parseInt(h,10);return Xv(Xv(Xv(Xv(Xv({},t),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function N7(e){return ae.createElement(xte,oD({shapeType:"rectangle",propTransformer:Eze,activeClassName:"recharts-active-bar"},e))}var Pze=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof t=="number")return t;var i=Ct(a)||ePe(a);return i?t(a,n):(i||gp(),s)}},Tze=["value","background"],Ste;function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function _ze(e,t){if(e==null)return{};var s=Dze(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Dze(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},KS.apply(this,arguments)}function S7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Fn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(s),!0).forEach(function(a){Kh(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Oze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Cte(a.key),a)}}function Ize(e,t,s){return t&&k7(e.prototype,t),s&&k7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rze(e,t,s){return t=YS(t),Mze(e,kte()?Reflect.construct(t,s||[],YS(e).constructor):t.apply(e,s))}function Mze(e,t){if(t&&(d0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fze(e)}function Fze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kte=function(){return!!e})()}function YS(e){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},YS(e)}function Lze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lD(e,t)}function lD(e,t){return lD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},lD(e,t)}function Kh(e,t,s){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Cte(e){var t=$ze(e,"string");return d0(t)=="symbol"?t:t+""}function $ze(e,t){if(d0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(d0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dj=function(e){function t(){var s;Oze(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=Rze(this,t,[].concat(n)),Kh(s,"state",{isAnimationFinished:!1}),Kh(s,"id",nv("recharts-bar-")),Kh(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),o&&o()}),Kh(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),o&&o()}),s}return Lze(t,e),Ize(t,[{key:"renderRectanglesStatically",value:function(a){var n=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Dr(this.props,!1);return a&&a.map(function(h,m){var p=m===c,g=p?d:o,x=Fn(Fn(Fn({},u),h),{},{isActive:p,option:g,index:m,dataKey:l,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return ae.createElement(Rs,KS({className:"recharts-bar-rectangle"},fp(n.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),ae.createElement(N7,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,i=n.data,o=n.layout,l=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,u=n.animationEasing,h=n.animationId,m=this.state.prevData;return ae.createElement(su,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=i.map(function(y,b){var w=m&&m[b];if(w){var v=Vo(w.x,y.x),S=Vo(w.y,y.y),j=Vo(w.width,y.width),k=Vo(w.height,y.height);return Fn(Fn({},y),{},{x:v(g),y:S(g),width:j(g),height:k(g)})}if(o==="horizontal"){var N=Vo(0,y.height),C=N(g);return Fn(Fn({},y),{},{y:y.y+y.height-C,height:C})}var A=Vo(0,y.width),E=A(g);return Fn(Fn({},y),{},{width:E})});return ae.createElement(Rs,null,a.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&n&&n.length&&(!o||!r0(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,i=n.data,o=n.dataKey,l=n.activeIndex,c=Dr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=_ze(d,Tze);if(!h)return null;var p=Fn(Fn(Fn(Fn(Fn({},m),{},{fill:"#eee"},h),c),fp(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ae.createElement(N7,KS({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=lc(u,wA);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,p=function(y,b){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:ti(y,b)}},g={clipPath:a?"url(#clipPath-".concat(n,")"):null};return ae.createElement(Rs,g,h.map(function(x){return ae.cloneElement(x,{key:"error-bar-".concat(n,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,h=a.width,m=a.height,p=a.isAnimationActive,g=a.background,x=a.id;if(n||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=os("recharts-bar",o),w=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,S=w||v,j=ls(x)?this.id:x;return ae.createElement(Rs,{className:b},w||v?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(j)},ae.createElement("rect",{x:w?d:d-h/2,y:v?u:u-m/2,width:w?h:h*2,height:v?m:m*2}))):null,ae.createElement(Rs,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||y)&&Ru.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])}(f.PureComponent);Ste=Dj;Kh(Dj,"displayName","Bar");Kh(Dj,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kh(Dj,"getComposedData",function(e){var t=e.props,s=e.item,a=e.barPosition,n=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=y8e(a,s);if(!p)return null;var g=t.layout,x=s.type.defaultProps,y=x!==void 0?Fn(Fn({},x),s.props):s.props,b=y.dataKey,w=y.children,v=y.minPointSize,S=g==="horizontal"?o:i,j=d?S.scale.domain():null,k=C8e({numericAxis:S}),N=lc(w,dA),C=h.map(function(A,E){var D,T,P,_,O,M;d?D=b8e(d[u+E],j):(D=ti(A,b),Array.isArray(D)||(D=[k,D]));var I=Pze(v,Ste.defaultProps.minPointSize)(D[1],E);if(g==="horizontal"){var R,L=[o.scale(D[0]),o.scale(D[1])],K=L[0],H=L[1];T=fU({axis:i,ticks:l,bandSize:n,offset:p.offset,entry:A,index:E}),P=(R=H??K)!==null&&R!==void 0?R:void 0,_=p.size;var F=K-H;if(O=Number.isNaN(F)?0:F,M={x:T,y:o.y,width:_,height:o.height},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var G=bo(O||I)*(Math.abs(I)-Math.abs(O));P-=G,O+=G}}else{var U=[i.scale(D[0]),i.scale(D[1])],W=U[0],J=U[1];if(T=W,P=fU({axis:o,ticks:c,bandSize:n,offset:p.offset,entry:A,index:E}),_=J-W,O=p.size,M={x:i.x,y:P,width:i.width,height:O},Math.abs(I)>0&&Math.abs(_)<Math.abs(I)){var z=bo(_||I)*(Math.abs(I)-Math.abs(_));_+=z}}return Fn(Fn(Fn({},A),{},{x:T,y:P,width:_,height:O,value:d?D:D[1],payload:A,background:M},N&&N[E]&&N[E].props),{},{tooltipPayload:[Kee(s,A)],tooltipPosition:{x:T+_/2,y:P+O/2}})});return Fn({data:C,layout:g},m)});function jw(e){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw(e)}function Bze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ate(a.key),a)}}function Uze(e,t,s){return t&&C7(e.prototype,t),s&&C7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function A7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zc(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(s),!0).forEach(function(a){PA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function PA(e,t,s){return t=Ate(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ate(e){var t=Vze(e,"string");return jw(t)=="symbol"?t:t+""}function Vze(e,t){if(jw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(jw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zze=function(t,s,a,n,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(s),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},m=!!ul(d,Dj);return u.reduce(function(p,g){var x=s[g],y=x.orientation,b=x.domain,w=x.padding,v=w===void 0?{}:w,S=x.mirror,j=x.reversed,k="".concat(y).concat(S?"Mirror":""),N,C,A,E,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var T=b[1]-b[0],P=1/0,_=x.categoricalDomain.sort(sPe);if(_.forEach(function(U,W){W>0&&(P=Math.min((U||0)-(_[W-1]||0),P))}),Number.isFinite(P)){var O=P/T,M=x.layout==="vertical"?a.height:a.width;if(x.padding==="gap"&&(N=O*M/2),x.padding==="no-gap"){var I=wo(t.barCategoryGap,O*M),R=O*M/2;N=R-I-(R-I)/M*I}}}n==="xAxis"?C=[a.left+(v.left||0)+(N||0),a.left+a.width-(v.right||0)-(N||0)]:n==="yAxis"?C=c==="horizontal"?[a.top+a.height-(v.bottom||0),a.top+(v.top||0)]:[a.top+(v.top||0)+(N||0),a.top+a.height-(v.bottom||0)-(N||0)]:C=x.range,j&&(C=[C[1],C[0]]);var L=Wee(x,i,m),K=L.scale,H=L.realScaleType;K.domain(b).range(C),Hee(K);var F=qee(K,zc(zc({},x),{},{realScaleType:H}));n==="xAxis"?(D=y==="top"&&!S||y==="bottom"&&S,A=a.left,E=h[k]-D*x.height):n==="yAxis"&&(D=y==="left"&&!S||y==="right"&&S,A=h[k]-D*x.width,E=a.top);var G=zc(zc(zc({},x),F),{},{realScaleType:H,x:A,y:E,scale:K,width:n==="xAxis"?a.width:x.width,height:n==="yAxis"?a.height:x.height});return G.bandSize=OS(G,F),!x.hide&&n==="xAxis"?h[k]+=(D?-1:1)*G.height:x.hide||(h[k]+=(D?-1:1)*G.width),zc(zc({},p),{},PA({},g,G))},{})},Ete=function(t,s){var a=t.x,n=t.y,i=s.x,o=s.y;return{x:Math.min(a,i),y:Math.min(n,o),width:Math.abs(i-a),height:Math.abs(o-n)}},Wze=function(t){var s=t.x1,a=t.y1,n=t.x2,i=t.y2;return Ete({x:s,y:a},{x:n,y:i})},Pte=function(){function e(t){Bze(this,e),this.scale=t}return Uze(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,i=a.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(s)+l}default:return this.scale(s)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var a=this.range(),n=a[0],i=a[a.length-1];return n<=i?s>=n&&s<=i:s>=i&&s<=n}}],[{key:"create",value:function(s){return new e(s)}}])}();PA(Pte,"EPS",1e-4);var FR=function(t){var s=Object.keys(t).reduce(function(a,n){return zc(zc({},a),{},PA({},n,Pte.create(t[n])))},{});return zc(zc({},s),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return cze(n,function(c,d){return s[d].apply(c,{bandAware:o,position:l})})},isInRange:function(n){return Nte(n,function(i,o){return s[o].isInRange(i)})}})};function Hze(e){return(e%180+180)%180}var qze=function(t){var s=t.width,a=t.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hze(n),o=i*Math.PI/180,l=Math.atan(a/s),c=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(c)},Gze=ou,Kze=Aj,Yze=oA;function Xze(e){return function(t,s,a){var n=Object(t);if(!Kze(t)){var i=Gze(s);t=Yze(t),s=function(l){return i(n[l],l,n)}}var o=e(t,s,a);return o>-1?n[i?t[o]:o]:void 0}}var Qze=Xze,Jze=yte;function Zze(e){var t=Jze(e),s=t%1;return t===t?s?t-s:t:0}var eWe=Zze,tWe=SZ,rWe=ou,sWe=eWe,aWe=Math.max;function nWe(e,t,s){var a=e==null?0:e.length;if(!a)return-1;var n=s==null?0:sWe(s);return n<0&&(n=aWe(a+n,0)),tWe(e,rWe(t),n)}var iWe=nWe,oWe=Qze,lWe=iWe,cWe=oWe(lWe),dWe=cWe;const uWe=na(dWe);var hWe=aEe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),LR=f.createContext(void 0),$R=f.createContext(void 0),Tte=f.createContext(void 0),_te=f.createContext({}),Dte=f.createContext(void 0),Ote=f.createContext(0),Ite=f.createContext(0),E7=function(t){var s=t.state,a=s.xAxisMap,n=s.yAxisMap,i=s.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=hWe(i);return ae.createElement(LR.Provider,{value:a},ae.createElement($R.Provider,{value:n},ae.createElement(_te.Provider,{value:i},ae.createElement(Tte.Provider,{value:u},ae.createElement(Dte.Provider,{value:o},ae.createElement(Ote.Provider,{value:d},ae.createElement(Ite.Provider,{value:c},l)))))))},mWe=function(){return f.useContext(Dte)},Rte=function(t){var s=f.useContext(LR);s==null&&gp();var a=s[t];return a==null&&gp(),a},fWe=function(){var t=f.useContext(LR);return Rh(t)},pWe=function(){var t=f.useContext($R),s=uWe(t,function(a){return Nte(a.domain,Number.isFinite)});return s||Rh(t)},Mte=function(t){var s=f.useContext($R);s==null&&gp();var a=s[t];return a==null&&gp(),a},xWe=function(){var t=f.useContext(Tte);return t},gWe=function(){return f.useContext(_te)},BR=function(){return f.useContext(Ite)},UR=function(){return f.useContext(Ote)};function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function vWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yWe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Lte(a.key),a)}}function bWe(e,t,s){return t&&yWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wWe(e,t,s){return t=XS(t),jWe(e,Fte()?Reflect.construct(t,s||[],XS(e).constructor):t.apply(e,s))}function jWe(e,t){if(t&&(u0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NWe(e)}function NWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},XS(e)}function SWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cD(e,t)}function cD(e,t){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},cD(e,t)}function P7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function T7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?P7(Object(s),!0).forEach(function(a){VR(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function VR(e,t,s){return t=Lte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lte(e){var t=kWe(e,"string");return u0(t)=="symbol"?t:t+""}function kWe(e,t){if(u0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(u0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CWe(e,t){return TWe(e)||PWe(e,t)||EWe(e,t)||AWe()}function AWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EWe(e,t){if(e){if(typeof e=="string")return _7(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _7(e,t)}}function _7(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function PWe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function TWe(e){if(Array.isArray(e))return e}function dD(){return dD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},dD.apply(this,arguments)}var _We=function(t,s){var a;return ae.isValidElement(t)?a=ae.cloneElement(t,s):Ur(t)?a=t(s):a=ae.createElement("line",dD({},s,{className:"recharts-reference-line-line"})),a},DWe=function(t,s,a,n,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,p=i.height;if(a){var g=d.y,x=t.y.apply(g,{position:o});if(Xd(d,"discard")&&!t.y.isInRange(x))return null;var y=[{x:u+m,y:x},{x:u,y:x}];return c==="left"?y.reverse():y}if(s){var b=d.x,w=t.x.apply(b,{position:o});if(Xd(d,"discard")&&!t.x.isInRange(w))return null;var v=[{x:w,y:h+p},{x:w,y:h}];return l==="top"?v.reverse():v}if(n){var S=d.segment,j=S.map(function(k){return t.apply(k,{position:o})});return Xd(d,"discard")&&tze(j,function(k){return!t.isInRange(k)})?null:j}return null};function OWe(e){var t=e.x,s=e.y,a=e.segment,n=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=mWe(),u=Rte(n),h=Mte(i),m=xWe();if(!d||!m)return null;ed(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=FR({x:u.scale,y:h.scale}),g=ni(t),x=ni(s),y=a&&a.length===2,b=DWe(p,g,x,y,m,e.position,u.orientation,h.orientation,e);if(!b)return null;var w=CWe(b,2),v=w[0],S=v.x,j=v.y,k=w[1],N=k.x,C=k.y,A=Xd(e,"hidden")?"url(#".concat(d,")"):void 0,E=T7(T7({clipPath:A},Dr(e,!0)),{},{x1:S,y1:j,x2:N,y2:C});return ae.createElement(Rs,{className:os("recharts-reference-line",l)},_We(o,E),fi.renderCallByParent(e,Wze({x1:S,y1:j,x2:N,y2:C})))}var zR=function(e){function t(){return vWe(this,t),wWe(this,t,arguments)}return SWe(t,e),bWe(t,[{key:"render",value:function(){return ae.createElement(OWe,this.props)}}])}(ae.Component);VR(zR,"displayName","ReferenceLine");VR(zR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uD(){return uD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},uD.apply(this,arguments)}function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function D7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function O7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(s),!0).forEach(function(a){TA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function IWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RWe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Bte(a.key),a)}}function MWe(e,t,s){return t&&RWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FWe(e,t,s){return t=QS(t),LWe(e,$te()?Reflect.construct(t,s||[],QS(e).constructor):t.apply(e,s))}function LWe(e,t){if(t&&(h0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $We(e)}function $We(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($te=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},QS(e)}function BWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hD(e,t)}function hD(e,t){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},hD(e,t)}function TA(e,t,s){return t=Bte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Bte(e){var t=UWe(e,"string");return h0(t)=="symbol"?t:t+""}function UWe(e,t){if(h0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(h0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VWe=function(t){var s=t.x,a=t.y,n=t.xAxis,i=t.yAxis,o=FR({x:n.scale,y:i.scale}),l=o.apply({x:s,y:a},{bandAware:!0});return Xd(t,"discard")&&!o.isInRange(l)?null:l},_A=function(e){function t(){return IWe(this,t),FWe(this,t,arguments)}return BWe(t,e),MWe(t,[{key:"render",value:function(){var a=this.props,n=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=ni(n),u=ni(i);if(ed(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=VWe(this.props);if(!h)return null;var m=h.x,p=h.y,g=this.props,x=g.shape,y=g.className,b=Xd(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=O7(O7({clipPath:b},Dr(this.props,!0)),{},{cx:m,cy:p});return ae.createElement(Rs,{className:os("recharts-reference-dot",y)},t.renderDot(x,w),fi.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(ae.Component);TA(_A,"displayName","ReferenceDot");TA(_A,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});TA(_A,"renderDot",function(e,t){var s;return ae.isValidElement(e)?s=ae.cloneElement(e,t):Ur(e)?s=e(t):s=ae.createElement(jA,uD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),s});function mD(){return mD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mD.apply(this,arguments)}function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function I7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function R7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?I7(Object(s),!0).forEach(function(a){DA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WWe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Vte(a.key),a)}}function HWe(e,t,s){return t&&WWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qWe(e,t,s){return t=JS(t),GWe(e,Ute()?Reflect.construct(t,s||[],JS(e).constructor):t.apply(e,s))}function GWe(e,t){if(t&&(m0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(e)}function KWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!e})()}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},JS(e)}function YWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fD(e,t)}function fD(e,t){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},fD(e,t)}function DA(e,t,s){return t=Vte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Vte(e){var t=XWe(e,"string");return m0(t)=="symbol"?t:t+""}function XWe(e,t){if(m0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(m0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QWe=function(t,s,a,n,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=FR({x:u.scale,y:h.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:s?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:n?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Xd(i,"discard")&&(!m.isInRange(p)||!m.isInRange(g))?null:Ete(p,g)},OA=function(e){function t(){return zWe(this,t),qWe(this,t,arguments)}return YWe(t,e),HWe(t,[{key:"render",value:function(){var a=this.props,n=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;ed(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ni(n),m=ni(i),p=ni(o),g=ni(l),x=this.props.shape;if(!h&&!m&&!p&&!g&&!x)return null;var y=QWe(h,m,p,g,this.props);if(!y&&!x)return null;var b=Xd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ae.createElement(Rs,{className:os("recharts-reference-area",c)},t.renderRect(x,R7(R7({clipPath:b},Dr(this.props,!0)),y)),fi.renderCallByParent(this.props,y))}}])}(ae.Component);DA(OA,"displayName","ReferenceArea");DA(OA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});DA(OA,"renderRect",function(e,t){var s;return ae.isValidElement(e)?s=ae.cloneElement(e,t):Ur(e)?s=e(t):s=ae.createElement(MR,mD({},t,{className:"recharts-reference-area-rect"})),s});function zte(e,t,s){if(t<1)return[];if(t===1&&s===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function JWe(e,t,s){var a={width:e.width+t.width,height:e.height+t.height};return qze(a,s)}function ZWe(e,t,s){var a=s==="width",n=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function ZS(e,t,s,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=s();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function eHe(e,t){return zte(e,t+1)}function tHe(e,t,s,a,n){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:zte(a,d)};var x=c,y,b=function(){return y===void 0&&(y=s(g,x)),y},w=g.coordinate,v=c===0||ZS(e,w,b,u,l);v||(c=0,u=o,d+=1),v&&(u=w+e*(b()/2+n),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Nw(e){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nw(e)}function M7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Gi(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(s),!0).forEach(function(a){rHe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rHe(e,t,s){return t=sHe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sHe(e){var t=aHe(e,"string");return Nw(t)=="symbol"?t:t+""}function aHe(e,t){if(Nw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(Nw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nHe(e,t,s,a,n){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var p=i[m],g,x=function(){return g===void 0&&(g=s(p,m)),g};if(m===o-1){var y=e*(p.coordinate+e*x()/2-c);i[m]=p=Gi(Gi({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[m]=p=Gi(Gi({},p),{},{tickCoord:p.coordinate});var b=ZS(e,p.tickCoord,x,l,c);b&&(c=p.tickCoord-e*(x()/2+n),i[m]=Gi(Gi({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function iHe(e,t,s,a,n,i){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=a[l-1],h=s(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Gi(Gi({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var p=ZS(e,u.tickCoord,function(){return h},c,d);p&&(d=u.tickCoord-e*(h/2+n),o[l-1]=Gi(Gi({},u),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(w){var v=o[w],S,j=function(){return S===void 0&&(S=s(v,w)),S};if(w===0){var k=e*(v.coordinate-e*j()/2-c);o[w]=v=Gi(Gi({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else o[w]=v=Gi(Gi({},v),{},{tickCoord:v.coordinate});var N=ZS(e,v.tickCoord,j,c,d);N&&(c=v.tickCoord+e*(j()/2+n),o[w]=Gi(Gi({},v),{},{isShow:!0}))},y=0;y<g;y++)x(y);return o}function WR(e,t,s){var a=e.tick,n=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!n||!n.length||!a)return[];if(Ct(c)||Kd.isSsr)return eHe(n,typeof c=="number"&&Ct(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?Hy(u,{fontSize:t,letterSpacing:s}):{width:0,height:0},x=function(v,S){var j=Ur(d)?d(v.value,S):v.value;return p==="width"?JWe(Hy(j,{fontSize:t,letterSpacing:s}),g,h):Hy(j,{fontSize:t,letterSpacing:s})[p]},y=n.length>=2?bo(n[1].coordinate-n[0].coordinate):1,b=ZWe(i,y,p);return c==="equidistantPreserveStart"?tHe(y,b,x,n,o):(c==="preserveStart"||c==="preserveStartEnd"?m=iHe(y,b,x,n,o,c==="preserveStartEnd"):m=nHe(y,b,x,n,o),m.filter(function(w){return w.isShow}))}var oHe=["viewBox"],lHe=["viewBox"],cHe=["ticks"];function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Kx.apply(this,arguments)}function F7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Yn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(s),!0).forEach(function(a){HR(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function f4(e,t){if(e==null)return{};var s=dHe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dHe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function uHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Hte(a.key),a)}}function hHe(e,t,s){return t&&L7(e.prototype,t),s&&L7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function mHe(e,t,s){return t=ek(t),fHe(e,Wte()?Reflect.construct(t,s||[],ek(e).constructor):t.apply(e,s))}function fHe(e,t){if(t&&(f0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pHe(e)}function pHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wte=function(){return!!e})()}function ek(e){return ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ek(e)}function xHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pD(e,t)}function pD(e,t){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},pD(e,t)}function HR(e,t,s){return t=Hte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Hte(e){var t=gHe(e,"string");return f0(t)=="symbol"?t:t+""}function gHe(e,t){if(f0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(f0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hv=function(e){function t(s){var a;return uHe(this,t),a=mHe(this,t,[s]),a.state={fontSize:"",letterSpacing:""},a}return xHe(t,e),hHe(t,[{key:"shouldComponentUpdate",value:function(a,n){var i=a.viewBox,o=f4(a,oHe),l=this.props,c=l.viewBox,d=f4(l,lHe);return!mg(i,c)||!mg(o,d)||!mg(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.x,o=n.y,l=n.width,c=n.height,d=n.orientation,u=n.tickSize,h=n.mirror,m=n.tickMargin,p,g,x,y,b,w,v=h?-1:1,S=a.tickSize||u,j=Ct(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=g=a.coordinate,y=o+ +!h*c,x=y-v*S,w=x-v*m,b=j;break;case"left":x=y=a.coordinate,g=i+ +!h*l,p=g-v*S,b=p-v*m,w=j;break;case"right":x=y=a.coordinate,g=i+ +h*l,p=g+v*S,b=p+v*m,w=j;break;default:p=g=a.coordinate,y=o+ +h*c,x=y+v*S,w=x+v*m,b=j;break}return{line:{x1:p,y1:x,x2:g,y2:y},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o;switch(n){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,h=Yn(Yn(Yn({},Dr(this.props,!1)),Dr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Yn(Yn({},h),{},{x1:n,y1:i+m*l,x2:n+o,y2:i+m*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);h=Yn(Yn({},h),{},{x1:n+p*o,y1:i,x2:n+p*o,y2:i+l})}return ae.createElement("line",Kx({},h,{className:os("recharts-cartesian-axis-line",Cl(u,"className"))}))}},{key:"renderTicks",value:function(a,n,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,p=WR(Yn(Yn({},this.props),{},{ticks:a}),n,i),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=Dr(this.props,!1),b=Dr(u,!1),w=Yn(Yn({},y),{},{fill:"none"},Dr(c,!1)),v=p.map(function(S,j){var k=o.getTickLineCoord(S),N=k.line,C=k.tick,A=Yn(Yn(Yn(Yn({textAnchor:g,verticalAnchor:x},y),{},{stroke:"none",fill:d},b),C),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:h});return ae.createElement(Rs,Kx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},fp(o.props,S,j)),c&&ae.createElement("line",Kx({},w,N,{className:os("recharts-cartesian-axis-tick-line",Cl(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(Ur(h)?h(S.value,j):S.value).concat(m||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var a=this,n=this.props,i=n.axisLine,o=n.width,l=n.height,c=n.ticksGenerator,d=n.className,u=n.hide;if(u)return null;var h=this.props,m=h.ticks,p=f4(h,cHe),g=m;return Ur(c)&&(g=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:ae.createElement(Rs,{className:os("recharts-cartesian-axis",d),ref:function(y){a.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,i){var o,l=os(n.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(a)?o=ae.cloneElement(a,Yn(Yn({},n),{},{className:l})):Ur(a)?o=a(Yn(Yn({},n),{},{className:l})):o=ae.createElement(pp,Kx({},n,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(f.Component);HR(hv,"displayName","CartesianAxis");HR(hv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vHe=["x1","y1","x2","y2","key"],yHe=["offset"];function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function $7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qi(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(s),!0).forEach(function(a){bHe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bHe(e,t,s){return t=wHe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wHe(e){var t=jHe(e,"string");return vp(t)=="symbol"?t:t+""}function jHe(e,t){if(vp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_f.apply(this,arguments)}function B7(e,t){if(e==null)return{};var s=NHe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function NHe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}var SHe=function(t){var s=t.fill;if(!s||s==="none")return null;var a=t.fillOpacity,n=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ae.createElement("rect",{x:n,y:i,ry:c,width:o,height:l,stroke:"none",fill:s,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function qte(e,t){var s;if(ae.isValidElement(e))s=ae.cloneElement(e,t);else if(Ur(e))s=e(t);else{var a=t.x1,n=t.y1,i=t.x2,o=t.y2,l=t.key,c=B7(t,vHe),d=Dr(c,!1);d.offset;var u=B7(d,yHe);s=ae.createElement("line",_f({},u,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function kHe(e){var t=e.x,s=e.width,a=e.horizontal,n=a===void 0?!0:a,i=e.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=Qi(Qi({},e),{},{x1:t,y1:l,x2:t+s,y2:l,key:"line-".concat(c),index:c});return qte(n,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function CHe(e){var t=e.y,s=e.height,a=e.vertical,n=a===void 0?!0:a,i=e.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=Qi(Qi({},e),{},{x1:l,y1:t,x2:l,y2:t+s,key:"line-".concat(c),index:c});return qte(n,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function AHe(e){var t=e.horizontalFill,s=e.fillOpacity,a=e.x,n=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+n-n)}).sort(function(m,p){return m-p});n!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var g=!u[p+1],x=g?n+o-m:u[p+1]-m;if(x<=0)return null;var y=p%t.length;return ae.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:x,width:i,stroke:"none",fill:t[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function EHe(e){var t=e.vertical,s=t===void 0?!0:t,a=e.verticalFill,n=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!s||!a||!a.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var g=!u[p+1],x=g?i+l-m:u[p+1]-m;if(x<=0)return null;var y=p%a.length;return ae.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:x,height:c,stroke:"none",fill:a[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var PHe=function(t,s){var a=t.xAxis,n=t.width,i=t.height,o=t.offset;return zee(WR(Qi(Qi(Qi({},hv.defaultProps),a),{},{ticks:Pu(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,s)},THe=function(t,s){var a=t.yAxis,n=t.width,i=t.height,o=t.offset;return zee(WR(Qi(Qi(Qi({},hv.defaultProps),a),{},{ticks:Pu(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,s)},px={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qR(e){var t,s,a,n,i,o,l=BR(),c=UR(),d=gWe(),u=Qi(Qi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:px.stroke,fill:(s=e.fill)!==null&&s!==void 0?s:px.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:px.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:px.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:px.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:px.verticalFill,x:Ct(e.x)?e.x:d.left,y:Ct(e.y)?e.y:d.top,width:Ct(e.width)?e.width:d.width,height:Ct(e.height)?e.height:d.height}),h=u.x,m=u.y,p=u.width,g=u.height,x=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,w=fWe(),v=pWe();if(!Ct(p)||p<=0||!Ct(g)||g<=0||!Ct(h)||h!==+h||!Ct(m)||m!==+m)return null;var S=u.verticalCoordinatesGenerator||PHe,j=u.horizontalCoordinatesGenerator||THe,k=u.horizontalPoints,N=u.verticalPoints;if((!k||!k.length)&&Ur(j)){var C=y&&y.length,A=j({yAxis:v?Qi(Qi({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:d},C?!0:x);ed(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vp(A),"]")),Array.isArray(A)&&(k=A)}if((!N||!N.length)&&Ur(S)){var E=b&&b.length,D=S({xAxis:w?Qi(Qi({},w),{},{ticks:E?b:w.ticks}):void 0,width:l,height:c,offset:d},E?!0:x);ed(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vp(D),"]")),Array.isArray(D)&&(N=D)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(SHe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ae.createElement(kHe,_f({},u,{offset:d,horizontalPoints:k,xAxis:w,yAxis:v})),ae.createElement(CHe,_f({},u,{offset:d,verticalPoints:N,xAxis:w,yAxis:v})),ae.createElement(AHe,_f({},u,{horizontalPoints:k})),ae.createElement(EHe,_f({},u,{verticalPoints:N})))}qR.displayName="CartesianGrid";var _He=["layout","type","stroke","connectNulls","isRange","ref"],DHe=["key"],Gte;function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function Kte(e,t){if(e==null)return{};var s=OHe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function OHe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Df.apply(this,arguments)}function U7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ah(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(s),!0).forEach(function(a){Fd(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function IHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V7(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Xte(a.key),a)}}function RHe(e,t,s){return t&&V7(e.prototype,t),s&&V7(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function MHe(e,t,s){return t=tk(t),FHe(e,Yte()?Reflect.construct(t,s||[],tk(e).constructor):t.apply(e,s))}function FHe(e,t){if(t&&(p0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LHe(e)}function LHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yte=function(){return!!e})()}function tk(e){return tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},tk(e)}function $He(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xD(e,t)}function xD(e,t){return xD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},xD(e,t)}function Fd(e,t,s){return t=Xte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Xte(e){var t=BHe(e,"string");return p0(t)=="symbol"?t:t+""}function BHe(e,t){if(p0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(p0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ld=function(e){function t(){var s;IHe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=MHe(this,t,[].concat(n)),Fd(s,"state",{isAnimationFinished:!0}),Fd(s,"id",nv("recharts-area-")),Fd(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Ur(o)&&o()}),Fd(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Ur(o)&&o()}),s}return $He(t,e),RHe(t,[{key:"renderDots",value:function(a,n,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=Dr(this.props,!1),p=Dr(d,!0),g=u.map(function(y,b){var w=Ah(Ah(Ah({key:"dot-".concat(b),r:3},m),p),{},{index:b,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return t.renderDotItem(d,w)}),x={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return ae.createElement(Rs,Df({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=a*Math.abs(c-d),h=Gh(o.map(function(m){return m.y||0}));return Ct(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Gh(i.map(function(m){return m.y||0})),h)),Ct(h)?ae.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=a*Math.abs(c-d),h=Gh(o.map(function(m){return m.x||0}));return Ct(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Gh(i.map(function(m){return m.x||0})),h)),Ct(h)?ae.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var p=Kte(l,_He);return ae.createElement(Rs,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ae.createElement(gg,Df({},Dr(p,!0),{points:a,connectNulls:h,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ae.createElement(gg,Df({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})),u!=="none"&&m&&ae.createElement(gg,Df({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,g=this.state,x=g.prevPoints,y=g.prevBaseLine;return ae.createElement(su,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(x){var v=x.length/l.length,S=l.map(function(C,A){var E=Math.floor(A*v);if(x[E]){var D=x[E],T=Vo(D.x,C.x),P=Vo(D.y,C.y);return Ah(Ah({},C),{},{x:T(w),y:P(w)})}return C}),j;if(Ct(c)&&typeof c=="number"){var k=Vo(y,c);j=k(w)}else if(ls(c)||av(c)){var N=Vo(y,0);j=N(w)}else j=c.map(function(C,A){var E=Math.floor(A*v);if(y[E]){var D=y[E],T=Vo(D.x,C.x),P=Vo(D.y,C.y);return Ah(Ah({},C),{},{x:T(w),y:P(w)})}return C});return i.renderAreaStatically(S,j,a,n)}return ae.createElement(Rs,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(w))),ae.createElement(Rs,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(l,c,a,n)))})}},{key:"renderArea",value:function(a,n){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!r0(u,o)||!r0(h,l))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(o,l,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,d=n.top,u=n.left,h=n.xAxis,m=n.yAxis,p=n.width,g=n.height,x=n.isAnimationActive,y=n.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,v=os("recharts-area",c),S=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,k=S||j,N=ls(y)?this.id:y,C=(a=Dr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},A=C.r,E=A===void 0?3:A,D=C.strokeWidth,T=D===void 0?2:D,P=hPe(o)?o:{},_=P.clipDot,O=_===void 0?!0:_,M=E*2+T;return ae.createElement(Rs,{className:v},S||j?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(N)},ae.createElement("rect",{x:S?u:u-p/2,y:j?d:d-g/2,width:S?p:p*2,height:j?g:g*2})),!O&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ae.createElement("rect",{x:u-M/2,y:d-M/2,width:p+M,height:g+M}))):null,w?null:this.renderArea(k,N),(o||w)&&this.renderDots(k,O,N),(!x||b)&&Ru.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(f.PureComponent);Gte=ld;Fd(ld,"displayName","Area");Fd(ld,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Kd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fd(ld,"getBaseValue",function(e,t,s,a){var n=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ct(l)&&typeof l=="number")return l;var c=n==="horizontal"?a:s,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Fd(ld,"getComposedData",function(e){var t=e.props,s=e.item,a=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=t.layout,g=d&&d.length,x=Gte.getBaseValue(t,s,a,n),y=p==="horizontal",b=!1,w=h.map(function(S,j){var k;g?k=d[u+j]:(k=ti(S,c),Array.isArray(k)?b=!0:k=[x,k]);var N=k[1]==null||g&&ti(S,c)==null;return y?{x:mU({axis:a,ticks:i,bandSize:l,entry:S,index:j}),y:N?null:n.scale(k[1]),value:k,payload:S}:{x:N?null:a.scale(k[1]),y:mU({axis:n,ticks:o,bandSize:l,entry:S,index:j}),value:k,payload:S}}),v;return g||b?v=w.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:j!=null&&S.y!=null?n.scale(j):null}:{x:j!=null?a.scale(j):null,y:S.y}}):v=y?n.scale(x):a.scale(x),Ah({points:w,baseLine:v,layout:p,isRange:b},m)});Fd(ld,"renderDotItem",function(e,t){var s;if(ae.isValidElement(e))s=ae.cloneElement(e,t);else if(Ur(e))s=e(t);else{var a=os("recharts-area-dot",typeof e!="boolean"?e.className:""),n=t.key,i=Kte(t,DHe);s=ae.createElement(jA,Df({},i,{key:n,className:a}))}return s});function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}function UHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VHe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Zte(a.key),a)}}function zHe(e,t,s){return t&&VHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WHe(e,t,s){return t=rk(t),HHe(e,Qte()?Reflect.construct(t,s||[],rk(e).constructor):t.apply(e,s))}function HHe(e,t){if(t&&(x0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qHe(e)}function qHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qte=function(){return!!e})()}function rk(e){return rk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},rk(e)}function GHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gD(e,t)}function gD(e,t){return gD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},gD(e,t)}function Jte(e,t,s){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zte(e){var t=KHe(e,"string");return x0(t)=="symbol"?t:t+""}function KHe(e,t){if(x0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(x0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vD(){return vD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},vD.apply(this,arguments)}function YHe(e){var t=e.xAxisId,s=BR(),a=UR(),n=Rte(t);return n==null?null:f.createElement(hv,vD({},n,{className:os("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(o){return Pu(o,!0)}}))}var Oj=function(e){function t(){return UHe(this,t),WHe(this,t,arguments)}return GHe(t,e),zHe(t,[{key:"render",value:function(){return f.createElement(YHe,this.props)}}])}(f.Component);Jte(Oj,"displayName","XAxis");Jte(Oj,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function XHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QHe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rre(a.key),a)}}function JHe(e,t,s){return t&&QHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZHe(e,t,s){return t=sk(t),eqe(e,ere()?Reflect.construct(t,s||[],sk(e).constructor):t.apply(e,s))}function eqe(e,t){if(t&&(g0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tqe(e)}function tqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ere(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ere=function(){return!!e})()}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},sk(e)}function rqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yD(e,t)}function yD(e,t){return yD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},yD(e,t)}function tre(e,t,s){return t=rre(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rre(e){var t=sqe(e,"string");return g0(t)=="symbol"?t:t+""}function sqe(e,t){if(g0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(g0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bD(){return bD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bD.apply(this,arguments)}var aqe=function(t){var s=t.yAxisId,a=BR(),n=UR(),i=Mte(s);return i==null?null:f.createElement(hv,bD({},i,{className:os("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(l){return Pu(l,!0)}}))},Ij=function(e){function t(){return XHe(this,t),ZHe(this,t,arguments)}return rqe(t,e),JHe(t,[{key:"render",value:function(){return f.createElement(aqe,this.props)}}])}(f.Component);tre(Ij,"displayName","YAxis");tre(Ij,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z7(e){return lqe(e)||oqe(e)||iqe(e)||nqe()}function nqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iqe(e,t){if(e){if(typeof e=="string")return wD(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wD(e,t)}}function oqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lqe(e){if(Array.isArray(e))return wD(e)}function wD(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}var jD=function(t,s,a,n,i){var o=lc(t,zR),l=lc(t,_A),c=[].concat(z7(o),z7(l)),d=lc(t,OA),u="".concat(n,"Id"),h=n[0],m=s;if(c.length&&(m=c.reduce(function(x,y){if(y.props[u]===a&&Xd(y.props,"extendDomain")&&Ct(y.props[h])){var b=y.props[h];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},m)),d.length){var p="".concat(h,"1"),g="".concat(h,"2");m=d.reduce(function(x,y){if(y.props[u]===a&&Xd(y.props,"extendDomain")&&Ct(y.props[p])&&Ct(y.props[g])){var b=y.props[p],w=y.props[g];return[Math.min(x[0],b,w),Math.max(x[1],b,w)]}return x},m)}return i&&i.length&&(m=i.reduce(function(x,y){return Ct(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},sre={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new n(u,h||c,m),g=s?s+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,g=new Array(p);m<p;m++)g[m]=h[m].fn;return g},l.prototype.listenerCount=function(d){var u=s?s+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,p,g){var x=s?s+d:d;if(!this._events[x])return!1;var y=this._events[x],b=arguments.length,w,v;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,m),!0;case 5:return y.fn.call(y.context,u,h,m,p),!0;case 6:return y.fn.call(y.context,u,h,m,p,g),!0}for(v=1,w=new Array(b-1);v<b;v++)w[v-1]=arguments[v];y.fn.apply(y.context,w)}else{var S=y.length,j;for(v=0;v<S;v++)switch(y[v].once&&this.removeListener(d,y[v].fn,void 0,!0),b){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,h);break;case 4:y[v].fn.call(y[v].context,u,h,m);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];y[v].fn.apply(y[v].context,w)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var p=s?s+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!m||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var x=0,y=[],b=g.length;x<b;x++)(g[x].fn!==u||m&&!g[x].once||h&&g[x].context!==h)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l})(sre);var cqe=sre.exports;const dqe=na(cqe);var p4=new dqe,x4="recharts.syncMouseEvents";function Sw(e){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(e)}function uqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hqe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,are(a.key),a)}}function mqe(e,t,s){return t&&hqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g4(e,t,s){return t=are(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function are(e){var t=fqe(e,"string");return Sw(t)=="symbol"?t:t+""}function fqe(e,t){if(Sw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(Sw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pqe=function(){function e(){uqe(this,e),g4(this,"activeIndex",0),g4(this,"coordinateList",[]),g4(this,"layout","horizontal")}return mqe(e,[{key:"setDetails",value:function(s){var a,n=s.coordinateList,i=n===void 0?null:n,o=s.container,l=o===void 0?null:o,c=s.layout,d=c===void 0?null:c,u=s.offset,h=u===void 0?null:u,m=s.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,o=n.y,l=n.height,c=this.coordinateList[this.activeIndex].coordinate,d=((s=window)===null||s===void 0?void 0:s.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function xqe(e,t,s){if(s==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],n=e==null?void 0:e[1];if(a&&n&&Ct(a)&&Ct(n))return!0}return!1}function gqe(e,t,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:t.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function nre(e){var t=e.cx,s=e.cy,a=e.radius,n=e.startAngle,i=e.endAngle,o=_a(t,s,a,n),l=_a(t,s,a,i);return{points:[o,l],cx:t,cy:s,radius:a,startAngle:n,endAngle:i}}function vqe(e,t,s){var a,n,i,o;if(e==="horizontal")a=t.x,i=a,n=s.top,o=s.top+s.height;else if(e==="vertical")n=t.y,o=n,a=s.left,i=s.left+s.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,m=_a(l,c,d,h),p=_a(l,c,u,h);a=m.x,n=m.y,i=p.x,o=p.y}else return nre(t);return[{x:a,y:n},{x:i,y:o}]}function kw(e){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kw(e)}function W7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cN(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(s),!0).forEach(function(a){yqe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):W7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yqe(e,t,s){return t=bqe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bqe(e){var t=wqe(e,"string");return kw(t)=="symbol"?t:t+""}function wqe(e,t){if(kw(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(kw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jqe(e){var t,s,a=e.element,n=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(t=a.props.cursor)!==null&&t!==void 0?t:(s=a.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!a||!p||!i||!o||m!=="ScatterChart"&&n!=="axis")return null;var g,x=gg;if(m==="ScatterChart")g=o,x=zUe;else if(m==="BarChart")g=gqe(h,o,c,u),x=MR;else if(h==="radial"){var y=nre(o),b=y.cx,w=y.cy,v=y.radius,S=y.startAngle,j=y.endAngle;g={cx:b,cy:w,startAngle:S,endAngle:j,innerRadius:v,outerRadius:v},x=ete}else g={points:vqe(h,o,c)},x=gg;var k=cN(cN(cN(cN({stroke:"#ccc",pointerEvents:"none"},c),g),Dr(p,!1)),{},{payload:l,payloadIndex:d,className:os("recharts-tooltip-cursor",p.className)});return f.isValidElement(p)?f.cloneElement(p,k):f.createElement(x,k)}var Nqe=["item"],Sqe=["children","className","width","height","style","compact","title","desc"];function v0(e){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Yx.apply(this,arguments)}function H7(e,t){return Aqe(e)||Cqe(e,t)||ore(e,t)||kqe()}function kqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cqe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Aqe(e){if(Array.isArray(e))return e}function q7(e,t){if(e==null)return{};var s=Eqe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Eqe(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Pqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tqe(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lre(a.key),a)}}function _qe(e,t,s){return t&&Tqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dqe(e,t,s){return t=ak(t),Oqe(e,ire()?Reflect.construct(t,s||[],ak(e).constructor):t.apply(e,s))}function Oqe(e,t){if(t&&(v0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iqe(e)}function Iqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ire(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!e})()}function ak(e){return ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ak(e)}function Rqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ND(e,t)}function ND(e,t){return ND=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},ND(e,t)}function y0(e){return Lqe(e)||Fqe(e)||ore(e)||Mqe()}function Mqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(e,t){if(e){if(typeof e=="string")return SD(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return SD(e,t)}}function Fqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lqe(e){if(Array.isArray(e))return SD(e)}function SD(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function G7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ht(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(s),!0).forEach(function(a){Lr(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):G7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lr(e,t,s){return t=lre(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function lre(e){var t=$qe(e,"string");return v0(t)=="symbol"?t:t+""}function $qe(e,t){if(v0(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t||"default");if(v0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bqe={xAxis:["bottom","top"],yAxis:["left","right"]},Uqe={width:"100%",height:"100%"},cre={x:0,y:0};function dN(e){return e}var Vqe=function(t,s){return s==="horizontal"?t.x:s==="vertical"?t.y:s==="centric"?t.angle:t.radius},zqe=function(t,s,a,n){var i=s.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=n.radius;return ht(ht(ht({},n),_a(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=n.angle;return ht(ht(ht({},n),_a(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return cre},IA=function(t,s){var a=s.graphicalItems,n=s.dataStartIndex,i=s.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(y0(l),y0(d)):l},[]);return o.length>0?o:t&&t.length&&Ct(n)&&Ct(i)?t.slice(n,i+1):[]};function dre(e){return e==="number"?[0,"auto"]:void 0}var kD=function(t,s,a,n){var i=t.graphicalItems,o=t.tooltipAxis,l=IA(s,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:s;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;m=nS(p,o.dataKey,n)}else m=h&&h[a]||l[a];return m?[].concat(y0(c),[Kee(d,m)]):c},[])},K7=function(t,s,a,n){var i=n||{x:t.chartX,y:t.chartY},o=Vqe(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=m8e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=kD(t,s,u,h),p=zqe(a,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},Wqe=function(t,s){var a=s.axes,n=s.graphicalItems,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=t.layout,h=t.children,m=t.stackOffset,p=Vee(u,i);return a.reduce(function(g,x){var y,b=x.type.defaultProps!==void 0?ht(ht({},x.type.defaultProps),x.props):x.props,w=b.type,v=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,k=b.scale,N=b.ticks,C=b.includeHidden,A=b[o];if(g[A])return g;var E=IA(t.data,{graphicalItems:n.filter(function(F){var G,U=o in F.props?F.props[o]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[o];return U===A}),dataStartIndex:c,dataEndIndex:d}),D=E.length,T,P,_;xqe(b.domain,S,w)&&(T=B5(b.domain,null,S),p&&(w==="number"||k!=="auto")&&(_=Gy(E,v,"category")));var O=dre(w);if(!T||T.length===0){var M,I=(M=b.domain)!==null&&M!==void 0?M:O;if(v){if(T=Gy(E,v,w),w==="category"&&p){var R=rPe(T);j&&R?(P=T,T=HS(0,D)):j||(T=gU(I,T,x).reduce(function(F,G){return F.indexOf(G)>=0?F:[].concat(y0(F),[G])},[]))}else if(w==="category")j?T=T.filter(function(F){return F!==""&&!ls(F)}):T=gU(I,T,x).reduce(function(F,G){return F.indexOf(G)>=0||G===""||ls(G)?F:[].concat(y0(F),[G])},[]);else if(w==="number"){var L=v8e(E,n.filter(function(F){var G,U,W=o in F.props?F.props[o]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[o],J="hide"in F.props?F.props.hide:(U=F.type.defaultProps)===null||U===void 0?void 0:U.hide;return W===A&&(C||!J)}),v,i,u);L&&(T=L)}p&&(w==="number"||k!=="auto")&&(_=Gy(E,v,"category"))}else p?T=HS(0,D):l&&l[A]&&l[A].hasStack&&w==="number"?T=m==="expand"?[0,1]:Gee(l[A].stackGroups,c,d):T=Uee(E,n.filter(function(F){var G=o in F.props?F.props[o]:F.type.defaultProps[o],U="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return G===A&&(C||!U)}),w,u,!0);if(w==="number")T=jD(h,T,A,i,N),I&&(T=B5(I,T,S));else if(w==="category"&&I){var K=I,H=T.every(function(F){return K.indexOf(F)>=0});H&&(T=K)}}return ht(ht({},g),{},Lr({},A,ht(ht({},b),{},{axisType:i,domain:T,categoricalDomain:_,duplicateDomain:P,originalDomain:(y=b.domain)!==null&&y!==void 0?y:O,isCategorical:p,layout:u})))},{})},Hqe=function(t,s){var a=s.graphicalItems,n=s.Axis,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=t.layout,h=t.children,m=IA(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),p=m.length,g=Vee(u,i),x=-1;return a.reduce(function(y,b){var w=b.type.defaultProps!==void 0?ht(ht({},b.type.defaultProps),b.props):b.props,v=w[o],S=dre("number");if(!y[v]){x++;var j;return g?j=HS(0,p):l&&l[v]&&l[v].hasStack?(j=Gee(l[v].stackGroups,c,d),j=jD(h,j,v,i)):(j=B5(S,Uee(m,a.filter(function(k){var N,C,A=o in k.props?k.props[o]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in k.props?k.props.hide:(C=k.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===v&&!E}),"number",u),n.defaultProps.allowDataOverflow),j=jD(h,j,v,i)),ht(ht({},y),{},Lr({},v,ht(ht({axisType:i},n.defaultProps),{},{hide:!0,orientation:Cl(Bqe,"".concat(i,".").concat(x%2),null),domain:j,originalDomain:S,isCategorical:g,layout:u})))}return y},{})},qqe=function(t,s){var a=s.axisType,n=a===void 0?"xAxis":a,i=s.AxisComp,o=s.graphicalItems,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=t.children,h="".concat(n,"Id"),m=lc(u,i),p={};return m&&m.length?p=Wqe(t,{axes:m,graphicalItems:o,axisType:n,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=Hqe(t,{Axis:i,graphicalItems:o,axisType:n,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},Gqe=function(t){var s=Rh(t),a=Pu(s,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:cR(a,function(n){return n.coordinate}),tooltipAxis:s,tooltipAxisBandSize:OS(s,a)}},Y7=function(t){var s=t.children,a=t.defaultShowTooltip,n=ul(s,c0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},Kqe=function(t){return!t||!t.length?!1:t.some(function(s){var a=Ou(s&&s.type);return a&&a.indexOf("Bar")>=0})},X7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Yqe=function(t,s){var a=t.props,n=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,h=a.children,m=a.margin||{},p=ul(h,c0),g=ul(h,fg),x=Object.keys(c).reduce(function(j,k){var N=c[k],C=N.orientation;return!N.mirror&&!N.hide?ht(ht({},j),{},Lr({},C,j[C]+N.width)):j},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(j,k){var N=o[k],C=N.orientation;return!N.mirror&&!N.hide?ht(ht({},j),{},Lr({},C,Cl(j,"".concat(C))+N.height)):j},{top:m.top||0,bottom:m.bottom||0}),b=ht(ht({},y),x),w=b.bottom;p&&(b.bottom+=p.props.height||c0.defaultProps.height),g&&s&&(b=x8e(b,n,a,s));var v=d-b.left-b.right,S=u-b.top-b.bottom;return ht(ht({brushBottom:w},b),{},{width:Math.max(v,0),height:Math.max(S,0)})},Xqe=function(t,s){if(s==="xAxis")return t[s].width;if(s==="yAxis")return t[s].height},ure=function(t){var s=t.chartName,a=t.GraphicalChild,n=t.defaultTooltipEventType,i=n===void 0?"axis":n,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,m=function(b,w){var v=w.graphicalItems,S=w.stackGroups,j=w.offset,k=w.updateId,N=w.dataStartIndex,C=w.dataEndIndex,A=b.barSize,E=b.layout,D=b.barGap,T=b.barCategoryGap,P=b.maxBarSize,_=X7(E),O=_.numericAxisName,M=_.cateAxisName,I=Kqe(v),R=[];return v.forEach(function(L,K){var H=IA(b.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:C}),F=L.type.defaultProps!==void 0?ht(ht({},L.type.defaultProps),L.props):L.props,G=F.dataKey,U=F.maxBarSize,W=F["".concat(O,"Id")],J=F["".concat(M,"Id")],z={},ie=c.reduce(function(Ee,Pe){var $e=w["".concat(Pe.axisType,"Map")],We=F["".concat(Pe.axisType,"Id")];$e&&$e[We]||Pe.axisType==="zAxis"||gp();var Xe=$e[We];return ht(ht({},Ee),{},Lr(Lr({},Pe.axisType,Xe),"".concat(Pe.axisType,"Ticks"),Pu(Xe)))},z),re=ie[M],q=ie["".concat(M,"Ticks")],se=S&&S[W]&&S[W].hasStack&&A8e(L,S[W].stackGroups),B=Ou(L.type).indexOf("Bar")>=0,oe=OS(re,q),de=[],Te=I&&f8e({barSize:A,stackGroups:S,totalSize:Xqe(ie,M)});if(B){var He,Oe,me=ls(U)?P:U,Ue=(He=(Oe=OS(re,q,!0))!==null&&Oe!==void 0?Oe:me)!==null&&He!==void 0?He:0;de=p8e({barGap:D,barCategoryGap:T,bandSize:Ue!==oe?Ue:oe,sizeList:Te[J],maxBarSize:me}),Ue!==oe&&(de=de.map(function(Ee){return ht(ht({},Ee),{},{position:ht(ht({},Ee.position),{},{offset:Ee.position.offset-Ue/2})})}))}var ce=L&&L.type&&L.type.getComposedData;ce&&R.push({props:ht(ht({},ce(ht(ht({},ie),{},{displayedData:H,props:b,dataKey:G,item:L,bandSize:oe,barPosition:de,offset:j,stackedData:se,layout:E,dataStartIndex:N,dataEndIndex:C}))),{},Lr(Lr(Lr({key:L.key||"item-".concat(K)},O,ie[O]),M,ie[M]),"animationId",k)),childIndex:pPe(L,b.children),item:L})}),R},p=function(b,w){var v=b.props,S=b.dataStartIndex,j=b.dataEndIndex,k=b.updateId;if(!dB({props:v}))return null;var N=v.children,C=v.layout,A=v.stackOffset,E=v.data,D=v.reverseStackOrder,T=X7(C),P=T.numericAxisName,_=T.cateAxisName,O=lc(N,a),M=k8e(E,O,"".concat(P,"Id"),"".concat(_,"Id"),A,D),I=c.reduce(function(F,G){var U="".concat(G.axisType,"Map");return ht(ht({},F),{},Lr({},U,qqe(v,ht(ht({},G),{},{graphicalItems:O,stackGroups:G.axisType===P&&M,dataStartIndex:S,dataEndIndex:j}))))},{}),R=Yqe(ht(ht({},I),{},{props:v,graphicalItems:O}),w==null?void 0:w.legendBBox);Object.keys(I).forEach(function(F){I[F]=u(v,I[F],R,F.replace("Map",""),s)});var L=I["".concat(_,"Map")],K=Gqe(L),H=m(v,ht(ht({},I),{},{dataStartIndex:S,dataEndIndex:j,updateId:k,graphicalItems:O,stackGroups:M,offset:R}));return ht(ht({formattedGraphicalItems:H,graphicalItems:O,offset:R,stackGroups:M},K),I)},g=function(y){function b(w){var v,S,j;return Pqe(this,b),j=Dqe(this,b,[w]),Lr(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lr(j,"accessibilityManager",new pqe),Lr(j,"handleLegendBBoxUpdate",function(k){if(k){var N=j.state,C=N.dataStartIndex,A=N.dataEndIndex,E=N.updateId;j.setState(ht({legendBBox:k},p({props:j.props,dataStartIndex:C,dataEndIndex:A,updateId:E},ht(ht({},j.state),{},{legendBBox:k}))))}}),Lr(j,"handleReceiveSyncEvent",function(k,N,C){if(j.props.syncId===k){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Lr(j,"handleBrushChange",function(k){var N=k.startIndex,C=k.endIndex;if(N!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return ht({dataStartIndex:N,dataEndIndex:C},p({props:j.props,dataStartIndex:N,dataEndIndex:C,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Lr(j,"handleMouseEnter",function(k){var N=j.getMouseInfo(k);if(N){var C=ht(ht({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseEnter;Ur(A)&&A(C,k)}}),Lr(j,"triggeredAfterMouseMove",function(k){var N=j.getMouseInfo(k),C=N?ht(ht({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseMove;Ur(A)&&A(C,k)}),Lr(j,"handleItemMouseEnter",function(k){j.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Lr(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Lr(j,"handleMouseMove",function(k){k.persist(),j.throttleTriggeredAfterMouseMove(k)}),Lr(j,"handleMouseLeave",function(k){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var C=j.props.onMouseLeave;Ur(C)&&C(N,k)}),Lr(j,"handleOuterEvent",function(k){var N=fPe(k),C=Cl(j.props,"".concat(N));if(N&&Ur(C)){var A,E;/.*touch.*/i.test(N)?E=j.getMouseInfo(k.changedTouches[0]):E=j.getMouseInfo(k),C((A=E)!==null&&A!==void 0?A:{},k)}}),Lr(j,"handleClick",function(k){var N=j.getMouseInfo(k);if(N){var C=ht(ht({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onClick;Ur(A)&&A(C,k)}}),Lr(j,"handleMouseDown",function(k){var N=j.props.onMouseDown;if(Ur(N)){var C=j.getMouseInfo(k);N(C,k)}}),Lr(j,"handleMouseUp",function(k){var N=j.props.onMouseUp;if(Ur(N)){var C=j.getMouseInfo(k);N(C,k)}}),Lr(j,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Lr(j,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseDown(k.changedTouches[0])}),Lr(j,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseUp(k.changedTouches[0])}),Lr(j,"handleDoubleClick",function(k){var N=j.props.onDoubleClick;if(Ur(N)){var C=j.getMouseInfo(k);N(C,k)}}),Lr(j,"handleContextMenu",function(k){var N=j.props.onContextMenu;if(Ur(N)){var C=j.getMouseInfo(k);N(C,k)}}),Lr(j,"triggerSyncEvent",function(k){j.props.syncId!==void 0&&p4.emit(x4,j.props.syncId,k,j.eventEmitterSymbol)}),Lr(j,"applySyncEvent",function(k){var N=j.props,C=N.layout,A=N.syncMethod,E=j.state.updateId,D=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)j.setState(ht({dataStartIndex:D,dataEndIndex:T},p({props:j.props,dataStartIndex:D,dataEndIndex:T,updateId:E},j.state)));else if(k.activeTooltipIndex!==void 0){var P=k.chartX,_=k.chartY,O=k.activeTooltipIndex,M=j.state,I=M.offset,R=M.tooltipTicks;if(!I)return;if(typeof A=="function")O=A(R,k);else if(A==="value"){O=-1;for(var L=0;L<R.length;L++)if(R[L].value===k.activeLabel){O=L;break}}var K=ht(ht({},I),{},{x:I.left,y:I.top}),H=Math.min(P,K.x+K.width),F=Math.min(_,K.y+K.height),G=R[O]&&R[O].value,U=kD(j.state,j.props.data,O),W=R[O]?{x:C==="horizontal"?R[O].coordinate:H,y:C==="horizontal"?F:R[O].coordinate}:cre;j.setState(ht(ht({},k),{},{activeLabel:G,activeCoordinate:W,activePayload:U,activeTooltipIndex:O}))}else j.setState(k)}),Lr(j,"renderCursor",function(k){var N,C=j.state,A=C.isTooltipActive,E=C.activeCoordinate,D=C.activePayload,T=C.offset,P=C.activeTooltipIndex,_=C.tooltipAxisBandSize,O=j.getTooltipEventType(),M=(N=k.props.active)!==null&&N!==void 0?N:A,I=j.props.layout,R=k.key||"_recharts-cursor";return ae.createElement(jqe,{key:R,activeCoordinate:E,activePayload:D,activeTooltipIndex:P,chartName:s,element:k,isActive:M,layout:I,offset:T,tooltipAxisBandSize:_,tooltipEventType:O})}),Lr(j,"renderPolarAxis",function(k,N,C){var A=Cl(k,"type.axisType"),E=Cl(j.state,"".concat(A,"Map")),D=k.type.defaultProps,T=D!==void 0?ht(ht({},D),k.props):k.props,P=E&&E[T["".concat(A,"Id")]];return f.cloneElement(k,ht(ht({},P),{},{className:os(A,P.className),key:k.key||"".concat(N,"-").concat(C),ticks:Pu(P,!0)}))}),Lr(j,"renderPolarGrid",function(k){var N=k.props,C=N.radialLines,A=N.polarAngles,E=N.polarRadius,D=j.state,T=D.radiusAxisMap,P=D.angleAxisMap,_=Rh(T),O=Rh(P),M=O.cx,I=O.cy,R=O.innerRadius,L=O.outerRadius;return f.cloneElement(k,{polarAngles:Array.isArray(A)?A:Pu(O,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(E)?E:Pu(_,!0).map(function(K){return K.coordinate}),cx:M,cy:I,innerRadius:R,outerRadius:L,key:k.key||"polar-grid",radialLines:C})}),Lr(j,"renderLegend",function(){var k=j.state.formattedGraphicalItems,N=j.props,C=N.children,A=N.width,E=N.height,D=j.props.margin||{},T=A-(D.left||0)-(D.right||0),P=$ee({children:C,formattedGraphicalItems:k,legendWidth:T,legendContent:d});if(!P)return null;var _=P.item,O=q7(P,Nqe);return f.cloneElement(_,ht(ht({},O),{},{chartWidth:A,chartHeight:E,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Lr(j,"renderTooltip",function(){var k,N=j.props,C=N.children,A=N.accessibilityLayer,E=ul(C,Kl);if(!E)return null;var D=j.state,T=D.isTooltipActive,P=D.activeCoordinate,_=D.activePayload,O=D.activeLabel,M=D.offset,I=(k=E.props.active)!==null&&k!==void 0?k:T;return f.cloneElement(E,{viewBox:ht(ht({},M),{},{x:M.left,y:M.top}),active:I,label:O,payload:I?_:[],coordinate:P,accessibilityLayer:A})}),Lr(j,"renderBrush",function(k){var N=j.props,C=N.margin,A=N.data,E=j.state,D=E.offset,T=E.dataStartIndex,P=E.dataEndIndex,_=E.updateId;return f.cloneElement(k,{key:k.key||"_recharts-brush",onChange:nN(j.handleBrushChange,k.props.onChange),data:A,x:Ct(k.props.x)?k.props.x:D.left,y:Ct(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(C.bottom||0),width:Ct(k.props.width)?k.props.width:D.width,startIndex:T,endIndex:P,updateId:"brush-".concat(_)})}),Lr(j,"renderReferenceElement",function(k,N,C){if(!k)return null;var A=j,E=A.clipPathId,D=j.state,T=D.xAxisMap,P=D.yAxisMap,_=D.offset,O=k.type.defaultProps||{},M=k.props,I=M.xAxisId,R=I===void 0?O.xAxisId:I,L=M.yAxisId,K=L===void 0?O.yAxisId:L;return f.cloneElement(k,{key:k.key||"".concat(N,"-").concat(C),xAxis:T[R],yAxis:P[K],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:E})}),Lr(j,"renderActivePoints",function(k){var N=k.item,C=k.activePoint,A=k.basePoint,E=k.childIndex,D=k.isRange,T=[],P=N.props.key,_=N.item.type.defaultProps!==void 0?ht(ht({},N.item.type.defaultProps),N.item.props):N.item.props,O=_.activeDot,M=_.dataKey,I=ht(ht({index:E,dataKey:M,cx:C.x,cy:C.y,r:4,fill:RR(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Dr(O,!1)),iS(O));return T.push(b.renderActiveDot(O,I,"".concat(P,"-activePoint-").concat(E))),A?T.push(b.renderActiveDot(O,ht(ht({},I),{},{cx:A.x,cy:A.y}),"".concat(P,"-basePoint-").concat(E))):D&&T.push(null),T}),Lr(j,"renderGraphicChild",function(k,N,C){var A=j.filterFormatItem(k,N,C);if(!A)return null;var E=j.getTooltipEventType(),D=j.state,T=D.isTooltipActive,P=D.tooltipAxis,_=D.activeTooltipIndex,O=D.activeLabel,M=j.props.children,I=ul(M,Kl),R=A.props,L=R.points,K=R.isRange,H=R.baseLine,F=A.item.type.defaultProps!==void 0?ht(ht({},A.item.type.defaultProps),A.item.props):A.item.props,G=F.activeDot,U=F.hide,W=F.activeBar,J=F.activeShape,z=!!(!U&&T&&I&&(G||W||J)),ie={};E!=="axis"&&I&&I.props.trigger==="click"?ie={onClick:nN(j.handleItemMouseEnter,k.props.onClick)}:E!=="axis"&&(ie={onMouseLeave:nN(j.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:nN(j.handleItemMouseEnter,k.props.onMouseEnter)});var re=f.cloneElement(k,ht(ht({},A.props),ie));function q(Pe){return typeof P.dataKey=="function"?P.dataKey(Pe.payload):null}if(z)if(_>=0){var se,B;if(P.dataKey&&!P.allowDuplicatedCategory){var oe=typeof P.dataKey=="function"?q:"payload.".concat(P.dataKey.toString());se=nS(L,oe,O),B=K&&H&&nS(H,oe,O)}else se=L==null?void 0:L[_],B=K&&H&&H[_];if(J||W){var de=k.props.activeIndex!==void 0?k.props.activeIndex:_;return[f.cloneElement(k,ht(ht(ht({},A.props),ie),{},{activeIndex:de})),null,null]}if(!ls(se))return[re].concat(y0(j.renderActivePoints({item:A,activePoint:se,basePoint:B,childIndex:_,isRange:K})))}else{var Te,He=(Te=j.getItemByXY(j.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:re},Oe=He.graphicalItem,me=Oe.item,Ue=me===void 0?k:me,ce=Oe.childIndex,Ee=ht(ht(ht({},A.props),ie),{},{activeIndex:ce});return[f.cloneElement(Ue,Ee),null,null]}return K?[re,null,null]:[re,null]}),Lr(j,"renderCustomized",function(k,N,C){return f.cloneElement(k,ht(ht({key:"recharts-customized-".concat(C)},j.props),j.state))}),Lr(j,"renderMap",{CartesianGrid:{handler:dN,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:dN},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:dN},YAxis:{handler:dN},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((v=w.id)!==null&&v!==void 0?v:nv("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=LZ(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return Rqe(b,y),_qe(b,[{key:"componentDidMount",value:function(){var v,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,S=v.children,j=v.data,k=v.height,N=v.layout,C=ul(S,Kl);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,D=kD(this.state,j,A,E),T=this.state.tooltipTicks[A].coordinate,P=(this.state.offset.top+k)/2,_=N==="horizontal",O=_?{x:T,y:P}:{y:T,x:P},M=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});M&&(O=ht(ht({},O),M.props.points[A].tooltipPosition),D=M.props.points[A].tooltipPayload);var I={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:D,activeCoordinate:O};this.setState(I),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var j,k;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(v){t5([ul(v.children,Kl)],[ul(this.props.children,Kl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=ul(this.props.children,Kl);if(v&&typeof v.props.shared=="boolean"){var S=v.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),k=UMe(j),N={chartX:Math.round(v.pageX-k.left),chartY:Math.round(v.pageY-k.top)},C=j.width/S.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,C);if(!A)return null;var E=this.state,D=E.xAxisMap,T=E.yAxisMap,P=this.getTooltipEventType(),_=K7(this.state,this.props.data,this.props.layout,A);if(P!=="axis"&&D&&T){var O=Rh(D).scale,M=Rh(T).scale,I=O&&O.invert?O.invert(N.chartX):null,R=M&&M.invert?M.invert(N.chartY):null;return ht(ht({},N),{},{xValue:I,yValue:R},_)}return _?ht(ht({},N),_):null}},{key:"inRange",value:function(v,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,N=v/j,C=S/j;if(k==="horizontal"||k==="vertical"){var A=this.state.offset,E=N>=A.left&&N<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return E?{x:N,y:C}:null}var D=this.state,T=D.angleAxisMap,P=D.radiusAxisMap;if(T&&P){var _=Rh(T);return bU({x:N,y:C},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,S=this.getTooltipEventType(),j=ul(v,Kl),k={};j&&S==="axis"&&(j.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=iS(this.props,this.handleOuterEvent);return ht(ht({},N),k)}},{key:"addListener",value:function(){p4.on(x4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){p4.removeListener(x4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,S,j){for(var k=this.state.formattedGraphicalItems,N=0,C=k.length;N<C;N++){var A=k[N];if(A.item===v||A.props.key===v.key||S===Ou(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,S=this.state.offset,j=S.left,k=S.top,N=S.height,C=S.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:v},ae.createElement("rect",{x:j,y:k,height:N,width:C})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(S,j){var k=H7(j,2),N=k[0],C=k[1];return ht(ht({},S),{},Lr({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(S,j){var k=H7(j,2),N=k[0],C=k[1];return ht(ht({},S),{},Lr({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(v){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(v){var S=this.state,j=S.formattedGraphicalItems,k=S.activeItem;if(j&&j.length)for(var N=0,C=j.length;N<C;N++){var A=j[N],E=A.props,D=A.item,T=D.type.defaultProps!==void 0?ht(ht({},D.type.defaultProps),D.props):D.props,P=Ou(D.type);if(P==="Bar"){var _=(E.data||[]).find(function(R){return NUe(v,R)});if(_)return{graphicalItem:A,payload:_}}else if(P==="RadialBar"){var O=(E.data||[]).find(function(R){return bU(v,R)});if(O)return{graphicalItem:A,payload:O}}else if(AA(A,k)||EA(A,k)||yw(A,k)){var M=uVe({graphicalItem:A,activeTooltipItem:k,itemData:T.data}),I=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:ht(ht({},A),{},{childIndex:I}),payload:yw(A,k)?T.data[M]:A.props.data[M]}}}return null}},{key:"render",value:function(){var v=this;if(!dB(this))return null;var S=this.props,j=S.children,k=S.className,N=S.width,C=S.height,A=S.style,E=S.compact,D=S.title,T=S.desc,P=q7(S,Sqe),_=Dr(P,!1);if(E)return ae.createElement(E7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(s5,Yx({},_,{width:N,height:C,title:D,desc:T}),this.renderClipPath(),hB(j,this.renderMap)));if(this.props.accessibilityLayer){var O,M;_.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,_.role=(M=this.props.role)!==null&&M!==void 0?M:"application",_.onKeyDown=function(R){v.accessibilityManager.keyboardEvent(R)},_.onFocus=function(){v.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return ae.createElement(E7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Yx({className:os("recharts-wrapper",k),style:ht({position:"relative",cursor:"default",width:N,height:C},A)},I,{ref:function(L){v.container=L}}),ae.createElement(s5,Yx({},_,{width:N,height:C,title:D,desc:T,style:Uqe}),this.renderClipPath(),hB(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(f.Component);Lr(g,"displayName",s),Lr(g,"defaultProps",ht({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Lr(g,"getDerivedStateFromProps",function(y,b){var w=y.dataKey,v=y.data,S=y.children,j=y.width,k=y.height,N=y.layout,C=y.stackOffset,A=y.margin,E=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var T=Y7(y);return ht(ht(ht({},T),{},{updateId:0},p(ht(ht({props:y},T),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:v,prevWidth:j,prevHeight:k,prevLayout:N,prevStackOffset:C,prevMargin:A,prevChildren:S})}if(w!==b.prevDataKey||v!==b.prevData||j!==b.prevWidth||k!==b.prevHeight||N!==b.prevLayout||C!==b.prevStackOffset||!mg(A,b.prevMargin)){var P=Y7(y),_={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},O=ht(ht({},K7(b,v,N)),{},{updateId:b.updateId+1}),M=ht(ht(ht({},P),_),O);return ht(ht(ht({},M),p(ht({props:y},M),b)),{},{prevDataKey:w,prevData:v,prevWidth:j,prevHeight:k,prevLayout:N,prevStackOffset:C,prevMargin:A,prevChildren:S})}if(!t5(S,b.prevChildren)){var I,R,L,K,H=ul(S,c0),F=H&&(I=(R=H.props)===null||R===void 0?void 0:R.startIndex)!==null&&I!==void 0?I:E,G=H&&(L=(K=H.props)===null||K===void 0?void 0:K.endIndex)!==null&&L!==void 0?L:D,U=F!==E||G!==D,W=!ls(v),J=W&&!U?b.updateId:b.updateId+1;return ht(ht({updateId:J},p(ht(ht({props:y},b),{},{updateId:J,dataStartIndex:F,dataEndIndex:G}),b)),{},{prevChildren:S,dataStartIndex:F,dataEndIndex:G})}return null}),Lr(g,"renderActiveDot",function(y,b,w){var v;return f.isValidElement(y)?v=f.cloneElement(y,b):Ur(y)?v=y(b):v=ae.createElement(jA,b),ae.createElement(Rs,{className:"recharts-active-dot",key:w},v)});var x=f.forwardRef(function(b,w){return ae.createElement(g,Yx({},b,{ref:w}))});return x.displayName=g.displayName,x},Qqe=ure({chartName:"PieChart",GraphicalChild:lh,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:CA},{axisType:"radiusAxis",AxisComp:SA}],formatAxisMap:F8e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nk=ure({chartName:"AreaChart",GraphicalChild:ld,axisComponents:[{axisType:"xAxis",AxisComp:Oj},{axisType:"yAxis",AxisComp:Ij}],formatAxisMap:zze});const Q7=({mobile:e,isDark:t=!0})=>{const s=[{name:"Jan",revenue:4e3},{name:"Feb",revenue:3e3},{name:"Mar",revenue:2e3},{name:"Apr",revenue:2780},{name:"May",revenue:1890},{name:"Jun",revenue:2390},{name:"Jul",revenue:3490}],a={bg:t?"bg-slate-950":"bg-white",text:t?"text-slate-50":"text-slate-900",textMuted:t?"text-slate-400":"text-slate-500",textDim:t?"text-slate-600":"text-slate-400",cardBg:t?"bg-white/5":"bg-slate-50 border-slate-100",border:t?"border-white/10":"border-slate-200",inputBg:t?"bg-white/5":"bg-white",hoverBg:t?"hover:bg-white/5":"hover:bg-slate-100",primaryLight:t?"bg-primary/20":"bg-primary/10"},n=({id:i,color:o})=>r.jsx("defs",{children:r.jsxs("linearGradient",{id:i,x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:o,stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:o,stopOpacity:0})]})});return e?r.jsxs("div",{className:xe("w-full h-full flex flex-col overflow-hidden text-[10px]",a.bg,a.text),dir:"rtl",children:[r.jsxs("div",{className:xe("flex items-center justify-between px-3 py-2 border-b h-10 shrink-0",a.border),children:[r.jsx(sh,{className:xe("w-3.5 h-3.5",a.textMuted)}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:xe("w-4 h-4 rounded flex items-center justify-center",a.primaryLight),children:r.jsx(xs,{className:"w-2.5 h-2.5 text-primary"})}),r.jsx("span",{className:"font-bold text-[10px]",children:""})]}),r.jsx(Xo,{className:xe("w-3.5 h-3.5",a.textMuted)})]}),r.jsxs("div",{className:"flex-1 overflow-hidden p-2",children:[r.jsxs("div",{className:"flex gap-2 mb-2 w-full",children:[r.jsxs("div",{className:xe("flex-1 rounded-lg p-2 border flex flex-col justify-between min-w-0",a.cardBg,a.border),children:[r.jsx("div",{className:"flex items-start justify-between mb-1",children:r.jsx("div",{className:"p-1 bg-green-500/10 rounded",children:r.jsx(an,{className:"w-2.5 h-2.5 text-green-500"})})}),r.jsxs("div",{children:[r.jsx("span",{className:xe("block text-[8px] truncate",a.textMuted),children:""}),r.jsx("span",{className:"block font-bold text-[10px]",children:"12K"})]})]}),r.jsxs("div",{className:xe("flex-1 rounded-lg p-2 border flex flex-col justify-between min-w-0",a.cardBg,a.border),children:[r.jsx("div",{className:"flex items-start justify-between mb-1",children:r.jsx("div",{className:"p-1 bg-orange-500/10 rounded",children:r.jsx(Or,{className:"w-2.5 h-2.5 text-orange-500"})})}),r.jsxs("div",{children:[r.jsx("span",{className:xe("block text-[8px] truncate",a.textMuted),children:""}),r.jsx("span",{className:"block font-bold text-[10px]",children:"345"})]})]})]}),r.jsxs("div",{className:xe("rounded-lg p-2 border mb-2",a.cardBg,a.border),children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("span",{className:xe("text-[8px] font-medium",a.textMuted),children:""})}),r.jsx("div",{className:"h-16 w-full",children:r.jsx(Yb,{width:"100%",height:"100%",children:r.jsxs(nk,{data:s,children:[r.jsx(n,{id:"mobileGrad",color:"#3b82f6"}),r.jsx(ld,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:1.5,fill:"url(#mobileGrad)"})]})})})]}),r.jsx("div",{className:"space-y-1.5",children:[1,2,3].map((i,o)=>r.jsxs("div",{className:xe("rounded-lg p-1.5 border flex items-center justify-between",a.cardBg,a.border),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-500/10 flex items-center justify-center text-[8px]",children:["","",""][o]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-bold text-[8px]",children:[" ",o+1]}),r.jsx("div",{className:xe("text-[7px]",a.textDim),children:" "})]})]}),r.jsx("div",{className:"text-[8px] font-medium text-green-500",children:"+20 ."})]},o))})]})]}):r.jsxs("div",{className:xe("w-full h-full flex overflow-hidden text-[10px]",a.bg,a.text),dir:"rtl",children:[r.jsxs("div",{className:xe("w-32 h-full flex flex-col border-l shrink-0",a.cardBg,a.border),children:[r.jsxs("div",{className:xe("flex items-center gap-2 p-3 border-b h-12",a.border),children:[r.jsx("div",{className:xe("w-6 h-6 rounded-lg flex items-center justify-center shrink-0",a.primaryLight),children:r.jsx(xs,{className:"w-3.5 h-3.5 text-primary"})}),r.jsx("div",{className:"min-w-0",children:r.jsx("p",{className:"font-bold text-[11px] truncate",children:""})})]}),r.jsxs("div",{className:"flex-1 p-2 space-y-0.5",children:[[{icon:op,label:"",active:!0},{icon:Or,label:""},{icon:Dt,label:""},{icon:wr,label:""},{icon:Ua,label:""}].map((i,o)=>r.jsxs("div",{className:xe("flex items-center gap-2 px-2 py-1.5 rounded-lg border border-transparent",i.active?a.primaryLight+" text-primary":"text-slate-500 hover:bg-slate-500/5"),children:[r.jsx(i.icon,{className:"w-3.5 h-3.5 shrink-0"}),r.jsx("span",{className:"text-[10px] font-medium truncate",children:i.label})]},o)),r.jsx("div",{className:xe("my-2 border-t",a.border)}),[{icon:lp,label:""},{icon:Es,label:""}].map((i,o)=>r.jsxs("div",{className:xe("flex items-center gap-2 px-2 py-1.5 rounded-lg border border-transparent text-slate-500 hover:bg-slate-500/5"),children:[r.jsx(i.icon,{className:"w-3.5 h-3.5 shrink-0"}),r.jsx("span",{className:"text-[10px] font-medium truncate",children:i.label})]},o))]}),r.jsx("div",{className:xe("p-2 border-t",a.border),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-[8px]",children:"A"}),r.jsx("div",{className:"min-w-0",children:r.jsx("p",{className:"font-bold text-[9px] truncate",children:"Admin"})})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("div",{className:xe("h-12 border-b flex items-center justify-between px-4 shrink-0",a.border),children:[r.jsxs("div",{className:"relative w-48",children:[r.jsx(Mr,{className:xe("absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3",a.textMuted)}),r.jsx("input",{className:xe("w-full h-7 rounded-lg text-[10px] pr-7 pl-2 border outline-none",a.inputBg,a.border,a.textDim),placeholder:"..."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[t?r.jsx(ad,{className:"w-3.5 h-3.5 text-slate-400"}):r.jsx(Jd,{className:"w-3.5 h-3.5 text-slate-400"}),r.jsx(Xo,{className:"w-3.5 h-3.5 text-slate-400"})]})]}),r.jsxs("div",{className:"flex-1 p-4 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 shrink-0",children:[{label:"",val:"12,450",icon:an,color:"text-green-500",trend:"+12%"},{label:"",val:"345",icon:Or,color:"text-orange-500",trend:"+8%"},{label:"",val:"876",icon:wr,color:"text-blue-500",trend:"+5%"}].map((i,o)=>r.jsxs("div",{className:xe("rounded-xl p-3 border shadow-sm",a.cardBg,a.border),children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{className:xe("p-1.5 rounded-lg bg-current/10",i.color.replace("text-","bg-").split(" ")[0]+"/10"),children:r.jsx(i.icon,{className:xe("w-4 h-4",i.color)})}),r.jsx("span",{className:"text-[9px] font-bold text-green-500 bg-green-500/10 px-1.5 py-0.5 rounded",children:i.trend})]}),r.jsxs("div",{children:[r.jsx("p",{className:xe("text-[9px]",a.textMuted),children:i.label}),r.jsx("p",{className:"text-lg font-bold leading-tight",children:i.val})]})]},o))}),r.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3 min-h-0",children:[r.jsxs("div",{className:xe("col-span-2 rounded-xl p-3 border shadow-sm flex flex-col",a.cardBg,a.border),children:[r.jsxs("div",{className:"flex justify-between items-center mb-2 shrink-0",children:[r.jsx("h3",{className:"font-bold text-[11px]",children:" "}),r.jsx("div",{className:xe("text-[9px] px-2 py-0.5 rounded border",a.border),children:" 7 "})]}),r.jsx("div",{className:"flex-1 w-full min-h-0",children:r.jsx(Yb,{width:"100%",height:"100%",children:r.jsxs(nk,{data:s,children:[r.jsx(n,{id:"desktopGrad",color:"#3b82f6"}),r.jsx(ld,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,fill:"url(#desktopGrad)"})]})})})]}),r.jsxs("div",{className:xe("rounded-xl p-3 border shadow-sm flex flex-col",a.cardBg,a.border),children:[r.jsx("h3",{className:"font-bold text-[11px] mb-3 shrink-0",children:" "}),r.jsx("div",{className:"flex-1 overflow-auto space-y-2 pr-1",children:[1,2,3,4].map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:xe("w-6 h-6 rounded-md flex items-center justify-center font-bold text-[9px]",a.primaryLight),children:["A","S","K","M"][o]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[9px] font-bold",children:" "}),r.jsx("p",{className:xe("text-[8px]",a.textDim),children:" "})]})]}),r.jsxs("span",{className:"font-bold text-[9px]",children:[200+o*50," ."]})]},o))})]})]})]})]})]})},Jqe=({title:e,description:t,icon:s,className:a,delay:n=0})=>r.jsxs(Me.div,{initial:{opacity:0,y:20,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0},transition:{duration:.6,delay:n},whileHover:{y:-8,scale:1.02},className:xe("group relative overflow-hidden rounded-3xl border border-border backdrop-blur-xl p-8 text-right shadow-xl hover:shadow-2xl transition-all duration-500 bg-gradient-to-br from-card/80 via-card/60 to-card/40",a),style:{transformStyle:"preserve-3d",perspective:"1000px"},children:[r.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10"}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),r.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[r.jsx(Me.div,{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-secondary/20 border border-primary/30 shadow-lg",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:r.jsx(s,{className:"h-8 w-8 text-primary"})}),r.jsx("h3",{className:"mb-3 text-2xl font-bold text-foreground",children:e}),r.jsx("p",{className:"text-muted-foreground flex-grow leading-relaxed text-base",children:t}),r.jsxs("div",{className:"mt-6 flex items-center gap-2 text-primary font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("span",{children:" "}),r.jsx(El,{className:"w-4 h-4 group-hover:-translate-x-2 transition-transform"})]})]})]}),Zqe=({plan:e,onStart:t})=>{var s,a;return r.jsxs(Me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},whileHover:{y:-12,scale:1.03},className:xe("relative flex flex-col rounded-3xl border p-10 transition-all duration-500 text-right backdrop-blur-xl bg-gradient-to-br from-card via-card/90 to-card/70 shadow-2xl",e.isPopular?"border-primary ring-2 ring-primary/20 z-10 scale-105 shadow-primary/20":"border-border hover:border-primary/30"),children:[e.isPopular&&r.jsx(Me.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-5 left-0 right-0 mx-auto w-fit",children:r.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary via-secondary to-primary px-6 py-2 text-sm font-bold text-white shadow-xl shadow-primary/50",children:"  "})}),r.jsx("div",{className:"relative z-10 mb-8",children:r.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:e.nameAr||e.name})}),r.jsx("div",{className:"relative z-10 mb-8",children:Number(e.price)===0?r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("span",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""}),r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center",children:r.jsx(bs,{className:"w-6 h-6 text-primary"})})]}):r.jsxs("div",{className:"flex items-baseline gap-2 flex-row-reverse justify-end",children:[r.jsxs("span",{className:"text-base text-muted-foreground font-medium",children:["/",e.billingCycle==="MONTHLY"?"":""]}),r.jsx("span",{className:"text-muted-foreground text-xl",children:e.currency}),r.jsx("span",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:e.price})]})}),r.jsx("div",{className:"flex-grow space-y-4 mb-10 relative z-10",children:(a=((s=e.featuresAr)==null?void 0:s.length)>0?e.featuresAr:e.features)==null?void 0:a.slice(0,5).map((n,i)=>r.jsxs(Me.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:i*.1},className:"flex items-start gap-3 text-base",children:[r.jsx("div",{className:"shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center border border-primary/30",children:r.jsx(Za,{className:"h-4 w-4 text-primary"})}),r.jsx("span",{className:"text-muted-foreground",children:n})]},i))}),r.jsx("button",{onClick:t,className:xe("relative z-10 w-full rounded-xl py-4 font-bold text-lg transition-all duration-300 overflow-hidden group/btn",e.isPopular?"bg-gradient-to-r from-primary to-secondary text-white shadow-xl shadow-primary/30 hover:shadow-2xl hover:shadow-primary/50":"bg-muted text-foreground hover:bg-muted/80 border border-border hover:border-primary/30"),children:r.jsx("span",{className:"relative z-10",children:Number(e.price)===0?" ":" "})})]})},eGe=({testimonials:e})=>{const[t,s]=f.useState(0);if(f.useEffect(()=>{if(e.length===0)return;const n=setInterval(()=>s(i=>(i+1)%e.length),5e3);return()=>clearInterval(n)},[e.length]),e.length===0)return null;const a=e[t];return r.jsxs("section",{id:"testimonials",className:"py-28 overflow-hidden relative bg-muted/50",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-1/3 left-10 w-[300px] h-[300px] bg-accent/20 rounded-full blur-[100px]"}),r.jsx("div",{className:"absolute bottom-1/3 right-10 w-[250px] h-[250px] bg-primary/20 rounded-full blur-[80px]"})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-16 relative z-10",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:"  "}),r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:" "})]})}),r.jsx("div",{className:"relative max-w-4xl mx-auto px-4 h-[400px] flex items-center justify-center",children:r.jsx(Wn,{mode:"wait",children:r.jsx(Me.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.5},className:"absolute w-full max-w-2xl",children:r.jsxs("div",{className:"bg-card/50 backdrop-blur-md border border-border rounded-3xl p-8 md:p-12 text-center shadow-2xl relative",children:[r.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white shadow-lg",children:r.jsx("span",{className:"text-2xl font-serif",children:'"'})}),r.jsx("div",{className:"flex justify-center gap-1 mb-6 mt-4",children:[...Array(a.rating||5)].map((n,i)=>r.jsx(Jo,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},i))}),r.jsxs("p",{className:"text-xl md:text-2xl mb-8 leading-relaxed text-foreground font-medium",children:['"',a.content,'"']}),r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-xl shadow-md mb-2",children:a.name.charAt(0)}),r.jsx("p",{className:"font-bold text-lg text-foreground",children:a.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a.role})]})]})},t)})}),r.jsx("div",{className:"flex justify-center gap-3 mt-8 relative z-10",children:e.map((n,i)=>r.jsx("button",{onClick:()=>s(i),className:xe("h-2 rounded-full transition-all duration-300",i===t?"bg-primary w-8":"bg-border w-2 hover:bg-primary/50")},i))})]})},tGe=({children:e,speed:t=1,className:s})=>{const a=f.useRef(null),[n,i]=f.useState(!1),[o,l]=f.useState(0),[c,d]=f.useState(0),u=f.useRef();f.useEffect(()=>{const p=a.current;if(!p)return;const g=()=>{n||(p.scrollLeft+=t,p.scrollLeft>=p.scrollWidth/3&&(p.scrollLeft=0)),u.current=requestAnimationFrame(g)};return u.current=requestAnimationFrame(g),()=>{u.current&&cancelAnimationFrame(u.current)}},[n,t]);const h=p=>{var g,x;i(!0),l(p.pageX-(((g=a.current)==null?void 0:g.offsetLeft)||0)),d(((x=a.current)==null?void 0:x.scrollLeft)||0)},m=p=>{var x;if(!n)return;p.preventDefault();const g=p.pageX-(((x=a.current)==null?void 0:x.offsetLeft)||0);a.current&&(a.current.scrollLeft=c-(g-o)*1.5)};return r.jsx("div",{ref:a,className:xe("overflow-x-hidden whitespace-nowrap cursor-grab active:cursor-grabbing select-none",s),onMouseDown:h,onMouseLeave:()=>i(!1),onMouseUp:()=>i(!1),onMouseMove:m,children:r.jsxs("div",{className:"inline-flex items-center",children:[e,e,e]})})};function rGe(){const[e,t]=f.useState(()=>localStorage.getItem("darkMode")==="true"),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,b]=f.useState(!0),w=ts(),{scrollYProgress:v}=H2e(),S=K2e(v,{stiffness:100,damping:30}),j=A=>{A.preventDefault(),x(!0)},k=()=>{x(!1),w("/login")};f.useEffect(()=>{const A=()=>p(window.scrollY>50);return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]),f.useEffect(()=>{e?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),localStorage.setItem("darkMode",String(e))},[e]),f.useEffect(()=>{(async()=>{const E=[{id:"smartline",name:"Smart Line",nameAr:" ",logo:"/partners/smartline-logo.png",description:"",descriptionAr:" "},{id:"asus",name:"ASUS",nameAr:"",logo:"/partners/asus-logo.png",description:"",descriptionAr:" "}],D=[{id:"free",code:"FREE",name:"Free",nameAr:"",description:"",descriptionAr:"",price:"0",currency:"$",billingCycle:"monthly",features:["10 "," "," "," "],featuresAr:["10 "," "," "," "],limits:{products:10,orders:100,storage:1,staff:1,customDomains:0},isPopular:!1,sortOrder:1},{id:"pro",code:"PRO",name:"Professional",nameAr:"",description:"",descriptionAr:"",price:"29",currency:"$",billingCycle:"monthly",features:["  "," "," ","  "," "],featuresAr:["  "," "," ","  "," "],limits:{products:1e6,orders:1e6,storage:100,staff:5,customDomains:1},isPopular:!0,sortOrder:2},{id:"enterprise",code:"ENTERPRISE",name:"Enterprise",nameAr:"",description:"",descriptionAr:"",price:"99",currency:"$",billingCycle:"monthly",features:["  "," API"," "," "," SLA"],featuresAr:["  "," API"," "," "," SLA"],limits:{products:1e6,orders:1e6,storage:1e3,staff:50,customDomains:10},isPopular:!1,sortOrder:3}],T={stores:"10,000+",orders:"500,000+",products:"1.2M+",uptime:"99.9%",support:"24/7"},P=[{id:"1",name:" ",nameEn:"",role:" ",roleEn:"",content:"    .     !",contentEn:"",rating:5},{id:"2",name:" ",nameEn:"",role:" ",roleEn:"",content:"      .",contentEn:"",rating:5},{id:"3",name:" ",nameEn:"",role:" ",roleEn:"",content:"   .     .",contentEn:"",rating:5}];try{const[_,O,M,I]=await Promise.all([L1.getPartners().catch(()=>[]),L1.getPlans().catch(()=>[]),L1.getStats().catch(()=>null),L1.getTestimonials(10).catch(()=>[])]);a(E),i(O.length>0?O:D),l(M||T),d(I.length>0?I:P)}catch{a(E),i(D),l(T),d(P)}})()},[]);const N=o||{stores:"+10,000",orders:"+50M",uptime:"99.9%",support:"24/7"},C=[{icon:op,title:"  ",description:"        .",className:"md:col-span-2"},{icon:tl,title:" ",description:"      .",className:""},{icon:Ua,title:" ",description:"      .",className:""},{icon:Ya,title:" ",description:"       .",className:"md:col-span-2"},{icon:zn,title:" ",description:"      .",className:""},{icon:sa,title:" ",description:"      SSL .",className:""}];return r.jsxs("div",{dir:"rtl",className:xe("min-h-screen flex flex-col transition-colors duration-500 font-sans selection:bg-primary/30",e?"bg-background text-foreground":"bg-white text-gray-900"),children:[r.jsx("style",{children:"@keyframes gradient-x{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}.animate-gradient-x{background-size:200% 200%;animation:gradient-x 3s ease infinite}@keyframes pulse-slow{0%,100%{opacity:0.5}50%{opacity:0.8}}.animate-pulse-slow{animation:pulse-slow 4s ease-in-out infinite}"}),g&&r.jsx(J2e,{onFinish:k}),r.jsx(Me.div,{className:"fixed top-0 left-0 right-0 h-1 bg-primary z-[100] origin-right",style:{scaleX:S}}),r.jsx("nav",{className:xe("fixed top-0 left-0 right-0 z-50 transition-all duration-500",m?"bg-background/95 backdrop-blur-xl border-b border-border shadow-lg":"bg-transparent"),children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsxs(tt,{to:"/",className:"flex items-center gap-3 group",children:[r.jsx(Me.div,{animate:{y:[0,-3,0]},transition:{duration:3,repeat:1/0},className:"relative p-1.5 rounded-xl bg-card border border-border group-hover:border-primary/50 transition-colors",children:r.jsx("img",{src:sl(),alt:"Saeaa",className:"h-14 w-auto"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xl font-bold tracking-tight text-foreground",children:"Saeaa"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]}),r.jsx("div",{className:"hidden md:flex items-center gap-8",children:[{label:"",href:"#features"},{label:"",href:"#pricing"},{label:" ",href:"#testimonials"}].map(A=>r.jsx("a",{href:A.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:A.label},A.href))}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:e?r.jsx(Jd,{className:"w-5 h-5"}):r.jsx(ad,{className:"w-5 h-5"})}),r.jsx(tt,{to:"/login",className:"hidden sm:block text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:" "}),r.jsxs(tt,{to:"/register",onClick:j,className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-primary to-secondary text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all",children:[" ",r.jsx(El,{className:"w-4 h-4"})]}),r.jsx("button",{onClick:()=>h(!u),className:"md:hidden p-2 text-muted-foreground",children:u?r.jsx(jr,{className:"w-6 h-6"}):r.jsx(sh,{className:"w-6 h-6"})})]})]})})}),r.jsx(Wn,{children:u&&r.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"fixed top-20 left-0 right-0 z-40 bg-background/98 backdrop-blur-xl border-b border-border md:hidden overflow-hidden",children:r.jsxs("div",{className:"p-4 space-y-4",children:[[{label:"",href:"#features"},{label:"",href:"#pricing"},{label:" ",href:"#testimonials"}].map(A=>r.jsx("a",{href:A.href,onClick:()=>h(!1),className:"block text-lg font-medium py-2 text-muted-foreground hover:text-primary transition-colors",children:A.label},A.href)),r.jsxs("div",{className:"pt-4 border-t border-border space-y-3",children:[r.jsx(tt,{to:"/login",className:"block w-full text-center py-3 rounded-xl bg-muted text-muted-foreground font-medium",children:" "}),r.jsx(tt,{to:"/register",onClick:A=>{h(!1),j(A)},className:"block w-full text-center py-3 rounded-xl bg-gradient-to-r from-primary to-secondary text-white font-bold",children:" "})]})]})})}),r.jsxs("main",{className:"flex-grow",children:[r.jsxs("section",{className:"relative pt-32 pb-32 overflow-hidden min-h-screen flex items-center bg-gradient-to-b from-transparent to-muted/50",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx(Me.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:8,repeat:1/0},className:"absolute top-20 right-20 w-72 h-96 bg-gradient-to-br from-primary/10 to-secondary/10 rounded-3xl backdrop-blur-3xl border border-primary/20 transform rotate-12"}),r.jsx(Me.div,{animate:{y:[0,20,0],rotate:[0,-5,0]},transition:{duration:10,repeat:1/0},className:"absolute bottom-20 left-20 w-80 h-80 bg-gradient-to-br from-secondary/10 to-accent/10 rounded-3xl backdrop-blur-3xl border border-secondary/20 transform -rotate-12"}),r.jsxs("div",{className:"absolute inset-0 opacity-30",children:[r.jsx("div",{className:"absolute top-1/4 right-1/4 w-[400px] h-[400px] bg-primary/20 rounded-full blur-[100px]"}),r.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-[350px] h-[350px] bg-secondary/20 rounded-full blur-[100px]"})]})]}),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs(Me.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-right space-y-8",children:[r.jsxs(Me.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-gradient-to-r from-card/80 to-card/60 border border-primary/30 backdrop-blur-xl shadow-xl",children:[r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),r.jsx("span",{className:"text-sm font-bold text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:"   "})]}),r.jsxs(Me.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-relaxed",children:[r.jsxs("span",{className:"block text-gray-900 dark:text-white mb-2",children:[" ",r.jsx("span",{className:"text-primary",children:""})]}),r.jsx("span",{className:"block text-gray-900 dark:text-white mb-2",children:""}),r.jsx("span",{className:"block text-secondary pt-4",children:""})]}),r.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"p-6 rounded-2xl bg-card/50 backdrop-blur-xl border border-border shadow-lg",children:r.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"        .       ."})}),r.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row items-center justify-end gap-4 pt-4",children:r.jsxs(tt,{to:"/register",onClick:j,className:"group min-w-[220px] h-16 flex items-center justify-center gap-3 bg-gradient-to-r from-primary via-secondary to-primary text-white rounded-2xl font-bold text-lg shadow-2xl shadow-primary/40 hover:shadow-primary/60 hover:scale-105 transition-all duration-500 animate-gradient-x relative overflow-hidden",children:[r.jsx("span",{className:"relative z-10",children:"  "}),r.jsx(El,{className:"relative z-10 w-5 h-5 group-hover:-translate-x-2 transition-transform"})]})})]}),r.jsxs(Me.div,{initial:{opacity:0,scale:.8,x:20},animate:{opacity:1,scale:1,x:0},transition:{duration:1,delay:.3},className:"relative flex items-center justify-center lg:justify-end min-h-[500px]",style:{perspective:"1000px"},children:[r.jsx(Me.div,{initial:{y:20,rotateY:-5},animate:{y:[0,-10,0]},transition:{y:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"relative z-10 w-full max-w-[650px] lg:max-w-[750px]",children:r.jsx(bke,{children:r.jsx(Q7,{isDark:e})})}),r.jsx(Me.div,{initial:{y:50,x:-20,opacity:0},animate:{y:0,x:0,opacity:1},transition:{delay:.8,duration:.8},className:"absolute -bottom-4 -right-2 md:-right-12 z-20",children:r.jsx(wke,{children:r.jsx(Q7,{mobile:!0,isDark:e})})}),r.jsx(Me.div,{animate:{y:[-15,15,-15],rotate:[0,10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-12 right-12 w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center shadow-2xl shadow-primary/40 z-30",children:r.jsx(bs,{className:"w-8 h-8 text-white"})}),r.jsx(Me.div,{animate:{y:[15,-15,15],rotate:[0,-10,0]},transition:{duration:5,repeat:1/0},className:"absolute -bottom-6 -left-6 w-16 h-16 bg-gradient-to-br from-secondary to-accent rounded-xl flex items-center justify-center shadow-2xl shadow-secondary/40",children:r.jsx(cp,{className:"w-8 h-8 text-white"})})]})]})})]}),r.jsx("section",{className:"py-24 bg-gradient-to-b from-muted/50 to-background",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:"  "}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["   ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""})]})]}),r.jsxs(Me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 via-secondary/20 to-primary/20 rounded-3xl blur-2xl opacity-50 group-hover:opacity-75 transition-opacity"}),r.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-border shadow-2xl bg-card",children:[r.jsxs("div",{className:"bg-muted px-4 py-3 flex items-center gap-3 border-b border-border",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-background rounded-lg px-4 py-1.5 text-xs text-muted-foreground text-center",children:"your-store.saeaa.com"})})]}),r.jsxs("div",{className:"relative group/video aspect-video",children:[r.jsx("video",{src:"https://res.cloudinary.com/purplecards/video/upload/v1766391136/InShot_20251222_100910381_mulske.mp4",autoPlay:!0,loop:!0,muted:y,playsInline:!0,className:"w-full h-full object-cover"}),r.jsx("button",{onClick:()=>b(!y),className:"absolute bottom-4 right-4 z-30 px-4 py-2 rounded-full bg-black/70 backdrop-blur-md text-white border border-white/20 hover:bg-black/90 transition-all opacity-0 group-hover/video:opacity-100 flex items-center gap-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx(lK,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold",children:" "})]}):r.jsxs(r.Fragment,{children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold",children:""})]})})]})]})]}),r.jsx(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"flex justify-center gap-8 mt-12",children:[{value:"20 ",label:"  "},{value:"0 ",label:" "},{value:"100%",label:" "}].map((A,E)=>r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:A.value}),r.jsx("p",{className:"text-sm text-muted-foreground",children:A.label})]},E))})]})]})}),r.jsxs("section",{className:"py-24 relative overflow-hidden bg-card",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:"absolute top-0 left-1/4 w-[400px] h-[400px] bg-primary/20 rounded-full blur-[150px] animate-pulse-slow"})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider",children:" "}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:"   "})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{label:" ",value:N.stores,icon:xs},{label:" ",value:N.orders,icon:Dt},{label:" ",value:N.uptime,icon:zn},{label:" ",value:N.support,icon:sa}].map((A,E)=>r.jsxs(Me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.1},className:"text-center group",children:[r.jsxs("div",{className:"relative inline-block mb-6",children:[r.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl scale-150 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-primary/20 to-secondary/20 border border-primary/20 flex items-center justify-center mx-auto group-hover:border-primary/40 transition-colors",children:r.jsx(A.icon,{className:"w-7 h-7 text-primary"})})]}),r.jsx("h3",{className:"text-4xl md:text-5xl font-black mb-3 text-foreground",dir:"ltr",children:A.value}),r.jsx("p",{className:"text-muted-foreground font-medium text-lg",children:A.label})]},E))})]})]}),r.jsxs("section",{id:"features",className:"py-32 relative bg-gradient-to-b from-muted/50 via-background to-muted/50 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-30",children:r.jsx("div",{className:"absolute top-1/3 right-1/4 w-[300px] h-[300px] bg-primary/30 rounded-full blur-[100px]"})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx(Me.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"inline-block text-primary font-bold text-sm tracking-wider mb-4 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:"    "}),r.jsxs("h2",{className:"text-5xl md:text-6xl font-black mb-6",children:[" ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""})]}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"       "})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((A,E)=>r.jsx(Jqe,{icon:A.icon,title:A.title,description:A.description,className:A.className,delay:E*.1},E))})]})]}),r.jsxs("section",{id:"pricing",className:"py-28 relative overflow-hidden bg-card",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/10 rounded-full blur-[150px] animate-pulse-slow"})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:" "}),r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:"    "})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map(A=>r.jsx(Zqe,{plan:A,onStart:j},A.id))})]})]}),r.jsx("section",{className:"py-28 relative overflow-hidden bg-background",children:r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:""}),r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:" "})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:s.map((A,E)=>r.jsx(Me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.2},className:"group",children:r.jsxs("div",{className:"relative h-full rounded-3xl p-8 flex flex-col items-center text-center bg-card border border-border hover:border-primary/30 transition-all",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary/10 to-secondary/10 border border-primary/20 p-4 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500",children:r.jsx("img",{src:A.logo,alt:A.name,className:"w-full h-full object-contain"})}),r.jsxs("h3",{className:"text-xl font-bold mb-3",children:[A.name," - ",A.nameAr]}),r.jsx("p",{className:"text-muted-foreground",children:A.descriptionAr})]})},A.id))})]})}),r.jsx(eGe,{testimonials:c}),r.jsxs("section",{className:"py-28 relative overflow-hidden bg-card",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 rounded-full blur-[150px]"})}),r.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[r.jsx(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-6",children:r.jsx("span",{className:"text-primary font-bold text-sm tracking-wider",children:"    !"})}),r.jsx(Me.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl lg:text-6xl font-black mb-6 text-foreground",children:"    "}),r.jsx(Me.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg md:text-xl text-muted-foreground mb-10",children:"         ."}),r.jsx(Me.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3},children:r.jsxs(tt,{to:"/register",onClick:j,className:"inline-flex items-center gap-3 bg-gradient-to-r from-primary to-secondary text-white px-10 py-4 rounded-xl font-bold text-lg shadow-2xl shadow-primary/30 hover:shadow-primary/50 hover:scale-105 transition-all duration-300",children:["  ",r.jsx(cp,{className:"w-5 h-5"})]})})]})]}),r.jsx("section",{className:"py-16 bg-background border-t border-border",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"  "}),r.jsx("p",{className:"text-muted-foreground",children:"    "})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{icon:sa,title:" SSL",desc:" "},{icon:zn,title:" ",desc:"  "},{icon:$2,title:" 24/7",desc:"  "},{icon:hf,title:" ",desc:" 99.9%"}].map((A,E)=>r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.1},className:"text-center group",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-primary/10 to-secondary/10 border border-primary/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(A.icon,{className:"w-8 h-8 text-primary"})}),r.jsx("h4",{className:"font-bold mb-1",children:A.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:A.desc})]},E))})]})}),r.jsxs("section",{className:"py-12 border-t border-border bg-card overflow-hidden",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-8 text-center",children:r.jsx("h3",{className:"text-lg font-semibold text-muted-foreground",children:"   "})}),r.jsx("div",{dir:"ltr",children:r.jsx(tGe,{speed:.8,className:"py-4",children:[{id:"mada",c:r.jsx("div",{className:"h-12 px-6 bg-blue-600 text-white font-bold rounded-lg flex items-center italic tracking-widest shadow-sm",children:"mada"})},{id:"visa",c:r.jsx("div",{className:"h-12 px-2 text-blue-800 font-black text-4xl italic flex items-center tracking-tighter",children:"VISA"})},{id:"mc",c:r.jsxs("div",{className:"flex items-center relative w-16 h-10",children:[r.jsx("div",{className:"absolute left-0 w-10 h-10 bg-[#EB001B] rounded-full opacity-90"}),r.jsx("div",{className:"absolute right-0 w-10 h-10 bg-[#FF5F00] rounded-full opacity-90 mix-blend-multiply"})]})},{id:"apple",c:r.jsx("div",{className:"h-12 px-4 bg-black text-white rounded-lg flex items-center gap-1 font-medium shadow-sm",children:" Pay"})},{id:"stc",c:r.jsx("div",{className:"h-12 px-4 text-[#4F008C] font-bold text-2xl flex items-center",children:"stc pay"})},{id:"tabby",c:r.jsx("div",{className:"h-12 px-4 bg-[#3EEDBF] text-black font-bold text-xl rounded-full flex items-center shadow-sm",children:"tabby"})},{id:"tamara",c:r.jsx("div",{className:"h-12 px-4 bg-[#E6B658] text-black font-bold text-xl rounded-full flex items-center shadow-sm",children:"tamara"})}].map((A,E)=>r.jsx("div",{className:"inline-flex items-center justify-center mx-8 min-w-[100px] grayscale opacity-70 hover:grayscale-0 hover:opacity-100 transition-all duration-300 hover:scale-110 cursor-pointer",children:A.c},E))})})]})]}),r.jsxs("footer",{className:"bg-card border-t border-border py-16 text-right relative overflow-hidden mt-auto",children:[r.jsx("div",{className:"absolute inset-0 opacity-20",children:r.jsx("div",{className:"absolute top-0 right-1/4 w-[300px] h-[300px] bg-primary/10 rounded-full blur-[100px]"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsxs(tt,{to:"/",className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 rounded-xl bg-muted border border-border",children:r.jsx("img",{src:sl(),alt:"Saeaa",className:"h-10 w-auto"})}),r.jsx("span",{className:"text-2xl font-bold text-foreground",children:"Saeaa"})]}),r.jsx("p",{className:"text-muted-foreground max-w-md leading-relaxed",children:"             ."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-6 text-foreground",children:""}),r.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[r.jsx("li",{children:r.jsx("a",{href:"#features",className:"hover:text-primary transition-colors",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"#pricing",className:"hover:text-primary transition-colors",children:""})}),r.jsx("li",{children:r.jsx("a",{href:"#testimonials",className:"hover:text-primary transition-colors",children:" "})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-6 text-foreground",children:""}),r.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[r.jsx("li",{children:r.jsx(tt,{to:"/about",className:"hover:text-primary transition-colors",children:" "})}),r.jsx("li",{children:r.jsx(tt,{to:"/contact",className:"hover:text-primary transition-colors",children:" "})}),r.jsx("li",{children:r.jsx(tt,{to:"/privacy",className:"hover:text-primary transition-colors",children:" "})})]})]})]}),r.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Saeaa - .   ."}),r.jsx(Mp,{})]})]})]}),r.jsx($3,{}),r.jsx(OC,{context:{currentPage:"landing"}})]})}function hre({state:e,className:t}){const[s,a]=f.useState({x:0,y:0});f.useEffect(()=>{const u=h=>{const m=h.clientX/window.innerWidth*2-1,p=h.clientY/window.innerHeight*2-1;a({x:m,y:p})};return window.addEventListener("mousemove",u),()=>window.removeEventListener("mousemove",u)},[]);const n={body:"#1a1a1a",highlight:"#333333",eye:"#00E5FF",eyeHappy:"#00FF99",eyeSad:"#FF3366",blush:"#FF6699"},i={neutral:{y:0,scale:1,rotate:0,transition:{duration:.5,type:"spring"}},attention:{scale:1.05,y:5,rotate:0,transition:{duration:.3}},happy:{y:[0,-15,0],rotate:[0,-5,5,0],scale:1.1,transition:{y:{repeat:1/0,duration:.6,ease:"easeInOut"},rotate:{repeat:1/0,duration:1,ease:"easeInOut"}}},sad:{x:[-5,5,-5,5,0],rotate:[-2,2,-2,2,0],y:5,transition:{duration:.4}},excited:{scale:[1,1.05,1],transition:{repeat:1/0,duration:.4}},sleeping:{y:0,scale:1,rotate:0,transition:{duration:.3}}},o={neutral:{d:"M 0 0 C 0 -10 20 -10 20 0 C 20 10 0 10 0 0",scaleY:1,fill:n.eye,stroke:"none",strokeWidth:0},attention:{d:"M 0 0 C 0 -5 20 -5 20 0 C 20 5 0 5 0 0",scaleY:.8,fill:n.eye,stroke:"none",strokeWidth:0},happy:{d:"M 0 5 Q 10 -5 20 5",scaleY:1,fill:"rgba(0,0,0,0)",stroke:n.eyeHappy,strokeWidth:4},sad:{d:"M 0 5 L 20 0 L 20 5 L 0 10 Z",scaleY:1,fill:n.eyeSad,stroke:"none",strokeWidth:0},excited:{d:"M 0 -2 L 20 -2 L 20 18 L 0 18 Z",scaleY:1,fill:n.eye,stroke:"none",strokeWidth:0},sleeping:{d:"M 0 0 L 20 0",scaleY:1,fill:"rgba(0,0,0,0)",stroke:n.eye,strokeWidth:3}},l=e==="neutral"||e==="excited"||e==="attention"?s.x*8:0,c=e==="neutral"||e==="excited"||e==="attention"?s.y*8:0,d=e==="sleeping";return r.jsx(Me.div,{className:`w-32 h-32 mx-auto relative ${t}`,animate:e,variants:i,children:r.jsxs("svg",{viewBox:"0 0 140 140",className:"w-full h-full drop-shadow-2xl",children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"bodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#404040"}),r.jsx("stop",{offset:"100%",stopColor:"#101010"})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),r.jsx("rect",{x:"20",y:"20",width:"100",height:"100",rx:"25",fill:"url(#bodyGradient)",stroke:"#555",strokeWidth:"1"}),r.jsx("path",{d:"M 30 30 Q 70 30 110 30",stroke:"white",strokeWidth:"2",strokeLinecap:"round",opacity:"0.2"}),r.jsxs("g",{transform:`translate(${l}, ${c})`,children:[r.jsx("g",{transform:"translate(45, 60)",children:r.jsx(Me.path,{initial:"neutral",variants:o,animate:e,filter:"url(#glow)"})}),r.jsx("g",{transform:"translate(75, 60)",children:r.jsx(Me.path,{initial:"neutral",variants:o,animate:e,filter:"url(#glow)"})}),r.jsx("g",{transform:"translate(70, 85)",children:r.jsx(Me.path,{initial:"neutral",animate:e,variants:{neutral:{d:"M -10 0 Q 0 5 10 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"},attention:{d:"M -5 0 L 5 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"},happy:{d:"M -15 -5 Q 0 15 15 -5",stroke:n.eyeHappy,strokeWidth:3,fill:"rgba(0,0,0,0)"},sad:{d:"M -10 5 Q 0 -5 10 5",stroke:n.eyeSad,strokeWidth:2,fill:"rgba(0,0,0,0)"},excited:{d:"M -10 0 Q 0 15 10 0 Z",stroke:"none",strokeWidth:0,fill:n.eye},sleeping:{d:"M -8 0 Q 0 3 8 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"}},strokeLinecap:"round"})}),d&&r.jsxs(r.Fragment,{children:[r.jsx(Me.rect,{x:"40",y:"50",width:"25",height:"20",rx:"3",fill:"#555",opacity:"0.8",initial:{opacity:0,y:-10},animate:{opacity:.8,y:0},transition:{duration:.3}}),r.jsx(Me.rect,{x:"75",y:"50",width:"25",height:"20",rx:"3",fill:"#555",opacity:"0.8",initial:{opacity:0,y:-10},animate:{opacity:.8,y:0},transition:{duration:.3}})]}),r.jsxs(Me.g,{initial:{opacity:0},animate:{opacity:e==="happy"||e==="excited"?.6:0},children:[r.jsx("circle",{cx:"35",cy:"75",r:"5",fill:n.blush,filter:"blur(2px)"}),r.jsx("circle",{cx:"105",cy:"75",r:"5",fill:n.blush,filter:"blur(2px)"})]})]})]})})}var sGe="Separator",J7="horizontal",aGe=["horizontal","vertical"],mre=f.forwardRef((e,t)=>{const{decorative:s,orientation:a=J7,...n}=e,i=nGe(a)?a:J7,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Bt.div,{"data-orientation":i,...l,...n,ref:t})});mre.displayName=sGe;function nGe(e){return aGe.includes(e)}var fre=mre;const Js=f.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},n)=>r.jsx(fre,{ref:n,decorative:s,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Js.displayName=fre.displayName;const v4=["localhost","127.0.0.1","www.saeaa.com","saeaa.com","app.saeaa.com","www.saeaa.net","saeaa.net","app.saeaa.net"],RA=()=>{const e=window.location.hostname;return v4.includes(e)?!0:!(e.includes(".localhost")||(e.endsWith(".saeaa.com")||e.endsWith(".saeaa.net"))&&!v4.includes(e)||!v4.includes(e)&&e!=="localhost"&&e!=="127.0.0.1")};function Z7(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),n=Gn(),{login:i,loginWithTokens:o}=$s(),{toast:l}=Lt(),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,b]=f.useState(sl()),[w,v]=f.useState(ai),[S,j]=f.useState(pi),[k,N]=f.useState(G_),[C,A]=f.useState(K_),[E,D]=f.useState("excited"),[T,P]=f.useState(!1),[_,O]=f.useState(!1);f.useEffect(()=>{E==="happy"||E==="sad"||D(_?"sleeping":T?"attention":"excited")},[T,_,E]);const[M,I]=f.useState(!1),[R,L]=f.useState(""),[K,H]=f.useState(""),[F,G]=f.useState(null);f.useEffect(()=>{(async()=>{if(!RA())try{const ie=await fe.get("/site-config");ie!=null&&ie.settings&&(ie.settings.storeLogoUrl&&b(ie.settings.storeLogoUrl),ie.settings.storeName&&(v(ie.settings.storeName),j(ie.settings.storeName)),ie.settings.description&&(N(ie.settings.description),A(ie.settings.description)))}catch(ie){console.error("Failed to fetch site config:",ie)}})()},[]);const U=z=>ie=>{z(ie.target.value)},W=async z=>{z.preventDefault(),x(!0);try{if(await i(c,u)){l({title:s?"  ":"Login successful",description:s?"    ":"Please change your password to continue"}),a("/auth/change-password",{replace:!0});return}setTimeout(()=>{const re=localStorage.getItem("user"),q=re?JSON.parse(re):null,se=(q==null?void 0:q.tenantId)&&q.tenantId!=="default"&&q.tenantId!==null;l({title:e("common.success"),description:se?"    ":" !    "}),setTimeout(()=>{var de;const B=n.state,oe=(de=B==null?void 0:B.from)==null?void 0:de.pathname;oe&&!oe.includes("/login")&&!oe.includes("/auth/")?a(oe,{replace:!0}):a(se?"/dashboard":"/setup")},500)},100)}catch(ie){console.error("Login failed:",ie)}finally{x(!1)}},J=async()=>{if(!R){l({variant:"destructive",title:s?" ":"Required Information",description:s?"    ":"Please enter your recovery ID to continue"});return}x(!0);try{const z=await eo.recoverEmail(R);G(z.maskedEmail),l({title:s?"   ":"Account Found",description:s?`  : ${z.maskedEmail}`:`Associated email: ${z.maskedEmail}`})}catch(z){console.error("Email recovery failed:",z)}finally{x(!1)}};return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),r.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),r.jsx("div",{className:"relative z-10",children:r.jsxs(tt,{to:"/",className:"inline-flex flex-col gap-4 group",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:r.jsx("img",{src:y,alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-4xl font-heading font-bold text-white",children:w}),r.jsx("p",{className:"text-xl font-semibold text-white/80",children:S})]})]}),r.jsxs("p",{className:"text-white/70 text-sm",children:[k," | ",C]})]})}),r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:[" !",r.jsx("br",{}),"  "]}),r.jsx("p",{className:"text-xl text-white/90",children:"     "}),r.jsxs("div",{className:"space-y-4 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:"    "})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:"  "})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:"   24/7"})]})]})]}),r.jsx("div",{className:"relative z-10 text-white/50 text-sm",children:e("landing.footer.copyright")})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-background relative",children:r.jsxs("div",{className:"w-full max-w-md space-y-6",children:[r.jsxs(tt,{to:"/",className:"lg:hidden flex flex-col items-center gap-3 mb-8 group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:r.jsx("img",{src:y,alt:`${S} - ${w}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-3xl font-heading font-bold gradient-text",children:w}),r.jsx("p",{className:"text-lg font-semibold text-primary",children:S})]})]}),r.jsxs("p",{className:"text-muted-foreground text-xs text-center",children:[k," | ",C]})]}),r.jsxs(we,{className:"shadow-2xl border-border/50 bg-card/50 backdrop-blur-sm",children:[r.jsxs(st,{className:"space-y-2 text-center pb-6",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(hre,{state:E,className:"transform hover:scale-105 transition-transform"})}),r.jsx(it,{className:"text-3xl font-heading font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:M?" ":" "}),r.jsx(Kt,{className:"text-base text-muted-foreground",children:M?"     ":"    "})]}),r.jsx(Se,{className:"space-y-5",children:M?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"recoveryId",className:"text-sm font-medium",children:"  | Recovery ID"}),r.jsxs("div",{className:"relative",children:[r.jsx(Du,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"recoveryId",type:"text",placeholder:"XXXX-XXXX-XXXX-XXXX",value:R,onChange:U(L),className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary font-mono text-center tracking-wider"})]})]}),!F&&r.jsx(V,{type:"button",onClick:J,disabled:g||!R,className:"w-full h-11 gradient-primary",children:g?r.jsx(Je,{className:"h-5 w-5 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:"  "})]})}),F&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-xl p-4 text-center",children:[r.jsx("p",{className:"text-sm text-success mb-1",children:"    !"}),r.jsx("p",{className:"text-lg font-mono font-bold text-success dir-ltr",children:F})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(V,{type:"button",onClick:async()=>{x(!0);try{await eo.sendResetByRecoveryId(R),l({title:" !",description:"         "})}catch(z){const{title:ie,description:re}=Wo(z,{operation:s?"":"send",resource:s?"  ":"reset link"},s);l({variant:"destructive",title:ie,description:re})}finally{x(!1)}},disabled:g,className:"w-full h-11 bg-success hover:bg-success/90",children:g?r.jsx(Je,{className:"h-5 w-5 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(ba,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:"    "})]})}),r.jsxs(V,{type:"button",variant:"outline",onClick:()=>{I(!1),d(F.replace("***","")),l({title:"  ",description:"      "})},className:"w-full h-11",children:[r.jsx(B2,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:"  "})]})]})]})]}),r.jsx("div",{className:"text-center pt-2",children:r.jsxs("button",{type:"button",onClick:()=>{I(!1),L(""),H(""),G(null)},className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center justify-center gap-2 mx-auto",children:[r.jsx(El,{className:"w-4 h-4"}),"   "]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx(Js,{})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:e("common.or","OR")})})]}),r.jsxs("form",{onSubmit:W,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"identifier",className:"text-sm font-semibold",children:e("auth.login.emailOrUsername","    ")}),r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),r.jsx(pe,{id:"identifier",type:"text",placeholder:"name@example.com or username",value:c,onChange:U(d),onFocus:()=>P(!0),onBlur:()=>P(!1),required:!0,className:"h-12 pr-10 border-2 border-border focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"password",className:"text-sm font-semibold",children:e("auth.login.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),r.jsx(pe,{id:"password",type:m?"text":"password",value:u,onChange:U(h),onFocus:()=>O(!0),onBlur:()=>O(!1),required:!0,autoComplete:"current-password",className:"h-12 pl-10 pr-10 border-2 border-border focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"}),r.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors p-1",children:m?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-1",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-2 border-border text-primary focus:ring-2 focus:ring-primary/20 transition-all group-hover:border-primary"}),r.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:""})]}),r.jsx(tt,{to:"/auth/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-semibold transition-colors hover:underline",children:"  "})]}),r.jsx(V,{type:"submit",className:"w-full h-12 gradient-primary font-semibold text-base shadow-lg hover:shadow-xl transition-all mt-6",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:e("common.loading")})]}):r.jsxs(r.Fragment,{children:[r.jsx(B2,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:" "}),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})})]}),r.jsx("div",{className:"text-center pt-3",children:r.jsxs("button",{type:"button",onClick:()=>I(!0),className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center justify-center gap-2 mx-auto hover:underline",children:[r.jsx(Du,{className:"w-4 h-4"}),"     "]})})]})}),r.jsxs(ah,{className:"flex flex-col gap-3 pt-4",children:[r.jsx(Js,{}),r.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["  "," ",r.jsx(tt,{to:"/register",className:"text-primary hover:text-primary/80 font-semibold hover:underline transition-colors",children:"  "})]})]})]})]})})]})}function eV(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),{toast:n}=Lt(),{loginWithTokens:i}=$s(),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(""),[g,x]=f.useState(!1),[y,b]=f.useState("excited"),[w,v]=f.useState(!1),[S,j]=f.useState(!1),[k,N]=f.useState(!1),[C,A]=f.useState(0),[E,D]=f.useState(null),[T,P]=f.useState(!1),[_,O]=f.useState(!1),[M,I]=f.useState(!1),[R,L]=f.useState(""),[K,H]=f.useState(!1),[F,G]=f.useState("");f.useEffect(()=>{if(!u){A(0);return}let oe=0;u.length>=6&&(oe+=25),u.length>=10&&(oe+=25),/[a-z]/.test(u)&&/[A-Z]/.test(u)&&(oe+=25),/[0-9]/.test(u)&&(oe+=15),/[^a-zA-Z0-9]/.test(u)&&(oe+=10),A(Math.min(oe,100))},[u]),f.useEffect(()=>{y==="happy"||y==="sad"||b(k?"sleeping":w?"attention":"excited")},[w,k,y]);const U=oe=>de=>{oe(de.target.value),y==="sad"&&b("attention")},W=()=>C<40?"bg-destructive":C<70?"bg-warning":"bg-success",J=()=>C<40?e("auth.signup.passwordWeak","Weak"):C<70?e("auth.signup.passwordMedium","Medium"):e("auth.signup.passwordStrong","Strong"),z=async oe=>{if(oe.preventDefault(),!o||!o.trim()){n({title:s?" ":"Required Field",description:s?" ":"Name is required",variant:"destructive"});return}if(!m||!m.trim()){n({title:s?" ":"Required Field",description:s?"     ":"National ID or Passport ID is required",variant:"destructive"});return}const de=[];if(u.length<8&&de.push(s?"     8   ":"Password must be at least 8 characters"),/[A-Z]/.test(u)||de.push(s?"     ":"Must contain an uppercase letter"),/[a-z]/.test(u)||de.push(s?"     ":"Must contain a lowercase letter"),/\d/.test(u)||de.push(s?"    ":"Must contain a number"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(u)||de.push(s?"      (!@#$%^&*)":"Must contain a special character (!@#$%^&*)"),de.length>0){n({title:s?"  ":"Weak Password",description:de.join(". "),variant:"destructive"});return}x(!0);try{const Te=await eo.signup({name:o,email:c,password:u,nationalId:m});b("happy"),G(c),Te.recoveryId&&D(Te.recoveryId),Te.verificationCodeSent||n({title:s?"":"Warning",description:s?"       .        .":"Verification code may not have been sent. Please check your email or contact support.",variant:"destructive"});const He=Te;Te.verificationCodeSent||He.emailVerified===!1||He.verificationCode?I(!0):He.recoveryId?(D(He.recoveryId),P(!0)):(n({title:e("common.success"),description:e("auth.signup.success","Account created successfully! Redirecting...")}),setTimeout(()=>{a("/login")},1500))}catch(Te){b("sad"),console.error("Signup failed:",Te)}finally{x(!1)}},ie=()=>{E&&(navigator.clipboard.writeText(E),O(!0),n({title:" ! | Copied!",description:"      | Recovery ID copied to clipboard"}),setTimeout(()=>O(!1),2e3))},re=()=>{if(E){const oe=`Recovery ID |  

${E}

Please keep this ID in a safe place. You can use it to recover your account if you forget your email or it gets compromised.

      .           .

Generated: ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"long"})}`,de=new Blob([oe],{type:"text/plain;charset=utf-8"}),Te=URL.createObjectURL(de),He=document.createElement("a");He.href=Te,He.download=`recovery-id-${E.substring(0,8)}.txt`,document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(Te),n({title:" ! | Downloaded!",description:"    | Recovery ID downloaded"}),O(!0)}},q=()=>{P(!1),localStorage.removeItem("setupPending"),n({title:e("common.success"),description:s?"    .  !":"Account and store created successfully! Welcome!"}),setTimeout(()=>{},1e3)},se=async()=>{if(!R||R.length!==6){n({variant:"destructive",title:"",description:"      6 "});return}H(!0);try{console.log(" ANTIGRAVITY AUTH ACTIVE - Verifying OTP...");const oe=await eo.verifyEmail(F,R);if(oe.valid&&oe.tokens){console.log("Verify email result:",oe),console.log("User data from verify:",oe.user);const de=oe.user?{id:oe.user.id,email:oe.user.email,name:oe.user.name,role:oe.user.role,tenantId:oe.user.tenantId}:void 0;await i(oe.tokens.accessToken,oe.tokens.refreshToken,de),I(!1);const Te=oe.setupPending===!0,He=oe.tenantId;oe.recoveryId?(D(oe.recoveryId),P(!0),Te?localStorage.setItem("setupPending","true"):localStorage.removeItem("setupPending")):He&&!Te?(n({title:"  !",description:"    .  !"}),setTimeout(()=>{a("/dashboard")},1e3)):(n({title:"  !",description:"    .  !"}),setTimeout(()=>{a("/dashboard")},1e3))}else{console.warn("Verify email result (valid=false):",oe);const{title:de,description:Te}=Wo({message:oe.message||"Verification code is invalid"},{operation:s?"":"verify",resource:s?" ":"email"},s);n({variant:"destructive",title:de,description:Te})}}catch(oe){console.error("Verification failed:",oe)}finally{H(!1)}},B=async()=>{H(!0);try{await eo.resendVerificationCode(F),n({title:" !",description:"       "}),L("")}catch(oe){console.error("Resend failed:",oe)}finally{H(!1)}};return r.jsxs(r.Fragment,{children:[T&&E&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-scale-in",children:[r.jsxs("div",{className:"gradient-primary p-6 text-white text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(sa,{className:"w-8 h-8"})}),r.jsx("h2",{className:"text-2xl font-heading font-bold",children:"  "}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Secret Recovery ID"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Du,{className:"w-5 h-5 text-warning mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-warning",children:[r.jsx("p",{className:"font-semibold mb-1",children:" ! Important!"}),r.jsx("p",{children:"     .           ."}),r.jsx("p",{className:"mt-1 text-xs opacity-80",children:"Save this ID in a safe place. Use it to recover your account if you forget your email or it gets compromised."})]})]})}),r.jsx("div",{className:"bg-muted rounded-xl p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"  | Recovery ID"}),r.jsx("p",{className:"text-2xl font-mono font-bold text-primary tracking-wider",children:E})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx(V,{onClick:ie,variant:"outline",className:"flex-1 h-12",children:_?r.jsxs(r.Fragment,{children:[r.jsx(va,{className:"w-4 h-4 ml-2 text-success"})," "]}):r.jsxs(r.Fragment,{children:[r.jsx(sc,{className:"w-4 h-4 ml-2"})," "]})}),r.jsxs(V,{onClick:re,variant:"outline",className:"flex-1 h-12",children:[r.jsx(xn,{className:"w-4 h-4 ml-2"})," "]})]}),r.jsxs(V,{onClick:q,className:"w-full h-12 gradient-primary",disabled:!_,children:["",r.jsx(ma,{className:"w-4 h-4 mr-2"})]})]}),!_&&r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"       | Please copy or download the ID before continuing"})]})]})}),M&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:oe=>{oe.target===oe.currentTarget&&I(!1)},children:r.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-scale-in",children:[r.jsxs("div",{className:"gradient-primary p-6 text-white text-center relative",children:[r.jsx("button",{onClick:()=>I(!1),className:"absolute top-4 left-4 p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":"",children:r.jsx(jr,{className:"w-5 h-5"})}),r.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(Cn,{className:"w-8 h-8"})}),r.jsx("h2",{className:"text-2xl font-heading font-bold",children:"   "}),r.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Email Verification"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ba,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-primary",children:[r.jsx("p",{className:"font-semibold mb-1",children:"   "}),r.jsx("p",{children:"      6  :"}),r.jsx("p",{className:"font-mono font-bold mt-1",children:F})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"otp",className:"text-sm font-medium",children:"  | Verification Code"}),r.jsx(pe,{id:"otp",type:"text",placeholder:"123456",value:R,onChange:oe=>{const de=oe.target.value.replace(/\D/g,"").slice(0,6);L(de)},className:"h-12 text-center text-2xl font-mono tracking-widest",maxLength:6,disabled:K}),r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"     6 "})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{onClick:se,className:"w-full h-12 gradient-primary",disabled:K||R.length!==6,children:K?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 ml-2 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:["",r.jsx(ma,{className:"w-4 h-4 mr-2"})]})}),r.jsx(V,{onClick:B,variant:"outline",className:"w-full h-12",disabled:K,children:K?r.jsx(Je,{className:"w-4 h-4 ml-2 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(ba,{className:"w-4 h-4 ml-2"}),"  "]})}),r.jsxs(V,{onClick:()=>{I(!1),L("")},variant:"ghost",className:"w-full h-12 text-muted-foreground hover:text-foreground",disabled:K,children:[r.jsx(jr,{className:"w-4 h-4 ml-2"}),""]})]})]})]})}),r.jsxs("div",{className:"min-h-screen flex relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),r.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),r.jsx("div",{className:"relative z-10",children:r.jsxs(tt,{to:"/",className:"inline-flex flex-col gap-4 group",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-28 h-28 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:r.jsx("img",{src:sl(),alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-4xl font-heading font-bold text-white",children:ai}),r.jsx("p",{className:"text-xl font-semibold text-white/80",children:pi})]})]}),r.jsxs("p",{className:"text-white/70 text-sm",children:[G_," | ",K_]})]})}),r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:[e("landing.hero.title"),r.jsx("br",{}),e("landing.hero.titleHighlight")]}),r.jsx("p",{className:"text-xl text-white/90",children:e("landing.hero.subtitle")}),r.jsxs("div",{className:"space-y-4 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:e("landing.hero.readyIn5")})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:e("landing.hero.support247")})]})]})]}),r.jsx("div",{className:"relative z-10 text-white/50 text-sm",children:e("landing.footer.copyright")})]}),r.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-background",children:[r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs(tt,{to:"/",className:"lg:hidden flex flex-col items-center gap-3 mb-8 group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:r.jsx("img",{src:sl(),alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h1",{className:"text-3xl font-heading font-bold gradient-text",children:ai}),r.jsx("p",{className:"text-lg font-semibold text-primary",children:pi})]})]}),r.jsxs("p",{className:"text-muted-foreground text-xs text-center",children:[G_," | ",K_]})]}),r.jsxs(we,{className:"shadow-xl border-border/50",children:[r.jsxs(st,{className:"space-y-1 text-center pb-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(hre,{state:y,className:"transform hover:scale-105 transition-transform"})}),r.jsx(it,{className:"text-2xl font-heading font-bold",children:e("auth.signup.title")}),r.jsx(Kt,{className:"text-base",children:e("landing.hero.subtitle")})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx(Js,{})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:e("common.or","OR")})})]}),r.jsxs("form",{onSubmit:z,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"name",className:"text-sm font-medium",children:e("auth.signup.name","Full Name")}),r.jsxs("div",{className:"relative",children:[r.jsx(ao,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"name",placeholder:e("auth.signup.namePlaceholder","John Doe"),value:o,onChange:U(l),onFocus:()=>v(!0),onBlur:()=>v(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"nationalId",className:"text-sm font-medium",children:[s?"  /  ":"National ID / Passport ID"," *"]}),r.jsxs("div",{className:"relative",children:[r.jsx(sa,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"nationalId",placeholder:s?"    ":"National ID or Passport ID",value:m,onChange:U(p),onFocus:()=>v(!0),onBlur:()=>v(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",className:"text-sm font-medium",children:e("auth.login.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"email",type:"email",placeholder:"name@example.com",value:c,onChange:U(d),onFocus:()=>v(!0),onBlur:()=>v(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"password",className:"text-sm font-medium",children:e("auth.login.password")}),r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"password",type:S?"text":"password",value:u,onChange:U(h),onFocus:()=>{v(!0),N(!0)},onBlur:()=>{v(!1),N(!1)},required:!0,minLength:6,className:"h-11 px-10 border-border focus:border-primary focus:ring-primary"}),r.jsx("button",{type:"button",onClick:()=>j(!S),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:S?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]}),u&&r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("auth.signup.passwordStrength","Password Strength"),":"]}),r.jsx("span",{className:`font-semibold ${C<40?"text-destructive":C<70?"text-warning":"text-success"}`,children:J()})]}),r.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${W()}`,style:{width:`${C}%`}})})]})]}),r.jsx(V,{type:"submit",className:"w-full h-11 gradient-primary font-medium shadow-md hover:shadow-lg transition-all mt-6",disabled:g,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:e("common.loading")})]}):r.jsxs(r.Fragment,{children:[r.jsx(zd,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:e("auth.signup.button")}),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})})]}),r.jsxs("p",{className:"text-xs text-center text-muted-foreground px-4 pt-2",children:[e("auth.signup.termsAgreement","By creating an account, you agree to our")," ",r.jsx(tt,{to:"/terms",className:"text-primary hover:underline",children:e("landing.footer.links.terms")})," ",e("common.and","and")," ",r.jsx(tt,{to:"/privacy",className:"text-primary hover:underline",children:e("landing.footer.links.privacy")})]})]}),r.jsxs(ah,{className:"flex flex-col gap-4 pt-2",children:[r.jsx(Js,{}),r.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[e("auth.signup.haveAccount")," ",r.jsx(tt,{to:"/login",className:"text-primary hover:text-primary/80 font-semibold hover:underline",children:e("auth.signup.loginLink")})]})]})]})]}),r.jsx(Mp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-background"})]})]})]})}var Rj=e=>e.type==="checkbox",Of=e=>e instanceof Date,fo=e=>e==null;const pre=e=>typeof e=="object";var Pn=e=>!fo(e)&&!Array.isArray(e)&&pre(e)&&!Of(e),xre=e=>Pn(e)&&e.target?Rj(e.target)?e.target.checked:e.target.value:e,iGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gre=(e,t)=>e.has(iGe(t)),oGe=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},GR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qn(e){let t;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(GR&&(e instanceof Blob||a))&&(s||Pn(e)))if(t=s?[]:{},!s&&!oGe(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Qn(e[n]));else return e;return t}var MA=e=>/^\w*$/.test(e),Nn=e=>e===void 0,KR=e=>Array.isArray(e)?e.filter(Boolean):[],YR=e=>KR(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ht=(e,t,s)=>{if(!t||!Pn(e))return s;const a=(MA(t)?[t]:YR(t)).reduce((n,i)=>fo(n)?n:n[i],e);return Nn(a)||a===e?Nn(e[t])?s:e[t]:a},hl=e=>typeof e=="boolean",oa=(e,t,s)=>{let a=-1;const n=MA(t)?[t]:YR(t),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let c=s;if(a!==o){const d=e[l];c=Pn(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ik={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XR=ae.createContext(null);XR.displayName="HookFormContext";const FA=()=>ae.useContext(XR),lGe=e=>{const{children:t,...s}=e;return ae.createElement(XR.Provider,{value:s},t)};var vre=(e,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Gc.all&&(t._proxyFormState[o]=!a||Gc.all),s&&(s[o]=!0),e[o]}});return n};const QR=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function cGe(e){const t=FA(),{control:s=t.control,disabled:a,name:n,exact:i}=e||{},[o,l]=ae.useState(s._formState),c=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return QR(()=>s._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!a&&l({...s._formState,...d})}}),[n,a,i]),ae.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),ae.useMemo(()=>vre(o,s,c.current,!1),[o,s])}var Ld=e=>typeof e=="string",yre=(e,t,s,a,n)=>Ld(e)?(a&&t.watch.add(e),Ht(s,e,n)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),Ht(s,i))):(a&&(t.watchAll=!0),s),CD=e=>fo(e)||!pre(e);function Su(e,t,s=new WeakSet){if(CD(e)||CD(t))return e===t;if(Of(e)&&Of(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of a){const o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Of(o)&&Of(l)||Pn(o)&&Pn(l)||Array.isArray(o)&&Array.isArray(l)?!Su(o,l,s):o!==l)return!1}}return!0}function dGe(e){const t=FA(),{control:s=t.control,name:a,defaultValue:n,disabled:i,exact:o,compute:l}=e||{},c=ae.useRef(n),d=ae.useRef(l),u=ae.useRef(void 0);d.current=l;const h=ae.useMemo(()=>s._getWatch(a,c.current),[s,a]),[m,p]=ae.useState(d.current?d.current(h):h);return QR(()=>s._subscribe({name:a,formState:{values:!0},exact:o,callback:g=>{if(!i){const x=yre(a,s._names,g.values||s._formValues,!1,c.current);if(d.current){const y=d.current(x);Su(y,u.current)||(p(y),u.current=y)}else p(x)}}}),[s,i,a,o]),ae.useEffect(()=>s._removeUnmounted()),m}function uGe(e){const t=FA(),{name:s,disabled:a,control:n=t.control,shouldUnregister:i,defaultValue:o}=e,l=gre(n._names.array,s),c=ae.useMemo(()=>Ht(n._formValues,s,Ht(n._defaultValues,s,o)),[n,s,o]),d=dGe({control:n,name:s,defaultValue:c,exact:!0}),u=cGe({control:n,name:s,exact:!0}),h=ae.useRef(e),m=ae.useRef(n.register(s,{...e.rules,value:d,...hl(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ht(u.errors,s)},isDirty:{enumerable:!0,get:()=>!!Ht(u.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Ht(u.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Ht(u.validatingFields,s)},error:{enumerable:!0,get:()=>Ht(u.errors,s)}}),[u,s]),g=ae.useCallback(w=>m.current.onChange({target:{value:xre(w),name:s},type:ik.CHANGE}),[s]),x=ae.useCallback(()=>m.current.onBlur({target:{value:Ht(n._formValues,s),name:s},type:ik.BLUR}),[s,n._formValues]),y=ae.useCallback(w=>{const v=Ht(n._fields,s);v&&w&&(v._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[n._fields,s]),b=ae.useMemo(()=>({name:s,value:d,...hl(a)||u.disabled?{disabled:u.disabled||a}:{},onChange:g,onBlur:x,ref:y}),[s,a,u.disabled,g,x,y,d]);return ae.useEffect(()=>{const w=n._options.shouldUnregister||i;n.register(s,{...h.current.rules,...hl(h.current.disabled)?{disabled:h.current.disabled}:{}});const v=(S,j)=>{const k=Ht(n._fields,S);k&&k._f&&(k._f.mount=j)};if(v(s,!0),w){const S=Qn(Ht(n._options.defaultValues,s));oa(n._defaultValues,s,S),Nn(Ht(n._formValues,s))&&oa(n._formValues,s,S)}return!l&&n.register(s),()=>{(l?w&&!n._state.action:w)?n.unregister(s):v(s,!1)}},[s,n,l,i]),ae.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),ae.useMemo(()=>({field:b,formState:u,fieldState:p}),[b,u,p])}const hGe=e=>e.render(uGe(e));var bre=(e,t,s,a,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:n||!0}}:{},Qy=e=>Array.isArray(e)?e:[e],tV=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},Fo=e=>Pn(e)&&!Object.keys(e).length,JR=e=>e.type==="file",Kc=e=>typeof e=="function",ok=e=>{if(!GR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wre=e=>e.type==="select-multiple",ZR=e=>e.type==="radio",mGe=e=>ZR(e)||Rj(e),y4=e=>ok(e)&&e.isConnected;function fGe(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=Nn(e)?a++:e[t[a++]];return e}function pGe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nn(e[t]))return!1;return!0}function Mn(e,t){const s=Array.isArray(t)?t:MA(t)?[t]:YR(t),a=s.length===1?e:fGe(e,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(Pn(a)&&Fo(a)||Array.isArray(a)&&pGe(a))&&Mn(e,s.slice(0,-1)),e}var jre=e=>{for(const t in e)if(Kc(e[t]))return!0;return!1};function lk(e,t={}){const s=Array.isArray(e);if(Pn(e)||s)for(const a in e)Array.isArray(e[a])||Pn(e[a])&&!jre(e[a])?(t[a]=Array.isArray(e[a])?[]:{},lk(e[a],t[a])):fo(e[a])||(t[a]=!0);return t}function Nre(e,t,s){const a=Array.isArray(e);if(Pn(e)||a)for(const n in e)Array.isArray(e[n])||Pn(e[n])&&!jre(e[n])?Nn(t)||CD(s[n])?s[n]=Array.isArray(e[n])?lk(e[n],[]):{...lk(e[n])}:Nre(e[n],fo(t)?{}:t[n],s[n]):s[n]=!Su(e[n],t[n]);return s}var Qv=(e,t)=>Nre(e,t,lk(t));const rV={value:!1,isValid:!1},sV={value:!0,isValid:!0};var Sre=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nn(e[0].attributes.value)?Nn(e[0].value)||e[0].value===""?sV:{value:e[0].value,isValid:!0}:sV:rV}return rV},kre=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>Nn(e)?e:t?e===""?NaN:e&&+e:s&&Ld(e)?new Date(e):a?a(e):e;const aV={isValid:!1,value:null};var Cre=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,aV):aV;function nV(e){const t=e.ref;return JR(t)?t.files:ZR(t)?Cre(e.refs).value:wre(t)?[...t.selectedOptions].map(({value:s})=>s):Rj(t)?Sre(e.refs).value:kre(Nn(t.value)?e.ref.value:t.value,e)}var xGe=(e,t,s,a)=>{const n={};for(const i of e){const o=Ht(t,i);o&&oa(n,i,o._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}},ck=e=>e instanceof RegExp,Jv=e=>Nn(e)?e:ck(e)?e.source:Pn(e)?ck(e.value)?e.value.source:e.value:e,iV=e=>({isOnSubmit:!e||e===Gc.onSubmit,isOnBlur:e===Gc.onBlur,isOnChange:e===Gc.onChange,isOnAll:e===Gc.all,isOnTouch:e===Gc.onTouched});const oV="AsyncFunction";var gGe=e=>!!e&&!!e.validate&&!!(Kc(e.validate)&&e.validate.constructor.name===oV||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===oV)),vGe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lV=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Jy=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const i=Ht(e,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(Jy(l,t))break}else if(Pn(l)&&Jy(l,t))break}}};function cV(e,t,s){const a=Ht(e,s);if(a||MA(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=Ht(t,i),l=Ht(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:s}}var yGe=(e,t,s,a)=>{s(e);const{name:n,...i}=e;return Fo(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||Gc.all))},bGe=(e,t,s)=>!e||!t||e===t||Qy(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),wGe=(e,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:(s?a.isOnChange:n.isOnChange)?e:!0,jGe=(e,t)=>!KR(Ht(e,t)).length&&Mn(e,t),NGe=(e,t,s)=>{const a=Qy(Ht(e,s));return oa(a,"root",t[s]),oa(e,s,a),e},o2=e=>Ld(e);function dV(e,t,s="validate"){if(o2(e)||Array.isArray(e)&&e.every(o2)||hl(e)&&!e)return{type:s,message:o2(e)?e:"",ref:t}}var xx=e=>Pn(e)&&!ck(e)?e:{value:e,message:""},uV=async(e,t,s,a,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:g,name:x,valueAsNumber:y,mount:b}=e._f,w=Ht(s,x);if(!b||t.has(x))return{};const v=l?l[0]:o,S=T=>{n&&v.reportValidity&&(v.setCustomValidity(hl(T)?"":T||""),v.reportValidity())},j={},k=ZR(o),N=Rj(o),C=k||N,A=(y||JR(o))&&Nn(o.value)&&Nn(w)||ok(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,E=bre.bind(null,x,a,j),D=(T,P,_,O=vu.maxLength,M=vu.minLength)=>{const I=T?P:_;j[x]={type:T?O:M,message:I,ref:o,...E(T?O:M,I)}};if(i?!Array.isArray(w)||!w.length:c&&(!C&&(A||fo(w))||hl(w)&&!w||N&&!Sre(l).isValid||k&&!Cre(l).isValid)){const{value:T,message:P}=o2(c)?{value:!!c,message:c}:xx(c);if(T&&(j[x]={type:vu.required,message:P,ref:v,...E(vu.required,P)},!a))return S(P),j}if(!A&&(!fo(h)||!fo(m))){let T,P;const _=xx(m),O=xx(h);if(!fo(w)&&!isNaN(w)){const M=o.valueAsNumber||w&&+w;fo(_.value)||(T=M>_.value),fo(O.value)||(P=M<O.value)}else{const M=o.valueAsDate||new Date(w),I=K=>new Date(new Date().toDateString()+" "+K),R=o.type=="time",L=o.type=="week";Ld(_.value)&&w&&(T=R?I(w)>I(_.value):L?w>_.value:M>new Date(_.value)),Ld(O.value)&&w&&(P=R?I(w)<I(O.value):L?w<O.value:M<new Date(O.value))}if((T||P)&&(D(!!T,_.message,O.message,vu.max,vu.min),!a))return S(j[x].message),j}if((d||u)&&!A&&(Ld(w)||i&&Array.isArray(w))){const T=xx(d),P=xx(u),_=!fo(T.value)&&w.length>+T.value,O=!fo(P.value)&&w.length<+P.value;if((_||O)&&(D(_,T.message,P.message),!a))return S(j[x].message),j}if(p&&!A&&Ld(w)){const{value:T,message:P}=xx(p);if(ck(T)&&!w.match(T)&&(j[x]={type:vu.pattern,message:P,ref:o,...E(vu.pattern,P)},!a))return S(P),j}if(g){if(Kc(g)){const T=await g(w,s),P=dV(T,v);if(P&&(j[x]={...P,...E(vu.validate,P.message)},!a))return S(P.message),j}else if(Pn(g)){let T={};for(const P in g){if(!Fo(T)&&!a)break;const _=dV(await g[P](w,s),v,P);_&&(T={..._,...E(P,_.message)},S(_.message),a&&(j[x]=T))}if(!Fo(T)&&(j[x]={ref:v,...T},!a))return j}}return S(!0),j};const SGe={mode:Gc.onSubmit,reValidateMode:Gc.onChange,shouldFocusError:!0};function kGe(e={}){let t={...SGe,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=Pn(t.defaultValues)||Pn(t.values)?Qn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Qn(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:tV(),state:tV()},p=t.criteriaMode===Gc.all,g=ce=>Ee=>{clearTimeout(d),d=setTimeout(ce,Ee)},x=async ce=>{if(!t.disabled&&(u.isValid||h.isValid||ce)){const Ee=t.resolver?Fo((await N()).errors):await A(a,!0);Ee!==s.isValid&&m.state.next({isValid:Ee})}},y=(ce,Ee)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((ce||Array.from(l.mount)).forEach(Pe=>{Pe&&(Ee?oa(s.validatingFields,Pe,Ee):Mn(s.validatingFields,Pe))}),m.state.next({validatingFields:s.validatingFields,isValidating:!Fo(s.validatingFields)}))},b=(ce,Ee=[],Pe,$e,We=!0,Xe=!0)=>{if($e&&Pe&&!t.disabled){if(o.action=!0,Xe&&Array.isArray(Ht(a,ce))){const Ce=Pe(Ht(a,ce),$e.argA,$e.argB);We&&oa(a,ce,Ce)}if(Xe&&Array.isArray(Ht(s.errors,ce))){const Ce=Pe(Ht(s.errors,ce),$e.argA,$e.argB);We&&oa(s.errors,ce,Ce),jGe(s.errors,ce)}if((u.touchedFields||h.touchedFields)&&Xe&&Array.isArray(Ht(s.touchedFields,ce))){const Ce=Pe(Ht(s.touchedFields,ce),$e.argA,$e.argB);We&&oa(s.touchedFields,ce,Ce)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Qv(n,i)),m.state.next({name:ce,isDirty:D(ce,Ee),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else oa(i,ce,Ee)},w=(ce,Ee)=>{oa(s.errors,ce,Ee),m.state.next({errors:s.errors})},v=ce=>{s.errors=ce,m.state.next({errors:s.errors,isValid:!1})},S=(ce,Ee,Pe,$e)=>{const We=Ht(a,ce);if(We){const Xe=Ht(i,ce,Nn(Pe)?Ht(n,ce):Pe);Nn(Xe)||$e&&$e.defaultChecked||Ee?oa(i,ce,Ee?Xe:nV(We._f)):_(ce,Xe),o.mount&&x()}},j=(ce,Ee,Pe,$e,We)=>{let Xe=!1,Ce=!1;const Ye={name:ce};if(!t.disabled){if(!Pe||$e){(u.isDirty||h.isDirty)&&(Ce=s.isDirty,s.isDirty=Ye.isDirty=D(),Xe=Ce!==Ye.isDirty);const ft=Su(Ht(n,ce),Ee);Ce=!!Ht(s.dirtyFields,ce),ft?Mn(s.dirtyFields,ce):oa(s.dirtyFields,ce,!0),Ye.dirtyFields=s.dirtyFields,Xe=Xe||(u.dirtyFields||h.dirtyFields)&&Ce!==!ft}if(Pe){const ft=Ht(s.touchedFields,ce);ft||(oa(s.touchedFields,ce,Pe),Ye.touchedFields=s.touchedFields,Xe=Xe||(u.touchedFields||h.touchedFields)&&ft!==Pe)}Xe&&We&&m.state.next(Ye)}return Xe?Ye:{}},k=(ce,Ee,Pe,$e)=>{const We=Ht(s.errors,ce),Xe=(u.isValid||h.isValid)&&hl(Ee)&&s.isValid!==Ee;if(t.delayError&&Pe?(c=g(()=>w(ce,Pe)),c(t.delayError)):(clearTimeout(d),c=null,Pe?oa(s.errors,ce,Pe):Mn(s.errors,ce)),(Pe?!Su(We,Pe):We)||!Fo($e)||Xe){const Ce={...$e,...Xe&&hl(Ee)?{isValid:Ee}:{},errors:s.errors,name:ce};s={...s,...Ce},m.state.next(Ce)}},N=async ce=>{y(ce,!0);const Ee=await t.resolver(i,t.context,xGe(ce||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return y(ce),Ee},C=async ce=>{const{errors:Ee}=await N(ce);if(ce)for(const Pe of ce){const $e=Ht(Ee,Pe);$e?oa(s.errors,Pe,$e):Mn(s.errors,Pe)}else s.errors=Ee;return Ee},A=async(ce,Ee,Pe={valid:!0})=>{for(const $e in ce){const We=ce[$e];if(We){const{_f:Xe,...Ce}=We;if(Xe){const Ye=l.array.has(Xe.name),ft=We._f&&gGe(We._f);ft&&u.validatingFields&&y([$e],!0);const Pt=await uV(We,l.disabled,i,p,t.shouldUseNativeValidation&&!Ee,Ye);if(ft&&u.validatingFields&&y([$e]),Pt[Xe.name]&&(Pe.valid=!1,Ee))break;!Ee&&(Ht(Pt,Xe.name)?Ye?NGe(s.errors,Pt,Xe.name):oa(s.errors,Xe.name,Pt[Xe.name]):Mn(s.errors,Xe.name))}!Fo(Ce)&&await A(Ce,Ee,Pe)}}return Pe.valid},E=()=>{for(const ce of l.unMount){const Ee=Ht(a,ce);Ee&&(Ee._f.refs?Ee._f.refs.every(Pe=>!y4(Pe)):!y4(Ee._f.ref))&&z(ce)}l.unMount=new Set},D=(ce,Ee)=>!t.disabled&&(ce&&Ee&&oa(i,ce,Ee),!Su(K(),n)),T=(ce,Ee,Pe)=>yre(ce,l,{...o.mount?i:Nn(Ee)?n:Ld(ce)?{[ce]:Ee}:Ee},Pe,Ee),P=ce=>KR(Ht(o.mount?i:n,ce,t.shouldUnregister?Ht(n,ce,[]):[])),_=(ce,Ee,Pe={})=>{const $e=Ht(a,ce);let We=Ee;if($e){const Xe=$e._f;Xe&&(!Xe.disabled&&oa(i,ce,kre(Ee,Xe)),We=ok(Xe.ref)&&fo(Ee)?"":Ee,wre(Xe.ref)?[...Xe.ref.options].forEach(Ce=>Ce.selected=We.includes(Ce.value)):Xe.refs?Rj(Xe.ref)?Xe.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(We)?Ce.checked=!!We.find(Ye=>Ye===Ce.value):Ce.checked=We===Ce.value||!!We)}):Xe.refs.forEach(Ce=>Ce.checked=Ce.value===We):JR(Xe.ref)?Xe.ref.value="":(Xe.ref.value=We,Xe.ref.type||m.state.next({name:ce,values:Qn(i)})))}(Pe.shouldDirty||Pe.shouldTouch)&&j(ce,We,Pe.shouldTouch,Pe.shouldDirty,!0),Pe.shouldValidate&&L(ce)},O=(ce,Ee,Pe)=>{for(const $e in Ee){if(!Ee.hasOwnProperty($e))return;const We=Ee[$e],Xe=ce+"."+$e,Ce=Ht(a,Xe);(l.array.has(ce)||Pn(We)||Ce&&!Ce._f)&&!Of(We)?O(Xe,We,Pe):_(Xe,We,Pe)}},M=(ce,Ee,Pe={})=>{const $e=Ht(a,ce),We=l.array.has(ce),Xe=Qn(Ee);oa(i,ce,Xe),We?(m.array.next({name:ce,values:Qn(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Pe.shouldDirty&&m.state.next({name:ce,dirtyFields:Qv(n,i),isDirty:D(ce,Xe)})):$e&&!$e._f&&!fo(Xe)?O(ce,Xe,Pe):_(ce,Xe,Pe),lV(ce,l)&&m.state.next({...s,name:ce}),m.state.next({name:o.mount?ce:void 0,values:Qn(i)})},I=async ce=>{o.mount=!0;const Ee=ce.target;let Pe=Ee.name,$e=!0;const We=Ht(a,Pe),Xe=ft=>{$e=Number.isNaN(ft)||Of(ft)&&isNaN(ft.getTime())||Su(ft,Ht(i,Pe,ft))},Ce=iV(t.mode),Ye=iV(t.reValidateMode);if(We){let ft,Pt;const vt=Ee.type?nV(We._f):xre(ce),Qt=ce.type===ik.BLUR||ce.type===ik.FOCUS_OUT,br=!vGe(We._f)&&!t.resolver&&!Ht(s.errors,Pe)&&!We._f.deps||wGe(Qt,Ht(s.touchedFields,Pe),s.isSubmitted,Ye,Ce),$t=lV(Pe,l,Qt);oa(i,Pe,vt),Qt?(We._f.onBlur&&We._f.onBlur(ce),c&&c(0)):We._f.onChange&&We._f.onChange(ce);const qt=j(Pe,vt,Qt),Ts=!Fo(qt)||$t;if(!Qt&&m.state.next({name:Pe,type:ce.type,values:Qn(i)}),br)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Qt&&x():Qt||x()),Ts&&m.state.next({name:Pe,...$t?{}:qt});if(!Qt&&$t&&m.state.next({...s}),t.resolver){const{errors:Ie}=await N([Pe]);if(Xe(vt),$e){const rs=cV(s.errors,a,Pe),Zs=cV(Ie,a,rs.name||Pe);ft=Zs.error,Pe=Zs.name,Pt=Fo(Ie)}}else y([Pe],!0),ft=(await uV(We,l.disabled,i,p,t.shouldUseNativeValidation))[Pe],y([Pe]),Xe(vt),$e&&(ft?Pt=!1:(u.isValid||h.isValid)&&(Pt=await A(a,!0)));$e&&(We._f.deps&&L(We._f.deps),k(Pe,Pt,ft,qt))}},R=(ce,Ee)=>{if(Ht(s.errors,Ee)&&ce.focus)return ce.focus(),1},L=async(ce,Ee={})=>{let Pe,$e;const We=Qy(ce);if(t.resolver){const Xe=await C(Nn(ce)?ce:We);Pe=Fo(Xe),$e=ce?!We.some(Ce=>Ht(Xe,Ce)):Pe}else ce?($e=(await Promise.all(We.map(async Xe=>{const Ce=Ht(a,Xe);return await A(Ce&&Ce._f?{[Xe]:Ce}:Ce)}))).every(Boolean),!(!$e&&!s.isValid)&&x()):$e=Pe=await A(a);return m.state.next({...!Ld(ce)||(u.isValid||h.isValid)&&Pe!==s.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:Pe}:{},errors:s.errors}),Ee.shouldFocus&&!$e&&Jy(a,R,ce?We:l.mount),$e},K=ce=>{const Ee={...o.mount?i:n};return Nn(ce)?Ee:Ld(ce)?Ht(Ee,ce):ce.map(Pe=>Ht(Ee,Pe))},H=(ce,Ee)=>({invalid:!!Ht((Ee||s).errors,ce),isDirty:!!Ht((Ee||s).dirtyFields,ce),error:Ht((Ee||s).errors,ce),isValidating:!!Ht(s.validatingFields,ce),isTouched:!!Ht((Ee||s).touchedFields,ce)}),F=ce=>{ce&&Qy(ce).forEach(Ee=>Mn(s.errors,Ee)),m.state.next({errors:ce?s.errors:{}})},G=(ce,Ee,Pe)=>{const $e=(Ht(a,ce,{_f:{}})._f||{}).ref,We=Ht(s.errors,ce)||{},{ref:Xe,message:Ce,type:Ye,...ft}=We;oa(s.errors,ce,{...ft,...Ee,ref:$e}),m.state.next({name:ce,errors:s.errors,isValid:!1}),Pe&&Pe.shouldFocus&&$e&&$e.focus&&$e.focus()},U=(ce,Ee)=>Kc(ce)?m.state.subscribe({next:Pe=>"values"in Pe&&ce(T(void 0,Ee),Pe)}):T(ce,Ee,!0),W=ce=>m.state.subscribe({next:Ee=>{bGe(ce.name,Ee.name,ce.exact)&&yGe(Ee,ce.formState||u,Oe,ce.reRenderRoot)&&ce.callback({values:{...i},...s,...Ee,defaultValues:n})}}).unsubscribe,J=ce=>(o.mount=!0,h={...h,...ce.formState},W({...ce,formState:h})),z=(ce,Ee={})=>{for(const Pe of ce?Qy(ce):l.mount)l.mount.delete(Pe),l.array.delete(Pe),Ee.keepValue||(Mn(a,Pe),Mn(i,Pe)),!Ee.keepError&&Mn(s.errors,Pe),!Ee.keepDirty&&Mn(s.dirtyFields,Pe),!Ee.keepTouched&&Mn(s.touchedFields,Pe),!Ee.keepIsValidating&&Mn(s.validatingFields,Pe),!t.shouldUnregister&&!Ee.keepDefaultValue&&Mn(n,Pe);m.state.next({values:Qn(i)}),m.state.next({...s,...Ee.keepDirty?{isDirty:D()}:{}}),!Ee.keepIsValid&&x()},ie=({disabled:ce,name:Ee})=>{(hl(ce)&&o.mount||ce||l.disabled.has(Ee))&&(ce?l.disabled.add(Ee):l.disabled.delete(Ee))},re=(ce,Ee={})=>{let Pe=Ht(a,ce);const $e=hl(Ee.disabled)||hl(t.disabled);return oa(a,ce,{...Pe||{},_f:{...Pe&&Pe._f?Pe._f:{ref:{name:ce}},name:ce,mount:!0,...Ee}}),l.mount.add(ce),Pe?ie({disabled:hl(Ee.disabled)?Ee.disabled:t.disabled,name:ce}):S(ce,!0,Ee.value),{...$e?{disabled:Ee.disabled||t.disabled}:{},...t.progressive?{required:!!Ee.required,min:Jv(Ee.min),max:Jv(Ee.max),minLength:Jv(Ee.minLength),maxLength:Jv(Ee.maxLength),pattern:Jv(Ee.pattern)}:{},name:ce,onChange:I,onBlur:I,ref:We=>{if(We){re(ce,Ee),Pe=Ht(a,ce);const Xe=Nn(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,Ce=mGe(Xe),Ye=Pe._f.refs||[];if(Ce?Ye.find(ft=>ft===Xe):Xe===Pe._f.ref)return;oa(a,ce,{_f:{...Pe._f,...Ce?{refs:[...Ye.filter(y4),Xe,...Array.isArray(Ht(n,ce))?[{}]:[]],ref:{type:Xe.type,name:ce}}:{ref:Xe}}}),S(ce,!1,void 0,Xe)}else Pe=Ht(a,ce,{}),Pe._f&&(Pe._f.mount=!1),(t.shouldUnregister||Ee.shouldUnregister)&&!(gre(l.array,ce)&&o.action)&&l.unMount.add(ce)}}},q=()=>t.shouldFocusError&&Jy(a,R,l.mount),se=ce=>{hl(ce)&&(m.state.next({disabled:ce}),Jy(a,(Ee,Pe)=>{const $e=Ht(a,Pe);$e&&(Ee.disabled=$e._f.disabled||ce,Array.isArray($e._f.refs)&&$e._f.refs.forEach(We=>{We.disabled=$e._f.disabled||ce}))},0,!1))},B=(ce,Ee)=>async Pe=>{let $e;Pe&&(Pe.preventDefault&&Pe.preventDefault(),Pe.persist&&Pe.persist());let We=Qn(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Xe,values:Ce}=await N();s.errors=Xe,We=Qn(Ce)}else await A(a);if(l.disabled.size)for(const Xe of l.disabled)Mn(We,Xe);if(Mn(s.errors,"root"),Fo(s.errors)){m.state.next({errors:{}});try{await ce(We,Pe)}catch(Xe){$e=Xe}}else Ee&&await Ee({...s.errors},Pe),q(),setTimeout(q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fo(s.errors)&&!$e,submitCount:s.submitCount+1,errors:s.errors}),$e)throw $e},oe=(ce,Ee={})=>{Ht(a,ce)&&(Nn(Ee.defaultValue)?M(ce,Qn(Ht(n,ce))):(M(ce,Ee.defaultValue),oa(n,ce,Qn(Ee.defaultValue))),Ee.keepTouched||Mn(s.touchedFields,ce),Ee.keepDirty||(Mn(s.dirtyFields,ce),s.isDirty=Ee.defaultValue?D(ce,Qn(Ht(n,ce))):D()),Ee.keepError||(Mn(s.errors,ce),u.isValid&&x()),m.state.next({...s}))},de=(ce,Ee={})=>{const Pe=ce?Qn(ce):n,$e=Qn(Pe),We=Fo(ce),Xe=We?n:$e;if(Ee.keepDefaultValues||(n=Pe),!Ee.keepValues){if(Ee.keepDirtyValues){const Ce=new Set([...l.mount,...Object.keys(Qv(n,i))]);for(const Ye of Array.from(Ce))Ht(s.dirtyFields,Ye)?oa(Xe,Ye,Ht(i,Ye)):M(Ye,Ht(Xe,Ye))}else{if(GR&&Nn(ce))for(const Ce of l.mount){const Ye=Ht(a,Ce);if(Ye&&Ye._f){const ft=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(ok(ft)){const Pt=ft.closest("form");if(Pt){Pt.reset();break}}}}if(Ee.keepFieldsRef)for(const Ce of l.mount)M(Ce,Ht(Xe,Ce));else a={}}i=t.shouldUnregister?Ee.keepDefaultValues?Qn(n):{}:Qn(Xe),m.array.next({values:{...Xe}}),m.state.next({values:{...Xe}})}l={mount:Ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Ee.keepIsValid||!!Ee.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:Ee.keepSubmitCount?s.submitCount:0,isDirty:We?!1:Ee.keepDirty?s.isDirty:!!(Ee.keepDefaultValues&&!Su(ce,n)),isSubmitted:Ee.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:We?{}:Ee.keepDirtyValues?Ee.keepDefaultValues&&i?Qv(n,i):s.dirtyFields:Ee.keepDefaultValues&&ce?Qv(n,ce):Ee.keepDirty?s.dirtyFields:{},touchedFields:Ee.keepTouched?s.touchedFields:{},errors:Ee.keepErrors?s.errors:{},isSubmitSuccessful:Ee.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Te=(ce,Ee)=>de(Kc(ce)?ce(i):ce,Ee),He=(ce,Ee={})=>{const Pe=Ht(a,ce),$e=Pe&&Pe._f;if($e){const We=$e.refs?$e.refs[0]:$e.ref;We.focus&&(We.focus(),Ee.shouldSelect&&Kc(We.select)&&We.select())}},Oe=ce=>{s={...s,...ce}},Ue={control:{register:re,unregister:z,getFieldState:H,handleSubmit:B,setError:G,_subscribe:W,_runSchema:N,_focusError:q,_getWatch:T,_getDirty:D,_setValid:x,_setFieldArray:b,_setDisabledField:ie,_setErrors:v,_getFieldArray:P,_reset:de,_resetDefaultValues:()=>Kc(t.defaultValues)&&t.defaultValues().then(ce=>{Te(ce,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:se,_subjects:m,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(ce){o=ce},get _defaultValues(){return n},get _names(){return l},set _names(ce){l=ce},get _formState(){return s},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:J,trigger:L,register:re,handleSubmit:B,watch:U,setValue:M,getValues:K,reset:Te,resetField:oe,clearErrors:F,unregister:z,setError:G,setFocus:He,getFieldState:H};return{...Ue,formControl:Ue}}function Are(e={}){const t=ae.useRef(void 0),s=ae.useRef(void 0),[a,n]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Kc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Kc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=kGe(e);t.current={...l,formState:a}}const i=t.current.control;return i._options=e,QR(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ae.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ae.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ae.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ae.useEffect(()=>{e.values&&!Su(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=vre(a,i),t.current}const hV=(e,t,s)=>{if(e&&"reportValidity"in e){const a=Ht(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Ere=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?hV(a.ref,s,e):a.refs&&a.refs.forEach(n=>hV(n,s,e))}},CGe=(e,t)=>{t.shouldUseNativeValidation&&Ere(e,t);const s={};for(const a in e){const n=Ht(t.fields,a),i=Object.assign(e[a]||{},{ref:n&&n.ref});if(AGe(t.names||Object.keys(e),a)){const o=Object.assign({},Ht(s,a));oa(o,"root",i),oa(s,a,o)}else oa(s,a,i)}return s},AGe=(e,t)=>e.some(s=>s.startsWith(t+"."));var EGe=function(e,t){for(var s={};e.length;){var a=e[0],n=a.code,i=a.message,o=a.path.join(".");if(!s[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=s[o].types,d=c&&c[a.code];s[o]=bre(o,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s},Pre=function(e,t,s){return s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return i.shouldUseNativeValidation&&Ere({},i),{errors:{},values:s.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:CGe(EGe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ks;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function s(n){throw new Error}e.assertNever=s,e.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},e.getValidEnumValues=n=>{const i=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(i){return n[i]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},e.find=(n,i)=>{for(const o of n)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Ks||(Ks={}));var mV;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(mV||(mV={}));const fr=Ks.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_h=e=>{switch(typeof e){case"undefined":return fr.undefined;case"string":return fr.string;case"number":return Number.isNaN(e)?fr.nan:fr.number;case"boolean":return fr.boolean;case"function":return fr.function;case"bigint":return fr.bigint;case"symbol":return fr.symbol;case"object":return Array.isArray(e)?fr.array:e===null?fr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?fr.promise:typeof Map<"u"&&e instanceof Map?fr.map:typeof Set<"u"&&e instanceof Set?fr.set:typeof Date<"u"&&e instanceof Date?fr.date:fr.object;default:return fr.unknown}},_t=Ks.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ju extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(s(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(t){if(!(t instanceof Ju))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ks.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Ju.create=e=>new Ju(e);const AD=(e,t)=>{let s;switch(e.code){case _t.invalid_type:e.received===fr.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case _t.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Ks.jsonStringifyReplacer)}`;break;case _t.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ks.joinValues(e.keys,", ")}`;break;case _t.invalid_union:s="Invalid input";break;case _t.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ks.joinValues(e.options)}`;break;case _t.invalid_enum_value:s=`Invalid enum value. Expected ${Ks.joinValues(e.options)}, received '${e.received}'`;break;case _t.invalid_arguments:s="Invalid function arguments";break;case _t.invalid_return_type:s="Invalid function return type";break;case _t.invalid_date:s="Invalid date";break;case _t.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Ks.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case _t.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case _t.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case _t.custom:s="Invalid input";break;case _t.invalid_intersection_types:s="Intersection results could not be merged";break;case _t.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case _t.not_finite:s="Number must be finite";break;default:s=t.defaultError,Ks.assertNever(e)}return{message:s}};let PGe=AD;function TGe(){return PGe}const _Ge=e=>{const{data:t,path:s,errorMaps:a,issueData:n}=e,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:i,message:l}};function Jt(e,t){const s=TGe(),a=_Ge({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===AD?void 0:AD].filter(n=>!!n)});e.common.issues.push(a)}class Pl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const a=[];for(const n of s){if(n.status==="aborted")return Zr;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,s){const a=[];for(const n of s){const i=await n.key,o=await n.value;a.push({key:i,value:o})}return Pl.mergeObjectSync(t,a)}static mergeObjectSync(t,s){const a={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return Zr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const Zr=Object.freeze({status:"aborted"}),xy=e=>({status:"dirty",value:e}),yc=e=>({status:"valid",value:e}),fV=e=>e.status==="aborted",pV=e=>e.status==="dirty",b0=e=>e.status==="valid",dk=e=>typeof Promise<"u"&&e instanceof Promise;var vr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(vr||(vr={}));class Cm{constructor(t,s,a,n){this._cachedPath=[],this.parent=t,this.data=s,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xV=(e,t)=>{if(b0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ju(e.common.issues);return this._error=s,this._error}}};function Ss(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:n}=e;if(t&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class Ws{get description(){return this._def.description}_getType(t){return _h(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:_h(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Pl,ctx:{common:t.parent.common,data:t.data,parsedType:_h(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(dk(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const a=this.safeParse(t,s);if(a.success)return a.data;throw a.error}safeParse(t,s){const a={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_h(t)},n=this._parseSync({data:t,path:a.path,parent:a});return xV(a,n)}"~validate"(t){var a,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_h(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return b0(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>b0(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const a=await this.safeParseAsync(t,s);if(a.success)return a.data;throw a.error}async safeParseAsync(t,s){const a={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_h(t)},n=this._parse({data:t,path:a.path,parent:a}),i=await(dk(n)?n:Promise.resolve(n));return xV(a,i)}refine(t,s){const a=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:_t.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof s=="function"?s(a,n):s),!1))}_refinement(t){return new j0({schema:this,typeName:es.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return fm.create(this,this._def)}nullable(){return N0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qd.create(this)}promise(){return fk.create(this,this._def)}or(t){return hk.create([this,t],this._def)}and(t){return mk.create(this,t,this._def)}transform(t){return new j0({...Ss(this._def),schema:this,typeName:es.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new PD({...Ss(this._def),innerType:this,defaultValue:s,typeName:es.ZodDefault})}brand(){return new eKe({typeName:es.ZodBranded,type:this,...Ss(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new TD({...Ss(this._def),innerType:this,catchValue:s,typeName:es.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return eM.create(this,t)}readonly(){return _D.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DGe=/^c[^\s-]{8,}$/i,OGe=/^[0-9a-z]+$/,IGe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RGe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MGe=/^[a-z0-9_-]{21}$/i,FGe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LGe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$Ge=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BGe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let b4;const UGe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VGe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zGe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WGe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HGe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qGe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",GGe=new RegExp(`^${Tre}$`);function _re(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function KGe(e){return new RegExp(`^${_re(e)}$`)}function YGe(e){let t=`${Tre}T${_re(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function XGe(e,t){return!!((t==="v4"||!t)&&UGe.test(e)||(t==="v6"||!t)&&zGe.test(e))}function QGe(e,t){if(!FGe.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function JGe(e,t){return!!((t==="v4"||!t)&&VGe.test(e)||(t==="v6"||!t)&&WGe.test(e))}class Yh extends Ws{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==fr.string){const i=this._getOrReturnCtx(t);return Jt(i,{code:_t.invalid_type,expected:fr.string,received:i.parsedType}),Zr}const a=new Pl;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?Jt(n,{code:_t.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Jt(n,{code:_t.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")$Ge.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"email",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")b4||(b4=new RegExp(BGe,"u")),b4.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"emoji",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")RGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"uuid",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")MGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"nanoid",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")DGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"cuid",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")OGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"cuid2",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")IGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"ulid",code:_t.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Jt(n,{validation:"url",code:_t.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"regex",code:_t.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?YGe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?GGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?KGe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?LGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"duration",code:_t.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?XGe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"ip",code:_t.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?QGe(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"jwt",code:_t.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?JGe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"cidr",code:_t.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?HGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"base64",code:_t.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?qGe.test(t.data)||(n=this._getOrReturnCtx(t,n),Jt(n,{validation:"base64url",code:_t.invalid_string,message:i.message}),a.dirty()):Ks.assertNever(i);return{status:a.value,value:t.data}}_regex(t,s,a){return this.refinement(n=>t.test(n),{validation:s,code:_t.invalid_string,...vr.errToObj(a)})}_addCheck(t){return new Yh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...vr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...vr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...vr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...vr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...vr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...vr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...vr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...vr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...vr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...vr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...vr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...vr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...vr.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...vr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...vr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...vr.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...vr.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...vr.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...vr.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...vr.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...vr.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...vr.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...vr.errToObj(s)})}nonempty(t){return this.min(1,vr.errToObj(t))}trim(){return new Yh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Yh.create=e=>new Yh({checks:[],typeName:es.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ss(e)});function ZGe(e,t){const s=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=s>a?s:a,i=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return i%o/10**n}class Cw extends Ws{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==fr.number){const i=this._getOrReturnCtx(t);return Jt(i,{code:_t.invalid_type,expected:fr.number,received:i.parsedType}),Zr}let a;const n=new Pl;for(const i of this._def.checks)i.kind==="int"?Ks.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?ZGe(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.not_finite,message:i.message}),n.dirty()):Ks.assertNever(i);return{status:n.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,vr.toString(s))}gt(t,s){return this.setLimit("min",t,!1,vr.toString(s))}lte(t,s){return this.setLimit("max",t,!0,vr.toString(s))}lt(t,s){return this.setLimit("max",t,!1,vr.toString(s))}setLimit(t,s,a,n){return new Cw({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:vr.toString(n)}]})}_addCheck(t){return new Cw({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:vr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vr.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:vr.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:vr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vr.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ks.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Cw.create=e=>new Cw({checks:[],typeName:es.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ss(e)});class Aw extends Ws{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==fr.bigint)return this._getInvalidInput(t);let a;const n=new Pl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Jt(a,{code:_t.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Ks.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Jt(s,{code:_t.invalid_type,expected:fr.bigint,received:s.parsedType}),Zr}gte(t,s){return this.setLimit("min",t,!0,vr.toString(s))}gt(t,s){return this.setLimit("min",t,!1,vr.toString(s))}lte(t,s){return this.setLimit("max",t,!0,vr.toString(s))}lt(t,s){return this.setLimit("max",t,!1,vr.toString(s))}setLimit(t,s,a,n){return new Aw({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:vr.toString(n)}]})}_addCheck(t){return new Aw({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vr.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:vr.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Aw.create=e=>new Aw({checks:[],typeName:es.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ss(e)});class gV extends Ws{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==fr.boolean){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.boolean,received:a.parsedType}),Zr}return yc(t.data)}}gV.create=e=>new gV({typeName:es.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ss(e)});class uk extends Ws{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==fr.date){const i=this._getOrReturnCtx(t);return Jt(i,{code:_t.invalid_type,expected:fr.date,received:i.parsedType}),Zr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Jt(i,{code:_t.invalid_date}),Zr}const a=new Pl;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),Jt(n,{code:_t.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):Ks.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new uk({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:vr.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:vr.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}uk.create=e=>new uk({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:es.ZodDate,...Ss(e)});class vV extends Ws{_parse(t){if(this._getType(t)!==fr.symbol){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.symbol,received:a.parsedType}),Zr}return yc(t.data)}}vV.create=e=>new vV({typeName:es.ZodSymbol,...Ss(e)});class yV extends Ws{_parse(t){if(this._getType(t)!==fr.undefined){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.undefined,received:a.parsedType}),Zr}return yc(t.data)}}yV.create=e=>new yV({typeName:es.ZodUndefined,...Ss(e)});class bV extends Ws{_parse(t){if(this._getType(t)!==fr.null){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.null,received:a.parsedType}),Zr}return yc(t.data)}}bV.create=e=>new bV({typeName:es.ZodNull,...Ss(e)});class wV extends Ws{constructor(){super(...arguments),this._any=!0}_parse(t){return yc(t.data)}}wV.create=e=>new wV({typeName:es.ZodAny,...Ss(e)});class jV extends Ws{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yc(t.data)}}jV.create=e=>new jV({typeName:es.ZodUnknown,...Ss(e)});class Am extends Ws{_parse(t){const s=this._getOrReturnCtx(t);return Jt(s,{code:_t.invalid_type,expected:fr.never,received:s.parsedType}),Zr}}Am.create=e=>new Am({typeName:es.ZodNever,...Ss(e)});class NV extends Ws{_parse(t){if(this._getType(t)!==fr.undefined){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.void,received:a.parsedType}),Zr}return yc(t.data)}}NV.create=e=>new NV({typeName:es.ZodVoid,...Ss(e)});class Qd extends Ws{_parse(t){const{ctx:s,status:a}=this._processInputParams(t),n=this._def;if(s.parsedType!==fr.array)return Jt(s,{code:_t.invalid_type,expected:fr.array,received:s.parsedType}),Zr;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(Jt(s,{code:o?_t.too_big:_t.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(Jt(s,{code:_t.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(Jt(s,{code:_t.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new Cm(s,o,s.path,l)))).then(o=>Pl.mergeArray(a,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new Cm(s,o,s.path,l)));return Pl.mergeArray(a,i)}get element(){return this._def.type}min(t,s){return new Qd({...this._def,minLength:{value:t,message:vr.toString(s)}})}max(t,s){return new Qd({...this._def,maxLength:{value:t,message:vr.toString(s)}})}length(t,s){return new Qd({...this._def,exactLength:{value:t,message:vr.toString(s)}})}nonempty(t){return this.min(1,t)}}Qd.create=(e,t)=>new Qd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:es.ZodArray,...Ss(t)});function Sx(e){if(e instanceof hn){const t={};for(const s in e.shape){const a=e.shape[s];t[s]=fm.create(Sx(a))}return new hn({...e._def,shape:()=>t})}else return e instanceof Qd?new Qd({...e._def,type:Sx(e.element)}):e instanceof fm?fm.create(Sx(e.unwrap())):e instanceof N0?N0.create(Sx(e.unwrap())):e instanceof yp?yp.create(e.items.map(t=>Sx(t))):e}class hn extends Ws{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Ks.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==fr.object){const d=this._getOrReturnCtx(t);return Jt(d,{code:_t.invalid_type,expected:fr.object,received:d.parsedType}),Zr}const{status:a,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Am&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Cm(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Am){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(Jt(n,{code:_t.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Cm(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Pl.mergeObjectSync(a,d)):Pl.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return vr.errToObj,new hn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,a)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,a).message)??a.defaultError;return s.code==="unrecognized_keys"?{message:vr.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new hn({...this._def,unknownKeys:"strip"})}passthrough(){return new hn({...this._def,unknownKeys:"passthrough"})}extend(t){return new hn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new hn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:es.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new hn({...this._def,catchall:t})}pick(t){const s={};for(const a of Ks.objectKeys(t))t[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new hn({...this._def,shape:()=>s})}omit(t){const s={};for(const a of Ks.objectKeys(this.shape))t[a]||(s[a]=this.shape[a]);return new hn({...this._def,shape:()=>s})}deepPartial(){return Sx(this)}partial(t){const s={};for(const a of Ks.objectKeys(this.shape)){const n=this.shape[a];t&&!t[a]?s[a]=n:s[a]=n.optional()}return new hn({...this._def,shape:()=>s})}required(t){const s={};for(const a of Ks.objectKeys(this.shape))if(t&&!t[a])s[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof fm;)i=i._def.innerType;s[a]=i}return new hn({...this._def,shape:()=>s})}keyof(){return Dre(Ks.objectKeys(this.shape))}}hn.create=(e,t)=>new hn({shape:()=>e,unknownKeys:"strip",catchall:Am.create(),typeName:es.ZodObject,...Ss(t)});hn.strictCreate=(e,t)=>new hn({shape:()=>e,unknownKeys:"strict",catchall:Am.create(),typeName:es.ZodObject,...Ss(t)});hn.lazycreate=(e,t)=>new hn({shape:e,unknownKeys:"strip",catchall:Am.create(),typeName:es.ZodObject,...Ss(t)});class hk extends Ws{_parse(t){const{ctx:s}=this._processInputParams(t),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ju(l.ctx.common.issues));return Jt(s,{code:_t.invalid_union,unionErrors:o}),Zr}if(s.common.async)return Promise.all(a.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of a){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ju(c));return Jt(s,{code:_t.invalid_union,unionErrors:l}),Zr}}get options(){return this._def.options}}hk.create=(e,t)=>new hk({options:e,typeName:es.ZodUnion,...Ss(t)});function ED(e,t){const s=_h(e),a=_h(t);if(e===t)return{valid:!0,data:e};if(s===fr.object&&a===fr.object){const n=Ks.objectKeys(t),i=Ks.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=ED(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===fr.array&&a===fr.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=ED(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===fr.date&&a===fr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class mk extends Ws{_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=(i,o)=>{if(fV(i)||fV(o))return Zr;const l=ED(i.value,o.value);return l.valid?((pV(i)||pV(o))&&s.dirty(),{status:s.value,value:l.data}):(Jt(a,{code:_t.invalid_intersection_types}),Zr)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}mk.create=(e,t,s)=>new mk({left:e,right:t,typeName:es.ZodIntersection,...Ss(s)});class yp extends Ws{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==fr.array)return Jt(a,{code:_t.invalid_type,expected:fr.array,received:a.parsedType}),Zr;if(a.data.length<this._def.items.length)return Jt(a,{code:_t.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Zr;!this._def.rest&&a.data.length>this._def.items.length&&(Jt(a,{code:_t.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Cm(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Pl.mergeArray(s,o)):Pl.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new yp({...this._def,rest:t})}}yp.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yp({items:e,typeName:es.ZodTuple,rest:null,...Ss(t)})};class SV extends Ws{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==fr.map)return Jt(a,{code:_t.invalid_type,expected:fr.map,received:a.parsedType}),Zr;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new Cm(a,l,a.path,[d,"key"])),value:i._parse(new Cm(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Zr;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Zr;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}SV.create=(e,t,s)=>new SV({valueType:t,keyType:e,typeName:es.ZodMap,...Ss(s)});class Ew extends Ws{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==fr.set)return Jt(a,{code:_t.invalid_type,expected:fr.set,received:a.parsedType}),Zr;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(Jt(a,{code:_t.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(Jt(a,{code:_t.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Zr;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new Cm(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new Ew({...this._def,minSize:{value:t,message:vr.toString(s)}})}max(t,s){return new Ew({...this._def,maxSize:{value:t,message:vr.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ew.create=(e,t)=>new Ew({valueType:e,minSize:null,maxSize:null,typeName:es.ZodSet,...Ss(t)});class kV extends Ws{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}kV.create=(e,t)=>new kV({getter:e,typeName:es.ZodLazy,...Ss(t)});class CV extends Ws{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Jt(s,{received:s.data,code:_t.invalid_literal,expected:this._def.value}),Zr}return{status:"valid",value:t.data}}get value(){return this._def.value}}CV.create=(e,t)=>new CV({value:e,typeName:es.ZodLiteral,...Ss(t)});function Dre(e,t){return new w0({values:e,typeName:es.ZodEnum,...Ss(t)})}class w0 extends Ws{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),a=this._def.values;return Jt(s,{expected:Ks.joinValues(a),received:s.parsedType,code:_t.invalid_type}),Zr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),a=this._def.values;return Jt(s,{received:s.data,code:_t.invalid_enum_value,options:a}),Zr}return yc(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return w0.create(t,{...this._def,...s})}exclude(t,s=this._def){return w0.create(this.options.filter(a=>!t.includes(a)),{...this._def,...s})}}w0.create=Dre;class AV extends Ws{_parse(t){const s=Ks.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==fr.string&&a.parsedType!==fr.number){const n=Ks.objectValues(s);return Jt(a,{expected:Ks.joinValues(n),received:a.parsedType,code:_t.invalid_type}),Zr}if(this._cache||(this._cache=new Set(Ks.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=Ks.objectValues(s);return Jt(a,{received:a.data,code:_t.invalid_enum_value,options:n}),Zr}return yc(t.data)}get enum(){return this._def.values}}AV.create=(e,t)=>new AV({values:e,typeName:es.ZodNativeEnum,...Ss(t)});class fk extends Ws{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==fr.promise&&s.common.async===!1)return Jt(s,{code:_t.invalid_type,expected:fr.promise,received:s.parsedType}),Zr;const a=s.parsedType===fr.promise?s.data:Promise.resolve(s.data);return yc(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}fk.create=(e,t)=>new fk({type:e,typeName:es.ZodPromise,...Ss(t)});class j0 extends Ws{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===es.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{Jt(a,o),o.fatal?s.abort():s.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Zr;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?Zr:c.status==="dirty"||s.value==="dirty"?xy(c.value):c});{if(s.value==="aborted")return Zr;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?Zr:l.status==="dirty"||s.value==="dirty"?xy(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Zr:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?Zr:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!b0(o))return Zr;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>b0(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):Zr);Ks.assertNever(n)}}j0.create=(e,t,s)=>new j0({schema:e,typeName:es.ZodEffects,effect:t,...Ss(s)});j0.createWithPreprocess=(e,t,s)=>new j0({schema:t,effect:{type:"preprocess",transform:e},typeName:es.ZodEffects,...Ss(s)});class fm extends Ws{_parse(t){return this._getType(t)===fr.undefined?yc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fm.create=(e,t)=>new fm({innerType:e,typeName:es.ZodOptional,...Ss(t)});class N0 extends Ws{_parse(t){return this._getType(t)===fr.null?yc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}N0.create=(e,t)=>new N0({innerType:e,typeName:es.ZodNullable,...Ss(t)});class PD extends Ws{_parse(t){const{ctx:s}=this._processInputParams(t);let a=s.data;return s.parsedType===fr.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}PD.create=(e,t)=>new PD({innerType:e,typeName:es.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ss(t)});class TD extends Ws{_parse(t){const{ctx:s}=this._processInputParams(t),a={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return dk(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ju(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Ju(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}TD.create=(e,t)=>new TD({innerType:e,typeName:es.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ss(t)});class EV extends Ws{_parse(t){if(this._getType(t)!==fr.nan){const a=this._getOrReturnCtx(t);return Jt(a,{code:_t.invalid_type,expected:fr.nan,received:a.parsedType}),Zr}return{status:"valid",value:t.data}}}EV.create=e=>new EV({typeName:es.ZodNaN,...Ss(e)});class eKe extends Ws{_parse(t){const{ctx:s}=this._processInputParams(t),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class eM extends Ws{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Zr:i.status==="dirty"?(s.dirty(),xy(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?Zr:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,s){return new eM({in:t,out:s,typeName:es.ZodPipeline})}}class _D extends Ws{_parse(t){const s=this._def.innerType._parse(t),a=n=>(b0(n)&&(n.value=Object.freeze(n.value)),n);return dk(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}_D.create=(e,t)=>new _D({innerType:e,typeName:es.ZodReadonly,...Ss(t)});hn.lazycreate;var es;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(es||(es={}));const If=Yh.create;Am.create;Qd.create;const tM=hn.create;hn.strictCreate;hk.create;mk.create;yp.create;w0.create;fk.create;fm.create;N0.create;const Ore=lGe,Ire=f.createContext({}),gy=({...e})=>r.jsx(Ire.Provider,{value:{name:e.name},children:r.jsx(hGe,{...e})}),LA=()=>{const e=f.useContext(Ire),t=f.useContext(Rre),{getFieldState:s,formState:a}=FA(),n=s(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},Rre=f.createContext({}),Xx=f.forwardRef(({className:e,...t},s)=>{const a=f.useId();return r.jsx(Rre.Provider,{value:{id:a},children:r.jsx("div",{ref:s,className:xe("space-y-2",e),...t})})});Xx.displayName="FormItem";const Qx=f.forwardRef(({className:e,...t},s)=>{const{error:a,formItemId:n}=LA();return r.jsx(Y,{ref:s,className:xe(a&&"text-destructive",e),htmlFor:n,...t})});Qx.displayName="FormLabel";const Jx=f.forwardRef(({...e},t)=>{const{error:s,formItemId:a,formDescriptionId:n,formMessageId:i}=LA();return r.jsx(kG,{ref:t,id:a,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...e})});Jx.displayName="FormControl";const tKe=f.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:a}=LA();return r.jsx("p",{ref:s,id:a,className:xe("text-sm text-muted-foreground",e),...t})});tKe.displayName="FormDescription";const Zx=f.forwardRef(({className:e,children:t,...s},a)=>{const{error:n,formMessageId:i}=LA(),o=n?String(n==null?void 0:n.message):t;return o?r.jsx("p",{ref:a,id:i,className:xe("text-sm font-medium text-destructive",e),...s,children:o}):null});Zx.displayName="FormMessage";const rKe=tM({email:If().email("Please enter a valid email address")});function Mre(){const{i18n:e}=It(),t=e.language==="ar",[s,a]=f.useState(!1),[n,i]=f.useState(!1),[o,l]=f.useState(null),{toast:c}=Lt(),d=sl(),u=Are({resolver:Pre(rKe),defaultValues:{email:""}});async function h(m){a(!0);try{await pl.forgotPassword(m.email),i(!0),c({title:"    ",description:"         "})}catch(p){const{title:g,description:x}=Wo(p,{operation:t?"":"send",resource:t?"  ":"reset link"},t);c({variant:"destructive",title:g,description:x})}finally{a(!1)}}return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),r.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),r.jsx("div",{className:"relative z-10",children:r.jsxs(tt,{to:"/",className:"flex items-center gap-4 group",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:r.jsx("img",{src:d,alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-3xl font-heading font-bold text-white",children:ai}),r.jsx("span",{className:"text-lg text-white/80",children:pi})]})]})}),r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:["  ",r.jsx("br",{})," !"]}),r.jsx("p",{className:"text-xl text-white/90",children:"       "}),r.jsxs("div",{className:"flex items-center gap-3 text-white pt-4",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(va,{className:"h-4 w-4"})}),r.jsx("span",{children:"  "})]})]}),r.jsxs("div",{className:"relative z-10 text-white/50 text-sm",children:[" 2024 ",pi,".   ."]})]}),r.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-background",children:[r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs(tt,{to:"/",className:"flex lg:hidden items-center justify-center gap-3 mb-8 group",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:r.jsx("img",{src:d,alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-2xl font-heading font-bold gradient-text",children:ai}),r.jsx("span",{className:"text-base text-primary",children:pi})]})]}),r.jsxs(we,{className:"shadow-xl border-border/50",children:[r.jsxs(st,{className:"space-y-1 text-center pb-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(bs,{className:"h-5 w-5 text-primary animate-pulse"}),r.jsx(it,{className:"text-2xl font-heading font-bold",children:"  "}),r.jsx(bs,{className:"h-5 w-5 text-secondary animate-pulse"})]}),r.jsx(Kt,{className:"text-base",children:"      "})]}),r.jsx(Se,{children:r.jsx(Ore,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-5",children:[r.jsx(gy,{control:u.control,name:"email",render:({field:m})=>r.jsxs(Xx,{children:[r.jsx(Qx,{className:"text-sm font-medium",children:" "}),r.jsx(Jx,{children:r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${o==="email"?"text-primary":"text-muted-foreground"}`}),r.jsx(pe,{placeholder:"you@example.com",...m,onFocus:()=>l("email"),onBlur:()=>l(null),className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})}),r.jsx(Zx,{})]})}),r.jsx(V,{type:"submit",className:"w-full h-11 gradient-primary font-medium shadow-lg hover:shadow-xl transition-all",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ip,{className:"ml-2 h-5 w-5"}),"   "]})})]})})}),r.jsx(ah,{className:"flex justify-center pt-2",children:r.jsxs(tt,{to:"/login",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-2 font-medium transition-colors",children:[r.jsx(El,{className:"h-4 w-4"}),"   "]})})]}),r.jsx("div",{className:"mt-6 text-center space-y-2",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[r.jsx(tt,{to:"/privacy",className:"hover:text-primary transition-colors",children:""}),r.jsx("span",{children:""}),r.jsx(tt,{to:"/terms",className:"hover:text-primary transition-colors",children:""}),r.jsx("span",{children:""}),r.jsx(tt,{to:"/help",className:"hover:text-primary transition-colors",children:""})]})})]}),r.jsx(Mp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-background"})]})]})}const sKe=tM({password:If().min(8,"Password must be at least 8 characters"),confirmPassword:If()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),aKe=tM({email:If().email("Invalid email address"),code:If().min(4,"Code must be at least 4 characters"),password:If().min(8,"Password must be at least 8 characters"),confirmPassword:If()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Fre(){const{i18n:e}=It(),t=e.language==="ar",[s,a]=f.useState(!1),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState(!1),[y,b]=f.useState(!1),[w,v]=f.useState(0),{toast:S}=Lt(),j=ts(),[k]=Bm(),N=k.get("token")||"",C=k.get("email")||"",A=k.get("code")||"",D=Are({resolver:Pre(N?sKe:aKe),defaultValues:{...N?{}:{email:C,code:A},password:"",confirmPassword:""}});f.useEffect(()=>{(async()=>{if(N){i(!0),d(N);try{const R=new URL(window.location.href);R.searchParams.delete("token"),window.history.replaceState({},"",R.toString())}catch(R){console.error("Failed to clear token from URL:",R)}try{const R=await eo.verifyResetToken(N);if(R.valid&&R.email)l(!0),h(R.email);else{const{title:L,description:K}=Wo({message:R.message||"Invalid or expired link"},{operation:t?" ":"verify",resource:t?"":"link"},t);S({variant:"destructive",title:L,description:K}),setTimeout(()=>j("/forgot-password"),2e3)}}catch(R){const{title:L,description:K}=Wo(R,{operation:t?" ":"verify",resource:t?"":"link"},t);S({variant:"destructive",title:L,description:K}),setTimeout(()=>j("/forgot-password"),2e3)}finally{i(!1)}}else if(C&&A)l(!0),h(C),i(!1);else{const{title:R,description:L}=Wo({message:"Invalid link"},{operation:t?"":"use",resource:t?"":"link"},t);S({variant:"destructive",title:R,description:L}),setTimeout(()=>j("/forgot-password"),2e3),i(!1)}})()},[N,C,A,j,S]);const T=D.watch("password");f.useEffect(()=>{if(!T){v(0);return}let I=0;T.length>=8&&(I+=25),T.length>=12&&(I+=25),/[a-z]/.test(T)&&/[A-Z]/.test(T)&&(I+=25),/[0-9]/.test(T)&&(I+=15),/[^a-zA-Z0-9]/.test(T)&&(I+=10),v(Math.min(I,100))},[T]);const P=()=>w<40?"bg-red-500":w<70?"bg-yellow-500":"bg-green-500",_=()=>w<40?"":w<70?"":"",O=sl();async function M(I){a(!0);try{const R=c?{token:c,newPassword:I.password}:{email:C,code:A,newPassword:I.password};await pl.resetPasswordComplete(R),S({title:"    ",description:"       ."}),j("/login")}catch(R){const{title:L,description:K}=Wo(R,{operation:t?" ":"reset",resource:t?" ":"password"},t);S({variant:"destructive",title:L,description:K})}finally{a(!1)}}return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})}):o?r.jsxs("div",{className:"min-h-screen flex relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-12 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),r.jsx("div",{className:"relative z-10",children:r.jsxs(tt,{to:"/",className:"flex items-center gap-4 group",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg flex items-center justify-center",children:r.jsx("img",{src:O,alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-3xl font-heading font-bold text-white",children:ai}),r.jsx("span",{className:"text-lg text-white/80",children:pi})]})]})}),r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:[" ",r.jsx("br",{})," "]}),r.jsx("p",{className:"text-xl text-white/90",children:"      "}),r.jsxs("div",{className:"space-y-3 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx(va,{className:"h-6 w-6"}),r.jsx("span",{children:"   "})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx(va,{className:"h-6 w-6"}),r.jsx("span",{children:"   "})]}),r.jsxs("div",{className:"flex items-center gap-3 text-white",children:[r.jsx(va,{className:"h-6 w-6"}),r.jsx("span",{children:"8   "})]})]})]}),r.jsxs("div",{className:"relative z-10 text-white/60 text-sm",children:[" 2024 ",pi,".   ."]})]}),r.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-gray-50 dark:bg-gray-900",children:[r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs(tt,{to:"/",className:"flex lg:hidden items-center justify-center gap-3 mb-8 group",children:[r.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden bg-card border border-border shadow-lg flex items-center justify-center",children:r.jsx("img",{src:O,alt:`${pi} - ${ai}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-2xl font-heading font-bold gradient-text",children:ai}),r.jsx("span",{className:"text-base text-primary",children:pi})]})]}),r.jsxs(we,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:[r.jsxs(st,{className:"space-y-1 text-center pb-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(bs,{className:"h-5 w-5 text-indigo-500 animate-pulse"}),r.jsx(it,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"   "}),r.jsx(bs,{className:"h-5 w-5 text-purple-500 animate-pulse"})]}),r.jsx(Kt,{className:"text-base text-gray-600 dark:text-gray-400",children:c?"   ":"       "}),c&&u&&r.jsx("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.jsx(ba,{className:"inline h-4 w-4 ml-1"}),u]})})]}),r.jsx(Se,{children:r.jsx(Ore,{...D,children:r.jsxs("form",{onSubmit:D.handleSubmit(M),className:"space-y-4",children:[!c&&r.jsxs(r.Fragment,{children:[r.jsx(gy,{control:D.control,name:"email",render:({field:I})=>r.jsxs(Xx,{children:[r.jsx(Qx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),r.jsx(Jx,{children:r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${m==="email"?"text-indigo-500":"text-gray-400"}`}),r.jsx(pe,{placeholder:"name@example.com",...I,value:C,disabled:!0,onFocus:()=>p("email"),onBlur:()=>p(null),className:"h-11 pr-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"})]})}),r.jsx(Zx,{})]})}),r.jsx(gy,{control:D.control,name:"code",render:({field:I})=>r.jsxs(Xx,{children:[r.jsx(Qx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),r.jsx(Jx,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Du,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${m==="code"?"text-indigo-500":"text-gray-400"}`}),r.jsx(pe,{placeholder:"123456",...I,value:A,disabled:!0,onFocus:()=>p("code"),onBlur:()=>p(null),className:"h-11 pr-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"})]})}),r.jsx(Zx,{})]})})]}),r.jsx(gy,{control:D.control,name:"password",render:({field:I})=>r.jsxs(Xx,{children:[r.jsx(Qx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  "}),r.jsx(Jx,{children:r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(pe,{type:g?"text":"password",placeholder:"********",...I,onFocus:()=>p("password"),onBlur:()=>p(null),className:"h-11 px-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"}),r.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})}),T&&r.jsxs("div",{className:"space-y-1 mt-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"  :"}),r.jsx("span",{className:`font-semibold ${w<40?"text-red-500":w<70?"text-yellow-500":"text-green-500"}`,children:_()})]}),r.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${P()}`,style:{width:`${w}%`}})})]}),r.jsx(Zx,{})]})}),r.jsx(gy,{control:D.control,name:"confirmPassword",render:({field:I})=>r.jsxs(Xx,{children:[r.jsx(Qx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  "}),r.jsx(Jx,{children:r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx(pe,{type:y?"text":"password",placeholder:"********",...I,onFocus:()=>p("confirmPassword"),onBlur:()=>p(null),className:"h-11 px-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"}),r.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})}),r.jsx(Zx,{})]})}),r.jsx(V,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all mt-2",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"ml-2 h-5 w-5"}),"  "]})})]})})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(tt,{to:"/login",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium transition-colors",children:"   "})})]}),r.jsx(Mp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-gray-50 dark:bg-gray-900"})]})]}):null}const nKe=F0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Di=f.forwardRef(({className:e,variant:t,...s},a)=>r.jsx("div",{ref:a,role:"alert",className:xe(nKe({variant:t}),e),...s}));Di.displayName="Alert";const S0=f.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));S0.displayName="AlertTitle";const Oi=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));Oi.displayName="AlertDescription";function iKe(){const e=ts(),{toast:t}=Lt(),{user:s,refreshUser:a}=$s(),[n,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,b]=f.useState(!1),[w,v]=f.useState(!1);f.useEffect(()=>{const k=JSON.parse(localStorage.getItem("user")||"{}").mustChangePassword||(s==null?void 0:s.mustChangePassword);v(!!k),!k&&s&&e("/dashboard",{replace:!0})},[s,e]);const S=async j=>{j.preventDefault(),b(!0);try{if(o!==c){t({variant:"destructive",title:"   ",description:"       "}),b(!1);return}if(o.length<6){t({variant:"destructive",title:"   ",description:"     6   "}),b(!1);return}(await pl.changePassword(n,o)).message&&(t({title:"    ",description:"    "}),await a(),setTimeout(()=>{e("/dashboard",{replace:!0})},1e3))}catch(k){console.error("Failed to change password:",k),t({variant:"destructive",title:"   ",description:(k==null?void 0:k.message)||"     .    ."})}finally{b(!1)}};return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:r.jsxs(we,{className:"w-full max-w-md",children:[r.jsxs(st,{children:[r.jsx(it,{className:"text-2xl text-center",children:"  "}),r.jsx(Kt,{className:"text-center",children:w?"      ":"    "})]}),r.jsxs(Se,{children:[w&&r.jsx(Di,{className:"mb-4",children:r.jsx(Oi,{children:"    .          ."})}),r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"currentPassword",children:w?"  ":"  "}),r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"currentPassword",type:u?"text":"password",placeholder:w?"   ":"   ",value:n,onChange:j=>i(j.target.value),required:!0,className:"pr-10 pl-12"}),r.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"newPassword",children:"  "}),r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"newPassword",type:m?"text":"password",placeholder:"    (6   )",value:o,onChange:j=>l(j.target.value),required:!0,minLength:6,className:"pr-10 pl-12"}),r.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:m?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"confirmPassword",children:"   "}),r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{id:"confirmPassword",type:g?"text":"password",placeholder:"    ",value:c,onChange:j=>d(j.target.value),required:!0,minLength:6,className:"pr-10 pl-12"}),r.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:g?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsx(V,{type:"submit",className:"w-full",disabled:y,children:y?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(va,{className:"mr-2 h-4 w-4"}),"  "]})})]})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const oKe=()=>{const[e]=Bm(),t=ts(),{loginWithTokens:s}=$s(),[a,n]=f.useState("processing"),[i,o]=f.useState(""),l=f.useRef(!1);f.useEffect(()=>{if(l.current)return;l.current=!0,(async()=>{try{const h=e.get("accessToken"),m=e.get("refreshToken"),p=e.get("setupPending")==="true",g=e.get("error");if(o(`Params: AccessToken=${!!h}, RefreshToken=${!!m}, SetupPending=${p}`),g){n("error"),o(x=>x+`
Server Error: `+g),Rr.error("     .    .");return}if(!h||!m){n("error"),o(x=>x+`
Missing Tokens`),Rr.error("   .    .");return}try{await s(h,m),n("success"),Rr.success("     Google"),setTimeout(()=>{p?t("/dashboard/settings",{state:{setupRequired:!0}}):t("/dashboard")},1e3)}catch(x){console.error("Login with tokens error:",x),n("error"),o(y=>y+`
Login Error: `+(x instanceof Error?x.message:String(x))),Rr.error("     .    .")}}catch(h){console.error("OAuth callback error:",h),n("error"),o(m=>m+`
General Error: `+(h instanceof Error?h.message:String(h))),Rr.error("    .    .")}})()},[e,t,s]);const d=(()=>{switch(a){case"processing":return{title:"Completing authentication...",message:"Please wait while we redirect you.",icon:"",color:"text-blue-500"};case"success":return{title:"Authentication successful!",message:"Redirecting to your dashboard...",icon:"",color:"text-green-500"};case"error":return{title:"Authentication failed",message:"Please try logging in again.",icon:"",color:"text-red-500"};default:return{title:"Processing...",message:"Please wait.",icon:"",color:"text-blue-500"}}})();return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:r.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md mx-4 w-full",children:[r.jsx("div",{className:`text-4xl mb-4 ${d.color}`,children:d.icon}),a==="processing"&&r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:d.title}),r.jsx("p",{className:"text-gray-600 mb-6",children:typeof d.message=="string"?d.message:String(d.message||"")}),r.jsxs("div",{className:"flex flex-col gap-3",children:[a==="success"&&r.jsx("button",{onClick:()=>t("/dashboard"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors w-full",children:"Go to Dashboard"}),a==="error"&&r.jsx("button",{onClick:()=>t("/auth/login"),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors w-full",children:"Back to Login"})]}),a==="error"&&i&&r.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded text-left text-xs font-mono overflow-auto max-h-40",children:[r.jsx("p",{className:"font-bold mb-1",children:"Debug Info:"}),r.jsx("pre",{children:i})]})]})})};function lf({children:e}){const t=Gn(),{isAuthenticated:s,loading:a,user:n}=$s();return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s?((n==null?void 0:n.mustChangePassword)||!1)&&t.pathname!=="/change-password"?r.jsx(c_,{to:"/change-password",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(c_,{to:"/login",state:{from:t},replace:!0})}function Cd({children:e}){const t=Gn(),[s,a]=f.useState(!1),[n,i]=f.useState(!0);return f.useEffect(()=>{const o=()=>{const u=localStorage.getItem("customerToken"),h=localStorage.getItem("customerData");a(!!(u&&h)),i(!1)};o();const l=u=>{(u.key==="customerToken"||u.key==="customerData")&&o()},c=()=>{o()},d=setInterval(()=>{o()},1e3);return window.addEventListener("storage",l),window.addEventListener("customerLogin",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("customerLogin",c),clearInterval(d)}},[]),n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s?r.jsx(r.Fragment,{children:e}):r.jsx(c_,{to:"/login",state:{from:t},replace:!0})}function Lre(){const{user:e}=$s(),t=f.useMemo(()=>e?e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER"?["*"]:e.permissions||[]:[],[e]),s=o=>{if(!e)return!1;if(e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER"||t.includes(o)||t.includes("*"))return!0;const l=o.split(":");if(l.length===2){const[c,d]=l,u=`${c}:manage`;if(t.includes(u))return!0}return!1},a=o=>o.some(l=>s(l));return{permissions:t,hasPermission:s,hasAnyPermission:a,hasAllPermissions:o=>o.every(l=>s(l)),canAccessRoute:o=>{if(!e)return!1;if(e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER")return!0;const l={"/dashboard":[],"/dashboard/products":["product:read","product:manage","product:create","product:update","product:delete"],"/dashboard/categories":["product:read","product:manage"],"/dashboard/hierarchical":["product:read","product:manage"],"/dashboard/prices":["product:read","product:manage","product:update"],"/dashboard/orders":["order:read","order:manage","order:create","order:update"],"/dashboard/customers":["customer:read","customer:manage","customer:create","customer:update"],"/dashboard/reports":["analytics:read","analytics:manage"],"/dashboard/settings":["settings:read","settings:update"],"/dashboard/settings/payment":["settings:read","settings:update"],"/dashboard/settings/checkout":["settings:read","settings:update"],"/dashboard/settings/notifications":["settings:read","settings:update"],"/dashboard/settings/domains":["settings:read","settings:update"],"/dashboard/settings/users":["settings:read","settings:update"],"/dashboard/employees":[],"/dashboard/permissions":[]};if(l[o]){const c=l[o];return c.length===0?!0:a(c)}for(const[c,d]of Object.entries(l))if(o.startsWith(c))return d.length===0?!0:a(d);return!0},isStaff:(e==null?void 0:e.role)==="STAFF",isOwner:(e==null?void 0:e.role)==="SHOP_OWNER",isAdmin:(e==null?void 0:e.role)==="SUPER_ADMIN"}}function Ro({children:e,requiredPermissions:t=[],requireAnyPermission:s=!0,route:a}){Gn();const{user:n}=$s(),{hasPermission:i,hasAnyPermission:o,hasAllPermissions:l,canAccessRoute:c}=Lre(),{toast:d}=Lt(),u=f.useRef(!1);return n&&(n.role==="SHOP_OWNER"||n.role==="SUPER_ADMIN")?r.jsx(r.Fragment,{children:e}):a?c(a)?r.jsx(r.Fragment,{children:e}):(f.useEffect(()=>{u.current||(d({variant:"destructive",title:" ",description:"      .         ."}),u.current=!0)},[d,a]),r.jsx("div",{className:"p-6",children:r.jsxs(Di,{variant:"destructive",children:[r.jsx(oP,{className:"h-4 w-4"}),r.jsxs(Oi,{children:[r.jsx("strong",{children:"  "}),r.jsx("br",{}),"       (",a,").",r.jsx("br",{}),"        ."]})]})})):t.length===0?a&&(a.includes("/employees")||a.includes("/permissions"))&&n&&n.role!=="SHOP_OWNER"&&n.role!=="SUPER_ADMIN"?r.jsx("div",{className:"p-6",children:r.jsxs(Di,{variant:"destructive",children:[r.jsx(oP,{className:"h-4 w-4"}),r.jsx(Oi,{children:"  -         ."})]})}):r.jsx(r.Fragment,{children:e}):(s?o(t):l(t))?r.jsx(r.Fragment,{children:e}):(f.useEffect(()=>{if(!u.current){const m=t.join("  ");d({variant:"destructive",title:" ",description:`  : ${m}.     .`}),u.current=!0}},[d,t]),r.jsx("div",{className:"p-6",children:r.jsxs(Di,{variant:"destructive",children:[r.jsx(oP,{className:"h-4 w-4"}),r.jsxs(Oi,{children:[r.jsx("strong",{children:"  "}),r.jsx("br",{}),"   : ",t.join("  "),r.jsx("br",{}),"        ."]})]})}))}function Pw(e,[t,s]){return Math.min(s,Math.max(t,e))}function Mj(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lKe=[" ","Enter","ArrowUp","ArrowDown"],cKe=[" ","Enter"],bp="Select",[$A,BA,dKe]=R0(bp),[mv,N0t]=on(bp,[dKe,Fm]),UA=Fm(),[uKe,Km]=mv(bp),[hKe,mKe]=mv(bp),$re=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:g}=e,x=UA(t),[y,b]=f.useState(null),[w,v]=f.useState(null),[S,j]=f.useState(!1),k=zm(d),[N,C]=ko({prop:a,defaultProp:n??!1,onChange:i,caller:bp}),[A,E]=ko({prop:o,defaultProp:l,onChange:c,caller:bp}),D=f.useRef(null),T=y?g||!!y.closest("form"):!0,[P,_]=f.useState(new Set),O=Array.from(P).map(M=>M.props.value).join(";");return r.jsx(TI,{...x,children:r.jsxs(uKe,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Sl(),value:A,onValueChange:E,open:N,onOpenChange:C,dir:k,triggerPointerDownPosRef:D,disabled:m,children:[r.jsx($A.Provider,{scope:t,children:r.jsx(hKe,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{_(I=>new Set(I).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{_(I=>{const R=new Set(I);return R.delete(M),R})},[]),children:s})}),T?r.jsxs(cse,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:M=>E(M.target.value),disabled:m,form:g,children:[A===void 0?r.jsx("option",{value:""}):null,Array.from(P)]},O):null]})})};$re.displayName=bp;var Bre="SelectTrigger",Ure=f.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...n}=e,i=UA(s),o=Km(Bre,s),l=o.disabled||a,c=Pr(t,o.onTriggerChange),d=BA(s),u=f.useRef("touch"),[h,m,p]=use(x=>{const y=d().filter(v=>!v.disabled),b=y.find(v=>v.value===o.value),w=hse(y,x,b);w!==void 0&&o.onValueChange(w.value)}),g=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(hj,{asChild:!0,...i,children:r.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dse(o.value)?"":void 0,...n,ref:c,onClick:bt(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&g(x)}),onPointerDown:bt(n.onPointerDown,x=>{u.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:bt(n.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&lKe.includes(x.key)&&(g(),x.preventDefault())})})})});Ure.displayName=Bre;var Vre="SelectValue",zre=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=e,c=Km(Vre,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Pr(t,c.onValueNodeChange);return vn(()=>{d(u)},[d,u]),r.jsx(Bt.span,{...l,ref:h,style:{pointerEvents:"none"},children:dse(c.value)?r.jsx(r.Fragment,{children:o}):i})});zre.displayName=Vre;var fKe="SelectIcon",Wre=f.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...n}=e;return r.jsx(Bt.span,{"aria-hidden":!0,...n,ref:t,children:a||""})});Wre.displayName=fKe;var pKe="SelectPortal",Hre=e=>r.jsx(M0,{asChild:!0,...e});Hre.displayName=pKe;var wp="SelectContent",qre=f.forwardRef((e,t)=>{const s=Km(wp,e.__scopeSelect),[a,n]=f.useState();if(vn(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?rc.createPortal(r.jsx(Gre,{scope:e.__scopeSelect,children:r.jsx($A.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(Kre,{...e,ref:t})});qre.displayName=wp;var Rc=10,[Gre,Ym]=mv(wp),xKe="SelectContentImpl",gKe=ym("SelectContent.RemoveScroll"),Kre=f.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y,...b}=e,w=Km(wp,s),[v,S]=f.useState(null),[j,k]=f.useState(null),N=Pr(t,z=>S(z)),[C,A]=f.useState(null),[E,D]=f.useState(null),T=BA(s),[P,_]=f.useState(!1),O=f.useRef(!1);f.useEffect(()=>{if(v)return MC(v)},[v]),IC();const M=f.useCallback(z=>{const[ie,...re]=T().map(B=>B.ref.current),[q]=re.slice(-1),se=document.activeElement;for(const B of z)if(B===se||(B==null||B.scrollIntoView({block:"nearest"}),B===ie&&j&&(j.scrollTop=0),B===q&&j&&(j.scrollTop=j.scrollHeight),B==null||B.focus(),document.activeElement!==se))return},[T,j]),I=f.useCallback(()=>M([C,v]),[M,C,v]);f.useEffect(()=>{P&&I()},[P,I]);const{onOpenChange:R,triggerPointerDownPosRef:L}=w;f.useEffect(()=>{if(v){let z={x:0,y:0};const ie=q=>{var se,B;z={x:Math.abs(Math.round(q.pageX)-(((se=L.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(q.pageY)-(((B=L.current)==null?void 0:B.y)??0))}},re=q=>{z.x<=10&&z.y<=10?q.preventDefault():v.contains(q.target)||R(!1),document.removeEventListener("pointermove",ie),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",re,{capture:!0})}}},[v,R,L]),f.useEffect(()=>{const z=()=>R(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[R]);const[K,H]=use(z=>{const ie=T().filter(se=>!se.disabled),re=ie.find(se=>se.ref.current===document.activeElement),q=hse(ie,z,re);q&&setTimeout(()=>q.ref.current.focus())}),F=f.useCallback((z,ie,re)=>{const q=!O.current&&!re;(w.value!==void 0&&w.value===ie||q)&&(A(z),q&&(O.current=!0))},[w.value]),G=f.useCallback(()=>v==null?void 0:v.focus(),[v]),U=f.useCallback((z,ie,re)=>{const q=!O.current&&!re;(w.value!==void 0&&w.value===ie||q)&&D(z)},[w.value]),W=a==="popper"?DD:Yre,J=W===DD?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y}:{};return r.jsx(Gre,{scope:s,content:v,viewport:j,onViewportChange:k,itemRefCallback:F,selectedItem:C,onItemLeave:G,itemTextRefCallback:U,focusSelectedItem:I,selectedItemText:E,position:a,isPositioned:P,searchRef:K,children:r.jsx(bj,{as:gKe,allowPinchZoom:!0,children:r.jsx(yj,{asChild:!0,trapped:w.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:bt(n,z=>{var ie;(ie=w.trigger)==null||ie.focus({preventScroll:!0}),z.preventDefault()}),children:r.jsx(Op,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:r.jsx(W,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:z=>z.preventDefault(),...b,...J,onPlaced:()=>_(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:bt(b.onKeyDown,z=>{const ie=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!ie&&z.key.length===1&&H(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let q=T().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(z.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const se=z.target,B=q.indexOf(se);q=q.slice(B+1)}setTimeout(()=>M(q)),z.preventDefault()}})})})})})})});Kre.displayName=xKe;var vKe="SelectItemAlignedPosition",Yre=f.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...n}=e,i=Km(wp,s),o=Ym(wp,s),[l,c]=f.useState(null),[d,u]=f.useState(null),h=Pr(t,N=>u(N)),m=BA(s),p=f.useRef(!1),g=f.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,v=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&y&&b){const N=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(i.dir!=="rtl"){const se=E.left-C.left,B=A.left-se,oe=N.left-B,de=N.width+oe,Te=Math.max(de,C.width),He=window.innerWidth-Rc,Oe=Pw(B,[Rc,Math.max(Rc,He-Te)]);l.style.minWidth=de+"px",l.style.left=Oe+"px"}else{const se=C.right-E.right,B=window.innerWidth-A.right-se,oe=window.innerWidth-N.right-B,de=N.width+oe,Te=Math.max(de,C.width),He=window.innerWidth-Rc,Oe=Pw(B,[Rc,Math.max(Rc,He-Te)]);l.style.minWidth=de+"px",l.style.right=Oe+"px"}const D=m(),T=window.innerHeight-Rc*2,P=x.scrollHeight,_=window.getComputedStyle(d),O=parseInt(_.borderTopWidth,10),M=parseInt(_.paddingTop,10),I=parseInt(_.borderBottomWidth,10),R=parseInt(_.paddingBottom,10),L=O+M+P+R+I,K=Math.min(y.offsetHeight*5,L),H=window.getComputedStyle(x),F=parseInt(H.paddingTop,10),G=parseInt(H.paddingBottom,10),U=N.top+N.height/2-Rc,W=T-U,J=y.offsetHeight/2,z=y.offsetTop+J,ie=O+M+z,re=L-ie;if(ie<=U){const se=D.length>0&&y===D[D.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-x.offsetTop-x.offsetHeight,oe=Math.max(W,J+(se?G:0)+B+I),de=ie+oe;l.style.height=de+"px"}else{const se=D.length>0&&y===D[0].ref.current;l.style.top="0px";const oe=Math.max(U,O+x.offsetTop+(se?F:0)+J)+re;l.style.height=oe+"px",x.scrollTop=ie-U+x.offsetTop}l.style.margin=`${Rc}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,y,b,i.dir,a]);vn(()=>v(),[v]);const[S,j]=f.useState();vn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(N=>{N&&g.current===!0&&(v(),w==null||w(),g.current=!1)},[v,w]);return r.jsx(bKe,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(Bt.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Yre.displayName=vKe;var yKe="SelectPopperPosition",DD=f.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=Rc,...i}=e,o=UA(s);return r.jsx(fC,{...o,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});DD.displayName=yKe;var[bKe,rM]=mv(wp,{}),OD="SelectViewport",Xre=f.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...n}=e,i=Ym(OD,s),o=rM(OD,s),l=Pr(t,i.onViewportChange),c=f.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx($A.Slot,{scope:s,children:r.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:bt(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-Rc*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(x,y);if(b<g){const w=b+p,v=Math.min(g,w),S=w-v;h.style.height=v+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Xre.displayName=OD;var Qre="SelectGroup",[wKe,jKe]=mv(Qre),NKe=f.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=Sl();return r.jsx(wKe,{scope:s,id:n,children:r.jsx(Bt.div,{role:"group","aria-labelledby":n,...a,ref:t})})});NKe.displayName=Qre;var Jre="SelectLabel",Zre=f.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=jKe(Jre,s);return r.jsx(Bt.div,{id:n.id,...a,ref:t})});Zre.displayName=Jre;var pk="SelectItem",[SKe,ese]=mv(pk),tse=f.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=e,l=Km(pk,s),c=Ym(pk,s),d=l.value===a,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),g=Pr(t,w=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,w,a,n)}),x=Sl(),y=f.useRef("touch"),b=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(SKe,{scope:s,value:a,disabled:n,textId:x,isSelected:d,onItemTextChange:f.useCallback(w=>{h(v=>v||((w==null?void 0:w.textContent)??"").trim())},[]),children:r.jsx($A.ItemSlot,{scope:s,value:a,disabled:n,textValue:u,children:r.jsx(Bt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:g,onFocus:bt(o.onFocus,()=>p(!0)),onBlur:bt(o.onBlur,()=>p(!1)),onClick:bt(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:bt(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:bt(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:bt(o.onPointerMove,w=>{var v;y.current=w.pointerType,n?(v=c.onItemLeave)==null||v.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(o.onPointerLeave,w=>{var v;w.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:bt(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(cKe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});tse.displayName=pk;var vy="SelectItemText",rse=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:n,...i}=e,o=Km(vy,s),l=Ym(vy,s),c=ese(vy,s),d=mKe(vy,s),[u,h]=f.useState(null),m=Pr(t,b=>h(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=f.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return vn(()=>(x(g),()=>y(g)),[x,y,g]),r.jsxs(r.Fragment,{children:[r.jsx(Bt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?rc.createPortal(i.children,o.valueNode):null]})});rse.displayName=vy;var sse="SelectItemIndicator",ase=f.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return ese(sse,s).isSelected?r.jsx(Bt.span,{"aria-hidden":!0,...a,ref:t}):null});ase.displayName=sse;var ID="SelectScrollUpButton",nse=f.forwardRef((e,t)=>{const s=Ym(ID,e.__scopeSelect),a=rM(ID,e.__scopeSelect),[n,i]=f.useState(!1),o=Pr(t,a.onScrollButtonChange);return vn(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?r.jsx(ose,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});nse.displayName=ID;var RD="SelectScrollDownButton",ise=f.forwardRef((e,t)=>{const s=Ym(RD,e.__scopeSelect),a=rM(RD,e.__scopeSelect),[n,i]=f.useState(!1),o=Pr(t,a.onScrollButtonChange);return vn(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?r.jsx(ose,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ise.displayName=RD;var ose=f.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=e,i=Ym("SelectScrollButton",s),o=f.useRef(null),l=BA(s),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),vn(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(Bt.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:bt(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:bt(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:bt(n.onPointerLeave,()=>{c()})})}),kKe="SelectSeparator",lse=f.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return r.jsx(Bt.div,{"aria-hidden":!0,...a,ref:t})});lse.displayName=kKe;var MD="SelectArrow",CKe=f.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,n=UA(s),i=Km(MD,s),o=Ym(MD,s);return i.open&&o.position==="popper"?r.jsx(pC,{...n,...a,ref:t}):null});CKe.displayName=MD;var AKe="SelectBubbleInput",cse=f.forwardRef(({__scopeSelect:e,value:t,...s},a)=>{const n=f.useRef(null),i=Pr(a,n),o=Mj(t);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),r.jsx(Bt.select,{...s,style:{..._G,...s.style},ref:i,defaultValue:t})});cse.displayName=AKe;function dse(e){return e===""||e===void 0}function use(e){const t=Qa(e),s=f.useRef(""),a=f.useRef(0),n=f.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function hse(e,t,s){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=EKe(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function EKe(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var PKe=$re,mse=Ure,TKe=zre,_Ke=Wre,DKe=Hre,fse=qre,OKe=Xre,pse=Zre,xse=tse,IKe=rse,RKe=ase,gse=nse,vse=ise,yse=lse;const mr=PKe,xr=TKe,dr=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(mse,{ref:a,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(_Ke,{asChild:!0,children:r.jsx(to,{className:"h-4 w-4 opacity-50"})})]}));dr.displayName=mse.displayName;const bse=f.forwardRef(({className:e,...t},s)=>r.jsx(gse,{ref:s,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(dC,{className:"h-4 w-4"})}));bse.displayName=gse.displayName;const wse=f.forwardRef(({className:e,...t},s)=>r.jsx(vse,{ref:s,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(to,{className:"h-4 w-4"})}));wse.displayName=vse.displayName;const ur=f.forwardRef(({className:e,children:t,position:s="popper",...a},n)=>r.jsx(DKe,{children:r.jsxs(fse,{ref:n,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[r.jsx(bse,{}),r.jsx(OKe,{className:xe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(wse,{})]})}));ur.displayName=fse.displayName;const MKe=f.forwardRef(({className:e,...t},s)=>r.jsx(pse,{ref:s,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));MKe.displayName=pse.displayName;const _e=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(xse,{ref:a,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(RKe,{children:r.jsx(Za,{className:"h-4 w-4"})})}),r.jsx(IKe,{children:t})]}));_e.displayName=xse.displayName;const FKe=f.forwardRef(({className:e,...t},s)=>r.jsx(yse,{ref:s,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));FKe.displayName=yse.displayName;const LKe=F0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"border-transparent bg-success text-success-foreground hover:bg-success/90",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/90",outline:"text-foreground border-border","soft-primary":"border-transparent bg-primary/15 text-primary","soft-secondary":"border-transparent bg-secondary/15 text-secondary","soft-success":"border-transparent bg-success/15 text-success","soft-warning":"border-transparent bg-warning/15 text-warning dark:text-warning","soft-destructive":"border-transparent bg-destructive/15 text-destructive",glow:"border-transparent bg-primary text-primary-foreground shadow-glow"}},defaultVariants:{variant:"default"}});function et({className:e,variant:t,...s}){return r.jsx("div",{className:xe(LKe({variant:t}),e),...s})}function $Ke({stats:e}){var m,p;const{i18n:t}=It(),s=t.language==="ar",a=ts(),[n,i]=f.useState(0),[o,l]=f.useState([]),[c,d]=f.useState(!0);f.useEffect(()=>{(async()=>{try{const[x,y]=await Promise.all([Is.getBalance(),Is.getTopUpRequests("PENDING")]);x&&i(x.balance),y&&l(y)}catch(x){console.error("Failed to fetch wallet data:",x)}finally{d(!1)}})()},[]);const u=[{label:s?" ":"Orders Count",value:((m=e==null?void 0:e.orderCount)==null?void 0:m.toString())||"0",suffix:s?"":"Orders",icon:r.jsx(Or,{className:"h-7 w-7"}),gradient:"from-orange-500 to-amber-500",shadowColor:"shadow-orange-500/20"},{label:s?"  ":"Total Orders Value",value:((p=e==null?void 0:e.revenue)==null?void 0:p.toFixed(2))||"0.00",suffix:s?"":"SAR",icon:r.jsx(rl,{className:"h-7 w-7"}),gradient:"from-emerald-500 to-teal-500",shadowColor:"shadow-emerald-500/20"},{label:s?" ":"Wallet Balance",value:Number(n).toFixed(2),suffix:s?"":"SAR",icon:r.jsx(Na,{className:"h-7 w-7"}),gradient:"from-violet-500 to-purple-500",shadowColor:"shadow-violet-500/20"}],h=[{label:s?"":"Reports",icon:r.jsx(Ua,{className:"h-6 w-6"}),link:"/dashboard/reports",gradient:"from-blue-500 to-cyan-500"},{label:s?"":"Products",icon:r.jsx(Dt,{className:"h-6 w-6"}),link:"/dashboard/products",gradient:"from-orange-500 to-amber-500"},{label:s?"":"Carts",icon:r.jsx(Or,{className:"h-6 w-6"}),link:"/dashboard/orders",gradient:"from-emerald-500 to-teal-500"},{label:s?"":"Employees",icon:r.jsx(wr,{className:"h-6 w-6"}),link:"/dashboard/settings/users",gradient:"from-violet-500 to-purple-500"},{label:s?"":"Favourites",icon:r.jsx(kn,{className:"h-6 w-6"}),link:"/dashboard/favorites",gradient:"from-pink-500 to-rose-500"}];return r.jsx("div",{className:"w-full max-w-7xl mx-auto p-4 md:p-6",dir:s?"rtl":"ltr",children:r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((g,x)=>r.jsx(we,{className:xe("overflow-hidden bg-card border-border/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300",g.shadowColor),children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.label}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-4xl font-bold text-foreground",children:g.value}),g.suffix&&r.jsx("span",{className:"text-sm text-muted-foreground",children:g.suffix})]})]}),r.jsx("div",{className:xe("p-3 rounded-xl bg-gradient-to-br text-white shadow-lg",g.gradient),children:g.icon})]})})},x))}),r.jsx(we,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:r.jsx(Se,{className:"py-8",children:r.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:h.map((g,x)=>r.jsxs("button",{onClick:()=>a(g.link),className:"flex flex-col items-center gap-3 group",children:[r.jsx("div",{className:xe("p-4 rounded-2xl bg-gradient-to-br text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl",g.gradient),children:g.icon}),r.jsx("span",{className:"text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors",children:g.label})]},x))})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(we,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:[r.jsx(st,{className:"border-b border-border/50 bg-muted/30",children:r.jsxs(it,{className:"text-lg text-foreground flex items-center gap-2",children:[r.jsx(Co,{className:"w-5 h-5 text-orange-500"}),s?"    ()":"Pending Cash Balance Charges"]})}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?"":"Date"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?" ":"Transaction #"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?"":"Bank"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?" ":"Sender Name"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?"":"Amount"})]})}),r.jsx("tbody",{children:c?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:s?" ...":"Loading..."})]})})}):o.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"p-4 rounded-2xl bg-muted/30 mb-4",children:r.jsx(Dt,{className:"h-10 w-10 text-muted-foreground/50"})}),r.jsx("p",{className:"text-muted-foreground",children:s?"   ":"No pending transactions"})]})})}):o.map(g=>{var x;return r.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30 transition-colors",children:[r.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:new Date(g.createdAt).toLocaleDateString(s?"ar-SA":"en-US")}),r.jsxs("td",{className:"py-3 px-4 text-sm font-mono text-muted-foreground",children:["#",g.id.slice(0,8)]}),r.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:((x=g.bank)==null?void 0:x.name)||"-"}),r.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:g.senderName||"-"}),r.jsxs("td",{className:"py-3 px-4 text-sm font-bold text-emerald-600",children:["+",Number(g.amount).toFixed(2)," ",g.currency]})]},g.id)})})]})})})]}),r.jsxs(we,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:[r.jsx(st,{className:"border-b border-border/50 bg-muted/30",children:r.jsxs(it,{className:"text-lg text-foreground flex items-center gap-2",children:[r.jsx(Xs,{className:"w-5 h-5 text-red-500"}),s?" ":"Pending Complaints"]})}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?" ":"Date Added"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?" ":"Ticket Title"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?" ":"Order #"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?"":"Status"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:s?"":"Comment"})]})}),r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"p-4 rounded-2xl bg-muted/30 mb-4",children:r.jsx(Dt,{className:"h-10 w-10 text-muted-foreground/50"})}),r.jsx("p",{className:"text-muted-foreground",children:s?"   ":"No pending complaints"})]})})})})]})})})]})]})]})})}const Ys=f.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Ys.displayName="Textarea";var VA="Checkbox",[BKe,S0t]=on(VA),[UKe,sM]=BKe(VA);function VKe(e){const{__scopeCheckbox:t,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,p]=ko({prop:s,defaultProp:n??!1,onChange:c,caller:VA}),[g,x]=f.useState(null),[y,b]=f.useState(null),w=f.useRef(!1),v=g?!!o||!!g.closest("form"):!0,S={checked:m,disabled:i,setChecked:p,control:g,setControl:x,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:pm(n)?!1:n,isFormControl:v,bubbleInput:y,setBubbleInput:b};return r.jsx(UKe,{scope:t,...S,children:zKe(h)?h(S):a})}var jse="CheckboxTrigger",Nse=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=sM(jse,e),x=Pr(n,u),y=f.useRef(c);return f.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const w=()=>h(y.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,h]),r.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":pm(c)?"mixed":c,"aria-required":d,"data-state":Ese(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:x,onKeyDown:bt(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:bt(s,b=>{h(w=>pm(w)?!0:!w),g&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});Nse.displayName=jse;var aM=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return r.jsx(VKe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(Nse,{...h,ref:t,__scopeCheckbox:s}),m&&r.jsx(Ase,{__scopeCheckbox:s})]})})});aM.displayName=VA;var Sse="CheckboxIndicator",kse=f.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:a,...n}=e,i=sM(Sse,s);return r.jsx(qn,{present:a||pm(i.checked)||i.checked===!0,children:r.jsx(Bt.span,{"data-state":Ese(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});kse.displayName=Sse;var Cse="CheckboxBubbleInput",Ase=f.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:p}=sM(Cse,e),g=Pr(s,p),x=Mj(i),y=uj(a);f.useEffect(()=>{const w=m;if(!w)return;const v=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(v,"checked").set,k=!n.current;if(x!==i&&j){const N=new Event("click",{bubbles:k});w.indeterminate=pm(i),j.call(w,pm(i)?!1:i),w.dispatchEvent(N)}},[m,x,i,n]);const b=f.useRef(pm(i)?!1:i);return r.jsx(Bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ase.displayName=Cse;function zKe(e){return typeof e=="function"}function pm(e){return e==="indeterminate"}function Ese(e){return pm(e)?"indeterminate":e?"checked":"unchecked"}const no=f.forwardRef(({className:e,...t},s)=>r.jsx(aM,{ref:s,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(kse,{className:xe("flex items-center justify-center text-current"),children:r.jsx(Za,{className:"h-4 w-4"})})}));no.displayName=aM.displayName;const ir=O3,vg=I3,WKe=R3,Pse=f.forwardRef(({className:e,...t},s)=>r.jsx(wj,{ref:s,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Pse.displayName=wj.displayName;const ar=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(WKe,{children:[r.jsx(Pse,{}),r.jsxs(jj,{ref:a,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(LC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[r.jsx(jr,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ar.displayName=jj.displayName;const lr=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lr.displayName="DialogHeader";const zr=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});zr.displayName="DialogFooter";const cr=f.forwardRef(({className:e,...t},s)=>r.jsx(Nj,{ref:s,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));cr.displayName=Nj.displayName;const pr=f.forwardRef(({className:e,...t},s)=>r.jsx(Sj,{ref:s,className:xe("text-sm text-muted-foreground",e),...t}));pr.displayName=Sj.displayName;function HKe(e,t){return f.useReducer((s,a)=>t[s][a]??s,e)}var nM="ScrollArea",[Tse,k0t]=on(nM),[qKe,bc]=Tse(nM),_se=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(null),[x,y]=f.useState(null),[b,w]=f.useState(0),[v,S]=f.useState(0),[j,k]=f.useState(!1),[N,C]=f.useState(!1),A=Pr(t,D=>c(D)),E=zm(n);return r.jsx(qKe,{scope:s,type:a,dir:E,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:w,onCornerHeightChange:S,children:r.jsx(Bt.div,{dir:E,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});_se.displayName=nM;var Dse="ScrollAreaViewport",Ose=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=e,o=bc(Dse,s),l=f.useRef(null),c=Pr(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(Bt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Ose.displayName=Dse;var lu="ScrollAreaScrollbar",iM=f.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=bc(lu,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?r.jsx(GKe,{...a,ref:t,forceMount:s}):n.type==="scroll"?r.jsx(KKe,{...a,ref:t,forceMount:s}):n.type==="auto"?r.jsx(Ise,{...a,ref:t,forceMount:s}):n.type==="always"?r.jsx(oM,{...a,ref:t}):null});iM.displayName=lu;var GKe=f.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=bc(lu,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),r.jsx(qn,{present:s||i,children:r.jsx(Ise,{"data-state":i?"visible":"hidden",...a,ref:t})})}),KKe=f.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=bc(lu,e.__scopeScrollArea),i=e.orientation==="horizontal",o=WA(()=>c("SCROLL_END"),100),[l,c]=HKe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),f.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[n.viewport,i,c,o]),r.jsx(qn,{present:s||l!=="hidden",children:r.jsx(oM,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:bt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:bt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ise=f.forwardRef((e,t)=>{const s=bc(lu,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=WA(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return k0(s.viewport,c),k0(s.content,c),r.jsx(qn,{present:a||i,children:r.jsx(oM,{"data-state":i?"visible":"hidden",...n,ref:t})})}),oM=f.forwardRef((e,t)=>{const{orientation:s="vertical",...a}=e,n=bc(lu,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=$se(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return eYe(m,o.current,l,p)}return s==="horizontal"?r.jsx(YKe,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollLeft,p=PV(m,l,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=h(m,n.dir))}}):s==="vertical"?r.jsx(XKe,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollTop,p=PV(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=h(m))}}):null}),YKe=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...n}=e,i=bc(lu,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Pr(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Mse,{"data-orientation":"horizontal",...n,ref:d,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zA(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Use(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gk(o.paddingLeft),paddingEnd:gk(o.paddingRight)}})}})}),XKe=f.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...n}=e,i=bc(lu,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Pr(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Mse,{"data-orientation":"vertical",...n,ref:d,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zA(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Use(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gk(o.paddingTop),paddingEnd:gk(o.paddingBottom)}})}})}),[QKe,Rse]=Tse(lu),Mse=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=bc(lu,s),[g,x]=f.useState(null),y=Pr(t,A=>x(A)),b=f.useRef(null),w=f.useRef(""),v=p.viewport,S=a.content-a.viewport,j=Qa(u),k=Qa(c),N=WA(h,10);function C(A){if(b.current){const E=A.clientX-b.current.left,D=A.clientY-b.current.top;d({x:E,y:D})}}return f.useEffect(()=>{const A=E=>{const D=E.target;(g==null?void 0:g.contains(D))&&j(E,S)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[v,g,S,j]),f.useEffect(k,[a,k]),k0(g,N),k0(p.content,N),r.jsx(QKe,{scope:s,scrollbar:g,hasThumb:n,onThumbChange:Qa(i),onThumbPointerUp:Qa(o),onThumbPositionChange:k,onThumbPointerDown:Qa(l),children:r.jsx(Bt.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:bt(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:bt(e.onPointerMove,C),onPointerUp:bt(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),xk="ScrollAreaThumb",Fse=f.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=Rse(xk,e.__scopeScrollArea);return r.jsx(qn,{present:s||n.hasThumb,children:r.jsx(JKe,{ref:t,...a})})}),JKe=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:a,...n}=e,i=bc(xk,s),o=Rse(xk,s),{onThumbPositionChange:l}=o,c=Pr(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=WA(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=tYe(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),r.jsx(Bt.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:bt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,x=h.clientY-p.top;o.onThumbPointerDown({x:g,y:x})}),onPointerUp:bt(e.onPointerUp,o.onThumbPointerUp)})});Fse.displayName=xk;var lM="ScrollAreaCorner",Lse=f.forwardRef((e,t)=>{const s=bc(lM,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?r.jsx(ZKe,{...e,ref:t}):null});Lse.displayName=lM;var ZKe=f.forwardRef((e,t)=>{const{__scopeScrollArea:s,...a}=e,n=bc(lM,s),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return k0(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),k0(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?r.jsx(Bt.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gk(e){return e?parseInt(e,10):0}function $se(e,t){const s=e/t;return isNaN(s)?0:s}function zA(e){const t=$se(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*t;return Math.max(a,18)}function eYe(e,t,s,a="ltr"){const n=zA(s),i=n/2,o=t||i,l=n-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return Bse([c,d],h)(e)}function PV(e,t,s="ltr"){const a=zA(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,l=i-a,c=s==="ltr"?[0,o]:[o*-1,0],d=Pw(e,c);return Bse([0,o],[0,l])(d)}function Bse(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function Use(e,t){return e>0&&e<t}var tYe=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&t(),s=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function WA(e,t){const s=Qa(e),a=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),f.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function k0(e,t){const s=Qa(t);vn(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,s])}var Vse=_se,rYe=Ose,sYe=Lse;const La=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(Vse,{ref:a,className:xe("relative overflow-hidden",e),...s,children:[r.jsx(rYe,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(zse,{}),r.jsx(sYe,{})]}));La.displayName=Vse.displayName;const zse=f.forwardRef(({className:e,orientation:t="vertical",...s},a)=>r.jsx(iM,{ref:a,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:r.jsx(Fse,{className:"relative flex-1 rounded-full bg-border"})}));zse.displayName=iM.displayName;const aYe=()=>{const{t:e}=It(),t=[{title:e("dashboard.sidebar.salesAndOrders"),items:[{name:e("dashboard.sidebar.products"),href:"/dashboard/products",icon:Dt,color:"text-blue-500",description:e("dashboard.sidebar.productsDesc")},{name:e("dashboard.sidebar.hierarchical"," "),href:"/dashboard/hierarchical",icon:_i,color:"text-indigo-500",description:e("dashboard.sidebar.hierarchicalDesc")},{name:e("dashboard.sidebar.priceManagement"),href:"/dashboard/prices",icon:an,color:"text-green-500",description:e("dashboard.sidebar.priceManagementDesc")},{name:e("dashboard.sidebar.orders"),href:"/dashboard/orders",icon:Or,color:"text-orange-500",description:e("dashboard.sidebar.ordersDesc")},{name:e("dashboard.sidebar.customers"),href:"/dashboard/customers",icon:wr,color:"text-purple-500",description:e("dashboard.sidebar.customersDesc")},{name:e("dashboard.sidebar.reports"),href:"/dashboard/reports",icon:Ua,color:"text-red-500",description:e("dashboard.sidebar.reportsDesc")}]},{title:e("dashboard.sidebar.contentAndDesign"),items:[{name:e("dashboard.sidebar.categories"),href:"/dashboard/categories",icon:_i,color:"text-yellow-500",description:e("dashboard.sidebar.categoriesDesc")},{name:e("dashboard.sidebar.pages"),href:"/dashboard/pages",icon:ka,color:"text-teal-500",description:e("dashboard.sidebar.pagesDesc")},{name:e("dashboard.sidebar.storefront"),href:"/dashboard/storefront",icon:ip,color:"text-cyan-500",description:e("dashboard.sidebar.storefrontDesc")},{name:e("dashboard.sidebar.templates"),href:"/dashboard/templates",icon:op,color:"text-rose-500",description:e("dashboard.sidebar.templatesDesc")}]},{title:e("dashboard.sidebar.marketing"),items:[{name:e("dashboard.sidebar.potentialAndMarketing"),href:"/dashboard/marketing",icon:jm,color:"text-red-500",description:e("dashboard.sidebar.marketingDesc")},{name:e("dashboard.sidebar.smartLine"),href:"/dashboard/smart-line",icon:cp,color:"text-violet-500",description:e("dashboard.sidebar.smartLineDesc")}]},{title:e("dashboard.sidebar.storeSettings"),items:[{name:e("dashboard.sidebar.generalSettings"),href:"/dashboard/settings",icon:Es,color:"text-gray-500",description:e("dashboard.sidebar.generalSettingsDesc")},{name:e("dashboard.sidebar.notifications"),href:"/dashboard/settings/notifications",icon:Xo,color:"text-yellow-600",description:e("dashboard.sidebar.notificationsDesc")},{name:e("dashboard.sidebar.payment"),href:"/dashboard/settings/payment",icon:Xr,color:"text-green-600",description:e("dashboard.sidebar.paymentDesc")},{name:e("dashboard.sidebar.domains"),href:"/dashboard/settings/domains",icon:Ya,color:"text-blue-600",description:e("dashboard.sidebar.domainsDesc")},{name:e("dashboard.sidebar.suppliers"),href:"/dashboard/settings/suppliers",icon:Uo,color:"text-indigo-600",description:e("dashboard.sidebar.suppliersDesc")}]},{title:e("dashboard.sidebar.advanced"),items:[{name:e("dashboard.sidebar.usersAndPermissions"),href:"/dashboard/settings/users",icon:wr,color:"text-purple-600",description:e("dashboard.sidebar.usersAndPermissionsDesc")},{name:e("dashboard.sidebar.integrations"),href:"/dashboard/settings/integrations",icon:U2,color:"text-orange-600",description:e("dashboard.sidebar.integrationsDesc")},{name:e("dashboard.sidebar.identityVerification"),href:"/dashboard/settings/kyc",icon:lg,color:"text-emerald-600",description:e("dashboard.sidebar.identityVerificationDesc")},{name:e("dashboard.sidebar.appStore"),href:"/dashboard/apps",icon:Ry,color:"text-blue-400",description:e("dashboard.sidebar.appStoreDesc")},{name:e("dashboard.sidebar.chat"),href:"/dashboard/chat",icon:Cn,color:"text-pink-600",description:e("dashboard.sidebar.chatDesc")}]}];return r.jsx("div",{className:"space-y-8 animate-fade-in",children:t.map((s,a)=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 border-b pb-2",children:[r.jsx("span",{className:"w-1 h-6 bg-primary rounded-full"}),s.title]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.items.map(n=>r.jsx(tt,{to:n.href,children:r.jsx(we,{className:"h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1 border-transparent hover:border-primary/20 bg-card/50 backdrop-blur-sm group",children:r.jsxs(Se,{className:"p-6 flex items-start gap-4",children:[r.jsx("div",{className:xe("p-3 rounded-xl bg-muted group-hover:bg-primary/10 transition-colors",n.color),children:r.jsx(n.icon,{className:"w-6 h-6"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"font-semibold group-hover:text-primary transition-colors",children:n.name}),n.description&&r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:n.description})]})]})})},n.href))})]},s.title))})},gx=({title:e,value:t,icon:s,trend:a,color:n})=>{const i={primary:"from-primary to-primary/70 bg-primary/10",success:"from-success to-success/70 bg-success/10",secondary:"from-secondary to-secondary/70 bg-secondary/10",accent:"from-accent to-accent/70 bg-accent/10"},o={primary:"text-primary",success:"text-success",secondary:"text-secondary",accent:"text-accent"};return r.jsxs(we,{className:"group hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden border-border/50",children:[r.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b ${i[n].split(" ")[0]} ${i[n].split(" ")[1]}`}),r.jsx(Se,{className:"p-5 md:p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e}),r.jsx("p",{className:"text-2xl md:text-3xl font-heading font-bold text-foreground",children:t}),r.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-success",children:[r.jsx(rl,{className:"h-3.5 w-3.5"}),r.jsx("span",{children:a})]})]}),r.jsx("div",{className:`p-3 rounded-xl ${i[n].split(" ")[2]} group-hover:scale-110 transition-transform duration-300`,children:r.jsx(s,{className:`h-6 w-6 ${o[n]}`})})]})})]})};function nYe(){var A;const{t:e,i18n:t}=It(),{user:s}=$s(),[a,n]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!0),[p,g]=f.useState("month"),[x,y]=f.useState("visual"),[b,w]=f.useState(localStorage.getItem("dashboardDisplayMode")||"normal"),v=sl(),S=!!(s!=null&&s.tenantId),j=f.useCallback(async()=>{try{m(!0);const[E,D]=await Promise.all([fe.get("/dashboard/stats"),fe.getOrders()]);let T=null;E&&typeof E=="object"&&!("error"in E)&&!("statusCode"in E)?T={orderCount:Number(E.orderCount)||0,revenue:Number(E.revenue)||0,productCount:Number(E.productCount)||0,customerCount:Number(E.customerCount)||0,visits:Number(E.visits)||0,saved:Number(E.saved)||0}:T={orderCount:0,revenue:0,productCount:0,customerCount:0,visits:0,saved:0},n(T);let P=[];D&&typeof D=="object"&&(Array.isArray(D)?P=D.filter(M=>M&&typeof M=="object"&&!("error"in M)):D.orders&&Array.isArray(D.orders)&&(P=D.orders.filter(M=>M&&typeof M=="object"&&!("error"in M)))),o(P.slice(0,5));const _=k(P);u(_);const O=N(P,T);c(O)}catch(E){console.error("Failed to load dashboard data:",E),n({orderCount:0,revenue:0,productCount:0,customerCount:0,visits:0,saved:0}),o([]),u([]),c([])}finally{m(!1)}},[]);f.useEffect(()=>{j()},[j,p]);const k=E=>{const D=new Map,T=new Date;for(let P=6;P>=0;P--){const _=new Date(T);_.setDate(_.getDate()-P);const O=`${_.getDate()}/${_.getMonth()+1}`;D.set(O,{name:O,revenue:0,orders:0})}return E.forEach(P=>{if(P&&P.createdAt&&P.total!==void 0){const _=new Date(P.createdAt),O=`${_.getDate()}/${_.getMonth()+1}`;if(D.has(O)){const M=D.get(O);M.revenue+=Number(P.total)||0,M.orders+=1}}}),Array.from(D.values())},N=(E,D)=>{const T=[],P=E.filter(_=>_.status==="pending");return P.length>0&&T.push({id:"1",type:"order",title:e("dashboard.notifications.newOrders","New Orders"),message:e("dashboard.notifications.pendingOrdersMessage","You have {{count}} new order(s) pending",{count:P.length}),time:e("dashboard.notifications.justNow","Just now"),read:!1}),T},C=E=>{const D={pending:{labelKey:"dashboard.orders.pending",defaultLabel:"Pending",variant:"soft-warning"},processing:{labelKey:"dashboard.orders.processing",defaultLabel:"Processing",variant:"soft-primary"},shipped:{labelKey:"dashboard.orders.shipped",defaultLabel:"Shipped",variant:"soft-secondary"},delivered:{labelKey:"dashboard.orders.delivered",defaultLabel:"Delivered",variant:"soft-success"},cancelled:{labelKey:"dashboard.orders.cancelled",defaultLabel:"Cancelled",variant:"soft-destructive"}},{labelKey:T,defaultLabel:P,variant:_}=D[E]||D.pending;return r.jsx(et,{variant:_,children:e(T,P)})};return h?r.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"relative w-20 h-20 mx-auto rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:r.jsx("img",{src:v,alt:ai,className:"w-full h-full object-contain p-2"})})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(mc,{className:"h-5 w-5 animate-spin text-primary"}),r.jsx("p",{className:"text-muted-foreground font-medium",children:e("common.loading","Loading data...")})]})})]})}):r.jsxs("div",{className:"space-y-6 pb-8",children:[!S&&r.jsxs(we,{className:"border-2 border-dashed border-primary/40 bg-gradient-to-r from-primary/5 via-accent/5 to-secondary/5 overflow-hidden relative",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),r.jsx(Se,{className:"p-6 md:p-8 relative",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-primary to-secondary rounded-2xl blur-lg opacity-40"}),r.jsx("div",{className:"relative p-4 gradient-primary rounded-2xl shadow-xl",children:r.jsx(xs,{className:"h-10 w-10 text-white"})})]}),r.jsxs("div",{className:"flex-1 text-center md:text-right space-y-2",children:[r.jsx("h3",{className:"text-2xl font-heading font-bold",children:e("dashboard.setupPrompt.title","  ")}),r.jsx("p",{className:"text-muted-foreground text-base max-w-xl",children:e("dashboard.setupPrompt.description","             ")})]}),r.jsx(tt,{to:"/dashboard/market-setup",children:r.jsxs(V,{size:"lg",className:"gradient-primary shadow-lg gap-2 font-semibold h-12 px-8",children:[r.jsx(bs,{className:"h-5 w-5"}),e("dashboard.setupPrompt.button"," "),r.jsx(ma,{className:"h-4 w-4 rtl:rotate-180"})]})})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pb-3 sm:pb-4 border-b",children:[r.jsx("div",{className:"space-y-1",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 rounded-lg overflow-hidden bg-card border border-border shadow-sm flex-shrink-0",children:r.jsx("img",{src:v,alt:ai,className:"w-full h-full object-contain p-1"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-heading font-bold gradient-text truncate",children:e("dashboard.sidebar.dashboard","Dashboard")}),r.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm truncate",children:e("dashboard.main.subtitle","Overview of your store performance")})]})]})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2",children:[r.jsxs(mr,{value:p,onValueChange:g,children:[r.jsxs(dr,{className:"w-full sm:w-[140px] md:w-[160px] h-9 sm:h-10 bg-card text-xs sm:text-sm",children:[r.jsx(Ri,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-2 text-muted-foreground"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"week",children:e("dashboard.main.lastWeek","Last Week")}),r.jsx(_e,{value:"month",children:e("dashboard.main.lastMonth","Last Month")}),r.jsx(_e,{value:"year",children:e("dashboard.main.lastYear","Last Year")})]})]}),r.jsx(V,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("common.refresh","Refresh"),onClick:()=>j(),children:r.jsx(mc,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),r.jsx(V,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("dashboard.header.download","Download Report"),children:r.jsx(xn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),r.jsx(V,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("dashboard.header.filter","Filter"),children:r.jsx(Wu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),r.jsxs("div",{className:"flex items-center bg-muted/50 rounded-lg p-1 ml-1 border border-border/50",children:[r.jsx("span",{className:"text-[10px] font-bold px-2 text-muted-foreground hidden sm:inline-block uppercase tracking-wider",children:e("dashboard.main.viewMode","")}),r.jsxs(V,{variant:b==="normal"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{w("normal"),localStorage.setItem("dashboardDisplayMode","normal")},title:e("dashboard.main.normal"),children:[r.jsx(oj,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.normal")})]}),r.jsxs(V,{variant:b==="cards"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{w("cards"),localStorage.setItem("dashboardDisplayMode","cards")},title:e("dashboard.main.cards"),children:[r.jsx(ZT,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.cards")})]}),r.jsxs(V,{variant:b==="navigation"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{w("navigation"),localStorage.setItem("dashboardDisplayMode","navigation")},title:e("dashboard.main.navigation",""),children:[r.jsx(Ofe,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.navigation","")})]})]})]})]}),b==="normal"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5",children:[r.jsx(gx,{title:e("dashboard.main.totalSales"),value:`${((A=a==null?void 0:a.revenue)==null?void 0:A.toFixed(2))||"0.00"} ${e("common.currency")}`,icon:an,trend:"+18.7%",color:"accent"}),r.jsx(gx,{title:e("dashboard.main.totalOrders"),value:(a==null?void 0:a.orderCount)||0,icon:Or,trend:"+8.2%",color:"secondary"}),r.jsx(gx,{title:e("dashboard.main.avgOrderValue"),value:`${(a!=null&&a.revenue&&(a!=null&&a.orderCount)?a.revenue/a.orderCount:0).toFixed(2)} ${e("common.currency")}`,icon:rl,trend:"+5.4%",color:"primary"}),r.jsx(gx,{title:e("dashboard.main.totalCustomers"),value:(a==null?void 0:a.customerCount)||0,icon:wr,trend:"+12.5%",color:"success"}),r.jsx(gx,{title:e("dashboard.main.visits"),value:(a==null?void 0:a.visits)||0,icon:Cr,trend:"+22.4%",color:"secondary"}),r.jsx(gx,{title:e("dashboard.main.totalProducts"),value:(a==null?void 0:a.productCount)||0,icon:Dt,trend:"+12.5%",color:"accent"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:[r.jsxs(we,{className:"lg:col-span-2 hover:shadow-lg transition-shadow border-border/50 overflow-hidden",children:[r.jsx(st,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs(it,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[r.jsx(Ua,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e("dashboard.main.salesChart")})]}),r.jsx(Kt,{className:"mt-1 text-xs sm:text-sm",children:(()=>{const E=new Date,D=new Date(E.getFullYear(),E.getMonth(),1),T=new Date(E.getFullYear(),E.getMonth()+1,0),P=t.language==="ar"?"ar-SA":"en-US",_={year:"numeric",month:"long",day:"numeric"};return`${D.toLocaleDateString(P,_)} - ${T.toLocaleDateString(P,_)}`})()})]}),r.jsx(Kn,{value:x,onValueChange:y,children:r.jsxs(_n,{className:"h-8 sm:h-9 bg-muted/50",children:[r.jsx(_r,{value:"visual",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.visual")}),r.jsx(_r,{value:"summary",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.summary")}),r.jsx(_r,{value:"detailed",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.detailed")})]})})]})}),r.jsxs(Se,{className:"pt-4 sm:pt-6 px-3 sm:px-6",children:[x==="visual"&&r.jsx(Yb,{width:"100%",height:280,className:"sm:h-[320px]",children:r.jsxs(nk,{data:d,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.25}),r.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),r.jsx(qR,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",vertical:!1}),r.jsx(Oj,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1}),r.jsx(Ij,{stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1}),r.jsx(Kl,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"var(--shadow-lg)",fontSize:"12px"}}),r.jsx(ld,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})}),x==="summary"&&r.jsx("div",{className:"h-[320px] flex items-center justify-center text-muted-foreground",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-muted/50 flex items-center justify-center",children:r.jsx(Ua,{className:"h-8 w-8 opacity-50"})}),r.jsx("p",{className:"text-sm",children:e("dashboard.main.showSummary")})]})}),x==="detailed"&&r.jsx("div",{className:"h-[320px] flex items-center justify-center text-muted-foreground",children:r.jsxs("div",{className:"text-center space-y-3",children:[r.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-muted/50 flex items-center justify-center",children:r.jsx(Ua,{className:"h-8 w-8 opacity-50"})}),r.jsx("p",{className:"text-sm",children:e("dashboard.main.showDetailed")})]})})]})]}),r.jsxs(we,{className:"border-border/50 overflow-hidden",children:[r.jsx(st,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(it,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[r.jsx(Xo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e("dashboard.main.notifications")})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-[10px] sm:text-xs h-7 sm:h-8 text-muted-foreground hover:text-foreground flex-shrink-0",children:e("dashboard.header.clearAll")})]})}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"divide-y max-h-[300px] sm:max-h-[380px] overflow-y-auto scrollbar-thin",children:l.length===0?r.jsxs("div",{className:"p-6 sm:p-10 text-center text-muted-foreground",children:[r.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 sm:mb-4 rounded-xl bg-muted/50 flex items-center justify-center",children:r.jsx(Xo,{className:"h-6 w-6 sm:h-7 sm:w-7 opacity-40"})}),r.jsx("p",{className:"text-xs sm:text-sm",children:e("dashboard.main.noNotifications")})]}):l.map(E=>r.jsx("div",{className:`p-3 sm:p-4 hover:bg-muted/30 transition-colors cursor-pointer ${E.read?"":"bg-primary/5"}`,children:r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsxs("div",{className:`p-2 sm:p-2.5 rounded-xl flex-shrink-0 ${E.type==="order"?"bg-success/10":E.type==="stock"?"bg-warning/10":E.type==="review"?"bg-primary/10":"bg-secondary/10"}`,children:[E.type==="order"&&r.jsx(Or,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-success"}),E.type==="stock"&&r.jsx(Dt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-warning"}),E.type==="payment"&&r.jsx(an,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-secondary"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-semibold truncate",children:String(E.title||"")}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1 line-clamp-2",children:String(E.message||"")}),r.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-[10px] sm:text-xs text-muted-foreground",children:[r.jsx(Co,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:String(E.time||"")})]})]}),!E.read&&r.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-primary rounded-full flex-shrink-0 mt-1.5 animate-pulse"})]})},E.id))})})]})]}),r.jsxs(we,{className:"border-border/50 overflow-hidden",children:[r.jsx(st,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs(it,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[r.jsx(Or,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e("dashboard.main.recentOrders")})]}),r.jsx(tt,{to:"/dashboard/orders",children:r.jsxs(V,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80 text-[10px] sm:text-xs h-7 sm:h-8 gap-1 flex-shrink-0",children:[e("dashboard.main.viewAll"),r.jsx(Ms,{className:"h-3 w-3 sm:h-4 sm:w-4 rtl:rotate-180"})]})})]})}),r.jsx(Se,{className:"p-0",children:i.length===0?r.jsxs("div",{className:"p-10 sm:p-16 text-center text-muted-foreground",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-xl bg-muted/50 flex items-center justify-center",children:r.jsx(Or,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-40"})}),r.jsx("p",{className:"text-xs sm:text-sm",children:e("dashboard.main.noOrders")})]}):r.jsx("div",{className:"divide-y",children:i.map(E=>{var D,T;return r.jsx("div",{className:"p-3 sm:p-4 md:p-5 hover:bg-muted/30 transition-colors group",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:"p-2 sm:p-3 bg-accent/10 rounded-xl flex-shrink-0 group-hover:bg-accent/20 transition-colors",children:r.jsx(Or,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"font-semibold text-sm",children:["#",String(E.orderNumber||((D=E.id)==null?void 0:D.slice(0,8))||"")]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:String(((T=E.customer)==null?void 0:T.name)||e("dashboard.sidebar.customers")||"")})]})]}),r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0",children:[r.jsxs("div",{className:"text-left",children:[r.jsxs("p",{className:"font-bold text-xs sm:text-sm",children:[Number(E.total||0).toFixed(2)," ",e("common.currency")]}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5",children:E.createdAt?new Date(E.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US",{month:"short",day:"numeric"}):"-"})]}),r.jsx("div",{className:"flex-shrink-0",children:C(E.status)}),r.jsx(tt,{to:`/dashboard/orders/${E.id}`,children:r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:r.jsx(Cr,{className:"h-4 w-4"})})})]})]})},E.id)})})})]})]}):b==="cards"?r.jsx($Ke,{stats:a}):r.jsx(aYe,{})]})}const TV=[{id:"audio",title:"Create Audio",titleAr:" ",description:"Convert your product descriptions into professional audio recordings",descriptionAr:"      ",icon:oK,category:"media",color:"from-blue-500 to-cyan-500"},{id:"image",title:"Create Images",titleAr:" ",description:"Create professional product images in seconds",descriptionAr:"     ",icon:Mi,category:"media",color:"from-purple-500 to-pink-500"},{id:"video",title:"Create Video",titleAr:" ",description:"Create attractive promotional videos for your products",descriptionAr:"    ",icon:lj,category:"media",color:"from-red-500 to-orange-500"},{id:"gpt",title:"Saeaa GPT",titleAr:" GPT",description:"Your smart assistant for professional store management and creation",descriptionAr:"     ",icon:bs,category:"all",color:"from-primary to-secondary"}];function iYe(){const{t:e,i18n:t}=It();$s();const{toast:s}=Lt(),a=t.language==="ar",[n,i]=f.useState("all"),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(290),g=f.useRef(null),x=n==="all"?TV:TV.filter(w=>w.category===n||w.category==="all"),y=w=>{var v;l(w),(v=g.current)==null||v.focus()},b=async()=>{if(!(!c.trim()||u)){h(!0);try{const w=await vj.chat({message:c,context:{currentPage:"ai-dashboard",tool:o,action:"create_content"}});s({title:a?"  ":"Created Successfully",description:a?"   ":"Content created successfully"}),d(""),l(null)}catch(w){s({title:a?"":"Error",description:w instanceof Error?w.message:a?"   ":"An error occurred",variant:"destructive"})}finally{h(!1)}}};return r.jsx("div",{dir:a?"rtl":"ltr",className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white",children:r.jsxs("div",{className:"flex h-screen overflow-hidden",children:[r.jsxs(Me.div,{initial:{x:a?100:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"w-64 bg-gray-900/50 border-l border-gray-800/50 p-6 flex flex-col",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:r.jsx(bs,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:" AI"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Saeaa AI"})]})]})}),r.jsx("nav",{className:"space-y-2 flex-1",children:[{id:"home",label:"",labelEn:"Home",icon:ip},{id:"media",label:"",labelEn:"Media",icon:Dfe},{id:"writing",label:"",labelEn:"Writing",icon:ka},{id:"programming",label:"",labelEn:"Programming",icon:om}].map(w=>r.jsxs("button",{className:xe("w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-right",o===w.id?"bg-primary/20 text-primary border border-primary/30":"text-gray-400 hover:text-white hover:bg-gray-800/50"),onClick:()=>{w.id==="media"?i("media"):w.id==="writing"?i("writing"):i("all")},children:[r.jsx(w.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:a?w.label:w.labelEn})]},w.id))}),r.jsx("div",{className:"mt-auto pt-6 border-t border-gray-800/50",children:r.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg p-4 border border-primary/30",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:a?" GPT":"Saeaa GPT"}),r.jsxs(V,{className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90",size:"sm",children:[r.jsx(bs,{className:"w-4 h-4 mr-2"}),a?"":"Start"]})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-gray-900/30 border-b border-gray-800/50 p-6",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[a?" ":"Remaining Balance",": ",r.jsx("span",{className:"text-primary font-bold",children:m})]}),r.jsx("h1",{className:"text-2xl font-bold",children:a?"  ":"Store Control Panel"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(pe,{placeholder:a?"   ":"Search for a specific tool",className:"w-64 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 pr-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"w-6 h-6 text-primary"}),r.jsx("span",{className:"font-bold text-lg",children:" AI"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:a?"      ":"What do you want to create for your store today?"}),r.jsx("div",{className:"flex items-center justify-center gap-4 mb-8 flex-wrap",children:[{id:"all",label:"",labelEn:"All"},{id:"media",label:"",labelEn:"Media"},{id:"writing",label:" ",labelEn:"Content Writing"},{id:"gpt",label:" GPT",labelEn:"Saeaa GPT"}].map(w=>r.jsx("button",{onClick:()=>{w.id==="gpt"?(l("gpt"),i("all")):(i(w.id),l(null))},className:xe("px-6 py-2 rounded-full font-semibold transition-all",w.id==="gpt"&&o==="gpt"||w.id!=="gpt"&&n===w.id?"bg-primary text-white shadow-lg shadow-primary/25":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-800"),children:a?w.label:w.labelEn},w.id))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:x.map(w=>{const v=w.icon;return r.jsx(Me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},className:"group",children:r.jsxs(we,{className:xe("bg-gray-800/50 border-gray-700 hover:border-primary/50 transition-all cursor-pointer h-full",o===w.id&&"border-primary bg-primary/10"),onClick:()=>y(w.id),children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:xe("w-12 h-12 rounded-lg bg-gradient-to-br flex items-center justify-center",`bg-gradient-to-br ${w.color}`),children:r.jsx(v,{className:"w-6 h-6 text-white"})}),o===w.id&&r.jsx(et,{className:"bg-primary text-white",children:a?"":"Selected"})]}),r.jsx(it,{className:"text-xl mb-2",children:a?w.titleAr:w.title}),r.jsx(Kt,{className:"text-gray-400",children:a?w.descriptionAr:w.description})]}),r.jsx(Se,{children:r.jsx(V,{className:xe("w-full",o===w.id?"bg-primary hover:bg-primary/90":"bg-gray-700 hover:bg-gray-600"),onClick:S=>{S.stopPropagation(),y(w.id)},children:a?"":"Start"})})]})},w.id)})}),r.jsx(we,{className:"bg-gray-800/50 border-gray-700",children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pe,{ref:g,value:c,onChange:w=>d(w.target.value),onKeyPress:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),b())},placeholder:a?" ...":"Create sh...",className:"bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500 h-12 pr-12"}),r.jsx("button",{onClick:b,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-lg bg-primary/20 hover:bg-primary/30 transition-colors",children:r.jsx(zn,{className:"w-5 h-5 text-primary"})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",className:"bg-gray-700/50 border-gray-600 text-white hover:bg-gray-600",onClick:()=>{d(a?"  ":"Create product image"),y("image")},children:[r.jsx(Mi,{className:"w-4 h-4 mr-2"}),a?" ":"Product Image"]}),r.jsxs(V,{variant:"outline",className:"bg-gray-700/50 border-gray-600 text-white hover:bg-gray-600",onClick:()=>{d(a?"  ":"Convert image to video"),y("video")},children:[r.jsx(lj,{className:"w-4 h-4 mr-2"}),a?" ":"Image to Video"]})]})]})})})]})})]})]})})}const oYe="modulepreload",lYe=function(e){return"/"+e},_V={},yy=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=lYe(c),c in _V)return;_V[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":oYe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var vk={};vk.version="0.18.5";var Wse=1252,cYe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cM={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dM=function(e){cYe.indexOf(e)!=-1&&(Wse=cM[0]=e)};function dYe(){dM(1252)}var Xc=function(e){dM(e)};function uM(){Xc(1200),dYe()}function DV(e){for(var t=[],s=0,a=e.length;s<a;++s)t[s]=e.charCodeAt(s);return t}function uYe(e){for(var t=[],s=0;s<e.length>>1;++s)t[s]=String.fromCharCode(e.charCodeAt(2*s)+(e.charCodeAt(2*s+1)<<8));return t.join("")}function Hse(e){for(var t=[],s=0;s<e.length>>1;++s)t[s]=String.fromCharCode(e.charCodeAt(2*s+1)+(e.charCodeAt(2*s)<<8));return t.join("")}var by=function(e){var t=e.charCodeAt(0),s=e.charCodeAt(1);return t==255&&s==254?uYe(e.slice(2)):t==254&&s==255?Hse(e.slice(2)):t==65279?e.slice(1):e},uN=function(t){return String.fromCharCode(t)},OV=function(t){return String.fromCharCode(t)},Mh,Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tw(e){for(var t="",s=0,a=0,n=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)s=e.charCodeAt(d++),i=s>>2,a=e.charCodeAt(d++),o=(s&3)<<4|a>>4,n=e.charCodeAt(d++),l=(a&15)<<2|n>>6,c=n&63,isNaN(a)?l=c=64:isNaN(n)&&(c=64),t+=Xh.charAt(i)+Xh.charAt(o)+Xh.charAt(l)+Xh.charAt(c);return t}function Tl(e){var t="",s=0,a=0,n=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Xh.indexOf(e.charAt(d++)),o=Xh.indexOf(e.charAt(d++)),s=i<<2|o>>4,t+=String.fromCharCode(s),l=Xh.indexOf(e.charAt(d++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=Xh.indexOf(e.charAt(d++)),n=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var ys=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ch=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,s){return s?new Buffer(t,s):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Em(e){return ys?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function IV(e){return ys?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var yl=function(t){return ys?ch(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)&255})};function HA(e){if(typeof ArrayBuffer>"u")return yl(e);for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return t}function Xm(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],s=0;s<e.length;++s)t[s]=String.fromCharCode(e[s]);return t.join("")}function hYe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function hM(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return hM(new Uint8Array(e));for(var t=new Array(e.length),s=0;s<e.length;++s)t[s]=e[s];return t}var xi=ys?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ch(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,s=0;for(t=0;t<e.length;++t)s+=e[t].length;var a=new Uint8Array(s),n=0;for(t=0,s=0;t<e.length;s+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],s);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function mYe(e){for(var t=[],s=0,a=e.length+250,n=Em(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)n[s++]=o;else if(o<2048)n[s++]=192|o>>6&31,n[s++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;n[s++]=240|o>>8&7,n[s++]=128|o>>2&63,n[s++]=128|l>>6&15|(o&3)<<4,n[s++]=128|l&63}else n[s++]=224|o>>12&15,n[s++]=128|o>>6&63,n[s++]=128|o&63;s>a&&(t.push(n.slice(0,s)),s=0,n=Em(65535),a=65530)}return t.push(n.slice(0,s)),xi(t)}var So=/\u0000/g,wy=/[\u0001-\u0006]/g;function yg(e){for(var t="",s=e.length-1;s>=0;)t+=e.charAt(s--);return t}function Qc(e,t){var s=""+e;return s.length>=t?s:pn("0",t-s.length)+s}function mM(e,t){var s=""+e;return s.length>=t?s:pn(" ",t-s.length)+s}function yk(e,t){var s=""+e;return s.length>=t?s:s+pn(" ",t-s.length)}function fYe(e,t){var s=""+Math.round(e);return s.length>=t?s:pn("0",t-s.length)+s}function pYe(e,t){var s=""+e;return s.length>=t?s:pn("0",t-s.length)+s}var RV=Math.pow(2,32);function vx(e,t){if(e>RV||e<-RV)return fYe(e,t);var s=Math.round(e);return pYe(s,t)}function bk(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var MV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],w4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xYe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var $r={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},FV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gYe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function wk(e,t,s){for(var a=e<0?-1:1,n=e*a,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(n);d<t&&(h=Math.floor(n),l=h*o+i,u=h*d+c,!(n-h<5e-8));)n=1/(n-h),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!s)return[0,a*l,u];var m=Math.floor(a*l/u);return[m,a*l-m*u,u]}function Rf(e,t,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++a,++l.D)),a===60)o=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),s&&(i=NYe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=i,l}var qse=new Date(1899,11,31,0,0,0),vYe=qse.getTime(),yYe=new Date(1900,2,1,0,0,0);function Gse(e,t){var s=e.getTime();return t?s-=1461*24*60*60*1e3:e>=yYe&&(s+=24*60*60*1e3),(s-(vYe+(e.getTimezoneOffset()-qse.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function fM(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bYe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function wYe(e){var t=e<0?12:11,s=fM(e.toFixed(12));return s.length<=t||(s=e.toPrecision(10),s.length<=t)?s:e.toExponential(5)}function jYe(e){var t=fM(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _w(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return t>=-4&&t<=-1?s=e.toPrecision(10+t):Math.abs(t)<=9?s=wYe(e):t===10?s=e.toFixed(10).substr(0,12):s=jYe(e),fM(bYe(s.toUpperCase()))}function jp(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_w(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return pc(14,Gse(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function NYe(e,t){t[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function SYe(e,t,s,a){var n="",i=0,o=0,l=s.y,c,d=0;switch(e){case 98:l=s.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=s.m,d=t.length;break;case 3:return w4[s.m-1][1];case 5:return w4[s.m-1][0];default:return w4[s.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=s.d,d=t.length;break;case 3:return MV[s.q][0];default:return MV[s.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(s.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=s.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=s.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return s.u===0&&(t=="s"||t=="ss")?Qc(s.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(s.S+s.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(n=Qc(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=s.D*24+s.H;break;case"[m]":case"[mm]":c=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":c=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Qc(c,d):"";return u}function Qh(e){var t=3;if(e.length<=t)return e;for(var s=e.length%t,a=e.substr(0,s);s!=e.length;s+=t)a+=(a.length>0?",":"")+e.substr(s,t);return a}var Kse=/%/g;function kYe(e,t,s){var a=t.replace(Kse,""),n=t.length-a.length;return Mu(e,a,s*Math.pow(10,2*n))+pn("%",n)}function CYe(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Mu(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function Yse(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Yse(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(o-s.length+i):s+="E+"+(o-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var Xse=/# (\?+)( ?)\/( ?)(\d+)/;function AYe(e,t,s){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),o=n-i*a,l=a;return s+(i===0?"":""+i)+" "+(o===0?pn(" ",e[1].length+1+e[4].length):mM(o,e[1].length)+e[2]+"/"+e[3]+Qc(l,e[4].length))}function EYe(e,t,s){return s+(t===0?"":""+t)+pn(" ",e[1].length+2+e[4].length)}var Qse=/^#*0*\.([0#]+)/,Jse=/\).*[0#]/,Zse=/\(###\) ###\\?-####/;function po(e){for(var t="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(s)}return t}function LV(e,t){var s=Math.pow(10,t);return""+Math.round(e*s)/s}function $V(e,t){var s=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(s*a)).length?0:Math.round(s*a)}function PYe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function TYe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function $l(e,t,s){if(e.charCodeAt(0)===40&&!t.match(Jse)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?$l("n",a,s):"("+$l("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return CYe(e,t,s);if(t.indexOf("%")!==-1)return kYe(e,t,s);if(t.indexOf("E")!==-1)return Yse(t,s);if(t.charCodeAt(0)===36)return"$"+$l(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,o,l,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+vx(c,t.length);if(t.match(/^[#?]+$/))return n=vx(s,0),n==="0"&&(n=""),n.length>t.length?n:po(t.substr(0,t.length-n.length))+n;if(i=t.match(Xse))return AYe(i,c,d);if(t.match(/^#+0+$/))return d+vx(c,t.length-t.indexOf("0"));if(i=t.match(Qse))return n=LV(s,i[1].length).replace(/^([^\.]+)$/,"$1."+po(i[1])).replace(/\.$/,"."+po(i[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+pn("0",po(i[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+LV(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Qh(vx(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+$l(e,t,-s):Qh(""+(Math.floor(s)+PYe(s,i[1].length)))+"."+Qc($V(s,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return $l(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=yg($l(e,t.replace(/[\\-]/g,""),s)),o=0,yg(yg(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(Zse))return n=$l(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=wk(c,Math.pow(10,o)-1,!1),n=""+d,u=Mu("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=yk(l[2],o),u.length<i[4].length&&(u=po(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=wk(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?mM(l[1],o)+i[2]+"/"+i[3]+yk(l[2],o):pn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=vx(s,0),t.length<=n.length?n:po(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var h=t.indexOf(".")-o,m=t.length-n.length-h;return po(t.substr(0,h)+n+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=$V(s,i[1].length),s<0?"-"+$l(e,t,-s):Qh(TYe(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Qc(0,3-g.length):"")+g})+"."+Qc(o,i[1].length);switch(t){case"###,##0.00":return $l(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var p=Qh(vx(c,0));return p!=="0"?d+p:"";case"###,###.00":return $l(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return $l(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _Ye(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Mu(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function DYe(e,t,s){var a=t.replace(Kse,""),n=t.length-a.length;return Mu(e,a,s*Math.pow(10,2*n))+pn("%",n)}function eae(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+eae(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(o-s.length+i):s+="E+"+(o-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function yd(e,t,s){if(e.charCodeAt(0)===40&&!t.match(Jse)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?yd("n",a,s):"("+yd("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return _Ye(e,t,s);if(t.indexOf("%")!==-1)return DYe(e,t,s);if(t.indexOf("E")!==-1)return eae(t,s);if(t.charCodeAt(0)===36)return"$"+yd(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,o,l,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+Qc(c,t.length);if(t.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>t.length?n:po(t.substr(0,t.length-n.length))+n;if(i=t.match(Xse))return EYe(i,c,d);if(t.match(/^#+0+$/))return d+Qc(c,t.length-t.indexOf("0"));if(i=t.match(Qse))return n=(""+s).replace(/^([^\.]+)$/,"$1."+po(i[1])).replace(/\.$/,"."+po(i[1])),n=n.replace(/\.(\d*)$/,function(g,x){return"."+x+pn("0",po(i[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Qh(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+yd(e,t,-s):Qh(""+s)+"."+pn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return yd(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=yg(yd(e,t.replace(/[\\-]/g,""),s)),o=0,yg(yg(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(Zse))return n=yd(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=wk(c,Math.pow(10,o)-1,!1),n=""+d,u=Mu("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=yk(l[2],o),u.length<i[4].length&&(u=po(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=wk(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?mM(l[1],o)+i[2]+"/"+i[3]+yk(l[2],o):pn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+s,t.length<=n.length?n:po(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var h=t.indexOf(".")-o,m=t.length-n.length-h;return po(t.substr(0,h)+n+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return s<0?"-"+yd(e,t,-s):Qh(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Qc(0,3-g.length):"")+g})+"."+Qc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Qh(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return yd(e,t.slice(0,t.lastIndexOf(".")),s)+po(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Mu(e,t,s){return(s|0)===s?yd(e,t,s):$l(e,t,s)}function OYe(e){for(var t=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var tae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fv(e){for(var t=0,s="",a="";t<e.length;)switch(s=e.charAt(t)){case"G":bk(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=s;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(tae))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++t))>-1||s=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===s;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function IYe(e,t,s,a){for(var n=[],i="",o=0,l="",c="t",d,u,h,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!bk(e,o))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);n[n.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";n[n.length]={t:g,v:p},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Rf(t,s,e.charAt(o+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Rf(t,s),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),n[n.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=Rf(t,s)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),d==null&&x.t==="T")return"";n[n.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(tae)){if(d==null&&(d=Rf(t,s),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",fv(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;n[n.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;n[n.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:l,v:l},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++o;break}var y=0,b=0,w;for(o=n.length-1,c="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=m,c="h",y<1&&(y=1);break;case"s":(w=n[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=n[o].t;break;case"m":c==="s"&&(n[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&n[o].v.match(/[Hh]/)&&(y=1),y<2&&n[o].v.match(/[Mm]/)&&(y=2),y<3&&n[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var v="",S;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=SYe(n[o].t.charCodeAt(0),n[o].v,d,b),n[o].t="t";break;case"n":case"?":for(S=o+1;n[S]!=null&&((l=n[S].t)==="?"||l==="D"||(l===" "||l==="t")&&n[S+1]!=null&&(n[S+1].t==="?"||n[S+1].t==="t"&&n[S+1].v==="/")||n[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[S].v==="/"||n[S].v===" "&&n[S+1]!=null&&n[S+1].t=="?"));)n[o].v+=n[S].v,n[S]={v:"",t:";"},++S;v+=n[o].v,o=S-1;break;case"G":n[o].t="t",n[o].v=jp(t,s);break}var j="",k,N;if(v.length>0){v.charCodeAt(0)==40?(k=t<0&&v.charCodeAt(0)===45?-t:t,N=Mu("n",v,k)):(k=t<0&&a>1?-t:t,N=Mu("n",v,k),k<0&&n[0]&&n[0].t=="t"&&(N=N.substr(1),n[0].v="-"+n[0].v)),S=N.length-1;var C=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){C=o;break}var A=n.length;if(C===n.length&&N.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(S>=n[o].v.length-1?(S-=n[o].v.length,n[o].v=N.substr(S+1,n[o].v.length)):S<0?n[o].v="":(n[o].v=N.substr(0,S+1),S=-1),n[o].t="t",A=o);S>=0&&A<n.length&&(n[A].v=N.substr(0,S+1)+n[A].v)}else if(C!==n.length&&N.indexOf("E")===-1){for(S=N.indexOf(".")-1,o=C;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(u=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")-1:n[o].v.length-1,j=n[o].v.substr(u+1);u>=0;--u)S>=0&&(n[o].v.charAt(u)==="0"||n[o].v.charAt(u)==="#")&&(j=N.charAt(S--)+j);n[o].v=j,n[o].t="t",A=o}for(S>=0&&A<n.length&&(n[A].v=N.substr(0,S+1)+n[A].v),S=N.indexOf(".")+1,o=C;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==C)){for(u=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")+1:0,j=n[o].v.substr(0,u);u<n[o].v.length;++u)S<N.length&&(j+=N.charAt(S++));n[o].v=j,n[o].t="t",A=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(k=a>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=Mu(n[o].t,n[o].v,k),n[o].t="t");var E="";for(o=0;o!==n.length;++o)n[o]!=null&&(E+=n[o].v);return E}var BV=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UV(e,t){if(t==null)return!1;var s=parseFloat(t[2]);switch(t[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function RYe(e,t){var s=OYe(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof t!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=t>0?s[0]:t<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var o=s[0].match(BV),l=s[1].match(BV);return UV(t,o)?[a,s[0]]:UV(t,l)?[a,s[1]]:[a,s[o!=null&&l!=null?2:1]]}return[a,i]}function pc(e,t,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:$r)[e],a==null&&(a=s.table&&s.table[FV[e]]||$r[FV[e]]),a==null&&(a=gYe[e]||"General");break}if(bk(a,0))return jp(t,s);t instanceof Date&&(t=Gse(t,s.date1904));var n=RYe(a,t);if(bk(n[1]))return jp(t,s);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return IYe(n[1],t,s,n[0])}function Fu(e,t){if(typeof t!="number"){t=+t||-1;for(var s=0;s<392;++s){if($r[s]==null){t<0&&(t=s);continue}if($r[s]==e){t=s;break}}t<0&&(t=391)}return $r[t]=e,t}function qA(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Fu(e[t],t)}function pv(){$r=xYe()}var MYe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function FYe(e){var t=typeof e=="number"?$r[e]:e;return t=t.replace(rae,"(\\d+)"),new RegExp("^"+t+"$")}function LYe(e,t,s){var a=-1,n=-1,i=-1,o=-1,l=-1,c=-1;(t.match(rae)||[]).forEach(function(h,m){var p=parseInt(s[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:n=p;break}}),c>=0&&l==-1&&n>=0&&(l=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:a==-1&&n==-1&&i==-1?u:d+"T"+u}var $Ye=function(){var e={};e.version="1.2.0";function t(){for(var N=0,C=new Array(256),A=0;A!=256;++A)N=A,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,C[A]=N;return typeof Int32Array<"u"?new Int32Array(C):C}var s=t();function a(N){var C=0,A=0,E=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)D[E]=N[E];for(E=0;E!=256;++E)for(A=N[E],C=256+E;C<4096;C+=256)A=D[C]=A>>>8^N[A&255];var T=[];for(E=1;E!=16;++E)T[E-1]=typeof Int32Array<"u"?D.subarray(E*256,E*256+256):D.slice(E*256,E*256+256);return T}var n=a(s),i=n[0],o=n[1],l=n[2],c=n[3],d=n[4],u=n[5],h=n[6],m=n[7],p=n[8],g=n[9],x=n[10],y=n[11],b=n[12],w=n[13],v=n[14];function S(N,C){for(var A=C^-1,E=0,D=N.length;E<D;)A=A>>>8^s[(A^N.charCodeAt(E++))&255];return~A}function j(N,C){for(var A=C^-1,E=N.length-15,D=0;D<E;)A=v[N[D++]^A&255]^w[N[D++]^A>>8&255]^b[N[D++]^A>>16&255]^y[N[D++]^A>>>24]^x[N[D++]]^g[N[D++]]^p[N[D++]]^m[N[D++]]^h[N[D++]]^u[N[D++]]^d[N[D++]]^c[N[D++]]^l[N[D++]]^o[N[D++]]^i[N[D++]]^s[N[D++]];for(E+=15;D<E;)A=A>>>8^s[(A^N[D++])&255];return~A}function k(N,C){for(var A=C^-1,E=0,D=N.length,T=0,P=0;E<D;)T=N.charCodeAt(E++),T<128?A=A>>>8^s[(A^T)&255]:T<2048?(A=A>>>8^s[(A^(192|T>>6&31))&255],A=A>>>8^s[(A^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,P=N.charCodeAt(E++)&1023,A=A>>>8^s[(A^(240|T>>8&7))&255],A=A>>>8^s[(A^(128|T>>2&63))&255],A=A>>>8^s[(A^(128|P>>6&15|(T&3)<<4))&255],A=A>>>8^s[(A^(128|P&63))&255]):(A=A>>>8^s[(A^(224|T>>12&15))&255],A=A>>>8^s[(A^(128|T>>6&63))&255],A=A>>>8^s[(A^(128|T&63))&255]);return~A}return e.table=s,e.bstr=S,e.buf=j,e.str=k,e}(),Tr=function(){var t={};t.version="1.2.1";function s(ee,ye){for(var X=ee.split("/"),le=ye.split("/"),he=0,ge=0,Be=Math.min(X.length,le.length);he<Be;++he){if(ge=X[he].length-le[he].length)return ge;if(X[he]!=le[he])return X[he]<le[he]?-1:1}return X.length-le.length}function a(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:a(ee.slice(0,-1));var ye=ee.lastIndexOf("/");return ye===-1?ee:ee.slice(0,ye+1)}function n(ee){if(ee.charAt(ee.length-1)=="/")return n(ee.slice(0,-1));var ye=ee.lastIndexOf("/");return ye===-1?ee:ee.slice(ye+1)}function i(ee,ye){typeof ye=="string"&&(ye=new Date(ye));var X=ye.getHours();X=X<<6|ye.getMinutes(),X=X<<5|ye.getSeconds()>>>1,ee.write_shift(2,X);var le=ye.getFullYear()-1980;le=le<<4|ye.getMonth()+1,le=le<<5|ye.getDate(),ee.write_shift(2,le)}function o(ee){var ye=ee.read_shift(2)&65535,X=ee.read_shift(2)&65535,le=new Date,he=X&31;X>>>=5;var ge=X&15;X>>>=4,le.setMilliseconds(0),le.setFullYear(X+1980),le.setMonth(ge-1),le.setDate(he);var Be=ye&31;ye>>>=5;var Fe=ye&63;return ye>>>=6,le.setHours(ye),le.setMinutes(Fe),le.setSeconds(Be<<1),le}function l(ee){Ei(ee,0);for(var ye={},X=0;ee.l<=ee.length-4;){var le=ee.read_shift(2),he=ee.read_shift(2),ge=ee.l+he,Be={};switch(le){case 21589:X=ee.read_shift(1),X&1&&(Be.mtime=ee.read_shift(4)),he>5&&(X&2&&(Be.atime=ee.read_shift(4)),X&4&&(Be.ctime=ee.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}ee.l=ge,ye[le]=Be}return ye}var c;function d(){return c||(c={})}function u(ee,ye){if(ee[0]==80&&ee[1]==75)return Wa(ee,ye);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ke(ee,ye);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var X=3,le=512,he=0,ge=0,Be=0,Fe=0,Re=0,De=[],ke=ee.slice(0,512);Ei(ke,0);var ve=h(ke);switch(X=ve[0],X){case 3:le=512;break;case 4:le=4096;break;case 0:if(ve[1]==0)return Wa(ee,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}le!==512&&(ke=ee.slice(0,le),Ei(ke,28));var Le=ee.slice(0,le);m(ke,X);var rt=ke.read_shift(4,"i");if(X===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);ke.l+=4,Be=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),Fe=ke.read_shift(4,"i"),he=ke.read_shift(4,"i"),Re=ke.read_shift(4,"i"),ge=ke.read_shift(4,"i");for(var ut=-1,gt=0;gt<109&&(ut=ke.read_shift(4,"i"),!(ut<0));++gt)De[gt]=ut;var Ot=p(ee,le);y(Re,ge,Ot,le,De);var te=w(Ot,Be,De,le);te[Be].name="!Directory",he>0&&Fe!==P&&(te[Fe].name="!MiniFAT"),te[De[0]].name="!FAT",te.fat_addrs=De,te.ssz=le;var zt={},hr=[],ks=[],Ar=[];v(Be,te,Ot,hr,he,zt,ks,Fe),g(ks,Ar,hr),hr.shift();var Nr={FileIndex:ks,FullPaths:Ar};return ye&&ye.raw&&(Nr.raw={header:Le,sectors:Ot}),Nr}function h(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(_,"Header Signature: "),ee.l+=16;var ye=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ye]}function m(ee,ye){var X=9;switch(ee.l+=2,X=ee.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ye){for(var X=Math.ceil(ee.length/ye)-1,le=[],he=1;he<X;++he)le[he-1]=ee.slice(he*ye,(he+1)*ye);return le[X-1]=ee.slice(X*ye),le}function g(ee,ye,X){for(var le=0,he=0,ge=0,Be=0,Fe=0,Re=X.length,De=[],ke=[];le<Re;++le)De[le]=ke[le]=le,ye[le]=X[le];for(;Fe<ke.length;++Fe)le=ke[Fe],he=ee[le].L,ge=ee[le].R,Be=ee[le].C,De[le]===le&&(he!==-1&&De[he]!==he&&(De[le]=De[he]),ge!==-1&&De[ge]!==ge&&(De[le]=De[ge])),Be!==-1&&(De[Be]=le),he!==-1&&le!=De[le]&&(De[he]=De[le],ke.lastIndexOf(he)<Fe&&ke.push(he)),ge!==-1&&le!=De[le]&&(De[ge]=De[le],ke.lastIndexOf(ge)<Fe&&ke.push(ge));for(le=1;le<Re;++le)De[le]===le&&(ge!==-1&&De[ge]!==ge?De[le]=De[ge]:he!==-1&&De[he]!==he&&(De[le]=De[he]));for(le=1;le<Re;++le)if(ee[le].type!==0){if(Fe=le,Fe!=De[Fe])do Fe=De[Fe],ye[le]=ye[Fe]+"/"+ye[le];while(Fe!==0&&De[Fe]!==-1&&Fe!=De[Fe]);De[le]=-1}for(ye[0]+="/",le=1;le<Re;++le)ee[le].type!==2&&(ye[le]+="/")}function x(ee,ye,X){for(var le=ee.start,he=ee.size,ge=[],Be=le;X&&he>0&&Be>=0;)ge.push(ye.slice(Be*T,Be*T+T)),he-=T,Be=wf(X,Be*4);return ge.length===0?dt(0):xi(ge).slice(0,ee.size)}function y(ee,ye,X,le,he){var ge=P;if(ee===P){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Be=X[ee],Fe=(le>>>2)-1;if(!Be)return;for(var Re=0;Re<Fe&&(ge=wf(Be,Re*4))!==P;++Re)he.push(ge);y(wf(Be,le-4),ye-1,X,le,he)}}function b(ee,ye,X,le,he){var ge=[],Be=[];he||(he=[]);var Fe=le-1,Re=0,De=0;for(Re=ye;Re>=0;){he[Re]=!0,ge[ge.length]=Re,Be.push(ee[Re]);var ke=X[Math.floor(Re*4/le)];if(De=Re*4&Fe,le<4+De)throw new Error("FAT boundary crossed: "+Re+" 4 "+le);if(!ee[ke])break;Re=wf(ee[ke],De)}return{nodes:ge,data:ZV([Be])}}function w(ee,ye,X,le){var he=ee.length,ge=[],Be=[],Fe=[],Re=[],De=le-1,ke=0,ve=0,Le=0,rt=0;for(ke=0;ke<he;++ke)if(Fe=[],Le=ke+ye,Le>=he&&(Le-=he),!Be[Le]){Re=[];var ut=[];for(ve=Le;ve>=0;){ut[ve]=!0,Be[ve]=!0,Fe[Fe.length]=ve,Re.push(ee[ve]);var gt=X[Math.floor(ve*4/le)];if(rt=ve*4&De,le<4+rt)throw new Error("FAT boundary crossed: "+ve+" 4 "+le);if(!ee[gt]||(ve=wf(ee[gt],rt),ut[ve]))break}ge[Le]={nodes:Fe,data:ZV([Re])}}return ge}function v(ee,ye,X,le,he,ge,Be,Fe){for(var Re=0,De=le.length?2:0,ke=ye[ee].data,ve=0,Le=0,rt;ve<ke.length;ve+=128){var ut=ke.slice(ve,ve+128);Ei(ut,64),Le=ut.read_shift(2),rt=wM(ut,0,Le-De),le.push(rt);var gt={name:rt,type:ut.read_shift(1),color:ut.read_shift(1),L:ut.read_shift(4,"i"),R:ut.read_shift(4,"i"),C:ut.read_shift(4,"i"),clsid:ut.read_shift(16),state:ut.read_shift(4,"i"),start:0,size:0},Ot=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Ot!==0&&(gt.ct=S(ut,ut.l-8));var te=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);te!==0&&(gt.mt=S(ut,ut.l-8)),gt.start=ut.read_shift(4,"i"),gt.size=ut.read_shift(4,"i"),gt.size<0&&gt.start<0&&(gt.size=gt.type=0,gt.start=P,gt.name=""),gt.type===5?(Re=gt.start,he>0&&Re!==P&&(ye[Re].name="!StreamData")):gt.size>=4096?(gt.storage="fat",ye[gt.start]===void 0&&(ye[gt.start]=b(X,gt.start,ye.fat_addrs,ye.ssz)),ye[gt.start].name=gt.name,gt.content=ye[gt.start].data.slice(0,gt.size)):(gt.storage="minifat",gt.size<0?gt.size=0:Re!==P&&gt.start!==P&&ye[Re]&&(gt.content=x(gt,ye[Re].data,(ye[Fe]||{}).data))),gt.content&&Ei(gt.content,0),ge[rt]=gt,Be.push(gt)}}function S(ee,ye){return new Date((gl(ee,ye+4)/1e7*Math.pow(2,32)+gl(ee,ye)/1e7-11644473600)*1e3)}function j(ee,ye){return d(),u(c.readFileSync(ee),ye)}function k(ee,ye){var X=ye&&ye.type;switch(X||ys&&Buffer.isBuffer(ee)&&(X="buffer"),X||"base64"){case"file":return j(ee,ye);case"base64":return u(yl(Tl(ee)),ye);case"binary":return u(yl(ee),ye)}return u(ee,ye)}function N(ee,ye){var X=ye||{},le=X.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=le+"/",ee.FileIndex[0]={name:le,type:5}),X.CLSID&&(ee.FileIndex[0].clsid=X.CLSID),C(ee)}function C(ee){var ye="Sh33tJ5";if(!Tr.find(ee,"/"+ye)){var X=dt(4);X[0]=55,X[1]=X[3]=50,X[2]=54,ee.FileIndex.push({name:ye,type:2,content:X,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ye),A(ee)}}function A(ee,ye){N(ee);for(var X=!1,le=!1,he=ee.FullPaths.length-1;he>=0;--he){var ge=ee.FileIndex[he];switch(ge.type){case 0:le?X=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(ge.R*ge.L*ge.C)&&(X=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ye)){var Be=new Date(1987,1,19),Fe=0,Re=Object.create?Object.create(null):{},De=[];for(he=0;he<ee.FullPaths.length;++he)Re[ee.FullPaths[he]]=!0,ee.FileIndex[he].type!==0&&De.push([ee.FullPaths[he],ee.FileIndex[he]]);for(he=0;he<De.length;++he){var ke=a(De[he][0]);le=Re[ke],le||(De.push([ke,{name:n(ke).replace("/",""),type:1,clsid:M,ct:Be,mt:Be,content:null}]),Re[ke]=!0)}for(De.sort(function(rt,ut){return s(rt[0],ut[0])}),ee.FullPaths=[],ee.FileIndex=[],he=0;he<De.length;++he)ee.FullPaths[he]=De[he][0],ee.FileIndex[he]=De[he][1];for(he=0;he<De.length;++he){var ve=ee.FileIndex[he],Le=ee.FullPaths[he];if(ve.name=n(Le).replace("/",""),ve.L=ve.R=ve.C=-(ve.color=1),ve.size=ve.content?ve.content.length:0,ve.start=0,ve.clsid=ve.clsid||M,he===0)ve.C=De.length>1?1:-1,ve.size=0,ve.type=5;else if(Le.slice(-1)=="/"){for(Fe=he+1;Fe<De.length&&a(ee.FullPaths[Fe])!=Le;++Fe);for(ve.C=Fe>=De.length?-1:Fe,Fe=he+1;Fe<De.length&&a(ee.FullPaths[Fe])!=a(Le);++Fe);ve.R=Fe>=De.length?-1:Fe,ve.type=1}else a(ee.FullPaths[he+1]||"")==a(Le)&&(ve.R=he+1),ve.type=2}}}function E(ee,ye){var X=ye||{};if(X.fileType=="mad")return Ge(ee,X);switch(A(ee),X.fileType){case"zip":return ss(ee,X)}var le=function(rt){for(var ut=0,gt=0,Ot=0;Ot<rt.FileIndex.length;++Ot){var te=rt.FileIndex[Ot];if(te.content){var zt=te.content.length;zt>0&&(zt<4096?ut+=zt+63>>6:gt+=zt+511>>9)}}for(var hr=rt.FullPaths.length+3>>2,ks=ut+7>>3,Ar=ut+127>>7,Nr=ks+gt+hr+Ar,ot=Nr+127>>7,Er=ot<=109?0:Math.ceil((ot-109)/127);Nr+ot+Er+127>>7>ot;)Er=++ot<=109?0:Math.ceil((ot-109)/127);var ms=[1,Er,ot,Ar,hr,gt,ut,0];return rt.FileIndex[0].size=ut<<6,ms[7]=(rt.FileIndex[0].start=ms[0]+ms[1]+ms[2]+ms[3]+ms[4]+ms[5])+(ms[6]+7>>3),ms}(ee),he=dt(le[7]<<9),ge=0,Be=0;{for(ge=0;ge<8;++ge)he.write_shift(1,O[ge]);for(ge=0;ge<8;++ge)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ge=0;ge<3;++ge)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,le[2]),he.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:P),he.write_shift(4,le[3]),he.write_shift(-4,le[1]?le[0]-1:P),he.write_shift(4,le[1]),ge=0;ge<109;++ge)he.write_shift(-4,ge<le[2]?le[1]+ge:-1)}if(le[1])for(Be=0;Be<le[1];++Be){for(;ge<236+Be*127;++ge)he.write_shift(-4,ge<le[2]?le[1]+ge:-1);he.write_shift(-4,Be===le[1]-1?P:Be+1)}var Fe=function(rt){for(Be+=rt;ge<Be-1;++ge)he.write_shift(-4,ge+1);rt&&(++ge,he.write_shift(-4,P))};for(Be=ge=0,Be+=le[1];ge<Be;++ge)he.write_shift(-4,I.DIFSECT);for(Be+=le[2];ge<Be;++ge)he.write_shift(-4,I.FATSECT);Fe(le[3]),Fe(le[4]);for(var Re=0,De=0,ke=ee.FileIndex[0];Re<ee.FileIndex.length;++Re)ke=ee.FileIndex[Re],ke.content&&(De=ke.content.length,!(De<4096)&&(ke.start=Be,Fe(De+511>>9)));for(Fe(le[6]+7>>3);he.l&511;)he.write_shift(-4,I.ENDOFCHAIN);for(Be=ge=0,Re=0;Re<ee.FileIndex.length;++Re)ke=ee.FileIndex[Re],ke.content&&(De=ke.content.length,!(!De||De>=4096)&&(ke.start=Be,Fe(De+63>>6)));for(;he.l&511;)he.write_shift(-4,I.ENDOFCHAIN);for(ge=0;ge<le[4]<<2;++ge){var ve=ee.FullPaths[ge];if(!ve||ve.length===0){for(Re=0;Re<17;++Re)he.write_shift(4,0);for(Re=0;Re<3;++Re)he.write_shift(4,-1);for(Re=0;Re<12;++Re)he.write_shift(4,0);continue}ke=ee.FileIndex[ge],ge===0&&(ke.start=ke.size?ke.start-1:P);var Le=ge===0&&X.root||ke.name;if(De=2*(Le.length+1),he.write_shift(64,Le,"utf16le"),he.write_shift(2,De),he.write_shift(1,ke.type),he.write_shift(1,ke.color),he.write_shift(-4,ke.L),he.write_shift(-4,ke.R),he.write_shift(-4,ke.C),ke.clsid)he.write_shift(16,ke.clsid,"hex");else for(Re=0;Re<4;++Re)he.write_shift(4,0);he.write_shift(4,ke.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,ke.start),he.write_shift(4,ke.size),he.write_shift(4,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(ke=ee.FileIndex[ge],ke.size>=4096)if(he.l=ke.start+1<<9,ys&&Buffer.isBuffer(ke.content))ke.content.copy(he,he.l,0,ke.size),he.l+=ke.size+511&-512;else{for(Re=0;Re<ke.size;++Re)he.write_shift(1,ke.content[Re]);for(;Re&511;++Re)he.write_shift(1,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(ke=ee.FileIndex[ge],ke.size>0&&ke.size<4096)if(ys&&Buffer.isBuffer(ke.content))ke.content.copy(he,he.l,0,ke.size),he.l+=ke.size+63&-64;else{for(Re=0;Re<ke.size;++Re)he.write_shift(1,ke.content[Re]);for(;Re&63;++Re)he.write_shift(1,0)}if(ys)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function D(ee,ye){var X=ee.FullPaths.map(function(Re){return Re.toUpperCase()}),le=X.map(function(Re){var De=Re.split("/");return De[De.length-(Re.slice(-1)=="/"?2:1)]}),he=!1;ye.charCodeAt(0)===47?(he=!0,ye=X[0].slice(0,-1)+ye):he=ye.indexOf("/")!==-1;var ge=ye.toUpperCase(),Be=he===!0?X.indexOf(ge):le.indexOf(ge);if(Be!==-1)return ee.FileIndex[Be];var Fe=!ge.match(wy);for(ge=ge.replace(So,""),Fe&&(ge=ge.replace(wy,"!")),Be=0;Be<X.length;++Be)if((Fe?X[Be].replace(wy,"!"):X[Be]).replace(So,"")==ge||(Fe?le[Be].replace(wy,"!"):le[Be]).replace(So,"")==ge)return ee.FileIndex[Be];return null}var T=64,P=-2,_="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:_,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function R(ee,ye,X){d();var le=E(ee,X);c.writeFileSync(ye,le)}function L(ee){for(var ye=new Array(ee.length),X=0;X<ee.length;++X)ye[X]=String.fromCharCode(ee[X]);return ye.join("")}function K(ee,ye){var X=E(ee,ye);switch(ye&&ye.type||"buffer"){case"file":return d(),c.writeFileSync(ye.filename,X),X;case"binary":return typeof X=="string"?X:L(X);case"base64":return Tw(typeof X=="string"?X:L(X));case"buffer":if(ys)return Buffer.isBuffer(X)?X:ch(X);case"array":return typeof X=="string"?yl(X):X}return X}var H;function F(ee){try{var ye=ee.InflateRaw,X=new ye;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)H=ee;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function G(ee,ye){if(!H)return Zs(ee,ye);var X=H.InflateRaw,le=new X,he=le._processChunk(ee.slice(ee.l),le._finishFlushFlag);return ee.l+=le.bytesRead,he}function U(ee){return H?H.deflateRawSync(ee):vt(ee)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ie(ee){var ye=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var re=typeof Uint8Array<"u",q=re?new Uint8Array(256):[],se=0;se<256;++se)q[se]=ie(se);function B(ee,ye){var X=q[ee&255];return ye<=8?X>>>8-ye:(X=X<<8|q[ee>>8&255],ye<=16?X>>>16-ye:(X=X<<8|q[ee>>16&255],X>>>24-ye))}function oe(ee,ye){var X=ye&7,le=ye>>>3;return(ee[le]|(X<=6?0:ee[le+1]<<8))>>>X&3}function de(ee,ye){var X=ye&7,le=ye>>>3;return(ee[le]|(X<=5?0:ee[le+1]<<8))>>>X&7}function Te(ee,ye){var X=ye&7,le=ye>>>3;return(ee[le]|(X<=4?0:ee[le+1]<<8))>>>X&15}function He(ee,ye){var X=ye&7,le=ye>>>3;return(ee[le]|(X<=3?0:ee[le+1]<<8))>>>X&31}function Oe(ee,ye){var X=ye&7,le=ye>>>3;return(ee[le]|(X<=1?0:ee[le+1]<<8))>>>X&127}function me(ee,ye,X){var le=ye&7,he=ye>>>3,ge=(1<<X)-1,Be=ee[he]>>>le;return X<8-le||(Be|=ee[he+1]<<8-le,X<16-le)||(Be|=ee[he+2]<<16-le,X<24-le)||(Be|=ee[he+3]<<24-le),Be&ge}function Ue(ee,ye,X){var le=ye&7,he=ye>>>3;return le<=5?ee[he]|=(X&7)<<le:(ee[he]|=X<<le&255,ee[he+1]=(X&7)>>8-le),ye+3}function ce(ee,ye,X){var le=ye&7,he=ye>>>3;return X=(X&1)<<le,ee[he]|=X,ye+1}function Ee(ee,ye,X){var le=ye&7,he=ye>>>3;return X<<=le,ee[he]|=X&255,X>>>=8,ee[he+1]=X,ye+8}function Pe(ee,ye,X){var le=ye&7,he=ye>>>3;return X<<=le,ee[he]|=X&255,X>>>=8,ee[he+1]=X&255,ee[he+2]=X>>>8,ye+16}function $e(ee,ye){var X=ee.length,le=2*X>ye?2*X:ye+5,he=0;if(X>=ye)return ee;if(ys){var ge=IV(le);if(ee.copy)ee.copy(ge);else for(;he<ee.length;++he)ge[he]=ee[he];return ge}else if(re){var Be=new Uint8Array(le);if(Be.set)Be.set(ee);else for(;he<X;++he)Be[he]=ee[he];return Be}return ee.length=le,ee}function We(ee){for(var ye=new Array(ee),X=0;X<ee;++X)ye[X]=0;return ye}function Xe(ee,ye,X){var le=1,he=0,ge=0,Be=0,Fe=0,Re=ee.length,De=re?new Uint16Array(32):We(32);for(ge=0;ge<32;++ge)De[ge]=0;for(ge=Re;ge<X;++ge)ee[ge]=0;Re=ee.length;var ke=re?new Uint16Array(Re):We(Re);for(ge=0;ge<Re;++ge)De[he=ee[ge]]++,le<he&&(le=he),ke[ge]=0;for(De[0]=0,ge=1;ge<=le;++ge)De[ge+16]=Fe=Fe+De[ge-1]<<1;for(ge=0;ge<Re;++ge)Fe=ee[ge],Fe!=0&&(ke[ge]=De[Fe+16]++);var ve=0;for(ge=0;ge<Re;++ge)if(ve=ee[ge],ve!=0)for(Fe=B(ke[ge],le)>>le-ve,Be=(1<<le+4-ve)-1;Be>=0;--Be)ye[Fe|Be<<ve]=ve&15|ge<<4;return le}var Ce=re?new Uint16Array(512):We(512),Ye=re?new Uint16Array(32):We(32);if(!re){for(var ft=0;ft<512;++ft)Ce[ft]=0;for(ft=0;ft<32;++ft)Ye[ft]=0}(function(){for(var ee=[],ye=0;ye<32;ye++)ee.push(5);Xe(ee,Ye,32);var X=[];for(ye=0;ye<=143;ye++)X.push(8);for(;ye<=255;ye++)X.push(9);for(;ye<=279;ye++)X.push(7);for(;ye<=287;ye++)X.push(8);Xe(X,Ce,288)})();var Pt=function(){for(var ye=re?new Uint8Array(32768):[],X=0,le=0;X<z.length-1;++X)for(;le<z[X+1];++le)ye[le]=X;for(;le<32768;++le)ye[le]=29;var he=re?new Uint8Array(259):[];for(X=0,le=0;X<J.length-1;++X)for(;le<J[X+1];++le)he[le]=X;function ge(Fe,Re){for(var De=0;De<Fe.length;){var ke=Math.min(65535,Fe.length-De),ve=De+ke==Fe.length;for(Re.write_shift(1,+ve),Re.write_shift(2,ke),Re.write_shift(2,~ke&65535);ke-- >0;)Re[Re.l++]=Fe[De++]}return Re.l}function Be(Fe,Re){for(var De=0,ke=0,ve=re?new Uint16Array(32768):[];ke<Fe.length;){var Le=Math.min(65535,Fe.length-ke);if(Le<10){for(De=Ue(Re,De,+(ke+Le==Fe.length)),De&7&&(De+=8-(De&7)),Re.l=De/8|0,Re.write_shift(2,Le),Re.write_shift(2,~Le&65535);Le-- >0;)Re[Re.l++]=Fe[ke++];De=Re.l*8;continue}De=Ue(Re,De,+(ke+Le==Fe.length)+2);for(var rt=0;Le-- >0;){var ut=Fe[ke];rt=(rt<<5^ut)&32767;var gt=-1,Ot=0;if((gt=ve[rt])&&(gt|=ke&-32768,gt>ke&&(gt-=32768),gt<ke))for(;Fe[gt+Ot]==Fe[ke+Ot]&&Ot<250;)++Ot;if(Ot>2){ut=he[Ot],ut<=22?De=Ee(Re,De,q[ut+1]>>1)-1:(Ee(Re,De,3),De+=5,Ee(Re,De,q[ut-23]>>5),De+=3);var te=ut<8?0:ut-4>>2;te>0&&(Pe(Re,De,Ot-J[ut]),De+=te),ut=ye[ke-gt],De=Ee(Re,De,q[ut]>>3),De-=3;var zt=ut<4?0:ut-2>>1;zt>0&&(Pe(Re,De,ke-gt-z[ut]),De+=zt);for(var hr=0;hr<Ot;++hr)ve[rt]=ke&32767,rt=(rt<<5^Fe[ke])&32767,++ke;Le-=Ot-1}else ut<=143?ut=ut+48:De=ce(Re,De,1),De=Ee(Re,De,q[ut]),ve[rt]=ke&32767,++ke}De=Ee(Re,De,0)-1}return Re.l=(De+7)/8|0,Re.l}return function(Re,De){return Re.length<8?ge(Re,De):Be(Re,De)}}();function vt(ee){var ye=dt(50+Math.floor(ee.length*1.1)),X=Pt(ee,ye);return ye.slice(0,X)}var Qt=re?new Uint16Array(32768):We(32768),br=re?new Uint16Array(32768):We(32768),$t=re?new Uint16Array(128):We(128),qt=1,Ts=1;function Ie(ee,ye){var X=He(ee,ye)+257;ye+=5;var le=He(ee,ye)+1;ye+=5;var he=Te(ee,ye)+4;ye+=4;for(var ge=0,Be=re?new Uint8Array(19):We(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,De=re?new Uint8Array(8):We(8),ke=re?new Uint8Array(8):We(8),ve=Be.length,Le=0;Le<he;++Le)Be[W[Le]]=ge=de(ee,ye),Re<ge&&(Re=ge),De[ge]++,ye+=3;var rt=0;for(De[0]=0,Le=1;Le<=Re;++Le)ke[Le]=rt=rt+De[Le-1]<<1;for(Le=0;Le<ve;++Le)(rt=Be[Le])!=0&&(Fe[Le]=ke[rt]++);var ut=0;for(Le=0;Le<ve;++Le)if(ut=Be[Le],ut!=0){rt=q[Fe[Le]]>>8-ut;for(var gt=(1<<7-ut)-1;gt>=0;--gt)$t[rt|gt<<ut]=ut&7|Le<<3}var Ot=[];for(Re=1;Ot.length<X+le;)switch(rt=$t[Oe(ee,ye)],ye+=rt&7,rt>>>=3){case 16:for(ge=3+oe(ee,ye),ye+=2,rt=Ot[Ot.length-1];ge-- >0;)Ot.push(rt);break;case 17:for(ge=3+de(ee,ye),ye+=3;ge-- >0;)Ot.push(0);break;case 18:for(ge=11+Oe(ee,ye),ye+=7;ge-- >0;)Ot.push(0);break;default:Ot.push(rt),Re<rt&&(Re=rt);break}var te=Ot.slice(0,X),zt=Ot.slice(X);for(Le=X;Le<286;++Le)te[Le]=0;for(Le=le;Le<30;++Le)zt[Le]=0;return qt=Xe(te,Qt,286),Ts=Xe(zt,br,30),ye}function rs(ee,ye){if(ee[0]==3&&!(ee[1]&3))return[Em(ye),2];for(var X=0,le=0,he=IV(ye||1<<18),ge=0,Be=he.length>>>0,Fe=0,Re=0;!(le&1);){if(le=de(ee,X),X+=3,le>>>1)le>>1==1?(Fe=9,Re=5):(X=Ie(ee,X),Fe=qt,Re=Ts);else{X&7&&(X+=8-(X&7));var De=ee[X>>>3]|ee[(X>>>3)+1]<<8;if(X+=32,De>0)for(!ye&&Be<ge+De&&(he=$e(he,ge+De),Be=he.length);De-- >0;)he[ge++]=ee[X>>>3],X+=8;continue}for(;;){!ye&&Be<ge+32767&&(he=$e(he,ge+32767),Be=he.length);var ke=me(ee,X,Fe),ve=le>>>1==1?Ce[ke]:Qt[ke];if(X+=ve&15,ve>>>=4,!(ve>>>8&255))he[ge++]=ve;else{if(ve==256)break;ve-=257;var Le=ve<8?0:ve-4>>2;Le>5&&(Le=0);var rt=ge+J[ve];Le>0&&(rt+=me(ee,X,Le),X+=Le),ke=me(ee,X,Re),ve=le>>>1==1?Ye[ke]:br[ke],X+=ve&15,ve>>>=4;var ut=ve<4?0:ve-2>>1,gt=z[ve];for(ut>0&&(gt+=me(ee,X,ut),X+=ut),!ye&&Be<rt&&(he=$e(he,rt+100),Be=he.length);ge<rt;)he[ge]=he[ge-gt],++ge}}}return ye?[he,X+7>>>3]:[he.slice(0,ge),X+7>>>3]}function Zs(ee,ye){var X=ee.slice(ee.l||0),le=rs(X,ye);return ee.l+=le[1],le[0]}function wa(ee,ye){if(ee)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Wa(ee,ye){var X=ee;Ei(X,0);var le=[],he=[],ge={FileIndex:le,FullPaths:he};N(ge,{root:ye.root});for(var Be=X.length-4;(X[Be]!=80||X[Be+1]!=75||X[Be+2]!=5||X[Be+3]!=6)&&Be>=0;)--Be;X.l=Be+4,X.l+=4;var Fe=X.read_shift(2);X.l+=6;var Re=X.read_shift(4);for(X.l=Re,Be=0;Be<Fe;++Be){X.l+=20;var De=X.read_shift(4),ke=X.read_shift(4),ve=X.read_shift(2),Le=X.read_shift(2),rt=X.read_shift(2);X.l+=8;var ut=X.read_shift(4),gt=l(X.slice(X.l+ve,X.l+ve+Le));X.l+=ve+Le+rt;var Ot=X.l;X.l=ut+4,Ha(X,De,ke,ge,gt),X.l=Ot}return ge}function Ha(ee,ye,X,le,he){ee.l+=2;var ge=ee.read_shift(2),Be=ee.read_shift(2),Fe=o(ee);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var Re=ee.read_shift(4),De=ee.read_shift(4),ke=ee.read_shift(4),ve=ee.read_shift(2),Le=ee.read_shift(2),rt="",ut=0;ut<ve;++ut)rt+=String.fromCharCode(ee[ee.l++]);if(Le){var gt=l(ee.slice(ee.l,ee.l+Le));(gt[21589]||{}).mt&&(Fe=gt[21589].mt),((he||{})[21589]||{}).mt&&(Fe=he[21589].mt)}ee.l+=Le;var Ot=ee.slice(ee.l,ee.l+De);switch(Be){case 8:Ot=G(ee,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var te=!1;ge&8&&(Re=ee.read_shift(4),Re==134695760&&(Re=ee.read_shift(4),te=!0),De=ee.read_shift(4),ke=ee.read_shift(4)),De!=ye&&wa(te,"Bad compressed size: "+ye+" != "+De),ke!=X&&wa(te,"Bad uncompressed size: "+X+" != "+ke),lt(le,rt,Ot,{unsafe:!0,mt:Fe})}function ss(ee,ye){var X=ye||{},le=[],he=[],ge=dt(1),Be=X.compression?8:0,Fe=0,Re=0,De=0,ke=0,ve=0,Le=ee.FullPaths[0],rt=Le,ut=ee.FileIndex[0],gt=[],Ot=0;for(Re=1;Re<ee.FullPaths.length;++Re)if(rt=ee.FullPaths[Re].slice(Le.length),ut=ee.FileIndex[Re],!(!ut.size||!ut.content||rt=="Sh33tJ5")){var te=ke,zt=dt(rt.length);for(De=0;De<rt.length;++De)zt.write_shift(1,rt.charCodeAt(De)&127);zt=zt.slice(0,zt.l),gt[ve]=$Ye.buf(ut.content,0);var hr=ut.content;Be==8&&(hr=U(hr)),ge=dt(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,Fe),ge.write_shift(2,Be),ut.mt?i(ge,ut.mt):ge.write_shift(4,0),ge.write_shift(-4,gt[ve]),ge.write_shift(4,hr.length),ge.write_shift(4,ut.content.length),ge.write_shift(2,zt.length),ge.write_shift(2,0),ke+=ge.length,le.push(ge),ke+=zt.length,le.push(zt),ke+=hr.length,le.push(hr),ge=dt(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,Fe),ge.write_shift(2,Be),ge.write_shift(4,0),ge.write_shift(-4,gt[ve]),ge.write_shift(4,hr.length),ge.write_shift(4,ut.content.length),ge.write_shift(2,zt.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,te),Ot+=ge.l,he.push(ge),Ot+=zt.length,he.push(zt),++ve}return ge=dt(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,ve),ge.write_shift(2,ve),ge.write_shift(4,Ot),ge.write_shift(4,ke),ge.write_shift(2,0),xi([xi(le),xi(he),ge])}var Rt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function wt(ee,ye){if(ee.ctype)return ee.ctype;var X=ee.name||"",le=X.match(/\.([^\.]+)$/);return le&&Rt[le[1]]||ye&&(le=(X=ye).match(/[\.\\]([^\.\\])+$/),le&&Rt[le[1]])?Rt[le[1]]:"application/octet-stream"}function je(ee){for(var ye=Tw(ee),X=[],le=0;le<ye.length;le+=76)X.push(ye.slice(le,le+76));return X.join(`\r
`)+`\r
`}function ue(ee){var ye=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var ke=De.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],le=ye.split(`\r
`),he=0;he<le.length;++he){var ge=le[he];if(ge.length==0){X.push("");continue}for(var Be=0;Be<ge.length;){var Fe=76,Re=ge.slice(Be,Be+Fe);Re.charAt(Fe-1)=="="?Fe--:Re.charAt(Fe-2)=="="?Fe-=2:Re.charAt(Fe-3)=="="&&(Fe-=3),Re=ge.slice(Be,Be+Fe),Be+=Fe,Be<ge.length&&(Re+="="),X.push(Re)}}return X.join(`\r
`)}function ne(ee){for(var ye=[],X=0;X<ee.length;++X){for(var le=ee[X];X<=ee.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+ee[++X];ye.push(le)}for(var he=0;he<ye.length;++he)ye[he]=ye[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return yl(ye.join(`\r
`))}function ze(ee,ye,X){for(var le="",he="",ge="",Be,Fe=0;Fe<10;++Fe){var Re=ye[Fe];if(!Re||Re.match(/^\s*$/))break;var De=Re.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":le=De[2].trim();break;case"content-type":ge=De[2].trim();break;case"content-transfer-encoding":he=De[2].trim();break}}switch(++Fe,he.toLowerCase()){case"base64":Be=yl(Tl(ye.slice(Fe).join("")));break;case"quoted-printable":Be=ne(ye.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var ke=lt(ee,le.slice(X.length),Be,{unsafe:!0});ge&&(ke.ctype=ge)}function Ke(ee,ye){if(L(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ye&&ye.root||"",le=(ys&&Buffer.isBuffer(ee)?ee.toString("binary"):L(ee)).split(`\r
`),he=0,ge="";for(he=0;he<le.length;++he)if(ge=le[he],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),X||(X=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ge.slice(0,X.length)!=X););var Be=(le[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Fe="--"+(Be[1]||""),Re=[],De=[],ke={FileIndex:Re,FullPaths:De};N(ke);var ve,Le=0;for(he=0;he<le.length;++he){var rt=le[he];rt!==Fe&&rt!==Fe+"--"||(Le++&&ze(ke,le.slice(ve,he),X),ve=he)}return ke}function Ge(ee,ye){var X=ye||{},le=X.boundary||"SheetJS";le="------="+le;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],ge=ee.FullPaths[0],Be=ge,Fe=ee.FileIndex[0],Re=1;Re<ee.FullPaths.length;++Re)if(Be=ee.FullPaths[Re].slice(ge.length),Fe=ee.FileIndex[Re],!(!Fe.size||!Fe.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ot){return"_x"+Ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ot){return"_u"+Ot.charCodeAt(0).toString(16)+"_"});for(var De=Fe.content,ke=ys&&Buffer.isBuffer(De)?De.toString("binary"):L(De),ve=0,Le=Math.min(1024,ke.length),rt=0,ut=0;ut<=Le;++ut)(rt=ke.charCodeAt(ut))>=32&&rt<128&&++ve;var gt=ve>=Le*4/5;he.push(le),he.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+Be),he.push("Content-Transfer-Encoding: "+(gt?"quoted-printable":"base64")),he.push("Content-Type: "+wt(Fe,Be)),he.push(""),he.push(gt?ue(ke):je(ke))}return he.push(le+`--\r
`),he.join(`\r
`)}function St(ee){var ye={};return N(ye,ee),ye}function lt(ee,ye,X,le){var he=le&&le.unsafe;he||N(ee);var ge=!he&&Tr.find(ee,ye);if(!ge){var Be=ee.FullPaths[0];ye.slice(0,Be.length)==Be?Be=ye:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+ye).replace("//","/")),ge={name:n(ye),type:2},ee.FileIndex.push(ge),ee.FullPaths.push(Be),he||Tr.utils.cfb_gc(ee)}return ge.content=X,ge.size=X?X.length:0,le&&(le.CLSID&&(ge.clsid=le.CLSID),le.mt&&(ge.mt=le.mt),le.ct&&(ge.ct=le.ct)),ge}function ct(ee,ye){N(ee);var X=Tr.find(ee,ye);if(X){for(var le=0;le<ee.FileIndex.length;++le)if(ee.FileIndex[le]==X)return ee.FileIndex.splice(le,1),ee.FullPaths.splice(le,1),!0}return!1}function Yt(ee,ye,X){N(ee);var le=Tr.find(ee,ye);if(le){for(var he=0;he<ee.FileIndex.length;++he)if(ee.FileIndex[he]==le)return ee.FileIndex[he].name=n(X),ee.FullPaths[he]=X,!0}return!1}function sr(ee){A(ee,!0)}return t.find=D,t.read=k,t.parse=u,t.write=K,t.writeFile=R,t.utils={cfb_new:St,cfb_add:lt,cfb_del:ct,cfb_mov:Yt,cfb_gc:sr,ReadShift:Zy,CheckField:Sae,prep_blob:Ei,bconcat:xi,use_zlib:F,_deflateRaw:vt,_inflateRaw:Zs,consts:I},t}();function BYe(e){return typeof e=="string"?HA(e):Array.isArray(e)?hYe(e):e}function Fj(e,t,s){if(typeof Deno<"u"){if(s&&typeof t=="string")switch(s){case"utf8":t=new TextEncoder(s).encode(t);break;case"binary":t=HA(t);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,t)}var a=s=="utf8"?$d(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([BYe(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Xm(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function UYe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var s=t.read();return t.close(),s}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function yn(e){for(var t=Object.keys(e),s=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&s.push(t[a]);return s}function VV(e,t){for(var s=[],a=yn(e),n=0;n!==a.length;++n)s[e[a[n]][t]]==null&&(s[e[a[n]][t]]=a[n]);return s}function GA(e){for(var t=[],s=yn(e),a=0;a!==s.length;++a)t[e[s[a]]]=s[a];return t}function KA(e){for(var t=[],s=yn(e),a=0;a!==s.length;++a)t[e[s[a]]]=parseInt(s[a],10);return t}function VYe(e){for(var t=[],s=yn(e),a=0;a!==s.length;++a)t[e[s[a]]]==null&&(t[e[s[a]]]=[]),t[e[s[a]]].push(s[a]);return t}var jk=new Date(1899,11,30,0,0,0);function ii(e,t){var s=e.getTime(),a=jk.getTime()+(e.getTimezoneOffset()-jk.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var sae=new Date,zYe=jk.getTime()+(sae.getTimezoneOffset()-jk.getTimezoneOffset())*6e4,zV=sae.getTimezoneOffset();function YA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+zYe),t.getTimezoneOffset()!==zV&&t.setTime(t.getTime()+(t.getTimezoneOffset()-zV)*6e4),t}function WYe(e){var t=0,s=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(s=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":s*=24;case"H":s*=60;case"M":if(a)s*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=s*parseInt(n[i],10)}return t}var WV=new Date("2017-02-19T19:06:09.000Z"),aae=isNaN(WV.getFullYear())?new Date("2/19/17"):WV,HYe=aae.getFullYear()==2017;function Va(e,t){var s=new Date(e);if(HYe)return t>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):t<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(aae.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Np(e,t){if(ys&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return $d(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return $d(Hse(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return $d(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return $d(new TextDecoder("utf-16be").decode(e.slice(2)))}var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function za(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=za(e[s]));return t}function pn(e,t){for(var s="";s.length<t;)s+=e;return s}function td(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(t=Number(a)))?t/s:t}var qYe=["january","february","march","april","may","june","july","august","september","october","november","december"];function C0(e){var t=new Date(e),s=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return s;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&qYe.indexOf(o)==-1)return s}else if(o.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?s:t}var GYe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(s,a,n){if(e||typeof a=="string")return s.split(a);for(var i=s.split(a),o=[i[0]],l=1;l<i.length;++l)o.push(n),o.push(i[l]);return o}}();function nae(e){return e?e.content&&e.type?Np(e.content,!0):e.data?by(e.data):e.asNodeBuffer&&ys?by(e.asNodeBuffer().toString("binary")):e.asBinary?by(e.asBinary()):e._data&&e._data.getContent?by(Np(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function iae(e){if(!e)return null;if(e.data)return DV(e.data);if(e.asNodeBuffer&&ys)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?DV(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function KYe(e){return e&&e.name.slice(-4)===".bin"?iae(e):nae(e)}function Hl(e,t){for(var s=e.FullPaths||yn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<s.length;++i){var o=s[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||n==o)return e.files?e.files[s[i]]:e.FileIndex[i]}return null}function pM(e,t){var s=Hl(e,t);if(s==null)throw new Error("Cannot find file "+t+" in zip");return s}function Ln(e,t,s){if(!s)return KYe(pM(e,t));if(!t)return null;try{return Ln(e,t)}catch{return null}}function bl(e,t,s){if(!s)return nae(pM(e,t));if(!t)return null;try{return bl(e,t)}catch{return null}}function YYe(e,t,s){return iae(pM(e,t))}function HV(e){for(var t=e.FullPaths||yn(e.files),s=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&s.push(t[a].replace(/^Root Entry[\/]/,""));return s.sort()}function ps(e,t,s){if(e.FullPaths){if(typeof s=="string"){var a;return ys?a=ch(s):a=mYe(s),Tr.utils.cfb_add(e,t,a)}Tr.utils.cfb_add(e,t,s)}else e.file(t,s)}function xM(){return Tr.utils.cfb_new()}function oae(e,t){switch(t.type){case"base64":return Tr.read(e,{type:"base64"});case"binary":return Tr.read(e,{type:"binary"});case"buffer":case"array":return Tr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function jy(e,t){if(e.charAt(0)=="/")return e.slice(1);var s=t.split("/");t.slice(-1)!="/"&&s.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?s.pop():n!=="."&&s.push(n)}return s.join("/")}var Dn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,XYe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,qV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,QYe=/<[^>]*>/g,oo=Dn.match(qV)?qV:QYe,JYe=/<\w*:/,ZYe=/<(\/?)\w+:/;function Hr(e,t,s){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var o=e.match(XYe),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(n=h.charCodeAt(i+1))==34||n==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),a[u]=c,a[u.toLowerCase()]=c;else{var p=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(a[p]&&u.slice(l-3,l)=="ext")continue;a[p]=c,a[p.toLowerCase()]=c}}return a}function cu(e){return e.replace(ZYe,"<$1")}var lae={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},gM=GA(lae),Vs=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function s(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(l,c){return lae[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=n.indexOf("]]>");return s(n.slice(0,i))+n.slice(i+9,o)+s(n.slice(o+3))}}(),vM=/[&<>'"]/g,eXe=/[\u0000-\u0008\u000b-\u001f]/g;function ua(e){var t=e+"";return t.replace(vM,function(s){return gM[s]}).replace(eXe,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function GV(e){return ua(e).replace(/ /g,"_x0020_")}var cae=/[\u0000-\u001f]/g;function yM(e){var t=e+"";return t.replace(vM,function(s){return gM[s]}).replace(/\n/g,"<br/>").replace(cae,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function tXe(e){var t=e+"";return t.replace(vM,function(s){return gM[s]}).replace(cae,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}var KV=function(){var e=/&#(\d+);/g;function t(s,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function rXe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Fa(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function j4(e){for(var t="",s=0,a=0,n=0,i=0,o=0,l=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){o=(a&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(s++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}o=e.charCodeAt(s++),l=((a&7)<<18|(n&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function YV(e){var t=Em(2*e.length),s,a,n=1,i=0,o=0,l;for(a=0;a<e.length;a+=n)n=1,(l=e.charCodeAt(a))<128?s=l:l<224?(s=(l&31)*64+(e.charCodeAt(a+1)&63),n=2):l<240?(s=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,o=55296+(s>>>10&1023),s=56320+(s&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=s%256,t[i++]=s>>>8;return t.slice(0,i).toString("ucs2")}function XV(e){return ch(e,"binary").toString("utf8")}var hN="foo bar baz",ya=ys&&(XV(hN)==j4(hN)&&XV||YV(hN)==j4(hN)&&YV)||j4,$d=ys?function(e){return ch(e,"utf8").toString("binary")}:function(e){for(var t=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},Dw=function(){var e={};return function(s,a){var n=s+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+s+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+s+">",a||"")}}(),dae=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),sXe=function(){var e={};return function(s){return e[s]!==void 0?e[s]:e[s]=new RegExp("<(?:vt:)?"+s+">([\\s\\S]*?)</(?:vt:)?"+s+">","g")}}(),aXe=/<\/?(?:vt:)?variant>/g,nXe=/<(?:vt:)([^>]*)>([\s\S]*)</;function QV(e,t){var s=Hr(e),a=e.match(sXe(s.baseType))||[],n=[];if(a.length!=s.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+s.size);return n}return a.forEach(function(i){var o=i.replace(aXe,"").match(nXe);o&&n.push({v:ya(o[2]),t:o[1]})}),n}var uae=/(^\s|\s$|\n)/;function Pi(e,t){return"<"+e+(t.match(uae)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ow(e){return yn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Mt(e,t,s){return"<"+e+(s!=null?Ow(s):"")+(t!=null?(t.match(uae)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function FD(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(t)throw s}return""}function iXe(e,t){switch(typeof e){case"string":var s=Mt("vt:lpwstr",ua(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return Mt((e|0)==e?"vt:i4":"vt:r8",ua(String(e)));case"boolean":return Mt("vt:bool",e?"true":"false")}if(e instanceof Date)return Mt("vt:filetime",FD(e));throw new Error("Unable to serialize "+e)}function bM(e){if(ys&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ya(Xm(hM(e)));throw new Error("Bad input format: expected Buffer or string")}var Iw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ri={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function oXe(e,t){for(var s=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function lXe(e,t,s){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,o=a?-t:t;isFinite(o)?o==0?n=i=0:(n=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[s+l]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var JV=function(e){for(var t=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)t.push.apply(t,e[0][a].slice(n,n+s));return t},ZV=ys?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ch(t)})):JV(e)}:JV,ez=function(e,t,s){for(var a=[],n=t;n<s;n+=2)a.push(String.fromCharCode(Tu(e,n)));return a.join("").replace(So,"")},wM=ys?function(e,t,s){return Buffer.isBuffer(e)?e.toString("utf16le",t,s).replace(So,""):ez(e,t,s)}:ez,tz=function(e,t,s){for(var a=[],n=t;n<t+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},hae=ys?function(e,t,s){return Buffer.isBuffer(e)?e.toString("hex",t,t+s):tz(e,t,s)}:tz,rz=function(e,t,s){for(var a=[],n=t;n<s;n++)a.push(String.fromCharCode(kx(e,n)));return a.join("")},Lj=ys?function(t,s,a){return Buffer.isBuffer(t)?t.toString("utf8",s,a):rz(t,s,a)}:rz,mae=function(e,t){var s=gl(e,t);return s>0?Lj(e,t+4,t+4+s-1):""},fae=mae,pae=function(e,t){var s=gl(e,t);return s>0?Lj(e,t+4,t+4+s-1):""},xae=pae,gae=function(e,t){var s=2*gl(e,t);return s>0?Lj(e,t+4,t+4+s-1):""},vae=gae,yae=function(t,s){var a=gl(t,s);return a>0?wM(t,s+4,s+4+a):""},bae=yae,wae=function(e,t){var s=gl(e,t);return s>0?Lj(e,t+4,t+4+s):""},jae=wae,Nae=function(e,t){return oXe(e,t)},Nk=Nae,jM=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ys&&(fae=function(t,s){if(!Buffer.isBuffer(t))return mae(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},xae=function(t,s){if(!Buffer.isBuffer(t))return pae(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},vae=function(t,s){if(!Buffer.isBuffer(t))return gae(t,s);var a=2*t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a-1)},bae=function(t,s){if(!Buffer.isBuffer(t))return yae(t,s);var a=t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a)},jae=function(t,s){if(!Buffer.isBuffer(t))return wae(t,s);var a=t.readUInt32LE(s);return t.toString("utf8",s+4,s+4+a)},Nk=function(t,s){return Buffer.isBuffer(t)?t.readDoubleLE(s):Nae(t,s)},jM=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var kx=function(e,t){return e[t]},Tu=function(e,t){return e[t+1]*256+e[t]},cXe=function(e,t){var s=e[t+1]*256+e[t];return s<32768?s:(65535-s+1)*-1},gl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},dXe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Zy(e,t){var s="",a,n,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,ys&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)s+=String.fromCharCode(Tu(this,d)),d+=2;e*=2;break;case"utf8":s=Lj(this,this.l,this.l+e);break;case"utf16le":e*=2,s=wM(this,this.l,this.l+e);break;case"wstr":return Zy.call(this,e,"dbcs");case"lpstr-ansi":s=fae(this,this.l),e=4+gl(this,this.l);break;case"lpstr-cp":s=xae(this,this.l),e=4+gl(this,this.l);break;case"lpwstr":s=vae(this,this.l),e=4+2*gl(this,this.l);break;case"lpp4":e=4+gl(this,this.l),s=bae(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+gl(this,this.l),s=jae(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(o=kx(this,this.l+e++))!==0;)i.push(uN(o));s=i.join("");break;case"_wstr":for(e=0,s="";(o=Tu(this,this.l+e))!==0;)i.push(uN(o)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=kx(this,d),this.l=d+1,l=Zy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(uN(Tu(this,d))),d+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=kx(this,d),this.l=d+1,l=Zy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(uN(kx(this,d))),d+=1}s=i.join("");break;default:switch(e){case 1:return a=kx(this,this.l),this.l++,a;case 2:return a=(t==="i"?cXe:Tu)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?wf:dXe)(this,this.l),this.l+=4,a):(n=gl(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Nk(this,this.l):n=Nk([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=hae(this,this.l,e);break}}return this.l+=e,s}var uXe=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255,e[s+2]=t>>>16&255,e[s+3]=t>>>24&255},hXe=function(e,t,s){e[s]=t&255,e[s+1]=t>>8&255,e[s+2]=t>>16&255,e[s+3]=t>>24&255},mXe=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255};function fXe(e,t,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=t.length;++n)mXe(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(s==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,uXe(this,t,this.l);break;case 8:if(a=8,s==="f"){lXe(this,t,this.l);break}case 16:break;case-4:a=4,hXe(this,t,this.l);break}return this.l+=a,this}function Sae(e,t){var s=hae(this,this.l,e.length>>1);if(s!==e)throw new Error(t+"Expected "+e+" saw "+s);this.l+=e.length>>1}function Ei(e,t){e.l=t,e.read_shift=Zy,e.chk=Sae,e.write_shift=fXe}function io(e,t){e.l+=t}function dt(e){var t=Em(e);return Ei(t,0),t}function dh(e,t,s){if(e){var a,n,i;Ei(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=Bw[l]||Bw[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,s);if(e.l=c,t(u,d,l))return}}}function el(){var e=[],t=ys?256:2048,s=function(d){var u=dt(d);return Ei(u,0),u},a=s(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=s(Math.max(d+1,t)))},o=function(){return n(),xi(e)},l=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function yt(e,t,s,a){var n=+t,i;if(!isNaN(n)){a||(a=Bw[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);n<=127?o.write_shift(1,n):(o.write_shift(1,(n&127)+128),o.write_shift(1,n>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&jM(s)&&e.push(s)}}function eb(e,t,s){var a=za(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function sz(e,t,s){var a=za(e);return a.s=eb(a.s,t.s,s),a.e=eb(a.e,t.s,s),a}function tb(e,t){if(e.cRel&&e.c<0)for(e=za(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=za(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var s=Vr(e);return!e.cRel&&e.cRel!=null&&(s=gXe(s)),!e.rRel&&e.rRel!=null&&(s=pXe(s)),s}function N4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+en(e.s.c)+":"+(e.e.cRel?"":"$")+en(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Tn(e.s.r)+":"+(e.e.rRel?"":"$")+Tn(e.e.r):tb(e.s,t.biff)+":"+tb(e.e,t.biff)}function NM(e){return parseInt(xXe(e),10)-1}function Tn(e){return""+(e+1)}function pXe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function xXe(e){return e.replace(/\$(\d+)$/,"$1")}function SM(e){for(var t=vXe(e),s=0,a=0;a!==t.length;++a)s=26*s+t.charCodeAt(a)-64;return s-1}function en(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function gXe(e){return e.replace(/^([A-Z])/,"$$$1")}function vXe(e){return e.replace(/^\$([A-Z])/,"$1")}function yXe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function tn(e){for(var t=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:t-1}}function Vr(e){for(var t=e.c+1,s="";t;t=(t-1)/26|0)s=String.fromCharCode((t-1)%26+65)+s;return s+(e.r+1)}function al(e){var t=e.indexOf(":");return t==-1?{s:tn(e),e:tn(e)}:{s:tn(e.slice(0,t)),e:tn(e.slice(t+1))}}function hs(e,t){return typeof t>"u"||typeof t=="number"?hs(e.s,e.e):(typeof e!="string"&&(e=Vr(e)),typeof t!="string"&&(t=Vr(t)),e==t?e:e+":"+t)}function zs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(t.s.r=--s,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return t.e.r=--s,t}function az(e,t){var s=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=pc(e.z,s?ii(t):t)}catch{}try{return e.w=pc((e.XF||{}).numFmtId||(s?14:0),s?ii(t):t)}catch{return""+t}}function Zu(e,t,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?uh[e.v]||e.v:t==null?az(e,e.v):az(e,t))}function Qm(e,t){var s=t&&t.sheet?t.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function kae(e,t,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?tn(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=zs(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var p={v:t[h][m]},g=o+h,x=l+m;if(d.s.r>g&&(d.s.r=g),d.s.c>x&&(d.s.c=x),d.e.r<g&&(d.e.r=g),d.e.c<x&&(d.e.c=x),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))p=t[h][m];else if(Array.isArray(p.v)&&(p.f=t[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||$r[14],a.cellDates?(p.t="d",p.w=pc(p.z,ii(p.v))):(p.t="n",p.v=ii(p.v),p.w=pc(p.z,p.v))):p.t="s";if(n)i[g]||(i[g]=[]),i[g][x]&&i[g][x].z&&(p.z=i[g][x].z),i[g][x]=p;else{var y=Vr({c:x,r:g});i[y]&&i[y].z&&(p.z=i[y].z),i[y]=p}}}return d.s.c<1e7&&(i["!ref"]=hs(d)),i}function xv(e,t){return kae(null,e,t)}function bXe(e){return e.read_shift(4,"i")}function rd(e,t){return t||(t=dt(4)),t.write_shift(4,e),t}function ro(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function vi(e,t){var s=!1;return t==null&&(s=!0,t=dt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}function wXe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function jXe(e,t){return t||(t=dt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function kM(e,t){var s=e.l,a=e.read_shift(1),n=ro(e),i=[],o={t:n,h:n};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(wXe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=s+t,o}function NXe(e,t){var s=!1;return t==null&&(s=!0,t=dt(15+4*e.t.length)),t.write_shift(1,0),vi(e.t,t),s?t.slice(0,t.l):t}var SXe=kM;function kXe(e,t){var s=!1;return t==null&&(s=!0,t=dt(23+4*e.t.length)),t.write_shift(1,1),vi(e.t,t),t.write_shift(4,1),jXe({ich:0,ifnt:0},t),s?t.slice(0,t.l):t}function wc(e){var t=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:s}}function zp(e,t){return t==null&&(t=dt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Wp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Hp(e,t){return t==null&&(t=dt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var CXe=ro,Cae=vi;function CM(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Sk(e,t){var s=!1;return t==null&&(s=!0,t=dt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}var AXe=ro,LD=CM,AM=Sk;function EM(e){var t=e.slice(e.l,e.l+4),s=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Nk([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wf(t,0)>>2;return s?n/100:n}function Aae(e,t){t==null&&(t=dt(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?a=1:n==(n|0)&&n>=-(1<<29)&&n<1<<29&&(a=1,s=1),a)t.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function Eae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function EXe(e,t){return t||(t=dt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var qp=Eae,gv=EXe;function Zi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Sp(e,t){return(t||dt(8)).write_shift(8,e,"f")}function PXe(e){var t={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Yf[n];d&&(t.rgb=Mw(d));break;case 2:t.rgb=Mw([o,l,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function kk(e,t){if(t||(t=dt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),t.write_shift(2,s),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function TXe(e){var t=e.read_shift(1);e.l++;var s={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return s}function _Xe(e,t){t||(t=dt(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,s),t.write_shift(1,0),t}function Pae(e,t){var s={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return s[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function DXe(e){return Pae(e,1)}function OXe(e){return Pae(e,2)}var PM=2,$o=3,mN=11,nz=12,Ck=19,fN=64,IXe=65,RXe=71,MXe=4108,FXe=4126,ui=80,Tae=81,LXe=[ui,Tae],$D={1:{n:"CodePage",t:PM},2:{n:"Category",t:ui},3:{n:"PresentationFormat",t:ui},4:{n:"ByteCount",t:$o},5:{n:"LineCount",t:$o},6:{n:"ParagraphCount",t:$o},7:{n:"SlideCount",t:$o},8:{n:"NoteCount",t:$o},9:{n:"HiddenCount",t:$o},10:{n:"MultimediaClipCount",t:$o},11:{n:"ScaleCrop",t:mN},12:{n:"HeadingPairs",t:MXe},13:{n:"TitlesOfParts",t:FXe},14:{n:"Manager",t:ui},15:{n:"Company",t:ui},16:{n:"LinksUpToDate",t:mN},17:{n:"CharacterCount",t:$o},19:{n:"SharedDoc",t:mN},22:{n:"HyperlinksChanged",t:mN},23:{n:"AppVersion",t:$o,p:"version"},24:{n:"DigSig",t:IXe},26:{n:"ContentType",t:ui},27:{n:"ContentStatus",t:ui},28:{n:"Language",t:ui},29:{n:"Version",t:ui},255:{},2147483648:{n:"Locale",t:Ck},2147483651:{n:"Behavior",t:Ck},1919054434:{}},BD={1:{n:"CodePage",t:PM},2:{n:"Title",t:ui},3:{n:"Subject",t:ui},4:{n:"Author",t:ui},5:{n:"Keywords",t:ui},6:{n:"Comments",t:ui},7:{n:"Template",t:ui},8:{n:"LastAuthor",t:ui},9:{n:"RevNumber",t:ui},10:{n:"EditTime",t:fN},11:{n:"LastPrinted",t:fN},12:{n:"CreatedDate",t:fN},13:{n:"ModifiedDate",t:fN},14:{n:"PageCount",t:$o},15:{n:"WordCount",t:$o},16:{n:"CharCount",t:$o},17:{n:"Thumbnail",t:RXe},18:{n:"Application",t:ui},19:{n:"DocSecurity",t:$o},255:{},2147483648:{n:"Locale",t:Ck},2147483651:{n:"Behavior",t:Ck},1919054434:{}},iz={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},$Xe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function BXe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var UXe=BXe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Yf=za(UXe),uh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_ae={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},UD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pN={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function TM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VXe(e){var t=TM();if(!e||!e.match)return t;var s={};if((e.match(oo)||[]).forEach(function(a){var n=Hr(a);switch(n[0].replace(JYe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":s[n.Extension]=n.ContentType;break;case"<Override":t[UD[n.ContentType]]!==void 0&&t[UD[n.ContentType]].push(n.PartName);break}}),t.xmlns!==ri.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=s,delete t.calcchains,t}function Dae(e,t){var s=VYe(UD),a=[],n;a[a.length]=Dn,a[a.length]=Mt("Types",null,{xmlns:ri.CT,"xmlns:xsd":ri.xsd,"xmlns:xsi":ri.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Mt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=Mt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:pN[c][t.bookType]||pN[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:pN[c][t.bookType]||pN[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Mt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:s[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Ns={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Rw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function rb(e,t){var s={"!id":{}};if(!e)return s;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(oo)||[]).forEach(function(n){var i=Hr(n);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:jy(i.Target,t);s[l]=o,a[i.Id]=o}}),s["!id"]=a,s}function bg(e){var t=[Dn,Mt("Relationships",null,{xmlns:ri.RELS})];return yn(e["!id"]).forEach(function(s){t[t.length]=Mt("Relationship",null,e["!id"][s])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function da(e,t,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=s,[Ns.HLINK,Ns.XPATH,Ns.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var zXe="application/vnd.oasis.opendocument.spreadsheet";function WXe(e,t){for(var s=bM(e),a,n;a=Iw.exec(s);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Hr(a[0],!1),n.path=="/"&&n.type!==zXe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function HXe(e){var t=[Dn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)t.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function oz(e,t,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function qXe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function GXe(e){var t=[Dn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)t.push(oz(e[s][0],e[s][1])),t.push(qXe("",e[s][0]));return t.push(oz("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Oae(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+vk.version+"</meta:generator></office:meta></office:document-meta>"}var cc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],KXe=function(){for(var e=new Array(cc.length),t=0;t<cc.length;++t){var s=cc[t],a="(?:"+s[0].slice(0,s[0].indexOf(":"))+":)"+s[0].slice(s[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function Iae(e){var t={};e=ya(e);for(var s=0;s<cc.length;++s){var a=cc[s],n=e.match(KXe[s]);n!=null&&n.length>0&&(t[a[1]]=Vs(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Va(t[a[1]]))}return t}function S4(e,t,s,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=ua(t),a[a.length]=s?Mt(e,t,s):Pi(e,t))}function Rae(e,t){var s=t||{},a=[Dn,Mt("cp:coreProperties",null,{"xmlns:cp":ri.CORE_PROPS,"xmlns:dc":ri.dc,"xmlns:dcterms":ri.dcterms,"xmlns:dcmitype":ri.dcmitype,"xmlns:xsi":ri.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&S4("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:FD(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&S4("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:FD(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=cc.length;++i){var o=cc[i],l=s.Props&&s.Props[o[1]]!=null?s.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&S4(o[0],l,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Xf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Mae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Fae(e,t,s,a){var n=[];if(typeof e=="string")n=QV(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?QV(t,a).map(function(u){return u.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":s.Worksheets=c,s.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":s.NamedRanges=c,s.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":s.Chartsheets=c,s.ChartNames=o.slice(l,l+c);break}l+=c}}function YXe(e,t,s){var a={};return t||(t={}),e=ya(e),Xf.forEach(function(n){var i=(e.match(Dw(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Vs(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(a[n[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Fae(a.HeadingPairs,a.TitlesOfParts,t,s),t}function Lae(e){var t=[],s=Mt;return e||(e={}),e.Application="SheetJS",t[t.length]=Dn,t[t.length]=Mt("Properties",null,{xmlns:ri.EXT_PROPS,"xmlns:vt":ri.vt}),Xf.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=ua(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=s(a[0],n))}}),t[t.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+ua(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var XXe=/<[^>]+>[^<]*/g;function QXe(e,t){var s={},a="",n=e.match(XXe);if(n)for(var i=0;i!=n.length;++i){var o=n[i],l=Hr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Vs(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":s[a]=Vs(u);break;case"bool":s[a]=Fa(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":s[a]=parseInt(u,10);break;case"r4":case"r8":case"decimal":s[a]=parseFloat(u);break;case"filetime":case"date":s[a]=Va(u);break;case"cy":case"error":s[a]=Vs(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return s}function $ae(e){var t=[Dn,Mt("Properties",null,{xmlns:ri.CUST_PROPS,"xmlns:vt":ri.vt})];if(!e)return t.join("");var s=1;return yn(e).forEach(function(n){++s,t[t.length]=Mt("property",iXe(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:ua(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var VD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},k4;function JXe(e,t,s){k4||(k4=GA(VD)),t=k4[t]||t,e[t]=s}function ZXe(e,t){var s=[];return yn(VD).map(function(a){for(var n=0;n<cc.length;++n)if(cc[n][1]==a)return cc[n];for(n=0;n<Xf.length;++n)if(Xf[n][1]==a)return Xf[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(Pi(VD[a[1]]||a[1],n))}}),Mt("DocumentProperties",s.join(""),{xmlns:xl.o})}function eQe(e,t){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&yn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<cc.length;++o)if(i==cc[o][1])return;for(o=0;o<Xf.length;++o)if(i==Xf[o][1])return;for(o=0;o<s.length;++o)if(i==s[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),n.push(Mt(GV(i),l,{"dt:dt":c}))}}),t&&yn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),n.push(Mt(GV(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+xl.o+'">'+n.join("")+"</"+a+">"}function _M(e){var t=e.read_shift(4),s=e.read_shift(4);return new Date((s/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function tQe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,s=t.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var o=dt(8);return o.write_shift(4,a),o.write_shift(4,n),o}function Bae(e,t,s){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(s)for(;e.l-a&3;)++e.l;return n}function Uae(e,t,s){var a=e.read_shift(0,"lpwstr");return a}function Vae(e,t,s){return t===31?Uae(e):Bae(e,t,s)}function zD(e,t,s){return Vae(e,t,s===!1?0:4)}function rQe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Vae(e,t,0)}function sQe(e){for(var t=e.read_shift(4),s=[],a=0;a!=t;++a){var n=e.l;s[a]=e.read_shift(0,"lpwstr").replace(So,""),e.l-n&2&&(e.l+=2)}return s}function aQe(e){for(var t=e.read_shift(4),s=[],a=0;a!=t;++a)s[a]=e.read_shift(0,"lpstr-cp").replace(So,"");return s}function nQe(e){var t=e.l,s=Ak(e,Tae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=Ak(e,$o);return[s,a]}function iQe(e){for(var t=e.read_shift(4),s=[],a=0;a<t/2;++a)s.push(nQe(e));return s}function lz(e,t){for(var s=e.read_shift(4),a={},n=0;n!=s;++n){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(So,"").replace(wy,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function zae(e){var t=e.read_shift(4),s=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),s}function oQe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Ak(e,t,s){var a=e.read_shift(2),n,i=s||{};if(e.l+=2,t!==nz&&a!==t&&LXe.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===nz?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return Bae(e,a,4).replace(So,"");case 31:return Uae(e);case 64:return _M(e);case 65:return zae(e);case 71:return oQe(e);case 80:return zD(e,a,!i.raw).replace(So,"");case 81:return rQe(e,a).replace(So,"");case 4108:return iQe(e);case 4126:case 4127:return a==4127?sQe(e):aQe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function cz(e,t){var s=dt(4),a=dt(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=dt(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=tQe(t);break;case 31:case 80:for(a=dt(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return xi([s,a])}function dz(e,t){var s=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=n;++o){var u=e.read_shift(4),h=e.read_shift(4);i[o]=[u,h+s]}i.sort(function(w,v){return w[1]-v[1]});var m={};for(o=0;o!=n;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[i[o][0]];if(m[g.n]=Ak(e,g.t,{raw:!0}),g.p==="version"&&(m[g.n]=String(m[g.n]>>16)+"."+("0000"+String(m[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(m[g.n]){case 0:m[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Xc(l=m[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[g.n])}}else if(i[o][0]===1){if(l=m.CodePage=Ak(e,PM),Xc(l),c!==-1){var x=e.l;e.l=i[c][1],d=lz(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}d=lz(e,l)}else{var y=d[i[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=zae(e);break;case 30:e.l+=4,b=zD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=zD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=wn(e,4);break;case 64:e.l+=4,b=Va(_M(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[y]=b}}return e.l=s+a,m}var Wae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lQe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function uz(e,t,s){var a=dt(8),n=[],i=[],o=8,l=0,c=dt(8),d=dt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),o+=8+c.length,!t){d=dt(8),d.write_shift(4,0),n.unshift(d);var u=[dt(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=dt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=xi(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Wae.indexOf(e[l][0])>-1||Mae.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=s[p];if(g.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=cz(g.t,m)}else{var y=lQe(m);y==-1&&(y=31,m=String(m)),c=cz(y,m)}i.push(c),d=dt(8),d.write_shift(4,t?p:2+l),n.push(d),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)n[l].write_shift(4,b),b+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),xi([a].concat(n).concat(i))}function hz(e,t,s){var a=e.content;if(!a)return{};Ei(a,0);var n,i,o,l,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),u=a.read_shift(16);if(u!==Tr.utils.consts.HEADER_CLSID&&u!==s)throw new Error("Bad PropertySet CLSID "+u);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),l=a.read_shift(4),n===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);n===2&&(o=a.read_shift(16),c=a.read_shift(4));var h=dz(a,t),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=i,n===1)return m;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var g;try{g=dz(a,null)}catch{}for(p in g)m[p]=g[p];return m.FMTID=[i,o],m}function mz(e,t,s,a,n,i){var o=dt(n?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Tr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,n?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,n?68:48);var c=uz(e,s,a);if(l.push(c),n){var d=uz(n,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return xi(l)}function bh(e,t){return e.read_shift(t),null}function cQe(e,t){t||(t=dt(e));for(var s=0;s<e;++s)t.write_shift(1,0);return t}function dQe(e,t,s){for(var a=[],n=e.l+t;e.l<n;)a.push(s(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function wn(e,t){return e.read_shift(t)===1}function xo(e,t){return t||(t=dt(2)),t.write_shift(2,+!!e),t}function $n(e){return e.read_shift(2,"u")}function Gl(e,t){return t||(t=dt(2)),t.write_shift(2,e),t}function Hae(e,t){return dQe(e,t,$n)}function uQe(e){var t=e.read_shift(1),s=e.read_shift(1);return s===1?t:t===1}function qae(e,t,s){return s||(s=dt(2)),s.write_shift(1,t=="e"?+e:+!!e),s.write_shift(1,t=="e"?1:0),s}function $j(e,t,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var o=a?e.read_shift(a,n):"";return o}function hQe(e){var t=e.read_shift(2),s=e.read_shift(1),a=s&4,n=s&8,i=1+(s&1),o=0,l,c={};n&&(o=e.read_shift(2)),a&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*o),a&&(e.l+=l),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function mQe(e){var t=e.t||"",s=dt(3);s.write_shift(2,t.length),s.write_shift(1,1);var a=dt(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[s,a];return xi(n)}function kp(e,t,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(t,"cpstr");if(s.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Bj(e,t,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):kp(e,a,s)}function Gp(e,t,s){if(s.biff>5)return Bj(e,t,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Gae(e,t,s){return s||(s=dt(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function fQe(e){var t=e.read_shift(1);e.l++;var s=e.read_shift(2);return e.l+=2,[t,s]}function pQe(e){var t=e.read_shift(4),s=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=s);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(So,"");return a&&(e.l+=24),n}function xQe(e){for(var t=e.read_shift(2),s="";t-- >0;)s+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return s+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(So,"");return s+o}function gQe(e,t){var s=e.read_shift(16);switch(s){case"e0c9ea79f9bace118c8200aa004ba90b":return pQe(e);case"0303000000000000c000000000000046":return xQe(e);default:throw new Error("Unsupported Moniker "+s)}}function xN(e){var t=e.read_shift(4),s=t>0?e.read_shift(t,"utf16le").replace(So,""):"";return s}function fz(e,t){t||(t=dt(6+e.length*2)),t.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function vQe(e,t){var s=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,o,l,c,d="",u,h;n&16&&(i=xN(e,s-e.l)),n&128&&(o=xN(e,s-e.l)),(n&257)===257&&(l=xN(e,s-e.l)),(n&257)===1&&(c=gQe(e,s-e.l)),n&8&&(d=xN(e,s-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(h=_M(e)),e.l=s;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),n&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return u&&(p.guid=u),h&&(p.time=h),i&&(p.Tooltip=i),p}function yQe(e){var t=dt(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(s=0;s<o.length;++s)t.write_shift(4,o[s]);if(i==28)a=a.slice(1),fz(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<o.length;++s)t.write_shift(1,parseInt(o[s],16));var l=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(l.length+1)),s=0;s<l.length;++s)t.write_shift(2,l.charCodeAt(s));t.write_shift(2,0),i&8&&fz(n>-1?a.slice(n+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<o.length;++s)t.write_shift(1,parseInt(o[s],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),s=0;s<a.length-3*c;++s)t.write_shift(1,a.charCodeAt(s+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),s=0;s<6;++s)t.write_shift(4,0)}return t.slice(0,t.l)}function Kae(e){var t=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,s,a,n]}function Yae(e,t){var s=Kae(e);return s[3]=0,s}function du(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{r:t,c:s,ixfe:a}}function Cp(e,t,s,a){return a||(a=dt(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,s||0),a}function bQe(e){var t=e.read_shift(2),s=e.read_shift(2);return e.l+=8,{type:t,flags:s}}function wQe(e,t,s){return t===0?"":Gp(e,t,s)}function jQe(e,t,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[n,i,o]}function Xae(e){var t=e.read_shift(2),s=EM(e);return[t,s]}function NQe(e,t,s){e.l+=4,t-=4;var a=e.l+t,n=$j(e,t,s),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function XA(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r:s}}}function Qae(e,t){return t||(t=dt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Jae(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r:s}}}var SQe=Jae;function Zae(e){e.l+=4;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[s,t,a]}function kQe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function CQe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Hi(e){e.l+=2,e.l+=e.read_shift(2)}var AQe={0:Hi,4:Hi,5:Hi,6:Hi,7:CQe,8:Hi,9:Hi,10:Hi,11:Hi,12:Hi,13:kQe,14:Hi,15:Hi,16:Hi,17:Hi,18:Hi,19:Hi,20:Hi,21:Zae};function EQe(e,t){for(var s=e.l+t,a=[];e.l<s;){var n=e.read_shift(2);e.l-=2;try{a.push(AQe[n](e,s-e.l))}catch{return e.l=s,a}}return e.l!=s&&(e.l=s),a}function gN(e,t){var s={BIFFVer:0,dt:0};switch(s.BIFFVer=e.read_shift(2),t-=2,t>=2&&(s.dt=e.read_shift(2),e.l-=2),s.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+s.BIFFVer)}return e.read_shift(t),s}function DM(e,t,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=dt(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function PQe(e,t){return t===0||e.read_shift(2),1200}function TQe(e,t,s){if(s.enc)return e.l+=t,"";var a=e.l,n=Gp(e,0,s);return e.read_shift(t+a-e.l),n}function _Qe(e,t){var s=!t||t.biff==8,a=dt(s?112:54);for(a.write_shift(t.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function DQe(e,t,s){var a=s&&s.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function OQe(e,t,s){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=$j(e,0,s);return o.length===0&&(o="Sheet1"),{pos:a,hs:n,dt:i,name:o}}function IQe(e,t){var s=!t||t.biff>=8?2:1,a=dt(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function RQe(e,t){for(var s=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],o=0;o!=n&&e.l<s;++o)i.push(hQe(e));return i.Count=a,i.Unique=n,i}function MQe(e,t){var s=dt(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=mQe(e[n]);var i=xi([s].concat(a));return i.parts=[s.length].concat(a.map(function(o){return o.length})),i}function FQe(e,t){var s={};return s.dsst=e.read_shift(2),e.l+=t-2,s}function LQe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var s=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=s/20),t}function $Qe(e){var t=bQe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var s=e.read_shift(4);return s!==0}function BQe(e){return e.read_shift(2),e.read_shift(4)}function pz(e,t,s){var a=0;s&&s.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);s&&s.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function UQe(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,s],Dim:[a,n],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function VQe(){var e=dt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function zQe(e,t,s){if(s&&s.biff>=2&&s.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function WQe(e){var t=dt(18),s=1718;return e&&e.RTL&&(s|=64),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function HQe(){}function qQe(e,t,s){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(s&&s.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=$j(e,0,s),a}function GQe(e,t){var s=e.name||"Arial",a=t&&t.biff==5,n=a?15+s.length:16+2*s.length,i=dt(n);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function KQe(e){var t=du(e);return t.isst=e.read_shift(4),t}function YQe(e,t,s,a){var n=dt(10);return Cp(e,t,a,n),n.write_shift(4,s),n}function XQe(e,t,s){s.biffguess&&s.biff==2&&(s.biff=5);var a=e.l+t,n=du(e);s.biff==2&&e.l++;var i=Bj(e,a-e.l,s);return n.val=i,n}function QQe(e,t,s,a,n){var i=!n||n.biff==8,o=dt(8+ +i+(1+i)*s.length);return Cp(e,t,a,o),o.write_shift(2,s.length),i&&o.write_shift(1,1),o.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),o}function JQe(e,t,s){var a=e.read_shift(2),n=Gp(e,0,s);return[a,n]}function ZQe(e,t,s,a){var n=s&&s.biff==5;a||(a=dt(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var eJe=Gp;function xz(e,t,s){var a=e.l+t,n=s.biff==8||!s.biff?4:2,i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:l},e:{r:o,c}}}function tJe(e,t){var s=t.biff==8||!t.biff?4:2,a=dt(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function rJe(e){var t=e.read_shift(2),s=e.read_shift(2),a=Xae(e);return{r:t,c:s,ixfe:a[0],rknum:a[1]}}function sJe(e,t){for(var s=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<s;)i.push(Xae(e));if(e.l!==s)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:o,rkrec:i}}function aJe(e,t){for(var s=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<s;)i.push(e.read_shift(2));if(e.l!==s)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:o,ixfe:i}}function nJe(e,t,s,a){var n={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return n.patternType=$Xe[l>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function iJe(e,t,s){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=nJe(e,t,a.fStyle,s),a}function gz(e,t,s,a){var n=s&&s.biff==5;a||(a=dt(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function oJe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function lJe(e){var t=dt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function vz(e,t,s){var a=du(e);(s.biff==2||t==9)&&++e.l;var n=uQe(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function cJe(e,t,s,a,n,i){var o=dt(8);return Cp(e,t,a,o),qae(s,i,o),o}function dJe(e,t,s){s.biffguess&&s.biff==2&&(s.biff=5);var a=du(e),n=Zi(e);return a.val=n,a}function uJe(e,t,s,a){var n=dt(14);return Cp(e,t,a,n),Sp(s,n),n}var yz=wQe;function hJe(e,t,s){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(s.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=kp(e,i),l=[];a>e.l;)l.push(Bj(e));return[i,n,o,l]}function bz(e,t,s){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return s.sbcch===14849&&(n=NQe(e,t-2,s)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var mJe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function wz(e,t,s){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(s&&s.biff==2?1:2),c=0;(!s||s.biff>=5)&&(s.biff!=5&&(e.l+=2),c=e.read_shift(2),s.biff==5&&(e.l+=2),e.l+=4);var d=kp(e,o,s);n&32&&(d=mJe[d.charCodeAt(0)]);var u=a-e.l;s&&s.biff==2&&--u;var h=a==e.l||l===0||!(u>0)?[]:Trt(e,u,s,l);return{chKey:i,Name:d,itab:c,rgce:h}}function ene(e,t,s){if(s.biff<8)return fJe(e,t,s);for(var a=[],n=e.l+t,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(jQe(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function fJe(e,t,s){e[e.l+1]==3&&e[e.l]++;var a=$j(e,t,s);return a.charCodeAt(0)==3?a.slice(1):a}function pJe(e,t,s){if(s.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=kp(e,a,s),o=kp(e,n,s);return[i,o]}function xJe(e,t,s){var a=Jae(e);e.l++;var n=e.read_shift(1);return t-=8,[_rt(e,t,s),n,a]}function jz(e,t,s){var a=SQe(e);switch(s.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,Ert(e,t,s)]}function gJe(e){var t=e.read_shift(4)!==0,s=e.read_shift(4)!==0,a=e.read_shift(4);return[t,s,a]}function vJe(e,t,s){if(!(s.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Gp(e,0,s);return s.biff<8&&e.read_shift(1),[{r:a,c:n},l,o,i]}}function yJe(e,t,s){return vJe(e,t,s)}function bJe(e,t){for(var s=[],a=e.read_shift(2);a--;)s.push(XA(e));return s}function wJe(e){var t=dt(2+e.length*8);t.write_shift(2,e.length);for(var s=0;s<e.length;++s)Qae(e[s],t);return t}function jJe(e,t,s){if(s&&s.biff<8)return SJe(e,t,s);var a=Zae(e),n=EQe(e,t-22,a[1]);return{cmo:a,ft:n}}var NJe={8:function(e,t){var s=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=s,{fmt:a}}};function SJe(e,t,s){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((NJe[a]||io)(e,t,s)),{cmo:[n,a,i],ft:o}}function kJe(e,t,s){var a=e.l,n="";try{e.l+=4;var i=(s.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=fQe(e,6,s);var l=e.read_shift(2);e.read_shift(2),$n(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],h=kp(e,e.lens[d+1]-e.lens[d]-1);if(n+=h,n.length>=(u?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function CJe(e,t){var s=XA(e);e.l+=16;var a=vQe(e,t-24);return[s,a]}function AJe(e){var t=dt(24),s=tn(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return xi([t,yQe(e[1])])}function EJe(e,t){e.read_shift(2);var s=XA(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(So,""),[s,a]}function PJe(e){var t=e[1].Tooltip,s=dt(10+2*(t.length+1));s.write_shift(2,2048);var a=tn(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<t.length;++n)s.write_shift(2,t.charCodeAt(n));return s.write_shift(2,0),s}function TJe(e){var t=[0,0],s;return s=e.read_shift(2),t[0]=iz[s]||s,s=e.read_shift(2),t[1]=iz[s]||s,t}function _Je(e){return e||(e=dt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function DJe(e){for(var t=e.read_shift(2),s=[];t-- >0;)s.push(Yae(e));return s}function OJe(e){for(var t=e.read_shift(2),s=[];t-- >0;)s.push(Yae(e));return s}function IJe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function tne(e,t,s){if(!s.cellStyles)return io(e,t);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:o,ixfe:l,flags:c};return(s.biff>=5||!s.biff)&&(d.level=c>>8&7),d}function RJe(e,t){var s=dt(12);s.write_shift(2,t),s.write_shift(2,t),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function MJe(e,t){var s={};return t<32||(e.l+=16,s.header=Zi(e),s.footer=Zi(e),e.l+=2),s}function FJe(e,t,s){var a={area:!1};if(s.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function LJe(e){for(var t=dt(2*e),s=0;s<e;++s)t.write_shift(2,s+1);return t}var $Je=du,BJe=Hae,UJe=Bj;function VJe(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:s,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function zJe(e,t,s){s.biffguess&&s.biff==5&&(s.biff=2);var a=du(e);++e.l;var n=Gp(e,t-7,s);return a.t="str",a.val=n,a}function WJe(e){var t=du(e);++e.l;var s=Zi(e);return t.t="n",t.val=s,t}function HJe(e,t,s){var a=dt(15);return Wj(a,e,t),a.write_shift(8,s,"f"),a}function qJe(e){var t=du(e);++e.l;var s=e.read_shift(2);return t.t="n",t.val=s,t}function GJe(e,t,s){var a=dt(9);return Wj(a,e,t),a.write_shift(2,s),a}function KJe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function YJe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function XJe(e,t,s){var a=e.l+t,n=du(e),i=e.read_shift(2),o=kp(e,i,s);return e.l=a,n.t="str",n.val=o,n}var QJe=[2,3,48,49,131,139,140,245],WD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=GA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(l,c){var d=[],u=Em(1);switch(c.type){case"base64":u=yl(Tl(l));break;case"binary":u=yl(l);break;case"buffer":case"array":u=l;break}Ei(u,0);var h=u.read_shift(1),m=!!(h&136),p=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,y=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(y=u.read_shift(2));var b=u.read_shift(2),w=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var v=[],S={},j=Math.min(u.length,h==2?521:y-10-(p?264:0)),k=g?32:11;u.l<j&&u[u.l]!=13;)switch(S={},S.name=Mh.utils.decode(w,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,S.type=String.fromCharCode(u.read_shift(1)),h!=2&&!g&&(S.offset=u.read_shift(4)),S.len=u.read_shift(1),h==2&&(S.offset=u.read_shift(2)),S.dec=u.read_shift(1),S.name.length&&v.push(S),h!=2&&(u.l+=g?13:14),S.type){case"B":(!p||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var N=0,C=0;for(d[0]=[],C=0;C!=v.length;++C)d[0][C]=v[C].name;for(;x-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,d[++N]=[],C=0,C=0;C!=v.length;++C){var A=u.slice(u.l,u.l+v[C].len);u.l+=v[C].len,Ei(A,0);var E=Mh.utils.decode(w,A);switch(v[C].type){case"C":E.trim().length&&(d[N][C]=E.replace(/\s+$/,""));break;case"D":E.length===8?d[N][C]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):d[N][C]=E;break;case"F":d[N][C]=parseFloat(E.trim());break;case"+":case"I":d[N][C]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":d[N][C]=!0;break;case"N":case"F":d[N][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[N][C]="##MEMO##"+(g?parseInt(E.trim(),10):A.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(d[N][C]=+E||0);break;case"@":d[N][C]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[N][C]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[N][C]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][C]=-A.read_shift(-8,"f");break;case"B":if(p&&v[C].len==8){d[N][C]=A.read_shift(8,"f");break}case"G":case"P":A.l+=v[C].len;break;case"0":if(v[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[C].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=v,d}function a(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=xv(s(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function n(l,c){try{return Qm(a(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Xc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=el(),h=Tk(l,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),g=l["!cols"]||[],x=0,y=0,b=0,w=1;for(x=0;x<m.length;++x){if(((g[x]||{}).DBF||{}).name){m[x]=g[x].DBF.name,++b;continue}if(m[x]!=null){if(++b,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(y=0;y<1024;++y)if(m.indexOf(m[x]+"_"+y)==-1){m[x]+="_"+y;break}}}}var v=zs(l["!ref"]),S=[],j=[],k=[];for(x=0;x<=v.e.c-v.s.c;++x){var N="",C="",A=0,E=[];for(y=0;y<p.length;++y)p[y][x]!=null&&E.push(p[y][x]);if(E.length==0||m[x]==null){S[x]="?";continue}for(y=0;y<E.length;++y){switch(typeof E[y]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=E[y]instanceof Date?"D":"C";break;default:C="C"}A=Math.max(A,String(E[y]).length),N=N&&N!=C?"C":C}A>250&&(A=250),C=((g[x]||{}).DBF||{}).type,C=="C"&&g[x].DBF.len>A&&(A=g[x].DBF.len),N=="B"&&C=="N"&&(N="N",k[x]=g[x].DBF.dec,A=g[x].DBF.len),j[x]=N=="C"||C=="N"?A:i[N]||0,w+=j[x],S[x]=N}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*b),D.write_shift(2,w),x=0;x<4;++x)D.write_shift(4,0);for(D.write_shift(4,0|(+t[Wse]||3)<<8),x=0,y=0;x<m.length;++x)if(m[x]!=null){var T=u.next(32),P=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,P,"sbcs"),T.write_shift(1,S[x]=="?"?"C":S[x],"sbcs"),T.write_shift(4,y),T.write_shift(1,j[x]||i[S[x]]||0),T.write_shift(1,k[x]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),y+=j[x]||i[S[x]]||0}var _=u.next(264);for(_.write_shift(4,13),x=0;x<65;++x)_.write_shift(4,0);for(x=0;x<p.length;++x){var O=u.next(w);for(O.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(S[y]){case"L":O.write_shift(1,p[x][y]==null?63:p[x][y]?84:70);break;case"B":O.write_shift(8,p[x][y]||0,"f");break;case"N":var M="0";for(typeof p[x][y]=="number"&&(M=p[x][y].toFixed(k[y]||0)),b=0;b<j[y]-M.length;++b)O.write_shift(1,32);O.write_shift(1,M,"sbcs");break;case"D":p[x][y]?(O.write_shift(4,("0000"+p[x][y].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(p[x][y].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+p[x][y].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var I=String(p[x][y]!=null?p[x][y]:"").slice(0,j[y]);for(O.write_shift(1,I,"sbcs"),b=0;b<j[y]-I.length;++b)O.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:o}}(),rne=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+yn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(m,p){var g=e[p];return typeof g=="number"?OV(g):g},a=function(m,p,g){var x=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return x==59?m:OV(x)};e["|"]=254;function n(m,p){switch(p.type){case"base64":return i(Tl(m),p);case"binary":return i(m,p);case"buffer":return i(ys&&Buffer.isBuffer(m)?m.toString("binary"):Xm(m),p);case"array":return i(Np(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var g=m.split(/[\n\r]+/),x=-1,y=-1,b=0,w=0,v=[],S=[],j=null,k={},N=[],C=[],A=[],E=0,D;for(+p.codepage>=0&&Xc(+p.codepage);b!==g.length;++b){E=0;var T=g[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,s),P=T.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),_=P[0],O;if(T.length>0)switch(_){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&S.push(T.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,I=!1,R=!1,L=!1,K=-1,H=-1;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"A":break;case"X":y=parseInt(P[w].slice(1))-1,I=!0;break;case"Y":for(x=parseInt(P[w].slice(1))-1,I||(y=0),D=v.length;D<=x;++D)v[D]=[];break;case"K":O=P[w].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(td(O))?isNaN(C0(O).getDate())||(O=Va(O)):(O=td(O),j!==null&&fv(j)&&(O=YA(O))),M=!0;break;case"E":L=!0;var F=wg(P[w].slice(1),{r:x,c:y});v[x][y]=[v[x][y],F];break;case"S":R=!0,v[x][y]=[v[x][y],"S5S"];break;case"G":break;case"R":K=parseInt(P[w].slice(1))-1;break;case"C":H=parseInt(P[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(M&&(v[x][y]&&v[x][y].length==2?v[x][y][0]=O:v[x][y]=O,j=null),R){if(L)throw new Error("SYLK shared formula cannot have own formula");var G=K>-1&&v[K][H];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");v[x][y][1]=bne(G[1],{r:x-K,c:y-H})}break;case"F":var U=0;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"X":y=parseInt(P[w].slice(1))-1,++U;break;case"Y":for(x=parseInt(P[w].slice(1))-1,D=v.length;D<=x;++D)v[D]=[];break;case"M":E=parseInt(P[w].slice(1))/20;break;case"F":break;case"G":break;case"P":j=S[parseInt(P[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=P[w].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)E=parseInt(A[2],10),C[D-1]=E===0?{hidden:!0}:{wch:E},Pm(C[D-1]);break;case"C":y=parseInt(P[w].slice(1))-1,C[y]||(C[y]={});break;case"R":x=parseInt(P[w].slice(1))-1,N[x]||(N[x]={}),E>0?(N[x].hpt=E,N[x].hpx=E0(E)):E===0&&(N[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}U<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return N.length>0&&(k["!rows"]=N),C.length>0&&(k["!cols"]=C),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,k]}function o(m,p){var g=n(m,p),x=g[0],y=g[1],b=xv(x,p);return yn(y).forEach(function(w){b[w]=y[w]}),b}function l(m,p){return Qm(o(m,p),p)}function c(m,p,g,x){var y="C;Y"+(g+1)+";X"+(x+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+LM(m.f,{r:g,c:x}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function d(m,p){p.forEach(function(g,x){var y="F;W"+(x+1)+" "+(x+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Fw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Lw(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function u(m,p){p.forEach(function(g,x){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*$w(g.hpx)+";"),y.length>2&&m.push(y+"R"+(x+1))})}function h(m,p){var g=["ID;PWXL;N;E"],x=[],y=zs(m["!ref"]),b,w=Array.isArray(m),v=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&d(g,m["!cols"]),m["!rows"]&&u(g,m["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var S=y.s.r;S<=y.e.r;++S)for(var j=y.s.c;j<=y.e.c;++j){var k=Vr({r:S,c:j});b=w?(m[S]||[])[j]:m[k],!(!b||b.v==null&&(!b.f||b.F))&&x.push(c(b,m,S,j))}return g.join(v)+v+x.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),sne=function(){function e(i,o){switch(o.type){case"base64":return t(Tl(i),o);case"binary":return t(i,o);case"buffer":return t(ys&&Buffer.isBuffer(i)?i.toString("binary"):Xm(i),o);case"array":return t(Np(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),p=m[0],g=m[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+p){case-1:if(x==="BOT"){h[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][d]=!0:x==="FALSE"?h[c][d]=!1:isNaN(td(g))?isNaN(C0(g).getDate())?h[c][d]=g:h[c][d]=Va(g):h[c][d]=td(g),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function s(i,o){return xv(e(i,o),o)}function a(i,o){return Qm(s(i,o),o)}var n=function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=zs(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(d,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var x=Vr({r:p,c:g});if(h=m?(c[p]||[])[g]:c[x],!h){o(d,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,y,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=pc(h.z||$r[14],ii(Va(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,w=d.join(b);return w}}();return{to_workbook:a,to_sheet:s,from_sheet:n}}(),ane=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(h,m){for(var p=h.split(`
`),g=-1,x=-1,y=0,b=[];y!==p.length;++y){var w=p[y].trim().split(":");if(w[0]==="cell"){var v=tn(w[1]);if(b.length<=v.r)for(g=b.length;g<=v.r;++g)b[g]||(b[g]=[]);switch(g=v.r,x=v.c,w[2]){case"t":b[g][x]=e(w[3]);break;case"v":b[g][x]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[g][x]=!!+w[4];break;default:b[g][x]=+w[4];break}w[2]=="vtf"&&(b[g][x]=[b[g][x],S])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(h,m){return xv(s(h,m),m)}function n(h,m){return Qm(a(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],g,x="",y=al(h["!ref"]),b=Array.isArray(h),w=y.s.r;w<=y.e.r;++w)for(var v=y.s.c;v<=y.e.c;++v)if(x=Vr({r:w,c:v}),g=b?(h[w]||[])[v]:h[x],!(!g||g.v==null||g.t==="z")){switch(p=["cell",x,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=ii(Va(g.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=g.w||pc(g.z||$r[14],S);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),A0=function(){function e(u,h,m,p,g){g.raw?h[m][p]=u:u===""||(u==="TRUE"?h[m][p]=!0:u==="FALSE"?h[m][p]=!1:isNaN(td(u))?isNaN(C0(u).getDate())?h[m][p]=u:h[m][p]=Va(u):h[m][p]=td(u))}function t(u,h){var m=h||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var y=10,b=0,w=0;w<=x;++w)b=g[w].indexOf(" "),b==-1?b=g[w].length:b++,y=Math.max(y,b);for(w=0;w<=x;++w){p[w]=[];var v=0;for(e(g[w].slice(0,y).trim(),p,w,v,m),v=1;v<=(g[w].length-y)/10+1;++v)e(g[w].slice(y+(v-1)*10,y+v*10).trim(),p,w,v,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var h={},m=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?m=!m:!m&&g in s&&(h[g]=(h[g]||0)+1);g=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p]);if(!g.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p])}return g.sort(function(x,y){return x[0]-y[0]||a[x[1]]-a[y[1]]}),s[g.pop()[1]]||44}function i(u,h){var m=h||{},p="",g=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=n(u.slice(0,1024)):m&&m.FS?p=m.FS:p=n(u.slice(0,1024));var y=0,b=0,w=0,v=0,S=0,j=p.charCodeAt(0),k=!1,N=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?FYe(m.dateNF):null;function E(){var D=u.slice(v,S),T={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)T.t="z";else if(m.raw)T.t="s",T.v=D;else if(D.trim().length===0)T.t="s",T.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(T.t="s",T.v=D.slice(2,-1).replace(/""/g,'"')):ftt(D)?(T.t="n",T.f=D.slice(1)):(T.t="s",T.v=D);else if(D=="TRUE")T.t="b",T.v=!0;else if(D=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=td(D)))T.t="n",m.cellText!==!1&&(T.w=D),T.v=w;else if(!isNaN(C0(D).getDate())||A&&D.match(A)){T.z=m.dateNF||$r[14];var P=0;A&&D.match(A)&&(D=LYe(D,m.dateNF,D.match(A)||[]),P=1),m.cellDates?(T.t="d",T.v=Va(D,P)):(T.t="n",T.v=ii(Va(D,P))),m.cellText!==!1&&(T.w=pc(T.z,T.v instanceof Date?ii(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=D;if(T.t=="z"||(m.dense?(g[y]||(g[y]=[]),g[y][b]=T):g[Vr({c:b,r:y})]=T),v=S+1,C=u.charCodeAt(v),x.e.c<b&&(x.e.c=b),x.e.r<y&&(x.e.r=y),N==j)++b;else if(b=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;S<u.length;++S)switch(N=u.charCodeAt(S)){case 34:C===34&&(k=!k);break;case j:case 10:case 13:if(!k&&E())break e;break}return S-v>0&&E(),g["!ref"]=hs(x),g}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):xv(t(u,h),h)}function l(u,h){var m="",p=h.type=="string"?[0,0,0,0]:qM(u,h);switch(h.type){case"base64":m=Tl(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof Mh<"u"?m=Mh.utils.decode(h.codepage,u):m=ys&&Buffer.isBuffer(u)?u.toString("binary"):Xm(u);break;case"array":m=Np(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=ya(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=ya(m):h.type=="binary"&&typeof Mh<"u"&&h.codepage&&(m=Mh.utils.decode(h.codepage,Mh.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?ane.to_sheet(h.type=="string"?m:ya(m),h):o(m,h)}function c(u,h){return Qm(l(u,h),h)}function d(u){for(var h=[],m=zs(u["!ref"]),p,g=Array.isArray(u),x=m.s.r;x<=m.e.r;++x){for(var y=[],b=m.s.c;b<=m.e.c;++b){var w=Vr({r:x,c:b});if(p=g?(u[x]||[])[b]:u[w],!p||p.v==null){y.push("          ");continue}for(var v=(p.w||(Zu(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";y.push(v+(b===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function JJe(e,t){var s=t||{},a=!!s.WTF;s.WTF=!0;try{var n=rne.to_workbook(e,s);return s.WTF=a,n}catch(i){if(s.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return A0.to_workbook(e,t)}}var Qf=function(){function e(F,G,U){if(F){Ei(F,F.l||0);for(var W=U.Enum||K;F.l<F.length;){var J=F.read_shift(2),z=W[J]||W[65535],ie=F.read_shift(2),re=F.l+ie,q=z.f&&z.f(F,ie,U);if(F.l=re,G(q,z,J))return}}}function t(F,G){switch(G.type){case"base64":return s(yl(Tl(F)),G);case"binary":return s(yl(F),G);case"buffer":case"array":return s(F,G)}throw"Unsupported type "+G.type}function s(F,G){if(!F)return F;var U=G||{},W=U.dense?[]:{},J="Sheet1",z="",ie=0,re={},q=[],se=[],B={s:{r:0,c:0},e:{r:0,c:0}},oe=U.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)U.Enum=K,e(F,function(Oe,me,Ue){switch(Ue){case 0:U.vers=Oe,Oe>=4096&&(U.qpro=!0);break;case 6:B=Oe;break;case 204:Oe&&(z=Oe);break;case 222:z=Oe;break;case 15:case 51:U.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=U.dateNF||$r[14],U.cellDates&&(Oe[1].t="d",Oe[1].v=YA(Oe[1].v))),U.qpro&&Oe[3]>ie&&(W["!ref"]=hs(B),re[J]=W,q.push(J),W=U.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},ie=Oe[3],J=z||"Sheet"+(ie+1),z="");var ce=U.dense?(W[Oe[0].r]||[])[Oe[0].c]:W[Vr(Oe[0])];if(ce){ce.t=Oe[1].t,ce.v=Oe[1].v,Oe[1].z!=null&&(ce.z=Oe[1].z),Oe[1].f!=null&&(ce.f=Oe[1].f);break}U.dense?(W[Oe[0].r]||(W[Oe[0].r]=[]),W[Oe[0].r][Oe[0].c]=Oe[1]):W[Vr(Oe[0])]=Oe[1];break}},U);else if(F[2]==26||F[2]==14)U.Enum=H,F[2]==14&&(U.qpro=!0,F.l=0),e(F,function(Oe,me,Ue){switch(Ue){case 204:J=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>ie&&(W["!ref"]=hs(B),re[J]=W,q.push(J),W=U.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},ie=Oe[3],J="Sheet"+(ie+1)),oe>0&&Oe[0].r>=oe)break;U.dense?(W[Oe[0].r]||(W[Oe[0].r]=[]),W[Oe[0].r][Oe[0].c]=Oe[1]):W[Vr(Oe[0])]=Oe[1],B.e.c<Oe[0].c&&(B.e.c=Oe[0].c),B.e.r<Oe[0].r&&(B.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(se[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:se[Oe[0]]=Oe[1],Oe[0]==ie&&(J=Oe[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(W["!ref"]=hs(B),re[z||J]=W,q.push(z||J),!se.length)return{SheetNames:q,Sheets:re};for(var de={},Te=[],He=0;He<se.length;++He)re[q[He]]?(Te.push(se[He]||q[He]),de[se[He]]=re[se[He]]||re[q[He]]):(Te.push(se[He]),de[se[He]]={"!ref":"A1"});return{SheetNames:Te,Sheets:de}}function a(F,G){var U=G||{};if(+U.codepage>=0&&Xc(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var W=el(),J=zs(F["!ref"]),z=Array.isArray(F),ie=[];Ft(W,0,i(1030)),Ft(W,6,c(J));for(var re=Math.min(J.e.r,8191),q=J.s.r;q<=re;++q)for(var se=Tn(q),B=J.s.c;B<=J.e.c;++B){q===J.s.r&&(ie[B]=en(B));var oe=ie[B]+se,de=z?(F[q]||[])[B]:F[oe];if(!(!de||de.t=="z"))if(de.t=="n")(de.v|0)==de.v&&de.v>=-32768&&de.v<=32767?Ft(W,13,p(q,B,de.v)):Ft(W,14,x(q,B,de.v));else{var Te=Zu(de);Ft(W,15,h(q,B,Te.slice(0,239)))}}return Ft(W,1),W.end()}function n(F,G){var U=G||{};if(+U.codepage>=0&&Xc(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var W=el();Ft(W,0,o(F));for(var J=0,z=0;J<F.SheetNames.length;++J)(F.Sheets[F.SheetNames[J]]||{})["!ref"]&&Ft(W,27,L(F.SheetNames[J],z++));var ie=0;for(J=0;J<F.SheetNames.length;++J){var re=F.Sheets[F.SheetNames[J]];if(!(!re||!re["!ref"])){for(var q=zs(re["!ref"]),se=Array.isArray(re),B=[],oe=Math.min(q.e.r,8191),de=q.s.r;de<=oe;++de)for(var Te=Tn(de),He=q.s.c;He<=q.e.c;++He){de===q.s.r&&(B[He]=en(He));var Oe=B[He]+Te,me=se?(re[de]||[])[He]:re[Oe];if(!(!me||me.t=="z"))if(me.t=="n")Ft(W,23,E(de,He,ie,me.v));else{var Ue=Zu(me);Ft(W,22,N(de,He,ie,Ue.slice(0,239)))}}++ie}}return Ft(W,1),W.end()}function i(F){var G=dt(2);return G.write_shift(2,F),G}function o(F){var G=dt(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var U=0,W=0,J=0,z=0;z<F.SheetNames.length;++z){var ie=F.SheetNames[z],re=F.Sheets[ie];if(!(!re||!re["!ref"])){++J;var q=al(re["!ref"]);U<q.e.r&&(U=q.e.r),W<q.e.c&&(W=q.e.c)}}return U>8191&&(U=8191),G.write_shift(2,U),G.write_shift(1,J),G.write_shift(1,W),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(F,G,U){var W={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&U.qpro?(W.s.c=F.read_shift(1),F.l++,W.s.r=F.read_shift(2),W.e.c=F.read_shift(1),F.l++,W.e.r=F.read_shift(2),W):(W.s.c=F.read_shift(2),W.s.r=F.read_shift(2),G==12&&U.qpro&&(F.l+=2),W.e.c=F.read_shift(2),W.e.r=F.read_shift(2),G==12&&U.qpro&&(F.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(F){var G=dt(8);return G.write_shift(2,F.s.c),G.write_shift(2,F.s.r),G.write_shift(2,F.e.c),G.write_shift(2,F.e.r),G}function d(F,G,U){var W=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(W[0].c=F.read_shift(1),W[3]=F.read_shift(1),W[0].r=F.read_shift(2),F.l+=2):(W[2]=F.read_shift(1),W[0].c=F.read_shift(2),W[0].r=F.read_shift(2)),W}function u(F,G,U){var W=F.l+G,J=d(F,G,U);if(J[1].t="s",U.vers==20768){F.l++;var z=F.read_shift(1);return J[1].v=F.read_shift(z,"utf8"),J}return U.qpro&&F.l++,J[1].v=F.read_shift(W-F.l,"cstr"),J}function h(F,G,U){var W=dt(7+U.length);W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,F),W.write_shift(1,39);for(var J=0;J<W.length;++J){var z=U.charCodeAt(J);W.write_shift(1,z>=128?95:z)}return W.write_shift(1,0),W}function m(F,G,U){var W=d(F,G,U);return W[1].v=F.read_shift(2,"i"),W}function p(F,G,U){var W=dt(7);return W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,F),W.write_shift(2,U,"i"),W}function g(F,G,U){var W=d(F,G,U);return W[1].v=F.read_shift(8,"f"),W}function x(F,G,U){var W=dt(13);return W.write_shift(1,255),W.write_shift(2,G),W.write_shift(2,F),W.write_shift(8,U,"f"),W}function y(F,G,U){var W=F.l+G,J=d(F,G,U);if(J[1].v=F.read_shift(8,"f"),U.qpro)F.l=W;else{var z=F.read_shift(2);S(F.slice(F.l,F.l+z),J),F.l+=z}return J}function b(F,G,U){var W=G&32768;return G&=-32769,G=(W?F:0)+(G>=8192?G-16384:G),(W?"":"$")+(U?en(G):Tn(G))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(F,G){Ei(F,0);for(var U=[],W=0,J="",z="",ie="",re="";F.l<F.length;){var q=F[F.l++];switch(q){case 0:U.push(F.read_shift(8,"f"));break;case 1:z=b(G[0].c,F.read_shift(2),!0),J=b(G[0].r,F.read_shift(2),!1),U.push(z+J);break;case 2:{var se=b(G[0].c,F.read_shift(2),!0),B=b(G[0].r,F.read_shift(2),!1);z=b(G[0].c,F.read_shift(2),!0),J=b(G[0].r,F.read_shift(2),!1),U.push(se+B+":"+z+J)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(F.read_shift(2));break;case 6:{for(var oe="";q=F[F.l++];)oe+=String.fromCharCode(q);U.push('"'+oe.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:re=U.pop(),ie=U.pop(),U.push(["AND","OR"][q-20]+"("+ie+","+re+")");break;default:if(q<32&&v[q])re=U.pop(),ie=U.pop(),U.push(ie+v[q]+re);else if(w[q]){if(W=w[q][1],W==69&&(W=F[F.l++]),W>U.length){console.error("WK1 bad formula parse 0x"+q.toString(16)+":|"+U.join("|")+"|");return}var de=U.slice(-W);U.length-=W,U.push(w[q][0]+"("+de.join(",")+")")}else return q<=7?console.error("WK1 invalid opcode "+q.toString(16)):q<=24?console.error("WK1 unsupported op "+q.toString(16)):q<=30?console.error("WK1 invalid opcode "+q.toString(16)):q<=115?console.error("WK1 unsupported function opcode "+q.toString(16)):console.error("WK1 unrecognized opcode "+q.toString(16))}}U.length==1?G[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(F){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=F.read_shift(2),G[3]=F[F.l++],G[0].c=F[F.l++],G}function k(F,G){var U=j(F);return U[1].t="s",U[1].v=F.read_shift(G-4,"cstr"),U}function N(F,G,U,W){var J=dt(6+W.length);J.write_shift(2,F),J.write_shift(1,U),J.write_shift(1,G),J.write_shift(1,39);for(var z=0;z<W.length;++z){var ie=W.charCodeAt(z);J.write_shift(1,ie>=128?95:ie)}return J.write_shift(1,0),J}function C(F,G){var U=j(F);U[1].v=F.read_shift(2);var W=U[1].v>>1;if(U[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return U[1].v=W,U}function A(F,G){var U=j(F),W=F.read_shift(4),J=F.read_shift(4),z=F.read_shift(2);if(z==65535)return W===0&&J===3221225472?(U[1].t="e",U[1].v=15):W===0&&J===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ie=z&32768;return z=(z&32767)-16446,U[1].v=(1-ie*2)*(J*Math.pow(2,z+32)+W*Math.pow(2,z)),U}function E(F,G,U,W){var J=dt(14);if(J.write_shift(2,F),J.write_shift(1,U),J.write_shift(1,G),W==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var z=0,ie=0,re=0,q=0;return W<0&&(z=1,W=-W),ie=Math.log2(W)|0,W/=Math.pow(2,ie-31),q=W>>>0,q&2147483648||(W/=2,++ie,q=W>>>0),W-=q,q|=2147483648,q>>>=0,W*=Math.pow(2,32),re=W>>>0,J.write_shift(4,re),J.write_shift(4,q),ie+=16383+(z?32768:0),J.write_shift(2,ie),J}function D(F,G){var U=A(F);return F.l+=G-14,U}function T(F,G){var U=j(F),W=F.read_shift(4);return U[1].v=W>>6,U}function P(F,G){var U=j(F),W=F.read_shift(8,"f");return U[1].v=W,U}function _(F,G){var U=P(F);return F.l+=G-10,U}function O(F,G){return F[F.l+G-1]==0?F.read_shift(G,"cstr"):""}function M(F,G){var U=F[F.l++];U>G-1&&(U=G-1);for(var W="";W.length<U;)W+=String.fromCharCode(F[F.l++]);return W}function I(F,G,U){if(!(!U.qpro||G<21)){var W=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var J=F.read_shift(G-21,"cstr");return[W,J]}}function R(F,G){for(var U={},W=F.l+G;F.l<W;){var J=F.read_shift(2);if(J==14e3){for(U[J]=[0,""],U[J][0]=F.read_shift(2);F[F.l];)U[J][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return U}function L(F,G){var U=dt(5+F.length);U.write_shift(2,14e3),U.write_shift(2,G);for(var W=0;W<F.length;++W){var J=F.charCodeAt(W);U[U.l++]=J>127?95:J}return U[U.l++]=0,U}var K={0:{n:"BOF",f:$n},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:R},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:_},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:I},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}}();function ZJe(e){var t={},s=e.match(oo),a=0,n=!1;if(s)for(;a!=s.length;++a){var i=Hr(s[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=cM[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var eZe=function(){var e=Dw("t"),t=Dw("rPr");function s(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Vs(o[1])},c=i.match(t);return c&&(l.s=ZJe(c[1])),l}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(n).map(s).filter(function(l){return l.v})}}(),tZe=function(){var t=/(\r\n|\n)/g;function s(n,i,o){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),n.b&&(i.push("<b>"),o.push("</b>")),n.i&&(i.push("<i>"),o.push("</i>")),n.strike&&(i.push("<s>"),o.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&s(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),rZe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sZe=/<(?:\w+:)?r>/,aZe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function OM(e,t){var s=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Vs(ya(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=ya(e),s&&(a.h=yM(a.t))):e.match(sZe)&&(a.r=ya(e),a.t=Vs(ya((e.replace(aZe,"").match(rZe)||[]).join("").replace(oo,""))),s&&(a.h=tZe(eZe(a.r)))),a):{t:""}}var nZe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,iZe=/<(?:\w+:)?(?:si|sstItem)>/g,oZe=/<\/(?:\w+:)?(?:si|sstItem)>/;function lZe(e,t){var s=[],a="";if(!e)return s;var n=e.match(nZe);if(n){a=n[2].replace(iZe,"").split(oZe);for(var i=0;i!=a.length;++i){var o=OM(a[i].trim(),t);o!=null&&(s[s.length]=o)}n=Hr(n[1]),s.Count=n.count,s.Unique=n.uniqueCount}return s}var cZe=/^\s|\s$|[\t\n\r]/;function nne(e,t){if(!t.bookSST)return"";var s=[Dn];s[s.length]=Mt("sst",null,{xmlns:Vp[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(cZe)&&(i+=' xml:space="preserve"'),i+=">"+ua(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function dZe(e){return[e.read_shift(4),e.read_shift(4)]}function uZe(e,t){var s=[],a=!1;return dh(e,function(i,o,l){switch(l){case 159:s.Count=i[0],s.Unique=i[1];break;case 19:s.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function hZe(e,t){return t||(t=dt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var mZe=NXe;function fZe(e){var t=el();yt(t,159,hZe(e));for(var s=0;s<e.length;++s)yt(t,19,mZe(e[s]));return yt(t,160),t.end()}function ine(e){for(var t=[],s=e.split(""),a=0;a<s.length;++a)t[a]=s[a].charCodeAt(0);return t}function Lu(e,t){var s={};return s.Major=e.read_shift(2),s.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),s}function pZe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Lu(e,4),t.U=Lu(e,4),t.W=Lu(e,4),t}function xZe(e){for(var t=e.read_shift(4),s=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=s)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+s);return a}function gZe(e){var t=[];e.l+=4;for(var s=e.read_shift(4);s-- >0;)t.push(xZe(e));return t}function vZe(e){var t=[];e.l+=4;for(var s=e.read_shift(4);s-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function yZe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Lu(e,4),t.U=Lu(e,4),t.W=Lu(e,4),t}function bZe(e){var t=yZe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function one(e,t){var s=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(s-e.l>>1,"utf16le"),e.l=s,a}function lne(e,t){var s={},a=e.l+t;return e.l+=4,s.Salt=e.slice(e.l,e.l+16),e.l+=16,s.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),s.VerifierHash=e.slice(e.l,a),e.l=a,s}function wZe(e){var t=Lu(e);switch(t.Minor){case 2:return[t.Minor,jZe(e)];case 3:return[t.Minor,NZe()];case 4:return[t.Minor,SZe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function jZe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var s=e.read_shift(4),a=one(e,s),n=lne(e,e.length-e.l);return{t:"Std",h:a,v:n}}function NZe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function SZe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var s=e.read_shift(e.length-e.l,"utf8"),a={};return s.replace(oo,function(i){var o=Hr(i);switch(cu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function kZe(e,t){var s={},a=s.EncryptionVersionInfo=Lu(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);s.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,s.EncryptionHeader=one(e,n),t-=n,s.EncryptionVerifier=lne(e,t),s}function CZe(e){var t={},s=t.EncryptionVersionInfo=Lu(e,4);if(s.Major!=1||s.Minor!=1)throw"unrecognized version code "+s.Major+" : "+s.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function IM(e){var t=0,s,a=ine(e),n=a.length+1,i,o,l,c,d;for(s=Em(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)o=s[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var cne=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],s=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},n=function(o,l){return a(o^l)},i=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=s[c]),u*=2,--c;return l};return function(o){for(var l=ine(o),c=i(l),d=l.length,u=Em(16),h=0;h!=16;++h)u[h]=0;var m,p,g;for((d&1)===1&&(m=c>>8,u[d]=n(e[0],m),--d,m=c&255,p=l[l.length-1],u[d]=n(p,m));d>0;)--d,m=c>>8,u[d]=n(l[d],m),--d,m=c&255,u[d]=n(l[d],m);for(d=15,g=15-l.length;g>0;)m=c>>8,u[d]=n(e[g],m),--d,--g,m=c&255,u[d]=n(l[d],m),--d,--g;return u}}(),AZe=function(e,t,s,a,n){n||(n=t),a||(a=cne(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=a[s],o=(o>>5|o<<3)&255,n[i]=o,++s;return[n,s,a]},EZe=function(e){var t=0,s=cne(e);return function(a){var n=AZe("",a,t,s);return t=n[1],n[0]}};function PZe(e,t,s,a){var n={key:$n(e),verificationBytes:$n(e)};return s.password&&(n.verifier=IM(s.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=EZe(s.password)),n}function TZe(e,t,s){var a=s||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=CZe(e):a.Data=kZe(e,t),a}function _Ze(e,t,s){var a={Type:s.biff>=8?e.read_shift(2):0};return a.Type?TZe(e,t-2,a):PZe(e,s.biff>=8?t:t-2,s,a),a}var dne=function(){function e(n,i){switch(i.type){case"base64":return t(Tl(n),i);case"binary":return t(n,i);case"buffer":return t(ys&&Buffer.isBuffer(n)?n.toString("binary"):Xm(n),i);case"array":return t(Np(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var o=i||{},l=o.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,p=0,g,x=-1;g=m.exec(u);){switch(g[0]){case"\\cell":var y=u.slice(p,m.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var b={v:y,t:"s"};Array.isArray(l)?l[h][x]=b:l[Vr({r:h,c:x})]=b}break}p=m.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=hs(d),l}function s(n,i){return Qm(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],o=zs(n["!ref"]),l,c=Array.isArray(n),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Vr({r:d,c:u});l=c?(n[d]||[])[u]:n[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Zu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}}();function DZe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Mw(e){for(var t=0,s=1;t!=3;++t)s=s*256+(e[t]>255?255:e[t]<0?0:e[t]);return s.toString(16).toUpperCase().slice(1)}function OZe(e){var t=e[0]/255,s=e[1]/255,a=e[2]/255,n=Math.max(t,s,a),i=Math.min(t,s,a),o=n-i;if(o===0)return[0,0,t];var l=0,c=0,d=n+i;switch(c=o/(d>1?2-d:d),n){case t:l=((s-a)/o+6)%6;break;case s:l=(a-t)/o+2;break;case a:l=(t-s)/o+4;break}return[l/6,c,d/2]}function IZe(e){var t=e[0],s=e[1],a=e[2],n=s*2*(a<.5?a:1-a),i=a-n/2,o=[i,i,i],l=6*t,c;if(s!==0)switch(l|0){case 0:case 6:c=n*l,o[0]+=n,o[1]+=c;break;case 1:c=n*(2-l),o[0]+=c,o[1]+=n;break;case 2:c=n*(l-2),o[1]+=n,o[2]+=c;break;case 3:c=n*(4-l),o[1]+=c,o[2]+=n;break;case 4:c=n*(l-4),o[2]+=n,o[0]+=c;break;case 5:c=n*(6-l),o[2]+=c,o[0]+=n;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Ek(e,t){if(t===0)return e;var s=OZe(DZe(e));return t<0?s[2]=s[2]*(1+t):s[2]=1-(1-s[2])*(1-t),Mw(IZe(s))}var une=6,RZe=15,MZe=1,Ji=une;function Fw(e){return Math.floor((e+Math.round(128/Ji)/256)*Ji)}function Lw(e){return Math.floor((e-5)/Ji*100+.5)/100}function Pk(e){return Math.round((e*Ji+5)/Ji*256)/256}function C4(e){return Pk(Lw(Fw(e)))}function RM(e){var t=Math.abs(e-C4(e)),s=Ji;if(t>.005)for(Ji=MZe;Ji<RZe;++Ji)Math.abs(e-C4(e))<=t&&(t=Math.abs(e-C4(e)),s=Ji);Ji=s}function Pm(e){e.width?(e.wpx=Fw(e.width),e.wch=Lw(e.wpx),e.MDW=Ji):e.wpx?(e.wch=Lw(e.wpx),e.width=Pk(e.wch),e.MDW=Ji):typeof e.wch=="number"&&(e.width=Pk(e.wch),e.wpx=Fw(e.width),e.MDW=Ji),e.customWidth&&delete e.customWidth}var FZe=96,hne=FZe;function $w(e){return e*96/hne}function E0(e){return e*hne/96}var LZe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $Ze(e,t,s,a){t.Borders=[];var n={},i=!1;(e[0].match(oo)||[]).forEach(function(o){var l=Hr(o);switch(cu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=Fa(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=Fa(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function BZe(e,t,s,a){t.Fills=[];var n={},i=!1;(e[0].match(oo)||[]).forEach(function(o){var l=Hr(o);switch(cu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function UZe(e,t,s,a){t.Fonts=[];var n={},i=!1;(e[0].match(oo)||[]).forEach(function(o){var l=Hr(o);switch(cu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=ya(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?Fa(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?Fa(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?Fa(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?Fa(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?Fa(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?Fa(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?Fa(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=cM[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=Fa(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var c=Yf[n.color.index];n.color.index==81&&(c=Yf[1]),c||(c=Yf[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&s.themeElements&&s.themeElements.clrScheme&&(n.color.rgb=Ek(s.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function VZe(e,t,s){t.NumberFmt=[];for(var a=yn($r),n=0;n<a.length;++n)t.NumberFmt[a[n]]=$r[a[n]];var i=e[0].match(oo);if(i)for(n=0;n<i.length;++n){var o=Hr(i[n]);switch(cu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Vs(ya(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Fu(l,c)}}break;case"</numFmt>":break;default:if(s.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function zZe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(t[t.length]=Mt("numFmt",null,{numFmtId:a,formatCode:ua(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Mt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var vN=["numFmtId","fillId","fontId","borderId","xfId"],yN=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function WZe(e,t,s){t.CellXf=[];var a,n=!1;(e[0].match(oo)||[]).forEach(function(i){var o=Hr(i),l=0;switch(cu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<vN.length;++l)a[vN[l]]&&(a[vN[l]]=parseInt(a[vN[l]],10));for(l=0;l<yN.length;++l)a[yN[l]]&&(a[yN[l]]=Fa(a[yN[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Fa(o.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function HZe(e){var t=[];return t[t.length]=Mt("cellXfs",null),e.forEach(function(s){t[t.length]=Mt("xf",null,s)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Mt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var qZe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,s=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&VZe(h,u,d),(h=l.match(n))&&UZe(h,u,c,d),(h=l.match(a))&&BZe(h,u,c,d),(h=l.match(i))&&$Ze(h,u,c,d),(h=l.match(s))&&WZe(h,u,d),u}}();function mne(e,t){var s=[Dn,Mt("styleSheet",null,{xmlns:Vp[0],"xmlns:vt":ri.vt})],a;return e.SSF&&(a=zZe(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=HZe(t.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function GZe(e,t){var s=e.read_shift(2),a=ro(e);return[s,a]}function KZe(e,t,s){s||(s=dt(6+4*t.length)),s.write_shift(2,e),vi(t,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function YZe(e,t,s){var a={};a.sz=e.read_shift(2)/20;var n=TXe(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=PXe(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=ro(e),a}function XZe(e,t){t||(t=dt(25+4*32)),t.write_shift(2,e.sz*20),_Xe(e,t),t.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),t.write_shift(2,s),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),kk(e.color,t);var a=0;return e.scheme=="major"&&(a=1),e.scheme=="minor"&&(a=2),t.write_shift(1,a),vi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var QZe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],A4,JZe=io;function Nz(e,t){t||(t=dt(4*3+8*7+16*1)),A4||(A4=GA(QZe));var s=A4[e.patternType];s==null&&(s=40),t.write_shift(4,s);var a=0;if(s!=40)for(kk({auto:1},t),kk({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ZZe(e,t){var s=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function fne(e,t,s){s||(s=dt(16)),s.write_shift(2,t||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function Zv(e,t){return t||(t=dt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var eet=io;function tet(e,t){return t||(t=dt(51)),t.write_shift(1,0),Zv(null,t),Zv(null,t),Zv(null,t),Zv(null,t),Zv(null,t),t.length>t.l?t.slice(0,t.l):t}function ret(e,t){return t||(t=dt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Sk(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function set(e,t,s){var a=dt(2052);return a.write_shift(4,e),Sk(t,a),Sk(s,a),a.length>a.l?a.slice(0,a.l):a}function aet(e,t,s){var a={};a.NumberFmt=[];for(var n in $r)a.NumberFmt[n]=$r[n];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return dh(e,function(c,d,u){switch(u){case 44:a.NumberFmt[c[0]]=c[1],Fu(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ek(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||s.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),a}function net(e,t){if(t){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++s}),s!=0&&(yt(e,615,rd(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&yt(e,44,KZe(n,t[n]))}),yt(e,616))}}function iet(e){var t=1;yt(e,611,rd(t)),yt(e,43,XZe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),yt(e,612)}function oet(e){var t=2;yt(e,603,rd(t)),yt(e,45,Nz({patternType:"none"})),yt(e,45,Nz({patternType:"gray125"})),yt(e,604)}function cet(e){var t=1;yt(e,613,rd(t)),yt(e,46,tet()),yt(e,614)}function det(e){var t=1;yt(e,626,rd(t)),yt(e,47,fne({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),yt(e,627)}function uet(e,t){yt(e,617,rd(t.length)),t.forEach(function(s){yt(e,47,fne(s,0))}),yt(e,618)}function het(e){var t=1;yt(e,619,rd(t)),yt(e,48,ret({xfId:0,builtinId:0,name:"Normal"})),yt(e,620)}function met(e){var t=0;yt(e,505,rd(t)),yt(e,506)}function fet(e){var t=0;yt(e,508,set(t,"TableStyleMedium9","PivotStyleMedium4")),yt(e,509)}function pet(e,t){var s=el();return yt(s,278),net(s,e.SSF),iet(s),oet(s),cet(s),det(s),uet(s,t.cellXfs),het(s),met(s),fet(s),yt(s,279),s.end()}var xet=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function get(e,t,s){t.themeElements.clrScheme=[];var a={};(e[0].match(oo)||[]).forEach(function(n){var i=Hr(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[xet.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(s&&s.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function vet(){}function yet(){}var bet=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,wet=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,jet=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Net(e,t,s){t.themeElements={};var a;[["clrScheme",bet,get],["fontScheme",wet,vet],["fmtScheme",jet,yet]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,s)})}var ket=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function pne(e,t){(!e||e.length===0)&&(e=MM());var s,a={};if(!(s=e.match(ket)))throw new Error("themeElements not found in theme");return Net(s[0],a,t),a.raw=e,a}function MM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Dn];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function Cet(e,t,s){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!s.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=oae(i,{type:"array"})}catch{return}var l=bl(o,"theme/theme/theme1.xml",!0);if(l)return pne(l,s)}}function Aet(e){return e.read_shift(4)}function Eet(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Pet(e,4);break;case 2:t.xclrValue=Kae(e);break;case 3:t.xclrValue=Aet(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Pet(e,t){return io(e,t)}function Tet(e,t){return io(e,t)}function _et(e){var t=e.read_shift(2),s=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Eet(e);break;case 6:a[1]=Tet(e,s);break;case 14:case 15:a[1]=e.read_shift(s===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+s)}return a}function Det(e,t){var s=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(_et(e,s-e.l));return{ixfe:a,ext:i}}function Oet(e,t){t.forEach(function(s){switch(s[0]){}})}function Iet(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ro(e)}}function Ret(e){var t=dt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),vi(e.name,t),t.slice(0,t.l)}function Met(e){for(var t=[],s=e.read_shift(4);s-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Fet(e){var t=dt(4+8*e.length);t.write_shift(4,e.length);for(var s=0;s<e.length;++s)t.write_shift(4,e[s][0]),t.write_shift(4,e[s][1]);return t}function Let(e,t){var s=dt(8+2*t.length);return s.write_shift(4,e),vi(t,s),s.slice(0,s.l)}function $et(e){return e.l+=4,e.read_shift(4)!=0}function Bet(e,t){var s=dt(8);return s.write_shift(4,e),s.write_shift(4,1),s}function Uet(e,t,s){var a={Types:[],Cell:[],Value:[]},n=s||{},i=[],o=!1,l=2;return dh(e,function(c,d,u){switch(u){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):l==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),a}function Vet(){var e=el();return yt(e,332),yt(e,334,rd(1)),yt(e,335,Ret({name:"XLDAPR",version:12e4,flags:3496657072})),yt(e,336),yt(e,339,Let(1,"XLDAPR")),yt(e,52),yt(e,35,rd(514)),yt(e,4096,rd(0)),yt(e,4097,Gl(1)),yt(e,36),yt(e,53),yt(e,340),yt(e,337,Bet(1)),yt(e,51,Fet([[1,0]])),yt(e,338),yt(e,333),e.end()}function zet(e,t,s){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,o;return e.replace(oo,function(l){var c=Hr(l);switch(cu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!n&&s.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),a}function xne(){var e=[Dn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Wet(e){var t=[];if(!e)return t;var s=1;return(e.match(oo)||[]).forEach(function(a){var n=Hr(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?s=n.i:n.i=s,t.push(n);break}}),t}function Het(e){var t={};t.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),t.r=Vr(s);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function qet(e,t,s){var a=[];return dh(e,function(i,o,l){switch(l){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function Get(e,t,s,a){if(!e)return e;var n=a||{},i=!1;dh(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Ket(e,t){if(!e)return"??";var s=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][s].Target}var eg=1024;function gne(e,t){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[Mt("xml",null,{"xmlns:v":xl.v,"xmlns:o":xl.o,"xmlns:x":xl.x,"xmlns:mv":xl.mv}).replace(/\/>/,">"),Mt("o:shapelayout",Mt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Mt("v:shapetype",[Mt("v:stroke",null,{joinstyle:"miter"}),Mt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];eg<e*1e3;)eg+=1e3;return t.forEach(function(i){var o=tn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Mt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Mt("v:fill",c,l),u={on:"t",obscured:"t"};++eg,n=n.concat(["<v:shape"+Ow({id:"_x0000_s"+eg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Mt("v:shadow",null,u),Mt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Pi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Pi("x:AutoFill","False"),Pi("x:Row",String(o.r)),Pi("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function Sz(e,t,s,a){var n=Array.isArray(e),i;t.forEach(function(o){var l=tn(o.ref);if(n?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},n?e[l.r][l.c]=i:e[o.ref]=i;var c=zs(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=hs(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:s};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!s&&i.c[h].T)return;s&&!i.c[h].T&&i.c.splice(h,1)}if(s&&a){for(h=0;h<a.length;++h)if(u.a==a[h].id){u.a=a[h].name||u.a;break}}i.c.push(u)})}function Yet(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var s=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&s.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Hr(l[0]),d={author:c.authorId&&s[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=tn(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&OM(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function vne(e){var t=[Dn,Mt("comments",null,{xmlns:Vp[0]})],s=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=ua(n.a);s.indexOf(i)==-1&&(s.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=s.indexOf(ua(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Pi("t",ua(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Pi("t",ua(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Xet(e,t){var s=[],a=!1,n={},i=0;return e.replace(oo,function(l,c){var d=Hr(l);switch(cu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&s.push(n);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),s}function Qet(e,t,s){var a=[Dn,Mt("ThreadedComments",null,{xmlns:ri.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(Mt("threadedComment",Pi("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function Jet(e,t){var s=[],a=!1;return e.replace(oo,function(i){var o=Hr(i);switch(cu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":s.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),s}function Zet(e){var t=[Dn,Mt("personList",null,{xmlns:ri.TCMNT,"xmlns:x":Vp[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){t.push(Mt("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ett(e){var t={};t.iauthor=e.read_shift(4);var s=qp(e);return t.rfx=s.s,t.ref=Vr(s.s),e.l+=16,t}function ttt(e,t){return t==null&&(t=dt(36)),t.write_shift(4,e[1].iauthor),gv(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var rtt=ro;function stt(e){return vi(e.slice(0,54))}function att(e,t){var s=[],a=[],n={},i=!1;return dh(e,function(l,c,d){switch(d){case 632:a.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,s.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),s}function ntt(e){var t=el(),s=[];return yt(t,628),yt(t,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),yt(t,632,stt(n.a)))})}),yt(t,631),yt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:tn(a[0]),e:tn(a[0])};yt(t,635,ttt([i,n])),n.t&&n.t.length>0&&yt(t,637,kXe(n)),yt(t,636),delete n.iauthor})}),yt(t,634),yt(t,629),t.end()}var itt="application/vnd.ms-office.vbaProject";function ott(e){var t=Tr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(s,a){if(!(s.slice(-1)==="/"||!s.match(/_VBA_PROJECT_CUR/))){var n=s.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Tr.utils.cfb_add(t,n,e.FileIndex[a].content)}}),Tr.write(t)}function ltt(e,t){t.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Tr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var yne=["xlsb","xlsm","xlam","biff8","xla"];function ctt(){return{"!type":"dialog"}}function dtt(){return{"!type":"dialog"}}function utt(){return{"!type":"macro"}}function htt(){return{"!type":"macro"}}var wg=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function s(a,n,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,n+(l?"":"$")+en(u)+(c?"":"$")+Tn(d)}return function(n,i){return t=i,n.replace(e,s)}}(),FM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,LM=function(){return function(t,s){return t.replace(FM,function(a,n,i,o,l,c){var d=SM(o)-(i?0:s.c),u=NM(c)-(l?0:s.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return n+"R"+h+"C"+m})}}();function bne(e,t){return e.replace(FM,function(s,a,n,i,o,l){return a+(n=="$"?n+i:en(SM(i)+t.c))+(o=="$"?o+l:Tn(NM(l)+t.r))})}function mtt(e,t,s){var a=al(t),n=a.s,i=tn(s),o={r:i.r-n.r,c:i.c-n.c};return bne(e,o)}function ftt(e){return e.length!=1}function kz(e){return e.replace(/_xlfn\./g,"")}function Rn(e){e.l+=1}function Tm(e,t){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function wne(e,t,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return jne(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),o=Tm(e),l=Tm(e);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function jne(e){var t=Tm(e),s=Tm(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function ptt(e,t,s){if(s.biff<8)return jne(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=Tm(e),o=Tm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function Nne(e,t,s){if(s&&s.biff>=2&&s.biff<=5)return xtt(e);var a=e.read_shift(s&&s.biff==12?4:2),n=Tm(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function xtt(e){var t=Tm(e),s=e.read_shift(1);return{r:t[0],c:s,cRel:t[1],rRel:t[2]}}function gtt(e){var t=e.read_shift(2),s=e.read_shift(2);return{r:t,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function vtt(e,t,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return ytt(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;n>524287;)n-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:o,rRel:l}}function ytt(e){var t=e.read_shift(2),s=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&s>=128&&(s=s-256),{r:t,c:s,cRel:n,rRel:a}}function btt(e,t,s){var a=(e[e.l++]&96)>>5,n=wne(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function wtt(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=wne(e,i,s);return[a,n,o]}function jtt(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function Ntt(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function Stt(e,t,s){var a=(e[e.l++]&96)>>5,n=ptt(e,t-1,s);return[a,n]}function ktt(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function Cz(e){var t=e[e.l+1]&1,s=1;return e.l+=4,[t,s]}function Ctt(e,t,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function Att(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function Ett(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function Ptt(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Ttt(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function Sne(e){var t=e.read_shift(1),s=e.read_shift(1);return[t,s]}function _tt(e){return e.read_shift(2),Sne(e)}function Dtt(e){return e.read_shift(2),Sne(e)}function Ott(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=Nne(e,0,s);return[a,n]}function Itt(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=vtt(e,0,s);return[a,n]}function Rtt(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=Nne(e,0,s);return[a,n,i]}function Mtt(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[$rt[n],Ane[n],a]}function Ftt(e,t,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:Ltt(e);return[n,(i[0]===0?Ane:Lrt)[i[1]]]}function Ltt(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function $tt(e,t,s){e.l+=s&&s.biff==2?3:4}function Btt(e,t,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Utt(e){return e.l++,uh[e.read_shift(1)]}function Vtt(e){return e.l++,e.read_shift(2)}function ztt(e){return e.l++,e.read_shift(1)!==0}function Wtt(e){return e.l++,Zi(e)}function Htt(e,t,s){return e.l++,$j(e,t-1,s)}function qtt(e,t){var s=[e.read_shift(1)];if(t==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=wn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:s[1]=uh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Zi(e);break;case 2:s[1]=Gp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function Gtt(e,t,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?qp:XA)(e));return n}function Ktt(e,t,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=n;++l)o[i][l]=qtt(e,s.biff);return o}function Ytt(e,t,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Xtt(e,t,s){if(s.biff==5)return Qtt(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function Qtt(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,s,a]}function Jtt(e,t,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Ztt(e,t,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function ert(e,t,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function trt(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var rrt=io,srt=io,art=io;function Uj(e,t,s){return e.l+=2,[gtt(e)]}function $M(e){return e.l+=6,[]}var nrt=Uj,irt=$M,ort=$M,lrt=Uj;function kne(e){return e.l+=2,[$n(e),e.read_shift(2)&1]}var crt=Uj,drt=kne,urt=$M,hrt=Uj,mrt=Uj,frt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function prt(e){e.l+=2;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),o=frt[s>>2&31];return{ixti:t,coltype:s&3,rt:o,idx:a,c:n,C:i}}function xrt(e){return e.l+=2,[e.read_shift(4)]}function grt(e,t,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function vrt(e,t,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function yrt(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function brt(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function wrt(e){return e.l+=4,[0,0]}var Az={1:{n:"PtgExp",f:Btt},2:{n:"PtgTbl",f:art},3:{n:"PtgAdd",f:Rn},4:{n:"PtgSub",f:Rn},5:{n:"PtgMul",f:Rn},6:{n:"PtgDiv",f:Rn},7:{n:"PtgPower",f:Rn},8:{n:"PtgConcat",f:Rn},9:{n:"PtgLt",f:Rn},10:{n:"PtgLe",f:Rn},11:{n:"PtgEq",f:Rn},12:{n:"PtgGe",f:Rn},13:{n:"PtgGt",f:Rn},14:{n:"PtgNe",f:Rn},15:{n:"PtgIsect",f:Rn},16:{n:"PtgUnion",f:Rn},17:{n:"PtgRange",f:Rn},18:{n:"PtgUplus",f:Rn},19:{n:"PtgUminus",f:Rn},20:{n:"PtgPercent",f:Rn},21:{n:"PtgParen",f:Rn},22:{n:"PtgMissArg",f:Rn},23:{n:"PtgStr",f:Htt},26:{n:"PtgSheet",f:grt},27:{n:"PtgEndSheet",f:vrt},28:{n:"PtgErr",f:Utt},29:{n:"PtgBool",f:ztt},30:{n:"PtgInt",f:Vtt},31:{n:"PtgNum",f:Wtt},32:{n:"PtgArray",f:ktt},33:{n:"PtgFunc",f:Mtt},34:{n:"PtgFuncVar",f:Ftt},35:{n:"PtgName",f:Ytt},36:{n:"PtgRef",f:Ott},37:{n:"PtgArea",f:btt},38:{n:"PtgMemArea",f:Jtt},39:{n:"PtgMemErr",f:rrt},40:{n:"PtgMemNoMem",f:srt},41:{n:"PtgMemFunc",f:Ztt},42:{n:"PtgRefErr",f:ert},43:{n:"PtgAreaErr",f:jtt},44:{n:"PtgRefN",f:Itt},45:{n:"PtgAreaN",f:Stt},46:{n:"PtgMemAreaN",f:yrt},47:{n:"PtgMemNoMemN",f:brt},57:{n:"PtgNameX",f:Xtt},58:{n:"PtgRef3d",f:Rtt},59:{n:"PtgArea3d",f:wtt},60:{n:"PtgRefErr3d",f:trt},61:{n:"PtgAreaErr3d",f:Ntt},255:{}},jrt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Nrt={1:{n:"PtgElfLel",f:kne},2:{n:"PtgElfRw",f:hrt},3:{n:"PtgElfCol",f:nrt},6:{n:"PtgElfRwV",f:mrt},7:{n:"PtgElfColV",f:lrt},10:{n:"PtgElfRadical",f:crt},11:{n:"PtgElfRadicalS",f:urt},13:{n:"PtgElfColS",f:irt},15:{n:"PtgElfColSV",f:ort},16:{n:"PtgElfRadicalLel",f:drt},25:{n:"PtgList",f:prt},29:{n:"PtgSxName",f:xrt},255:{}},Srt={0:{n:"PtgAttrNoop",f:wrt},1:{n:"PtgAttrSemi",f:Ttt},2:{n:"PtgAttrIf",f:Ett},4:{n:"PtgAttrChoose",f:Ctt},8:{n:"PtgAttrGoto",f:Att},16:{n:"PtgAttrSum",f:$tt},32:{n:"PtgAttrBaxcel",f:Cz},33:{n:"PtgAttrBaxcel",f:Cz},64:{n:"PtgAttrSpace",f:_tt},65:{n:"PtgAttrSpaceSemi",f:Dtt},128:{n:"PtgAttrIfError",f:Ptt},255:{}};function Vj(e,t,s,a){if(a.biff<8)return io(e,t);for(var n=e.l+t,i=[],o=0;o!==s.length;++o)switch(s[o][0]){case"PtgArray":s[o][1]=Ktt(e,0,a),i.push(s[o][1]);break;case"PtgMemArea":s[o][2]=Gtt(e,s[o][1],a),i.push(s[o][2]);break;case"PtgExp":a&&a.biff==12&&(s[o][1][1]=e.read_shift(4),i.push(s[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[o][0]}return t=n-e.l,t!==0&&i.push(io(e,t)),i}function zj(e,t,s){for(var a=e.l+t,n,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],n=Az[i]||Az[jrt[i]],(i===24||i===25)&&(n=(i===24?Nrt:Srt)[e[e.l+1]]),!n||!n.f?io(e,t):o.push([n.n,n.f(e,t,s)]);return o}function krt(e){for(var t=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var Crt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Art(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Cne(e,t,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(s.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function Ez(e,t,s){var a=Cne(e,t,s);return a=="#REF"?a:Art(a,s)}function Yi(e,t,s,a,n){var i=n&&n.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,h=0,m=0,p,g="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",b=0,w=e[0].length;b<w;++b){var v=e[0][b];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=pn(" ",e[0][x][1][1]);break;case 1:y=pn("\r",e[0][x][1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}d=d+y,x=-1}l.push(d+Crt[v[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=eb(v[1][1],o,n),l.push(tb(u,i));break;case"PtgRefN":u=s?eb(v[1][1],s,n):v[1][1],l.push(tb(u,i));break;case"PtgRef3d":h=v[1][1],u=eb(v[1][2],o,n),g=Ez(a,h,n),l.push(g+"!"+tb(u,i));break;case"PtgFunc":case"PtgFuncVar":var S=v[1][0],j=v[1][1];S||(S=0),S&=127;var k=S==0?[]:l.slice(-S);l.length-=S,j==="User"&&(j=k.shift()),l.push(j+"("+k.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":p=sz(v[1][1],s?{s}:o,n),l.push(N4(p,n));break;case"PtgArea":p=sz(v[1][1],o,n),l.push(N4(p,n));break;case"PtgArea3d":h=v[1][1],p=v[1][2],g=Ez(a,h,n),l.push(g+"!"+N4(p,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=v[1][2];var N=(a.names||[])[m-1]||(a[0]||[])[m],C=N?N.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!n.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var A=v[1][1];m=v[1][2];var E;if(n.biff<=5)A<0&&(A=-A),a[A]&&(E=a[A][m]);else{var D="";if(((a[A]||[])[0]||[])[0]==14849||(((a[A]||[])[0]||[])[0]==1025?a[A][m]&&a[A][m].itab>0&&(D=a.SheetNames[a[A][m].itab-1]+"!"):D=a.SheetNames[m-1]+"!"),a[A]&&a[A][m])D+=a[A][m].Name;else if(a[0]&&a[0][m])D+=a[0][m].Name;else{var T=(Cne(a,A,n)||"").split(";;");T[m-1]?D=T[m-1]:D+="SH33TJSERRX"}l.push(D);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var P="(",_=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:P=pn(" ",e[0][x][1][1])+P;break;case 3:P=pn("\r",e[0][x][1][1])+P;break;case 4:_=pn(" ",e[0][x][1][1])+_;break;case 5:_=pn("\r",e[0][x][1][1])+_;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(P+l.pop()+_);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:v[1][1],r:v[1][0]};var O={c:s.c,r:s.r};if(a.sharedf[Vr(u)]){var M=a.sharedf[Vr(u)];l.push(Yi(M,o,O,a,n))}else{var I=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Yi(d[1],o,O,a,n)),I=!0;break}I||l.push(v[1])}break;case"PtgArray":l.push("{"+krt(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var R=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&x>=0&&R.indexOf(e[0][b][0])==-1){v=e[0][x];var L=!0;switch(v[1][0]){case 4:L=!1;case 0:y=pn(" ",v[1][1]);break;case 5:L=!1;case 1:y=pn("\r",v[1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((L?y:"")+l.pop()+(L?"":y)),x=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function Ert(e,t,s){var a=e.l+t,n=s.biff==2?1:2,i,o=e.read_shift(n);if(o==65535)return[[],io(e,t-2)];var l=zj(e,o,s);return t!==o+n&&(i=Vj(e,t-o-n,l,s)),e.l=a,[l,i]}function Prt(e,t,s){var a=e.l+t,n=s.biff==2?1:2,i,o=e.read_shift(n);if(o==65535)return[[],io(e,t-2)];var l=zj(e,o,s);return t!==o+n&&(i=Vj(e,t-o-n,l,s)),e.l=a,[l,i]}function Trt(e,t,s,a){var n=e.l+t,i=zj(e,a,s),o;return n!==e.l&&(o=Vj(e,n-e.l,i,s)),[i,o]}function _rt(e,t,s){var a=e.l+t,n,i=e.read_shift(2),o=zj(e,i,s);return i==65535?[[],io(e,t-2)]:(t!==i+2&&(n=Vj(e,a-i-2,o,s)),[o,n])}function Drt(e){var t;if(Tu(e,e.l+6)!==65535)return[Zi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Ort(e){if(e==null){var t=dt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Sp(e);return Sp(0)}function E4(e,t,s){var a=e.l+t,n=du(e);s.biff==2&&++e.l;var i=Drt(e),o=e.read_shift(1);s.biff!=2&&(e.read_shift(1),s.biff>=5&&e.read_shift(4));var l=Prt(e,a-e.l,s);return{cell:n,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Irt(e,t,s,a,n){var i=Cp(t,s,n),o=Ort(e.v),l=dt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=dt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var h=xi([i,o,l,d]);return h}function QA(e,t,s){var a=e.read_shift(4),n=zj(e,a,s),i=e.read_shift(4),o=i>0?Vj(e,i,n,s):null;return[n,o]}var Rrt=QA,JA=QA,Mrt=QA,Frt=QA,Lrt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ane={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$rt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Pz(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,s){return s.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Brt(e){var t="of:="+e.replace(FM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function P4(e){var t=e.split(":"),s=t[0].split(".")[0];return[s,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Urt(e){return e.replace(/\./,"!")}var sb={},jg={},ab=typeof Map<"u";function BM(e,t,s){var a=0,n=e.length;if(s){if(ab?s.has(t):Object.prototype.hasOwnProperty.call(s,t)){for(var i=ab?s.get(t):s[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,s&&(ab?(s.has(t)||s.set(t,[]),s.get(t).push(n)):(Object.prototype.hasOwnProperty.call(s,t)||(s[t]=[]),s[t].push(n))),n}function ZA(e,t){var s={min:e+1,max:e+1},a=-1;return t.MDW&&(Ji=t.MDW),t.width!=null?s.customWidth=1:t.wpx!=null?a=Lw(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(s.width=Pk(a),s.customWidth=1):t.width!=null&&(s.width=t.width),t.hidden&&(s.hidden=!0),t.level!=null&&(s.outlineLevel=s.level=t.level),s}function Jf(e,t){if(e){var s=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(s=[1,1,1,1,.5,.5]),e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function Jm(e,t,s){var a=s.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){Fu(t.z,n),s.ssf[n]=t.z,s.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Ene(e,t,s,a,n,i){try{a.cellNF&&(e.z=$r[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Va(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if($r[t]==null&&Fu(MYe[t]||"General",t),e.t==="e")e.w=e.w||uh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_w(e.v);else if(e.t==="d"){var o=ii(e.v);(o|0)===o?e.w=o.toString(10):e.w=_w(o)}else{if(e.v===void 0)return"";e.w=jp(e.v,jg)}else e.t==="d"?e.w=pc(t,ii(e.v),jg):e.w=pc(t,e.v,jg)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&s!=null)try{e.s=i.Fills[s],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ek(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ek(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function Vrt(e,t,s){if(e&&e["!ref"]){var a=zs(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function zrt(e,t){var s=zs(t);s.s.r<=s.e.r&&s.s.c<=s.e.c&&s.s.r>=0&&s.s.c>=0&&(e["!ref"]=hs(s))}var Wrt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Hrt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,qrt=/<(?:\w:)?hyperlink [^>]*>/mg,Grt=/"(\w*:\w*)"/,Krt=/<(?:\w:)?col\b[^>]*[\/]?>/g,Yrt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Xrt=/<(?:\w:)?pageMargins[^>]*\/>/g,Pne=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Qrt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Jrt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Zrt(e,t,s,a,n,i,o){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=e.match(Hrt);h?(d=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):d=u=e;var m=d.match(Pne);m?UM(m[0],l,n,s):(m=d.match(Qrt))&&tst(m[0],m[1]||"",l,n,s);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=d.slice(p,p+50).match(Grt);g&&zrt(l,g[1])}var x=d.match(Jrt);x&&x[1]&&fst(x[1],n);var y=[];if(t.cellStyles){var b=d.match(Krt);b&&cst(y,b)}h&&gst(h[1],l,t,c,i,o);var w=u.match(Yrt);w&&(l["!autofilter"]=ust(w[0]));var v=[],S=u.match(Wrt);if(S)for(p=0;p!=S.length;++p)v[p]=zs(S[p].slice(S[p].indexOf('"')+1));var j=u.match(qrt);j&&ist(l,j,a);var k=u.match(Xrt);if(k&&(l["!margins"]=ost(Hr(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=hs(c)),t.sheetRows>0&&l["!ref"]){var N=zs(l["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=hs(N))}return y.length>0&&(l["!cols"]=y),v.length>0&&(l["!merges"]=v),l}function est(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)t+='<mergeCell ref="'+hs(e[s])+'"/>';return t+"</mergeCells>"}function UM(e,t,s,a){var n=Hr(e);s.Sheets[a]||(s.Sheets[a]={}),n.codeName&&(s.Sheets[a].CodeName=Vs(ya(n.codeName)))}function tst(e,t,s,a,n){UM(e.slice(0,e.indexOf(">")),s,a,n)}function rst(e,t,s,a,n){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[s];try{t.Workbook&&(c=t.Workbook.Sheets[s].CodeName||c)}catch{}i=!0,o.codeName=$d(ua(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Mt("outlinePr",null,d)}!i&&!l||(n[n.length]=Mt("sheetPr",l,o))}var sst=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ast=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function nst(e){var t={sheet:1};return sst.forEach(function(s){e[s]!=null&&e[s]&&(t[s]="1")}),ast.forEach(function(s){e[s]!=null&&!e[s]&&(t[s]="0")}),e.password&&(t.password=IM(e.password).toString(16).toUpperCase()),Mt("sheetProtection",null,t)}function ist(e,t,s){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=Hr(ya(t[n]),!0);if(!i.ref)return;var o=((s||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Vs(i.location))):(i.Target="#"+Vs(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=zs(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Vr({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function ost(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(s){e[s]&&(t[s]=parseFloat(e[s]))}),t}function lst(e){return Jf(e),Mt("pageMargins",null,e)}function cst(e,t){for(var s=!1,a=0;a!=t.length;++a){var n=Hr(t[a],!0);n.hidden&&(n.hidden=Fa(n.hidden));var i=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!s&&n.width&&(s=!0,RM(n.width)),Pm(n);i<=o;)e[i++]=za(n)}}function dst(e,t){for(var s=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(s[s.length]=Mt("col",null,ZA(n,a)));return s[s.length]="</cols>",s.join("")}function ust(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function hst(e,t,s,a){var n=typeof e.ref=="string"?e.ref:hs(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,o=al(n);o.s.r==o.e.r&&(o.e.r=al(t["!ref"]).e.r,n=hs(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),Mt("autoFilter",null,{ref:n})}var mst=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function fst(e,t){t.Views||(t.Views=[{}]),(e.match(mst)||[]).forEach(function(s,a){var n=Hr(s);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),Fa(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function pst(e,t,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Mt("sheetViews",Mt("sheetView",null,n),{})}function xst(e,t,s,a){if(e.c&&s["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=uh[e.v];break;case"d":a&&a.cellDates?n=Va(e.v,-1).toISOString():(e=za(e),e.t="n",n=""+(e.v=ii(Va(e.v)))),typeof e.z>"u"&&(e.z=$r[14]);break;default:n=e.v;break}var l=Pi("v",ua(n)),c={r:t},d=Jm(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=Pi("v",""+BM(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Mt("f",ua(e.f),u)+(e.v!=null?l:"")}return e.l&&s["!links"].push([t,e.l]),e.D&&(c.cm=1),Mt("c",l,c)}var gst=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,s=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=Dw("v"),o=Dw("f");return function(c,d,u,h,m,p){for(var g=0,x="",y=[],b=[],w=0,v=0,S=0,j="",k,N,C=0,A=0,E,D,T=0,P=0,_=Array.isArray(p.CellXf),O,M=[],I=[],R=Array.isArray(d),L=[],K={},H=!1,F=!!u.sheetStubs,G=c.split(t),U=0,W=G.length;U!=W;++U){x=G[U].trim();var J=x.length;if(J!==0){var z=0;e:for(g=0;g<J;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(N=Hr(x.slice(z,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,A=-1,u.sheetRows&&u.sheetRows<C)continue;K={},H=!1,N.ht&&(H=!0,K.hpt=parseFloat(N.ht),K.hpx=E0(K.hpt)),N.hidden=="1"&&(H=!0,K.hidden=!0),N.outlineLevel!=null&&(H=!0,K.level=+N.outlineLevel),H&&(L[C-1]=K)}break;case"<":z=g;break}if(z>=g)break;if(N=Hr(x.slice(z,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,A=-1,!(u.sheetRows&&u.sheetRows<C)){h.s.r>C-1&&(h.s.r=C-1),h.e.r<C-1&&(h.e.r=C-1),u&&u.cellStyles&&(K={},H=!1,N.ht&&(H=!0,K.hpt=parseFloat(N.ht),K.hpx=E0(K.hpt)),N.hidden=="1"&&(H=!0,K.hidden=!0),N.outlineLevel!=null&&(H=!0,K.level=+N.outlineLevel),H&&(L[C-1]=K)),y=x.slice(g).split(e);for(var ie=0;ie!=y.length&&y[ie].trim().charAt(0)=="<";++ie);for(y=y.slice(ie),g=0;g!=y.length;++g)if(x=y[g].trim(),x.length!==0){if(b=x.match(s),w=g,v=0,S=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,b!=null&&b.length===2){for(w=0,j=b[1],v=0;v!=j.length&&!((S=j.charCodeAt(v)-64)<1||S>26);++v)w=26*w+S;--w,A=w}else++A;for(v=0;v!=x.length&&x.charCodeAt(v)!==62;++v);if(++v,N=Hr(x.slice(0,v),!0),N.r||(N.r=Vr({r:C-1,c:A})),j=x.slice(v),k={t:""},(b=j.match(i))!=null&&b[1]!==""&&(k.v=Vs(b[1])),u.cellFormula){if((b=j.match(o))!=null&&b[1]!==""){if(k.f=Vs(ya(b[1])).replace(/\r\n/g,`
`),u.xlfn||(k.f=kz(k.f)),b[0].indexOf('t="array"')>-1)k.F=(j.match(n)||[])[1],k.F.indexOf(":")>-1&&M.push([zs(k.F),k.F]);else if(b[0].indexOf('t="shared"')>-1){D=Hr(b[0]);var re=Vs(ya(b[1]));u.xlfn||(re=kz(re)),I[parseInt(D.si,10)]=[D,re,N.r]}}else(b=j.match(/<f[^>]*\/>/))&&(D=Hr(b[0]),I[D.si]&&(k.f=mtt(I[D.si][1],I[D.si][2],N.r)));var q=tn(N.r);for(v=0;v<M.length;++v)q.r>=M[v][0].s.r&&q.r<=M[v][0].e.r&&q.c>=M[v][0].s.c&&q.c<=M[v][0].e.c&&(k.F=M[v][1])}if(N.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(F)k.t="z";else continue;else k.t=N.t||"n";switch(h.s.c>A&&(h.s.c=A),h.e.c<A&&(h.e.c=A),k.t){case"n":if(k.v==""||k.v==null){if(!F)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!F)continue;k.t="z"}else E=sb[parseInt(k.v,10)],k.v=E.t,k.r=E.r,u.cellHTML&&(k.h=E.h);break;case"str":k.t="s",k.v=k.v!=null?ya(k.v):"",u.cellHTML&&(k.h=yM(k.v));break;case"inlineStr":b=j.match(a),k.t="s",b!=null&&(E=OM(b[1]))?(k.v=E.t,u.cellHTML&&(k.h=E.h)):k.v="";break;case"b":k.v=Fa(k.v);break;case"d":u.cellDates?k.v=Va(k.v,1):(k.v=ii(Va(k.v,1)),k.t="n");break;case"e":(!u||u.cellText!==!1)&&(k.w=k.v),k.v=_ae[k.v];break}if(T=P=0,O=null,_&&N.s!==void 0&&(O=p.CellXf[N.s],O!=null&&(O.numFmtId!=null&&(T=O.numFmtId),u.cellStyles&&O.fillId!=null&&(P=O.fillId))),Ene(k,T,P,u,m,p),u.cellDates&&_&&k.t=="n"&&fv($r[T])&&(k.t="d",k.v=YA(k.v)),N.cm&&u.xlmeta){var se=(u.xlmeta.Cell||[])[+N.cm-1];se&&se.type=="XLDAPR"&&(k.D=!0)}if(R){var B=tn(N.r);d[B.r]||(d[B.r]=[]),d[B.r][B.c]=k}else d[N.r]=k}}}}L.length>0&&(d["!rows"]=L)}}();function vst(e,t,s,a){var n=[],i=[],o=zs(e["!ref"]),l="",c,d="",u=[],h=0,m=0,p=e["!rows"],g=Array.isArray(e),x={r:d},y,b=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=en(m);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=Tn(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var w=g?(e[h]||[])[m]:e[c];w!==void 0&&(l=xst(w,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[h])&&(x={r:d},p&&p[h]&&(y=p[h],y.hidden&&(x.hidden=1),b=-1,y.hpx?b=$w(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(x.ht=b,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),n[n.length]=Mt("row",i.join(""),x))}if(p)for(;h<p.length;++h)p&&p[h]&&(x={r:h+1},y=p[h],y.hidden&&(x.hidden=1),b=-1,y.hpx?b=$w(y.hpx):y.hpt&&(b=y.hpt),b>-1&&(x.ht=b,x.customHeight=1),y.level&&(x.outlineLevel=y.level),n[n.length]=Mt("row","",x));return n.join("")}function Tne(e,t,s,a){var n=[Dn,Mt("worksheet",null,{xmlns:Vp[0],"xmlns:r":ri.r})],i=s.SheetNames[e],o=0,l="",c=s.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=zs(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=hs(u)}a||(a={}),c["!comments"]=[];var h=[];rst(c,s,e,t,n),n[n.length]=Mt("dimension",null,{ref:d}),n[n.length]=pst(c,t,e,s),t.sheetFormat&&(n[n.length]=Mt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=dst(c,c["!cols"])),n[o=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=vst(c,t),l.length>0&&(n[n.length]=l)),n.length>o+1&&(n[n.length]="</sheetData>",n[o]=n[o].replace("/>",">")),c["!protect"]&&(n[n.length]=nst(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=hst(c["!autofilter"],c,s,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=est(c["!merges"]));var m=-1,p,g=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(g=da(a,-1,ua(x[1].Target).replace(/#.*$/,""),Ns.HLINK),p["r:id"]="rId"+g),(m=x[1].Target.indexOf("#"))>-1&&(p.location=ua(x[1].Target.slice(m+1))),x[1].Tooltip&&(p.tooltip=ua(x[1].Tooltip)),n[n.length]=Mt("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=lst(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Pi("ignoredErrors",Mt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(g=da(a,-1,"../drawings/drawing"+(e+1)+".xml",Ns.DRAW),n[n.length]=Mt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=h),c["!comments"].length>0&&(g=da(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ns.VML),n[n.length]=Mt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function yst(e,t){var s={},a=e.l+t;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function bst(e,t,s){var a=dt(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=$w(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;n.level&&(o|=n.level),n.hidden&&(o|=16),(n.hpx||n.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,m=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var g=Array.isArray(s)?(s[d.r]||[])[d.c]:s[Vr(d)];g&&(h<0&&(h=p),m=p)}h<0||(++l,a.write_shift(4,h),a.write_shift(4,m))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function wst(e,t,s,a){var n=bst(a,s,t);(n.length>17||(t["!rows"]||[])[a])&&yt(e,0,n)}var jst=qp,Nst=gv;function Sst(){}function kst(e,t){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=CXe(e),s}function Cst(e,t,s){s==null&&(s=dt(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return kk({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),Cae(e,s),s.slice(0,s.l)}function Ast(e){var t=wc(e);return[t]}function Est(e,t,s){return s==null&&(s=dt(8)),zp(t,s)}function Pst(e){var t=Wp(e);return[t]}function Tst(e,t,s){return s==null&&(s=dt(4)),Hp(t,s)}function _st(e){var t=wc(e),s=e.read_shift(1);return[t,s,"b"]}function Dst(e,t,s){return s==null&&(s=dt(9)),zp(t,s),s.write_shift(1,e.v?1:0),s}function Ost(e){var t=Wp(e),s=e.read_shift(1);return[t,s,"b"]}function Ist(e,t,s){return s==null&&(s=dt(5)),Hp(t,s),s.write_shift(1,e.v?1:0),s}function Rst(e){var t=wc(e),s=e.read_shift(1);return[t,s,"e"]}function Mst(e,t,s){return s==null&&(s=dt(9)),zp(t,s),s.write_shift(1,e.v),s}function Fst(e){var t=Wp(e),s=e.read_shift(1);return[t,s,"e"]}function Lst(e,t,s){return s==null&&(s=dt(8)),Hp(t,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function $st(e){var t=wc(e),s=e.read_shift(4);return[t,s,"s"]}function Bst(e,t,s){return s==null&&(s=dt(12)),zp(t,s),s.write_shift(4,t.v),s}function Ust(e){var t=Wp(e),s=e.read_shift(4);return[t,s,"s"]}function Vst(e,t,s){return s==null&&(s=dt(8)),Hp(t,s),s.write_shift(4,t.v),s}function zst(e){var t=wc(e),s=Zi(e);return[t,s,"n"]}function Wst(e,t,s){return s==null&&(s=dt(16)),zp(t,s),Sp(e.v,s),s}function _ne(e){var t=Wp(e),s=Zi(e);return[t,s,"n"]}function Hst(e,t,s){return s==null&&(s=dt(12)),Hp(t,s),Sp(e.v,s),s}function qst(e){var t=wc(e),s=EM(e);return[t,s,"n"]}function Gst(e,t,s){return s==null&&(s=dt(12)),zp(t,s),Aae(e.v,s),s}function Kst(e){var t=Wp(e),s=EM(e);return[t,s,"n"]}function Yst(e,t,s){return s==null&&(s=dt(8)),Hp(t,s),Aae(e.v,s),s}function Xst(e){var t=wc(e),s=kM(e);return[t,s,"is"]}function Qst(e){var t=wc(e),s=ro(e);return[t,s,"str"]}function Jst(e,t,s){return s==null&&(s=dt(12+4*e.v.length)),zp(t,s),vi(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Zst(e){var t=Wp(e),s=ro(e);return[t,s,"str"]}function eat(e,t,s){return s==null&&(s=dt(8+4*e.v.length)),Hp(t,s),vi(e.v,s),s.length>s.l?s.slice(0,s.l):s}function tat(e,t,s){var a=e.l+t,n=wc(e);n.r=s["!row"];var i=e.read_shift(1),o=[n,i,"b"];if(s.cellFormula){e.l+=2;var l=JA(e,a-e.l,s);o[3]=Yi(l,null,n,s.supbooks,s)}else e.l=a;return o}function rat(e,t,s){var a=e.l+t,n=wc(e);n.r=s["!row"];var i=e.read_shift(1),o=[n,i,"e"];if(s.cellFormula){e.l+=2;var l=JA(e,a-e.l,s);o[3]=Yi(l,null,n,s.supbooks,s)}else e.l=a;return o}function sat(e,t,s){var a=e.l+t,n=wc(e);n.r=s["!row"];var i=Zi(e),o=[n,i,"n"];if(s.cellFormula){e.l+=2;var l=JA(e,a-e.l,s);o[3]=Yi(l,null,n,s.supbooks,s)}else e.l=a;return o}function aat(e,t,s){var a=e.l+t,n=wc(e);n.r=s["!row"];var i=ro(e),o=[n,i,"str"];if(s.cellFormula){e.l+=2;var l=JA(e,a-e.l,s);o[3]=Yi(l,null,n,s.supbooks,s)}else e.l=a;return o}var nat=qp,iat=gv;function oat(e,t){return t==null&&(t=dt(4)),t.write_shift(4,e),t}function lat(e,t){var s=e.l+t,a=qp(e),n=CM(e),i=ro(e),o=ro(e),l=ro(e);e.l=s;var c={rfx:a,relId:n,loc:i,display:l};return o&&(c.Tooltip=o),c}function cat(e,t){var s=dt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gv({s:tn(e[0]),e:tn(e[0])},s),AM("rId"+t,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return vi(n||"",s),vi(e[1].Tooltip||"",s),vi("",s),s.slice(0,s.l)}function dat(){}function uat(e,t,s){var a=e.l+t,n=Eae(e),i=e.read_shift(1),o=[n];if(o[2]=i,s.cellFormula){var l=Rrt(e,a-e.l,s);o[1]=l}else e.l=a;return o}function hat(e,t,s){var a=e.l+t,n=qp(e),i=[n];if(s.cellFormula){var o=Frt(e,a-e.l,s);i[1]=o,e.l=a}else e.l=a;return i}function mat(e,t,s){s==null&&(s=dt(18));var a=ZA(e,t);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),s.write_shift(2,n),s}var Dne=["left","right","top","bottom","header","footer"];function fat(e){var t={};return Dne.forEach(function(s){t[s]=Zi(e)}),t}function pat(e,t){return t==null&&(t=dt(6*8)),Jf(e),Dne.forEach(function(s){Sp(e[s],t)}),t}function xat(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function gat(e,t,s){s==null&&(s=dt(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function vat(e){var t=dt(24);return t.write_shift(4,4),t.write_shift(4,1),gv(e,t),t}function yat(e,t){return t==null&&(t=dt(16*4+2)),t.write_shift(2,e.password?IM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?t.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):t.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),t}function bat(){}function wat(){}function jat(e,t,s,a,n,i,o){if(!e)return e;var l=t||{};a||(a={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,g,x,y,b,w,v,S,j,k=[];l.biff=12,l["!row"]=0;var N=0,C=!1,A=[],E={},D=l.supbooks||n.supbooks||[[]];if(D.sharedf=E,D.arrayf=A,D.SheetNames=n.SheetNames||n.Sheets.map(function(R){return R.name}),!l.supbooks&&(l.supbooks=D,n.Names))for(var T=0;T<n.Names.length;++T)D[0][T+1]=n.Names[T];var P=[],_=[],O=!1;Bw[16]={n:"BrtShortReal",f:_ne};var M;if(dh(e,function(L,K,H){if(!m)switch(H){case 148:d=L;break;case 0:p=L,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),S=Tn(y=p.r),l["!row"]=p.r,(L.hidden||L.hpt||L.level!=null)&&(L.hpt&&(L.hpx=E0(L.hpt)),_[L.r]=L);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:L[2]},L[2]){case"n":g.v=L[1];break;case"s":v=sb[L[1]],g.v=v.t,g.r=v.r;break;case"b":g.v=!!L[1];break;case"e":g.v=L[1],l.cellText!==!1&&(g.w=uh[g.v]);break;case"str":g.t="s",g.v=L[1];break;case"is":g.t="s",g.v=L[1].t;break}if((x=o.CellXf[L[0].iStyleRef])&&Ene(g,x.numFmtId,null,l,i,o),b=L[0].c==-1?b+1:L[0].c,l.dense?(c[y]||(c[y]=[]),c[y][b]=g):c[en(b)+S]=g,l.cellFormula){for(C=!1,N=0;N<A.length;++N){var F=A[N];p.r>=F[0].s.r&&p.r<=F[0].e.r&&b>=F[0].s.c&&b<=F[0].e.c&&(g.F=hs(F[0]),C=!0)}!C&&L.length>3&&(g.f=L[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),l.cellDates&&x&&g.t=="n"&&fv($r[x.numFmtId])){var G=Rf(g.v);G&&(g.t="d",g.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}M&&(M.type=="XLDAPR"&&(g.D=!0),M=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;g={t:"z",v:void 0},b=L[0].c==-1?b+1:L[0].c,l.dense?(c[y]||(c[y]=[]),c[y][b]=g):c[en(b)+S]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>b&&(u.s.c=b),u.e.r<p.r&&(u.e.r=p.r),u.e.c<b&&(u.e.c=b),M&&(M.type=="XLDAPR"&&(g.D=!0),M=void 0);break;case 176:k.push(L);break;case 49:M=((l.xlmeta||{}).Cell||[])[L-1];break;case 494:var U=a["!id"][L.relId];for(U?(L.Target=U.Target,L.loc&&(L.Target+="#"+L.loc),L.Rel=U):L.relId==""&&(L.Target="#"+L.loc),y=L.rfx.s.r;y<=L.rfx.e.r;++y)for(b=L.rfx.s.c;b<=L.rfx.e.c;++b)l.dense?(c[y]||(c[y]=[]),c[y][b]||(c[y][b]={t:"z",v:void 0}),c[y][b].l=L):(w=Vr({c:b,r:y}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=L);break;case 426:if(!l.cellFormula)break;A.push(L),j=l.dense?c[y][b]:c[en(b)+S],j.f=Yi(L[1],u,{r:p.r,c:b},D,l),j.F=hs(L[0]);break;case 427:if(!l.cellFormula)break;E[Vr(L[0].s)]=L[1],j=l.dense?c[y][b]:c[en(b)+S],j.f=Yi(L[1],u,{r:p.r,c:b},D,l);break;case 60:if(!l.cellStyles)break;for(;L.e>=L.s;)P[L.e--]={width:L.w/256,hidden:!!(L.flags&1),level:L.level},O||(O=!0,RM(L.w/256)),Pm(P[L.e+1]);break;case 161:c["!autofilter"]={ref:hs(L)};break;case 476:c["!margins"]=L;break;case 147:n.Sheets[s]||(n.Sheets[s]={}),L.name&&(n.Sheets[s].CodeName=L.name),(L.above||L.left)&&(c["!outline"]={above:L.above,left:L.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),L.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!K.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=hs(d||u)),l.sheetRows&&c["!ref"]){var I=zs(c["!ref"]);l.sheetRows<=+I.e.r&&(I.e.r=l.sheetRows-1,I.e.r>u.e.r&&(I.e.r=u.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>u.e.c&&(I.e.c=u.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=hs(I))}return k.length>0&&(c["!merges"]=k),P.length>0&&(c["!cols"]=P),_.length>0&&(c["!rows"]=_),c}function Nat(e,t,s,a,n,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=za(t),t.z=t.z||$r[14],t.v=ii(Va(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r:s,c:a};switch(c.s=Jm(n.cellXfs,t,n),t.l&&i["!links"].push([Vr(c),t.l]),t.c&&i["!comments"].push([Vr(c),t.c]),t.t){case"s":case"str":return n.bookSST?(l=BM(n.Strings,t.v,n.revStrings),c.t="s",c.v=l,o?yt(e,18,Vst(t,c)):yt(e,7,Bst(t,c))):(c.t="str",o?yt(e,17,eat(t,c)):yt(e,6,Jst(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?yt(e,13,Yst(t,c)):yt(e,2,Gst(t,c)):o?yt(e,16,Hst(t,c)):yt(e,5,Wst(t,c)),!0;case"b":return c.t="b",o?yt(e,15,Ist(t,c)):yt(e,4,Dst(t,c)),!0;case"e":return c.t="e",o?yt(e,14,Lst(t,c)):yt(e,3,Mst(t,c)),!0}return o?yt(e,12,Tst(t,c)):yt(e,1,Est(t,c)),!0}function Sat(e,t,s,a){var n=zs(t["!ref"]||"A1"),i,o="",l=[];yt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){o=Tn(u),wst(e,t,n,u);var h=!1;if(u<=n.e.r)for(var m=n.s.c;m<=n.e.c;++m){u===n.s.r&&(l[m]=en(m)),i=l[m]+o;var p=c?(t[u]||[])[m]:t[i];if(!p){h=!1;continue}h=Nat(e,p,u,m,a,t,h)}}yt(e,146)}function kat(e,t){!t||!t["!merges"]||(yt(e,177,oat(t["!merges"].length)),t["!merges"].forEach(function(s){yt(e,176,iat(s))}),yt(e,178))}function Cat(e,t){!t||!t["!cols"]||(yt(e,390),t["!cols"].forEach(function(s,a){s&&yt(e,60,mat(a,s))}),yt(e,391))}function Aat(e,t){!t||!t["!ref"]||(yt(e,648),yt(e,649,vat(zs(t["!ref"]))),yt(e,650))}function Eat(e,t,s){t["!links"].forEach(function(a){if(a[1].Target){var n=da(s,-1,a[1].Target.replace(/#.*$/,""),Ns.HLINK);yt(e,494,cat(a,n))}}),delete t["!links"]}function Pat(e,t,s,a){if(t["!comments"].length>0){var n=da(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",Ns.VML);yt(e,551,AM("rId"+n)),t["!legacy"]=n}}function Tat(e,t,s,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:hs(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var o=s.Workbook.Names,l=al(i);l.s.r==l.e.r&&(l.e.r=al(t["!ref"]).e.r,i=hs(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),yt(e,161,gv(zs(i))),yt(e,162)}}function _at(e,t,s){yt(e,133),yt(e,137,gat(t,s)),yt(e,138),yt(e,134)}function Dat(e,t){t["!protect"]&&yt(e,535,yat(t["!protect"]))}function Oat(e,t,s,a){var n=el(),i=s.SheetNames[e],o=s.Sheets[i]||{},l=i;try{s&&s.Workbook&&(l=s.Workbook.Sheets[e].CodeName||l)}catch{}var c=zs(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],yt(n,129),(s.vbaraw||o["!outline"])&&yt(n,147,Cst(l,o["!outline"])),yt(n,148,Nst(c)),_at(n,o,s.Workbook),Cat(n,o),Sat(n,o,e,t),Dat(n,o),Tat(n,o,s,e),kat(n,o),Eat(n,o,a),o["!margins"]&&yt(n,476,pat(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Aat(n,o),Pat(n,o,e,a),yt(n,130),n.end()}function Iat(e){var t=[],s=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=s?+o[2]:o[2])});var n=Vs((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function Rat(e,t,s,a,n,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=Iat(h);u.s.r=u.s.c=0,u.e.c=l,d=en(l),m[0].forEach(function(p,g){o[d+Tn(g)]={t:"n",v:p,z:m[1]},c=g}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=hs(u)),o}function Mat(e,t,s,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(Pne);return l&&UM(l[0],i,n,s),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function Fat(e,t){e.l+=10;var s=ro(e);return{name:s}}function Lat(e,t,s,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return dh(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[s]||(n.Sheets[s]={}),c.name&&(n.Sheets[s].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var VM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],$at=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Bat=[],Uat=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Tz(e,t){for(var s=0;s!=e.length;++s)for(var a=e[s],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Fa(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function _z(e,t){for(var s=0;s!=t.length;++s){var a=t[s];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Fa(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function One(e){_z(e.WBProps,VM),_z(e.CalcPr,Uat),Tz(e.WBView,$at),Tz(e.Sheets,Bat),jg.date1904=Fa(e.WBProps.date1904)}function Vat(e){return!e.Workbook||!e.Workbook.WBProps?"false":Fa(e.Workbook.WBProps.date1904)?"true":"false"}var zat="][*?/\\".split("");function Ine(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return zat.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function Wat(e,t,s){e.forEach(function(a,n){Ine(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var o=t&&t[n]&&t[n].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Hat(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Wat(e.SheetNames,t,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)Vrt(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}var qat=/<\w+:workbook/;function Gat(e,t){if(!e)throw new Error("Could not find file");var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},o=0;if(e.replace(oo,function(c,d){var u=Hr(c);switch(cu(u[0])){case"<?xml":break;case"<workbook":c.match(qat)&&(n="xmlns"+c.match(/<(\w+):/)[1]),s.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],s.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":VM.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":s.WBProps[h[0]]=Fa(u[h[0]]);break;case"int":s.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:s.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(s.WBProps.CodeName=ya(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],s.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Vs(ya(u.name)),delete u[0],s.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=ya(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Fa(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Vs(ya(e.slice(o,d))),s.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],s.CalcPr=u;break;case"<calcPr/>":delete u[0],s.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Vp.indexOf(s.xmlns)===-1)throw new Error("Unknown Namespace: "+s.xmlns);return One(s),s}function Rne(e){var t=[Dn];t[t.length]=Mt("workbook",null,{xmlns:Vp[0],"xmlns:r":ri.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(VM.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Mt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:ua(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Mt("sheet",null,o)}return t[t.length]="</sheets>",s&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Mt("definedName",ua(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Kat(e,t){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=LD(e),s.name=ro(e),s}function Yat(e,t){return t||(t=dt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),AM(e.strRelID,t),vi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Xat(e,t){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=t>8?ro(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function Qat(e,t){t||(t=dt(72));var s=0;return e&&e.filterPrivacy&&(s|=8),t.write_shift(4,s),t.write_shift(4,0),Cae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Jat(e,t){var s={};return e.read_shift(4),s.ArchID=e.read_shift(4),e.l+=t-8,s}function Zat(e,t,s){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=AXe(e),o=Mrt(e,0,s),l=CM(e);e.l=a;var c={Name:i,Ptg:o};return n<268435455&&(c.Sheet=n),l&&(c.Comment=l),c}function ent(e,t){var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Bw[16]={n:"BrtFRTArchID$",f:Jat},dh(e,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),s.Sheets.push(c);break;case 153:s.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Yi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(u),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(u),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),One(s),s.Names=i,s.supbooks=o,s}function tnt(e,t){yt(e,143);for(var s=0;s!=t.SheetNames.length;++s){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[s]&&t.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:t.SheetNames[s]};yt(e,156,Yat(n))}yt(e,144)}function rnt(e,t){t||(t=dt(127));for(var s=0;s!=4;++s)t.write_shift(4,0);return vi("SheetJS",t),vi(vk.version,t),vi(vk.version,t),vi("7262",t),t.length>t.l?t.slice(0,t.l):t}function snt(e,t){t||(t=dt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var s=120;return t.write_shift(1,s),t.length>t.l?t.slice(0,t.l):t}function ant(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var s=t.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(yt(e,135),yt(e,158,snt(n)),yt(e,136))}}function nnt(e,t){var s=el();return yt(s,131),yt(s,128,rnt()),yt(s,153,Qat(e.Workbook&&e.Workbook.WBProps||null)),ant(s,e),tnt(s,e),yt(s,132),s.end()}function int(e,t,s){return t.slice(-4)===".bin"?ent(e,s):Gat(e,s)}function ont(e,t,s,a,n,i,o,l){return t.slice(-4)===".bin"?jat(e,a,s,n,i,o,l):Zrt(e,a,s,n,i,o,l)}function lnt(e,t,s,a,n,i,o,l){return t.slice(-4)===".bin"?Lat(e,a,s,n,i):Mat(e,a,s,n,i)}function cnt(e,t,s,a,n,i,o,l){return t.slice(-4)===".bin"?utt():htt()}function dnt(e,t,s,a,n,i,o,l){return t.slice(-4)===".bin"?ctt():dtt()}function unt(e,t,s,a){return t.slice(-4)===".bin"?aet(e,s,a):qZe(e,s,a)}function hnt(e,t,s){return pne(e,s)}function mnt(e,t,s){return t.slice(-4)===".bin"?uZe(e,s):lZe(e,s)}function fnt(e,t,s){return t.slice(-4)===".bin"?att(e,s):Yet(e,s)}function pnt(e,t,s){return t.slice(-4)===".bin"?qet(e):Wet(e)}function xnt(e,t,s,a){return s.slice(-4)===".bin"?Get(e,t,s,a):void 0}function gnt(e,t,s){return t.slice(-4)===".bin"?Uet(e,t,s):zet(e,t,s)}function vnt(e,t,s){return(t.slice(-4)===".bin"?nnt:Rne)(e)}function ynt(e,t,s,a,n){return(t.slice(-4)===".bin"?Oat:Tne)(e,s,a,n)}function bnt(e,t,s){return(t.slice(-4)===".bin"?pet:mne)(e,s)}function wnt(e,t,s){return(t.slice(-4)===".bin"?fZe:nne)(e,s)}function jnt(e,t,s){return(t.slice(-4)===".bin"?ntt:vne)(e)}function Nnt(e){return(e.slice(-4)===".bin"?Vet:xne)()}var Mne=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Fne=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Oc(e,t){var s=e.split(/\s+/),a=[];if(a[0]=s[0],s.length===1)return a;var n=e.match(Mne),i,o,l,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(Fne),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),a[l]=i[2].slice(1,i[2].length-1));return a}function Snt(e){var t=e.split(/\s+/),s={};if(t.length===1)return s;var a=e.match(Mne),n,i,o,l;if(a)for(l=0;l!=a.length;++l)n=a[l].match(Fne),(i=n[1].indexOf(":"))===-1?s[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(i+1),s[o]=n[2].slice(1,n[2].length-1));return s}var nb;function knt(e,t){var s=nb[e]||Vs(e);return s==="General"?jp(t):pc(s,t)}function Cnt(e,t,s,a){var n=a;switch((s[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Fa(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Va(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+s[0])}e[Vs(t)]=n}function Ant(e,t,s){if(e.t!=="z"){if(!s||s.cellText!==!1)try{e.t==="e"?e.w=e.w||uh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_w(e.v):e.w=jp(e.v):e.w=knt(t||"General",e.v)}catch(i){if(s.WTF)throw i}try{var a=nb[t]||t||"General";if(s.cellNF&&(e.z=a),s.cellDates&&e.t=="n"&&fv(a)){var n=Rf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(s.WTF)throw i}}}function Ent(e,t,s){if(s.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=LZe[a.Pattern]||a.Pattern)}e[t.ID]=t}function Pnt(e,t,s,a,n,i,o,l,c,d){var u="General",h=a.StyleID,m={};d=d||{};var p=[],g=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(s.Type){case"Boolean":a.t="b",a.v=Fa(e);break;case"String":a.t="s",a.r=KV(Vs(e)),a.v=e.indexOf("<")>-1?Vs(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Va(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Vs(e):a.v<60&&(a.v=a.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=_ae[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=KV(t||e));break}if(Ant(a,u,d),d.cellFormula!==!1)if(a.Formula){var x=Vs(a.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),a.f=wg(x,n),delete a.Formula,a.ArrayRange=="RC"?a.F=wg("RC:RC",n):a.ArrayRange&&(a.F=wg(a.ArrayRange,n),c.push([zs(a.F),a.F]))}else for(g=0;g<c.length;++g)n.r>=c[g][0].s.r&&n.r<=c[g][0].e.r&&n.c>=c[g][0].s.c&&n.c<=c[g][0].e.c&&(a.F=c[g][1]);d.cellStyles&&(p.forEach(function(y){!m.patternType&&y.patternType&&(m.patternType=y.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function Tnt(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function T4(e,t){var s=t||{};pv();var a=by(bM(e));(s.type=="binary"||s.type=="array"||s.type=="base64")&&(a=ya(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=za(s);return o.type="string",A0.to_workbook(a,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(me){n.indexOf("<"+me)>=0&&(i=!0)}),i)return pit(a,s);nb={"General Number":"General","General Date":$r[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":$r[15],"Short Date":$r[14],"Long Time":$r[19],"Medium Time":$r[18],"Short Time":$r[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:$r[2],Standard:$r[4],Percent:$r[10],Scientific:$r[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=s.dense?[]:{},p="",g={},x={},y=Oc('<Data ss:Type="String">'),b=0,w=0,v=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},k={},N="",C=0,A=[],E={},D={},T=0,P=[],_=[],O={},M=[],I,R=!1,L=[],K=[],H={},F=0,G=0,U={Sheets:[],WBProps:{date1904:!1}},W={};Iw.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";l=Iw.exec(a);)switch(l[3]=(J=l[3]).toLowerCase()){case"data":if(J=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Pnt(a.slice(b,l.index),N,y,c[c.length-1][0]=="comment"?O:g,{c:w,r:v},j,M[w],x,L,s):(N="",y=Oc(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(_.length>0&&(g.c=_),(!s.sheetRows||s.sheetRows>v)&&g.v!==void 0&&(s.dense?(m[v]||(m[v]=[]),m[v][w]=g):m[en(w)+Tn(v)]=g),g.HRef&&(g.l={Target:Vs(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(F=w+(parseInt(g.MergeAcross,10)|0),G=v+(parseInt(g.MergeDown,10)|0),A.push({s:{c:w,r:v},e:{c:F,r:G}})),!s.sheetStubs)g.MergeAcross?w=F+1:++w;else if(g.MergeAcross||g.MergeDown){for(var z=w;z<=F;++z)for(var ie=v;ie<=G;++ie)(z>w||ie>v)&&(s.dense?(m[ie]||(m[ie]=[]),m[ie][z]={t:"z"}):m[en(z)+Tn(ie)]={t:"z"});w=F+1}else++w;else g=Snt(l[0]),g.Index&&(w=+g.Index-1),w<S.s.c&&(S.s.c=w),w>S.e.c&&(S.e.c=w),l[0].slice(-2)==="/>"&&++w,_=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(v<S.s.r&&(S.s.r=v),v>S.e.r&&(S.e.r=v),l[0].slice(-2)==="/>"&&(x=Oc(l[0]),x.Index&&(v=+x.Index-1)),w=0,++v):(x=Oc(l[0]),x.Index&&(v=+x.Index-1),H={},(x.AutoFitHeight=="0"||x.Height)&&(H.hpx=parseInt(x.Height,10),H.hpt=$w(H.hpx),K[v]=H),x.Hidden=="1"&&(H.hidden=!0,K[v]=H));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(m["!ref"]=hs(S),s.sheetRows&&s.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=s.sheetRows-1,m["!ref"]=hs(S))),A.length&&(m["!merges"]=A),M.length>0&&(m["!cols"]=M),K.length>0&&(m["!rows"]=K),u[p]=m}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=w=0,c.push([l[3],!1]),d=Oc(l[0]),p=Vs(d.Name),m=s.dense?[]:{},A=[],L=[],K=[],W={name:p,Hidden:0},U.Sheets.push(W);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),M=[],R=!1}break;case"style":l[1]==="/"?Ent(j,k,s):k=Oc(l[0]);break;case"numberformat":k.nf=Vs(Oc(l[0]).Format||"General"),nb[k.nf]&&(k.nf=nb[k.nf]);for(var re=0;re!=392&&$r[re]!=k.nf;++re);if(re==392){for(re=57;re!=392;++re)if($r[re]==null){Fu(k.nf,re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(I=Oc(l[0]),I.Hidden&&(I.hidden=!0,delete I.Hidden),I.Width&&(I.wpx=parseInt(I.Width,10)),!R&&I.wpx>10){R=!0,Ji=une;for(var q=0;q<M.length;++q)M[q]&&Pm(M[q])}R&&Pm(I),M[I.Index-1||M.length]=I;for(var se=0;se<+I.Span;++se)M[M.length]=za(I);break;case"namedrange":if(l[1]==="/")break;U.Names||(U.Names=[]);var B=Hr(l[0]),oe={Name:B.Name,Ref:wg(B.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(oe.Sheet=U.Sheets.length-1),U.Names.push(oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=a.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!s.cellStyles)break;k.Interior=Oc(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?JXe(E,J,a.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));Tnt(O),_.push(O)}else c.push([l[3],!1]),d=Oc(l[0]),O={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var de=Oc(l[0]);m["!autofilter"]={ref:wg(de.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return Mz(a,s);var Te=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Te=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Te=!1}break;case"excelworkbook":switch(l[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Te=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Te=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(T,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else T=l.index+l[0].length;break;case"header":m["!margins"]||Jf(m["!margins"]={},"xlml"),isNaN(+Hr(l[0]).Margin)||(m["!margins"].header=+Hr(l[0]).Margin);break;case"footer":m["!margins"]||Jf(m["!margins"]={},"xlml"),isNaN(+Hr(l[0]).Margin)||(m["!margins"].footer=+Hr(l[0]).Margin);break;case"pagemargins":var He=Hr(l[0]);m["!margins"]||Jf(m["!margins"]={},"xlml"),isNaN(+He.Top)||(m["!margins"].top=+He.Top),isNaN(+He.Left)||(m["!margins"].left=+He.Left),isNaN(+He.Right)||(m["!margins"].right=+He.Right),isNaN(+He.Bottom)||(m["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Te=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Te=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Te=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Te=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Te=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Te=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Te=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Te=!1}break;case"smarttags":break;default:Te=!1;break}if(Te||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Cnt(D,J,P,a.slice(T,l.index)):(P=l,T=l.index+l[0].length);break}if(s.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Oe={};return!s.bookSheets&&!s.bookProps&&(Oe.Sheets=u),Oe.SheetNames=h,Oe.Workbook=U,Oe.SSF=za($r),Oe.Props=E,Oe.Custprops=D,Oe}function HD(e,t){switch(WM(t=t||{}),t.type||"base64"){case"base64":return T4(Tl(e),t);case"binary":case"buffer":case"file":return T4(e,t);case"array":return T4(Xm(e),t)}}function _nt(e,t){var s=[];return e.Props&&s.push(ZXe(e.Props,t)),e.Custprops&&s.push(eQe(e.Props,e.Custprops)),s.join("")}function Dnt(){return""}function Ont(e,t){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Mt("NumberFormat",null,{"ss:Format":ua($r[a.numFmtId])}));var o={"ss:ID":"s"+(21+n)};s.push(Mt("Style",i.join(""),o))}),Mt("Styles",s.join(""))}function Lne(e){return Mt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+LM(e.Ref,{r:0,c:0})})}function Int(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,s=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(Lne(n)))}return Mt("Names",s.join(""))}function Rnt(e,t,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],o=0;o<n.length;++o){var l=n[o];l.Sheet==s&&(l.Name.match(/^_xlfn\./)||i.push(Lne(l)))}return i.join("")}function Mnt(e,t,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Mt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Mt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Mt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(Mt("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Pi("ProtectContents","True")),e["!protect"].objects&&n.push(Pi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Pi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Pi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Pi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&n.push("<"+o[1]+"/>")})),n.length==0?"":Mt("WorksheetOptions",n.join(""),{xmlns:xl.x})}function Fnt(e){return e.map(function(t){var s=rXe(t.t||""),a=Mt("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return Mt("Comment",a,{"ss:Author":t.a})}).join("")}function Lnt(e,t,s,a,n,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+ua(LM(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=tn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=ua(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=ua(e.l.Tooltip))),s["!merges"])for(var d=s["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=uh[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||$r[14]);break;case"s":h="String",m=tXe(e.v||"");break}var p=Jm(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+h+'">'+g+"</Data>";return(e.c||[]).length>0&&(x+=Fnt(e.c)),Mt("Cell",x,l)}function $nt(e,t){var s='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=E0(t.hpt)),t.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(s+=' ss:Hidden="1"')),s+">"}function Bnt(e,t,s,a){if(!e["!ref"])return"";var n=zs(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,b){Pm(y);var w=!!y.width,v=ZA(b,y),S={"ss:Index":b+1};w&&(S["ss:Width"]=Fw(v.width)),y.hidden&&(S["ss:Hidden"]="1"),l.push(Mt("Column",null,S))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[$nt(d,(e["!rows"]||[])[d])],h=n.s.c;h<=n.e.c;++h){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(m=!0);break}if(!m){var p={r:d,c:h},g=Vr(p),x=c?(e[d]||[])[h]:e[g];u.push(Lnt(x,g,e,t,s,a,p))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Unt(e,t,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],o=i?Rnt(i,t,e,s):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?Bnt(i,t,e,s):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(Mnt(i,t,e,s)),a.join("")}function Vnt(e,t){t||(t={}),e.SSF||(e.SSF=za($r)),e.SSF&&(pv(),qA(e.SSF),t.revssf=KA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Jm(t.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(_nt(e,t)),s.push(Dnt()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(Mt("Worksheet",Unt(a,t,e),{"ss:Name":ua(e.SheetNames[a])}));return s[2]=Ont(e,t),s[3]=Int(e),Dn+Mt("Workbook",s.join(""),{xmlns:xl.ss,"xmlns:o":xl.o,"xmlns:x":xl.x,"xmlns:ss":xl.ss,"xmlns:dt":xl.dt,"xmlns:html":xl.html})}function znt(e){var t={},s=e.content;if(s.l=28,t.AnsiUserType=s.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=DXe(s),s.length-s.l<=4)return t;var a=s.read_shift(4);if(a==0||a>40||(s.l-=4,t.Reserved1=s.read_shift(0,"lpstr-ansi"),s.length-s.l<=4)||(a=s.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=OXe(s),a=s.read_shift(4),a==0||a>40))return t;s.l-=4,t.Reserved2=s.read_shift(0,"lpwstr")}var Wnt=[60,1084,2066,2165,2175];function Hnt(e,t,s,a,n){var i=a,o=[],l=s.slice(s.l,s.l+i);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}o.push(l),s.l+=i;for(var c=Tu(s,s.l),d=qD[c],u=0;d!=null&&Wnt.indexOf(c)>-1;)i=Tu(s,s.l+2),u=s.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=s.slice(u,s.l+4+i),o.push(l),s.l+=4+i,d=qD[c=Tu(s,s.l)];var h=xi(o);Ei(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return t.f(h,h.length,n)}function vd(e,t,s){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=$r[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||uh[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_w(e.v):e.w=jp(e.v):e.w=pc(a,e.v,{date1904:!!s,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&fv($r[a]||String(a))){var n=Rf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function bN(e,t,s){return{v:e,ixfe:t,t:s}}function qnt(e,t){var s={opts:{}},a={},n=t.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,m="",p,g,x,y,b={},w=[],v,S,j=[],k=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},A=function(vt){return vt<8?Yf[vt]:vt<64&&k[vt-8]||Yf[vt]},E=function(vt,Qt,br){var $t=Qt.XF.data;if(!(!$t||!$t.patternType||!br||!br.cellStyles)){Qt.s={},Qt.s.patternType=$t.patternType;var qt;(qt=Mw(A($t.icvFore)))&&(Qt.s.fgColor={rgb:qt}),(qt=Mw(A($t.icvBack)))&&(Qt.s.bgColor={rgb:qt})}},D=function(vt,Qt,br){if(!(H>1)&&!(br.sheetRows&&vt.r>=br.sheetRows)){if(br.cellStyles&&Qt.XF&&Qt.XF.data&&E(vt,Qt,br),delete Qt.ixfe,delete Qt.XF,h=vt,m=Vr(vt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<o.s.r&&(o.s.r=vt.r),vt.c<o.s.c&&(o.s.c=vt.c),vt.r+1>o.e.r&&(o.e.r=vt.r+1),vt.c+1>o.e.c&&(o.e.c=vt.c+1),br.cellFormula&&Qt.f){for(var $t=0;$t<w.length;++$t)if(!(w[$t][0].s.c>vt.c||w[$t][0].s.r>vt.r)&&!(w[$t][0].e.c<vt.c||w[$t][0].e.r<vt.r)){Qt.F=hs(w[$t][0]),(w[$t][0].s.c!=vt.c||w[$t][0].s.r!=vt.r)&&delete Qt.f,Qt.f&&(Qt.f=""+Yi(w[$t][1],o,vt,L,T));break}}br.dense?(n[vt.r]||(n[vt.r]=[]),n[vt.r][vt.c]=Qt):n[m]=Qt}},T={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var P,_=[],O=[],M=[],I=[],R=!1,L=[];L.SheetNames=T.snames,L.sharedf=T.sharedf,L.arrayf=T.arrayf,L.names=[],L.XTI=[];var K=0,H=0,F=0,G=[],U=[],W;T.codepage=1200,Xc(1200);for(var J=!1;e.l<e.length-1;){var z=e.l,ie=e.read_shift(2);if(ie===0&&K===10)break;var re=e.l===e.length?0:e.read_shift(2),q=qD[ie];if(q&&q.f){if(t.bookSheets&&K===133&&ie!==133)break;if(K=ie,q.r===2||q.r==12){var se=e.read_shift(2);if(re-=2,!T.enc&&se!==ie&&((se&255)<<8|se>>8)!==ie)throw new Error("rt mismatch: "+se+"!="+ie);q.r==12&&(e.l+=10,re-=10)}var B={};if(ie===10?B=q.f(e,re,T):B=Hnt(ie,q,e,re,T),H==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(ie){case 34:s.opts.Date1904=N.WBProps.date1904=B;break;case 134:s.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=B;break;case 66:var oe=Number(B);switch(oe){case 21010:oe=1200;break;case 32768:oe=1e4;break;case 32769:oe=1252;break}Xc(T.codepage=oe),J=!0;break;case 317:T.rrtabid=B;break;case 25:T.winlocked=B;break;case 439:s.opts.RefreshAll=B;break;case 12:s.opts.CalcCount=B;break;case 16:s.opts.CalcDelta=B;break;case 17:s.opts.CalcIter=B;break;case 13:s.opts.CalcMode=B;break;case 14:s.opts.CalcPrecision=B;break;case 95:s.opts.CalcSaveRecalc=B;break;case 15:T.CalcRefMode=B;break;case 2211:s.opts.FullCalc=B;break;case 129:B.fDialog&&(n["!type"]="dialog"),B.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),B.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:j.push(B);break;case 430:L.push([B]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(B);break;case 24:case 536:W={Name:B.Name,Ref:Yi(B.rgce,o,null,L,T)},B.itab>0&&(W.Sheet=B.itab-1),L.names.push(W),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(U[B.itab-1]={ref:hs(B.rgce[0][0][1][2])});break;case 22:T.ExternCount=B;break;case 23:L.length==0&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(B),L.XTI=L.XTI.concat(B);break;case 2196:if(T.biff<8)break;W!=null&&(W.Comment=B[1]);break;case 18:n["!protect"]=B;break;case 19:B!==0&&T.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,T.snames.push(B.name);break;case 10:{if(--H)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=hs(o),t.sheetRows&&t.sheetRows<=o.e.r){var de=o.e.r;o.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=hs(o),o.e.r=de}o.e.r++,o.e.c++}_.length>0&&(n["!merges"]=_),O.length>0&&(n["!objects"]=O),M.length>0&&(n["!cols"]=M),I.length>0&&(n["!rows"]=I),N.Sheets.push(C)}d===""?u=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),T.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(T.biff=5,J=!0,Xc(T.codepage=28591)),T.biff==8&&B.BIFFVer==0&&B.dt==16&&(T.biff=2),H++)break;if(n=t.dense?[]:{},T.biff<8&&!J&&(J=!0,Xc(T.codepage=t.codepage||1252)),T.biff<5||B.BIFFVer==0&&B.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Te={pos:e.l-re,name:d};i[Te.pos]=Te,T.snames.push(d)}else d=(i[z]||{name:""}).name;B.dt==32&&(n["!type"]="chart"),B.dt==64&&(n["!type"]="macro"),_=[],O=[],T.arrayf=w=[],M=[],I=[],R=!1,C={Hidden:(i[z]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[B.r]||[])[B.c]:n[Vr({c:B.c,r:B.r})])&&++B.c,v={ixfe:B.ixfe,XF:j[B.ixfe]||{},v:B.val,t:"n"},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 5:case 517:v={ixfe:B.ixfe,XF:j[B.ixfe],v:B.val,t:B.t},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 638:v={ixfe:B.ixfe,XF:j[B.ixfe],v:B.rknum,t:"n"},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 189:for(var He=B.c;He<=B.C;++He){var Oe=B.rkrec[He-B.c][0];v={ixfe:Oe,XF:j[Oe],v:B.rkrec[He-B.c][1],t:"n"},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:He,r:B.r},v,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){l=B;break}if(v=bN(B.val,B.cell.ixfe,B.tt),v.XF=j[v.ixfe],t.cellFormula){var me=B.formula;if(me&&me[0]&&me[0][0]&&me[0][0][0]=="PtgExp"){var Ue=me[0][0][1][0],ce=me[0][0][1][1],Ee=Vr({r:Ue,c:ce});b[Ee]?v.f=""+Yi(B.formula,o,B.cell,L,T):v.F=((t.dense?(n[Ue]||[])[ce]:n[Ee])||{}).F}else v.f=""+Yi(B.formula,o,B.cell,L,T)}F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D(B.cell,v,t),l=B}break;case 7:case 519:if(l)l.val=B,v=bN(B,l.cell.ixfe,"s"),v.XF=j[v.ixfe],t.cellFormula&&(v.f=""+Yi(l.formula,o,l.cell,L,T)),F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D(l.cell,v,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(B);var Pe=Vr(B[0].s);if(p=t.dense?(n[B[0].s.r]||[])[B[0].s.c]:n[Pe],t.cellFormula&&p){if(!l||!Pe||!p)break;p.f=""+Yi(B[1],o,B[0],L,T),p.F=hs(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;b[Vr(l.cell)]=B[0],p=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[Vr(l.cell)],(p||{}).f=""+Yi(B[0],o,h,L,T)}}break;case 253:v=bN(c[B.isst].t,B.ixfe,"s"),c[B.isst].h&&(v.h=c[B.isst].h),v.XF=j[v.ixfe],F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:B.ixfe,XF:j[B.ixfe],t:"z"},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t));break;case 190:if(t.sheetStubs)for(var $e=B.c;$e<=B.C;++$e){var We=B.ixfe[$e-B.c];v={ixfe:We,XF:j[We],t:"z"},F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:$e,r:B.r},v,t)}break;case 214:case 516:case 4:v=bN(B.val,B.ixfe,"s"),v.XF=j[v.ixfe],F>0&&(v.z=G[v.ixfe>>8&63]),vd(v,t,s.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 0:case 512:H===1&&(o=B);break;case 252:c=B;break;case 1054:if(T.biff==4){G[F++]=B[1];for(var Xe=0;Xe<F+163&&$r[Xe]!=B[1];++Xe);Xe>=163&&Fu(B[1],F+163)}else Fu(B[1],B[0]);break;case 30:{G[F++]=B;for(var Ce=0;Ce<F+163&&$r[Ce]!=B;++Ce);Ce>=163&&Fu(B,F+163)}break;case 229:_=_.concat(B);break;case 93:O[B.cmo[0]]=T.lastobj=B;break;case 438:T.lastobj.TxO=B;break;case 127:T.lastobj.ImData=B;break;case 440:for(y=B[0].s.r;y<=B[0].e.r;++y)for(x=B[0].s.c;x<=B[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Vr({c:x,r:y})],p&&(p.l=B[1]);break;case 2048:for(y=B[0].s.r;y<=B[0].e.r;++y)for(x=B[0].s.c;x<=B[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Vr({c:x,r:y})],p&&p.l&&(p.l.Tooltip=B[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(n[B[0].r]||[])[B[0].c]:n[Vr(B[0])];var Ye=O[B[2]];p||(t.dense?(n[B[0].r]||(n[B[0].r]=[]),p=n[B[0].r][B[0].c]={t:"z"}):p=n[Vr(B[0])]={t:"z"},o.e.r=Math.max(o.e.r,B[0].r),o.s.r=Math.min(o.s.r,B[0].r),o.e.c=Math.max(o.e.c,B[0].c),o.s.c=Math.min(o.s.c,B[0].c)),p.c||(p.c=[]),g={a:B[1],t:Ye.TxO.t},p.c.push(g)}break;case 2173:Oet(j[B.ixfe],B.ext);break;case 125:{if(!T.cellStyles)break;for(;B.e>=B.s;)M[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},R||(R=!0,RM(B.w/256)),Pm(M[B.e+1])}break;case 520:{var ft={};B.level!=null&&(I[B.r]=ft,ft.level=B.level),B.hidden&&(I[B.r]=ft,ft.hidden=!0),B.hpt&&(I[B.r]=ft,ft.hpt=B.hpt,ft.hpx=E0(B.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Jf(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ie]]=B;break;case 161:n["!margins"]||Jf(n["!margins"]={}),n["!margins"].header=B.header,n["!margins"].footer=B.footer;break;case 574:B.RTL&&(N.Views[0].RTL=!0);break;case 146:k=B;break;case 2198:P=B;break;case 140:S=B;break;case 442:d?C.CodeName=B||C.name:N.WBProps.CodeName=B||"ThisWorkbook";break}}else q||console.error("Missing Info for XLS Record 0x"+ie.toString(16)),e.l+=re}return s.SheetNames=yn(i).sort(function(Pt,vt){return Number(Pt)-Number(vt)}).map(function(Pt){return i[Pt].name}),t.bookSheets||(s.Sheets=a),!s.SheetNames.length&&u["!ref"]?(s.SheetNames.push("Sheet1"),s.Sheets&&(s.Sheets.Sheet1=u)):s.Preamble=u,s.Sheets&&U.forEach(function(Pt,vt){s.Sheets[s.SheetNames[vt]]["!autofilter"]=Pt}),s.Strings=c,s.SSF=za($r),T.enc&&(s.Encryption=T.enc),P&&(s.Themes=P),s.Metadata={},S!==void 0&&(s.Metadata.Country=S),L.names.length>0&&(N.Names=L.names),s.Workbook=N,s}var ib={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Gnt(e,t,s){var a=Tr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=hz(a,$D,ib.DSI);for(var i in n)t[i]=n[i]}catch(d){if(s.WTF)throw d}var o=Tr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=hz(o,BD,ib.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(s.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Fae(t.HeadingPairs,t.TitlesOfParts,t,s),delete t.HeadingPairs,delete t.TitlesOfParts)}function Knt(e,t){var s=[],a=[],n=[],i=0,o,l=VV($D,"n"),c=VV(BD,"n");if(e.Props)for(o=yn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?s:Object.prototype.hasOwnProperty.call(c,o[i])?a:n).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=yn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?s:Object.prototype.hasOwnProperty.call(c,o[i])?a:n).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<n.length;++i)Wae.indexOf(n[i][0])>-1||Mae.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&Tr.utils.cfb_add(t,"/SummaryInformation",mz(a,ib.SI,c,BD)),(s.length||d.length)&&Tr.utils.cfb_add(t,"/DocumentSummaryInformation",mz(s,ib.DSI,l,$D,d.length?d:null,ib.UDI))}function $ne(e,t){t||(t={}),WM(t),uM(),t.codepage&&dM(t.codepage);var s,a;if(e.FullPaths){if(Tr.find(e,"/encryption"))throw new Error("File is password-protected");s=Tr.find(e,"!CompObj"),a=Tr.find(e,"/Workbook")||Tr.find(e,"/Book")}else{switch(t.type){case"base64":e=yl(Tl(e));break;case"binary":e=yl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ei(e,0),a={content:e}}var n,i;if(s&&znt(s),t.bookProps&&!t.bookSheets)n={};else{var o=ys?"buffer":"array";if(a&&a.content)n=qnt(a.content,t);else if((i=Tr.find(e,"PerfectOffice_MAIN"))&&i.content)n=Qf.to_workbook(i.content,(t.type=o,t));else if((i=Tr.find(e,"NativeContent_MAIN"))&&i.content)n=Qf.to_workbook(i.content,(t.type=o,t));else throw(i=Tr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Tr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=ott(e))}var l={};return e.FullPaths&&Gnt(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}function Ynt(e,t){var s=t||{},a=Tr.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return Tr.utils.cfb_add(a,n,Bne(e,s)),s.biff==8&&(e.Props||e.Custprops)&&Knt(e,a),s.biff==8&&e.vbaraw&&ltt(a,Tr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Bw={0:{f:yst},1:{f:Ast},2:{f:qst},3:{f:Rst},4:{f:_st},5:{f:zst},6:{f:Qst},7:{f:$st},8:{f:aat},9:{f:sat},10:{f:tat},11:{f:rat},12:{f:Pst},13:{f:Kst},14:{f:Fst},15:{f:Ost},16:{f:_ne},17:{f:Zst},18:{f:Ust},19:{f:kM},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zat},40:{},42:{},43:{f:YZe},44:{f:GZe},45:{f:JZe},46:{f:eet},47:{f:ZZe},48:{},49:{f:bXe},50:{},51:{f:Met},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tne},62:{f:Xst},63:{f:Het},64:{f:bat},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:io,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:xat},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:kst},148:{f:jst,p:16},151:{f:dat},152:{},153:{f:Xat},154:{},155:{},156:{f:Kat},157:{},158:{},159:{T:1,f:dZe},160:{T:-1},161:{T:1,f:qp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nat},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Iet},336:{T:-1},337:{f:$et,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:LD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ene},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uat},427:{f:hat},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fat},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Sst},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lat},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:LD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rtt},633:{T:1},634:{T:-1},635:{T:1,f:ett},636:{T:-1},637:{f:SXe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Fat},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wat},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},qD={6:{f:E4},10:{f:bh},12:{f:$n},13:{f:$n},14:{f:wn},15:{f:wn},16:{f:Zi},17:{f:wn},18:{f:wn},19:{f:$n},20:{f:yz},21:{f:yz},23:{f:ene},24:{f:wz},25:{f:wn},26:{},27:{},28:{f:yJe},29:{},34:{f:wn},35:{f:bz},38:{f:Zi},39:{f:Zi},40:{f:Zi},41:{f:Zi},42:{f:wn},43:{f:wn},47:{f:_Ze},49:{f:qQe},51:{f:$n},60:{},61:{f:UQe},64:{f:wn},65:{f:HQe},66:{f:$n},77:{},80:{},81:{},82:{},85:{f:$n},89:{},90:{},91:{},92:{f:TQe},93:{f:jJe},94:{},95:{f:wn},96:{},97:{},99:{f:wn},125:{f:tne},128:{f:oJe},129:{f:DQe},130:{f:$n},131:{f:wn},132:{f:wn},133:{f:OQe},134:{},140:{f:TJe},141:{f:$n},144:{},146:{f:OJe},151:{},152:{},153:{},154:{},155:{},156:{f:$n},157:{},158:{},160:{f:BJe},161:{f:MJe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:sJe},190:{f:aJe},193:{f:bh},197:{},198:{},199:{},200:{},201:{},202:{f:wn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$n},220:{},221:{f:wn},222:{},224:{f:iJe},225:{f:PQe},226:{f:bh},227:{},229:{f:bJe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:RQe},253:{f:KQe},255:{f:FQe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Hae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:wn},353:{f:bh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:hJe},431:{f:wn},432:{},433:{},434:{},437:{},438:{f:kJe},439:{f:wn},440:{f:CJe},441:{},442:{f:Bj},443:{},444:{f:$n},445:{},446:{},448:{f:bh},449:{f:BQe,r:2},450:{f:bh},512:{f:xz},513:{f:$Je},515:{f:dJe},516:{f:XQe},517:{f:vz},519:{f:UJe},520:{f:LQe},523:{},545:{f:jz},549:{f:pz},566:{},574:{f:zQe},638:{f:rJe},659:{},1048:{},1054:{f:JQe},1084:{},1212:{f:xJe},2048:{f:EJe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:gN},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:IJe,r:12},2173:{f:Det,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:wn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pJe,r:12},2197:{},2198:{f:Cet,r:12},2199:{},2200:{},2201:{},2202:{f:gJe,r:12},2203:{f:bh},2204:{},2205:{},2206:{},2207:{},2211:{f:$Qe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$n},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:FJe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:DJe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xz},1:{},2:{f:qJe},3:{f:WJe},4:{f:zJe},5:{f:vz},7:{f:KJe},8:{},9:{f:gN},11:{},22:{f:$n},30:{f:eJe},31:{},32:{},33:{f:jz},36:{},37:{f:pz},50:{f:YJe},62:{},52:{},67:{},68:{f:$n},69:{},86:{},126:{},127:{f:VJe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:XJe},223:{},234:{},354:{},421:{},518:{f:E4},521:{f:gN},536:{f:wz},547:{f:bz},561:{},579:{},1030:{f:E4},1033:{f:gN},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ft(e,t,s,a){var n=t;if(!isNaN(n)){var i=a||(s||[]).length||0,o=e.next(4);o.write_shift(2,n),o.write_shift(2,i),i>0&&jM(s)&&e.push(s)}}function Xnt(e,t,s,a){var n=(s||[]).length||0;if(n<=8224)return Ft(e,t,s,n);var i=t;if(!isNaN(i)){for(var o=s.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d}}}function Wj(e,t,s){return e||(e=dt(7)),e.write_shift(2,t),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function Qnt(e,t,s,a){var n=dt(9);return Wj(n,e,t),qae(s,a||"b",n),n}function Jnt(e,t,s){var a=dt(8+2*s.length);return Wj(a,e,t),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Znt(e,t,s,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ii(Va(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Ft(e,2,GJe(s,a,n)):Ft(e,3,HJe(s,a,n));return;case"b":case"e":Ft(e,5,Qnt(s,a,t.v,t.t));return;case"s":case"str":Ft(e,4,Jnt(s,a,(t.v||"").slice(0,255)));return}Ft(e,1,Wj(null,s,a))}function eit(e,t,s,a){var n=Array.isArray(t),i=zs(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=hs(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Tn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=en(u)),o=c[u]+l;var h=n?(t[d]||[])[u]:t[o];h&&Znt(e,h,d,u)}}}function tit(e,t){for(var s=t||{},a=el(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return Ft(a,s.biff==4?1033:s.biff==3?521:9,DM(e,16,s)),eit(a,e.Sheets[e.SheetNames[n]],n,s),Ft(a,10),a.end()}function rit(e,t,s){Ft(e,49,GQe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},s))}function sit(e,t,s){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Ft(e,1054,ZQe(n,t[n],s))})}function ait(e,t){var s=dt(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),Ft(e,2151,s),s=dt(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),Qae(zs(t["!ref"]||"A1"),s),s.write_shift(4,4),Ft(e,2152,s)}function nit(e,t){for(var s=0;s<16;++s)Ft(e,224,gz({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Ft(e,224,gz(a,0,t))})}function iit(e,t){for(var s=0;s<t["!links"].length;++s){var a=t["!links"][s];Ft(e,440,AJe(a)),a[1].Tooltip&&Ft(e,2048,PJe(a))}delete t["!links"]}function oit(e,t){if(t){var s=0;t.forEach(function(a,n){++s<=256&&a&&Ft(e,125,RJe(ZA(n,a),n))})}}function lit(e,t,s,a,n){var i=16+Jm(n.cellXfs,t,n);if(t.v==null&&!t.bf){Ft(e,513,Cp(s,a,i));return}if(t.bf)Ft(e,6,Irt(t,s,a,n,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?ii(Va(t.v)):t.v;Ft(e,515,uJe(s,a,o,i));break;case"b":case"e":Ft(e,517,cJe(s,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var l=BM(n.Strings,t.v,n.revStrings);Ft(e,253,YQe(s,a,l,i))}else Ft(e,516,QQe(s,a,(t.v||"").slice(0,255),i,n));break;default:Ft(e,513,Cp(s,a,i))}}function cit(e,t,s){var a=el(),n=s.SheetNames[e],i=s.Sheets[n]||{},o=(s||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,h="",m=[],p=zs(i["!ref"]||"A1"),g=d?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Ft(a,2057,DM(s,16,t)),Ft(a,13,Gl(1)),Ft(a,12,Gl(100)),Ft(a,15,xo(!0)),Ft(a,17,xo(!1)),Ft(a,16,Sp(.001)),Ft(a,95,xo(!0)),Ft(a,42,xo(!1)),Ft(a,43,xo(!1)),Ft(a,130,Gl(1)),Ft(a,128,lJe()),Ft(a,131,xo(!1)),Ft(a,132,xo(!1)),d&&oit(a,i["!cols"]),Ft(a,512,tJe(p,t)),d&&(i["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){h=Tn(x);for(var y=p.s.c;y<=p.e.c;++y){x===p.s.r&&(m[y]=en(y)),u=m[y]+h;var b=c?(i[x]||[])[y]:i[u];b&&(lit(a,b,x,y,t),d&&b.l&&i["!links"].push([u,b.l]))}}var w=l.CodeName||l.name||n;return d&&Ft(a,574,WQe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Ft(a,229,wJe(i["!merges"])),d&&iit(a,i),Ft(a,442,Gae(w)),d&&ait(a,i),Ft(a,10),a.end()}function dit(e,t,s){var a=el(),n=(e||{}).Workbook||{},i=n.Sheets||[],o=n.WBProps||{},l=s.biff==8,c=s.biff==5;if(Ft(a,2057,DM(e,5,s)),s.bookType=="xla"&&Ft(a,135),Ft(a,225,l?Gl(1200):null),Ft(a,193,cQe(2)),c&&Ft(a,191),c&&Ft(a,192),Ft(a,226),Ft(a,92,_Qe("SheetJS",s)),Ft(a,66,Gl(l?1200:1252)),l&&Ft(a,353,Gl(0)),l&&Ft(a,448),Ft(a,317,LJe(e.SheetNames.length)),l&&e.vbaraw&&Ft(a,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";Ft(a,442,Gae(d))}Ft(a,156,Gl(17)),Ft(a,25,xo(!1)),Ft(a,18,xo(!1)),Ft(a,19,Gl(0)),l&&Ft(a,431,xo(!1)),l&&Ft(a,444,Gl(0)),Ft(a,61,VQe()),Ft(a,64,xo(!1)),Ft(a,141,Gl(0)),Ft(a,34,xo(Vat(e)=="true")),Ft(a,14,xo(!0)),l&&Ft(a,439,xo(!1)),Ft(a,218,Gl(0)),rit(a,e,s),sit(a,e.SSF,s),nit(a,s),l&&Ft(a,352,xo(!1));var u=a.end(),h=el();l&&Ft(h,140,_Je()),l&&s.Strings&&Xnt(h,252,MQe(s.Strings)),Ft(h,10);var m=h.end(),p=el(),g=0,x=0;for(x=0;x<e.SheetNames.length;++x)g+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var y=u.length+g+m.length;for(x=0;x<e.SheetNames.length;++x){var b=i[x]||{};Ft(p,133,IQe({pos:y,hs:b.Hidden||0,dt:0,name:e.SheetNames[x]},s)),y+=t[x].length}var w=p.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var v=[];return u.length&&v.push(u),w.length&&v.push(w),m.length&&v.push(m),xi(v)}function uit(e,t){var s=t||{},a=[];e&&!e.SSF&&(e.SSF=za($r)),e&&e.SSF&&(pv(),qA(e.SSF),s.revssf=KA(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,HM(s),s.cellXfs=[],Jm(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=cit(n,s,e);return a.unshift(dit(e,a,s)),xi(a)}function Bne(e,t){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=al(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return uit(e,t);case 4:case 3:case 2:return tit(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Dz(e,t){var s=t||{},a=s.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=n.index,l=i&&i.index||e.length,c=GYe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var x=c[o].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++d,s.sheetRows&&s.sheetRows<=d){--d;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var b=x.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var w=b[l].trim();if(w.match(/<t[dh]/i)){for(var v=w,S=0;v.charAt(0)=="<"&&(S=v.indexOf(">"))>-1;)v=v.slice(S+1);for(var j=0;j<g.length;++j){var k=g[j];k.s.c==u&&k.s.r<d&&d<=k.e.r&&(u=k.e.c+1,j=-1)}var N=Hr(w.slice(0,w.indexOf(">")));m=N.colspan?+N.colspan:1,((h=+N.rowspan)>1||m>1)&&g.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var C=N.t||N["data-t"]||"";if(!v.length){u+=m;continue}if(v=dae(v),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!v.length){u+=m;continue}var A={t:"s",v};s.raw||!v.trim().length||C=="s"||(v==="TRUE"?A={t:"b",v:!0}:v==="FALSE"?A={t:"b",v:!1}:isNaN(td(v))?isNaN(C0(v).getDate())||(A={t:"d",v:Va(v)},s.cellDates||(A={t:"n",v:ii(A.v)}),A.z=s.dateNF||$r[14]):A={t:"n",v:td(v)}),s.dense?(a[d]||(a[d]=[]),a[d][u]=A):a[Vr({r:d,c:u})]=A,u+=m}}}}return a["!ref"]=hs(p),g.length&&(a["!merges"]=g),a}function hit(e,t,s,a){for(var n=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>s||n[d].s.c>o)&&!(n[d].e.r<s||n[d].e.c<o)){if(n[d].s.r<s||n[d].s.c<o){l=-1;break}l=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(l<0)){var u=Vr({r:s,c:o}),h=a.dense?(e[s]||[])[o]:e[u],m=h&&h.v!=null&&(h.h||yM(h.w||(Zu(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),a.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+u,i.push(Mt("td",m,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var mit='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fit="</body></html>";function pit(e,t){var s=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!s||s.length==0)throw new Error("Invalid HTML: could not find <table>");if(s.length==1)return Qm(Dz(s[0],t),t);var a=KM();return s.forEach(function(n,i){YM(a,Dz(n,t),"Sheet"+(i+1))}),a}function xit(e,t,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function Une(e,t){var s=t||{},a=s.header!=null?s.header:mit,n=s.footer!=null?s.footer:fit,i=[a],o=al(e["!ref"]);s.dense=Array.isArray(e),i.push(xit(e,o,s));for(var l=o.s.r;l<=o.e.r;++l)i.push(hit(e,o,l,s));return i.push("</table>"+n),i.join("")}function Vne(e,t,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var o=typeof a.origin=="string"?tn(a.origin):a.origin;n=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=al(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),g=0,x=0,y=0,b=0,w=0,v=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&x<c;++g){var S=l[g];if(Oz(S)){if(a.display)continue;p[x]={hidden:!0}}var j=S.children;for(y=b=0;y<j.length;++y){var k=j[y];if(!(a.display&&Oz(k))){var N=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):dae(k.innerHTML),C=k.getAttribute("data-z")||k.getAttribute("z");for(m=0;m<h.length;++m){var A=h[m];A.s.c==b+i&&A.s.r<x+n&&x+n<=A.e.r&&(b=A.e.c+1-i,m=-1)}v=+k.getAttribute("colspan")||1,((w=+k.getAttribute("rowspan")||1)>1||v>1)&&h.push({s:{r:x+n,c:b+i},e:{r:x+n+(w||1)-1,c:b+i+(v||1)-1}});var E={t:"s",v:N},D=k.getAttribute("data-t")||k.getAttribute("t")||"";N!=null&&(N.length==0?E.t=D||"z":a.raw||N.trim().length==0||D=="s"||(N==="TRUE"?E={t:"b",v:!0}:N==="FALSE"?E={t:"b",v:!1}:isNaN(td(N))?isNaN(C0(N).getDate())||(E={t:"d",v:Va(N)},a.cellDates||(E={t:"n",v:ii(E.v)}),E.z=a.dateNF||$r[14]):E={t:"n",v:td(N)})),E.z===void 0&&C!=null&&(E.z=C);var T="",P=k.getElementsByTagName("A");if(P&&P.length)for(var _=0;_<P.length&&!(P[_].hasAttribute("href")&&(T=P[_].getAttribute("href"),T.charAt(0)!="#"));++_);T&&T.charAt(0)!="#"&&(E.l={Target:T}),a.dense?(e[x+n]||(e[x+n]=[]),e[x+n][b+i]=E):e[Vr({c:b+i,r:x+n})]=E,d.e.c<b+i&&(d.e.c=b+i),b+=v}}++x}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,x-1+n),e["!ref"]=hs(d),x>=c&&(e["!fullref"]=hs((d.e.r=l.length-g+x-1+n,d))),e}function zne(e,t){var s=t||{},a=s.dense?[]:{};return Vne(a,e,t)}function git(e,t){return Qm(zne(e,t),t)}function Oz(e){var t="",s=vit(e);return s&&(t=s(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function vit(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function yit(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),s=Vs(t.replace(/<[^>]*>/g,""));return[s]}var Iz={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Wne(e,t){var s=t||{},a=bM(e),n=[],i,o,l={name:""},c="",d=0,u,h,m={},p=[],g=s.dense?[]:{},x,y,b={value:""},w="",v=0,S=[],j=-1,k=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,A={},E=[],D={},T=0,P=0,_=[],O=1,M=1,I=[],R={Names:[]},L={},K=["",""],H=[],F={},G="",U=0,W=!1,J=!1,z=0;for(Iw.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Iw.exec(a);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=hs(N):g["!ref"]="A1:A1",s.sheetRows>0&&s.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=s.sheetRows-1,g["!ref"]=hs(N)),E.length&&(g["!merges"]=E),_.length&&(g["!rows"]=_),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),m[u.name]=g,J=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=Hr(x[0],!1),j=k=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=s.dense?[]:{},E=[],_=[],J=!0);break;case"table-row-group":x[1]==="/"?--C:++C;break;case"table-row":case"":if(x[1]==="/"){j+=O,O=1;break}if(h=Hr(x[0],!1),h.?j=h.-1:j==-1&&(j=0),O=+h["number-rows-repeated"]||1,O<10)for(z=0;z<O;++z)C>0&&(_[j+z]={level:C});k=-1;break;case"covered-table-cell":x[1]!=="/"&&++k,s.sheetStubs&&(s.dense?(g[j]||(g[j]=[]),g[j][k]={t:"z"}):g[Vr({r:j,c:k})]={t:"z"}),w="",S=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++k,b=Hr(x[0],!1),M=parseInt(b["number-columns-repeated"]||"1",10),y={t:"z",v:null},b.formula&&s.cellFormula!=!1&&(y.f=Pz(Vs(b.formula))),(b.||b["value-type"])=="string"&&(y.t="s",y.v=Vs(b["string-value"]||""),s.dense?(g[j]||(g[j]=[]),g[j][k]=y):g[Vr({r:j,c:k})]=y),k+=M-1;else if(x[1]!=="/"){++k,w="",v=0,S=[],M=1;var ie=O?j+O-1:j;if(k>N.e.c&&(N.e.c=k),k<N.s.c&&(N.s.c=k),j<N.s.r&&(N.s.r=j),ie>N.e.r&&(N.e.r=ie),b=Hr(x[0],!1),H=[],F={},y={t:b.||b["value-type"],v:null},s.cellFormula)if(b.formula&&(b.formula=Vs(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(T=parseInt(b["number-matrix-rows-spanned"],10)||0,P=parseInt(b["number-matrix-columns-spanned"],10)||0,D={s:{r:j,c:k},e:{r:j+T-1,c:k+P-1}},y.F=hs(D),I.push([D,y.F])),b.formula)y.f=Pz(b.formula);else for(z=0;z<I.length;++z)j>=I[z][0].s.r&&j<=I[z][0].e.r&&k>=I[z][0].s.c&&k<=I[z][0].e.c&&(y.F=I[z][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(T=parseInt(b["number-rows-spanned"],10)||0,P=parseInt(b["number-columns-spanned"],10)||0,D={s:{r:j,c:k},e:{r:j+T-1,c:k+P-1}},E.push(D)),b["number-columns-repeated"]&&(M=parseInt(b["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Fa(b["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(b.value);break;case"percentage":y.t="n",y.v=parseFloat(b.value);break;case"currency":y.t="n",y.v=parseFloat(b.value);break;case"date":y.t="d",y.v=Va(b["date-value"]),s.cellDates||(y.t="n",y.v=ii(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=WYe(b["time-value"])/86400,s.cellDates&&(y.t="d",y.v=YA(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(b.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",b["string-value"]!=null&&(w=Vs(b["string-value"]),S=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(W=!1,y.t==="s"&&(y.v=w||"",S.length&&(y.R=S),W=v==0),L.Target&&(y.l=L),H.length>0&&(y.c=H,H=[]),w&&s.cellText!==!1&&(y.w=w),W&&(y.t="z",delete y.v),(!W||s.sheetStubs)&&!(s.sheetRows&&s.sheetRows<=j))for(var re=0;re<O;++re){if(M=parseInt(b["number-columns-repeated"]||"1",10),s.dense)for(g[j+re]||(g[j+re]=[]),g[j+re][k]=re==0?y:za(y);--M>0;)g[j+re][k+M]=za(y);else for(g[Vr({r:j+re,c:k})]=y;--M>0;)g[Vr({r:j+re,c:k+M})]=za(y);N.e.c<=k&&(N.e.c=k)}M=parseInt(b["number-columns-repeated"]||"1",10),k+=M-1,M=0,y={},w="",S=[]}L={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i;F.t=w,S.length&&(F.R=S),F.a=G,H.push(F)}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);G="",U=0,w="",v=0,S=[];break;case"creator":x[1]==="/"?G=a.slice(U,x.index):U=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);w="",v=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(A[l.name]=c,(i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Hr(x[0],!1),n.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Hr(x[0],!1),c+=Iz[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Hr(x[0],!1),c+=Iz[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,x.index);break}else d=x.index+x[0].length;break;case"named-range":o=Hr(x[0],!1),K=P4(o["cell-range-address"]);var q={Name:o.name,Ref:K[0]+"!"+K[1]};J&&(q.Sheet=p.length),R.Names.push(q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(x[1]==="/"&&(!b||!b["string-value"])){var se=yit(a.slice(v,x.index));w=(w.length>0?w+`
`:"")+se[0]}else Hr(x[0],!1),v=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{K=P4(Hr(x[0])["target-range-address"]),m[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(L=Hr(x[0],!1),!L.href)break;L.Target=Vs(L.href),delete L.href,L.Target.charAt(0)=="#"&&L.Target.indexOf(".")>-1?(K=P4(L.Target.slice(1)),L.Target="#"+K[0]+"!"+K[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(s.WTF)throw new Error(x)}}var B={Sheets:m,SheetNames:p,Workbook:R};return s.bookSheets&&delete B.Sheets,B}function Rz(e,t){t=t||{},Hl(e,"META-INF/manifest.xml")&&WXe(Ln(e,"META-INF/manifest.xml"),t);var s=bl(e,"content.xml");if(!s)throw new Error("Missing content.xml in ODS / UOF file");var a=Wne(ya(s),t);return Hl(e,"meta.xml")&&(a.Props=Iae(Ln(e,"meta.xml"))),a}function Mz(e,t){return Wne(e,t)}var bit=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ow({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Dn+t}}(),Fz=function(){var e=function(i){return ua(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+ua(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=al(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",y=i["!rows"]||[];for(d=0;d<h.s.r;++d)x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=h.e.r;++d){for(x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)c.push(t);for(;u<=h.e.c;++u){var b=!1,w={},v="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>u)&&!(m[p].s.r>d)&&!(m[p].e.c<u)&&!(m[p].e.r<d)){(m[p].s.c!=u||m[p].s.r!=d)&&(b=!0),w["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,w["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(b){c.push(s);continue}var S=Vr({r:d,c:u}),j=g?(i[d]||[])[u]:i[S];if(j&&j.f&&(w["table:formula"]=ua(Brt(j.f)),j.F&&j.F.slice(0,S.length)==S)){var k=al(j.F);w["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,w["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":v=j.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=j.v?"true":"false";break;case"n":v=j.w||String(j.v||0),w["office:value-type"]="float",w["office:value"]=j.v||0;break;case"s":case"str":v=j.v==null?"":j.v,w["office:value-type"]="string";break;case"d":v=j.w||Va(j.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Va(j.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var N=e(v);if(j.l&&j.l.Target){var C=j.l.Target;C=C.charAt(0)=="#"?"#"+Urt(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),N=Mt("text:a",N,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+Mt("table:table-cell",Mt("text:p",N,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Pm(h),h.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Dn],d=Ow({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Ow({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(Oae().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(a(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Hne(e,t){if(t.bookType=="fods")return Fz(e,t);var s=xM(),a="",n=[],i=[];return a="mimetype",ps(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",ps(s,a,Fz(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",ps(s,a,bit(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",ps(s,a,Dn+Oae()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",ps(s,a,GXe(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",ps(s,a,HXe(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ap(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function GD(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ya(Xm(e))}function wit(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):yl($d(e))}function jit(e,t){e:for(var s=0;s<=e.length-t.length;++s){for(var a=0;a<t.length;++a)if(e[s+a]!=t[a])continue e;return!0}return!1}function _m(e){var t=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(t),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function Lz(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Nit(e,t){for(var s=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,s-6176)}function Sit(e,t,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=s>=0?0:128}function Uw(e,t){var s=t?t[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return t&&(t[0]=s),a}function la(e){var t=new Uint8Array(7);t[0]=e&127;var s=1;e:if(e>127){if(t[s-1]|=128,t[s]=e>>7&127,++s,e<=16383||(t[s-1]|=128,t[s]=e>>14&127,++s,e<=2097151)||(t[s-1]|=128,t[s]=e>>21&127,++s,e<=268435455)||(t[s-1]|=128,t[s]=e/256>>>21&127,++s,e<=34359738367)||(t[s-1]|=128,t[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;t[s-1]|=128,t[s]=e/16777216>>>21&127,++s}return t.slice(0,s)}function gn(e){var t=0,s=e[t]&127;e:if(e[t++]>=128){if(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128))break e;s|=(e[t]&127)<<28}return s}function Gs(e){for(var t=[],s=[0];s[0]<e.length;){var a=s[0],n=Uw(e,s),i=n&7;n=Math.floor(n/8);var o=0,l;if(n==0)break;switch(i){case 0:{for(var c=s[0];e[s[0]++]>=128;);l=e.slice(c,s[0])}break;case 5:o=4,l=e.slice(s[0],s[0]+o),s[0]+=o;break;case 1:o=8,l=e.slice(s[0],s[0]+o),s[0]+=o;break;case 2:o=Uw(e,s),l=e.slice(s[0],s[0]+o),s[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:l,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function ki(e){var t=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(t.push(la(a*8+n.type)),n.type==2&&t.push(la(n.data.length)),t.push(n.data))})}),_m(t)}function zM(e,t){return(e==null?void 0:e.map(function(s){return t(s.data)}))||[]}function Bl(e){for(var t,s=[],a=[0];a[0]<e.length;){var n=Uw(e,a),i=Gs(e.slice(a[0],a[0]+n));a[0]+=n;var o={id:gn(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Gs(l.data),d=gn(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=gn(i[3][0].data)>>>0>0),s.push(o)}return s}function yx(e){var t=[];return e.forEach(function(s){var a=[];a[1]=[{data:la(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:la(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(o){n.push(o.data),o.meta[3]=[{type:0,data:la(o.data.length)}],a[2].push({data:ki(o.meta),type:2})});var i=ki(a);t.push(la(i.length)),t.push(i),n.forEach(function(o){return t.push(o)})}),_m(t)}function kit(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=Uw(t,s),n=[];s[0]<t.length;){var i=t[s[0]]&3;if(i==0){var o=t[s[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[s[0]],l>1&&(o|=t[s[0]+1]<<8),l>2&&(o|=t[s[0]+2]<<16),l>3&&(o|=t[s[0]+3]<<24),o>>>=0,o++,s[0]+=l}n.push(t.slice(s[0],s[0]+o)),s[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[s[0]]>>2&7)+4,c=(t[s[0]++]&224)<<3,c|=t[s[0]++]):(d=(t[s[0]++]>>2)+1,i==2?(c=t[s[0]]|t[s[0]+1]<<8,s[0]+=2):(c=(t[s[0]]|t[s[0]+1]<<8|t[s[0]+2]<<16|t[s[0]+3]<<24)>>>0,s[0]+=4)),n=[_m(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=_m(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function Ul(e){for(var t=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,t.push(kit(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return _m(t)}function bx(e){for(var t=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);t.push(n);var i=la(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(s,s+a)),o+=a,n[0]=0,n[1]=o&255,n[2]=o>>8&255,n[3]=o>>16&255,s+=a}return _m(t)}function Cit(e,t,s,a){var n=Ap(e),i=n.getUint32(4,!0),o=(a>1?12:8)+Lz(i&(a>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=n.getUint32(o,!0),o+=4),o+=Lz(i&(a>1?12288:4096))*4,i&16&&(c=n.getUint32(o,!0),o+=4),i&32&&(d=n.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:s[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function Ait(e,t,s){var a=Ap(e),n=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=Nit(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(l=a.getUint32(i,!0),i+=4),n&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:s[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return h}function _4(e,t){var s=new Uint8Array(32),a=Ap(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,Sit(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function D4(e,t){var s=new Uint8Array(32),a=Ap(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function Eit(e,t,s){switch(e[0]){case 0:case 1:case 2:case 3:return Cit(e,t,s,e[0]);case 5:return Ait(e,t,s);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ki(e){var t=Gs(e);return Uw(t[1][0].data)}function $z(e,t){var s=Gs(t.data),a=gn(s[1][0].data),n=s[3],i=[];return(n||[]).forEach(function(o){var l=Gs(o.data),c=gn(l[1][0].data)>>>0;switch(a){case 1:i[c]=GD(l[3][0].data);break;case 8:{var d=e[Ki(l[9][0].data)][0],u=Gs(d.data),h=e[Ki(u[1][0].data)][0],m=gn(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=Gs(h.data);i[c]=p[3].map(function(g){return GD(g.data)}).join("")}break}}),i}function Pit(e,t){var s,a,n,i,o,l,c,d,u,h,m,p,g,x,y=Gs(e),b=gn(y[1][0].data)>>>0,w=gn(y[2][0].data)>>>0,v=((a=(s=y[8])==null?void 0:s[0])==null?void 0:a.data)&&gn(y[8][0].data)>0||!1,S,j;if((i=(n=y[7])==null?void 0:n[0])!=null&&i.data&&t!=0)S=(l=(o=y[7])==null?void 0:o[0])==null?void 0:l.data,j=(d=(c=y[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=y[4])==null?void 0:u[0])!=null&&h.data&&t!=1)S=(p=(m=y[4])==null?void 0:m[0])==null?void 0:p.data,j=(x=(g=y[3])==null?void 0:g[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=v?4:1,N=Ap(S),C=[],A=0;A<S.length/2;++A){var E=N.getUint16(A*2,!0);E<65535&&C.push([A,E])}if(C.length!=w)throw"Expected ".concat(w," cells, found ").concat(C.length);var D=[];for(A=0;A<C.length-1;++A)D[C[A][0]]=j.subarray(C[A][1]*k,C[A+1][1]*k);return C.length>=1&&(D[C[C.length-1][0]]=j.subarray(C[C.length-1][1]*k)),{R:b,cells:D}}function Tit(e,t){var s,a=Gs(t.data),n=(s=a==null?void 0:a[7])!=null&&s[0]?gn(a[7][0].data)>>>0>0?1:0:-1,i=zM(a[5],function(o){return Pit(o,n)});return{nrows:gn(a[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function _it(e,t,s){var a,n=Gs(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(gn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(gn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));s["!ref"]=hs(i);var o=Gs(n[4][0].data),l=$z(e,e[Ki(o[4][0].data)][0]),c=(a=o[17])!=null&&a[0]?$z(e,e[Ki(o[17][0].data)][0]):[],d=Gs(o[3][0].data),u=0;d[1].forEach(function(h){var m=Gs(h.data),p=e[Ki(m[2][0].data)][0],g=gn(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var x=Tit(e,p);x.data.forEach(function(y,b){y.forEach(function(w,v){var S=Vr({r:u+b,c:v}),j=Eit(w,l,c);j&&(s[S]=j)})}),u+=x.nrows})}function Dit(e,t){var s=Gs(t.data),a={"!ref":"A1"},n=e[Ki(s[2][0].data)],i=gn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return _it(e,n[0],a),a}function Oit(e,t){var s,a=Gs(t.data),n={name:(s=a[1])!=null&&s[0]?GD(a[1][0].data):"",sheets:[]},i=zM(a[2],Ki);return i.forEach(function(o){e[o].forEach(function(l){var c=gn(l.meta[1][0].data);c==6e3&&n.sheets.push(Dit(e,l))})}),n}function Iit(e,t){var s=KM(),a=Gs(t.data),n=zM(a[1],Ki);if(n.forEach(function(i){e[i].forEach(function(o){var l=gn(o.meta[1][0].data);if(l==2){var c=Oit(e,o);c.sheets.forEach(function(d,u){YM(s,d,u==0?c.name:c.name+"_"+u,!0)})}})}),s.SheetNames.length==0)throw new Error("Empty NUMBERS file");return s}function O4(e){var t,s,a,n,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=Ul(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=Bl(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((n=(a=(s=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:s.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&gn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=gn(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Iit(i,l)}function Rit(e,t,s){var a,n,i,o;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&gn(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Ap(e[7][0].data),u=0,h=[],m=Ap(e[4][0].data),p=0,g=[],x=0;x<t.length;++x){if(t[x]==null){d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),m.setUint16(x*2,p,!0);var y,b;switch(typeof t[x]){case"string":y=_4({t:"s",v:t[x]},s),b=D4({t:"s",v:t[x]},s);break;case"number":y=_4({t:"n",v:t[x]},s),b=D4({t:"n",v:t[x]},s);break;case"boolean":y=_4({t:"b",v:t[x]},s),b=D4({t:"b",v:t[x]},s);break;default:throw new Error("Unsupported value "+t[x])}h.push(y),u+=y.length,g.push(b),p+=b.length,++c}for(e[2][0].data=la(c);x<e[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=_m(h),e[3][0].data=_m(g),c}function Mit(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=al(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(hs(a)));var i=Tk(s,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(U){typeof U=="string"&&o.push(U)})});var l={},c=[],d=Tr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(G,U){return[G,d.FullPaths[U]]}).forEach(function(G){var U=G[0],W=G[1];if(U.type==2&&U.name.match(/\.iwa/)){var J=U.content,z=Ul(J),ie=Bl(z);ie.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:W,type:gn(re.messages[0].meta[1][0].data)}})}}),c.sort(function(G,U){return G-U});var u=c.filter(function(G){return G>1}).map(function(G){return[G,la(G)]});d.FileIndex.map(function(G,U){return[G,d.FullPaths[U]]}).forEach(function(G){var U=G[0];if(G[1],!!U.name.match(/\.iwa/)){var W=Bl(Ul(U.content));W.forEach(function(J){J.messages.forEach(function(z){u.forEach(function(ie){J.messages.some(function(re){return gn(re.meta[1][0].data)!=11006&&jit(re.data,ie[1])})&&l[ie[0]].deps.push(J.id)})})})}});for(var h=Tr.find(d,l[1].location),m=Bl(Ul(h.content)),p,g=0;g<m.length;++g){var x=m[g];x.id==1&&(p=x)}var y=Ki(Gs(p.messages[0].data)[1][0].data);for(h=Tr.find(d,l[y].location),m=Bl(Ul(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);for(y=Ki(Gs(p.messages[0].data)[2][0].data),h=Tr.find(d,l[y].location),m=Bl(Ul(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);for(y=Ki(Gs(p.messages[0].data)[2][0].data),h=Tr.find(d,l[y].location),m=Bl(Ul(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);var b=Gs(p.messages[0].data);{b[6][0].data=la(a.e.r+1),b[7][0].data=la(a.e.c+1);var w=Ki(b[46][0].data),v=Tr.find(d,l[w].location),S=Bl(Ul(v.content));{for(var j=0;j<S.length&&S[j].id!=w;++j);if(S[j].id!=w)throw"Bad ColumnRowUIDMapArchive";var k=Gs(S[j].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var N=0;N<=a.e.c;++N){var C=[];C[1]=C[2]=[{type:0,data:la(N+420690)}],k[1].push({type:2,data:ki(C)}),k[2].push({type:0,data:la(N)}),k[3].push({type:0,data:la(N)})}k[4]=[],k[5]=[],k[6]=[];for(var A=0;A<=a.e.r;++A)C=[],C[1]=C[2]=[{type:0,data:la(A+726270)}],k[4].push({type:2,data:ki(C)}),k[5].push({type:0,data:la(A)}),k[6].push({type:0,data:la(A)});S[j].messages[0].data=ki(k)}v.content=bx(yx(S)),v.size=v.content.length,delete b[46];var E=Gs(b[4][0].data);{E[7][0].data=la(a.e.r+1);var D=Gs(E[1][0].data),T=Ki(D[2][0].data);v=Tr.find(d,l[T].location),S=Bl(Ul(v.content));{if(S[0].id!=T)throw"Bad HeaderStorageBucket";var P=Gs(S[0].messages[0].data);for(A=0;A<i.length;++A){var _=Gs(P[2][0].data);_[1][0].data=la(A),_[4][0].data=la(i[A].length),P[2][A]={type:P[2][0].type,data:ki(_)}}S[0].messages[0].data=ki(P)}v.content=bx(yx(S)),v.size=v.content.length;var O=Ki(E[2][0].data);v=Tr.find(d,l[O].location),S=Bl(Ul(v.content));{if(S[0].id!=O)throw"Bad HeaderStorageBucket";for(P=Gs(S[0].messages[0].data),N=0;N<=a.e.c;++N)_=Gs(P[2][0].data),_[1][0].data=la(N),_[4][0].data=la(a.e.r+1),P[2][N]={type:P[2][0].type,data:ki(_)};S[0].messages[0].data=ki(P)}v.content=bx(yx(S)),v.size=v.content.length;var M=Ki(E[4][0].data);(function(){for(var G=Tr.find(d,l[M].location),U=Bl(Ul(G.content)),W,J=0;J<U.length;++J){var z=U[J];z.id==M&&(W=z)}var ie=Gs(W.messages[0].data);{ie[3]=[];var re=[];o.forEach(function(B,oe){re[1]=[{type:0,data:la(oe)}],re[2]=[{type:0,data:la(1)}],re[3]=[{type:2,data:wit(B)}],ie[3].push({type:2,data:ki(re)})})}W.messages[0].data=ki(ie);var q=yx(U),se=bx(q);G.content=se,G.size=G.content.length})();var I=Gs(E[3][0].data);{var R=I[1][0];delete I[2];var L=Gs(R.data);{var K=Ki(L[2][0].data);(function(){for(var G=Tr.find(d,l[K].location),U=Bl(Ul(G.content)),W,J=0;J<U.length;++J){var z=U[J];z.id==K&&(W=z)}var ie=Gs(W.messages[0].data);{delete ie[6],delete I[7];var re=new Uint8Array(ie[5][0].data);ie[5]=[];for(var q=0,se=0;se<=a.e.r;++se){var B=Gs(re);q+=Rit(B,i[se],o),B[1][0].data=la(se),ie[5].push({data:ki(B),type:2})}ie[1]=[{type:0,data:la(a.e.c+1)}],ie[2]=[{type:0,data:la(a.e.r+1)}],ie[3]=[{type:0,data:la(q)}],ie[4]=[{type:0,data:la(a.e.r+1)}]}W.messages[0].data=ki(ie);var oe=yx(U),de=bx(oe);G.content=de,G.size=G.content.length})()}R.data=ki(L)}E[3][0].data=ki(I)}b[4][0].data=ki(E)}p.messages[0].data=ki(b);var H=yx(m),F=bx(H);return h.content=F,h.size=h.content.length,d}function qne(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function WM(e){qne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function HM(e){qne([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Fit(e){return Ns.WS.indexOf(e)>-1?"sheet":e==Ns.CS?"chart":e==Ns.DS?"dialog":e==Ns.MS?"macro":e&&e.length?e:"sheet"}function Lit(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,Fit(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function $it(e,t,s,a,n,i,o,l,c,d,u,h){try{i[a]=rb(bl(e,s,!0),t);var m=Ln(e,t),p;switch(l){case"sheet":p=ont(m,t,n,c,i[a],d,u,h);break;case"chart":if(p=lnt(m,t,n,c,i[a],d,u,h),!p||!p["!drawel"])break;var g=jy(p["!drawel"].Target,t),x=Rw(g),y=Ket(bl(e,g,!0),rb(bl(e,x,!0),g)),b=jy(y,g),w=Rw(b);p=Rat(bl(e,b,!0),b,c,rb(bl(e,w,!0),b),d,p);break;case"macro":p=cnt(m,t,n,c,i[a],d,u,h);break;case"dialog":p=dnt(m,t,n,c,i[a],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=p;var v=[];i&&i[a]&&yn(i[a]).forEach(function(S){var j="";if(i[a][S].Type==Ns.CMNT){j=jy(i[a][S].Target,t);var k=fnt(Ln(e,j,!0),j,c);if(!k||!k.length)return;Sz(p,k,!1)}i[a][S].Type==Ns.TCMNT&&(j=jy(i[a][S].Target,t),v=v.concat(Xet(Ln(e,j,!0),c)))}),v&&v.length&&Sz(p,v,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function Ll(e){return e.charAt(0)=="/"?e.slice(1):e}function Bit(e,t){if(pv(),t=t||{},WM(t),Hl(e,"META-INF/manifest.xml")||Hl(e,"objectdata.xml"))return Rz(e,t);if(Hl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof O4<"u"){if(e.FileIndex)return O4(e);var s=Tr.utils.cfb_new();return HV(e).forEach(function(_){ps(s,_,YYe(e,_))}),O4(s)}throw new Error("Unsupported NUMBERS file")}if(!Hl(e,"[Content_Types].xml"))throw Hl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Hl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=HV(e),n=VXe(bl(e,"[Content_Types].xml")),i=!1,o,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",Ln(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!Ln(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(sb=[],n.sst)try{sb=mnt(Ln(e,Ll(n.sst)),n.sst,t)}catch(_){if(t.WTF)throw _}t.cellStyles&&n.themes.length&&(c=hnt(bl(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=unt(Ln(e,Ll(n.style)),n.style,c,t))}n.links.map(function(_){try{var O=rb(bl(e,Rw(Ll(_))),_);return xnt(Ln(e,Ll(_)),O,_,t)}catch{}});var u=int(Ln(e,Ll(n.workbooks[0])),n.workbooks[0],t),h={},m="";n.coreprops.length&&(m=Ln(e,Ll(n.coreprops[0]),!0),m&&(h=Iae(m)),n.extprops.length!==0&&(m=Ln(e,Ll(n.extprops[0]),!0),m&&YXe(m,h,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(m=bl(e,Ll(n.custprops[0]),!0),m&&(p=QXe(m,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(O){return O.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(g.Props=h,g.Custprops=p),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var x={};t.bookDeps&&n.calcchain&&(x=pnt(Ln(e,Ll(n.calcchain)),n.calcchain));var y=0,b={},w,v;{var S=u.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var j=0;j!=S.length;++j)h.SheetNames[j]=S[j].name}var k=i?"bin":"xml",N=n.workbooks[0].lastIndexOf("/"),C=(n.workbooks[0].slice(0,N+1)+"_rels/"+n.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Hl(e,C)||(C="xl/_rels/workbook."+k+".rels");var A=rb(bl(e,C,!0),C.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=gnt(Ln(e,Ll(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=Jet(Ln(e,Ll(n.people[0])),t)),A&&(A=Lit(A,u.Sheets));var E=Ln(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var D="sheet";if(A&&A[y]?(w="xl/"+A[y][1].replace(/[\/]?xl\//,""),Hl(e,w)||(w=A[y][1]),Hl(e,w)||(w=C.replace(/_rels\/.*$/,"")+A[y][1]),D=A[y][2]):(w="xl/worksheets/sheet"+(y+1-E)+"."+k,w=w.replace(/sheet0\./,"sheet.")),v=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==y&&(T=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==h.SheetNames[y].toLowerCase()&&(T=1);if(!T)continue e}}$it(e,w,v,h.SheetNames[y],y,b,o,D,t,u,c,d)}return g={Directory:n,Workbook:u,Props:h,Custprops:p,Deps:x,Sheets:o,SheetNames:h.SheetNames,Strings:sb,Styles:d,Themes:c,SSF:za($r)},t&&t.bookFiles&&(e.files?(g.keys=a,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(_,O){_=_.replace(/^Root Entry[\/]/,""),g.keys.push(_),g.files[_]=e.FileIndex[O]}))),t&&t.bookVBA&&(n.vba.length>0?g.vbaraw=Ln(e,Ll(n.vba[0]),!0):n.defaults&&n.defaults.bin===itt&&(g.vbaraw=Ln(e,"xl/vbaProject.bin",!0))),g}function Uit(e,t){var s=t||{},a="Workbook",n=Tr.find(e,a);try{if(a="/!DataSpaces/Version",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(pZe(n.content),a="/!DataSpaces/DataSpaceMap",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=gZe(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=vZe(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);bZe(n.content)}catch{}if(a="/EncryptionInfo",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=wZe(n.content);if(a="/EncryptedPackage",n=Tr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,s.password||"",s);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,s.password||"",s);throw new Error("File is password-protected")}function Vit(e,t){return t.bookType=="ods"?Hne(e,t):t.bookType=="numbers"?Mit(e,t):t.bookType=="xlsb"?zit(e,t):Wit(e,t)}function zit(e,t){eg=1024,e&&!e.SSF&&(e.SSF=za($r)),e&&e.SSF&&(pv(),qA(e.SSF),t.revssf=KA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ab?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s=t.bookType=="xlsb"?"bin":"xml",a=yne.indexOf(t.bookType)>-1,n=TM();HM(t=t||{});var i=xM(),o="",l=0;if(t.cellXfs=[],Jm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ps(i,o,Rae(e.Props,t)),n.coreprops.push(o),da(t.rels,2,o,Ns.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ps(i,o,Lae(e.Props)),n.extprops.push(o),da(t.rels,3,o,Ns.EXT_PROPS),e.Custprops!==e.Props&&yn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ps(i,o,$ae(e.Custprops)),n.custprops.push(o),da(t.rels,4,o,Ns.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+s,ps(i,o,ynt(l-1,o,t,e,u)),n.sheets.push(o),da(t.wbrels,-1,"worksheets/sheet"+l+"."+s,Ns.WS[0])}if(h){var p=h["!comments"],g=!1,x="";p&&p.length>0&&(x="xl/comments"+l+"."+s,ps(i,x,jnt(p,x)),n.comments.push(x),da(u,-1,"../comments"+l+"."+s,Ns.CMNT),g=!0),h["!legacy"]&&g&&ps(i,"xl/drawings/vmlDrawing"+l+".vml",gne(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&ps(i,Rw(o),bg(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+s,ps(i,o,wnt(t.Strings,o,t)),n.strs.push(o),da(t.wbrels,-1,"sharedStrings."+s,Ns.SST)),o="xl/workbook."+s,ps(i,o,vnt(e,o)),n.workbooks.push(o),da(t.rels,1,o,Ns.WB),o="xl/theme/theme1.xml",ps(i,o,MM(e.Themes,t)),n.themes.push(o),da(t.wbrels,-1,"theme/theme1.xml",Ns.THEME),o="xl/styles."+s,ps(i,o,bnt(e,o,t)),n.styles.push(o),da(t.wbrels,-1,"styles."+s,Ns.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",ps(i,o,e.vbaraw),n.vba.push(o),da(t.wbrels,-1,"vbaProject.bin",Ns.VBA)),o="xl/metadata."+s,ps(i,o,Nnt(o)),n.metadata.push(o),da(t.wbrels,-1,"metadata."+s,Ns.XLMETA),ps(i,"[Content_Types].xml",Dae(n,t)),ps(i,"_rels/.rels",bg(t.rels)),ps(i,"xl/_rels/workbook."+s+".rels",bg(t.wbrels)),delete t.revssf,delete t.ssf,i}function Wit(e,t){eg=1024,e&&!e.SSF&&(e.SSF=za($r)),e&&e.SSF&&(pv(),qA(e.SSF),t.revssf=KA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ab?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s="xml",a=yne.indexOf(t.bookType)>-1,n=TM();HM(t=t||{});var i=xM(),o="",l=0;if(t.cellXfs=[],Jm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ps(i,o,Rae(e.Props,t)),n.coreprops.push(o),da(t.rels,2,o,Ns.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ps(i,o,Lae(e.Props)),n.extprops.push(o),da(t.rels,3,o,Ns.EXT_PROPS),e.Custprops!==e.Props&&yn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ps(i,o,$ae(e.Custprops)),n.custprops.push(o),da(t.rels,4,o,Ns.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+s,ps(i,o,Tne(l-1,t,e,h)),n.sheets.push(o),da(t.wbrels,-1,"worksheets/sheet"+l+"."+s,Ns.WS[0])}if(m){var g=m["!comments"],x=!1,y="";if(g&&g.length>0){var b=!1;g.forEach(function(w){w[1].forEach(function(v){v.T==!0&&(b=!0)})}),b&&(y="xl/threadedComments/threadedComment"+l+"."+s,ps(i,y,Qet(g,u,t)),n.threadedcomments.push(y),da(h,-1,"../threadedComments/threadedComment"+l+"."+s,Ns.TCMNT)),y="xl/comments"+l+"."+s,ps(i,y,vne(g)),n.comments.push(y),da(h,-1,"../comments"+l+"."+s,Ns.CMNT),x=!0}m["!legacy"]&&x&&ps(i,"xl/drawings/vmlDrawing"+l+".vml",gne(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&ps(i,Rw(o),bg(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+s,ps(i,o,nne(t.Strings,t)),n.strs.push(o),da(t.wbrels,-1,"sharedStrings."+s,Ns.SST)),o="xl/workbook."+s,ps(i,o,Rne(e)),n.workbooks.push(o),da(t.rels,1,o,Ns.WB),o="xl/theme/theme1.xml",ps(i,o,MM(e.Themes,t)),n.themes.push(o),da(t.wbrels,-1,"theme/theme1.xml",Ns.THEME),o="xl/styles."+s,ps(i,o,mne(e,t)),n.styles.push(o),da(t.wbrels,-1,"styles."+s,Ns.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",ps(i,o,e.vbaraw),n.vba.push(o),da(t.wbrels,-1,"vbaProject.bin",Ns.VBA)),o="xl/metadata."+s,ps(i,o,xne()),n.metadata.push(o),da(t.wbrels,-1,"metadata."+s,Ns.XLMETA),u.length>1&&(o="xl/persons/person.xml",ps(i,o,Zet(u)),n.people.push(o),da(t.wbrels,-1,"persons/person.xml",Ns.PEOPLE)),ps(i,"[Content_Types].xml",Dae(n,t)),ps(i,"_rels/.rels",bg(t.rels)),ps(i,"xl/_rels/workbook."+s+".rels",bg(t.wbrels)),delete t.revssf,delete t.ssf,i}function qM(e,t){var s="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=Tl(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function Hit(e,t){return Tr.find(e,"EncryptedPackage")?Uit(e,t):$ne(e,t)}function qit(e,t){var s,a=e,n=t||{};return n.type||(n.type=ys&&Buffer.isBuffer(e)?"buffer":"base64"),s=oae(a,n),Bit(s,n)}function Gne(e,t){var s=0;e:for(;s<e.length;)switch(e.charCodeAt(s)){case 10:case 13:case 32:++s;break;case 60:return HD(e.slice(s),t);default:break e}return A0.to_workbook(e,t)}function Git(e,t){var s="",a=qM(e,t);switch(t.type){case"base64":s=Tl(e);break;case"binary":s=e;break;case"buffer":s=e.toString("binary");break;case"array":s=Np(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(s=ya(s)),t.type="binary",Gne(s,t)}function Kit(e,t){var s=e;return t.type=="base64"&&(s=Tl(s)),s=Mh.utils.decode(1200,s.slice(2),"str"),t.type="binary",Gne(s,t)}function Yit(e){return e.match(/[^\x00-\x7F]/)?$d(e):e}function I4(e,t,s,a){return a?(s.type="string",A0.to_workbook(e,s)):A0.to_workbook(t,s)}function Dm(e,t){uM();var s=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Dm(new Uint8Array(e),(s=za(s),s.type="array",s));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!s.type&&(s.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),jg={},s.dateNF&&(jg.dateNF=s.dateNF),s.type||(s.type=ys&&Buffer.isBuffer(e)?"buffer":"base64"),s.type=="file"&&(s.type=ys?"buffer":"binary",a=UYe(e),typeof Uint8Array<"u"&&!ys&&(s.type="array")),s.type=="string"&&(i=!0,s.type="binary",s.codepage=65001,a=Yit(e)),s.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return s=za(s),s.type="array",Dm(hM(a),s)}switch((n=qM(a,s))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Hit(Tr.read(a,s),s);break;case 9:if(n[1]<=8)return $ne(a,s);break;case 60:return HD(a,s);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return JJe(a,s);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return sne.to_workbook(a,s);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?qit(a,s):I4(e,a,s,i);case 239:return n[3]===60?HD(a,s):I4(e,a,s,i);case 255:if(n[1]===254)return Kit(a,s);if(n[1]===0&&n[2]===2&&n[3]===0)return Qf.to_workbook(a,s);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Qf.to_workbook(a,s);break;case 3:case 131:case 139:case 140:return WD.to_workbook(a,s);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return dne.to_workbook(a,s);break;case 10:case 13:case 32:return Git(a,s);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return QJe.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?WD.to_workbook(a,s):I4(e,a,s,i)}function Kne(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Fj(t.file,Tr.write(e,{type:ys?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Tr.write(e,t)}function Xit(e,t){var s=za(t||{}),a=Vit(e,s);return Qit(a,s)}function Qit(e,t){var s={},a=ys?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(s.compression="DEFLATE"),t.password)s.type=a;else switch(t.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?Tr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!t.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(HA(n))}return t.password&&typeof encrypt_agile<"u"?Kne(encrypt_agile(n,t.password),t):t.type==="file"?Fj(t.file,n):t.type=="string"?ya(n):n}function Jit(e,t){var s=t||{},a=Ynt(e,s);return Kne(a,s)}function bd(e,t,s){s||(s="");var a=s+e;switch(t.type){case"base64":return Tw($d(a));case"binary":return $d(a);case"string":return e;case"file":return Fj(t.file,a,"utf8");case"buffer":return ys?ch(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):bd(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Zit(e,t){switch(t.type){case"base64":return Tw(e);case"binary":return e;case"string":return e;case"file":return Fj(t.file,e,"binary");case"buffer":return ys?ch(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function wN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return t.type=="base64"?Tw(s):t.type=="string"?ya(s):s;case"file":return Fj(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Yne(e,t){uM(),Hat(e);var s=za(t||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=Yne(e,s);return s.type="array",HA(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return bd(Vnt(e,s),s);case"slk":case"sylk":return bd(rne.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return bd(Une(e.Sheets[e.SheetNames[n]],s),s);case"txt":return Zit(Xne(e.Sheets[e.SheetNames[n]],s),s);case"csv":return bd(GM(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return bd(sne.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return wN(WD.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return bd(A0.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return bd(dne.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return bd(ane.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return bd(Hne(e,s),s);case"wk1":return wN(Qf.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return wN(Qf.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),wN(Bne(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),Jit(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Xit(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function eot(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function eh(e,t,s){var a={};return a.type="file",a.file=t,eot(a),Yne(e,a)}function tot(e,t,s,a,n,i,o,l){var c=Tn(s),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:s,enumerable:!1})}catch{m.__rowNum__=s}else m.__rowNum__=s;if(!o||e[s])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[s][p]:e[a[p]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;i[p]!=null&&(m[i[p]]=d);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(x==null)if(g.t=="e"&&x===null)m[i[p]]=null;else if(d!==void 0)m[i[p]]=d;else if(u&&x===null)m[i[p]]=null;else continue;else m[i[p]]=u&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?x:Zu(g,x,l);x!=null&&(h=!1)}}return{row:m,isempty:h}}function Tk(e,t){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=zs(u);break;case"number":c=zs(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(n=0);var h=Tn(c.s.r),m=[],p=[],g=0,x=0,y=Array.isArray(e),b=c.s.r,w=0,v={};y&&!e[b]&&(e[b]=[]);var S=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(S[w]||{}).hidden)switch(m[w]=en(w),s=y?e[b][w]:e[m[w]+h],a){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=d.header[w-c.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),l=o=Zu(s,null,d),x=v[o]||0,!x)v[o]=1;else{do l=o+"_"+x++;while(v[l]);v[o]=x,v[l]=1}i[w]=l}for(b=c.s.r+n;b<=c.e.r;++b)if(!(j[b]||{}).hidden){var k=tot(e,c,b,m,a,i,y,d);(k.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[g++]=k.row)}return p.length=g,p}var Bz=/"/g;function rot(e,t,s,a,n,i,o,l){for(var c=!0,d=[],u="",h=Tn(s),m=t.s.c;m<=t.e.c;++m)if(a[m]){var p=l.dense?(e[s]||[])[m]:e[a[m]+h];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(l.rawNumbers&&p.t=="n"?p.v:Zu(p,null,l));for(var g=0,x=0;g!==u.length;++g)if((x=u.charCodeAt(g))===n||x===i||x===34||l.forceQuotes){u='"'+u.replace(Bz,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(Bz,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function GM(e,t){var s=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=zs(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(m[g]||{}).hidden||(h[g]=en(g));for(var x=0,y=n.s.r;y<=n.e.r;++y)(p[y]||{}).hidden||(u=rot(e,n,y,h,o,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&s.push((x++?l:"")+u)));return delete a.dense,s.join("")}function Xne(e,t){t||(t={}),t.FS="	",t.RS=`
`;var s=GM(e,t);return s}function sot(e){var t="",s,a="";if(e==null||e["!ref"]==null)return[];var n=zs(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)o[l]=en(l);for(var u=n.s.r;u<=n.e.r;++u)for(i=Tn(u),l=n.s.c;l<=n.e.c;++l)if(t=o[l]+i,s=d?(e[u]||[])[l]:e[t],a="",s!==void 0){if(s.F!=null){if(t=s.F,!s.f)continue;a=s.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}c[c.length]=t+"="+a}return c}function Qne(e,t,s){var a=s||{},n=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?tn(a.origin):a.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+n}};if(i["!ref"]){var h=zs(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+n)}else o==-1&&(o=0,u.e.r=t.length-1+n);var m=a.header||[],p=0;t.forEach(function(x,y){yn(x).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var w=x[b],v="z",S="",j=Vr({c:l+p,r:o+y+n});d=Vw(i,j),w&&typeof w=="object"&&!(w instanceof Date)?i[j]=w:(typeof w=="number"?v="n":typeof w=="boolean"?v="b":typeof w=="string"?v="s":w instanceof Date?(v="d",a.cellDates||(v="n",w=ii(w)),S=a.dateNF||$r[14]):w===null&&a.nullError&&(v="e",w=0),d?(d.t=v,d.v=w,delete d.w,delete d.R,S&&(d.z=S)):i[j]=d={t:v,v:w},S&&(d.z=S))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var g=Tn(o);if(n)for(p=0;p<m.length;++p)i[en(p+l)+g]={t:"s",v:m[p]};return i["!ref"]=hs(u),i}function aot(e,t){return Qne(null,e,t)}function Vw(e,t,s){if(typeof t=="string"){if(Array.isArray(e)){var a=tn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Vw(e,Vr(t)):Vw(e,Vr({r:t,c:s||0}))}function not(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var s=e.SheetNames.indexOf(t);if(s>-1)return s;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function KM(){return{SheetNames:[],Sheets:{}}}function YM(e,t,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var o=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=o+n)!=-1;++n);}if(Ine(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=t,s}function iot(e,t,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=not(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function oot(e,t){return e.z=t,e}function Jne(e,t,s){return t?(e.l={Target:t},s&&(e.l.Tooltip=s)):delete e.l,e}function lot(e,t,s){return Jne(e,"#"+t,s)}function cot(e,t,s){e.c||(e.c=[]),e.c.push({t,a:s||"SheetJS"})}function dot(e,t,s,a){for(var n=typeof t!="string"?t:zs(t),i=typeof t=="string"?t:hs(t),o=n.s.r;o<=n.e.r;++o)for(var l=n.s.c;l<=n.e.c;++l){var c=Vw(e,o,l);c.t="n",c.F=i,delete c.v,o==n.s.r&&l==n.s.c&&(c.f=s,a&&(c.D=!0))}return e}var Br={encode_col:en,encode_row:Tn,encode_cell:Vr,encode_range:hs,decode_col:SM,decode_row:NM,split_cell:yXe,decode_cell:tn,decode_range:al,format_cell:Zu,sheet_add_aoa:kae,sheet_add_json:Qne,sheet_add_dom:Vne,aoa_to_sheet:xv,json_to_sheet:aot,table_to_sheet:zne,table_to_book:git,sheet_to_csv:GM,sheet_to_txt:Xne,sheet_to_json:Tk,sheet_to_html:Une,sheet_to_formulae:sot,sheet_to_row_object_array:Tk,sheet_get_cell:Vw,book_new:KM,book_append_sheet:YM,book_set_sheet_visibility:iot,cell_set_number_format:oot,cell_set_hyperlink:Jne,cell_set_internal_link:lot,cell_add_comment:cot,sheet_set_array_formula:dot,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const cs=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto table-container",style:{WebkitOverflowScrolling:"touch",maxWidth:"100%"},children:r.jsx("table",{ref:s,className:xe("w-full caption-bottom text-sm",e),...t})}));cs.displayName="Table";const ds=f.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:xe("[&_tr]:border-b",e),...t}));ds.displayName="TableHeader";const us=f.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:xe("[&_tr:last-child]:border-0",e),...t}));us.displayName="TableBody";const uot=f.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uot.displayName="TableFooter";const kt=f.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:xe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));kt.displayName="TableRow";const Ae=f.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:xe("h-12 px-4 align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const Ne=f.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableCell";const hot=f.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));hot.displayName="TableCaption";var XM="Progress",QM=100,[mot,C0t]=on(XM),[fot,pot]=mot(XM),Zne=f.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=xot,...o}=e;(n||n===0)&&!Uz(n)&&console.error(got(`${n}`,"Progress"));const l=Uz(n)?n:QM;a!==null&&!Vz(a,l)&&console.error(vot(`${a}`,"Progress"));const c=Vz(a,l)?a:null,d=_k(c)?i(c,l):void 0;return r.jsx(fot,{scope:s,value:c,max:l,children:r.jsx(Bt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_k(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":rie(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Zne.displayName=XM;var eie="ProgressIndicator",tie=f.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,n=pot(eie,s);return r.jsx(Bt.div,{"data-state":rie(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});tie.displayName=eie;function xot(e,t){return`${Math.round(e/t*100)}%`}function rie(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _k(e){return typeof e=="number"}function Uz(e){return _k(e)&&!isNaN(e)&&e>0}function Vz(e,t){return _k(e)&&!isNaN(e)&&e<=t&&e>=0}function got(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${QM}\`.`}function vot(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${QM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sie=Zne,yot=tie;const JM=f.forwardRef(({className:e,value:t,...s},a)=>r.jsx(sie,{ref:a,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(yot,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));JM.displayName=sie.displayName;function ZM({open:e,onOpenChange:t,progress:s,onCancel:a,title:n=" ",description:i="       Excel...",className:o}){const l=s.total>0?Math.round(s.current/s.total*100):0,c=s.current>0&&s.current>=s.total,d=s.total>0&&s.current<s.total,u=s.total===0;return r.jsx(ir,{open:e,onOpenChange:t,children:r.jsxs(ar,{className:xe("sm:max-w-lg",o),children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2 text-lg",children:[c?r.jsx(va,{className:"h-5 w-5 text-green-500"}):r.jsx(Je,{className:"h-5 w-5 animate-spin text-primary"}),n]}),r.jsx(pr,{children:i})]}),r.jsxs("div",{className:"py-6 space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-foreground",children:c?" ":d?" ...":"  ..."}),s.total>0?r.jsxs("span",{className:"text-muted-foreground font-semibold",dir:"ltr",children:[s.current.toLocaleString()," / ",s.total.toLocaleString()," (",l,"%)"]}):r.jsx("span",{className:"text-muted-foreground",children:" ..."})]}),r.jsx("div",{className:"relative h-6 w-full overflow-hidden rounded-full bg-secondary border border-border",children:s.total>0?r.jsxs(r.Fragment,{children:[r.jsx(JM,{value:l,className:"h-full transition-all duration-500 ease-out"}),d&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%",animation:"shimmer 2s linear infinite"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-xs font-bold text-foreground drop-shadow-sm",children:[l,"%"]})})]}):r.jsx("div",{className:"h-full w-full bg-primary/20 animate-pulse"})})]}),s.currentItem&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[c?r.jsx(va,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):r.jsx(Je,{className:"h-4 w-4 animate-spin text-primary flex-shrink-0"}),r.jsx("span",{className:"truncate",children:s.currentItem})]}),!s.currentItem&&u&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground py-4",children:[r.jsx(sK,{className:"h-5 w-5 text-primary animate-pulse"}),r.jsx("span",{children:"   Excel..."})]}),c&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 animate-in fade-in zoom-in duration-300 pt-4",children:[r.jsx(va,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"  !"})]}),a&&!c&&r.jsx("div",{className:"flex justify-end pt-2 border-t mt-4",children:r.jsx("button",{onClick:()=>a(),className:"px-4 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors font-medium",children:" "})})]})]})})}var KD=["Enter"," "],bot=["ArrowDown","PageUp","Home"],aie=["ArrowUp","PageDown","End"],wot=[...bot,...aie],jot={ltr:[...KD,"ArrowRight"],rtl:[...KD,"ArrowLeft"]},Not={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hj="Menu",[zw,Sot,kot]=R0(Hj),[Kp,eE]=on(Hj,[kot,Fm,J0]),tE=Fm(),nie=J0(),[Cot,Yp]=Kp(Hj),[Aot,qj]=Kp(Hj),iie=e=>{const{__scopeMenu:t,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=tE(t),[c,d]=f.useState(null),u=f.useRef(!1),h=Qa(i),m=zm(n);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),r.jsx(TI,{...l,children:r.jsx(Cot,{scope:t,open:s,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(Aot,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:a})})})};iie.displayName=Hj;var Eot="MenuAnchor",eF=f.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e,n=tE(s);return r.jsx(hj,{...n,...a,ref:t})});eF.displayName=Eot;var tF="MenuPortal",[Pot,oie]=Kp(tF,{forceMount:void 0}),lie=e=>{const{__scopeMenu:t,forceMount:s,children:a,container:n}=e,i=Yp(tF,t);return r.jsx(Pot,{scope:t,forceMount:s,children:r.jsx(qn,{present:s||i.open,children:r.jsx(M0,{asChild:!0,container:n,children:a})})})};lie.displayName=tF;var dc="MenuContent",[Tot,rF]=Kp(dc),cie=f.forwardRef((e,t)=>{const s=oie(dc,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Yp(dc,e.__scopeMenu),o=qj(dc,e.__scopeMenu);return r.jsx(zw.Provider,{scope:e.__scopeMenu,children:r.jsx(qn,{present:a||i.open,children:r.jsx(zw.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(_ot,{...n,ref:t}):r.jsx(Dot,{...n,ref:t})})})})}),_ot=f.forwardRef((e,t)=>{const s=Yp(dc,e.__scopeMenu),a=f.useRef(null),n=Pr(t,a);return f.useEffect(()=>{const i=a.current;if(i)return MC(i)},[]),r.jsx(sF,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:bt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Dot=f.forwardRef((e,t)=>{const s=Yp(dc,e.__scopeMenu);return r.jsx(sF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Oot=ym("MenuContent.ScrollLock"),sF=f.forwardRef((e,t)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=e,y=Yp(dc,s),b=qj(dc,s),w=tE(s),v=nie(s),S=Sot(s),[j,k]=f.useState(null),N=f.useRef(null),C=Pr(t,N,y.onContentChange),A=f.useRef(0),E=f.useRef(""),D=f.useRef(0),T=f.useRef(null),P=f.useRef("right"),_=f.useRef(0),O=g?bj:f.Fragment,M=g?{as:Oot,allowPinchZoom:!0}:void 0,I=L=>{var z,ie;const K=E.current+L,H=S().filter(re=>!re.disabled),F=document.activeElement,G=(z=H.find(re=>re.ref.current===F))==null?void 0:z.textValue,U=H.map(re=>re.textValue),W=Hot(U,K,G),J=(ie=H.find(re=>re.textValue===W))==null?void 0:ie.ref.current;(function re(q){E.current=q,window.clearTimeout(A.current),q!==""&&(A.current=window.setTimeout(()=>re(""),1e3))})(K),J&&setTimeout(()=>J.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),IC();const R=f.useCallback(L=>{var H,F;return P.current===((H=T.current)==null?void 0:H.side)&&Got(L,(F=T.current)==null?void 0:F.area)},[]);return r.jsx(Tot,{scope:s,searchRef:E,onItemEnter:f.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:f.useCallback(L=>{var K;R(L)||((K=N.current)==null||K.focus(),k(null))},[R]),onTriggerLeave:f.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(L=>{T.current=L},[]),children:r.jsx(O,{...M,children:r.jsx(yj,{asChild:!0,trapped:n,onMountAutoFocus:bt(i,L=>{var K;L.preventDefault(),(K=N.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Op,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:r.jsx(M3,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:bt(c,L=>{b.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(fC,{role:"menu","aria-orientation":"vertical","data-state":kie(y.open),"data-radix-menu-content":"",dir:b.dir,...w,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:bt(x.onKeyDown,L=>{const H=L.target.closest("[data-radix-menu-content]")===L.currentTarget,F=L.ctrlKey||L.altKey||L.metaKey,G=L.key.length===1;H&&(L.key==="Tab"&&L.preventDefault(),!F&&G&&I(L.key));const U=N.current;if(L.target!==U||!wot.includes(L.key))return;L.preventDefault();const J=S().filter(z=>!z.disabled).map(z=>z.ref.current);aie.includes(L.key)&&J.reverse(),zot(J)}),onBlur:bt(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:bt(e.onPointerMove,Ww(L=>{const K=L.target,H=_.current!==L.clientX;if(L.currentTarget.contains(K)&&H){const F=L.clientX>_.current?"right":"left";P.current=F,_.current=L.clientX}}))})})})})})})});cie.displayName=dc;var Iot="MenuGroup",aF=f.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(Bt.div,{role:"group",...a,ref:t})});aF.displayName=Iot;var Rot="MenuLabel",die=f.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(Bt.div,{...a,ref:t})});die.displayName=Rot;var Dk="MenuItem",zz="menu.itemSelect",rE=f.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:a,...n}=e,i=f.useRef(null),o=qj(Dk,e.__scopeMenu),l=rF(Dk,e.__scopeMenu),c=Pr(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!s&&h){const m=new CustomEvent(zz,{bubbles:!0,cancelable:!0});h.addEventListener(zz,p=>a==null?void 0:a(p),{once:!0}),aI(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(uie,{...n,ref:c,disabled:s,onClick:bt(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:bt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:bt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||KD.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});rE.displayName=Dk;var uie=f.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=e,o=rF(Dk,s),l=nie(s),c=f.useRef(null),d=Pr(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),r.jsx(zw.ItemSlot,{scope:s,disabled:a,textValue:n??m,children:r.jsx(F3,{asChild:!0,...l,focusable:!a,children:r.jsx(Bt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:bt(e.onPointerMove,Ww(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:bt(e.onPointerLeave,Ww(g=>o.onItemLeave(g))),onFocus:bt(e.onFocus,()=>h(!0)),onBlur:bt(e.onBlur,()=>h(!1))})})})}),Mot="MenuCheckboxItem",hie=f.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:a,...n}=e;return r.jsx(gie,{scope:e.__scopeMenu,checked:s,children:r.jsx(rE,{role:"menuitemcheckbox","aria-checked":Ok(s)?"mixed":s,...n,ref:t,"data-state":iF(s),onSelect:bt(n.onSelect,()=>a==null?void 0:a(Ok(s)?!0:!s),{checkForDefaultPrevented:!1})})})});hie.displayName=Mot;var mie="MenuRadioGroup",[Fot,Lot]=Kp(mie,{value:void 0,onValueChange:()=>{}}),fie=f.forwardRef((e,t)=>{const{value:s,onValueChange:a,...n}=e,i=Qa(a);return r.jsx(Fot,{scope:e.__scopeMenu,value:s,onValueChange:i,children:r.jsx(aF,{...n,ref:t})})});fie.displayName=mie;var pie="MenuRadioItem",xie=f.forwardRef((e,t)=>{const{value:s,...a}=e,n=Lot(pie,e.__scopeMenu),i=s===n.value;return r.jsx(gie,{scope:e.__scopeMenu,checked:i,children:r.jsx(rE,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":iF(i),onSelect:bt(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,s)},{checkForDefaultPrevented:!1})})})});xie.displayName=pie;var nF="MenuItemIndicator",[gie,$ot]=Kp(nF,{checked:!1}),vie=f.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:a,...n}=e,i=$ot(nF,s);return r.jsx(qn,{present:a||Ok(i.checked)||i.checked===!0,children:r.jsx(Bt.span,{...n,ref:t,"data-state":iF(i.checked)})})});vie.displayName=nF;var Bot="MenuSeparator",yie=f.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e;return r.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});yie.displayName=Bot;var Uot="MenuArrow",bie=f.forwardRef((e,t)=>{const{__scopeMenu:s,...a}=e,n=tE(s);return r.jsx(pC,{...n,...a,ref:t})});bie.displayName=Uot;var Vot="MenuSub",[A0t,wie]=Kp(Vot),Ny="MenuSubTrigger",jie=f.forwardRef((e,t)=>{const s=Yp(Ny,e.__scopeMenu),a=qj(Ny,e.__scopeMenu),n=wie(Ny,e.__scopeMenu),i=rF(Ny,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(eF,{asChild:!0,...d,children:r.jsx(uie,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":kie(s.open),...e,ref:oC(t,n.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:bt(e.onPointerMove,Ww(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:bt(e.onPointerLeave,Ww(h=>{var p,g;u();const m=(p=s.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=s.content)==null?void 0:g.dataset.side,y=x==="right",b=y?-5:5,w=m[y?"left":"right"],v=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:w,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:bt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||jot[a.dir].includes(h.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),h.preventDefault())})})})});jie.displayName=Ny;var Nie="MenuSubContent",Sie=f.forwardRef((e,t)=>{const s=oie(dc,e.__scopeMenu),{forceMount:a=s.forceMount,...n}=e,i=Yp(dc,e.__scopeMenu),o=qj(dc,e.__scopeMenu),l=wie(Nie,e.__scopeMenu),c=f.useRef(null),d=Pr(t,c);return r.jsx(zw.Provider,{scope:e.__scopeMenu,children:r.jsx(qn,{present:a||i.open,children:r.jsx(zw.Slot,{scope:e.__scopeMenu,children:r.jsx(sF,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:bt(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:bt(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:bt(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=Not[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});Sie.displayName=Nie;function kie(e){return e?"open":"closed"}function Ok(e){return e==="indeterminate"}function iF(e){return Ok(e)?"indeterminate":e?"checked":"unchecked"}function zot(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function Wot(e,t){return e.map((s,a)=>e[(t+a)%e.length])}function Hot(e,t,s){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=Wot(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function qot(e,t){const{x:s,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>a!=m>a&&s<(h-d)*(a-u)/(m-u)+d&&(n=!n)}return n}function Got(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return qot(s,t)}function Ww(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cie=iie,Aie=eF,Eie=lie,Pie=cie,Tie=aF,_ie=die,Die=rE,Oie=hie,Iie=fie,Rie=xie,Mie=vie,Fie=yie,Lie=bie,$ie=jie,Bie=Sie,sE="DropdownMenu",[Kot,E0t]=on(sE,[eE]),_o=eE(),[Yot,Uie]=Kot(sE),Vie=e=>{const{__scopeDropdownMenu:t,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=_o(t),d=f.useRef(null),[u,h]=ko({prop:n,defaultProp:i??!1,onChange:o,caller:sE});return r.jsx(Yot,{scope:t,triggerId:Sl(),triggerRef:d,contentId:Sl(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:r.jsx(Cie,{...c,open:u,onOpenChange:h,dir:a,modal:l,children:s})})};Vie.displayName=sE;var zie="DropdownMenuTrigger",Wie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=e,i=Uie(zie,s),o=_o(s);return r.jsx(Aie,{asChild:!0,...o,children:r.jsx(Bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:oC(t,i.triggerRef),onPointerDown:bt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:bt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Wie.displayName=zie;var Xot="DropdownMenuPortal",Hie=e=>{const{__scopeDropdownMenu:t,...s}=e,a=_o(t);return r.jsx(Eie,{...a,...s})};Hie.displayName=Xot;var qie="DropdownMenuContent",Gie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=Uie(qie,s),i=_o(s),o=f.useRef(!1);return r.jsx(Pie,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:t,onCloseAutoFocus:bt(e.onCloseAutoFocus,l=>{var c;o.current||(c=n.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:bt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!n.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gie.displayName=qie;var Qot="DropdownMenuGroup",Jot=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Tie,{...n,...a,ref:t})});Jot.displayName=Qot;var Zot="DropdownMenuLabel",Kie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(_ie,{...n,...a,ref:t})});Kie.displayName=Zot;var elt="DropdownMenuItem",Yie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Die,{...n,...a,ref:t})});Yie.displayName=elt;var tlt="DropdownMenuCheckboxItem",Xie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Oie,{...n,...a,ref:t})});Xie.displayName=tlt;var rlt="DropdownMenuRadioGroup",slt=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Iie,{...n,...a,ref:t})});slt.displayName=rlt;var alt="DropdownMenuRadioItem",Qie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Rie,{...n,...a,ref:t})});Qie.displayName=alt;var nlt="DropdownMenuItemIndicator",Jie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Mie,{...n,...a,ref:t})});Jie.displayName=nlt;var ilt="DropdownMenuSeparator",Zie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Fie,{...n,...a,ref:t})});Zie.displayName=ilt;var olt="DropdownMenuArrow",llt=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Lie,{...n,...a,ref:t})});llt.displayName=olt;var clt="DropdownMenuSubTrigger",eoe=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx($ie,{...n,...a,ref:t})});eoe.displayName=clt;var dlt="DropdownMenuSubContent",toe=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...a}=e,n=_o(s);return r.jsx(Bie,{...n,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});toe.displayName=dlt;var ult=Vie,hlt=Wie,mlt=Hie,roe=Gie,soe=Kie,aoe=Yie,noe=Xie,ioe=Qie,ooe=Jie,loe=Zie,coe=eoe,doe=toe;const aE=ult,nE=hlt,flt=f.forwardRef(({className:e,inset:t,children:s,...a},n)=>r.jsxs(coe,{ref:n,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...a,children:[s,r.jsx(Ms,{className:"ml-auto h-4 w-4"})]}));flt.displayName=coe.displayName;const plt=f.forwardRef(({className:e,...t},s)=>r.jsx(doe,{ref:s,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));plt.displayName=doe.displayName;const Gj=f.forwardRef(({className:e,sideOffset:t=4,...s},a)=>r.jsx(mlt,{children:r.jsx(roe,{ref:a,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Gj.displayName=roe.displayName;const jl=f.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(aoe,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...s}));jl.displayName=aoe.displayName;const xlt=f.forwardRef(({className:e,children:t,checked:s,...a},n)=>r.jsxs(noe,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:s,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(ooe,{children:r.jsx(Za,{className:"h-4 w-4"})})}),t]}));xlt.displayName=noe.displayName;const glt=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(ioe,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(ooe,{children:r.jsx(cI,{className:"h-2 w-2 fill-current"})})}),t]}));glt.displayName=ioe.displayName;const oF=f.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(soe,{ref:a,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));oF.displayName=soe.displayName;const P0=f.forwardRef(({className:e,...t},s)=>r.jsx(loe,{ref:s,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));P0.displayName=loe.displayName;function lF(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState({limit:1,currentCount:0}),{user:u,refreshUser:h,loginWithTokens:m}=$s(),{toast:p}=Lt();ts(),f.useEffect(()=>{g(),x()},[]);const g=async()=>{try{a(!0);const v=await eo.getUserMarkets();t(v||[])}catch(v){console.error("Failed to load markets:",v),t([])}finally{a(!1)}},x=async()=>{try{const v=await eo.canCreateMarket();l(v.allowed),d({limit:v.limit,currentCount:v.currentCount})}catch(v){console.error("Failed to check market limit:",v),l(!1)}},y=async v=>{if(!n)try{i(!0);const S=await eo.switchStore(v);if(S.accessToken&&S.refreshToken)await m(S.accessToken,S.refreshToken),p({title:"  ",description:`   ${S.tenantName||""}`}),window.location.reload();else throw new Error("Failed to obtain new session tokens")}catch(S){p({title:" ",description:S.message||"    ",variant:"destructive"})}finally{i(!1)}};return!s&&e.length===0?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs(we,{className:"max-w-2xl w-full",children:[r.jsxs(st,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(xs,{className:"h-8 w-8 text-primary"})}),r.jsx(it,{className:"text-2xl",children:"    !"}),r.jsx(Kt,{className:"text-base",children:"    .     "})]}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs(Di,{children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsx(S0,{children:"  !"}),r.jsx(Oi,{children:"         "})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold",children:"   :"}),r.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"    "})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"     "})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"   "})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"  "})]})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:r.jsx(tt,{to:"/setup",className:"flex-1",children:r.jsxs(V,{size:"lg",className:"w-full",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}):!(e.find(v=>v.isActive)&&(u==null?void 0:u.tenantId)&&u.tenantId!=="default"&&u.tenantId!=="system")&&e.length>0?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs(we,{className:"max-w-2xl w-full",children:[r.jsxs(st,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(xs,{className:"h-8 w-8 text-primary"})}),r.jsx(it,{className:"text-2xl",children:" "}),r.jsxs(Kt,{className:"text-base",children:[" ",e.length," .      "]})]}),r.jsxs(Se,{className:"space-y-6",children:[r.jsx(La,{className:"h-[300px] rounded-md border p-4",children:r.jsx("div",{className:"space-y-2",children:e.map(v=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors hover:bg-accent ${v.isActive?"border-primary bg-primary/5":"border-border"}`,onClick:()=>y(v.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(xs,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:v.name}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.subdomain,".saeaa.com"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:v.isActive?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:"default",className:"bg-primary hover:bg-primary",children:""}),r.jsx(Za,{className:"h-5 w-5 text-primary"})]}):r.jsx(V,{size:"sm",variant:"outline",disabled:n,onClick:S=>{S.stopPropagation(),y(v.id)},children:n?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):""})})]},v.id))})}),o&&r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",c.currentCount," / ",c.limit]})}),r.jsx(tt,{to:"/setup",children:r.jsxs(V,{className:"w-full",variant:"outline",children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"  "]})})]}),!o&&r.jsxs(Di,{children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsx(S0,{children:"   "}),r.jsxs(Oi,{children:[" ",c.currentCount,"  ",c.limit," .       ."]})]})]})]})}):null}const cF=({className:e,...t})=>r.jsx("nav",{role:"navigation","aria-label":"pagination",className:xe("mx-auto flex w-full justify-center",e),...t});cF.displayName="Pagination";const dF=f.forwardRef(({className:e,...t},s)=>r.jsx("ul",{ref:s,className:xe("flex flex-row items-center gap-1",e),...t}));dF.displayName="PaginationContent";const Zf=f.forwardRef(({className:e,...t},s)=>r.jsx("li",{ref:s,className:xe("",e),...t}));Zf.displayName="PaginationItem";const Kj=({className:e,isActive:t,size:s="icon",...a})=>r.jsx("a",{"aria-current":t?"page":void 0,className:xe(DC({variant:t?"outline":"ghost",size:s}),e),...a});Kj.displayName="PaginationLink";const uoe=({className:e,children:t,...s})=>r.jsxs(Kj,{"aria-label":"Go to previous page",size:"default",className:xe("gap-1 pl-2.5",e),...s,children:[r.jsx(Qo,{className:"h-4 w-4"}),r.jsx("span",{children:t||"Previous"})]});uoe.displayName="PaginationPrevious";const hoe=({className:e,children:t,...s})=>r.jsxs(Kj,{"aria-label":"Go to next page",size:"default",className:xe("gap-1 pr-2.5",e),...s,children:[r.jsx("span",{children:t||"Next"}),r.jsx(Ms,{className:"h-4 w-4"})]});hoe.displayName="PaginationNext";const moe=({className:e,...t})=>r.jsxs("span",{"aria-hidden":!0,className:xe("flex h-9 w-9 items-center justify-center",e),...t,children:[r.jsx(Mfe,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"More pages"})]});moe.displayName="PaginationEllipsis";function $u({currentPage:e,totalPages:t,totalItems:s,itemsPerPage:a,onPageChange:n,onItemsPerPageChange:i,itemsPerPageOptions:o=[10,20,50,100],showItemsPerPage:l=!0,className:c=""}){const{t:d,i18n:u}=It(),h=u.language==="ar",m=s===0?0:(e-1)*a+1,p=Math.min(e*a,s),g=()=>{const x=[];if(t<=7)for(let b=1;b<=t;b++)x.push(b);else if(x.push(1),e<=3){for(let b=2;b<=4;b++)x.push(b);x.push("ellipsis"),x.push(t)}else if(e>=t-2){x.push("ellipsis");for(let b=t-3;b<=t;b++)x.push(b)}else{x.push("ellipsis");for(let b=e-1;b<=e+1;b++)x.push(b);x.push("ellipsis"),x.push(t)}return x};return t<=1&&!l?null:r.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-4 ${c}`,dir:h?"rtl":"ltr",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-4 sm:gap-6",children:[l&&i&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:d("common.itemsPerPage")}),r.jsxs(mr,{value:a.toString(),onValueChange:x=>{i(Number(x)),n(1)},children:[r.jsx(dr,{className:"h-8 w-[70px]",children:r.jsx(xr,{})}),r.jsx(ur,{children:o.map(x=>r.jsx(_e,{value:x.toString(),children:x},x))})]})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:d("common.showingResults",{start:m,end:p,total:s})})]}),t>1&&r.jsx(cF,{children:r.jsxs(dF,{children:[r.jsx(Zf,{children:r.jsx(uoe,{onClick:()=>n(Math.max(1,e-1)),className:e===1?"pointer-events-none opacity-50":"cursor-pointer",children:d("common.previous")})}),g().map((x,y)=>r.jsx(Zf,{children:x==="ellipsis"?r.jsx(moe,{}):r.jsx(Kj,{onClick:()=>n(x),isActive:e===x,className:"cursor-pointer",children:x})},y)),r.jsx(Zf,{children:r.jsx(hoe,{onClick:()=>n(Math.min(t,e+1)),className:e===t?"pointer-events-none opacity-50":"cursor-pointer",children:d("common.next")})})]})})]})}var iE="Switch",[vlt,P0t]=on(iE),[ylt,blt]=vlt(iE),foe=f.forwardRef((e,t)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),g=Pr(t,v=>p(v)),x=f.useRef(!1),y=m?u||!!m.closest("form"):!0,[b,w]=ko({prop:n,defaultProp:i??!1,onChange:d,caller:iE});return r.jsxs(ylt,{scope:s,checked:b,disabled:l,children:[r.jsx(Bt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":voe(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:bt(e.onClick,v=>{w(S=>!S),y&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),y&&r.jsx(goe,{control:m,bubbles:!x.current,name:a,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});foe.displayName=iE;var poe="SwitchThumb",xoe=f.forwardRef((e,t)=>{const{__scopeSwitch:s,...a}=e,n=blt(poe,s);return r.jsx(Bt.span,{"data-state":voe(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});xoe.displayName=poe;var wlt="SwitchBubbleInput",goe=f.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=Pr(o,i),c=Mj(s),d=uj(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&p){const g=new Event("click",{bubbles:a});p.call(u,s),u.dispatchEvent(g)}},[c,s,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});goe.displayName=wlt;function voe(e){return e?"checked":"unchecked"}var yoe=foe,jlt=xoe;const gr=f.forwardRef(({className:e,...t},s)=>r.jsx(yoe,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:s,children:r.jsx(jlt,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));gr.displayName=yoe.displayName;const Wz={async getImages(e){const t=new URLSearchParams;e.folder!==void 0?t.append("folder",e.folder):e.folders&&e.folders.length>0&&t.append("folders",e.folders.join(",")),e.resource_type&&t.append("resource_type",e.resource_type),e.limit&&t.append("limit",e.limit.toString()),e.next_cursor&&t.append("next_cursor",e.next_cursor),e.next_cursors&&t.append("next_cursors",encodeURIComponent(JSON.stringify(e.next_cursors))),e.sort&&t.append("sort",e.sort),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(","));const s=`${Q.coreUrl}/media/images?${t.toString()}`;return Q.fetch(s,{requireAuth:!0})},async listFolders(e){const t=new URLSearchParams;e&&t.append("root",e);const s=`${Q.coreUrl}/media/folders${t.toString()?`?${t.toString()}`:""}`;return Q.fetch(s,{requireAuth:!0})},async getImagesFromFolder(e,t){return this.getImages({folder:e,next_cursor:t==null?void 0:t.nextCursor,limit:t==null?void 0:t.limit,sort:t==null?void 0:t.sort})},async getImagesFromFolders(e,t){return this.getImages({folders:e,next_cursors:t==null?void 0:t.nextCursors,limit:t==null?void 0:t.limit,sort:t==null?void 0:t.sort})}};function ob({open:e,onOpenChange:t,onSelect:s,multiple:a=!0}){const{t:n}=It(),{toast:i}=Lt(),[o,l]=f.useState([]),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(new Set),[g,x]=f.useState(0),[y,b]=f.useState(!1),[w,v]=f.useState(!1),[S,j]=f.useState(),[k,N]=f.useState(!1),[C,A]=f.useState(""),E=f.useRef(!1),D=f.useRef(!1),T=f.useRef(!1),P=f.useRef(null),_=f.useCallback(async()=>{if(!E.current){E.current=!0,v(!0);try{const K=await Wz.listFolders();l(K.folders||[])}catch(K){const H=K instanceof Error?K.message:n("storefront.cloudinary.toasts.loadFoldersError");console.error(" Failed to load folders:",K),i({title:n("storefront.cloudinary.toasts.loadFoldersError"),description:H,variant:"destructive"})}finally{v(!1),E.current=!1}}},[i,n]),O=f.useCallback(async(K,H)=>{if(!(D.current&&!H)){D.current=!0,b(!0);try{const F=await Wz.getImagesFromFolder(K,{limit:50,nextCursor:H,sort:"desc"});h(H?G=>[...G,...F.data]:F.data),j(F.next_cursor),N(!!F.next_cursor)}catch(F){const G=F instanceof Error?F.message:n("storefront.cloudinary.toasts.loadImagesError");console.error(" Failed to load images:",F),i({title:n("storefront.cloudinary.toasts.loadImagesError"),description:G,variant:"destructive"})}finally{b(!1),D.current=!1}}},[i,n]);f.useEffect(()=>{e&&!T.current&&(d(""),h([]),p(new Set),x(0),j(void 0),A(""),P.current=null,_()),T.current=e},[e,_]),f.useEffect(()=>{e&&c!==null&&c!==P.current&&(P.current=c,O(c))},[e,c,O]);const M=()=>{(c===""||c)&&S&&!y&&O(c,S)},I=K=>{p(H=>{const F=new Set(H);F.has(K)?F.delete(K):(!a&&F.size>0&&F.clear(),F.add(K));const G=F.size;if(x(G),console.log(" [CloudinaryImagePicker] Selection changed:",Array.from(F),"Count:",G),!a&&F.size>0){const U=Array.from(F);console.log(" [CloudinaryImagePicker] Auto-selecting in single mode:",U),setTimeout(()=>{s(U),p(new Set),x(0),t(!1)},100)}return F})},R=()=>{try{console.log(" [CloudinaryImagePicker] handleSelect called");const K=Array.from(m);if(console.log(" [CloudinaryImagePicker] Selected URLs:",K),K.length===0){console.warn(" [CloudinaryImagePicker] No images selected"),i({title:n("storefront.cloudinary.toasts.noSelection"),description:n("storefront.cloudinary.toasts.noSelectionDesc"),variant:"destructive"});return}console.log(" [CloudinaryImagePicker] Calling onSelect prop"),s(K),console.log(" [CloudinaryImagePicker] onSelect returned"),p(new Set),t(!1)}catch(K){console.error(" [CloudinaryImagePicker] Error in handleSelect:",K),i({title:n("common.error"),description:n("storefront.cloudinary.toasts.selectError"),variant:"destructive"})}},L=C?u.filter(K=>K.public_id.toLowerCase().includes(C.toLowerCase())):u;return r.jsx(ir,{open:e,onOpenChange:K=>{t(K)},children:r.jsxs(ar,{className:"max-w-6xl max-h-[90vh]",style:{zIndex:9999},children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Mi,{className:"h-5 w-5"}),n("storefront.cloudinary.title")]}),r.jsx(pr,{children:n("storefront.cloudinary.desc",{selectionText:n(a?"storefront.cloudinary.multiple":"storefront.cloudinary.single")})})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-4",style:{height:"600px",maxHeight:"calc(90vh - 200px)"},children:[r.jsx("div",{className:"col-span-3 border-r pr-4 flex flex-col",children:r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[r.jsx(mf,{className:"h-4 w-4"}),n("storefront.cloudinary.folders")]}),w?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Je,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):r.jsx(La,{className:"flex-1 min-h-0",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{onClick:()=>{d(""),h([]),j(void 0),p(new Set),x(0)},className:`w-full text-right px-3 py-2 rounded-md text-sm transition-colors flex items-center justify-between ${c===""?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[r.jsx("span",{className:"truncate",children:n("storefront.cloudinary.rootFolder","Root")}),c===""&&r.jsx(Ms,{className:"h-4 w-4"})]}),o.map(K=>r.jsxs("button",{onClick:()=>{d(K),h([]),j(void 0),p(new Set),x(0)},className:`w-full text-right px-3 py-2 rounded-md text-sm transition-colors flex items-center justify-between ${c===K?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[r.jsx("span",{className:"truncate",children:K}),c===K&&r.jsx(Ms,{className:"h-4 w-4"})]},K))]})})]})}),r.jsxs("div",{className:"col-span-9 flex flex-col min-h-0",children:[r.jsx("div",{className:"mb-4 flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:n("storefront.cloudinary.search"),value:C,onChange:K=>A(K.target.value),className:"pr-10"})]})}),g>0&&r.jsx("div",{className:"mb-4 flex-shrink-0",children:r.jsx(et,{variant:"secondary",children:a?n("storefront.cloudinary.selectedCount",{count:g}):n("storefront.cloudinary.selectedCountSingle")})}),r.jsx(La,{className:"flex-1 min-h-0",children:y&&u.length===0?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):L.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[r.jsx(Mi,{className:"h-12 w-12 mb-4 opacity-50"}),r.jsx("p",{children:n("storefront.cloudinary.noImages","No images found in this folder. Upload images to populate your library.")})]}):r.jsx("div",{className:"grid grid-cols-4 gap-4 pb-4",children:L.map((K,H)=>{const F=m.has(K.secure_url);return r.jsx("div",{className:`relative group cursor-pointer rounded-lg border-2 overflow-hidden transition-all aspect-square ${F?"border-primary ring-2 ring-primary ring-offset-2":"border-border hover:border-primary/50"}`,onClick:()=>I(K.secure_url),children:r.jsxs("div",{className:"relative w-full h-full bg-muted",children:[r.jsx("img",{src:K.secure_url,alt:K.public_id,className:"w-full h-full object-cover",loading:"lazy",onError:G=>{console.error("Failed to load image:",K.secure_url);const U=G.target;U.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23ddd" width="200" height="200"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="14" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EImage%3C/text%3E%3C/svg%3E'}}),F&&r.jsx("div",{className:"absolute inset-0 bg-primary/30 flex items-center justify-center backdrop-blur-sm",children:r.jsx("div",{className:"bg-primary text-primary-foreground rounded-full p-2 shadow-lg",children:r.jsx(jr,{className:"h-5 w-5"})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent text-white text-xs p-2",children:r.jsx("p",{className:"truncate font-medium",children:K.public_id.split("/").pop()})}),!F&&r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]})},`${K.public_id}-${H}`)})})}),k&&r.jsx("div",{className:"mt-4 flex justify-center flex-shrink-0",children:r.jsx(V,{variant:"outline",onClick:M,disabled:y,className:"w-full",children:y?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),n("storefront.cloudinary.loading")]}):n("storefront.cloudinary.loadMore")})})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:n("storefront.cloudinary.cancel")}),r.jsxs(V,{onClick:R,disabled:g===0,className:g>0?"":"opacity-50 cursor-not-allowed",children:[n("storefront.cloudinary.save")," ",g>0&&`(${g})`]})]})]})})}function Hz({value:e,onChange:t,placeholder:s,className:a,dir:n="ltr"}){const i=f.useRef(null),[o,l]=f.useState({bold:!1,italic:!1,underline:!1,strikeThrough:!1,justifyLeft:!1,justifyCenter:!1,justifyRight:!1});f.useEffect(()=>{i.current&&i.current.innerHTML!==e&&(i.current.innerHTML=e||"")},[e]);const c=()=>{l({bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),underline:document.queryCommandState("underline"),strikeThrough:document.queryCommandState("strikeThrough"),justifyLeft:document.queryCommandState("justifyLeft"),justifyCenter:document.queryCommandState("justifyCenter"),justifyRight:document.queryCommandState("justifyRight")})},d=(m,p)=>{document.execCommand(m,!1,p),c(),i.current&&t(i.current.innerHTML)},u=()=>{i.current&&t(i.current.innerHTML)},h=({onClick:m,icon:p,label:g,title:x,isActive:y})=>r.jsx(V,{type:"button",variant:"ghost",size:"icon",className:xe("h-8 w-8 text-white/80 hover:bg-white/10 hover:text-white transition-colors",y&&"bg-white/20 text-white"),onClick:m,title:x,children:p?r.jsx(p,{className:"h-4 w-4"}):g});return r.jsxs("div",{className:xe("border rounded-md overflow-hidden bg-background flex flex-col",a),children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-1.5 bg-[#0f172a] border-b border-slate-800",children:[r.jsx(h,{onClick:()=>d("undo"),icon:Zfe,title:"Undo"}),r.jsx(h,{onClick:()=>d("redo"),icon:Xfe,title:"Redo"}),r.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),r.jsx(h,{onClick:()=>d("insertImage",prompt("Enter image URL")||""),icon:Mi,title:"Insert Image"}),r.jsx(h,{onClick:()=>d("createLink",prompt("Enter URL")||""),icon:Wf,title:"Insert Link"}),r.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),r.jsx(h,{onClick:()=>d("justifyLeft"),icon:eK,title:"Align Left",isActive:o.justifyLeft}),r.jsx(h,{onClick:()=>d("justifyCenter"),icon:ZG,title:"Align Center",isActive:o.justifyCenter}),r.jsx(h,{onClick:()=>d("justifyRight"),icon:tK,title:"Align Right",isActive:o.justifyRight}),r.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),r.jsx(h,{onClick:()=>d("insertOrderedList"),icon:zfe,title:"Ordered List"}),r.jsx(h,{onClick:()=>d("insertUnorderedList"),icon:oj,title:"Unordered List"}),r.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),r.jsx(h,{onClick:()=>d("strikeThrough"),label:r.jsx("span",{className:"line-through font-serif text-lg",children:"S"}),title:"Strikethrough",isActive:o.strikeThrough}),r.jsx(h,{onClick:()=>d("underline"),label:r.jsx("span",{className:"underline font-serif text-lg",children:"U"}),title:"Underline",isActive:o.underline}),r.jsx(h,{onClick:()=>d("italic"),label:r.jsx("span",{className:"italic font-serif text-lg",children:"I"}),title:"Italic",isActive:o.italic}),r.jsx(h,{onClick:()=>d("bold"),label:r.jsx("span",{className:"font-bold font-serif text-lg",children:"B"}),title:"Bold",isActive:o.bold})]}),r.jsx("div",{ref:i,contentEditable:!0,onInput:u,onMouseUp:c,onKeyUp:c,className:xe("min-h-[200px] p-4 focus:outline-none prose prose-sm max-w-none dark:prose-invert relative overflow-y-auto",n==="rtl"?"text-right":"text-left",!e&&"before:content-[attr(data-placeholder)] before:absolute before:text-muted-foreground before:pointer-events-none"),dir:n,"data-placeholder":s})]})}function YD({initialData:e,initialImages:t=[],categories:s,brands:a,units:n,suppliers:i,onSave:o,onCancel:l,isEditing:c=!1}){const{t:d}=It(),{toast:u}=Lt(),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(!1),[b,w]=f.useState(t),[v,S]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:"",compareAtPrice:"",cost:"",sku:"",barcode:"",stock:"",lowStockThreshold:"10",categoryId:"",status:"ACTIVE",featured:!1,tags:"",metaTitle:"",metaDescription:"",weight:"",dimensions:"",unitId:"",productCode:"",odooProductId:"",path:"",categoryIds:[],brandId:"",supplierIds:[],suppliers:[],minQuantity:"",maxQuantity:"",enableSlider:!1,...e});f.useEffect(()=>{if(v.suppliers&&v.suppliers.length>0){const C=v.suppliers.map(A=>parseFloat(A.price)).filter(A=>!isNaN(A)&&A>0);if(C.length>0){const A=Math.min(...C);S(E=>({...E,cost:A.toFixed(2)}))}}},[v.suppliers]);const j=f.useRef(v.name);f.useEffect(()=>{if(v.name!==j.current){const C=v.name!==j.current,A=!v.path||v.path===j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"")||v.path.endsWith("-")&&!v.path.includes(j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,""));if(C&&A){const E=v.name.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""),D=v.path||"";if(D.includes("-")&&!D.startsWith(j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,""))){const P=D.lastIndexOf("-"),_=D.substring(0,P+1);S(O=>({...O,path:_+E}))}else S(P=>({...P,path:E}))}j.current=v.name}},[v.name,v.path]);const k=async C=>{const A=C.target.files;if(!(!A||A.length===0)){for(const E of Array.from(A)){const{isValid:D,reason:T}=await cj(E);if(!D){u({title:"  ",description:`   ${E.name}: ${T}`,variant:"destructive"});return}}g(!0);try{const E=new FormData;for(let T=0;T<A.length;T++)E.append("images",A[T]);const D=await fe.post("/upload/product-images",E,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(D.images&&D.images.length>0){const T=D.images.map(P=>P.secureUrl||P.url||"");w(P=>[...P,...T]),u({title:"  ",description:"   "})}}catch(E){console.error("Failed to upload images:",E),u({title:"  ",description:"    .    .",variant:"destructive"})}finally{g(!1)}}},N=async()=>{var C,A;if(!((C=v.name)!=null&&C.trim())){u({title:" ",description:"  ",variant:"destructive"});return}if(!((A=v.price)!=null&&A.trim())){u({title:" ",description:"  ",variant:"destructive"});return}if(isNaN(parseFloat(v.price))||parseFloat(v.price)<0){u({title:"  ",description:"     ",variant:"destructive"});return}m(!0);try{await o(v,b)}catch(E){console.error(E)}finally{m(!1)}};return r.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[r.jsx("div",{className:"flex-1 overflow-y-auto px-1 py-2 min-h-0",children:r.jsxs("div",{className:"space-y-8 pb-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5"}),d("dashboard.products.form.basicInfo")]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{className:"text-lg font-semibold",children:d("dashboard.products.form.media")}),r.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 mb-4",children:[b.map((C,A)=>r.jsxs("div",{className:"relative group aspect-square",children:[r.jsx("img",{src:C,alt:`Product ${A+1}`,className:"w-full h-full object-cover rounded-md border shadow-sm"}),r.jsx(V,{type:"button",variant:"destructive",size:"icon",className:"absolute top-0.5 right-0.5 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w(E=>E.filter((D,T)=>T!==A)),children:r.jsx(Sr,{className:"h-3 w-3"})})]},A)),r.jsxs("div",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed rounded-md hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{var C;return(C=document.getElementById("wizard-image-upload"))==null?void 0:C.click()},children:[r.jsx(An,{className:"h-6 w-6 text-muted-foreground mb-1"}),r.jsx("span",{className:"text-xs text-muted-foreground text-center px-1",children:d("dashboard.products.form.uploadImages","")})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(pe,{id:"wizard-image-upload",type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden"}),r.jsxs(V,{type:"button",variant:"secondary",onClick:()=>{var C;return(C=document.getElementById("wizard-image-upload"))==null?void 0:C.click()},disabled:p,className:"flex-1",children:[r.jsx(Mi,{className:"ml-2 h-4 w-4"}),p?d("dashboard.products.form.saving"," ..."):d("dashboard.products.form.orClickToUpload","  ")]}),r.jsxs(V,{type:"button",variant:"outline",onClick:()=>y(!0),className:"flex-1",children:[r.jsx(ij,{className:"ml-2 h-4 w-4"}),d("dashboard.products.form.browseCloudinary"," ")]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"name",children:["  (English) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pe,{id:"name",value:v.name,onChange:C=>S({...v,name:C.target.value}),placeholder:d("dashboard.products.form.name"),className:"text-left",dir:"ltr"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"nameAr",children:d("dashboard.products.form.nameAr")}),r.jsx(pe,{id:"nameAr",value:v.nameAr,onChange:C=>S({...v,nameAr:C.target.value}),placeholder:d("dashboard.products.form.nameAr"),className:"text-right",dir:"rtl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"sku",children:d("dashboard.products.form.sku")}),r.jsx(pe,{id:"sku",value:v.sku,onChange:C=>S({...v,sku:C.target.value}),placeholder:"SKU-001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:d("dashboard.products.form.categories")}),r.jsxs(mr,{value:"",onValueChange:C=>{C&&!v.categoryIds.includes(C)&&S({...v,categoryIds:[...v.categoryIds,C]})},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:d("dashboard.products.form.selectCategories")})}),r.jsx(ur,{children:s.filter(C=>!v.categoryIds.includes(C.id)).map(C=>r.jsx(_e,{value:C.id,children:C.nameAr||C.name},C.id))})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.categoryIds.map(C=>{const A=s.find(E=>E.id===C);return A?r.jsxs(et,{variant:"secondary",className:"flex items-center gap-1 py-1 px-3",children:[A.nameAr||A.name,r.jsx(jr,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>S({...v,categoryIds:v.categoryIds.filter(E=>E!==C)})})]},C):null})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"path",children:d("dashboard.products.form.path")}),r.jsx(pe,{id:"path",value:v.path,onChange:C=>S({...v,path:C.target.value}),placeholder:d("dashboard.products.form.pathPlaceholder"),className:"text-left",dir:"ltr"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"description",children:d("dashboard.products.form.description")}),r.jsx(Hz,{value:v.description,onChange:C=>S({...v,description:C}),placeholder:d("dashboard.products.form.description"),dir:"ltr"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"descriptionAr",children:d("dashboard.products.form.descriptionAr")}),r.jsx(Hz,{value:v.descriptionAr,onChange:C=>S({...v,descriptionAr:C}),placeholder:d("dashboard.products.form.descriptionAr"),dir:"rtl"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"tags",children:d("dashboard.products.form.tags")}),r.jsx(pe,{id:"tags",value:v.tags,onChange:C=>S({...v,tags:C.target.value}),placeholder:d("dashboard.products.form.tagsPlaceholder")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"productCode",children:d("dashboard.products.form.productCode")}),r.jsx(pe,{id:"productCode",value:v.productCode,onChange:C=>S({...v,productCode:C.target.value}),placeholder:d("dashboard.products.form.optional")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"odooProductId",children:d("dashboard.products.form.odooId")}),r.jsx(pe,{id:"odooProductId",value:v.odooProductId,onChange:C=>S({...v,odooProductId:C.target.value}),placeholder:d("dashboard.products.form.optional")})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[r.jsx(an,{className:"w-5 h-5"}),d("dashboard.products.form.pricingInventory")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(we,{children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(an,{className:"w-4 h-4"})," ",d("dashboard.products.form.pricing")]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"price",children:[d("dashboard.products.form.price")," ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(pe,{id:"price",type:"number",step:"0.01",min:"0",value:v.price,onChange:C=>S({...v,price:C.target.value}),placeholder:"0.00",className:"text-lg font-medium"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"compareAtPrice",children:d("dashboard.products.form.compareAtPrice")}),r.jsx(pe,{id:"compareAtPrice",type:"number",step:"0.01",value:v.compareAtPrice,onChange:C=>S({...v,compareAtPrice:C.target.value}),placeholder:"0.00"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"cost",children:d("dashboard.products.form.cost")}),r.jsx(pe,{id:"cost",type:"number",step:"0.01",value:v.cost,onChange:C=>S({...v,cost:C.target.value}),placeholder:"0.00",disabled:v.suppliers.length>0,className:v.suppliers.length>0?"bg-muted cursor-not-allowed":""})]})]})}),r.jsx(we,{children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Dt,{className:"w-4 h-4"})," ",d("dashboard.products.form.inventory")]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"barcode",children:d("dashboard.products.form.barcode")}),r.jsx(pe,{id:"barcode",value:v.barcode,onChange:C=>S({...v,barcode:C.target.value}),placeholder:"123456789"})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"stock",children:d("dashboard.products.form.quantity")}),r.jsx(pe,{id:"stock",type:"number",value:v.stock,onChange:C=>S({...v,stock:C.target.value}),placeholder:"0"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"lowStockThreshold",children:d("dashboard.products.form.lowStockThreshold")}),r.jsx(pe,{id:"lowStockThreshold",type:"number",value:v.lowStockThreshold,onChange:C=>S({...v,lowStockThreshold:C.target.value}),placeholder:"10"})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(Y,{className:"text-base font-semibold",children:d("dashboard.products.form.advanced"," ")}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"unitId",children:d("dashboard.products.form.unit")}),r.jsxs(mr,{value:v.unitId,onValueChange:C=>S({...v,unitId:C}),children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:d("dashboard.products.form.selectUnit")})}),r.jsx(ur,{children:n.map(C=>r.jsxs(_e,{value:C.id,children:[C.nameAr||C.name," (",C.code,")"]},C.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"weight",children:d("dashboard.products.form.weight")}),r.jsx(pe,{id:"weight",type:"number",step:"0.01",value:v.weight,onChange:C=>S({...v,weight:C.target.value}),placeholder:"0.00"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"dimensions",children:d("dashboard.products.form.dimensions")}),r.jsx(pe,{id:"dimensions",value:v.dimensions,onChange:C=>S({...v,dimensions:C.target.value}),placeholder:d("dashboard.products.form.dimensionsPlaceholder")})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Y,{className:"text-base font-semibold",children:d("dashboard.products.form.suppliers"," ")}),r.jsxs(mr,{value:"",onValueChange:C=>{if(C){const A=i.find(E=>E.id===C);A&&!v.suppliers.some(E=>E.supplierId===C)&&S({...v,suppliers:[...v.suppliers,{supplierId:C,price:"",discountRate:A.discountRate,isPrimary:v.suppliers.length===0}]})}},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:d("dashboard.products.form.addSupplier")})}),r.jsx(ur,{children:i.filter(C=>!v.suppliers.some(A=>A.supplierId===C.id)).map(C=>r.jsx(_e,{value:C.id,children:C.nameAr||C.name},C.id))})]}),r.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:v.suppliers.map((C,A)=>{const E=i.find(D=>D.id===C.supplierId);return E?r.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg bg-muted/30 gap-2",children:[r.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:E.nameAr||E.name}),C.isPrimary&&r.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full",children:d("dashboard.products.form.setAsPrimary","")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Y,{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.price","")}),r.jsx(pe,{type:"number",step:"0.01",value:C.price,onChange:D=>{const T=[...v.suppliers];T[A].price=D.target.value,S({...v,suppliers:T})},placeholder:"0.00",className:"h-8 text-xs"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(Y,{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.discountRate","  %")}),r.jsx(pe,{type:"number",step:"0.01",min:"0",max:"100",value:C.discountRate||E.discountRate||"",onChange:D=>{const T=[...v.suppliers];T[A].discountRate=parseFloat(D.target.value)||0,S({...v,suppliers:T})},placeholder:"0",className:"h-8 text-xs"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(no,{id:`primary-${C.supplierId}`,checked:C.isPrimary||!1,onCheckedChange:D=>{const T=v.suppliers.map((P,_)=>({...P,isPrimary:_===A?D===!0:!1}));S({...v,suppliers:T})}}),r.jsx(Y,{htmlFor:`primary-${C.supplierId}`,className:"text-xs cursor-pointer",children:d("dashboard.products.form.setAsPrimary","  ")})]})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive flex-shrink-0",onClick:()=>S({...v,suppliers:v.suppliers.filter((D,T)=>T!==A)}),children:r.jsx(jr,{className:"h-4 w-4"})})]},C.supplierId):null})})]})]}),r.jsx(we,{className:"bg-muted/20 border-dashed",children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Y,{htmlFor:"enableSlider",className:"font-semibold",children:d("dashboard.products.form.quantitySlider")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.quantitySliderDesc")})]}),r.jsx(gr,{id:"enableSlider",checked:v.enableSlider,onCheckedChange:C=>S({...v,enableSlider:C})})]}),v.enableSlider&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"minQuantity",children:d("dashboard.products.form.minQuantity")}),r.jsx(pe,{id:"minQuantity",type:"number",min:"1",value:v.minQuantity,onChange:C=>S({...v,minQuantity:C.target.value}),placeholder:"1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"maxQuantity",children:d("dashboard.products.form.maxQuantity")}),r.jsx(pe,{id:"maxQuantity",type:"number",min:"1",value:v.maxQuantity,onChange:C=>S({...v,maxQuantity:C.target.value}),placeholder:"100"})]})]})]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5"}),d("dashboard.products.form.seoSettings")]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Ya,{className:"w-4 h-4"})," ",d("dashboard.products.form.seo")]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"metaTitle",children:d("dashboard.products.form.metaTitle")}),r.jsx(pe,{id:"metaTitle",value:v.metaTitle,onChange:C=>S({...v,metaTitle:C.target.value}),placeholder:d("dashboard.products.form.metaTitlePlaceholder"),maxLength:60})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"metaDescription",children:d("dashboard.products.form.metaDescription")}),r.jsx(Ys,{id:"metaDescription",value:v.metaDescription,onChange:C=>S({...v,metaDescription:C.target.value}),placeholder:d("dashboard.products.form.metaDescriptionPlaceholder"),rows:5,maxLength:160})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Es,{className:"w-4 h-4"})," ",d("dashboard.products.form.publishSettings")]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"status",children:d("dashboard.products.form.productStatus")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.productStatusDesc")})]}),r.jsxs(mr,{value:v.status,onValueChange:C=>S({...v,status:C}),children:[r.jsx(dr,{className:"w-[140px]",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"ACTIVE",children:d("dashboard.products.statusBadges.active")}),r.jsx(_e,{value:"DRAFT",children:d("dashboard.products.statusBadges.draft")}),r.jsx(_e,{value:"ARCHIVED",children:d("dashboard.products.statusBadges.archived")})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"featured",children:d("dashboard.products.form.featuredProduct")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.featuredProductDesc")})]}),r.jsx(gr,{id:"featured",checked:v.featured,onCheckedChange:C=>S({...v,featured:C})})]})]})]})]})]})]})}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 pb-2 border-t bg-background flex-shrink-0 relative z-10",children:[r.jsx(V,{variant:"outline",onClick:l,children:d("dashboard.products.form.cancel")}),r.jsx(V,{onClick:N,disabled:h,children:h?r.jsx(r.Fragment,{children:d("dashboard.products.form.saving")}):r.jsxs(r.Fragment,{children:[d(c?"dashboard.products.form.updateProduct":"dashboard.products.form.addProduct"),r.jsx(Za,{className:"w-4 h-4 mr-2"})]})})]}),x&&r.jsx(ob,{open:x,onOpenChange:y,onSelect:C=>{w(A=>[...A,...C]),y(!1)},multiple:!0})]})}function Nlt({open:e,onOpenChange:t,categories:s,brands:a,units:n,suppliers:i,onSuccess:o}){const{toast:l}=Lt(),[c,d]=f.useState("upload"),[u,h]=f.useState(null),[m,p]=f.useState([]),[g,x]=f.useState([]),[y,b]=f.useState({current:0,total:0,message:""}),[w,v]=f.useState([]),[S,j]=f.useState(0),k=f.useRef(!1),N=()=>{d("upload"),h(null),p([]),x([]),b({current:0,total:0,message:""}),v([]),j(0),k.current=!1},C=async D=>{var P;const T=(P=D.target.files)==null?void 0:P[0];if(T){h(T);try{const _=await T.arrayBuffer(),O=Dm(_),M=O.Sheets[O.SheetNames[0]],I=Br.sheet_to_json(M);if(I.length===0){l({title:" ",description:"     ",variant:"destructive"});return}x(I),p(I.slice(0,5)),d("preview")}catch(_){console.error("Error reading file:",_),l({title:"   ",description:"     Excel  (.xlsx, .xls)",variant:"destructive"})}}},A=D=>D==null?"":String(D).trim(),E=async()=>{d("importing"),b({current:0,total:g.length,message:" ..."}),k.current=!1;let D=0;const T=[],P=5;for(let _=0;_<g.length&&!k.current;_+=P){const O=g.slice(_,_+P);await Promise.all(O.map(async(M,I)=>{var L,K;const R=_+I+2;try{const H=A(M.Name),F=A(M.NameAr),G=M.Price,U=A(M.SKU),W=A(M.ProductId);if(!H&&!F)throw new Error("   (Name or NameAr)");if(!G)throw new Error("  (Price)");let J;if(M.Category){const re=s.find(q=>{var se;return q.name.toLowerCase()===M.Category.toLowerCase()||((se=q.nameAr)==null?void 0:se.toLowerCase())===M.Category.toLowerCase()});J=re==null?void 0:re.id}let z;if(M.Brand||M.BrandCode){const re=a.find(q=>{var se,B;return M.Brand&&q.name.toLowerCase()===M.Brand.toLowerCase()||M.Brand&&((se=q.nameAr)==null?void 0:se.toLowerCase())===M.Brand.toLowerCase()||M.BrandCode&&((B=q.code)==null?void 0:B.toLowerCase())===M.BrandCode.toLowerCase()});z=re==null?void 0:re.id}const ie={name:H||F||"Product",nameAr:F||H,description:A(M.Description),descriptionAr:A(M.DescriptionAr),price:Number(G),sku:U||void 0,productId:W||void 0,barcode:A(M.Barcode)||void 0,stock:Number(M.Stock)||0,categoryId:J,brandId:z,isAvailable:!0,isPublished:!0,variants:[{name:"Default",price:Number(G),inventoryQuantity:Number(M.Stock)||0,sku:U||void 0}]};await fe.createProduct(ie,!0),D++}catch(H){console.error(`Error row ${R}:`,H);const F=H;let G=F.message||"  ";(K=(L=F.response)==null?void 0:L.data)!=null&&K.message&&(G=Array.isArray(F.response.data.message)?F.response.data.message.join(", "):F.response.data.message),T.push({row:R,product:M.Name||M.NameAr||"Unknown",error:G})}})),b({current:Math.min(_+P,g.length),total:g.length,message:`  ${Math.min(_+P,g.length)}  ${g.length}`})}j(D),v(T),d("result"),D>0&&o()};return r.jsx(ir,{open:e,onOpenChange:D=>{!D&&c==="importing"?confirm("     ")&&(k.current=!0,t(!1)):(t(D),D||setTimeout(N,300))},children:r.jsxs(ar,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:" "}),r.jsx(pr,{children:"    Excel  "})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:r.jsxs(Wn,{mode:"wait",children:[c==="upload"&&r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center h-64 border-2 border-dashed rounded-lg bg-muted/30 gap-4",children:[r.jsx("div",{className:"p-4 rounded-full bg-primary/10",children:r.jsx(sK,{className:"w-10 h-10 text-primary"})}),r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"  Excel"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),r.jsx(pe,{type:"file",accept:".xlsx, .xls",className:"hidden",id:"import-file",onChange:C}),r.jsxs(V,{onClick:()=>{var D;return(D=document.getElementById("import-file"))==null?void 0:D.click()},children:[r.jsx(An,{className:"w-4 h-4 ml-2"})," "]}),r.jsx("a",{href:"/template.xlsx",className:"text-xs text-primary hover:underline mt-2",children:"  "})]},"upload"),c==="preview"&&r.jsxs(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[r.jsxs(Di,{children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx(S0,{children:"   "}),r.jsxs(Oi,{children:["   ",g.length," .    5 ."]})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsx(kt,{children:m.length>0&&Object.keys(m[0]).slice(0,5).map(D=>r.jsx(Ae,{children:D},D))})}),r.jsx(us,{children:m.map((D,T)=>r.jsx(kt,{children:Object.values(D).slice(0,5).map((P,_)=>r.jsx(Ne,{children:String(P)},_))},T))})]})})]},"preview"),c==="importing"&&r.jsxs(Me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-12 space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Je,{className:"w-16 h-16 text-primary animate-spin"}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold",children:[Math.round(y.current/y.total*100),"%"]})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-xl font-semibold",children:" ..."}),r.jsx("p",{className:"text-muted-foreground",children:y.message})]}),r.jsx(JM,{value:y.current/y.total*100,className:"w-full max-w-md"})]},"importing"),c==="result"&&r.jsxs(Me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:S}),r.jsx("div",{className:"text-sm text-green-800",children:" "})]}),r.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-red-600",children:w.length}),r.jsx("div",{className:"text-sm text-red-800",children:""})]})]}),w.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[r.jsx(Xs,{className:"w-4 h-4 text-destructive"})," "]}),r.jsx(La,{className:"h-48 border rounded-lg p-2 bg-muted/20",children:r.jsx("div",{className:"space-y-2",children:w.map((D,T)=>r.jsxs("div",{className:"text-sm p-2 bg-white rounded border flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold",children:[" ",D.row,":"]})," ",D.product]}),r.jsx("div",{className:"text-destructive text-xs",children:D.error})]},T))})})]})]},"result")]})}),r.jsxs(zr,{className:"mt-4",children:[c==="upload"&&r.jsx(V,{variant:"outline",onClick:()=>t(!1),children:""}),c==="preview"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{variant:"outline",onClick:()=>{d("upload"),h(null)},children:[r.jsx(Ms,{className:"w-4 h-4 ml-2"}),""]}),r.jsxs(V,{onClick:E,children:[" ",r.jsx(Qo,{className:"w-4 h-4 mr-2"})]})]}),c==="result"&&r.jsx(V,{onClick:()=>t(!1),children:""})]})]})})}function Slt(){const{t:e,i18n:t}=It(),s=t.language==="ar",{toast:a}=Lt(),n=ts(),{user:i}=$s(),[o,l]=Bm(),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState([]),[y,b]=f.useState([]),[w,v]=f.useState(!0),[S,j]=f.useState(""),[k,N]=f.useState("all"),[C,A]=f.useState("all"),[E,D]=f.useState(!1),[T,P]=f.useState(null),[_,O]=f.useState(null),[M,I]=f.useState(!1),[R,L]=f.useState(!1),[K,H]=f.useState({current:0,total:0,currentItem:""}),[F,G]=f.useState(new Set),[U,W]=f.useState(!1),[J,z]=f.useState([]),[ie,re]=f.useState(!1),q=f.useRef(!1),[se,B]=f.useState(1),[oe,de]=f.useState(20),[Te,He]=f.useState(0),[Oe,me]=f.useState(1),[Ue,ce]=f.useState({}),[Ee,Pe]=f.useState([]),[$e,We]=f.useState(!1),[Xe,Ce]=f.useState("all"),Ye=async()=>{try{v(!0),console.log(" Calling coreApi.getProducts()...");const ue={page:se,limit:oe};S&&(ue.search=S),C!=="all"&&(ue.categoryId=C),k!=="all"&&(ue.isActive=k==="active"?"true":"false");const[ne,ze,Ke,Ge,St]=await Promise.all([fe.getProducts(ue,!0),fe.getCategories(),fe.get("/units",{requireAuth:!0}).catch(()=>[]),fe.getBrands(!0).catch(()=>[]),fe.get("/suppliers",{requireAuth:!0}).catch(()=>[])]);let lt=[];if(ne&&typeof ne=="object"&&"data"in ne&&"meta"in ne){const X=ne;lt=X.data,He(X.meta.total),me(X.meta.totalPages),B(X.meta.page)}else lt=Array.isArray(ne)?ne:[],He(lt.length),me(1);let ct=[];if(ze&&typeof ze=="object")if(Array.isArray(ze))ct=ze.filter(X=>X&&typeof X=="object"&&"id"in X&&!("error"in X)&&!("statusCode"in X));else{const X=ze;X.categories&&Array.isArray(X.categories)&&(ct=X.categories.filter(le=>le&&typeof le=="object"&&"id"in le&&!("error"in le)&&!("statusCode"in le)))}const Yt=ct.map(X=>({id:X.id,name:X.name,nameAr:X.nameAr||X.name,parentId:X.parentId||void 0}));h(Yt);const sr=X=>Array.isArray(X)?X.filter(le=>le&&typeof le=="object"&&!("error"in le)&&!("statusCode"in le)):[];p(sr(Ke)),x(sr(Ge)),b(sr(St));let ee=[];if(lt&&typeof lt=="object")if(Array.isArray(lt))ee=lt.filter(X=>X&&typeof X=="object"&&"id"in X&&!("error"in X)&&!("statusCode"in X));else{const X=lt;X.products&&Array.isArray(X.products)?ee=X.products.filter(le=>le&&typeof le=="object"&&"id"in le&&!("error"in le)&&!("statusCode"in le)):!("error"in lt)&&!("statusCode"in lt)&&(ee=[lt])}const ye=ee.map(X=>{var he,ge,Be;let le;if(X.categories&&Array.isArray(X.categories)&&X.categories.length>0){const Fe=X.categories[0];if(Fe&&typeof Fe=="object"&&"category"in Fe)le=Fe.category;else if(Fe&&typeof Fe=="object"&&"id"in Fe&&"name"in Fe)le=Fe;else if(Fe&&typeof Fe=="object"&&"categoryId"in Fe){const Re=Fe.categoryId;if(Re){const De=Yt.find(ke=>ke.id===Re);De&&(le=De)}}}if(!le&&"categoryId"in X){const Fe=X.categoryId;if(Fe){const Re=Yt.find(De=>De.id===Fe);Re&&(le=Re)}}return{id:X.id,name:X.name,nameAr:X.nameAr||"",description:X.description||"",descriptionAr:X.descriptionAr||"",price:typeof X.price=="string"?parseFloat(X.price):X.price||0,compareAtPrice:X.compareAtPrice,cost:X.costPerItem,sku:X.sku||"",barcode:X.barcode,stock:((ge=(he=X.variants)==null?void 0:he[0])==null?void 0:ge.inventoryQuantity)||0,lowStockThreshold:X.lowStockThreshold||10,images:((Be=X.images)==null?void 0:Be.map(Fe=>typeof Fe=="string"?Fe:Fe.url))||[],category:le,status:X.isAvailable?"ACTIVE":"DRAFT",featured:X.featured||!1,createdAt:X.createdAt||new Date().toISOString(),metaTitle:X.seoTitle||"",metaDescription:X.seoDescription||"",weight:X.weight||"",dimensions:X.dimensions||"",path:X.slug||""}});d(ye)}catch(ue){console.error("Failed to load data:",ue),a({title:e("dashboard.products.loadDataError"),description:e("dashboard.products.loadDataErrorDesc"),variant:"destructive"})}finally{v(!1)}},ft=()=>{ce({}),Pe([])},Pt=ue=>{var Ke,Ge,St,lt,ct,Yt,sr,ee,ye,X,le;P(ue);const ne=ue,ze=((Ke=ne.suppliers)==null?void 0:Ke.map(he=>{var ge,Be;return{supplierId:he.supplierId||((ge=he.supplier)==null?void 0:ge.id)||"",price:he.lastPrice?typeof he.lastPrice=="string"?he.lastPrice:he.lastPrice.toString():"",discountRate:he.discountRate||((Be=he.supplier)==null?void 0:Be.discountRate)||0,isPrimary:he.isPrimary||!1}}).filter(he=>he.supplierId))||[];ce({name:ue.name,nameAr:ue.nameAr,description:ue.description,descriptionAr:ue.descriptionAr,price:(ue.price||0).toString(),compareAtPrice:((Ge=ue.compareAtPrice)==null?void 0:Ge.toString())||"",cost:((St=ue.cost)==null?void 0:St.toString())||((lt=ue.costPerItem)==null?void 0:lt.toString())||"",sku:ue.sku,barcode:ue.barcode||"",stock:(ue.stock||0).toString(),lowStockThreshold:(ue.lowStockThreshold||0).toString(),categoryId:((ct=ue.category)==null?void 0:ct.id)||"",categoryIds:((Yt=ne.categories)==null?void 0:Yt.map(he=>{var ge;return((ge=he.category)==null?void 0:ge.id)||he.id||""}).filter(Boolean))||((sr=ue.category)!=null&&sr.id?[ue.category.id]:[]),status:ue.status,featured:ue.featured,tags:"",metaTitle:ue.metaTitle||"",metaDescription:ue.metaDescription||"",weight:ue.weight||"",dimensions:ue.dimensions||"",unitId:((ee=ne.unit)==null?void 0:ee.id)||"",brandId:((ye=ne.brand)==null?void 0:ye.id)||ue.brandId||"",productCode:ne.productCode||"",odooProductId:ne.odooProductId||"",path:("slug"in ne?ne.slug:void 0)||ue.path||"",supplierIds:ze.length>0?ze.map(he=>he.supplierId):[],suppliers:ze,minQuantity:((X=ue.min)==null?void 0:X.toString())||"",maxQuantity:((le=ue.max)==null?void 0:le.toString())||"",enableSlider:"enableSlider"in ue&&typeof ue.enableSlider=="boolean"?ue.enableSlider:!1}),Pe(ue.images||[]),D(!0)};f.useEffect(()=>{Ye()},[]),f.useEffect(()=>{if(J.length>0&&!R&&(console.log(" useEffect: Checking error dialog state",{errorsCount:J.length,isImporting:R,showImportErrorDialog:ie}),!ie)){console.log(" Auto-showing error dialog with",J.length,"errors");const ue=setTimeout(()=>{re(!0),console.log(" useEffect: Set error dialog to true")},100);return()=>clearTimeout(ue)}},[J.length,R,ie]),f.useEffect(()=>{const ue=o.get("openAdd"),ne=o.get("editId"),ze=o.get("brandId"),Ke=o.get("categoryIds");if(ue==="true"&&!w){const Ge=Ke?Ke.split(","):[];ce(St=>({...St,brandId:ze||"",categoryIds:Ge,categoryId:Ge.length>0?Ge[Ge.length-1]:""})),P(null),Pe([]),D(!0),l({})}if(ne&&!w&&c.length>0){const Ge=c.find(St=>St.id===ne);Ge&&(Pt(Ge),l({}))}},[o,w,l,c]);const vt=!!(i!=null&&i.tenantId&&i.tenantId!=="default"&&i.tenantId!=="system");if(f.useEffect(()=>{B(1)},[S,k,C,Xe]),f.useEffect(()=>{Ye()},[se,oe]),!vt)return r.jsx(lF,{});const Qt=(ue,ne,ze,Ke)=>{if(!ue||!ne)return null;const Ge=ue.toLowerCase(),St=ne.toLowerCase(),lt=ze.toLowerCase(),ct=(Ke==null?void 0:Ke.toLowerCase())||"",Yt=[new RegExp(`(\\d+)\\s*${St}\\b`,"i"),new RegExp(`(\\d+)\\s*${lt}\\b`,"i"),ct?new RegExp(`(\\d+)\\s*${ct}\\b`,"i"):null].filter(Boolean);for(const sr of Yt){const ee=Ge.match(sr);if(ee&&ee[1]){const ye=parseInt(ee[1],10);if(!isNaN(ye)&&ye>0)return ye}}return null},br=async(ue,ne)=>{var ze;try{if(!ue.name||ue.name.trim()===""){a({title:e("dashboard.products.messages.requiredField"),description:e("dashboard.products.messages.nameRequired"),variant:"destructive"});return}if(!ue.price||ue.price.trim()===""){a({title:e("dashboard.products.messages.requiredField"),description:e("dashboard.products.messages.priceRequired"),variant:"destructive"});return}const Ke=parseFloat(ue.price);if(isNaN(Ke)||Ke<0){a({title:e("dashboard.products.messages.priceError"),description:e("dashboard.products.messages.priceInvalid"),variant:"destructive"});return}if(ue.unitId&&ue.price){const ct=m.find(Yt=>Yt.id===ue.unitId);if(ct){const Yt=Number(ct.cost)||0,sr=Qt(ue.name||ue.nameAr||"",ct.code,ct.name,ct.nameAr);if(sr!==null&&sr>0&&Yt>0){const ee=sr*Yt;if(Ke<ee){a({title:e("dashboard.products.messages.priceError"),description:e("dashboard.products.messages.priceTooLow",{minPrice:ee.toFixed(2),quantity:sr,unit:ct.code,cost:Yt.toFixed(2)}),variant:"destructive"});return}}}}const Ge=ue.categoryIds.length>0?ue.categoryIds:ue.categoryId?[ue.categoryId]:[];console.log(" Saving product with categoryIds:",Ge),console.log(" Form data categoryIds:",ue.categoryIds),console.log(" Form data categoryId:",ue.categoryId);const St={name:ue.name,nameAr:ue.nameAr||void 0,description:ue.description||void 0,descriptionAr:ue.descriptionAr||void 0,sku:ue.sku||void 0,barcode:ue.barcode||void 0,price:parseFloat(ue.price),compareAtPrice:ue.compareAtPrice?parseFloat(ue.compareAtPrice):void 0,costPerItem:ue.cost?parseFloat(ue.cost):void 0,stockCount:ue.stock?parseInt(ue.stock):void 0,isAvailable:ue.status==="ACTIVE",isPublished:ue.status==="ACTIVE",seoTitle:ue.metaTitle||void 0,seoDescription:ue.metaDescription||void 0,categoryIds:Ge,images:ne.map((ct,Yt)=>({url:ct,altText:ue.name,sortOrder:Yt})),featured:!!ue.featured,weight:ue.weight?parseFloat(ue.weight):void 0,dimensions:ue.dimensions||void 0,unitId:ue.unitId||void 0,brandId:ue.brandId||void 0,productCode:ue.productCode||void 0,odooProductId:ue.odooProductId||void 0,min:ue.minQuantity?parseInt(ue.minQuantity):void 0,max:ue.maxQuantity?parseInt(ue.maxQuantity):void 0,enableSlider:!!ue.enableSlider,tags:ue.tags?ue.tags.split(",").map(ct=>ct.trim()).filter(Boolean):[],variants:[{name:"Default",sku:ue.sku||void 0,price:parseFloat(ue.price),compareAtPrice:ue.compareAtPrice?parseFloat(ue.compareAtPrice):void 0,inventoryQuantity:Math.max(parseInt(ue.stock)||0,0)}]};console.log(" Sending productData to API:",JSON.stringify(St,null,2));let lt;T?(lt=await fe.updateProduct(T.id,St),console.log(" Product updated:",lt),console.log(" Updated product categories:",lt.categories),a({title:e("common.success"),description:e("dashboard.products.editProduct")+" "+e("common.success")})):(lt=await fe.createProduct(St),console.log(" Product created:",lt),console.log(" Created product categories:",lt.categories),a({title:e("common.success"),description:e("dashboard.products.addProduct")+" "+e("common.success")})),lt&&(console.log(" Verifying saved product:",{productId:lt.id,productName:lt.name,expectedCategoryIds:Ge,savedCategories:lt.categories,categoriesCount:((ze=lt.categories)==null?void 0:ze.length)||0,isAvailable:lt.isAvailable,isPublished:lt.isPublished}),Ge.length>0&&(!lt.categories||lt.categories.length===0?(console.error(" ERROR: Product was saved but categories are missing!",{productId:lt.id,expectedCategoryIds:Ge,savedCategories:lt.categories}),a({title:e("dashboard.products.messages.categoriesWarning"),description:e("dashboard.products.messages.categoriesWarningDesc"),variant:"destructive"})):console.log(" Categories verified:",lt.categories.length,"categories attached"))),D(!1),P(null),ft(),await Ye(),window.dispatchEvent(new CustomEvent("productsUpdated")),window.dispatchEvent(new CustomEvent("productSaved",{detail:{product:lt,categoryIds:Ge}}))}catch(Ke){console.error("Failed to save product:",Ke),a({title:e("dashboard.products.messages.saveError"),description:e("dashboard.products.messages.saveErrorDesc"),variant:"destructive"})}},$t=async ue=>{if(confirm(e("dashboard.products.delete")+"?"))try{await fe.deleteProduct(ue),a({title:e("common.success"),description:e("dashboard.products.delete")+" "+e("common.success")}),Ye(),G(new Set)}catch(ne){console.error("Failed to delete product:",ne);const ze=(ne==null?void 0:ne.message)||e("dashboard.products.messages.deleteErrorDesc");ze.includes("not found")||ze.includes("404")?(a({title:e("dashboard.products.messages.deleted"),description:e("dashboard.products.messages.notFound")}),Ye()):a({title:e("dashboard.products.messages.deleteError"),description:ze,variant:"destructive"})}},qt=async()=>{var ne,ze;if(F.size===0){a({title:e("dashboard.products.messages.noSelection"),description:e("dashboard.products.messages.noSelectionDesc"),variant:"destructive"});return}const ue=F.size;if(confirm(e("dashboard.products.messages.confirmDelete",{count:ue})))try{W(!0);const Ke=Array.from(F),Ge=100;let St=0,lt=0;for(let ct=0;ct<Ke.length;ct+=Ge){const Yt=Ke.slice(ct,ct+Ge);try{const sr=await fe.deleteProducts(Yt);St+=sr.deleted||Yt.length,lt+=sr.failed||0}catch(sr){console.error(`Failed to delete chunk ${ct/Ge+1}:`,sr),lt+=Yt.length}}lt>0?a({title:e("dashboard.products.messages.categoriesWarning"),description:e("dashboard.products.messages.deletePartial",{deleted:St,total:ue,failed:lt}),variant:"destructive"}):a({title:e("common.success"),description:e("dashboard.products.messages.deleteSuccess",{count:ue})}),G(new Set),Ye()}catch(Ke){console.error("Failed to delete products:",Ke);const Ge=((ze=(ne=Ke==null?void 0:Ke.response)==null?void 0:ne.data)==null?void 0:ze.message)||e("dashboard.products.messages.deleteErrorDesc");a({title:e("common.error"),description:Ge,variant:"destructive"})}finally{W(!1)}},Ts=(ue,ne)=>{const ze=new Set(F);ne?ze.add(ue):ze.delete(ue),G(ze)},Ie=ue=>{const ne={ACTIVE:{label:e("dashboard.products.statusBadges.active"),className:"bg-green-500/10 text-green-700 border-green-500/20"},DRAFT:{label:e("dashboard.products.statusBadges.draft"),className:"bg-gray-500/10 text-gray-700 border-gray-500/20"},ARCHIVED:{label:e("dashboard.products.statusBadges.archived"),className:"bg-red-500/10 text-red-700 border-red-500/20"}},{label:ze,className:Ke}=ne[ue]||ne.DRAFT;return r.jsx(et,{variant:"outline",className:Ke,children:ze})},rs=(ue,ne)=>ue===0?r.jsx(et,{variant:"outline",className:"bg-red-500/10 text-red-700 border-red-500/20",children:e("dashboard.products.depleted")}):ue<=ne?r.jsx(et,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:e("dashboard.products.statusBadges.low")}):r.jsx(et,{variant:"outline",className:"bg-green-500/10 text-green-700 border-green-500/20",children:e("dashboard.products.statusBadges.available")}),Zs=c.filter(ue=>{var St;const ne=(ue.name||"").toLowerCase().includes(S.toLowerCase())||(ue.nameAr||"").toLowerCase().includes(S.toLowerCase())||(ue.sku||"").toLowerCase().includes(S.toLowerCase()),ze=k==="all"||ue.status===k,Ke=C==="all"||((St=ue.category)==null?void 0:St.id)===C;let Ge=!0;return Xe==="low-stock"?Ge=ue.stock<=ue.lowStockThreshold&&ue.stock>0:Xe==="out-of-stock"&&(Ge=ue.stock===0),ne&&ze&&Ke&&Ge}),wa=Zs,Wa=ue=>{G(ue?new Set(wa.map(ne=>ne.id)):new Set)},Ha=async()=>{try{const ue=await fe.getProducts({limit:1e4}),ze=(Array.isArray(ue)?ue:(ue==null?void 0:ue.data)||[]).map(Ke=>Ke.id);G(new Set(ze)),a({title:e("dashboard.products.messages.selectAllSuccess",{count:ze.length}),description:e("dashboard.products.messages.selectAllSuccess",{count:ze.length})})}catch(ue){const ne=ue instanceof Error?ue.message:e("dashboard.products.messages.selectAllError");console.error("Failed to select all products:",ue),a({title:e("common.error"),description:ne,variant:"destructive"})}},ss=wa.length>0&&wa.every(ue=>F.has(ue.id));F.size>0&&F.size<wa.length;const Rt=async()=>{try{const ue=["product_id","sku","price","cost","coins_number","notify","min","max","web_status","mobile_status","purple_cards_product_name_ar","purple_cards_product_name_en","purple_cards_slug_ar","purple_cards_slug_en","purple_cards_desc_ar","purple_cards_desc_en","purple_cards_long_desc_ar","purple_cards_long_desc_en","purple_cards_meta_title_ar","purple_cards_meta_title_en","purple_cards_meta_keyword_ar","purple_cards_meta_keyword_en","purple_cards_meta_description_ar","purple_cards_meta_description_en","ish7en_product_name_ar","ish7en_product_name_en","ish7en_slug_ar","ish7en_slug_en","ish7en_desc_ar","ish7en_desc_en","ish7en_long_desc_ar","ish7en_long_desc_en","ish7en_meta_title_ar","ish7en_meta_title_en","ish7en_meta_keyword_ar","ish7en_meta_keyword_en","ish7en_meta_description_ar","ish7en_meta_description_en"],ne=c.map(Ge=>({product_id:Ge.productId||Ge.id||"",sku:Ge.sku||"",price:Ge.price||0,cost:Ge.costPerItem||Ge.cost||0,coins_number:Ge.coinsNumber||"",notify:Ge.notify?"true":"false",min:Ge.min||"",max:Ge.max||"",web_status:Ge.webStatus!==!1?"true":"false",mobile_status:Ge.mobileStatus!==!1?"true":"false",purple_cards_product_name_ar:Ge.purpleCardsProductNameAr||"",purple_cards_product_name_en:Ge.purpleCardsProductNameEn||"",purple_cards_slug_ar:Ge.purpleCardsSlugAr||"",purple_cards_slug_en:Ge.purpleCardsSlugEn||"",purple_cards_desc_ar:Ge.purpleCardsDescAr||"",purple_cards_desc_en:Ge.purpleCardsDescEn||"",purple_cards_long_desc_ar:Ge.purpleCardsLongDescAr||"",purple_cards_long_desc_en:Ge.purpleCardsLongDescEn||"",purple_cards_meta_title_ar:Ge.purpleCardsMetaTitleAr||"",purple_cards_meta_title_en:Ge.purpleCardsMetaTitleEn||"",purple_cards_meta_keyword_ar:Ge.purpleCardsMetaKeywordAr||"",purple_cards_meta_keyword_en:Ge.purpleCardsMetaKeywordEn||"",purple_cards_meta_description_ar:Ge.purpleCardsMetaDescriptionAr||"",purple_cards_meta_description_en:Ge.purpleCardsMetaDescriptionEn||"",ish7en_product_name_ar:Ge.ish7enProductNameAr||"",ish7en_product_name_en:Ge.ish7enProductNameEn||"",ish7en_slug_ar:Ge.ish7enSlugAr||"",ish7en_slug_en:Ge.ish7enSlugEn||"",ish7en_desc_ar:Ge.ish7enDescAr||"",ish7en_desc_en:Ge.ish7enDescEn||"",ish7en_long_desc_ar:Ge.ish7enLongDescAr||"",ish7en_long_desc_en:Ge.ish7enLongDescEn||"",ish7en_meta_title_ar:Ge.ish7enMetaTitleAr||"",ish7en_meta_title_en:Ge.ish7enMetaTitleEn||"",ish7en_meta_keyword_ar:Ge.ish7enMetaKeywordAr||"",ish7en_meta_keyword_en:Ge.ish7enMetaKeywordEn||"",ish7en_meta_description_ar:Ge.ish7enMetaDescriptionAr||"",ish7en_meta_description_en:Ge.ish7enMetaDescriptionEn||""})),ze=Br.json_to_sheet(ne,{header:ue}),Ke=Br.book_new();Br.book_append_sheet(Ke,ze,"Products"),eh(Ke,"products_export.xlsx"),a({title:e("common.success"),description:e("dashboard.products.exportSuccess")})}catch(ue){console.error("Failed to export products:",ue),a({title:e("common.error"),description:e("dashboard.products.messages.exportErrorDesc"),variant:"destructive"})}},wt=async ue=>{var ze,Ke,Ge,St;const ne=(ze=ue.target.files)==null?void 0:ze[0];if(ne){try{const{ensureFreshToken:lt}=await yy(async()=>{const{ensureFreshToken:Yt}=await Promise.resolve().then(()=>F1);return{ensureFreshToken:Yt}},void 0);if(!await lt()&&!(localStorage.getItem("accessToken")||((Ke=document.cookie.split("; ").find(sr=>sr.startsWith("accessToken=")))==null?void 0:Ke.split("=")[1]))){a({title:e("common.unauthorized"),description:e("common.pleaseLogin"),variant:"destructive"});return}}catch(lt){console.warn(" Token refresh check failed:",lt)}if(!(i!=null&&i.tenantId)||i.tenantId==="default"||i.tenantId==="system"){a({title:e("dashboard.products.messages.settingsError"),description:e("dashboard.products.messages.settingsErrorDesc"),variant:"destructive"});return}try{L(!0),z([]),re(!1),H({current:0,total:100,currentItem:e("common.refreshingSession")});try{const{ensureFreshToken:Fe}=await yy(async()=>{const{ensureFreshToken:De}=await Promise.resolve().then(()=>F1);return{ensureFreshToken:De}},void 0);await Fe()?console.log(" Token refreshed before import"):console.warn(" Token refresh failed or not available, proceeding anyway...")}catch(Fe){console.warn(" Token refresh check failed:",Fe)}H({current:0,total:100,currentItem:e("dashboard.products.messages.readingFile")}),await new Promise(Fe=>setTimeout(Fe,200));const lt=await ne.arrayBuffer();H({current:10,total:100,currentItem:e("dashboard.products.messages.analyzingData")});const ct=Dm(lt),Yt=ct.Sheets[ct.SheetNames[0]];H({current:20,total:100,currentItem:e("dashboard.products.messages.processingData")});const sr=Br.sheet_to_json(Yt,{defval:""}),ee=sr.length;if(console.log(` Total items to import: ${ee}`),console.log(` Excel file contains ${sr.length} rows (excluding header)`),ee>0){const Fe=sr[0],Re=Object.keys(Fe);console.log(" Excel column names detected:",Re),console.log(" First row data sample:",JSON.stringify(Fe,null,2)),console.log(" Column mapping check:"),console.log("  - Name columns:",Re.filter(De=>De.toLowerCase().includes("name")||De.includes("")||De.includes(""))),console.log("  - Price columns:",Re.filter(De=>De.toLowerCase().includes("price")||De.toLowerCase().includes("cost")||De.includes("")||De.includes(""))),console.log("  - SKU columns:",Re.filter(De=>De.toLowerCase().includes("sku")||De.toLowerCase().includes("product_id")||De.toLowerCase().includes("isku"))),console.log("  - Category columns:",Re.filter(De=>De.toLowerCase().includes("category")||De.includes("")||De.includes("")||De.includes("")))}if(ee===0){L(!1),a({title:e("common.error"),description:e("dashboard.products.messages.noDataError"),variant:"destructive"}),ue.target.value="";return}console.log(" PHASE 1: Scanning and validating all rows..."),console.log(" Total rows to validate:",ee),console.log(" Categories available:",u.length,u.map(Fe=>Fe.name).slice(0,5)),console.log(" Brands available:",g.length),H({current:0,total:ee,currentItem:e("dashboard.products.messages.validatingRows",{count:ee})});const ye=()=>new Promise(Fe=>setTimeout(Fe,0)),X=[],le=[];for(let Fe=0;Fe<ee;Fe++){if(q.current){console.log(" Import stopped by user during validation");break}const Re=sr[Fe],De=Fe+2;Fe%100===0&&(H({current:Fe+1,total:ee,currentItem:e("dashboard.products.messages.validatingRow",{current:Fe+1,total:ee})}),await ye(),console.log(` Validating row ${Fe+1}/${ee}...`));const ke=Re,ve=Object.keys(ke),Le=Nr=>{for(const ot of Nr){if(ke[ot]!==void 0&&ke[ot]!==null&&ke[ot]!=="")return String(ke[ot]).trim();const Er=ve.find(ms=>ms.toLowerCase()===ot.toLowerCase());if(Er&&ke[Er]!==void 0&&ke[Er]!==null&&ke[Er]!=="")return String(ke[Er]).trim()}for(const ot of Nr){const Er=ve.find(ms=>ms.toLowerCase().includes(ot.toLowerCase()));if(Er&&ke[Er]!==void 0&&ke[Er]!==null&&ke[Er]!=="")return String(ke[Er]).trim()}return""},rt=Le(["product_id","product_isku","productid","id","_",""]),ut=Le(["sku","SKU","product_isku","",""]);let gt=Le(["Name","name","ProductName","product_name","title","Title","","","_"," ","","purple_cards_product_name_ar","purple_cards_product_name_en","ish7en_product_name_ar","ish7en_product_name_en","NameAr","nameAr"]);if(!gt&&Re.min&&typeof Re.min=="string"&&Re.min.trim().length>0&&isNaN(Number(Re.min))&&(gt=Re.min.toString().trim()),!gt)for(const Nr of ve){const ot=ke[Nr];if(typeof ot=="string"&&ot.trim().length>3&&ot.trim().length<200&&isNaN(Number(ot))){gt=ot.trim(),console.log(` Row ${De}: Using column "${Nr}" as name: ${gt.substring(0,50)}`);break}}const Ot=gt||rt||ut||`${e("dashboard.products.messages.row")} ${De}`;let zt=Le(["price","Price","PRICE","","","_","sale_price","SalePrice","retail_price","unit_price"]);if(!zt||zt===""||zt.trim()===""){const Nr=Le(["web_statu","web_status","webstatus"]),ot=Le(["mobile_st","mobile_status","mobilestatus"]);Nr&&!isNaN(Number(Nr))&&Number(Nr)>0?zt=Nr:ot&&!isNaN(Number(ot))&&Number(ot)>0&&(zt=ot);const Er=Le(["cost","Cost","COST","",""]);(!zt||zt==="")&&Er&&!isNaN(Number(Er))&&Number(Er)>0&&(zt=Er)}if(!zt||zt==="")for(const Nr of ve){const ot=ke[Nr];if(ot!=null&&ot!==""){const Er=Number(ot);if(!isNaN(Er)&&Er>0&&Er<1e6){zt=String(ot),console.log(` Row ${De}: Using column "${Nr}" as price: ${zt}`);break}}}let hr=!1,ks="General",Ar="";if(!gt&&!rt&&!ut)hr=!0,ks="General",Ar=e("dashboard.products.messages.nameRequiredImport");else if(!zt||zt===""||typeof zt=="string"&&zt.trim()==="")hr=!0,ks="Price",Ar="  -         price  Price  web_statu  mobile_st  cost";else{const Nr=typeof zt=="string"?parseFloat(zt.toString().replace(/[^\d.-]/g,"")):zt;(isNaN(Nr)||Nr<0)&&(hr=!0,ks="Price",Ar=e("dashboard.products.messages.priceInvalidImport"))}if(!hr&&Re.Category&&typeof Re.Category=="string"){const Nr=Re.Category.split(",").map(Er=>Er.trim()).filter(Boolean),ot=[];for(const Er of Nr){let ms=!1;if(Er.includes(">")){const Hs=Er.split(/\s*>\s*/).map(qr=>qr.trim()).filter(Boolean),vs=Hs[Hs.length-1];ms=!!u.find(qr=>{var bn,On;return((bn=qr.name)==null?void 0:bn.toLowerCase())===vs.toLowerCase()||((On=qr.nameAr)==null?void 0:On.toLowerCase())===vs.toLowerCase()})}else ms=!!u.find(vs=>{var ja,qr;return((ja=vs.name)==null?void 0:ja.toLowerCase())===Er.toLowerCase()||((qr=vs.nameAr)==null?void 0:qr.toLowerCase())===Er.toLowerCase()});ms||ot.push(Er)}ot.length>0&&(hr=!0,ks="Category",Ar=e("dashboard.products.messages.categoryNotFound",{category:ot.join(", ")}))}!hr&&(Re.Brand||Re.BrandCode)&&!g.find(ot=>{var Er,ms,Hs,vs,ja,qr;return((Er=ot.name)==null?void 0:Er.toLowerCase())===((ms=Re.Brand)==null?void 0:ms.toLowerCase())||((Hs=ot.nameAr)==null?void 0:Hs.toLowerCase())===((vs=Re.Brand)==null?void 0:vs.toLowerCase())||((ja=ot.code)==null?void 0:ja.toLowerCase())===((qr=Re.BrandCode)==null?void 0:qr.toLowerCase())})&&((Ge=Re.Brand)!=null&&Ge.trim()||(St=Re.BrandCode)!=null&&St.trim())&&(hr=!0,ks=Re.Brand?"Brand":"BrandCode",Ar=e("dashboard.products.messages.brandNotFound",{brand:Re.Brand||Re.BrandCode})),hr?X.push({row:De,column:ks,productName:Ot.toString(),error:Ar}):le.push({index:Fe,row:Re,productData:null})}if(console.log(` PHASE 1 COMPLETE: ${le.length} valid rows, ${X.length} invalid rows`),le.length===0&&X.length>0){console.error(" ALL rows failed validation! First 5 errors:",X.slice(0,5)),z(X),L(!1),re(!0),ue.target.value="";return}let he=0;const ge=[];if(q.current=!1,le.length>0){console.log(` PHASE 2: Starting upload of ${le.length} valid rows...`),console.log(` Batch size: 10, Total batches: ${Math.ceil(le.length/10)}`),H({current:0,total:le.length,currentItem:e("dashboard.products.messages.uploadingValid",{count:le.length})}),await new Promise(ke=>setTimeout(ke,300));const Fe=10;let Re=Math.ceil(le.length/Fe),De=0;for(let ke=0;ke<le.length;ke+=Fe){if(De++,console.log(` Starting batch ${De}/${Re} (rows ${ke+1} to ${Math.min(ke+Fe,le.length)})`),q.current){console.log(" Import stopped by user");break}const ve=le.slice(ke,ke+Fe),Le=await Promise.allSettled(ve.map(async(Ot,te)=>{var Sc,Ol,Li,ji,be,pt,Gt,as,Tt;te>0&&await new Promise(Zt=>setTimeout(Zt,100*te));const{index:zt,row:hr}=Ot,ks=zt+2;if(q.current){console.log(" Import stopped by user - skipping item");return}const Ar=hr,Nr=Object.keys(Ar),ot=Zt=>{for(const Et of Zt){if(Ar[Et]!==void 0&&Ar[Et]!==null&&Ar[Et]!=="")return String(Ar[Et]).trim();const Xt=Nr.find(Qr=>Qr.toLowerCase()===Et.toLowerCase());if(Xt&&Ar[Xt]!==void 0&&Ar[Xt]!==null&&Ar[Xt]!=="")return String(Ar[Xt]).trim()}for(const Et of Zt){const Xt=Nr.find(Qr=>Qr.toLowerCase().includes(Et.toLowerCase()));if(Xt&&Ar[Xt]!==void 0&&Ar[Xt]!==null&&Ar[Xt]!=="")return String(Ar[Xt]).trim()}return""},Er=ot(["product_id","product_isku","productid","id","_",""]),ms=ot(["sku","SKU","product_isku","",""]);let Hs=ot(["Name","name","ProductName","product_name","title","Title","","","_"," ","","purple_cards_product_name_ar","purple_cards_product_name_en","ish7en_product_name_ar","ish7en_product_name_en","NameAr","nameAr"]);if(!Hs&&hr.min&&typeof hr.min=="string"&&hr.min.trim().length>0&&isNaN(Number(hr.min))&&(Hs=hr.min.toString().trim()),!Hs)for(const Zt of Nr){const Et=Ar[Zt];if(typeof Et=="string"&&Et.trim().length>3&&Et.trim().length<200&&isNaN(Number(Et))){Hs=Et.trim();break}}const vs=Hs||Er||ms||` ${ks}`;let qr=ot(["price","Price","PRICE","","","_","sale_price","SalePrice","retail_price","unit_price"]);if(!qr||qr===""){const Zt=ot(["web_statu","web_status","webstatus"]),Et=ot(["mobile_st","mobile_status","mobilestatus"]);Zt&&!isNaN(Number(Zt))&&Number(Zt)>0?qr=Zt:Et&&!isNaN(Number(Et))&&Number(Et)>0&&(qr=Et);const Xt=ot(["cost","Cost","COST","",""]);(!qr||qr==="")&&Xt&&!isNaN(Number(Xt))&&Number(Xt)>0&&(qr=Xt)}if(!qr||qr==="")for(const Zt of Nr){const Et=Ar[Zt];if(Et!=null&&Et!==""){const Xt=Number(Et);if(!isNaN(Xt)&&Xt>0&&Xt<1e6){qr=String(Et);break}}}if(!qr||qr==="")throw new Error("  -      ");const bn=ot(["cost","Cost",""]),On=ot(["coins_number","coins_nun","_"]),Nc=ot(["notify","Notify",""]),uu=ot(["min","Min","_"]),hu=ot(["max","Max","_"]),lo=ot(["web_status","web_statu","WebStatus"]),il=ot(["mobile_status","mobile_st","MobileStatus"]);try{let Zt;if(typeof qr=="string"?Zt=parseFloat(qr.toString().replace(/[^\d.-]/g,"")):typeof qr=="number"?Zt=qr:Zt=0,isNaN(Zt)||Zt<0)throw new Error(`Invalid price: ${qr}. Price must be a valid number >= 0.`);const Et=bn?parseFloat(bn.toString().replace(/[^\d.-]/g,"")):void 0,Xt=On&&parseFloat(On.toString().replace(/[^\d.-]/g,""))||void 0,Qr=Nc?Nc.toLowerCase()==="true"||Nc==="1":void 0,Bs=uu&&parseInt(uu.toString().replace(/[^\d]/g,""))||void 0,pa=hu&&parseInt(hu.toString().replace(/[^\d]/g,""))||void 0,Cs=lo?lo.toLowerCase()==="true"||lo==="1":void 0,Ca=il?il.toLowerCase()==="true"||il==="1":void 0,$i=ot(["CompareAtPrice","compare_at_price","_"]),In=$i?parseFloat($i.replace(/[^\d.-]/g,"")):void 0,fd=ot(["Stock","stock","","","quantity"]),jv=fd&&parseInt(fd.replace(/[^\d]/g,""))||0,ef=ot(["Tags","tags","",""]),ol=ef?ef.split(",").map(Da=>Da.trim()).filter(Boolean):[],ln=ms||void 0,pd={name:"Default",price:Zt,inventoryQuantity:Number(jv)||0};ln&&(pd.sku=ln),In!=null&&!isNaN(Number(In))&&Number(In)>0&&(pd.compareAtPrice=Number(In));const ns=Da=>{if(Da==null||Da==="")return;const Ni=String(Da).trim();return Ni.length>0?Ni:void 0},mh=ot(["Category","category","","",""]),kc=[];if(mh){const Da=mh.split(",").map(Ni=>Ni.trim()).filter(Boolean);for(const Ni of Da)if(Ni.includes(">")){const ea=Ni.split(/\s*>\s*/).map(Si=>Si.trim()).filter(Boolean),Pc=ea[ea.length-1],co=u.find(Si=>{var mu,kv;return((mu=Si.name)==null?void 0:mu.toLowerCase())===Pc.toLowerCase()||((kv=Si.nameAr)==null?void 0:kv.toLowerCase())===Pc.toLowerCase()});co&&kc.push(co.id)}else{const ea=u.find(Pc=>{var co,Si;return((co=Pc.name)==null?void 0:co.toLowerCase())===Ni.toLowerCase()||((Si=Pc.nameAr)==null?void 0:Si.toLowerCase())===Ni.toLowerCase()});ea&&kc.push(ea.id)}}const Cc=kc.length>0?kc[0]:void 0,fh=ot(["Brand","brand","",""]),Qp=ot(["BrandCode","brand_code","_"]);let r1;if(fh||Qp){const Da=g.find(Ni=>{var ea,Pc,co;return fh&&((ea=Ni.name)==null?void 0:ea.toLowerCase())===fh.toLowerCase()||fh&&((Pc=Ni.nameAr)==null?void 0:Pc.toLowerCase())===fh.toLowerCase()||Qp&&((co=Ni.code)==null?void 0:co.toLowerCase())===Qp.toLowerCase()});r1=Da==null?void 0:Da.id}const kE=ot(["NameAr","nameAr","name_ar","_","_"]),CE=ot(["Description","description","",""]),Jp=ot(["DescriptionAr","descriptionAr","description_ar","_"]),Zp=ot(["Barcode","barcode","","_"]),Nv=ot(["Weight","weight",""]),AE=ot(["Dimensions","dimensions",""]),Ac=ot(["Status","status",""]),ex=ot(["Featured","featured",""]),li={name:Hs||Er||ms||e("dashboard.products.messages.defaultProductName"),nameAr:ns(kE),description:ns(CE),descriptionAr:ns(Jp),price:Zt,costPerItem:Et!=null&&!isNaN(Number(Et))&&Number(Et)>0?Number(Et):void 0,coinsNumber:Xt!=null?Number(Xt):void 0,notify:Qr!=null?!!Qr:void 0,min:Bs!=null?Number(Bs):void 0,max:pa!=null?Number(pa):void 0,webStatus:Cs!=null?!!Cs:void 0,mobileStatus:Ca!=null?!!Ca:void 0,purpleCardsProductNameAr:ns(ot(["purple_cards_product_name_ar"])),purpleCardsProductNameEn:ns(ot(["purple_cards_product_name_en"])),purpleCardsSlugAr:ns(ot(["purple_cards_slug_ar"])),purpleCardsSlugEn:ns(ot(["purple_cards_slug_en"])),purpleCardsDescAr:ns(ot(["purple_cards_desc_ar"])),purpleCardsDescEn:ns(ot(["purple_cards_desc_en"])),purpleCardsLongDescAr:ns(ot(["purple_cards_long_desc_ar"])),purpleCardsLongDescEn:ns(ot(["purple_cards_long_desc_en"])),purpleCardsMetaTitleAr:ns(ot(["purple_cards_meta_title_ar"])),purpleCardsMetaTitleEn:ns(ot(["purple_cards_meta_title_en"])),purpleCardsMetaKeywordAr:ns(ot(["purple_cards_meta_keyword_ar"])),purpleCardsMetaKeywordEn:ns(ot(["purple_cards_meta_keyword_en"])),purpleCardsMetaDescriptionAr:ns(ot(["purple_cards_meta_description_ar"])),purpleCardsMetaDescriptionEn:ns(ot(["purple_cards_meta_description_en"])),ish7enProductNameAr:ns(ot(["ish7en_product_name_ar"])),ish7enProductNameEn:ns(ot(["ish7en_product_name_en"])),ish7enSlugAr:ns(ot(["ish7en_slug_ar"])),ish7enSlugEn:ns(ot(["ish7en_slug_en"])),ish7enDescAr:ns(ot(["ish7en_desc_ar"])),ish7enDescEn:ns(ot(["ish7en_desc_en"])),ish7enLongDescAr:ns(ot(["ish7en_long_desc_ar"])),ish7enLongDescEn:ns(ot(["ish7en_long_desc_en"])),ish7enMetaTitleAr:ns(ot(["ish7en_meta_title_ar"])),ish7enMetaTitleEn:ns(ot(["ish7en_meta_title_en"])),ish7enMetaKeywordAr:ns(ot(["ish7en_meta_keyword_ar"])),ish7enMetaKeywordEn:ns(ot(["ish7en_meta_keyword_en"])),ish7enMetaDescriptionAr:ns(ot(["ish7en_meta_description_ar"])),ish7enMetaDescriptionEn:ns(ot(["ish7en_meta_description_en"])),compareAtPrice:In!=null&&!isNaN(Number(In))&&Number(In)>0?Number(In):void 0,...ln?{sku:ln}:{},...Er?{productId:Er}:{},barcode:ns(Zp),weight:Nv&&parseFloat(Nv.replace(/[^\d.-]/g,""))||void 0,dimensions:ns(AE),tags:ol.length>0?ol:void 0,brandId:r1||void 0,categoryIds:kc.length>0?kc:Cc?[Cc]:void 0,isAvailable:Ac!=="DRAFT"&&Ac!=="ARCHIVED"&&Ac!=="draft"&&Ac!=="archived",featured:ex==="Yes"||ex==="true"||ex==="TRUE"||ex==="1",variants:[pd]};Object.keys(li).forEach(Da=>{li[Da]===void 0&&delete li[Da]}),(he<1||he%10===0||le.length<=5)&&console.log(` Creating product at row ${ks} (${he+1}/${le.length}):`,{name:li.name,price:li.price,sku:li.sku,categoryIds:((Sc=li.categoryIds)==null?void 0:Sc.length)||0,variants:((Ol=li.variants)==null?void 0:Ol.length)||0,fullData:li}),H({current:he,total:le.length,currentItem:`   ${he+1}  ${le.length}: ${li.name}...`});const Ec=fe.createProduct(li,!0),s1=new Promise((Da,Ni)=>setTimeout(()=>Ni(new Error("Product creation timeout after 30 seconds")),3e4)),cn=await Promise.race([Ec,s1]),Sv=(cn==null?void 0:cn.id)||((Li=cn==null?void 0:cn.product)==null?void 0:Li.id)||((ji=cn==null?void 0:cn.data)==null?void 0:ji.id);if(!Sv)throw console.error(` Product creation failed validation at row ${ks}:`,{response:cn,hasId:!!(cn!=null&&cn.id),hasProductId:!!((be=cn==null?void 0:cn.product)!=null&&be.id),hasDataId:!!((pt=cn==null?void 0:cn.data)!=null&&pt.id)}),new Error("Product creation returned no ID - product may not have been created");(he<1||he%10===0||le.length<=5)&&console.log(` Product created successfully at row ${ks}: ID=${Sv}, Name="${li.name}" (Total success: ${he+1})`),he++,H({current:he,total:le.length,currentItem:`  ${he}   ${le.length}...`})}catch(Zt){console.error(` Error uploading product at row ${ks}:`,Zt),console.error(" Full error details:",{error:Zt,errorType:Zt instanceof Error?Zt.constructor.name:typeof Zt,errorMessage:Zt instanceof Error?Zt.message:String(Zt),stack:Zt instanceof Error?Zt.stack:void 0}),console.error(" Product data that failed:",{name:Hs||Er||ms,productName:vs,price:qr,rowNum:ks});let Et=e("dashboard.products.messages.unknownError"),Xt="General";const Qr=Zt,Bs=(Gt=Qr==null?void 0:Qr.response)==null?void 0:Gt.data,pa=(Bs==null?void 0:Bs.message)||((as=Qr==null?void 0:Qr.data)==null?void 0:as.message)||(Qr==null?void 0:Qr.message)||"";pa&&(Array.isArray(pa)?Et=pa.join(", "):Et=String(pa));const Cs=(Qr==null?void 0:Qr.status)||((Tt=Qr==null?void 0:Qr.response)==null?void 0:Tt.status);if(Cs===401||Et.includes("sessionExpired")||Et.includes("Session expired")||Et.includes("Authentication required")){console.log(" Authentication required during upload, attempting token refresh...");try{const{ensureFreshToken:$i}=await yy(async()=>{const{ensureFreshToken:fd}=await Promise.resolve().then(()=>F1);return{ensureFreshToken:fd}},void 0);await $i()?(console.log(" Token refreshed - continuing with import"),Et=e("common.sessionRefreshed"),Xt="General"):(Et=e("common.sessionRefreshFailed"),Xt="General")}catch($i){console.error(" Token refresh failed:",$i),Et=e("common.authError"),Xt="General"}}else if(Cs===403){console.log(" 403 Forbidden, attempting token refresh...");try{const{ensureFreshToken:$i}=await yy(async()=>{const{ensureFreshToken:fd}=await Promise.resolve().then(()=>F1);return{ensureFreshToken:fd}},void 0);await $i()?(console.log(" Token refreshed after 403 - continuing"),Et=e("common.sessionRefreshed")):(!Et||Et===e("dashboard.products.messages.unknownError"))&&(Et=e("common.forbiddenRetry"))}catch($i){console.error(" Token refresh failed after 403:",$i),(!Et||Et===e("dashboard.products.messages.unknownError"))&&(Et=e("common.forbiddenRetry"))}Xt="General",q.current=!0,Et=e("dashboard.products.messages.storeSetupRequired"),Xt="General"}else Cs===404?Bs!=null&&Bs.message||(Et=e("dashboard.products.messages.categoryOrBrandNotFound"),Xt="Category"):Cs===409?(Et=e("dashboard.products.messages.productExists"),Xt="SKU"):Cs===429||Et.includes("ThrottlerException")||Et.includes("Too Many Requests")?(Et="   .         ",Xt="General"):Cs===400&&((!Et||Et===e("dashboard.products.messages.unknownError"))&&(Et=(Bs==null?void 0:Bs.error)||"Validation error: Please check all required fields are filled correctly."),Xt="General");const Ca=Et.toLowerCase();throw Ca.includes("price")?Xt="Price":Ca.includes("name")?Xt="Name":Ca.includes("category")?Xt="Category":Ca.includes("brand")?Xt="Brand":Ca.includes("sku")?Xt="SKU":Ca.includes("variant")&&(Xt="Variants"),ge.push({row:ks,column:Xt,productName:vs.toString(),error:Et}),Zt}}));let rt=0,ut=0;Le.forEach((Ot,te)=>{Ot.status==="fulfilled"?rt++:(ut++,console.error(` Batch item ${ke+te+1} failed:`,Ot.reason))}),console.log(` Batch ${Math.floor(ke/Fe)+1} complete: ${rt} succeeded, ${ut} failed. Total success so far: ${he}`);const gt=Math.min(ke+Fe,le.length);H({current:gt,total:le.length,currentItem:`  ${he}    ${le.length}... (  ${gt})`}),ke+Fe<le.length&&await new Promise(Ot=>setTimeout(Ot,1e3))}}const Be=[...X,...ge];if(q.current)L(!1),H({current:0,total:0,currentItem:""}),q.current=!1;else{const Fe=ee,Re=Be.length>0?e("dashboard.products.messages.importCompleteWithErrors",{success:he,errors:Be.length,total:Fe}):e("dashboard.products.messages.importComplete",{success:he,total:Fe});H({current:Fe,total:Fe,currentItem:Re}),await new Promise(De=>setTimeout(De,1500)),Be.length>0?(console.group("  :"),console.log(` : ${Be.length}`),Be.forEach((De,ke)=>{console.error(` ${ke+1}:  ${De.row} - : ${De.column} - : ${De.productName} - : ${De.error}`)}),console.groupEnd(),z(Be),L(!1),await new Promise(De=>setTimeout(De,300)),re(!0),console.log(" Error dialog should now be visible with",Be.length,"errors")):(L(!1),H({current:0,total:0,currentItem:""})),a({title:he>0?e("dashboard.products.messages.importSuccess"):e("dashboard.products.messages.importFailed"),description:Be.length>0?e("dashboard.products.messages.importSuccessDescWithErrors",{success:he,errors:Be.length}):e("dashboard.products.messages.importSuccessDesc",{success:he}),variant:Be.length>he?"destructive":he>0?"default":"destructive",duration:5e3}),console.log(` Import Summary: ${he} succeeded, ${Be.length} failed out of ${ee} total rows`),he>0?(console.log(` Reloading product data after import (${he} products should be created)...`),v(!0),await Ye(),v(!1),console.log(` Data reloaded. Current product count: ${c.length}`),c.length===0&&he>0&&(console.warn(` WARNING: ${he} products reported as created but product list is still empty!`),a({title:"",description:`  ${he}    .        .`,variant:"destructive",duration:1e4}))):await Ye()}ue.target.value=""}catch(lt){q.current=!1,L(!1),H({current:0,total:0,currentItem:""}),a({title:e("dashboard.products.messages.importErrorTitle"),description:lt instanceof Error?lt.message:e("dashboard.products.messages.importErrorDesc"),variant:"destructive"})}finally{!ie&&!R&&H({current:0,total:0,currentItem:""})}}},je={total:Te,active:c.filter(ue=>ue.status==="ACTIVE").length,lowStock:c.filter(ue=>ue.stock<=ue.lowStockThreshold).length,outOfStock:c.filter(ue=>ue.stock===0).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.products.title")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.products.subtitle")})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>n("/dashboard/hierarchical"),children:[r.jsx(aK,{className:"h-4 w-4"}),e("dashboard.products.messages.productsAndCollections")]}),r.jsxs(V,{variant:"outline",className:"gap-2",onClick:()=>We(!0),id:"tour-products-import-btn",children:[r.jsx(An,{className:"h-4 w-4"}),e("dashboard.products.messages.importBtn")]}),r.jsxs(V,{className:"gap-2",onClick:()=>{P(null),ft(),D(!0)},id:"tour-products-add-btn",children:[r.jsx(rr,{className:"h-4 w-4"}),e("dashboard.products.addProduct")]}),r.jsx(ir,{open:E,onOpenChange:D,children:r.jsxs(ar,{className:"max-w-4xl h-[90vh] flex flex-col p-0 overflow-hidden",children:[r.jsxs(lr,{className:"px-6 pt-6 pb-2 flex-shrink-0",children:[r.jsx(cr,{children:e(T?"dashboard.products.editProduct":"dashboard.products.addNewProduct")}),r.jsx(pr,{children:e("dashboard.products.enterProductDetails")})]}),r.jsx("div",{className:"flex-1 min-h-0 flex flex-col px-6 pb-6",children:r.jsx(YD,{initialData:Ue,initialImages:Ee,categories:u,brands:[],units:m,suppliers:y,onSave:br,onCancel:()=>D(!1),isEditing:!!T})})]})}),r.jsx(Nlt,{open:$e,onOpenChange:We,categories:u,brands:g,units:m,suppliers:y,onSuccess:()=>{Ye()}})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(we,{className:"border-r-4 border-r-blue-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.totalProducts")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:je.total})]}),r.jsx(Dt,{className:"h-8 w-8 text-blue-500 opacity-50"})]})})}),r.jsx(we,{className:"border-r-4 border-r-green-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.activeProducts")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:je.active})]}),r.jsx(Dt,{className:"h-8 w-8 text-green-500 opacity-50"})]})})}),r.jsx(we,{className:"border-r-4 border-r-yellow-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.lowStock")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:je.lowStock})]}),r.jsx(Xs,{className:"h-8 w-8 text-yellow-500 opacity-50"})]})})}),r.jsx(we,{className:"border-r-4 border-r-red-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.outOfStock")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:je.outOfStock})]}),r.jsx(Xs,{className:"h-8 w-8 text-red-500 opacity-50"})]})})})]}),r.jsxs(Kn,{value:Xe,onValueChange:ue=>{Ce(ue)},className:"w-full",children:[r.jsxs(_n,{className:"mb-4",children:[r.jsx(_r,{value:"all",children:e("dashboard.products.allProducts")}),r.jsxs(_r,{value:"low-stock",className:"gap-2",children:[e("dashboard.products.nearDepletion"),Xe!=="low-stock"&&je.lowStock>0&&r.jsx(et,{variant:"secondary",className:"h-5 px-1.5 min-w-[1.25rem]",children:je.lowStock})]}),r.jsxs(_r,{value:"out-of-stock",className:"gap-2",children:[e("dashboard.products.quantityDepleted"),Xe!=="out-of-stock"&&je.outOfStock>0&&r.jsx(et,{variant:"secondary",className:"h-5 px-1.5 min-w-[1.25rem]",children:je.outOfStock})]})]}),r.jsxs(we,{children:[r.jsx(st,{className:"border-b",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",id:"tour-products-search",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{placeholder:e("dashboard.products.searchPlaceholder"),value:S,onChange:ue=>j(ue.target.value),className:"pr-10"})]}),r.jsxs(mr,{value:k,onValueChange:N,children:[r.jsxs(dr,{className:"w-[180px]",children:[r.jsx(Wu,{className:"h-4 w-4 ml-2"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("dashboard.products.allStatuses")}),r.jsx(_e,{value:"ACTIVE",children:e("dashboard.products.active")}),r.jsx(_e,{value:"DRAFT",children:e("dashboard.products.draft")}),r.jsx(_e,{value:"ARCHIVED",children:e("dashboard.products.archived")})]})]}),r.jsxs(mr,{value:C,onValueChange:A,children:[r.jsxs(dr,{className:"w-[180px]",children:[r.jsx(Wu,{className:"h-4 w-4 ml-2"}),r.jsx(xr,{placeholder:e("dashboard.products.category")})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("dashboard.products.allCategories")}),u.map(ue=>r.jsx(_e,{value:ue.id,children:ue.nameAr||ue.name},ue.id))]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",className:"gap-2",onClick:Ha,disabled:w,children:[r.jsx(Dt,{className:"h-4 w-4"}),e("dashboard.products.messages.selectAll")]}),F.size>0&&r.jsxs(V,{variant:"destructive",className:"gap-2",onClick:qt,disabled:U,children:[r.jsx(Sr,{className:"h-4 w-4"}),U?e("dashboard.products.messages.deleting"):e("dashboard.products.messages.deleteSelected",{count:F.size})]}),r.jsxs(V,{variant:"outline",className:"gap-2",onClick:Rt,id:"tour-products-export-btn",children:[r.jsx(xn,{className:"h-4 w-4"}),e("dashboard.products.export")]}),r.jsxs("div",{className:"relative",children:[r.jsx(pe,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:wt}),r.jsxs(V,{variant:"outline",className:"gap-2",children:[r.jsx(An,{className:"h-4 w-4"}),e("dashboard.products.import")]})]})]})]})}),r.jsxs(Se,{className:"p-0",children:[w?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):Zs.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.products.noProducts")}),r.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.products.startAddingFirst")}),r.jsxs(V,{onClick:()=>{P(null),ft(),D(!0)},children:[r.jsx(rr,{className:"h-4 w-4 ml-2"}),e("dashboard.products.addProduct")]})]}):r.jsx("div",{className:"w-full max-w-full overflow-x-auto",dir:t.language==="ar"?"rtl":"ltr",children:r.jsxs(cs,{className:"w-full table-auto",style:{minWidth:"900px"},children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:`w-12 sticky ${s?"right-0":"left-0"} bg-background z-20 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:r.jsx(no,{checked:ss,onCheckedChange:Wa,"aria-label":"Select all"})}),r.jsx(Ae,{className:"font-semibold text-start min-w-[200px]",children:e("dashboard.products.product")}),r.jsx(Ae,{className:"font-semibold text-start w-32 whitespace-nowrap",children:"SKU"}),r.jsx(Ae,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.messages.path")}),r.jsx(Ae,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.price")}),r.jsx(Ae,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.stock")}),r.jsx(Ae,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.status")}),r.jsx(Ae,{className:`font-semibold text-center w-32 whitespace-nowrap sticky ${s?"left-0":"right-0"} bg-background z-20 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.products.actions")})]})}),r.jsx(us,{children:wa.map((ue,ne)=>{var ze,Ke,Ge;return r.jsxs(kt,{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-transparent dark:hover:from-gray-800 dark:hover:to-transparent transition-all duration-300 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${ne*50}ms`,animationDuration:"500ms"},children:[r.jsx(Ne,{className:`sticky ${s?"right-0":"left-0"} bg-background z-10 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]`,onClick:St=>St.stopPropagation(),children:r.jsx(no,{checked:F.has(ue.id),onCheckedChange:St=>Ts(ue.id,St),onClick:St=>St.stopPropagation(),"aria-label":`Select ${ue.nameAr||ue.name}`})}),r.jsx(Ne,{className:"cursor-pointer text-start",onClick:()=>{O(ue),I(!0)},children:r.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-xl flex items-center justify-center overflow-hidden border-2 border-transparent transition-all duration-300 group-hover:border-primary group-hover:shadow-lg group-hover:scale-110",children:(ze=ue.images)!=null&&ze[0]?r.jsx("img",{src:ue.images[0],alt:ue.nameAr,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):r.jsx(Mi,{className:"h-7 w-7 text-gray-400 transition-all duration-300 group-hover:text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0 text-start",children:[r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-primary transition-colors duration-300 break-words",children:ue.nameAr||ue.name}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 break-words",children:((Ke=ue.category)==null?void 0:Ke.nameAr)||((Ge=ue.category)==null?void 0:Ge.name)||" "})]})]})}),r.jsx(Ne,{className:"font-mono text-sm text-gray-600 dark:text-gray-300 text-start break-all",children:ue.sku}),r.jsx(Ne,{className:"font-mono text-sm text-gray-600 dark:text-gray-300 text-start break-all",children:ue.path||"-"}),r.jsx(Ne,{className:"text-start",children:r.jsxs("div",{className:"text-start",children:[r.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[Number(ue.price||0).toFixed(2)," "]}),ue.compareAtPrice&&r.jsxs("p",{className:"text-xs text-gray-500 line-through",children:[Number(ue.compareAtPrice).toFixed(2)," "]})]})}),r.jsx(Ne,{className:"text-start",children:r.jsxs("div",{className:`flex items-center gap-2 ${s?"justify-end":"justify-start"}`,children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ue.stock}),rs(ue.stock,ue.lowStockThreshold)]})}),r.jsx(Ne,{className:"text-start",children:Ie(ue.status)}),r.jsx(Ne,{className:`sticky ${s?"left-0":"right-0"} bg-background z-10 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:r.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:St=>{St.stopPropagation(),Pt(ue)},className:"hover:bg-blue-100 dark:hover:bg-blue-900 hover:text-blue-600",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",asChild:!0,onClick:St=>St.stopPropagation(),className:"hover:bg-green-100 dark:hover:bg-green-900 hover:text-green-600",children:r.jsx(tt,{to:`/products/${ue.id}`,target:"_blank",children:r.jsx(Cr,{className:"h-4 w-4"})})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:St=>{St.stopPropagation(),$t(ue.id)},className:"hover:bg-red-100 dark:hover:bg-red-900 hover:text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},ue.id)})})]})}),!w&&Te>0&&r.jsx($u,{currentPage:se,totalPages:Oe,totalItems:Te,itemsPerPage:oe,onPageChange:B,onItemsPerPageChange:de,itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t"})]})]})]}),r.jsx(ir,{open:M,onOpenChange:I,children:r.jsx(ar,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:_&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(lr,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(cr,{className:"text-2xl font-bold mb-2",children:_.nameAr||_.name}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Ie(_.status),_.featured&&r.jsx(et,{className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:" "}),r.jsx(et,{variant:"outline",className:"font-mono text-xs",children:_.sku})]})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>I(!1),className:"rounded-full",children:r.jsx(jr,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-gray-200 dark:border-gray-700",children:_.images&&_.images.length>0?r.jsx("img",{src:_.images[0],alt:_.nameAr,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Mi,{className:"h-24 w-24 text-gray-400"})})}),_.images&&_.images.length>1&&r.jsx("div",{className:"grid grid-cols-4 gap-2",children:_.images.slice(1,5).map((ue,ne)=>r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 border cursor-pointer hover:border-primary transition-all",children:r.jsx("img",{src:ue,alt:`${_.nameAr} ${ne+2}`,className:"w-full h-full object-cover"})},ne))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(we,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-baseline gap-3",children:[r.jsx("span",{className:"text-4xl font-bold text-primary",children:Number(_.price||0).toFixed(2)}),r.jsx("span",{className:"text-xl text-gray-600 dark:text-gray-400",children:""})]}),_.compareAtPrice&&r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[Number(_.compareAtPrice).toFixed(2)," "]}),r.jsxs(et,{className:"bg-red-500 text-white",children:[" ",Math.round((1-_.price/_.compareAtPrice)*100),"%"]})]}),_.cost&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[": ",Number(_.cost).toFixed(2)," "]})]})}),r.jsx(we,{children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:""}),rs(_.stock,_.lowStockThreshold)]}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-3xl font-bold",children:_.stock}),r.jsx("span",{className:"text-gray-500",children:" "})]}),r.jsx("div",{className:"mt-3 pt-3 border-t",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" : ",_.lowStockThreshold," "]})})]})}),_.category&&r.jsx(we,{children:r.jsxs(Se,{className:"pt-6",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:""}),r.jsx("p",{className:"text-lg font-semibold",children:_.category.nameAr||_.category.name})]})})]})]}),(_.description||_.descriptionAr)&&r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{className:"text-lg",children:""})}),r.jsx(Se,{children:r.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:_.descriptionAr||_.description})})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{className:"text-lg",children:" "})}),r.jsx(Se,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.barcode&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),r.jsx("p",{className:"font-mono font-semibold",children:_.barcode})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),r.jsx("p",{className:"font-semibold",children:new Date(_.createdAt).toLocaleDateString("ar-SA")})]})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(V,{className:"flex-1 gap-2",onClick:()=>{I(!1),Pt(_)},children:[r.jsx(Ga,{className:"h-4 w-4"}),e("dashboard.products.editProduct")]}),r.jsx(V,{variant:"outline",className:"flex-1 gap-2",asChild:!0,children:r.jsxs(tt,{to:`/products/${_.id}`,target:"_blank",children:[r.jsx(Cr,{className:"h-4 w-4"}),e("dashboard.products.viewInStore")]})})]})]})})}),r.jsx(ir,{open:ie,onOpenChange:ue=>{console.log(" Error dialog onOpenChange:",ue,"Current errors:",J.length),re(ue),ue||z([])},children:r.jsxs(ar,{className:"max-w-6xl max-h-[90vh]",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Xs,{className:"h-5 w-5 text-red-600"}),"   "]}),r.jsx(pr,{children:"    .          Excel."})]}),r.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 border-2 border-red-200 dark:border-red-800 rounded-lg p-5",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full",children:r.jsx(Xs,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg text-red-900 dark:text-red-300",children:["   : ",J.length]}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:"       Excel    "})]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:J.length})]})})]})}),J.length>0&&r.jsxs(we,{className:"border-2 border-red-200 dark:border-red-800",children:[r.jsxs(st,{className:"bg-red-50 dark:bg-red-950/30",children:[r.jsxs(it,{className:"text-lg flex items-center gap-2",children:[r.jsx(jr,{className:"h-5 w-5 text-red-600"}),"    "]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"          "})]}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ae,{className:"w-24 font-bold text-center",children:"#   Excel"}),r.jsx(Ae,{className:"font-bold min-w-[150px]",children:"  / SKU"}),r.jsx(Ae,{className:"font-bold min-w-[120px]",children:"  "}),r.jsx(Ae,{className:"font-bold",children:" "})]})}),r.jsx(us,{children:J.map((ue,ne)=>r.jsxs(kt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[r.jsx(Ne,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:ue.row}),r.jsx(Ne,{className:"font-medium",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"font-semibold",children:ue.productName||"(  )"}),ue.productName&&ue.productName!==ue.productName&&r.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",ue.productName]})]})}),r.jsx(Ne,{children:r.jsx(et,{variant:"outline",className:"font-semibold text-blue-700 dark:text-blue-400 border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-950/30",children:ue.column||""})}),r.jsx(Ne,{className:"text-red-700 dark:text-red-400 font-medium",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Xs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:ue.error})]})})]},ne))})]})})})]})]})}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{re(!1),z([])},className:"min-w-[100px]",children:""}),r.jsxs(V,{onClick:()=>{const ue=J.map(Ke=>({row:Ke.row,productName:Ke.productName||"",column:Ke.column||"",error:Ke.error})),ne=Br.json_to_sheet(ue),ze=Br.book_new();Br.book_append_sheet(ze,ne,"Import Errors"),eh(ze,`import_errors_${new Date().toISOString().split("T")[0]}.xlsx`),a({title:" ",description:"    "})},variant:"secondary",className:"min-w-[150px]",children:[r.jsx(xn,{className:"h-4 w-4 ml-2"}),"  "]})]})]})}),r.jsx(ZM,{open:R,onOpenChange:ue=>{L(ue),ue?q.current=!1:(q.current=!0,H({current:0,total:0,currentItem:""}),K.total>0&&K.current<K.total&&a({title:e("dashboard.products.importStopped"),description:e("dashboard.products.importStoppedDesc")}))},progress:K,title:e("dashboard.products.importingProducts"),description:e("dashboard.products.importingProductsDesc")})]})}function klt({open:e,onOpenChange:t,errors:s,title:a="  ",description:n="    .          Excel.",itemLabel:i="",className:o}){const[l,c]=f.useState(new Set),[d,u]=f.useState({}),h=b=>b.includes("Unique constraint failed")&&(b.includes("slug")||b.includes("productTag"))?"         (Slug)  .":b.includes("Unique constraint failed")&&b.includes("sku")?"  (SKU)  .      .":b.includes("Unique constraint failed")&&b.includes("barcode")?"  .    .":b.includes("Foreign key constraint failed")?"    .          .":b.includes("is missing")?"      .":b.includes("Invalid value")||b.includes("must be")?"   .      (    ).":b.includes("prisma")||b.includes("invocation")||b.includes("constraint")?"     .       .":b,m=b=>{u(w=>({...w,[b]:!w[b]}))},p=f.useMemo(()=>{const b={};return s.forEach(w=>{const v=w.column||"";b[v]||(b[v]=[]),b[v].push(w)}),b},[s]),g=b=>{c(w=>{const v=new Set(w);return v.has(b)?v.delete(b):v.add(b),v})},x=()=>{const b=s.map(S=>({" ":S.row," ":S.productName||S.itemName||"",:S.column||""," ":S.error})),w=Br.json_to_sheet(b),v=Br.book_new();Br.book_append_sheet(v,w," "),eh(v,`import_errors_${new Date().toISOString().split("T")[0]}.xlsx`)},y=b=>({Price:"text-orange-700 border-orange-300 bg-orange-50 dark:text-orange-400 dark:border-orange-700 dark:bg-orange-950/30",:"text-orange-700 border-orange-300 bg-orange-50 dark:text-orange-400 dark:border-orange-700 dark:bg-orange-950/30",Category:"text-purple-700 border-purple-300 bg-purple-50 dark:text-purple-400 dark:border-purple-700 dark:bg-purple-950/30",:"text-purple-700 border-purple-300 bg-purple-50 dark:text-purple-400 dark:border-purple-700 dark:bg-purple-950/30",Brand:"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30",:"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30",SKU:"text-cyan-700 border-cyan-300 bg-cyan-50 dark:text-cyan-400 dark:border-cyan-700 dark:bg-cyan-950/30",Name:"text-green-700 border-green-300 bg-green-50 dark:text-green-400 dark:border-green-700 dark:bg-green-950/30",:"text-green-700 border-green-300 bg-green-50 dark:text-green-400 dark:border-green-700 dark:bg-green-950/30",General:"text-gray-700 border-gray-300 bg-gray-50 dark:text-gray-400 dark:border-gray-700 dark:bg-gray-950/30",:"text-gray-700 border-gray-300 bg-gray-50 dark:text-gray-400 dark:border-gray-700 dark:bg-gray-950/30"})[b]||"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30";return r.jsx(ir,{open:e,onOpenChange:t,children:r.jsxs(ar,{className:xe("max-w-6xl max-h-[90vh]",o),children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(Xs,{className:"h-5 w-5 text-red-600"}),a]}),r.jsx(pr,{children:n})]}),r.jsxs("div",{className:"py-4 max-h-[70vh] overflow-y-auto space-y-4 text-right",dir:"rtl",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 border-2 border-red-200 dark:border-red-800 rounded-lg p-5",children:r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full",children:r.jsx(Ffe,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg text-red-900 dark:text-red-300",children:["   : ",s.length]}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:"       Excel    "})]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(p).slice(0,3).map(([b,w])=>r.jsxs(et,{variant:"outline",className:xe("cursor-pointer",y(b)),onClick:()=>g(b),children:[b,": ",w.length]},b)),Object.keys(p).length>3&&r.jsxs(et,{variant:"outline",className:"text-gray-500",children:["+",Object.keys(p).length-3,"  "]})]})})]})}),Object.entries(p).map(([b,w])=>r.jsxs(we,{className:"border-2 border-red-200 dark:border-red-800",children:[r.jsx(st,{className:"bg-red-50 dark:bg-red-950/30 cursor-pointer hover:bg-red-100 dark:hover:bg-red-950/50 transition-colors",onClick:()=>g(b),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(it,{className:"text-lg flex items-center gap-2",children:[r.jsx(et,{variant:"outline",className:xe("font-semibold",y(b)),children:b}),r.jsxs("span",{className:"text-sm font-normal text-gray-600 dark:text-gray-400",children:[w.length," ",w.length===1?"":""]})]}),l.has(b)?r.jsx(dC,{className:"h-5 w-5 text-gray-500"}):r.jsx(to,{className:"h-5 w-5 text-gray-500"})]})}),l.has(b)&&r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ae,{className:"w-24 font-bold text-center",children:"# "}),r.jsx(Ae,{className:"font-bold min-w-[150px]",children:i}),r.jsx(Ae,{className:"font-bold",children:" "})]})}),r.jsx(us,{children:w.map((v,S)=>{const j=`${b}-${S}`,k=v.error.includes("prisma")||v.error.includes("invocation")||v.error.includes("constraint");return r.jsxs(kt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[r.jsx(Ne,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:v.row}),r.jsx(Ne,{className:"font-medium",children:r.jsx("span",{className:"font-semibold",children:v.productName||v.itemName||"(  )"})}),r.jsx(Ne,{className:"text-red-700 dark:text-red-400 font-medium",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Xs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:h(v.error)})]}),k&&r.jsxs("div",{className:"mt-1",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 text-[10px] px-2 bg-red-100/50 hover:bg-red-200/50 dark:bg-red-900/30 dark:hover:bg-red-800/30 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800",onClick:()=>m(j),children:d[j]?"  ":"Dev ( )"}),d[j]&&r.jsx("div",{className:"mt-2 p-3 bg-gray-900 text-gray-100 rounded text-[10px] font-mono whitespace-pre-wrap border border-gray-700 overflow-x-auto text-left",dir:"ltr",children:v.error})]})]})})]},S)})})]})})})]},b)),s.length>0&&Object.keys(p).length===0&&r.jsxs(we,{className:"border-2 border-red-200 dark:border-red-800",children:[r.jsx(st,{className:"bg-red-50 dark:bg-red-950/30",children:r.jsxs(it,{className:"text-lg flex items-center gap-2",children:[r.jsx(jr,{className:"h-5 w-5 text-red-600"}),"    "]})}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-gray-50 dark:bg-gray-900",children:[r.jsx(Ae,{className:"w-24 font-bold text-center",children:"# "}),r.jsx(Ae,{className:"font-bold min-w-[150px]",children:i}),r.jsx(Ae,{className:"font-bold min-w-[120px]",children:""}),r.jsx(Ae,{className:"font-bold",children:" "})]})}),r.jsx(us,{children:s.map((b,w)=>{const v=`full-${w}`,S=b.error.includes("prisma")||b.error.includes("invocation")||b.error.includes("constraint");return r.jsxs(kt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[r.jsx(Ne,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:b.row}),r.jsx(Ne,{className:"font-medium",children:r.jsx("span",{className:"font-semibold",children:b.productName||b.itemName||"(  )"})}),r.jsx(Ne,{children:r.jsx(et,{variant:"outline",className:xe("font-semibold",y(b.column||"")),children:b.column||""})}),r.jsx(Ne,{className:"text-red-700 dark:text-red-400 font-medium",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Xs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:h(b.error)})]}),S&&r.jsxs("div",{className:"mt-1",children:[r.jsx(V,{variant:"ghost",size:"sm",className:"h-7 text-[10px] px-2 bg-red-100/50 hover:bg-red-200/50 dark:bg-red-900/30 dark:hover:bg-red-800/30 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800",onClick:()=>m(v),children:d[v]?"  ":"Dev ( )"}),d[v]&&r.jsx("div",{className:"mt-2 p-3 bg-gray-900 text-gray-100 rounded text-[10px] font-mono whitespace-pre-wrap border border-gray-700 overflow-x-auto text-left",dir:"ltr",children:b.error})]})]})})]},w)})})]})})})]})]}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>t(!1),className:"min-w-[100px]",children:""}),r.jsxs(V,{onClick:x,variant:"secondary",className:"min-w-[150px]",children:[r.jsx(xn,{className:"h-4 w-4 ml-2"}),"  "]})]})]})})}const uF={async uploadImage(e){const t=new FormData;t.append("files",e);const s=await Q.fetch(`${Q.coreUrl}/upload/images`,{method:"POST",body:t,requireAuth:!0}),a=s.data||s,i=a.files||(Array.isArray(a)?a:[]);if(!i||i.length===0)throw new Error("Invalid upload response: No files returned");return i[0]},async uploadImages(e){const t=new FormData;e.forEach(i=>{t.append("files",i)});const s=await Q.fetch(`${Q.coreUrl}/upload/images`,{method:"POST",body:t,requireAuth:!0}),a=s.data||s;return a.files||(Array.isArray(a)?a:[])}};function XD({categories:e,initialData:t,parentId:s,onSave:a,onCancel:n,saving:i=!1}){const{toast:o}=Lt(),[l,c]=f.useState(!1),[d,u]=f.useState(!1),h=f.useRef(null),[m,p]=f.useState({name:(t==null?void 0:t.name)||"",nameAr:(t==null?void 0:t.nameAr)||"",description:(t==null?void 0:t.description)||"",descriptionAr:(t==null?void 0:t.descriptionAr)||"",slug:(t==null?void 0:t.slug)||"",parentId:(t==null?void 0:t.parentId)||s||"",image:(t==null?void 0:t.image)||"",icon:(t==null?void 0:t.icon)||"",isActive:(t==null?void 0:t.isActive)!==void 0?t.isActive:!0});f.useEffect(()=>{t?p({name:t.name||"",nameAr:t.nameAr||"",description:t.description||"",descriptionAr:t.descriptionAr||"",slug:t.slug||"",parentId:t.parentId||s||"",image:t.image||"",icon:t.icon||"",isActive:t.isActive!==void 0?t.isActive:!0}):s&&p(b=>({...b,parentId:s}))},[t,s]);const g=async b=>{b.preventDefault(),m.name.trim()&&await a(m)},x=async b=>{var j;const w=(j=b.target.files)==null?void 0:j[0];if(!w)return;const{isValid:v,reason:S}=await cj(w);if(!v){o({title:"  ",description:S||"    ",variant:"destructive"});return}u(!0);try{const k=await uF.uploadImage(w);p(N=>({...N,image:k.secureUrl||k.url})),o({title:"  ",description:"   "})}catch(k){console.error("Failed to upload image:",k),o({title:"  ",description:"    .    .",variant:"destructive"})}finally{u(!1),h.current&&(h.current.value="")}},y=b=>{b.length>0&&p(w=>({...w,image:b[0]})),c(!1)};return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:r.jsxs("form",{id:"category-form",onSubmit:g,className:"space-y-4 pb-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" *"}),r.jsx(pe,{value:m.name,onChange:b=>p({...m,name:b.target.value}),placeholder:" ",required:!0})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" ()"}),r.jsx(pe,{value:m.nameAr,onChange:b=>p({...m,nameAr:b.target.value}),placeholder:"  "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:""}),r.jsx(Ys,{value:m.description,onChange:b=>p({...m,description:b.target.value}),placeholder:" ",rows:3})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" ()"}),r.jsx(Ys,{value:m.descriptionAr,onChange:b=>p({...m,descriptionAr:b.target.value}),placeholder:"  ",rows:3})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" (Slug)"}),r.jsx(pe,{value:m.slug,onChange:b=>p({...m,slug:b.target.value}),placeholder:"     "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" "}),r.jsxs(mr,{value:m.parentId||"none",onValueChange:b=>p({...m,parentId:b==="none"?"":b}),children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:"   ()"})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"  ( )"}),e.filter(b=>{if(t&&b.id===t.id)return!1;if(t){let w=b.parentId;for(;w;){if(w===t.id)return!1;const v=e.find(S=>S.id===w);w=v==null?void 0:v.parentId}}return!0}).map(b=>r.jsx(_e,{value:b.id,children:b.nameAr||b.name},b.id))]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:""}),r.jsxs("div",{className:"space-y-4",children:[m.image&&r.jsxs("div",{className:"relative group w-full max-w-[200px] aspect-square mx-auto",children:[r.jsx("img",{src:m.image,alt:"Category Preview",className:"w-full h-full object-cover rounded-md border shadow-sm"}),r.jsx(V,{type:"button",variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>p(b=>({...b,image:""})),children:r.jsx(Sr,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{type:"button",variant:"outline",className:"flex-1 flex items-center justify-center gap-2",onClick:()=>{var b;return(b=h.current)==null?void 0:b.click()},disabled:d,children:[d?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(An,{className:"h-4 w-4"})," "]}),r.jsxs(V,{type:"button",variant:"outline",className:"flex-1 flex items-center justify-center gap-2",onClick:()=>c(!0),children:[r.jsx(ij,{className:"h-4 w-4"}),""]})]}),r.jsx(pe,{value:m.image,onChange:b=>p({...m,image:b.target.value}),placeholder:"    ",className:"text-xs"})]})]}),r.jsx("input",{type:"file",ref:h,onChange:x,accept:"image/*",className:"hidden"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:""}),r.jsx(pe,{value:m.icon,onChange:b=>p({...m,icon:b.target.value}),placeholder:"    "})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:m.isActive,onChange:b=>p({...m,isActive:b.target.checked}),className:"h-4 w-4"}),r.jsx(Y,{htmlFor:"isActive",className:"cursor-pointer",children:""})]})]})}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-2 bg-background sticky bottom-0 z-10",children:[r.jsx(V,{type:"button",variant:"outline",onClick:n,disabled:i,children:""}),r.jsx(V,{type:"submit",form:"category-form",disabled:i||!m.name.trim(),children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin ml-2"})," ..."]}):t?"":""})]}),r.jsx(ob,{open:l,onOpenChange:c,onSelect:y,multiple:!1})]})}const qz=10,Gz=({page:e,totalPages:t,onPageChange:s,t:a})=>r.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>s(e-1),disabled:e<=1,children:r.jsx(Qo,{className:"h-4 w-4"})}),r.jsxs("div",{className:"text-sm font-medium",children:[a("common.page","Page")," ",e," ",a("common.of","of")," ",t]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>s(e+1),disabled:e>=t,children:r.jsx(Ms,{className:"h-4 w-4"})})]});function Clt(){const{t:e,i18n:t}=It(),s=t.language==="ar",{toast:a}=Lt(),{user:n}=$s(),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!0);f.useState([]);const[p,g]=f.useState(1),[x,y]=f.useState(1),[b,w]=f.useState(1),[v,S]=f.useState(1),[j,k]=f.useState(!1),[N,C]=f.useState(!1),[A,E]=f.useState(!1),[D,T]=f.useState({current:0,total:0,currentItem:""}),[P,_]=f.useState([]),[O,M]=f.useState(!1),[I,R]=f.useState("categories"),[L,K]=f.useState([]),[H,F]=f.useState(!1),[G,U]=f.useState([{id:"1",name:"VIP Tier",description:"VIP customers",color:"#FFD700",discountPercent:15,productCategories:[],assignedCustomers:[]},{id:"2",name:"Gold Tier",description:"Gold customers",color:"#C0C0C0",discountPercent:10,productCategories:[],assignedCustomers:[]},{id:"3",name:"Regular Tier",description:"Regular customers",color:"#CD7F32",discountPercent:5,productCategories:[],assignedCustomers:[]}]),[W,J]=f.useState(!1),[z,ie]=f.useState(null),[re,q]=f.useState({name:"",description:"",color:"#3B82F6",discountPercent:10,productCategories:[],assignedCustomers:[]}),[se,B]=f.useState([]),[oe,de]=f.useState(!1),[Te,He]=f.useState(null),[Oe,me]=f.useState({name:"",tierId:"",productCategoryIds:[],assignedCustomers:[],discountPercent:13,isActive:!0}),[Ue,ce]=f.useState(!1),[Ee,Pe]=f.useState(!1),[$e,We]=f.useState(null),[Xe,Ce]=f.useState({name:"",nameAr:"",code:"",logo:""}),Ye=ne=>{ne?(We(ne),Ce({name:ne.name||"",nameAr:ne.nameAr||"",code:ne.code||"",logo:ne.logo||""})):(We(null),Ce({name:"",nameAr:"",code:"",logo:""})),ce(!0)},ft=async()=>{if(Xe.name)try{Pe(!0),$e?(await fe.put(`/brands/${$e.id}`,Xe,{requireAuth:!0}),a({title:e("common.success"),description:"Brand updated successfully"})):(await fe.post("/brands",Xe,{requireAuth:!0}),a({title:e("common.success"),description:"Brand created successfully"})),ce(!1),$t()}catch(ne){console.error("Failed to save brand",ne),a({title:e("common.error"),description:ne.message||"Failed to save brand",variant:"destructive"})}finally{Pe(!1)}},Pt=async ne=>{if(confirm(e("common.confirmDelete")))try{await fe.delete(`/brands/${ne}`,{requireAuth:!0}),a({title:e("common.success"),description:"Brand deleted successfully"}),$t()}catch(ze){a({title:e("common.error"),description:ze.message||"Failed to delete brand",variant:"destructive"})}},vt=async ne=>{if(confirm(e("common.confirmDelete","    ")))try{m(!0),await fe.delete(`/categories/${ne}`,{requireAuth:!0}),a({title:e("common.success"),description:"Category deleted successfully"}),$t()}catch(ze){a({title:e("common.error"),description:ze.message||"Failed to delete category",variant:"destructive"})}finally{m(!1)}},Qt=async()=>{if(confirm("      "))try{m(!0);const ne=l.map(Ge=>Ge.id);if(ne.length===0){m(!1);return}const ze=async(Ge,St=3)=>{var lt;for(let ct=0;ct<St;ct++)try{await fe.delete(`/categories/${Ge}`,{requireAuth:!0});return}catch(Yt){if(((lt=Yt==null?void 0:Yt.response)==null?void 0:lt.status)===429&&ct<St-1){const sr=1e3*Math.pow(2,ct);await new Promise(ee=>setTimeout(ee,sr));continue}throw Yt}};let Ke=0;for(const Ge of ne){try{await ze(Ge),Ke++}catch(St){console.error("Failed to delete category:",Ge,St)}await new Promise(St=>setTimeout(St,200))}a({title:e("common.success"),description:`  ${Ke}  `}),$t()}catch(ne){a({title:e("common.error"),description:ne.message,variant:"destructive"})}finally{m(!1)}},br=async()=>{if(confirm("       "))try{m(!0);const ne=i.map(Ge=>Ge.id);if(ne.length===0){m(!1);return}const ze=async(Ge,St=3)=>{var lt;for(let ct=0;ct<St;ct++)try{await fe.delete(`/brands/${Ge}`,{requireAuth:!0});return}catch(Yt){if(((lt=Yt==null?void 0:Yt.response)==null?void 0:lt.status)===429&&ct<St-1){const sr=1e3*Math.pow(2,ct);await new Promise(ee=>setTimeout(ee,sr));continue}throw Yt}};let Ke=0;for(const Ge of ne){try{await ze(Ge),Ke++}catch(St){console.error("Failed to delete brand:",Ge,St)}await new Promise(St=>setTimeout(St,200))}a({title:e("common.success"),description:`  ${Ke}   `}),$t()}catch(ne){a({title:e("common.error"),description:ne.message,variant:"destructive"})}finally{m(!1)}},$t=f.useCallback(async()=>{try{m(!0);const[ne,ze,Ke]=await Promise.all([fe.get(`/brands?page=${p}&limit=${qz}`).catch(()=>({data:[],meta:{totalPages:1}})),fe.getCategories({page:b,limit:qz}),fe.getProducts({limit:"1000"}).catch(()=>[])]);ne&&typeof ne=="object"&&"data"in ne?(o(ne.data||[]),y(ne.meta&&ne.meta.totalPages||1)):(o(Array.isArray(ne)?ne:[]),y(1));let Ge=[];if(ze&&"meta"in ze)Ge=ze.categories,S(ze.meta.totalPages||1);else{const lt=ze;Ge=Array.isArray(lt)?lt:lt.categories||[],S(1)}c(Ge.map(lt=>{var ct;return{...lt,parentId:typeof lt.parentId=="object"?(ct=lt.parentId)==null?void 0:ct.id:lt.parentId}}));const St=Array.isArray(Ke)?Ke:Ke.products||[];u(St.map(lt=>{var Yt;let ct=[];return lt.categories&&Array.isArray(lt.categories)&&(ct=lt.categories.map(sr=>{var ee;return typeof sr=="string"?{categoryId:sr}:{categoryId:sr.categoryId||sr.id||((ee=sr.category)==null?void 0:ee.id),category:sr.category,id:sr.id}})),{id:lt.id,name:lt.name,nameAr:lt.nameAr||lt.name,brandId:lt.brandId||((Yt=lt.brand)==null?void 0:Yt.id),categories:ct,price:lt.price,description:lt.description,status:lt.status,images:lt.images,stock:lt.stock,sku:lt.sku,barcode:lt.barcode,cost:lt.cost,compareAtPrice:lt.compareAtPrice}}))}catch(ne){console.error("Failed to load data:",ne),a({title:e("common.error"),description:e("dashboard.categories.productCategories.loadError"),variant:"destructive"}),c([])}finally{m(!1)}},[e,a,p,b]);if(f.useEffect(()=>{$t()},[$t]),!!!(n!=null&&n.tenantId&&n.tenantId!=="default"&&n.tenantId!=="system"))return r.jsx(lF,{});const Ts=async()=>{try{m(!0);const ne=await fe.get("/categories?limit=10000&allFields=true");let ze=[];if(ne&&"categories"in ne?ze=ne.categories:ze=Array.isArray(ne)?ne:[],ne&&"meta"in ne&&ne.meta.totalPages>1){const X=ne.meta.totalPages;(await Promise.all(Array.from({length:X-1},(he,ge)=>fe.get(`/categories?limit=10000&page=${ge+2}&allFields=true`)))).forEach(he=>{he&&"categories"in he&&(ze=[...ze,...he.categories])})}let Ke=[];try{const X=await fe.getProducts({limit:1e4});if(X&&typeof X=="object"&&"data"in X){if(Ke=X.data||[],X.meta&&X.meta.totalPages>1){const le=X.meta.totalPages;(await Promise.all(Array.from({length:le-1},(ge,Be)=>fe.getProducts({limit:1e4,page:Be+2})))).forEach(ge=>{ge&&typeof ge=="object"&&"data"in ge?Ke=[...Ke,...ge.data||[]]:Array.isArray(ge)&&(Ke=[...Ke,...ge])})}}else Array.isArray(X)?Ke=X:X&&"products"in X&&(Ke=X.products||[])}catch(X){console.warn("Could not fetch all products for export:",X),Ke=d}const Ge=new Map;Ke.forEach(X=>{X.categories&&Array.isArray(X.categories)&&X.categories.forEach(le=>{var ge;const he=le.categoryId||le.id||((ge=le.category)==null?void 0:ge.id);he&&X.sku&&(Ge.has(he)||Ge.set(he,[]),Ge.get(he).push(X.sku))})});const St=new Map;ze.forEach(X=>{X.id&&St.set(X.id,X)});const lt=(X,le=!1)=>{const he=[];let ge=X;for(;ge;){const Be=le?ge.nameAr||ge.name||"":ge.name||"";if(Be&&he.unshift(Be),ge.parentId&&St.has(ge.parentId))ge=St.get(ge.parentId);else break}return he.join(" > ")},ct=[" ",""," ()",""," ()","","","",""," ","  ","  "," ","    "," "," "],Yt=ze.map(X=>{const le=X.id,he=Ge.get(le)||[],ge=he.join(", ");return{" ":lt(X,!0),:X.name||""," ()":X.nameAr||"",:X.description||""," ()":X.descriptionAr||"",:X.slug||"",:X.image||"",:X.icon||"",:X.isActive!==void 0?X.isActive?"":"":""," ":X.sortOrder||0,"  ":X.minQuantity||"","  ":X.maxQuantity||""," ":X.enableSlider!==void 0&&X.enableSlider?"":"","    ":X.applySliderToAllProducts!==void 0&&X.applySliderToAllProducts?"":""," ":X.productCount||he.length||0," ":ge}}),sr=Br.json_to_sheet(Yt,{header:ct}),ee=[{wch:50},{wch:25},{wch:25},{wch:40},{wch:40},{wch:25},{wch:50},{wch:20},{wch:10},{wch:12},{wch:15},{wch:15},{wch:15},{wch:30},{wch:12},{wch:100}];sr["!cols"]=ee;const ye=Br.book_new();Br.book_append_sheet(ye,sr,"Categories"),eh(ye,`categories_export_${new Date().toISOString().split("T")[0]}.xlsx`),a({title:e("common.success"),description:`${ze.length} categories exported successfully with product SKUs`})}catch(ne){console.error("Export error:",ne),a({variant:"destructive",title:e("common.error"),description:ne.message||"Failed to export categories"})}finally{m(!1)}},Ie=async ne=>{var Ke,Ge,St,lt,ct,Yt,sr,ee,ye,X,le,he,ge,Be,Fe,Re,De,ke;const ze=(Ke=ne.target.files)==null?void 0:Ke[0];if(ze)try{E(!0),_([]),M(!1),T({current:0,total:0,currentItem:"  ..."});const ve=await ze.arrayBuffer();T({current:10,total:100,currentItem:"  ..."});const Le=Dm(ve),rt=Le.Sheets[Le.SheetNames[0]],ut=Br.sheet_to_json(rt,{defval:""}),gt=ut.length;if(gt===0){E(!1),a({title:e("common.error"),description:"        Excel",variant:"destructive"}),ne.target.value="";return}T({current:0,total:gt,currentItem:`  ${gt} ...`});let Ot=0;const te=[],zt=Nr=>Nr.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),hr=(Nr,ot,Er)=>Nr[ot]||Nr[Er],ks=new Map;for(let Nr=0;Nr<ut.length;Nr++){const ot=ut[Nr],Er=Nr+2,ms=(Ge=hr(ot,"","Name"))==null?void 0:Ge.trim(),Hs=ms||` ${Er}`;if(T({current:Nr+1,total:gt,currentItem:` : ${Hs}...`}),!ms){te.push({row:Er,column:" / Name",itemName:Hs,error:"  "});continue}try{let vs;const ja=(St=hr(ot," ","Category Path"))==null?void 0:St.trim();if(ja){const Zt=ja.split(/\s*>\s*/).map(Et=>Et.trim()).filter(Et=>Et);if(Zt.length>1){const Et=Zt[Zt.length-1];let Xt;for(let Qr=0;Qr<Zt.length-1;Qr++){const Bs=Zt[Qr];let pa=ks.get(Bs);if(!pa){const Cs=l.find(Ca=>{var $i,In;return(($i=Ca.name)==null?void 0:$i.toLowerCase())===Bs.toLowerCase()||((In=Ca.nameAr)==null?void 0:In.toLowerCase())===Bs.toLowerCase()});pa=Cs==null?void 0:Cs.id}if(!pa)try{const Cs=zt(Bs);pa=(lt=(await fe.createCategory({name:Bs,slug:Cs,parentId:Xt||void 0,isActive:!0})).category)==null?void 0:lt.id,pa&&ks.set(Bs,pa)}catch(Cs){let Ca=((Yt=(ct=Cs==null?void 0:Cs.response)==null?void 0:ct.data)==null?void 0:Yt.message)||((sr=Cs==null?void 0:Cs.data)==null?void 0:sr.message)||(Cs==null?void 0:Cs.message)||"  ";Array.isArray(Ca)&&(Ca=Ca.join(", ")),te.push({row:Er,column:"  / Category Path",itemName:Hs,error:`    "${Bs}": ${Ca}`}),vs=void 0;break}Xt=pa}vs=Xt}}else{const Zt=(ee=ot.Parent)==null?void 0:ee.trim();if(Zt){let Et=ks.get(Zt);if(!Et){const Xt=l.find(Qr=>{var Bs,pa,Cs;return((Bs=Qr.name)==null?void 0:Bs.toLowerCase())===Zt.toLowerCase()||((pa=Qr.nameAr)==null?void 0:pa.toLowerCase())===Zt.toLowerCase()||((Cs=Qr.slug)==null?void 0:Cs.toLowerCase())===Zt.toLowerCase()});Et=Xt==null?void 0:Xt.id}if(vs=Et,!vs){te.push({row:Er,column:"Parent",itemName:Hs,error:`  "${Zt}"  .           .`});continue}}}const qr=(ye=hr(ot," ()","NameAr"))==null?void 0:ye.trim(),bn=((X=hr(ot,"","Description"))==null?void 0:X.trim())||"",On=(le=hr(ot," ()","DescriptionAr"))==null?void 0:le.trim(),Nc=((he=hr(ot,"","Slug"))==null?void 0:he.trim())||zt(ms),uu=(ge=hr(ot,"","Image"))==null?void 0:ge.trim(),hu=(Be=hr(ot,"","Icon"))==null?void 0:Be.trim(),lo=hr(ot,"","IsActive"),il=hr(ot," ","SortOrder")||ot.SortOrder,Sc=hr(ot,"  ","MinQuantity")||ot.MinQuantity,Ol=hr(ot,"  ","MaxQuantity")||ot.MaxQuantity,Li=hr(ot," ","EnableSlider"),ji=hr(ot,"    ","ApplySliderToAllProducts"),be=lo?lo.toString().toLowerCase()==="yes"||lo.toString().toLowerCase()==="true"||lo.toString()==="1"||lo.toString()==="":!0,pt=Li?Li.toString().toLowerCase()==="yes"||Li.toString().toLowerCase()==="true"||Li.toString()==="1"||Li.toString()==="":!1,Gt=ji?ji.toString().toLowerCase()==="yes"||ji.toString().toLowerCase()==="true"||ji.toString()==="1"||ji.toString()==="":!1,Tt=(Fe=(await fe.createCategory({name:ms.trim(),nameAr:qr||void 0,description:bn,descriptionAr:On||void 0,slug:Nc,parentId:vs||void 0,image:uu||void 0,icon:hu||void 0,isActive:be,sortOrder:il?Number(il):void 0,minQuantity:Sc?Number(Sc):void 0,maxQuantity:Ol?Number(Ol):void 0,enableSlider:pt,applySliderToAllProducts:Gt})).category)==null?void 0:Fe.id;ks.set(ms,Tt),Ot++,Nr<ut.length-1&&await new Promise(Zt=>setTimeout(Zt,100))}catch(vs){let ja="  ";if((De=(Re=vs==null?void 0:vs.response)==null?void 0:Re.data)!=null&&De.message){const On=vs.response.data.message;ja=Array.isArray(On)?On.join(", "):On}else if((ke=vs==null?void 0:vs.data)!=null&&ke.message){const On=vs.data.message;ja=Array.isArray(On)?On.join(", "):On}else vs!=null&&vs.message&&(ja=vs.message);let qr="General";const bn=ja.toLowerCase();bn.includes("name")||bn.includes("")?qr="Name":bn.includes("slug")?qr="Slug":bn.includes("parent")||bn.includes("")?qr="Parent":(bn.includes("tenant")||bn.includes("market"))&&(qr="General"),te.push({row:Er,column:qr,itemName:Hs,error:ja})}}const Ar=te.length>0?` !   ${Ot}   ${te.length}`:` !   ${Ot}  `;T({current:gt,total:gt,currentItem:Ar}),await new Promise(Nr=>setTimeout(Nr,1500)),te.length>0?(_(te),E(!1),await new Promise(Nr=>setTimeout(Nr,300)),M(!0)):E(!1),a({title:Ot>0?e("common.success"):e("common.error"),description:te.length>0?`  ${Ot}    ${te.length} `:`  ${Ot}  `,variant:te.length>Ot?"destructive":"default",duration:5e3}),$t(),ne.target.value=""}catch(ve){E(!1),a({title:e("common.error"),description:(ve==null?void 0:ve.message)||e("dashboard.categories.productCategories.importError"),variant:"destructive"})}finally{O||T({current:0,total:0,currentItem:""})}},rs=ne=>{Zs(),ne?(ie(ne),q({name:ne.name,description:ne.description,color:ne.color,discountPercent:ne.discountPercent,productCategories:ne.productCategories||[],assignedCustomers:ne.assignedCustomers||[]})):(ie(null),q({name:"",description:"",color:"#3B82F6",discountPercent:10,productCategories:[],assignedCustomers:[]})),J(!0)},Zs=async()=>{try{F(!0);const ne=await fe.get("/customers",{requireAuth:!0});K(Array.isArray(ne)?ne:ne.customers||[])}catch(ne){console.error("Failed to load customers:",ne),K([])}finally{F(!1)}},wa=()=>{if(!re.name){a({title:e("common.error"),description:e("dashboard.categories.customerTiers.tierNameRequired"),variant:"destructive"});return}if(z)U(ne=>ne.map(ze=>ze.id===z.id?{...ze,...re}:ze)),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.updateSuccess")});else{const ne={id:Date.now().toString(),...re};U(ze=>[...ze,ne]),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.addSuccess")})}J(!1)},Wa=ne=>{confirm(e("dashboard.categories.customerTiers.deleteConfirm"))&&(U(ze=>ze.filter(Ke=>Ke.id!==ne)),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.deleteSuccess")}))},Ha=ne=>{Zs(),ne?(He(ne),me({name:ne.name,tierId:ne.tierId,productCategoryIds:ne.productCategoryIds,assignedCustomers:ne.assignedCustomers||[],discountPercent:ne.discountPercent,isActive:ne.isActive})):(He(null),me({name:"",tierId:"",productCategoryIds:[],assignedCustomers:[],discountPercent:13,isActive:!0})),de(!0)},ss=()=>{if(!Oe.name||!Oe.tierId){a({title:e("common.error"),description:e("dashboard.categories.offers.nameAndTierRequired"),variant:"destructive"});return}const ne=G.find(ze=>ze.id===Oe.tierId);if(Te)B(ze=>ze.map(Ke=>Ke.id===Te.id?{...Ke,...Oe,tierName:(ne==null?void 0:ne.name)||""}:Ke)),a({title:e("common.success"),description:e("dashboard.categories.offers.updateSuccess")});else{const ze={id:Date.now().toString(),...Oe,tierName:(ne==null?void 0:ne.name)||""};B(Ke=>[...Ke,ze]),a({title:e("common.success"),description:e("dashboard.categories.offers.addSuccess")})}de(!1)},Rt=ne=>{confirm(e("dashboard.categories.offers.deleteConfirm"))&&(B(ze=>ze.filter(Ke=>Ke.id!==ne)),a({title:e("common.success"),description:e("dashboard.categories.offers.deleteSuccess")}))},wt=(ne,ze)=>(ne*(1-ze/100)).toFixed(2),je=()=>{k(!0)},ue=async ne=>{try{C(!0);const ze=ne.slug.trim()||ne.name.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");await fe.createCategory({name:ne.name.trim(),nameAr:ne.nameAr.trim()||void 0,description:ne.description.trim()||void 0,descriptionAr:ne.descriptionAr.trim()||void 0,slug:ze,parentId:ne.parentId||void 0,image:ne.image.trim()||void 0,icon:ne.icon.trim()||void 0,isActive:ne.isActive}),a({title:e("common.success"),description:"   "}),k(!1),$t()}catch(ze){throw console.error("Failed to create category:",ze),a({title:e("common.error"),description:(ze==null?void 0:ze.message)||"  ",variant:"destructive"}),ze}finally{C(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("dashboard.categories.title")}),r.jsx("p",{className:"text-muted-foreground text-lg",children:e("dashboard.categories.subtitle")})]})}),r.jsxs(Kn,{value:I,onValueChange:R,className:"w-full",children:[r.jsxs(_n,{className:"grid w-full grid-cols-4 mb-6",children:[r.jsxs(_r,{value:"categories",className:"gap-2",children:[r.jsx(_i,{className:"h-4 w-4"}),e("dashboard.categories.tabs.productCategories")]}),r.jsxs(_r,{value:"tiers",className:"gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),e("dashboard.categories.tabs.customerTiers")]}),r.jsxs(_r,{value:"offers",className:"gap-2",children:[r.jsx(Wh,{className:"h-4 w-4"}),e("dashboard.categories.tabs.offers")]}),r.jsxs(_r,{value:"brands",className:"gap-2",children:[r.jsx(xs,{className:"h-4 w-4"}),e("dashboard.categories.tabs.brands"," ")]})]}),r.jsxs(Yr,{value:"brands",children:[r.jsxs("div",{className:"flex justify-between items-center gap-2 mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:e("dashboard.brands.title","  ")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"destructive",onClick:br,className:"gap-2",disabled:i.length===0,children:[r.jsx(Sr,{className:"h-4 w-4"})," "]}),r.jsxs(V,{onClick:()=>Ye(),className:"gap-2",children:[r.jsx(rr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("dashboard.brands.addBrand","  ")]})]})]}),r.jsxs(we,{children:[r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"w-full max-w-full overflow-x-auto",dir:s?"rtl":"ltr",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-muted/50",children:[r.jsx(Ae,{className:"text-start font-semibold p-4",children:""}),r.jsx(Ae,{className:"text-start font-semibold",children:" ()"}),r.jsx(Ae,{className:"text-center font-semibold",children:""}),r.jsx(Ae,{className:"text-center font-semibold",children:""})]})}),r.jsx(us,{children:i.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:4,className:"text-center py-12 text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(xs,{className:"h-12 w-12 text-muted-foreground/50"}),r.jsx("p",{className:"text-lg",children:"   "}),r.jsx("p",{className:"text-sm",children:"    "})]})})}):i.map(ne=>r.jsxs(kt,{className:"hover:bg-muted/30",children:[r.jsx(Ne,{className:"font-medium text-start p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[ne.logo?r.jsx("img",{src:ne.logo,className:"h-8 w-8 object-contain rounded-md border bg-white p-0.5",alt:ne.name}):r.jsx("div",{className:"h-8 w-8 rounded-md bg-muted flex items-center justify-center",children:r.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})}),r.jsx("span",{children:ne.name})]})}),r.jsx(Ne,{className:"text-start",children:ne.nameAr||"-"}),r.jsx(Ne,{className:"text-center",children:r.jsx(et,{variant:"secondary",children:ne.code||"-"})}),r.jsx(Ne,{className:"text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Ye(ne),children:r.jsx(_1,{className:"h-4 w-4 text-blue-500"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Pt(ne.id),className:"text-destructive hover:text-destructive",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},ne.id))})]})})}),x>1&&r.jsx("div",{className:"px-4",children:r.jsx(Gz,{page:p,totalPages:x,onPageChange:g,t:e})})]})]}),r.jsxs(Yr,{value:"categories",children:[r.jsxs("div",{className:"flex justify-between items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:e("dashboard.categories.productCategories.allCategories")})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"destructive",onClick:Qt,className:"gap-2",disabled:l.length===0,children:[r.jsx(Sr,{className:"h-4 w-4"})," "]}),r.jsxs(V,{onClick:je,className:"gap-2",children:[r.jsx(rr,{className:"h-4 w-4"})," "]}),r.jsxs(V,{variant:"outline",onClick:Ts,className:"gap-2",children:[r.jsx(xn,{className:"h-4 w-4"}),e("dashboard.categories.productCategories.export")]}),r.jsxs("div",{className:"relative",children:[r.jsx(pe,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:Ie}),r.jsxs(V,{variant:"outline",className:"gap-2",children:[r.jsx(An,{className:"h-4 w-4"}),e("dashboard.categories.productCategories.import")]})]})]})]}),h?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsx(we,{children:r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"w-full max-w-full overflow-x-auto",dir:s?"rtl":"ltr",children:r.jsxs(cs,{style:{minWidth:"700px"},children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-muted/50",children:[r.jsx(Ae,{className:`font-semibold sticky ${s?"right-0":"left-0"} bg-background z-20 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:""}),r.jsx(Ae,{className:"font-semibold text-start",children:" ()"}),r.jsx(Ae,{className:"font-semibold text-start",children:""}),r.jsx(Ae,{className:"font-semibold text-center",children:" "}),r.jsx(Ae,{className:`font-semibold text-center sticky ${s?"left-0":"right-0"} bg-background z-20 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:""})]})}),r.jsx(us,{children:l.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx(_i,{className:"h-12 w-12 text-muted-foreground/50"}),r.jsx("p",{className:"text-lg",children:"  "}),r.jsx("p",{className:"text-sm",children:"   "})]})})}):l.map(ne=>r.jsxs(kt,{className:"hover:bg-muted/30 transition-colors",children:[r.jsx(Ne,{className:`font-medium py-4 sticky ${s?"right-0":"left-0"} bg-background z-10 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:r.jsxs("div",{className:`flex items-center gap-2 ${s?"flex-row-reverse":"flex-row"}`,children:[r.jsx(_i,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-start",children:ne.name||"-"})]})}),r.jsx(Ne,{className:"py-4 text-start",children:r.jsx("span",{className:"text-muted-foreground text-start",children:ne.nameAr||"-"})}),r.jsx(Ne,{className:"py-4 text-start max-w-md",children:r.jsx("div",{className:"truncate text-start",title:ne.description||void 0,children:ne.description||"-"})}),r.jsx(Ne,{className:"py-4 text-center",children:r.jsx(et,{variant:"secondary",className:"font-semibold",children:ne.productCount||0})}),r.jsx(Ne,{className:`py-4 sticky ${s?"left-0":"right-0"} bg-background z-10 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:r.jsxs("div",{className:`flex items-center gap-2 ${s?"justify-start":"justify-end"}`,children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{window.location.href="/dashboard/hierarchical"},className:"h-8 w-8 p-0",children:r.jsx(_1,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>vt(ne.id),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/10",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},ne.id))})]})})})}),v>1&&!h&&r.jsx(Gz,{page:b,totalPages:v,onPageChange:w,t:e})]}),r.jsxs(Yr,{value:"tiers",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs(V,{onClick:()=>rs(),size:"lg",children:[r.jsx(rr,{className:`h-5 w-5 ${s?"ml-2":"mr-2"}`}),e("dashboard.categories.customerTiers.addTier")]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:G.map(ne=>r.jsxs(we,{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-2",style:{backgroundColor:ne.color}}),r.jsx(st,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-5 w-5"}),ne.name]}),r.jsx(Kt,{children:ne.description})]}),r.jsxs(et,{variant:"secondary",className:"text-lg font-bold",style:{backgroundColor:`${ne.color}20`,color:ne.color},children:[ne.discountPercent,"%"]})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.linkedCategories")}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ne.productCategories.length>0?ne.productCategories.map(ze=>{const Ke=l.find(Ge=>Ge.id===ze);return Ke?r.jsx(et,{variant:"outline",className:"text-xs",children:Ke.name},ze):null}):r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.allCategories")})})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCustomers")}),r.jsx("div",{className:"mt-1",children:ne.assignedCustomers&&ne.assignedCustomers.length>0?r.jsx(et,{variant:"default",className:"text-xs",children:e("dashboard.categories.customerTiers.customerCount",{count:ne.assignedCustomers.length})}):r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAssigned")})})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>rs(ne),children:[r.jsx(_1,{className:"h-3 w-3 ml-1"}),e("common.edit")]}),r.jsx(V,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Wa(ne.id),children:r.jsx(Sr,{className:"h-3 w-3"})})]})]})})]},ne.id))}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(jm,{className:"h-5 w-5"}),e("dashboard.categories.customerTiers.howItWorks")]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc1")}),r.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc2")}),r.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc3")}),r.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc4")}),r.jsx("p",{className:"text-muted-foreground",children:e("dashboard.categories.customerTiers.howItWorksDesc5")})]})})]})]}),r.jsxs(Yr,{value:"offers",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs(V,{onClick:()=>Ha(),size:"lg",children:[r.jsx(rr,{className:`h-5 w-5 ${s?"ml-2":"mr-2"}`}),e("dashboard.categories.offers.addOffer")]})}),se.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"text-center py-16",children:[r.jsx(Wh,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.categories.offers.noOffers")}),r.jsx("p",{className:"text-muted-foreground mb-6",children:e("dashboard.categories.offers.noOffersDesc")}),r.jsxs(V,{onClick:()=>Ha(),children:[r.jsx(rr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("dashboard.categories.offers.addNewOffer")]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:se.map(ne=>r.jsxs(we,{className:`${ne.isActive?"border-green-500/50":"border-gray-300"}`,children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(mI,{className:"h-5 w-5 text-primary"}),ne.name]}),r.jsx(Kt,{children:e("dashboard.categories.offers.forTier",{tierName:ne.tierName})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:ne.isActive?"default":"secondary",children:ne.isActive?e("dashboard.categories.offers.active"):e("dashboard.categories.offers.inactive")}),r.jsxs(et,{variant:"outline",className:"text-lg font-bold text-green-600",children:[ne.discountPercent,"%"]})]})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.offers.includedCategories")}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ne.productCategoryIds.length>0?ne.productCategoryIds.map(ze=>{const Ke=l.find(Ge=>Ge.id===ze);return Ke?r.jsx(et,{variant:"outline",className:"text-xs",children:Ke.name},ze):null}):r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.offers.allCategories")})})]}),r.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:e("dashboard.categories.offers.example")})," ",e("dashboard.categories.offers.exampleDesc",{price:wt(100,ne.discountPercent)})]})}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(V,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Ha(ne),children:[r.jsx(_1,{className:"h-3 w-3 ml-1"}),e("common.edit")]}),r.jsx(V,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Rt(ne.id),children:r.jsx(Sr,{className:"h-3 w-3"})})]})]})})]},ne.id))})]})]}),r.jsx(ir,{open:Ue,onOpenChange:ce,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:$e?e("dashboard.brands.editBrand","  "):e("dashboard.brands.addBrand","  ")}),r.jsx(pr,{children:e("dashboard.brands.desc","   ")})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" (English) *"}),r.jsx(pe,{value:Xe.name,onChange:ne=>Ce({...Xe,name:ne.target.value}),placeholder:"Brand Name"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" ()"}),r.jsx(pe,{value:Xe.nameAr,onChange:ne=>Ce({...Xe,nameAr:ne.target.value}),placeholder:" ",style:{direction:"rtl"}})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" (Code)"}),r.jsx(pe,{value:Xe.code,onChange:ne=>Ce({...Xe,code:ne.target.value}),placeholder:"CODE"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:"  (Logo URL)"}),r.jsx(pe,{value:Xe.logo,onChange:ne=>Ce({...Xe,logo:ne.target.value}),placeholder:"https://..."})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>ce(!1),children:""}),r.jsxs(V,{onClick:ft,disabled:Ee,children:[Ee&&r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),""]})]})]})}),r.jsx(ir,{open:W,onOpenChange:J,children:r.jsxs(ar,{className:"sm:max-w-[600px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e(z?"dashboard.categories.customerTiers.editTier":"dashboard.categories.customerTiers.addNewTier")}),r.jsx(pr,{children:e("dashboard.categories.customerTiers.tierDesc")})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{children:[e("dashboard.categories.customerTiers.tierName")," *"]}),r.jsx(pe,{value:re.name,onChange:ne=>q({...re,name:ne.target.value}),placeholder:e("dashboard.categories.customerTiers.tierNamePlaceholder")})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.customerTiers.description")}),r.jsx(pe,{value:re.description,onChange:ne=>q({...re,description:ne.target.value}),placeholder:e("dashboard.categories.customerTiers.descriptionPlaceholder")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.customerTiers.color")}),r.jsx(pe,{type:"color",value:re.color,onChange:ne=>q({...re,color:ne.target.value}),className:"h-10"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.customerTiers.discountPercent")}),r.jsx(pe,{type:"number",min:"0",max:"100",value:re.discountPercent,onChange:ne=>q({...re,discountPercent:parseInt(ne.target.value)||0})})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.customerTiers.linkedProductCategories")}),r.jsxs(mr,{value:re.productCategories[0]||"",onValueChange:ne=>{ne&&!re.productCategories.includes(ne)&&q({...re,productCategories:[...re.productCategories,ne]})},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:e("dashboard.categories.customerTiers.selectProductCategory")})}),r.jsx(ur,{children:l.map(ne=>r.jsx(_e,{value:ne.id,children:ne.name},ne.id))})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:re.productCategories.map(ne=>{const ze=l.find(Ke=>Ke.id===ne);return ze?r.jsxs(et,{variant:"secondary",className:"cursor-pointer",onClick:()=>q({...re,productCategories:re.productCategories.filter(Ke=>Ke!==ne)}),children:[ze.name," "]},ne):null})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),e("dashboard.categories.customerTiers.assignCustomers")]}),H?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx(Je,{className:"h-5 w-5 animate-spin text-primary"}),r.jsx("span",{className:`text-sm text-muted-foreground ${s?"mr-2":"ml-2"}`,children:e("dashboard.categories.customerTiers.loadingCustomers")})]}):L.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAvailable")}):r.jsxs(r.Fragment,{children:[r.jsxs(mr,{value:"",onValueChange:ne=>{ne&&!re.assignedCustomers.includes(ne)&&q({...re,assignedCustomers:[...re.assignedCustomers,ne]})},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:e("dashboard.categories.customerTiers.selectCustomer")})}),r.jsx(ur,{children:L.filter(ne=>!re.assignedCustomers.includes(ne.id)).map(ne=>r.jsx(_e,{value:ne.id,children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:ne.name||e("dashboard.categories.customerTiers.customer")}),r.jsx("span",{className:"text-xs text-muted-foreground",children:ne.email})]})},ne.id))})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:re.assignedCustomers.map(ne=>{const ze=L.find(Ke=>Ke.id===ne);return ze?r.jsxs(et,{variant:"default",className:"cursor-pointer bg-primary/80 hover:bg-primary",onClick:()=>q({...re,assignedCustomers:re.assignedCustomers.filter(Ke=>Ke!==ne)}),children:[ze.name||ze.email," "]},ne):null})}),re.assignedCustomers.length>0&&r.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCount",{count:re.assignedCustomers.length})})]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>J(!1),children:e("common.cancel")}),r.jsx(V,{onClick:wa,children:e(z?"dashboard.categories.productCategories.update":"dashboard.categories.productCategories.add")})]})]})}),r.jsx(ir,{open:oe,onOpenChange:de,children:r.jsxs(ar,{className:"sm:max-w-[600px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e(Te?"dashboard.categories.offers.editOffer":"dashboard.categories.offers.addNewOffer")}),r.jsx(pr,{children:e("dashboard.categories.offers.offerDesc")})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{children:[e("dashboard.categories.offers.offerName")," *"]}),r.jsx(pe,{value:Oe.name,onChange:ne=>me({...Oe,name:ne.target.value}),placeholder:e("dashboard.categories.offers.offerNamePlaceholder")})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{children:[e("dashboard.categories.offers.customerTier")," *"]}),r.jsxs(mr,{value:Oe.tierId,onValueChange:ne=>me({...Oe,tierId:ne}),children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:e("dashboard.categories.offers.selectCustomerTier")})}),r.jsx(ur,{children:G.map(ne=>r.jsx(_e,{value:ne.id,children:ne.name},ne.id))})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.offers.discountPercent")}),r.jsx(pe,{type:"number",min:"0",max:"100",value:Oe.discountPercent,onChange:ne=>me({...Oe,discountPercent:parseInt(ne.target.value)||0})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:e("dashboard.categories.offers.productCategories")}),r.jsxs(mr,{value:Oe.productCategoryIds[0]||"",onValueChange:ne=>{ne&&!Oe.productCategoryIds.includes(ne)&&me({...Oe,productCategoryIds:[...Oe.productCategoryIds,ne]})},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:e("dashboard.categories.offers.selectProductCategories")})}),r.jsx(ur,{children:l.map(ne=>r.jsx(_e,{value:ne.id,children:ne.name},ne.id))})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Oe.productCategoryIds.map(ne=>{const ze=l.find(Ke=>Ke.id===ne);return ze?r.jsxs(et,{variant:"secondary",className:"cursor-pointer",onClick:()=>me({...Oe,productCategoryIds:Oe.productCategoryIds.filter(Ke=>Ke!==ne)}),children:[ze.name," "]},ne):null})})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),e("dashboard.categories.customerTiers.assignCustomers")]}),H?r.jsxs("div",{className:"flex items-center justify-center py-4",children:[r.jsx(Je,{className:"h-5 w-5 animate-spin text-primary"}),r.jsx("span",{className:`text-sm text-muted-foreground ${s?"mr-2":"ml-2"}`,children:e("dashboard.categories.customerTiers.loadingCustomers")})]}):L.length===0?r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAvailable")}):r.jsxs(r.Fragment,{children:[r.jsxs(mr,{value:"",onValueChange:ne=>{ne&&!Oe.assignedCustomers.includes(ne)&&me({...Oe,assignedCustomers:[...Oe.assignedCustomers,ne]})},children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:e("dashboard.categories.customerTiers.selectCustomer")})}),r.jsx(ur,{children:L.filter(ne=>!Oe.assignedCustomers.includes(ne.id)).map(ne=>r.jsx(_e,{value:ne.id,children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:ne.name||e("dashboard.categories.customerTiers.customer")}),r.jsx("span",{className:"text-xs text-muted-foreground",children:ne.email})]})},ne.id))})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Oe.assignedCustomers.map(ne=>{const ze=L.find(Ke=>Ke.id===ne);return ze?r.jsxs(et,{variant:"default",className:"cursor-pointer bg-green-600 hover:bg-green-700",onClick:()=>me({...Oe,assignedCustomers:Oe.assignedCustomers.filter(Ke=>Ke!==ne)}),children:[ze.name||ze.email," "]},ne):null})}),Oe.assignedCustomers.length>0&&r.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCount",{count:Oe.assignedCustomers.length})})]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>de(!1),children:e("common.cancel")}),r.jsx(V,{onClick:ss,children:e(Te?"dashboard.categories.productCategories.update":"dashboard.categories.productCategories.add")})]})]})}),r.jsx(ZM,{open:A,onOpenChange:ne=>{!ne&&D.current<D.total&&D.total>0||E(ne)},progress:D,title:e("dashboard.categories.productCategories.importingCategories"),description:e("dashboard.categories.productCategories.importingCategoriesDesc")}),r.jsx(klt,{open:O,onOpenChange:M,errors:P,title:e("dashboard.categories.productCategories.importErrorTitle"),description:e("dashboard.categories.productCategories.importErrorDesc"),itemLabel:e("dashboard.categories.productCategories.categoryName")}),r.jsx(ir,{open:j,onOpenChange:k,children:r.jsxs(ar,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e("dashboard.categories.productCategories.addNewCategory")}),r.jsx(pr,{children:e("dashboard.categories.productCategories.addCategoryDesc")})]}),r.jsx(XD,{categories:l,initialData:null,parentId:void 0,onSave:ue,onCancel:()=>k(!1),saving:N})]})})]})}function Alt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return f.useMemo(()=>a=>{t.forEach(n=>n(a))},t)}const oE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vv(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hF(e){return"nodeType"in e}function Do(e){var t,s;return e?vv(e)?e:hF(e)&&(t=(s=e.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function mF(e){const{Document:t}=Do(e);return e instanceof t}function Yj(e){return vv(e)?!1:e instanceof Do(e).HTMLElement}function boe(e){return e instanceof Do(e).SVGElement}function yv(e){return e?vv(e)?e.document:hF(e)?mF(e)?e:Yj(e)||boe(e)?e.ownerDocument:document:document:document}const cd=oE?f.useLayoutEffect:f.useEffect;function lE(e){const t=f.useRef(e);return cd(()=>{t.current=e}),f.useCallback(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return t.current==null?void 0:t.current(...a)},[])}function Elt(){const e=f.useRef(null),t=f.useCallback((a,n)=>{e.current=setInterval(a,n)},[]),s=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,s]}function Hw(e,t){t===void 0&&(t=[e]);const s=f.useRef(e);return cd(()=>{s.current!==e&&(s.current=e)},t),s}function Xj(e,t){const s=f.useRef();return f.useMemo(()=>{const a=e(s.current);return s.current=a,a},[...t])}function Ik(e){const t=lE(e),s=f.useRef(null),a=f.useCallback(n=>{n!==s.current&&(t==null||t(n,s.current)),s.current=n},[]);return[s,a]}function Rk(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let R4={};function Qj(e,t){return f.useMemo(()=>{if(t)return t;const s=R4[e]==null?0:R4[e]+1;return R4[e]=s,e+"-"+s},[e,t])}function woe(e){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return a.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const Ng=woe(1),qw=woe(-1);function Plt(e){return"clientX"in e&&"clientY"in e}function cE(e){if(!e)return!1;const{KeyboardEvent:t}=Do(e.target);return t&&e instanceof t}function Tlt(e){if(!e)return!1;const{TouchEvent:t}=Do(e.target);return t&&e instanceof t}function Mk(e){if(Tlt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:s}=e.touches[0];return{x:t,y:s}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:s}=e.changedTouches[0];return{x:t,y:s}}}return Plt(e)?{x:e.clientX,y:e.clientY}:null}const th=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:s}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:s}=e;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(e){if(e)return[th.Translate.toString(e),th.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:s,easing:a}=e;return t+" "+s+"ms "+a}}}),Kz="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _lt(e){return e.matches(Kz)?e:e.querySelector(Kz)}const Dlt={display:"none"};function Olt(e){let{id:t,value:s}=e;return ae.createElement("div",{id:t,style:Dlt},s)}function Ilt(e){let{id:t,announcement:s,ariaLiveType:a="assertive"}=e;const n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ae.createElement("div",{id:t,style:n,role:"status","aria-live":a,"aria-atomic":!0},s)}function Rlt(){const[e,t]=f.useState("");return{announce:f.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const joe=f.createContext(null);function Mlt(e){const t=f.useContext(joe);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Flt(){const[e]=f.useState(()=>new Set),t=f.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[f.useCallback(a=>{let{type:n,event:i}=a;e.forEach(o=>{var l;return(l=o[n])==null?void 0:l.call(o,i)})},[e]),t]}const Llt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$lt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Blt(e){let{announcements:t=$lt,container:s,hiddenTextDescribedById:a,screenReaderInstructions:n=Llt}=e;const{announce:i,announcement:o}=Rlt(),l=Qj("DndLiveRegion"),[c,d]=f.useState(!1);if(f.useEffect(()=>{d(!0)},[]),Mlt(f.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:p}=h;t.onDragMove&&i(t.onDragMove({active:m,over:p}))},onDragOver(h){let{active:m,over:p}=h;i(t.onDragOver({active:m,over:p}))},onDragEnd(h){let{active:m,over:p}=h;i(t.onDragEnd({active:m,over:p}))},onDragCancel(h){let{active:m,over:p}=h;i(t.onDragCancel({active:m,over:p}))}}),[i,t])),!c)return null;const u=ae.createElement(ae.Fragment,null,ae.createElement(Olt,{id:a,value:n.draggable}),ae.createElement(Ilt,{id:l,announcement:o}));return s?rc.createPortal(u,s):u}var ei;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ei||(ei={}));function Fk(){}function QD(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Noe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return f.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const dd=Object.freeze({x:0,y:0});function Soe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ult(e,t){const s=Mk(e);if(!s)return"0 0";const a={x:(s.x-t.left)/t.width*100,y:(s.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function koe(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return s-a}function Vlt(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return a-s}function Yz(e){let{left:t,top:s,height:a,width:n}=e;return[{x:t,y:s},{x:t+n,y:s},{x:t,y:s+a},{x:t+n,y:s+a}]}function Coe(e,t){if(!e||e.length===0)return null;const[s]=e;return s[t]}function Xz(e,t,s){return t===void 0&&(t=e.left),s===void 0&&(s=e.top),{x:t+e.width*.5,y:s+e.height*.5}}const zlt=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:a}=e;const n=Xz(t,t.left,t.top),i=[];for(const o of a){const{id:l}=o,c=s.get(l);if(c){const d=Soe(Xz(c),n);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(koe)},Wlt=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:a}=e;const n=Yz(t),i=[];for(const o of a){const{id:l}=o,c=s.get(l);if(c){const d=Yz(c),u=n.reduce((m,p,g)=>m+Soe(d[g],p),0),h=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:h}})}}return i.sort(koe)};function Hlt(e,t){const s=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=n-a,l=i-s;if(a<n&&s<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const qlt=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:a}=e;const n=[];for(const i of a){const{id:o}=i,l=s.get(o);if(l){const c=Hlt(l,t);c>0&&n.push({id:o,data:{droppableContainer:i,value:c}})}}return n.sort(Vlt)};function Glt(e,t,s){return{...e,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function Aoe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:dd}function Klt(e){return function(s){for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return n.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...s})}}const Ylt=Klt(1);function Eoe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Xlt(e,t,s){const a=Eoe(t);if(!a)return e;const{scaleX:n,scaleY:i,x:o,y:l}=a,c=e.left-o-(1-n)*parseFloat(s),d=e.top-l-(1-i)*parseFloat(s.slice(s.indexOf(" ")+1)),u=n?e.width/n:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const Qlt={ignoreTransform:!1};function bv(e,t){t===void 0&&(t=Qlt);let s=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Do(e).getComputedStyle(e);d&&(s=Xlt(s,d,u))}const{top:a,left:n,width:i,height:o,bottom:l,right:c}=s;return{top:a,left:n,width:i,height:o,bottom:l,right:c}}function Qz(e){return bv(e,{ignoreTransform:!0})}function Jlt(e){const t=e.innerWidth,s=e.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function Zlt(e,t){return t===void 0&&(t=Do(e).getComputedStyle(e)),t.position==="fixed"}function ect(e,t){t===void 0&&(t=Do(e).getComputedStyle(e));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{const i=t[n];return typeof i=="string"?s.test(i):!1})}function dE(e,t){const s=[];function a(n){if(t!=null&&s.length>=t||!n)return s;if(mF(n)&&n.scrollingElement!=null&&!s.includes(n.scrollingElement))return s.push(n.scrollingElement),s;if(!Yj(n)||boe(n)||s.includes(n))return s;const i=Do(e).getComputedStyle(n);return n!==e&&ect(n,i)&&s.push(n),Zlt(n,i)?s:a(n.parentNode)}return e?a(e):s}function Poe(e){const[t]=dE(e,1);return t??null}function M4(e){return!oE||!e?null:vv(e)?e:hF(e)?mF(e)||e===yv(e).scrollingElement?window:Yj(e)?e:null:null}function Toe(e){return vv(e)?e.scrollX:e.scrollLeft}function _oe(e){return vv(e)?e.scrollY:e.scrollTop}function JD(e){return{x:Toe(e),y:_oe(e)}}var mi;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(mi||(mi={}));function Doe(e){return!oE||!e?!1:e===document.scrollingElement}function Ooe(e){const t={x:0,y:0},s=Doe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-s.width,y:e.scrollHeight-s.height},n=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:n,isLeft:i,isBottom:o,isRight:l,maxScroll:a,minScroll:t}}const tct={x:.2,y:.2};function rct(e,t,s,a,n){let{top:i,left:o,right:l,bottom:c}=s;a===void 0&&(a=10),n===void 0&&(n=tct);const{isTop:d,isBottom:u,isLeft:h,isRight:m}=Ooe(e),p={x:0,y:0},g={x:0,y:0},x={height:t.height*n.y,width:t.width*n.x};return!d&&i<=t.top+x.height?(p.y=mi.Backward,g.y=a*Math.abs((t.top+x.height-i)/x.height)):!u&&c>=t.bottom-x.height&&(p.y=mi.Forward,g.y=a*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(p.x=mi.Forward,g.x=a*Math.abs((t.right-x.width-l)/x.width)):!h&&o<=t.left+x.width&&(p.x=mi.Backward,g.x=a*Math.abs((t.left+x.width-o)/x.width)),{direction:p,speed:g}}function sct(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:s,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:s,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}function Ioe(e){return e.reduce((t,s)=>Ng(t,JD(s)),dd)}function act(e){return e.reduce((t,s)=>t+Toe(s),0)}function nct(e){return e.reduce((t,s)=>t+_oe(s),0)}function Roe(e,t){if(t===void 0&&(t=bv),!e)return;const{top:s,left:a,bottom:n,right:i}=t(e);Poe(e)&&(n<=0||i<=0||s>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ict=[["x",["left","right"],act],["y",["top","bottom"],nct]];class fF{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=dE(s),n=Ioe(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of ict)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(a),u=n[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...s)})},this.target=t}add(t,s,a){var n;(n=this.target)==null||n.addEventListener(t,s,a),this.listeners.push([t,s,a])}}function oct(e){const{EventTarget:t}=Do(e);return e instanceof t?e:yv(e)}function F4(e,t){const s=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(s**2+a**2)>t:"x"in t&&"y"in t?s>t.x&&a>t.y:"x"in t?s>t.x:"y"in t?a>t.y:!1}var Yl;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Yl||(Yl={}));function Jz(e){e.preventDefault()}function lct(e){e.stopPropagation()}var Os;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Os||(Os={}));const Moe={start:[Os.Space,Os.Enter],cancel:[Os.Esc],end:[Os.Space,Os.Enter,Os.Tab]},cct=(e,t)=>{let{currentCoordinates:s}=t;switch(e.code){case Os.Right:return{...s,x:s.x+25};case Os.Left:return{...s,x:s.x-25};case Os.Down:return{...s,y:s.y+25};case Os.Up:return{...s,y:s.y-25}}};class pF{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new lb(yv(s)),this.windowListeners=new lb(Do(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Yl.Resize,this.handleCancel),this.windowListeners.add(Yl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Yl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,a=t.node.current;a&&Roe(a),s(dd)}handleKeyDown(t){if(cE(t)){const{active:s,context:a,options:n}=this.props,{keyboardCodes:i=Moe,coordinateGetter:o=cct,scrollBehavior:l="smooth"}=n,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=a.current,u=d?{x:d.left,y:d.top}:dd;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:s,context:a.current,currentCoordinates:u});if(h){const m=qw(h,u),p={x:0,y:0},{scrollableAncestors:g}=a.current;for(const x of g){const y=t.code,{isTop:b,isRight:w,isLeft:v,isBottom:S,maxScroll:j,minScroll:k}=Ooe(x),N=sct(x),C={x:Math.min(y===Os.Right?N.right-N.width/2:N.right,Math.max(y===Os.Right?N.left:N.left+N.width/2,h.x)),y:Math.min(y===Os.Down?N.bottom-N.height/2:N.bottom,Math.max(y===Os.Down?N.top:N.top+N.height/2,h.y))},A=y===Os.Right&&!w||y===Os.Left&&!v,E=y===Os.Down&&!S||y===Os.Up&&!b;if(A&&C.x!==h.x){const D=x.scrollLeft+m.x,T=y===Os.Right&&D<=j.x||y===Os.Left&&D>=k.x;if(T&&!m.y){x.scrollTo({left:D,behavior:l});return}T?p.x=x.scrollLeft-D:p.x=y===Os.Right?x.scrollLeft-j.x:x.scrollLeft-k.x,p.x&&x.scrollBy({left:-p.x,behavior:l});break}else if(E&&C.y!==h.y){const D=x.scrollTop+m.y,T=y===Os.Down&&D<=j.y||y===Os.Up&&D>=k.y;if(T&&!m.x){x.scrollTo({top:D,behavior:l});return}T?p.y=x.scrollTop-D:p.y=y===Os.Down?x.scrollTop-j.y:x.scrollTop-k.y,p.y&&x.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Ng(qw(h,this.referenceCoordinates),p))}}}handleMove(t,s){const{onMove:a}=this.props;t.preventDefault(),a(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pF.activators=[{eventName:"onKeyDown",handler:(e,t,s)=>{let{keyboardCodes:a=Moe,onActivation:n}=t,{active:i}=s;const{code:o}=e.nativeEvent;if(a.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0)}return!1}}];function Zz(e){return!!(e&&"distance"in e)}function eW(e){return!!(e&&"delay"in e)}class xF{constructor(t,s,a){var n;a===void 0&&(a=oct(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:i}=t,{target:o}=i;this.props=t,this.events=s,this.document=yv(o),this.documentListeners=new lb(this.document),this.listeners=new lb(a),this.windowListeners=new lb(Do(o)),this.initialCoordinates=(n=Mk(i))!=null?n:dd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Yl.Resize,this.handleCancel),this.windowListeners.add(Yl.DragStart,Jz),this.windowListeners.add(Yl.VisibilityChange,this.handleCancel),this.windowListeners.add(Yl.ContextMenu,Jz),this.documentListeners.add(Yl.Keydown,this.handleKeydown),s){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eW(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(Zz(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:a,onPending:n}=this.props;n(a,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(Yl.Click,lct,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Yl.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:a,initialCoordinates:n,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!n)return;const c=(s=Mk(t))!=null?s:dd,d=qw(n,c);if(!a&&l){if(Zz(l)){if(l.tolerance!=null&&F4(d,l.tolerance))return this.handleCancel();if(F4(d,l.distance))return this.handleStart()}if(eW(l)&&F4(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===Os.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const dct={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uE extends xF{constructor(t){const{event:s}=t,a=yv(s.target);super(t,dct,a)}}uE.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return!s.isPrimary||s.button!==0?!1:(a==null||a({event:s}),!0)}}];const uct={move:{name:"mousemove"},end:{name:"mouseup"}};var ZD;(function(e){e[e.RightClick=2]="RightClick"})(ZD||(ZD={}));class hct extends xF{constructor(t){super(t,uct,yv(t.event.target))}}hct.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return s.button===ZD.RightClick?!1:(a==null||a({event:s}),!0)}}];const L4={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mct extends xF{constructor(t){super(t,L4)}static setup(){return window.addEventListener(L4.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(L4.move.name,t)};function t(){}}}mct.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;const{touches:n}=s;return n.length>1?!1:(a==null||a({event:s}),!0)}}];var cb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(cb||(cb={}));var Lk;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lk||(Lk={}));function fct(e){let{acceleration:t,activator:s=cb.Pointer,canScroll:a,draggingRect:n,enabled:i,interval:o=5,order:l=Lk.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:m}=e;const p=xct({delta:h,disabled:!i}),[g,x]=Elt(),y=f.useRef({x:0,y:0}),b=f.useRef({x:0,y:0}),w=f.useMemo(()=>{switch(s){case cb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case cb.DraggableRect:return n}},[s,n,c]),v=f.useRef(null),S=f.useCallback(()=>{const k=v.current;if(!k)return;const N=y.current.x*b.current.x,C=y.current.y*b.current.y;k.scrollBy(N,C)},[]),j=f.useMemo(()=>l===Lk.TreeOrder?[...d].reverse():d,[l,d]);f.useEffect(()=>{if(!i||!d.length||!w){x();return}for(const k of j){if((a==null?void 0:a(k))===!1)continue;const N=d.indexOf(k),C=u[N];if(!C)continue;const{direction:A,speed:E}=rct(k,C,w,t,m);for(const D of["x","y"])p[D][A[D]]||(E[D]=0,A[D]=0);if(E.x>0||E.y>0){x(),v.current=k,g(S,o),y.current=E,b.current=A;return}}y.current={x:0,y:0},b.current={x:0,y:0},x()},[t,S,a,x,i,o,JSON.stringify(w),JSON.stringify(p),g,d,j,u,JSON.stringify(m)])}const pct={x:{[mi.Backward]:!1,[mi.Forward]:!1},y:{[mi.Backward]:!1,[mi.Forward]:!1}};function xct(e){let{delta:t,disabled:s}=e;const a=Rk(t);return Xj(n=>{if(s||!a||!n)return pct;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[mi.Backward]:n.x[mi.Backward]||i.x===-1,[mi.Forward]:n.x[mi.Forward]||i.x===1},y:{[mi.Backward]:n.y[mi.Backward]||i.y===-1,[mi.Forward]:n.y[mi.Forward]||i.y===1}}},[s,t,a])}function gct(e,t){const s=t!=null?e.get(t):void 0,a=s?s.node.current:null;return Xj(n=>{var i;return t==null?null:(i=a??n)!=null?i:null},[a,t])}function vct(e,t){return f.useMemo(()=>e.reduce((s,a)=>{const{sensor:n}=a,i=n.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,a)}));return[...s,...i]},[]),[e,t])}var Gw;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gw||(Gw={}));var eO;(function(e){e.Optimized="optimized"})(eO||(eO={}));const tW=new Map;function yct(e,t){let{dragging:s,dependencies:a,config:n}=t;const[i,o]=f.useState(null),{frequency:l,measure:c,strategy:d}=n,u=f.useRef(e),h=y(),m=Hw(h),p=f.useCallback(function(b){b===void 0&&(b=[]),!m.current&&o(w=>w===null?b:w.concat(b.filter(v=>!w.includes(v))))},[m]),g=f.useRef(null),x=Xj(b=>{if(h&&!s)return tW;if(!b||b===tW||u.current!==e||i!=null){const w=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){w.set(v.id,v.rect.current);continue}const S=v.node.current,j=S?new fF(c(S),S):null;v.rect.current=j,j&&w.set(v.id,j)}return w}return b},[e,i,s,h,c]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{h||p()},[s,h]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},l))},[l,h,p,...a]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:i!=null};function y(){switch(d){case Gw.Always:return!1;case Gw.BeforeDragging:return s;default:return!s}}}function gF(e,t){return Xj(s=>e?s||(typeof t=="function"?t(e):e):null,[t,e])}function bct(e,t){return gF(e,t)}function wct(e){let{callback:t,disabled:s}=e;const a=lE(t),n=f.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,s]);return f.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function hE(e){let{callback:t,disabled:s}=e;const a=lE(t),n=f.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[s]);return f.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function jct(e){return new fF(bv(e),e)}function rW(e,t,s){t===void 0&&(t=jct);const[a,n]=f.useState(null);function i(){n(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??s)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=wct({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=hE({callback:i});return cd(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),a}function Nct(e){const t=gF(e);return Aoe(e,t)}const sW=[];function Sct(e){const t=f.useRef(e),s=Xj(a=>e?a&&a!==sW&&e&&t.current&&e.parentNode===t.current.parentNode?a:dE(e):sW,[e]);return f.useEffect(()=>{t.current=e},[e]),s}function kct(e){const[t,s]=f.useState(null),a=f.useRef(e),n=f.useCallback(i=>{const o=M4(i.target);o&&s(l=>l?(l.set(o,JD(o)),new Map(l)):null)},[]);return f.useEffect(()=>{const i=a.current;if(e!==i){o(i);const l=e.map(c=>{const d=M4(c);return d?(d.addEventListener("scroll",n,{passive:!0}),[d,JD(d)]):null}).filter(c=>c!=null);s(l.length?new Map(l):null),a.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=M4(c);d==null||d.removeEventListener("scroll",n)})}},[n,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Ng(i,o),dd):Ioe(e):dd,[e,t])}function aW(e,t){t===void 0&&(t=[]);const s=f.useRef(null);return f.useEffect(()=>{s.current=null},t),f.useEffect(()=>{const a=e!==dd;a&&!s.current&&(s.current=e),!a&&s.current&&(s.current=null)},[e]),s.current?qw(e,s.current):dd}function Cct(e){f.useEffect(()=>{if(!oE)return;const t=e.map(s=>{let{sensor:a}=s;return a.setup==null?void 0:a.setup()});return()=>{for(const s of t)s==null||s()}},e.map(t=>{let{sensor:s}=t;return s}))}function Act(e,t){return f.useMemo(()=>e.reduce((s,a)=>{let{eventName:n,handler:i}=a;return s[n]=o=>{i(o,t)},s},{}),[e,t])}function Foe(e){return f.useMemo(()=>e?Jlt(e):null,[e])}const nW=[];function Ect(e,t){t===void 0&&(t=bv);const[s]=e,a=Foe(s?Do(s):null),[n,i]=f.useState(nW);function o(){i(()=>e.length?e.map(c=>Doe(c)?a:new fF(t(c),c)):nW)}const l=hE({callback:o});return cd(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),n}function Loe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Yj(t)?t:e}function Pct(e){let{measure:t}=e;const[s,a]=f.useState(null),n=f.useCallback(d=>{for(const{target:u}of d)if(Yj(u)){a(h=>{const m=t(u);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=hE({callback:n}),o=f.useCallback(d=>{const u=Loe(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),a(u?t(u):null)},[t,i]),[l,c]=Ik(o);return f.useMemo(()=>({nodeRef:l,rect:s,setRef:c}),[s,l,c])}const Tct=[{sensor:uE,options:{}},{sensor:pF,options:{}}],_ct={current:{}},l2={draggable:{measure:Qz},droppable:{measure:Qz,strategy:Gw.WhileDragging,frequency:eO.Optimized},dragOverlay:{measure:bv}};class db extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,a;return(s=(a=this.get(t))==null?void 0:a.node.current)!=null?s:void 0}}const Dct={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new db,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fk},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:l2,measureDroppableContainers:Fk,windowRect:null,measuringScheduled:!1},$oe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fk,draggableNodes:new Map,over:null,measureDroppableContainers:Fk},Jj=f.createContext($oe),Boe=f.createContext(Dct);function Oct(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new db}}}function Ict(e,t){switch(t.type){case ei.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ei.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ei.DragEnd:case ei.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ei.RegisterDroppable:{const{element:s}=t,{id:a}=s,n=new db(e.droppable.containers);return n.set(a,s),{...e,droppable:{...e.droppable,containers:n}}}case ei.SetDroppableDisabled:{const{id:s,key:a,disabled:n}=t,i=e.droppable.containers.get(s);if(!i||a!==i.key)return e;const o=new db(e.droppable.containers);return o.set(s,{...i,disabled:n}),{...e,droppable:{...e.droppable,containers:o}}}case ei.UnregisterDroppable:{const{id:s,key:a}=t,n=e.droppable.containers.get(s);if(!n||a!==n.key)return e;const i=new db(e.droppable.containers);return i.delete(s),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Rct(e){let{disabled:t}=e;const{active:s,activatorEvent:a,draggableNodes:n}=f.useContext(Jj),i=Rk(a),o=Rk(s==null?void 0:s.id);return f.useEffect(()=>{if(!t&&!a&&i&&o!=null){if(!cE(i)||document.activeElement===i.target)return;const l=n.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=_lt(u);if(h){h.focus();break}}})}},[a,t,n,o,i]),null}function Uoe(e,t){let{transform:s,...a}=t;return e!=null&&e.length?e.reduce((n,i)=>i({transform:n,...a}),s):s}function Mct(e){return f.useMemo(()=>({draggable:{...l2.draggable,...e==null?void 0:e.draggable},droppable:{...l2.droppable,...e==null?void 0:e.droppable},dragOverlay:{...l2.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Fct(e){let{activeNode:t,measure:s,initialRect:a,config:n=!0}=e;const i=f.useRef(!1),{x:o,y:l}=typeof n=="boolean"?{x:n,y:n}:n;cd(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!a)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=s(d),h=Aoe(u,a);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Poe(d);m&&m.scrollBy({top:h.y,left:h.x})}},[t,o,l,a,s])}const mE=f.createContext({...dd,scaleX:1,scaleY:1});var Dh;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Dh||(Dh={}));const Voe=f.memo(function(t){var s,a,n,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=Tct,collisionDetection:h=qlt,measuring:m,modifiers:p,...g}=t;const x=f.useReducer(Ict,void 0,Oct),[y,b]=x,[w,v]=Flt(),[S,j]=f.useState(Dh.Uninitialized),k=S===Dh.Initialized,{draggable:{active:N,nodes:C,translate:A},droppable:{containers:E}}=y,D=N!=null?C.get(N):null,T=f.useRef({initial:null,translated:null}),P=f.useMemo(()=>{var ss;return N!=null?{id:N,data:(ss=D==null?void 0:D.data)!=null?ss:_ct,rect:T}:null},[N,D]),_=f.useRef(null),[O,M]=f.useState(null),[I,R]=f.useState(null),L=Hw(g,Object.values(g)),K=Qj("DndDescribedBy",o),H=f.useMemo(()=>E.getEnabled(),[E]),F=Mct(m),{droppableRects:G,measureDroppableContainers:U,measuringScheduled:W}=yct(H,{dragging:k,dependencies:[A.x,A.y],config:F.droppable}),J=gct(C,N),z=f.useMemo(()=>I?Mk(I):null,[I]),ie=Ha(),re=bct(J,F.draggable.measure);Fct({activeNode:N!=null?C.get(N):null,config:ie.layoutShiftCompensation,initialRect:re,measure:F.draggable.measure});const q=rW(J,F.draggable.measure,re),se=rW(J?J.parentElement:null),B=f.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=E.getNodeFor((s=B.current.over)==null?void 0:s.id),de=Pct({measure:F.dragOverlay.measure}),Te=(a=de.nodeRef.current)!=null?a:J,He=k?(n=de.rect)!=null?n:q:null,Oe=!!(de.nodeRef.current&&de.rect),me=Nct(Oe?null:q),Ue=Foe(Te?Do(Te):null),ce=Sct(k?oe??J:null),Ee=Ect(ce),Pe=Uoe(p,{transform:{x:A.x-me.x,y:A.y-me.y,scaleX:1,scaleY:1},activatorEvent:I,active:P,activeNodeRect:q,containerNodeRect:se,draggingNodeRect:He,over:B.current.over,overlayNodeRect:de.rect,scrollableAncestors:ce,scrollableAncestorRects:Ee,windowRect:Ue}),$e=z?Ng(z,A):null,We=kct(ce),Xe=aW(We),Ce=aW(We,[q]),Ye=Ng(Pe,Xe),ft=He?Ylt(He,Pe):null,Pt=P&&ft?h({active:P,collisionRect:ft,droppableRects:G,droppableContainers:H,pointerCoordinates:$e}):null,vt=Coe(Pt,"id"),[Qt,br]=f.useState(null),$t=Oe?Pe:Ng(Pe,Ce),qt=Glt($t,(i=Qt==null?void 0:Qt.rect)!=null?i:null,q),Ts=f.useRef(null),Ie=f.useCallback((ss,Rt)=>{let{sensor:wt,options:je}=Rt;if(_.current==null)return;const ue=C.get(_.current);if(!ue)return;const ne=ss.nativeEvent,ze=new wt({active:_.current,activeNode:ue,event:ne,options:je,context:B,onAbort(Ge){if(!C.get(Ge))return;const{onDragAbort:lt}=L.current,ct={id:Ge};lt==null||lt(ct),w({type:"onDragAbort",event:ct})},onPending(Ge,St,lt,ct){if(!C.get(Ge))return;const{onDragPending:sr}=L.current,ee={id:Ge,constraint:St,initialCoordinates:lt,offset:ct};sr==null||sr(ee),w({type:"onDragPending",event:ee})},onStart(Ge){const St=_.current;if(St==null)return;const lt=C.get(St);if(!lt)return;const{onDragStart:ct}=L.current,Yt={activatorEvent:ne,active:{id:St,data:lt.data,rect:T}};rc.unstable_batchedUpdates(()=>{ct==null||ct(Yt),j(Dh.Initializing),b({type:ei.DragStart,initialCoordinates:Ge,active:St}),w({type:"onDragStart",event:Yt}),M(Ts.current),R(ne)})},onMove(Ge){b({type:ei.DragMove,coordinates:Ge})},onEnd:Ke(ei.DragEnd),onCancel:Ke(ei.DragCancel)});Ts.current=ze;function Ke(Ge){return async function(){const{active:lt,collisions:ct,over:Yt,scrollAdjustedTranslate:sr}=B.current;let ee=null;if(lt&&sr){const{cancelDrop:ye}=L.current;ee={activatorEvent:ne,active:lt,collisions:ct,delta:sr,over:Yt},Ge===ei.DragEnd&&typeof ye=="function"&&await Promise.resolve(ye(ee))&&(Ge=ei.DragCancel)}_.current=null,rc.unstable_batchedUpdates(()=>{b({type:Ge}),j(Dh.Uninitialized),br(null),M(null),R(null),Ts.current=null;const ye=Ge===ei.DragEnd?"onDragEnd":"onDragCancel";if(ee){const X=L.current[ye];X==null||X(ee),w({type:ye,event:ee})}})}}},[C]),rs=f.useCallback((ss,Rt)=>(wt,je)=>{const ue=wt.nativeEvent,ne=C.get(je);if(_.current!==null||!ne||ue.dndKit||ue.defaultPrevented)return;const ze={active:ne};ss(wt,Rt.options,ze)===!0&&(ue.dndKit={capturedBy:Rt.sensor},_.current=je,Ie(wt,Rt))},[C,Ie]),Zs=vct(u,rs);Cct(u),cd(()=>{q&&S===Dh.Initializing&&j(Dh.Initialized)},[q,S]),f.useEffect(()=>{const{onDragMove:ss}=L.current,{active:Rt,activatorEvent:wt,collisions:je,over:ue}=B.current;if(!Rt||!wt)return;const ne={active:Rt,activatorEvent:wt,collisions:je,delta:{x:Ye.x,y:Ye.y},over:ue};rc.unstable_batchedUpdates(()=>{ss==null||ss(ne),w({type:"onDragMove",event:ne})})},[Ye.x,Ye.y]),f.useEffect(()=>{const{active:ss,activatorEvent:Rt,collisions:wt,droppableContainers:je,scrollAdjustedTranslate:ue}=B.current;if(!ss||_.current==null||!Rt||!ue)return;const{onDragOver:ne}=L.current,ze=je.get(vt),Ke=ze&&ze.rect.current?{id:ze.id,rect:ze.rect.current,data:ze.data,disabled:ze.disabled}:null,Ge={active:ss,activatorEvent:Rt,collisions:wt,delta:{x:ue.x,y:ue.y},over:Ke};rc.unstable_batchedUpdates(()=>{br(Ke),ne==null||ne(Ge),w({type:"onDragOver",event:Ge})})},[vt]),cd(()=>{B.current={activatorEvent:I,active:P,activeNode:J,collisionRect:ft,collisions:Pt,droppableRects:G,draggableNodes:C,draggingNode:Te,draggingNodeRect:He,droppableContainers:E,over:Qt,scrollableAncestors:ce,scrollAdjustedTranslate:Ye},T.current={initial:He,translated:ft}},[P,J,Pt,ft,C,Te,He,G,E,Qt,ce,Ye]),fct({...ie,delta:A,draggingRect:ft,pointerCoordinates:$e,scrollableAncestors:ce,scrollableAncestorRects:Ee});const wa=f.useMemo(()=>({active:P,activeNode:J,activeNodeRect:q,activatorEvent:I,collisions:Pt,containerNodeRect:se,dragOverlay:de,draggableNodes:C,droppableContainers:E,droppableRects:G,over:Qt,measureDroppableContainers:U,scrollableAncestors:ce,scrollableAncestorRects:Ee,measuringConfiguration:F,measuringScheduled:W,windowRect:Ue}),[P,J,q,I,Pt,se,de,C,E,G,Qt,U,ce,Ee,F,W,Ue]),Wa=f.useMemo(()=>({activatorEvent:I,activators:Zs,active:P,activeNodeRect:q,ariaDescribedById:{draggable:K},dispatch:b,draggableNodes:C,over:Qt,measureDroppableContainers:U}),[I,Zs,P,q,b,K,C,Qt,U]);return ae.createElement(joe.Provider,{value:v},ae.createElement(Jj.Provider,{value:Wa},ae.createElement(Boe.Provider,{value:wa},ae.createElement(mE.Provider,{value:qt},d)),ae.createElement(Rct,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ae.createElement(Blt,{...l,hiddenTextDescribedById:K}));function Ha(){const ss=(O==null?void 0:O.autoScrollEnabled)===!1,Rt=typeof c=="object"?c.enabled===!1:c===!1,wt=k&&!ss&&!Rt;return typeof c=="object"?{...c,enabled:wt}:{enabled:wt}}}),Lct=f.createContext(null),iW="button",$ct="Draggable";function zoe(e){let{id:t,data:s,disabled:a=!1,attributes:n}=e;const i=Qj($ct),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:m}=f.useContext(Jj),{role:p=iW,roleDescription:g="draggable",tabIndex:x=0}=n??{},y=(c==null?void 0:c.id)===t,b=f.useContext(y?mE:Lct),[w,v]=Ik(),[S,j]=Ik(),k=Act(o,t),N=Hw(s);cd(()=>(h.set(t,{id:t,key:i,node:w,activatorNode:S,data:N}),()=>{const A=h.get(t);A&&A.key===i&&h.delete(t)}),[h,t]);const C=f.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":a,"aria-pressed":y&&p===iW?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[a,p,x,y,g,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:C,isDragging:y,listeners:a?void 0:k,node:w,over:m,setNodeRef:v,setActivatorNodeRef:j,transform:b}}function Woe(){return f.useContext(Boe)}const Bct="Droppable",Uct={timeout:25};function c2(e){let{data:t,disabled:s=!1,id:a,resizeObserverConfig:n}=e;const i=Qj(Bct),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=f.useContext(Jj),u=f.useRef({disabled:s}),h=f.useRef(!1),m=f.useRef(null),p=f.useRef(null),{disabled:g,updateMeasurementsFor:x,timeout:y}={...Uct,...n},b=Hw(x??a),w=f.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),p.current=null},y)},[y]),v=hE({callback:w,disabled:g||!o}),S=f.useCallback((C,A)=>{v&&(A&&(v.unobserve(A),h.current=!1),C&&v.observe(C))},[v]),[j,k]=Ik(S),N=Hw(t);return f.useEffect(()=>{!v||!j.current||(v.disconnect(),h.current=!1,v.observe(j.current))},[j,v]),f.useEffect(()=>(l({type:ei.RegisterDroppable,element:{id:a,key:i,disabled:s,node:j,rect:m,data:N}}),()=>l({type:ei.UnregisterDroppable,key:i,id:a})),[a]),f.useEffect(()=>{s!==u.current.disabled&&(l({type:ei.SetDroppableDisabled,id:a,key:i,disabled:s}),u.current.disabled=s)},[a,i,s,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===a,node:j,over:c,setNodeRef:k}}function Vct(e){let{animation:t,children:s}=e;const[a,n]=f.useState(null),[i,o]=f.useState(null),l=Rk(s);return!s&&!a&&l&&n(l),cd(()=>{if(!i)return;const c=a==null?void 0:a.key,d=a==null?void 0:a.props.id;if(c==null||d==null){n(null);return}Promise.resolve(t(d,i)).then(()=>{n(null)})},[t,a,i]),ae.createElement(ae.Fragment,null,s,a?f.cloneElement(a,{ref:o}):null)}const zct={x:0,y:0,scaleX:1,scaleY:1};function Wct(e){let{children:t}=e;return ae.createElement(Jj.Provider,{value:$oe},ae.createElement(mE.Provider,{value:zct},t))}const Hct={position:"fixed",touchAction:"none"},qct=e=>cE(e)?"transform 250ms ease":void 0,Gct=f.forwardRef((e,t)=>{let{as:s,activatorEvent:a,adjustScale:n,children:i,className:o,rect:l,style:c,transform:d,transition:u=qct}=e;if(!l)return null;const h=n?d:{...d,scaleX:1,scaleY:1},m={...Hct,width:l.width,height:l.height,top:l.top,left:l.left,transform:th.Transform.toString(h),transformOrigin:n&&a?Ult(a,l):void 0,transition:typeof u=="function"?u(a):u,...c};return ae.createElement(s,{className:o,style:m,ref:t},i)}),Hoe=e=>t=>{let{active:s,dragOverlay:a}=t;const n={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(n[l]=s.node.style.getPropertyValue(l),s.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return o!=null&&o.active&&s.node.classList.add(o.active),o!=null&&o.dragOverlay&&a.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(n))s.node.style.setProperty(c,d);o!=null&&o.active&&s.node.classList.remove(o.active)}},Kct=e=>{let{transform:{initial:t,final:s}}=e;return[{transform:th.Transform.toString(t)},{transform:th.Transform.toString(s)}]},Yct={duration:250,easing:"ease",keyframes:Kct,sideEffects:Hoe({styles:{active:{opacity:"0"}}})};function Xct(e){let{config:t,draggableNodes:s,droppableContainers:a,measuringConfiguration:n}=e;return lE((i,o)=>{if(t===null)return;const l=s.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=Loe(o);if(!d)return;const{transform:u}=Do(o).getComputedStyle(o),h=Eoe(u);if(!h)return;const m=typeof t=="function"?t:Qct(t);return Roe(c,n.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:n.draggable.measure(c)},draggableNodes:s,dragOverlay:{node:o,rect:n.dragOverlay.measure(d)},droppableContainers:a,measuringConfiguration:n,transform:h})})}function Qct(e){const{duration:t,easing:s,sideEffects:a,keyframes:n}={...Yct,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...h},p=n({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[g]=p,x=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(x))return;const y=a==null?void 0:a({active:o,dragOverlay:l,...d}),b=l.node.animate(p,{duration:t,easing:s,fill:"forwards"});return new Promise(w=>{b.onfinish=()=>{y==null||y(),w()}})}}let oW=0;function Jct(e){return f.useMemo(()=>{if(e!=null)return oW++,oW},[e])}const Zct=ae.memo(e=>{let{adjustScale:t=!1,children:s,dropAnimation:a,style:n,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:p,draggableNodes:g,droppableContainers:x,dragOverlay:y,over:b,measuringConfiguration:w,scrollableAncestors:v,scrollableAncestorRects:S,windowRect:j}=Woe(),k=f.useContext(mE),N=Jct(h==null?void 0:h.id),C=Uoe(o,{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:y.rect,over:b,overlayNodeRect:y.rect,scrollableAncestors:v,scrollableAncestorRects:S,transform:k,windowRect:j}),A=gF(m),E=Xct({config:a,draggableNodes:g,droppableContainers:x,measuringConfiguration:w}),D=A?y.setRef:void 0;return ae.createElement(Wct,null,ae.createElement(Vct,{animation:E},h&&N?ae.createElement(Gct,{key:N,id:h.id,ref:D,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:A,style:{zIndex:d,...n},transform:C},s):null))});var vF="ContextMenu",[edt,T0t]=on(vF,[eE]),Oo=eE(),[tdt,qoe]=edt(vF),Goe=e=>{const{__scopeContextMenu:t,children:s,onOpenChange:a,dir:n,modal:i=!0}=e,[o,l]=f.useState(!1),c=Oo(t),d=Qa(a),u=f.useCallback(h=>{l(h),d(h)},[d]);return r.jsx(tdt,{scope:t,open:o,onOpenChange:u,modal:i,children:r.jsx(Cie,{...c,dir:n,open:o,onOpenChange:u,modal:i,children:s})})};Goe.displayName=vF;var Koe="ContextMenuTrigger",Yoe=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,disabled:a=!1,...n}=e,i=qoe(Koe,s),o=Oo(s),l=f.useRef({x:0,y:0}),c=f.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=f.useRef(0),u=f.useCallback(()=>window.clearTimeout(d.current),[]),h=m=>{l.current={x:m.clientX,y:m.clientY},i.onOpenChange(!0)};return f.useEffect(()=>u,[u]),f.useEffect(()=>void(a&&u()),[a,u]),r.jsxs(r.Fragment,{children:[r.jsx(Aie,{...o,virtualRef:c}),r.jsx(Bt.span,{"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,...n,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:a?e.onContextMenu:bt(e.onContextMenu,m=>{u(),h(m),m.preventDefault()}),onPointerDown:a?e.onPointerDown:bt(e.onPointerDown,jN(m=>{u(),d.current=window.setTimeout(()=>h(m),700)})),onPointerMove:a?e.onPointerMove:bt(e.onPointerMove,jN(u)),onPointerCancel:a?e.onPointerCancel:bt(e.onPointerCancel,jN(u)),onPointerUp:a?e.onPointerUp:bt(e.onPointerUp,jN(u))})]})});Yoe.displayName=Koe;var rdt="ContextMenuPortal",Xoe=e=>{const{__scopeContextMenu:t,...s}=e,a=Oo(t);return r.jsx(Eie,{...a,...s})};Xoe.displayName=rdt;var Qoe="ContextMenuContent",Joe=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=qoe(Qoe,s),i=Oo(s),o=f.useRef(!1);return r.jsx(Pie,{...i,...a,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&o.current&&l.preventDefault(),o.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!n.modal&&(o.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Joe.displayName=Qoe;var sdt="ContextMenuGroup",adt=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Tie,{...n,...a,ref:t})});adt.displayName=sdt;var ndt="ContextMenuLabel",Zoe=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(_ie,{...n,...a,ref:t})});Zoe.displayName=ndt;var idt="ContextMenuItem",ele=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Die,{...n,...a,ref:t})});ele.displayName=idt;var odt="ContextMenuCheckboxItem",tle=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Oie,{...n,...a,ref:t})});tle.displayName=odt;var ldt="ContextMenuRadioGroup",cdt=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Iie,{...n,...a,ref:t})});cdt.displayName=ldt;var ddt="ContextMenuRadioItem",rle=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Rie,{...n,...a,ref:t})});rle.displayName=ddt;var udt="ContextMenuItemIndicator",sle=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Mie,{...n,...a,ref:t})});sle.displayName=udt;var hdt="ContextMenuSeparator",ale=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Fie,{...n,...a,ref:t})});ale.displayName=hdt;var mdt="ContextMenuArrow",fdt=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Lie,{...n,...a,ref:t})});fdt.displayName=mdt;var pdt="ContextMenuSubTrigger",nle=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx($ie,{...n,...a,ref:t})});nle.displayName=pdt;var xdt="ContextMenuSubContent",ile=f.forwardRef((e,t)=>{const{__scopeContextMenu:s,...a}=e,n=Oo(s);return r.jsx(Bie,{...n,...a,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ile.displayName=xdt;function jN(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var gdt=Goe,vdt=Yoe,ydt=Xoe,ole=Joe,lle=Zoe,cle=ele,dle=tle,ule=rle,hle=sle,mle=ale,fle=nle,ple=ile;const $4=gdt,B4=vdt,bdt=f.forwardRef(({className:e,inset:t,children:s,...a},n)=>r.jsxs(fle,{ref:n,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...a,children:[s,r.jsx(Ms,{className:"ml-auto h-4 w-4"})]}));bdt.displayName=fle.displayName;const wdt=f.forwardRef(({className:e,...t},s)=>r.jsx(ple,{ref:s,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));wdt.displayName=ple.displayName;const d2=f.forwardRef(({className:e,...t},s)=>r.jsx(ydt,{children:r.jsx(ole,{ref:s,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));d2.displayName=ole.displayName;const Vl=f.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(cle,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...s}));Vl.displayName=cle.displayName;const jdt=f.forwardRef(({className:e,children:t,checked:s,...a},n)=>r.jsxs(dle,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:s,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(hle,{children:r.jsx(Za,{className:"h-4 w-4"})})}),t]}));jdt.displayName=dle.displayName;const Ndt=f.forwardRef(({className:e,children:t,...s},a)=>r.jsxs(ule,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(hle,{children:r.jsx(cI,{className:"h-2 w-2 fill-current"})})}),t]}));Ndt.displayName=ule.displayName;const Sdt=f.forwardRef(({className:e,inset:t,...s},a)=>r.jsx(lle,{ref:a,className:xe("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...s}));Sdt.displayName=lle.displayName;const xle=f.forwardRef(({className:e,...t},s)=>r.jsx(mle,{ref:s,className:xe("-mx-1 my-1 h-px bg-border",e),...t}));xle.displayName=mle.displayName;function u2({value:e,onChange:t,className:s,placeholder:a="Upload image"}){const[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=f.useRef(null),{toast:d}=Lt(),u=async y=>{var w;const b=(w=y.target.files)==null?void 0:w[0];b&&await g(b)},h=y=>{y.preventDefault(),l(!0)},m=y=>{y.preventDefault(),l(!1)},p=async y=>{var w;y.preventDefault(),l(!1);const b=(w=y.dataTransfer.files)==null?void 0:w[0];b&&await g(b)},g=async y=>{if(!y.type.startsWith("image/")){d({title:"   ",description:"    (JPEG, PNG, WEBP)",variant:"destructive"});return}if(y.size>5*1024*1024){d({title:"   ",description:"       5 ",variant:"destructive"});return}const{isValid:b,reason:w}=await cj(y);if(!b){d({title:"  ",description:w||"    ",variant:"destructive"});return}i(!0);try{const v=await uF.uploadImage(y);t(v.secureUrl||v.url),d({title:" ",description:"   "})}catch(v){console.error("Upload failed:",v),d({title:" ",description:"  .    .",variant:"destructive"})}finally{i(!1),c.current&&(c.current.value="")}},x=()=>{t("")};return r.jsxs("div",{className:xe("w-full",s),children:[e?r.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 aspect-video",children:[r.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[r.jsx(V,{variant:"secondary",size:"sm",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:n,children:"Change"}),r.jsx(V,{variant:"destructive",size:"sm",onClick:x,disabled:n,children:r.jsx(jr,{className:"w-4 h-4"})})]})]}):r.jsx("div",{className:xe("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer transition-colors aspect-video",o?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 bg-gray-50 dark:bg-gray-900"),onDragOver:h,onDragLeave:m,onDrop:p,onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},children:n?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Je,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:r.jsx(An,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),r.jsx("p",{className:"font-medium text-sm mb-1",children:a}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag & drop or click to upload"})]})}),r.jsx("input",{type:"file",ref:c,onChange:u,accept:"image/*",className:"hidden"})]})}const kdt={async checkUserAccess(e){try{return(await fe.get("/media/access",{requireAuth:!0,hideErrorToast:!0})).hasAccess||!1}catch(t){return console.error("Failed to check Cloudinary access:",t),!1}}};function Cdt({brands:e,categories:t,products:s,selectedBrandId:a,selectedCategoryIds:n,onBrandSelect:i,onCategorySelect:o,onProductSelect:l,loadProductsByCategory:c,loadProductsByBrand:d,onCreateCategory:u,onCreateBrand:h,onCreateProduct:m,onCategoriesUpdate:p,onBrandsUpdate:g,onProductsUpdate:x,isFullScreen:y=!1}){var zF,WF;const{toast:b}=Lt();ts();const{user:w}=$s(),{t:v,i18n:S}=It(),[j,k]=f.useState(null),[N,C]=f.useState(null),A=Noe(QD(uE,{activationConstraint:{distance:8}})),E=Z=>{var qe;const{active:Ve}=Z;k(Ve.id),C((qe=Ve.data.current)==null?void 0:qe.node)},D=async Z=>{var kr,Wt,Nt,er,gs;const{active:Ve,over:qe}=Z;if(k(null),C(null),!qe||Ve.id===qe.id)return;const Ze=(kr=Ve.data.current)==null?void 0:kr.node,mt=(Wt=qe.data.current)==null?void 0:Wt.node;if(mt&&mt.type!=="category")return;const Ut=qe.id==="root"?null:(mt==null?void 0:mt.id)||null;try{if(Ze.type==="category"){const tr=Ze.data;if(Ut===Ze.id){b({title:v("common.error"),description:v("dashboard.hierarchical.errors.cannotMoveToSelf"),variant:"destructive"});return}if(Ut){const As=(Fr,xa)=>{if(!xa)return!1;const Aa=t.find(Jr=>Jr.id===xa);return Aa?Aa.id===Fr?!0:As(Fr,Aa.parentId||null):!1};if(As(Ze.id,Ut)){b({title:v("common.error"),description:v("dashboard.hierarchical.errors.cannotMoveToDescendant"),variant:"destructive"});return}}await fe.patch(`/categories/${tr.id}`,{parentId:Ut},{requireAuth:!0}),b({title:v("dashboard.hierarchical.moved"),description:Ut?v("dashboard.hierarchical.categoryMoved",{name:Ze.name}):v("dashboard.hierarchical.categoryMovedToRoot",{name:Ze.name})}),p&&await p()}else if(Ze.type==="product"){const tr=Ze.data;if(!Ut){b({title:v("common.warning"),description:v("dashboard.hierarchical.errors.productMustHaveCategory"),variant:"destructive"});return}const As=((Nt=tr.categories)==null?void 0:Nt.map(xa=>{var Aa;return xa.categoryId||((Aa=xa.category)==null?void 0:Aa.id)||xa.id}).filter(Boolean))||[];if(As.includes(Ut)){b({title:v("common.warning"),description:v("dashboard.hierarchical.errors.productAlreadyInCategory"),variant:"default"});return}const Fr=[...As,Ut];await fe.patch(`/products/${tr.id}`,{categoryIds:Fr},{requireAuth:!0}),b({title:v("dashboard.hierarchical.moved"),description:v("dashboard.hierarchical.productMoved",{productName:Ze.name,categoryName:mt.name})}),x&&await x()}}catch(tr){console.error("Failed to move item:",tr);const As=((gs=(er=tr==null?void 0:tr.response)==null?void 0:er.data)==null?void 0:gs.message)||(tr==null?void 0:tr.message)||v("common.unknownError");b({title:v("dashboard.hierarchical.errors.moveFailed"),description:v("dashboard.hierarchical.errors.moveFailedDesc",{error:As}),variant:"destructive"})}},T=S.language==="ar",[P,_]=f.useState(!1),[O,M]=f.useState("categories"),[I,R]=f.useState(null),[L,K]=f.useState(null),[H,F]=f.useState([]),[G,U]=f.useState([]),[W,J]=f.useState(!1);f.useState(new Set);const[z,ie]=f.useState(new Set),[re,q]=f.useState(!1),[se,B]=f.useState(!1),[oe,de]=f.useState(null),[Te,He]=f.useState(null),[Oe,me]=f.useState(null),[Ue,ce]=f.useState(null),[Ee,Pe]=f.useState({name:"",nameAr:"",description:"",image:""}),[$e,We]=f.useState({name:"",nameAr:"",code:"",logo:""}),[Xe,Ce]=f.useState(!1),[Ye,ft]=f.useState(!1),[Pt,vt]=f.useState(!1),Qt=()=>{try{const Z=localStorage.getItem("hierarchical_categoryBrandMap");if(Z){const Ve=JSON.parse(Z),qe=new Map(Object.entries(Ve));return console.log("[loadCategoryBrandMap] Loaded from localStorage:",Array.from(qe.entries())),qe}}catch(Z){console.error("Failed to load categoryBrandMap from localStorage:",Z)}return new Map},br=Z=>{try{const Ve=Object.fromEntries(Z);localStorage.setItem("hierarchical_categoryBrandMap",JSON.stringify(Ve)),console.log("[saveCategoryBrandMap] Saved to localStorage:",Array.from(Z.entries()))}catch(Ve){console.error("Failed to save categoryBrandMap to localStorage:",Ve)}},[$t,qt]=f.useState(()=>Qt()),[Ts,Ie]=f.useState(!1),[rs,Zs]=f.useState(null),[wa,Wa]=f.useState(!1),[Ha,ss]=f.useState(!1),[Rt,wt]=f.useState(null),[je,ue]=f.useState(!1),[ne,ze]=f.useState(!1),[Ke,Ge]=f.useState(null),[St,lt]=f.useState(!1);f.useState(!1),f.useState(!1),f.useState({current:0,total:0,stage:""});const[ct,Yt]=f.useState(null),[sr,ee]=f.useState(!1),[ye,X]=f.useState([]),[le,he]=f.useState(!1),ge=f.useRef(!1),[Be,Fe]=f.useState(null),[Re,De]=f.useState(!1);f.useState(!1);const[ke,ve]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:"",compareAtPrice:"",sku:"",barcode:"",stock:"",images:[]});f.useState(!1);const[Le,rt]=f.useState(!1),[ut,gt]=f.useState(!1),[Ot,te]=f.useState(!1),[zt,hr]=f.useState(!1),[ks,Ar]=f.useState(null),[Nr,ot]=f.useState(null),[Er,ms]=f.useState(null),[Hs,vs]=f.useState(null),[ja,qr]=f.useState(null),[bn,On]=f.useState([]),[Nc,uu]=f.useState([]),[hu,lo]=f.useState(!1);f.useEffect(()=>{const Z=async()=>{if(w!=null&&w.id)try{const Ve=await kdt.checkUserAccess(w.id);_(Ve)}catch(Ve){console.error("Failed to check Cloudinary access (non-critical):",Ve),_(!1)}};w!=null&&w.id&&localStorage.getItem("accessToken")&&Z()},[w==null?void 0:w.id]),f.useEffect(()=>{(async()=>{try{const[Ve,qe]=await Promise.all([fe.get("/units").catch(()=>[]),fe.get("/suppliers").catch(()=>[])]);On(Array.isArray(Ve)?Ve:[]),uu(Array.isArray(qe)?qe:[])}catch(Ve){console.error("Failed to load units/suppliers:",Ve)}})()},[]);const il=async Z=>{var Ve,qe,Ze,mt,Ut,kr,Wt,Nt,er,gs,tr,As,Fr,xa,Aa,Jr,_s,jt;try{De(!0),ot(Z),M("products");const at=await fe.get(`/products/${Z}`,{requireAuth:!0}),Vt={id:at.id,name:at.name,nameAr:at.nameAr,description:at.description,descriptionAr:at.descriptionAr,price:typeof at.price=="string"?parseFloat(at.price):at.price,compareAtPrice:at.compareAtPrice,cost:at.costPerItem||at.cost||((qe=(Ve=at.variants)==null?void 0:Ve[0])==null?void 0:qe.cost),sku:at.sku,barcode:at.barcode,stock:((mt=(Ze=at.variants)==null?void 0:Ze[0])==null?void 0:mt.inventoryQuantity)||0,images:((Ut=at.images)==null?void 0:Ut.map(Kr=>typeof Kr=="string"?Kr:Kr.url))||[],status:at.isAvailable?"ACTIVE":"DRAFT",featured:at.featured,categories:((kr=at.categories)==null?void 0:kr.map(Kr=>{var Bi,tx,ta;return{id:((Bi=Kr.category)==null?void 0:Bi.id)||Kr.id,name:((tx=Kr.category)==null?void 0:tx.name)||Kr.name,nameAr:((ta=Kr.category)==null?void 0:ta.nameAr)||Kr.nameAr}}))||[],brand:at.brand?{id:at.brand.id,name:at.brand.name,nameAr:at.brand.nameAr}:void 0,variants:at.variants||[],suppliers:((Wt=at.suppliers)==null?void 0:Wt.map(Kr=>{var Bi,tx,ta;return{id:((Bi=Kr.supplier)==null?void 0:Bi.id)||Kr.id,name:((tx=Kr.supplier)==null?void 0:tx.name)||Kr.name,nameAr:((ta=Kr.supplier)==null?void 0:ta.nameAr)||Kr.nameAr,cost:Kr.cost}}))||[]};Fe(Vt),ve({name:Vt.name||"",nameAr:Vt.nameAr||"",description:Vt.description||"",descriptionAr:Vt.descriptionAr||"",price:((Nt=Vt.price)==null?void 0:Nt.toString())||"",compareAtPrice:((er=Vt.compareAtPrice)==null?void 0:er.toString())||"",sku:Vt.sku||"",barcode:Vt.barcode||"",stock:((gs=Vt.stock)==null?void 0:gs.toString())||"0",images:Vt.images||[]});const ia=((tr=Vt.categories)==null?void 0:tr.map(Kr=>Kr.id).filter(Boolean))||[],ws=Vt.images||[];ms({name:Vt.name||"",nameAr:Vt.nameAr||"",description:Vt.description||"",descriptionAr:Vt.descriptionAr||"",price:((As=Vt.price)==null?void 0:As.toString())||"",compareAtPrice:((Fr=Vt.compareAtPrice)==null?void 0:Fr.toString())||"",cost:((xa=Vt.cost)==null?void 0:xa.toString())||"",sku:Vt.sku||"",barcode:Vt.barcode||"",stock:((Aa=Vt.stock)==null?void 0:Aa.toString())||"0",lowStockThreshold:"10",categoryId:ia[0]||"",categoryIds:ia,brandId:((Jr=Vt.brand)==null?void 0:Jr.id)||Vt.brandId||"",status:Vt.status||"ACTIVE",featured:Vt.featured||!1,tags:"",metaTitle:"",metaDescription:"",weight:"",dimensions:"",unitId:"",productCode:"",odooProductId:"",path:at.slug||"",supplierIds:((_s=Vt.suppliers)==null?void 0:_s.map(Kr=>Kr.id).filter(Boolean))||[],suppliers:((jt=Vt.suppliers)==null?void 0:jt.map(Kr=>{var Bi;return{supplierId:Kr.id,price:((Bi=Kr.cost)==null?void 0:Bi.toString())||"",discountRate:0,isPrimary:!1}}))||[],minQuantity:"",maxQuantity:"",enableSlider:!1,images:ws})}catch(at){console.error("Failed to load product details:",at),b({title:"  ",description:"     .    .",variant:"destructive"})}finally{De(!1)}},Sc=f.useCallback(Z=>{if(!Z)return new Set;const Ve=new Set;$t.forEach((Ze,mt)=>{Ze===Z&&Ve.add(mt)}),s.forEach(Ze=>{Ze.brandId===Z&&Ze.categories&&Ze.categories.forEach(mt=>{var kr;const Ut=mt.categoryId||((kr=mt.category)==null?void 0:kr.id)||mt.id;Ut&&Ve.add(Ut)})});let qe=!0;for(;qe;)qe=!1,t.forEach(Ze=>{Ze.parentId&&Ve.has(Ze.id)&&!Ve.has(Ze.parentId)&&(Ve.add(Ze.parentId),qe=!0)});for(qe=!0;qe;)qe=!1,t.forEach(Ze=>{Ze.parentId&&Ve.has(Ze.parentId)&&!Ve.has(Ze.id)&&(Ve.add(Ze.id),qe=!0)});return Ve},[t,s,$t]),Ol=f.useMemo(()=>Sc(I),[Sc,I]),Li=f.useCallback(()=>t.filter(Z=>!Z.parentId),[t]),ji=f.useCallback(Z=>t.filter(Ve=>Ve.parentId===Z),[t]),[be,pt]=f.useState([]),[Gt,as]=f.useState(!1),Tt=async Z=>{if(c)try{J(!0);const Ze=await c(Z);return Array.from(new Map(Ze.map(mt=>[mt.id,mt])).values())}finally{J(!1)}const Ve=s.filter(Ze=>{var mt;return((mt=Ze.categories)==null?void 0:mt.some(Ut=>{var kr;return(Ut.categoryId||((kr=Ut.category)==null?void 0:kr.id)||Ut.id)===Z}))||!1}),qe=Array.from(new Map(Ve.map(Ze=>[Ze.id,Ze])).values());return Array.from(new Map(qe.map(Ze=>[(Ze.nameAr||Ze.name||"").toString().trim().toLowerCase(),Ze])).values())},Zt=Z=>{R(Z),M("categories"),F([]),K(null),U([]),pt([]),as(!1),Si(1),i==null||i(Z)},Et=async()=>{if(rs){Wa(!0);try{const Z=Array.from($t.entries()).filter(([qe,Ze])=>Ze===rs.id).map(([qe])=>qe),Ve=s.filter(qe=>qe.brandId===rs.id);await fe.deleteBrand(rs.id),Z.length>0&&qt(qe=>{const Ze=new Map(qe);return Z.forEach(mt=>Ze.delete(mt)),br(Ze),Ze}),g&&g(),p&&p(),x&&x(),I===rs.id&&(R(null),M("categories"),F([]),K(null),i==null||i(null)),b({title:v("common.success"),description:v("dashboard.hierarchical.brandDeleted",{name:rs.nameAr||rs.name,categories:Z.length,products:Ve.length})}),Ie(!1),Zs(null)}catch(Z){const Ve=Z instanceof Error?Z.message:v("dashboard.hierarchical.errors.deleteBrandFailed");b({title:v("common.error"),description:Ve,variant:"destructive"})}finally{Wa(!1)}}},Xt=async()=>{if(Rt){ue(!0);try{const Z=t.filter(qe=>qe.parentId===Rt.id),Ve=await Tt(Rt.id);if(await fe.deleteCategory(Rt.id),qt(qe=>{const Ze=new Map(qe);return Ze.delete(Rt.id),br(Ze),Ze}),p&&p(),x&&x(),L===Rt.id||H.some(qe=>qe.id===Rt.id)){const qe=Rt.parentId;if(qe){const Ze=t.find(mt=>mt.id===qe);if(Ze){const mt=[];let Ut=Ze;for(;Ut&&(mt.unshift(Ut),Ut.parentId);){const kr=t.find(Wt=>Wt.id===Ut.parentId);if(kr)Ut=kr;else break}F(mt),K(qe),M("subcategories")}else F([]),K(null),M("categories")}else F([]),K(null),M("categories")}b({title:v("common.success"),description:v("dashboard.hierarchical.categoryDeleted",{name:Rt.nameAr||Rt.name})}),ss(!1),wt(null)}catch(Z){console.error("Failed to delete category:",Z),b({title:v("common.error"),description:v("dashboard.hierarchical.errors.deleteCategoryFailed"),variant:"destructive"})}finally{ue(!1)}}},Qr=async()=>{if(Ke){lt(!0);try{await fe.deleteProduct(Ke.id),b({title:v("common.success"),description:v("dashboard.hierarchical.productDeleted")}),x&&x(),Nr===Ke.id&&(ot(null),Fe(null),ms(null),M(L?"products":"categories")),ze(!1),Ge(null)}catch(Z){console.error("Failed to delete product:",Z),b({title:v("common.error"),description:v("dashboard.hierarchical.errors.deleteProductFailed"),variant:"destructive"})}finally{lt(!1)}}},Bs=(Z,Ve=!1)=>{if(Ve){vs(Z),ot(null),ms(null),qr(null);return}K(Z.id),F([...H,Z]),M("subcategories"),as(!1),Tt(Z.id).then(qe=>{console.log("Products loaded for category:",Z.id,qe.length,"products"),pt(qe),U(I?qe.filter(Ze=>Ze.brandId===I):qe)}).catch(qe=>{console.error("Failed to load products:",qe),U([]),pt([])}),o(Z.id)},pa=()=>{var Z,Ve;if(O==="products")if(H.length>0){const qe=[...H];qe.pop(),F(qe),qe.length===0?(M("categories"),K(null)):(M("subcategories"),K(((Z=qe[qe.length-1])==null?void 0:Z.id)||null))}else M("categories"),K(null);else if(O==="subcategories")if(H.length>0){const qe=[...H];qe.pop(),F(qe),qe.length===0?(M("categories"),K(null)):K(((Ve=qe[qe.length-1])==null?void 0:Ve.id)||null)}else F([]),M("categories"),K(null);else O==="categories"&&(F([]),K(null),Si(1))},Cs=f.useMemo(()=>O==="brands"&&!I?e.map(Z=>({...Z,type:"brand"})):O==="categories"&&!I?Li().map(Z=>({...Z,type:"category"})):O==="categories"&&I?t.filter(Z=>Ol.has(Z.id)&&!Z.parentId).map(Z=>({...Z,type:"category"})):O==="subcategories"&&L?ji(L).map(Z=>({...Z,type:"category"})):[],[O,I,L,e,t,Ol,Li,ji]),Ca=f.useMemo(()=>(O==="subcategories"||O==="categories"&&I)&&L?G:[],[O,L,I,G]);f.useEffect(()=>{(O==="products"||O==="subcategories")&&L?Tt(L).then(Z=>{console.log("Loaded products for category:",L,Z),pt(Z),U(I&&!Gt?Z.filter(Ve=>Ve.brandId===I):Z)}).catch(Z=>{console.error("Failed to load products:",Z),U([]),pt([])}):O!=="products"&&(U([]),pt([]))},[O,L,I,Gt]),f.useEffect(()=>{if(x){const Z=()=>{O==="products"&&L&&Tt(L).then(U).catch(()=>U([]))};return window.addEventListener("productsUpdated",Z),()=>{window.removeEventListener("productsUpdated",Z)}}},[O,L,I,x]),f.useEffect(()=>{},[]),f.useEffect(()=>{const Z=new Map;if(t.forEach(Ve=>{const qe=new Map;if(s.forEach(Ze=>{if(Ze.brandId&&Ze.categories&&Array.isArray(Ze.categories)&&Ze.categories.some(Ut=>{var Wt;return(Ut.categoryId||((Wt=Ut.category)==null?void 0:Wt.id)||Ut.id)===Ve.id})){const Ut=qe.get(Ze.brandId)||0;qe.set(Ze.brandId,Ut+1)}}),qe.size===1){const Ze=Array.from(qe.keys())[0];Z.set(Ve.id,Ze)}}),qt(Ve=>{const qe=new Map(Ve);return Z.forEach((Ze,mt)=>{qe.has(mt)||(qe.set(mt,Ze),console.log(`[useEffect] Auto-mapped category ${mt} to brand ${Ze} from products`))}),br(qe),qe}),O==="subcategories"&&L&&I){const Ve=`${I}-${L}`,qe=new Set(z);qe.has(Ve)||(qe.add(Ve),ie(qe))}},[t,s]),(()=>{const Z=(O==="subcategories"||O==="products")&&L?L:H.length>0?H[H.length-1].id:void 0;return Z?t.filter(Ve=>Ve.parentId===Z).length:0})();const In=()=>{if(O==="categories"&&I||O==="subcategories")return Cs.length>0;const Z=L||(H.length>0?H[H.length-1].id:void 0);return Z?t.some(Ve=>Ve.parentId===Z):!1},fd=()=>O==="products"?Ca.length>0:!1,jv=In();fd();const ef=!jv,ol=f.useCallback(Z=>{if(!Z)return 0;let Ve=0,qe=Z;for(;qe;){const Ze=t.find(mt=>mt.id===qe);if(Ze!=null&&Ze.parentId)Ve++,qe=Ze.parentId;else break}return Ve+1},[t]),ln=10,pd=ol(L),ns=Z=>Z.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""),mh=Z=>{const Ve=[];let qe=Z;for(;qe;){Ve.unshift(qe);const Ze=t.find(mt=>mt.id===qe);qe=Ze==null?void 0:Ze.parentId}return Ve},kc=Z=>mh(Z).map(qe=>{const Ze=t.find(mt=>mt.id===qe);return Ze?ns(Ze.name):""}).filter(Boolean).join("-")+"-",Cc=async Z=>{const Ve=Z.parentId||Ue||((O==="subcategories"||O==="products")&&L?L:H.length>0?H[H.length-1].id:void 0);if(oe)try{ft(!0),await fe.updateCategory(oe.id,{name:Z.name,nameAr:Z.nameAr||void 0,description:Z.description||void 0,descriptionAr:Z.descriptionAr||void 0,slug:Z.slug?ns(Z.slug):void 0,parentId:Ve||void 0,image:Z.image||void 0,icon:Z.icon||void 0,isActive:Z.isActive}),b({title:v("common.success"),description:v("categories.productCategories.updateSuccess")}),p&&p(),de(null),ce(null),q(!1)}catch(qe){throw console.error("Failed to update category:",qe),b({title:v("common.error"),description:v("categories.productCategories.saveError"),variant:"destructive"}),qe}finally{ft(!1)}else try{Ce(!0);const qe=Z.slug?ns(Z.slug):ns(Z.name);u?await u({name:Z.name,nameAr:Z.nameAr||Z.name,description:Z.description,parentId:Ve,image:Z.image||void 0}):await fe.createCategory({name:Z.name,nameAr:Z.nameAr||void 0,description:Z.description||void 0,descriptionAr:Z.descriptionAr||void 0,slug:qe,parentId:Ve||void 0,image:Z.image||void 0,icon:Z.icon||void 0,isActive:Z.isActive}),b({title:v("common.success"),description:v("categories.productCategories.addSuccess")}),p&&p(),ce(null),q(!1)}catch(qe){throw console.error("Failed to create category:",qe),b({title:v("common.error"),description:v("categories.productCategories.saveError"),variant:"destructive"}),qe}finally{Ce(!1)}},fh=()=>{Ar(null),hr(!0)},Qp=(Z,Ve)=>{const qe={name:Z.name,nameAr:Z.nameAr||void 0,description:Z.description||void 0,descriptionAr:Z.descriptionAr||void 0,sku:Z.sku||void 0,barcode:Z.barcode||void 0,price:parseFloat(Z.price)||0,compareAtPrice:Z.compareAtPrice?parseFloat(Z.compareAtPrice):void 0,costPerItem:Z.cost?parseFloat(Z.cost):void 0,stockCount:Z.stock?parseInt(Z.stock):void 0,weight:Z.weight?parseFloat(Z.weight):void 0,dimensions:Z.dimensions||void 0,seoTitle:Z.metaTitle||void 0,seoDescription:Z.metaDescription||void 0,featured:!!Z.featured,categoryIds:Z.categoryIds||(Z.categoryId?[Z.categoryId]:[]),unitId:Z.unitId||void 0,productCode:Z.productCode||void 0,odooProductId:Z.odooProductId||void 0,min:Z.minQuantity?parseInt(Z.minQuantity):void 0,max:Z.maxQuantity?parseInt(Z.maxQuantity):void 0,enableSlider:!!Z.enableSlider,tags:Array.isArray(Z.tags)?Z.tags:Z.tags?Z.tags.split(",").map(Ze=>Ze.trim()).filter(Boolean):[]};return Ve&&Ve.length>0&&(qe.images=Ve.map((Ze,mt)=>({url:Ze,altText:Z.name||`Product image ${mt+1}`,sortOrder:mt}))),Object.keys(qe).forEach(Ze=>qe[Ze]===void 0&&delete qe[Ze]),qe},r1=async(Z,Ve)=>{if(!hu){lo(!0);try{const qe=Qp(Z,Ve);let Ze=!1;if(ks?(await fe.patch(`/products/${ks}`,qe),b({title:v("common.success"),description:v("dashboard.products.messages.productUpdated")})):(m?(await m(qe),Ze=!0):await fe.post("/products",qe),b({title:v("common.success"),description:v("dashboard.products.messages.productCreated")})),hr(!1),Ar(null),!Ze&&x&&x(),L){const mt=await Tt(L);U(mt)}}catch(qe){console.error("Failed to save product:",qe),b({title:v("common.error"),description:v("dashboard.products.messages.saveError"),variant:"destructive"})}finally{lo(!1)}}},kE=async()=>{if(!$e.name.trim()){b({title:"   ",description:"    ",variant:"destructive"});return}try{vt(!0),Te?(await fe.updateBrand(Te.id,{name:$e.name,nameAr:$e.nameAr||void 0,code:$e.code||void 0,logo:$e.logo||void 0}),b({title:"",description:"    "})):(h?await h({name:$e.name,nameAr:$e.nameAr||$e.name,code:$e.code||void 0,logo:$e.logo||void 0}):await fe.createBrand({name:$e.name,nameAr:$e.nameAr||void 0,code:$e.code||void 0,logo:$e.logo||void 0}),b({title:"",description:"    "})),g&&g(),We({name:"",nameAr:"",code:"",logo:""}),He(null),B(!1)}catch(Z){console.error("Failed to save brand:",Z),b({title:"",description:"     .    .",variant:"destructive"})}finally{vt(!1)}},[CE,Jp]=f.useState(!1),[Zp,Nv]=f.useState(""),AE=()=>{!Zp||!I||(qt(Z=>{const Ve=new Map(Z);return Ve.set(Zp,I),br(Ve),Ve}),b({title:"  ",description:"     "}),Jp(!1),Nv(""))},Ac=f.useRef(null),[ex,li]=f.useState(!1),[FF,Ec]=f.useState({current:0,total:0,currentItem:""}),s1=async()=>{if(!confirm(v("dashboard.hierarchical.confirmDeleteAll","            .")))return;const Z=Ze=>{let mt=0,Ut=t.find(kr=>kr.id===Ze);for(;Ut!=null&&Ut.parentId&&(mt++,Ut=t.find(kr=>kr.id===Ut.parentId),!(mt>20)););return mt};li(!0),ge.current=!1;const Ve=s.length+t.length+e.length;Ec({current:0,total:Ve,currentItem:" ..."});const qe=async(Ze,mt=3)=>{var Ut,kr;for(let Wt=0;Wt<mt;Wt++){if(ge.current)throw new Error("Cancelled");try{return await Ze()}catch(Nt){if(((Ut=Nt==null?void 0:Nt.response)==null?void 0:Ut.status)===429&&Wt<mt-1){const er=1e3*Math.pow(2,Wt);await new Promise(gs=>setTimeout(gs,er));continue}if(((kr=Nt==null?void 0:Nt.response)==null?void 0:kr.status)===404)return;throw Nt}}};try{let Ze=0;const mt=[...s];for(let Wt=0;Wt<mt.length&&!ge.current;Wt++){const Nt=mt[Wt];await qe(()=>fe.deleteProduct(Nt.id)),Ze++,Ec({current:Ze,total:Ve,currentItem:` : ${Nt.name}`}),Wt%10===0&&await new Promise(er=>setTimeout(er,500))}const Ut=[...t].sort((Wt,Nt)=>Z(Nt.id)-Z(Wt.id));for(let Wt=0;Wt<Ut.length&&!ge.current;Wt++){const Nt=Ut[Wt];await qe(()=>fe.deleteCategory(Nt.id)),Ze++,Ec({current:Ze,total:Ve,currentItem:` : ${Nt.name}`}),Wt%10===0&&await new Promise(er=>setTimeout(er,500))}const kr=[...e];for(let Wt=0;Wt<kr.length&&!ge.current;Wt++){const Nt=kr[Wt];await qe(()=>fe.deleteBrand(Nt.id)),Ze++,Ec({current:Ze,total:Ve,currentItem:`  : ${Nt.name}`}),Wt%10===0&&await new Promise(er=>setTimeout(er,500))}b({description:"    "}),g&&g(),p&&p(),x&&x(),qt(new Map),br(new Map)}catch(Ze){console.error(Ze),Ze.message!=="Cancelled"&&b({title:"",variant:"destructive",description:"   "})}finally{li(!1)}},cn=()=>{const Z=Nt=>{const er=t.find(tr=>tr.id===Nt);if(!er)return"";const gs=er.parentId?Z(er.parentId):"";return gs?`${gs} > ${er.name}`:er.name},Ve=t.map(Nt=>{const er=t.find(gs=>gs.id===Nt.parentId);return{ID:Nt.id,Name:Nt.name,NameAr:Nt.nameAr||"",ParentID:Nt.parentId||"",ParentName:(er==null?void 0:er.name)||"",Path:Z(Nt.id),Description:Nt.description||"",Image:Nt.image||""}}),qe=s.map(Nt=>{var Fr,xa;const er=(Fr=Nt.categories)==null?void 0:Fr.map(Aa=>{var _s;const Jr=Aa.categoryId||((_s=Aa.category)==null?void 0:_s.id)||Aa.id;return t.find(jt=>jt.id===Jr)}).filter(Boolean),gs=er.map(Aa=>Aa.id).join(","),tr=er.map(Aa=>Z(Aa.id)).join(" | "),As=e.find(Aa=>Aa.id===(Nt.brandId||""));return{ID:Nt.id,Name:Nt.name,NameAr:Nt.nameAr||"",Description:Nt.description||"",DescriptionAr:Nt.descriptionAr||"",Price:Nt.price||0,Cost:Nt.cost||0,SKU:Nt.sku||"",Barcode:Nt.barcode||"",Stock:Nt.stock||0,BrandID:Nt.brandId||"",BrandName:(As==null?void 0:As.name)||"",CategoryIDs:gs,CategoryPaths:tr,Status:Nt.status||"ACTIVE",Images:((xa=Nt.images)==null?void 0:xa.join(","))||"",Featured:Nt.featured?"Yes":"No"}}),Ze=e.map(Nt=>({ID:Nt.id,Name:Nt.name,NameAr:Nt.nameAr||"",Code:Nt.code||"",Logo:Nt.logo||""})),mt=Br.book_new(),Ut=Br.json_to_sheet(Ve);Br.book_append_sheet(mt,Ut,"Categories");const kr=Br.json_to_sheet(qe);Br.book_append_sheet(mt,kr,"Products");const Wt=Br.json_to_sheet(Ze);Br.book_append_sheet(mt,Wt,"Brands"),eh(mt,`hierarchical-data-${new Date().toISOString().split("T")[0]}.xlsx`),b({title:" ",description:"     Excel "})},Sv=async Z=>{var Ze;const Ve=(Ze=Z.target.files)==null?void 0:Ze[0];if(!Ve)return;const qe=new FileReader;qe.onload=async mt=>{var Ut;try{const kr=(Ut=mt.target)==null?void 0:Ut.result,Wt=Dm(kr,{type:"binary"}),Nt=[],er=[],gs=[],tr=jt=>String(jt||"").trim().toLowerCase(),As=new Map;e.forEach(jt=>{jt.name&&As.set(tr(jt.name),jt),jt.nameAr&&As.set(tr(jt.nameAr),jt),jt.code&&As.set(tr(jt.code),jt)});const Fr=new Map;t.forEach(jt=>{jt.name&&Fr.set(tr(jt.name),jt),jt.nameAr&&Fr.set(tr(jt.nameAr),jt)});const xa=new Map;s.forEach(jt=>{jt.sku&&xa.set(tr(jt.sku),jt),jt.name&&xa.set(tr(jt.name),jt),jt.nameAr&&xa.set(tr(jt.nameAr),jt)});const Aa=Wt.Sheets.Categories||Wt.Sheets.Products,Jr=Wt.Sheets.Sheet1;let _s="STANDARD";if(!Aa&&Jr&&(_s="TRANSFORM"),_s==="TRANSFORM"){const jt=Br.sheet_to_json(Wt.Sheets.Sheet1),at=new Map;jt.forEach(ta=>{const rx=ta["Short Name"]||ta["short name"]||ta.ShortName,ph=ta.Type||ta.type,fu=ta.Found||ta.found;if(rx){const sx=ta.Found||ta.found,pu=sx==1||String(sx).trim()==="1";let xh="";pu&&ph&&(xh=ph),at.set(tr(rx),xh)}});const Vt=Wt.SheetNames.find(ta=>ta!=="Sheet1")||Wt.SheetNames[0],ia=Br.sheet_to_json(Wt.Sheets[Vt]),ws=new Map,Kr=new Map;let Bi=1,tx=1;ia.forEach((ta,rx)=>{const ph=String(ta["Brand Code"]||ta["brand code"]||ta.BrandCode||`BCODE-${rx}`),fu=String(ta["Brand Name"]||ta["brand name"]||ta.BrandName||"Unknown Brand"),sx=String(ta["Arabic product name"]||ta.purple_cards_product_name_ar||ta.ProductNameAR||ta["Product Name"]||`Product ${rx}`);let pu=at.get(tr(fu));pu||(pu="");const xh=tr(pu);if(!ws.has(xh)){const Io=Fr.get(xh);ws.set(xh,{id:`TEMP_CAT_TYPE_${xh}`,name:pu,nameAr:pu,parentId:null,status:Io?"EXISTING":"NEW",existingId:Io==null?void 0:Io.id})}const nue=ws.get(xh),o1=tr(`${pu}_${fu}`);if(!ws.has(o1)){const Io=Fr.get(tr(fu));ws.set(o1,{id:`TEMP_CAT_SUB_${o1}`,name:fu,nameAr:fu,parentId:nue.id,status:Io?"EXISTING":"NEW",existingId:Io==null?void 0:Io.id})}const iue=ws.get(o1),l1=tr(ph);if(!Kr.has(l1)){const Io=As.get(tr(fu))||ph&&As.get(tr(ph));Kr.set(l1,{id:`TEMP_BRAND_${l1}`,name:fu,nameAr:fu,code:ph,status:Io?"EXISTING":"NEW",existingId:Io==null?void 0:Io.id})}const oue=Kr.get(l1),HF=ta.SKU||`${ph}-${rx}`,c1=xa.get(tr(sx))||xa.get(tr(HF));er.push({name:sx,nameAr:sx,sku:HF,price:Number(ta.Price||0),brandId:oue.id,categoryIds:[iue.id],statusProp:"ACTIVE",status:c1?"EXISTING":"NEW",existingId:c1==null?void 0:c1.id,description:pu})}),Nt.push(...Array.from(ws.values())),gs.push(...Array.from(Kr.values()))}else Wt.Sheets.Brands&&Br.sheet_to_json(Wt.Sheets.Brands).forEach(at=>{const Vt=String(at.Name||""),ia=String(at.NameAr||""),ws=at.Code?String(at.Code):void 0,Kr=As.get(tr(Vt))||As.get(tr(ia))||ws&&As.get(tr(ws));gs.push({id:at.ID?String(at.ID):void 0,name:Vt,nameAr:ia,code:ws,logo:at.Logo?String(at.Logo):void 0,status:Kr?"EXISTING":"NEW",existingId:Kr==null?void 0:Kr.id})}),Wt.Sheets.Categories&&Br.sheet_to_json(Wt.Sheets.Categories).forEach(at=>{const Vt=String(at.Name||""),ia=String(at.NameAr||""),ws=Fr.get(tr(Vt))||Fr.get(tr(ia));Nt.push({id:at.ID?String(at.ID):void 0,name:Vt,nameAr:ia,parentId:at.ParentID?String(at.ParentID):void 0,description:at.Description?String(at.Description):void 0,image:at.Image?String(at.Image):void 0,status:ws?"EXISTING":"NEW",existingId:ws==null?void 0:ws.id})}),Wt.Sheets.Products&&Br.sheet_to_json(Wt.Sheets.Products).forEach(at=>{const Vt=String(at.Name||""),ia=String(at.NameAr||""),ws=at.SKU?String(at.SKU):void 0,Kr=ws&&xa.get(tr(ws))||xa.get(tr(Vt))||xa.get(tr(ia));er.push({id:at.ID?String(at.ID):void 0,name:Vt,nameAr:ia,description:at.Description?String(at.Description):void 0,descriptionAr:at.DescriptionAr?String(at.DescriptionAr):void 0,price:Number(at.Price||0),cost:at.Cost?Number(at.Cost):void 0,sku:ws,barcode:at.Barcode?String(at.Barcode):void 0,stock:at.Stock?Number(at.Stock):void 0,brandId:at.BrandID?String(at.BrandID):void 0,categoryIds:at.CategoryIDs?String(at.CategoryIDs).split(",").map(Bi=>Bi.trim()):[],statusProp:at.Status||"ACTIVE",images:at.Images?String(at.Images).split(",").map(Bi=>Bi.trim()):[],featured:at.Featured==="Yes"||at.Featured===!0,status:Kr?"EXISTING":"NEW",existingId:Kr==null?void 0:Kr.id})});if(Nt.length===0&&er.length===0&&gs.length===0){b({title:"  ",description:"       .",variant:"destructive"});return}Yt({categories:Nt,products:er,brands:gs}),ee(!0)}catch(kr){console.error("File reading error:",kr),b({title:"   ",description:"     Excel .",variant:"destructive"})}},qe.readAsBinaryString(Ve),Ac.current&&(Ac.current.value="")},LF=async()=>{var Fr,xa,Aa;if(!ct)return;ee(!1),li(!0),X([]),ge.current=!1;const Z=ct.categories.length+ct.products.length+(((Fr=ct.brands)==null?void 0:Fr.length)||0);Ec({current:0,total:Z,currentItem:" ..."});let Ve=0,qe=0;const Ze={},mt={},Ut=async(Jr,_s=3)=>{var jt;for(let at=0;at<_s;at++){if(ge.current)throw new Error("Cancelled");try{return await Jr()}catch(Vt){if(((jt=Vt==null?void 0:Vt.response)==null?void 0:jt.status)===429&&at<_s-1){const ws=1e3*Math.pow(2,at);await new Promise(Kr=>setTimeout(Kr,ws));continue}throw Vt}}throw new Error("Process failed after retries")},kr=ct.brands||[];for(const Jr of kr){if(ge.current)break;Ve++,Ec({current:Ve,total:Z,currentItem:` : ${Jr.nameAr||Jr.name} ${Jr.status==="EXISTING"?"(  - )":""}`});try{if(Jr.status==="EXISTING")Jr.id&&Jr.existingId&&(mt[Jr.id]=Jr.existingId);else{const _s={name:Jr.name,nameAr:Jr.nameAr,code:Jr.code,logo:Jr.logo},jt=await Ut(()=>fe.post("/brands",_s,{requireAuth:!0}));Jr.id&&jt.id&&(mt[Jr.id]=jt.id),qe++}}catch(_s){console.error("Failed to import brand:",Jr.name,_s),X(jt=>{var at,Vt;return[...jt,{item:Jr.nameAr||Jr.name,reason:((Vt=(at=_s==null?void 0:_s.response)==null?void 0:at.data)==null?void 0:Vt.message)||_s.message||"Unknown error"}]})}await new Promise(_s=>setTimeout(_s,50))}const Nt=[...[...ct.categories].sort((Jr,_s)=>!Jr.parentId&&_s.parentId?-1:Jr.parentId&&!_s.parentId?1:0)],er=new Set;let gs=10;for(;Nt.length>0&&gs>0;){gs--;const Jr=[],_s=[];for(const jt of Nt){if(ge.current)break;!jt.parentId||er.has(jt.parentId)||Ze[jt.parentId]?Jr.push(jt):_s.push(jt)}Jr.length===0&&_s.length>0&&(Jr.push(..._s),_s.length=0);for(const jt of Jr){if(ge.current)break;Ve++,Ec({current:Ve,total:Z,currentItem:`: ${jt.nameAr||jt.name} ${jt.status==="EXISTING"?"(  - )":""}`});try{if(jt.status==="EXISTING")jt.id&&jt.existingId&&(Ze[jt.id]=jt.existingId,er.add(jt.id));else{let at=jt.parentId;at&&Ze[at]&&(at=Ze[at]),at&&!at.match(/^[a-f0-9-]{36}$/i)&&!Ze[at]&&(console.warn(`Parent ID "${at}" not found for category "${jt.name}", creating as root`),at=void 0);const Vt={name:jt.name,nameAr:jt.nameAr,description:jt.description,parentId:at||void 0,image:jt.image,isActive:!0},ia=await Ut(()=>fe.post("/categories",Vt,{requireAuth:!0})),ws=ia.id||((xa=ia.category)==null?void 0:xa.id)||((Aa=ia.data)==null?void 0:Aa.id);jt.id&&ws&&(Ze[jt.id]=ws,er.add(jt.id)),qe++}}catch(at){console.error("Failed to import category:",jt.name,at),X(Vt=>{var ia,ws;return[...Vt,{item:jt.nameAr||jt.name,reason:((ws=(ia=at==null?void 0:at.response)==null?void 0:ia.data)==null?void 0:ws.message)||at.message||"Unknown error"}]}),jt.id&&er.add(jt.id)}await new Promise(at=>setTimeout(at,50))}Nt.length=0,Nt.push(..._s)}const tr=3,As=ct.products;for(let Jr=0;Jr<As.length&&!ge.current;Jr+=tr){const _s=As.slice(Jr,Jr+tr);await Promise.all(_s.map(async jt=>{if(!ge.current)try{if(jt.status==="EXISTING")return;const at=jt.categoryIds.map(ws=>Ze[ws]||ws).filter(ws=>ws),Vt=jt.brandId?mt[jt.brandId]||jt.brandId:void 0,ia={name:jt.name,nameAr:jt.nameAr,description:jt.description,descriptionAr:jt.descriptionAr,price:jt.price,cost:jt.cost,sku:jt.sku,barcode:jt.barcode,stockCount:jt.stock||0,categoryIds:at,brandId:Vt,isAvailable:jt.statusProp==="ACTIVE",images:jt.images,featured:jt.featured};await Ut(()=>fe.post("/products",ia,{requireAuth:!0})),qe++}catch(at){console.error("Failed to import product:",jt.name,at),X(Vt=>{var ia,ws,Kr,Bi;return[...Vt,{item:jt.nameAr||jt.name,reason:Array.isArray((ws=(ia=at==null?void 0:at.response)==null?void 0:ia.data)==null?void 0:ws.message)?at.response.data.message.join(", "):((Bi=(Kr=at==null?void 0:at.response)==null?void 0:Kr.data)==null?void 0:Bi.message)||"Error"}]})}})),Ve+=_s.length,Ec({current:Math.min(Ve,Z),total:Z,currentItem:`  ${Math.min(Ve,Z)}  ${Z}...`}),Jr+tr<As.length&&await new Promise(jt=>setTimeout(jt,500))}li(!1),ye.length>0?he(!0):ge.current?b({title:" ",description:"   .",variant:"default"}):b({title:"  ",description:`  ${qe} .`,variant:"default"}),p&&await p(),x&&await x()},[Da,Ni]=f.useState(""),[ea,Pc]=f.useState("grid"),[co,Si]=f.useState(1),[mu,kv]=f.useState(20),[$F,BF]=f.useState(new Set),a1=Z=>{BF(Ve=>{const qe=new Set(Ve);return qe.has(Z)?qe.delete(Z):qe.add(Z),qe})},UF=f.useCallback(Z=>{s.length>0&&!sessionStorage.getItem("productStructureLogged")&&(console.log("[getProductsForCategory] Total products:",s.length),console.log("[getProductsForCategory] First product full structure:",JSON.stringify(s[0],null,2)),sessionStorage.setItem("productStructureLogged","true"));const Ve=s.filter(mt=>{var kr;return((kr=mt.categories)==null?void 0:kr.some(Wt=>{var Nt;return(Wt.categoryId||((Nt=Wt.category)==null?void 0:Nt.id)||Wt.id)===Z}))||!1}),qe=Array.from(new Map(Ve.map(mt=>[mt.id,mt])).values());return Array.from(new Map(qe.map(mt=>[(mt.nameAr||mt.name||"").toString().trim().toLowerCase(),mt])).values())},[s]),EE=f.useCallback(Z=>Z.map(Ve=>{const qe=ji(Ve.id),Ze=UF(Ve.id),mt=[],Ut=new Set;if(qe.length>0){mt.push(...EE(qe));const Nt=er=>{er.forEach(gs=>{gs.type==="product"&&Ut.add(gs.id),gs.children&&Nt(gs.children)})};Nt(mt)}const kr=new Map,Wt=[];return Ze.length>0&&(console.log("[buildCategoryTree] Category:",Ve.name,"Products:",Ze.length),console.log("[buildCategoryTree] First product sample:",{id:Ze[0].id,name:Ze[0].name,brandId:Ze[0].brandId,brand:Ze[0].brand})),Ze.forEach(Nt=>{var gs;const er=Nt.brandId||((gs=Nt.brand)==null?void 0:gs.id);if(er){const tr=kr.get(er)||[];tr.push(Nt),kr.set(er,tr)}else Wt.push(Nt)}),console.log("[buildCategoryTree] Products with brands:",kr.size,"Products without brands:",Wt.length),Array.from(kr.entries()).forEach(([Nt,er])=>{const gs=e.find(Fr=>Fr.id===Nt),tr=er.find(Fr=>Fr.brand),As=gs||(tr==null?void 0:tr.brand);mt.push({id:`${Ve.id}-brand-${Nt}`,type:"brand",data:As||{id:Nt,name:"  ",code:""},name:As?As.nameAr||As.name:"  ",children:er.filter(Fr=>!Ut.has(Fr.id)).map(Fr=>(Ut.add(Fr.id),{id:Fr.id,type:"product",data:Fr,name:Fr.nameAr||Fr.name,children:[]}))})}),Wt.forEach(Nt=>{Ut.has(Nt.id)||(mt.push({id:Nt.id,type:"product",data:Nt,name:Nt.nameAr||Nt.name,children:[]}),Ut.add(Nt.id))}),{id:Ve.id,type:"category",data:Ve,name:Ve.nameAr||Ve.name,children:mt}}),[ji,UF,e]),n1=f.useMemo(()=>EE(Li()),[EE,Li]);f.useEffect(()=>{if(n1.length>0&&$F.size===0){const Z=new Set;n1.forEach(Ve=>{var qe;Z.add(Ve.id),(qe=Ve.children)==null||qe.forEach(Ze=>{Ze.type==="brand"&&Z.add(Ze.id)})}),BF(Z)}},[n1]);const sue=({children:Z})=>{const{setNodeRef:Ve,isOver:qe}=c2({id:"root",data:{type:"root",node:{id:"root",type:"category",name:"Root",children:[]}}});return r.jsx("div",{ref:Ve,className:`min-h-[200px] ${qe?"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg":""}`,children:Z})},VF=({node:Z,level:Ve})=>{const qe=Z.children&&Z.children.length>0,Ze=$F.has(Z.id),mt=Z.type==="product",Ut=Z.type==="brand",kr=Z.data.id,Wt=mt?Nr===kr:Ut?I===kr||(ja==null?void 0:ja.id)===kr:L===kr||(Hs==null?void 0:Hs.id)===kr,[Nt,er]=f.useState(!1),{attributes:gs,listeners:tr,setNodeRef:As,transform:Fr,isDragging:xa}=zoe({id:Z.id,data:{type:Z.type,node:Z}}),{setNodeRef:Aa,isOver:Jr}=c2({id:Z.id,disabled:mt||Ut});f.useEffect(()=>{er(xa)},[xa]);const _s={transform:th.Translate.toString(Fr),opacity:xa?.4:1},jt=at=>{if(Nt){at.stopPropagation();return}if(at.stopPropagation(),mt)il(kr),vs(null),qr(null);else if(Z.type==="category"){const Vt=Z.data;vs(Vt),K(Vt.id),ot(null),ms(null),qr(null),a1(Z.id)}else Z.type==="brand"&&(Zt(kr),qr(Z.data),(qe&&!Ze||qe&&Ze)&&a1(Z.id))};return r.jsxs("div",{ref:at=>{As(at),Aa(at)},style:_s,className:"select-none",children:[r.jsxs($4,{children:[r.jsx(B4,{children:r.jsxs("div",{...gs,...tr,className:`flex items-center gap-2 py-2 px-3 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 ${Wt?"bg-gradient-to-r from-primary/20 to-primary/10 text-primary font-semibold shadow-sm border border-primary/20":Jr?"bg-primary/10 border border-primary/30 text-primary shadow-sm":"text-muted-foreground hover:bg-muted/60 hover:text-foreground hover:shadow-sm border border-transparent hover:border-border/30"}`,style:{[T?"paddingRight":"paddingLeft"]:`${Ve*12+8}px`},onClick:jt,children:[!mt&&r.jsx("div",{className:`p-0.5 rounded-sm hover:bg-muted/80 transition-colors ${qe?"visible":"invisible"}`,onClick:at=>{at.stopPropagation(),a1(Z.id)},children:Ze?r.jsx(to,{className:"h-3.5 w-3.5"}):T?r.jsx(Qo,{className:"h-3.5 w-3.5"}):r.jsx(Ms,{className:"h-3.5 w-3.5"})}),mt?r.jsx(Dt,{className:`h-4 w-4 ${Wt?"text-primary":"text-blue-500/80"}`}):Ut?r.jsx(xs,{className:`h-4 w-4 ${Wt?"text-primary":"text-purple-500/80"}`}):Ze?r.jsx(_i,{className:`h-4 w-4 ${Wt?"text-primary":"text-amber-500/80"}`}):r.jsx(mf,{className:`h-4 w-4 ${Wt?"text-primary":"text-amber-500/80"}`}),r.jsx("span",{className:"truncate text-sm",children:Z.name})]})}),r.jsx(d2,{className:"w-56",children:mt?r.jsxs(Vl,{onClick:at=>{at.stopPropagation(),Ge(Z.data),ze(!0)},className:"text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),v("common.delete")," ",v("nav.products")]}):r.jsxs(r.Fragment,{children:[r.jsxs(Vl,{onClick:at=>{if(at.stopPropagation(),Ut)me(Z.id),ce(null);else{const Vt=Z.data;if(ol(Vt.id)>=ln){b({title:v("common.error"),description:v("dashboard.hierarchical.errors.maxDepthReached",{max:ln}),variant:"destructive"});return}ce(Vt.id);const ia=$t.get(Vt.id);ia&&me(ia)}de(null),Pe({name:"",nameAr:"",description:"",image:""}),q(!0)},children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),v("categories.productCategories.addCategory")]}),r.jsxs(Vl,{onClick:at=>{if(at.stopPropagation(),Ut)R(Z.id),K(null);else{const Vt=Z.data;K(Vt.id)}fh()},children:[r.jsx(Dt,{className:"h-4 w-4 mr-2"}),v("dashboard.products.addProduct")]}),r.jsxs(Vl,{onClick:at=>{if(at.stopPropagation(),Ut){const Vt=Z.data;He(Vt),We({name:Vt.name,nameAr:Vt.nameAr||"",code:Vt.code||"",logo:Vt.logo||""}),B(!0)}else{const Vt=Z.data;de(Vt),Pe({name:Vt.name,nameAr:Vt.nameAr||"",description:Vt.description||"",image:Vt.image||""}),ce(Vt.parentId||null),q(!0)}},children:[r.jsx(Ga,{className:"h-4 w-4 mr-2"}),v("common.edit")]}),r.jsx(xle,{}),r.jsxs(Vl,{onClick:at=>{at.stopPropagation(),Ut?(Zs(Z.data),Ie(!0)):(wt(Z.data),ss(!0))},className:"text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),v("common.delete")," ",v(Ut?"dashboard.brands.brand":"nav.categories")]})]})})]}),Ze&&qe&&!mt&&r.jsx("div",{className:"border-r border-border/40 mr-[15px]",children:Z.children.map(at=>r.jsx(VF,{node:at,level:Ve+1},at.id))})]})},i1=f.useMemo(()=>{const Z=Da.toLowerCase(),Ve=Cs.filter(mt=>mt.type==="category").map(mt=>mt).filter(mt=>(mt.name||"").toLowerCase().includes(Z)||(mt.nameAr||"").toLowerCase().includes(Z)),qe=Cs.filter(mt=>mt.type==="brand").map(mt=>mt).filter(mt=>(mt.name||"").toLowerCase().includes(Z)||(mt.nameAr||"").toLowerCase().includes(Z)),Ze=Ca.filter(mt=>(mt.name||"").toLowerCase().includes(Z)||(mt.nameAr||"").toLowerCase().includes(Z)||(mt.sku||"").toLowerCase().includes(Z));return{categories:Ve,brands:qe,products:Ze}},[Cs,Ca,Da]),ll=f.useMemo(()=>{const Z=[...i1.brands.map(er=>({...er,type:"brand"})),...i1.categories.map(er=>({...er,type:"category"})),...i1.products.map(er=>({...er,type:"product"}))],Ve=Z.length,qe=Ve>0?Math.ceil(Ve/mu):1,Ze=(co-1)*mu,mt=Ze+mu,Ut=Z.slice(Ze,mt),kr=Ut.filter(er=>er.type==="brand").map(er=>{const{type:gs,...tr}=er;return tr}),Wt=Ut.filter(er=>er.type==="category").map(er=>{const{type:gs,...tr}=er;return tr}),Nt=Ut.filter(er=>er.type==="product").map(er=>{const{type:gs,...tr}=er;return tr});return{brands:kr,categories:Wt,products:Nt,totalItems:Ve,totalPages:qe}},[i1,co,mu]);f.useEffect(()=>{Si(1)},[O,I,L,Da]),f.useEffect(()=>{ll.totalPages>0&&co>ll.totalPages&&Si(1)},[ll.totalPages,co]);const aue=()=>{const{setNodeRef:Z,isOver:Ve}=c2({id:"root",data:{type:"category",node:{id:null,type:"category",name:"Root"}}});return r.jsxs("button",{ref:Z,onClick:()=>{R(null),M("categories"),F([]),K(null),ot(null),ms(null)},className:`w-full flex items-center gap-2.5 py-2.5 px-3 rounded-lg cursor-pointer transition-all duration-200 ${O==="categories"&&H.length===0?"bg-gradient-to-r from-primary/20 to-primary/10 text-primary font-semibold shadow-sm border border-primary/20":Ve?"bg-primary/10 border border-primary/30 text-primary shadow-sm":"text-muted-foreground hover:bg-muted/60 hover:text-foreground hover:shadow-sm border border-transparent hover:border-border/30"}`,children:[r.jsx("div",{className:"w-5 flex justify-center",children:r.jsx(ZT,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:v("dashboard.categories.productCategories.allCategories")})]})};return r.jsxs("div",{className:`flex flex-row-reverse overflow-hidden rounded-2xl border border-border bg-background/40 backdrop-blur-2xl shadow-2xl ${y?"h-full":"h-[calc(100vh-140px)] min-h-[600px]"}`,children:[r.jsxs("div",{className:"w-72 bg-gradient-to-b from-card/40 to-card/20 border-r border-border/50 flex flex-col backdrop-blur-xl shadow-lg flex-shrink-0",children:[r.jsxs("div",{className:"p-4 border-b border-border/50 flex items-center justify-between bg-gradient-to-r from-primary/5 to-transparent",children:[r.jsx("div",{className:"flex items-center gap-2.5",children:r.jsx("img",{src:sl(),alt:"Saeaa Logo",className:"h-7 w-auto object-contain drop-shadow-sm"})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>{g&&g(),p&&p(),x&&x();const Z=Qt();qt(Z),b({description:v("dashboard.hierarchical.dataUpdated")})},title:"",children:r.jsx(mc,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[r.jsx("input",{type:"file",ref:Ac,onChange:Sv,className:"hidden",accept:".xlsx, .xls"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:cn,className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:r.jsx(xn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>{var Z;return(Z=Ac.current)==null?void 0:Z.click()},className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:r.jsx(An,{className:"h-4 w-4"})}),r.jsx(Js,{orientation:"vertical",className:"h-4 bg-border"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>window.open("/hierarchical-fullscreen","_blank"),className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"    ( )",children:r.jsx(lm,{className:"h-4 w-4"})}),r.jsx(Js,{orientation:"vertical",className:"h-4 bg-border"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:s1,className:"h-8 w-8 rounded-lg hover:bg-red-500/10 hover:text-red-500",title:"  ",children:r.jsx(Sr,{className:"h-4 w-4"})})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>{R(null),M("categories"),F([]),K(null)},title:"",children:r.jsx(ip,{className:"h-4 w-4"})})]})]}),r.jsx(La,{className:"flex-1 p-3",dir:T?"rtl":"ltr",children:r.jsx("div",{className:"space-y-2",children:r.jsxs(Voe,{sensors:A,onDragStart:E,onDragEnd:D,children:[r.jsx(sue,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex flex-col gap-1 w-full mb-2",children:[r.jsx(aue,{}),O==="brands"&&r.jsxs("button",{onClick:()=>{R(null),M("brands"),K(null),F([])},className:`w-full flex items-center gap-2.5 py-2.5 px-3 rounded-lg cursor-pointer transition-all duration-200 ${O==="brands"&&!I?"bg-gradient-to-r from-secondary/20 to-secondary/10 text-secondary font-semibold shadow-sm border border-secondary/20":"text-muted-foreground hover:bg-muted/60 hover:text-foreground hover:shadow-sm border border-transparent hover:border-border/30"}`,children:[r.jsx("div",{className:"w-5 flex justify-center",children:r.jsx(xs,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium",children:" "})]})]}),r.jsx("div",{className:"pt-1 pb-1",children:r.jsx(Js,{className:"bg-border/30"})}),r.jsx("div",{className:"space-y-1",children:n1.map(Z=>r.jsx(VF,{node:Z,level:0},Z.id))})]})}),r.jsx(Zct,{dropAnimation:{sideEffects:Hoe({styles:{active:{opacity:"0.4"}}})},children:j&&N?r.jsxs("div",{className:"flex items-center gap-1.5 py-1.5 px-2 rounded-md bg-primary/20 text-primary border border-primary/30 shadow-xl backdrop-blur-md opacity-90 cursor-grabbing",children:[N.type==="product"?r.jsx(Dt,{className:"h-4 w-4 text-blue-500"}):r.jsx(mf,{className:"h-4 w-4 text-amber-500"}),r.jsx("span",{className:"text-sm font-medium",children:N.name})]}):null})]})})}),r.jsx("div",{className:"p-4 border-t border-border/50 bg-gradient-to-t from-card/30 to-transparent",children:r.jsxs(V,{className:"w-full gap-2 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/20 hover:shadow-xl transition-all duration-200 font-semibold",onClick:()=>{ce(null),q(!0)},id:"tour-categories-add-btn",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{children:v("categories.productCategories.addCategory"," ")})]})})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-background/30 to-background/10",children:[r.jsxs("div",{className:"h-20 border-b border-border/50 flex items-center justify-between px-6 md:px-8 bg-gradient-to-r from-card/20 via-card/10 to-transparent backdrop-blur-md shadow-sm",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2 bg-muted/60 p-1 rounded-xl border border-border/50 flex-shrink-0 shadow-sm",children:[r.jsx("button",{onClick:()=>pa(),disabled:O==="categories"&&H.length===0,className:"p-2 rounded-lg hover:bg-muted/80 text-muted-foreground hover:text-foreground disabled:opacity-30 transition-all duration-200",title:v("common.back",""),children:r.jsx(El,{className:"h-4 w-4"})}),r.jsx(Js,{orientation:"vertical",className:"h-4 bg-border/50"}),r.jsx("button",{onClick:()=>{R(null),M("categories"),F([]),K(null),U([]),Si(1)},className:"p-2 rounded-lg hover:bg-muted/80 text-muted-foreground hover:text-foreground transition-all duration-200",title:v("common.home",""),children:r.jsx(ip,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.jsxs("div",{className:"relative w-40 md:w-64 hidden sm:block",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),r.jsx(pe,{placeholder:v("common.search"),value:Da,onChange:Z=>Ni(Z.target.value),className:"pr-10 h-10 bg-muted/60 border-border/50 text-sm focus:ring-2 focus:ring-primary/30 focus:border-primary/50 rounded-xl transition-all duration-200"})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-muted/60 p-1 rounded-xl border border-border/50 hidden sm:flex shadow-sm",children:[r.jsx("button",{onClick:()=>Pc("grid"),className:`p-2 rounded-lg transition-all duration-200 ${ea==="grid"?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:v("common.gridView"),children:r.jsx(ZT,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Pc("list"),className:`p-2 rounded-lg transition-all duration-200 ${ea==="list"?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:v("common.listView"),children:r.jsx(oj,{className:"h-4 w-4"})})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>{p&&p(),g&&g(),x&&x()},className:"h-10 w-10 rounded-xl hover:bg-primary/10 hover:text-primary transition-all duration-200",title:v("common.refresh"," "),children:r.jsx(mc,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[r.jsx("input",{type:"file",ref:Ac,onChange:Sv,className:"hidden",accept:".xlsx, .xls"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:cn,className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:r.jsx(xn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>{var Z;return(Z=Ac.current)==null?void 0:Z.click()},className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:" ",children:r.jsx(An,{className:"h-4 w-4"})}),r.jsx(Js,{orientation:"vertical",className:"h-4 bg-border"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>window.open(window.location.href,"_blank"),className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"   ",children:r.jsx(lm,{className:"h-4 w-4"})}),r.jsx(Js,{orientation:"vertical",className:"h-4 bg-border"}),r.jsx(V,{variant:"ghost",size:"icon",onClick:s1,className:"h-8 w-8 rounded-lg hover:bg-destructive/10 hover:text-destructive text-destructive/70",title:"  ",children:r.jsx(Sr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[O==="brands"?r.jsxs(V,{onClick:()=>{He(null),We({name:"",nameAr:"",code:"",logo:""}),B(!0)},className:"h-10 px-4 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white border-none shadow-lg shadow-primary/20 hover:shadow-xl rounded-xl gap-2 hidden sm:flex transition-all duration-200 font-semibold",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden lg:inline",children:v("dashboard.brands.addBrand","  ")})]}):O!=="products"&&r.jsxs(V,{onClick:()=>{L&&!Ue&&O==="subcategories"&&ce(L),q(!0)},className:"h-10 px-4 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white border-none shadow-lg shadow-primary/20 hover:shadow-xl rounded-xl gap-2 hidden sm:flex transition-all duration-200 font-semibold",id:"tour-categories-add-btn",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden lg:inline",children:v(O==="categories"?"dashboard.categories.productCategories.addCategory":"dashboard.categories.productCategories.addSubcategory")})]}),ef&&r.jsxs(V,{onClick:fh,className:"h-10 px-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white border-none shadow-lg shadow-blue-500/20 hover:shadow-xl rounded-xl gap-2 transition-all duration-200 font-semibold",children:[r.jsx(Dt,{className:"h-4 w-4"}),r.jsx("span",{children:v("dashboard.products.addProduct")})]})]})]})]}),Nr&&Er?r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"h-full p-6",children:Re?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx(YD,{initialData:Er,initialImages:Er.images||(Be==null?void 0:Be.images)||[],categories:t,brands:e,units:bn,suppliers:Nc,onSave:async(Z,Ve)=>{try{const qe=Qp(Z);if(await fe.updateProduct(Nr,{...qe,images:Ve.map((Ze,mt)=>({url:Ze,altText:Z.name,sortOrder:mt}))}),b({title:v("common.success"),description:v("dashboard.products.messages.productUpdated")}),x&&x(),L){const Ze=await Tt(L);U(Ze)}await il(Nr)}catch(qe){throw console.error("Failed to save product:",qe),b({title:"  ",description:"    .    .",variant:"destructive"}),qe}},onCancel:()=>{ot(null),ms(null)},isEditing:!0})})}):Hs?r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"h-full p-6",children:r.jsx(XD,{categories:t,initialData:Hs,parentId:Hs.parentId||void 0,onSave:async Z=>{try{await fe.updateCategory(Hs.id,{name:Z.name,nameAr:Z.nameAr,description:Z.description,descriptionAr:Z.descriptionAr,slug:Z.slug?ns(Z.slug):ns(Z.name),image:Z.image,icon:Z.icon,parentId:Z.parentId||void 0,isActive:Z.isActive}),b({title:"",description:"   "}),p&&p();const Ve=await fe.getCategory(Hs.id);vs(Ve)}catch(Ve){throw console.error("Failed to save category:",Ve),b({title:"  ",description:"    .    .",variant:"destructive"}),Ve}},onCancel:()=>{vs(null)}})})}):ja?r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx("div",{className:"h-full p-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"  "}),r.jsx(V,{variant:"outline",onClick:()=>qr(null),children:""})]}),r.jsx(we,{children:r.jsxs(Se,{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"  "}),r.jsx(pe,{value:ja.name,readOnly:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsx(pe,{value:ja.nameAr||"",readOnly:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:""}),r.jsx(pe,{value:ja.code||"",readOnly:!0})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]})})]})})}):O==="brands"&&!I?r.jsxs(La,{className:"flex-1 p-8",children:[r.jsx("div",{className:ea==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-2",children:ll.brands.map(Z=>r.jsxs(Me.div,{whileHover:{scale:1.02},className:ea==="grid"?"group relative bg-card/40 backdrop-blur-md border border-border/50 rounded-2xl p-5 cursor-pointer hover:border-secondary/50 transition-all duration-300 shadow-xl hover:shadow-secondary/5":"group flex items-center gap-4 bg-card/40 backdrop-blur-md border border-border/50 rounded-xl p-3 cursor-pointer hover:border-secondary/50 transition-all duration-300",onClick:()=>Zt(Z.id),children:[r.jsxs("div",{className:ea==="grid"?"flex items-start justify-between mb-4":"flex-shrink-0",children:[r.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border group-hover:bg-secondary/10 group-hover:border-secondary/30 transition-all duration-300",children:Z.logo?r.jsx("img",{src:Z.logo,alt:Z.name,className:"h-6 w-6 object-contain"}):r.jsx(xs,{className:"h-6 w-6 text-secondary"})}),ea==="grid"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-500/20 text-muted-foreground hover:text-blue-600 transition-colors",onClick:Ve=>{Ve.stopPropagation(),He(Z),We({name:Z.name,nameAr:Z.nameAr||"",code:Z.code||"",logo:Z.logo||""}),B(!0)},title:"",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:Ve=>{Ve.stopPropagation(),Zs(Z),Ie(!0)},title:"",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-lg truncate mb-1 text-foreground/90 group-hover:text-primary transition-colors",children:Z.nameAr||Z.name}),Z.nameAr&&Z.nameAr!==Z.name&&r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Z.name}),r.jsx("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:r.jsx("span",{className:"bg-secondary/10 text-secondary px-2 py-0.5 rounded-full border border-secondary/20",children:Z.code||"CODE"})})]})]},Z.id))}),ll.totalPages>1&&r.jsx("div",{className:"mt-6 border-t border-border/50 pt-4",children:r.jsx($u,{currentPage:co,totalPages:ll.totalPages,totalItems:ll.totalItems,itemsPerPage:mu,onPageChange:Si,onItemsPerPageChange:Z=>{kv(Z),Si(1)},itemsPerPageOptions:[12,20,50,100],showItemsPerPage:!0})})]}):O==="products"?r.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"    "})]})}):r.jsx(La,{className:"flex-1 p-8",children:r.jsx(Wn,{mode:"wait",children:r.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[r.jsxs("div",{className:ea==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-2",children:[ll.categories.map(Z=>r.jsxs(Me.div,{whileHover:{scale:1.02},className:ea==="grid"?"group relative bg-card/40 backdrop-blur-md border border-border/50 rounded-2xl p-5 cursor-pointer hover:border-secondary/50 transition-all duration-300 shadow-xl hover:shadow-secondary/5":"group flex items-center gap-4 bg-card/40 backdrop-blur-md border border-border/50 rounded-xl p-3 cursor-pointer hover:border-secondary/50 transition-all duration-300",onClick:()=>Bs(Z,!0),children:[r.jsxs("div",{className:ea==="grid"?"flex items-start justify-between mb-4":"flex-shrink-0",children:[r.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border group-hover:bg-secondary/10 group-hover:border-secondary/30 transition-all duration-300",children:r.jsx(mf,{className:"h-6 w-6 text-secondary"})}),ea==="grid"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-500/20 text-muted-foreground hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:Ve=>{Ve.stopPropagation(),de(Z),Pe({name:Z.name,nameAr:Z.nameAr||"",description:Z.description||"",image:Z.image||""}),ce(Z.parentId||null),q(!0)},title:" ",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:Ve=>{Ve.stopPropagation(),wt(Z),ss(!0)},title:" ",children:r.jsx(Sr,{className:"h-4 w-4"})}),r.jsxs($4,{children:[r.jsx(B4,{asChild:!0,children:r.jsx("button",{className:"p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:Ve=>Ve.stopPropagation(),children:r.jsx(JT,{className:"h-4 w-4"})})}),r.jsxs(d2,{children:[r.jsxs(Vl,{onClick:Ve=>{if(Ve.stopPropagation(),ol(Z.id)>=ln){b({title:"    ",description:`     .    ${ln} .`,variant:"destructive"});return}de(null),Pe({name:"",nameAr:"",description:"",image:""}),ce(Z.id);const qe=$t.get(Z.id);qe?me(qe):I&&me(I),q(!0)},disabled:ol(Z.id)>=ln,children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"  "]}),r.jsxs(Vl,{onClick:Ve=>{Ve.stopPropagation(),de(Z),Pe({name:Z.name,nameAr:Z.nameAr||"",description:Z.description||"",image:Z.image||""}),ce(Z.parentId||null),q(!0)},children:[r.jsx(Ga,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(Vl,{onClick:Ve=>{Ve.stopPropagation(),wt(Z),ss(!0)},className:"text-red-500 focus:text-red-500",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:ea==="grid"?"font-bold text-foreground group-hover:text-primary transition-colors truncate":"text-lg font-bold text-foreground mb-1 group-hover:text-primary transition-colors truncate",children:Z.nameAr||Z.name}),r.jsxs("div",{className:ea==="grid"?"text-xs text-muted-foreground mt-1":"text-sm text-muted-foreground",children:[r.jsxs("p",{className:"truncate",children:[ji(Z.id).length,"  "]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[": ",ol(Z.id),"/",ln]})]})]}),ea==="list"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-500/20 text-muted-foreground hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:Ve=>{Ve.stopPropagation(),de(Z),Pe({name:Z.name,nameAr:Z.nameAr||"",description:Z.description||"",image:Z.image||""}),ce(Z.parentId||null),q(!0)},title:" ",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:Ve=>{Ve.stopPropagation(),wt(Z),ss(!0)},title:" ",children:r.jsx(Sr,{className:"h-4 w-4"})}),r.jsxs($4,{children:[r.jsx(B4,{asChild:!0,children:r.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-800 text-slate-500 hover:text-white transition-colors",onClick:Ve=>Ve.stopPropagation(),children:r.jsx(JT,{className:"h-4 w-4"})})}),r.jsxs(d2,{children:[r.jsxs(Vl,{onClick:Ve=>{if(Ve.stopPropagation(),ol(Z.id)>=ln){b({title:"    ",description:`     .    ${ln} .`,variant:"destructive"});return}de(null),Pe({name:"",nameAr:"",description:"",image:""}),ce(Z.id);const qe=$t.get(Z.id);qe?me(qe):I&&me(I),q(!0)},disabled:ol(Z.id)>=ln,children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"  "]}),r.jsxs(Vl,{onClick:Ve=>{Ve.stopPropagation(),de(Z),Pe({name:Z.name,nameAr:Z.nameAr||"",description:Z.description||"",image:Z.image||""}),ce(Z.parentId||null),q(!0)},children:[r.jsx(Ga,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(Vl,{onClick:Ve=>{Ve.stopPropagation(),wt(Z),ss(!0)},className:"text-red-500 focus:text-red-500",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]},Z.id)),(O==="categories"||O==="subcategories")&&ll.products.map(Z=>r.jsxs(Me.div,{whileHover:{scale:1.02},className:ea==="grid"?"group relative bg-card/40 backdrop-blur-md border border-border/50 rounded-2xl p-5 cursor-pointer hover:border-primary/50 transition-all duration-300 shadow-xl hover:shadow-primary/5":"group flex items-center gap-4 bg-card/40 backdrop-blur-md border border-border/50 rounded-xl p-3 cursor-pointer hover:border-primary/50 transition-all duration-300",onClick:()=>il(Z.id),children:[r.jsxs("div",{className:ea==="grid"?"flex items-start justify-between mb-4":"flex-shrink-0",children:[r.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border group-hover:bg-primary/10 group-hover:border-primary/30 transition-all duration-300",children:r.jsx(Dt,{className:"h-6 w-6 text-primary"})}),ea==="grid"&&r.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:async Ve=>{if(Ve.stopPropagation(),confirm(`      "${Z.nameAr||Z.name}"`))try{if(await fe.delete(`/products/${Z.id}`,{requireAuth:!0}),b({title:" ",description:`   "${Z.nameAr||Z.name}" `}),x&&x(),L){const qe=await Tt(L);U(qe)}}catch(qe){const Ze=qe instanceof Error?qe.message:"  ";b({title:"",description:Ze,variant:"destructive"})}},title:" ",children:r.jsx(Sr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:ea==="grid"?"font-bold text-foreground group-hover:text-primary transition-colors truncate":"text-lg font-bold text-foreground mb-1 group-hover:text-primary transition-colors truncate",children:Z.nameAr||Z.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:ea==="grid"?"text-[10px] bg-muted text-muted-foreground px-2 py-0.5 rounded uppercase font-mono":"text-xs bg-muted text-muted-foreground px-2 py-0.5 rounded uppercase font-mono",children:Z.sku||"NO SKU"}),Z.path&&r.jsx("span",{className:ea==="grid"?"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded font-mono truncate max-w-[100px]":"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded font-mono",children:Z.path}),ea==="list"&&Z.price&&r.jsxs("span",{className:"text-sm font-semibold text-primary",children:[Z.price.toFixed(2)," ."]})]})]}),ea==="list"&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:async Ve=>{if(Ve.stopPropagation(),confirm(`      "${Z.nameAr||Z.name}"`))try{if(await fe.delete(`/products/${Z.id}`,{requireAuth:!0}),b({title:" ",description:`   "${Z.nameAr||Z.name}" `}),x&&x(),L){const qe=await Tt(L);U(qe)}}catch(qe){const Ze=qe instanceof Error?qe.message:"  ";b({title:"",description:Ze,variant:"destructive"})}},title:" ",children:r.jsx(Sr,{className:"h-4 w-4"})})})]},Z.id)),ll.totalItems===0&&r.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-slate-900/50 rounded-full flex items-center justify-center mb-6 border border-slate-800",children:r.jsx(mf,{className:"h-10 w-10 text-muted-foreground"})}),r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:Da?"  ":"  "}),r.jsx("p",{className:"text-muted-foreground max-w-xs",children:Da?`     "${Da}"`:"   .    ."}),!Da&&r.jsxs("div",{className:"mt-8 flex flex-wrap gap-3 justify-center",children:[I&&O==="categories"&&r.jsxs(V,{variant:"outline",className:"border-border text-muted-foreground hover:bg-muted rounded-xl gap-2",onClick:()=>Jp(!0),children:[r.jsx(Wf,{className:"h-4 w-4"})," "]}),r.jsxs(V,{variant:"outline",className:"border-border text-muted-foreground hover:bg-muted rounded-xl gap-2",disabled:pd>=ln,onClick:()=>{I&&!Oe&&me(I),O==="subcategories"&&L&&!Ue&&ce(L),q(!0)},title:pd>=ln?`       (${ln})`:"",children:[r.jsx(rr,{className:"h-4 w-4"}),O==="subcategories"?"  ":" "]}),pd>=ln&&r.jsx("p",{className:"text-xs text-amber-500 text-center mt-2",children:v("dashboard.categories.productCategories.maxDepthWarning",{max:ln})})]})]})]}),ll.totalItems>0&&r.jsx("div",{className:"mt-6 border-t border-border/50 pt-4",children:r.jsx($u,{currentPage:co,totalPages:ll.totalPages,totalItems:ll.totalItems,itemsPerPage:mu,onPageChange:Si,onItemsPerPageChange:Z=>{kv(Z),Si(1)},itemsPerPageOptions:[12,20,50,100],showItemsPerPage:!0})})]},`${O}-${I}-${L}`)})})]}),r.jsx(ir,{open:se,onOpenChange:B,children:r.jsxs(ar,{className:"max-w-lg",children:[r.jsx(lr,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:r.jsx(xs,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(cr,{className:"text-xl",children:"   "}),r.jsx(pr,{className:"mt-1",children:"        (Brand  Category  Subcategory  Product)"})]})]})}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Y,{className:"text-sm font-semibold flex items-center gap-2",children:[r.jsx(Mi,{className:"h-4 w-4 text-primary"}),"  "]}),$e.logo&&r.jsxs("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border-2 border-primary/20 bg-muted/50 group mx-auto",children:[r.jsx("img",{src:$e.logo,alt:"Brand Logo",className:"w-full h-full object-contain"}),r.jsx("button",{onClick:()=>We({...$e,logo:""}),className:"absolute top-2 right-2 p-1.5 rounded-full bg-red-500/90 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(jr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"relative",children:r.jsx(u2,{value:"",onChange:Z=>We({...$e,logo:Z}),placeholder:"  ",className:"h-24"})}),P&&r.jsxs(V,{type:"button",variant:"outline",className:"h-24 flex flex-col gap-2 border-dashed border-2 hover:border-primary hover:bg-primary/5",onClick:()=>gt(!0),children:[r.jsx(ij,{className:"h-6 w-6 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:"  Cloudinary"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"          Cloudinary"})]}),r.jsx(Js,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"brandName",className:"text-sm font-semibold",children:"   (English) *"}),r.jsx(pe,{id:"brandName",value:$e.name,onChange:Z=>We({...$e,name:Z.target.value}),placeholder:"Brand Name",className:"h-11"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"brandNameAr",className:"text-sm font-semibold",children:"   ()"}),r.jsx(pe,{id:"brandNameAr",value:$e.nameAr,onChange:Z=>We({...$e,nameAr:Z.target.value}),placeholder:"  ",dir:T?"rtl":"ltr",className:"h-11"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"brandCode",className:"text-sm font-semibold",children:"   ()"}),r.jsx(pe,{id:"brandCode",value:$e.code,onChange:Z=>We({...$e,code:Z.target.value}),placeholder:"BRAND-001",className:"h-11"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"        "})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>{B(!1),We({name:"",nameAr:"",code:"",logo:""})},children:""}),r.jsx(V,{onClick:kE,disabled:Pt||!$e.name.trim(),children:Pt?" ...":""})]})]})}),r.jsx(ir,{open:Ts,onOpenChange:Ie,children:r.jsxs(ar,{className:"max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-red-500",children:"  "}),r.jsxs(pr,{className:"space-y-2",children:[r.jsxs("p",{children:["       ",r.jsxs("strong",{children:['"',(rs==null?void 0:rs.nameAr)||(rs==null?void 0:rs.name),'"']}),""]}),rs&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium mb-2",children:" :"}),r.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"  "}),r.jsxs("li",{children:[Array.from($t.entries()).filter(([Z,Ve])=>Ve===rs.id).length," /"]}),r.jsxs("li",{children:[s.filter(Z=>Z.brandId===rs.id).length," /"]})]})]}),r.jsx("p",{className:"text-red-400 font-medium mt-3",children:"      ."})]})]}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{Ie(!1),Zs(null)},disabled:wa,children:""}),r.jsx(V,{variant:"destructive",onClick:Et,disabled:wa,children:wa?" ...":""})]})]})}),r.jsx(ir,{open:Ha,onOpenChange:ss,children:r.jsxs(ar,{className:"max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-red-500",children:" "}),r.jsxs(pr,{className:"space-y-2",children:[r.jsxs("p",{children:["      ",r.jsxs("strong",{children:['"',(Rt==null?void 0:Rt.nameAr)||(Rt==null?void 0:Rt.name),'"']}),""]}),Rt&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium mb-2",children:" :"}),r.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:" "}),r.jsxs("li",{children:[t.filter(Z=>Z.parentId===Rt.id).length,"  "]}),r.jsx("li",{children:"     "})]})]}),r.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium mt-3",children:"      ."})]})]}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{ss(!1),wt(null)},disabled:je,children:""}),r.jsx(V,{variant:"destructive",onClick:Xt,disabled:je,children:je?" ...":""})]})]})}),r.jsx(ir,{open:ne,onOpenChange:ze,children:r.jsxs(ar,{className:"max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-red-500",children:" "}),r.jsxs(pr,{className:"space-y-2",children:[r.jsxs("p",{children:["      ",r.jsxs("strong",{children:['"',(Ke==null?void 0:Ke.nameAr)||(Ke==null?void 0:Ke.name),'"']}),""]}),r.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:r.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium",children:"      ."})}),r.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium mt-3",children:"      ."})]})]}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>{ze(!1),Ge(null)},disabled:St,children:""}),r.jsx(V,{variant:"destructive",onClick:Qr,disabled:St,children:St?" ...":""})]})]})}),r.jsx(ir,{open:re,onOpenChange:Z=>{q(Z),Z||(de(null),ce(null))},children:r.jsxs(ar,{className:"sm:max-w-[600px] h-[98vh] max-h-[98vh] overflow-hidden p-0 flex flex-col",children:[r.jsx("div",{className:"p-6 pb-0",children:r.jsxs(lr,{children:[r.jsx(cr,{children:oe?" ":Ue||O==="subcategories"||O==="products"?"   ":"  "}),r.jsx(pr,{children:oe?` : ${oe.nameAr||oe.name}`:Ue?"     ":H.length>0?`   : ${H.map(Z=>Z.nameAr||Z.name).join(" > ")}`:"  "})]})}),r.jsx("div",{className:"flex-1 overflow-hidden p-6 pt-2",children:r.jsx(XD,{categories:t,initialData:oe,parentId:Ue||(H.length>0?H[H.length-1].id:void 0)||void 0,onSave:Cc,onCancel:()=>{q(!1),de(null),ce(null)},saving:Xe||Ye})})]})}),r.jsx(ob,{open:Le,onOpenChange:rt,multiple:!0,onSelect:Z=>{ve(Ve=>{const Ze=[...[...Ve.images],...Z].slice(0,4);return{...Ve,images:Ze}}),rt(!1),b({title:"  ",description:`  ${Z.length}  `})}}),r.jsx(ob,{open:ut,onOpenChange:gt,multiple:!1,onSelect:Z=>{Z.length>0&&(We(Ve=>({...Ve,logo:Z[0]})),b({title:"  ",description:"      Cloudinary"})),gt(!1)}}),r.jsx(ob,{open:Ot,onOpenChange:te,multiple:!1,onSelect:Z=>{Z.length>0&&(Pe(Ve=>({...Ve,image:Z[0]})),b({title:"  ",description:"     Cloudinary"})),te(!1)}}),r.jsx(ir,{open:CE,onOpenChange:Jp,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"  "}),r.jsx(pr,{children:"       ."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Y,{className:"mb-2 block",children:""}),r.jsxs(mr,{value:Zp,onValueChange:Nv,children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:" ..."})}),r.jsx(ur,{children:t.filter(Z=>!Ol.has(Z.id)).map(Z=>r.jsx(_e,{value:Z.id,children:Z.nameAr||Z.name},Z.id))})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>Jp(!1),children:""}),r.jsx(V,{onClick:AE,disabled:!Zp,children:""})]})]})}),r.jsx(ir,{open:zt,onOpenChange:Z=>{hr(Z),Z||Ar(null)},children:r.jsx(ar,{className:"max-w-[98vw] w-[98vw] h-[98vh] max-h-[98vh] overflow-hidden p-0 flex flex-col",children:r.jsx("div",{className:"flex-1 overflow-hidden p-6 h-full",children:r.jsx(YD,{initialData:ks?void 0:{categoryId:L||"",categoryIds:L?mh(L):[],path:L?kc(L):""},initialImages:[],categories:t,brands:e,units:bn,suppliers:Nc,onSave:r1,onCancel:()=>{hr(!1),Ar(null)},isEditing:!!ks})})})}),r.jsx(ZM,{open:ex,onOpenChange:Z=>{Z||(li(!1),Ec({current:0,total:0,currentItem:""}))},progress:FF,onCancel:()=>{ge.current=!0},title:"  ",description:"      Excel..."}),r.jsx(ir,{open:sr,onOpenChange:ee,children:r.jsxs(ar,{className:"sm:max-w-2xl max-h-[85vh] flex flex-col",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"  "}),r.jsxs(pr,{children:["   ",((zF=ct==null?void 0:ct.brands)==null?void 0:zF.length)||0,"    ",(ct==null?void 0:ct.categories.length)||0,"   ",(ct==null?void 0:ct.products.length)||0,"    Excel"]})]}),r.jsxs(Kn,{defaultValue:"brands",className:"flex-1 flex flex-col min-h-0",children:[r.jsxs(_n,{className:"grid w-full grid-cols-3",children:[r.jsxs(_r,{value:"brands",className:"flex items-center gap-2",children:[r.jsx(xs,{className:"h-4 w-4"}),"  (",((WF=ct==null?void 0:ct.brands)==null?void 0:WF.length)||0,")"]}),r.jsxs(_r,{value:"categories",className:"flex items-center gap-2",children:[r.jsx(mf,{className:"h-4 w-4"})," (",(ct==null?void 0:ct.categories.length)||0,")"]}),r.jsxs(_r,{value:"products",className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"})," (",(ct==null?void 0:ct.products.length)||0,")"]})]}),r.jsx(Yr,{value:"brands",className:"flex-1 min-h-0 mt-4",children:r.jsx(La,{className:"h-[300px] border rounded-md",children:r.jsx("div",{className:"p-2 space-y-1",children:!(ct!=null&&ct.brands)||ct.brands.length===0?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"   "}):ct.brands.map((Z,Ve)=>r.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md hover:bg-muted/50 border-b last:border-b-0 ${Z.status==="EXISTING"?"opacity-60 bg-muted/20":""}`,children:[r.jsx(xs,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium truncate",children:Z.nameAr||Z.name}),Z.status==="EXISTING"?r.jsx(et,{variant:"secondary",className:"text-[10px] h-4",children:" "}):r.jsx(et,{className:"text-[10px] h-4 bg-green-500 hover:bg-green-600",children:""})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:Z.code||"-"})]})]},Ve))})})}),r.jsx(Yr,{value:"categories",className:"flex-1 min-h-0 mt-4",children:r.jsx(La,{className:"h-[300px] border rounded-md",children:r.jsx("div",{className:"p-2 space-y-1",children:(ct==null?void 0:ct.categories.length)===0?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"  "}):ct==null?void 0:ct.categories.map((Z,Ve)=>{var Ze,mt,Ut,kr;const qe=Z.parentId?((Ze=ct.categories.find(Wt=>Wt.id===Z.parentId))==null?void 0:Ze.nameAr)||((mt=ct.categories.find(Wt=>Wt.id===Z.parentId))==null?void 0:mt.name)||((Ut=t.find(Wt=>Wt.id===Z.parentId))==null?void 0:Ut.nameAr)||((kr=t.find(Wt=>Wt.id===Z.parentId))==null?void 0:kr.name)||Z.parentId:null;return r.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md hover:bg-muted/50 border-b last:border-b-0 ${Z.status==="EXISTING"?"opacity-60 bg-muted/20":""}`,children:[r.jsx(mf,{className:"h-4 w-4 text-amber-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium truncate",children:Z.nameAr||Z.name}),Z.status==="EXISTING"?r.jsx(et,{variant:"secondary",className:"text-[10px] h-4",children:" "}):r.jsx(et,{className:"text-[10px] h-4 bg-green-500 hover:bg-green-600",children:""})]}),qe&&r.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx("span",{children:" :"}),r.jsx("span",{className:"font-medium",children:qe})]})]})]},Ve)})})})}),r.jsx(Yr,{value:"products",className:"flex-1 min-h-0 mt-4",children:r.jsx(La,{className:"h-[300px] border rounded-md",children:r.jsx("div",{className:"p-2 space-y-1",children:(ct==null?void 0:ct.products.length)===0?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"  "}):ct==null?void 0:ct.products.map((Z,Ve)=>{var mt,Ut,kr,Wt,Nt,er,gs,tr,As;const qe=Z.brandId?((mt=ct.brands.find(Fr=>Fr.id===Z.brandId))==null?void 0:mt.nameAr)||((Ut=ct.brands.find(Fr=>Fr.id===Z.brandId))==null?void 0:Ut.name)||((kr=e.find(Fr=>Fr.id===Z.brandId))==null?void 0:kr.nameAr)||((Wt=e.find(Fr=>Fr.id===Z.brandId))==null?void 0:Wt.name)||Z.brandId:null,Ze=(Nt=Z.categoryIds)!=null&&Nt[0]?((er=ct.categories.find(Fr=>Fr.id===Z.categoryIds[0]))==null?void 0:er.nameAr)||((gs=ct.categories.find(Fr=>Fr.id===Z.categoryIds[0]))==null?void 0:gs.name)||((tr=t.find(Fr=>Fr.id===Z.categoryIds[0]))==null?void 0:tr.nameAr)||((As=t.find(Fr=>Fr.id===Z.categoryIds[0]))==null?void 0:As.name)||Z.categoryIds[0]:null;return r.jsxs("div",{className:`flex items-start gap-3 p-2 rounded-md hover:bg-muted/50 border-b last:border-b-0 ${Z.status==="EXISTING"?"opacity-60 bg-muted/20":""}`,children:[r.jsx(Dt,{className:"h-4 w-4 text-emerald-500 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"text-[10px] text-muted-foreground flex items-center gap-1 mb-0.5",children:[qe&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"truncate max-w-[80px]",children:qe}),r.jsx(Qo,{className:"h-3 w-3"})]}),Ze&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"truncate max-w-[80px]",children:Ze}),r.jsx(Qo,{className:"h-3 w-3"})]}),r.jsx("span",{className:"truncate max-w-[100px] font-medium text-foreground",children:Z.nameAr||Z.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium truncate text-sm",children:Z.nameAr||Z.name}),Z.status==="EXISTING"?r.jsx(et,{variant:"secondary",className:"text-[10px] h-4",children:" "}):r.jsx(et,{className:"text-[10px] h-4 bg-green-500 hover:bg-green-600",children:""})]}),r.jsxs("div",{className:"text-xs text-muted-foreground flex gap-2",children:[r.jsxs("span",{children:[": ",Z.price]}),Z.sku&&r.jsxs("span",{children:["SKU: ",Z.sku]})]})]}),r.jsx(et,{variant:Z.statusProp==="ACTIVE"?"default":"secondary",className:"flex-shrink-0 text-xs mt-1",children:Z.statusProp==="ACTIVE"?"":Z.statusProp})]},Ve)})})})})]}),r.jsxs(zr,{className:"flex gap-2 justify-end pt-4 border-t mt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>ee(!1),children:""}),r.jsxs(V,{onClick:LF,className:"gap-2",children:[r.jsx(An,{className:"h-4 w-4"})," "]})]})]})}),r.jsx(ir,{open:le,onOpenChange:he,children:r.jsxs(ar,{className:"sm:max-w-lg max-h-[80vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:" "}),r.jsx(pr,{children:"       ."})]}),r.jsxs("div",{className:"py-2",children:[r.jsx("div",{className:"mb-4 text-sm text-muted-foreground",children:"   :"}),r.jsx("div",{className:"space-y-2",children:ye.map((Z,Ve)=>r.jsxs("div",{className:"bg-red-50 p-3 rounded-md border border-red-100 text-sm",children:[r.jsx("div",{className:"font-semibold text-red-800",children:Z.item}),r.jsx("div",{className:"text-red-600 break-words",children:String(Z.reason)})]},Ve))})]}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>he(!1),children:""})})]})})]})}function gle({isFullScreen:e=!1}){const{t}=It(),{toast:s}=Lt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[h,m]=f.useState([]),p=f.useCallback(async(g=!0)=>{try{g&&u(!0);const[x,y,b]=await Promise.all([fe.getBrands(!0).catch(()=>[]),fe.getCategories({limit:1e4},!0).catch(()=>[]),fe.getProducts({limit:"10000",includeBrand:!0,includeCategories:!0},!0).catch(()=>[])]);n(Array.isArray(x)?x:[]);const w=Array.isArray(y)?y:y.categories||[];o(w.map(N=>{var C;return{id:N.id,name:N.name,nameAr:N.nameAr||N.name,parentId:typeof N.parentId=="object"?(C=N.parentId)==null?void 0:C.id:N.parentId}}));const S=(Array.isArray(b)?b:b.data||b.products||[]).map(N=>{var A,E,D,T,P,_;let C=[];if(N.categories&&Array.isArray(N.categories)){const O=new Map;N.categories.forEach(M=>{var R,L;const I=typeof M=="string"?M:M.categoryId||M.id||((R=M.category)==null?void 0:R.id);I&&!O.has(I)&&(typeof M=="string"?O.set(I,{categoryId:M}):O.set(I,{categoryId:M.categoryId||M.id||((L=M.category)==null?void 0:L.id),category:M.category,id:M.id}))}),C=Array.from(O.values())}return{id:N.id,name:N.name,nameAr:N.nameAr||N.name,brandId:N.brandId||((A=N.brand)==null?void 0:A.id),categories:C,description:N.description,descriptionAr:N.descriptionAr,price:typeof N.price=="string"?parseFloat(N.price):N.price,cost:N.costPerItem||N.cost||((D=(E=N.variants)==null?void 0:E[0])==null?void 0:D.cost),sku:N.sku,barcode:N.barcode,stock:((P=(T=N.variants)==null?void 0:T[0])==null?void 0:P.inventoryQuantity)||0,status:N.isAvailable?"ACTIVE":"DRAFT",images:((_=N.images)==null?void 0:_.map(O=>typeof O=="string"?O:O.url))||[],featured:N.featured,path:N.slug||N.path}}),j=Array.from(new Map(S.map(N=>[N.id,N])).values()),k=Array.from(new Map(j.map(N=>[(N.nameAr||N.name||"").toString().trim().toLowerCase(),N])).values());console.log("[HierarchicalManager] Loaded data:",{brands:Array.isArray(x)?x.length:0,categories:w.length,products:k.length,firstProduct:k.length>0?k[0]:null}),c(k)}catch(x){console.error("Failed to load data:",x),s({title:t("common.error"),description:t("dashboard.products.hierarchical.loadError"),variant:"destructive"})}finally{g&&u(!1)}},[s,t]);return f.useEffect(()=>{p(!0);const g=()=>{p(!1)},x=()=>{document.hidden||p(!1)};return window.addEventListener("productsUpdated",g),document.addEventListener("visibilitychange",x),()=>{window.removeEventListener("productsUpdated",g),document.removeEventListener("visibilitychange",x)}},[p]),r.jsxs("div",{className:e?"flex flex-col h-full":"space-y-6",children:[r.jsxs("div",{className:e?"flex-none mb-2 px-2":"",children:[r.jsx("h1",{className:e?"text-xl font-bold text-gray-900 dark:text-white":"text-3xl font-bold text-gray-900 dark:text-white",children:t("dashboard.products.hierarchical.title")}),r.jsx("p",{className:e?"text-xs text-gray-500 mt-0.5":"text-sm text-gray-500 mt-1",children:t("dashboard.products.hierarchical.description")})]}),r.jsx("div",{className:e?"flex-1 min-h-0":"mt-6",children:d?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx(Cdt,{brands:a,categories:i,products:l,selectedCategoryIds:h,isFullScreen:e,onCategorySelect:g=>{h.includes(g)||m([...h,g])},loadProductsByCategory:async g=>{try{console.log(" Loading products for category:",g);const x=await fe.getProducts({limit:"1000"});return(Array.isArray(x)?x:(x==null?void 0:x.data)||(x==null?void 0:x.products)||[]).map(v=>{var j;let S=[];return v.categories&&Array.isArray(v.categories)&&(S=v.categories.map(k=>{var N;return typeof k=="string"?{categoryId:k}:{categoryId:k.categoryId||k.id||((N=k.category)==null?void 0:N.id),category:k.category,id:k.id}})),{id:v.id,name:v.name,nameAr:v.nameAr||v.name,brandId:v.brandId||((j=v.brand)==null?void 0:j.id),categories:S,path:v.slug||v.path,isAvailable:v.isAvailable!==!1&&v.isAvailable!==void 0,isPublished:v.isPublished!==!1&&v.isPublished!==void 0}}).filter(v=>{var S;return(S=v.categories)==null?void 0:S.some(j=>{var N;return(j.categoryId||j.id||((N=j.category)==null?void 0:N.id))===g})})}catch(x){return console.error(" Failed to load products by category:",x),[]}},onCreateCategory:async g=>{var x,y,b,w,v,S,j,k;try{const N=await fe.createCategory({name:g.name,nameAr:g.nameAr,description:g.description,parentId:g.parentId,image:g.image}),C={id:((x=N.category)==null?void 0:x.id)||N.id,name:((y=N.category)==null?void 0:y.name)||N.name,nameAr:((b=N.category)==null?void 0:b.nameAr)||N.nameAr||((w=N.category)==null?void 0:w.name)||N.name,parentId:typeof((v=N.category)==null?void 0:v.parentId)=="object"?(j=(S=N.category)==null?void 0:S.parentId)==null?void 0:j.id:((k=N.category)==null?void 0:k.parentId)||N.parentId};return o(A=>[...A,C]),p().catch(A=>{console.error("Failed to reload data after creating category:",A)}),C}catch(N){throw console.error("Failed to create category:",N),N}},onCreateBrand:async g=>{try{const x=await fe.createBrand(g);return await p(),{id:x.id,name:x.name,nameAr:g.nameAr,code:g.code}}catch(x){throw console.error("Failed to create brand:",x),x}},onCreateProduct:async g=>{try{const x=await fe.createProduct({...g,isAvailable:!0,isPublished:!0,variants:g.variants||[{name:"Default",price:g.price||0,inventoryQuantity:g.stockCount||0}]});return await p(),{id:x.id,name:x.name,nameAr:x.nameAr}}catch(x){throw console.error("Failed to create product:",x),x}},onCategoriesUpdate:p,onBrandsUpdate:p,onProductsUpdate:p})})]})}function Adt(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[h,m]=f.useState(""),[p,g]=f.useState("all"),[x,y]=f.useState("all"),[b,w]=f.useState({min:"",max:""}),[v,S]=f.useState("all"),[j,k]=f.useState(null),[N,C]=f.useState({price:"",compareAtPrice:"",costPerItem:""}),[A,E]=f.useState(!1),[D,T]=f.useState("percentage"),[P,_]=f.useState(""),[O,M]=f.useState("increase"),[I,R]=f.useState(new Set),[L,K]=f.useState(1),[H,F]=f.useState(20);f.useEffect(()=>{G()},[]);const G=async()=>{try{c(!0);const[oe,de,Te]=await Promise.all([fe.getProducts({limit:1e4,includeCategories:!0,includeBrand:!0}),fe.getCategories(),fe.get("/brands").catch(()=>[])]);let He=[];if(Array.isArray(oe))He=oe;else if(oe&&typeof oe=="object"){if("data"in oe&&"meta"in oe){const Ue=oe;He=Array.isArray(Ue.data)?Ue.data:[]}else if("data"in oe){const Ue=oe;He=Array.isArray(Ue.data)?Ue.data:[]}}Array.isArray(He)||(He=[]);const Oe=He.map(Ue=>{var ce,Ee,Pe,$e;return{id:Ue.id,name:Ue.name,nameAr:Ue.nameAr,sku:Ue.sku,price:typeof Ue.price=="string"?parseFloat(Ue.price):Ue.price||0,compareAtPrice:Ue.compareAtPrice?typeof Ue.compareAtPrice=="string"?parseFloat(Ue.compareAtPrice):Ue.compareAtPrice:void 0,costPerItem:Ue.costPerItem?typeof Ue.costPerItem=="string"?parseFloat(Ue.costPerItem):Ue.costPerItem:void 0,category:((Ee=(ce=Ue.categories)==null?void 0:ce[0])==null?void 0:Ee.category)||(($e=(Pe=Ue.categories)==null?void 0:Pe[0])!=null&&$e.id?{id:Ue.categories[0].id,name:Ue.categories[0].name||""}:void 0),brand:Ue.brand,isAvailable:Ue.isAvailable!==!1}});s(Oe);const me=Array.isArray(de)?de:de.categories||[];n(me.map(Ue=>({id:Ue.id,name:Ue.name}))),o(Array.isArray(Te)?Te:[])}catch(oe){console.error("Failed to load data:",oe),e({title:"  ",description:"     .   .",variant:"destructive"})}finally{c(!1)}},U=f.useMemo(()=>(K(1),t.filter(oe=>{var de,Te;if(h){const He=h.toLowerCase();if(!(oe.name.toLowerCase().includes(He)||oe.nameAr&&oe.nameAr.toLowerCase().includes(He)||oe.sku&&oe.sku.toLowerCase().includes(He)))return!1}return!(p!=="all"&&((de=oe.category)==null?void 0:de.id)!==p||x!=="all"&&((Te=oe.brand)==null?void 0:Te.id)!==x||b.min&&oe.price<parseFloat(b.min)||b.max&&oe.price>parseFloat(b.max)||v==="available"&&!oe.isAvailable||v==="unavailable"&&oe.isAvailable)})),[t,h,p,x,b,v]),W=Math.ceil(U.length/H),J=f.useMemo(()=>{const oe=(L-1)*H;return U.slice(oe,oe+H)},[U,L,H]),z=oe=>{var de,Te;k(oe.id),C({price:oe.price.toString(),compareAtPrice:((de=oe.compareAtPrice)==null?void 0:de.toString())||"",costPerItem:((Te=oe.costPerItem)==null?void 0:Te.toString())||""})},ie=()=>{k(null),C({price:"",compareAtPrice:"",costPerItem:""})},re=async oe=>{try{u(!0);const de={price:parseFloat(N.price)};if(N.compareAtPrice&&(de.compareAtPrice=parseFloat(N.compareAtPrice)),N.costPerItem&&(de.costPerItem=parseFloat(N.costPerItem)),isNaN(de.price)||de.price<0){e({title:"  ",description:"          ",variant:"destructive"});return}const Te=encodeURIComponent(oe);await fe.updateProduct(Te,de),await G(),e({title:"",description:"   "}),ie()}catch(de){console.error("Failed to update price:",de),e({title:"  ",description:"    .    .",variant:"destructive"})}finally{u(!1)}},q=async()=>{if(!P||U.length===0){e({title:"  ",description:"    ",variant:"destructive"});return}try{u(!0);const oe=parseFloat(P),Te=(I.size>0?U.filter(Oe=>I.has(Oe.id)):U).map(Oe=>{let me=Oe.price;if(D==="percentage"){const Ue=O==="increase"?1+oe/100:1-oe/100;me=Oe.price*Ue}else if(D==="fixed"){const Ue=O==="increase"?oe:-oe;me=Oe.price+Ue}else D==="replace"&&(me=oe);return{productId:Oe.id,price:Math.max(0,me),compareAtPrice:Oe.compareAtPrice,costPerItem:Oe.costPerItem}}),He=10;for(let Oe=0;Oe<Te.length;Oe+=He){const me=Te.slice(Oe,Oe+He);await Promise.all(me.map(Ue=>{const ce=encodeURIComponent(Ue.productId);return fe.updateProduct(ce,{price:Ue.price,compareAtPrice:Ue.compareAtPrice,costPerItem:Ue.costPerItem})}))}await G(),e({title:"",description:`  ${Te.length}  `}),E(!1),_(""),M("increase"),R(new Set)}catch(oe){console.error("Failed to bulk update:",oe),e({title:"  ",description:"    .    .",variant:"destructive"})}finally{u(!1)}},se=oe=>{const de=new Set(I);de.has(oe)?de.delete(oe):de.add(oe),R(de)},B=()=>{I.size===U.length?R(new Set):R(new Set(U.map(oe=>oe.id)))};return r.jsxs("div",{className:"space-y-5 w-full",style:{maxWidth:"100%",overflowX:"hidden"},children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:" "}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"      "})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",onClick:G,disabled:l,children:[r.jsx(mc,{className:`h-4 w-4 ml-2 ${l?"animate-spin":""}`}),""]}),r.jsxs(V,{onClick:()=>E(!0),children:[r.jsx(rl,{className:"h-4 w-4 ml-2"})," "]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Wu,{className:"h-5 w-5"})," "]})}),r.jsxs(Se,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:"  SKU...",value:h,onChange:oe=>m(oe.target.value),className:"pr-10"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:""}),r.jsxs(mr,{value:p,onValueChange:g,children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:" "})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:" "}),a.map(oe=>r.jsx(_e,{value:oe.id,children:oe.name},oe.id))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsxs(mr,{value:x,onValueChange:y,children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:" "})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:" "}),i.map(oe=>r.jsx(_e,{value:oe.id,children:oe.name},oe.id))]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsxs(mr,{value:v,onValueChange:S,children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:""}),r.jsx(_e,{value:"available",children:""}),r.jsx(_e,{value:"unavailable",children:" "})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsx(pe,{type:"number",placeholder:"0",value:b.min,onChange:oe=>w({...b,min:oe.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsx(pe,{type:"number",placeholder:"  ",value:b.max,onChange:oe=>w({...b,max:oe.target.value})})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",U.length,"  ",t.length," "]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>{m(""),g("all"),y("all"),w({min:"",max:""}),S("all"),R(new Set)},children:"  "})]})]})]}),r.jsxs(we,{className:"overflow-hidden",children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-"})," (",U.length,")"]}),U.length>0&&r.jsx(V,{variant:"outline",size:"sm",onClick:B,children:I.size===U.length?" ":" "})]})}),r.jsx(Se,{className:"p-0",children:l?r.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-primary"})}):U.length===0?r.jsxs("div",{className:"text-center py-12 px-4",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),r.jsx("p",{className:"text-muted-foreground",children:t.length===0?"    ":"     "})]}):r.jsxs("div",{className:"w-full",children:[r.jsxs(cs,{style:{minWidth:"800px"},children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"w-12",children:r.jsx("input",{type:"checkbox",checked:J.length>0&&J.every(oe=>I.has(oe.id)),onChange:()=>{if(J.every(de=>I.has(de.id))){const de=new Set(I);J.forEach(Te=>de.delete(Te.id)),R(de)}else{const de=new Set(I);J.forEach(Te=>de.add(Te.id)),R(de)}},className:"rounded"})}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:"SKU"}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:J.map(oe=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsx("input",{type:"checkbox",checked:I.has(oe.id),onChange:()=>se(oe.id),className:"rounded"})}),r.jsx(Ne,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:oe.name}),oe.nameAr&&r.jsx("p",{className:"text-sm text-muted-foreground",children:oe.nameAr})]})}),r.jsx(Ne,{className:"font-mono text-sm",children:oe.sku||"-"}),r.jsx(Ne,{children:oe.category?r.jsx(et,{variant:"outline",children:oe.category.name}):"-"}),r.jsx(Ne,{children:oe.brand?r.jsx(et,{variant:"secondary",children:oe.brand.name}):"-"}),r.jsx(Ne,{children:j===oe.id?r.jsx(pe,{type:"number",step:"0.01",value:N.price,onChange:de=>C({...N,price:de.target.value}),className:"w-24"}):r.jsxs("span",{className:"font-semibold text-lg",children:[oe.price.toFixed(2)," ."]})}),r.jsx(Ne,{children:j===oe.id?r.jsx(pe,{type:"number",step:"0.01",value:N.compareAtPrice,onChange:de=>C({...N,compareAtPrice:de.target.value}),className:"w-24",placeholder:""}):r.jsx("span",{className:"text-muted-foreground",children:oe.compareAtPrice?`${oe.compareAtPrice.toFixed(2)} .`:"-"})}),r.jsx(Ne,{children:j===oe.id?r.jsx(pe,{type:"number",step:"0.01",value:N.costPerItem,onChange:de=>C({...N,costPerItem:de.target.value}),className:"w-24",placeholder:""}):r.jsx("span",{className:"text-muted-foreground",children:oe.costPerItem?`${oe.costPerItem.toFixed(2)} .`:"-"})}),r.jsx(Ne,{children:j===oe.id?r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{size:"sm",variant:"default",onClick:()=>re(oe.id),disabled:d,children:[r.jsx(nn,{className:"h-4 w-4 ml-1"}),""]}),r.jsx(V,{size:"sm",variant:"outline",onClick:ie,disabled:d,children:r.jsx(jr,{className:"h-4 w-4"})})]}):r.jsxs(V,{size:"sm",variant:"outline",onClick:()=>z(oe),children:[r.jsx(Yfe,{className:"h-4 w-4 ml-1"}),""]})})]},oe.id))})]}),U.length>0&&r.jsxs("div",{className:"flex items-center justify-between border-t pt-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("span",{children:""}),r.jsxs(mr,{value:H.toString(),onValueChange:oe=>{F(Number(oe)),K(1)},children:[r.jsx(dr,{className:"w-20",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"10",children:"10"}),r.jsx(_e,{value:"20",children:"20"}),r.jsx(_e,{value:"50",children:"50"}),r.jsx(_e,{value:"100",children:"100"})]})]}),r.jsxs("span",{children:[" ",U.length," "]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>K(1),disabled:L===1,children:""}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>K(oe=>Math.max(1,oe-1)),disabled:L===1,children:""}),r.jsxs("span",{className:"text-sm px-2",children:[" ",L,"  ",W]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>K(oe=>Math.min(W,oe+1)),disabled:L===W,children:""}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>K(W),disabled:L===W,children:""})]})]})]})})]}),r.jsx(ir,{open:A,onOpenChange:E,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"  "}),r.jsx(pr,{children:I.size>0?` ${I.size}  `:`    (${U.length} )`})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" "}),r.jsxs(mr,{value:D,onValueChange:oe=>T(oe),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"percentage",children:"  (%)"}),r.jsx(_e,{value:"fixed",children:"  (.)"}),r.jsx(_e,{value:"replace",children:"  "})]})]})]}),D!=="replace"&&r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:" "}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{type:"button",variant:O==="increase"?"default":"outline",className:"flex-1",onClick:()=>M("increase"),children:[r.jsx(rr,{className:"h-4 w-4 ml-2"}),""]}),r.jsxs(V,{type:"button",variant:O==="decrease"?"default":"outline",className:"flex-1",onClick:()=>M("decrease"),children:[r.jsx(wm,{className:"h-4 w-3 ml-2"}),""]})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{children:D==="percentage"?"  (%)":D==="fixed"?" (.)":"  (.)"}),r.jsx(pe,{type:"number",step:"0.01",min:"0",value:P,onChange:oe=>{const de=oe.target.value;(de===""||!isNaN(parseFloat(de))&&parseFloat(de)>=0)&&_(de)},placeholder:D==="percentage"?": 10":D==="fixed"?": 50":": 100"}),D==="percentage"&&P&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[":   100 .  ",O==="increase"?(100*(1+parseFloat(P)/100)||0).toFixed(2):(100*(1-parseFloat(P)/100)||0).toFixed(2)," ."]}),D==="fixed"&&P&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[":   100 .  ",O==="increase"?(100+(parseFloat(P)||0)).toFixed(2):(100-(parseFloat(P)||0)).toFixed(2)," ."]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),children:""}),r.jsx(V,{onClick:q,disabled:d||!P,children:d?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 ml-2 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rl,{className:"h-4 w-4 ml-2"}),""]})})]})]})})]})}function Edt(){var wa,Wa,Ha,ss,Rt,wt;const{t:e,i18n:t}=It(),s=t.language==="ar",{toast:a}=Lt(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),[m,p]=f.useState(null),[g,x]=f.useState(!1),[y,b]=f.useState("orders"),[w,v]=f.useState(1),[S,j]=f.useState(20),[k,N]=f.useState(0),[C,A]=f.useState(1),[E,D]=f.useState([]),[T,P]=f.useState(!1),[_,O]=f.useState(null),[M,I]=f.useState(!1),[R,L]=f.useState(null),[K,H]=f.useState(""),[F,G]=f.useState(!1),[U,W]=f.useState(null),[J,z]=f.useState(!1),[ie,re]=f.useState(""),[q,se]=f.useState(null),[B,oe]=f.useState(!1),[de,Te]=f.useState(null),[He,Oe]=f.useState(""),[me,Ue]=f.useState(null),ce=f.useCallback(async()=>{try{const je=await fe.get("/site-config",{requireAuth:!0});je&&je.settings&&se(je.settings)}catch(je){console.error("Failed to load store settings:",je)}},[]);f.useEffect(()=>{ce()},[ce]);const Ee=je=>{var ue;return{...je,id:je.id||je._id,customer:je.customer||{name:je.customerName,email:je.customerEmail,phone:je.customerPhone},items:je.items||((ue=je.orderItems)==null?void 0:ue.map(ne=>({...ne,product:ne.product||{name:ne.productName,nameAr:ne.productName}}))),total:je.total||je.totalAmount,subtotal:je.subtotal||je.subtotalAmount,tax:je.tax||je.taxAmount,shipping:je.shipping||je.shippingAmount,discount:je.discount||je.discountAmount}},Pe=f.useCallback(async()=>{try{l(!0);const je=await fe.getOrders({page:w,limit:S,status:u!=="all"?u:void 0});if(je&&typeof je=="object"&&"data"in je&&"meta"in je){const ue=je,ne=ue.data.map(Ee);i(ne),N(ue.meta.total),A(ue.meta.totalPages)}else{const ue=je,ze=(Array.isArray(je)?je:(ue==null?void 0:ue.orders)||(ue==null?void 0:ue.items)||[]).map(Ee);i(ze),N(ze.length),A(Math.ceil(ze.length/S))}}catch(je){console.error("Failed to load orders:",je),a({title:e("dashboard.orders.loadOrdersError"),variant:"destructive"})}finally{l(!1)}},[a,e,w,S,u]);f.useEffect(()=>{Pe()},[Pe]);const $e=async(je,ue)=>{var ne,ze;try{await fe.updateOrderStatus(je,ue),a({title:e("dashboard.orders.updateStatusSuccess")}),Pe()}catch(Ke){const Ge=Ke;(Ge==null?void 0:Ge.status)===401||(ne=Ge==null?void 0:Ge.message)!=null&&ne.includes("sessionExpired")||(ze=Ge==null?void 0:Ge.message)!=null&&ze.includes("Unauthorized")?(a({title:e("common.sessionExpired")||" ",description:e("common.sessionExpiredDesc")||"   .    (F5)     .",variant:"destructive"}),setTimeout(()=>{window.location.reload()},3e3)):a({title:e("dashboard.orders.updateStatusError"),description:(Ge==null?void 0:Ge.message)||"     ",variant:"destructive"})}},We=async je=>{var ue,ne;try{Ue(je),await fe.updateOrderStatus(je,"APPROVED"),a({title:e("dashboard.orders.approveSuccess")||"    ",description:e("dashboard.orders.orderApproved")||"      "}),Pe()}catch(ze){const Ke=ze;(Ke==null?void 0:Ke.status)===401||(ue=Ke==null?void 0:Ke.message)!=null&&ue.includes("sessionExpired")||(ne=Ke==null?void 0:Ke.message)!=null&&ne.includes("Unauthorized")?(a({title:e("common.sessionExpired")||" ",description:e("common.sessionExpiredDesc")||"   .    (F5)     .",variant:"destructive"}),setTimeout(()=>{window.location.reload()},3e3)):a({title:e("dashboard.orders.approveError")||"   ",description:(Ke==null?void 0:Ke.message)||e("dashboard.orders.updateStatusError"),variant:"destructive"})}finally{Ue(null)}},Xe=async()=>{if(!(!de||!He.trim()))try{Ue(de.id),await fe.rejectOrder(de.id,He),a({title:e("dashboard.orders.rejectSuccess")||"   ",description:e("dashboard.orders.orderRejected")||"     "}),oe(!1),Oe(""),Te(null),Pe()}catch(je){const ue=je;a({title:e("dashboard.orders.rejectError")||"  ",description:(ue==null?void 0:ue.message)||e("dashboard.orders.updateStatusError"),variant:"destructive"})}finally{Ue(null)}},Ce=()=>{a({title:e("common.success"),description:e("dashboard.header.exportingOrders")})},Ye=je=>{a({title:e("common.success"),description:e("dashboard.orders.import")})},ft=je=>{const ue={PENDING:{label:e("dashboard.orders.pending"),className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20",icon:Co},PROCESSING:{label:e("dashboard.orders.processing"),className:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20",icon:Dt},SHIPPED:{label:e("dashboard.orders.shipped"),className:"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-500/20",icon:cm},DELIVERED:{label:e("dashboard.orders.delivered"),className:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",icon:Fs},APPROVED:{label:e("dashboard.orders.approved"),className:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border-emerald-500/20",icon:Fs},REJECTED:{label:e("dashboard.orders.rejected"),className:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/20",icon:Ls},CANCELLED:{label:e("dashboard.orders.cancelled"),className:"bg-gray-500/10 text-gray-700 dark:text-gray-400 border-gray-500/20",icon:Ls}},ne=ue[je]||ue.PENDING,ze=ne.icon;return r.jsxs(et,{variant:"outline",className:`${ne.className} gap-1 whitespace-nowrap`,children:[r.jsx(ze,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:ne.label})]})},Pt=je=>{const ue={PENDING:{label:e("dashboard.orders.paymentPending"),variant:"outline"},PAID:{label:e("dashboard.orders.paid"),variant:"default"},FAILED:{label:e("dashboard.orders.failed"),variant:"destructive"},REFUNDED:{label:e("dashboard.orders.refunded"),variant:"secondary"}},ne=ue[je]||ue.PENDING;return r.jsx(et,{variant:ne.variant,children:ne.label})},vt=n.filter(je=>{var ne,ze,Ke,Ge,St;return c?((ne=je.orderNumber)==null?void 0:ne.toLowerCase().includes(c.toLowerCase()))||((Ke=(ze=je.customer)==null?void 0:ze.name)==null?void 0:Ke.toLowerCase().includes(c.toLowerCase()))||((St=(Ge=je.customer)==null?void 0:Ge.email)==null?void 0:St.toLowerCase().includes(c.toLowerCase())):!0}),Qt=vt,br={total:k,pending:n.filter(je=>je.status==="PENDING").length,processing:n.filter(je=>je.status==="PROCESSING").length,shipped:n.filter(je=>je.status==="SHIPPED").length,delivered:n.filter(je=>je.status==="DELIVERED").length},$t=je=>{p(je),x(!0)},qt=f.useCallback(async()=>{try{P(!0);const je=await fe.get("/wallet/admin/topups",{requireAuth:!0}),ne=(Array.isArray(je)?je:(je==null?void 0:je.data)||(je==null?void 0:je.requests)||[]).filter(ze=>ze.status==="PENDING");D(ne)}catch(je){console.error("Failed to load top-up requests:",je),a({title:e("dashboard.orders.loadTopupsError"),variant:"destructive"}),D([])}finally{P(!1)}},[a,e]);f.useEffect(()=>{y==="topups"&&qt()},[y,qt]);const Ts=async je=>{try{O(je),await fe.post(`/wallet/admin/topup/${je}/approve`,{},{requireAuth:!0}),a({title:e("dashboard.orders.approveSuccess")}),qt(),Pe()}catch(ue){const ne=ue;console.error("Failed to approve top-up:",ue),a({title:e("dashboard.orders.approveError"),description:ne==null?void 0:ne.message,variant:"destructive"})}finally{O(null)}},Ie=async()=>{if(!R||!K.trim()){a({title:e("dashboard.orders.error"),description:e("dashboard.orders.enterRejectReason"),variant:"destructive"});return}try{O(R.id),await fe.post(`/wallet/admin/topup/${R.id}/reject`,{reason:K},{requireAuth:!0}),a({title:e("dashboard.orders.rejectSuccess")}),I(!1),H(""),L(null),qt()}catch(je){console.error("Failed to reject top-up:",je),a({title:e("dashboard.orders.rejectError"),description:je==null?void 0:je.message,variant:"destructive"})}finally{O(null)}},rs=je=>{try{return new Date(je).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return je}},Zs=je=>{var ee,ye,X;const ue=window.open("","_blank");if(!ue)return;const ne=(q==null?void 0:q.storeNameAr)||(q==null?void 0:q.storeName)||e("common.ourStore"),ze=(q==null?void 0:q.vatNumber)||e("common.notAvailable"),Ke=(q==null?void 0:q.currency)||e("common.currency"),Ge=je.subtotal||0,St=je.tax||0,lt=je.total||0,ct=je.discount||0,Yt=je.shipping||0,sr=((ee=je.items)==null?void 0:ee.map(le=>{var he,ge;return`
      <tr>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: right;">${((he=le.product)==null?void 0:he.nameAr)||((ge=le.product)==null?void 0:ge.name)||""}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${le.quantity}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${(le.price||0).toFixed(2)}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${((le.price||0)*(le.quantity||1)).toFixed(2)}</td>
      </tr>
    `}).join(""))||"";ue.document.write(`
      <html dir="rtl" lang="ar">
        <head>
          <title>  - ${je.orderNumber}</title>
          <style>
            body { font-family: 'Arial', sans-serif; padding: 40px; color: #333; }
            .header { display: flex; justify-content: space-between; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .store-info h1 { margin: 0; color: #000; }
            .invoice-title { text-align: center; margin-bottom: 30px; }
            .invoice-title h2 { border: 1px solid #333; display: inline-block; padding: 5px 20px; background: #f9f9f9; }
            .details-grid { display: grid; grid-template-cols: 1fr 1fr; gap: 40px; margin-bottom: 40px; }
            .details-box h3 { border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 10px; font-size: 16px; }
            .details-box p { margin: 5px 0; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
            th { background: #f5f5f5; padding: 10px; border-bottom: 2px solid #ddd; text-align: right; }
            .totals { width: 300px; margin-right: auto; }
            .total-row { display: flex; justify-content: space-between; padding: 5px 0; }
            .total-row.grand-total { border-top: 2px solid #333; margin-top: 10px; padding-top: 10px; font-weight: bold; font-size: 18px; }
            .footer { margin-top: 50px; text-align: center; font-size: 12px; color: #777; border-top: 1px solid #eee; padding-top: 20px; }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="store-info">
              <h1>${ne}</h1>
              <p>${e("dashboard.orders.invoice.vatNumber")}: ${ze}</p>
              <p>${(q==null?void 0:q.address)||""}, ${(q==null?void 0:q.city)||""}</p>
              <p>${(q==null?void 0:q.phone)||""}</p>
            </div>
            <div class="qr-placeholder" style="width: 100px; height: 100px; border: 1px solid #eee; display: flex; align-items: center; justify-content: center; font-size: 10px; text-align: center;">
              QR Code<br>ZATCA Compliant
            </div>
          </div>

          <div class="invoice-title">
            <h2>${e("dashboard.orders.invoice.simplifiedTaxInvoice")}</h2>
            <p>Simplified Tax Invoice</p>
          </div>

          <div class="details-grid">
            <div class="details-box">
              <h3>${e("dashboard.orders.invoice.invoiceInfo")}</h3>
              <p><strong>${e("dashboard.orders.invoice.orderNumber")}:</strong> ${je.orderNumber||je.id}</p>
              <p><strong>${e("dashboard.orders.invoice.date")}:</strong> ${rs(je.createdAt)}</p>
              <p><strong>${e("dashboard.orders.invoice.paymentStatus")}:</strong> ${je.paymentStatus==="PAID"?e("dashboard.orders.invoice.paid"):e("dashboard.orders.invoice.unpaid")}</p>
            </div>
            <div class="details-box">
              <h3>${e("dashboard.orders.invoice.customerInfo")}</h3>
              <p><strong>${e("dashboard.orders.invoice.name")}:</strong> ${((ye=je.customer)==null?void 0:ye.name)||e("dashboard.orders.customer")}</p>
              <p><strong>${e("dashboard.orders.invoice.phone")}:</strong> ${((X=je.customer)==null?void 0:X.phone)||"-"}</p>
              <p><strong>${e("dashboard.orders.invoice.address")}:</strong> ${je.shippingAddress?je.shippingAddress.street+", "+je.shippingAddress.city:"-"}</p>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="text-align: right;">${e("dashboard.orders.invoice.product")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.quantity")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.unitPrice")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.total")}</th>
              </tr>
            </thead>
            <tbody>
              ${sr}
            </tbody>
          </table>

          <div class="totals">
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.subtotal")}:</span>
              <span>${Ge.toFixed(2)} ${Ke}</span>
            </div>
            ${St>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.vat")}:</span>
              <span>${St.toFixed(2)} ${Ke}</span>
            </div>
            `:""}
            ${Yt>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.shipping")}:</span>
              <span>${Yt.toFixed(2)} ${Ke}</span>
            </div>
            `:""}
            ${ct>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.discount")}:</span>
              <span>-${ct.toFixed(2)} ${Ke}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>${e("dashboard.orders.invoice.grandTotal")}:</span>
              <span>${lt.toFixed(2)} ${Ke}</span>
            </div>
          </div>

          <div class="footer">
            <p>${e("dashboard.orders.invoice.thankYou",{storeName:ne})}</p>
            <p>${e("dashboard.orders.invoice.footer")}</p>
          </div>

          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 500);
            };
          <\/script>
        </body>
      </html>
    `),ue.document.close()};return r.jsxs("div",{className:"space-y-6 w-full",style:{maxWidth:"100%",overflowX:"hidden"},children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orders.title")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.orders.subtitle")})]})}),r.jsxs(Kn,{value:y,onValueChange:b,children:[r.jsxs(_n,{className:"grid w-full grid-cols-2 max-w-md",children:[r.jsxs(_r,{value:"orders",className:"gap-2",children:[r.jsx(Dt,{className:"h-4 w-4"}),e("dashboard.orders.orders")]}),r.jsxs(_r,{value:"topups",className:"gap-2 relative",children:[r.jsx(Na,{className:"h-4 w-4"}),e("dashboard.orders.topups"),E.length>0&&r.jsx(et,{variant:"destructive",className:"mr-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:E.length})]})]}),r.jsxs(Yr,{value:"orders",className:"space-y-6 mt-6",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4",children:[r.jsx(we,{className:"border-s-4 border-s-blue-500 min-w-0",children:r.jsx(Se,{className:"p-4 md:pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.totalOrders")}),r.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:br.total})]})})}),r.jsx(we,{className:"border-s-4 border-s-yellow-500 min-w-0",children:r.jsx(Se,{className:"p-4 md:pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.pending")}),r.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:br.pending})]})})}),r.jsx(we,{className:"border-s-4 border-s-blue-600 min-w-0",children:r.jsx(Se,{className:"p-4 md:pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.processing")}),r.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:br.processing})]})})}),r.jsx(we,{className:"border-s-4 border-s-purple-500 min-w-0",children:r.jsx(Se,{className:"p-4 md:pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.shipped")}),r.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:br.shipped})]})})}),r.jsx(we,{className:"border-s-4 border-s-green-500 min-w-0 col-span-2 sm:col-span-1",children:r.jsx(Se,{className:"p-4 md:pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.delivered")}),r.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:br.delivered})]})})})]}),r.jsxs(we,{className:"overflow-hidden",children:[r.jsx(st,{className:"border-b p-4 md:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Mr,{className:"absolute end-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{placeholder:e("dashboard.orders.searchPlaceholder"),value:c,onChange:je=>{d(je.target.value),v(1)},className:"pe-10"})]}),r.jsxs(mr,{value:u,onValueChange:je=>{h(je),v(1)},children:[r.jsxs(dr,{className:"w-full sm:w-[180px]",children:[r.jsx(Wu,{className:"h-4 w-4 me-2"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("dashboard.orders.allStatuses")}),r.jsx(_e,{value:"PENDING",children:e("dashboard.orders.pending")}),r.jsx(_e,{value:"PROCESSING",children:e("dashboard.orders.processing")}),r.jsx(_e,{value:"SHIPPED",children:e("dashboard.orders.shipped")}),r.jsx(_e,{value:"DELIVERED",children:e("dashboard.orders.delivered")}),r.jsx(_e,{value:"APPROVED",children:e("dashboard.orders.approved")}),r.jsx(_e,{value:"REJECTED",children:e("dashboard.orders.rejected")}),r.jsx(_e,{value:"CANCELLED",children:e("dashboard.orders.cancelled")})]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[r.jsxs(V,{variant:"outline",className:"gap-2",onClick:Ce,size:"sm",children:[r.jsx(xn,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("dashboard.orders.export")})]}),r.jsxs("div",{className:"relative",children:[r.jsx(pe,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:Ye}),r.jsxs(V,{variant:"outline",className:"gap-2",size:"sm",children:[r.jsx(An,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("dashboard.orders.import")})]})]})]})]})}),r.jsx(Se,{className:"p-0",children:o?r.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):vt.length===0?r.jsxs("div",{className:"text-center py-12 px-4",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.orders.noOrders")}),r.jsx("p",{className:"text-gray-500",children:e("dashboard.orders.noMatchingOrders")})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-full",dir:s?"rtl":"ltr",children:r.jsxs(cs,{className:"w-full",style:{minWidth:"900px",tableLayout:"auto"},children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:`font-semibold min-w-[140px] max-w-[180px] whitespace-nowrap sticky ${s?"right-0":"left-0"} bg-background z-20 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:e("dashboard.orders.orderNumber")}),r.jsx(Ae,{className:"font-semibold min-w-[180px] max-w-[250px] text-start",children:e("dashboard.orders.customer")}),r.jsx(Ae,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.products")}),r.jsx(Ae,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.amount")}),r.jsx(Ae,{className:"font-semibold min-w-[120px] max-w-[160px] whitespace-nowrap text-start",children:e("dashboard.orders.status")}),r.jsx(Ae,{className:"font-semibold min-w-[120px] max-w-[160px] whitespace-nowrap text-start",children:e("dashboard.orders.paymentStatus")}),r.jsx(Ae,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.date")}),r.jsx(Ae,{className:`font-semibold text-center min-w-[80px] max-w-[120px] whitespace-nowrap sticky ${s?"left-0":"right-0"} bg-background z-20 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.orders.actions")})]})}),r.jsx(us,{children:Qt.map((je,ue)=>{var ne,ze,Ke,Ge,St;return r.jsxs(kt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsxs(Ne,{className:`font-mono font-semibold sticky ${s?"right-0":"left-0"} bg-background z-10 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:["#",je.orderNumber||((ne=je.id)==null?void 0:ne.slice(0,8))||"N/A"]}),r.jsx(Ne,{className:"text-start",children:r.jsxs("div",{className:"min-w-0 text-start",children:[r.jsx("p",{className:"font-medium break-words",children:((ze=je.customer)==null?void 0:ze.name)||e("dashboard.orders.customer")}),r.jsx("p",{className:"text-sm text-gray-500 break-words",children:(Ke=je.customer)==null?void 0:Ke.email})]})}),r.jsx(Ne,{className:"text-start",children:r.jsx("div",{className:`flex ${s?"justify-end":"justify-start"}`,children:r.jsxs(et,{variant:"secondary",children:[((Ge=je.items)==null?void 0:Ge.length)||0," ",e("dashboard.orders.products")]})})}),r.jsxs(Ne,{className:"font-semibold text-start",children:[((St=je.total)==null?void 0:St.toFixed(2))||"0.00"," ",e("common.currency")]}),r.jsx(Ne,{className:"text-start",children:r.jsxs(mr,{value:je.status,onValueChange:lt=>$e(je.id,lt),children:[r.jsx(dr,{className:"w-[140px] md:w-[160px]",children:ft(je.status)}),r.jsxs(ur,{children:[r.jsx(_e,{value:"PENDING",children:e("dashboard.orders.pending")}),r.jsx(_e,{value:"PROCESSING",children:e("dashboard.orders.processing")}),r.jsx(_e,{value:"SHIPPED",children:e("dashboard.orders.shipped")}),r.jsx(_e,{value:"DELIVERED",children:e("dashboard.orders.delivered")}),r.jsx(_e,{value:"APPROVED",children:e("dashboard.orders.approved")}),r.jsx(_e,{value:"REJECTED",children:e("dashboard.orders.rejected")}),r.jsx(_e,{value:"CANCELLED",children:e("dashboard.orders.cancelled")})]})]})}),r.jsx(Ne,{className:"text-start",children:Pt(je.paymentStatus)}),r.jsx(Ne,{className:"text-sm text-gray-500 text-start",children:new Date(je.createdAt).toLocaleDateString(s?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"})}),r.jsx(Ne,{className:`sticky ${s?"left-0":"right-0"} bg-background z-10 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>$t(je),title:e("dashboard.orders.viewDetails")||" ","aria-label":e("dashboard.orders.viewDetails")||" ",children:r.jsx(Cr,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>Zs(je),title:e("dashboard.orders.printInvoice")||" ","aria-label":e("dashboard.orders.printInvoice")||" ",children:r.jsx(v6,{className:"h-4 w-4"})}),je.status!=="APPROVED"&&je.status!=="REJECTED"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{variant:"outline",size:"sm",className:"text-green-600 dark:text-green-500 border-green-200 dark:border-green-800 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>We(je.id),disabled:me===je.id,title:e("dashboard.orders.approve")||"",children:[me===je.id?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(Za,{className:"h-4 w-4 me-1"}),e("dashboard.orders.approve")||""]}),r.jsxs(V,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-500 border-red-200 dark:border-red-800 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{Te(je),oe(!0)},disabled:me===je.id,title:e("dashboard.orders.reject")||"",children:[r.jsx(jr,{className:"h-4 w-4 me-1"}),e("dashboard.orders.reject")||""]})]})]})})]},je.id||`order-${ue}`)})})]})}),C>1&&r.jsx("div",{className:"py-4 border-t",children:r.jsx(cF,{children:r.jsxs(dF,{children:[r.jsx(Zf,{children:r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(je=>Math.max(1,je-1)),disabled:w===1,title:e("common.previous")||"","aria-label":e("common.previous")||"",children:e("dashboard.orders.previous")})}),Array.from({length:C},(je,ue)=>ue+1).map(je=>r.jsx(Zf,{children:r.jsx(Kj,{isActive:w===je,onClick:()=>v(je),children:je})},je)),r.jsx(Zf,{children:r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(je=>Math.min(C,je+1)),disabled:w===C,title:e("common.next")||"","aria-label":e("common.next")||"",children:e("dashboard.orders.next")})})]})})})]})})]})]}),r.jsx(Yr,{value:"topups",className:"space-y-6 mt-6",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Na,{className:"h-5 w-5"}),e("dashboard.orders.topupRequests"),E.length>0&&r.jsxs(et,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:[E.length," ",e("dashboard.orders.pending")]})]})}),r.jsx(Se,{children:T?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):E.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Na,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.orders.noTopups")}),r.jsx("p",{className:"text-gray-500",children:e("dashboard.orders.noPendingTopups")})]}):r.jsx("div",{className:"w-full",dir:s?"rtl":"ltr",children:r.jsxs(cs,{className:"w-full",style:{minWidth:"700px",tableLayout:"auto"},children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:`font-semibold min-w-[200px] sticky ${s?"right-0":"left-0"} bg-background z-20 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] ${s?"text-right":"text-left"}`,children:e("dashboard.orders.user")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${s?"text-right":"text-left"}`,children:e("dashboard.orders.amount")}),r.jsx(Ae,{className:`font-semibold min-w-[200px] ${s?"text-right":"text-left"}`,children:e("dashboard.orders.bank")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${s?"text-right":"text-left"}`,children:e("dashboard.orders.receiptImage")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${s?"text-right":"text-left"}`,children:e("dashboard.orders.requestDate")}),r.jsx(Ae,{className:`font-semibold text-center w-32 whitespace-nowrap sticky ${s?"left-0":"right-0"} bg-background z-20 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.orders.actions")})]})}),r.jsx(us,{children:E.map(je=>r.jsxs(kt,{children:[r.jsx(Ne,{className:`sticky ${s?"right-0":"left-0"} bg-background z-10 ${s?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] ${s?"text-right":"text-left"}`,children:r.jsxs("div",{className:`min-w-0 ${s?"text-right":"text-left"}`,children:[r.jsx("p",{className:"font-medium break-words",children:je.user.name||je.user.email}),r.jsx("p",{className:"text-sm text-gray-500 break-words",children:je.user.email})]})}),r.jsx(Ne,{className:s?"text-right":"text-left",children:r.jsxs("span",{className:"font-semibold text-green-600",children:[Number(je.amount).toFixed(2)," ",je.currency||e("common.currency")]})}),r.jsx(Ne,{className:s?"text-right":"text-left",children:je.bank?r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium break-words",children:je.bank.nameAr||je.bank.name}),r.jsxs("p",{className:"text-xs text-gray-500 break-words",children:[e("dashboard.orders.accountNumber"),": ",je.bank.accountNumber]})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx(Ne,{className:s?"text-right":"text-left",children:je.proofImage?r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>window.open(je.proofImage,"_blank"),className:"gap-2",title:e("dashboard.orders.viewProof")||"  ","aria-label":e("dashboard.orders.viewProof")||"  ",children:[r.jsx(Cr,{className:"h-4 w-4"}),e("dashboard.orders.view")||""]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx(Ne,{className:`text-sm text-gray-500 ${s?"text-right":"text-left"}`,children:new Date(je.createdAt).toLocaleDateString(s?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"})}),r.jsx(Ne,{className:`sticky ${s?"left-0":"right-0"} bg-background z-10 ${s?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[je.status==="PENDING"&&r.jsxs(r.Fragment,{children:[r.jsxs(V,{variant:"outline",size:"sm",className:"text-green-600 dark:text-green-500 border-green-200 dark:border-green-800 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>Ts(je.id),disabled:_===je.id,title:e("dashboard.orders.approve")||"",children:[_===je.id?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(Za,{className:"h-4 w-4 me-1"}),e("dashboard.orders.approve")||""]}),r.jsxs(V,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-500 border-red-200 dark:border-red-800 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{L(je),I(!0)},disabled:_===je.id,title:e("dashboard.orders.reject")||"",children:[r.jsx(jr,{className:"h-4 w-4 me-1"}),e("dashboard.orders.reject")||""]})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>{W(je),G(!0)},title:e("dashboard.orders.viewDetails")||" ",children:r.jsx(Cr,{className:"h-4 w-4"})})]})})]},je.id))})]})})})]})})]}),r.jsx(ir,{open:g,onOpenChange:x,children:r.jsxs(ar,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(lr,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs(cr,{className:"text-2xl flex items-center gap-2",children:[r.jsx(Dt,{className:"h-6 w-6 text-primary"}),e("dashboard.orders.viewDetails")," #",(m==null?void 0:m.orderNumber)||((wa=m==null?void 0:m.id)==null?void 0:wa.slice(0,8))]}),r.jsx(pr,{className:"mt-1",children:m&&rs(m.createdAt)})]}),r.jsxs("div",{className:"flex gap-2",children:[m&&ft(m.status),m&&Pt(m.paymentStatus||"PENDING")]})]})}),m&&r.jsxs("div",{className:"space-y-8 py-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(we,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[r.jsx(Pb,{className:"h-4 w-4"}),e("dashboard.orders.customer")]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.customerName")}),r.jsx("p",{className:"font-medium",children:((Wa=m.customer)==null?void 0:Wa.name)||e("common.notAvailable")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.email")}),r.jsx("p",{className:"font-medium break-all",children:((Ha=m.customer)==null?void 0:Ha.email)||e("common.notAvailable")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.phone")}),r.jsx("p",{className:"font-medium",children:((ss=m.customer)==null?void 0:ss.phone)||e("common.notAvailable")})]})]})]})}),r.jsx(we,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[r.jsx(cm,{className:"h-4 w-4"}),e("dashboard.orders.shippingAddress")]}),m.shippingAddress?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.address")}),r.jsx("p",{className:"font-medium",children:m.shippingAddress.street||m.shippingAddress.address||e("common.notAvailable")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.city")}),r.jsx("p",{className:"font-medium",children:m.shippingAddress.city||e("common.notAvailable")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.state")}),r.jsx("p",{className:"font-medium",children:m.shippingAddress.state||e("common.notAvailable")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.postalCode")}),r.jsx("p",{className:"font-medium",children:m.shippingAddress.postalCode||e("common.notAvailable")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.country")}),r.jsx("p",{className:"font-medium",children:m.shippingAddress.country||e("common.notAvailable")})]})]})]}):r.jsx("p",{className:"text-sm text-gray-500 italic",children:e("dashboard.orders.noShippingInfo")})]})}),r.jsx(we,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[r.jsx(Na,{className:"h-4 w-4"}),e("dashboard.orders.paymentDetails")]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.paymentMethod")}),r.jsx("p",{className:"font-medium",children:m.paymentMethod||e("common.notAvailable")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.paymentStatus")}),r.jsx("p",{className:"font-medium",children:m.paymentStatus||e("common.notAvailable")})]}),m.ipAddress&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("p",{className:"font-mono text-xs",children:m.ipAddress})]})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5 text-primary"}),e("dashboard.orders.products")]}),r.jsxs(et,{variant:"outline",children:[((Rt=m.items)==null?void 0:Rt.length)||0," ",e("dashboard.orders.items")]})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs(cs,{children:[r.jsx(ds,{className:"bg-gray-50 dark:bg-gray-900",children:r.jsxs(kt,{children:[r.jsx(Ae,{className:`w-[40%] ${s?"text-right":"text-left"}`,children:e("dashboard.orders.productName")}),r.jsx(Ae,{className:"text-center",children:e("dashboard.reports.quantity")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("dashboard.products.price")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("dashboard.reports.itemTotal")})]})}),r.jsx(us,{children:(wt=m.items)==null?void 0:wt.map((je,ue)=>{var ne,ze;return r.jsxs(kt,{children:[r.jsxs(Ne,{className:s?"text-right":"text-left",children:[r.jsx("div",{className:"font-medium",children:((ne=je.product)==null?void 0:ne.nameAr)||((ze=je.product)==null?void 0:ze.name)}),je.variantName&&r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[e("dashboard.products.variant"),": ",je.variantName]})]}),r.jsx(Ne,{className:"text-center font-mono",children:je.quantity}),r.jsxs(Ne,{className:`font-mono ${s?"text-right":"text-left"}`,children:[(je.price??0).toFixed(2)," ",e("common.currency")]}),r.jsxs(Ne,{className:`font-mono font-semibold ${s?"text-right":"text-left"}`,children:[((je.price??0)*(je.quantity??0)).toFixed(2)," ",e("common.currency")]})]},ue)})})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(we,{className:"w-full max-w-sm border-none bg-gray-50/50 dark:bg-gray-900/50",children:r.jsxs(Se,{className:"pt-6 space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:e("dashboard.reports.subtotal")}),r.jsxs("span",{className:"font-mono",children:[(m.subtotal??0).toFixed(2)," ",e("common.currency")]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:e("dashboard.reports.tax")}),r.jsxs("span",{className:"font-mono",children:[(m.tax??0).toFixed(2)," ",e("common.currency")]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:e("dashboard.orders.shipping")}),r.jsxs("span",{className:"font-mono",children:[(m.shipping??0).toFixed(2)," ",e("common.currency")]})]}),(m.discount??0)>0&&r.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[r.jsx("span",{children:e("categories.offers.discountPercent")}),r.jsxs("span",{className:"font-mono",children:["-",(m.discount??0).toFixed(2)," ",e("common.currency")]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-3 mt-3",children:[r.jsx("span",{children:e("dashboard.reports.total")}),r.jsxs("span",{className:"text-primary font-mono",children:[(m.total??0).toFixed(2)," ",e("common.currency")]})]})]})})})]}),r.jsxs(zr,{className:"border-t pt-4 gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:e("common.close")}),r.jsxs(V,{className:"gap-2",onClick:()=>m&&Zs(m),children:[r.jsx(v6,{className:"h-4 w-4"}),e("dashboard.orders.printInvoice")]})]})]})}),r.jsx(ir,{open:J,onOpenChange:z,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Xs,{className:"h-5 w-5 text-destructive"}),e("dashboard.orders.rejectionReason","Rejection Reason")]}),r.jsx(pr,{children:e("dashboard.orders.rejectionReasonDescription","The reason why this top-up request was rejected")})]}),r.jsx("div",{className:"py-4",children:r.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:ie||e("dashboard.orders.noReasonProvided","No reason provided")})})}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>z(!1),children:e("common.close","Close")})})]})}),r.jsx(ir,{open:F,onOpenChange:G,children:r.jsxs(ar,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"text-2xl flex items-center gap-2",children:[r.jsx(Na,{className:"h-6 w-6 text-primary"}),e("dashboard.orders.topupDetails")]}),r.jsx(pr,{children:U&&rs(U.createdAt)})]}),U&&r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.user")}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:U.user.name||e("dashboard.orders.customer")}),r.jsx("p",{className:"text-sm text-gray-500",children:U.user.email})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.amount")}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Number(U.amount).toFixed(2)," ",U.currency||e("common.currency")]}),r.jsx("p",{className:"text-sm text-gray-500",children:e("dashboard.orders.requestAmount")})]})]})]}),U.bank&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.bank")}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("dashboard.orders.bankName")}),r.jsx("p",{className:"font-medium",children:U.bank.nameAr||U.bank.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("dashboard.orders.accountNumber")}),r.jsx("p",{className:"font-medium font-mono",children:U.bank.accountNumber})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.receiptImage")}),U.proofImage?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:U.proofImage,alt:e("dashboard.orders.receiptImage"),className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700",onError:je=>{je.target.style.display="none"}}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>window.open(U.proofImage,"_blank"),className:"gap-2",children:[r.jsx(Mi,{className:"h-4 w-4"}),e("dashboard.orders.viewFullImage")]})]}):r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(Mi,{className:"h-5 w-5"}),r.jsx("span",{children:e("dashboard.orders.noImage")})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.status")}),r.jsx("div",{children:ft(U.status)})]}),U.status==="REJECTED"&&U.rejectionReason&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.rejectionReason","Rejection Reason")}),r.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:U.rejectionReason})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.requestDate")}),r.jsx("p",{className:"text-sm",children:rs(U.createdAt)})]})]}),r.jsxs(zr,{className:"border-t pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>G(!1),children:e("common.close")}),U&&r.jsx(r.Fragment,{children:U.status==="REJECTED"&&U.rejectionReason?r.jsxs(V,{variant:"outline",className:"text-orange-600 dark:text-orange-500 border-orange-600 dark:border-orange-500 hover:text-orange-700 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-950",onClick:()=>{G(!1),re(U.rejectionReason||""),z(!0)},children:[r.jsx(Pb,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.viewRejectionReason","View Rejection Reason")]}):U.status==="PENDING"?r.jsxs(r.Fragment,{children:[r.jsxs(V,{variant:"outline",className:"text-green-600 dark:text-green-500 border-green-600 dark:border-green-500 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>{G(!1),Ts(U.id)},disabled:_===U.id,children:[_===U.id?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(Za,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.approve")]}),r.jsxs(V,{variant:"outline",className:"text-red-600 dark:text-red-500 border-red-600 dark:border-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{G(!1),L(U),I(!0)},disabled:_===U.id,children:[r.jsx(jr,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.reject")]})]}):null})]})]})}),r.jsx(ir,{open:M,onOpenChange:I,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e("dashboard.orders.rejectReason")}),r.jsxs(pr,{children:[e("dashboard.orders.enterRejectReason")," ",R==null?void 0:R.user.email]})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Y,{htmlFor:"reject-reason",className:"mb-2 block",children:e("dashboard.orders.rejectReason")}),r.jsx(Ys,{id:"reject-reason",placeholder:e("dashboard.orders.enterRejectReason"),value:K,onChange:je=>H(je.target.value),rows:4})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>I(!1),children:e("dashboard.orders.cancel")}),r.jsx(V,{variant:"destructive",onClick:Ie,disabled:!K.trim()||_===(R==null?void 0:R.id),children:_===(R==null?void 0:R.id)?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):e("dashboard.orders.reject")})]})]})}),r.jsx(ir,{open:B,onOpenChange:oe,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e("dashboard.orders.rejectOrder")||" "}),r.jsxs(pr,{children:[e("dashboard.orders.enterRejectReasonOrder")||"    "," #",(de==null?void 0:de.orderNumber)||(de==null?void 0:de.id)]})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Y,{htmlFor:"order-reject-reason",className:"mb-2 block",children:e("dashboard.orders.rejectReason")||" "}),r.jsx(Ys,{id:"order-reject-reason",placeholder:e("dashboard.orders.enterRejectReason")||"  ...",value:He,onChange:je=>Oe(je.target.value),rows:4})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>{oe(!1),Oe(""),Te(null)},children:e("dashboard.orders.cancel")||""}),r.jsx(V,{variant:"destructive",onClick:Xe,disabled:!He.trim()||me===(de==null?void 0:de.id),children:me===(de==null?void 0:de.id)?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):e("dashboard.orders.reject")||""})]})]})}),r.jsx(ir,{open:J,onOpenChange:z,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Xs,{className:"h-5 w-5 text-destructive"}),e("dashboard.orders.rejectionReason","Rejection Reason")]}),r.jsx(pr,{children:e("dashboard.orders.rejectionReasonDescription","The reason why this top-up request was rejected")})]}),r.jsx("div",{className:"py-4",children:r.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:ie||e("dashboard.orders.noReasonProvided","No reason provided")})})}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>z(!1),children:e("common.close","Close")})})]})})]})}function Pdt(){return jY.useSyncExternalStore(Tdt,()=>!0,()=>!1)}function Tdt(){return()=>{}}var yF="Avatar",[_dt,_0t]=on(yF),[Ddt,vle]=_dt(yF),yle=f.forwardRef((e,t)=>{const{__scopeAvatar:s,...a}=e,[n,i]=f.useState("idle");return r.jsx(Ddt,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:r.jsx(Bt.span,{...a,ref:t})})});yle.displayName=yF;var ble="AvatarImage",wle=f.forwardRef((e,t)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=vle(ble,s),l=Odt(a,i),c=Qa(d=>{n(d),o.onImageLoadingStatusChange(d)});return vn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(Bt.img,{...i,ref:t,src:a}):null});wle.displayName=ble;var jle="AvatarFallback",Nle=f.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,i=vle(jle,s),[o,l]=f.useState(a===void 0);return f.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(Bt.span,{...n,ref:t}):null});Nle.displayName=jle;function lW(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Odt(e,{referrerPolicy:t,crossOrigin:s}){const a=Pdt(),n=f.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=f.useState(()=>lW(i,e));return vn(()=>{l(lW(i,e))},[i,e]),vn(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,s,t]),o}var Sle=yle,kle=wle,Cle=Nle;const Ep=f.forwardRef(({className:e,...t},s)=>r.jsx(Sle,{ref:s,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ep.displayName=Sle.displayName;const Pp=f.forwardRef(({className:e,...t},s)=>r.jsx(kle,{ref:s,className:xe("aspect-square h-full w-full",e),...t}));Pp.displayName=kle.displayName;const Tp=f.forwardRef(({className:e,...t},s)=>r.jsx(Cle,{ref:s,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Tp.displayName=Cle.displayName;function Idt(){const{t:e,i18n:t}=It(),{toast:s}=Lt(),a=t.language==="ar",[n,i]=f.useState(t.language);f.useEffect(()=>{const se=()=>{i(t.language)};t.on("languageChanged",se);const B=()=>{i(t.language)};return window.addEventListener("languagechange",B),window.addEventListener("i18n:languageChanged",B),()=>{t.off("languageChanged",se),window.removeEventListener("languagechange",B),window.removeEventListener("i18n:languageChanged",B)}},[t]),f.useEffect(()=>{console.log(" CustomersManager - Language:",t.language),console.log(" CustomersManager - Title translation:",e("dashboard.customers.title")),console.log(" CustomersManager - isRTL:",a)},[t.language,e,a]);const[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,p]=f.useState(""),[g,x]=f.useState("all"),[y,b]=f.useState(!1),[w,v]=f.useState(!1),[S,j]=f.useState(null),[k,N]=f.useState({name:"",description:"",minPoints:0,benefits:""}),[C,A]=f.useState({name:"",email:"",phone:""}),[E,D]=f.useState(1),[T,P]=f.useState(20),[_,O]=f.useState(0),[M,I]=f.useState(1),R=()=>{A({name:"",email:"",phone:""}),v(!0)},L=()=>{j(null),N({name:"",description:"",minPoints:0,benefits:""}),b(!0)},K=se=>{j(se),N({name:se.name,description:se.description,minPoints:se.minPoints,benefits:se.benefits.join(", ")}),b(!0)},H=(se,B)=>{N(oe=>({...oe,[se]:B}))},F=async()=>{try{s({title:e("dashboard.customers.addCustomer"),description:e("dashboard.customers.addCustomerSuccess"),variant:"default"}),v(!1)}catch(se){console.error("Customer submit error",se),s({title:e("dashboard.customers.addCustomerError"),description:e("common.errorOccurred"),variant:"destructive"})}},G=async()=>{try{const se={name:k.name,description:k.description,minPoints:Number(k.minPoints),benefits:k.benefits.split(",").map(B=>B.trim()).filter(Boolean)};S?(await fe.put(`/dashboard/loyalty-programs/${S.id}`,se),s({title:e("dashboard.customers.saveProgramSuccess"),variant:"default"})):(await fe.post("/dashboard/loyalty-programs",se),s({title:e("dashboard.customers.saveProgramSuccess"),variant:"default"})),b(!1),W()}catch(se){console.error("Program submit error",se),s({title:e("dashboard.customers.saveProgramError"),description:e("common.errorOccurred"),variant:"destructive"})}},U=f.useCallback(async()=>{try{h(!0);const se=await fe.get(`/dashboard/customers?page=${E}&limit=${T}`,{requireAuth:!0});if(se&&"data"in se&&"meta"in se)l(se.data),O(se.meta.total),I(se.meta.totalPages);else{const B=Array.isArray(se)?se:se.customers||[];l(B),O(B.length),I(1)}}catch(se){console.error("Failed to load customers:",se),s({title:e("dashboard.customers.loadCustomersError"),description:e("common.errorOccurred"),variant:"destructive"}),l([])}finally{h(!1)}},[s,e,E,T]),W=f.useCallback(async()=>{try{const se=await fe.get("/dashboard/loyalty-programs",{requireAuth:!0});d(Array.isArray(se)?se:se.programs||[])}catch(se){console.error("Failed to load loyalty programs:",se),d([])}},[]);f.useEffect(()=>{U(),W()},[U,W]);const J=se=>{const B={gold:{label:e("dashboard.customers.gold"),className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20"},silver:{label:e("dashboard.customers.silver"),className:"bg-gray-500/10 text-gray-700 border-gray-500/20"},bronze:{label:e("dashboard.customers.bronze"),className:"bg-orange-500/10 text-orange-700 border-orange-500/20"}},oe=B[se]||B.bronze;return r.jsxs(et,{variant:"outline",className:oe.className,children:[r.jsx(hf,{className:`h-3 w-3 ${t.language==="ar"?"ml-1":"mr-1"}`}),oe.label]})},z=se=>se.split(" ").map(B=>B[0]).join("").toUpperCase().slice(0,2),ie=o.filter(se=>{const B=se.name.toLowerCase().includes(m.toLowerCase())||se.email.toLowerCase().includes(m.toLowerCase()),oe=g==="all"||se.loyaltyTier===g;return B&&oe}),re=()=>{e("dashboard.customers.exportHeaders.id"),e("dashboard.customers.exportHeaders.name"),e("dashboard.customers.exportHeaders.email"),e("dashboard.customers.exportHeaders.phone"),e("dashboard.customers.exportHeaders.totalOrders"),e("dashboard.customers.exportHeaders.totalSpent"),e("dashboard.customers.exportHeaders.loyaltyPoints"),e("dashboard.customers.exportHeaders.loyaltyTier"),e("dashboard.customers.exportHeaders.createdAt"),e("dashboard.customers.exportHeaders.lastOrderDate");const se=o.map(de=>({[e("dashboard.customers.exportHeaders.id")]:de.id,[e("dashboard.customers.exportHeaders.name")]:de.name,[e("dashboard.customers.exportHeaders.email")]:de.email,[e("dashboard.customers.exportHeaders.phone")]:de.phone||"",[e("dashboard.customers.exportHeaders.totalOrders")]:de.totalOrders||0,[e("dashboard.customers.exportHeaders.totalSpent")]:de.totalSpent||0,[e("dashboard.customers.exportHeaders.loyaltyPoints")]:de.loyaltyPoints||0,[e("dashboard.customers.exportHeaders.loyaltyTier")]:de.loyaltyTier||"",[e("dashboard.customers.exportHeaders.createdAt")]:de.createdAt||"",[e("dashboard.customers.exportHeaders.lastOrderDate")]:de.lastOrderDate||""})),B=Br.json_to_sheet(se),oe=Br.book_new();Br.book_append_sheet(oe,B,e("dashboard.customers.title")),eh(oe,`${e("dashboard.customers.title")}_export.xlsx`)},q=async se=>{var oe;const B=(oe=se.target.files)==null?void 0:oe[0];if(B)try{const de=await B.arrayBuffer(),Te=Dm(de),He=Te.Sheets[Te.SheetNames[0]],Oe=Br.sheet_to_json(He);s({title:e("dashboard.customers.importProcessed"),description:e("dashboard.customers.importProcessedDesc",{count:Oe.length})}),se.target.value=""}catch(de){const Te=de instanceof Error?de.message:e("common.errorOccurred");s({title:e("common.error"),description:Te,variant:"destructive"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.customers.title")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.customers.subtitle")})]}),r.jsxs(V,{className:"gap-2",onClick:R,children:[r.jsx(zd,{className:"h-4 w-4"}),e("dashboard.customers.addCustomer")]})]}),r.jsxs(Kn,{defaultValue:"customers",className:"w-full",children:[r.jsxs(_n,{className:"grid w-full max-w-md grid-cols-2",children:[r.jsxs(_r,{value:"customers",children:[e("dashboard.customers.tabs.customers")," (",o.length,")"]}),r.jsxs(_r,{value:"loyalty",children:[e("dashboard.customers.tabs.loyalty")," (",c.length,")"]})]}),r.jsxs(Yr,{value:"customers",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(we,{className:"border-l-4 border-l-blue-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.totalCustomers")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:o.length})]}),r.jsx(wr,{className:"h-8 w-8 text-blue-500 opacity-50"})]})})}),r.jsx(we,{className:"border-l-4 border-l-yellow-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.goldCustomers")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:o.filter(se=>se.loyaltyTier==="gold").length})]}),r.jsx(hf,{className:"h-8 w-8 text-yellow-500 opacity-50"})]})})}),r.jsx(we,{className:"border-l-4 border-l-green-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.averageSpending")}),r.jsxs("p",{className:"text-2xl font-bold mt-1",children:[(o.reduce((se,B)=>se+B.totalSpent,0)/o.length||0).toFixed(0)," ",e("common.currency")]})]}),r.jsx(rl,{className:"h-8 w-8 text-green-500 opacity-50"})]})})}),r.jsx(we,{className:"border-l-4 border-l-purple-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.totalPoints")}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:o.reduce((se,B)=>se+B.loyaltyPoints,0)})]}),r.jsx(hf,{className:"h-8 w-8 text-purple-500 opacity-50"})]})})})]}),r.jsxs(we,{children:[r.jsx(st,{className:"border-b",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Mr,{className:`absolute ${t.language==="ar"?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),r.jsx(pe,{placeholder:e("dashboard.customers.searchPlaceholder"),value:m,onChange:se=>p(se.target.value),className:t.language==="ar"?"pr-10":"pl-10"})]}),r.jsxs(mr,{value:g,onValueChange:x,children:[r.jsxs(dr,{className:"w-[180px]",children:[r.jsx(Wu,{className:`h-4 w-4 ${t.language==="ar"?"ml-2":"mr-2"}`}),r.jsx(xr,{placeholder:e("dashboard.customers.filterTier")})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("dashboard.customers.allTiers")}),r.jsx(_e,{value:"gold",children:e("dashboard.customers.gold")}),r.jsx(_e,{value:"silver",children:e("dashboard.customers.silver")}),r.jsx(_e,{value:"bronze",children:e("dashboard.customers.bronze")})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",className:"gap-2",onClick:re,children:[r.jsx(xn,{className:"h-4 w-4"}),e("dashboard.customers.export")]}),r.jsxs("div",{className:"relative",children:[r.jsx(pe,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:q}),r.jsxs(V,{variant:"outline",className:"gap-2",children:[r.jsx(An,{className:"h-4 w-4"}),e("dashboard.customers.import")]})]})]})]})}),r.jsxs(Se,{className:"p-0",children:[u?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):ie.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.customers.noResults")}),r.jsx("p",{className:"text-gray-500",children:e("dashboard.customers.noResultsDesc")})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{className:"w-full table-auto",children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.customer")}),r.jsx(Ae,{className:`font-semibold min-w-[200px] ${a?"text-right":"text-left"}`,children:e("dashboard.customers.contactInfo")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.orders")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.totalSpent")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.loyaltyPoints")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.tier")}),r.jsx(Ae,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.lastOrder")})]})}),r.jsx(us,{children:ie.map(se=>r.jsxs(kt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsx(Ne,{className:a?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-3 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[r.jsxs(Ep,{children:[r.jsx(Pp,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${se.name}`}),r.jsx(Tp,{children:z(se.name)})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium break-words",children:se.name}),r.jsxs("p",{className:"text-sm text-gray-500 break-words",children:[e("dashboard.customers.memberSince")," ",new Date(se.createdAt).toLocaleDateString(a?"ar-SA":"en-US")]})]})]})}),r.jsx(Ne,{className:a?"text-right":"text-left",children:r.jsxs("div",{className:"space-y-1 min-w-0",children:[r.jsxs("div",{className:`flex items-center gap-2 text-sm ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[r.jsx(ba,{className:"h-3 w-3 text-gray-400"}),r.jsx("span",{className:"break-words",children:se.email})]}),se.phone&&r.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-500 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[r.jsx(Fi,{className:"h-3 w-3"}),r.jsx("span",{className:"break-words",children:se.phone})]})]})}),r.jsx(Ne,{className:a?"text-right":"text-left",children:r.jsxs(et,{variant:"secondary",children:[se.totalOrders," ",e("dashboard.customers.orders")]})}),r.jsxs(Ne,{className:`font-semibold ${a?"text-right":"text-left"}`,children:[se.totalSpent.toFixed(2)," ",e("common.currency")]}),r.jsx(Ne,{className:a?"text-right":"text-left",children:r.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[r.jsx(hf,{className:"h-4 w-4 text-primary"}),r.jsx("span",{className:"font-medium",children:se.loyaltyPoints})]})}),r.jsx(Ne,{className:a?"text-right":"text-left",children:J(se.loyaltyTier)}),r.jsx(Ne,{className:`text-sm text-gray-500 ${a?"text-right":"text-left"}`,children:se.lastOrderDate?new Date(se.lastOrderDate).toLocaleDateString(a?"ar-SA":"en-US"):"-"})]},se.id))})]})}),!u&&_>0&&r.jsx($u,{currentPage:E,totalPages:M,totalItems:_,itemsPerPage:T,onPageChange:D,onItemsPerPageChange:P,itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]})]})]}),r.jsxs(Yr,{value:"loyalty",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("p",{className:"text-gray-500",children:e("dashboard.customers.loyaltyDesc")}),r.jsxs(V,{className:"gap-2",onClick:L,children:[r.jsx(zd,{className:"h-4 w-4"}),e("dashboard.customers.createProgram")]})]}),c.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"py-12 text-center",children:[r.jsx(hf,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.customers.noPrograms")}),r.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.customers.noProgramsDesc")}),r.jsxs(V,{onClick:L,children:[r.jsx(zd,{className:`h-4 w-4 ${t.language==="ar"?"ml-2":"mr-2"}`}),e("dashboard.customers.createProgram")]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(se=>r.jsxs(we,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:r.jsx(hf,{className:"h-6 w-6 text-primary"})}),r.jsxs(et,{variant:"secondary",children:[se.members," ",e("dashboard.customers.members")]})]}),r.jsx(it,{className:"mt-4",children:se.name}),r.jsx(Kt,{children:se.description})]}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[e("dashboard.customers.minPoints"),":"]}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:se.minPoints})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:[e("dashboard.customers.benefits"),":"]}),r.jsx("ul",{className:"space-y-1",children:se.benefits.map((B,oe)=>r.jsxs("li",{className:"text-sm text-gray-500 flex items-center gap-2",children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),B]},oe))})]}),r.jsx(V,{variant:"outline",className:"w-full",onClick:()=>K(se),children:e("dashboard.customers.editProgram")})]})})]},se.id))})]})]}),r.jsx(Y0,{open:y,onOpenChange:b,children:r.jsxs(Fp,{className:"sm:max-w-[540px]",children:[r.jsxs(X0,{children:[r.jsx(Q0,{children:e(S?"dashboard.customers.editProgramTitle":"dashboard.customers.createProgramTitle")}),r.jsx(BC,{children:e(S?"dashboard.customers.editProgramTitle":"dashboard.customers.createProgramTitle")})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"program-name",children:e("dashboard.customers.programName")}),r.jsx(pe,{id:"program-name",value:k.name,onChange:se=>H("name",se.target.value),placeholder:e("dashboard.customers.gold")})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"program-description",children:e("dashboard.customers.description")}),r.jsx(Ys,{id:"program-description",value:k.description,onChange:se=>H("description",se.target.value),placeholder:e("dashboard.customers.description"),rows:3})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"program-min-points",children:e("dashboard.customers.minPoints")}),r.jsx(pe,{id:"program-min-points",type:"number",value:k.minPoints,onChange:se=>H("minPoints",parseInt(se.target.value)||0),placeholder:"0"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{htmlFor:"program-benefits",children:[e("dashboard.customers.benefits")," (",e("dashboard.customers.benefitsHint"),")"]}),r.jsx(Ys,{id:"program-benefits",value:k.benefits,onChange:se=>H("benefits",se.target.value),placeholder:e("dashboard.customers.benefitsPlaceholder"),rows:4}),r.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.customers.benefitsHint")})]})]}),r.jsxs(sJ,{children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:e("common.cancel")}),r.jsx(V,{onClick:G,children:e(S?"common.saveChanges":"dashboard.customers.createProgram")})]})]})}),r.jsx(ir,{open:w,onOpenChange:v,children:r.jsxs(ar,{className:"sm:max-w-[425px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e("dashboard.customers.addNewCustomer")}),r.jsx(pr,{children:e("dashboard.customers.addCustomerDesc")})]}),r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"customer-name",children:e("dashboard.customers.name")}),r.jsx(pe,{id:"customer-name",value:C.name,onChange:se=>A(B=>({...B,name:se.target.value})),placeholder:e("dashboard.customers.name")})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"customer-email",children:e("dashboard.customers.email")}),r.jsx(pe,{id:"customer-email",type:"email",value:C.email,onChange:se=>A(B=>({...B,email:se.target.value})),placeholder:"example@email.com"})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"customer-phone",children:e("dashboard.customers.phone")}),r.jsx(pe,{id:"customer-phone",type:"tel",value:C.phone,onChange:se=>A(B=>({...B,phone:se.target.value})),placeholder:"+966500000000"})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>v(!1),children:e("common.cancel")}),r.jsx(V,{onClick:F,disabled:!C.name||!C.email,children:e("dashboard.customers.addCustomer")})]})]})})]},n)}function Rdt(e){return{SAR:".",AED:".",USD:"$",EUR:"",GBP:"",JPY:"",KWD:".",BHD:"..",OMR:"..",QAR:".",EGP:".",JOD:".",LBP:".",TND:".",DZD:".",MAD:"."}[e]||e}function Jn(e,t,s){const a=typeof e=="string"?parseFloat(e):e,n=Rdt(t);return`${a.toLocaleString("ar-SA",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n}`}const cW=["#06b6d4","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Mdt(){const{t:e,i18n:t}=It(),[s,a]=f.useState("30days"),[n,i]=f.useState("sales"),[o,l]=f.useState(!0),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,b]=f.useState([]),[w,v]=f.useState([]),[S,j]=f.useState("revenue"),[k,N]=f.useState([]),[C,A]=f.useState(()=>{const q=new Date;return q.setDate(q.getDate()-30),q.toISOString().split("T")[0]}),[E,D]=f.useState(()=>new Date().toISOString().split("T")[0]),[T,P]=f.useState(1),[_,O]=f.useState(20),[M,I]=f.useState(0),[R,L]=f.useState(1),[K,H]=f.useState(!1),F=f.useCallback(q=>{const se=new Date;let B,oe=new Date(se),de,Te;switch(q){case"7days":B=new Date(se),B.setDate(B.getDate()-7),Te=new Date(B),de=new Date(Te),de.setDate(de.getDate()-7);break;case"30days":B=new Date(se),B.setDate(B.getDate()-30),Te=new Date(B),de=new Date(Te),de.setDate(de.getDate()-30);break;case"90days":B=new Date(se),B.setDate(B.getDate()-90),Te=new Date(B),de=new Date(Te),de.setDate(de.getDate()-90);break;case"year":B=new Date(se.getFullYear(),0,1),Te=new Date(B),de=new Date(se.getFullYear()-1,0,1),Te=new Date(se.getFullYear()-1,11,31,23,59,59);break;case"custom":{B=new Date(C),oe=new Date(E),oe.setHours(23,59,59,999);const He=oe.getTime()-B.getTime();de=new Date(B.getTime()-He),Te=new Date(B);break}default:B=new Date(se),B.setDate(B.getDate()-30),Te=new Date(B),de=new Date(Te),de.setDate(de.getDate()-30)}return{currentStart:B,currentEnd:oe,previousStart:de,previousEnd:Te}},[C,E]),G=f.useCallback(q=>{const se=new Map,{currentStart:B,currentEnd:oe}=F(s),de=Math.abs(oe.getTime()-B.getTime()),Te=Math.min(Math.ceil(de/(1e3*60*60*24)),90);for(let He=Te;He>=0;He--){const Oe=new Date(oe);Oe.setDate(Oe.getDate()-He);const me=`${Oe.getDate()}/${Oe.getMonth()+1}`;se.set(me,{name:me,revenue:0,orders:0})}return q.forEach(He=>{const Oe=new Date(He.createdAt),me=`${Oe.getDate()}/${Oe.getMonth()+1}`;if(se.has(me)){const Ue=se.get(me);Ue.revenue+=Number(He.total||0),Ue.orders+=1}}),Array.from(se.values())},[s,F]),U=f.useCallback(async()=>{var q,se;try{l(!0);const{currentStart:B,currentEnd:oe,previousStart:de,previousEnd:Te}=F(s),[He,Oe,me,Ue,ce]=await Promise.all([fe.getOrders(),fe.get("/dashboard/stats"),qh.getProductReport({page:T,limit:_}),qh.getCustomerReport(),qh.getPaymentReport()]),Ee=He,Pe=Array.isArray(Ee)?Ee:Ee.orders||Ee.data||[],$e=Oe,We=Pe.filter(br=>{const $t=new Date(br.createdAt);return $t>=B&&$t<=oe}),Xe=We.reduce((br,$t)=>br+Number($t.total||0),0),Ce=We.length,Ye=Pe.filter(br=>{const $t=new Date(br.createdAt);return $t>=de&&$t<=Te}),ft=Ye.reduce((br,$t)=>br+Number($t.total||0),0),Pt=Ye.length;h({...$e,revenue:Xe,orderCount:Ce}),p({revenue:ft,orderCount:Pt,productCount:$e.productCount,customerCount:$e.customerCount});const vt=me&&"data"in me?me:{data:Array.isArray(me)?me:[],meta:{total:0,totalPages:1}};x(vt.data),I(((q=vt.meta)==null?void 0:q.total)||vt.data.length),L(((se=vt.meta)==null?void 0:se.totalPages)||1),b(Ue),v(ce);const Qt=G(We);N(Qt),d(Qt)}catch(B){console.error("Failed to load report data:",B),h({orderCount:0,revenue:0,productCount:0,customerCount:0}),p({orderCount:0,revenue:0,productCount:0,customerCount:0}),d([])}finally{l(!1)}},[s,T,_,F,G]),W=f.useCallback(async()=>{var q,se;try{H(!0);const B=await qh.getProductReport({page:T,limit:_}),oe=B&&"data"in B?B:{data:Array.isArray(B)?B:[],meta:{total:0,totalPages:1}};x(oe.data),I(((q=oe.meta)==null?void 0:q.total)||oe.data.length),L(((se=oe.meta)==null?void 0:se.totalPages)||1)}catch(B){console.error("Failed to load products:",B)}finally{H(!1)}},[T,_]);f.useEffect(()=>{o||W()},[T,_,W,o]),f.useEffect(()=>{U()},[U,s,C,E]);const J=()=>{const{currentStart:q,currentEnd:se}=F(s),B=t.language==="ar"?"ar-SA":"en-US",oe={year:"numeric",month:"long",day:"numeric"};return`${q.toLocaleDateString(B,oe)} - ${se.toLocaleDateString(B,oe)}`},z=(q,se)=>{if(se===0)return q>0?{change:100,trend:"up"}:{change:0,trend:"up"};const B=(q-se)/se*100;return{change:Math.abs(B),trend:B>=0?"up":"down"}},ie=f.useCallback(()=>{const q=Br.book_new(),B=(k.length>0?k:c).map(($e,We)=>({Date:$e.name,Revenue:$e.revenue,Orders:$e.orders})),oe=Br.json_to_sheet(B);Br.book_append_sheet(q,oe,"Sales Report");const de=g.map($e=>({Product:$e.name,Sales:$e.salesCount,Revenue:$e.revenue})),Te=Br.json_to_sheet(de);Br.book_append_sheet(q,Te,"Products Report");const He=y.map($e=>({Name:$e.name,Email:$e.email,Orders:$e.orders,TotalSpent:$e.totalSpent})),Oe=Br.json_to_sheet(He);Br.book_append_sheet(q,Oe,"Customers Report");const me=w.map($e=>({Provider:$e.provider,Volume:$e.volume,Net:$e.net,Fees:$e.fees,Currency:$e.currency||"SAR"})),Ue=Br.json_to_sheet(me);Br.book_append_sheet(q,Ue,"Payments Report");const{currentStart:ce,currentEnd:Ee}=F(s),Pe=`reports_${ce.toISOString().split("T")[0]}_to_${Ee.toISOString().split("T")[0]}.xlsx`;eh(q,Pe)},[s,k,c,g,y,w]);f.useEffect(()=>{const q=()=>{ie()};return window.addEventListener("exportReports",q),()=>{window.removeEventListener("exportReports",q)}},[ie]);const re=({title:q,value:se,change:B,trend:oe,icon:de})=>r.jsx(we,{className:"border-l-4 border-l-cyan-500",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:q}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-2xl font-bold",children:se}),B!==void 0&&r.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${oe==="up"?"text-green-600":"text-red-600"}`,children:[oe==="up"?r.jsx(L2,{className:"h-4 w-4"}):r.jsx(rK,{className:"h-4 w-4"}),Math.abs(B),"%"]})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:r.jsx(de,{className:"h-5 w-5 text-cyan-600"})})]})})});return o?r.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:e("dashboard.reports.loading")})]})}):r.jsxs("div",{className:"space-y-6 pb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.reports.title")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:J()})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(mr,{value:s,onValueChange:a,children:[r.jsxs(dr,{className:"w-[200px]",children:[r.jsx(Ri,{className:"h-4 w-4 ml-2"}),r.jsx(xr,{placeholder:e("dashboard.reports.selectDateRange"," ")})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"7days",children:e("dashboard.reports.last7Days")}),r.jsx(_e,{value:"30days",children:e("dashboard.reports.last30Days")}),r.jsx(_e,{value:"90days",children:e("dashboard.reports.last90Days")}),r.jsx(_e,{value:"year",children:e("dashboard.reports.thisYear")}),r.jsx(_e,{value:"custom",children:e("dashboard.reports.customRange"," ")})]})]}),s==="custom"&&r.jsxs("div",{className:"flex items-center gap-2 bg-background border rounded-md px-2 py-1 shadow-sm",children:[r.jsx(pe,{type:"date",value:C,onChange:q=>A(q.target.value),className:"border-0 focus-visible:ring-0 w-[130px] p-0 h-8"}),r.jsx("span",{className:"text-muted-foreground",children:"-"}),r.jsx(pe,{type:"date",value:E,onChange:q=>D(q.target.value),className:"border-0 focus-visible:ring-0 w-[130px] p-0 h-8"})]}),r.jsxs(V,{variant:"outline",className:"gap-2",onClick:ie,children:[r.jsx(xn,{className:"h-4 w-4"}),e("dashboard.reports.export")]})]})]}),r.jsxs(Kn,{value:n,onValueChange:i,className:"w-full",children:[r.jsxs(_n,{className:"grid w-full max-w-2xl grid-cols-4",children:[r.jsx(_r,{value:"sales",children:e("dashboard.reports.sales")}),r.jsx(_r,{value:"products",children:e("dashboard.reports.products")}),r.jsx(_r,{value:"customers",children:e("dashboard.reports.customers")}),r.jsx(_r,{value:"payments",children:e("dashboard.reports.payments")})]}),r.jsxs(Yr,{value:"sales",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(re,{title:e("dashboard.reports.totalSales"),value:`${(u==null?void 0:u.revenue.toFixed(2))||"0.00"} ${e("common.currency","SAR")}`,...m?z((u==null?void 0:u.revenue)||0,m.revenue):{},icon:an}),r.jsx(re,{title:e("dashboard.reports.orders"),value:(u==null?void 0:u.orderCount)||0,...m?z((u==null?void 0:u.orderCount)||0,m.orderCount):{},icon:Or}),r.jsx(re,{title:e("dashboard.reports.products"),value:(u==null?void 0:u.productCount)||0,icon:Dt}),r.jsx(re,{title:e("dashboard.reports.customers"),value:(u==null?void 0:u.customerCount)||0,icon:wr})]}),r.jsxs(we,{children:[r.jsx(st,{className:"border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(it,{children:e("dashboard.reports.salesAnalysis")}),r.jsx(Kt,{children:e("dashboard.reports.salesAndRevenueTrends")})]}),r.jsxs(mr,{value:S,onValueChange:q=>{if(j(q),q==="orders"){const se=k.map(B=>({...B,revenue:B.orders}));d(se)}else d(k)},children:[r.jsx(dr,{className:"w-[180px]",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"revenue",children:e("dashboard.reports.revenue")}),r.jsx(_e,{value:"orders",children:e("dashboard.reports.orders")})]})]})]})}),r.jsx(Se,{className:"pt-6",children:r.jsx(Yb,{width:"100%",height:400,children:r.jsxs(nk,{data:c,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.1}),r.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),r.jsx(qR,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(Oj,{dataKey:"name",stroke:"#888",fontSize:12}),r.jsx(Ij,{stroke:"#888",fontSize:12}),r.jsx(Kl,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),r.jsx(ld,{type:"monotone",dataKey:"revenue",stroke:"#06b6d4",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})]}),r.jsx(Yr,{value:"products",className:"space-y-6",children:r.jsxs(we,{children:[r.jsx(st,{className:"border-b",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs(it,{children:[e("dashboard.reports.productPerformance")," (",M,")"]}),r.jsx(Kt,{children:e("dashboard.reports.topSellingProducts")})]})})}),r.jsxs(Se,{className:"pt-6",children:[r.jsx("div",{className:`space-y-4 ${K?"opacity-50":""} transition-opacity`,children:K&&g.length===0?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r.jsxs(r.Fragment,{children:[g.map(q=>r.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:q.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[q.salesCount," ",e("dashboard.reports.sales")," | SKU: ",q.sku||"N/A"]})]}),r.jsxs("div",{className:"text-left font-medium",children:[q.revenue.toFixed(2)," ",e("common.currency")]})]},q.id)),g.length===0&&!K&&r.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noProductData")})]})}),M>0&&r.jsx($u,{currentPage:T,totalPages:R,totalItems:M,itemsPerPage:_,onPageChange:P,onItemsPerPageChange:q=>{O(q),P(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4 pt-4"})]})]})}),r.jsx(Yr,{value:"customers",className:"space-y-6",children:r.jsxs(we,{children:[r.jsxs(st,{className:"border-b",children:[r.jsx(it,{children:e("dashboard.reports.topCustomers")}),r.jsx(Kt,{children:e("dashboard.reports.topBuyers")})]}),r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"space-y-8",children:[y.map(q=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold mr-4 ml-4",children:q.name.charAt(0)}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:q.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:q.email})]}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"font-medium",children:[q.totalSpent.toFixed(2)," ",e("common.currency")]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[q.orders," ",e("dashboard.reports.orders")]})]})]},q.email)),y.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noCustomerData")})]})})]})}),r.jsx(Yr,{value:"payments",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:e("dashboard.reports.paymentDistribution")}),r.jsx(Kt,{children:e("dashboard.reports.transactionVolumeByMethod")})]}),r.jsx(Se,{className:"flex justify-center",children:r.jsx("div",{className:"h-[300px] w-full",children:r.jsx(Yb,{width:"100%",height:"100%",children:r.jsxs(Qqe,{children:[r.jsx(lh,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"volume",nameKey:"provider",children:w.map((q,se)=>r.jsx(dA,{fill:cW[se%cW.length]},`cell-${se}`))}),r.jsx(Kl,{})]})})})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:e("dashboard.reports.paymentSummary")}),r.jsx(Kt,{children:e("dashboard.reports.feesAndNet")})]}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-8",children:[w.map(q=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:q.provider})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold",children:Jn(q.volume,q.currency||"SAR")}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.reports.net"),": ",Jn(q.net,q.currency||"SAR")," | ",e("dashboard.reports.fees"),": ",Jn(q.fees,q.currency||"SAR")]})]})]},q.provider)),w.length===0&&r.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noPaymentData")})]})})]})]})})]})]})}var fE="Collapsible",[Fdt,Ale]=on(fE),[Ldt,bF]=Fdt(fE),Ele=f.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:a,defaultOpen:n,disabled:i,onOpenChange:o,...l}=e,[c,d]=ko({prop:a,defaultProp:n??!1,onChange:o,caller:fE});return r.jsx(Ldt,{scope:s,disabled:i,contentId:Sl(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:r.jsx(Bt.div,{"data-state":jF(c),"data-disabled":i?"":void 0,...l,ref:t})})});Ele.displayName=fE;var Ple="CollapsibleTrigger",Tle=f.forwardRef((e,t)=>{const{__scopeCollapsible:s,...a}=e,n=bF(Ple,s);return r.jsx(Bt.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":jF(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:t,onClick:bt(e.onClick,n.onOpenToggle)})});Tle.displayName=Ple;var wF="CollapsibleContent",_le=f.forwardRef((e,t)=>{const{forceMount:s,...a}=e,n=bF(wF,e.__scopeCollapsible);return r.jsx(qn,{present:s||n.open,children:({present:i})=>r.jsx($dt,{...a,ref:t,present:i})})});_le.displayName=wF;var $dt=f.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:a,children:n,...i}=e,o=bF(wF,s),[l,c]=f.useState(a),d=f.useRef(null),u=Pr(t,d),h=f.useRef(0),m=h.current,p=f.useRef(0),g=p.current,x=o.open||l,y=f.useRef(x),b=f.useRef(void 0);return f.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),vn(()=>{const w=d.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const v=w.getBoundingClientRect();h.current=v.height,p.current=v.width,y.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(a)}},[o.open,a]),r.jsx(Bt.div,{"data-state":jF(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:x&&n})});function jF(e){return e?"open":"closed"}var Bdt=Ele,Udt=Tle,Vdt=_le,md="Accordion",zdt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[NF,Wdt,Hdt]=R0(md),[pE,D0t]=on(md,[Hdt,Ale]),SF=Ale(),Dle=ae.forwardRef((e,t)=>{const{type:s,...a}=e,n=a,i=a;return r.jsx(NF.Provider,{scope:e.__scopeAccordion,children:s==="multiple"?r.jsx(Ydt,{...i,ref:t}):r.jsx(Kdt,{...n,ref:t})})});Dle.displayName=md;var[Ole,qdt]=pE(md),[Ile,Gdt]=pE(md,{collapsible:!1}),Kdt=ae.forwardRef((e,t)=>{const{value:s,defaultValue:a,onValueChange:n=()=>{},collapsible:i=!1,...o}=e,[l,c]=ko({prop:s,defaultProp:a??"",onChange:n,caller:md});return r.jsx(Ole,{scope:e.__scopeAccordion,value:ae.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ae.useCallback(()=>i&&c(""),[i,c]),children:r.jsx(Ile,{scope:e.__scopeAccordion,collapsible:i,children:r.jsx(Rle,{...o,ref:t})})})}),Ydt=ae.forwardRef((e,t)=>{const{value:s,defaultValue:a,onValueChange:n=()=>{},...i}=e,[o,l]=ko({prop:s,defaultProp:a??[],onChange:n,caller:md}),c=ae.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=ae.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return r.jsx(Ole,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:r.jsx(Ile,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(Rle,{...i,ref:t})})})}),[Xdt,xE]=pE(md),Rle=ae.forwardRef((e,t)=>{const{__scopeAccordion:s,disabled:a,dir:n,orientation:i="vertical",...o}=e,l=ae.useRef(null),c=Pr(l,t),d=Wdt(s),h=zm(n)==="ltr",m=bt(e.onKeyDown,p=>{var C;if(!zdt.includes(p.key))return;const g=p.target,x=d().filter(A=>{var E;return!((E=A.ref.current)!=null&&E.disabled)}),y=x.findIndex(A=>A.ref.current===g),b=x.length;if(y===-1)return;p.preventDefault();let w=y;const v=0,S=b-1,j=()=>{w=y+1,w>S&&(w=v)},k=()=>{w=y-1,w<v&&(w=S)};switch(p.key){case"Home":w=v;break;case"End":w=S;break;case"ArrowRight":i==="horizontal"&&(h?j():k());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(h?k():j());break;case"ArrowUp":i==="vertical"&&k();break}const N=w%b;(C=x[N].ref.current)==null||C.focus()});return r.jsx(Xdt,{scope:s,disabled:a,direction:n,orientation:i,children:r.jsx(NF.Slot,{scope:s,children:r.jsx(Bt.div,{...o,"data-orientation":i,ref:c,onKeyDown:a?void 0:m})})})}),$k="AccordionItem",[Qdt,kF]=pE($k),Mle=ae.forwardRef((e,t)=>{const{__scopeAccordion:s,value:a,...n}=e,i=xE($k,s),o=qdt($k,s),l=SF(s),c=Sl(),d=a&&o.value.includes(a)||!1,u=i.disabled||e.disabled;return r.jsx(Qdt,{scope:s,open:d,disabled:u,triggerId:c,children:r.jsx(Bdt,{"data-orientation":i.orientation,"data-state":Vle(d),...l,...n,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(a):o.onItemClose(a)}})})});Mle.displayName=$k;var Fle="AccordionHeader",Lle=ae.forwardRef((e,t)=>{const{__scopeAccordion:s,...a}=e,n=xE(md,s),i=kF(Fle,s);return r.jsx(Bt.h3,{"data-orientation":n.orientation,"data-state":Vle(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:t})});Lle.displayName=Fle;var tO="AccordionTrigger",$le=ae.forwardRef((e,t)=>{const{__scopeAccordion:s,...a}=e,n=xE(md,s),i=kF(tO,s),o=Gdt(tO,s),l=SF(s);return r.jsx(NF.ItemSlot,{scope:s,children:r.jsx(Udt,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":n.orientation,id:i.triggerId,...l,...a,ref:t})})});$le.displayName=tO;var Ble="AccordionContent",Ule=ae.forwardRef((e,t)=>{const{__scopeAccordion:s,...a}=e,n=xE(md,s),i=kF(Ble,s),o=SF(s);return r.jsx(Vdt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":n.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Ule.displayName=Ble;function Vle(e){return e?"open":"closed"}var Jdt=Dle,Zdt=Mle,eut=Lle,zle=$le,Wle=Ule;const Hle=Jdt,CF=f.forwardRef(({className:e,...t},s)=>r.jsx(Zdt,{ref:s,className:xe("border-b",e),...t}));CF.displayName="AccordionItem";const AF=f.forwardRef(({className:e,children:t,...s},a)=>r.jsx(eut,{className:"flex",children:r.jsxs(zle,{ref:a,className:xe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...s,children:[t,r.jsx(to,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AF.displayName=zle.displayName;const EF=f.forwardRef(({className:e,children:t,...s},a)=>r.jsx(Wle,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:r.jsx("div",{className:xe("pb-4 pt-0",e),children:t})}));EF.displayName=Wle.displayName;const ey={storeName:"",storeNameAr:"",storeDescription:"",storeDescriptionAr:"",email:"",phone:"",address:"",city:"",country:"SA",postalCode:"",currency:"SAR",timezone:"Asia/Riyadh",language:"ar",taxEnabled:!0,taxRate:15,shippingEnabled:!0,inventoryTracking:!0,lowStockThreshold:10,allowGuestCheckout:!0,requireEmailVerification:!1,maintenanceMode:!1,storeType:"GENERAL",storeLogoUrl:"",googlePlayUrl:"",appStoreUrl:"",vatNumber:"",paymentMethods:["CASH_ON_DELIVERY"],hyperpayConfig:{entityId:"",accessToken:"",testMode:!0},taxMode:"ALL",taxableCategories:[],taxableProducts:[],taxes:[]};function dW(){var A,E,D;const{toast:e}=Lt(),t=ts(),[s,a]=f.useState(ey),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,b]=f.useState({}),w=f.useCallback(async()=>{try{const T=await fe.get("/categories?limit=1000",{requireAuth:!0});Array.isArray(T)?h(T):T&&Array.isArray(T.categories)?h(T.categories):T&&Array.isArray(T.data)&&h(T.data)}catch(T){console.error("Failed to load categories:",T)}},[]),v=f.useCallback(async()=>{try{const T=await fe.get("/products?limit=1000",{requireAuth:!0});Array.isArray(T)?p(T):T&&Array.isArray(T.data)&&p(T.data)}catch(T){console.error("Failed to load products:",T)}},[]),S=f.useCallback(async()=>{try{const T=await fe.get("/currencies",{requireAuth:!0});if(Array.isArray(T)){const P=T.filter(_=>_&&typeof _=="object"&&_.code&&typeof _.code=="string"&&_.isActive===!0);d(P)}else d([{id:"1",code:"SAR",name:"Saudi Riyal",nameAr:" ",symbol:".",isActive:!0},{id:"2",code:"AED",name:"UAE Dirham",nameAr:" ",symbol:".",isActive:!0},{id:"3",code:"USD",name:"US Dollar",nameAr:" ",symbol:"$",isActive:!0},{id:"4",code:"EUR",name:"Euro",nameAr:"",symbol:"",isActive:!0}])}catch(T){console.error("Failed to load currencies:",T),d([{id:"1",code:"SAR",name:"Saudi Riyal",nameAr:" ",symbol:".",isActive:!0},{id:"2",code:"AED",name:"UAE Dirham",nameAr:" ",symbol:".",isActive:!0},{id:"3",code:"USD",name:"US Dollar",nameAr:" ",symbol:"$",isActive:!0},{id:"4",code:"EUR",name:"Euro",nameAr:"",symbol:"",isActive:!0}])}},[]),j=f.useCallback(async()=>{var T,P;try{i(!0),await Promise.all([S(),w(),v()]);const[_,O]=await Promise.all([fe.get("/site-config",{requireAuth:!0}),fe.get("/currencies/settings",{requireAuth:!0}).catch(()=>null)]);if(_&&_.settings){const M=(O==null?void 0:O.baseCurrency)||_.settings.currency||"SAR";let I=ey.paymentMethods;Array.isArray((T=_.settings)==null?void 0:T.paymentMethods)?I=_.settings.paymentMethods:Array.isArray(_.paymentMethods)&&(I=_.paymentMethods);const R={...ey,..._.settings,paymentMethods:I,currency:M};(!R.taxes||R.taxes.length===0)&&(R.taxes=[{id:"default",name:" ",rate:R.taxRate||15,enabled:R.taxEnabled??!0,mode:R.taxMode||"ALL",categories:R.taxableCategories||[],products:R.taxableProducts||[]}]),a(R)}else a(ey)}catch(_){console.error("Failed to load settings:",_);const O=_,I=((O==null?void 0:O.message)||((P=O==null?void 0:O.data)==null?void 0:P.message)||"").toLowerCase();I.includes("does not exist")||I.includes("set up your market")||I.includes("set up a market")||(O==null?void 0:O.status)===400&&I.includes("tenant")?(e({title:"   ",description:"      .     .",variant:"destructive"}),setTimeout(()=>{t("/setup",{replace:!0})},1500)):(e({title:"",description:"         ",variant:"default"}),a(ey))}finally{i(!1)}},[e,S,w,v,t]);f.useEffect(()=>{j()},[j]);const k=(T,P)=>{a(_=>({..._,[T]:P}))},N=async(T,P)=>{var O;const _=P?[...s.paymentMethods,T]:s.paymentMethods.filter(M=>M!==T);k("paymentMethods",_);try{l(!0);const M={...s,paymentMethods:_},I=Object.fromEntries(Object.entries(M).filter(([R,L])=>L!==void 0));await fe.post("/site-config",{settings:{...I,paymentMethods:_,payment_methods:_},paymentMethods:_,payment_methods:_},{requireAuth:!0}),e({title:"",description:"    "})}catch(M){console.error("Failed to save payment method:",M);const I=M,R=(I==null?void 0:I.message)||((O=I==null?void 0:I.data)==null?void 0:O.message)||"     .    .";e({title:"   ",description:R,variant:"destructive"}),k("paymentMethods",s.paymentMethods)}finally{l(!1)}},C=async()=>{var T;l(!0);try{if(!s||typeof s!="object")throw new Error("Invalid settings data");const P=Object.fromEntries(Object.entries(s).filter(([_,O])=>O!==void 0));if(await fe.post("/site-config",{settings:{...P,paymentMethods:s.paymentMethods,payment_methods:s.paymentMethods},paymentMethods:s.paymentMethods,payment_methods:s.paymentMethods},{requireAuth:!0}),s.currency)try{c.some(O=>O.code===s.currency)&&await fe.put("/currencies/settings",{baseCurrency:s.currency,autoUpdateRates:!1},{requireAuth:!0})}catch(_){console.warn("Failed to sync currency to CurrencySettings:",_)}e({title:"",description:"   "}),await j()}catch(P){console.error("Failed to save settings:",P);const _=P,O=(_==null?void 0:_.message)||((T=_==null?void 0:_.data)==null?void 0:T.message)||"    .    .",M=O.toLowerCase();M.includes("does not exist")||M.includes("set up your market")||M.includes("set up a market")||(_==null?void 0:_.status)===400&&M.includes("tenant")?(e({title:"   ",description:"     .     .",variant:"destructive"}),setTimeout(()=>{t("/setup",{replace:!0})},1500)):e({title:"  ",description:O,variant:"destructive"})}finally{l(!1)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Je,{className:"animate-spin w-12 h-12 text-primary"})}):r.jsxs("div",{className:"space-y-6 pb-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),r.jsx(V,{onClick:C,disabled:o,size:"lg",className:"gap-2",id:"tour-settings-save-btn",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4"})," "]})})]}),r.jsxs(Kn,{defaultValue:"general",className:"w-full",children:[r.jsxs(_n,{className:"grid w-full max-w-5xl grid-cols-5",children:[r.jsx(_r,{value:"general",children:""}),r.jsx(_r,{value:"contact",children:" "}),r.jsx(_r,{value:"business",children:" "}),r.jsx(_r,{value:"payment",children:" "}),r.jsx(_r,{value:"advanced",children:""})]}),r.jsx(Yr,{value:"general",className:"space-y-4",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xs,{className:"w-5 h-5"}),r.jsx(it,{children:"  "})]}),r.jsx(Kt,{children:"    "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-muted/20",children:[s.storeLogoUrl?r.jsx("img",{src:s.storeLogoUrl,alt:" ",className:"h-20 w-20 object-contain rounded-lg border bg-white"}):r.jsx("div",{className:"h-20 w-20 rounded-lg border border-dashed flex items-center justify-center bg-muted/50",children:r.jsx(xs,{className:"h-8 w-8 text-muted-foreground"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsx(pe,{type:"file",accept:"image/*",className:"max-w-xs",onChange:async T=>{var O;const P=(O=T.target.files)==null?void 0:O[0];if(!P)return;const _=new FormData;_.append("files",P);try{const M=await fe.post("/upload/images",_,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(M.files&&M.files.length>0){const I=M.files[0].secureUrl||M.files[0].url;k("storeLogoUrl",I),e({title:"",description:"  "})}}catch(M){console.error(M),e({title:"  ",description:"    .    .",variant:"destructive"})}}}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"     500x500 "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeName",children:"  (English)"}),r.jsx(pe,{id:"storeName",value:s.storeName,onChange:T=>k("storeName",T.target.value),placeholder:"My Store"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeNameAr",children:"  ()"}),r.jsx(pe,{id:"storeNameAr",value:s.storeNameAr,onChange:T=>k("storeNameAr",T.target.value),placeholder:""})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeDescription",children:"  (English)"}),r.jsx(Ys,{id:"storeDescription",value:s.storeDescription,onChange:T=>k("storeDescription",T.target.value),placeholder:"Store description...",rows:3})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeDescriptionAr",children:"  ()"}),r.jsx(Ys,{id:"storeDescriptionAr",value:s.storeDescriptionAr,onChange:T=>k("storeDescriptionAr",T.target.value),placeholder:" ...",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"googlePlayUrl",children:" Google Play"}),r.jsx(pe,{id:"googlePlayUrl",value:s.googlePlayUrl||"",onChange:T=>k("googlePlayUrl",T.target.value),placeholder:"https://play.google.com/..."})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"appStoreUrl",children:" App Store"}),r.jsx(pe,{id:"appStoreUrl",value:s.appStoreUrl||"",onChange:T=>k("appStoreUrl",T.target.value),placeholder:"https://apps.apple.com/..."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"language",children:" "}),r.jsxs(mr,{value:s.language,onValueChange:T=>k("language",T),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"ar",children:""}),r.jsx(_e,{value:"en",children:"English"}),r.jsx(_e,{value:"fr",children:"Franais"})]})]})]}),r.jsxs("div",{children:[r.jsxs(Y,{htmlFor:"currency",className:"flex items-center gap-2",children:[r.jsx(an,{className:"h-4 w-4"})," "]}),r.jsxs(mr,{value:s.currency,onValueChange:T=>{k("currency",T),e({title:"  ",description:`     ${T}`})},children:[r.jsx(dr,{className:"w-full",children:r.jsx(xr,{placeholder:" "})}),r.jsx(ur,{children:c.length>0?c.map(T=>r.jsxs(_e,{value:T.code,children:[T.symbol," ",T.nameAr||T.name," (",T.code,")"]},T.id)):r.jsxs(r.Fragment,{children:[r.jsx(_e,{value:"SAR",children:".   (SAR)"}),r.jsx(_e,{value:"AED",children:".   (AED)"}),r.jsx(_e,{value:"USD",children:"$   (USD)"}),r.jsx(_e,{value:"EUR",children:"  (EUR)"})]})})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"     -      "})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"timezone",children:" "}),r.jsxs(mr,{value:s.timezone,onValueChange:T=>k("timezone",T),children:[r.jsxs(dr,{children:[r.jsx(Co,{className:"h-4 w-4 ml-2"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"Asia/Riyadh",children:" (GMT+3)"}),r.jsx(_e,{value:"Asia/Dubai",children:" (GMT+4)"}),r.jsx(_e,{value:"Africa/Cairo",children:" (GMT+2)"}),r.jsx(_e,{value:"Europe/London",children:" (GMT+0)"})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeType",children:" "}),r.jsxs(mr,{value:s.storeType,onValueChange:T=>k("storeType",T),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"GENERAL",children:"  ( )"}),r.jsx(_e,{value:"DIGITAL_CARDS",children:"   "})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"         ."})]})]})]})}),r.jsx(Yr,{value:"contact",className:"space-y-4",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fi,{className:"w-5 h-5"}),r.jsx(it,{children:" "})]}),r.jsx(Kt,{children:"  "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"email",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{id:"email",type:"email",value:s.email,onChange:T=>k("email",T.target.value),placeholder:"store@example.com",className:"pr-10"})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"phone",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx(Fi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{id:"phone",type:"tel",value:s.phone,onChange:T=>k("phone",T.target.value),placeholder:"+966 50 123 4567",className:"pr-10"})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"address",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Hu,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(Ys,{id:"address",value:s.address,onChange:T=>k("address",T.target.value),placeholder:"    ",rows:2,className:"pr-10"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"city",children:""}),r.jsx(pe,{id:"city",value:s.city,onChange:T=>k("city",T.target.value),placeholder:""})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"country",children:""}),r.jsxs(mr,{value:s.country,onValueChange:T=>k("country",T),children:[r.jsxs(dr,{children:[r.jsx(Ya,{className:"h-4 w-4 ml-2"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"SA",children:""}),r.jsx(_e,{value:"AE",children:""}),r.jsx(_e,{value:"EG",children:""}),r.jsx(_e,{value:"JO",children:""})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"postalCode",children:" "}),r.jsx(pe,{id:"postalCode",value:s.postalCode,onChange:T=>k("postalCode",T.target.value),placeholder:"12345"})]})]})]})]})}),r.jsxs(Yr,{value:"business",className:"space-y-4",children:[r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:s.taxEnabled,onCheckedChange:T=>k("taxEnabled",T)})]}),s.taxEnabled&&r.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20",children:[r.jsx(Y,{htmlFor:"vatNumber",children:"  (VAT Number)"}),r.jsx(pe,{id:"vatNumber",value:s.vatNumber||"",onChange:T=>k("vatNumber",T.target.value),placeholder:": 300000000000003",className:"mt-2"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"      "})]}),s.taxEnabled&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{const T={id:Math.random().toString(36).substr(2,9),name:" ",rate:15,enabled:!0,mode:"ALL",categories:[],products:[]};k("taxes",[...s.taxes||[],T])},children:[r.jsx(rr,{className:"w-4 h-4 ml-2"})," "]})}),r.jsx(Hle,{type:"single",collapsible:!0,className:"w-full space-y-2",children:(s.taxes||[]).map((T,P)=>{var _;return r.jsxs(CF,{value:T.id,className:"border rounded-lg px-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsx(AF,{className:"hover:no-underline py-0 flex-1",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"font-medium",children:T.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",T.rate,"%)"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${T.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.enabled?"":""})]})}),r.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50 mr-2",onClick:O=>{O.stopPropagation();const M=[...s.taxes||[]];M.splice(P,1),k("taxes",M)},children:r.jsx(Sr,{className:"w-4 h-4"})})]}),r.jsxs(EF,{className:"pt-4 pb-4 space-y-4 border-t",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx(pe,{value:T.name,onChange:O=>{const M=[...s.taxes||[]];M[P]={...T,name:O.target.value},k("taxes",M)}})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"  (%)"}),r.jsx(pe,{type:"number",step:"0.01",value:T.rate,onChange:O=>{const M=[...s.taxes||[]];M[P]={...T,rate:parseFloat(O.target.value)},k("taxes",M)}})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx(Y,{children:"  "}),r.jsx(gr,{checked:T.enabled,onCheckedChange:O=>{const M=[...s.taxes||[]];M[P]={...T,enabled:O},k("taxes",M)}})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"  "}),r.jsxs(mr,{value:T.mode,onValueChange:O=>{const M=[...s.taxes||[]];M[P]={...T,mode:O},k("taxes",M)},children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"ALL",children:" "}),r.jsx(_e,{value:"CATEGORY",children:" "}),r.jsx(_e,{value:"PRODUCT",children:" "})]})]})]}),T.mode==="CATEGORY"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:" "}),(T.categories||[]).length>0&&r.jsx(V,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",onClick:()=>{const O=m.filter(I=>{var R;return(R=I.categories)==null?void 0:R.some(L=>(T.categories||[]).includes(L.id))}).map(I=>I.id),M=[...s.taxes||[]];M[P]={...T,mode:"PRODUCT",products:O,categories:[]},k("taxes",M),b(I=>({...I,[T.id]:T.categories||[]})),e({title:" ",description:"     .     ."})},children:"    "})]}),r.jsxs("div",{className:"border rounded-md p-4 max-h-60 overflow-y-auto space-y-2",children:[u.map(O=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx("input",{type:"checkbox",id:`tax-${T.id}-cat-${O.id}`,checked:(T.categories||[]).includes(O.id),onChange:M=>{const I=T.categories||[],R=M.target.checked?[...I,O.id]:I.filter(K=>K!==O.id),L=[...s.taxes||[]];L[P]={...T,categories:R},k("taxes",L)},className:"h-4 w-4 rounded border-gray-300"}),r.jsx(Y,{htmlFor:`tax-${T.id}-cat-${O.id}`,className:"cursor-pointer font-normal",children:O.nameAr||O.name})]},O.id)),u.length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"  "})]})]}),T.mode==="PRODUCT"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{placeholder:"    ...",value:g,onChange:O=>x(O.target.value),className:"pr-10"})]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>{var I;const O=u.map(R=>R.id),M=((I=y[T.id])==null?void 0:I.length)===O.length;b(R=>({...R,[T.id]:M?[]:O}))},children:((_=y[T.id])==null?void 0:_.length)===u.length?" ":" "})]}),r.jsxs("div",{className:"border rounded-md p-4 max-h-96 overflow-y-auto space-y-4",children:[u.filter(O=>{const M=O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()),I=m.some(R=>{var L;return((L=R.categories)==null?void 0:L.some(K=>K.id===O.id))&&(R.name.toLowerCase().includes(g.toLowerCase())||(R.nameAr||"").toLowerCase().includes(g.toLowerCase()))});return M||I}).map(O=>{var H;const M=m.filter(F=>{var G;return(G=F.categories)==null?void 0:G.some(U=>U.id===O.id)});if(M.length===0)return null;const I=M.filter(F=>F.name.toLowerCase().includes(g.toLowerCase())||(F.nameAr||"").toLowerCase().includes(g.toLowerCase())||O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase())),R=M.every(F=>(T.products||[]).includes(F.id)),L=M.some(F=>(T.products||[]).includes(F.id)),K=((H=y[T.id])==null?void 0:H.includes(O.id))||g!=="";return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between font-medium bg-gray-50 dark:bg-gray-900 p-2 rounded",children:[r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx("input",{type:"checkbox",id:`tax-${T.id}-group-${O.id}`,checked:R,ref:F=>{F&&(F.indeterminate=L&&!R)},onChange:F=>{const G=T.products||[],U=M.map(z=>z.id);let W;if(F.target.checked){const z=U.filter(ie=>!G.includes(ie));W=[...G,...z]}else W=G.filter(z=>!U.includes(z));const J=[...s.taxes||[]];J[P]={...T,products:W},k("taxes",J)},className:"h-4 w-4 rounded border-gray-300"}),r.jsx(Y,{htmlFor:`tax-${T.id}-group-${O.id}`,className:"cursor-pointer",children:O.nameAr||O.name})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{b(F=>{const G=F[T.id]||[],U=G.includes(O.id)?G.filter(W=>W!==O.id):[...G,O.id];return{...F,[T.id]:U}})},children:K?r.jsx(dC,{className:"h-4 w-4"}):r.jsx(to,{className:"h-4 w-4"})})]}),K&&r.jsx("div",{className:"mr-6 space-y-1 animate-in slide-in-from-top-1 duration-200",children:I.map(F=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx("input",{type:"checkbox",id:`tax-${T.id}-prod-${F.id}`,checked:(T.products||[]).includes(F.id),onChange:G=>{const U=T.products||[],W=G.target.checked?[...U,F.id]:U.filter(z=>z!==F.id),J=[...s.taxes||[]];J[P]={...T,products:W},k("taxes",J)},className:"h-4 w-4 rounded border-gray-300"}),r.jsx(Y,{htmlFor:`tax-${T.id}-prod-${F.id}`,className:"cursor-pointer font-normal text-sm",children:F.nameAr||F.name})]},F.id))})]},O.id)}),(()=>{const O=m.filter(I=>!I.categories||I.categories.length===0);if(O.length===0)return null;const M=O.filter(I=>I.name.toLowerCase().includes(g.toLowerCase())||(I.nameAr||"").toLowerCase().includes(g.toLowerCase()));return M.length===0&&g!==""?null:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium bg-gray-50 dark:bg-gray-900 p-2 rounded",children:"  "}),r.jsx("div",{className:"mr-6 space-y-1",children:M.map(I=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx("input",{type:"checkbox",id:`tax-${T.id}-prod-${I.id}`,checked:(T.products||[]).includes(I.id),onChange:R=>{const L=T.products||[],K=R.target.checked?[...L,I.id]:L.filter(F=>F!==I.id),H=[...s.taxes||[]];H[P]={...T,products:K},k("taxes",H)},className:"h-4 w-4 rounded border-gray-300"}),r.jsx(Y,{htmlFor:`tax-${T.id}-prod-${I.id}`,className:"cursor-pointer font-normal text-sm",children:I.nameAr||I.name})]},I.id))})]})})(),m.length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"  "}),g!==""&&u.length>0&&m.length>0&&!u.some(O=>O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()))&&!m.some(O=>O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()))&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"    "})]})]})]})]},T.id)})})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:s.inventoryTracking,onCheckedChange:T=>k("inventoryTracking",T)})]}),s.inventoryTracking&&r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"lowStockThreshold",children:"   "}),r.jsx(pe,{id:"lowStockThreshold",type:"number",value:s.lowStockThreshold,onChange:T=>k("lowStockThreshold",parseInt(T.target.value)),placeholder:"10"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:s.shippingEnabled,onCheckedChange:T=>k("shippingEnabled",T)})]})})]})]}),r.jsxs(Yr,{value:"payment",className:"space-y-4",children:[r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"w-5 h-5"}),r.jsx(it,{children:" "})]}),r.jsx(Kt,{children:"    "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(Xr,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    "})]})]}),r.jsx(gr,{checked:s.paymentMethods.includes("CASH_ON_DELIVERY"),onCheckedChange:T=>N("CASH_ON_DELIVERY",T),disabled:o})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:r.jsx(Xr,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx(Y,{children:"HyperPay (Visa/Mastercard/Mada)"}),r.jsx("p",{className:"text-sm text-gray-500",children:"   HyperPay"})]})]}),r.jsx(gr,{checked:s.paymentMethods.includes("HYPERPAY"),onCheckedChange:T=>N("HYPERPAY",T),disabled:o})]}),s.paymentMethods.includes("HYPERPAY")&&r.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20 space-y-4",children:[r.jsx("h3",{className:"font-medium",children:" HyperPay"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Entity ID"}),r.jsx(pe,{value:((A=s.hyperpayConfig)==null?void 0:A.entityId)||"",onChange:T=>k("hyperpayConfig",{...s.hyperpayConfig,entityId:T.target.value}),placeholder:"Enter Entity ID"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Access Token"}),r.jsx(pe,{type:"password",value:((E=s.hyperpayConfig)==null?void 0:E.accessToken)||"",onChange:T=>k("hyperpayConfig",{...s.hyperpayConfig,accessToken:T.target.value}),placeholder:"Enter Access Token"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{checked:((D=s.hyperpayConfig)==null?void 0:D.testMode)??!0,onCheckedChange:T=>k("hyperpayConfig",{...s.hyperpayConfig,testMode:T})}),r.jsx(Y,{children:"  (Test Mode)"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(an,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]})]}),r.jsx(gr,{checked:s.paymentMethods.includes("BANK_TRANSFER"),onCheckedChange:T=>N("BANK_TRANSFER",T),disabled:o})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg",children:r.jsx(Na,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]})]}),r.jsx(gr,{checked:s.paymentMethods.includes("WALLET_PAYMENT"),onCheckedChange:T=>N("WALLET_PAYMENT",T),disabled:o})]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"w-5 h-5"}),r.jsx(it,{children:" "})]}),r.jsx(Kt,{children:"   "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:s.shippingEnabled,onCheckedChange:T=>k("shippingEnabled",T)})]}),s.shippingEnabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{children:" "}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:" "})]}),r.jsx(gr,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm",children:" "})]}),r.jsx(gr,{defaultChecked:!0})]})]})]}),r.jsx(V,{variant:"outline",className:"w-full",children:"  "})]})]})]})]}),r.jsxs(Yr,{value:"advanced",className:"space-y-4",children:[r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}),r.jsx(gr,{checked:s.allowGuestCheckout,onCheckedChange:T=>k("allowGuestCheckout",T)})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx(Y,{children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:s.requireEmailVerification,onCheckedChange:T=>k("requireEmailVerification",T)})]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"   "})]}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50 dark:bg-red-900/10",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-red-900 dark:text-red-100",children:"  "}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"    "})]}),r.jsx(gr,{checked:s.maintenanceMode,onCheckedChange:T=>k("maintenanceMode",T)})]})})]})]})]}),r.jsx("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:r.jsx(V,{onClick:C,disabled:o,size:"lg",className:"gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4"})," "]})})})]})}function tut(){return Gn(),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),r.jsx("div",{children:r.jsx(wC,{})})]})})}const cf=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const s=e.response;if((t=s==null?void 0:s.data)!=null&&t.message)return s.data.message}return"   "};function uW(){var F,G,U,W,J;const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState(""),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(null),[b,w]=f.useState(!1),[v,S]=f.useState(!1),[j,k]=f.useState(!1),[N,C]=f.useState(1),[A,E]=f.useState({name:"",nameAr:"",email:"",phone:"",contactPerson:"",address:"",discountRate:0,notes:"",isActive:!0,apiEndpoint:"",apiKey:"",autoPurchaseEnabled:!1,priceCheckInterval:60});f.useEffect(()=>{D(),O(),M()},[]);const D=async()=>{try{const z=await fe.get("/suppliers",{requireAuth:!0});if(Array.isArray(z)){const ie=z.filter(re=>re!==null&&typeof re=="object"&&"id"in re&&!("error"in re));s(ie)}else s([])}catch(z){console.error("Failed to load suppliers:",z),s([]);const ie=cf(z);e({title:"  ",description:ie||"    .   .",variant:"destructive"})}},T=async z=>{z.preventDefault(),w(!0);try{x?(await fe.put(`/suppliers/${encodeURIComponent(x.id)}`,{...A,discountRate:parseFloat(A.discountRate.toString()),isActive:A.isActive??!0},{requireAuth:!0}),e({title:"",description:"   "})):(await fe.post("/suppliers",{...A,discountRate:parseFloat(A.discountRate.toString()),isActive:A.isActive??!0},{requireAuth:!0}),e({title:"",description:"   "})),m(!1),H(),D()}catch(ie){e({title:"  ",description:cf(ie)||"    .    .",variant:"destructive"})}finally{w(!1)}},P=z=>{y(z),E({name:z.name,nameAr:z.nameAr||"",email:z.email||"",phone:z.phone||"",contactPerson:z.contactPerson||"",address:z.address||"",discountRate:Number(z.discountRate),notes:z.notes||"",isActive:z.isActive??!0,apiEndpoint:z.apiEndpoint||"",apiKey:z.apiKey||"",autoPurchaseEnabled:z.autoPurchaseEnabled||!1,priceCheckInterval:z.priceCheckInterval||60}),m(!0)},_=async z=>{if(confirm("      "))try{const ie=await fe.delete(`/suppliers/${encodeURIComponent(z)}`,{requireAuth:!0});e({title:"",description:(ie==null?void 0:ie.isActive)===!1?"   (  )":"   "}),await D()}catch(ie){console.error("Failed to delete supplier:",ie);const re=cf(ie);e({title:"  ",description:re||"    .    .",variant:"destructive"})}},O=async()=>{try{const z=await fe.get("/products?limit=1000",{requireAuth:!0}).catch(()=>[]);Array.isArray(z)&&n(z.filter(ie=>ie!==null&&typeof ie=="object"&&"id"in ie))}catch(z){console.error("Failed to load products:",z)}},M=async()=>{try{const z=await fe.get("/supplier-api/purchases",{requireAuth:!0});if(Array.isArray(z)){const ie=z.map(re=>{var q,se,B,oe;return{id:re.id,productId:re.productId,productName:((q=re.product)==null?void 0:q.nameAr)||((se=re.product)==null?void 0:se.name)||"Unknown Product",supplierId:re.supplierId,supplierName:((B=re.supplier)==null?void 0:B.nameAr)||((oe=re.supplier)==null?void 0:oe.name)||"Unknown Supplier",quantity:Number(re.quantity),unitPrice:Number(re.unitPrice),totalAmount:Number(re.totalAmount),status:re.status,purchaseDate:re.purchaseDate,reason:re.reason}});u(ie)}else u([])}catch(z){console.error("Failed to load purchases:",z),u([])}},I=async z=>{if(z){k(!0);try{const ie=await fe.get(`/supplier-api/prices/${z}`,{requireAuth:!0});c(Array.isArray(ie)?ie:[]),ie.length===0&&e({title:"  ",description:"         API "})}catch(ie){e({title:"  ",description:cf(ie)||"      ",variant:"destructive"}),c([])}finally{k(!1)}}},R=async z=>{if(z){k(!0);try{const ie=await fe.get(`/supplier-api/best/${z}`,{requireAuth:!0});ie&&ie.shouldPurchase?(c([{supplierId:ie.supplierId,supplierName:ie.supplierName,price:ie.price,available:!0}]),e({title:"    ",description:`${ie.supplierName}: ${ie.price} - ${ie.reason}`})):e({title:"   ",description:(ie==null?void 0:ie.reason)||"     ",variant:"destructive"})}catch(ie){e({title:"    ",description:cf(ie)||"      ",variant:"destructive"})}finally{k(!1)}}},L=async(z,ie,re)=>{S(!0);try{const q=await fe.post(`/supplier-api/purchase/${z}/${ie}`,{quantity:re},{requireAuth:!0});e({title:" ",description:`    . : ${re}`}),g(!1),o(""),c([]),M(),O()}catch(q){e({title:" ",description:cf(q)||"     ",variant:"destructive"})}finally{S(!1)}},K=async(z,ie)=>{S(!0);try{const re=await fe.post(`/supplier-api/auto-purchase/${z}`,{quantity:ie},{requireAuth:!0});e({title:"  ",description:`     . : ${ie}`}),g(!1),o(""),c([]),M(),O()}catch(re){e({title:"  ",description:cf(re)||"    ",variant:"destructive"})}finally{S(!1)}},H=()=>{E({name:"",nameAr:"",email:"",phone:"",contactPerson:"",address:"",discountRate:0,notes:"",isActive:!0,apiEndpoint:"",apiKey:"",autoPurchaseEnabled:!1,priceCheckInterval:60}),y(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"  "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]})}),r.jsxs(Kn,{defaultValue:"suppliers",className:"space-y-4",children:[r.jsxs(_n,{children:[r.jsx(_r,{value:"suppliers",children:" "}),r.jsx(_r,{value:"purchase",children:"  "}),r.jsx(_r,{value:"history",children:" "})]}),r.jsxs(Yr,{value:"suppliers",className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{onClick:()=>{H(),m(!0)},children:[r.jsx(rr,{className:"h-4 w-4 mr-2"})," "]})}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:r.jsx("div",{className:"w-full max-w-full overflow-x-auto",children:r.jsxs(cs,{style:{minWidth:"800px"},children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:"API"}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:t.map(z=>r.jsxs(kt,{children:[r.jsx(Ne,{children:String(z.name||"")}),r.jsx(Ne,{children:String(z.email||"-")}),r.jsx(Ne,{children:String(z.phone||"-")}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(mI,{className:"h-4 w-4"}),Number(z.discountRate).toFixed(2),"%"]})}),r.jsx(Ne,{children:z.apiEndpoint?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Wf,{className:"h-3 w-3 text-green-500"}),r.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:z.autoPurchaseEnabled?"":""})]}):r.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),r.jsx(Ne,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${z.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:z.isActive?"":" "})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>P(z),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>_(z.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})})]},z.id))})]})})})]})]}),r.jsx(Yr,{value:"purchase",className:"space-y-4",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Or,{className:"h-5 w-5"}),"  "]}),r.jsx(Kt,{children:"    .        "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"product-select",children:" "}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs("select",{id:"product-select",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:i,onChange:z=>{o(z.target.value),z.target.value?I(z.target.value):c([])},children:[r.jsx("option",{value:"",children:"--   --"}),a.map(z=>r.jsxs("option",{value:z.id,children:[z.nameAr||z.name," - ",z.sku||z.id]},z.id))]}),i&&r.jsxs(V,{variant:"outline",onClick:()=>R(i),disabled:j,children:[r.jsx(dK,{className:"h-4 w-4 mr-2"}),j?" ...":" "]})]})]}),l.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"  :"}),r.jsx("div",{className:"space-y-2",children:l.map((z,ie)=>{const re=a.find(oe=>oe.id===i),q=(re==null?void 0:re.costPerItem)||0,se=(re==null?void 0:re.price)||0,B=z.price>q&&z.price<se;return r.jsx(we,{className:B?"border-green-500":"",children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:z.supplierName}),r.jsxs("div",{className:"text-sm text-gray-500",children:[": ",z.price," ",z.available?" ":"  "]}),re&&r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[": ",q," |  : ",se," | : ",se-z.price]})]}),r.jsxs("div",{className:"flex gap-2",children:[B&&z.available&&r.jsxs(V,{size:"sm",onClick:()=>{C(1),g(!0),window.selectedSupplierForPurchase=z.supplierId},children:[r.jsx(Or,{className:"h-4 w-4 mr-1"}),""]}),!B&&r.jsx(et,{variant:"destructive",children:"  "})]})]})})},ie)})}),l.some(z=>{const ie=a.find(re=>re.id===i);return z.available&&ie&&z.price>(ie.costPerItem||0)&&z.price<ie.price})&&r.jsxs(V,{className:"w-full",onClick:()=>{C(1),g(!0),window.selectedSupplierForPurchase=null},children:[r.jsx(zn,{className:"h-4 w-4 mr-2"}),"    "]})]}),i&&l.length===0&&!j&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"       "})]})]})}),r.jsx(Yr,{value:"history",className:"space-y-4",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Fs,{className:"h-5 w-5"}),"   "]}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:d.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"    "}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:d.map(z=>r.jsxs(kt,{children:[r.jsx(Ne,{children:z.productName}),r.jsx(Ne,{children:z.supplierName}),r.jsx(Ne,{children:z.quantity}),r.jsx(Ne,{children:z.unitPrice}),r.jsx(Ne,{children:z.totalAmount}),r.jsx(Ne,{children:r.jsx(et,{variant:z.status==="COMPLETED"?"default":z.status==="REFUNDED"?"destructive":"secondary",children:z.status==="COMPLETED"?"":z.status==="REFUNDED"?"":z.status==="CANCELLED"?"":z.status})}),r.jsx(Ne,{children:new Date(z.purchaseDate).toLocaleDateString("ar-SA")})]},z.id))})]})})]})})]}),r.jsx(ir,{open:h,onOpenChange:m,children:r.jsxs(ar,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:x?" ":"  "}),r.jsx(pr,{children:"     "})]}),r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"name",children:"  *"}),r.jsx(pe,{id:"name",value:A.name,onChange:z=>E({...A,name:z.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"nameAr",children:"  ()"}),r.jsx(pe,{id:"nameAr",value:A.nameAr,onChange:z=>E({...A,nameAr:z.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"email",children:" "}),r.jsx(pe,{id:"email",type:"email",value:A.email,onChange:z=>E({...A,email:z.target.value})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"phone",children:""}),r.jsx(pe,{id:"phone",value:A.phone,onChange:z=>E({...A,phone:z.target.value})})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"contactPerson",children:" "}),r.jsx(pe,{id:"contactPerson",value:A.contactPerson,onChange:z=>E({...A,contactPerson:z.target.value})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"address",children:""}),r.jsx(Ys,{id:"address",value:A.address,onChange:z=>E({...A,address:z.target.value})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"discountRate",children:"  (%) *"}),r.jsx(pe,{id:"discountRate",type:"number",min:"0",max:"100",step:"0.01",value:A.discountRate,onChange:z=>E({...A,discountRate:parseFloat(z.target.value)||0}),required:!0})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"isActive",children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{id:"isActive",checked:A.isActive,onCheckedChange:z=>E({...A,isActive:z})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"notes",children:""}),r.jsx(Ys,{id:"notes",value:A.notes,onChange:z=>E({...A,notes:z.target.value})})]}),r.jsx(Js,{className:"my-4"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs(Y,{className:"text-base font-semibold flex items-center gap-2",children:[r.jsx(Wf,{className:"h-4 w-4"})," API "]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" API     "})]})}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"apiEndpoint",children:" API "}),r.jsx(pe,{id:"apiEndpoint",type:"url",placeholder:"https://api.supplier.com/v1",value:A.apiEndpoint,onChange:z=>E({...A,apiEndpoint:z.target.value})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   API   (: https://api.supplier.com/v1)"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"apiKey",children:" API"}),r.jsx(pe,{id:"apiKey",type:"password",placeholder:"  API",value:A.apiKey,onChange:z=>E({...A,apiKey:z.target.value})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    API  "})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsxs(Y,{htmlFor:"autoPurchaseEnabled",className:"flex items-center gap-2",children:[r.jsx(zn,{className:"h-4 w-4"}),"  "]}),r.jsx("p",{className:"text-sm text-gray-500",children:"          "})]}),r.jsx(gr,{id:"autoPurchaseEnabled",checked:A.autoPurchaseEnabled,onCheckedChange:z=>E({...A,autoPurchaseEnabled:z})})]}),A.autoPurchaseEnabled&&r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"priceCheckInterval",children:"   ()"}),r.jsx(pe,{id:"priceCheckInterval",type:"number",min:"1",max:"1440",value:A.priceCheckInterval,onChange:z=>E({...A,priceCheckInterval:parseInt(z.target.value)||60})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        (: 60 )"})]})]}),r.jsxs(zr,{children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>{m(!1),H()},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(V,{type:"submit",disabled:b,children:[r.jsx(nn,{className:"h-4 w-4 mr-2"}),b?" ...":""]})]})]})]})}),r.jsx(ir,{open:p,onOpenChange:g,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:" "}),r.jsx(pr,{children:((F=a.find(z=>z.id===i))==null?void 0:F.nameAr)||((G=a.find(z=>z.id===i))==null?void 0:G.name)})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"quantity",children:""}),r.jsx(pe,{id:"quantity",type:"number",min:"1",value:N,onChange:z=>C(parseInt(z.target.value)||1)})]}),l.length>0&&r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{children:[": ",(U=l[0])==null?void 0:U.supplierName]}),r.jsxs("div",{children:[" : ",(W=l[0])==null?void 0:W.price]}),r.jsxs("div",{className:"font-semibold mt-2",children:[": ",((J=l[0])==null?void 0:J.price)*N]})]})})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>g(!1),children:""}),r.jsx(V,{onClick:()=>{const z=window.selectedSupplierForPurchase;z?L(i,z,N):K(i,N)},disabled:v||!i,children:v?" ...":" "})]})]})})]})}function hW(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState({name:"",nameAr:"",code:"",symbol:"",cost:0,description:""});f.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await fe.get("/units",{requireAuth:!0});if(Array.isArray(y)){const b=y.filter(w=>w&&typeof w=="object"&&w.id&&!("error"in w));s(b)}else s([])}catch{s([]),e({title:"  ",description:"    .   .",variant:"destructive"})}},m=async y=>{var b,w;y.preventDefault(),c(!0);try{if(i){const v=encodeURIComponent(i.id);await fe.put(`/units/${v}`,{...d,cost:parseFloat(d.cost.toString())},{requireAuth:!0}),e({title:"",description:"   "})}else await fe.post("/units",{...d,cost:parseFloat(d.cost.toString())},{requireAuth:!0}),e({title:"",description:"   "});n(!1),x(),h()}catch(v){const S=((w=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:w.message)||(v==null?void 0:v.message)||"    .    .";e({title:"  ",description:S,variant:"destructive"})}finally{c(!1)}},p=y=>{o(y),u({name:y.name,nameAr:y.nameAr||"",code:y.code,symbol:y.symbol||"",cost:Number(y.cost),description:y.description||""}),n(!0)},g=async y=>{var b,w;if(confirm("      "))try{const v=encodeURIComponent(y);await fe.delete(`/units/${v}`,{requireAuth:!0}),e({title:"",description:"   "}),h()}catch(v){const S=((w=(b=v==null?void 0:v.response)==null?void 0:b.data)==null?void 0:w.message)||(v==null?void 0:v.message)||"    .    .";e({title:"  ",description:S,variant:"destructive"})}},x=()=>{u({name:"",nameAr:"",code:"",symbol:"",cost:0,description:""}),o(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"       "})]}),r.jsxs(V,{onClick:()=>{x(),n(!0)},children:[r.jsx(rr,{className:"h-4 w-4 mr-2"})," "]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"     "})]}),r.jsx(Se,{children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" ( )"}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:t.map(y=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:String(y.name||"")}),y.nameAr&&typeof y.nameAr=="string"&&r.jsx("div",{className:"text-sm text-gray-500",children:y.nameAr})]})}),r.jsx(Ne,{children:r.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:String(y.code||"")})}),r.jsx(Ne,{children:String(y.symbol||"-")}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Dt,{className:"h-4 w-4"}),Number(y.cost).toFixed(2)]})}),r.jsx(Ne,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:y.isActive?"":" "})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(y),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(y.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})})]},y.id))})]})})]}),r.jsx(ir,{open:a,onOpenChange:n,children:r.jsxs(ar,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:i?" ":"  "}),r.jsx(pr,{children:"      "})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"name",children:"  *"}),r.jsx(pe,{id:"name",value:d.name,onChange:y=>u({...d,name:y.target.value}),required:!0,placeholder:": "})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"nameAr",children:"  ()"}),r.jsx(pe,{id:"nameAr",value:d.nameAr,onChange:y=>u({...d,nameAr:y.target.value}),placeholder:": "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"code",children:"  *"}),r.jsx(pe,{id:"code",value:d.code,onChange:y=>u({...d,code:y.target.value.toUpperCase()}),required:!0,placeholder:": PC",className:"font-mono"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"symbol",children:""}),r.jsx(pe,{id:"symbol",value:d.symbol,onChange:y=>u({...d,symbol:y.target.value}),placeholder:": pcs"})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"cost",children:" ( ) *"}),r.jsx(pe,{id:"cost",type:"number",min:"0",step:"0.01",value:d.cost,onChange:y=>u({...d,cost:parseFloat(y.target.value)||0}),required:!0,placeholder:"0.00"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"description",children:""}),r.jsx(Ys,{id:"description",value:d.description,onChange:y=>u({...d,description:y.target.value}),rows:3})]}),r.jsxs(zr,{children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>{n(!1),x()},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(V,{type:"submit",disabled:l,children:[r.jsx(nn,{className:"h-4 w-4 mr-2"}),l?" ...":""]})]})]})]})})]})}function mW(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState({name:"",nameAr:"",code:"",shortName:"",brandType:"",status:"Active",rechargeUsdValue:0,usdValueForCoins:0,safetyStock:0,leadTime:0,reorderPoint:0,averageConsumptionPerMonth:0,averageConsumptionPerDay:0,abcAnalysis:"C - Low Value",odooCategoryId:"",minQuantity:"",maxQuantity:"",enableSlider:!1,applySliderToAllProducts:!1});f.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await fe.getBrands();if(Array.isArray(w)){const v=w.filter(S=>S&&typeof S=="object"&&S.id&&!("error"in S));s(v)}else s([])}catch{s([]),e({title:"   ",description:"     .   .",variant:"destructive"})}},m=async w=>{w.preventDefault(),c(!0);try{i?(await fe.put(`/brands/${i.id}`,{...d,rechargeUsdValue:parseFloat(d.rechargeUsdValue.toString()),usdValueForCoins:parseFloat(d.usdValueForCoins.toString()),safetyStock:parseFloat(d.safetyStock.toString()),reorderPoint:parseFloat(d.reorderPoint.toString()),averageConsumptionPerMonth:parseFloat(d.averageConsumptionPerMonth.toString()),averageConsumptionPerDay:parseFloat(d.averageConsumptionPerDay.toString()),minQuantity:d.minQuantity?parseInt(d.minQuantity):void 0,maxQuantity:d.maxQuantity?parseInt(d.maxQuantity):void 0,enableSlider:d.enableSlider,applySliderToAllProducts:d.applySliderToAllProducts}),e({title:"",description:"    "})):(await fe.createBrand({...d,rechargeUsdValue:parseFloat(d.rechargeUsdValue.toString()),usdValueForCoins:parseFloat(d.usdValueForCoins.toString()),safetyStock:parseFloat(d.safetyStock.toString()),reorderPoint:parseFloat(d.reorderPoint.toString()),averageConsumptionPerMonth:parseFloat(d.averageConsumptionPerMonth.toString()),averageConsumptionPerDay:parseFloat(d.averageConsumptionPerDay.toString()),minQuantity:d.minQuantity?parseInt(d.minQuantity):void 0,maxQuantity:d.maxQuantity?parseInt(d.maxQuantity):void 0,enableSlider:d.enableSlider,applySliderToAllProducts:d.applySliderToAllProducts}),e({title:"",description:"    "})),n(!1),x(),h()}catch{e({title:"   ",description:"     .    .",variant:"destructive"})}finally{c(!1)}},p=w=>{var v,S;o(w),u({name:w.name,nameAr:w.nameAr||"",code:w.code||"",shortName:w.shortName||"",brandType:w.brandType||"",status:w.status||"Active",rechargeUsdValue:Number(w.rechargeUsdValue)||0,usdValueForCoins:Number(w.usdValueForCoins)||0,safetyStock:Number(w.safetyStock)||0,leadTime:Number(w.leadTime)||0,reorderPoint:Number(w.reorderPoint)||0,averageConsumptionPerMonth:Number(w.averageConsumptionPerMonth)||0,averageConsumptionPerDay:Number(w.averageConsumptionPerDay)||0,abcAnalysis:w.abcAnalysis||"C - Low Value",odooCategoryId:w.odooCategoryId||"",minQuantity:((v=w.minQuantity)==null?void 0:v.toString())||"",maxQuantity:((S=w.maxQuantity)==null?void 0:S.toString())||"",enableSlider:w.enableSlider||!1,applySliderToAllProducts:w.applySliderToAllProducts||!1}),n(!0)},g=async w=>{if(confirm("       "))try{await fe.delete(`/brands/${w}`),e({title:"",description:"    "}),h()}catch{e({title:"   ",description:"     .    .",variant:"destructive"})}},x=()=>{u({name:"",nameAr:"",code:"",shortName:"",brandType:"",status:"Active",rechargeUsdValue:0,usdValueForCoins:0,safetyStock:0,leadTime:0,reorderPoint:0,averageConsumptionPerMonth:0,averageConsumptionPerDay:0,abcAnalysis:"C - Low Value",odooCategoryId:"",minQuantity:"",maxQuantity:"",enableSlider:!1,applySliderToAllProducts:!1}),o(null)},y=()=>{const w=["ID","Name","NameAr","Code","ShortName","BrandType","Status","RechargeUsdValue","UsdValueForCoins","SafetyStock","LeadTime","ReorderPoint","AverageConsumptionPerMonth","AverageConsumptionPerDay","AbcAnalysis","OdooCategoryId","CreatedAt"],v=t.map(k=>({ID:k.id||"",Name:k.name||"",NameAr:k.nameAr||"",Code:k.code||"",ShortName:k.shortName||"",BrandType:k.brandType||"",Status:k.status||"",RechargeUsdValue:k.rechargeUsdValue||0,UsdValueForCoins:k.usdValueForCoins||0,SafetyStock:k.safetyStock||0,LeadTime:k.leadTime||0,ReorderPoint:k.reorderPoint||0,AverageConsumptionPerMonth:k.averageConsumptionPerMonth||0,AverageConsumptionPerDay:k.averageConsumptionPerDay||0,AbcAnalysis:k.abcAnalysis||"",OdooCategoryId:k.odooCategoryId||"",CreatedAt:k.createdAt||""})),S=Br.json_to_sheet(v,{header:w}),j=Br.book_new();Br.book_append_sheet(j,S,"Brands"),eh(j,"brands_export.xlsx"),e({title:"",description:"    "})},b=async w=>{var S,j,k,N,C,A,E,D;const v=(S=w.target.files)==null?void 0:S[0];if(v)try{c(!0);const T=await v.arrayBuffer(),P=Dm(T),_=P.Sheets[P.SheetNames[0]],O=Br.sheet_to_json(_,{defval:""});let M=0,I=0;const R=[];for(let K=0;K<O.length;K++){const H=O[K],F=K+2;if(!H.Name||!H.Name.trim()){R.push(`Row ${F}: Name is required`),I++;continue}try{await fe.createBrand({name:H.Name.trim(),nameAr:((j=H.NameAr)==null?void 0:j.trim())||void 0,code:((k=H.Code)==null?void 0:k.trim())||void 0,shortName:((N=H.ShortName)==null?void 0:N.trim())||void 0,brandType:((C=H.BrandType)==null?void 0:C.trim())||void 0,status:((A=H.Status)==null?void 0:A.trim())||"Active",rechargeUsdValue:H.RechargeUsdValue?typeof H.RechargeUsdValue=="string"?parseFloat(H.RechargeUsdValue.replace(/[^\d.-]/g,""))||0:H.RechargeUsdValue:0,usdValueForCoins:H.UsdValueForCoins?typeof H.UsdValueForCoins=="string"?parseFloat(H.UsdValueForCoins.replace(/[^\d.-]/g,""))||0:H.UsdValueForCoins:0,safetyStock:H.SafetyStock?typeof H.SafetyStock=="string"?parseInt(H.SafetyStock.replace(/[^\d]/g,""))||0:H.SafetyStock:0,leadTime:H.LeadTime?typeof H.LeadTime=="string"?parseInt(H.LeadTime.replace(/[^\d]/g,""))||0:H.LeadTime:0,reorderPoint:H.ReorderPoint?typeof H.ReorderPoint=="string"?parseInt(H.ReorderPoint.replace(/[^\d]/g,""))||0:H.ReorderPoint:0,averageConsumptionPerMonth:H.AverageConsumptionPerMonth?typeof H.AverageConsumptionPerMonth=="string"?parseFloat(H.AverageConsumptionPerMonth.replace(/[^\d.-]/g,""))||0:H.AverageConsumptionPerMonth:0,averageConsumptionPerDay:H.AverageConsumptionPerDay?typeof H.AverageConsumptionPerDay=="string"?parseFloat(H.AverageConsumptionPerDay.replace(/[^\d.-]/g,""))||0:H.AverageConsumptionPerDay:0,abcAnalysis:((E=H.AbcAnalysis)==null?void 0:E.trim())||void 0,odooCategoryId:((D=H.OdooCategoryId)==null?void 0:D.trim())||void 0}),M++}catch(G){const U=(G==null?void 0:G.message)||"Unknown error";R.push(`Row ${F} (${H.Name}): ${U}`),I++}}const L=R.length>0?`

Errors:
${R.slice(0,10).join(`
`)}${R.length>10?`
... and ${R.length-10} more errors`:""}`:"";e({title:M>0?" ":" ",description:`  ${M}  ${I>0?`  ${I}`:""}${L}`,variant:I>M?"destructive":"default"}),h(),w.target.value=""}catch(T){e({title:"   ",description:(T==null?void 0:T.message)||"     .     .",variant:"destructive"})}finally{c(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"  "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",onClick:y,children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs("label",{children:[r.jsx(V,{variant:"outline",asChild:!0,children:r.jsxs("span",{children:[r.jsx(An,{className:"h-4 w-4 mr-2"}),""]})}),r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:b,className:"hidden"})]}),r.jsxs(V,{onClick:()=>{x(),n(!0)},children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:"  "}),r.jsx(Kt,{children:"     "})]}),r.jsx(Se,{children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:t.map(w=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:String(w.name||"")}),w.nameAr&&r.jsx("div",{className:"text-sm text-gray-500",children:w.nameAr})]})}),r.jsx(Ne,{children:r.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:w.code||"-"})}),r.jsx(Ne,{children:w.brandType||"-"}),r.jsx(Ne,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${w.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:w.status})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(w),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(w.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})})]},w.id))})]})})]}),r.jsx(ir,{open:a,onOpenChange:n,children:r.jsxs(ar,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:i?"  ":"   "}),r.jsx(pr,{children:"      "})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"name",children:"   *"}),r.jsx(pe,{id:"name",value:d.name,onChange:w=>u({...d,name:w.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"nameAr",children:"   ()"}),r.jsx(pe,{id:"nameAr",value:d.nameAr,onChange:w=>u({...d,nameAr:w.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"code",children:"  "}),r.jsx(pe,{id:"code",value:d.code,onChange:w=>u({...d,code:w.target.value}),placeholder:": E01006"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"shortName",children:" "}),r.jsx(pe,{id:"shortName",value:d.shortName,onChange:w=>u({...d,shortName:w.target.value})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"brandType",children:"  "}),r.jsx(pe,{id:"brandType",value:d.brandType,onChange:w=>u({...d,brandType:w.target.value}),placeholder:":  "})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"status",children:""}),r.jsxs(mr,{value:d.status,onValueChange:w=>u({...d,status:w}),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"Active",children:""}),r.jsx(_e,{value:"Inactive",children:" "})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"rechargeUsdValue",children:"   (USD)"}),r.jsx(pe,{id:"rechargeUsdValue",type:"number",step:"0.01",value:d.rechargeUsdValue,onChange:w=>u({...d,rechargeUsdValue:parseFloat(w.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"usdValueForCoins",children:"  (USD)"}),r.jsx(pe,{id:"usdValueForCoins",type:"number",step:"0.01",value:d.usdValueForCoins,onChange:w=>u({...d,usdValueForCoins:parseFloat(w.target.value)||0})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"safetyStock",children:" "}),r.jsx(pe,{id:"safetyStock",type:"number",step:"0.01",value:d.safetyStock,onChange:w=>u({...d,safetyStock:parseFloat(w.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"leadTime",children:"  ()"}),r.jsx(pe,{id:"leadTime",type:"number",value:d.leadTime,onChange:w=>u({...d,leadTime:parseInt(w.target.value)||0})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"reorderPoint",children:"  "}),r.jsx(pe,{id:"reorderPoint",type:"number",step:"0.01",value:d.reorderPoint,onChange:w=>u({...d,reorderPoint:parseFloat(w.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"abcAnalysis",children:" ABC"}),r.jsxs(mr,{value:d.abcAnalysis,onValueChange:w=>u({...d,abcAnalysis:w}),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"A - High Value",children:"A -  "}),r.jsx(_e,{value:"B - Medium Value",children:"B -  "}),r.jsx(_e,{value:"C - Low Value",children:"C -  "})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"averageConsumptionPerMonth",children:"  "}),r.jsx(pe,{id:"averageConsumptionPerMonth",type:"number",step:"0.01",value:d.averageConsumptionPerMonth,onChange:w=>u({...d,averageConsumptionPerMonth:parseFloat(w.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"averageConsumptionPerDay",children:"  "}),r.jsx(pe,{id:"averageConsumptionPerDay",type:"number",step:"0.01",value:d.averageConsumptionPerDay,onChange:w=>u({...d,averageConsumptionPerDay:parseFloat(w.target.value)||0})})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"odooCategoryId",children:"  Odoo"}),r.jsx(pe,{id:"odooCategoryId",value:d.odooCategoryId,onChange:w=>u({...d,odooCategoryId:w.target.value}),placeholder:"     Odoo"})]}),r.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"enableSlider",className:"text-base font-semibold",children:"   (Slider)"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"      -        "})]}),r.jsx(gr,{id:"enableSlider",checked:d.enableSlider,onCheckedChange:w=>u({...d,enableSlider:w})})]}),d.enableSlider&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"minQuantity",children:"  "}),r.jsx(pe,{id:"minQuantity",type:"number",min:"1",value:d.minQuantity,onChange:w=>u({...d,minQuantity:w.target.value}),placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"maxQuantity",children:"  "}),r.jsx(pe,{id:"maxQuantity",type:"number",min:"1",value:d.maxQuantity,onChange:w=>u({...d,maxQuantity:w.target.value}),placeholder:"100"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[r.jsx(gr,{id:"applySliderToAllProducts",checked:d.applySliderToAllProducts,onCheckedChange:w=>u({...d,applySliderToAllProducts:w})}),r.jsx(Y,{htmlFor:"applySliderToAllProducts",className:"text-sm",children:"      "})]})]})]}),r.jsxs(zr,{children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>{n(!1),x()},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(V,{type:"submit",disabled:l,children:[r.jsx(nn,{className:"h-4 w-4 mr-2"}),l?" ...":""]})]})]})]})})]})}function fW(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(null),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(null),[h,m]=f.useState(!1),[p,g]=f.useState({code:"",name:"",nameAr:"",symbol:"",exchangeRate:1}),[x,y]=f.useState({baseCurrency:"SAR",autoUpdateRates:!1});f.useEffect(()=>{b(),w()},[]);const b=async()=>{try{const C=await fe.get("/currencies");if(Array.isArray(C)){const A=C.filter(E=>E&&typeof E=="object"&&E.id&&E.code&&!("error"in E));s(A)}else s([])}catch{s([]),e({title:"  ",description:"    .   .",variant:"destructive"})}},w=async()=>{try{const C=await fe.get("/currencies/settings");C&&typeof C=="object"&&!("error"in C)&&C.baseCurrency&&(n(C),y({baseCurrency:String(C.baseCurrency||"SAR"),autoUpdateRates:!!C.autoUpdateRates}))}catch{}},v=async C=>{C.preventDefault(),m(!0);try{d?(await fe.put(`/currencies/${d.code}`,{...p,exchangeRate:parseFloat(p.exchangeRate.toString())}),e({title:"",description:"   "})):(await fe.post("/currencies",{...p,exchangeRate:parseFloat(p.exchangeRate.toString())}),e({title:"",description:"   "})),o(!1),N(),b()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{m(!1)}},S=async()=>{m(!0);try{await fe.put("/currencies/settings",x),e({title:"",description:"    "}),c(!1),w(),b()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{m(!1)}},j=C=>{u(C),g({code:C.code,name:C.name,nameAr:C.nameAr||"",symbol:C.symbol,exchangeRate:Number(C.exchangeRate)}),o(!0)},k=async C=>{if(confirm("      "))try{await fe.delete(`/currencies/${C}`),e({title:"",description:"   "}),b()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}},N=()=>{g({code:"",name:"",nameAr:"",symbol:"",exchangeRate:1}),u(null)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(V,{variant:"outline",onClick:()=>c(!0),children:[r.jsx(an,{className:"h-4 w-4 mr-2"})," "]}),r.jsxs(V,{onClick:()=>{N(),o(!0)},children:[r.jsx(rr,{className:"h-4 w-4 mr-2"})," "]})]})]}),a&&r.jsx(we,{children:r.jsxs(st,{children:[r.jsx(it,{children:"  "}),r.jsxs(Kt,{children:[" : ",String(a.baseCurrency||"")]})]})}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:t.map(C=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:String(C.code||"")})}),r.jsx(Ne,{children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:String(C.name||"")}),C.nameAr&&typeof C.nameAr=="string"&&r.jsx("div",{className:"text-sm text-gray-500",children:C.nameAr})]})}),r.jsx(Ne,{children:String(C.symbol||"")}),r.jsxs(Ne,{children:[Number(C.exchangeRate).toFixed(4),C.code===(a==null?void 0:a.baseCurrency)&&r.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"()"})]}),r.jsx(Ne,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:C.isActive?"":" "})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>j(C),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>k(C.code),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})})]},C.id))})]})})]}),r.jsx(ir,{open:i,onOpenChange:o,children:r.jsxs(ar,{className:"max-w-2xl",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:d?" ":"  "}),r.jsx(pr,{children:"     "})]}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"code",children:"  (ISO) *"}),r.jsx(pe,{id:"code",value:p.code,onChange:C=>g({...p,code:C.target.value.toUpperCase()}),required:!0,placeholder:": USD, SAR, EUR",className:"font-mono",disabled:!!d}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" ISO 4217 (3 )"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"symbol",children:""}),r.jsx(pe,{id:"symbol",value:p.symbol,onChange:C=>g({...p,symbol:C.target.value}),required:!0,placeholder:": $, SAR, "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"name",children:"  *"}),r.jsx(pe,{id:"name",value:p.name,onChange:C=>g({...p,name:C.target.value}),required:!0,placeholder:": US Dollar"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"nameAr",children:"  ()"}),r.jsx(pe,{id:"nameAr",value:p.nameAr,onChange:C=>g({...p,nameAr:C.target.value}),placeholder:":  "})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"exchangeRate",children:"  *"}),r.jsx(pe,{id:"exchangeRate",type:"number",min:"0",step:"0.0001",value:p.exchangeRate,onChange:C=>g({...p,exchangeRate:parseFloat(C.target.value)||0}),required:!0,placeholder:"1.0000"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     (  = 1.0000)"})]}),r.jsxs(zr,{children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>{o(!1),N()},children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(V,{type:"submit",disabled:h,children:[r.jsx(nn,{className:"h-4 w-4 mr-2"}),h?" ...":""]})]})]})]})}),r.jsx(ir,{open:l,onOpenChange:c,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:" "}),r.jsx(pr,{children:"     "})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"baseCurrency",children:"  *"}),r.jsxs(mr,{value:x.baseCurrency,onValueChange:C=>y({...x,baseCurrency:C}),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsx(ur,{children:t.map(C=>r.jsxs(_e,{value:C.code,children:[C.code," - ",C.name]},C.code))})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         "})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"autoUpdateRates",children:"   "}),r.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),r.jsx(gr,{id:"autoUpdateRates",checked:x.autoUpdateRates,onCheckedChange:C=>y({...x,autoUpdateRates:C})})]}),r.jsxs(zr,{children:[r.jsxs(V,{type:"button",variant:"outline",onClick:()=>c(!1),children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),""]}),r.jsxs(V,{onClick:S,disabled:h,children:[r.jsx(nn,{className:"h-4 w-4 mr-2"}),h?" ...":""]})]})]})]})})]})}const rut={HYPERPAY:{name:"HyperPay",nameAr:" ",description:"  ",descriptionAr:"  ",icon:Xr,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-600"},STRIPE:{name:"Stripe",nameAr:"",description:"  ",descriptionAr:"  ",icon:Xr,color:"bg-purple-100 dark:bg-purple-900/30 text-purple-600"},PAYPAL:{name:"PayPal",nameAr:" ",description:"Global Payment Gateway",descriptionAr:"  ",icon:Xr,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-600"},NEOLEAP:{name:"Neoleap",nameAr:"",description:"Saudi Payment Gateway",descriptionAr:"  ",icon:Xr,color:"bg-green-100 dark:bg-green-900/30 text-green-600"},CASH_ON_DELIVERY:{name:"Cash on Delivery",nameAr:"  ",description:"    ",descriptionAr:"    ",icon:an,color:"bg-green-100 dark:bg-green-900/30 text-green-600"}};function sut(){const{toast:e}=Lt(),[t,s]=f.useState(!1),[a,n]=f.useState(!0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState({});f.useEffect(()=>{(async()=>{try{await Promise.all([g(),p(),x()])}finally{n(!1)}})()},[]);const p=async()=>{try{const N=await NC.getCurrentUserTenant();c(N)}catch{}},g=async()=>{try{const N=await fe.get("/payment/methods",{requireAuth:!0}),C=Array.isArray(N)?N:(N==null?void 0:N.methods)||[];u(C)}catch(N){console.error("Failed to load payment gateways:",N),e({title:"   ",description:"     .   .",variant:"destructive"})}},x=async()=>{try{const N=await fe.get("/payment/settings",{requireAuth:!0}).catch(()=>null);if(N){const C={};N.hyperPayEnabled&&(C.HYPERPAY={enabled:!0,entityId:N.hyperPayEntityId||"",accessToken:N.hyperPayAccessToken||"",testMode:N.hyperPayTestMode??!0,currency:N.hyperPayCurrency||"SAR"}),N.stripeEnabled&&(C.STRIPE={enabled:!0,publishableKey:N.stripePublishableKey||"",secretKey:N.stripeSecretKey||""}),N.payPalEnabled&&(C.PAYPAL={enabled:!0,clientId:N.payPalClientId||"",secret:N.payPalSecret||"",mode:N.payPalMode||"sandbox"}),N.neoleapEnabled&&(C.NEOLEAP={enabled:!0,clientId:N.neoleapClientId||"",clientSecret:N.neoleapClientSecret||"",terminalId:N.neoleapTerminalId||"",mode:N.neoleapMode||"test"}),N.codEnabled!==!1&&(C.CASH_ON_DELIVERY={enabled:!0}),m(C)}}catch{}},y=async()=>{var N,C,A,E,D,T,P,_,O,M,I,R,L,K,H,F,G,U;s(!0);try{const W={hyperPayEnabled:((N=h.HYPERPAY)==null?void 0:N.enabled)||!1,hyperPayEntityId:((C=h.HYPERPAY)==null?void 0:C.entityId)||"",hyperPayAccessToken:((A=h.HYPERPAY)==null?void 0:A.accessToken)||"",hyperPayTestMode:((E=h.HYPERPAY)==null?void 0:E.testMode)??!0,hyperPayCurrency:((D=h.HYPERPAY)==null?void 0:D.currency)||"SAR",stripeEnabled:((T=h.STRIPE)==null?void 0:T.enabled)||!1,stripePublishableKey:((P=h.STRIPE)==null?void 0:P.publishableKey)||"",stripeSecretKey:((_=h.STRIPE)==null?void 0:_.secretKey)||"",payPalEnabled:((O=h.PAYPAL)==null?void 0:O.enabled)||!1,payPalClientId:((M=h.PAYPAL)==null?void 0:M.clientId)||"",payPalSecret:((I=h.PAYPAL)==null?void 0:I.secret)||"",payPalMode:((R=h.PAYPAL)==null?void 0:R.mode)||"sandbox",neoleapEnabled:((L=h.NEOLEAP)==null?void 0:L.enabled)||!1,neoleapClientId:((K=h.NEOLEAP)==null?void 0:K.clientId)||"",neoleapClientSecret:((H=h.NEOLEAP)==null?void 0:H.clientSecret)||"",neoleapTerminalId:((F=h.NEOLEAP)==null?void 0:F.terminalId)||"",neoleapMode:((G=h.NEOLEAP)==null?void 0:G.mode)||"test",codEnabled:((U=h.CASH_ON_DELIVERY)==null?void 0:U.enabled)!==!1};await fe.put("/payment/settings",W,{requireAuth:!0}),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{s(!1)}},b=async()=>{var N,C,A;o(!0);try{await fe.post("/payment/hyperpay/test",{entityId:(N=h.HYPERPAY)==null?void 0:N.entityId,accessToken:(C=h.HYPERPAY)==null?void 0:C.accessToken,testMode:(A=h.HYPERPAY)==null?void 0:A.testMode},{requireAuth:!0}),e({title:" ",description:"   HyperPay "})}catch(E){e({title:" ",description:(E==null?void 0:E.message)||"   ",variant:"destructive"})}finally{o(!1)}},w=N=>l!=null&&l.subscriptionPlan?l.subscriptionPlan.features.includes(N):!1,v=N=>r.jsx("div",{className:"absolute inset-0 bg-gray-100/50 dark:bg-gray-900/50 backdrop-blur-[1px] z-10 flex items-center justify-center rounded-xl",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg flex flex-col items-center gap-2 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:r.jsx(bi,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("p",{className:"font-medium text-sm",children:["Upgrade to use ",N]}),r.jsx(V,{size:"sm",variant:"outline",onClick:()=>window.location.href="/dashboard/subscription",children:"View Plans"})]})}),S=(N,C,A)=>{m(E=>({...E,[N]:{...E[N],[C]:A}}))},j=(N,C)=>{m(A=>({...A,[N]:{...A[N],enabled:C}}))},k=N=>{var P,_,O,M,I,R,L,K,H,F,G,U,W,J,z,ie;const C=rut[N.provider]||{name:N.name,nameAr:N.name,description:"",descriptionAr:"",icon:Xr,color:"bg-gray-100 dark:bg-gray-900/30 text-gray-600"},A=C.icon,E=((P=h[N.provider])==null?void 0:P.enabled)||!1,D=`payment_gateway_${N.provider.toLowerCase()}`,T=w(D);return r.jsxs(we,{className:"relative",children:[!T&&v(C.name),r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${C.color}`,children:r.jsx(A,{className:"h-6 w-6"})}),r.jsxs("div",{children:[r.jsx(it,{children:C.name}),r.jsx(Kt,{children:C.descriptionAr||C.description})]})]}),r.jsx(gr,{checked:E,onCheckedChange:re=>j(N.provider,re),disabled:!T})]})}),E&&T&&r.jsxs(Se,{className:"space-y-4",children:[N.provider==="HYPERPAY"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-entityId`,children:"Entity ID *"}),r.jsx(pe,{id:`${N.id}-entityId`,value:((_=h.HYPERPAY)==null?void 0:_.entityId)||"",onChange:re=>S("HYPERPAY","entityId",re.target.value),placeholder:"8a8294174b7ecb28014b9699220015ca"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-accessToken`,children:"Access Token *"}),r.jsx(pe,{id:`${N.id}-accessToken`,type:"password",value:((O=h.HYPERPAY)==null?void 0:O.accessToken)||"",onChange:re=>S("HYPERPAY","accessToken",re.target.value),placeholder:"OGE4Mjk0MTc0YjdlY2IyODE0Yjk2OTkyMjAwMTVjYXxzeXpBN3p2UVE="})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-currency`,children:""}),r.jsxs("select",{id:`${N.id}-currency`,value:((M=h.HYPERPAY)==null?void 0:M.currency)||"SAR",onChange:re=>S("HYPERPAY","currency",re.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"SAR",children:"  (SAR)"}),r.jsx("option",{value:"AED",children:"  (AED)"}),r.jsx("option",{value:"KWD",children:"  (KWD)"}),r.jsx("option",{value:"USD",children:"  (USD)"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[r.jsx(gr,{id:`${N.id}-testMode`,checked:((I=h.HYPERPAY)==null?void 0:I.testMode)??!0,onCheckedChange:re=>S("HYPERPAY","testMode",re)}),r.jsx(Y,{htmlFor:`${N.id}-testMode`,className:"cursor-pointer",children:" "})]})]}),r.jsx(V,{variant:"outline",onClick:b,disabled:i||!((R=h.HYPERPAY)!=null&&R.entityId)||!((L=h.HYPERPAY)!=null&&L.accessToken),children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"mr-2 h-4 w-4"})," "]})})]}),N.provider==="STRIPE"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-publishableKey`,children:"Publishable Key"}),r.jsx(pe,{id:`${N.id}-publishableKey`,value:((K=h.STRIPE)==null?void 0:K.publishableKey)||"",onChange:re=>S("STRIPE","publishableKey",re.target.value),placeholder:"pk_test_..."})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-secretKey`,children:"Secret Key"}),r.jsx(pe,{id:`${N.id}-secretKey`,type:"password",value:((H=h.STRIPE)==null?void 0:H.secretKey)||"",onChange:re=>S("STRIPE","secretKey",re.target.value),placeholder:"sk_test_..."})]})]}),N.provider==="PAYPAL"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-clientId`,children:"Client ID"}),r.jsx(pe,{id:`${N.id}-clientId`,value:((F=h.PAYPAL)==null?void 0:F.clientId)||"",onChange:re=>S("PAYPAL","clientId",re.target.value)})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-secret`,children:"Secret"}),r.jsx(pe,{id:`${N.id}-secret`,type:"password",value:((G=h.PAYPAL)==null?void 0:G.secret)||"",onChange:re=>S("PAYPAL","secret",re.target.value)})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-mode`,children:"Mode"}),r.jsxs("select",{id:`${N.id}-mode`,value:((U=h.PAYPAL)==null?void 0:U.mode)||"sandbox",onChange:re=>S("PAYPAL","mode",re.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"sandbox",children:"Sandbox"}),r.jsx("option",{value:"live",children:"Live"})]})]})]}),N.provider==="NEOLEAP"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-clientId`,children:"Client ID"}),r.jsx(pe,{id:`${N.id}-clientId`,value:((W=h.NEOLEAP)==null?void 0:W.clientId)||"",onChange:re=>S("NEOLEAP","clientId",re.target.value)})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-clientSecret`,children:"Client Secret"}),r.jsx(pe,{id:`${N.id}-clientSecret`,type:"password",value:((J=h.NEOLEAP)==null?void 0:J.clientSecret)||"",onChange:re=>S("NEOLEAP","clientSecret",re.target.value)})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-terminalId`,children:"Terminal ID"}),r.jsx(pe,{id:`${N.id}-terminalId`,value:((z=h.NEOLEAP)==null?void 0:z.terminalId)||"",onChange:re=>S("NEOLEAP","terminalId",re.target.value)})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:`${N.id}-mode`,children:"Mode"}),r.jsxs("select",{id:`${N.id}-mode`,value:((ie=h.NEOLEAP)==null?void 0:ie.mode)||"test",onChange:re=>S("NEOLEAP","mode",re.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r.jsx("option",{value:"test",children:"Test"}),r.jsx("option",{value:"live",children:"Live"})]})]})]}),N.provider==="CASH_ON_DELIVERY"&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"      "})]})]},N.id)};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),d.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"py-12 text-center",children:[r.jsx(Xr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     .       ."})]})}):r.jsx("div",{className:"space-y-4",children:d.map(k)}),d.length>0&&r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{size:"lg",onClick:y,disabled:t,className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:t?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"mr-2 h-5 w-5"})," "]})})})]})}function aut(){const{toast:e}=Lt(),[t,s]=f.useState(!0),[a,n]=f.useState(!1),[i,o]=f.useState([]),l=f.useCallback(async()=>{try{s(!0);const h=await fe.get("/payment-options",{requireAuth:!0});o(Array.isArray(h)?h:[])}catch(h){console.error("Failed to load payment options:",h),e({title:"   ",description:"     .   .",variant:"destructive"})}finally{s(!1)}},[e]);f.useEffect(()=>{l()},[l]);const c=async h=>{var m,p;try{const g=i.find(y=>y.paymentMethodId===h),x=!(g!=null&&g.isEnabled);o(y=>y.map(b=>b.paymentMethodId===h?{...b,isEnabled:x}:b)),await fe.put(`/payment-options/${h}`,{isEnabled:x,displayOrder:(g==null?void 0:g.displayOrder)||0},{requireAuth:!0}),e({title:"",description:x?"   ":"    "})}catch(g){console.error("Failed to toggle payment option:",g),l(),e({title:"",description:((p=(m=g==null?void 0:g.response)==null?void 0:m.data)==null?void 0:p.message)||"   ",variant:"destructive"})}},d=async()=>{try{n(!0);const h=i.map(m=>({paymentMethodId:m.paymentMethodId,isEnabled:m.isEnabled,displayOrder:m.displayOrder}));await fe.put("/payment-options/bulk",h,{requireAuth:!0}),e({title:"",description:"     "})}catch(h){console.error("Failed to save payment options:",h),e({title:"",description:"   ",variant:"destructive"})}finally{n(!1)}},u=h=>({HYPERPAY:{label:"HyperPay",variant:"default"},NEOLEAP:{label:"Neoleap",variant:"secondary"},STRIPE:{label:"Stripe",variant:"outline"},PAYPAL:{label:"PayPal",variant:"outline"},CASH_ON_DELIVERY:{label:"COD",variant:"secondary"}})[h]||{label:h,variant:"outline"};return t?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-indigo-500"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:" "}),r.jsx("p",{className:"text-gray-400",children:"      .        ."})]}),r.jsx(V,{onClick:d,disabled:a,className:"gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4"})," "]})})]}),r.jsxs(Di,{className:"bg-blue-500/10 border-blue-500/20",children:[r.jsx(Xr,{className:"h-4 w-4"}),r.jsx(Oi,{className:"text-gray-300",children:"            .        ."})]}),i.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"py-12 text-center",children:[r.jsx(Xr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-400",children:"    "}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"        "})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(h=>{const m=u(h.provider);return r.jsxs(we,{className:`transition-all ${h.isEnabled?"border-green-500/50 bg-green-500/5":"border-gray-700 bg-gray-800/30"}`,children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(it,{className:"text-lg",children:h.name}),h.isGlobal&&r.jsxs(et,{variant:"outline",className:"text-xs",children:[r.jsx(Ya,{className:"w-3 h-3 mr-1"}),""]})]}),r.jsxs(Kt,{className:"flex items-center gap-2",children:[r.jsx(et,{variant:m.variant,children:m.label}),h.isEnabled?r.jsxs("span",{className:"text-green-400 text-xs flex items-center gap-1",children:[r.jsx(Fs,{className:"w-3 h-3"}),""]}):r.jsxs("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:[r.jsx(Ls,{className:"w-3 h-3"}),""]})]})]}),r.jsx(gr,{checked:h.isEnabled,onCheckedChange:()=>c(h.paymentMethodId)})]})}),h.isEnabled&&r.jsx(Se,{children:r.jsx("div",{className:"text-xs text-gray-400",children:"      "})})]},h.id)})})]})}function nut(){const{toast:e}=Lt(),[t,s]=f.useState(!1),[a,n]=f.useState({allowGuestCheckout:!0,requireEmailForGuests:!0,requirePhoneForGuests:!0,forceAccountCreation:!1,requireEmailVerification:!1,requirePhoneVerification:!1,requireIdVerification:!1,idVerificationThreshold:1e3});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await fe.get("/checkout/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{s(!0);try{await fe.put("/checkout/settings",a),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"      "})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:r.jsx(Or,{className:"h-6 w-6 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"     "})]})]})}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"allowGuestCheckout",className:"text-base font-medium",children:"  "}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx(gr,{id:"allowGuestCheckout",checked:a.allowGuestCheckout,onCheckedChange:l=>n({...a,allowGuestCheckout:l})})]}),a.allowGuestCheckout&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsxs(Y,{htmlFor:"requireEmailForGuests",className:"text-base font-medium flex items-center gap-2",children:[r.jsx(ba,{className:"h-4 w-4"}),"  "]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx(gr,{id:"requireEmailForGuests",checked:a.requireEmailForGuests,onCheckedChange:l=>n({...a,requireEmailForGuests:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsxs(Y,{htmlFor:"requirePhoneForGuests",className:"text-base font-medium flex items-center gap-2",children:[r.jsx(Fi,{className:"h-4 w-4"}),"  "]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx(gr,{id:"requirePhoneForGuests",checked:a.requirePhoneForGuests,onCheckedChange:l=>n({...a,requirePhoneForGuests:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsxs(Y,{htmlFor:"forceAccountCreation",className:"text-base font-medium flex items-center gap-2",children:[r.jsx(zd,{className:"h-4 w-4"}),"  "]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"      "})]}),r.jsx(gr,{id:"forceAccountCreation",checked:a.forceAccountCreation,onCheckedChange:l=>n({...a,forceAccountCreation:l})})]})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsx(lg,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx(it,{children:"   (KYC)"}),r.jsx(Kt,{children:"    "})]})]})}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"requireEmailVerification",className:"text-base font-medium",children:"   "}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx(gr,{id:"requireEmailVerification",checked:a.requireEmailVerification,onCheckedChange:l=>n({...a,requireEmailVerification:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"requirePhoneVerification",className:"text-base font-medium",children:"   "}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"       SMS"})]}),r.jsx(gr,{id:"requirePhoneVerification",checked:a.requirePhoneVerification,onCheckedChange:l=>n({...a,requirePhoneVerification:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{htmlFor:"requireIdVerification",className:"text-base font-medium",children:"  "}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx(gr,{id:"requireIdVerification",checked:a.requireIdVerification,onCheckedChange:l=>n({...a,requireIdVerification:l})})]}),a.requireIdVerification&&r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"idVerificationThreshold",children:"    (.)"}),r.jsx(pe,{id:"idVerificationThreshold",type:"number",value:a.idVerificationThreshold,onChange:l=>n({...a,idVerificationThreshold:parseFloat(l.target.value)}),placeholder:"1000"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"         "})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{size:"lg",onClick:o,disabled:t,className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:t?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"mr-2 h-5 w-5"})," "]})})})]})}function iut(){const{toast:e}=Lt(),[t,s]=f.useState(!1),[a,n]=f.useState({emailNotifications:!0,orderNotifications:!0,customerNotifications:!0,inventoryNotifications:!0,marketingNotifications:!1,pushNotifications:!1});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await fe.get("/notifications/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{s(!0);try{await fe.put("/notifications/settings",a),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Xo,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"        "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:a.emailNotifications,onCheckedChange:l=>n({...a,emailNotifications:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:a.orderNotifications,onCheckedChange:l=>n({...a,orderNotifications:l}),disabled:!a.emailNotifications})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}),r.jsx(gr,{checked:a.customerNotifications,onCheckedChange:l=>n({...a,customerNotifications:l}),disabled:!a.emailNotifications})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:a.inventoryNotifications,onCheckedChange:l=>n({...a,inventoryNotifications:l}),disabled:!a.emailNotifications})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:a.marketingNotifications,onCheckedChange:l=>n({...a,marketingNotifications:l}),disabled:!a.emailNotifications})]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Cn,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"   "})]}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:a.pushNotifications,onCheckedChange:l=>n({...a,pushNotifications:l})})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{onClick:o,disabled:t,children:[r.jsx(nn,{className:"mr-2 h-4 w-4"}),t?" ...":""]})})]})}function out(){const{toast:e}=Lt(),[t,s]=f.useState(!1),[a,n]=f.useState(null),[i,o]=f.useState("");f.useEffect(()=>{l()},[]);const l=async()=>{try{const j=await fe.getDomain();n(j)}catch{}},c=async j=>{j.preventDefault(),s(!0);try{await fe.addCustomDomain(i),e({title:" ",description:"   .   DNS."}),l(),o("")}catch{e({variant:"destructive",title:"  ",description:"    .    ."})}finally{s(!1)}},d=j=>{navigator.clipboard.writeText(j),e({title:" ",description:"    "})},u=window.location.hostname.includes("saeaa.net")?"saeaa.net":"saeaa.com",h=(a==null?void 0:a.subdomain)||`mystore.${u}`,m=(a==null?void 0:a.customDomain)||"",p=(a==null?void 0:a.verified)||!1,[g,x]=f.useState(!1),[y,b]=f.useState(""),[w,v]=f.useState([]);f.useEffect(()=>{a!=null&&a.subdomain&&b(a.subdomain)},[a]);const S=async()=>{var j;s(!0),v([]);try{await fe.updateCurrentUserTenant({subdomain:y}),e({title:" ",description:"    "}),x(!1),l()}catch(k){k.status===409&&((j=k.data)!=null&&j.suggestions)?(v(k.data.suggestions),e({variant:"destructive",title:"  ",description:"    .        ."})):e({variant:"destructive",title:"   ",description:k.message||"     .    ."})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:" "}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"   "})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"  "})]}),r.jsx(Se,{className:"space-y-4",children:r.jsx("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:g?r.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[r.jsxs("div",{className:"flex items-center gap-2 w-full",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsx(pe,{value:y,onChange:j=>{b(j.target.value),v([])},placeholder:"subdomain",className:"max-w-[200px]",dir:"ltr",autoFocus:!0}),r.jsxs("span",{className:"text-muted-foreground text-sm",dir:"ltr",children:[".",u]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{size:"sm",onClick:S,disabled:t,children:""}),r.jsx(V,{size:"sm",variant:"ghost",onClick:()=>{x(!1),v([]),b((a==null?void 0:a.subdomain)||"")},children:""})]})]}),w.length>0&&r.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/30 p-3 rounded-md border border-orange-200 dark:border-orange-800 animate-in fade-in slide-in-from-top-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Xs,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),r.jsx("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-300",children:"   .    :"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(j=>r.jsx(et,{variant:"outline",className:"text-sm py-1 px-3 cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-900 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300 transition-colors",onClick:()=>{b(j),v([])},children:j},j))})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ya,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-lg",dir:"ltr",children:h}),r.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{b((a==null?void 0:a.subdomain)||""),x(!0)},children:""}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>d(`https://${h}`),children:[r.jsx(sc,{className:"h-4 w-4 ml-2"}),""]}),r.jsx(V,{variant:"outline",size:"sm",asChild:!0,children:r.jsxs("a",{href:`https://${h}`,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(lm,{className:"h-4 w-4 ml-2"}),""]})})]})]})})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"   "})]}),r.jsxs(Se,{className:"space-y-6",children:[m?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ya,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-lg",children:m}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:p?r.jsxs(r.Fragment,{children:[r.jsx(va,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-600",children:" "})]}):r.jsxs(r.Fragment,{children:[r.jsx(Xs,{className:"h-4 w-4 text-orange-600"}),r.jsx("span",{className:"text-sm text-orange-600",children:"  "})]})})]})]}),r.jsx(et,{variant:p?"default":"secondary",children:p?"":""})]}),!p&&r.jsxs(Di,{children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsx(Oi,{children:"   DNS  .     48 ."})]})]}):r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"customDomain",children:" "}),r.jsx(pe,{id:"customDomain",type:"text",placeholder:"www.mystore.com",value:i,onChange:j=>o(j.target.value),required:!0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),r.jsx(V,{type:"submit",disabled:t,children:t?" ...":" "})]}),r.jsx(Js,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"  DNS"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-primary",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"     "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:" GoDaddy Namecheap    "})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-primary",children:"2"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium mb-2",children:"  CNAME"}),r.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-mono",children:"Type: CNAME"}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>d("CNAME"),children:r.jsx(sc,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-mono",children:"Name: www"}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>d("www"),children:r.jsx(sc,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-mono",children:["Value: cname.",u]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>d(`cname.${u}`),children:r.jsx(sc,{className:"h-3 w-3"})})]})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-primary",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"  DNS"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"       48 "})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-primary",children:"4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"  "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})]})]})]})]})]})]})]})}const pW=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const s=e.response;if((t=s==null?void 0:s.data)!=null&&t.message)return s.data.message}return"   "};function lut(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({email:"",name:"",role:"STAFF",password:""});f.useEffect(()=>{m()},[]);const h=()=>{u({email:"",name:"",role:"STAFF",password:""}),c(null)},m=async()=>{try{n(!0);const b=await fe.get("/user/list",{requireAuth:!0});let w=[];b&&typeof b=="object"&&(Array.isArray(b)?w=b:b.data&&Array.isArray(b.data)?w=b.data:b.users&&Array.isArray(b.users)&&(w=b.users)),Array.isArray(w)?s(w):s([])}catch(b){console.error("Failed to load users:",b),s([]),e({title:"  ",description:(b==null?void 0:b.message)||"    .   .",variant:"destructive"})}finally{n(!1)}},p=async b=>{b.preventDefault(),n(!0);try{l?(await fe.put(`/users/${encodeURIComponent(l.id)}`,{email:d.email,name:d.name,role:d.role},{requireAuth:!0}),e({title:"",description:"   "})):(await fe.post("/staff",{email:d.email,name:d.name,password:d.password||void 0,role:d.role},{requireAuth:!0}),e({title:"",description:"   "})),o(!1),h(),await m()}catch(w){e({title:"  ",description:pW(w)||"    .    .",variant:"destructive"})}finally{n(!1)}},g=b=>{c(b),u({email:b.email,name:b.name||"",role:b.role,password:""}),o(!0)},x=async b=>{if(confirm("      "))try{await fe.delete(`/users/${encodeURIComponent(b)}`,{requireAuth:!0}),e({title:"",description:"   "}),await m()}catch(w){console.error("Failed to delete user:",w),e({title:"  ",description:pW(w)||"    .    .",variant:"destructive"})}},y=b=>{const v={SHOP_OWNER:{label:" ",variant:"default"},ADMIN:{label:"",variant:"secondary"},STAFF:{label:"",variant:"outline"}}[b]||{label:b,variant:"outline"};return r.jsx(et,{variant:v.variant,children:v.label})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),r.jsxs(V,{onClick:()=>{h(),o(!0)},children:[r.jsx(rr,{className:"mr-2 h-4 w-4"})," "]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:a&&t.length===0?r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx(Je,{className:"h-6 w-6 animate-spin"})}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:t.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"  "})}):t.map(b=>r.jsxs(kt,{children:[r.jsx(Ne,{children:String(b.name||"-")}),r.jsx(Ne,{children:String(b.email||"")}),r.jsx(Ne,{children:y(String(b.role||""))}),r.jsx(Ne,{children:b.createdAt?new Date(b.createdAt).toLocaleDateString("ar-SA"):"-"}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(b),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>x(b.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})})]},b.id))})]})})]}),r.jsx(ir,{open:i,onOpenChange:o,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:l?" ":"  "}),r.jsx(pr,{children:l?"   ":"   "})]}),r.jsxs("form",{onSubmit:p,children:[r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"name",children:""}),r.jsx(pe,{id:"name",value:d.name,onChange:b=>u({...d,name:b.target.value}),placeholder:" "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"email",children:"  *"}),r.jsx(pe,{id:"email",type:"email",value:d.email,onChange:b=>u({...d,email:b.target.value}),placeholder:"example@email.com",required:!0})]}),!l&&r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{htmlFor:"password",children:["  ",!l&&"()"]}),r.jsx(pe,{id:"password",type:"password",value:d.password,onChange:b=>u({...d,password:b.target.value}),placeholder:l?"      ":"       "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"role",children:" *"}),r.jsxs(mr,{value:d.role,onValueChange:b=>u({...d,role:b}),children:[r.jsx(dr,{id:"role",children:r.jsx(xr,{placeholder:" "})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"STAFF",children:""}),r.jsx(_e,{value:"ADMIN",children:""}),r.jsx(_e,{value:"SHOP_OWNER",children:" "})]})]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>{o(!1),h()},children:""}),r.jsxs(V,{type:"submit",disabled:a,children:[a&&r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),l?" ":" "]})]})]})]})})]})}const xW=[{value:"ANALYTICS",label:""},{value:"SHIPPING",label:""},{value:"EMAIL",label:" "},{value:"SMS",label:" SMS"},{value:"PAYMENT",label:""},{value:"SOCIAL",label:" "},{value:"ACCOUNTING",label:""},{value:"SUPPLIER",label:""}],NN=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const s=e.response;if((t=s==null?void 0:s.data)!=null&&t.message)return s.data.message}return"   "};function cut(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({name:"",type:"ANALYTICS",provider:"",config:"",isActive:!0});f.useEffect(()=>{m()},[]);const h=()=>{u({name:"",type:"ANALYTICS",provider:"",config:"",isActive:!0}),c(null)},m=async()=>{try{n(!0);const b=await fe.get("/integrations",{requireAuth:!0}).catch(()=>[]);if(Array.isArray(b)){const w=b.filter(v=>v&&typeof v=="object"&&v.id&&!("error"in v));s(w)}else s([])}catch(b){s([]),e({title:"  ",description:NN(b)||"    .   .",variant:"destructive"})}finally{n(!1)}},p=async b=>{b.preventDefault(),n(!0);try{let w={};if(d.config.trim())try{w=JSON.parse(d.config)}catch{e({title:"  ",description:"     JSON ",variant:"destructive"}),n(!1);return}l?(await fe.put(`/integrations/${encodeURIComponent(l.id)}`,{name:d.name,isActive:d.isActive,config:w},{requireAuth:!0}),e({title:"",description:"   "})):(await fe.post("/integrations",{name:d.name,type:d.type,provider:d.provider,config:w},{requireAuth:!0}),e({title:"",description:"   "})),o(!1),h(),await m()}catch(w){e({title:"  ",description:NN(w)||"    .    .",variant:"destructive"})}finally{n(!1)}},g=b=>{c(b),u({name:b.name,type:b.type,provider:b.provider,config:b.config?JSON.stringify(b.config,null,2):"",isActive:b.isActive}),o(!0)},x=async b=>{if(confirm("      "))try{await fe.delete(`/integrations/${encodeURIComponent(b)}`,{requireAuth:!0}),e({title:"",description:"   "}),await m()}catch(w){console.error("Failed to delete integration:",w),e({title:"  ",description:NN(w)||"    .    .",variant:"destructive"})}},y=async b=>{try{await fe.put(`/integrations/${encodeURIComponent(b.id)}`,{isActive:!b.isActive},{requireAuth:!0}),e({title:"",description:` ${b.isActive?"":""}  `}),await m()}catch(w){e({title:"   ",description:NN(w)||"     .",variant:"destructive"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),r.jsxs(V,{onClick:()=>{h(),o(!0)},children:[r.jsx(rr,{className:"mr-2 h-4 w-4"})," "]})]}),a&&t.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"py-12 text-center",children:[r.jsx(Je,{className:"h-8 w-8 mx-auto animate-spin text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:" ..."})]})}):t.length===0?r.jsx(we,{children:r.jsxs(Se,{className:"py-12 text-center",children:[r.jsx(U2,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"   "}),r.jsxs(V,{onClick:()=>{h(),o(!0)},children:[r.jsx(rr,{className:"mr-2 h-4 w-4"}),"  "]})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(b=>{var w;return r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:r.jsx(U2,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),r.jsxs("div",{children:[r.jsx(it,{children:String(b.name||"")}),r.jsx(Kt,{children:String(b.provider||"")})]})]}),r.jsx(gr,{checked:b.isActive,onCheckedChange:()=>y(b)})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(et,{variant:b.isActive?"default":"secondary",children:b.isActive?"":" "}),r.jsx(et,{variant:"outline",children:((w=xW.find(v=>v.value===b.type))==null?void 0:w.label)||b.type})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(b),children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>x(b.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})]})})]},b.id)})}),r.jsx(ir,{open:i,onOpenChange:o,children:r.jsxs(ar,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:l?" ":"  "}),r.jsx(pr,{children:l?"   ":"   "})]}),r.jsxs("form",{onSubmit:p,children:[r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"name",children:"  *"}),r.jsx(pe,{id:"name",value:d.name,onChange:b=>u({...d,name:b.target.value}),placeholder:": Google Analytics",required:!0})]}),!l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"type",children:"  *"}),r.jsxs(mr,{value:d.type,onValueChange:b=>u({...d,type:b}),children:[r.jsx(dr,{id:"type",children:r.jsx(xr,{placeholder:"  "})}),r.jsx(ur,{children:xW.map(b=>r.jsx(_e,{value:b.value,children:b.label},b.value))})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"provider",children:"  *"}),r.jsx(pe,{id:"provider",value:d.provider,onChange:b=>u({...d,provider:b.target.value}),placeholder:": google_analytics, twilio",required:!l})]})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"config",children:" (JSON)"}),r.jsx(Ys,{id:"config",value:d.config,onChange:b=>u({...d,config:b.target.value}),placeholder:'{"apiKey": "your-key", "apiSecret": "your-secret"}',rows:6,className:"font-mono text-sm"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"    JSON ()"})]}),l&&r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx(gr,{id:"isActive",checked:d.isActive,onCheckedChange:b=>u({...d,isActive:b})}),r.jsx(Y,{htmlFor:"isActive",children:" "})]})]}),r.jsxs(zr,{children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>{o(!1),h()},children:""}),r.jsxs(V,{type:"submit",disabled:a,children:[a&&r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),l?" ":" "]})]})]})]})})]})}function dut(){const{toast:e}=Lt(),[t,s]=f.useState(!1),[a,n]=f.useState({kycEnabled:!1,requireKycForOrders:!1,requireKycForLargePayments:!0,kycThreshold:1e4,requireIdVerification:!1,requireAddressVerification:!1,autoApproveKyc:!1});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await fe.get("/kyc/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{s(!0);try{await fe.put("/kyc/settings",a),e({title:" ",description:"      "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   (KYC)"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(lg,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"    "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:"   "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:a.kycEnabled,onCheckedChange:l=>n({...a,kycEnabled:l})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:a.requireKycForOrders,onCheckedChange:l=>n({...a,requireKycForOrders:l}),disabled:!a.kycEnabled})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),r.jsx(gr,{checked:a.requireKycForLargePayments,onCheckedChange:l=>n({...a,requireKycForLargePayments:l}),disabled:!a.kycEnabled})]}),a.requireKycForLargePayments&&r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"threshold",children:"  ()"}),r.jsx(pe,{id:"threshold",type:"number",value:a.kycThreshold,onChange:l=>n({...a,kycThreshold:parseFloat(l.target.value)||0}),disabled:!a.kycEnabled})]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(yI,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"    "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(gr,{checked:a.requireIdVerification,onCheckedChange:l=>n({...a,requireIdVerification:l}),disabled:!a.kycEnabled})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:"  "}),r.jsx("p",{className:"text-sm text-gray-500",children:"  "})]}),r.jsx(gr,{checked:a.requireAddressVerification,onCheckedChange:l=>n({...a,requireAddressVerification:l}),disabled:!a.kycEnabled})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-sm text-gray-500",children:"    (  )"})]}),r.jsx(gr,{checked:a.autoApproveKyc,onCheckedChange:l=>n({...a,autoApproveKyc:l}),disabled:!a.kycEnabled})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{onClick:o,disabled:t,children:[r.jsx(nn,{className:"mr-2 h-4 w-4"}),t?" ...":""]})})]})}const uut=e=>{const t=e.toLowerCase();return t.includes("enterprise")||t.includes("business")?r.jsx(Uo,{className:"h-8 w-8"}):t.includes("pro")||t.includes("professional")?r.jsx(zn,{className:"h-8 w-8"}):r.jsx(L0,{className:"h-8 w-8"})},hut=(e,t)=>{if(t)return"from-primary to-primary/80";const s=e.toLowerCase();return s.includes("enterprise")||s.includes("business")?"from-purple-500 to-purple-600":s.includes("pro")||s.includes("professional")?"from-blue-500 to-blue-600":"from-slate-500 to-slate-600"},U4=e=>e===void 0||e===-1?" ":e.toLocaleString(),mut=(e,t)=>{var a;return((a={MONTHLY:{en:"/month",ar:"/"},YEARLY:{en:"/year",ar:"/"},LIFETIME:{en:"one-time",ar:" "}}[e])==null?void 0:a[t?"ar":"en"])||e},V4=e=>(typeof e.price=="string"?parseFloat(e.price):e.price)===0;function fut(){const{t:e,i18n:t}=It(),s=t.language==="ar",{user:a}=$s(),{toast:n}=Lt(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState("MONTHLY"),[h,m]=f.useState(null);f.useEffect(()=>{p()},[]);const p=async()=>{var y;try{c(!0);const b=await fe.get("/public/plans",{requireAuth:!1}),v=((b==null?void 0:b.plans)||((y=b==null?void 0:b.data)==null?void 0:y.plans)||(Array.isArray(b)?b:[])).sort((S,j)=>(S.sortOrder||0)-(j.sortOrder||0));o(v)}catch(b){console.error("Failed to load plans:",b),o([])}finally{c(!1)}},g=async y=>{m(y);try{n({title:s?"":"Coming Soon",description:s?"    .   .":"Payment system coming soon. Contact us to upgrade."})}catch(b){n({title:s?"":"Error",description:(b==null?void 0:b.message)||(s?"  ":"Failed to upgrade"),variant:"destructive"})}finally{m(null)}},x=i.filter(y=>y.billingCycle===d||y.billingCycle==="LIFETIME");return l?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold",children:s?" ":"Subscription Plans"}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:s?"    .        .":"Choose the plan that fits your business needs. You can upgrade or change plans anytime."})]}),(a==null?void 0:a.tenantId)&&r.jsxs(Di,{className:"bg-primary/5 border-primary/20",children:[r.jsx(Xr,{className:"h-4 w-4"}),r.jsxs(Oi,{className:"flex items-center justify-between",children:[r.jsxs("span",{children:[s?" : ":"Your current plan: ",r.jsx("strong",{className:"text-primary",children:"STARTER"})]}),r.jsx(et,{variant:"outline",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:s?"":"Active"})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Kn,{value:d,onValueChange:y=>u(y),children:r.jsxs(_n,{className:"grid w-[300px] grid-cols-2",children:[r.jsxs(_r,{value:"MONTHLY",className:"gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"}),s?"":"Monthly"]}),r.jsxs(_r,{value:"YEARLY",className:"gap-2",children:[r.jsx(Jo,{className:"h-4 w-4"}),s?"":"Yearly",r.jsx(et,{className:"bg-green-500 text-white text-xs",children:"-20%"})]})]})})}),x.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:s?"   ":"No Plans Available"}),r.jsx("p",{className:"text-muted-foreground",children:s?"     .   .":"No subscription plans have been added yet. Contact admin."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:x.map(y=>{var b,w,v,S,j,k;return r.jsxs(we,{className:`relative overflow-hidden transition-all hover:shadow-lg ${y.isPopular?"border-primary shadow-primary/20 shadow-lg scale-105":""}`,children:[y.isPopular&&r.jsx("div",{className:"absolute top-0 right-0",children:r.jsxs(et,{className:"rounded-none rounded-bl-lg bg-primary",children:[r.jsx(Jo,{className:"h-3 w-3 mr-1 fill-current"}),s?" ":"Most Popular"]})}),r.jsxs(st,{className:"text-center pb-2",children:[r.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br ${hut(y.name,y.isPopular)} flex items-center justify-center text-white mb-4`,children:uut(y.name)}),r.jsx(it,{className:"text-xl",children:s&&y.nameAr||y.name}),r.jsx(Kt,{children:s&&y.descriptionAr||y.description})]}),r.jsxs(Se,{className:"text-center space-y-6",children:[r.jsx("div",{children:V4(y)?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-4xl font-bold text-green-500",children:s?"":"Free"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:s?"":"Forever"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[r.jsx("span",{className:"text-4xl font-bold",children:y.price}),r.jsx("span",{className:"text-lg text-muted-foreground",children:y.currency})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:mut(y.billingCycle,s)})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[r.jsx(Dt,{className:"h-4 w-4 text-primary"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium",children:U4((b=y.limits)==null?void 0:b.products)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:s?"":"Products"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[r.jsx(wr,{className:"h-4 w-4 text-primary"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium",children:U4((w=y.limits)==null?void 0:w.staff)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:s?"":"Staff"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[r.jsx(Bfe,{className:"h-4 w-4 text-primary"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium",children:[((v=y.limits)==null?void 0:v.storage)||10," GB"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:s?"":"Storage"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[r.jsx(Ya,{className:"h-4 w-4 text-primary"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium",children:U4((S=y.limits)==null?void 0:S.customDomains)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:s?"":"Domains"})]})]})]}),r.jsxs("div",{className:"space-y-2 text-right",children:[(j=s&&y.featuresAr||y.features)==null?void 0:j.slice(0,5).map((N,C)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Za,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),r.jsx("span",{children:N})]},C)),((k=y.features)==null?void 0:k.length)>5&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",y.features.length-5," ",s?" ":"more features"]})]})]}),r.jsx(ah,{children:r.jsx(V,{className:`w-full gap-2 ${V4(y)?"bg-green-600 hover:bg-green-700":""}`,variant:y.isPopular?"default":"outline",onClick:()=>g(y.id),disabled:h===y.id,children:h===y.id?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsxs(r.Fragment,{children:[V4(y)?s?" ":"Start Free":s?"  ":"Choose Plan",r.jsx(ma,{className:"h-4 w-4"})]})})})]},y.id)})}),r.jsxs("div",{className:"mt-12 max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:s?" ":"Frequently Asked Questions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(we,{children:[r.jsx(st,{className:"py-4",children:r.jsx(it,{className:"text-base",children:s?"    ":"Can I change my plan later?"})}),r.jsx(Se,{className:"pt-0 text-sm text-muted-foreground",children:s?"        .     .":"Yes, you can upgrade or downgrade your plan at any time. The difference will be prorated."})]}),r.jsxs(we,{children:[r.jsx(st,{className:"py-4",children:r.jsx(it,{className:"text-base",children:s?"    ":"What payment methods are available?"})}),r.jsx(Se,{className:"pt-0 text-sm text-muted-foreground",children:s?"     Apple Pay  STC Pay.":"We accept all major credit cards, Apple Pay, Mada, and STC Pay."})]}),r.jsxs(we,{children:[r.jsx(st,{className:"py-4",children:r.jsx(it,{className:"text-base",children:s?"    ":"Is there a free trial?"})}),r.jsx(Se,{className:"pt-0 text-sm text-muted-foreground",children:s?"      14    .":"Yes, we offer a 14-day free trial for all paid plans."})]})]})]})]})}function put(){const{toast:e}=Lt(),{t}=It(),[s,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState({tenantId:"",defaultLimitAmount:1e3,tierLimits:{},customerLimitTracking:{},creditCardTracking:{},enableCreditCardTracking:!0,enablePurchaseCountIncrease:!0}),[c,d]=f.useState([]),[u,h]=f.useState({tierId:"",tierName:"",baseLimit:5e3,increasePerPurchase:100}),m=f.useCallback(async()=>{try{a(!0);const w=await fe.get("/dashboard/purchase-limits",{requireAuth:!0});l(w);const v=Object.entries(w.tierLimits||{}).map(([S,j])=>({tierId:S,tierName:S,baseLimit:j.baseLimit,increasePerPurchase:j.increasePerPurchase}));d(v)}catch(w){console.error("Failed to load limits:",w),e({title:t("common.error","Error"),description:t("dashboard.limits.loadError","Failed to load limit settings"),variant:"destructive"})}finally{a(!1)}},[t,e]),p=f.useCallback(async()=>{try{await fe.get("/dashboard/customer-tiers",{requireAuth:!0}).catch(()=>[])}catch(w){console.error("Failed to load customer tiers:",w)}},[]);f.useEffect(()=>{m(),p()},[m,p]);const g=async()=>{try{i(!0);const w={};c.forEach(S=>{S.tierId&&(w[S.tierId]={baseLimit:S.baseLimit,increasePerPurchase:S.increasePerPurchase})});const v={...o,tierLimits:w};await fe.put("/dashboard/purchase-limits",v,{requireAuth:!0}),e({title:t("common.success","Success"),description:t("dashboard.limits.saveSuccess","Limits saved successfully"),variant:"default"}),await m()}catch(w){console.error("Failed to save limits:",w),e({title:t("common.error","Error"),description:t("dashboard.limits.saveError","Failed to save limit settings"),variant:"destructive"})}finally{i(!1)}},x=()=>{if(!u.tierId||!u.tierName){e({title:"",description:"     ",variant:"destructive"});return}if(c.find(v=>v.tierId===u.tierId)){e({title:"",description:"   ",variant:"destructive"});return}d([...c,{tierId:u.tierId,tierName:u.tierName,baseLimit:u.baseLimit||5e3,increasePerPurchase:u.increasePerPurchase||100}]),h({tierId:"",tierName:"",baseLimit:5e3,increasePerPurchase:100})},y=w=>{d(c.filter(v=>v.tierId!==w))},b=(w,v,S)=>{d(c.map(j=>j.tierId===w?{...j,[v]:S}:j))};return s?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"        "})]}),r.jsxs(Di,{children:[r.jsx(Pb,{className:"h-4 w-4"}),r.jsx(S0,{children:"  "}),r.jsx(Oi,{children:r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[r.jsx("li",{children:"  /  verified   "}),r.jsx("li",{children:"  verified    "}),r.jsx("li",{children:"         "}),r.jsx("li",{children:"             "})]})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"        verified"})]}),r.jsx(Se,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"defaultLimit",children:"  (.)"}),r.jsx(pe,{id:"defaultLimit",type:"number",value:o.defaultLimitAmount,onChange:w=>l({...o,defaultLimitAmount:Number(w.target.value)}),min:"0",step:"0.01"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"       /  verified "})]})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:"  (Tiers)"}),r.jsx(Kt,{children:"        "})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsx("div",{className:"space-y-4",children:c.map(w=>r.jsxs("div",{className:"flex gap-4 items-end p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{children:[r.jsx(Y,{children:t("dashboard.limits.tierId","Tier ID")}),r.jsx(pe,{value:w.tierId,onChange:v=>b(w.tierId,"tierId",v.target.value),disabled:!0})]}),r.jsxs("div",{children:[r.jsx(Y,{children:t("dashboard.limits.tierName","Tier Name")}),r.jsx(pe,{value:w.tierName,onChange:v=>b(w.tierId,"tierName",v.target.value)})]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{children:[r.jsx(Y,{children:t("dashboard.limits.baseLimit","Base Limit (SAR)")}),r.jsx(pe,{type:"number",value:w.baseLimit,onChange:v=>b(w.tierId,"baseLimit",Number(v.target.value)),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:t("dashboard.limits.increasePerPurchase","Increase Per Purchase (SAR)")}),r.jsx(pe,{type:"number",value:w.increasePerPurchase,onChange:v=>b(w.tierId,"increasePerPurchase",Number(v.target.value)),min:"0",step:"0.01"})]})]}),r.jsx(V,{variant:"destructive",size:"icon",onClick:()=>y(w.tierId),children:r.jsx(Sr,{className:"h-4 w-4"})})]},w.tierId))}),r.jsx(Js,{}),r.jsxs("div",{className:"space-y-4 p-4 border border-dashed rounded-lg",children:[r.jsx("h3",{className:"font-semibold",children:t("dashboard.limits.addNewTier","Add New Tier")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"newTierId",children:t("dashboard.limits.tierId","Tier ID")}),r.jsx(pe,{id:"newTierId",value:u.tierId,onChange:w=>h({...u,tierId:w.target.value}),placeholder:"tier-1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"newTierName",children:t("dashboard.limits.tierName","Tier Name")}),r.jsx(pe,{id:"newTierName",value:u.tierName,onChange:w=>h({...u,tierName:w.target.value}),placeholder:"VIP"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"newBaseLimit",children:t("dashboard.limits.baseLimit","Base Limit (SAR)")}),r.jsx(pe,{id:"newBaseLimit",type:"number",value:u.baseLimit,onChange:w=>h({...u,baseLimit:Number(w.target.value)}),min:"0",step:"0.01"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"newIncrease",children:t("dashboard.limits.increasePerPurchase","Increase Per Purchase (SAR)")}),r.jsx(pe,{id:"newIncrease",type:"number",value:u.increasePerPurchase,onChange:w=>h({...u,increasePerPurchase:Number(w.target.value)}),min:"0",step:"0.01"})]})]}),r.jsxs(V,{onClick:x,variant:"outline",children:[r.jsx(rr,{className:"h-4 w-4 ml-2"}),t("dashboard.limits.addTier","Add Tier")]})]})]})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:t("dashboard.limits.advancedSettings","Advanced Settings")}),r.jsx(Kt,{children:t("dashboard.limits.advancedSettingsDesc","Enable or disable limit tracking features")})]}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:t("dashboard.limits.enablePurchaseCountIncrease","Enable Limit Increase Based on Purchase Count")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.limits.enablePurchaseCountIncreaseDesc","When enabled, the customer limit will automatically increase with each successful purchase")})]}),r.jsx(gr,{checked:o.enablePurchaseCountIncrease,onCheckedChange:w=>l({...o,enablePurchaseCountIncrease:w})})]}),r.jsx(Js,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Y,{children:t("dashboard.limits.enableCreditCardTracking","Enable Credit Card Tracking")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.limits.enableCreditCardTrackingDesc","When enabled, if the same credit card is used by another customer, the default limit will be applied")})]}),r.jsx(gr,{checked:o.enableCreditCardTracking,onCheckedChange:w=>l({...o,enableCreditCardTracking:w})})]})]})]}),r.jsx("div",{className:"flex justify-end gap-4",children:r.jsx(V,{onClick:g,disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 ml-2 animate-spin"}),t("dashboard.limits.saving","Saving...")]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"h-4 w-4 ml-2"}),t("dashboard.limits.save","Save Changes")]})})})]})}const gE={async getTemplates(e){const t=new URLSearchParams;return e!=null&&e.category&&t.append("category",e.category),(e==null?void 0:e.isDefault)!==void 0&&t.append("isDefault",e.isDefault.toString()),e!=null&&e.search&&t.append("search",e.search),Q.fetch(`${Q.coreUrl}/templates?${t.toString()}`)},async getTemplateById(e){return Q.fetch(`${Q.coreUrl}/templates/${encodeURIComponent(e)}`)},async applyTemplate(e,t){return Q.fetch(`${Q.coreUrl}/templates/apply/${encodeURIComponent(t)}/to-page/${encodeURIComponent(e)}`,{method:"POST",requireAuth:!0})}},xut={fashion:"bg-gradient-to-br from-pink-500 to-rose-500",electronics:"bg-gradient-to-br from-blue-500 to-indigo-500",food:"bg-gradient-to-br from-orange-500 to-red-500",beauty:"bg-gradient-to-br from-purple-500 to-pink-500",home:"bg-gradient-to-br from-green-500 to-emerald-500",digital:"bg-gradient-to-br from-indigo-500 to-purple-500"},gW={fashion:"",electronics:"",food:"",beauty:"",home:"",digital:""};function gut(){const{t:e,i18n:t}=It(),[s,a]=f.useState([]),n={"Restaurant & Cafe":"restaurantAndCafe","Services Business":"servicesBusiness","Digital Cards":"digitalCards","Simple Store":"simpleStore","Blank Template":"blankTemplate","Landing Page":"landingPage",Vibrant:"vibrant",Minimal:"minimal","Modern Store":"modernStore",Classic:"classic","Dark Mode":"darkMode","Light Mode":"lightMode","Beauty & Cosmetics":"beautyAndCosmetics","Home & Furniture":"homeAndFurniture","Fashion Store":"fashionStore","Electronics Shop":"electronicsShop","Food & Beverage":"foodAndBeverage"},i={"Elegant template for restaurants and cafes":"restaurantDesc","Professional template for service-based businesses":"servicesDesc","Complete digital cards marketplace template with instant delivery features":"digitalCardsDesc","Clean and simple store template":"simpleStoreDesc","Start from scratch":"blankDesc","High conversion landing page":"landingPageDesc","A colorful and energetic theme perfect for creative brands":"vibrantDesc","A minimalist theme focusing on simplicity and elegance":"minimalDesc","A clean and modern e-commerce theme with a professional look":"modernStoreDesc","Elegant, minimalist design for beauty products":"beautyDesc","Clean, spacious layout for furniture and home decor":"homeDesc","Modern, image-heavy design perfect for fashion retailers":"fashionDesc","Tech-focused design with product grid layout":"electronicsDesc","Warm, appetizing design for restaurants and food businesses":"foodDesc","Complete digital cards store with instant delivery":"digitalCardsShortDesc"},o={"Restaurant & Cafe":" ","Services Business":" ","Digital Cards":" ","Simple Store":" ","Blank Template":" ","Landing Page":" ",Vibrant:"",Minimal:"","Modern Store":" ",Classic:"","Dark Mode":" ","Light Mode":" ","Beauty & Cosmetics":"  ","Home & Furniture":" ","Fashion Store":" ","Electronics Shop":" ","Food & Beverage":" "},l={"Elegant template for restaurants and cafes":"   ","Professional template for service-based businesses":"     ","Complete digital cards marketplace template with instant delivery features":"        ","Clean and simple store template":"   ","Start from scratch":"  ","High conversion landing page":"   ","A colorful and energetic theme perfect for creative brands":"      ","A minimalist theme focusing on simplicity and elegance":"     ","A clean and modern e-commerce theme with a professional look":"      ","Elegant, minimalist design for beauty products":"    ","Clean, spacious layout for furniture and home decor":"     ","Modern, image-heavy design perfect for fashion retailers":"          ","Tech-focused design with product grid layout":"       ","Warm, appetizing design for restaurants and food businesses":"      ","Complete digital cards store with instant delivery":"      "},c=k=>{if(!k)return"";const N=k.trim();if(t.language.startsWith("ar")){if(o[N])return o[N];const A=N.toLowerCase(),E=Object.keys(o).find(D=>D.toLowerCase()===A);if(E)return o[E];if(N.includes("&")){const D=N.replace(/&amp;/g,"&");if(o[D])return o[D]}}let C=n[N];if(!C){const A=N.toLowerCase(),E=Object.keys(n).find(D=>D.toLowerCase()===A);E&&(C=n[E])}if(!C&&N.includes("&")){const A=N.replace(/&amp;/g,"&");C=n[A]}return C?e(`dashboard.design.themes.${C}`):e(`dashboard.design.themes.${k}`,{defaultValue:k})},d=k=>{if(!k)return"";const N=k.trim();if(t.language.startsWith("ar")){if(l[N])return l[N];const A=N.toLowerCase(),E=Object.keys(l).find(D=>D.toLowerCase()===A);if(E)return l[E]}let C=i[N];if(!C){const A=N.toLowerCase(),E=Object.keys(i).find(D=>D.toLowerCase()===A);E&&(C=i[E])}return C?e(`dashboard.design.themeDescriptions.${C}`):e(`dashboard.design.themeDescriptions.${k}`,{defaultValue:k})},[u,h]=f.useState(!0),[m,p]=f.useState(""),[g,x]=f.useState(null),y=ts(),{toast:b}=Lt(),w=k=>{const C=`dashboard.templates.categories.${(k==null?void 0:k.toLowerCase())||"general"}`,A=e(C);return A===C||A.includes("dashboard.templates.categories")?k:A},v=f.useCallback(async()=>{h(!0);try{const k=await gE.getTemplates({category:g||void 0,search:m||void 0});console.log("Templates loaded:",k),a(Array.isArray(k)?k:[])}catch(k){console.error("Failed to load templates:",k),b({title:e("common.error"),description:e("dashboard.templates.loadError"),variant:"destructive"}),a([])}finally{h(!1)}},[g,m,b,e]);f.useEffect(()=>{v()},[v]);const S=[{value:"fashion",label:e("dashboard.templates.categories.fashion"),icon:""},{value:"electronics",label:e("dashboard.templates.categories.electronics"),icon:""},{value:"food",label:e("dashboard.templates.categories.food"),icon:""},{value:"beauty",label:e("dashboard.templates.categories.beauty"),icon:""},{value:"home",label:e("dashboard.templates.categories.home"),icon:""},{value:"digital",label:e("dashboard.templates.categories.digital"),icon:""}],j=k=>{y(`/builder/new?templateId=${encodeURIComponent(k.id)}`)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:e("dashboard.templates.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.templates.subtitle")})]}),r.jsxs(V,{size:"lg",onClick:()=>y("/builder/new"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all",children:[r.jsx(rr,{className:"w-5 h-5 mr-2"}),e("dashboard.templates.createNew")]})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx(Mr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(pe,{type:"text",placeholder:e("dashboard.templates.searchPlaceholder"),value:m,onChange:k=>p(k.target.value),className:"pl-12 h-12 text-lg border-2 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-700"})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx(V,{variant:g===null?"default":"outline",size:"lg",onClick:()=>x(null),className:g===null?"bg-gradient-to-r from-blue-600 to-purple-600":"",children:e("dashboard.templates.allTemplates")}),S.map(k=>r.jsxs(V,{variant:g===k.value?"default":"outline",size:"lg",onClick:()=>x(k.value),className:g===k.value?"bg-gradient-to-r from-blue-600 to-purple-600":"",children:[r.jsx("span",{className:"mr-2",children:k.icon}),k.label]},k.value))]})]}),u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.templates.loading")})]})}):s.length===0?r.jsx(we,{className:"text-center py-16",children:r.jsxs(Se,{children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-2xl font-semibold mb-2",children:e("dashboard.templates.noTemplates")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e(m||g?"dashboard.templates.adjustSearch":"dashboard.templates.noTemplatesAvailable")}),r.jsxs(V,{onClick:()=>y("/builder/new"),children:[r.jsx(rr,{className:"w-4 h-4 mr-2"}),e("dashboard.templates.createCustom")]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(k=>{var N;return r.jsxs(we,{className:"group overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-blue-500 dark:hover:border-blue-400",onClick:()=>j(k),children:[r.jsxs("div",{className:`h-48 relative ${xut[k.category]||"bg-gradient-to-br from-gray-400 to-gray-600"} overflow-hidden`,children:[k.thumbnail?r.jsx("img",{src:k.thumbnail,alt:k.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-7xl mb-2",children:gW[k.category]||""}),r.jsx("p",{className:"text-sm font-medium opacity-90",children:k.category})]})}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all duration-300 flex items-center justify-center",children:r.jsxs(V,{size:"lg",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white text-gray-900 hover:bg-gray-100",children:[r.jsx(bs,{className:"w-5 h-5 mr-2"}),e("dashboard.templates.useTemplate")]})}),k.isDefault&&r.jsx(et,{variant:"default",className:"absolute top-3 right-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg z-10",children:e("dashboard.templates.official")})]}),r.jsx(st,{children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx(it,{className:"text-xl group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:c(k.name)}),r.jsx(Kt,{className:"mt-2 line-clamp-2",children:d(k.description)||e("dashboard.templates.professionalDesc")})]})})}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(et,{variant:"outline",className:"capitalize",children:[gW[(N=k.category)==null?void 0:N.toLowerCase()]||""," ",w(k.category)]}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(k.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US")})]})})]},k.id)})})]})})}function vW(){const e=ts(),{toast:t}=Lt(),{t:s,i18n:a}=It(),n=a.language==="ar",{user:i,loading:o,refreshUser:l}=$s(),[c,d]=f.useState(null),[u,h]=f.useState(!0),[m,p]=f.useState(!1),[g,x]=f.useState({name:"",description:"",subdomain:""}),[y,b]=f.useState([]),[w,v]=f.useState(!1),[S,j]=f.useState(null),[k,N]=f.useState(!1);f.useEffect(()=>{(()=>{var O,M;const P=localStorage.getItem("accessToken")||((O=document.cookie.split("; ").find(I=>I.startsWith("accessToken=")))==null?void 0:O.split("=")[1]),_=localStorage.getItem("refreshToken")||((M=document.cookie.split("; ").find(I=>I.startsWith("refreshToken=")))==null?void 0:M.split("=")[1]);!P&&!_&&!o&&(console.warn("[MarketSetup] No authentication tokens found, redirecting to login"),t({title:n?"  ":"Please Log In",description:n?"      ":"You must be logged in to create a store",variant:"destructive"}),setTimeout(()=>{e("/login",{replace:!0})},1500))})()},[o,e,t,n]),f.useEffect(()=>{(async()=>{if(!o&&i)try{h(!0);const P=await eo.canCreateMarket();d(P),!i.tenantId&&!P.allowed&&t({title:n?"":"Error",description:n?"   .   .":"Cannot create store. Please contact support.",variant:"destructive"})}catch(P){console.error("Failed to check market limit:",P),d({allowed:!0,currentCount:0,limit:2})}finally{h(!1)}})()},[i,o,e,t,n]);const C=T=>{if(!T||!T.trim())return`store-${Date.now().toString().slice(-6)}`;let P=T.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-+|-+$/g,"");if(!P||P.length<3){const _=T.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,5),O=Date.now().toString().slice(-6);P=_&&_.length>=2?`${_}-${O}`:`store-${O}`}return P.length>63&&(P=P.substring(0,63),P=P.replace(/-+$/,"")),(!/^[a-z0-9-]+$/.test(P)||P.length<3)&&(P=`store${Date.now().toString().slice(-8)}`),P};f.useEffect(()=>{if(!g.name||g.name.trim().length<3){x(P=>({...P,subdomain:""})),j(null),b([]),N(!1);return}const T=setTimeout(async()=>{const P=C(g.name);if(!(P.length<3)){v(!0);try{const _=await Q.get(`/public/check-subdomain?subdomain=${encodeURIComponent(P)}`);_.available?(j(!0),x(O=>({...O,subdomain:P})),b([]),N(!1)):(j(!1),b(_.suggestions||[]),N(!0),x(O=>({...O,subdomain:""})))}catch(_){console.error("Failed to check subdomain:",_),j(!0),x(O=>({...O,subdomain:P})),b([]),N(!1)}finally{v(!1)}}},600);return()=>clearTimeout(T)},[g.name]);const A=(T,P)=>{x(_=>({..._,[T]:P}))},E=T=>{x(P=>({...P,subdomain:T})),j(!0),N(!1)},D=async()=>{var T,P,_;if(!g.name.trim()){t({title:n?"":"Error",description:n?"   ":"Please enter store name",variant:"destructive"});return}if(!g.subdomain||!g.subdomain.trim()){t({title:n?"":"Error",description:n?"    (Subdomain)":"Please select a store subdomain",variant:"destructive"});return}if(!/^[a-z0-9-]+$/.test(g.subdomain)||g.subdomain.length<3){t({title:n?"":"Error",description:n?"   ":"Invalid subdomain format",variant:"destructive"});return}p(!0);try{await NC.setupMarket({name:g.name.trim(),description:g.description.trim()||void 0,subdomain:g.subdomain.trim()}),await l(),t({title:n?"!":"Success!",description:n?"   !":"Store created successfully!"}),setTimeout(()=>{e("/dashboard")},1500)}catch(O){if(console.error("Error creating market:",O),(O==null?void 0:O.status)===409||(T=O==null?void 0:O.message)!=null&&T.includes("Conflict")||(P=O==null?void 0:O.message)!=null&&P.includes("taken")){j(!1),N(!0),x(L=>({...L,subdomain:""}));const I=C(g.name),R=[`${I}-store`,`${I}-shop`,`${I}-${Math.floor(Math.random()*999)}`];b(R),t({title:n?"":"Sorry",description:n?"       ":"This subdomain is already taken, please choose another one",variant:"destructive"});return}let M="";if(typeof(O==null?void 0:O.message)=="string"&&(M=O.message,M.trim().startsWith("{")))try{const I=JSON.parse(M);M=I.message||I.error||M}catch{}if(!M&&((_=O==null?void 0:O.data)!=null&&_.message)){const I=O.data.message;Array.isArray(I)?M=I.join(", "):typeof I=="object"&&I!==null?M=I.message||JSON.stringify(I):I&&(M=String(I))}else!M&&typeof(O==null?void 0:O.data)=="string"&&(M=O.data);(!M||M==="An error occurred"||M==="[object Object]")&&(M=n?"  .       .":"Failed to create store. Please check the data and try again."),typeof M!="string"&&(M=JSON.stringify(M)),t({title:n?"":"Failed",description:M,variant:"destructive"})}finally{p(!1)}};if(o||u)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center",children:r.jsx(we,{className:"w-full max-w-md",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"}),r.jsx("p",{className:"text-muted-foreground",children:n?" ...":"Loading..."})]})})})});if(c&&!c.allowed){const T=(i==null?void 0:i.tenantId)&&i.tenantId!=="default";return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:r.jsxs(we,{className:"w-full max-w-md",children:[r.jsxs(st,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(Xs,{className:"h-8 w-8 text-amber-600 dark:text-amber-400"})}),r.jsx(it,{className:"text-2xl",children:n?"   ":"Market Limit Reached"}),r.jsx(Kt,{className:"text-base",children:n?` ${c.currentCount}  ${c.limit} .    .`:`You have ${c.currentCount} of ${c.limit} markets. To upgrade, please contact support.`})]}),r.jsx(Se,{className:"space-y-3",children:T?r.jsx(V,{onClick:()=>e("/dashboard",{replace:!0}),className:"w-full",children:n?"   ":"Back to Dashboard"}):r.jsx("p",{className:"text-center text-muted-foreground text-sm",children:n?"     .":"Please contact support to resolve this issue."})})]})})}return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:r.jsxs(we,{className:"w-full max-w-2xl",children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(xs,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx(it,{className:"text-2xl",children:n?"  ":"Create New Store"}),r.jsx(Kt,{children:c?n?` ${c.currentCount}  ${c.limit} `:`You have ${c.currentCount} of ${c.limit} stores`:""})]})]})}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"name",children:[n?" ":"Store Name"," *"]}),r.jsx(pe,{id:"name",placeholder:n?":  ":"e.g. Electronics Store",value:g.name,onChange:T=>A("name",T.target.value),disabled:m})]}),g.name.trim()&&r.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Y,{className:"text-sm font-semibold",children:[n?"  (Subdomain)":"Store Subdomain"," *"]}),w?r.jsx(Je,{className:"h-4 w-4 animate-spin text-primary"}):S?r.jsx(va,{className:"h-4 w-4 text-success"}):S===!1?r.jsx(Xs,{className:"h-4 w-4 text-destructive"}):null]}),g.subdomain&&S&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background rounded-lg border border-success/20",children:[r.jsxs("span",{className:"font-mono text-sm font-semibold text-foreground",children:[g.subdomain,".saeaa.com"]}),r.jsx(va,{className:"h-4 w-4 text-success flex-shrink-0"})]}),k&&y.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-destructive font-medium",children:n?"       :":"This subdomain is taken, please choose one of the following:"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.slice(0,3).map(T=>r.jsx(V,{type:"button",variant:g.subdomain===T?"default":"outline",className:"h-auto py-3 justify-start",onClick:()=>E(T),disabled:m,children:r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsxs("span",{className:"font-mono text-sm",children:[T,".saeaa.com"]}),g.subdomain===T&&r.jsx(va,{className:"h-4 w-4 text-success"})]})},T))})]}),w&&r.jsx("p",{className:"text-xs text-muted-foreground",children:n?"    ...":"Checking availability..."}),!g.subdomain&&!w&&!k&&r.jsx("p",{className:"text-xs text-muted-foreground",children:n?"      ":"Subdomain will be automatically generated from store name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"description",children:n?" ":"Store Description"}),r.jsx(Ys,{id:"description",placeholder:n?"    ...":"Write a brief description about your store...",value:g.description,onChange:T=>A("description",T.target.value),disabled:m,className:"min-h-[100px]"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>e("/dashboard"),disabled:m,children:n?"":"Cancel"}),r.jsx(V,{onClick:D,disabled:m,children:m?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin mr-2"}),n?" ...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xs,{className:"h-4 w-4 mr-2"}),n?" ":"Create Store"]})})]})]})]})})}function yW(){const{toast:e}=Lt(),[t,s]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(!1),l=f.useCallback(async()=>{var w,v,S,j,k,N;try{const C=await fe.get("/site-config",{requireAuth:!0}),A={header:{links:[]},footer:{links:[],socialMedia:{},copyrightText:" 2025 All rights reserved",copyrightTextAr:" 2025   "}};s({header:{links:((w=C==null?void 0:C.header)==null?void 0:w.links)||A.header.links,logo:(v=C==null?void 0:C.header)==null?void 0:v.logo},footer:{links:((S=C==null?void 0:C.footer)==null?void 0:S.links)||A.footer.links,socialMedia:((j=C==null?void 0:C.footer)==null?void 0:j.socialMedia)||A.footer.socialMedia,copyrightText:((k=C==null?void 0:C.footer)==null?void 0:k.copyrightText)||A.footer.copyrightText,copyrightTextAr:((N=C==null?void 0:C.footer)==null?void 0:N.copyrightTextAr)||A.footer.copyrightTextAr}})}catch(C){console.error("Failed to load navigation config:",C),e({title:"   ",description:"     .   .",variant:"destructive"})}finally{n(!1)}},[e]);f.useEffect(()=>{l()},[l]);const c=()=>{if(!t)return;const w={id:Date.now().toString(),label:"New Link",labelAr:" ",url:"/",openInNewTab:!1,order:t.header.links.length,type:"link",children:[]};s({...t,header:{...t.header,links:[...t.header.links,w]}})},d=(w,v,S)=>{t&&s({...t,header:{...t.header,links:t.header.links.map(j=>j.id===w?{...j,[v]:S}:j)}})},u=w=>{t&&s({...t,header:{...t.header,links:t.header.links.filter(v=>v.id!==w)}})},h=(w,v)=>{if(!t)return;const S=[...t.header.links],j=S.findIndex(k=>k.id===w);j!==-1&&(v==="up"&&j>0?[S[j],S[j-1]]=[S[j-1],S[j]]:v==="down"&&j<S.length-1&&([S[j],S[j+1]]=[S[j+1],S[j]]),S.forEach((k,N)=>{k.order=N}),s({...t,header:{...t.header,links:S}}))},m=()=>{if(!t)return;const w={id:Date.now().toString(),label:"New Link",labelAr:" ",url:"/",openInNewTab:!1,order:t.footer.links.length};s({...t,footer:{...t.footer,links:[...t.footer.links,w]}})},p=(w,v,S)=>{t&&s({...t,footer:{...t.footer,links:t.footer.links.map(j=>j.id===w?{...j,[v]:S}:j)}})},g=w=>{t&&s({...t,footer:{...t.footer,links:t.footer.links.filter(v=>v.id!==w)}})},x=(w,v)=>{if(!t)return;const S=[...t.footer.links],j=S.findIndex(k=>k.id===w);j!==-1&&(v==="up"&&j>0?[S[j],S[j-1]]=[S[j-1],S[j]]:v==="down"&&j<S.length-1&&([S[j],S[j+1]]=[S[j+1],S[j]]),S.forEach((k,N)=>{k.order=N}),s({...t,footer:{...t.footer,links:S}}))},y=(w,v)=>{t&&s({...t,footer:{...t.footer,socialMedia:{...t.footer.socialMedia,[w]:v}}})},b=async()=>{var w;if(t){o(!0);try{const v={header:t.header||{links:[]},footer:t.footer||{links:[],socialMedia:{}}};await fe.post("/site-config",v,{requireAuth:!0}),e({title:"",description:"    "})}catch(v){console.error("Failed to save navigation config:",v);const S=(v==null?void 0:v.message)||((w=v==null?void 0:v.data)==null?void 0:w.message)||"     .    .";e({title:"   ",description:S,variant:"destructive"})}finally{o(!1)}}};return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Je,{className:"animate-spin w-12 h-12 text-primary"})}):r.jsxs("div",{className:"space-y-6 pb-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),r.jsx(V,{onClick:b,disabled:i,size:"lg",className:"gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4"})," "]})})]}),r.jsxs(Kn,{defaultValue:"header",className:"w-full",children:[r.jsxs(_n,{className:"grid w-full max-w-md grid-cols-2",children:[r.jsx(_r,{value:"header",children:" "}),r.jsx(_r,{value:"footer",children:" "})]}),r.jsx(Yr,{value:"header",className:"space-y-4",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sh,{className:"w-5 h-5"}),r.jsx(it,{children:" "})]}),r.jsx(Kt,{className:"mt-1",children:"     "})]}),r.jsxs(V,{onClick:c,className:"gap-2",children:[r.jsx(rr,{className:"h-4 w-4"})," "]})]})}),r.jsx(Se,{className:"space-y-4",children:(t==null?void 0:t.header.links.length)===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Wf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"    "}),r.jsxs(V,{onClick:c,variant:"outline",className:"mt-4",children:[r.jsx(rr,{className:"h-4 w-4 ml-2"}),"  "]})]}):t==null?void 0:t.header.links.map((w,v)=>{var S;return r.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Y,{className:"font-semibold",children:[" #",v+1]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>h(w.id,"up"),disabled:v===0,children:r.jsx(g6,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>h(w.id,"down"),disabled:v===t.header.links.length-1,children:r.jsx(x6,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>u(w.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-600"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs",children:" (English)"}),r.jsx(pe,{value:w.label,onChange:j=>d(w.id,"label",j.target.value),placeholder:"Home"})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs",children:" ()"}),r.jsx(pe,{value:w.labelAr,onChange:j=>d(w.id,"labelAr",j.target.value),placeholder:""})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Y,{className:"text-xs",children:""}),r.jsxs(mr,{value:w.type||"link",onValueChange:j=>d(w.id,"type",j),children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"link",children:" "}),r.jsx(_e,{value:"dropdown",children:" "})]})]})]}),w.type!=="dropdown"&&r.jsxs("div",{className:"flex-[2]",children:[r.jsx(Y,{className:"text-xs",children:" (URL)"}),r.jsx(pe,{value:w.url,onChange:j=>d(w.id,"url",j.target.value),placeholder:"/about"})]})]}),w.type==="dropdown"&&r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Y,{className:"text-xs font-semibold",children:" "}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{var N;const j={id:Date.now().toString(),label:"New Item",labelAr:" ",url:"/",openInNewTab:!1,order:((N=w.children)==null?void 0:N.length)||0,type:"link"},k=[...w.children||[],j];d(w.id,"children",k)},children:[r.jsx(rr,{className:"h-3 w-3 mr-1"})," "]})]}),r.jsxs("div",{className:"space-y-2",children:[(S=w.children)==null?void 0:S.map((j,k)=>r.jsxs("div",{className:"flex gap-2 items-start",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1",children:[r.jsx(pe,{value:j.label,onChange:N=>{const C=[...w.children||[]];C[k]={...j,label:N.target.value},d(w.id,"children",C)},placeholder:"Name",className:"h-8 text-xs"}),r.jsx(pe,{value:j.labelAr,onChange:N=>{const C=[...w.children||[]];C[k]={...j,labelAr:N.target.value},d(w.id,"children",C)},placeholder:"",className:"h-8 text-xs"}),r.jsx(pe,{value:j.url,onChange:N=>{const C=[...w.children||[]];C[k]={...j,url:N.target.value},d(w.id,"children",C)},placeholder:"URL",className:"col-span-2 h-8 text-xs"})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{const N=(w.children||[]).filter((C,A)=>A!==k);d(w.id,"children",N)},children:r.jsx(Sr,{className:"h-3 w-3 text-red-500"})})]},j.id)),(!w.children||w.children.length===0)&&r.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"  "})]})]})]},w.id)})})]})}),r.jsxs(Yr,{value:"footer",className:"space-y-4",children:[r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wf,{className:"w-5 h-5"}),r.jsx(it,{children:" "})]}),r.jsx(Kt,{className:"mt-1",children:"     "})]}),r.jsxs(V,{onClick:m,className:"gap-2",children:[r.jsx(rr,{className:"h-4 w-4"})," "]})]})}),r.jsx(Se,{className:"space-y-4",children:(t==null?void 0:t.footer.links.length)===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Wf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"    "}),r.jsxs(V,{onClick:m,variant:"outline",className:"mt-4",children:[r.jsx(rr,{className:"h-4 w-4 ml-2"}),"  "]})]}):t==null?void 0:t.footer.links.map((w,v)=>r.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Y,{className:"font-semibold",children:[" #",v+1]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>x(w.id,"up"),disabled:v===0,children:r.jsx(g6,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>x(w.id,"down"),disabled:v===t.footer.links.length-1,children:r.jsx(x6,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>g(w.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-600"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs",children:" (English)"}),r.jsx(pe,{value:w.label,onChange:S=>p(w.id,"label",S.target.value),placeholder:"About Us"})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs",children:" ()"}),r.jsx(pe,{value:w.labelAr,onChange:S=>p(w.id,"labelAr",S.target.value),placeholder:" "})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs",children:" (URL)"}),r.jsx(pe,{value:w.url,onChange:S=>p(w.id,"url",S.target.value),placeholder:"/about"})]})]},w.id))})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:"  "}),r.jsx(Kt,{children:"     "})]}),r.jsxs(Se,{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Y,{children:"Facebook"}),r.jsx(pe,{value:(t==null?void 0:t.footer.socialMedia.facebook)||"",onChange:w=>y("facebook",w.target.value),placeholder:"https://facebook.com/yourpage"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"Twitter / X"}),r.jsx(pe,{value:(t==null?void 0:t.footer.socialMedia.twitter)||"",onChange:w=>y("twitter",w.target.value),placeholder:"https://twitter.com/yourhandle"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"Instagram"}),r.jsx(pe,{value:(t==null?void 0:t.footer.socialMedia.instagram)||"",onChange:w=>y("instagram",w.target.value),placeholder:"https://instagram.com/yourhandle"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"YouTube"}),r.jsx(pe,{value:(t==null?void 0:t.footer.socialMedia.youtube)||"",onChange:w=>y("youtube",w.target.value),placeholder:"https://youtube.com/@yourchannel"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"TikTok"}),r.jsx(pe,{value:(t==null?void 0:t.footer.socialMedia.tiktok)||"",onChange:w=>y("tiktok",w.target.value),placeholder:"https://tiktok.com/@yourhandle"})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:"  "})}),r.jsxs(Se,{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Y,{children:"Copyright Text (English)"}),r.jsx(pe,{value:(t==null?void 0:t.footer.copyrightText)||"",onChange:w=>s(t?{...t,footer:{...t.footer,copyrightText:w.target.value}}:null),placeholder:" 2025 All rights reserved"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:"   ()"}),r.jsx(pe,{value:(t==null?void 0:t.footer.copyrightTextAr)||"",onChange:w=>s(t?{...t,footer:{...t.footer,copyrightTextAr:w.target.value}}:null),placeholder:" 2025   "})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:r.jsx(V,{onClick:b,disabled:i,size:"lg",className:"gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4"})," "]})})})]})}function vut(){const{user:e}=$s(),{toast:t}=Lt(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!0),[m,p]=f.useState(null),g=f.useRef(null),[x,y]=f.useState("");f.useEffect(()=>{if(!e)return;const A=localStorage.getItem("token"),D="https://saeaa.net/api".replace(/\/api$/,"")||"http://localhost:3002",T=Ly(`${D}/chat`,{auth:{token:A},transports:["websocket","polling"]});return T.on("connect",()=>{console.log(" Connected to chat server")}),T.on("message",P=>{a(_=>[..._,P]),j()}),T.on("connect_error",P=>{console.error(" Socket connection error:",P),t({variant:"destructive",title:" ",description:"    .    ."})}),p(T),()=>{T.disconnect()}},[e,t]);const b=f.useCallback(async()=>{try{h(!0);const A=await fe.get("/chat",{requireAuth:!0});a(A||[]),j()}catch(A){console.error("Failed to load messages:",A),t({variant:"destructive",title:"  ",description:"    .   ."})}finally{h(!1)}},[t]),w=f.useCallback(async()=>{try{const A=await fe.get("/user/list",{requireAuth:!0});let E=[];A&&typeof A=="object"&&(Array.isArray(A)?E=A:A.data&&Array.isArray(A.data)?E=A.data:A.users&&Array.isArray(A.users)&&(E=A.users));const D=E.filter(T=>T&&typeof T=="object"&&T.id&&T.email).map(T=>({id:String(T.id),name:T.name||T.email,email:String(T.email),avatar:T.avatar||void 0,online:!1,unread:0,role:String(T.role||"")}));i(D)}catch(A){console.error("Failed to load users:",A),i([])}},[]);f.useEffect(()=>{b(),w()},[b,w]);const v=async()=>{if(!c.trim()||!m)return;const A=c.trim();d("");try{m.emit("message",{content:A}),await fe.post("/chat",{content:A},{requireAuth:!0})}catch(E){console.error("Failed to send message:",E),t({variant:"destructive",title:"  ",description:"    .    ."})}},S=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),v())},j=()=>{setTimeout(()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})},100)},k=n.filter(A=>A.name.toLowerCase().includes(x.toLowerCase())||A.email.toLowerCase().includes(x.toLowerCase())),C=o?n.find(A=>A.id===o):null;return r.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-4",children:[r.jsxs(we,{className:"w-80 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b space-y-4",children:[r.jsx("h2",{className:"font-semibold text-lg",children:""}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:"...",className:"pr-9",value:x,onChange:A=>y(A.target.value)})]})]}),r.jsx(La,{className:"flex-1",children:r.jsx("div",{className:"divide-y",children:k.map(A=>r.jsx("div",{className:`p-4 cursor-pointer hover:bg-muted/50 transition-colors ${o===A.id?"bg-muted/50":""}`,onClick:()=>l(A.id),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsxs(Ep,{children:[r.jsx(Pp,{src:A.avatar}),r.jsx(Tp,{children:A.name.charAt(0).toUpperCase()})]}),A.online&&r.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-background rounded-full"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium truncate block",children:A.name}),r.jsx("span",{className:"text-xs text-muted-foreground",children:A.role})]}),A.time&&r.jsx("span",{className:"text-xs text-muted-foreground",children:A.time})]}),A.lastMessage&&r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:A.lastMessage})]}),A.unread>0&&r.jsx(et,{className:"bg-primary hover:bg-primary",children:A.unread})]})},A.id))})})]}),r.jsx(we,{className:"flex-1 flex flex-col",children:C?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ep,{children:[r.jsx(Pp,{src:C.avatar}),r.jsx(Tp,{children:C.name.charAt(0).toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:C.name}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[C.online&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," "]}),!C.online&&" "]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon","aria-label":" ",children:r.jsx(Fi,{className:"h-5 w-5"})}),r.jsx(V,{variant:"ghost",size:"icon","aria-label":" ",children:r.jsx(lj,{className:"h-5 w-5"})}),r.jsx(V,{variant:"ghost",size:"icon","aria-label":"  ",children:r.jsx(JT,{className:"h-5 w-5"})})]})]}),r.jsx(La,{className:"flex-1 p-4",children:u?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx("p",{className:"text-muted-foreground",children:" ..."})}):r.jsxs("div",{className:"space-y-4",children:[s.map(A=>{const E=A.senderId===(e==null?void 0:e.id);return r.jsx("div",{className:`flex ${E?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-2xl p-3 ${E?"bg-primary text-primary-foreground rounded-tl-none":"bg-muted rounded-tr-none"}`,children:[!E&&A.sender&&r.jsx("p",{className:"text-xs font-semibold mb-1",children:A.sender.name||A.sender.email}),r.jsx("p",{className:"whitespace-pre-wrap break-words",children:A.content}),r.jsx("span",{className:`text-xs mt-1 block ${E?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(A.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})},A.id)}),r.jsx("div",{ref:g})]})}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon","aria-label":" ",children:r.jsx(Gfe,{className:"h-5 w-5"})}),r.jsx(V,{variant:"ghost",size:"icon","aria-label":" ",children:r.jsx(Mi,{className:"h-5 w-5"})}),r.jsx(pe,{placeholder:" ...",value:c,onChange:A=>d(A.target.value),onKeyPress:S,className:"flex-1"}),r.jsx(V,{variant:"ghost",size:"icon","aria-label":" ",children:r.jsx(oK,{className:"h-5 w-5"})}),r.jsx(V,{size:"icon",onClick:v,disabled:!c.trim(),"aria-label":" ",children:r.jsx(Ip,{className:"h-5 w-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-muted-foreground",children:[r.jsx("p",{className:"text-lg font-medium mb-2",children:"  "}),r.jsx("p",{className:"text-sm",children:"      "})]})})})]})}function vE({title:e,description:t,icon:s,actionLabel:a,onAction:n}){return r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs(we,{className:"w-full max-w-md text-center",children:[r.jsxs(st,{children:[r.jsx("div",{className:"mx-auto p-4 bg-primary/10 rounded-full w-fit mb-4",children:r.jsx(s,{className:"w-8 h-8 text-primary"})}),r.jsx(it,{className:"text-2xl",children:e}),r.jsx(Kt,{className:"text-lg mt-2",children:t})]}),r.jsxs(Se,{children:[r.jsx("p",{className:"text-muted-foreground mb-6",children:"      ."}),a&&r.jsx(V,{onClick:n,className:"w-full",children:a})]})]})})}const bW=[{id:"manage_products",labelKey:"employeesPage.permissions.manageProducts"},{id:"manage_orders",labelKey:"employeesPage.permissions.manageOrders"},{id:"manage_customers",labelKey:"employeesPage.permissions.manageCustomers"},{id:"manage_settings",labelKey:"employeesPage.permissions.manageSettings"},{id:"view_analytics",labelKey:"employeesPage.permissions.viewAnalytics"}];function qle(){const{toast:e}=Lt(),{t}=It(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,b]=f.useState([]),[w,v]=f.useState([]),[S,j]=f.useState([]),[k,N]=f.useState(!1),[C,A]=f.useState(!1),[E,D]=f.useState(!1),[T,P]=f.useState(""),[_,O]=f.useState(""),[M,I]=f.useState(!1),R=f.useCallback(async()=>{try{i(!0);const J=await um.getStaffUsers();a(J.data||[])}catch(J){console.error("Failed to load staff:",J),e({title:t("employeesPage.messages.loadError"),description:t("employeesPage.messages.loadErrorDesc"),variant:"destructive"})}finally{i(!1)}},[e]);f.useEffect(()=>{R()},[R]),f.useEffect(()=>{c&&L()},[c]);const L=async()=>{var J;try{N(!0);let z=[];try{const re=await fe.get("/dashboard/customers",{requireAuth:!0});console.log(" EmployeesManager: Dashboard customers response:",re),Array.isArray(re)?z=re:re&&typeof re=="object"&&(Array.isArray(re.customers)?z=re.customers:Array.isArray(re.data)?z=re.data:re.data&&Array.isArray(re.data.customers)&&(z=re.data.customers))}catch(re){console.warn(" EmployeesManager: Dashboard endpoint failed, trying auth service directly:",re);try{const q="https://saeaa.net/auth",se=localStorage.getItem("accessToken")||((J=document.cookie.split("accessToken=")[1])==null?void 0:J.split(";")[0])||"",B=await fetch(`${q}/customers?page=1&limit=1000`,{headers:{Authorization:se?`Bearer ${se}`:"","Content-Type":"application/json"},credentials:"include"});if(B.ok){const oe=await B.json();console.log(" EmployeesManager: Auth service customers response:",oe),Array.isArray(oe)?z=oe:oe.data&&Array.isArray(oe.data)?z=oe.data:oe.customers&&Array.isArray(oe.customers)&&(z=oe.customers)}else console.error(" EmployeesManager: Auth service returned error:",B.status,B.statusText)}catch(q){console.error(" EmployeesManager: Auth service fallback also failed:",q)}}console.log(" EmployeesManager: Extracted customers data:",z);const ie=z.reduce((re,q)=>{if(!q||!q.email)return console.warn(" EmployeesManager: Skipping invalid customer:",q),re;const se=q.email.toLowerCase().trim();return re.find(B=>B.email.toLowerCase()===se)||re.push({id:q.id||q.email||`customer-${re.length}`,email:q.email,firstName:q.firstName||q.name||q.customerName||"",lastName:q.lastName||"",phone:q.phone||q.customerPhone||""}),re},[]);console.log(" EmployeesManager: Unique customers:",ie),j(ie),ie.length===0&&(console.warn(" EmployeesManager: No customers found. Make sure customers are created in the market."),e({title:"  ",description:"    .       .",variant:"default"}))}catch(z){console.error(" EmployeesManager: Failed to load customers:",z);const ie=z instanceof Error?z.message:"     ";e({title:"  ",description:ie,variant:"destructive"}),j([])}finally{N(!1)}},K=async()=>{if(!u){e({title:"  ",description:"    ",variant:"destructive"});return}if(g==="STORE_MANAGER"&&w.length===0){e({title:" ",description:"    ",variant:"destructive"});return}try{A(!0);const z=await um.createStaff({email:u,phone:m,role:g,permissions:y,assignedCustomers:w});z.password?(P(z.password),O(u),D(!0),console.log(`Employee Password for ${u}: ${z.password}`)):e({title:" ",description:"   "}),d(!1),h(""),p(""),x(""),b([]),v([]),R()}catch(J){console.error("Failed to create staff:",J),e({title:t("employeesPage.messages.createError"),description:t("employeesPage.employeeError"),variant:"destructive"})}finally{A(!1)}},H=async J=>{if(confirm(t("employeesPage.deleteConfirm")))try{await um.deleteStaff(J),e({title:t("common.success"),description:t("employeesPage.employeeDeleted")}),R()}catch(z){console.error("Failed to delete staff:",z),e({title:t("employeesPage.messages.deleteError"),description:t("employeesPage.messages.deleteErrorDesc"),variant:"destructive"})}},F=J=>{b(z=>z.includes(J)?z.filter(ie=>ie!==J):[...z,J])},G=J=>J.substring(0,2).toUpperCase(),U=async()=>{try{await navigator.clipboard.writeText(T),I(!0),e({title:" ",description:"     "}),setTimeout(()=>I(!1),2e3)}catch(J){console.error("Failed to copy password:",J),e({title:" ",description:"   .   .",variant:"destructive"})}},W=s.filter(J=>J.email.toLowerCase().includes(o.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),r.jsx("p",{className:"text-muted-foreground",children:"   "})]}),r.jsxs(ir,{open:c,onOpenChange:d,children:[r.jsx(vg,{asChild:!0,children:r.jsxs(V,{className:"gap-2",children:[r.jsx(zd,{className:"h-4 w-4"})," "]})}),r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"  "}),r.jsx(pr,{children:"       ."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:"  *"}),r.jsx(pe,{id:"email",placeholder:"employee@example.com",value:u,onChange:J=>h(J.target.value),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"phone",children:" "}),r.jsx(pe,{id:"phone",placeholder:"+966 5XX XXX XXX",value:m,onChange:J=>p(J.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"role",children:""}),r.jsxs(mr,{value:g||"__none__",onValueChange:J=>x(J==="__none__"?"":J),children:[r.jsx(dr,{id:"role",children:r.jsx(xr,{placeholder:" "})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"__none__",children:"  "}),r.jsx(_e,{value:"STORE_MANAGER",children:" "})]})]})]}),g==="STORE_MANAGER"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"  *"}),k?r.jsxs("div",{className:"text-sm text-gray-500 p-3 border rounded-lg flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"  ..."]}):S.length===0?r.jsxs("div",{className:"text-sm text-gray-500 p-3 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[r.jsx("p",{className:"mb-2",children:"     "}),r.jsx("p",{className:"text-xs",children:"         "})]}):r.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg p-4 space-y-2 bg-gray-50 dark:bg-gray-900",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["   ",S.length," "]}),S.map(J=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:[r.jsx(no,{id:`customer-${J.id}`,checked:w.includes(J.id),onCheckedChange:z=>{v(z?[...w,J.id]:w.filter(ie=>ie!==J.id))}}),r.jsx("label",{htmlFor:`customer-${J.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:J.firstName||J.email}),J.lastName&&r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:J.lastName})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("span",{children:J.email}),J.phone&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:J.phone})]})]})]})})]},J.id))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:""}),r.jsx("div",{className:"grid grid-cols-2 gap-2 border rounded-lg p-4",children:bW.map(J=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx(no,{id:J.id,checked:y.includes(J.id),onCheckedChange:()=>F(J.id)}),r.jsx("label",{htmlFor:J.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:J.label})]},J.id))})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>d(!1),children:""}),r.jsx(V,{onClick:K,disabled:C,children:C?" ...":" "})]})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{className:"border-b",children:r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{placeholder:"  ...",value:o,onChange:J=>l(J.target.value),className:"pr-10"})]})})}),r.jsx(Se,{className:"p-0",children:n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):W.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),r.jsx("p",{className:"text-gray-500",children:"      "})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:" "}),r.jsx(Ae,{className:"w-[100px]",children:""})]})}),r.jsx(us,{children:W.map(J=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ep,{children:[r.jsx(Pp,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${J.email}`}),r.jsx(Tp,{children:G(J.email)})]}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:J.email})})]})}),r.jsx(Ne,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:J.staffPermissions.length>0?J.staffPermissions.map((z,ie)=>{var re;return r.jsx(et,{variant:"secondary",className:"text-xs",children:((re=bW.find(q=>q.id===z.permission))==null?void 0:re.label)||z.permission},ie)}):r.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})}),J.role==="STORE_MANAGER"&&r.jsx(et,{variant:"outline",className:"text-xs mt-1",children:" "}),J.phone&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[r.jsx(Fi,{className:"h-3 w-3"}),J.phone]})]})}),r.jsx(Ne,{children:new Date(J.createdAt).toLocaleDateString("ar-SA")}),r.jsx(Ne,{children:r.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>H(J.id),children:r.jsx(Sr,{className:"h-4 w-4"})})})]},J.id))})]})})]}),r.jsx(ir,{open:E,onOpenChange:D,children:r.jsxs(ar,{className:"sm:max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"   "}),r.jsx(pr,{children:"   .       ."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:" "}),r.jsx(pe,{value:_,readOnly:!0,className:"font-mono"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"  "}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(pe,{value:T,readOnly:!0,className:"font-mono text-lg font-bold",type:"text"}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:U,className:"shrink-0",children:M?r.jsx(va,{className:"h-4 w-4 text-green-600"}):r.jsx(sc,{className:"h-4 w-4"})})]})]}),r.jsx(Di,{children:r.jsxs(Oi,{children:[r.jsx("strong",{children:":"}),"           ."]})})]}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>D(!1),children:""})})]})})]})}const wW=[{category:"",dashboardAccess:["/dashboard/products","/dashboard/categories","/dashboard/prices"],permissions:[{id:"product:create",label:" ",description:"     -    ",icon:Dt,category:""},{id:"product:read",label:" ",description:"     -    ",icon:Cr,category:""},{id:"product:update",label:" ",description:"     -   ",icon:Es,category:""},{id:"product:delete",label:" ",description:"    -    ",icon:Ls,category:""},{id:"product:manage",label:" ",description:"    -     ",icon:Dt,category:""}]},{category:"",dashboardAccess:["/dashboard/orders"],permissions:[{id:"order:create",label:" ",description:"     -   ",icon:Or,category:""},{id:"order:read",label:" ",description:"     -    ",icon:Cr,category:""},{id:"order:update",label:" ",description:"     -   ",icon:Es,category:""},{id:"order:delete",label:" ",description:"    -    ",icon:Ls,category:""},{id:"order:manage",label:" ",description:"    -    ",icon:Or,category:""}]},{category:"",dashboardAccess:["/dashboard/customers"],permissions:[{id:"customer:create",label:" ",description:"      -   ",icon:wr,category:""},{id:"customer:read",label:" ",description:"     -    ",icon:Cr,category:""},{id:"customer:update",label:" ",description:"     -   ",icon:Es,category:""},{id:"customer:delete",label:" ",description:"    -   ",icon:Ls,category:""},{id:"customer:manage",label:" ",description:"    -    ",icon:wr,category:""}]},{category:"",dashboardAccess:["/dashboard/products"],permissions:[{id:"inventory:read",label:" ",description:"     -   ",icon:Cr,category:""},{id:"inventory:update",label:" ",description:"     -   ",icon:Es,category:""},{id:"inventory:manage",label:" ",description:"     -   ",icon:Dt,category:""}]},{category:"",dashboardAccess:["/dashboard/reports"],permissions:[{id:"analytics:read",label:" ",description:"     -    ",icon:Ua,category:""},{id:"analytics:manage",label:" ",description:"     -   ",icon:Ua,category:""}]},{category:"",dashboardAccess:["/dashboard/settings"],permissions:[{id:"settings:read",label:" ",description:"     -   ",icon:Cr,category:""},{id:"settings:update",label:" ",description:"     -   ",icon:Es,category:""}]}];function Gle(){const{toast:e}=Lt(),{user:t}=$s();ts();const[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,p]=f.useState(!1),[g,x]=f.useState(!1),y=t&&t.role==="STAFF",b=f.useCallback(async()=>{try{if(i(!0),y&&t){const E=await um.getStaffUser(t.id),D={id:E.id,email:E.email,name:E.name,phone:E.phone,role:E.role,createdAt:E.createdAt,updatedAt:E.updatedAt,staffPermissions:E.staffPermissions||[]};a([D]),i(!1);return}console.log("Loading staff users...");const N=await um.getStaffUsers(1,100);console.log("Staff users response:",N);const C=(N==null?void 0:N.data)||N||[];console.log("Staff data:",C);const A=Array.isArray(C)?C.map(E=>({id:E.id,email:E.email,name:E.name,phone:E.phone,role:E.role,createdAt:E.createdAt,updatedAt:E.updatedAt,staffPermissions:E.staffPermissions||[]})):[];console.log("Normalized staff:",A),a(A)}catch(N){console.error("Failed to load staff:",N),e({title:"",description:(N==null?void 0:N.message)||"   ",variant:"destructive"})}finally{i(!1)}},[e,y,t]);f.useEffect(()=>{b()},[b]);const w=N=>{d(N);const A=(N.staffPermissions||[]).map(E=>typeof E=="string"?E:E.permission).filter(E=>E&&!E.startsWith("employee:"))||[];console.log("Editing permissions for:",N.email,A),h(A),p(!0)},v=N=>{u.includes(N)?h(u.filter(C=>C!==N)):h([...u,N])},S=async()=>{if(c){if(y||t&&t.role!=="SHOP_OWNER"&&t.role!=="SUPER_ADMIN"){e({variant:"destructive",title:" ",description:"      .          ."});return}try{x(!0),console.log("Saving permissions for staff:",c.id,u);const N=await um.updatePermissions(c.id,u);console.log("Permissions update result:",N),e({title:"",description:"   "}),await b(),p(!1),d(null),h([])}catch(N){console.error("Failed to save permissions:",N),e({title:"",description:(N==null?void 0:N.message)||"  ",variant:"destructive"})}finally{x(!1)}}},j=s.filter(N=>N.email.toLowerCase().includes(o.toLowerCase())),k=N=>{for(const C of wW){const A=C.permissions.find(E=>E.id===N);if(A)return A.label}return N};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(sa,{className:"h-6 w-6 text-purple-600"}),y?"":" "]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:y?"    -          ":"          "})]}),r.jsxs(V,{variant:"outline",onClick:b,disabled:n,className:"gap-2",children:[r.jsx(mc,{className:`h-4 w-4 ${n?"animate-spin":""}`}),""]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(pe,{placeholder:"  ...",value:o,onChange:N=>l(N.target.value),className:"pr-10"})]})}),r.jsx(Se,{className:"p-0",children:n?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):j.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),r.jsx("p",{className:"text-gray-500",children:"      "})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:y?"":""}),r.jsxs(Ae,{children:[" ",y?" ":""]}),!y&&r.jsx(Ae,{className:"w-[150px]",children:""})]})}),r.jsx(us,{children:j.map(N=>{const A=(N.staffPermissions||[]).map(E=>typeof E=="string"?E:E.permission).filter(E=>E&&!E.startsWith("employee:"))||[];return r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(yI,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:N.email}),N.name&&r.jsx("p",{className:"text-sm text-gray-500",children:N.name})]})]})}),r.jsx(Ne,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:A.length>0?A.map((E,D)=>r.jsx(et,{variant:"secondary",className:"text-xs",children:k(E)},`${E}-${D}`)):r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"text-muted-foreground text-sm block",children:"   "}),y&&r.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 block",children:"        "})]})})}),!y&&r.jsx(Ne,{children:r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>w(N),className:"gap-2",children:[r.jsx(Ga,{className:"h-4 w-4"})," "]})})]},N.id)})})]})})]}),r.jsx(ir,{open:m,onOpenChange:p,children:r.jsxs(ar,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(sa,{className:"h-5 w-5"}),"  ",c==null?void 0:c.email]}),r.jsx(pr,{children:"       "})]}),r.jsx("div",{className:"space-y-6 py-4",children:wW.map(N=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[r.jsx(sa,{className:"h-5 w-5 text-purple-600"}),N.category]}),N.dashboardAccess&&N.dashboardAccess.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium",children:"  :"}),N.dashboardAccess.map((C,A)=>r.jsx(et,{variant:"outline",className:"text-xs",children:C},A))]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.permissions.map(C=>{const A=u.includes(C.id),E=C.icon;return r.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${A?"bg-purple-50 border-purple-500 dark:bg-purple-900/20":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700 hover:border-gray-300"}`,children:[r.jsx(no,{checked:A,onCheckedChange:()=>v(C.id),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(E,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"font-medium text-sm",children:C.label})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:C.description})]})]},C.id)})})]},N.category))}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>p(!1),children:""}),r.jsx(V,{onClick:S,disabled:g,className:"gap-2",children:g?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"h-4 w-4"})," "]})})]})]})})]})}function yut(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"    "})]}),r.jsxs(Kn,{defaultValue:"employees",className:"w-full",children:[r.jsxs(_n,{children:[r.jsx(_r,{value:"employees",children:""}),r.jsx(_r,{value:"roles",children:" "}),r.jsx(_r,{value:"logs",children:" "})]}),r.jsx(Yr,{value:"employees",className:"mt-6",children:r.jsx(qle,{})}),r.jsx(Yr,{value:"roles",className:"mt-6",children:r.jsx(Gle,{})}),r.jsx(Yr,{value:"logs",className:"mt-6",children:r.jsx(vE,{title:" ",description:"       .",icon:Sd})})]})]})}function but(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),r.jsx(vE,{title:"   ",description:"             .",icon:Ry,actionLabel:" "})]})}function wut(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"    "})]}),r.jsx(vE,{title:"   ",description:"        .",icon:Dt,actionLabel:"  "})]})}function jut(){const{t:e}=It(),[t,s]=f.useState(null),a=[{id:"basic",name:e("dashboard.marketing.packages.basic.name"),nameEn:e("dashboard.marketing.packages.basic.nameEn"),price:999,duration:e("dashboard.marketing.packages.monthly"),icon:bs,color:"from-primary to-primary/80",features:e("dashboard.marketing.packages.basic.features",{returnObjects:!0}),recommended:!1},{id:"professional",name:e("dashboard.marketing.packages.professional.name"),nameEn:e("dashboard.marketing.packages.professional.nameEn"),price:1999,duration:e("dashboard.marketing.packages.monthly"),icon:zn,color:"from-secondary to-secondary/80",features:e("dashboard.marketing.packages.professional.features",{returnObjects:!0}),recommended:!0},{id:"enterprise",name:e("dashboard.marketing.packages.enterprise.name"),nameEn:e("dashboard.marketing.packages.enterprise.nameEn"),price:3999,duration:e("dashboard.marketing.packages.monthly"),icon:L0,color:"from-accent to-accent/80",features:e("dashboard.marketing.packages.enterprise.features",{returnObjects:!0}),recommended:!1}],n=[{label:e("dashboard.marketing.stats.totalFollowers"),value:"12.5K",change:"+12%",icon:wr,color:"text-primary"},{label:e("dashboard.marketing.stats.engagementRate"),value:"8.3%",change:"+5%",icon:rl,color:"text-success"},{label:e("dashboard.marketing.stats.postsThisMonth"),value:"24",change:"+8",icon:Cn,color:"text-secondary"},{label:e("dashboard.marketing.stats.totalReach"),value:"45.2K",change:"+18%",icon:Ua,color:"text-accent"}],i=[{platform:"Instagram",followers:"5.2K",icon:hI,color:"bg-gradient-to-br from-purple-500 to-pink-500"},{platform:"Facebook",followers:"3.8K",icon:dI,color:"bg-blue-600"},{platform:"Twitter",followers:"2.1K",icon:vI,color:"bg-sky-500"},{platform:"LinkedIn",followers:"1.4K",icon:iK,color:"bg-blue-700"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("dashboard.marketing.title")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.marketing.subtitle")})]}),r.jsx(we,{className:"relative overflow-hidden border-0 bg-gradient-primary",children:r.jsx(Se,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:r.jsx("img",{src:"/partners/smartline-logo.png",alt:"Smart Line",className:"w-12 h-12"})}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold mb-1",children:e("dashboard.marketing.partnerTitle")}),r.jsx("p",{className:"text-white/90 text-sm",children:e("dashboard.marketing.partnerDesc")})]})]})})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((o,l)=>r.jsx(we,{children:r.jsx(Se,{className:"p-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:o.label}),r.jsx("p",{className:"text-3xl font-bold mt-2",children:o.value}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-medium mt-2",children:[r.jsx(rl,{className:"h-3 w-3"}),r.jsx("span",{children:o.change})]})]}),r.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-xl",children:r.jsx(o.icon,{className:`h-7 w-7 ${o.color}`})})]})})},l))}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:e("dashboard.marketing.socialAccounts.title")}),r.jsx(Kt,{children:e("dashboard.marketing.socialAccounts.subtitle")})]}),r.jsx(Se,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map((o,l)=>r.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg hover:shadow-md transition-shadow",children:[r.jsx("div",{className:`w-12 h-12 ${o.color} rounded-full flex items-center justify-center mb-3`,children:r.jsx(o.icon,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:o.platform}),r.jsxs("p",{className:"text-sm text-gray-500",children:[o.followers," ",e("dashboard.marketing.socialAccounts.followers")]})]},l))})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("dashboard.marketing.packages.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.marketing.packages.subtitle")})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:a.map(o=>{const l=o.icon;return r.jsxs(we,{className:`relative overflow-hidden transition-all hover:shadow-xl ${o.recommended?"ring-2 ring-secondary scale-105":""} ${t===o.id?"ring-2 ring-primary":""}`,children:[o.recommended&&r.jsx("div",{className:"absolute top-0 right-0 bg-gradient-secondary text-white px-4 py-1 text-xs font-semibold rounded-bl-lg",children:e("dashboard.marketing.packages.mostPopular")}),r.jsxs(st,{className:"text-center pb-4",children:[r.jsx("div",{className:`w-16 h-16 mx-auto mb-4 bg-gradient-to-br ${o.color} rounded-2xl flex items-center justify-center`,children:r.jsx(l,{className:"h-8 w-8 text-white"})}),r.jsx(it,{className:"text-2xl",children:o.name}),o.nameEn&&r.jsx(Kt,{className:"text-sm",children:o.nameEn}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:o.price}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400 mr-2",children:e("common.currency")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.duration})]})]}),r.jsxs(Se,{children:[r.jsx("ul",{className:"space-y-3 mb-6",children:Array.isArray(o.features)&&o.features.map((c,d)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Za,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c})]},d))}),r.jsx(V,{className:`w-full ${o.recommended?"bg-gradient-secondary hover:opacity-90":""}`,variant:o.recommended?"default":"outline",onClick:()=>s(o.id),children:t===o.id?e("dashboard.marketing.packages.selected"):e("dashboard.marketing.packages.select")})]})]},o.id)})})]}),r.jsx(we,{className:"bg-card border-border",children:r.jsxs(Se,{className:"p-8 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:e("dashboard.marketing.customPackage.title")}),r.jsx("p",{className:"text-gray-300 mb-6",children:e("dashboard.marketing.customPackage.desc")}),r.jsxs(V,{size:"lg",className:"bg-primary hover:bg-primary/90",children:[e("dashboard.marketing.customPackage.contact"),r.jsx(Cn,{className:"mr-2 h-5 w-5"})]})]})})]})}function Nut(){const{t:e}=It(),[t,s]=f.useState("all"),[a,n]=f.useState(""),i=[{id:"social-media-management",title:e("dashboard.smartLineMarket.services.socialMedia.title"),description:e("dashboard.smartLineMarket.services.socialMedia.description"),price:999,category:"social",rating:4.8,reviews:124,icon:Cn,color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/20",features:e("dashboard.smartLineMarket.services.socialMedia.features",{returnObjects:!0})},{id:"seo-optimization",title:e("dashboard.smartLineMarket.services.seo.title"),description:e("dashboard.smartLineMarket.services.seo.description"),price:1499,category:"seo",rating:4.9,reviews:85,icon:Mr,color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/20",features:e("dashboard.smartLineMarket.services.seo.features",{returnObjects:!0})},{id:"content-creation",title:e("dashboard.smartLineMarket.services.content.title"),description:e("dashboard.smartLineMarket.services.content.description"),price:799,category:"content",rating:4.7,reviews:210,icon:Kfe,color:"text-pink-500",bgColor:"bg-pink-100 dark:bg-pink-900/20",features:e("dashboard.smartLineMarket.services.content.features",{returnObjects:!0})},{id:"paid-ads",title:e("dashboard.smartLineMarket.services.ads.title"),description:e("dashboard.smartLineMarket.services.ads.description"),price:1200,category:"ads",rating:4.9,reviews:156,icon:Ua,color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/20",features:e("dashboard.smartLineMarket.services.ads.features",{returnObjects:!0})},{id:"video-production",title:e("dashboard.smartLineMarket.services.video.title"),description:e("dashboard.smartLineMarket.services.video.description"),price:2500,category:"content",rating:5,reviews:42,icon:lj,color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20",features:e("dashboard.smartLineMarket.services.video.features",{returnObjects:!0})},{id:"web-development",title:e("dashboard.smartLineMarket.services.dev.title"),description:e("dashboard.smartLineMarket.services.dev.description"),price:1800,category:"dev",rating:4.6,reviews:98,icon:Ya,color:"text-cyan-500",bgColor:"bg-cyan-100 dark:bg-cyan-900/20",features:e("dashboard.smartLineMarket.services.dev.features",{returnObjects:!0})}],o=[{id:"all",name:e("dashboard.smartLineMarket.categories.all")},{id:"social",name:e("dashboard.smartLineMarket.categories.social")},{id:"seo",name:e("dashboard.smartLineMarket.categories.seo")},{id:"content",name:e("dashboard.smartLineMarket.categories.content")},{id:"ads",name:e("dashboard.smartLineMarket.categories.ads")},{id:"dev",name:e("dashboard.smartLineMarket.categories.dev")}],l=i.filter(c=>{const d=t==="all"||c.category===t,u=c.title.toLowerCase().includes(a.toLowerCase())||c.description.toLowerCase().includes(a.toLowerCase());return d&&u});return r.jsxs("div",{className:"space-y-8 pb-10",children:[r.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 text-white p-8 md:p-12",children:[r.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[r.jsxs("div",{className:"space-y-4 max-w-2xl",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-sm font-medium",children:[r.jsx(bs,{className:"w-4 h-4 text-yellow-300"}),r.jsx("span",{children:e("dashboard.smartLineMarket.badge")})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:e("dashboard.smartLineMarket.title")}),r.jsx("p",{className:"text-lg text-white/90 leading-relaxed",children:e("dashboard.smartLineMarket.description")}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsxs(V,{size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 border-0 font-bold",children:[e("dashboard.smartLineMarket.browseServices"),r.jsx(ma,{className:"mr-2 h-5 w-5 rtl:rotate-180"})]}),r.jsx(V,{size:"lg",variant:"outline",className:"bg-transparent border-white text-white hover:bg-white/10",children:e("dashboard.smartLineMarket.contactExpert")})]})]}),r.jsx("div",{className:"hidden md:flex items-center justify-center",children:r.jsx("div",{className:"relative w-48 h-48 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/20 shadow-2xl animate-pulse-slow",children:r.jsx(cp,{className:"w-24 h-24 text-white drop-shadow-lg"})})})]}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[r.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-10 right-10 w-64 h-64 bg-pink-500 rounded-full blur-3xl"})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between sticky top-0 z-30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 py-4 border-b",children:[r.jsx(Kn,{defaultValue:"all",value:t,onValueChange:s,className:"w-full md:w-auto",children:r.jsx(_n,{className:"bg-muted/50 p-1",children:o.map(c=>r.jsx(_r,{value:c.id,className:"px-4",children:c.name},c.id))})}),r.jsxs("div",{className:"relative w-full md:w-72",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:e("dashboard.smartLineMarket.searchPlaceholder"),className:"pr-9",value:a,onChange:c=>n(c.target.value)})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>{const d=c.icon;return r.jsxs(we,{className:"group hover:shadow-xl transition-all duration-300 border-muted/60 overflow-hidden flex flex-col",children:[r.jsxs(st,{className:"pb-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:`p-3 rounded-2xl ${c.bgColor} transition-transform group-hover:scale-110 duration-300`,children:r.jsx(d,{className:`w-8 h-8 ${c.color}`})}),r.jsxs(et,{variant:"secondary",className:"font-normal flex items-center gap-1",children:[r.jsx(Jo,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),c.rating," (",c.reviews,")"]})]}),r.jsx(it,{className:"text-xl group-hover:text-primary transition-colors",children:c.title}),r.jsx(Kt,{className:"line-clamp-2 mt-2 text-base",children:c.description})]}),r.jsx(Se,{className:"flex-1",children:r.jsx("div",{className:"space-y-3",children:Array.isArray(c.features)&&c.features.map((u,h)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:r.jsx(Za,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),u]},h))})}),r.jsxs(ah,{className:"pt-4 border-t bg-muted/20 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-2xl font-bold text-primary",children:c.price}),r.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:e("dashboard.smartLineMarket.service.pricePerMonth")})]}),r.jsx(V,{className:"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 shadow-md hover:shadow-lg transition-all",children:e("dashboard.smartLineMarket.service.subscribeNow")})]})]},c.id)})}),l.length===0&&r.jsxs("div",{className:"text-center py-20",children:[r.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Mr,{className:"w-10 h-10 text-muted-foreground"})}),r.jsx("h3",{className:"text-xl font-semibold",children:e("dashboard.smartLineMarket.emptyState.title")}),r.jsx("p",{className:"text-muted-foreground mt-2",children:e("dashboard.smartLineMarket.emptyState.desc")}),r.jsx(V,{variant:"link",onClick:()=>{n(""),s("all")},className:"mt-4",children:e("dashboard.smartLineMarket.emptyState.showAll")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[r.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(zn,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.speed.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.speed.desc")})]}),r.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Za,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.results.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.results.desc")})]}),r.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Cn,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.support.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.support.desc")})]})]})]})}function Sut(){const[e,t]=f.useState(null),[s,a]=f.useState(!0),[n,i]=f.useState([{id:"1",role:"assistant",content:"!   .    ",timestamp:new Date}]),[o,l]=f.useState(""),[c,d]=f.useState(!1),{toast:u}=Lt();f.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await fe.get("/partner/status",{requireAuth:!0});t(x)}catch(x){console.error("Failed to fetch partner status:",x)}finally{a(!1)}},m=async()=>{if(!o.trim())return;const x={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};i(y=>[...y,x]),l(""),d(!0),setTimeout(()=>{const y={id:(Date.now()+1).toString(),role:"assistant",content:" !     .           .",timestamp:new Date};i(b=>[...b,y]),d(!1)},1e3)},p=(x,y)=>{u({title:"   ",description:`   ${y} ASUS`})};if(s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});const g=e==null?void 0:e.asusPartnerCompleted;return g?r.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600",children:"       "})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(we,{className:"h-[600px] flex flex-col",children:[r.jsx(st,{className:"border-b",children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Vd,{className:"w-5 h-5 text-purple-600"})," ",r.jsxs(et,{variant:"secondary",className:"mr-auto",children:[r.jsx(bs,{className:"w-3 h-3 mr-1"}),"AI"]})]})}),r.jsxs(Se,{className:"flex-1 flex flex-col p-0",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(x=>r.jsxs("div",{className:`flex gap-3 ${x.role==="user"?"flex-row-reverse":""}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-purple-600":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:x.role==="user"?r.jsx(ao,{className:"w-4 h-4 text-white"}):r.jsx(Vd,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{className:`flex-1 ${x.role==="user"?"text-right":""}`,children:[r.jsx("div",{className:`inline-block px-4 py-2 rounded-2xl ${x.role==="user"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"}`,children:x.content}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:x.timestamp.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})]},x.id)),c&&r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(Vd,{className:"w-4 h-4 text-white"})}),r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-2xl",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),r.jsx("div",{className:"border-t p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(pe,{value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&m(),placeholder:"  ...",className:"flex-1",disabled:c}),r.jsx(V,{onClick:m,disabled:c||!o.trim(),size:"icon",children:r.jsx(Ip,{className:"w-4 h-4"})})]})})]})]})}),r.jsxs("div",{className:"space-y-6",children:[g&&r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:"w-6 h-6"})," ASUS"]})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>p("asus",""),children:[r.jsx(Fi,{className:"w-4 h-4 ml-2"}),"+966 XX XXX XXXX"]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>p("asus",""),children:[r.jsx(ba,{className:"w-4 h-4 ml-2"}),"support@asus.com"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[r.jsx(Co,{className:"w-4 h-4"}),r.jsx("span",{children:" 24/7"})]})]}),r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("h4",{className:"font-semibold mb-2 text-sm",children:""}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[r.jsx("span",{children:" "}),r.jsx(lm,{className:"w-3 h-3"})]}),r.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[r.jsx("span",{children:" "}),r.jsx(lm,{className:"w-3 h-3"})]}),r.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[r.jsx("span",{children:" "}),r.jsx(lm,{className:"w-3 h-3"})]})]})]})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{className:"text-base",children:" "})}),r.jsxs(Se,{className:"space-y-2",children:[r.jsxs(V,{variant:"outline",className:"w-full justify-start",size:"sm",children:[r.jsx(ka,{className:"w-4 h-4 ml-2"}),"  "]}),r.jsxs(V,{variant:"outline",className:"w-full justify-start",size:"sm",children:[r.jsx(Cn,{className:"w-4 h-4 ml-2"}),"  "]})]})]})]})]})]}):r.jsx("div",{className:"p-8",children:r.jsx(we,{children:r.jsxs(Se,{className:"p-12 text-center",children:[r.jsx($2,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:" ASUS"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"    ASUS    "}),r.jsx(V,{asChild:!0,children:r.jsx("a",{href:"/partner",children:"   ASUS"})})]})})})}function kut(){const{t:e,i18n:t}=It(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),{toast:c}=Lt(),[d,u]=f.useState(!1),[h,m]=f.useState(""),[p,g]=f.useState(!1),x={"Restaurant & Cafe":"restaurantAndCafe","Services Business":"servicesBusiness","Digital Cards":"digitalCards","Simple Store":"simpleStore","Blank Template":"blankTemplate","Landing Page":"landingPage",Vibrant:"vibrant",Minimal:"minimal","Modern Store":"modernStore",Classic:"classic","Dark Mode":"darkMode","Light Mode":"lightMode","Beauty & Cosmetics":"beautyAndCosmetics","Home & Furniture":"homeAndFurniture","Fashion Store":"fashionStore","Electronics Shop":"electronicsShop","Food & Beverage":"foodAndBeverage"},y={"Elegant template for restaurants and cafes":"restaurantDesc","Professional template for service-based businesses":"servicesDesc","Complete digital cards marketplace template with instant delivery features":"digitalCardsDesc","Clean and simple store template":"simpleStoreDesc","Start from scratch":"blankDesc","High conversion landing page":"landingPageDesc","A colorful and energetic theme perfect for creative brands":"vibrantDesc","A minimalist theme focusing on simplicity and elegance":"minimalDesc","A clean and modern e-commerce theme with a professional look":"modernStoreDesc","Elegant, minimalist design for beauty products":"beautyDesc","Clean, spacious layout for furniture and home decor":"homeDesc","Modern, image-heavy design perfect for fashion retailers":"fashionDesc","Tech-focused design with product grid layout":"electronicsDesc","Warm, appetizing design for restaurants and food businesses":"foodDesc","Complete digital cards store with instant delivery":"digitalCardsShortDesc"},b={"Restaurant & Cafe":" ","Services Business":" ","Digital Cards":" ","Simple Store":" ","Blank Template":" ","Landing Page":" ",Vibrant:"",Minimal:"","Modern Store":" ",Classic:"","Dark Mode":" ","Light Mode":" ","Beauty & Cosmetics":"  ","Home & Furniture":" ","Fashion Store":" ","Electronics Shop":" ","Food & Beverage":" "},w={"Elegant template for restaurants and cafes":"   ","Professional template for service-based businesses":"     ","Complete digital cards marketplace template with instant delivery features":"        ","Clean and simple store template":"   ","Start from scratch":"  ","High conversion landing page":"   ","A colorful and energetic theme perfect for creative brands":"      ","A minimalist theme focusing on simplicity and elegance":"     ","A clean and modern e-commerce theme with a professional look":"      ","Elegant, minimalist design for beauty products":"    ","Clean, spacious layout for furniture and home decor":"     ","Modern, image-heavy design perfect for fashion retailers":"          ","Tech-focused design with product grid layout":"       ","Warm, appetizing design for restaurants and food businesses":"      ","Complete digital cards store with instant delivery":"      "},v=A=>{if(!A)return"";const E=A.trim();if(t.language.startsWith("ar")){if(b[E])return b[E];const T=E.toLowerCase(),P=Object.keys(b).find(_=>_.toLowerCase()===T);if(P)return b[P];if(E.includes("&")){const _=E.replace(/&amp;/g,"&");if(b[_])return b[_]}}let D=x[E];if(!D){const T=E.toLowerCase(),P=Object.keys(x).find(_=>_.toLowerCase()===T);P&&(D=x[P])}if(!D&&E.includes("&")){const T=E.replace(/&amp;/g,"&");D=x[T]}return D?e(`dashboard.design.themes.${D}`):e(`dashboard.design.themes.${A}`,{defaultValue:A})},S=A=>{if(!A)return"";const E=A.trim();if(t.language.startsWith("ar")){if(w[E])return w[E];const T=E.toLowerCase(),P=Object.keys(w).find(_=>_.toLowerCase()===T);if(P)return w[P]}let D=y[E];if(!D){const T=E.toLowerCase(),P=Object.keys(y).find(_=>_.toLowerCase()===T);P&&(D=y[P])}return D?e(`dashboard.design.themeDescriptions.${D}`):e(`dashboard.design.themeDescriptions.${A}`,{defaultValue:A})},j=f.useCallback(async()=>{try{const A=await fe.getDomain();if(A){const E=A.customDomain||`${A.subdomain}.localhost:8080`;console.log(" Storefront domain:",E),l(E)}}catch(A){console.error("Failed to fetch domain:",A)}},[]),k=f.useCallback(async()=>{try{console.log("Loading themes...");const A=await Lb.getThemes();console.log("Themes received:",A),a(Array.isArray(A)?A:[])}catch(A){console.error("Failed to load themes:",A),a([]),c({title:e("dashboard.design.error"),description:e("dashboard.design.loadError"),variant:"destructive"})}finally{i(!1)}},[c,e]);f.useEffect(()=>{k(),j()},[k,j]);const N=async A=>{try{await Lb.activateTheme(A),c({title:e("dashboard.design.activateSuccess"),description:e("dashboard.design.activateSuccessDesc")}),a(s.map(E=>({...E,isActive:E.id===A}))),k()}catch{c({title:e("dashboard.design.error"),description:e("dashboard.design.activateError"),variant:"destructive"})}},C=async()=>{if(!h.trim()){c({title:e("dashboard.design.error"),description:e("dashboard.design.enterPrompt"),variant:"destructive"});return}g(!0);try{await fe.post("/themes/ai/generate",{prompt:h,style:"professional and modern"},{requireAuth:!0}),c({title:e("dashboard.design.themeGenerated"),description:e("dashboard.design.themeGeneratedDesc")}),u(!1),m(""),k()}catch(A){console.error("Failed to generate AI theme:",A),c({title:e("dashboard.design.error"),description:e("dashboard.design.generateError"),variant:"destructive"})}finally{g(!1)}};return n?r.jsx("div",{className:"flex justify-center p-8",children:r.jsx(Je,{className:"animate-spin h-8 w-8"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:e("dashboard.design.title")}),r.jsx("p",{className:"text-gray-500",children:e("dashboard.design.subtitle")})]}),r.jsxs(V,{onClick:()=>u(!0),className:"gap-2",children:[r.jsx(bs,{className:"w-4 h-4"}),e("dashboard.design.generateAI")]})]}),s.length===0&&!n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(lp,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.design.noThemes")}),r.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.design.seedHint")}),r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded",children:"node prisma/seed-theme.js"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(A=>r.jsxs(we,{className:`transition-all ${A.isActive?"border-primary border-2 shadow-md":"hover:shadow-md"}`,children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex justify-between items-center",children:[v(A.name),A.isActive&&r.jsx(et,{className:"bg-green-500",children:e("dashboard.design.active")})]}),r.jsx(Kt,{children:S(A.description||"")})]}),r.jsx(Se,{children:r.jsx("div",{className:"h-40 bg-gray-100 dark:bg-gray-800 rounded-md flex items-center justify-center",children:r.jsx(lp,{className:"h-10 w-10 text-gray-400"})})}),r.jsxs(ah,{className:"flex flex-col gap-2",children:[A.isActive?r.jsxs(V,{disabled:!0,className:"w-full variant-secondary",children:[r.jsx(Za,{className:"mr-2 h-4 w-4"})," ",e("dashboard.design.active")]}):r.jsx(V,{onClick:()=>N(A.id),className:"w-full",children:e("dashboard.design.activate")}),r.jsxs(V,{variant:"outline",className:"w-full",onClick:()=>{let E="";o?E=`http://${o}/?theme_preview=${A.id}`:E=`${window.location.origin}/?theme_preview=${A.id}`,console.log(" Opening theme preview:",E),window.open(E,"_blank")},children:[r.jsx(Cr,{className:"mr-2 h-4 w-4"})," ",e("dashboard.design.preview")]})]})]},A.id))}),r.jsx(ir,{open:d,onOpenChange:u,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"w-5 h-5"}),e("dashboard.design.aiDialogTitle")]}),r.jsx(pr,{children:e("dashboard.design.aiDialogDesc")})]}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"ai-prompt",children:e("dashboard.design.themeDesc")}),r.jsx(Ys,{id:"ai-prompt",placeholder:e("dashboard.design.themeDescPlaceholder"),value:h,onChange:A=>m(A.target.value),rows:6,className:"mt-2"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>u(!1),disabled:p,children:e("common.cancel")}),r.jsx(V,{onClick:C,disabled:p,className:"gap-2",children:p?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),e("dashboard.design.generating")]}):r.jsxs(r.Fragment,{children:[r.jsx(bs,{className:"w-4 h-4"}),e("dashboard.design.generateTheme")]})})]})]})]})})]})}function Cut(){return r.jsx(vE,{title:" ",description:"   ",icon:xs,actionLabel:" "})}function T0({src:e,alt:t,className:s,width:a,height:n,priority:i=!1,placeholder:o="blur",onLoad:l,onError:c}){const[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(i),x=f.useRef(null);f.useEffect(()=>{if(i||!x.current)return;const S=new IntersectionObserver(j=>{j.forEach(k=>{k.isIntersecting&&(g(!0),S.disconnect())})},{rootMargin:"200px",threshold:.01});return S.observe(x.current),()=>S.disconnect()},[i]);const y=()=>{u(!0),l==null||l()},b=()=>{m(!0),c==null||c()},v=(S=>{if(!S)return"";if(S.includes("cloudinary.com")){const j=["f_auto","q_auto",a?`w_${a}`:"w_800","c_limit"].join(",");return S.replace("/upload/",`/upload/${j}/`)}return S})(e);return r.jsxs("div",{ref:x,className:xe("relative overflow-hidden bg-muted/30",s),style:{width:a,height:n},children:[o==="blur"&&!d&&!h&&r.jsx("div",{className:xe("absolute inset-0 bg-gradient-to-br from-muted/50 to-muted/30","animate-pulse")}),p&&!h&&r.jsx("img",{src:v,alt:t,width:a,height:n,loading:i?"eager":"lazy",decoding:"async",onLoad:y,onError:b,className:xe("w-full h-full object-cover transition-opacity duration-300",d?"opacity-100":"opacity-0")}),h&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 text-muted-foreground",children:r.jsx("span",{className:"text-sm",children:"No Image"})})]})}const Zj=({product:e,viewMode:t="grid",index:s=0})=>{var w,v;const{addToCart:a}=Rp(),{addToWishlist:n,removeFromWishlist:i,isInWishlist:o}=VI(),l=o(e.id),[c,d]=f.useState(!1),[u,h]=f.useState(!1),m=async S=>{if(S.preventDefault(),S.stopPropagation(),!c){if(!e.id){console.error("Product ID is missing:",e),yr({title:"",description:"   ",variant:"destructive"});return}d(!0);try{let j;if(e.variants&&Array.isArray(e.variants)&&e.variants.length>0){const k=e.variants[0];k&&k.id&&(j=k.id)}await a(e.id,1,j),yr({title:"  !",description:`  ${String(e.name||"")}  `})}catch(j){const k=j;console.error("Failed to add to cart:",k),yr({title:" ",description:(k==null?void 0:k.message)||"      ",variant:"destructive"})}finally{d(!1)}}},p=S=>{S.preventDefault(),S.stopPropagation(),l?i(e.id):n(e)},g=((v=(w=e.images)==null?void 0:w[0])==null?void 0:v.url)||"/placeholder.svg",x=Number(e.price)||0,y=e.compareAtPrice?Number(e.compareAtPrice):0,b=y>x?Math.round((y-x)/y*100):0;return t==="list"?r.jsx(tt,{to:`/products/${e.id}`,className:"block group animate-slide-up",style:{animationDelay:`${s*100}ms`},children:r.jsx("div",{className:"relative overflow-hidden rounded-xl border border-border/50 hover:border-primary/50 bg-card transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 group",children:r.jsxs("div",{className:"flex gap-4 p-4 relative",children:[r.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 overflow-hidden bg-muted/30 rounded-lg",children:[b>0&&r.jsxs(et,{className:"absolute top-2 right-2 z-10 gradient-accent text-white px-2 py-0.5 text-xs font-bold shadow-sm",children:[b,"%"]}),r.jsx(T0,{src:g,alt:String(e.name||""),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})]}),r.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground group-hover:text-primary transition-colors line-clamp-1",children:String(e.name||"")}),e.description&&typeof e.description=="string"&&r.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-2",children:e.description})]}),r.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-xl font-bold text-foreground",children:[x.toFixed(2)," ",r.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"."})]}),y>x&&r.jsx("span",{className:"text-sm text-muted-foreground line-through",children:y.toFixed(2)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{size:"icon",variant:"ghost",onClick:p,className:xe("h-9 w-9 rounded-lg transition-colors",l?"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30":"text-muted-foreground hover:text-foreground"),children:r.jsx(kn,{className:xe("h-5 w-5",l&&"fill-current")})}),r.jsxs(V,{size:"sm",onClick:m,disabled:c,className:"gap-2 gradient-primary hover:shadow-md transition-all duration-300 rounded-lg font-medium h-9 px-4",children:[r.jsx(Or,{className:"h-4 w-4"}),c?"...":""]})]})]})]})]})})}):r.jsx(tt,{to:`/products/${e.id}`,className:"block group animate-scale-in",style:{animationDelay:`${s*75}ms`},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:r.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-border/40 hover:border-primary/40 bg-card transition-all duration-300 h-full flex flex-col hover:shadow-lg hover:-translate-y-1 group",children:[r.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted/20",children:[b>0&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs(et,{className:"gradient-accent text-white px-2 py-0.5 text-xs font-bold shadow-sm flex items-center gap-1",children:[r.jsx(zn,{className:"w-3 h-3"}),b,"%"]})}),r.jsx("button",{onClick:p,className:xe("absolute top-2 left-2 z-10 p-2 rounded-lg backdrop-blur-sm transition-all duration-200 shadow-sm",l?"bg-white/90 text-red-500 shadow-sm":"bg-black/20 text-white hover:bg-white/90 hover:text-red-500"),children:r.jsx(kn,{className:xe("h-4 w-4",l&&"fill-current")})}),r.jsx("div",{className:xe("absolute inset-0 bg-black/40 flex items-center justify-center transition-all duration-300",u?"opacity-100":"opacity-0"),children:r.jsxs(V,{size:"sm",variant:"secondary",className:"gap-2 bg-white/95 hover:bg-white shadow-lg rounded-lg backdrop-blur-sm transform transition-all duration-300 translate-y-2 group-hover:translate-y-0",children:[r.jsx(Cr,{className:"h-4 w-4"}),""]})}),r.jsx(T0,{src:g,alt:String(e.name||""),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})]}),r.jsxs("div",{className:"p-4 flex flex-col flex-1 relative",children:[r.jsxs("div",{className:"flex items-center gap-0.5 mb-1.5",children:[[1,2,3,4,5].map(S=>r.jsx(Jo,{className:xe("h-3 w-3",S<=4?"fill-amber-400 text-amber-400":"fill-muted text-muted")},S)),r.jsx("span",{className:"text-[10px] text-muted-foreground mr-1",children:"(24)"})]}),r.jsx("h3",{className:"font-semibold text-base mb-1.5 line-clamp-1 text-foreground group-hover:text-primary transition-colors",children:String(e.name||"")}),r.jsxs("div",{className:"mt-auto pt-2 flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsx("span",{className:"text-lg font-bold text-foreground",children:x.toFixed(2)}),r.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"."})]}),y>x&&r.jsx("span",{className:"text-xs text-muted-foreground line-through",children:y.toFixed(2)})]}),r.jsxs(V,{size:"sm",onClick:m,disabled:c,className:xe("h-9 px-4 rounded-lg font-medium transition-all duration-300","gradient-primary text-white hover:shadow-md hover:scale-105","active:scale-95"),children:[r.jsx(Or,{className:"h-4 w-4 ml-1.5"}),c?"...":""]})]})]})]})})},jW={getCart:()=>Q.fetch(`${Q.coreUrl}/merchant/cart`,{requireAuth:!0}),addItem:(e,t,s)=>Q.fetch(`${Q.coreUrl}/merchant/cart/items`,{method:"POST",body:JSON.stringify({productId:e,qty:t,metadata:s}),requireAuth:!0}),updateItem:(e,t)=>Q.fetch(`${Q.coreUrl}/merchant/cart/items/${e}`,{method:"PATCH",body:JSON.stringify({qty:t}),requireAuth:!0}),removeItem:e=>Q.fetch(`${Q.coreUrl}/merchant/cart/items/${e}`,{method:"DELETE",requireAuth:!0}),clearCart:()=>Q.fetch(`${Q.coreUrl}/merchant/cart`,{method:"DELETE",requireAuth:!0})};function Aut({props:e}){ts();const{t}=It(),[s]=Bm(),{user:a}=$s(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p]=f.useState({title:"",description:"",orderId:"",priority:"MEDIUM"}),[g,x]=f.useState(!1),[y,b]=f.useState(!1),[w,v]=f.useState({name:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"",email:(a==null?void 0:a.email)||"",subject:"",message:""}),[S,j]=f.useState(""),k=s.get("customerId")||localStorage.getItem("selectedCustomerId"),N=s.get("customerName")||localStorage.getItem("selectedCustomerName"),A=((a==null?void 0:a.role)==="SUPER_ADMIN"||(a==null?void 0:a.role)==="ADMIN")&&k,E=f.useCallback(async()=>{try{l(!0);try{const O=await fe.get("/support-tickets",{requireAuth:!1});if(Array.isArray(O))i(O);else if(O&&"tickets"in O&&Array.isArray(O.tickets))i(O.tickets);else throw new Error("Support tickets endpoint not available")}catch{console.log("Support tickets endpoint not available, using orders as fallback");const O=await Q.fetch(`${Q.coreUrl}/merchant/orders?status=PENDING`,{requireAuth:!1}).catch(()=>({items:[]})),M=((O==null?void 0:O.items)||[]).map(I=>({id:I.id,dateAdded:I.createdAt,createdAt:I.createdAt,updatedAt:I.createdAt,title:t("sections.supportTickets.orderTicketTitle","Order {{number}}",{number:I.orderNumber}),ticketNumber:I.orderNumber,orderNumber:I.orderNumber,status:I.status,description:""}));i(M)}}catch(_){console.error("Failed to load tickets:",_),i([])}finally{l(!1)}},[t]),D=f.useCallback(async()=>{var _;try{const O=await fe.get("/site-config",{requireAuth:!1}),M=((_=O==null?void 0:O.settings)==null?void 0:_.email)||"";j(M)}catch(O){console.error("Failed to load store email:",O)}},[]);f.useEffect(()=>{E(),D()},[E,D]);const T=async()=>{if(!m.title.trim()||!m.description.trim()){yr({variant:"destructive",title:"",description:"    "});return}try{h(!0);const _={title:m.title,description:m.description,orderId:m.orderId||void 0,priority:m.priority};try{await fe.post("/support-tickets",_,{requireAuth:!0}),yr({title:"  ",description:"    "}),d(!1),p({title:"",description:"",orderId:"",priority:"MEDIUM"}),E()}catch{console.log("Support ticket creation endpoint not available yet"),yr({title:"  ",description:"   "}),d(!1),p({title:"",description:"",orderId:"",priority:"MEDIUM"})}}catch(_){console.error("Failed to create ticket:",_),yr({title:t("common.error","Error"),description:(_==null?void 0:_.message)||t("sections.supportTickets.createError","Failed to create ticket"),variant:"destructive"})}finally{h(!1)}},P=async()=>{if(!w.name.trim()||!w.email.trim()||!w.message.trim()){yr({variant:"destructive",title:"",description:"     "});return}if(!S){yr({variant:"destructive",title:"",description:"    .    ."});return}try{b(!0);const _=await Q.fetch(`${Q.coreUrl}/site-config/contact`,{method:"POST",body:JSON.stringify({name:w.name,email:w.email,subject:w.subject||t("sections.supportTickets.contactSubject","Message from {{name}}",{name:w.name}),message:w.message}),requireAuth:!1});_!=null&&_.success&&(yr({title:"  ",description:"     .   ."}),x(!1),v({name:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"",email:(a==null?void 0:a.email)||"",subject:"",message:""}))}catch(_){console.error("Failed to send contact email:",_),yr({variant:"destructive",title:"",description:(_==null?void 0:_.message)||"   .    ."})}finally{b(!1)}};return o?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.supportTickets.title","Support Tickets")}),A&&r.jsx(et,{variant:"outline",className:"text-sm px-3 py-1",children:t("sections.supportTickets.managerBadge","Store Manager: {{name}}",{name:N||t("common.selectedCustomer","Selected Customer")})})]}),r.jsxs(V,{className:"bg-green-600 hover:bg-green-700",onClick:()=>d(!0),children:[r.jsx(rr,{className:"ml-2 h-5 w-5"}),t("sections.supportTickets.addTicket","Add Ticket")]})]}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:n.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.ticketNumber","Ticket Number")}),r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.dateAdded","Date Added")}),r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.ticketTitle","Title")}),r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.orderNumber","Order Number")}),r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.status","Status")}),r.jsx(Ae,{className:"text-right",children:t("sections.supportTickets.description","Description")})]})}),r.jsx(us,{children:n.map(_=>r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-mono text-sm",children:_.ticketNumber||_.id.slice(0,8)}),r.jsx(Ne,{children:new Date(_.dateAdded||_.createdAt).toLocaleDateString("ar-SA")}),r.jsx(Ne,{children:_.title}),r.jsx(Ne,{children:_.orderNumber||_.orderId||"-"}),r.jsx(Ne,{children:r.jsx(et,{variant:_.status==="OPEN"||_.status==="PENDING"?"secondary":_.status==="RESOLVED"?"default":"outline",children:_.status==="OPEN"?t("common.status.open","Open"):_.status==="PENDING"?t("common.status.pending","Pending"):_.status==="RESOLVED"?t("common.status.resolved","Resolved"):_.status==="IN_PROGRESS"?t("common.status.inProgress","In Progress"):_.status})}),r.jsx(Ne,{children:_.description})]},_.id))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(ka,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("sections.supportTickets.noTickets","No tickets found")})]})})}),r.jsxs(we,{className:"border-0 shadow-md",children:[r.jsx(st,{children:r.jsx(it,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("sections.supportTickets.contactUs","Contact Us")})}),r.jsxs(Se,{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t("sections.supportTickets.contactDesc","Have a question or need help? Send us a message and we'll get back to you as soon as possible.")}),S&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-4",children:[t("sections.supportTickets.storeEmail","Store Email:")," ",r.jsx("span",{className:"font-mono",children:S})]}),r.jsxs(V,{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Cn,{className:"ml-2 h-5 w-5"}),t("sections.supportTickets.sendMessage","Send Message")]})]})]}),r.jsx(ir,{open:c,onOpenChange:d,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:t("sections.supportTickets.createTitle","Create New Ticket")}),r.jsx(pr,{children:t("sections.supportTickets.createDesc","Please provide details about your issue")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.supportTickets.form.title","Title")}),r.jsx(pe,{value:m.title,onChange:_=>p({...m,title:_.target.value}),placeholder:t("sections.supportTickets.form.titlePlaceholder","Issue Title")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.supportTickets.form.description","Description")}),r.jsx(Ys,{value:m.description,onChange:_=>p({...m,description:_.target.value}),placeholder:t("sections.supportTickets.form.descriptionPlaceholder","Describe your issue...")})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>d(!1),disabled:u,children:t("common.cancel","Cancel")}),r.jsx(V,{onClick:T,disabled:u||!m.title.trim()||!m.description.trim(),className:"bg-green-600 hover:bg-green-700",children:u?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),t("sections.supportTickets.creating","Creating...")]}):t("sections.supportTickets.createButton","Create Ticket")})]})]})}),r.jsx(ir,{open:g,onOpenChange:x,children:r.jsxs(ar,{className:"max-w-2xl",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:t("sections.supportTickets.contactUs","Contact Us")}),r.jsx(pr,{children:t("sections.supportTickets.contactDialogDesc","Send a message to the store support team")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.supportTickets.contactForm.name","Name")}),r.jsx(pe,{value:w.name,onChange:_=>v({...w,name:_.target.value}),placeholder:t("sections.supportTickets.contactForm.namePlaceholder","Your name")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.supportTickets.contactForm.email","Email")}),r.jsx(pe,{type:"email",value:w.email,onChange:_=>v({...w,email:_.target.value}),placeholder:t("sections.supportTickets.contactForm.emailPlaceholder","your.email@example.com")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[t("sections.supportTickets.contactForm.subject","Subject")," (",t("common.optional","Optional"),")"]}),r.jsx(pe,{value:w.subject,onChange:_=>v({...w,subject:_.target.value}),placeholder:t("sections.supportTickets.contactForm.subjectPlaceholder","Message subject")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.supportTickets.contactForm.message","Message")}),r.jsx(Ys,{value:w.message,onChange:_=>v({...w,message:_.target.value}),placeholder:t("sections.supportTickets.contactForm.messagePlaceholder","Your message..."),rows:6})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),disabled:y,children:t("common.cancel","Cancel")}),r.jsx(V,{onClick:P,disabled:y||!w.name.trim()||!w.email.trim()||!w.message.trim(),className:"bg-blue-600 hover:bg-blue-700",children:y?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),t("sections.supportTickets.sending","Sending...")]}):r.jsxs(r.Fragment,{children:[r.jsx(Cn,{className:"ml-2 h-4 w-4"}),t("sections.supportTickets.sendButton","Send Message")]})})]})]})})]})})}function Eut({props:e}){const t=ts(),{t:s}=It(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState({});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const[S,j]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/favorites?type=product`,{requireAuth:!0}).catch(()=>[]),Q.fetch(`${Q.coreUrl}/merchant/cart`,{requireAuth:!0}).catch(()=>({items:[]}))]),k=Array.isArray(S)&&!vo(S)?S.filter(C=>!vo(C)):[];n(k);let N=j;j&&typeof j=="object"&&"data"in j&&"success"in j&&(N=j.data),N&&typeof N=="object"&&!vo(N)&&Array.isArray(N.items)?o(j.items):o([])}catch(S){console.error("Failed to load favorites:",S),n([]),o([])}finally{c(!1)}},g=(S,j,k=1,N=100)=>{m(C=>{const A=C[S]||1,E=Math.max(k,Math.min(N,A+j));return{...C,[S]:E}})},x=async S=>{try{const j=h[S]||1,k=await jW.addItem(S,j);let N=k;k&&typeof k=="object"&&"data"in k&&"success"in k&&(N=k.data),N&&Array.isArray(N.items)&&o(N.items),yr({title:s("common.success"),description:s("sections.favoritesPage.addedToCart","Added to cart successfully")})}catch(j){console.error("Failed to add to cart:",j),yr({title:s("common.error"),description:s("sections.favoritesPage.failedToAddToCart","Failed to add to cart"),variant:"destructive"})}},y=async S=>{try{const j=await jW.removeItem(S);let k=j;j&&typeof j=="object"&&"data"in j&&"success"in j&&(k=j.data),k&&Array.isArray(k.items)&&o(k.items)}catch(j){console.error("Failed to remove from cart:",j)}},b=a.filter(S=>{var k,N;const j=S.snapshot||S;return!d||((k=j.name)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((N=j.nameAr)==null?void 0:N.toLowerCase().includes(d.toLowerCase()))}),w=i.reduce((S,j)=>S+(j.lineTotal||j.effectiveUnitPrice*j.qty||0),0),v=i.reduce((S,j)=>S+(j.qty||0),0);return l?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-1 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||s("sections.favoritesPage.title","Favorite Cards")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:s("sections.favoritesPage.searchPlaceholder","Search for a card..."),value:d,onChange:S=>u(S.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),r.jsx(Mr,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("sections.favoritesPage.selectCard","Select Card")}),r.jsx("div",{className:"space-y-4",children:b.map(S=>{var C;const j=S.snapshot||S,k=j.wholesalePrice||j.costPerItem||0,N=j.price||j.retailPrice||0;return r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex gap-4",children:[j.image&&r.jsx("img",{src:j.image,alt:j.name,className:"w-24 h-24 rounded object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:j.nameAr||j.name}),r.jsx("p",{className:"text-sm text-gray-500",children:j.brandName||((C=j.brand)==null?void 0:C.name)})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:r.jsx(kn,{className:"h-5 w-5 fill-current"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500",children:[s("sections.favoritesPage.wholesalePrice","Wholesale Price"),":"]}),r.jsxs("p",{className:"font-semibold",children:["$",k.toFixed(6)]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500",children:[s("sections.favoritesPage.retailPrice","Retail Price"),":"]}),r.jsxs("p",{className:"font-semibold",children:["$",N.toFixed(6)]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(j.id,-1,j.minQuantity||1,j.maxQuantity||100),children:"-"}),r.jsx("span",{className:"w-12 text-center",children:h[j.id]||1}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(j.id,1,j.minQuantity||1,j.maxQuantity||100),children:"+"})]}),r.jsx(V,{className:"bg-green-600 hover:bg-green-700",onClick:()=>x(j.id),children:s("sections.favoritesPage.addToCart","Add to Cart")})]})]})]})})},S.id||j.id)})}),b.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(kn,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:s("sections.favoritesPage.noFavorites","No favorite cards")})]}),b.length>0&&r.jsx("div",{className:"text-sm text-gray-500 text-center",children:s("sections.favoritesPage.paginationInfo","Showing 1 to {{count}} of {{total}} cards",{count:b.length,total:b.length})})]})}),r.jsxs("div",{className:"w-80 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:s("sections.favoritesPage.cartTitle","Shopping Cart")}),i.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4 mb-6 max-h-[60vh] overflow-y-auto",children:i.map(S=>{var j;return r.jsxs("div",{className:"flex gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[S.productImage&&r.jsx("img",{src:S.productImage,alt:S.productName,className:"w-16 h-16 rounded object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:S.productNameAr||S.productName}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s("common.quantity","Qty"),": ",S.qty]}),r.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["$",((j=S.lineTotal)==null?void 0:j.toFixed(6))||(S.effectiveUnitPrice*S.qty).toFixed(6)]})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>y(S.id),children:r.jsx(jr,{className:"h-4 w-4"})})]},S.id)})}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s("sections.favoritesPage.cartCount","Card Count")}),r.jsxs("span",{className:"font-medium",children:[v," ",s("common.cards","Cards")]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsxs("span",{className:"text-gray-900 dark:text-white",children:[s("sections.favoritesPage.total","Total"),":"]}),r.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",w.toFixed(6)]})]}),r.jsx(V,{className:"w-full mt-4 bg-green-600 hover:bg-green-700",onClick:()=>t("/store"),children:s("sections.favoritesPage.checkout","Checkout")})]})]}):r.jsxs("div",{className:"text-center py-12 text-gray-400",children:[r.jsx(Or,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("p",{children:s("sections.favoritesPage.cartEmpty","Cart is empty")})]})]})]})})}function Put({props:e}){const{t}=It(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=async()=>{try{l(!0);const p=await Is.getTransactions(1,50).catch(()=>({data:[],items:[],transactions:[]}));let g=[];const x=p;Array.isArray(x.data)?g=x.data:Array.isArray(x.items)?g=x.items:Array.isArray(x.transactions)&&(g=x.transactions);const y=await Is.getTopUpRequests().catch(()=>[]);let b=[];Array.isArray(y)?b=y:y&&typeof y=="object"&&"data"in y&&Array.isArray(y.data)?b=y.data:y&&typeof y=="object"&&"items"in y&&Array.isArray(y.items)&&(b=y.items),a(g),i(b)}catch(p){console.error("Failed to load balance operations:",p),a([]),i([])}finally{l(!1)}};return f.useEffect(()=>{m();const p=()=>m();return window.addEventListener("wallet-recharge-success",p),()=>window.removeEventListener("wallet-recharge-success",p)},[]),o&&s.length===0&&n.length===0?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"}),r.jsx("p",{className:"text-sm text-gray-500",children:t("common.loading","Loading...")})]})}):r.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.balanceOperations.title","Balance Operations")}),r.jsxs(V,{variant:"outline",size:"sm",onClick:m,disabled:o,className:"gap-2",children:[r.jsx(mc,{className:`h-4 w-4 ${o?"animate-spin":""}`}),t("common.refresh","Refresh")]})]}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:s.length>0||n.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.id","ID")}),r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.date","Date")}),r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.description","Description")}),r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.action","Action")}),r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.status","Status")}),r.jsx(Ae,{className:"text-right",children:t("sections.balanceOperations.amount","Amount")})]})}),r.jsxs(us,{children:[n.map(p=>{var g;return r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-mono text-sm",children:((g=p.id)==null?void 0:g.slice(0,8))||"N/A"}),r.jsx(Ne,{children:new Date(p.createdAt||p.date).toLocaleDateString("ar-SA")}),r.jsx(Ne,{children:p.notes||(p.paymentMethod==="BANK_TRANSFER"?t("sections.chargeWallet.methods.bankTransfer","Bank Transfer"):p.paymentMethod)||t("sections.balanceOperations.topupRequest","Top-up Request")}),r.jsx(Ne,{children:r.jsx(et,{variant:"default",children:t("sections.balanceOperations.deposit","Deposit")})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(et,{variant:p.status==="APPROVED"?"default":p.status==="REJECTED"?"destructive":"secondary",children:p.status==="PENDING"?t("common.status.pending","Pending"):p.status==="APPROVED"?t("common.status.approved","Approved"):p.status==="REJECTED"?t("common.status.rejected","Rejected"):p.status||t("common.status.pending","Pending")}),p.status==="REJECTED"&&p.rejectionReason&&r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{h(p.rejectionReason),d(!0)},className:"h-8 w-8 p-0",title:t("sections.balanceOperations.viewRejectionReason","View rejection reason"),children:r.jsx(Pb,{className:"h-4 w-4 text-destructive"})})]})}),r.jsxs(Ne,{className:"font-semibold",children:["+",Math.abs(Number(p.amount)||0).toFixed(2)," ",p.currency||"SAR"]})]},`request-${p.id}`)}),s.map(p=>{var g;return r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-mono text-sm",children:((g=p.id)==null?void 0:g.slice(0,8))||"N/A"}),r.jsx(Ne,{children:new Date(p.createdAt||p.date).toLocaleDateString("ar-SA")}),r.jsx(Ne,{children:p.description||p.type||"N/A"}),r.jsx(Ne,{children:r.jsx(et,{variant:p.type==="TOPUP"||p.type==="DEPOSIT"?"default":"secondary",children:p.type==="TOPUP"||p.type==="DEPOSIT"?t("sections.balanceOperations.deposit","Deposit"):t("sections.balanceOperations.withdraw","Withdraw")})}),r.jsx(Ne,{children:r.jsx(et,{variant:p.status==="COMPLETED"?"default":"secondary",children:p.status==="COMPLETED"?t("common.status.completed","Completed"):p.status||t("common.status.pending","Pending")})}),r.jsxs(Ne,{className:"font-semibold",children:[p.type==="TOPUP"||p.type==="DEPOSIT"?"+":"-",Math.abs(Number(p.amount)||Number(p.value)||0).toFixed(2)," ",p.currency||"SAR"]})]},`tx-${p.id}`)})]})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(ka,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("common.noData","No data")})]})})})]}),r.jsx(ir,{open:c,onOpenChange:d,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Xs,{className:"h-5 w-5 text-destructive"}),t("sections.balanceOperations.rejectionReason","Rejection Reason")]}),r.jsx(pr,{children:t("sections.balanceOperations.rejectionReasonDescription","The reason why your top-up request was rejected")})]}),r.jsx("div",{className:"py-4",children:r.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:u||t("sections.balanceOperations.noReasonProvided","No reason provided")})})}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>d(!1),children:t("common.close","Close")})})]})})]})}function Tut({props:e}){ts();const{t}=It(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("employees"),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,b]=f.useState(!1),[w,v]=f.useState(null),[S,j]=f.useState(""),[k,N]=f.useState([]),[C,A]=f.useState([]),[E,D]=f.useState(!1),[T,P]=f.useState({name:"",description:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),[_,O]=f.useState({email:"",phone:"",groupId:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),[M,I]=f.useState(!1),[R,L]=f.useState(null),[K,H]=f.useState(!1),[F,G]=f.useState(""),[U,W]=f.useState(""),[J,z]=f.useState(!1),ie=me=>{var Ue,ce,Ee,Pe,$e,We,Xe,Ce,Ye,ft,Pt,vt,Qt;L(me),O({email:me.email||me.username||"",phone:me.phone||"",groupId:me.groupId||"",permissions:{ordersCreate:((Ue=me.permissions)==null?void 0:Ue.includes("store:orders:create"))||!1,ordersRead:((ce=me.permissions)==null?void 0:ce.includes("store:orders:view"))||!1,reportsRead:((Ee=me.permissions)==null?void 0:Ee.includes("store:analytics:view"))||!1,walletRead:((Pe=me.permissions)==null?void 0:Pe.includes("store:wallet:view"))||!1,playersWrite:(($e=me.permissions)==null?void 0:$e.includes("store:customers:edit"))||!1,employeesManage:((We=me.permissions)==null?void 0:We.includes("store:employees:manage"))||!1,settingsWrite:((Xe=me.permissions)==null?void 0:Xe.includes("store:settings:update"))||!1,invoicesRead:((Ce=me.permissions)==null?void 0:Ce.includes("store:invoices:view"))||!1,mobileAccess:((Ye=me.permissions)==null?void 0:Ye.includes("mobile:merchant:access"))||!1,mobileOrders:((ft=me.permissions)==null?void 0:ft.includes("mobile:merchant:orders"))||!1,mobileProducts:((Pt=me.permissions)==null?void 0:Pt.includes("mobile:merchant:products"))||!1,mobileCustomers:((vt=me.permissions)==null?void 0:vt.includes("mobile:merchant:customers"))||!1,mobileAnalytics:((Qt=me.permissions)==null?void 0:Qt.includes("mobile:merchant:analytics"))||!1}}),p(!0)};f.useEffect(()=>{se(),re()},[]),f.useEffect(()=>{m&&q()},[m]);const re=async()=>{try{N([{id:"1",name:" ",description:"  ",permissions:{ordersCreate:!0,ordersRead:!0,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}},{id:"2",name:" ",description:"   ",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!0,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!0,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}},{id:"3",name:" ",description:"  ",permissions:{ordersCreate:!0,ordersRead:!0,reportsRead:!0,walletRead:!0,playersWrite:!0,employeesManage:!0,settingsWrite:!0,invoicesRead:!0,mobileAccess:!0,mobileOrders:!0,mobileProducts:!0,mobileCustomers:!0,mobileAnalytics:!0}}])}catch(me){console.error("Failed to load groups:",me),N([])}},q=async()=>{try{D(!0);const me=await fe.get("/dashboard/customers",{requireAuth:!1});console.log(" EmployeesPageSection: Customers response:",me);let Ue=[];Array.isArray(me)?Ue=me:me&&typeof me=="object"&&(Array.isArray(me.customers)?Ue=me.customers:Array.isArray(me.data)?Ue=me.data:me.data&&Array.isArray(me.data.customers)&&(Ue=me.data.customers)),console.log(" EmployeesPageSection: Extracted customers data:",Ue),A(Ue),Ue.length===0&&console.warn(" EmployeesPageSection: No customers found in response")}catch(me){console.error(" EmployeesPageSection: Failed to load customers:",me),A([])}finally{D(!1)}};f.useEffect(()=>{if(c){const me=n.filter(Ue=>{var ce,Ee,Pe;return((ce=Ue.name)==null?void 0:ce.toLowerCase().includes(c.toLowerCase()))||((Ee=Ue.username)==null?void 0:Ee.toLowerCase().includes(c.toLowerCase()))||((Pe=Ue.phone)==null?void 0:Pe.includes(c))});a(me)}else a(n)},[c,n]);const se=async()=>{try{l(!0);const me=await Q.fetch(`${Q.coreUrl}/merchant/employees`,{requireAuth:!0}).catch(()=>[]),Ue=Array.isArray(me)?me:(me==null?void 0:me.data)||[];i(Ue),a(Ue)}catch(me){console.error("Failed to load employees:",me),i([]),a([])}finally{l(!1)}},B=async()=>{try{await navigator.clipboard.writeText(F),z(!0),yr({title:t("common.copied","Copied"),description:t("common.passwordCopied","Password copied to clipboard")}),setTimeout(()=>z(!1),2e3)}catch(me){console.error("Failed to copy password:",me),yr({title:t("common.error","Error"),description:t("common.copyFailed","Failed to copy password. Please copy manually."),variant:"destructive"})}},oe=async me=>{var Ue;if(me&&me.preventDefault(),!_.email||!_.email.trim()){yr({title:t("common.error","Error"),description:t("sections.employeesPage.form.emailRequired","Email is required"),variant:"destructive"});return}try{I(!0);let ce=_.permissions;if(_.groupId){const Pe=k.find($e=>$e.id===_.groupId);Pe&&(ce=Pe.permissions)}const Ee={email:_.email.trim(),phone:((Ue=_.phone)==null?void 0:Ue.trim())||void 0,permissions:ce};if(R)await Q.fetch(`${Q.coreUrl}/merchant/employees/${R.id}`,{method:"PUT",body:JSON.stringify(Ee),requireAuth:!0}),yr({title:t("common.success","Success"),description:t("sections.employeesPage.employeeUpdated","Employee updated successfully"),variant:"default"});else{const $e=await Q.fetch(`${Q.coreUrl}/merchant/employees`,{method:"POST",body:JSON.stringify(Ee),requireAuth:!0});$e.password?(G($e.password),W(_.email),H(!0),console.log(`Employee Password for ${_.email}: ${$e.password}`)):yr({title:t("common.success","Success"),description:t("sections.employeesPage.employeeCreated","Employee created successfully")})}p(!1),L(null),O({email:"",phone:"",groupId:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),se()}catch(ce){console.error("Failed to create/update employee:",ce),yr({title:t("common.error","Error"),description:(ce==null?void 0:ce.message)||t("sections.employeesPage.employeeError","Failed to save employee. Please try again."),variant:"destructive"})}finally{I(!1)}},de=async()=>{if(!w||!S||isNaN(Number(S))||Number(S)<=0){yr({title:"",description:"   ",variant:"destructive"});return}try{I(!0),await Q.fetch(`${Q.coreUrl}/merchant/employees/${w.id}/balance`,{method:"POST",body:JSON.stringify({amount:Number(S)}),requireAuth:!0}),yr({title:" ",description:"    ",variant:"default"}),b(!1),v(null),j(""),se()}catch(me){console.error("Failed to add balance:",me),yr({title:"",description:(me==null?void 0:me.message)||"  ",variant:"destructive"})}finally{I(!1)}},Te=async me=>{if(confirm("      "))try{await Q.fetch(`${Q.coreUrl}/merchant/employees/${me}`,{method:"DELETE",requireAuth:!0}),yr({title:" ",description:"   ",variant:"default"}),se()}catch(Ue){console.error("Failed to delete employee:",Ue),yr({title:"",description:"  .    .",variant:"destructive"})}},He=async()=>{if(!T.name){yr({title:"  ",description:"   ",variant:"destructive"});return}try{I(!0);const me={id:Date.now().toString(),...T,employeeCount:0};N([...k,me]),yr({title:" ",description:"   ",variant:"default"}),x(!1),P({name:"",description:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}})}catch(me){console.error("Failed to create group:",me),yr({title:"",description:"  .    .",variant:"destructive"})}finally{I(!1)}},Oe=async me=>{if(confirm("      "))try{N(k.filter(Ue=>Ue.id!==me)),yr({title:" ",description:"   ",variant:"default"})}catch(Ue){console.error("Failed to delete group:",Ue),yr({title:t("dashboard.orders.rejectError"),description:Ue==null?void 0:Ue.message,variant:"destructive"})}};return o?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{variant:"ghost",className:u==="employees"?"border-b-2 border-primary font-semibold":"",onClick:()=>h("employees"),children:t("sections.employeesPage.tabs.employees","Employees List")}),r.jsx(V,{variant:"ghost",className:u==="groups"?"border-b-2 border-primary font-semibold":"",onClick:()=>h("groups"),children:t("sections.employeesPage.tabs.groups","Employee Groups")})]}),r.jsxs("div",{className:"flex gap-4",children:[u==="employees"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:t("sections.employeesPage.searchPlaceholder","Search for employee"),value:c,onChange:me=>d(me.target.value),className:"px-4 py-2 pr-10 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"})]}),r.jsxs(V,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>p(!0),children:[r.jsx(rr,{className:"ml-2 h-5 w-5"}),t("sections.employeesPage.addEmployee","Add New Employee")]})]}),u==="groups"&&r.jsxs(V,{className:"bg-green-600 hover:bg-green-700",onClick:()=>x(!0),children:[r.jsx(rr,{className:"ml-2 h-5 w-5"}),t("sections.employeesPage.addGroup","Add New Group")]})]})]}),u==="employees"?r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:s.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.name","Name")}),r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.username","Username")}),r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.phone","Phone")}),r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.balance","Balance")}),r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.status","Status")}),r.jsx(Ae,{className:"text-right",children:t("sections.employeesPage.table.actions","Actions")})]})}),r.jsx(us,{children:s.map(me=>r.jsxs(kt,{children:[r.jsx(Ne,{children:me.name}),r.jsx(Ne,{children:me.username}),r.jsx(Ne,{children:me.phone}),r.jsxs(Ne,{children:[Number(me.balance||0).toFixed(2)," SAR"]}),r.jsx(Ne,{children:r.jsx(et,{variant:me.status==="ACTIVE"?"default":"secondary",children:me.status})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ie(me),children:t("common.edit","Edit")}),r.jsxs(V,{variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>{v(me),b(!0)},children:[r.jsx(Na,{className:"h-4 w-4 ml-2"}),t("sections.employeesPage.addBalance","Add Balance")]}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>Te(me.id),children:t("common.delete","Delete")})]})})]},me.id))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(wr,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("sections.employeesPage.noEmployees","No employees found")})]})})}):r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:k.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:k.map(me=>{const Ue=s.filter(ce=>ce.groupId===me.id);return r.jsxs(we,{className:"border-2 hover:border-primary/50 transition-colors",children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx(it,{className:"text-lg mb-1",children:me.name}),r.jsx("p",{className:"text-sm text-gray-500",children:me.description})]}),r.jsx(V,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>Oe(me.id),children:r.jsx(jr,{className:"h-4 w-4"})})]})}),r.jsx(Se,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t("sections.employeesPage.group.employeeCount","Employee Count:")}),r.jsx("span",{className:"font-semibold",children:Ue.length})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:t("sections.employeesPage.group.permissions","Permissions:")}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(me.permissions).map(([ce,Ee])=>Ee&&r.jsx(et,{variant:"secondary",className:"text-xs",children:t(`sections.employeesPage.permissions.${ce}`,ce)},ce))})]}),r.jsx(V,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>{h("employees"),d("")},children:t("sections.employeesPage.group.viewEmployees","View Employees")})]})})]},me.id)})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(wr,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("sections.employeesPage.noGroups","No groups found")}),r.jsx("p",{className:"text-sm mt-2",children:t("sections.employeesPage.dialog.addGroupDesc","Start by creating a new group")})]})})}),r.jsx(ir,{open:m,onOpenChange:me=>{p(me),me||L(null)},children:r.jsxs(ar,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-2xl font-bold",children:R?t("sections.employeesPage.dialog.editEmployeeTitle","Edit Employee"):t("sections.employeesPage.dialog.addEmployeeTitle","Add New Employee")}),r.jsx(pr,{className:"text-base",children:R?t("sections.employeesPage.dialog.editEmployeeDesc","Update employee information"):t("sections.employeesPage.dialog.addEmployeeDesc","Fill in the information below to add a new employee to your store")})]}),r.jsxs("form",{onSubmit:oe,className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"empEmail",children:[t("sections.employeesPage.form.email","Email")," *"]}),r.jsx(pe,{id:"empEmail",type:"email",value:_.email,onChange:me=>O({..._,email:me.target.value}),placeholder:t("sections.employeesPage.form.emailPlaceholder","employee@example.com"),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"empPhone",children:t("sections.employeesPage.form.phone","Phone")}),r.jsx(pe,{id:"empPhone",value:_.phone,onChange:me=>O({..._,phone:me.target.value}),placeholder:t("sections.employeesPage.form.phonePlaceholder","+966 5XX XXX XXX")})]})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"empGroup",children:t("sections.employeesPage.form.group","Group")}),r.jsxs("select",{id:"empGroup",value:_.groupId,onChange:me=>O({..._,groupId:me.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white mt-1",children:[r.jsx("option",{value:"",children:t("sections.employeesPage.form.selectGroup","Select Group (Optional)")}),k.map(me=>r.jsx("option",{value:me.id,children:me.name},me.id))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("sections.employeesPage.form.groupHint","Selecting a group will apply its default permissions")})]}),!_.groupId&&r.jsxs("div",{children:[r.jsx(Y,{className:"mb-3 block",children:t("sections.employeesPage.form.permissions","Permissions")}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(_.permissions).map(([me,Ue])=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx(no,{id:`perm-${me}`,checked:Ue,onCheckedChange:ce=>O({..._,permissions:{..._.permissions,[me]:ce}})}),r.jsx(Y,{htmlFor:`perm-${me}`,className:"text-sm font-normal cursor-pointer",children:t(`sections.employeesPage.permissions.${me}`,me)})]},me))})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>p(!1),children:t("common.cancel","Cancel")}),r.jsx(V,{onClick:()=>oe(),disabled:M,children:M?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.saving","Saving...")]}):R?t("common.saveChanges","Save Changes"):t("sections.employeesPage.dialog.add","Add Employee")})]})]})}),r.jsx(ir,{open:K,onOpenChange:H,children:r.jsxs(ar,{className:"sm:max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:t("sections.employeesPage.passwordDialog.title","Employee Created Successfully")}),r.jsx(pr,{children:t("sections.employeesPage.passwordDialog.description","The employee account has been created. Please copy the password below and share it with the employee.")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.employeesPage.passwordDialog.email","Email")}),r.jsx(pe,{value:U,readOnly:!0,className:"font-mono"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:t("sections.employeesPage.passwordDialog.temporaryPassword","Temporary Password")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(pe,{value:F,readOnly:!0,className:"font-mono text-lg font-bold",type:"text"}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:B,className:"shrink-0",children:J?r.jsx(va,{className:"h-4 w-4 text-green-600"}):r.jsx(sc,{className:"h-4 w-4"})})]})]}),r.jsx(Di,{children:r.jsxs(Oi,{children:[r.jsxs("strong",{children:[t("sections.employeesPage.passwordDialog.important","Important"),":"]})," ",t("sections.employeesPage.passwordDialog.mustChangePassword","The employee will be required to change the password on first login.")]})})]}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>H(!1),children:t("common.understood","Understood")})})]})}),r.jsx(ir,{open:g,onOpenChange:x,children:r.jsxs(ar,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:t("sections.employeesPage.dialog.addGroupTitle","Add New Group")}),r.jsx(pr,{children:t("sections.employeesPage.dialog.addGroupDesc","Create a new group and define its default permissions")})]}),r.jsxs("form",{onSubmit:me=>{me.preventDefault(),He()},className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsxs(Y,{htmlFor:"groupName",children:[t("sections.employeesPage.form.groupName","Group Name")," *"]}),r.jsx(pe,{id:"groupName",value:T.name,onChange:me=>P({...T,name:me.target.value}),placeholder:t("sections.employeesPage.form.groupName","Group Name")})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"groupDescription",children:t("sections.employeesPage.form.groupDesc","Description")}),r.jsx(pe,{id:"groupDescription",value:T.description,onChange:me=>P({...T,description:me.target.value}),placeholder:t("sections.employeesPage.form.groupDesc","Description")})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"mb-3 block",children:t("sections.employeesPage.form.defaultPermissions","Default Permissions")}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(T.permissions).map(([me,Ue])=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx(no,{id:`group-${me}`,checked:Ue,onCheckedChange:ce=>P({...T,permissions:{...T.permissions,[me]:ce}})}),r.jsx(Y,{htmlFor:`group-${me}`,className:"text-sm font-normal cursor-pointer",children:t(`sections.employeesPage.permissions.${me}`,me)})]},me))})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>x(!1),children:t("common.cancel","Cancel")}),r.jsx(V,{onClick:He,disabled:M,children:M?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.loading","Loading...")]}):t("sections.employeesPage.addGroup","Create Group")})]})]})}),r.jsx(ir,{open:y,onOpenChange:b,children:r.jsxs(ar,{className:"max-w-md",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:t("sections.employeesPage.addBalance","Add Balance")}),r.jsx(pr,{children:t("sections.employeesPage.addBalanceDesc","Add balance to employee wallet from your wallet")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:t("sections.employeesPage.form.employee","Employee")}),r.jsx(pe,{value:(w==null?void 0:w.name)||"",disabled:!0})]}),r.jsxs("div",{children:[r.jsxs(Y,{htmlFor:"balanceAmount",children:[t("sections.employeesPage.form.amount","Amount")," (SAR)"]}),r.jsx(pe,{id:"balanceAmount",type:"number",min:"1",value:S,onChange:me=>j(me.target.value),placeholder:"0.00"})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:t("common.cancel","Cancel")}),r.jsx(V,{onClick:de,disabled:M,children:M?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.loading","Loading...")]}):t("common.confirm","Confirm")})]})]})})]})})}function _ut({props:e}){const t=ts(),{t:s,i18n:a}=It(),[n,i]=f.useState("cash"),[o,l]=f.useState(""),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,b]=f.useState("SAR"),[w,v]=f.useState(""),[S,j]=f.useState(!1),[k,N]=f.useState(null),C=f.useRef(null);f.useEffect(()=>{A(),E()},[]);const A=async()=>{try{const P=await Is.getBanks().catch(()=>[]);d(Array.isArray(P)?P:[])}catch(P){console.error("Failed to load banks:",P),d([])}},E=async()=>{try{const P=await Is.getBankAccounts().catch(()=>[]);h(Array.isArray(P)?P:[])}catch(P){console.error("Failed to load customer bank accounts:",P),h([])}},D=async P=>{var _;if(P.preventDefault(),!g||parseFloat(g)<=0){yr({title:s("common.error","Error"),description:s("sections.chargeWallet.amountRequired","Please enter a valid amount greater than 0"),variant:"destructive"});return}if(!o){yr({title:s("common.error","Error"),description:s("sections.chargeWallet.bankRequired","Please select a bank account"),variant:"destructive"});return}j(!0);try{const O=new FormData;O.append("paymentMethod",n),O.append("bankId",o),O.append("amount",g),O.append("currency",y),w&&O.append("transferrerName",w),m&&O.append("senderAccountId",m),k&&O.append("receiptImage",k);const M=await Q.post("/merchant/wallet/recharge",O,{requireAuth:!0});console.log("Recharge response:",M),yr({title:s("sections.chargeWallet.successTitle","Request Sent"),description:s("sections.chargeWallet.successDesc","Balance charge request sent successfully"),variant:"default"}),window.dispatchEvent(new CustomEvent("wallet-recharge-success")),x(""),l(""),p(""),v(""),N(null),C.current&&(C.current.value=""),window.location.pathname!=="/balance-operations"&&t("/balance-operations")}catch(O){console.error("Recharge error:",O);const M=O,I=(M==null?void 0:M.message)||((_=M==null?void 0:M.data)==null?void 0:_.message)||s("sections.chargeWallet.submitError","Failed to send balance charge request");yr({title:s("common.error","Error"),description:I,variant:"destructive"})}finally{j(!1)}},T=P=>{var O;const _=(O=P.target.files)==null?void 0:O[0];if(_){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(_.type)){yr({title:s("common.error","Error"),description:s("sections.chargeWallet.fileTypeError","File must be jpeg, png, jpg, or pdf"),variant:"destructive"});return}if(_.size>10*1024*1024){yr({title:s("common.error","Error"),description:s("sections.chargeWallet.fileSizeError","File size must be less than 10MB"),variant:"destructive"});return}N(_)}};return r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s("sections.chargeWallet.title","Charge Balance")}),r.jsxs("form",{onSubmit:D,className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx(V,{type:"button",variant:n==="cash"?"default":"outline",onClick:()=>i("cash"),className:n==="cash"?"border-b-2 border-primary":"",children:s("sections.chargeWallet.methods.cash","Cash")}),r.jsx(V,{type:"button",variant:n==="visa"?"default":"outline",onClick:()=>i("visa"),className:n==="visa"?"border-b-2 border-primary":"",children:s("sections.chargeWallet.methods.visa","Visa")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.bank","Bank")}),r.jsxs("select",{value:o,onChange:P=>l(P.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[r.jsx("option",{value:"",children:s("sections.chargeWallet.selectBank","Select Bank")}),c.map(P=>r.jsx("option",{value:P.id,children:a.language==="ar"&&P.nameAr||P.name},P.id))]})]}),o&&(()=>{const P=c.find(_=>_.id===o);return P?r.jsxs(we,{className:"border-0 shadow-md",children:[r.jsx(st,{children:r.jsx(it,{children:s("sections.chargeWallet.bankDetails","Bank Account Details")})}),r.jsxs(Se,{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s("sections.chargeWallet.accountName","Account Name:")}),r.jsx("span",{className:"font-medium",children:P.accountHolderName||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s("sections.chargeWallet.accountNumber","Account Number:")}),r.jsx("span",{className:"font-medium font-mono",children:P.accountNumber||"-"})]}),P.iban&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:s("sections.chargeWallet.iban","IBAN:")}),r.jsx("span",{className:"font-medium font-mono text-xs",children:P.iban})]})]})]}):null})(),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.transferrerAccount","Transferrer Account")}),r.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[r.jsx("option",{value:"",children:s("sections.chargeWallet.selectTransferrerAccount","Select Bank Account")}),u.map(P=>r.jsxs("option",{value:P.id,children:[P.bankName," - ",P.accountHolderName," (",P.accountNumber,")"]},P.id))]}),u.length===0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s("sections.chargeWallet.noBankAccounts","No bank accounts found. Please add a bank account first.")}),r.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:()=>t("/bank-accounts"),children:s("sections.chargeWallet.addBankAccount","Add Bank Account")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.transferrerName","Transferrer Name")}),r.jsx("input",{type:"text",value:w,onChange:P=>v(P.target.value),placeholder:s("sections.chargeWallet.transferrerNamePlaceholder","Enter transferrer name"),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.amount","Amount")}),r.jsx("input",{type:"number",value:g,onChange:P=>x(P.target.value),placeholder:"1-",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.currency","Currency")}),r.jsxs("select",{value:y,onChange:P=>b(P.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[r.jsx("option",{value:"SAR",children:s("common.currencies.SAR","SAR")}),r.jsx("option",{value:"AED",children:s("common.currencies.AED","AED")}),r.jsx("option",{value:"KWD",children:s("common.currencies.KWD","KWD")}),r.jsx("option",{value:"USD",children:s("common.currencies.USD","USD")}),r.jsx("option",{value:"QAR",children:s("common.currencies.QAR","QAR")})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:s("sections.chargeWallet.receipt","Receipt Image")}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center",children:[k?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(ka,{className:"h-8 w-8 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:k.name}),r.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>{N(null),C.current&&(C.current.value="")},children:r.jsx(jr,{className:"h-4 w-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(k.size/1024/1024).toFixed(2)," MB"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(An,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s("sections.chargeWallet.receiptHint","Receipt image must be jpeg, png, jpg, or pdf")}),r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>{var P;return(P=C.current)==null?void 0:P.click()},children:[r.jsx(rr,{className:"ml-2 h-4 w-4"}),s("sections.chargeWallet.uploadReceipt","Upload File")]})]}),r.jsx("input",{ref:C,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:T,className:"hidden"})]})]}),r.jsxs(V,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:S,children:[S?r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}):null,S?s("sections.chargeWallet.submitting","Sending..."):s("sections.chargeWallet.submit","Submit")]})]})]})})}function Dut({props:e}){const{t}=It(),[s,a]=f.useState("products"),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,b]=f.useState(""),[w,v]=f.useState({totalAfterTax:0,totalTax:0,totalPrice:0});f.useEffect(()=>{S()},[S]),f.useEffect(()=>{j()},[j]);const S=f.useCallback(async()=>{try{const C=await Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:!1}).catch(()=>[]);h(Array.isArray(C)?C:[])}catch(C){console.error("Failed to load brands:",C)}},[]),j=f.useCallback(async()=>{try{l(!0);let C=[];const A=new URLSearchParams;if(m&&A.append("startDate",m),g&&A.append("endDate",g),c&&A.append("brandId",c),s==="products"){const E=await Q.fetch(`${Q.coreUrl}/merchant/dashboard/reports/top-profitable-products?${A.toString()}`,{requireAuth:!1}).catch(()=>({products:[]}));C=(E==null?void 0:E.products)||[];const D=C.reduce((P,_)=>P+(_.revenue||0),0),T=D*.15;v({totalPrice:D,totalTax:T,totalAfterTax:D+T})}else if(s==="orders"){const E=await Q.fetch(`${Q.coreUrl}/merchant/orders?${A.toString()}`,{requireAuth:!0}).catch(()=>({items:[]}));C=(E==null?void 0:E.items)||[];const D=C.reduce((P,_)=>P+(_.total||0),0),T=C.reduce((P,_)=>P+(_.tax||0),0);v({totalPrice:D-T,totalTax:T,totalAfterTax:D})}else C=[],v({totalAfterTax:0,totalTax:0,totalPrice:0});i(C)}catch(C){console.error("Failed to load report data:",C),i([]),v({totalAfterTax:0,totalTax:0,totalPrice:0})}finally{l(!1)}},[s,m,g,c]),k=C=>{yr({title:t("common.exporting","Exporting..."),description:t("common.exportStarted","Your {{type}} export has started.",{type:C.toUpperCase()})}),setTimeout(()=>{yr({title:t("common.success","Success"),description:t("common.exportComplete","Export completed successfully."),variant:"default"})},1500)},N=n.filter(C=>{var D,T,P,_;if(!y)return!0;const A=y.toLowerCase(),E=C;return s==="products"?((D=E.name)==null?void 0:D.toLowerCase().includes(A))||((T=E.nameAr)==null?void 0:T.toLowerCase().includes(A)):s==="orders"?((P=E.orderNumber)==null?void 0:P.toLowerCase().includes(A))||((_=E.customerName)==null?void 0:_.toLowerCase().includes(A)):!0});return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.reportsPage.title","Reports")}),r.jsxs("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx(V,{variant:"ghost",className:s==="products"?"border-b-2 border-primary text-primary":"",onClick:()=>a("products"),children:t("sections.reportsPage.tabs.products","Products")}),r.jsx(V,{variant:"ghost",className:s==="orders"?"border-b-2 border-primary text-primary":"",onClick:()=>a("orders"),children:t("sections.reportsPage.tabs.orders","Orders")}),r.jsx(V,{variant:"ghost",className:s==="details"?"border-b-2 border-primary text-primary":"",onClick:()=>a("details"),children:t("sections.reportsPage.tabs.orderDetails","Order Details")})]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 self-center",children:t("sections.reportsPage.export","Export:")}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>k("excel"),children:"Excel"}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>k("pdf"),children:"PDF"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white",children:[r.jsx("option",{value:"",children:t("sections.reportsPage.selectBrand","Select Brand")}),u.map(C=>r.jsx("option",{value:C.id,children:C.nameAr||C.name},C.id))]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"date",value:m,onChange:C=>p(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"}),r.jsx("input",{type:"date",value:g,onChange:C=>x(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:t("sections.reportsPage.searchPlaceholder","Search..."),value:y,onChange:C=>b(C.target.value),className:"px-4 py-2 pr-10 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"}),r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalAfterTax","Total After Tax")}),r.jsx("p",{className:"text-2xl font-bold",children:w.totalAfterTax.toFixed(2)})]}),r.jsx(Xr,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalTax","Total Tax")}),r.jsx("p",{className:"text-2xl font-bold",children:w.totalTax.toFixed(2)})]}),r.jsx(an,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalPrice","Total Price")}),r.jsx("p",{className:"text-2xl font-bold",children:w.totalPrice.toFixed(2)})]}),r.jsx(rl,{className:"h-8 w-8 text-purple-600"})]})})})]}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:o?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[200px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):N.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsx(kt,{children:s==="products"?r.jsxs(r.Fragment,{children:[r.jsx(Ae,{className:"text-right",children:"#"}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.productName","Product Name")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.brandName","Brand Name")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.type","Type")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.quantity","Quantity")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.unitPrice","Unit Price")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.totalPrice","Total Price")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.unitTax","Unit Tax")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.totalAfterTax","Total After Tax")})]}):s==="orders"?r.jsxs(r.Fragment,{children:[r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.orderNumber","Order #")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.date","Date")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.customer","Customer")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.status","Status")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.items","Items")}),r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.total","Total")})]}):r.jsx(Ae,{className:"text-right",children:t("sections.reportsPage.table.details","Details")})})}),r.jsx(us,{children:N.map((C,A)=>{var D,T,P,_;const E=C;return r.jsx(kt,{children:s==="products"?r.jsxs(r.Fragment,{children:[r.jsx(Ne,{children:A+1}),r.jsx(Ne,{children:E.nameAr||E.name}),r.jsx(Ne,{children:E.brandName||"N/A"}),r.jsx(Ne,{children:" "}),r.jsx(Ne,{children:E.qty||0}),r.jsxs(Ne,{children:["$",((E.revenue||0)/(E.qty||1)).toFixed(6)]}),r.jsxs(Ne,{children:["$",((D=E.revenue)==null?void 0:D.toFixed(6))||"0.00"]}),r.jsxs(Ne,{children:["$",((E.revenue||0)/(E.qty||1)*.15).toFixed(6)]}),r.jsxs(Ne,{children:["$",((E.revenue||0)*1.15).toFixed(6)]})]}):s==="orders"?r.jsxs(r.Fragment,{children:[r.jsx(Ne,{className:"font-mono",children:E.orderNumber}),r.jsx(Ne,{children:E.createdAt?new Date(E.createdAt).toLocaleDateString("ar-SA"):"-"}),r.jsx(Ne,{children:E.customerName||((T=E.customer)==null?void 0:T.name)||"Guest"}),r.jsx(Ne,{children:r.jsx(et,{variant:E.status==="COMPLETED"?"default":"secondary",children:E.status})}),r.jsx(Ne,{children:((P=E.items)==null?void 0:P.length)||0}),r.jsxs(Ne,{children:["$",(_=E.total)==null?void 0:_.toFixed(6)]})]}):r.jsx(Ne,{colSpan:9,className:"text-center",children:t("common.noData","No details available")})},E.id||A)})})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(Ua,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("sections.reportsPage.noData","No data")})]})})})]})})}function Out({props:e}){const{t}=It(),[s,a]=f.useState(null),[n,i]=f.useState(0),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState("documents");f.useEffect(()=>{m()},[m]);const m=f.useCallback(async()=>{try{d(!0);const[p,g,x]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/profile`,{requireAuth:!1}).catch(()=>null),Q.fetch(`${Q.coreUrl}/transactions/balance`,{requireAuth:!1}).catch(()=>({balance:0})),Q.fetch(`${Q.coreUrl}/merchant/profile/documents`,{requireAuth:!1}).catch(()=>[])]);a(p),i((g==null?void 0:g.balance)||0),l(Array.isArray(x)?x:[])}catch(p){console.error("Failed to load profile:",p)}finally{d(!1)}},[]);return c?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(we,{className:"border-0 shadow-md",children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 mx-auto mb-4 flex items-center justify-center",children:r.jsx(ao,{className:"h-10 w-10 text-gray-400"})}),r.jsx("h2",{className:"text-xl font-bold",children:(s==null?void 0:s.businessName)||"abanoub"}),r.jsx("p",{className:"text-sm text-gray-500",children:(s==null?void 0:s.businessNameAr)||"abanoub"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.profilePage.balance","Balance")}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",n.toFixed(2)]})]}),r.jsxs(V,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[r.jsx(rr,{className:"ml-2 h-4 w-4"}),t("sections.profilePage.addBalance","Add Balance")]})]})]})}),r.jsxs(we,{className:"border-0 shadow-md",children:[r.jsx(st,{children:r.jsx(it,{children:t("sections.profilePage.documents","Documents")})}),r.jsx(Se,{children:o.length>0?r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:t("sections.profilePage.table.fileName","File Name")}),r.jsx(Ae,{children:t("sections.profilePage.table.type","Type")}),r.jsx(Ae,{children:t("sections.profilePage.table.size","Size")}),r.jsx(Ae,{children:t("sections.profilePage.table.uploadDate","Upload Date")}),r.jsx(Ae,{children:t("sections.profilePage.table.action","Action")})]})}),r.jsx(us,{children:o.map(p=>r.jsxs(kt,{children:[r.jsx(Ne,{children:p.fileName}),r.jsx(Ne,{children:p.type}),r.jsx(Ne,{children:p.size}),r.jsx(Ne,{children:new Date(p.uploadedAt).toLocaleDateString("ar-SA")}),r.jsx(Ne,{children:r.jsx(V,{variant:"ghost",size:"sm",children:t("sections.profilePage.download","Download")})})]},p.id))})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[r.jsx(ka,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:t("sections.reportsPage.noData","No data")})]})})]})]}),r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs(we,{className:"border-0 shadow-md",children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:(s==null?void 0:s.businessName)||"abanoub"}),r.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),r.jsx(et,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:t("sections.profilePage.verified","Verified")})]}),r.jsxs("div",{className:"flex gap-4 mt-4",children:[r.jsx(V,{variant:u==="documents"?"default":"ghost",onClick:()=>h("documents"),children:t("sections.profilePage.tabs.documents","Documents")}),r.jsx(V,{variant:u==="edit"?"default":"ghost",onClick:()=>h("edit"),children:t("sections.profilePage.tabs.edit","Edit Profile")})]})]}),r.jsx(Se,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.companyName","Company Name :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.businessName)||"abanoub"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.manager","Manager :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.businessName)||"abanoub"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.phone","Phone :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.phone)||"201029009237"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.email","Email :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.email)||"ai.dev@asuscard.com"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.commercialRecord","Commercial Record :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.taxId)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.taxCard","Tax Card :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.taxCardNumber)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.country","Country :")}),r.jsx("p",{className:"font-medium",children:"  "})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.city","City :")}),r.jsx("p",{className:"font-medium",children:""})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.address","Address :")}),r.jsx("p",{className:"font-medium",children:(s==null?void 0:s.address)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.joinDate","Join Date :")}),r.jsx("p",{className:"font-medium",children:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleString("ar-SA"):"AM 12:00 10/12/2025"})]})]})})})]})})]})})}function Iut({props:e}){const[t,s]=f.useState(null);return f.useEffect(()=>{yy(()=>import("./CardsBankAccounts-BD3W-QZG.js"),[]).then(a=>{s(()=>a.default)})},[]),t?r.jsx(t,{}):r.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})})}function Rut({props:e}){var A;const{t,i18n:s}=It(),a=s.language==="ar",{user:n}=$s(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState("all"),[p,g]=f.useState(null),[x,y]=f.useState(!1),b=a?e.titleAr||e.title||t("sections.customerOrders.title"):e.titleEn||e.title||t("sections.customerOrders.title"),w=a?e.subtitleAr||e.subtitle||t("sections.customerOrders.subtitle"):e.subtitleEn||e.subtitle||t("sections.customerOrders.subtitle"),v=e.showSearch!==!1,S=e.showFilters!==!1,j=e.showStatusBadge!==!1,k=f.useCallback(async()=>{try{c(!0);const E=localStorage.getItem("customerToken"),D=(n==null?void 0:n.email)||localStorage.getItem("lastOrderEmail")||sessionStorage.getItem("guestOrderEmail");if(!E&&!n&&!D)return;let T={data:[]};E||n?T=await Q.fetch(`${Q.coreUrl}/orders`,{headers:E?{Authorization:`Bearer ${E}`}:{},requireAuth:!!n}).catch(()=>({data:[]})):D&&(T=await Q.fetch(`${Q.coreUrl}/guest-checkout/orders-by-email?email=${encodeURIComponent(D)}`,{requireAuth:!1}).catch(()=>[]));const P=E||n?await Q.fetch(`${Q.coreUrl}/card-orders/my-orders`,{headers:E?{Authorization:`Bearer ${E}`}:{},requireAuth:!!n}).catch(()=>({data:[]})):{data:[]},_=Array.isArray(T)?T:(T==null?void 0:T.data)||[],O=Array.isArray(P)?P:(P==null?void 0:P.data)||[],M=[..._,...O.map(I=>({...I,isCardOrder:!0}))].sort((I,R)=>new Date(R.createdAt||R.created_at||0).getTime()-new Date(I.createdAt||I.created_at||0).getTime());o(M)}catch(E){console.error("Failed to load orders:",E),yr({title:t("sections.customerOrders.loadError","  "),description:t("sections.customerOrders.loadErrorDesc","    .    ."),variant:"destructive"})}finally{c(!1)}},[n,t]);f.useEffect(()=>{k()},[k]);const N=E=>{const D={PENDING:{label:t("sections.customerOrders.status.pending"," "),className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",icon:Ri},PROCESSING:{label:t("sections.customerOrders.status.processing"," "),className:"bg-blue-500/10 text-blue-700 border-blue-500/20",icon:Je},SHIPPED:{label:t("sections.customerOrders.status.shipped"," "),className:"bg-purple-500/10 text-purple-700 border-purple-500/20",icon:Or},DELIVERED:{label:t("sections.customerOrders.status.delivered"," "),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:va},APPROVED:{label:t("sections.customerOrders.status.approved"," "),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:va},REJECTED:{label:t("sections.customerOrders.status.rejected",""),className:"bg-red-500/10 text-red-700 border-red-500/20",icon:jr},CANCELLED:{label:t("sections.customerOrders.status.cancelled",""),className:"bg-red-500/10 text-red-700 border-red-500/20",icon:jr},COMPLETED:{label:t("sections.customerOrders.status.completed",""),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:va}},T=D[E]||D.PENDING,P=T.icon;return r.jsxs(et,{variant:"outline",className:`${T.className} gap-1`,children:[r.jsx(P,{className:"h-3 w-3"}),T.label]})},C=i.filter(E=>{var P;const D=(E.orderNumber||E.id||"").toLowerCase().includes(d.toLowerCase())||((P=E.status)==null?void 0:P.toLowerCase().includes(d.toLowerCase())),T=h==="all"||E.status===h;return D&&T});return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold mb-2",children:b}),w&&r.jsx("p",{className:"text-muted-foreground",children:w})]}),(v||S)&&r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[v&&r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mr,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${a?"right-3":"left-3"}`}),r.jsx(pe,{placeholder:t("sections.customerOrders.searchPlaceholder","    ..."),className:a?"pr-9":"pl-9",value:d,onChange:E=>u(E.target.value)})]}),S&&r.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"px-4 py-2 border rounded-md bg-background",children:[r.jsx("option",{value:"all",children:t("sections.customerOrders.allStatuses"," ")}),r.jsx("option",{value:"PENDING",children:t("sections.customerOrders.status.pending"," ")}),r.jsx("option",{value:"PROCESSING",children:t("sections.customerOrders.status.processing"," ")}),r.jsx("option",{value:"SHIPPED",children:t("sections.customerOrders.status.shipped"," ")}),r.jsx("option",{value:"DELIVERED",children:t("sections.customerOrders.status.delivered"," ")}),r.jsx("option",{value:"APPROVED",children:t("sections.customerOrders.status.approved"," ")}),r.jsx("option",{value:"REJECTED",children:t("sections.customerOrders.status.rejected","")}),r.jsx("option",{value:"CANCELLED",children:t("sections.customerOrders.status.cancelled","")}),r.jsx("option",{value:"COMPLETED",children:t("sections.customerOrders.status.completed","")})]})]}),r.jsx(we,{children:r.jsx(Se,{className:"p-0",children:l?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):C.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-40"}),r.jsx("p",{className:"text-muted-foreground",children:t("sections.customerOrders.noOrders","  ")})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:t("sections.customerOrders.orderNumber"," ")}),r.jsx(Ae,{children:t("sections.customerOrders.date","")}),r.jsx(Ae,{children:t("sections.customerOrders.status","")}),r.jsx(Ae,{children:t("sections.customerOrders.total","")}),r.jsx(Ae,{children:t("sections.customerOrders.actions","")})]})}),r.jsx(us,{children:C.map(E=>{var D;return r.jsxs(kt,{className:"hover:bg-muted/50",children:[r.jsxs(Ne,{className:"font-mono font-semibold",children:["#",E.orderNumber||((D=E.id)==null?void 0:D.slice(0,8))||"N/A"]}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(Ri,{className:"h-4 w-4"}),new Date(E.createdAt).toLocaleDateString(a?"ar-SA":"en-US")]})}),r.jsx(Ne,{children:j&&N(E.status)}),r.jsx(Ne,{className:"font-semibold",children:E.totalAmount?`${Number(E.totalAmount).toFixed(2)} ${t("common.currency")}`:E.total?`${Number(E.total).toFixed(2)} ${t("common.currency")}`:"-"}),r.jsx(Ne,{children:r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>{g(E),y(!0)},title:t("sections.customerOrders.view"),"aria-label":t("sections.customerOrders.view"),children:[r.jsx(Cr,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),t("sections.customerOrders.view")]})})]},E.id)})})]})})}),r.jsx(ir,{open:x,onOpenChange:y,children:r.jsxs(ar,{className:"max-w-2xl",children:[r.jsx(lr,{children:r.jsxs(cr,{children:[t("sections.customerOrders.orderDetails"," ")," #",(p==null?void 0:p.orderNumber)||((A=p==null?void 0:p.id)==null?void 0:A.slice(0,8))]})}),p&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:t("sections.customerOrders.status","")}),r.jsx("div",{className:"mt-1",children:j&&N(p.status)})]}),r.jsxs("div",{children:[r.jsx(Y,{children:t("sections.customerOrders.date")}),r.jsx("p",{className:"mt-1 text-sm",children:new Date(p.createdAt).toLocaleDateString(a?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{children:[r.jsx(Y,{children:t("sections.customerOrders.total")}),r.jsx("p",{className:"mt-1 font-semibold",children:p.totalAmount?`${Number(p.totalAmount).toFixed(2)} ${t("common.currency")}`:p.total?`${Number(p.total).toFixed(2)} ${t("common.currency")}`:"-"})]})]})})]})})]})}const NW={getCustomerEmployees:(e=1,t=50)=>Q.fetch(`${Q.authUrl}/customer-employees?page=${e}&limit=${t}`,{requireAuth:!0}),getCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees/${e}`,{requireAuth:!0}),getAvailablePermissions:()=>Q.fetch(`${Q.authUrl}/customer-employees/permissions`,{requireAuth:!0}),createCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePermissions:(e,t)=>Q.fetch(`${Q.authUrl}/customer-employees/${e}/permissions`,{method:"PUT",body:JSON.stringify({permissions:t}),requireAuth:!0}),deleteCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees/${e}`,{method:"DELETE",requireAuth:!0})},SW={"product:create":{id:"product:create",label:"Create Products",description:"Can create new products",icon:Dt,category:"Products"},"product:read":{id:"product:read",label:"View Products",description:"Can view product information",icon:Cr,category:"Products"},"product:update":{id:"product:update",label:"Edit Products",description:"Can modify existing products",icon:Es,category:"Products"},"product:delete":{id:"product:delete",label:"Delete Products",description:"Can remove products",icon:Ls,category:"Products"},"product:manage":{id:"product:manage",label:"Manage Products",description:"Full product management access",icon:Dt,category:"Products"},"order:create":{id:"order:create",label:"Create Orders",description:"Can create new orders",icon:Or,category:"Orders"},"order:read":{id:"order:read",label:"View Orders",description:"Can view order information",icon:Cr,category:"Orders"},"order:update":{id:"order:update",label:"Update Orders",description:"Can modify existing orders",icon:Es,category:"Orders"},"order:delete":{id:"order:delete",label:"Delete Orders",description:"Can remove orders",icon:Ls,category:"Orders"},"order:manage":{id:"order:manage",label:"Manage Orders",description:"Full order management access",icon:Or,category:"Orders"},"customer:create":{id:"customer:create",label:"Create Customers",description:"Can create new customer accounts",icon:wr,category:"Customers"},"customer:read":{id:"customer:read",label:"View Customers",description:"Can view customer information",icon:Cr,category:"Customers"},"customer:update":{id:"customer:update",label:"Update Customers",description:"Can modify customer data",icon:Es,category:"Customers"},"customer:delete":{id:"customer:delete",label:"Delete Customers",description:"Can remove customers",icon:Ls,category:"Customers"},"customer:manage":{id:"customer:manage",label:"Manage Customers",description:"Full customer management access",icon:wr,category:"Customers"},"inventory:read":{id:"inventory:read",label:"View Inventory",description:"Can view stock levels",icon:Cr,category:"Inventory"},"inventory:update":{id:"inventory:update",label:"Update Inventory",description:"Can modify stock levels",icon:Es,category:"Inventory"},"inventory:manage":{id:"inventory:manage",label:"Manage Inventory",description:"Full inventory control",icon:Dt,category:"Inventory"},"analytics:read":{id:"analytics:read",label:"View Analytics",description:"Can view reports and analytics",icon:Ua,category:"Analytics"},"analytics:manage":{id:"analytics:manage",label:"Manage Analytics",description:"Full analytics access",icon:Ua,category:"Analytics"},"settings:read":{id:"settings:read",label:"View Settings",description:"Can view store settings",icon:Cr,category:"Settings"},"settings:update":{id:"settings:update",label:"Update Settings",description:"Can modify store settings",icon:Es,category:"Settings"},"mobile:merchant:access":{id:"mobile:merchant:access",label:"Mobile App Access",description:"Can access merchant features in mobile app",icon:sa,category:"Mobile App"},"mobile:merchant:orders":{id:"mobile:merchant:orders",label:"Mobile Orders Management",description:"Can manage orders via mobile app",icon:Or,category:"Mobile App"},"mobile:merchant:products":{id:"mobile:merchant:products",label:"Mobile Products Management",description:"Can manage products via mobile app",icon:Dt,category:"Mobile App"},"mobile:merchant:customers":{id:"mobile:merchant:customers",label:"Mobile Customers View",description:"Can view customers via mobile app",icon:wr,category:"Mobile App"},"mobile:merchant:analytics":{id:"mobile:merchant:analytics",label:"Mobile Analytics View",description:"Can view analytics via mobile app",icon:Ua,category:"Mobile App"}},kW=[{category:"",pageAccess:["/store/products","/products"],permissions:[{id:"store:products:view",label:" ",description:"     ",icon:Cr,category:""},{id:"store:products:create",label:" ",description:"    ",icon:Dt,category:""},{id:"store:products:edit",label:" ",description:"   ",icon:Es,category:""},{id:"store:products:delete",label:" ",description:"   ",icon:Ls,category:""}]},{category:"",pageAccess:["/store/orders","/orders"],permissions:[{id:"store:orders:view",label:" ",description:"   ",icon:Cr,category:""},{id:"store:orders:create",label:" ",description:"    ",icon:Or,category:""},{id:"store:orders:edit",label:" ",description:"   ",icon:Es,category:""},{id:"store:orders:cancel",label:" ",description:"   ",icon:Ls,category:""}]},{category:"",pageAccess:["/store/customers"],permissions:[{id:"store:customers:view",label:" ",description:"    ",icon:Cr,category:""},{id:"store:customers:edit",label:" ",description:"    ",icon:Es,category:""}]},{category:"",pageAccess:["/store","/"],permissions:[{id:"store:home:view",label:"  ",description:"     ",icon:Cr,category:""},{id:"store:cart:view",label:" ",description:"    ",icon:Or,category:""},{id:"store:cart:manage",label:" ",description:"  /  ",icon:Es,category:""},{id:"store:checkout:access",label:" ",description:"    ",icon:Or,category:""}]},{category:"",pageAccess:["/store/wallet","/account/recharge"],permissions:[{id:"store:wallet:view",label:" ",description:"    ",icon:Cr,category:""},{id:"store:wallet:recharge",label:" ",description:"   ",icon:Es,category:""}]},{category:" ",pageAccess:["/store/profile","/account"],permissions:[{id:"store:profile:view",label:"  ",description:"    ",icon:Cr,category:" "},{id:"store:profile:edit",label:"  ",description:"    ",icon:Es,category:" "}]},{category:"  ()",pageAccess:["/mobile/merchant"],permissions:[{id:"mobile:merchant:access",label:"  ",description:"      ",icon:sa,category:" "},{id:"mobile:merchant:orders",label:"  ()",description:"     ",icon:Or,category:" "},{id:"mobile:merchant:products",label:"  ()",description:"     ",icon:Dt,category:" "},{id:"mobile:merchant:customers",label:"  ()",description:"     ",icon:wr,category:" "},{id:"mobile:merchant:analytics",label:"  ()",description:"     ",icon:Ua,category:" "}]}];function Mut(){const{user:e}=$s(),[t,s]=f.useState(null),[a,n]=f.useState(!0),{toast:i}=Lt(),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,b]=f.useState(!1),[w,v]=f.useState(!1),S=f.useCallback(async()=>{var O;try{d(!0);const M=await NW.getCustomerEmployees(1,100);l(M.data||[])}catch(M){console.error("Failed to load employees:",M),((O=M==null?void 0:M.response)==null?void 0:O.status)===400||(M==null?void 0:M.status)===400?i({title:"",description:"   .     .",variant:"default"}):i({title:"",description:"   ",variant:"destructive"})}finally{d(!1)}},[i]);f.useEffect(()=>{(async()=>{if(!e){n(!1);return}if(e.role==="STAFF"){n(!1);return}n(!1)})();const M=localStorage.getItem("customerToken"),I=localStorage.getItem("customerData");!!(M&&I)&&S()},[e,i,S]);const j=O=>{p(O);const M=O.permissions||[];x([...M]),b(!0)},k=O=>{x(M=>M.includes(O)?M.filter(I=>I!==O):[...M,O])},N=async()=>{if(m)try{v(!0),await NW.updatePermissions(m.id,g),i({title:"",description:"   "}),b(!1),p(null),S()}catch(O){console.error("Failed to update permissions:",O),i({title:"",description:(O==null?void 0:O.message)||"  ",variant:"destructive"})}finally{v(!1)}},C=o.filter(O=>{var M,I;return((M=O.email)==null?void 0:M.toLowerCase().includes(u.toLowerCase()))||((I=O.name)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))});if(a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})});if(e&&e.role==="STAFF")return r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx(sa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-gray-600",children:"This page is not accessible to store employees."})]})});const A=localStorage.getItem("customerToken"),E=localStorage.getItem("customerData"),D=!!(A&&E),P=((t==null?void 0:t.staffPermissions)||[]).map(O=>typeof O=="string"?O:O.permission).filter(O=>O&&!O.startsWith("employee:"))||[],_={};return P.forEach(O=>{const M=SW[O];M&&(_[M.category]||(_[M.category]=[]),_[M.category].push(O))}),r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:r.jsx(sa,{className:"w-8 h-8 text-purple-600"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:D?" ":"My Permissions"}),r.jsx("p",{className:"text-lg text-gray-600",children:D?"       ":"View what you can see and access in the store dashboard"})]}),D&&P.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Fs,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Customer Permissions"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"As a customer, you have access to the following:"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Or,{className:"w-5 h-5 text-green-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Fs,{className:"w-4 h-4 text-green-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"View Orders"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"View your order history and track orders"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(wr,{className:"w-5 h-5 text-green-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Fs,{className:"w-4 h-4 text-green-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Manage Profile"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Update your personal information and preferences"})]})]})]})]}):P.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[r.jsx(Ls,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Permissions Assigned"}),r.jsx("p",{className:"text-gray-600",children:"You don't have any specific permissions assigned. Please contact your store owner."})]}):r.jsx("div",{className:"space-y-6",children:Object.entries(_).map(([O,M])=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(sa,{className:"w-5 h-5 text-purple-600"}),O]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(I=>{const R=SW[I];if(!R)return null;const L=R.icon;return r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(L,{className:"w-5 h-5 text-purple-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Fs,{className:"w-4 h-4 text-green-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:R.label})]}),r.jsx("p",{className:"text-sm text-gray-600",children:R.description})]})]},I)})})]},O))}),D&&r.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-sm p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(wr,{className:"w-6 h-6 text-purple-600"}),D?"  ":"Manage Employee Permissions"]}),r.jsx("p",{className:"text-gray-600",children:D?"       ":"Manage what your employees can see and access"})]})}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:D?"  ...":"Search employee...",value:u,onChange:O=>h(O.target.value),className:"pr-10"})]})}),c?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Je,{className:"h-6 w-6 animate-spin"})}):C.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:u?D?"  ":"No results":D?"  ":"No employees"}):r.jsx("div",{className:"space-y-3",children:C.map(O=>{const M=O.permissions||[];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:r.jsx(wr,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:O.name||O.email}),r.jsx("p",{className:"text-sm text-gray-600",children:O.email}),M.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[M.slice(0,3).map(I=>{const R=kW.flatMap(L=>L.permissions).find(L=>L.id===I);return R?r.jsx(et,{variant:"secondary",className:"text-xs",children:R.label},I):r.jsx(et,{variant:"secondary",className:"text-xs",children:I},I)}),M.length>3&&r.jsxs(et,{variant:"secondary",className:"text-xs",children:["+",M.length-3]})]})]})]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>j(O),children:[r.jsx(Ga,{className:"h-4 w-4 ml-2"}),D?" ":"Edit Permissions"]})]},O.id)})})]}),r.jsx(ir,{open:y,onOpenChange:b,children:r.jsxs(ar,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:D?"  ":"Edit Employee Permissions"}),r.jsx(pr,{children:(m==null?void 0:m.name)||(m==null?void 0:m.email)})]}),r.jsx("div",{className:"space-y-6 py-4",children:kW.map(O=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:O.category}),r.jsx("div",{className:"space-y-2",children:O.permissions.map(M=>{const I=M.icon,R=g.includes(M.id);return r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg hover:bg-gray-50",children:[r.jsx(no,{checked:R,onCheckedChange:()=>k(M.id),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(I,{className:"w-4 h-4 text-purple-600"}),r.jsx(Y,{className:"font-medium cursor-pointer",children:M.label})]}),r.jsx("p",{className:"text-sm text-gray-600",children:M.description}),O.pageAccess&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[D?" :":"Access to:"," ",O.pageAccess.join(", ")]})]})]},M.id)})})]},O.category))}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>b(!1),children:D?"":"Cancel"}),r.jsx(V,{onClick:N,disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),D?" ...":"Saving..."]}):D?" ":"Save Permissions"})]})]})})]})})}function Fut({images:e,autoPlay:t=!0,interval:s=5e3,showDots:a=!0,showArrows:n=!0,height:i="500px",animationType:o="slide"}){const[l,c]=f.useState(0);f.useEffect(()=>{if(!t||e.length<=1)return;const g=setInterval(()=>{c(x=>(x+1)%e.length)},s);return()=>clearInterval(g)},[t,s,e.length]);const d=g=>{c(g)},u=()=>{c(g=>(g-1+e.length)%e.length)},h=()=>{c(g=>(g+1)%e.length)};if(!e||e.length===0)return r.jsx("div",{className:"flex items-center justify-center bg-gray-200 dark:bg-gray-800 rounded-lg",style:{height:i},children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No images to display"})});const p={fade:{enter:{opacity:0},center:{opacity:1},exit:{opacity:0}},slide:{enter:g=>({x:g>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:g=>({x:g<0?1e3:-1e3,opacity:0})},zoom:{enter:{scale:.8,opacity:0},center:{scale:1,opacity:1},exit:{scale:1.2,opacity:0}}}[o];return r.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg shadow-2xl group",style:{height:i},children:[r.jsx(Wn,{initial:!1,custom:1,children:r.jsxs(Me.div,{custom:1,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.5},scale:{duration:.5}},className:"absolute inset-0",children:[r.jsx("img",{src:e[l],alt:`Slide ${l+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]},l)}),n&&e.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:u,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100 hover:scale-110","aria-label":"Previous image",children:r.jsx(Qo,{className:"w-6 h-6"})}),r.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100 hover:scale-110","aria-label":"Next image",children:r.jsx(Ms,{className:"w-6 h-6"})})]}),a&&e.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:e.map((g,x)=>r.jsx("button",{onClick:()=>d(x),className:`transition-all rounded-full ${x===l?"w-8 h-3 bg-white":"w-3 h-3 bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${x+1}`},x))}),r.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium",children:[l+1," / ",e.length]})]})}function Lut({items:e,direction:t="horizontal",speed:s=20,pauseOnHover:a=!0,itemWidth:n="300px",itemHeight:i="auto",gap:o="2rem",backgroundColor:l="transparent",textColor:c="inherit"}){if(!e||e.length===0)return r.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-100 dark:bg-gray-800 rounded-lg",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No content to display"})});const d=[...e,...e,...e],u=t==="horizontal";return r.jsxs("div",{className:"overflow-hidden relative",style:{backgroundColor:l,color:c},children:[r.jsx(Me.div,{className:`flex ${u?"flex-row":"flex-col"}`,style:{gap:o},animate:u?{x:[0,`-${100/3}%`]}:{y:[0,`-${100/3}%`]},transition:{duration:s,repeat:1/0,ease:"linear"},whileHover:a?{animationPlayState:"paused"}:{},children:d.map((h,m)=>r.jsxs(Me.div,{className:"flex-shrink-0 p-6 rounded-lg bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-all duration-300",style:{width:u?n:"100%",height:i},whileHover:{scale:1.05},children:[h.icon&&r.jsx("div",{className:"text-4xl mb-3 text-center",children:h.icon}),h.title&&r.jsx("h3",{className:"font-bold text-lg mb-2 text-center",children:h.title}),h.description&&r.jsx("p",{className:"text-sm opacity-90 text-center",children:h.description}),h.content&&r.jsx("div",{className:"mt-2",children:h.content})]},`${h.id}-${m}`))}),u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-current to-transparent opacity-10 pointer-events-none"}),r.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-current to-transparent opacity-10 pointer-events-none"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-current to-transparent opacity-10 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-current to-transparent opacity-10 pointer-events-none"})]})]})}const $ut=({product:e,index:t=0})=>{var w;const{addToCart:s}=Rp(),{addToWishlist:a,removeFromWishlist:n,isInWishlist:i}=VI(),o=i(e.id),[l,c]=f.useState(!1),[d,u]=f.useState(!1),h=async v=>{if(v.preventDefault(),v.stopPropagation(),!l){c(!0);try{await s(e.id,1),yr({title:"  !",description:`  ${e.nameAr||e.name||""}  `})}catch(S){const j=S;yr({title:" ",description:(j==null?void 0:j.message)||"      ",variant:"destructive"})}finally{c(!1)}}},m=v=>{v.preventDefault(),v.stopPropagation(),o?n(e.id):a(e)},p=(w=e.images)==null?void 0:w[0],g=typeof p=="object"&&(p==null?void 0:p.url)||(typeof p=="string"?p:"")||e.image||"/placeholder.svg",x=Number(e.price)||0,y=e.compareAtPrice?Number(e.compareAtPrice):0,b=y>x?Math.round((y-x)/y*100):0;return r.jsx(tt,{to:`/products/${e.id}`,className:"block group animate-scale-in",style:{animationDelay:`${t*75}ms`},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:r.jsxs("div",{className:"gaming-card h-full flex flex-col group",children:[r.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[b>0&&r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs(et,{className:"bg-red-500 text-white px-2 py-1 text-xs font-bold shadow-[0_0_10px_rgba(239,68,68,0.5)] flex items-center gap-1 border-none",children:[r.jsx(zn,{className:"w-3 h-3 fill-current"}),b,"%"]})}),r.jsx("button",{onClick:m,className:xe("absolute top-3 left-3 z-10 p-2 rounded-xl backdrop-blur-md transition-all duration-300",o?"bg-red-500 text-white shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-black/40 text-white hover:bg-white hover:text-red-500"),children:r.jsx(kn,{className:xe("h-4 w-4",o&&"fill-current")})}),r.jsx("div",{className:xe("absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-500 backdrop-blur-[2px]",d?"opacity-100":"opacity-0"),children:r.jsxs("div",{className:"transform transition-all duration-500 translate-y-4 group-hover:translate-y-0 flex flex-col items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/20",children:r.jsx(Cr,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-white font-bold text-sm tracking-widest uppercase",children:" "})]})}),r.jsx(T0,{src:g,alt:e.nameAr||e.name||"",className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/80 to-transparent"})]}),r.jsxs("div",{className:"p-5 flex flex-col flex-1 relative bg-gradient-to-b from-transparent to-black/20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-[10px] font-bold text-primary tracking-widest uppercase opacity-80",children:" "}),r.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"})]}),r.jsx("h3",{className:"font-bold text-lg mb-3 line-clamp-2 text-white group-hover:text-primary transition-colors leading-tight",children:e.nameAr||e.name||""}),r.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[1,2,3,4,5].map(v=>r.jsx(Jo,{className:xe("h-3 w-3",v<=(e.rating||4)?"fill-yellow-400 text-yellow-400":"fill-white/10 text-white/10")},v)),r.jsxs("span",{className:"text-[10px] text-white/40 mr-2 font-medium",children:["(",(e.rating||4).toFixed(1),")"]})]}),r.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsx("span",{className:"text-2xl font-black text-white tracking-tighter",children:x.toFixed(2)}),r.jsx("span",{className:"text-[10px] font-bold text-white/60 uppercase",children:"."})]}),y>x&&r.jsx("span",{className:"text-xs text-white/40 line-through font-medium",children:y.toFixed(2)})]}),r.jsxs(V,{size:"sm",onClick:h,disabled:l,className:xe("h-11 px-5 rounded-xl font-bold transition-all duration-300","bg-primary text-white hover:shadow-[0_0_20px_rgba(var(--primary),0.4)] hover:scale-105","active:scale-95 border-none"),children:[r.jsx(Or,{className:"h-4 w-4 ml-2"}),l?"...":""]})]})]}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-primary/10 rounded-tl-3xl border-t border-l border-primary/20 pointer-events-none"})]})})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Kle,setPrototypeOf:CW,isFrozen:But,getPrototypeOf:Uut,getOwnPropertyDescriptor:Vut}=Object;let{freeze:Ao,seal:xc,create:rO}=Object,{apply:sO,construct:aO}=typeof Reflect<"u"&&Reflect;Ao||(Ao=function(t){return t});xc||(xc=function(t){return t});sO||(sO=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return t.apply(s,n)});aO||(aO=function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return new t(...a)});const SN=Eo(Array.prototype.forEach),zut=Eo(Array.prototype.lastIndexOf),AW=Eo(Array.prototype.pop),ty=Eo(Array.prototype.push),Wut=Eo(Array.prototype.splice),h2=Eo(String.prototype.toLowerCase),z4=Eo(String.prototype.toString),W4=Eo(String.prototype.match),ry=Eo(String.prototype.replace),Hut=Eo(String.prototype.indexOf),qut=Eo(String.prototype.trim),Mc=Eo(Object.prototype.hasOwnProperty),uo=Eo(RegExp.prototype.test),sy=Gut(TypeError);function Eo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return sO(e,t,a)}}function Gut(e){return function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return aO(e,s)}}function js(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h2;CW&&CW(e,null);let a=t.length;for(;a--;){let n=t[a];if(typeof n=="string"){const i=s(n);i!==n&&(But(t)||(t[a]=i),n=i)}e[n]=!0}return e}function Kut(e){for(let t=0;t<e.length;t++)Mc(e,t)||(e[t]=null);return e}function wd(e){const t=rO(null);for(const[s,a]of Kle(e))Mc(e,s)&&(Array.isArray(a)?t[s]=Kut(a):a&&typeof a=="object"&&a.constructor===Object?t[s]=wd(a):t[s]=a);return t}function ay(e,t){for(;e!==null;){const a=Vut(e,t);if(a){if(a.get)return Eo(a.get);if(typeof a.value=="function")return Eo(a.value)}e=Uut(e)}function s(){return null}return s}const EW=Ao(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H4=Ao(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q4=Ao(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yut=Ao(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G4=Ao(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Xut=Ao(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),PW=Ao(["#text"]),TW=Ao(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),K4=Ao(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_W=Ao(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kN=Ao(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qut=xc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jut=xc(/<%[\w\W]*|[\w\W]*%>/gm),Zut=xc(/\$\{[\w\W]*/gm),eht=xc(/^data-[\-\w.\u00B7-\uFFFF]+$/),tht=xc(/^aria-[\-\w]+$/),Yle=xc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rht=xc(/^(?:\w+script|data):/i),sht=xc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xle=xc(/^html$/i),aht=xc(/^[a-z][.\w]*(-[.\w]+)+$/i);var DW=Object.freeze({__proto__:null,ARIA_ATTR:tht,ATTR_WHITESPACE:sht,CUSTOM_ELEMENT:aht,DATA_ATTR:eht,DOCTYPE_NAME:Xle,ERB_EXPR:Jut,IS_ALLOWED_URI:Yle,IS_SCRIPT_OR_DATA:rht,MUSTACHE_EXPR:Qut,TMPLIT_EXPR:Zut});const ny={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},nht=function(){return typeof window>"u"?null:window},iht=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";s&&s.hasAttribute(n)&&(a=s.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},OW=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nht();const t=ke=>Qle(ke);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==ny.document||!e.Element)return t.isSupported=!1,t;let{document:s}=e;const a=s,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:p}=e,g=c.prototype,x=ay(g,"cloneNode"),y=ay(g,"remove"),b=ay(g,"nextSibling"),w=ay(g,"childNodes"),v=ay(g,"parentNode");if(typeof o=="function"){const ke=s.createElement("template");ke.content&&ke.content.ownerDocument&&(s=ke.content.ownerDocument)}let S,j="";const{implementation:k,createNodeIterator:N,createDocumentFragment:C,getElementsByTagName:A}=s,{importNode:E}=a;let D=OW();t.isSupported=typeof Kle=="function"&&typeof v=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:T,ERB_EXPR:P,TMPLIT_EXPR:_,DATA_ATTR:O,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:L}=DW;let{IS_ALLOWED_URI:K}=DW,H=null;const F=js({},[...EW,...H4,...q4,...G4,...PW]);let G=null;const U=js({},[...TW,...K4,..._W,...kN]);let W=Object.seal(rO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,z=null;const ie=Object.seal(rO(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let re=!0,q=!0,se=!1,B=!0,oe=!1,de=!0,Te=!1,He=!1,Oe=!1,me=!1,Ue=!1,ce=!1,Ee=!0,Pe=!1;const $e="user-content-";let We=!0,Xe=!1,Ce={},Ye=null;const ft=js({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pt=null;const vt=js({},["audio","video","img","source","image","track"]);let Qt=null;const br=js({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$t="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Ts="http://www.w3.org/1999/xhtml";let Ie=Ts,rs=!1,Zs=null;const wa=js({},[$t,qt,Ts],z4);let Wa=js({},["mi","mo","mn","ms","mtext"]),Ha=js({},["annotation-xml"]);const ss=js({},["title","style","font","a","script"]);let Rt=null;const wt=["application/xhtml+xml","text/html"],je="text/html";let ue=null,ne=null;const ze=s.createElement("form"),Ke=function(ve){return ve instanceof RegExp||ve instanceof Function},Ge=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ne&&ne===ve)){if((!ve||typeof ve!="object")&&(ve={}),ve=wd(ve),Rt=wt.indexOf(ve.PARSER_MEDIA_TYPE)===-1?je:ve.PARSER_MEDIA_TYPE,ue=Rt==="application/xhtml+xml"?z4:h2,H=Mc(ve,"ALLOWED_TAGS")?js({},ve.ALLOWED_TAGS,ue):F,G=Mc(ve,"ALLOWED_ATTR")?js({},ve.ALLOWED_ATTR,ue):U,Zs=Mc(ve,"ALLOWED_NAMESPACES")?js({},ve.ALLOWED_NAMESPACES,z4):wa,Qt=Mc(ve,"ADD_URI_SAFE_ATTR")?js(wd(br),ve.ADD_URI_SAFE_ATTR,ue):br,Pt=Mc(ve,"ADD_DATA_URI_TAGS")?js(wd(vt),ve.ADD_DATA_URI_TAGS,ue):vt,Ye=Mc(ve,"FORBID_CONTENTS")?js({},ve.FORBID_CONTENTS,ue):ft,J=Mc(ve,"FORBID_TAGS")?js({},ve.FORBID_TAGS,ue):wd({}),z=Mc(ve,"FORBID_ATTR")?js({},ve.FORBID_ATTR,ue):wd({}),Ce=Mc(ve,"USE_PROFILES")?ve.USE_PROFILES:!1,re=ve.ALLOW_ARIA_ATTR!==!1,q=ve.ALLOW_DATA_ATTR!==!1,se=ve.ALLOW_UNKNOWN_PROTOCOLS||!1,B=ve.ALLOW_SELF_CLOSE_IN_ATTR!==!1,oe=ve.SAFE_FOR_TEMPLATES||!1,de=ve.SAFE_FOR_XML!==!1,Te=ve.WHOLE_DOCUMENT||!1,me=ve.RETURN_DOM||!1,Ue=ve.RETURN_DOM_FRAGMENT||!1,ce=ve.RETURN_TRUSTED_TYPE||!1,Oe=ve.FORCE_BODY||!1,Ee=ve.SANITIZE_DOM!==!1,Pe=ve.SANITIZE_NAMED_PROPS||!1,We=ve.KEEP_CONTENT!==!1,Xe=ve.IN_PLACE||!1,K=ve.ALLOWED_URI_REGEXP||Yle,Ie=ve.NAMESPACE||Ts,Wa=ve.MATHML_TEXT_INTEGRATION_POINTS||Wa,Ha=ve.HTML_INTEGRATION_POINTS||Ha,W=ve.CUSTOM_ELEMENT_HANDLING||{},ve.CUSTOM_ELEMENT_HANDLING&&Ke(ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&Ke(ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&typeof ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oe&&(q=!1),Ue&&(me=!0),Ce&&(H=js({},PW),G=[],Ce.html===!0&&(js(H,EW),js(G,TW)),Ce.svg===!0&&(js(H,H4),js(G,K4),js(G,kN)),Ce.svgFilters===!0&&(js(H,q4),js(G,K4),js(G,kN)),Ce.mathMl===!0&&(js(H,G4),js(G,_W),js(G,kN))),ve.ADD_TAGS&&(typeof ve.ADD_TAGS=="function"?ie.tagCheck=ve.ADD_TAGS:(H===F&&(H=wd(H)),js(H,ve.ADD_TAGS,ue))),ve.ADD_ATTR&&(typeof ve.ADD_ATTR=="function"?ie.attributeCheck=ve.ADD_ATTR:(G===U&&(G=wd(G)),js(G,ve.ADD_ATTR,ue))),ve.ADD_URI_SAFE_ATTR&&js(Qt,ve.ADD_URI_SAFE_ATTR,ue),ve.FORBID_CONTENTS&&(Ye===ft&&(Ye=wd(Ye)),js(Ye,ve.FORBID_CONTENTS,ue)),ve.ADD_FORBID_CONTENTS&&(Ye===ft&&(Ye=wd(Ye)),js(Ye,ve.ADD_FORBID_CONTENTS,ue)),We&&(H["#text"]=!0),Te&&js(H,["html","head","body"]),H.table&&(js(H,["tbody"]),delete J.tbody),ve.TRUSTED_TYPES_POLICY){if(typeof ve.TRUSTED_TYPES_POLICY.createHTML!="function")throw sy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ve.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw sy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=ve.TRUSTED_TYPES_POLICY,j=S.createHTML("")}else S===void 0&&(S=iht(p,n)),S!==null&&typeof j=="string"&&(j=S.createHTML(""));Ao&&Ao(ve),ne=ve}},St=js({},[...H4,...q4,...Yut]),lt=js({},[...G4,...Xut]),ct=function(ve){let Le=v(ve);(!Le||!Le.tagName)&&(Le={namespaceURI:Ie,tagName:"template"});const rt=h2(ve.tagName),ut=h2(Le.tagName);return Zs[ve.namespaceURI]?ve.namespaceURI===qt?Le.namespaceURI===Ts?rt==="svg":Le.namespaceURI===$t?rt==="svg"&&(ut==="annotation-xml"||Wa[ut]):!!St[rt]:ve.namespaceURI===$t?Le.namespaceURI===Ts?rt==="math":Le.namespaceURI===qt?rt==="math"&&Ha[ut]:!!lt[rt]:ve.namespaceURI===Ts?Le.namespaceURI===qt&&!Ha[ut]||Le.namespaceURI===$t&&!Wa[ut]?!1:!lt[rt]&&(ss[rt]||!St[rt]):!!(Rt==="application/xhtml+xml"&&Zs[ve.namespaceURI]):!1},Yt=function(ve){ty(t.removed,{element:ve});try{v(ve).removeChild(ve)}catch{y(ve)}},sr=function(ve,Le){try{ty(t.removed,{attribute:Le.getAttributeNode(ve),from:Le})}catch{ty(t.removed,{attribute:null,from:Le})}if(Le.removeAttribute(ve),ve==="is")if(me||Ue)try{Yt(Le)}catch{}else try{Le.setAttribute(ve,"")}catch{}},ee=function(ve){let Le=null,rt=null;if(Oe)ve="<remove></remove>"+ve;else{const Ot=W4(ve,/^[\r\n\t ]+/);rt=Ot&&Ot[0]}Rt==="application/xhtml+xml"&&Ie===Ts&&(ve='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ve+"</body></html>");const ut=S?S.createHTML(ve):ve;if(Ie===Ts)try{Le=new m().parseFromString(ut,Rt)}catch{}if(!Le||!Le.documentElement){Le=k.createDocument(Ie,"template",null);try{Le.documentElement.innerHTML=rs?j:ut}catch{}}const gt=Le.body||Le.documentElement;return ve&&rt&&gt.insertBefore(s.createTextNode(rt),gt.childNodes[0]||null),Ie===Ts?A.call(Le,Te?"html":"body")[0]:Te?Le.documentElement:gt},ye=function(ve){return N.call(ve.ownerDocument||ve,ve,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},X=function(ve){return ve instanceof h&&(typeof ve.nodeName!="string"||typeof ve.textContent!="string"||typeof ve.removeChild!="function"||!(ve.attributes instanceof u)||typeof ve.removeAttribute!="function"||typeof ve.setAttribute!="function"||typeof ve.namespaceURI!="string"||typeof ve.insertBefore!="function"||typeof ve.hasChildNodes!="function")},le=function(ve){return typeof l=="function"&&ve instanceof l};function he(ke,ve,Le){SN(ke,rt=>{rt.call(t,ve,Le,ne)})}const ge=function(ve){let Le=null;if(he(D.beforeSanitizeElements,ve,null),X(ve))return Yt(ve),!0;const rt=ue(ve.nodeName);if(he(D.uponSanitizeElement,ve,{tagName:rt,allowedTags:H}),de&&ve.hasChildNodes()&&!le(ve.firstElementChild)&&uo(/<[/\w!]/g,ve.innerHTML)&&uo(/<[/\w!]/g,ve.textContent)||ve.nodeType===ny.progressingInstruction||de&&ve.nodeType===ny.comment&&uo(/<[/\w]/g,ve.data))return Yt(ve),!0;if(!(ie.tagCheck instanceof Function&&ie.tagCheck(rt))&&(!H[rt]||J[rt])){if(!J[rt]&&Fe(rt)&&(W.tagNameCheck instanceof RegExp&&uo(W.tagNameCheck,rt)||W.tagNameCheck instanceof Function&&W.tagNameCheck(rt)))return!1;if(We&&!Ye[rt]){const ut=v(ve)||ve.parentNode,gt=w(ve)||ve.childNodes;if(gt&&ut){const Ot=gt.length;for(let te=Ot-1;te>=0;--te){const zt=x(gt[te],!0);zt.__removalCount=(ve.__removalCount||0)+1,ut.insertBefore(zt,b(ve))}}}return Yt(ve),!0}return ve instanceof c&&!ct(ve)||(rt==="noscript"||rt==="noembed"||rt==="noframes")&&uo(/<\/no(script|embed|frames)/i,ve.innerHTML)?(Yt(ve),!0):(oe&&ve.nodeType===ny.text&&(Le=ve.textContent,SN([T,P,_],ut=>{Le=ry(Le,ut," ")}),ve.textContent!==Le&&(ty(t.removed,{element:ve.cloneNode()}),ve.textContent=Le)),he(D.afterSanitizeElements,ve,null),!1)},Be=function(ve,Le,rt){if(Ee&&(Le==="id"||Le==="name")&&(rt in s||rt in ze))return!1;if(!(q&&!z[Le]&&uo(O,Le))){if(!(re&&uo(M,Le))){if(!(ie.attributeCheck instanceof Function&&ie.attributeCheck(Le,ve))){if(!G[Le]||z[Le]){if(!(Fe(ve)&&(W.tagNameCheck instanceof RegExp&&uo(W.tagNameCheck,ve)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ve))&&(W.attributeNameCheck instanceof RegExp&&uo(W.attributeNameCheck,Le)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(Le,ve))||Le==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&uo(W.tagNameCheck,rt)||W.tagNameCheck instanceof Function&&W.tagNameCheck(rt))))return!1}else if(!Qt[Le]){if(!uo(K,ry(rt,R,""))){if(!((Le==="src"||Le==="xlink:href"||Le==="href")&&ve!=="script"&&Hut(rt,"data:")===0&&Pt[ve])){if(!(se&&!uo(I,ry(rt,R,"")))){if(rt)return!1}}}}}}}return!0},Fe=function(ve){return ve!=="annotation-xml"&&W4(ve,L)},Re=function(ve){he(D.beforeSanitizeAttributes,ve,null);const{attributes:Le}=ve;if(!Le||X(ve))return;const rt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let ut=Le.length;for(;ut--;){const gt=Le[ut],{name:Ot,namespaceURI:te,value:zt}=gt,hr=ue(Ot),ks=zt;let Ar=Ot==="value"?ks:qut(ks);if(rt.attrName=hr,rt.attrValue=Ar,rt.keepAttr=!0,rt.forceKeepAttr=void 0,he(D.uponSanitizeAttribute,ve,rt),Ar=rt.attrValue,Pe&&(hr==="id"||hr==="name")&&(sr(Ot,ve),Ar=$e+Ar),de&&uo(/((--!?|])>)|<\/(style|title|textarea)/i,Ar)){sr(Ot,ve);continue}if(hr==="attributename"&&W4(Ar,"href")){sr(Ot,ve);continue}if(rt.forceKeepAttr)continue;if(!rt.keepAttr){sr(Ot,ve);continue}if(!B&&uo(/\/>/i,Ar)){sr(Ot,ve);continue}oe&&SN([T,P,_],ot=>{Ar=ry(Ar,ot," ")});const Nr=ue(ve.nodeName);if(!Be(Nr,hr,Ar)){sr(Ot,ve);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!te)switch(p.getAttributeType(Nr,hr)){case"TrustedHTML":{Ar=S.createHTML(Ar);break}case"TrustedScriptURL":{Ar=S.createScriptURL(Ar);break}}if(Ar!==ks)try{te?ve.setAttributeNS(te,Ot,Ar):ve.setAttribute(Ot,Ar),X(ve)?Yt(ve):AW(t.removed)}catch{sr(Ot,ve)}}he(D.afterSanitizeAttributes,ve,null)},De=function ke(ve){let Le=null;const rt=ye(ve);for(he(D.beforeSanitizeShadowDOM,ve,null);Le=rt.nextNode();)he(D.uponSanitizeShadowNode,Le,null),ge(Le),Re(Le),Le.content instanceof i&&ke(Le.content);he(D.afterSanitizeShadowDOM,ve,null)};return t.sanitize=function(ke){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=null,rt=null,ut=null,gt=null;if(rs=!ke,rs&&(ke="<!-->"),typeof ke!="string"&&!le(ke))if(typeof ke.toString=="function"){if(ke=ke.toString(),typeof ke!="string")throw sy("dirty is not a string, aborting")}else throw sy("toString is not a function");if(!t.isSupported)return ke;if(He||Ge(ve),t.removed=[],typeof ke=="string"&&(Xe=!1),Xe){if(ke.nodeName){const zt=ue(ke.nodeName);if(!H[zt]||J[zt])throw sy("root node is forbidden and cannot be sanitized in-place")}}else if(ke instanceof l)Le=ee("<!---->"),rt=Le.ownerDocument.importNode(ke,!0),rt.nodeType===ny.element&&rt.nodeName==="BODY"||rt.nodeName==="HTML"?Le=rt:Le.appendChild(rt);else{if(!me&&!oe&&!Te&&ke.indexOf("<")===-1)return S&&ce?S.createHTML(ke):ke;if(Le=ee(ke),!Le)return me?null:ce?j:""}Le&&Oe&&Yt(Le.firstChild);const Ot=ye(Xe?ke:Le);for(;ut=Ot.nextNode();)ge(ut),Re(ut),ut.content instanceof i&&De(ut.content);if(Xe)return ke;if(me){if(Ue)for(gt=C.call(Le.ownerDocument);Le.firstChild;)gt.appendChild(Le.firstChild);else gt=Le;return(G.shadowroot||G.shadowrootmode)&&(gt=E.call(a,gt,!0)),gt}let te=Te?Le.outerHTML:Le.innerHTML;return Te&&H["!doctype"]&&Le.ownerDocument&&Le.ownerDocument.doctype&&Le.ownerDocument.doctype.name&&uo(Xle,Le.ownerDocument.doctype.name)&&(te="<!DOCTYPE "+Le.ownerDocument.doctype.name+`>
`+te),oe&&SN([T,P,_],zt=>{te=ry(te,zt," ")}),S&&ce?S.createHTML(te):te},t.setConfig=function(){let ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge(ke),He=!0},t.clearConfig=function(){ne=null,He=!1},t.isValidAttribute=function(ke,ve,Le){ne||Ge({});const rt=ue(ke),ut=ue(ve);return Be(rt,ut,Le)},t.addHook=function(ke,ve){typeof ve=="function"&&ty(D[ke],ve)},t.removeHook=function(ke,ve){if(ve!==void 0){const Le=zut(D[ke],ve);return Le===-1?void 0:Wut(D[ke],Le,1)[0]}return AW(D[ke])},t.removeHooks=function(ke){D[ke]=[]},t.removeAllHooks=function(){D=OW()},t}var oht=Qle();function Jle({html:e,className:t="",dir:s,style:a,allowedTags:n,allowedAttributes:i}){const o=f.useRef(null);return f.useEffect(()=>{if(!o.current||!e)return;const l=["p","br","strong","em","u","b","i","h1","h2","h3","h4","h5","h6","ul","ol","li","a","img","blockquote","pre","code","div","span","table","thead","tbody","tr","th","td","hr"],c=["href","src","alt","title","class","id","width","height","style","target","rel","colspan","rowspan","align"],d=oht.sanitize(e,{ALLOWED_TAGS:n||l,ALLOWED_ATTR:i||c,ALLOW_DATA_ATTR:!1,ALLOW_UNKNOWN_PROTOCOLS:!1,FORBID_TAGS:["script","iframe","object","embed","form","input","button"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur"],SAFE_FOR_TEMPLATES:!1,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i});o.current.innerHTML=d},[e,n,i]),r.jsx("div",{ref:o,className:t,dir:s,style:a})}const PF=()=>{try{return Rp()}catch{return null}};function lht({props:e}){const[t,s]=f.useState([]),[a,n]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{n(!0);const c=((await um.getStaffUsers(1,100)).data||[]).filter(d=>d.role==="STORE_MANAGER");s(c)}catch(o){console.error("Failed to load store managers:",o),s([])}finally{n(!1)}})()},[]),a?r.jsxs("div",{className:"py-16 px-8 text-center",children:[r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"   ..."})]}):t.length===0?r.jsxs("div",{className:"py-16 px-8 text-center",children:[r.jsx(wr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:"     "})]}):r.jsxs("div",{className:"py-16 px-8",children:[e.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:e.title}),r.jsx("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>r.jsxs(we,{className:"text-center",children:[r.jsxs(st,{children:[r.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ao,{className:"h-8 w-8 text-primary"})}),r.jsx(it,{className:"text-lg",children:i.name||i.email})]}),r.jsxs(Se,{className:"space-y-2",children:[r.jsx(et,{variant:"outline",className:"w-full justify-center",children:" "}),i.phone&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[r.jsx(Fi,{className:"h-4 w-4"}),r.jsx("a",{href:`tel:${i.phone}`,className:"hover:text-primary",children:i.phone})]}),r.jsx("p",{className:"text-xs text-gray-500",children:i.email})]})]},i.id))})]})}function Kw({section:e,onToggleTheme:t}){const{type:s,props:a}=e,n=a,[i,o]=f.useState([]),[l,c]=f.useState(!1),[d,u]=f.useState(!1),h=PF();h!=null&&h.addToCart,f.useEffect(()=>{s==="products"&&(async()=>{c(!0);try{const x=await fe.getProducts({limit:n.limit||8,...n.categoryId&&n.categoryId!=="all"?{categoryId:n.categoryId}:{}});if(x&&typeof x=="object")if(Array.isArray(x)){const y=x.filter(b=>b!==null&&typeof b=="object"&&"id"in b&&!("error"in b)&&!("statusCode"in b));o(y)}else if("products"in x&&Array.isArray(x.products)){const b=x.products.filter(w=>w!==null&&typeof w=="object"&&"id"in w&&!("error"in w)&&!("statusCode"in w));o(b)}else!("error"in x)&&!("statusCode"in x)?o([x]):o([]);else o([])}catch(x){console.error("Failed to fetch products for section:",x),o([])}finally{c(!1)}})()},[s,n.limit,n.categoryId]);const m={animationName:n.animationType!=="none"?n.animationType:void 0,animationDuration:n.animationDuration?`${n.animationDuration}s`:void 0,animationFillMode:"both"},p=(()=>{switch(s){case"header":return r.jsxs("header",{className:"py-4 px-6 shadow-sm relative z-50",style:{backgroundColor:n.backgroundColor||"#ffffff",color:n.textColor||"#000000"},children:[r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:n.logoUrl?r.jsx("img",{src:n.logoUrl,alt:n.companyName,className:"h-10 w-auto object-contain"}):r.jsx("span",{className:"text-xl font-bold",children:n.companyName})}),r.jsx("nav",{className:"hidden md:flex items-center gap-6",children:(n.links||[]).map((g,x)=>r.jsx("a",{href:g.url,className:"hover:opacity-70 transition-opacity font-medium",style:{color:n.textColor},children:g.label},x))}),r.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[n.showLanguageToggle&&r.jsx(V,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsx(Ya,{className:"w-5 h-5"})}),n.showThemeToggle&&r.jsxs(V,{variant:"ghost",size:"icon",className:"rounded-full",onClick:t,children:[r.jsx(Jd,{className:"w-5 h-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),r.jsx(ad,{className:"absolute w-5 h-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})]}),r.jsx("button",{className:"md:hidden p-2",onClick:()=>u(!d),children:d?r.jsx(jr,{className:"w-6 h-6"}):r.jsx(sh,{className:"w-6 h-6"})})]}),d&&r.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white dark:bg-gray-900 border-t p-4 shadow-lg",children:r.jsxs("nav",{className:"flex flex-col gap-4",children:[(n.links||[]).map((g,x)=>r.jsx("a",{href:g.url,className:"block py-2 font-medium",style:{color:n.textColor},children:g.label},x)),r.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t mt-2",children:[n.showLanguageToggle&&r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-2",children:[r.jsx(Ya,{className:"w-4 h-4"})," Language"]}),n.showThemeToggle&&r.jsxs(V,{variant:"ghost",size:"sm",className:"gap-2",onClick:t,children:[r.jsx(ad,{className:"w-4 h-4"})," Theme"]})]})]})})]});case"hero":{const g=n.textAlign||"center",x=n.contentPosition||"center",y=n.minHeight||"400px",b=n.titleSize||48,w=n.subtitleSize||20,v=n.overlayOpacity||.3,S=n.buttonStyle||"primary",j={top:"items-start pt-20",center:"items-center",bottom:"items-end pb-20"},k={left:"text-left items-start",center:"text-center items-center",right:"text-right items-end"},N={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",outline:"border-2 border-white text-white hover:bg-white hover:text-gray-900",ghost:"text-white hover:bg-white/10"};return r.jsxs("div",{className:`relative flex ${j[x]} justify-center p-12 overflow-hidden`,style:{minHeight:y,backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff",backgroundImage:n.backgroundImage?`url(${n.backgroundImage})`:void 0,backgroundSize:"cover",backgroundPosition:"center",...m},children:[n.backgroundImage&&r.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-300",style:{opacity:v}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-pink-600/20 to-blue-600/20 animate-gradient-shift"}),r.jsxs("div",{className:`relative max-w-4xl w-full flex flex-col ${k[g]} gap-6 z-10`,children:[n.title&&r.jsx("h1",{className:"font-bold leading-tight animate-fade-in-up",style:{fontSize:`${b}px`,animationDelay:"0.1s"},children:n.title}),n.subtitle&&r.jsx("p",{className:"leading-relaxed animate-fade-in-up",style:{fontSize:`${w}px`,animationDelay:"0.2s"},children:n.subtitle}),n.buttonText&&r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:r.jsx(V,{size:"lg",className:`${N[S]} transition-all duration-300 transform hover:scale-105 shadow-lg`,children:n.buttonText})})]}),r.jsx("div",{className:"absolute top-10 right-10 w-20 h-20 bg-white/10 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 bg-white/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("style",{children:`
              @keyframes fade-in-up {
                from {
                  opacity: 0;
                  transform: translateY(20px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }
              @keyframes gradient-shift {
                0%, 100% { opacity: 0.5; }
                50% { opacity: 0.8; }
              }
              .animate-fade-in-up {
                animation: fade-in-up 0.6s ease-out forwards;
                opacity: 0;
              }
              .animate-gradient-shift {
                animation: gradient-shift 8s ease-in-out infinite;
              }
            `})]})}case"features":return r.jsxs("div",{className:"py-16 px-8",style:{backgroundColor:n.backgroundColor,color:n.textColor},children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-12 animate-fade-in",children:n.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>r.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${x*.1}s`},children:[r.jsxs("div",{className:"relative",children:[g.icon&&r.jsx("div",{className:"text-6xl mb-4 transform group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:g.icon}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/0 to-purple-500/0 group-hover:from-blue-500/20 group-hover:to-purple-500/20 rounded-full blur-2xl transition-all duration-300"})]}),g.title&&r.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:g.title}),g.description&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:g.description})]},x))})]});case"products":return r.jsxs("div",{className:"py-20 px-8 bg-[#0a0a0f] relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[120px] animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-600/5 rounded-full blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),r.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[n.title&&r.jsxs("div",{className:"flex flex-col items-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight text-center",children:n.title}),r.jsx("div",{className:"h-1.5 w-24 bg-gradient-to-r from-primary to-purple-600 rounded-full shadow-[0_0_15px_rgba(var(--primary),0.5)]"})]}),l?r.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Je,{className:"w-12 h-12 animate-spin text-primary"}),r.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/20 animate-pulse"})]}),r.jsx("p",{className:"text-white/40 font-medium tracking-widest uppercase text-xs",children:"  ..."})]}):i.length===0?r.jsxs("div",{className:"text-center py-24 bg-white/5 rounded-3xl border border-white/10 backdrop-blur-sm",children:[r.jsx(Dt,{className:"w-16 h-16 mx-auto mb-4 text-white/20"}),r.jsx("p",{className:"text-white/60 text-lg font-medium",children:"    "})]}):r.jsxs("div",{className:`${n.layout==="carousel"?"relative":""}`,children:[r.jsx("div",{className:`${n.layout==="list"?"grid grid-cols-1 gap-8":n.layout==="carousel"?"flex overflow-x-auto gap-8 pb-8 snap-x snap-mandatory scroll-smooth scrollbar-hide":`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${n.columns||4} gap-8`}`,style:n.layout==="carousel"?{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}:{},children:i.map((g,x)=>r.jsx($ut,{product:g,index:x},g.id||x))}),n.layout==="carousel"&&i.length>(n.columns||4)&&r.jsx("div",{className:"flex justify-center gap-3 mt-10",children:Array.from({length:Math.ceil(i.length/(n.columns||4))}).map((g,x)=>r.jsx("div",{className:"w-10 h-1.5 rounded-full bg-white/10 hover:bg-primary/50 transition-all cursor-pointer"},x))})]})]}),r.jsx("style",{children:`
              .scrollbar-hide::-webkit-scrollbar {
                display: none;
              }
              .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
              }
            `})]});case"cta":return r.jsx("div",{className:"py-20 px-8 text-center",style:{backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff"},children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.title&&r.jsx("h2",{className:"text-4xl font-bold mb-4",children:String(n.title)}),n.description&&r.jsx("p",{className:"text-xl mb-8",children:String(n.description)}),n.buttonText&&r.jsx(V,{size:"lg",variant:"secondary",children:String(n.buttonText)})]})});case"text":return n.content&&(n.content.includes(" ")||n.content.includes("will appear here"))?null:r.jsx("div",{className:"py-12 px-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto prose prose-lg dark:prose-invert",children:[n.title&&r.jsx("h2",{className:"text-2xl font-bold mb-4",children:n.title}),n.content&&r.jsx(Jle,{html:n.content,className:"prose prose-lg dark:prose-invert max-w-none"})]})});case"image":return r.jsx("div",{className:"py-8",children:n.imageUrl&&r.jsx("img",{src:n.imageUrl,alt:n.alt||"",className:"w-full h-auto"})});case"footer":return r.jsx("footer",{className:"bg-gray-900 text-white py-12 px-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsx("div",{children:n.companyName&&r.jsx("h3",{className:"font-bold text-lg mb-4",children:n.companyName})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-4",children:"Links"}),r.jsx("ul",{className:"space-y-2",children:(n.links||[]).map((g,x)=>r.jsx("li",{children:r.jsx("a",{href:g.url,className:"hover:underline",children:g.label})},x))})]}),r.jsx("div",{children:r.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"})})]})});case"gallery":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:n.title}),r.jsx("div",{className:"grid gap-4 max-w-6xl mx-auto",style:{gridTemplateColumns:`repeat(${n.columns||3}, 1fr)`},children:(n.images||[]).map((g,x)=>r.jsx("div",{className:"aspect-square rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",children:r.jsx("img",{src:g,alt:`Gallery item ${x+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},x))})]});case"slider":return r.jsxs("div",{className:"py-8 px-4",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n.title}),r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx(Fut,{images:n.images||[],autoPlay:n.autoPlay!==!1,interval:n.interval||5e3,showDots:n.showDots!==!1,showArrows:n.showArrows!==!1,height:n.height||"500px",animationType:n.animationType||"slide"})}),n.description&&r.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-4 max-w-2xl mx-auto",children:String(n.description)})]});case"content-slider":return r.jsxs("div",{className:"py-12 px-4",style:{backgroundColor:n.backgroundColor||"transparent"},children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n.title}),r.jsx(Lut,{items:n.items||[],direction:n.direction||"horizontal",speed:n.speed||20,pauseOnHover:n.pauseOnHover!==!1,itemWidth:n.itemWidth||"300px",itemHeight:n.itemHeight||"auto",gap:n.gap||"2rem",backgroundColor:n.sliderBackgroundColor||"transparent",textColor:n.textColor||"inherit"})]});case"testimonials":return r.jsxs("div",{className:"py-16 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:n.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:[r.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((y,b)=>r.jsx("span",{className:`text-lg ${b<(g.rating||5)?"text-yellow-400":"text-gray-300"}`,children:""},b))}),g.text&&r.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4 italic",children:['"',g.text,'"']}),r.jsxs("div",{className:"flex items-center gap-3",children:[g.image&&r.jsx("img",{src:g.image,alt:g.name,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{children:[g.name&&r.jsx("p",{className:"font-semibold dark:text-white",children:g.name}),g.role&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:g.role})]})]})]},x))})]});case"pricing":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.plans||[]).map((g,x)=>r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-8 shadow-md ${g.highlighted?"ring-2 ring-blue-500 scale-105":""}`,children:[g.name&&r.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:g.name}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold dark:text-white",children:g.price}),g.currency&&r.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:g.currency}),g.period&&r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["/",g.period]})]}),g.features&&r.jsx("ul",{className:"space-y-3 mb-6",children:g.features.map((y,b)=>r.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"text-green-500",children:""}),y]},b))}),r.jsx(V,{className:"w-full",variant:g.highlighted?"default":"outline",children:"Choose Plan"})]},x))})]});case"team":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:(n.members||[]).map((g,x)=>r.jsxs("div",{className:"text-center",children:[g.image&&r.jsx("img",{src:g.image,alt:g.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover"}),g.name&&r.jsx("h3",{className:"text-xl font-semibold mb-1 dark:text-white",children:g.name}),g.role&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:g.role}),g.bio&&r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:g.bio})]},x))})]});case"stats":return r.jsxs("div",{className:"py-16 px-8 bg-gray-900 text-white",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:n.title}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-4xl font-bold mb-2",children:[g.number,g.suffix]}),g.label&&r.jsx("p",{className:"text-gray-300",children:g.label})]},x))})]});case"merchant-dashboard":return r.jsx(cht,{props:n});case"product-list":return r.jsx(dht,{props:n});case"store-page":return r.jsx(uht,{props:n});case"support-tickets":return r.jsx(Aut,{props:n});case"favorites-page":return r.jsx(Eut,{props:n});case"balance-operations":return r.jsx(Put,{props:n});case"employees-page":return r.jsx(Tut,{props:n});case"charge-wallet":return r.jsx(_ut,{props:n});case"reports-page":return r.jsx(Dut,{props:n});case"profile-page":return r.jsx(Out,{props:n});case"bank-accounts":return r.jsx(Iut,{props:n});case"permissions-page":return r.jsx(Mut,{});case"customer-orders":return r.jsx(Rut,{props:n});case"store-managers":case"custom":return n.component==="StoreManagersList"||s==="store-managers"?r.jsx(lht,{props:n}):null;case"faq":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),r.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:(n.items||[]).map((g,x)=>r.jsxs("details",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:[r.jsx("summary",{className:"font-semibold cursor-pointer dark:text-white",children:g.question}),r.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:g.answer})]},x))})]});case"newsletter":return r.jsx("div",{className:"py-16 px-8 text-center",style:{backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff"},children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold mb-4",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-lg mb-8",children:n.subtitle}),r.jsxs("div",{className:"flex gap-2 max-w-md mx-auto",children:[r.jsx("input",{type:"email",placeholder:String(n.placeholder||"Enter your email"),className:"flex-1 px-4 py-3 rounded-lg text-gray-900"}),r.jsx(V,{size:"lg",variant:"secondary",children:String(n.buttonText||"Subscribe")})]})]})});case"video":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-8 dark:text-white",children:n.title}),r.jsx("div",{className:"max-w-4xl mx-auto",children:n.videoUrl?r.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden",children:r.jsx("video",{src:String(n.videoUrl),controls:n.controls!==!1,autoPlay:n.autoPlay===!0,loop:n.loop===!0,poster:n.thumbnail?String(n.thumbnail):void 0,className:"w-full h-full",onPlay:g=>{const y=g.currentTarget.play();y!==void 0&&y.catch(()=>{})}})}):r.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"No video URL provided"})})})]});case"countdown":return r.jsxs("div",{className:"py-16 px-8 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center",children:[n.title&&r.jsx("h2",{className:"text-4xl font-bold mb-4",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-xl mb-8",children:n.subtitle}),r.jsxs("div",{className:"flex justify-center gap-4 max-w-2xl mx-auto",children:[n.showDays&&r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[r.jsx("div",{className:"text-4xl font-bold",children:"00"}),r.jsx("div",{className:"text-sm",children:"Days"})]}),n.showHours&&r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[r.jsx("div",{className:"text-4xl font-bold",children:"00"}),r.jsx("div",{className:"text-sm",children:"Hours"})]}),n.showMinutes&&r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[r.jsx("div",{className:"text-4xl font-bold",children:"00"}),r.jsx("div",{className:"text-sm",children:"Minutes"})]}),n.showSeconds&&r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[r.jsx("div",{className:"text-4xl font-bold",children:"00"}),r.jsx("div",{className:"text-sm",children:"Seconds"})]})]})]});case"brands":return r.jsxs("div",{className:"py-16 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:n.title}),r.jsx("div",{className:"grid gap-8 max-w-6xl mx-auto items-center",style:{gridTemplateColumns:`repeat(${n.columns||6}, 1fr)`},children:(n.logos||[]).map((g,x)=>r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:g,alt:`Brand ${x+1}`,className:`max-h-12 w-auto object-contain ${n.grayscale?"grayscale hover:grayscale-0":""} transition-all`})},x))})]});case"contact":return r.jsxs("div",{className:"py-16 px-8",children:[n.title&&r.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&r.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),r.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[n.email&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Email"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.email)})]}),n.phone&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Phone"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.phone)})]}),n.address&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Address"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.address)})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Name",className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx("textarea",{placeholder:"Message",rows:4,className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),r.jsx(V,{className:"w-full",children:"Send Message"})]})})]})]});case"payments":return r.jsxs("div",{className:"py-12 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&r.jsx("h2",{className:"text-2xl font-bold text-center mb-8 dark:text-white",children:n.title}),r.jsx("div",{className:"flex flex-wrap justify-center items-center gap-6 max-w-4xl mx-auto",children:(n.methods||["Visa","Mastercard","PayPal","Apple Pay"]).map((g,x)=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg px-6 py-3 shadow-sm border border-gray-200 dark:border-gray-700",children:r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:g})},x))})]});case"categories-hierarchy":return r.jsx(hht,{props:n});default:return console.warn(`Unknown section type: ${s}`),null}})();return r.jsxs("div",{style:m,children:[r.jsx("style",{children:`
          @keyframes fade { from { opacity: 0; } to { opacity: 1; } }
          @keyframes slide-up { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
          @keyframes slide-down { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
          @keyframes slide-left { from { transform: translateX(20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
          @keyframes slide-right { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
          @keyframes zoom { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
          @keyframes bounce { 
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 
            40% {transform: translateY(-20px);} 
            60% {transform: translateY(-10px);} 
          }
        `}),p]})}function cht({props:e}){const t=ts(),[s,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState([]),[c,d]=f.useState([]);f.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[y,b]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/dashboard/home`,{requireAuth:!0}).catch(()=>null),Q.fetch(`${Q.coreUrl}/merchant/orders?limit=10&status=PENDING`,{requireAuth:!0}).catch(()=>({items:[]}))]);if(y)a(y);else{const[w,v]=await Promise.all([Q.fetch(`${Q.coreUrl}/transactions/balance`,{requireAuth:!0}).catch(()=>({balance:0})),Q.fetch(`${Q.coreUrl}/dashboard/stats`,{requireAuth:!0}).catch(()=>({orderCount:0,revenue:0}))]);a({walletBalance:(w==null?void 0:w.balance)||0,currency:"SAR",todayOrdersCount:(v==null?void 0:v.orderCount)||0,todayProfit:0,pendingOrdersCount:0,totalOrderValue:(v==null?void 0:v.revenue)||0})}b!=null&&b.items&&l(b.items);try{const w=await Q.fetch(`${Q.coreUrl}/merchant/wallet/recharges?status=PENDING`,{requireAuth:!0}).catch(()=>({items:[]}));d((w==null?void 0:w.items)||[])}catch{d([])}}catch(y){console.error("Failed to load dashboard data:",y),a({walletBalance:0,currency:"SAR",todayOrdersCount:0,todayProfit:0,pendingOrdersCount:0,totalOrderValue:0})}finally{i(!1)}};if(n)return r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})});const h=(s==null?void 0:s.walletBalance)||0,m=(s==null?void 0:s.currency)||"SAR",p=(s==null?void 0:s.totalOrderValue)||(s==null?void 0:s.revenueTotal)||0,g=(s==null?void 0:s.todayOrdersCount)||(s==null?void 0:s.ordersCount)||0,x=[{icon:Na,label:" ",link:"/charge-wallet",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{icon:Or,label:" ",link:"/store",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{icon:kn,label:"",link:"/favorites",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400"},{icon:wr,label:" ",link:"/employees",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{icon:ka,label:" ",link:"/support",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:e.title||" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.subtitle||"    "})]}),r.jsxs(V,{onClick:u,variant:"outline",className:"gap-2 shadow-sm hover:shadow-md transition-all",children:[r.jsx(mc,{className:"h-4 w-4"})," "]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(we,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:" "}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:h.toFixed(2)}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m==="SAR"?" ":m==="USD"?" ":m})]}),r.jsx("div",{className:"p-4 bg-yellow-200 dark:bg-yellow-800/40 rounded-2xl shadow-inner",children:r.jsx(Na,{className:"h-8 w-8 text-yellow-700 dark:text-yellow-300"})})]})})}),r.jsx(we,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"  "}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:p.toFixed(2)}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m==="SAR"?" ":m==="USD"?" ":m})]}),r.jsx("div",{className:"p-4 bg-blue-200 dark:bg-blue-800/40 rounded-2xl shadow-inner",children:r.jsx(an,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"})})]})})}),r.jsx(we,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:" "}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:g}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "})]}),r.jsx("div",{className:"p-4 bg-green-200 dark:bg-green-800/40 rounded-2xl shadow-inner",children:r.jsx(Or,{className:"h-8 w-8 text-green-700 dark:text-green-300"})})]})})})]}),r.jsxs(we,{className:"border-0 shadow-lg",children:[r.jsxs(st,{className:"pb-4",children:[r.jsx(it,{className:"text-xl font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"    "})]}),r.jsx(Se,{children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:x.map((y,b)=>{const w=y.icon;return r.jsxs(V,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-3 hover:shadow-lg hover:scale-105 transition-all duration-200 border-2 hover:border-primary/50",onClick:()=>t(y.link),children:[r.jsx("div",{className:`p-4 rounded-xl ${y.color} shadow-sm`,children:r.jsx(w,{className:"h-6 w-6"})}),r.jsx("span",{className:"text-sm font-semibold",children:y.label})]},b)})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(we,{className:"border-0 shadow-lg",children:[r.jsxs(st,{className:"flex flex-row items-center justify-between pb-4",children:[r.jsxs("div",{children:[r.jsx(it,{className:"text-xl font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"  "})]}),o.length>0&&r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>t("/support"),className:"text-primary hover:text-primary/80",children:[" ",r.jsx(ma,{className:"h-4 w-4 mr-1"})]})]}),r.jsx(Se,{children:o.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-gray-50 dark:bg-gray-800/50",children:[r.jsx(Ae,{className:"font-semibold",children:" "}),r.jsx(Ae,{className:"font-semibold",children:" "}),r.jsx(Ae,{className:"font-semibold",children:" "}),r.jsx(Ae,{className:"font-semibold",children:""})]})}),r.jsx(us,{children:o.slice(0,5).map(y=>r.jsxs(kt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors",children:[r.jsx(Ne,{className:"text-sm",children:new Date(y.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})}),r.jsxs(Ne,{className:"font-medium",children:[" #",y.orderNumber]}),r.jsx(Ne,{className:"font-mono text-xs",children:y.orderNumber}),r.jsx(Ne,{children:r.jsx(et,{variant:y.status==="PENDING"?"secondary":"default",className:"font-medium",children:y.status==="PENDING"?"":y.status})})]},y.id))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[r.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:r.jsx(ka,{className:"h-8 w-8"})}),r.jsx("p",{className:"font-medium",children:"   "}),r.jsx("p",{className:"text-sm mt-1",children:"   "})]})})]}),r.jsxs(we,{className:"border-0 shadow-lg",children:[r.jsxs(st,{className:"flex flex-row items-center justify-between pb-4",children:[r.jsxs("div",{children:[r.jsx(it,{className:"text-xl font-semibold",children:"   "}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:" "})]}),c.length>0&&r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>t("/balance-operations"),className:"text-primary hover:text-primary/80",children:[" ",r.jsx(ma,{className:"h-4 w-4 mr-1"})]})]}),r.jsx(Se,{children:c.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"bg-gray-50 dark:bg-gray-800/50",children:[r.jsx(Ae,{className:"font-semibold",children:""}),r.jsx(Ae,{className:"font-semibold",children:" "}),r.jsx(Ae,{className:"font-semibold",children:""}),r.jsx(Ae,{className:"font-semibold",children:""}),r.jsx(Ae,{className:"font-semibold",children:""})]})}),r.jsx(us,{children:c.slice(0,5).map(y=>r.jsxs(kt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors",children:[r.jsx(Ne,{className:"text-sm",children:new Date(y.createdAt||y.date).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})}),r.jsx(Ne,{className:"font-mono text-xs",children:y.referenceId||y.id.slice(0,8)}),r.jsx(Ne,{className:"text-sm",children:y.description||y.type||" "}),r.jsxs(Ne,{className:"font-semibold",children:[Math.abs(y.amount||y.value||0).toFixed(2)," ",m]}),r.jsx(Ne,{children:r.jsx(et,{variant:y.status==="PENDING"?"secondary":"default",className:"font-medium",children:y.status==="PENDING"?"":y.status==="COMPLETED"?"":y.status})})]},y.id))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[r.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:r.jsx(Na,{className:"h-8 w-8"})}),r.jsx("p",{className:"font-medium",children:"   "}),r.jsx("p",{className:"text-sm mt-1",children:"   "})]})})]})]})]})})}function dht({props:e}){const[t,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState([]);f.useEffect(()=>{d()},[]),f.useEffect(()=>{if(i){const u=t.filter(h=>{var m,p,g;return((m=h.name)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))||((p=h.nameAr)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))||((g=h.sku)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))});c(u)}else c(t)},[i,t]);const d=async()=>{try{n(!0);const u=await Q.fetch(`${Q.coreUrl}/merchant/products?limit=100`,{requireAuth:!0}).catch(()=>fe.getProducts({limit:100})),h=(u==null?void 0:u.data)||(Array.isArray(u)?u:[]);s(h),c(h)}catch(u){console.error("Failed to load products:",u),s([]),c([])}finally{n(!1)}};return a?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"  ...",value:i,onChange:u=>o(u.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),r.jsx(Mr,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),r.jsx(we,{className:"border-0 shadow-md",children:r.jsx(Se,{className:"p-0",children:l.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"text-right",children:" "}),r.jsx(Ae,{className:"text-right",children:""}),r.jsx(Ae,{className:"text-right",children:" "}),r.jsx(Ae,{className:"text-right",children:" "}),r.jsx(Ae,{className:"text-right",children:" "}),r.jsx(Ae,{className:"text-right",children:"  "}),r.jsx(Ae,{className:"text-right",children:""}),r.jsx(Ae,{className:"text-right",children:"  "})]})}),r.jsx(us,{children:l.map(u=>{var x,y;const h=u.wholesalePrice||u.costPerItem||0,m=u.price||u.retailPrice||0,p=h>0?((m-h)/h*100).toFixed(2):"0.00",g=u.currency||"SAR";return r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-mono text-sm",children:u.id.slice(0,8)}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{var v;const b=(v=u.images)==null?void 0:v[0],w=typeof b=="object"&&(b==null?void 0:b.url)||(typeof b=="string"?b:"")||u.image||"";return w?r.jsx("img",{src:w,alt:u.name||"",className:"w-12 h-12 rounded object-cover"}):null})()||r.jsx("div",{className:"w-12 h-12 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:r.jsx(Dt,{className:"h-6 w-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:u.nameAr||u.name}),u.description&&r.jsxs("p",{className:"text-sm text-gray-500",children:[u.description.slice(0,50),"..."]})]})]})}),r.jsx(Ne,{children:((x=u.brand)==null?void 0:x.name)||((y=u.brand)==null?void 0:y.nameAr)||"N/A"}),r.jsx(Ne,{children:h.toFixed(6)}),r.jsxs(Ne,{children:[p,"%"]}),r.jsx(Ne,{children:m.toFixed(6)}),r.jsx(Ne,{children:g==="SAR"?"":g==="USD"?"$":g}),r.jsx(Ne,{children:m.toFixed(6)})]},u.id)})})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[r.jsx(Dt,{className:"h-12 w-12 mb-4"}),r.jsx("p",{children:"  "})]})})})]})})}function uht({props:e}){const t=ts(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),m=PF(),p=m==null?void 0:m.cart,g=p&&"items"in p&&Array.isArray(p.items)?p.items:p&&"cartItems"in p&&Array.isArray(p.cartItems)?p.cartItems:[];f.useEffect(()=>{console.log(" StorePageSection: Cart state updated",{hasCart:!!p,cartId:p==null?void 0:p.id,itemsCount:g.length,items:g.map(j=>{var k,N;return{id:j.id,productId:j.productId,productName:((k=j.product)==null?void 0:k.name)||((N=j.product)==null?void 0:N.nameAr)||"Unknown",hasProduct:!!j.product,quantity:j.quantity}})}),m!=null&&m.refreshCart&&m.refreshCart().catch(console.error)},[m,p==null?void 0:p.id,g.length]),f.useEffect(()=>{x()},[]);const x=async()=>{try{l(!0);const[j,k]=await Promise.all([Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:!1}).catch(()=>[]),fe.getCategories().catch(()=>[])]);a(Array.isArray(j)?j:[]),i(Array.isArray(k)?k:[])}catch(j){console.error("Failed to load store data:",j),a([]),i([])}finally{l(!1)}},y=async j=>{if(!m||!("removeItem"in m)){yr({title:"",description:"   ",variant:"destructive"});return}try{await m.removeItem(j),yr({title:" ",description:"    ",variant:"default"})}catch(k){console.error("Failed to remove from cart:",k),yr({title:"",description:"    ",variant:"destructive"})}},b=async(j,k)=>{if(!(!m||!("updateQuantity"in m)))try{await m.updateQuantity(j,k)}catch(N){console.error("Failed to update quantity:",N),yr({title:"",description:"  ",variant:"destructive"})}},w=s.filter(j=>{var N,C;return!c||((N=j.name)==null?void 0:N.toLowerCase().includes(c.toLowerCase()))||((C=j.nameAr)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}),v=g.reduce((j,k)=>{var A,E;const N=Number(((A=k.productVariant)==null?void 0:A.price)??((E=k.product)==null?void 0:E.price)??0),C=Number(k.quantity??0);return j+N*C},0),S=g.reduce((j,k)=>j+Number(k.quantity??0),0);return o?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-1 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-3",children:"  "}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"    "})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",placeholder:"      ...",value:c,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),r.jsx(Mr,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),r.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[r.jsx("option",{value:"all",children:" "}),n.map(j=>r.jsx("option",{value:j.id,children:j.nameAr||j.name},j.id))]})]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.length,"  "]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:w.map(j=>{var k,N;return r.jsx(we,{className:"cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 border-0 shadow-lg group overflow-hidden",onClick:()=>t(`/products?brandId=${j.id}`),children:r.jsxs(Se,{className:"p-0",children:[r.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:j.logo?r.jsx("img",{src:j.logo,alt:j.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(xs,{className:"h-16 w-16 text-gray-400"})})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.nameAr||j.name}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((k=j.category)==null?void 0:k.nameAr)||((N=j.category)==null?void 0:N.name)||" "})]})]})},j.id)})}),w.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xs,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"   "})]})]})}),r.jsxs("div",{className:"w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-xl",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Number(S)," "]})]}),r.jsx("div",{className:"p-6",children:g.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3 mb-6 max-h-[55vh] overflow-y-auto",children:g.map(j=>{var T,P,_,O,M,I;if(!j.product)return console.error(" Cart item missing product:",j),null;const k=((T=j.product)==null?void 0:T.nameAr)||((P=j.product)==null?void 0:P.name)||"  ",N=Number(((_=j.productVariant)==null?void 0:_.price)??((O=j.product)==null?void 0:O.price)??0),C=Number(j.quantity??0),A=N*C,E=(I=(M=j.product)==null?void 0:M.images)==null?void 0:I[0],D=typeof E=="object"&&(E==null?void 0:E.url)||(typeof E=="string"?E:null);return r.jsxs("div",{className:"flex gap-3 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-primary/50 transition-colors bg-gray-50 dark:bg-gray-800/50",children:[D&&r.jsx("img",{src:D,alt:k,className:"w-20 h-20 rounded-lg object-cover shadow-sm",onError:R=>{console.error("Failed to load product image:",D),R.target.style.display="none"}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white mb-1 truncate",title:k,children:k}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("button",{onClick:()=>b(j.id,Math.max(1,C-1)),className:"p-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:r.jsx(wm,{className:"h-3 w-3"})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[": ",C]}),r.jsx("button",{onClick:()=>b(j.id,C+1),className:"p-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:r.jsx(rr,{className:"h-3 w-3"})})]}),r.jsxs("p",{className:"text-sm font-bold text-primary",children:[A.toFixed(2)," ."]})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>y(j.id||""),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 shrink-0",children:r.jsx(jr,{className:"h-4 w-4"})})]},j.id)}).filter(j=>j!==null)}),r.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-700 pt-6 space-y-4 sticky bottom-0 bg-white dark:bg-gray-900",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:" "}),r.jsx("span",{className:"font-bold text-lg",children:Number(S)})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("span",{className:"text-gray-900 dark:text-white font-bold text-lg",children:""}),r.jsxs("span",{className:"text-primary font-bold text-xl",children:[Number(v).toFixed(2)," ."]})]}),r.jsxs(V,{className:"w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-semibold py-6 text-lg shadow-lg hover:shadow-xl transition-all",onClick:()=>t("/cart"),children:[r.jsx(Or,{className:"ml-2 h-5 w-5"})," "]})]})]}):r.jsxs("div",{className:"text-center py-16 text-gray-400",children:[r.jsx("div",{className:"p-6 bg-gray-100 dark:bg-gray-800 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:r.jsx(Or,{className:"h-12 w-12"})}),r.jsx("p",{className:"font-medium text-lg mb-2",children:" "}),r.jsx("p",{className:"text-sm",children:"    "})]})})]})]})})}function hht({props:e}){const t=ts(),[s,a]=f.useState([]),[n,i]=f.useState({}),[o,l]=f.useState({}),[c,d]=f.useState(new Set),[u,h]=f.useState(new Set),[m,p]=f.useState(!0),[g,x]=f.useState(null),[y,b]=f.useState(null),w=async()=>{try{p(!0);const N=await fe.getCategories(),C=Array.isArray(N)?N:(N==null?void 0:N.categories)||[],A=C.filter(P=>!P.parentId||P.parentId===null);a(A);const E={};C.forEach(P=>{P.parentId&&(E[P.parentId]||(E[P.parentId]=[]),E[P.parentId].push(P))}),i(E);const D={},T=C.map(P=>P.id);for(const P of T)try{const _=await fe.getProducts({categoryId:P,limit:e.productsPerCategory||12}),O=Array.isArray(_)?_:(_==null?void 0:_.products)||[];D[P]=O}catch(_){console.error(`Failed to load products for category ${P}:`,_),D[P]=[]}l(D)}catch(N){console.error("Failed to load categories:",N),a([])}finally{p(!1)}};f.useEffect(()=>{w()},[e.productsPerCategory]);const v=N=>{const C=new Set(c);C.has(N)?(C.delete(N),x(null)):(C.add(N),x(N)),d(C),h(new Set)},S=N=>{const C=new Set(u);C.has(N)?(C.delete(N),b(null)):(C.add(N),b(N)),h(C)},j=PF(),k=(j==null?void 0:j.addToCart)||null;return m?r.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-3",children:e.title||" "}),e.subtitle&&r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e.subtitle})]}),s.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]}):r.jsx("div",{className:"space-y-6",children:s.map(N=>{const C=n[N.id]||[],A=o[N.id]||[],E=c.has(N.id),D=C.length>0,T=A.length>0;return r.jsxs(we,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[r.jsx(st,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>v(N.id),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[N.image&&r.jsx("img",{src:N.image,alt:N.nameAr||N.name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(it,{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:N.nameAr||N.name}),N.descriptionAr||N.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:N.descriptionAr||N.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[D&&r.jsxs(et,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[C.length,"  "]}),T&&r.jsxs(et,{variant:"secondary",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[A.length," "]})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:(D||T)&&r.jsx(V,{variant:"ghost",size:"icon",children:E?r.jsx(to,{className:"h-5 w-5"}):r.jsx(ma,{className:"h-5 w-5"})})})]})}),E&&r.jsxs(Se,{className:"pt-0 pb-6",children:[D&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5"})," "]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(P=>{const _=o[P.id]||[],O=u.has(P.id);return r.jsx(we,{className:"border-2 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>S(P.id),children:r.jsxs(Se,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:P.nameAr||P.name}),_.length>0&&r.jsx(et,{variant:"secondary",className:"text-xs",children:_.length})]}),O&&_.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.slice(0,4).map(M=>r.jsxs("div",{className:"text-xs p-2 bg-gray-50 dark:bg-gray-800 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:I=>{I.stopPropagation(),t(`/products/${M.id}`)},children:[r.jsx("p",{className:"font-medium truncate",children:M.nameAr||M.name}),r.jsxs("p",{className:"text-primary font-bold",children:["$",Number(M.price??0).toFixed(2)]})]},M.id))}),_.length>4&&r.jsxs(V,{variant:"link",size:"sm",className:"mt-2 w-full",onClick:M=>{M.stopPropagation(),t(`/collections/${P.slug||P.id}`)},children:["   (",_.length,")"]})]})]})},P.id)})})]}),T&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),""]}),r.jsx("div",{className:`grid gap-6 ${e.productsLayout==="list"||e.productsLayout==="carousel"?"grid-cols-1":`grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-${e.productsColumns||4}`}`,children:A.map(P=>{var F;const _=String((P==null?void 0:P.name)||""),O=String((P==null?void 0:P.nameAr)||_),M=(F=P==null?void 0:P.images)==null?void 0:F[0],I=typeof M=="object"&&(M==null?void 0:M.url)||(typeof M=="string"?M:"")||(P==null?void 0:P.image)||"",R=Number((P==null?void 0:P.price)||0),L=P!=null&&P.compareAtPrice?Number(P.compareAtPrice):null,K=L&&L>R,H=Number((P==null?void 0:P.inventoryQuantity)||0);return r.jsxs(we,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 group cursor-pointer overflow-hidden",onClick:()=>t(`/products/${P.id}`),children:[I&&r.jsxs("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:[r.jsx("img",{src:String(I),alt:O,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),K&&L&&r.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:[Math.round((1-R/L)*100),"% OFF"]}),H<=0&&r.jsx("div",{className:"absolute top-3 right-3 bg-gray-800 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" "})]}),r.jsxs(Se,{className:"p-5",children:[r.jsx("h4",{className:"font-bold text-lg mb-2 truncate dark:text-white group-hover:text-primary transition-colors",children:O}),r.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",R.toFixed(2)]}),K&&r.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["$",L.toFixed(2)]})]}),e.showAddToCart!==!1&&k&&H>0&&r.jsxs(V,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold",size:"sm",onClick:async G=>{G.stopPropagation();try{await k(P.id,1),yr({title:" ",description:`  ${O}  `})}catch(U){console.error("Failed to add to cart:",U)}},children:[r.jsx(Or,{className:"h-4 w-4 mr-2"}),"  "]})]})]},P.id)})})]}),!D&&!T&&r.jsx("div",{className:"text-center py-8 text-gray-400",children:r.jsx("p",{children:"        "})})]})]},N.id)})})]})})}const Xp=()=>{const[e,t]=f.useState(null),[s,a]=f.useState(""),n=RA();f.useEffect(()=>{(async()=>{var c,d;if(!n)try{const u=await fe.get("/site-config",{requireAuth:!1});(c=u==null?void 0:u.settings)!=null&&c.storeLogoUrl&&t(u.settings.storeLogoUrl),(d=u==null?void 0:u.settings)!=null&&d.storeName&&a(u.settings.storeName)}catch{console.warn("Loading screen: Could not fetch store logo, using default.")}})()},[n]);const i=e||sl(),o=s||ai;return r.jsx("div",{className:"fixed inset-0 z-[9999] bg-background flex items-center justify-center",children:r.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-full gradient-primary blur-3xl opacity-30 animate-pulse"}),r.jsx("div",{className:"relative w-28 h-28 mx-auto rounded-2xl overflow-hidden bg-card border border-border shadow-2xl animate-float flex items-center justify-center",children:r.jsx("img",{src:i,alt:o,className:"max-w-[80%] max-h-[80%] object-contain p-2"})})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Je,{className:"w-6 h-6 animate-spin text-primary"}),r.jsx("span",{className:"text-lg font-medium text-foreground",children:n?" ...":"  ..."})]}),r.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(l=>r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-bounce",style:{animationDelay:`${l*150}ms`}},l))})]})]})})};function Zle(){var k;const{t:e}=It(),{settings:t}=Um(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(!0),[g,x]=f.useState(0),[y,b]=f.useState(null),[w,v]=f.useState(null);f.useEffect(()=>{j();const N=localStorage.getItem("customerToken"),C=localStorage.getItem("customerData");N&&C&&(b(JSON.parse(C)),S());const A=()=>{j()};return window.addEventListener("productsUpdated",A),()=>{window.removeEventListener("productsUpdated",A)}},[]);const S=async()=>{try{const N=await Is.getBalance();x(Number(N.balance)||0)}catch{}},j=async()=>{try{try{const R=await fe.getPageBySlug("home");R&&R.isPublished&&h(R)}catch(R){const L=R;L!=null&&L.status&&L.status}const[N,C,A,E,D]=await Promise.all([fe.getProducts({limit:1e3}),fe.getPages(),fe.getCategories().catch(()=>[]),fe.getBrands().catch(()=>[]),fe.get("/site-config").catch(()=>null)]);D&&v(D);const T=Array.isArray(C)?C.filter(R=>R&&typeof R=="object"&&!("error"in R)&&R.isPublished):[];let P=[];if(N&&typeof N=="object"&&!("error"in N)&&!("statusCode"in N))if(Array.isArray(N))P=N.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R));else{const R=N;R.data&&Array.isArray(R.data)?P=R.data.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)):R.products&&Array.isArray(R.products)&&(P=R.products.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)))}const _=P.map(R=>{let L=[];R.categories&&Array.isArray(R.categories)&&(L=R.categories.map(H=>{var F;return typeof H=="string"?{categoryId:H}:{categoryId:H.categoryId||H.id||((F=H.category)==null?void 0:F.id),category:H.category,id:H.id}}));let K=[];return R.images&&Array.isArray(R.images)&&(K=R.images.map(H=>typeof H=="string"?{url:H,id:H}:{url:H.url,id:H.id,altText:H.altText})),{...R,name:R.name||R.title||R.productName||"",nameAr:R.nameAr||R.titleAr||R.productNameAr||"",images:K,price:Number(R.price)||Number(R.cost)||0,compareAtPrice:R.compareAtPrice?Number(R.compareAtPrice):void 0,isAvailable:R.isAvailable!==!1&&R.isAvailable!==void 0,isPublished:R.isPublished!==!1&&R.isPublished!==void 0}}).filter(R=>R.isAvailable&&R.isPublished).slice(0,8);let O=[];if(A&&typeof A=="object"&&!("error"in A)&&!("statusCode"in A))if(Array.isArray(A))O=A.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R));else{const R=A;R.categories&&Array.isArray(R.categories)&&(O=R.categories.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)))}const M=O.filter(R=>!R.parentId);let I=[];E&&typeof E=="object"&&!("error"in E)&&!("statusCode"in E)&&Array.isArray(E)&&(I=E.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R))),a(_),d(T),i(M.slice(0,6)),l(I.slice(0,8))}catch{a([]),d([]),i([]),l([])}finally{p(!1)}};return m?r.jsx(Xp,{}):t!=null&&t.maintenanceMode?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center p-8",children:[r.jsxs("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:[t.storeName||"","  "]}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"   .  !"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:t.storeDescription||"  .       ."})]})}):u&&u.content&&Array.isArray(u.content.sections)?r.jsx("div",{className:"min-h-screen bg-background",children:u.content.sections.map(N=>r.jsx(Kw,{section:N},N.id))}):r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("section",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 gradient-primary"}),r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),r.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 rounded-full bg-white/10 blur-3xl animate-blob"}),r.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 rounded-full bg-white/10 blur-3xl animate-blob animation-delay-2000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-white/5 blur-3xl animate-pulse-slow"}),r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((N,C)=>r.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-white/30",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float ${5+Math.random()*5}s ease-in-out infinite`,animationDelay:`${Math.random()*5}s`}},C))}),r.jsx("div",{className:"container relative py-24 md:py-36",children:r.jsx("div",{className:"mx-auto max-w-4xl text-center",children:(c.length>0||s.length>0)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/15 backdrop-blur-sm border border-white/20 mb-8 animate-slide-down",children:[r.jsx(bs,{className:"w-4 h-4 text-warning"}),r.jsx("span",{className:"text-white/90 text-sm font-medium",children:"   "})]}),y&&((k=w==null?void 0:w.settings)==null?void 0:k.storeType)==="DIGITAL_CARDS"&&r.jsx("div",{className:"mb-6 animate-slide-down animation-delay-100",children:r.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 shadow-lg",children:[r.jsx("div",{className:"p-2 rounded-xl bg-primary/20 text-white",children:r.jsx(Na,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-white/70 font-medium",children:" "}),r.jsxs("p",{className:"text-xl font-bold text-white tracking-tight",children:[g.toFixed(2)," ",r.jsx("span",{className:"text-sm font-normal opacity-80",children:""})]})]})]})}),r.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-heading font-bold tracking-tight mb-6 text-white leading-tight animate-slide-up",children:["  ",r.jsx("span",{className:"block mt-2 bg-gradient-to-r from-white via-white/90 to-white/70 bg-clip-text text-transparent",children:" "})]}),r.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-10 max-w-2xl mx-auto animate-slide-up animation-delay-200",children:"        "}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up animation-delay-400",children:[s.length>0&&r.jsx(tt,{to:"/products",children:r.jsxs(V,{size:"lg",className:"bg-white text-primary hover:bg-white/90 shadow-2xl h-14 px-8 text-lg font-semibold rounded-xl group",children:[r.jsx(tl,{className:"ml-2 h-5 w-5 group-hover:animate-wiggle"})," ",r.jsx(Ms,{className:"mr-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),c.length>0&&r.jsx(tt,{to:`/${c[0].slug}`,children:r.jsxs(V,{size:"lg",variant:"outline",className:"border-2 border-white/50 bg-transparent text-white hover:bg-white/10 h-14 px-8 text-lg font-semibold rounded-xl backdrop-blur-sm",children:[r.jsx(ka,{className:"ml-2 h-5 w-5"})," "]})})]}),r.jsx("div",{className:"mt-16 grid grid-cols-3 gap-8 max-w-xl mx-auto animate-slide-up animation-delay-500",children:[{label:"",value:s.length+"+",icon:Dt},{label:"",value:n.length+"+",icon:_i},{label:" ",value:o.length+"+",icon:jm}].map((N,C)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:N.value}),r.jsxs("div",{className:"text-sm text-white/70 flex items-center justify-center gap-1",children:[r.jsx(N.icon,{className:"w-3.5 h-3.5"}),N.label]})]},C))})]})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:r.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",className:"w-full h-auto",children:r.jsx("path",{d:"M0,60 C480,120 960,0 1440,60 L1440,120 L0,120 Z",className:"fill-background"})})})]}),r.jsxs("div",{className:"container py-20 space-y-24",children:[o.length>0&&r.jsxs("section",{className:"animate-slide-up",children:[r.jsxs("div",{className:"flex items-center justify-between mb-10",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2.5 rounded-xl gradient-primary shadow-glow",children:r.jsx(jm,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text",children:" "}),r.jsx(et,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-primary/30 text-primary",children:o.length})]}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"     "})]}),r.jsx(tt,{to:"/categories",children:r.jsxs(V,{variant:"outline",size:"lg",className:"border-2 hidden sm:flex rounded-xl hover:bg-primary/5 group",children:[" ",r.jsx(ma,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:o.map((N,C)=>r.jsx(tt,{to:`/products?brandId=${N.id}`,className:"animate-scale-in",style:{animationDelay:`${C*50}ms`},children:r.jsx(we,{className:"px-5 py-3 hover:shadow-lg hover:border-primary/50 hover:-translate-y-1 transition-all duration-300 cursor-pointer group rounded-xl",children:r.jsxs("span",{className:"font-semibold text-base group-hover:text-primary transition-colors inline-flex items-center gap-2",children:[N.name,N.nameAr&&N.nameAr!==N.name&&r.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",N.nameAr,")"]}),r.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})})},N.id))})]}),n.length>0&&r.jsxs("section",{className:"animate-slide-up animation-delay-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-10",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2.5 rounded-xl gradient-secondary shadow-glow-secondary",children:r.jsx(_i,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text-secondary",children:""}),r.jsx(et,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-secondary/30 text-secondary",children:n.length})]}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]}),r.jsx(tt,{to:"/categories",children:r.jsxs(V,{variant:"outline",size:"lg",className:"border-2 hidden sm:flex rounded-xl hover:bg-secondary/5 group",children:[" ",r.jsx(ma,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((N,C)=>r.jsx(tt,{to:`/categories/${N.id}`,className:"animate-scale-in",style:{animationDelay:`${C*75}ms`},children:r.jsx(we,{className:"h-full overflow-hidden group cursor-pointer rounded-2xl border-2 border-border/50 hover:border-secondary/50 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2",children:r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"w-28 h-28 relative overflow-hidden bg-gradient-mesh flex items-center justify-center shrink-0",children:[r.jsx("div",{className:"absolute inset-0 gradient-secondary opacity-0 group-hover:opacity-20 transition-opacity duration-500"}),N.image?r.jsx(T0,{src:N.image,alt:N.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):r.jsx(_i,{className:"h-12 w-12 text-secondary/40 group-hover:text-secondary group-hover:scale-110 transition-all duration-300"})]}),r.jsxs(Se,{className:"flex-1 p-5 flex flex-col justify-center",children:[r.jsxs(it,{className:"text-lg group-hover:text-secondary transition-colors flex items-center gap-2",children:[N.name,r.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),N.description&&r.jsx(Kt,{className:"line-clamp-2 mt-1",children:N.description})]})]})})},N.id))})]}),c.length>0&&r.jsxs("section",{className:"animate-slide-up animation-delay-400",children:[r.jsx("div",{className:"flex items-center justify-between mb-10",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2.5 rounded-xl gradient-accent shadow-glow-accent",children:r.jsx(ka,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold",children:r.jsx("span",{className:"bg-gradient-to-r from-accent via-primary to-secondary bg-clip-text text-transparent",children:""})}),r.jsxs(et,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-accent/30 text-accent",children:[c.length," ",c.length===1?"":c.length===2?"":""]})]}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map((N,C)=>r.jsx(tt,{to:`/${N.slug}`,className:"animate-scale-in",style:{animationDelay:`${C*75}ms`},children:r.jsxs(we,{className:"h-full group cursor-pointer rounded-2xl border-2 border-border/50 hover:border-accent/50 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2",children:[r.jsxs(st,{children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"p-3.5 rounded-xl bg-accent/10 group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300",children:r.jsx(ka,{className:"h-6 w-6 text-accent"})}),r.jsxs(et,{variant:"outline",className:"text-xs border-border/50 text-muted-foreground",children:[r.jsx(Ri,{className:"h-3 w-3 ml-1"}),new Date(N.createdAt).toLocaleDateString("ar-SA")]})]}),r.jsxs(it,{className:"text-xl group-hover:text-accent transition-colors flex items-center gap-2",children:[N.title,r.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-muted-foreground font-mono bg-muted/50 px-2 py-1 rounded-md",children:["/",N.slug]}),r.jsxs(V,{variant:"ghost",size:"sm",className:"group-hover:bg-accent/10 rounded-lg",children:[r.jsx(Cr,{className:"h-4 w-4 ml-2"}),""]})]})})]})},N.id))})]}),s.length>0&&r.jsxs("section",{className:"animate-slide-up animation-delay-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-10",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-r from-success to-primary shadow-lg",children:r.jsx(tl,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text",children:" "}),r.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-warning/10 text-warning text-sm font-medium",children:[r.jsx(rl,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:" "})]})]}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]}),r.jsx(tt,{to:"/products",children:r.jsxs(V,{variant:"outline",size:"lg",className:"border-2 rounded-xl hover:bg-primary/5 group",children:[" ",r.jsx(ma,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((N,C)=>r.jsx(Zj,{product:N,index:C},N.id))})]}),c.length===0&&s.length===0&&r.jsx("section",{className:"py-20 animate-fade-in",children:r.jsx(we,{className:"shadow-2xl rounded-3xl border-2 border-dashed border-border",children:r.jsxs(Se,{className:"py-20 text-center",children:[r.jsxs("div",{className:"relative inline-block mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),r.jsx("div",{className:"relative p-6 rounded-full bg-muted/50",children:r.jsx(Dt,{className:"h-20 w-20 text-muted-foreground/30"})})]}),r.jsx("h3",{className:"text-2xl font-heading font-bold mb-3",children:e("common.noContentYet")}),r.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:e("common.noContentDescription")}),r.jsxs(V,{size:"lg",className:"gradient-primary text-white rounded-xl hover:shadow-glow transition-shadow",children:[r.jsx(bs,{className:"ml-2 h-5 w-5"}),e("common.exploreMore")]})]})})})]}),r.jsxs("section",{className:"relative overflow-hidden py-20",children:[r.jsx("div",{className:"absolute inset-0 gradient-mesh"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-secondary/5"})]})]})}function ece(){const{t:e}=It(),[t,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState("newest"),[d,u]=f.useState("grid"),[h,m]=f.useState([0,1e4]),[p,g]=f.useState([]),[x,y]=f.useState([]),[b,w]=f.useState(!1),[v,S]=f.useState(1),[j,k]=f.useState(12);f.useEffect(()=>{N(),C();const _=()=>{N(),C()};return window.addEventListener("productsUpdated",_),()=>{window.removeEventListener("productsUpdated",_)}},[]),f.useEffect(()=>{S(1)},[i,h,p]);const N=async()=>{try{console.log(" [Storefront Products] Loading all products");const _=await fe.getProducts({limit:1e3});console.log(" [Storefront Products] Products response:",_);const O=Array.isArray(_)?_:(_==null?void 0:_.data)||(_==null?void 0:_.products)||[];console.log(" [Storefront Products] Raw products:",O.length,"products");const M=O.map(I=>{let R=[];return I.categories&&Array.isArray(I.categories)&&(R=I.categories.map(L=>{var K;return typeof L=="string"?{categoryId:L}:{categoryId:L.categoryId||L.id||((K=L.category)==null?void 0:K.id),category:L.category,id:L.id}})),{...I,categories:R,price:Number(I.price)||0,compareAtPrice:I.compareAtPrice?Number(I.compareAtPrice):void 0,isAvailable:I.isAvailable!==!1&&I.isAvailable!==void 0,isPublished:I.isPublished!==!1&&I.isPublished!==void 0}}).filter(I=>I.isAvailable&&I.isPublished);console.log(" [Storefront Products] Valid products (available & published):",M.length,"products"),s(M)}catch(_){console.error(" [Storefront Products] Failed to load products:",_),s([])}finally{n(!1)}},C=async()=>{try{console.log(" [Storefront Products] Loading categories");const _=await fe.getCategories();console.log(" [Storefront Products] Categories response:",_);let O=[];Array.isArray(_)?O=_:_&&typeof _=="object"&&"categories"in _&&(O=Array.isArray(_.categories)?_.categories:[]),console.log(" [Storefront Products] Categories list:",O.length,"categories"),y(O)}catch(_){console.error(" [Storefront Products] Failed to load categories:",_),y([])}};if(a)return r.jsx(Xp,{});let A=t.filter(_=>{var R;const O=!i||((R=_.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase())),M=_.price>=h[0]&&_.price<=h[1];let I=!0;return p.length>0&&(I=(_.categories||[]).some(H=>{var G;const F=H.categoryId||H.id||((G=H.category)==null?void 0:G.id);return p.includes(F)})||_.categoryId&&p.includes(_.categoryId)),O&&M&&I});A=[...A].sort((_,O)=>{switch(l){case"price-asc":return(_.price||0)-(O.price||0);case"price-desc":return(O.price||0)-(_.price||0);case"name-asc":return(_.name||"").localeCompare(O.name||"");case"name-desc":return(O.name||"").localeCompare(_.name||"");default:return 0}});const E=A.length,D=Math.ceil(E/j),T=A.slice((v-1)*j,v*j),P=()=>r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-lg gradient-primary",children:r.jsx(Wu,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"gradient-text",children:e("storefront.products.categories")})]}),r.jsx("div",{className:"space-y-3",children:Array.isArray(x)&&x.length>0?x.map((_,O)=>r.jsxs("div",{className:"flex items-center justify-between group animate-slide-up",style:{animationDelay:`${O*50}ms`},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(no,{id:_.id,checked:p.includes(_.id),onCheckedChange:M=>{g(M?[...p,_.id]:p.filter(I=>I!==_.id))},className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),r.jsx(Y,{htmlFor:_.id,className:"cursor-pointer group-hover:text-primary transition-colors font-medium",children:_.name})]}),_.count!==void 0&&r.jsx(et,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:_.count})]},_.id)):r.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:e("storefront.products.noCategories","  ")})})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("div",{className:"p-2 rounded-lg gradient-secondary",children:r.jsx(rl,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"gradient-text-secondary",children:e("storefront.products.priceRange")})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Y,{className:"text-xs text-muted-foreground mb-1 block",children:e("storefront.products.from")}),r.jsx(pe,{type:"number",placeholder:"0",value:h[0],onChange:_=>m([Number(_.target.value),h[1]]),className:"border-2 focus:border-primary/50 rounded-xl"})]}),r.jsx("span",{className:"text-muted-foreground font-bold mt-5",children:"-"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Y,{className:"text-xs text-muted-foreground mb-1 block",children:e("storefront.products.to")}),r.jsx(pe,{type:"number",placeholder:"10000",value:h[1],onChange:_=>m([h[0],Number(_.target.value)]),className:"border-2 focus:border-primary/50 rounded-xl"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"px-2 py-1 rounded-lg bg-primary/10 text-primary font-semibold",children:[h[0]," ",e("common.currency")]}),r.jsx(Ms,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"px-2 py-1 rounded-lg bg-secondary/10 text-secondary font-semibold",children:[h[1]," ",e("common.currency")]})]})]})]}),(p.length>0||h[0]>0||h[1]<1e4)&&r.jsxs(V,{variant:"outline",className:"w-full rounded-xl border-2 border-destructive/50 text-destructive hover:bg-destructive/10 hover:border-destructive transition-all",onClick:()=>{g([]),m([0,1e4])},children:[r.jsx(jr,{className:"ml-2 h-4 w-4"}),e("storefront.products.clearFilters")]})]});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),r.jsxs("div",{className:"container relative py-12",children:[r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4 animate-fade-in",children:[r.jsx("span",{children:e("storefront.products.home")}),r.jsx(Ms,{className:"w-4 h-4"}),r.jsx("span",{className:"text-foreground font-medium",children:e("storefront.products.title")})]}),r.jsxs("div",{className:"flex items-center gap-4 mb-2 animate-slide-up",children:[r.jsx("div",{className:"p-3 rounded-xl gradient-primary shadow-glow",children:r.jsx(Dt,{className:"h-6 w-6 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text",children:e("storefront.products.title")})]}),r.jsx("p",{className:"text-muted-foreground text-lg animate-slide-up animation-delay-200",children:e("storefront.products.subtitle")})]})]}),r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-8 flex flex-col lg:flex-row gap-4 animate-slide-up animation-delay-400",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Mr,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx(pe,{placeholder:e("storefront.products.searchPlaceholder"),value:i,onChange:_=>o(_.target.value),className:"pr-12 h-14 border-2 border-border/50 focus:border-primary/50 rounded-xl shadow-sm text-lg bg-card"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(mr,{value:l,onValueChange:c,children:[r.jsx(dr,{className:"w-[200px] h-14 border-2 border-border/50 rounded-xl shadow-sm bg-card",children:r.jsx(xr,{placeholder:e("storefront.products.sortBy")})}),r.jsxs(ur,{className:"rounded-xl",children:[r.jsx(_e,{value:"newest",children:e("storefront.products.newest")}),r.jsx(_e,{value:"price-asc",children:e("storefront.products.priceAsc")}),r.jsx(_e,{value:"price-desc",children:e("storefront.products.priceDesc")}),r.jsx(_e,{value:"name-asc",children:e("storefront.products.nameAsc")}),r.jsx(_e,{value:"name-desc",children:e("storefront.products.nameDesc")})]})]}),r.jsxs("div",{className:"hidden md:flex border-2 border-border/50 rounded-xl overflow-hidden shadow-sm bg-card",children:[r.jsx(V,{variant:d==="grid"?"default":"ghost",size:"icon",className:xe("rounded-none h-14 w-14 transition-all",d==="grid"&&"gradient-primary text-white"),onClick:()=>u("grid"),children:r.jsx(nK,{className:"h-5 w-5"})}),r.jsx(V,{variant:d==="list"?"default":"ghost",size:"icon",className:xe("rounded-none h-14 w-14 transition-all",d==="list"&&"gradient-primary text-white"),onClick:()=>u("list"),children:r.jsx(oj,{className:"h-5 w-5"})})]}),r.jsxs(Y0,{open:b,onOpenChange:w,children:[r.jsx($C,{asChild:!0,children:r.jsxs(V,{variant:"outline",className:"lg:hidden h-14 border-2 rounded-xl shadow-sm",children:[r.jsx(cK,{className:"ml-2 h-5 w-5"}),e("storefront.products.filter"),p.length>0&&r.jsx(et,{className:"mr-2 gradient-primary text-white",children:p.length})]})}),r.jsxs(Fp,{side:"right",className:"w-[320px] glass-effect-strong",children:[r.jsxs(X0,{children:[r.jsx(Q0,{className:"text-2xl gradient-text",children:e("storefront.products.filters")}),r.jsx(BC,{children:e("storefront.products.filterDesc")})]}),r.jsx("div",{className:"mt-8",children:r.jsx(P,{})})]})]})]})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:r.jsx(we,{className:"p-6 sticky top-24 border-2 border-border/30 shadow-xl rounded-2xl glass-effect",children:r.jsx(P,{})})}),r.jsx("div",{className:"flex-1",children:A.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between p-5 glass-card rounded-2xl animate-slide-up",children:[r.jsxs("p",{className:"text-muted-foreground text-lg flex items-center gap-2",children:[r.jsx(bs,{className:"w-5 h-5 text-primary"}),r.jsx("span",{className:"font-bold text-2xl gradient-text",children:E}),e("storefront.products.availableProducts")]}),(p.length>0||i)&&r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i&&r.jsxs(et,{variant:"outline",className:"gap-2 px-3 py-1.5 text-sm rounded-lg border-primary/30 bg-primary/5 cursor-pointer hover:bg-primary/10 transition-colors",onClick:()=>o(""),children:[e("storefront.products.search"),": ",i,r.jsx(jr,{className:"h-3 w-3 hover:text-destructive"})]}),p.length>0&&r.jsxs(et,{variant:"outline",className:"px-3 py-1.5 text-sm rounded-lg border-secondary/30 bg-secondary/5",children:[p.length," ",e("storefront.products.selectedCategories")]})]})]}),r.jsx("div",{className:d==="grid"?"grid sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6":"space-y-6",children:T.map((_,O)=>r.jsx(Zj,{product:_,viewMode:d,index:O},_.id))}),r.jsx("div",{className:"mt-8",children:r.jsx($u,{currentPage:v,totalPages:D,totalItems:E,itemsPerPage:j,onPageChange:S,onItemsPerPageChange:k,itemsPerPageOptions:[12,24,48,96]})})]}):r.jsxs(we,{className:"p-16 text-center border-2 border-dashed border-border shadow-xl rounded-3xl glass-card animate-scale-in",children:[r.jsxs("div",{className:"relative inline-block mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),r.jsx("div",{className:"relative p-6 rounded-full bg-muted/50",children:r.jsx(Dt,{className:"h-20 w-20 text-muted-foreground/30"})})]}),r.jsx("h3",{className:"text-2xl font-bold mb-3",children:e("storefront.products.noProducts")}),r.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto text-lg",children:e(i?"storefront.products.noProductsDesc":"storefront.products.noProductsEmpty")}),(i||p.length>0)&&r.jsxs(V,{size:"lg",className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow",onClick:()=>{o(""),g([]),m([0,1e4])},children:[r.jsx(jr,{className:"ml-2 h-5 w-5"}),e("storefront.products.clearFilters")]})]})})]})]})]})}var tce=["PageUp","PageDown"],rce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wv="Slider",[nO,mht,fht]=R0(wv),[ace,O0t]=on(wv,[fht]),[pht,yE]=ace(wv),nce=f.forwardRef((e,t)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:g,...x}=e,y=f.useRef(new Set),b=f.useRef(0),v=o==="horizontal"?xht:ght,[S=[],j]=ko({prop:u,defaultProp:d,onChange:D=>{var P;(P=[...y.current][b.current])==null||P.focus(),h(D)}}),k=f.useRef(S);function N(D){const T=jht(S,D);E(D,T)}function C(D){E(D,b.current)}function A(){const D=k.current[b.current];S[b.current]!==D&&m(S)}function E(D,T,{commit:P}={commit:!1}){const _=Cht(i),O=Aht(Math.round((D-a)/i)*i+a,_),M=Pw(O,[a,n]);j((I=[])=>{const R=bht(I,M,T);if(kht(R,c*i)){b.current=R.indexOf(M);const L=String(R)!==String(I);return L&&P&&m(R),L?R:I}else return I})}return r.jsx(pht,{scope:e.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:b,thumbs:y.current,values:S,orientation:o,form:g,children:r.jsx(nO.Provider,{scope:e.__scopeSlider,children:r.jsx(nO.Slot,{scope:e.__scopeSlider,children:r.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:bt(x.onPointerDown,()=>{l||(k.current=S)}),min:a,max:n,inverted:p,onSlideStart:l?void 0:N,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&E(a,0,{commit:!0}),onEndKeyDown:()=>!l&&E(n,S.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:T})=>{if(!l){const O=tce.includes(D.key)||D.shiftKey&&rce.includes(D.key)?10:1,M=b.current,I=S[M],R=i*O*T;E(I+R,M,{commit:!0})}}})})})})});nce.displayName=wv;var[ice,oce]=ace(wv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xht=f.forwardRef((e,t)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,m]=f.useState(null),p=Pr(t,v=>m(v)),g=f.useRef(void 0),x=zm(n),y=x==="ltr",b=y&&!i||!y&&i;function w(v){const S=g.current||h.getBoundingClientRect(),j=[0,S.width],N=TF(j,b?[s,a]:[a,s]);return g.current=S,N(v-S.left)}return r.jsx(ice,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:r.jsx(lce,{dir:x,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const S=w(v.clientX);o==null||o(S)},onSlideMove:v=>{const S=w(v.clientX);l==null||l(S)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const j=sce[b?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:j?-1:1})}})})}),ght=f.forwardRef((e,t)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=f.useRef(null),h=Pr(t,u),m=f.useRef(void 0),p=!n;function g(x){const y=m.current||u.current.getBoundingClientRect(),b=[0,y.height],v=TF(b,p?[a,s]:[s,a]);return m.current=y,v(x-y.top)}return r.jsx(ice,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:r.jsx(lce,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=g(x.clientY);i==null||i(y)},onSlideMove:x=>{const y=g(x.clientY);o==null||o(y)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const b=sce[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:b?-1:1})}})})}),lce=f.forwardRef((e,t)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=yE(wv,s);return r.jsx(Bt.span,{...d,ref:t,onKeyDown:bt(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):tce.concat(rce).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:bt(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():a(h)}),onPointerMove:bt(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:bt(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),cce="SliderTrack",dce=f.forwardRef((e,t)=>{const{__scopeSlider:s,...a}=e,n=yE(cce,s);return r.jsx(Bt.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:t})});dce.displayName=cce;var iO="SliderRange",uce=f.forwardRef((e,t)=>{const{__scopeSlider:s,...a}=e,n=yE(iO,s),i=oce(iO,s),o=f.useRef(null),l=Pr(t,o),c=n.values.length,d=n.values.map(m=>fce(m,n.min,n.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return r.jsx(Bt.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});uce.displayName=iO;var oO="SliderThumb",hce=f.forwardRef((e,t)=>{const s=mht(e.__scopeSlider),[a,n]=f.useState(null),i=Pr(t,l=>n(l)),o=f.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return r.jsx(vht,{...e,ref:i,index:o})}),vht=f.forwardRef((e,t)=>{const{__scopeSlider:s,index:a,name:n,...i}=e,o=yE(oO,s),l=oce(oO,s),[c,d]=f.useState(null),u=Pr(t,w=>d(w)),h=c?o.form||!!c.closest("form"):!0,m=uj(c),p=o.values[a],g=p===void 0?0:fce(p,o.min,o.max),x=wht(a,o.values.length),y=m==null?void 0:m[l.size],b=y?Nht(y,g,l.direction):0;return f.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[r.jsx(nO.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(Bt.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:bt(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),h&&r.jsx(mce,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},a)]})});hce.displayName=oO;var yht="RadioBubbleInput",mce=f.forwardRef(({__scopeSlider:e,value:t,...s},a)=>{const n=f.useRef(null),i=Pr(n,a),o=Mj(t);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),r.jsx(Bt.input,{style:{display:"none"},...s,ref:i,defaultValue:t})});mce.displayName=yht;function bht(e=[],t,s){const a=[...e];return a[s]=t,a.sort((n,i)=>n-i)}function fce(e,t,s){const i=100/(s-t)*(e-t);return Pw(i,[0,100])}function wht(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function jht(e,t){if(e.length===1)return 0;const s=e.map(n=>Math.abs(n-t)),a=Math.min(...s);return s.indexOf(a)}function Nht(e,t,s){const a=e/2,i=TF([0,50],[0,a]);return(a-i(t)*s)*s}function Sht(e){return e.slice(0,-1).map((t,s)=>e[s+1]-t)}function kht(e,t){if(t>0){const s=Sht(e);return Math.min(...s)>=t}return!0}function TF(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function Cht(e){return(String(e).split(".")[1]||"").length}function Aht(e,t){const s=Math.pow(10,t);return Math.round(e*s)/s}var pce=nce,Eht=dce,Pht=uce,Tht=hce;const kd=f.forwardRef(({className:e,...t},s)=>r.jsxs(pce,{ref:s,className:xe("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Eht,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Pht,{className:"absolute h-full bg-primary"})}),r.jsx(Tht,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));kd.displayName=pce.displayName;function Bk(){var U,W,J;const{t:e,i18n:t}=It(),{settings:s}=Um(),{id:a,productId:n}=$m(),i=n||a,[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(1),[g,x]=f.useState(!0),[y,b]=f.useState(0),[w,v]=f.useState(!1),[S,j]=f.useState([]),[k,N]=f.useState(!1),[C,A]=f.useState(!1),E=t.language==="ar",{addToCart:D}=Rp();f.useEffect(()=>{P(),T()},[i]);const T=async()=>{try{const z=await fe.getCategories(),ie=Array.isArray(z)?z:z.categories||[];j(ie)}catch(z){console.error("Failed to load categories:",z)}},P=async()=>{try{x(!0);const z=await fe.getProduct(i);if(console.log("Loaded product data:",z),console.log("Product variants from API:",z.variants),l(z),z.variants&&Array.isArray(z.variants)&&z.variants.length>0?(console.log("Setting selected variant to:",z.variants[0]),h(z.variants[0])):(console.log("No variants found for this product"),h(null)),z.categoryId){const ie=await fe.getProducts({categoryId:z.categoryId,limit:4});d(ie.filter(re=>re.id!==z.id).slice(0,4))}}catch(z){console.error("Failed to load product:",z),yr({title:E?"  ":"Failed to Load Product",description:E?"     .    .":"An error occurred while loading product data. Please try again.",variant:"destructive"})}finally{x(!1)}},_=async()=>{if(o)try{let z=u==null?void 0:u.id;o.variants&&o.variants.length>0&&!z&&(z=o.variants[0].id,h(o.variants[0])),await D(o.id,m,z),yr({title:E?" !":"Added!",description:E?`  ${o.name}  `:`${o.name} added to cart`})}catch(z){console.error("Failed to add to cart:",z),yr({title:E?"  ":"Failed to Add to Cart",description:E?"     .    .":"An error occurred while adding the product to cart. Please try again.",variant:"destructive"})}},O=()=>{if(!o||!o.categoryId)return[];const z=[];let ie=o.categoryId,re=0;for(;ie&&re<10;){const q=S.find(se=>se.id===ie);if(q)z.unshift(q),ie=q.parentId;else break;re++}return z};if(g)return r.jsx(Xp,{});if(!o)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-20",children:r.jsxs(we,{className:"p-12 text-center border-0 shadow-lg",children:[r.jsx(Dt,{className:"h-20 w-20 mx-auto text-gray-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:E?"  ":"Product Not Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:E?"       ":"Sorry, we couldn't find this product"}),r.jsx(tt,{to:"/products",children:r.jsx(V,{children:E?"  ":"Back to Products"})})]})})});const M=Number((u==null?void 0:u.price)||o.price)||0,I=o.compareAtPrice?Number(o.compareAtPrice):0,R=I>M?Math.round((I-M)/I*100):0,L=((U=o.images)==null?void 0:U.length)>0?o.images:[{url:"/placeholder.svg"}],K=[{icon:cm,text:"    200 ."},{icon:sa,text:"    30 "},{icon:xI,text:"   14 "}],H=O(),F=E?Qo:Ms,G=async()=>{const z={title:o.nameAr||o.name,text:o.descriptionAr||o.description,url:window.location.href};try{navigator.share?await navigator.share(z):(await navigator.clipboard.writeText(window.location.href),yr({title:E?"  ":"Link Copied",description:E?"     ":"Product link copied to clipboard"}))}catch(ie){console.error("Error sharing:",ie)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in",children:[r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-6 flex items-center flex-wrap gap-2 text-sm",children:[r.jsx(tt,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors font-medium",children:E?(s==null?void 0:s.storeNameAr)||(s==null?void 0:s.storeName)||ai:(s==null?void 0:s.storeName)||pi}),r.jsx(F,{className:"h-4 w-4 text-gray-400"}),H.map(z=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{to:`/categories/${z.id}`,className:"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:E?z.nameAr||z.name:z.name||z.nameAr}),r.jsx(F,{className:"h-4 w-4 text-gray-400"})]},z.id)),r.jsx("span",{className:"text-indigo-600 font-medium truncate max-w-[200px]",children:E?o.nameAr||o.name:o.name||o.nameAr})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 mb-16",children:[r.jsxs("div",{className:"space-y-4 animate-slide-in-left",children:[r.jsxs(we,{className:"overflow-hidden border-0 shadow-xl relative group",children:[R>0&&r.jsxs(et,{className:"absolute top-4 right-4 z-10 bg-red-500 text-white px-3 py-1 text-sm font-bold animate-pulse",children:[" ",R,"%"]}),r.jsx("img",{src:(W=L[y])==null?void 0:W.url,alt:o.name,className:"w-full h-[500px] object-cover transition-transform duration-500 group-hover:scale-105"}),L.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(V,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-gray-800/90 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b((y-1+L.length)%L.length),children:r.jsx(Qo,{className:"h-6 w-6"})}),r.jsx(V,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-gray-800/90 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b((y+1)%L.length),children:r.jsx(Ms,{className:"h-6 w-6"})})]})]}),L.length>1&&r.jsx("div",{className:"grid grid-cols-5 gap-3",children:L.map((z,ie)=>r.jsx(we,{className:`overflow-hidden cursor-pointer transition-all border-2 ${y===ie?"border-indigo-600 shadow-lg scale-105":"border-transparent hover:border-gray-300"}`,onClick:()=>b(ie),children:r.jsx("img",{src:z.url,alt:`${o.name} ${ie+1}`,className:"w-full h-20 object-cover"})},ie))})]}),r.jsxs("div",{className:"space-y-8 animate-slide-in-right",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:E?o.nameAr||o.name:o.name||o.nameAr}),r.jsxs("div",{className:"flex items-baseline gap-4 mb-4",children:[r.jsxs("span",{className:"text-4xl font-bold text-indigo-600",children:[Number(M||0).toFixed(2)," ",E?".":(s==null?void 0:s.currency)||"SAR"]}),I>0&&Number(I)>Number(M)&&r.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:[Number(I).toFixed(2)," ",E?".":(s==null?void 0:s.currency)||"SAR"]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((z,ie)=>r.jsx(Jo,{className:`h-5 w-5 ${ie<4?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ie))}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["4.5 (128 ",E?"":"reviews",")"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:o.isAvailable?r.jsxs(r.Fragment,{children:[r.jsx(Za,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-600 font-medium",children:E?"  ":"In Stock"})]}):r.jsx(et,{variant:"destructive",children:E?" ":"Out of Stock"})})]}),r.jsx(Js,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:E?"":"Description"}),r.jsx(Jle,{html:E?o.descriptionAr||o.description||"     .":o.description||o.descriptionAr||"No description available for this product.",className:"text-gray-600 dark:text-gray-400 leading-relaxed prose dark:prose-invert max-w-none"})]}),(o.weight||o.dimensions||o.tags&&o.tags.length>0)&&r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-3",children:[r.jsx("h3",{className:"font-semibold text-lg mb-2",children:E?" ":"Additional Information"}),o.weight&&r.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-700 pb-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E?"":"Weight"}),r.jsxs("span",{className:"font-medium",children:[o.weight," ",E?"":"kg"]})]}),o.dimensions&&r.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-700 pb-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E?"":"Dimensions"}),r.jsx("span",{className:"font-medium",children:o.dimensions})]}),o.tags&&o.tags.length>0&&r.jsxs("div",{className:"pt-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400 block mb-2",children:E?"":"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((z,ie)=>r.jsxs(et,{variant:"secondary",className:"bg-white dark:bg-gray-700",children:[r.jsx(jm,{className:"w-3 h-3 mr-1"}),z]},ie))})]})]}),((J=o.variants)==null?void 0:J.length)>0&&o.variants.some(z=>{var ie,re;return((ie=z.name)==null?void 0:ie.toLowerCase())!=="default"&&((re=z.name)==null?void 0:re.toLowerCase())!==""})&&r.jsxs("div",{children:[r.jsx("label",{className:"block font-semibold text-lg mb-3",children:E?"":"Options"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.variants.filter(z=>{var ie,re;return((ie=z.name)==null?void 0:ie.toLowerCase())!=="default"&&((re=z.name)==null?void 0:re.toLowerCase())!==""}).map(z=>r.jsx(V,{variant:(u==null?void 0:u.id)===z.id?"default":"outline",onClick:()=>h(z),className:`h-12 border-2 ${(u==null?void 0:u.id)===z.id?"border-indigo-600":""}`,children:z.name},z.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("label",{className:"font-semibold text-lg",children:E?"":"Quantity"}),r.jsx("span",{className:"text-xl font-bold text-indigo-600",children:m})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(kd,{defaultValue:[1],value:[m],min:1,max:o.stock||50,step:1,disabled:!o.isActive,onValueChange:z=>p(z[0]),className:`py-4 ${o.isActive?"":"opacity-50 cursor-not-allowed"}`}),!o.isActive&&r.jsx("p",{className:"text-sm text-red-500 mt-2",children:E?"      ( )":"Cannot change quantity for this product (fixed value)"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(V,{size:"lg",className:"flex-1 h-14 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg transition-all transform hover:scale-[1.02]",onClick:async()=>{N(!0);try{await _(),N(!1),A(!0),setTimeout(()=>{A(!1)},2e3)}catch{N(!1)}},disabled:!o.isAvailable||k,children:[r.jsx(Or,{className:"ml-2 h-5 w-5"}),o.isAvailable?E?"  ":"Add to Cart":E?" ":"Out of Stock"]}),r.jsx(V,{size:"lg",variant:"outline",className:`h-14 w-14 border-2 ${w?"text-red-500 border-red-500":""}`,onClick:()=>v(!w),children:r.jsx(kn,{className:`h-6 w-6 ${w?"fill-current":""}`})}),r.jsx(V,{size:"lg",variant:"outline",className:"h-14 w-14 border-2",onClick:G,children:r.jsx(gI,{className:"h-6 w-6"})})]}),(s==null?void 0:s.storeType)!=="DIGITAL_CARDS"&&r.jsx(we,{className:"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 border-0",children:r.jsx("div",{className:"space-y-4",children:K.map((z,ie)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:r.jsx(z.icon,{className:"h-5 w-5 text-indigo-600"})}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.text})]},ie))})}),o.sku&&r.jsxs("p",{className:"text-sm text-gray-500",children:[E?" :":"Product Code:"," ",r.jsx("span",{className:"font-mono",children:o.sku})]})]})]}),c.length>0&&r.jsxs("div",{className:"mt-20 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[r.jsx("h2",{className:"text-2xl font-bold mb-8",children:E?"  ":"You May Also Like"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(z=>r.jsx(Zj,{product:z},z.id))})]})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slide-in-left {
          from { opacity: 0; transform: translateX(-20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slide-in-right {
          from { opacity: 0; transform: translateX(20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.6s ease-out; }
        .animate-slide-in-left { animation: slide-in-left 0.6s ease-out; }
        .animate-slide-in-right { animation: slide-in-right 0.6s ease-out; }
        .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
      `})]})}function xce(){const{t:e,i18n:t}=It(),{toast:s}=Lt(),{cart:a,loading:n,updateQuantity:i,removeItem:o,refreshCart:l}=Rp(),{settings:c}=Um(),[d,u]=f.useState(""),h=()=>{d&&s({title:e("cart.couponCode","Coupon Code"),description:e("cart.couponApplied","Coupon code applied successfully")})};if(n)return r.jsx(Xp,{});const p=(Array.isArray(a==null?void 0:a.cartItems)?a.cartItems:Array.isArray(a==null?void 0:a.items)?a.items:[]).filter(k=>!k||!k.id?!1:k.product?!0:(k.productId&&setTimeout(()=>l(),1e3),!1)),g=!p||p.length===0,x=p.reduce((k,N)=>{var A,E,D,T;const C=N.unitPriceSnapshot??((A=N.productVariant)==null?void 0:A.price)??((E=N.product)==null?void 0:E.retailPrice)??((D=N.product)==null?void 0:D.wholesalePrice)??((T=N.product)==null?void 0:T.price)??0;return k+Number(C)*(N.quantity||1)},0)??0,y=(c==null?void 0:c.shippingEnabled)===!0&&(c==null?void 0:c.storeType)!=="DIGITAL_CARDS",b=y?x>200?0:25:0,w=(c==null?void 0:c.taxEnabled)!==!1,v=(c==null?void 0:c.taxRate)??15,S=w?x*v/100:0,j=x+b+S;return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:e("nav.cart","Shopping Cart")}),!g&&r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:e("cart.itemsCount",{count:p.length})})]}),g?r.jsxs(we,{className:"p-16 text-center border-0 shadow-lg",children:[r.jsx(tl,{className:"h-24 w-24 mx-auto text-gray-400 mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-4",children:e("cart.emptyTitle","Your cart is empty")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 text-lg max-w-md mx-auto",children:e("cart.emptyDesc","Start shopping now and discover our amazing products")}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx(tt,{to:"/products",children:r.jsxs(V,{size:"lg",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 px-8",children:[e("cart.browseProducts","Browse Products"),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})}),r.jsx(V,{size:"lg",variant:"outline",onClick:async()=>{console.log(" DEBUG: Manual cart refresh triggered"),await l(),s({title:"Debug",description:"Cart refreshed. Check console for details."})},className:"px-8",children:" Debug Cart"})]})]}):r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[p.map(k=>{var D,T,P,_,O,M,I,R,L;if(!k.product)return console.error(" Cart item missing product:",k),null;const N=((D=k.product)==null?void 0:D.nameAr)||((T=k.product)==null?void 0:T.name)||"  ";let C=null;if((P=k.product)!=null&&P.images&&k.product.images.length>0){const K=k.product.images[0];if(typeof K=="string")C=K;else if(K!=null&&K.url)C=K.url;else if(K!=null&&K.imageUrl)C=K.imageUrl;else if(typeof K=="object"&&K!==null){const H=["url","imageUrl","src","image","path"];for(const F of H)if(K[F]&&typeof K[F]=="string"){C=K[F];break}}}!C&&((_=k.product)!=null&&_.image)&&(C=typeof k.product.image=="string"?k.product.image:((O=k.product.image)==null?void 0:O.url)||((M=k.product.image)==null?void 0:M.imageUrl));const A=Number(((I=k.productVariant)==null?void 0:I.price)??((R=k.product)==null?void 0:R.price)??0),E=Number(k.quantity??0);return r.jsx(we,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:C?r.jsx("img",{src:C,alt:N,className:"w-full h-full object-cover",onError:K=>{console.error("Failed to load product image:",C,"for product:",k.productId),K.target.style.display="none"}}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(tl,{className:"h-12 w-12 text-gray-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-1 text-gray-900 dark:text-white",title:N,children:N}),((L=k.product)==null?void 0:L.sku)&&r.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:["SKU: ",k.product.sku]})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30 flex-shrink-0",onClick:()=>o(k.id),children:r.jsx(Sr,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(V,{variant:"outline",size:"icon",className:"h-10 w-10 border-2",onClick:()=>i(k.id,E-1),disabled:E<=1,children:r.jsx(wm,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-12 text-center font-bold text-lg",children:E}),r.jsx(V,{variant:"outline",size:"icon",className:"h-10 w-10 border-2",onClick:()=>i(k.id,E+1),children:r.jsx(rr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-left",children:[r.jsxs("p",{className:"font-bold text-2xl text-indigo-600",children:[(A*E).toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[A.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR","  ",E]})]})]})]})]})})},k.id)}).filter(Boolean),r.jsx(tt,{to:"/products",children:r.jsxs(V,{variant:"outline",size:"lg",className:"w-full border-2",children:[r.jsx(Or,{className:"ml-2 h-5 w-5"}),e("cart.continueShopping","Continue Shopping")]})})]}),r.jsx("div",{children:r.jsx(we,{className:"sticky top-4 border-0 shadow-lg",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:e("checkout.orderSummary","Order Summary")}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("cart.couponCode","Coupon Code")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(pe,{placeholder:e("cart.enterCode","Enter code"),value:d,onChange:k=>u(k.target.value),className:"flex-1"}),r.jsx(V,{onClick:h,variant:"outline",children:e("common.apply","Apply")})]})]}),r.jsx(Js,{className:"my-6"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between text-lg",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.subtotal","Subtotal")}),r.jsxs("span",{className:"font-semibold",children:[x.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]}),y&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.shipping","Shipping")}),r.jsx("span",{className:"font-semibold",children:b===0?r.jsx(et,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:e("common.free","Free")}):`${b.toFixed(2)} ${t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"}`})]}),b>0&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("cart.freeShippingHint",{amount:(200-x).toFixed(2),currency:t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"})})]}),w&&S>0&&r.jsxs("div",{className:"flex justify-between text-lg",children:[r.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[e("cart.tax","Tax")," (",v,"%)"]}),r.jsxs("span",{className:"font-semibold",children:[S.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]})]}),r.jsx(Js,{className:"my-6"}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("span",{className:"text-xl font-bold",children:e("cart.total","Total")}),r.jsxs("span",{className:"text-3xl font-bold text-indigo-600",children:[j.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]}),r.jsx(tt,{to:"/checkout",children:r.jsxs(V,{size:"lg",className:"w-full h-14 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg mb-4",children:[e("cart.checkout","Checkout"),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})}),r.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(sa,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),r.jsx("span",{children:e("checkout.securePayment","Secure and encrypted payment")})]}),y&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(cm,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),r.jsx("span",{children:e("checkout.fastShipping","Fast and reliable shipping")})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsx(jm,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),r.jsx("span",{children:e("checkout.bestPrices","Best prices guaranteed")})]})]})]})})})]})]})})}var _F="Radio",[_ht,gce]=on(_F),[Dht,Oht]=_ht(_F),vce=f.forwardRef((e,t)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=f.useState(null),p=Pr(t,y=>m(y)),g=f.useRef(!1),x=h?d||!!h.closest("form"):!0;return r.jsxs(Dht,{scope:s,checked:n,disabled:o,children:[r.jsx(Bt.button,{type:"button",role:"radio","aria-checked":n,"data-state":jce(n),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:bt(e.onClick,y=>{n||c==null||c(),x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),x&&r.jsx(wce,{control:h,bubbles:!g.current,name:a,value:l,checked:n,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});vce.displayName=_F;var yce="RadioIndicator",bce=f.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:a,...n}=e,i=Oht(yce,s);return r.jsx(qn,{present:a||i.checked,children:r.jsx(Bt.span,{"data-state":jce(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});bce.displayName=yce;var Iht="RadioBubbleInput",wce=f.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=Pr(o,i),c=Mj(s),d=uj(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&p){const g=new Event("click",{bubbles:a});p.call(u,s),u.dispatchEvent(g)}},[c,s,a]),r.jsx(Bt.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wce.displayName=Iht;function jce(e){return e?"checked":"unchecked"}var Rht=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bE="RadioGroup",[Mht,I0t]=on(bE,[J0,gce]),Nce=J0(),Sce=gce(),[Fht,Lht]=Mht(bE),kce=f.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,p=Nce(s),g=zm(d),[x,y]=ko({prop:i,defaultProp:n??null,onChange:h,caller:bE});return r.jsx(Fht,{scope:s,name:a,required:o,disabled:l,value:x,onValueChange:y,children:r.jsx(M3,{asChild:!0,...p,orientation:c,dir:g,loop:u,children:r.jsx(Bt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...m,ref:t})})})});kce.displayName=bE;var Cce="RadioGroupItem",Ace=f.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:a,...n}=e,i=Lht(Cce,s),o=i.disabled||a,l=Nce(s),c=Sce(s),d=f.useRef(null),u=Pr(t,d),h=i.value===n.value,m=f.useRef(!1);return f.useEffect(()=>{const p=x=>{Rht.includes(x.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),r.jsx(F3,{asChild:!0,...l,focusable:!o,active:h,children:r.jsx(vce,{disabled:o,required:i.required,checked:h,...c,...n,name:i.name,ref:u,onCheck:()=>i.onValueChange(n.value),onKeyDown:bt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:bt(n.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});Ace.displayName=Cce;var $ht="RadioGroupIndicator",Ece=f.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...a}=e,n=Sce(s);return r.jsx(bce,{...n,...a,ref:t})});Ece.displayName=$ht;var Pce=kce,Tce=Ace,Bht=Ece;const Yw=f.forwardRef(({className:e,...t},s)=>r.jsx(Pce,{className:xe("grid gap-2",e),...t,ref:s}));Yw.displayName=Pce.displayName;const Jh=f.forwardRef(({className:e,...t},s)=>r.jsx(Tce,{ref:s,className:xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Bht,{className:"flex items-center justify-center",children:r.jsx(cI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Jh.displayName=Tce.displayName;const Uht={WALLET_BALANCE:{nameKey:"payment.wallet.name",defaultName:"Wallet Balance",descKey:"payment.wallet.desc",defaultDesc:"Use your wallet balance for payment"},HYPERPAY:{nameKey:"payment.hyperpay.name",defaultName:"Credit Card (HyperPay)",descKey:"payment.hyperpay.desc",defaultDesc:"Visa, Mastercard, Mada"},STRIPE:{nameKey:"payment.stripe.name",defaultName:"Credit Card (Stripe)",descKey:"payment.stripe.desc",defaultDesc:"Visa, Mastercard"},PAYPAL:{nameKey:"payment.paypal.name",defaultName:"PayPal",descKey:"payment.paypal.desc",defaultDesc:"Pay via PayPal"},CASH_ON_DELIVERY:{nameKey:"payment.cod.name",defaultName:"Cash on Delivery",descKey:"payment.cod.desc",defaultDesc:"Pay cash upon delivery"},BANK_TRANSFER:{nameKey:"payment.bank.name",defaultName:"Bank Transfer",descKey:"payment.bank.desc",defaultDesc:"Pay via direct bank transfer"}};function _ce(){const{t:e,i18n:t}=It(),s=ts(),{toast:a}=Lt(),{cart:n,loading:i,refreshCart:o,clearCart:l}=Rp(),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,p]=f.useState(0),{settings:g}=Um(),[x,y]=f.useState([]),[b,w]=f.useState(0),[v,S]=f.useState(!1),[j,k]=f.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",country:"SA",postalCode:"",shippingMethod:"",paymentMethod:""}),N=f.useCallback(async()=>{try{const F=await AY.getPaymentMethods();if(y(F),F.length>0){const G=F.find(W=>W.provider==="CASH_ON_DELIVERY"),U=(g==null?void 0:g.storeType)==="DIGITAL_CARDS";k(W=>{var J,z;return{...W,paymentMethod:W.paymentMethod||(U?(J=F.find(ie=>ie.provider!=="CASH_ON_DELIVERY"))==null?void 0:J.provider:G==null?void 0:G.provider)||((z=F[0])==null?void 0:z.provider)||"WALLET_BALANCE"}})}}catch(F){console.error("Failed to load payment methods:",F),(g==null?void 0:g.storeType)==="DIGITAL_CARDS"||y([{id:"fallback-cod",provider:"CASH_ON_DELIVERY",name:"  ",isActive:!0}])}},[g==null?void 0:g.storeType]),C=f.useCallback(async()=>{try{if(localStorage.getItem("customerToken")){const G=await Is.getBalance(),U=Number(G.balance)||0;w(U)}}catch(F){console.error("Failed to load wallet balance:",F)}},[]);f.useEffect(()=>{const F=localStorage.getItem("customerToken");S(!!F),o(),N(),C()},[o,N,C]);const E=(g==null?void 0:g.shippingEnabled)===!0&&(g==null?void 0:g.storeType)!=="DIGITAL_CARDS",D=f.useCallback(async()=>{if(!E||!n){h([]);return}try{const F=await fe.calculateShipping({destination:{country:j.country,city:j.city,postalCode:j.postalCode},items:n.items||[]});h(Array.isArray(F)?F:[F])}catch(F){console.error("Failed to calculate shipping:",F),h([])}},[E,n,j.country,j.city,j.postalCode]),T=f.useCallback(async()=>{if((g==null?void 0:g.taxEnabled)===!1||!n){p(0);return}try{const F=await fe.calculateTax({amount:n.total||0,country:j.country,state:j.state});p(F.amount||0)}catch(F){console.error("Failed to calculate tax:",F),p(0)}},[g==null?void 0:g.taxEnabled,n,j.country,j.state]);f.useEffect(()=>{j.country&&j.city&&n&&(E&&D(),(g==null?void 0:g.taxEnabled)!==!1&&T())},[j.country,j.city,n,g==null?void 0:g.taxEnabled,E,D,T]);const P=()=>{var W;const F=[],G=(W=g==null?void 0:g.paymentMethods)==null?void 0:W.includes("WALLET_PAYMENT"),U=(g==null?void 0:g.storeType)==="DIGITAL_CARDS";if(v&&G&&F.push({id:"wallet-balance",provider:"WALLET_BALANCE",name:"  ",isActive:!0}),g!=null&&g.paymentMethods&&g.paymentMethods.length>0){const J=x.filter(z=>{var ie;return U&&z.provider==="CASH_ON_DELIVERY"?!1:(ie=g.paymentMethods)==null?void 0:ie.includes(z.provider)});F.push(...J)}else{const J=U?x.filter(z=>z.provider!=="CASH_ON_DELIVERY"):x;F.push(...J)}return F},_=u.find(F=>F.id===j.shippingMethod),M=(Array.isArray(n==null?void 0:n.cartItems)?n.cartItems:Array.isArray(n==null?void 0:n.items)?n.items:[]).filter(F=>F&&(F.product||F.unitPriceSnapshot)),I=M.reduce((F,G)=>{var W,J,z,ie;const U=G.unitPriceSnapshot??((W=G.productVariant)==null?void 0:W.price)??((J=G.product)==null?void 0:J.retailPrice)??((z=G.product)==null?void 0:z.wholesalePrice)??((ie=G.product)==null?void 0:ie.price)??0;return F+Number(U)*(G.quantity||1)},0),R=E&&(_==null?void 0:_.cost)||0,L=(g==null?void 0:g.taxEnabled)!==!1?m:0,K=I+R+L,H=async F=>{var G;F.preventDefault(),d(!0);try{if(j.paymentMethod==="WALLET_BALANCE"&&b<K){a({variant:"destructive",title:e("common.error"),description:e("checkout.insufficientWalletDesc")}),d(!1);return}const U=E?{fullName:j.fullName,street:j.address,city:j.city,state:j.state,country:j.country,postalCode:j.postalCode}:{fullName:j.fullName,street:"Digital Delivery",city:"Digital",state:"Digital",country:j.country||"SA",postalCode:"00000"};if(!(n!=null&&n.id)){a({variant:"destructive",title:e("common.error"),description:"  .      ."}),d(!1);return}let W;if(v)W=await fe.createOrder({cartId:n.id,shippingAddress:U,customerEmail:j.email,customerName:j.fullName,customerPhone:j.phone,contact:{email:j.email,phone:j.phone},shippingMethod:E?j.shippingMethod:"digital_delivery",paymentMethod:j.paymentMethod,useWalletBalance:j.paymentMethod==="WALLET_BALANCE"});else{const J={guestEmail:j.email,guestName:j.fullName,guestPhone:j.phone,totalAmount:K,subtotalAmount:I,taxAmount:L,shippingAmount:R,discountAmount:0,items:M.map(z=>{var ie,re,q,se,B,oe,de,Te,He,Oe;return{productId:((ie=z.product)==null?void 0:ie.id)||z.productId,productVariantId:((re=z.productVariant)==null?void 0:re.id)||z.variantId,quantity:z.quantity||1,price:z.unitPriceSnapshot??((q=z.productVariant)==null?void 0:q.price)??((se=z.product)==null?void 0:se.retailPrice)??((B=z.product)==null?void 0:B.wholesalePrice)??((oe=z.product)==null?void 0:oe.price)??0,productName:((de=z.product)==null?void 0:de.name)||"Product",variantName:(Te=z.productVariant)==null?void 0:Te.name,sku:((He=z.productVariant)==null?void 0:He.sku)||((Oe=z.product)==null?void 0:Oe.sku)}}),shippingAddress:U,billingAddress:U,ipAddress:"0.0.0.0"};W=await fe.post("/guest-checkout/order",J,{requireAuth:!1})}if(j.paymentMethod!=="CASH_ON_DELIVERY"&&j.paymentMethod!=="WALLET_BALANCE")try{const J=await fe.initializePayment({orderId:W.id,method:j.paymentMethod,amount:W.total||W.totalAmount||K});if(J.redirectUrl){window.location.href=J.redirectUrl;return}}catch(J){console.error("Payment initialization error:",J)}a({title:e("common.success"),description:j.paymentMethod==="WALLET_BALANCE"?"     ":v?"   ":"   .       "}),await l(),!v&&j.email&&(localStorage.setItem("lastOrderEmail",j.email),sessionStorage.setItem("guestOrderEmail",j.email)),!v&&W.orderNumber?s(`/order-confirmation/${W.orderNumber}?email=${encodeURIComponent(j.email)}`):s(`/orders/${W.id}`)}catch(U){console.error("Order creation error:",U);const W=U;let J="  ";(G=W==null?void 0:W.data)!=null&&G.message?J=W.data.message:W!=null&&W.message&&(J=W.message),a({variant:"destructive",title:e("common.error"),description:J})}finally{d(!1)}};return i&&!n?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container max-w-6xl",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("checkout.title","Checkout")}),r.jsx("form",{onSubmit:H,children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(cm,{className:"h-5 w-5"}),E?e("checkout.shippingInfo","Shipping Information"):e("checkout.customerInfo","Customer Information")]})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"fullName",children:[e("common.fullName","Full Name")," *"]}),r.jsx(pe,{id:"fullName",value:j.fullName,onChange:F=>k({...j,fullName:F.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"phone",children:[e("common.phone","Phone Number")," *"]}),r.jsx(pe,{id:"phone",type:"tel",value:j.phone,onChange:F=>k({...j,phone:F.target.value}),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"email",children:[e("common.email","Email")," *"]}),r.jsx(pe,{id:"email",type:"email",value:j.email,onChange:F=>k({...j,email:F.target.value}),required:!0})]}),E&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"address",children:[e("common.address","Address")," *"]}),r.jsx(pe,{id:"address",value:j.address,onChange:F=>k({...j,address:F.target.value}),required:!0})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"city",children:[e("common.city","City")," *"]}),r.jsx(pe,{id:"city",value:j.city,onChange:F=>k({...j,city:F.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"state",children:e("common.state","State/Region")}),r.jsx(pe,{id:"state",value:j.state,onChange:F=>k({...j,state:F.target.value})})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"country",children:[e("common.country","Country")," *"]}),r.jsx(pe,{id:"country",value:j.country,onChange:F=>k({...j,country:F.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"postalCode",children:e("common.postalCode","Postal Code")}),r.jsx(pe,{id:"postalCode",value:j.postalCode,onChange:F=>k({...j,postalCode:F.target.value})})]})]})]})]})]}),E&&u.length>0&&r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:e("checkout.shippingMethod","Shipping Method")})}),r.jsx(Se,{children:r.jsx(Yw,{value:j.shippingMethod,onValueChange:F=>k({...j,shippingMethod:F}),children:u.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jh,{value:F.id,id:F.id}),r.jsxs(Y,{htmlFor:F.id,className:"cursor-pointer",children:[r.jsx("p",{className:"font-medium",children:F.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.estimatedDays," ",e("common.days","days")]})]})]}),r.jsxs("span",{className:"font-semibold",children:[F.cost.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]},F.id))})})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-5 w-5"}),e("checkout.paymentMethod","Payment Method")]})}),r.jsxs(Se,{className:"space-y-4",children:[v&&r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 ${b>0?"border-primary/30 bg-primary/5":"border-border bg-muted/30"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2.5 rounded-xl ${b>0?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:r.jsx(Na,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:e("checkout.walletBalance","Wallet Balance")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("checkout.availableBalance","Available balance for payment")})]})]}),r.jsxs("div",{className:"text-left",children:[r.jsxs("p",{className:`text-2xl font-bold ${b>=K?"text-primary":"text-muted-foreground"}`,children:[b.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]}),b>0&&b>=K?r.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[r.jsx(Fs,{className:"h-3 w-3"}),e("checkout.sufficientBalance","Sufficient balance")]}):r.jsxs("p",{className:"text-xs text-orange-600 flex items-center gap-1",children:[r.jsx(Xs,{className:"h-3 w-3"}),e("checkout.insufficientBalance","Insufficient balance")]})]})]}),r.jsx(Yw,{value:j.paymentMethod,onValueChange:F=>k({...j,paymentMethod:F}),className:"space-y-3",children:g?P().length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-xl bg-muted/20",children:[r.jsx(Xs,{className:"h-8 w-8 mx-auto mb-2 text-orange-500"}),r.jsx("p",{className:"font-medium",children:e("checkout.noPaymentMethods","No payment methods available")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("checkout.noPaymentMethodsDesc","Please recharge your balance or contact support")})]}):P().map(F=>{const G=Uht[F.provider],U=G?e(G.nameKey,G.defaultName):F.name,W=G?e(G.descKey,G.defaultDesc):"",J=F.provider==="WALLET_BALANCE",z=J&&(!v||b<K);return r.jsxs("div",{className:`flex items-center gap-3 p-4 border-2 rounded-xl transition-all ${j.paymentMethod===F.provider?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/30"} ${z?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>!z&&k({...j,paymentMethod:F.provider}),children:[r.jsx(Jh,{value:F.provider,id:F.provider,disabled:z}),r.jsxs(Y,{htmlFor:F.provider,className:`flex-1 ${z?"":"cursor-pointer"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[J&&r.jsx(Na,{className:"h-4 w-4 text-primary"}),r.jsx("p",{className:"font-medium",children:U}),J&&v&&j.paymentMethod==="WALLET_BALANCE"&&r.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full",children:e("common.preferred","Preferred")})]}),J&&v&&r.jsxs("span",{className:`text-sm font-bold ${b>=K?"text-green-600":"text-red-600"}`,children:[b.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]}),J&&!v&&r.jsx("span",{className:"text-xs text-muted-foreground",children:e("common.loginRequired","Login required")})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:W})]})]},F.id)}):r.jsxs("div",{className:"text-center py-4 text-muted-foreground flex items-center justify-center gap-2",children:[r.jsx(Je,{className:"h-4 w-4 animate-spin"}),e("checkout.loadingPaymentMethods","Loading payment methods...")]})})]})]})]}),r.jsx("div",{children:r.jsxs(we,{className:"sticky top-4",children:[r.jsx(st,{children:r.jsx(it,{children:e("checkout.orderSummary","Order Summary")})}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("cart.subtotal","Subtotal")}),r.jsxs("span",{className:"font-semibold",children:[I.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),E&&_&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("cart.shipping","Shipping")}),r.jsxs("span",{className:"font-semibold",children:[R.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),(g==null?void 0:g.taxEnabled)!==!1&&L>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[r.jsx(_fe,{className:"h-4 w-4"}),e("cart.tax","Tax")]}),r.jsxs("span",{className:"font-semibold",children:[L.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),r.jsx(Js,{}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:e("cart.total","Total")}),r.jsxs("span",{className:"text-primary",children:[K.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),r.jsx(V,{type:"submit",className:"w-full",size:"lg",disabled:c||E&&!j.shippingMethod||!j.paymentMethod||j.paymentMethod==="WALLET_BALANCE"&&b<K,children:c?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"}),e("common.processing","Processing...")]}):r.jsxs(r.Fragment,{children:[r.jsx(Xr,{className:"ml-2 h-4 w-4"}),e("checkout.placeOrder","Place Order")]})}),j.paymentMethod==="WALLET_BALANCE"&&b<K&&r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("p",{className:"text-sm text-red-600 text-center font-medium",children:e("checkout.insufficientWalletDesc","Sorry, your wallet balance is insufficient for this order. Please recharge or choose another payment method.")}),r.jsxs(V,{type:"button",variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/5 gap-2",onClick:()=>s("/profile?tab=wallet"),children:[r.jsx(Na,{className:"h-4 w-4"}),e("checkout.rechargeNow","Recharge Now"),r.jsx(lm,{className:"h-3 w-3"})]})]})]})]})})]})})]})})}function Vht(){const[e,t]=f.useState(null),[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!1),g=ts(),{toast:x}=Lt(),y=f.useCallback(async()=>{try{const v=await pl.me();if(t(v),v)try{const S=await fe.getOrders();a(Array.isArray(S)?S:[])}catch(S){console.error("Failed to load orders:",S)}}catch(v){console.error("Failed to load profile:",v),g("/login")}finally{i(!1)}},[g]);f.useEffect(()=>{y()},[y]);function b(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),g("/login"),x({title:"Logged out",description:"You have been successfully logged out."})}const w=async()=>{if(c!==u){x({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}try{p(!0);const v=localStorage.getItem("customerToken");v?await Q.post(`${Q.authUrl}/auth/customers/change-password`,{currentPassword:o,newPassword:c},{headers:{Authorization:`Bearer ${v}`}}):await pl.changePassword(o,c),x({title:"Success",description:"Password updated successfully."}),l(""),d(""),h("")}catch(v){console.error("Failed to change password:",v);const S=v instanceof Error?v.message:"Unknown error occurred";x({title:"Error",description:S||"Failed to update password.",variant:"destructive"})}finally{p(!1)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):e?r.jsxs("div",{className:"container py-10",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"My Account"}),r.jsxs(V,{variant:"outline",onClick:b,children:[r.jsx(bm,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),r.jsxs(Kn,{defaultValue:"orders",className:"w-full",children:[r.jsxs(_n,{className:"mb-8",children:[r.jsxs(_r,{value:"orders",children:[r.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Orders"]}),r.jsxs(_r,{value:"profile",children:[r.jsx(ao,{className:"mr-2 h-4 w-4"}),"Profile Details"]})]}),r.jsx(Yr,{value:"orders",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:"Order History"}),r.jsx(Kt,{children:"View and track your recent orders."})]}),r.jsx(Se,{children:s.length===0?r.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"No orders found."}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:"Order ID"}),r.jsx(Ae,{children:"Date"}),r.jsx(Ae,{children:"Status"}),r.jsx(Ae,{children:"Total"}),r.jsx(Ae,{children:"Action"})]})}),r.jsx(us,{children:s.map(v=>r.jsxs(kt,{children:[r.jsxs(Ne,{className:"font-medium",children:["#",v.orderNumber||v.id.slice(0,8)]}),r.jsx(Ne,{children:new Date(v.createdAt).toLocaleDateString()}),r.jsx(Ne,{children:r.jsx(et,{variant:v.status==="COMPLETED"?"default":v.status==="PENDING"?"secondary":v.status==="CANCELLED"?"destructive":"outline",children:v.status})}),r.jsxs(Ne,{children:["$",Number(v.totalAmount).toFixed(2)]}),r.jsx(Ne,{children:r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(`/orders/${v.id}`),children:"View Details"})})]},v.id))})]})})]})}),r.jsx(Yr,{value:"profile",children:r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:"Profile Information"}),r.jsx(Kt,{children:"Update your personal details."})]}),r.jsxs(Se,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"email",children:"Email"}),r.jsx(pe,{id:"email",value:e.email,disabled:!0})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"role",children:"Role"}),r.jsx(pe,{id:"role",value:e.role,disabled:!0})]}),r.jsxs("div",{className:"grid gap-2 mt-6",children:[r.jsx(Y,{htmlFor:"currentPassword",children:"Current Password"}),r.jsx(pe,{id:"currentPassword",type:"password",value:o,onChange:v=>l(v.target.value)})]}),r.jsxs("div",{className:"grid gap-2 mt-4",children:[r.jsx(Y,{htmlFor:"newPassword",children:"New Password"}),r.jsx(pe,{id:"newPassword",type:"password",value:c,onChange:v=>d(v.target.value)})]}),r.jsxs("div",{className:"grid gap-2 mt-4",children:[r.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsx(pe,{id:"confirmPassword",type:"password",value:u,onChange:v=>h(v.target.value)})]}),r.jsxs(V,{className:"mt-4",onClick:w,disabled:m,children:[m?r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(bi,{className:"mr-2 h-4 w-4"}),"Change Password"]})]})]})})]})]}):null}function lO(){const{t:e,i18n:t}=It(),s=t.language==="ar",[a,n]=f.useState([]),[i,o]=f.useState(!0),l=ts(),{toast:c}=Lt(),d=f.useCallback(async()=>{try{const m=localStorage.getItem("customerToken"),p=localStorage.getItem("lastOrderEmail")||sessionStorage.getItem("guestOrderEmail");if(!m&&!p){l("/");return}let g={data:[]};m?g=await Q.fetch(`${Q.coreUrl}/orders`,{headers:{Authorization:`Bearer ${m}`}}).catch(()=>({data:[]})):p&&(g=await Q.fetch(`${Q.coreUrl}/guest-checkout/orders-by-email?email=${encodeURIComponent(p)}`,{requireAuth:!1}).catch(()=>[]));const x=m?await Q.fetch(`${Q.coreUrl}/card-orders/my-orders`,{headers:{Authorization:`Bearer ${m}`}}).catch(()=>({data:[]})):{data:[]},y=Array.isArray(g)?g:(g==null?void 0:g.data)||[],b=Array.isArray(x)?x:(x==null?void 0:x.data)||[],w=[...y,...b.map(v=>({...v,isCardOrder:!0}))].sort((v,S)=>new Date(S.createdAt||S.created_at||0).getTime()-new Date(v.createdAt||v.created_at||0).getTime());n(w)}catch(m){console.error("Failed to load orders:",m),c({title:e("sections.customerOrders.loadError"),description:e("sections.customerOrders.loadErrorDesc"),variant:"destructive"})}finally{o(!1)}},[c,l]);f.useEffect(()=>{d()},[d]);const u=m=>{switch(m==null?void 0:m.toUpperCase()){case"COMPLETED":case"DELIVERED":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"PENDING":case"PROCESSING":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"CANCELLED":case"REFUNDED":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"SHIPPED":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},h=m=>{const g=`sections.customerOrders.orderStatus.${m==null?void 0:m.toLowerCase()}`;return e(g,m)};return i?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-8",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-indigo-600"})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:e("sections.customerOrders.title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:e("sections.customerOrders.subtitle")})]}),a.length===0?r.jsx(we,{className:"border-0 shadow-lg",children:r.jsxs(Se,{className:"p-16 text-center",children:[r.jsx(Dt,{className:"h-24 w-24 mx-auto text-gray-400 mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-4",children:e("sections.customerOrders.noOrders")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 text-lg max-w-md mx-auto",children:s?"     .   !":"You haven't placed any orders yet. Start shopping now!"}),r.jsx(tt,{to:"/products",children:r.jsxs(V,{size:"lg",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 px-8",children:[e("sections.customerOrders.continueShopping"),r.jsx(ma,{className:`${s?"mr-2":"ml-2"} h-5 w-5 ${s?"rotate-180":""}`})]})})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs(we,{className:"border-0 shadow-lg hidden md:block",children:[r.jsxs(st,{children:[r.jsx(it,{className:"text-2xl",children:e("sections.customerOrders.title")}),r.jsx(Kt,{children:e("sections.customerOrders.subtitle")})]}),r.jsx(Se,{children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:s?"text-right":"text-left",children:e("sections.customerOrders.orderNumber")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("sections.customerOrders.date")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("sections.customerOrders.status")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("sections.customerOrders.total")}),r.jsx(Ae,{className:s?"text-right":"text-left",children:s?"":"Items"}),r.jsx(Ae,{className:s?"text-right":"text-left",children:e("sections.customerOrders.actions")})]})}),r.jsx(us,{children:a.map(m=>{var p;return r.jsxs(kt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[r.jsxs(Ne,{className:"font-medium font-mono",children:["#",m.orderNumber||m.id.slice(0,8).toUpperCase()]}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4 text-gray-400"}),new Date(m.createdAt).toLocaleDateString(s?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})]})}),r.jsx(Ne,{children:r.jsx(et,{className:u(m.status),children:h(m.status)})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-600",children:[r.jsx(an,{className:"h-4 w-4"}),Number(m.totalAmount||m.total||0).toFixed(2)," ",e("common.currency")]})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4 text-gray-400"}),((p=m.orderItems)==null?void 0:p.length)||0," ",s?"":"items"]})}),r.jsx(Ne,{children:r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>l(`/orders/${m.id}`),className:"border-2",title:e("sections.customerOrders.viewDetails"),children:[e("sections.customerOrders.viewDetails"),r.jsx(ma,{className:`${s?"mr-2":"ml-2"} h-4 w-4 ${s?"rotate-180":""}`})]})})]},m.id)})})]})})]}),r.jsx("div",{className:"md:hidden space-y-4",children:a.map(m=>{var p;return r.jsx(we,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:r.jsxs(Se,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("sections.customerOrders.orderNumber")}),r.jsxs("p",{className:"font-bold font-mono",children:["#",m.orderNumber||m.id.slice(0,8).toUpperCase()]})]}),r.jsx(et,{className:u(m.status),children:h(m.status)})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"}),e("sections.customerOrders.date")]}),r.jsx("span",{className:"font-medium",children:new Date(m.createdAt).toLocaleDateString(s?"ar-SA":"en-US")})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4"}),s?"":"Items"]}),r.jsxs("span",{className:"font-medium",children:[((p=m.orderItems)==null?void 0:p.length)||0," ",s?"":"items"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[r.jsx(an,{className:"h-4 w-4"}),e("sections.customerOrders.total")]}),r.jsxs("span",{className:"font-bold text-lg text-indigo-600",children:[Number(m.totalAmount||m.total||0).toFixed(2)," ",e("common.currency")]})]})]}),r.jsxs(V,{variant:"outline",className:"w-full border-2",onClick:()=>l(`/orders/${m.id}`),title:e("sections.customerOrders.viewDetails"),children:[e("sections.customerOrders.viewDetails"),r.jsx(ma,{className:`${s?"mr-2":"ml-2"} h-4 w-4 ${s?"rotate-180":""}`})]})]})},m.id)})})]})]})})}function m2(){const[e,t]=f.useState(null),[s,a]=f.useState(!0),[n,i]=f.useState(!1),o=ts(),{toast:l}=Lt(),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(""),g=f.useCallback(async()=>{try{const w=localStorage.getItem("customerData"),v=localStorage.getItem("customerToken");if(!w||!v){o("/");return}const S=JSON.parse(w);t(S),d(S.firstName||""),h(S.lastName||""),p(S.phone||"")}catch(w){console.error("Failed to load profile:",w),o("/")}finally{a(!1)}},[o]);f.useEffect(()=>{g()},[g]);async function x(){if(e){i(!0);try{const w=localStorage.getItem("customerToken"),v=await Q.fetch(`${Q.authUrl}/customers/profile`,{method:"PUT",headers:{Authorization:`Bearer ${w}`},body:JSON.stringify({firstName:c,lastName:u,phone:m})});localStorage.setItem("customerData",JSON.stringify(v)),t(v),l({title:" ",description:"     "})}catch(w){console.error("Failed to update profile:",w),l({title:"   ",description:"     .    .",variant:"destructive"})}finally{i(!1)}}}function y(){localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),o("/"),window.location.reload()}if(s)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-8",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-indigo-600"})})})});if(!e)return null;const b=`${(c==null?void 0:c[0])||""}${(u==null?void 0:u[0])||e.email[0]}`.toUpperCase();return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"  "})]}),r.jsxs(V,{variant:"outline",onClick:y,className:"border-2",children:[r.jsx(bm,{className:"ml-2 h-4 w-4"})," "]})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx(we,{className:"border-0 shadow-lg lg:col-span-1",children:r.jsxs(Se,{className:"p-8 text-center",children:[r.jsxs(Ep,{className:"h-32 w-32 mx-auto mb-6 border-4 border-indigo-100 dark:border-indigo-900",children:[r.jsx(Pp,{src:e.avatar,alt:e.email}),r.jsx(Tp,{className:"text-3xl bg-gradient-to-br from-indigo-600 to-purple-600 text-white",children:b})]}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:c&&u?`${c} ${u}`:e.email.split("@")[0]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e.email}),e.createdAt&&r.jsx("div",{className:"space-y-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"})," "]}),r.jsx("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"long"})})]})})]})}),r.jsxs(we,{className:"border-0 shadow-lg lg:col-span-2",children:[r.jsxs(st,{children:[r.jsxs(it,{className:"text-2xl flex items-center gap-2",children:[r.jsx(ao,{className:"h-6 w-6"})," "]}),r.jsx(Kt,{children:"  "})]}),r.jsxs(Se,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsxs(Y,{htmlFor:"email",className:"flex items-center gap-2",children:[r.jsx(ba,{className:"h-4 w-4"})," "]}),r.jsx(pe,{id:"email",type:"email",value:e.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),r.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"firstName",children:" "}),r.jsx(pe,{id:"firstName",type:"text",value:c,onChange:w=>d(w.target.value),placeholder:"  "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"lastName",children:" "}),r.jsx(pe,{id:"lastName",type:"text",value:u,onChange:w=>h(w.target.value),placeholder:"  "})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(Y,{htmlFor:"phone",children:" "}),r.jsx(pe,{id:"phone",type:"tel",value:m,onChange:w=>p(w.target.value),placeholder:"05xxxxxxxx",dir:"ltr"})]}),r.jsx("div",{className:"pt-4",children:r.jsx(V,{onClick:x,disabled:n,className:"w-full h-12 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"ml-2 h-5 w-5"})," "]})})})]})]})]})]})})}function Dce(){var m;const{id:e}=$m(),[t,s]=f.useState(null),[a,n]=f.useState(!0),{settings:i}=Um(),[o,l]=f.useState(!1),[c,d]=f.useState(!1);f.useEffect(()=>{e&&u(e)},[e]);async function u(p){try{n(!0);try{const g=await fe.getOrder(p);s(g),l((i==null?void 0:i.storeType)==="DIGITAL_CARDS")}catch(g){try{const x=await fe.getCardOrder(p);s(x),l(!0)}catch(x){throw console.error("Failed to load card order:",x),g}}}catch(g){console.error("Failed to load order:",g)}finally{n(!1)}}const h=async p=>{if(!(!e||c)){d(!0);try{const g=localStorage.getItem("customerToken"),y=`http://localhost:3000/api/orders/${e}/download/${p}`,b=await fetch(y,{headers:{Authorization:g?`Bearer ${g}`:""}});if(!b.ok)throw new Error("Failed to download file");const w=await b.blob(),v=window.URL.createObjectURL(w),S=document.createElement("a");S.href=v,S.download=`order-${(t==null?void 0:t.orderNumber)||e}-${p==="excel"?"serial-numbers.xlsx":"serial-numbers.txt"}`,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(v)}catch(g){console.error("Failed to download file:",g),alert("  .    .")}finally{d(!1)}}};return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):t?r.jsxs("div",{className:"container py-10 max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(V,{variant:"ghost",asChild:!0,className:"mb-4 pl-0",children:r.jsxs(tt,{to:"/profile",children:[r.jsx(El,{className:"mr-2 h-4 w-4"})," Back to Orders"]})}),r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",t.orderNumber||t.id.slice(0,8)]}),r.jsxs("p",{className:"text-muted-foreground",children:["Placed on ",new Date(t.createdAt).toLocaleDateString()," at ",new Date(t.createdAt).toLocaleTimeString()]})]}),r.jsx(et,{className:"text-lg px-4 py-1",variant:t.status==="COMPLETED"||t.status==="PAID"?"default":t.status==="PENDING"?"secondary":t.status==="CANCELLED"?"destructive":"outline",children:t.status==="PAID"?" ":t.status==="COMPLETED"?"":t.status==="PENDING"?" ":t.status==="CANCELLED"?"":t.status})]}),o&&(t.status==="PAID"||t.status==="COMPLETED")&&r.jsxs("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-xl flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary text-white rounded-lg",children:r.jsx(ka,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"  "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"    Excel (  )  "})]})]}),r.jsxs(V,{onClick:handleDownloadFiles,disabled:c,className:"w-full md:w-auto gap-2",children:[c?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):r.jsx(xn,{className:"h-4 w-4"})," "]})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-2 space-y-6",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:"Order Items"})}),r.jsxs(Se,{children:[r.jsx("div",{className:"space-y-4",children:(m=t.items)==null?void 0:m.map(p=>{var g,x,y,b;return r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[((x=(g=p.product)==null?void 0:g.images)==null?void 0:x[0])&&r.jsx("img",{src:p.product.images[0],alt:p.product.name,className:"h-16 w-16 object-cover rounded-md"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:((y=p.product)==null?void 0:y.nameAr)||((b=p.product)==null?void 0:b.name)||"Unknown Product"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",p.quantity]})]})]}),r.jsxs("p",{className:"font-medium",children:[Number(p.price).toFixed(2)," ."]})]}),o&&p.deliveries&&p.deliveries.length>0&&r.jsxs("div",{className:"mt-2 p-3 bg-muted/50 rounded-lg space-y-2",children:[r.jsxs("p",{className:"text-xs font-bold text-muted-foreground flex items-center gap-1",children:[r.jsx(Fs,{className:"h-3 w-3 text-green-500"})," :"]}),p.deliveries.map((w,v)=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-1 text-sm font-mono bg-background p-2 rounded border border-border/50",children:[r.jsx("span",{className:"text-primary font-bold",children:w.cardCode}),w.cardPin&&r.jsxs("span",{className:"text-muted-foreground",children:["PIN: ",w.cardPin]})]},v))]})]})})}),r.jsx(Js,{className:"my-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:" "}),r.jsxs("span",{children:[Number(t.subtotal||t.totalAmount||t.total||0).toFixed(2)," ."]})]}),Number(t.shippingCost||0)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsxs("span",{children:[Number(t.shippingCost).toFixed(2)," ."]})]}),Number(t.tax||0)>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsxs("span",{children:[Number(t.tax).toFixed(2)," ."]})]}),r.jsx(Js,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:""}),r.jsxs("span",{children:[Number(t.totalAmount||t.total||0).toFixed(2)," ."]})]})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[t.shippingAddress&&t.shippingAddress.street!=="Digital Delivery"&&r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Hu,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:" "}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.shippingAddress.fullName&&r.jsxs(r.Fragment,{children:[t.shippingAddress.fullName,r.jsx("br",{})]}),t.shippingAddress.street,r.jsx("br",{}),t.shippingAddress.city,", ",t.shippingAddress.state," ",t.shippingAddress.zipCode,r.jsx("br",{}),t.shippingAddress.country]})]})]})})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsx(Se,{children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:" "}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.paymentMethod==="WALLET_BALANCE"?"  ":t.paymentMethod==="HYPERPAY"?"  (HyperPay)":t.paymentMethod==="STRIPE"?"  (Stripe)":t.paymentMethod==="PAYPAL"?"PayPal":t.paymentMethod==="CASH_ON_DELIVERY"?"  ":t.paymentMethod||" "}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.paymentStatus==="SUCCEEDED"||t.paymentStatus==="PAID"?r.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"  "}):t.paymentStatus==="PENDING"?t.paymentMethod==="CASH_ON_DELIVERY"?r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"   "}):t.paymentMethod==="WALLET_BALANCE"?r.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"    "}):r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"  "}):t.paymentStatus==="FAILED"?r.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:" "}):r.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:" "})})]})]})})]}),(i==null?void 0:i.storeType)==="DIGITAL_CARDS"&&t.deliveryFiles&&(t.deliveryFiles.excelFileUrl||t.deliveryFiles.textFileUrl)&&r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"   Excel  TXT        "})]}),r.jsxs(Se,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.deliveryFiles.excelFileUrl&&r.jsxs(V,{onClick:()=>h("excel"),disabled:c,className:"flex items-center gap-2",variant:"outline",children:[r.jsx(xn,{className:"h-4 w-4"}),c?" ...":"  Excel"]}),t.deliveryFiles.textFileUrl&&r.jsxs(V,{onClick:()=>h("text"),disabled:c,className:"flex items-center gap-2",variant:"outline",children:[r.jsx(xn,{className:"h-4 w-4"}),c?" ...":"  TXT"]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"             ."})]})]})]})]})]}):r.jsxs("div",{className:"container py-10 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order not found"}),r.jsx(V,{asChild:!0,children:r.jsx(tt,{to:"/profile",children:"Back to Orders"})})]})}const zht=e=>{if(!e)return"";const[t,s]=e.split("@");return s?`${t.slice(0,2)}***@${s}`:"***"},Wht=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length<=4?"****":`${t.slice(0,2)}***${t.slice(-2)}`},Hht=e=>e?[e.city,e.state,e.country].filter(Boolean).join(", "):"";function qht(){var h;const{t:e,i18n:t}=It(),{settings:s}=Um(),{orderNumber:a}=$m(),[n]=Bm(),i=n.get("email"),[o,l]=f.useState(null),[c,d]=f.useState(!0),u=f.useCallback(async()=>{if(!a||!i){d(!1);return}try{const m=await Q.fetch(`${Q.coreUrl}/guest-checkout/track?orderNumber=${encodeURIComponent(a)}&email=${encodeURIComponent(i)}`,{requireAuth:!1});l(m)}catch(m){console.error("Failed to load order:",m)}finally{d(!1)}},[a,i]);return f.useEffect(()=>{a&&i&&u()},[a,i,u]),c?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:r.jsxs("div",{className:"container max-w-4xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:r.jsx(Fs,{className:"h-10 w-10 text-green-600"})}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("order.successTitle","Your order has been received!")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("order.successDesc","Thank you for your order. We will send you a confirmation email soon.")})]}),r.jsxs(we,{className:"mb-6",children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"h-5 w-5"}),e("order.details","Order Details")]})}),r.jsx(Se,{className:"space-y-4",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("order.number","Order Number")}),r.jsx("p",{className:"font-semibold",children:o.orderNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("common.date","Date")}),r.jsx("p",{className:"font-semibold",children:new Date(o.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("common.status","Status")}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:e("order.status.processing","Processing")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("cart.total","Total Amount")}),r.jsxs("p",{className:"font-semibold text-lg text-indigo-600",children:[o.totalAmount," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]})]})})]}),r.jsxs(we,{className:"mb-6",children:[r.jsx(st,{children:r.jsx(it,{children:e("checkout.contactInfo","Contact Information")})}),r.jsxs(Se,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ba,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{children:zht(o.guestEmail)})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Fi,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{children:Wht(o.guestPhone)})]})]})]}),o.shippingAddress&&r.jsxs(we,{className:"mb-6",children:[r.jsx(st,{children:r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Hu,{className:"h-5 w-5"}),e("checkout.shippingAddress","Shipping Address")]})}),r.jsxs(Se,{children:[r.jsx("p",{children:o.guestName}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:Hht(o.shippingAddress)})]})]}),r.jsxs(we,{className:"mb-6",children:[r.jsx(st,{children:r.jsx(it,{children:e("common.products","Products")})}),r.jsxs(Se,{children:[r.jsx("div",{className:"space-y-4",children:(h=o.orderItems)==null?void 0:h.map(m=>r.jsxs("div",{className:"flex justify-between items-start border-b pb-4 last:border-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:m.productName}),m.variantName&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.variantName}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e("common.quantity","Quantity"),": ",m.quantity]})]}),r.jsxs("p",{className:"font-semibold",children:[m.price*m.quantity," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]},m.id))}),r.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.subtotal","Subtotal")}),r.jsxs("span",{children:[o.subtotalAmount," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.shipping","Shipping")}),r.jsxs("span",{children:[o.shippingAmount," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.tax","Tax")}),r.jsxs("span",{children:[o.taxAmount," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[r.jsx("span",{children:e("cart.total","Total")}),r.jsxs("span",{className:"text-indigo-600",children:[o.totalAmount," ",t.language==="ar"?".":(s==null?void 0:s.currency)||"SAR"]})]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(tt,{to:"/",children:r.jsxs(V,{variant:"outline",size:"lg",children:[r.jsx(ma,{className:"mr-2 h-5 w-5"}),e("cart.continueShopping","Continue Shopping")]})}),r.jsx(V,{size:"lg",onClick:()=>window.print(),className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:e("order.print","Print Order")})]}),r.jsxs("div",{className:"mt-8 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("order.confirmationSent",{email:o.guestEmail})}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:e("order.trackHint","You can track your order using the order number and email")})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx(we,{className:"max-w-md",children:r.jsxs(Se,{className:"pt-6 text-center",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("order.notFound","Order not found")}),r.jsx(tt,{to:"/",children:r.jsx(V,{className:"mt-4",children:e("common.backToHome","Back to Home")})})]})})})}function Oce(){const{id:e}=$m(),[t,s]=f.useState(null),[a,n]=f.useState([]),[i,o]=f.useState(!0),{toast:l}=Lt();f.useEffect(()=>{e&&c(e)},[e]);async function c(u){try{const h=await fe.get(`/collections/${u}`);s(h),h.products&&n(h.products)}catch(h){console.error("Failed to load collection:",h)}finally{o(!1)}}async function d(u){try{await fe.addToCart({productId:u,quantity:1}),l({title:"Added to cart",description:"Product has been added to your cart."})}catch{l({variant:"destructive",title:"Error",description:"Failed to add product to cart."})}}return i?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):t?r.jsxs("div",{className:"container py-10",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx(V,{variant:"ghost",asChild:!0,className:"mb-4 pl-0",children:r.jsxs(tt,{to:"/",children:[r.jsx(El,{className:"mr-2 h-4 w-4"})," Back to Home"]})}),r.jsx("h1",{className:"text-4xl font-bold mb-2",children:t.name}),t.description&&r.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:t.description})]}),a.length===0?r.jsx("div",{className:"text-center py-20 bg-muted/20 rounded-lg",children:r.jsx("p",{className:"text-muted-foreground text-lg",children:"No products found in this collection."})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(u=>{var h;return r.jsxs(we,{className:"flex flex-col",children:[r.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted",children:(h=u.images)!=null&&h[0]?r.jsx("img",{src:u.images[0],alt:u.name,className:"object-cover w-full h-full hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No Image"})}),r.jsx(st,{children:r.jsx(it,{className:"line-clamp-1",children:r.jsx(tt,{to:`/products/${u.id}`,className:"hover:underline",children:u.name})})}),r.jsx(Se,{className:"flex-1",children:r.jsxs("p",{className:"font-bold text-lg",children:["$",Number(u.price).toFixed(2)]})}),r.jsx(ah,{children:r.jsxs(V,{className:"w-full",onClick:()=>d(u.id),children:[r.jsx(Or,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})})]},u.id)})})]}):r.jsxs("div",{className:"container py-10 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Collection not found"}),r.jsx(V,{asChild:!0,children:r.jsx(tt,{to:"/",children:"Back to Home"})})]})}function Ice(){const{t:e}=It(),{toast:t}=Lt(),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(new Set);f.useEffect(()=>{u()},[]);const u=async()=>{try{const[p,g]=await Promise.all([fe.getCategories(),fe.getBrands().catch(()=>[])]),x=Array.isArray(p)?p:(p==null?void 0:p.categories)||[],y=new Map;x.forEach(w=>{y.set(w.id,{...w,children:[]})}),x.forEach(w=>{if(w.parentId&&y.has(w.parentId)){const v=y.get(w.parentId);v.children=v.children||[],v.children.push(y.get(w.id))}});const b=Array.from(y.values()).filter(w=>!w.parentId);a(b),i(Array.isArray(g)?g:[])}catch(p){console.error("Failed to load data:",p),t({title:e("common.error"),description:"  ",variant:"destructive"}),a([]),i([])}finally{l(!1)}},h=p=>{d(g=>{const x=new Set(g);return x.has(p)?x.delete(p):x.add(p),x})},m=(p,g=0)=>{const x=p.children&&p.children.length>0,y=c.has(p.id);return r.jsxs("div",{className:g>0?"mr-4 border-r-2 border-primary/20 pr-4":"",children:[r.jsx("div",{className:"group",children:r.jsx(we,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 mb-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary/20 via-primary/10 to-primary/5 flex items-center justify-center relative overflow-hidden shrink-0",children:p.image?r.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):r.jsx(_i,{className:"h-12 w-12 text-primary/40"})}),r.jsxs(Se,{className:"flex-1 p-4 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(tt,{to:`/categories/${p.id}`,className:"flex-1",children:r.jsx("h2",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:p.name})}),r.jsxs("div",{className:"flex items-center gap-2",children:[p.productCount!==void 0&&p.productCount>0&&r.jsxs(et,{variant:"secondary",className:"text-xs",children:[p.productCount," "]}),x&&r.jsx(V,{variant:"ghost",size:"sm",onClick:b=>{b.preventDefault(),h(p.id)},className:"p-1 h-8 w-8",children:y?r.jsx(to,{className:"h-4 w-4"}):r.jsx(Ms,{className:"h-4 w-4"})})]})]}),r.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:p.description||" "})]}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[x&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.children.length,"  "]}),r.jsx(tt,{to:`/categories/${p.id}`,children:r.jsx(V,{variant:"ghost",size:"sm",className:"p-2",children:r.jsx(ma,{className:"h-4 w-4"})})})]})]})]})})}),x&&y&&r.jsx("div",{className:"mr-6 mb-4",children:p.children.map(b=>m(b,g+1))})]},p.id)};return r.jsx("div",{className:"min-h-screen",children:r.jsxs("div",{className:"container py-8",children:[n.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(jm,{className:"h-6 w-6 text-primary"}),r.jsx("h2",{className:"text-2xl font-bold",children:" "}),r.jsx(et,{variant:"outline",children:n.length})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(p=>r.jsx(tt,{to:`/products?brandId=${p.id}`,className:"group",children:r.jsx(we,{className:"px-4 py-2 hover:shadow-md hover:border-primary/50 transition-all",children:r.jsxs("span",{className:"font-medium group-hover:text-primary transition-colors",children:[p.name,p.nameAr&&p.nameAr!==p.name&&r.jsxs("span",{className:"text-muted-foreground mr-2",children:["(",p.nameAr,")"]})]})})},p.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(_i,{className:"h-6 w-6 text-primary"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("categories.title","")}),s.length>0&&r.jsx(et,{variant:"outline",children:s.length})]}),r.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"  "})]}),o?r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-primary"})}):s.length===0?r.jsx(we,{className:"text-center py-16",children:r.jsxs(Se,{children:[r.jsx(_i,{className:"h-20 w-20 mx-auto text-muted-foreground/50 mb-6"}),r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"  "}),r.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"    "}),r.jsx(tt,{to:"/products",children:r.jsx(V,{children:"  "})})]})}):r.jsx("div",{className:"space-y-2",children:s.map(p=>m(p))})]})})}function Rce(){const{id:e}=$m(),{toast:t}=Lt(),{t:s,i18n:a}=It(),[n,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(!0);f.useEffect(()=>{g();const v=()=>{g()};return window.addEventListener("productsUpdated",v),()=>{window.removeEventListener("productsUpdated",v)}},[e]);const g=async()=>{try{p(!0);const[v,S]=await Promise.all([fe.get(`/categories/${e}`),fe.getCategories()]);i(v);const j=Array.isArray(S)?S:(S==null?void 0:S.categories)||[];l(j);const k=j.filter(P=>P.parentId===e);d(k),console.log(" [Storefront] Loading products for category:",e);const N=await fe.getProducts({limit:1e3});console.log(" [Storefront] All products response:",N);const C=Array.isArray(N)?N:(N==null?void 0:N.data)||(N==null?void 0:N.products)||[];console.log(" [Storefront] All products list:",C.length,"products"),C.length>0&&console.log(" [Storefront] First product sample:",{id:C[0].id,name:C[0].name,categories:C[0].categories,categoriesType:typeof C[0].categories,isArray:Array.isArray(C[0].categories),categoryId:C[0].categoryId,isAvailable:C[0].isAvailable,isPublished:C[0].isPublished});const A=await fe.getProducts({categoryId:e,limit:1e3});console.log(" [Storefront] Filtered products response (categoryId):",A);const E=Array.isArray(A)?A:(A==null?void 0:A.data)||(A==null?void 0:A.products)||[];console.log(" [Storefront] Filtered products list:",E.length,"products");const T=C.map(P=>{let _=[];return P.categories&&Array.isArray(P.categories)&&(_=P.categories.map(O=>{var M;return typeof O=="string"?{categoryId:O}:{categoryId:O.categoryId||O.id||((M=O.category)==null?void 0:M.id),category:O.category,id:O.id}})),{...P,categories:_,price:Number(P.price)||0,compareAtPrice:P.compareAtPrice?Number(P.compareAtPrice):void 0,isAvailable:P.isAvailable!==!1&&P.isAvailable!==void 0,isPublished:P.isPublished!==!1&&P.isPublished!==void 0}}).filter(P=>{var O;if(!P.isAvailable||!P.isPublished)return!1;const _=((O=P.categories)==null?void 0:O.some(M=>{var R;return(M.categoryId||M.id||((R=M.category)==null?void 0:R.id))===e}))||P.categoryId===e;return _&&console.log(" [Storefront] Product belongs to category:",P.name,"categories:",P.categories),_});console.log(" [Storefront] Final filtered products for category",e,":",T.length,"products"),h(T)}catch(v){console.error("Failed to load category:",v),t({title:"  ",description:"     .    .",variant:"destructive"})}finally{p(!1)}},x=()=>{if(!n)return[];const v=[];let S=n.parentId,j=0;for(;S&&j<10;){const k=o.find(N=>N.id===S);if(k)v.unshift(k),S=k.parentId;else break;j++}return v};if(m)return r.jsx(Xp,{});if(!n)return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-20",children:r.jsxs(we,{className:"p-12 text-center border-0 shadow-lg",children:[r.jsx(Dt,{className:"h-20 w-20 mx-auto text-gray-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"       "}),r.jsx(tt,{to:"/categories",children:r.jsx(V,{children:"  "})})]})})});const y=x(),b=a.language==="ar",w=b?Qo:Ms;return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"mb-6 flex items-center flex-wrap gap-2 text-sm",children:[r.jsx(tt,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:b?ai:pi}),r.jsx(w,{className:"h-4 w-4 text-gray-400"}),r.jsx(tt,{to:"/categories",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:s("nav.categories","")}),r.jsx(w,{className:"h-4 w-4 text-gray-400"}),y.map(v=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{to:`/categories/${v.id}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:v.name}),r.jsx(w,{className:"h-4 w-4 text-gray-400"})]},v.id)),r.jsx("span",{className:"text-primary font-medium",children:n.name})]}),r.jsxs("div",{className:"mb-12",children:[n.image&&r.jsx("div",{className:"w-full h-64 mb-6 rounded-2xl overflow-hidden",children:r.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:n.name}),n.description&&r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl",children:n.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[u.length," ",u.length===1?"":""]}),c.length>0&&r.jsxs(et,{variant:"outline",children:[c.length,"  "]})]})]}),c.length>0&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[r.jsx(_i,{className:"h-6 w-6 text-primary"})," "]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(v=>r.jsx(tt,{to:`/categories/${v.id}`,className:"group",children:r.jsx(we,{className:"overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:r.jsxs("div",{className:"flex items-center p-4 gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center shrink-0 overflow-hidden",children:v.image?r.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover"}):r.jsx(_i,{className:"h-8 w-8 text-primary/40"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold group-hover:text-primary transition-colors truncate",children:v.name}),v.productCount!==void 0&&r.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.productCount," "]})]}),r.jsx(ma,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all shrink-0"})]})})},v.id))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[r.jsx(Dt,{className:"h-6 w-6 text-primary"}),""]}),u.length===0?r.jsx(we,{className:"p-12 text-center",children:r.jsxs(Se,{children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c.length>0?"     ":"      "}),r.jsx(tt,{to:"/products",children:r.jsx(V,{children:"  "})})]})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(v=>r.jsx(Zj,{product:v},v.id))})]})]})})}function jd(){const{slug:e}=$m(),t=Gn(),[s]=Bm(),a=s.get("preview")==="true",[n,i]=f.useState(null),[o,l]=f.useState(!0),c=f.useMemo(()=>{if(e)return e;let y=t.pathname.replace(/^\//,"").replace(/\/$/,"");return y.startsWith("page/")&&(y=y.replace("page/","")),y},[e,t.pathname]);if(f.useEffect(()=>{l(!0),i(null),c?(async()=>{try{const b=await fe.getPageBySlug(c);b&&(a||b.isPublished)?i(b):i(null)}catch{i(null)}finally{l(!1)}})():l(!1)},[c,a]),o)return r.jsx(Xp,{});if(!n)return r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page not found"}),r.jsx("p",{className:"text-gray-600",children:"The requested page does not exist."})]});const u=a&&n.draftContent?n.draftContent:n.content,h=(u==null?void 0:u.sections)??[],m=["merchant-dashboard","product-list","store-page","support-tickets","favorites-page","balance-operations","employees-page","permissions-page","charge-wallet","reports-page","profile-page","categories-hierarchy","bank-accounts"],p=h.some(y=>m.includes(y.type)),g=p?"transparent":(u==null?void 0:u.backgroundColor)||"#ffffff",x=p?!1:(u==null?void 0:u.isDarkMode)||!1;return r.jsxs(Me.div,{className:`min-h-screen p-6 ${x?"dark":""}`,style:{backgroundColor:g},initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:n.title})}),h.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"This page has no content yet."})}):r.jsx("div",{className:"space-y-8",children:h.map((y,b)=>r.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1,duration:.3},children:r.jsx(Kw,{section:y})},y.id))})]})}function Ght(){const{t:e,i18n:t}=It(),s=t.language==="ar",[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState(new Set),[p,g]=f.useState(!1),[x,y]=f.useState(!1),[b,w]=f.useState(""),[v,S]=f.useState(null),{toast:j}=Lt(),k=ts(),{user:N}=$s(),C=U=>{const W=U.split(":")[0];if(W.includes(".localhost")){const J=W.split(".localhost");return J[0]&&J[0]!=="localhost"&&J[0]!=="127"?J[0]:null}if(W==="localhost"||W==="127.0.0.1")return null;if(W.endsWith(".saeaa.com")&&W!=="saeaa.com"&&W!=="www.saeaa.com"){const J=W.split(".");if(J.length>=3&&J[0]!=="www"&&J[0]!=="app")return J[0]}if(W.endsWith(".saeaa.net")&&W!=="saeaa.net"&&W!=="www.saeaa.net"){const J=W.split(".");if(J.length>=3&&J[0]!=="www"&&J[0]!=="app")return J[0]}return null},A=U=>{const W=window.location.protocol,J=window.location.hostname,z=window.location.port,ie=z?`:${z}`:"",re=C(J);let q;v?q=v:N!=null&&N.tenantSubdomain?q=N.tenantSubdomain:re&&!re.startsWith("tenant-")?q=re:(console.warn("No valid subdomain found for preview URL. Using default."),q="default"),console.log(" Generating preview URL:",{slug:U,tenantSubdomain:v,userTenantSubdomain:N==null?void 0:N.tenantSubdomain,extractedSubdomain:re,finalSubdomain:q,hostname:J});let se="saeaa.com";return J.includes("saeaa.net")?se="saeaa.net":J.includes("saeaa.com")&&(se="saeaa.com"),J==="localhost"||J==="127.0.0.1"||J.includes(".localhost")?`${W}//${q}.localhost${ie}/${U}`:`${W}//${q}.${se}/${U}`};f.useEffect(()=>{T(),P(),D()},[]);const E=!!(N!=null&&N.tenantId&&N.tenantId!=="default"&&N.tenantId!=="system"),D=async()=>{var U;try{console.log(" Loading tenant info for preview URLs...");const W=await NC.getCurrentUserTenant();if(console.log(" Tenant API response:",W),W!=null&&W.subdomain){console.log(" Using subdomain from tenant API:",W.subdomain),S(W.subdomain);return}try{const ie=await fe.get("/site-config",{requireAuth:!0});if(console.log(" Site-config response:",ie),(U=ie==null?void 0:ie.settings)!=null&&U.subdomain){console.log(" Using subdomain from site-config:",ie.settings.subdomain),S(ie.settings.subdomain);return}}catch(ie){console.warn(" Failed to load subdomain from site-config:",ie)}if(N!=null&&N.tenantSubdomain){console.log(" Using subdomain from user context:",N.tenantSubdomain),S(N.tenantSubdomain);return}const J=window.location.hostname,z=C(J);z&&!z.startsWith("tenant-")?(console.log(" Using extracted subdomain from hostname:",z),S(z)):console.warn(" Could not determine subdomain. Preview URLs may not work correctly.")}catch(W){console.error(" Failed to load tenant info:",W);const J=window.location.hostname,z=C(J);z&&!z.startsWith("tenant-")?(console.log(" Using extracted subdomain as fallback:",z),S(z)):N!=null&&N.tenantSubdomain&&(console.log(" Using user tenantSubdomain as last resort:",N.tenantSubdomain),S(N.tenantSubdomain))}},T=async()=>{try{c(!0);const U=N==null?void 0:N.tenantId,W=await CY.getPages(!0);let J=Array.isArray(W)?W:[];J=J.filter(z=>z&&typeof z=="object"&&z.id&&!("error"in z)&&!("statusCode"in z)),n(J)}catch(U){console.error("Failed to load pages:",U),j({title:"  ",description:"  .    .",variant:"destructive"})}finally{c(!1)}},P=async()=>{try{const U=await gE.getTemplates();o(U)}catch(U){console.error("Failed to load templates:",U)}},_=async()=>{if(b.trim())try{c(!0);const U=b.toLowerCase().replace(/\s+/g,"-");await fe.createPage({title:b,slug:U,content:{sections:[]},isPublished:!1}),j({title:"  ",description:"   ."}),w(""),g(!1),T()}catch{j({title:"",description:"  .",variant:"destructive"})}finally{c(!1)}},O=async U=>{if(confirm(e("pages.manager.deleteConfirm")))try{c(!0),await fe.deletePage(U),j({title:e("common.success"),description:e("pages.manager.deleteSuccess")}),T()}catch{j({title:e("common.error"),description:e("pages.manager.deleteError"),variant:"destructive"})}finally{c(!1)}},M=async()=>{if(h.size!==0&&confirm(e("pages.manager.bulkDeleteConfirm",{count:h.size})))try{c(!0),await Promise.all(Array.from(h).map(U=>fe.deletePage(U))),j({title:e("common.success"),description:e("pages.manager.bulkDeleteSuccess",{count:h.size})}),m(new Set),T()}catch{j({title:e("common.error"),description:e("pages.manager.bulkDeleteError"),variant:"destructive"})}finally{c(!1)}},I=async U=>{try{c(!0),await fe.createPage({title:`${U.title} ()`,slug:`${U.slug}-copy-${Date.now()}`,content:U.content,isPublished:!1}),j({title:" ",description:"   ."}),T()}catch{j({title:"",description:"  .",variant:"destructive"})}finally{c(!1)}},R=async U=>{try{c(!0);const W=U.name.toLowerCase().replace(/\s+/g,"-");await fe.createPage({title:U.name,slug:`${W}-${Date.now()}`,content:U.content,isPublished:!1}),j({title:" ",description:"     ."}),y(!1),T()}catch{j({title:"",description:"    .",variant:"destructive"})}finally{c(!1)}},L=U=>{const W=new Set(h);W.has(U)?W.delete(U):W.add(U),m(W)},K=()=>{h.size===a.length?m(new Set):m(new Set(a.map(U=>U.id)))},H=async()=>{try{if(c(!0),!(N!=null&&N.tenantId)||N.tenantId==="default"||N.tenantId==="system"){j({title:"  ",description:"      .     .",variant:"destructive"}),k("/dashboard/market-setup");return}const U=await fe.getPages().catch(()=>[]),W=new Set((Array.isArray(U)?U:[]).map(Te=>Te.slug)),oe=[{slug:"store",content:{sections:[{type:"hero",props:{title:"Digital Cards Store",titleAr:"  ",titleEn:"Digital Cards Store",subtitle:"Best digital cards at the best prices",subtitleAr:"    ",subtitleEn:"Best digital cards at the best prices",buttonText:"Browse Now",buttonTextAr:" ",buttonTextEn:"Browse Now",backgroundImage:"https://images.unsplash.com/photo-1614850523296-d8c1af93d400?q=80&w=2070&auto=format&fit=crop",overlayOpacity:.6,textAlign:"center",contentPosition:"center",minHeight:"400px",animationType:"animate-aurora"}},{type:"store-page",props:{title:"Store",titleAr:"",titleEn:"Store",showCart:!0,showBrands:!0,layout:"grid"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Store",titleAr:" -   ",titleEn:"Store - Digital Cards Store",seoTitle:"Store",seoTitleAr:" -   ",seoTitleEn:"Store - Digital Cards Store",seoDescription:"Digital cards store with shopping cart and brand selection",seoDescAr:"        ",seoDescEn:"Digital cards store with shopping cart and brand selection"},{slug:"customer-orders",content:{sections:[{type:"customer-orders",props:{title:"My Orders",titleAr:"",titleEn:"My Orders",subtitle:"View all your orders with the status of each order",subtitleAr:"      ",subtitleEn:"View all your orders with the status of each order",showSearch:!0,showFilters:!0,showStatusBadge:!0,itemsPerPage:10,layout:"table"}}],backgroundColor:"transparent",isDarkMode:!1},title:"My Orders",titleAr:"",titleEn:"My Orders",seoTitle:"My Orders",seoTitleAr:"",seoTitleEn:"My Orders",seoDescription:"View all your orders with status",seoDescAr:"      ",seoDescEn:"View all your orders with status"},{slug:"categories",content:{sections:[{type:"categories-hierarchy",props:{title:"Browse Categories & Products",titleAr:"  ",titleEn:"Browse Categories & Products",subtitle:"Discover our wide range of digital cards",subtitleAr:"     ",subtitleEn:"Discover our wide range of digital cards",productsPerCategory:12,productsColumns:4,productsLayout:"grid",showAddToCart:!0,theme:"aurora"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Categories & Products",titleAr:" ",titleEn:"Categories & Products",seoTitle:"Categories & Products",seoTitleAr:" ",seoTitleEn:"Categories & Products",seoDescription:"Browse categories, subcategories and products",seoDescAr:"    ",seoDescEn:"Browse categories, subcategories and products"},{slug:"profile",content:{sections:[{type:"profile-page",props:{title:"Account Settings",titleAr:" ",titleEn:"Account Settings",showSecuritySettings:!0,showNotificationSettings:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Profile",titleAr:" ",titleEn:"Profile",seoTitle:"Profile",seoTitleAr:" ",seoTitleEn:"Profile",seoDescription:"Customer profile",seoDescAr:"  ",seoDescEn:"Customer profile"},{slug:"charge-wallet",content:{sections:[{type:"charge-wallet",props:{title:"Charge Wallet",titleAr:"  ",titleEn:"Charge Wallet",showBankTransfer:!0,showOnlinePayment:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Charge Wallet",titleAr:" ",titleEn:"Charge Wallet",seoTitle:"Charge Wallet",seoTitleAr:" ",seoTitleEn:"Charge Wallet",seoDescription:"Charge wallet balance",seoDescAr:"  ",seoDescEn:"Charge wallet balance"},{slug:"favorites",content:{sections:[{type:"favorites-page",props:{title:"Favorite Cards",titleAr:" ",titleEn:"Favorite Cards",showCart:!0,layout:"grid"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Favorite Cards",titleAr:" ",titleEn:"Favorite Cards",seoTitle:"Favorite Cards",seoTitleAr:" ",seoTitleEn:"Favorite Cards",seoDescription:"Favorite cards with shopping cart",seoDescAr:"    ",seoDescEn:"Favorite cards with shopping cart"},{slug:"support",content:{sections:[{type:"support-tickets",props:{title:"Support Tickets",titleAr:"  ",titleEn:"Support Tickets",showCreateButton:!0,showStatusFilter:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Support",titleAr:"",titleEn:"Support",seoTitle:"Support",seoTitleAr:"",seoTitleEn:"Support",seoDescription:"Support page and ticket management",seoDescAr:"   ",seoDescEn:"Support page and ticket management"}].filter(Te=>!W.has(Te.slug));if(oe.length===0){j({title:e("pages.allPagesExist","All pages exist"),description:e("pages.allDigitalCardsPagesExist","All digital cards store pages already exist"),variant:"default"});return}const de=await Promise.all(oe.map(Te=>fe.createPage({title:Te.title,titleAr:Te.titleAr,titleEn:Te.titleEn,slug:Te.slug,content:Te.content,isPublished:!0,seoTitle:Te.seoTitle,seoTitleAr:Te.seoTitleAr,seoTitleEn:Te.seoTitleEn,seoDescription:Te.seoDescription,seoDescAr:Te.seoDescAr,seoDescEn:Te.seoDescEn})));j({title:e("pages.createdSuccessfully","Created Successfully"),description:e("pages.digitalCardsCreated",`Successfully created ${de.length} pages for digital cards store`,{count:de.length}),variant:"default"}),setTimeout(()=>{T()},500)}catch(U){const W=U;console.error("Failed to create digital cards store pages:",W),j({title:e("pages.creationError","Creation Error"),description:(W==null?void 0:W.message)||e("pages.digitalCardsCreationError","An error occurred while creating digital cards store pages. Please try again."),variant:"destructive"})}finally{c(!1)}},F=a.filter(U=>{var W,J;return((W=U.title)==null?void 0:W.toLowerCase().includes(d.toLowerCase()))||((J=U.slug)==null?void 0:J.toLowerCase().includes(d.toLowerCase()))});f.useEffect(()=>{m(new Set)},[d]);const G={total:a.length,published:a.filter(U=>U.isPublished).length,drafts:a.filter(U=>!U.isPublished).length};return E?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-orange-500 to-teal-500 bg-clip-text text-transparent",children:e("dashboard.pages.title"," ")}),r.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:e("dashboard.pages.description","    ")})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(V,{variant:"outline",size:"lg",className:"border-2",onClick:T,disabled:l,children:[r.jsx(mc,{className:`h-5 w-5 ml-2 ${l?"animate-spin":""}`}),""]}),r.jsxs(V,{variant:"outline",size:"lg",className:"border-2 border-teal-500/20 hover:border-teal-500/40 text-teal-600 dark:text-teal-400",onClick:H,disabled:l,children:[r.jsx(xs,{className:"h-5 w-5 ml-2"}),"  "]}),r.jsxs(ir,{open:p,onOpenChange:g,children:[r.jsx(vg,{asChild:!0,children:r.jsxs(V,{size:"lg",className:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20",id:"tour-pages-add-btn",children:[r.jsx(rr,{className:"h-5 w-5 ml-2"})," "]})}),r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"  "}),r.jsx(pr,{children:"     ."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:" "}),r.jsx(pe,{placeholder:":    ...",value:b,onChange:U=>w(U.target.value)})]}),r.jsx(V,{className:"w-full",onClick:_,disabled:l,children:l?r.jsx(Je,{className:"h-4 w-4 animate-spin"}):" "})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(we,{className:"bg-card border-2 border-border",children:[r.jsx(st,{className:"pb-2",children:r.jsxs(it,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})," "]})}),r.jsx(Se,{children:r.jsx("div",{className:"text-3xl font-bold text-primary",children:G.total})})]}),r.jsxs(we,{className:"bg-card border-2 border-border",children:[r.jsx(st,{className:"pb-2",children:r.jsxs(it,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-success"}),e("pages.manager.status.published")]})}),r.jsx(Se,{children:r.jsx("div",{className:"text-3xl font-bold text-success",children:G.published})})]}),r.jsxs(we,{className:"bg-card border-2 border-border",children:[r.jsx(st,{className:"pb-2",children:r.jsxs(it,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),e("pages.manager.filters.draft")]})}),r.jsx(Se,{children:r.jsx("div",{className:"text-3xl font-bold text-accent",children:G.drafts})})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-card p-4 rounded-xl border-2 border-border shadow-sm",children:[r.jsxs("div",{className:"relative w-full md:w-96",children:[r.jsx(Mr,{className:`absolute ${s?"right-3":"left-3"} top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground`}),r.jsx(pe,{placeholder:e("pages.manager.searchPlaceholder"),className:`${s?"pr-10":"pl-10"} h-11 border-border focus:border-primary`,value:d,onChange:U=>u(U.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[h.size>0&&r.jsxs(V,{variant:"destructive",onClick:M,className:"shadow-lg shadow-red-100",children:[r.jsx(Sr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.bulkDelete")," (",h.size,")"]}),r.jsxs(ir,{open:x,onOpenChange:y,children:[r.jsx(vg,{asChild:!0,children:r.jsxs(V,{variant:"outline",className:"border-2",children:[r.jsx(f6,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.templates")]})}),r.jsxs(ar,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"   "}),r.jsx(pr,{children:"      ."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:i.map(U=>r.jsxs(we,{className:"overflow-hidden hover:border-primary transition-colors cursor-pointer group",children:[r.jsxs("div",{className:"aspect-video bg-muted flex items-center justify-center relative overflow-hidden",children:[U.thumbnail?r.jsx("img",{src:U.thumbnail,alt:U.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):r.jsx(f6,{className:"h-12 w-12 text-muted-foreground"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx(V,{onClick:()=>R(U),children:"  "})})]}),r.jsxs(st,{className:"p-4",children:[r.jsx(it,{className:"text-lg",children:U.name}),r.jsx(Kt,{children:U.description})]})]},U.id))})]})]})]})]}),r.jsx("div",{className:"bg-card rounded-xl border-2 border-border shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto table-responsive",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50 border-b-2 border-border",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 w-12",children:r.jsx(no,{checked:h.size===a.length&&a.length>0,onCheckedChange:K})}),r.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.page")}),r.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.slug")}),r.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.status")}),r.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.lastUpdated")}),r.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.actions")})]})}),r.jsx("tbody",{className:"divide-y",children:l&&a.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"p-12 text-center",children:[r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:e("pages.manager.loading")})]})}):F.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"p-12 text-center",children:[r.jsx("div",{className:"bg-muted w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ka,{className:"h-8 w-8 text-muted-foreground"})}),r.jsx("p",{className:"text-muted-foreground text-lg",children:e("pages.manager.noPages")}),r.jsx(V,{variant:"link",className:"text-primary mt-2",onClick:()=>g(!0),children:e("pages.manager.createFirst")})]})}):F.map(U=>r.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group border-b border-border last:border-0",children:[r.jsx("td",{className:"p-4",children:r.jsx(no,{checked:h.has(U.id),onCheckedChange:()=>L(U.id)})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:r.jsx(ka,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-foreground",children:U.title}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",U.id.substring(0,8),"..."]})]})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("code",{className:"bg-muted px-2 py-1 rounded text-sm text-muted-foreground",children:["/",U.slug]})}),r.jsx("td",{className:"p-4",children:U.isPublished?r.jsx(et,{className:"bg-success/10 text-success border-success/20 hover:bg-success/20",children:e("pages.manager.status.published")}):r.jsx(et,{variant:"outline",className:"text-accent border-accent/30 bg-accent/5",children:e("pages.manager.status.draft")})}),r.jsx("td",{className:"p-4 text-muted-foreground text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"}),new Date(U.updatedAt).toLocaleDateString(s?"ar-SA":"en-US")]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:`flex items-center gap-2 ${s?"justify-start":"justify-end"}`,children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"hover:bg-primary/10 hover:text-primary",onClick:()=>k(`/builder/${U.id}`),children:[r.jsx(Ga,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.actions.edit")]}),r.jsx(V,{variant:"ghost",size:"sm",className:"hover:bg-[hsl(var(--teal)/0.1)] hover:text-[hsl(var(--teal))]",asChild:!0,children:r.jsxs("a",{href:A(U.slug),target:"_blank",rel:"noopener noreferrer",children:[r.jsx(Cr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.actions.preview")]})}),r.jsxs(ir,{children:[r.jsx(vg,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"sm",className:"hover:bg-gray-100",children:r.jsx(rr,{className:"h-4 w-4"})})}),r.jsx(ar,{className:"w-48 p-2",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start font-normal",onClick:()=>I(U),children:[r.jsx(sc,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.actions.duplicate")]}),r.jsxs(V,{variant:"ghost",size:"sm",className:"justify-start font-normal text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>O(U.id),children:[r.jsx(Sr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("pages.manager.actions.delete")]})]})})]})]})})]},U.id))})]})})})]}):r.jsx(lF,{})}function DF(e,t,s){const a=e.slice();return a.splice(s<0?a.length+s:s,0,a.splice(t,1)[0]),a}function Kht(e,t){return e.reduce((s,a,n)=>{const i=t.get(a);return i&&(s[n]=i),s},Array(e.length))}function CN(e){return e!==null&&e>=0}function Yht(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function Xht(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mce=e=>{let{rects:t,activeIndex:s,overIndex:a,index:n}=e;const i=DF(t,a,s),o=t[n],l=i[n];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},AN={scaleX:1,scaleY:1},Qht=e=>{var t;let{activeIndex:s,activeNodeRect:a,index:n,rects:i,overIndex:o}=e;const l=(t=i[s])!=null?t:a;if(!l)return null;if(n===s){const d=i[o];return d?{x:0,y:s<o?d.top+d.height-(l.top+l.height):d.top-l.top,...AN}:null}const c=Jht(i,n,s);return n>s&&n<=o?{x:0,y:-l.height-c,...AN}:n<s&&n>=o?{x:0,y:l.height+c,...AN}:{x:0,y:0,...AN}};function Jht(e,t,s){const a=e[t],n=e[t-1],i=e[t+1];return a?s<t?n?a.top-(n.top+n.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):n?a.top-(n.top+n.height):0:0}const Fce="Sortable",Lce=ae.createContext({activeIndex:-1,containerId:Fce,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mce,disabled:{draggable:!1,droppable:!1}});function Zht(e){let{children:t,id:s,items:a,strategy:n=Mce,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=Woe(),h=Qj(Fce,s),m=l.rect!==null,p=f.useMemo(()=>a.map(k=>typeof k=="object"&&"id"in k?k.id:k),[a]),g=o!=null,x=o?p.indexOf(o.id):-1,y=d?p.indexOf(d.id):-1,b=f.useRef(p),w=!Yht(p,b.current),v=y!==-1&&x===-1||w,S=Xht(i);cd(()=>{w&&g&&u(p)},[w,p,g,u]),f.useEffect(()=>{b.current=p},[p]);const j=f.useMemo(()=>({activeIndex:x,containerId:h,disabled:S,disableTransforms:v,items:p,overIndex:y,useDragOverlay:m,sortedRects:Kht(p,c),strategy:n}),[x,h,S.draggable,S.droppable,v,p,y,c,m,n]);return ae.createElement(Lce.Provider,{value:j},t)}const emt=e=>{let{id:t,items:s,activeIndex:a,overIndex:n}=e;return DF(s,a,n).indexOf(t)},tmt=e=>{let{containerId:t,isSorting:s,wasDragging:a,index:n,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!a||l!==i&&n===o?!1:s?!0:o!==n&&t===c},rmt={duration:200,easing:"ease"},$ce="transform",smt=th.Transition.toString({property:$ce,duration:0,easing:"linear"}),amt={roleDescription:"sortable"};function nmt(e){let{disabled:t,index:s,node:a,rect:n}=e;const[i,o]=f.useState(null),l=f.useRef(s);return cd(()=>{if(!t&&s!==l.current&&a.current){const c=n.current;if(c){const d=bv(a.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}s!==l.current&&(l.current=s)},[t,s,a,n]),f.useEffect(()=>{i&&o(null)},[i]),i}function imt(e){let{animateLayoutChanges:t=tmt,attributes:s,disabled:a,data:n,getNewIndex:i=emt,id:o,strategy:l,resizeObserverConfig:c,transition:d=rmt}=e;const{items:u,containerId:h,activeIndex:m,disabled:p,disableTransforms:g,sortedRects:x,overIndex:y,useDragOverlay:b,strategy:w}=f.useContext(Lce),v=omt(a,p),S=u.indexOf(o),j=f.useMemo(()=>({sortable:{containerId:h,index:S,items:u},...n}),[h,n,S,u]),k=f.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:N,node:C,isOver:A,setNodeRef:E}=c2({id:o,data:j,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:D,activatorEvent:T,activeNodeRect:P,attributes:_,setNodeRef:O,listeners:M,isDragging:I,over:R,setActivatorNodeRef:L,transform:K}=zoe({id:o,data:j,attributes:{...amt,...s},disabled:v.draggable}),H=Alt(E,O),F=!!D,G=F&&!g&&CN(m)&&CN(y),U=!b&&I,W=U&&G?K:null,z=G?W??(l??w)({rects:x,activeNodeRect:P,activeIndex:m,overIndex:y,index:S}):null,ie=CN(m)&&CN(y)?i({id:o,items:u,activeIndex:m,overIndex:y}):S,re=D==null?void 0:D.id,q=f.useRef({activeId:re,items:u,newIndex:ie,containerId:h}),se=u!==q.current.items,B=t({active:D,containerId:h,isDragging:I,isSorting:F,id:o,index:S,items:u,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:d,wasDragging:q.current.activeId!=null}),oe=nmt({disabled:!B,index:S,node:C,rect:N});return f.useEffect(()=>{F&&q.current.newIndex!==ie&&(q.current.newIndex=ie),h!==q.current.containerId&&(q.current.containerId=h),u!==q.current.items&&(q.current.items=u)},[F,ie,h,u]),f.useEffect(()=>{if(re===q.current.activeId)return;if(re!=null&&q.current.activeId==null){q.current.activeId=re;return}const Te=setTimeout(()=>{q.current.activeId=re},50);return()=>clearTimeout(Te)},[re]),{active:D,activeIndex:m,attributes:_,data:j,rect:N,index:S,newIndex:ie,items:u,isOver:A,isSorting:F,isDragging:I,listeners:M,node:C,overIndex:y,over:R,setNodeRef:H,setActivatorNodeRef:L,setDroppableNodeRef:E,setDraggableNodeRef:O,transform:oe??z,transition:de()};function de(){if(oe||se&&q.current.newIndex===S)return smt;if(!(U&&!cE(T)||!d)&&(F||B))return th.Transition.toString({...d,property:$ce})}}function omt(e,t){var s,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(s=e==null?void 0:e.draggable)!=null?s:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function Uk(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const lmt=[Os.Down,Os.Right,Os.Up,Os.Left],cmt=(e,t)=>{let{context:{active:s,collisionRect:a,droppableRects:n,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(lmt.includes(e.code)){if(e.preventDefault(),!s||!a)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=n.get(h.id);if(m)switch(e.code){case Os.Down:a.top<m.top&&c.push(h);break;case Os.Up:a.top>m.top&&c.push(h);break;case Os.Left:a.left>m.left&&c.push(h);break;case Os.Right:a.left<m.left&&c.push(h);break}});const d=Wlt({active:s,collisionRect:a,droppableRects:n,droppableContainers:c,pointerCoordinates:null});let u=Coe(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const h=i.get(s.id),m=i.get(u),p=m?n.get(m.id):null,g=m==null?void 0:m.node.current;if(g&&p&&h&&m){const y=dE(g).some((k,N)=>l[N]!==k),b=Bce(h,m),w=dmt(h,m),v=y||!b?{x:0,y:0}:{x:w?a.width-p.width:0,y:w?a.height-p.height:0},S={x:p.left,y:p.top};return v.x&&v.y?S:qw(S,v)}}}};function Bce(e,t){return!Uk(e)||!Uk(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function dmt(e,t){return!Uk(e)||!Uk(t)||!Bce(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function umt({onAddSection:e}){const{t}=It(),s=[{type:"hero",label:t("sections.hero.label","Hero"),icon:Tb,description:t("sections.hero.desc","Full-width hero banner")},{type:"features",label:t("sections.features.label","Features"),icon:Jo,description:t("sections.features.desc","Feature grid")},{type:"products",label:t("sections.products.label","Products"),icon:Or,description:t("sections.products.desc","Product showcase")},{type:"categories-hierarchy",label:t("sections.categoriesHierarchy.label","Categories Hierarchy"),icon:aK,description:t("sections.categoriesHierarchy.desc","Categories with subcategories and products")},{type:"testimonials",label:t("sections.testimonials.label","Testimonials"),icon:Jo,description:t("sections.testimonials.desc","Customer reviews")},{type:"pricing",label:t("sections.pricing.label","Pricing"),icon:Xr,description:t("sections.pricing.desc","Pricing tables")},{type:"team",label:t("sections.team.label","Team"),icon:Nx,description:t("sections.team.desc","Team members")},{type:"stats",label:t("sections.stats.label","Statistics"),icon:Jo,description:t("sections.stats.desc","Number counters")},{type:"faq",label:t("sections.faq.label","FAQ"),icon:Nx,description:t("sections.faq.desc","Questions & answers")},{type:"newsletter",label:t("sections.newsletter.label","Newsletter"),icon:Nx,description:t("sections.newsletter.desc","Email subscription")},{type:"video",label:t("sections.video.label","Video"),icon:Mi,description:t("sections.video.desc","Embedded video")},{type:"countdown",label:t("sections.countdown.label","Countdown"),icon:Nx,description:t("sections.countdown.desc","Timer countdown")},{type:"brands",label:t("sections.brands.label","Brands"),icon:nP,description:t("sections.brands.desc","Partner logos")},{type:"contact",label:t("sections.contact.label","Contact"),icon:Fi,description:t("sections.contact.desc","Contact form")},{type:"slider",label:t("sections.slider.label","Image Slider"),icon:nP,description:t("sections.slider.desc","Animated image carousel")},{type:"content-slider",label:t("sections.contentSlider.label","Content Slider"),icon:Qfe,description:t("sections.contentSlider.desc","Infinite scrolling content")},{type:"payments",label:t("sections.payments.label","Payment Methods"),icon:Xr,description:t("sections.payments.desc","Display accepted payment methods")},{type:"cta",label:t("sections.cta.label","Call to Action"),icon:Fi,description:t("sections.cta.desc","CTA banner")},{type:"text",label:t("sections.text.label","Text Block"),icon:Nx,description:t("sections.text.desc","Rich text content")},{type:"image",label:t("sections.image.label","Image"),icon:Mi,description:t("sections.image.desc","Image block")},{type:"gallery",label:t("sections.gallery.label","Gallery"),icon:nP,description:t("sections.gallery.desc","Image gallery")},{type:"merchant-dashboard",label:t("sections.merchantDashboard.label","Merchant Dashboard"),icon:Ua,description:t("sections.merchantDashboard.desc","Live merchant dashboard with real data")},{type:"product-list",label:t("sections.productList.label","Product List"),icon:Or,description:t("sections.productList.desc","Product list with search and table view")},{type:"store-page",label:t("sections.storePage.label","Store Page"),icon:Tb,description:t("sections.storePage.desc","Store with shopping cart and brand cards")},{type:"support-tickets",label:t("sections.supportTickets.label","Support Tickets"),icon:Cn,description:t("sections.supportTickets.desc","Support tickets management page")},{type:"favorites-page",label:t("sections.favoritesPage.label","Favorites Page"),icon:kn,description:t("sections.favoritesPage.desc","Favorite cards with shopping cart")},{type:"balance-operations",label:t("sections.balanceOperations.label","Balance Operations"),icon:Na,description:t("sections.balanceOperations.desc","Wallet recharge operations list")},{type:"employees-page",label:t("sections.employeesPage.label","Employees Page"),icon:wr,description:t("sections.employeesPage.desc","Employee management page")},{type:"charge-wallet",label:t("sections.chargeWallet.label","Charge Wallet"),icon:Xr,description:t("sections.chargeWallet.desc","Wallet recharge form")},{type:"reports-page",label:t("sections.reportsPage.label","Reports Page"),icon:Ua,description:t("sections.reportsPage.desc","Product and order reports")},{type:"profile-page",label:t("sections.profilePage.label","Profile Page"),icon:ao,description:t("sections.profilePage.desc","Merchant profile page")},{type:"bank-accounts",label:t("sections.bankAccounts.label","Bank Accounts"),icon:Uo,description:t("sections.bankAccounts.desc","Customer bank accounts management")}];return r.jsx("div",{className:"p-4 space-y-2",children:s.map(({type:a,label:n,icon:i,description:o})=>r.jsx(V,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",onClick:()=>e(a),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(i,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:n}),r.jsx("div",{className:"text-xs text-gray-500",children:o})]})]})},a))})}function hmt({section:e,isSelected:t,isPreview:s,onSelect:a,onDelete:n,onDuplicate:i,onToggleTheme:o}){const{attributes:l,listeners:c,setNodeRef:d,transform:u,transition:h,isDragging:m}=imt({id:e.id}),p={transform:th.Transform.toString(u),transition:h,opacity:m?.5:1};return s?r.jsx("div",{ref:d,style:p,children:r.jsx(Kw,{section:e,onToggleTheme:o})}):r.jsxs("div",{ref:d,style:p,className:`relative group ${t?"ring-2 ring-blue-500":""}`,onClick:a,children:[r.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[r.jsx(V,{size:"sm",variant:"secondary",className:"cursor-grab active:cursor-grabbing",...l,...c,children:r.jsx($fe,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"secondary",onClick:g=>{g.stopPropagation(),i()},title:"Duplicate",children:r.jsx(sc,{className:"w-4 h-4"})}),r.jsx(V,{size:"sm",variant:"destructive",onClick:g=>{g.stopPropagation(),n()},children:r.jsx(Sr,{className:"w-4 h-4"})})]}),r.jsx(Kw,{section:e,onToggleTheme:o})]})}function IW(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function mmt(e){if(Array.isArray(e))return e}function fmt(e,t,s){return(t=wmt(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function pmt(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function xmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function MW(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?RW(Object(s),!0).forEach(function(a){fmt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RW(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gmt(e,t){if(e==null)return{};var s,a,n=vmt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vmt(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ymt(e,t){return mmt(e)||pmt(e,t)||jmt(e,t)||xmt()}function bmt(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wmt(e){var t=bmt(e,"string");return typeof t=="symbol"?t:t+""}function jmt(e,t){if(e){if(typeof e=="string")return IW(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?IW(e,t):void 0}}function Nmt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function FW(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function LW(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?FW(Object(s),!0).forEach(function(a){Nmt(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FW(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Smt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(a){return t.reduceRight(function(n,i){return i(n)},a)}}function Sy(e){return function t(){for(var s=this,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.length>=e.length?e.apply(this,n):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(s,[].concat(n,l))}}}function Vk(e){return{}.toString.call(e).includes("Object")}function kmt(e){return!Object.keys(e).length}function Xw(e){return typeof e=="function"}function Cmt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Amt(e,t){return Vk(t)||xm("changeType"),Object.keys(t).some(function(s){return!Cmt(e,s)})&&xm("changeField"),t}function Emt(e){Xw(e)||xm("selectorType")}function Pmt(e){Xw(e)||Vk(e)||xm("handlerType"),Vk(e)&&Object.values(e).some(function(t){return!Xw(t)})&&xm("handlersType")}function Tmt(e){e||xm("initialIsRequired"),Vk(e)||xm("initialType"),kmt(e)&&xm("initialContent")}function _mt(e,t){throw new Error(e[t]||e.default)}var Dmt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},xm=Sy(_mt)(Dmt),EN={changes:Amt,selector:Emt,handler:Pmt,initial:Tmt};function Omt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};EN.initial(e),EN.handler(t);var s={current:e},a=Sy(Mmt)(s,t),n=Sy(Rmt)(s),i=Sy(EN.changes)(e),o=Sy(Imt)(s);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return EN.selector(d),d(s.current)}function c(d){Smt(a,n,i,o)(d)}return[l,c]}function Imt(e,t){return Xw(t)?t(e.current):t}function Rmt(e,t){return e.current=LW(LW({},e.current),t),t}function Mmt(e,t,s){return Xw(t)?t(e.current):Object.keys(s).forEach(function(a){var n;return(n=t[a])===null||n===void 0?void 0:n.call(t,e.current[a])}),s}var Fmt={create:Omt},Lmt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function $mt(e){return function t(){for(var s=this,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.length>=e.length?e.apply(this,n):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(s,[].concat(n,l))}}}function Bmt(e){return{}.toString.call(e).includes("Object")}function Umt(e){return e||$W("configIsRequired"),Bmt(e)||$W("configType"),e.urls?(Vmt(),{paths:{vs:e.urls.monacoBase}}):e}function Vmt(){console.warn(Uce.deprecation)}function zmt(e,t){throw new Error(e[t]||e.default)}var Uce={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},$W=$mt(zmt)(Uce),Wmt={config:Umt},Hmt=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return function(n){return s.reduceRight(function(i,o){return o(i)},n)}};function Vce(e,t){return Object.keys(t).forEach(function(s){t[s]instanceof Object&&e[s]&&Object.assign(t[s],Vce(e[s],t[s]))}),MW(MW({},e),t)}var qmt={type:"cancelation",msg:"operation is manually canceled"};function Y4(e){var t=!1,s=new Promise(function(a,n){e.then(function(i){return t?n(qmt):a(i)}),e.catch(n)});return s.cancel=function(){return t=!0},s}var Gmt=["monaco"],Kmt=Fmt.create({config:Lmt,isInitialized:!1,resolve:null,reject:null,monaco:null}),zce=ymt(Kmt,2),e1=zce[0],wE=zce[1];function Ymt(e){var t=Wmt.config(e),s=t.monaco,a=gmt(t,Gmt);wE(function(n){return{config:Vce(n.config,a),monaco:s}})}function Xmt(){var e=e1(function(t){var s=t.monaco,a=t.isInitialized,n=t.resolve;return{monaco:s,isInitialized:a,resolve:n}});if(!e.isInitialized){if(wE({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Y4(X4);if(window.monaco&&window.monaco.editor)return Wce(window.monaco),e.resolve(window.monaco),Y4(X4);Hmt(Qmt,Zmt)(eft)}return Y4(X4)}function Qmt(e){return document.body.appendChild(e)}function Jmt(e){var t=document.createElement("script");return e&&(t.src=e),t}function Zmt(e){var t=e1(function(a){var n=a.config,i=a.reject;return{config:n,reject:i}}),s=Jmt("".concat(t.config.paths.vs,"/loader.js"));return s.onload=function(){return e()},s.onerror=t.reject,s}function eft(){var e=e1(function(s){var a=s.config,n=s.resolve,i=s.reject;return{config:a,resolve:n,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(s){var a=s.m||s;Wce(a),e.resolve(a)},function(s){e.reject(s)})}function Wce(e){e1().monaco||wE({monaco:e})}function tft(){return e1(function(e){var t=e.monaco;return t})}var X4=new Promise(function(e,t){return wE({resolve:e,reject:t})}),Hce={config:Ymt,init:Xmt,__getMonacoInstance:tft},rft={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Q4=rft,sft={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},aft=sft;function nft({children:e}){return ae.createElement("div",{style:aft.container},e)}var ift=nft,oft=ift;function lft({width:e,height:t,isEditorReady:s,loading:a,_ref:n,className:i,wrapperProps:o}){return ae.createElement("section",{style:{...Q4.wrapper,width:e,height:t},...o},!s&&ae.createElement(oft,null,a),ae.createElement("div",{ref:n,style:{...Q4.fullWidth,...!s&&Q4.hide},className:i}))}var cft=lft,qce=f.memo(cft);function dft(e){f.useEffect(e,[])}var Gce=dft;function uft(e,t,s=!0){let a=f.useRef(!0);f.useEffect(a.current||!s?()=>{a.current=!1}:e,t)}var ml=uft;function ub(){}function tg(e,t,s,a){return hft(e,a)||mft(e,t,s,a)}function hft(e,t){return e.editor.getModel(Kce(e,t))}function mft(e,t,s,a){return e.editor.createModel(t,s,a?Kce(e,a):void 0)}function Kce(e,t){return e.Uri.parse(t)}function fft({original:e,modified:t,language:s,originalLanguage:a,modifiedLanguage:n,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:h={},height:m="100%",width:p="100%",className:g,wrapperProps:x={},beforeMount:y=ub,onMount:b=ub}){let[w,v]=f.useState(!1),[S,j]=f.useState(!0),k=f.useRef(null),N=f.useRef(null),C=f.useRef(null),A=f.useRef(b),E=f.useRef(y),D=f.useRef(!1);Gce(()=>{let O=Hce.init();return O.then(M=>(N.current=M)&&j(!1)).catch(M=>(M==null?void 0:M.type)!=="cancelation"&&console.error("Monaco initialization: error:",M)),()=>k.current?_():O.cancel()}),ml(()=>{if(k.current&&N.current){let O=k.current.getOriginalEditor(),M=tg(N.current,e||"",a||s||"text",i||"");M!==O.getModel()&&O.setModel(M)}},[i],w),ml(()=>{if(k.current&&N.current){let O=k.current.getModifiedEditor(),M=tg(N.current,t||"",n||s||"text",o||"");M!==O.getModel()&&O.setModel(M)}},[o],w),ml(()=>{let O=k.current.getModifiedEditor();O.getOption(N.current.editor.EditorOption.readOnly)?O.setValue(t||""):t!==O.getValue()&&(O.executeEdits("",[{range:O.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),O.pushUndoStop())},[t],w),ml(()=>{var O,M;(M=(O=k.current)==null?void 0:O.getModel())==null||M.original.setValue(e||"")},[e],w),ml(()=>{let{original:O,modified:M}=k.current.getModel();N.current.editor.setModelLanguage(O,a||s||"text"),N.current.editor.setModelLanguage(M,n||s||"text")},[s,a,n],w),ml(()=>{var O;(O=N.current)==null||O.editor.setTheme(d)},[d],w),ml(()=>{var O;(O=k.current)==null||O.updateOptions(h)},[h],w);let T=f.useCallback(()=>{var I;if(!N.current)return;E.current(N.current);let O=tg(N.current,e||"",a||s||"text",i||""),M=tg(N.current,t||"",n||s||"text",o||"");(I=k.current)==null||I.setModel({original:O,modified:M})},[s,t,n,e,a,i,o]),P=f.useCallback(()=>{var O;!D.current&&C.current&&(k.current=N.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...h}),T(),(O=N.current)==null||O.editor.setTheme(d),v(!0),D.current=!0)},[h,d,T]);f.useEffect(()=>{w&&A.current(k.current,N.current)},[w]),f.useEffect(()=>{!S&&!w&&P()},[S,w,P]);function _(){var M,I,R,L;let O=(M=k.current)==null?void 0:M.getModel();l||((I=O==null?void 0:O.original)==null||I.dispose()),c||((R=O==null?void 0:O.modified)==null||R.dispose()),(L=k.current)==null||L.dispose()}return ae.createElement(qce,{width:p,height:m,isEditorReady:w,loading:u,_ref:C,className:g,wrapperProps:x})}var pft=fft;f.memo(pft);function xft(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var gft=xft,PN=new Map;function vft({defaultValue:e,defaultLanguage:t,defaultPath:s,value:a,language:n,path:i,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:h=!0,keepCurrentModel:m=!1,width:p="100%",height:g="100%",className:x,wrapperProps:y={},beforeMount:b=ub,onMount:w=ub,onChange:v,onValidate:S=ub}){let[j,k]=f.useState(!1),[N,C]=f.useState(!0),A=f.useRef(null),E=f.useRef(null),D=f.useRef(null),T=f.useRef(w),P=f.useRef(b),_=f.useRef(),O=f.useRef(a),M=gft(i),I=f.useRef(!1),R=f.useRef(!1);Gce(()=>{let H=Hce.init();return H.then(F=>(A.current=F)&&C(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>E.current?K():H.cancel()}),ml(()=>{var F,G,U,W;let H=tg(A.current,e||a||"",t||n||"",i||s||"");H!==((F=E.current)==null?void 0:F.getModel())&&(h&&PN.set(M,(G=E.current)==null?void 0:G.saveViewState()),(U=E.current)==null||U.setModel(H),h&&((W=E.current)==null||W.restoreViewState(PN.get(i))))},[i],j),ml(()=>{var H;(H=E.current)==null||H.updateOptions(d)},[d],j),ml(()=>{!E.current||a===void 0||(E.current.getOption(A.current.editor.EditorOption.readOnly)?E.current.setValue(a):a!==E.current.getValue()&&(R.current=!0,E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),E.current.pushUndoStop(),R.current=!1))},[a],j),ml(()=>{var F,G;let H=(F=E.current)==null?void 0:F.getModel();H&&n&&((G=A.current)==null||G.editor.setModelLanguage(H,n))},[n],j),ml(()=>{var H;l!==void 0&&((H=E.current)==null||H.revealLine(l))},[l],j),ml(()=>{var H;(H=A.current)==null||H.editor.setTheme(o)},[o],j);let L=f.useCallback(()=>{var H;if(!(!D.current||!A.current)&&!I.current){P.current(A.current);let F=i||s,G=tg(A.current,a||e||"",t||n||"",F||"");E.current=(H=A.current)==null?void 0:H.editor.create(D.current,{model:G,automaticLayout:!0,...d},u),h&&E.current.restoreViewState(PN.get(F)),A.current.editor.setTheme(o),l!==void 0&&E.current.revealLine(l),k(!0),I.current=!0}},[e,t,s,a,n,i,d,u,h,o,l]);f.useEffect(()=>{j&&T.current(E.current,A.current)},[j]),f.useEffect(()=>{!N&&!j&&L()},[N,j,L]),O.current=a,f.useEffect(()=>{var H,F;j&&v&&((H=_.current)==null||H.dispose(),_.current=(F=E.current)==null?void 0:F.onDidChangeModelContent(G=>{R.current||v(E.current.getValue(),G)}))},[j,v]),f.useEffect(()=>{if(j){let H=A.current.editor.onDidChangeMarkers(F=>{var U;let G=(U=E.current.getModel())==null?void 0:U.uri;if(G&&F.find(W=>W.path===G.path)){let W=A.current.editor.getModelMarkers({resource:G});S==null||S(W)}});return()=>{H==null||H.dispose()}}return()=>{}},[j,S]);function K(){var H,F;(H=_.current)==null||H.dispose(),m?h&&PN.set(i,E.current.saveViewState()):(F=E.current.getModel())==null||F.dispose(),E.current.dispose()}return ae.createElement(qce,{width:p,height:g,isEditorReady:j,loading:c,_ref:D,className:x,wrapperProps:y})}var yft=vft,bft=f.memo(yft),Yce=bft;function BW({value:e=[],onChange:t,className:s,placeholder:a="Upload images"}){const[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=f.useRef(null),{toast:d}=Lt(),u=async y=>{const b=Array.from(y.target.files||[]);b.length>0&&await g(b)},h=y=>{y.preventDefault(),l(!0)},m=y=>{y.preventDefault(),l(!1)},p=async y=>{y.preventDefault(),l(!1);const b=Array.from(y.dataTransfer.files);b.length>0&&await g(b)},g=async y=>{const b=[];for(const w of y){if(!w.type.startsWith("image/")){d({title:"   ",description:` ${w.name}  `,variant:"destructive"});continue}if(w.size>5*1024*1024){d({title:"   ",description:` ${w.name}   5 `,variant:"destructive"});continue}const{isValid:v,reason:S}=await cj(w);if(!v){d({title:"  ",description:`   ${w.name}: ${S||" "}`,variant:"destructive"});continue}b.push(w)}if(b.length!==0){i(!0);try{const v=(await uF.uploadImages(b)).map(S=>S.secureUrl||S.url);t([...e,...v]),d({title:" ",description:`  ${v.length}  `})}catch(w){console.error("Upload failed:",w),d({title:" ",description:"   .    .",variant:"destructive"})}finally{i(!1),c.current&&(c.current.value="")}}},x=y=>{const b=[...e];b.splice(y,1),t(b)};return r.jsxs("div",{className:xe("w-full space-y-4",s),children:[r.jsx("div",{className:xe("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer transition-colors min-h-[150px]",o?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 bg-gray-50 dark:bg-gray-900"),onDragOver:h,onDragLeave:m,onDrop:p,onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},children:n?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Je,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:r.jsx(An,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),r.jsx("p",{className:"font-medium text-sm mb-1",children:a}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag & drop or click to upload multiple images"})]})}),r.jsx("input",{type:"file",ref:c,onChange:u,accept:"image/*",multiple:!0,className:"hidden"}),e.length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.map((y,b)=>r.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 aspect-square",children:[r.jsx("img",{src:y,alt:`Uploaded ${b+1}`,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx(V,{variant:"destructive",size:"sm",onClick:()=>x(b),className:"h-8 w-8 p-0",children:r.jsx(jr,{className:"w-4 h-4"})})})]},b))})]})}const wft=({section:e,onUpdate:t,onClose:s})=>{const{type:a,props:n}=e,{t:i}=It(),[o,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,p]=f.useState(!1),[g,x]=f.useState(null),y=async(D,T,P)=>{x(D);try{const _=P||`Write a ${T} for my website`,O=await vj.generateText(_,T);O.text&&S(D,O.text)}catch(_){console.error("Failed to generate AI text:",_)}finally{x(null)}},b=({fieldKey:D,fieldType:T,currentVal:P})=>r.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-600 hover:text-purple-700 hover:bg-purple-50 shrink-0",onClick:()=>y(D,T,P),disabled:g===D,title:i("properties.generateAI","Generate with AI"),children:g===D?r.jsx(Je,{className:"w-3 h-3 animate-spin"}):r.jsx(Sparkles,{className:"w-3 h-3"})}),w=()=>{l(JSON.stringify(n,null,2)),d(!0),p(!1)},v=()=>{try{const D=JSON.parse(o);t(D),d(!1)}catch(D){console.error("Invalid JSON:",D)}};f.useEffect(()=>{a==="products"&&(async()=>{try{const T=await fe.getCategories();if(T&&typeof T=="object")if(Array.isArray(T)){const P=T.filter(_=>_&&typeof _=="object"&&"id"in _&&!("error"in _)&&!("statusCode"in _));h(P)}else if(T.categories&&Array.isArray(T.categories)){const P=T.categories.filter(_=>_&&typeof _=="object"&&"id"in _&&!("error"in _)&&!("statusCode"in _));h(P)}else h([]);else h([])}catch(T){console.error("Failed to fetch categories:",T),h([])}})()},[a]);const S=(D,T)=>{t({...n,[D]:T})},j=(D,T,P,_)=>{const O=[...n[D]];O[T]={...O[T],[P]:_},S(D,O)},k=(D,T)=>{const P=[...n[D]||[]];P.push(T),S(D,P)},N=(D,T)=>{const P=[...n[D]];P.splice(T,1),S(D,P)},C=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[r.jsx(lp,{className:"w-4 h-4"}),i("properties.colors","Colors")]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.background","Background")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:r.jsx("input",{type:"color",value:n.backgroundColor||"#ffffff",onChange:D=>S("backgroundColor",D.target.value),className:"w-[150%] h-[150%] -m-[25%] cursor-pointer"})}),r.jsx(pe,{value:n.backgroundColor||"#ffffff",onChange:D=>S("backgroundColor",D.target.value),className:"flex-1 h-8 text-xs"})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.text","Text")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:r.jsx("input",{type:"color",value:n.textColor||"#000000",onChange:D=>S("textColor",D.target.value),className:"w-[150%] h-[150%] -m-[25%] cursor-pointer"})}),r.jsx(pe,{value:n.textColor||"#000000",onChange:D=>S("textColor",D.target.value),className:"flex-1 h-8 text-xs"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[r.jsx(Tb,{className:"w-4 h-4"}),i("properties.spacing","Spacing")]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.paddingTopBottom","Vertical Padding")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.paddingY||4,"rem"]})]}),r.jsx(kd,{value:[n.paddingY||4],min:0,max:10,step:.5,onValueChange:([D])=>S("paddingY",D)})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[r.jsx(Nx,{className:"w-4 h-4"}),i("properties.typography","Typography")]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.textAlignment","Text Alignment")}),r.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-md p-1 w-fit",children:[r.jsx(V,{variant:n.textAlign==="left"?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>S("textAlign","left"),children:r.jsx(eK,{className:"w-4 h-4"})}),r.jsx(V,{variant:n.textAlign==="center"||!n.textAlign?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>S("textAlign","center"),children:r.jsx(ZG,{className:"w-4 h-4"})}),r.jsx(V,{variant:n.textAlign==="right"?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>S("textAlign","right"),children:r.jsx(tK,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.contentPosition","Content Position")}),r.jsxs(mr,{value:n.contentPosition||"center",onValueChange:D=>S("contentPosition",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"top",children:i("properties.position.top","Top")}),r.jsx(_e,{value:"center",children:i("properties.position.center","Center")}),r.jsx(_e,{value:"bottom",children:i("properties.position.bottom","Bottom")})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.fontSize","Font Size")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.fontSize||16,"px"]})]}),r.jsx(kd,{value:[n.fontSize||16],min:12,max:72,step:1,onValueChange:([D])=>S("fontSize",D)})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.fontWeight","Font Weight")}),r.jsxs(mr,{value:n.fontWeight||"normal",onValueChange:D=>S("fontWeight",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"light",children:i("properties.weight.light","Light")}),r.jsx(_e,{value:"normal",children:i("properties.weight.normal","Normal")}),r.jsx(_e,{value:"medium",children:i("properties.weight.medium","Medium")}),r.jsx(_e,{value:"semibold",children:i("properties.weight.semibold","Semi Bold")}),r.jsx(_e,{value:"bold",children:i("properties.weight.bold","Bold")})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.lineHeight","Line Height")}),r.jsx("span",{className:"text-xs text-gray-500",children:n.lineHeight||1.5})]}),r.jsx(kd,{value:[n.lineHeight||1.5],min:1,max:3,step:.1,onValueChange:([D])=>S("lineHeight",D)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{className:"text-xs",children:i("properties.backgroundImage","Background Image")}),r.jsx(u2,{value:n.backgroundImage,onChange:D=>S("backgroundImage",D),placeholder:i("properties.uploadBackground","Upload background")})]})]}),A=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[r.jsx(Es,{className:"w-4 h-4"}),i("properties.animation","Animation")]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.animationType","Type")}),r.jsxs(mr,{value:n.animationType||"none",onValueChange:D=>S("animationType",D),children:[r.jsx(dr,{children:r.jsx(xr,{placeholder:i("common.none","None")})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:i("common.none","None")}),r.jsx(_e,{value:"fade",children:i("properties.animations.fade","Fade In")}),r.jsx(_e,{value:"slide-up",children:i("properties.animations.slideUp","Slide Up")}),r.jsx(_e,{value:"slide-down",children:i("properties.animations.slideDown","Slide Down")}),r.jsx(_e,{value:"slide-left",children:i("properties.animations.slideLeft","Slide Left")}),r.jsx(_e,{value:"slide-right",children:i("properties.animations.slideRight","Slide Right")}),r.jsx(_e,{value:"zoom",children:i("properties.animations.zoom","Zoom In")}),r.jsx(_e,{value:"bounce",children:i("properties.animations.bounce","Bounce")})]})]})]}),n.animationType&&n.animationType!=="none"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.duration","Duration")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.animationDuration||1,"s"]})]}),r.jsx(kd,{value:[n.animationDuration||1],min:.1,max:3,step:.1,onValueChange:([D])=>S("animationDuration",D)})]})]})]})}),E=()=>{var D,T,P;switch(a){case"header":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.companyName","Company Name")}),r.jsx(b,{fieldKey:"companyName",fieldType:"company name",currentVal:n.companyName})]}),r.jsx(pe,{value:n.companyName||"",onChange:_=>S("companyName",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.logoUrl","Logo URL")}),r.jsx("div",{className:"mt-1.5",children:r.jsx(u2,{value:n.logoUrl,onChange:_=>S("logoUrl",_)})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{children:i("properties.links","Navigation Links")}),(D=n.links)==null?void 0:D.map((_,O)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(pe,{value:_.label,onChange:M=>j("links",O,"label",M.target.value),placeholder:i("properties.label","Label"),className:"flex-1"}),r.jsx(pe,{value:_.url,onChange:M=>j("links",O,"url",M.target.value),placeholder:i("properties.url","URL"),className:"flex-1"}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-500 hover:text-red-600",onClick:()=>N("links",O),children:r.jsx(Sr,{className:"w-4 h-4"})})]},O)),r.jsxs(V,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("links",{label:i("properties.newLink","New Link"),url:"#"}),children:[r.jsx(rr,{className:"w-4 h-4 mr-2"}),i("properties.addLink","Add Link")]})]}),r.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showThemeToggle","Show Theme Toggle")}),r.jsx(gr,{checked:n.showThemeToggle!==!1,onCheckedChange:_=>S("showThemeToggle",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showLanguageToggle","Show Language Toggle")}),r.jsx(gr,{checked:n.showLanguageToggle!==!1,onCheckedChange:_=>S("showLanguageToggle",_)})]})]})]});case"hero":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(b,{fieldKey:"title",fieldType:"hero title",currentVal:n.title})]}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.titleSize","Title Size")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.titleSize||48,"px"]})]}),r.jsx(kd,{value:[n.titleSize||48],min:24,max:96,step:2,onValueChange:([_])=>S("titleSize",_)})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.subtitle","Subtitle")}),r.jsx(b,{fieldKey:"subtitle",fieldType:"hero subtitle",currentVal:n.subtitle})]}),r.jsx(Ys,{value:n.subtitle||"",onChange:_=>S("subtitle",_.target.value),className:"mt-1.5",rows:3})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.subtitleSize","Subtitle Size")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.subtitleSize||20,"px"]})]}),r.jsx(kd,{value:[n.subtitleSize||20],min:14,max:48,step:1,onValueChange:([_])=>S("subtitleSize",_)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.buttonText","Button Text")}),r.jsx(pe,{value:n.buttonText||"",onChange:_=>S("buttonText",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.buttonLink","Button Link")}),r.jsx(pe,{value:n.buttonLink||"",onChange:_=>S("buttonLink",_.target.value),className:"mt-1.5"})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.buttonStyle","Button Style")}),r.jsxs(mr,{value:n.buttonStyle||"primary",onValueChange:_=>S("buttonStyle",_),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"primary",children:i("properties.styles.primary","Primary")}),r.jsx(_e,{value:"secondary",children:i("properties.styles.secondary","Secondary")}),r.jsx(_e,{value:"outline",children:i("properties.styles.outline","Outline")}),r.jsx(_e,{value:"ghost",children:i("properties.styles.ghost","Ghost")})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.overlayOpacity","Overlay Opacity")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(n.overlayOpacity||.3)*100,"%"]})]}),r.jsx(kd,{value:[n.overlayOpacity||.3],min:0,max:1,step:.1,onValueChange:([_])=>S("overlayOpacity",_)})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.minHeight","Minimum Height")}),r.jsxs(mr,{value:n.minHeight||"400px",onValueChange:_=>S("minHeight",_),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"300px",children:"300px"}),r.jsx(_e,{value:"400px",children:"400px"}),r.jsx(_e,{value:"500px",children:"500px"}),r.jsx(_e,{value:"600px",children:"600px"}),r.jsx(_e,{value:"100vh",children:i("properties.fullScreen","Full Screen")})]})]})]})]});case"features":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.sectionTitle","Section Title")}),r.jsx(b,{fieldKey:"title",fieldType:"section title",currentVal:n.title})]}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{children:i("properties.features","Features")}),(T=n.items)==null?void 0:T.map((_,O)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50 dark:bg-gray-900/50 space-y-3 relative group",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>N("items",O),children:r.jsx(Sr,{className:"w-3 h-3"})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"w-12",children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.icon","Icon")}),r.jsx(pe,{value:_.icon||"",onChange:M=>j("items",O,"icon",M.target.value),className:"text-center"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.title","Title")}),r.jsx(pe,{value:_.title||"",onChange:M=>j("items",O,"title",M.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.description","Description")}),r.jsx(Ys,{value:_.description||"",onChange:M=>j("items",O,"description",M.target.value),className:"h-16 text-xs"})]})]},O)),r.jsxs(V,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("items",{icon:"",title:i("properties.newFeature","New Feature"),description:i("properties.featureDesc","Feature description")}),children:[r.jsx(rr,{className:"w-4 h-4 mr-2"}),i("properties.addFeature","Add Feature")]})]})]});case"text":return r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.content","Content")}),r.jsx(b,{fieldKey:"content",fieldType:"long text content",currentVal:n.content})]}),r.jsx(Ys,{rows:12,value:n.content||"",onChange:_=>S("content",_.target.value),className:"mt-1.5 font-mono text-sm",placeholder:"Enter your text content here..."})]})});case"image":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.image","Image")}),r.jsx("div",{className:"mt-1.5",children:r.jsx(u2,{value:n.imageUrl,onChange:_=>S("imageUrl",_)})})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.altText","Alt Text")}),r.jsx(pe,{value:n.altText||"",onChange:_=>S("altText",_.target.value),className:"mt-1.5"})]})]});case"products":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.category","Category")}),r.jsxs(mr,{value:n.categoryId||"all",onValueChange:_=>S("categoryId",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{placeholder:i("properties.allCategories","All Categories")})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:i("properties.allCategories","All Categories")}),u.map(_=>r.jsx(_e,{value:_.id,children:_.nameAr||_.name},_.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.numberOfProducts","Limit")}),r.jsx(pe,{type:"number",value:n.limit||8,onChange:_=>S("limit",parseInt(_.target.value)),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.layout","Layout")}),r.jsxs(mr,{value:n.layout||"grid",onValueChange:_=>S("layout",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"grid",children:i("properties.layouts.grid","Grid")}),r.jsx(_e,{value:"carousel",children:i("properties.layouts.carousel","Carousel")}),r.jsx(_e,{value:"list",children:i("properties.layouts.list","List")})]})]})]})]}),n.layout==="grid"&&r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.columns","Columns")}),r.jsxs(mr,{value:n.columns||"4",onValueChange:_=>S("columns",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"2",children:"2"}),r.jsx(_e,{value:"3",children:"3"}),r.jsx(_e,{value:"4",children:"4"}),r.jsx(_e,{value:"5",children:"5"})]})]})]}),r.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[r.jsx("h4",{className:"font-medium text-sm",children:i("properties.displayOptions","Display Options")}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showPrice","Show Price")}),r.jsx(gr,{checked:n.showPrice!==!1,onCheckedChange:_=>S("showPrice",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showAddToCart","Show Add to Cart")}),r.jsx(gr,{checked:n.showAddToCart!==!1,onCheckedChange:_=>S("showAddToCart",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showName","Show Name")}),r.jsx(gr,{checked:n.showName!==!1,onCheckedChange:_=>S("showName",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showDescription","Show Description")}),r.jsx(gr,{checked:n.showDescription||!1,onCheckedChange:_=>S("showDescription",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showImage","Show Image")}),r.jsx(gr,{checked:n.showImage!==!1,onCheckedChange:_=>S("showImage",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showRating","Show Rating")}),r.jsx(gr,{checked:n.showRating||!1,onCheckedChange:_=>S("showRating",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showStock","Show Stock Status")}),r.jsx(gr,{checked:n.showStock||!1,onCheckedChange:_=>S("showStock",_)})]})]}),r.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[r.jsx("h4",{className:"font-medium text-sm",children:i("properties.sortingOptions","Sorting & Filtering")}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.sortBy","Sort By")}),r.jsxs(mr,{value:n.sortBy||"default",onValueChange:_=>S("sortBy",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"default",children:i("properties.sort.default","Default")}),r.jsx(_e,{value:"price-asc",children:i("properties.sort.priceAsc","Price: Low to High")}),r.jsx(_e,{value:"price-desc",children:i("properties.sort.priceDesc","Price: High to Low")}),r.jsx(_e,{value:"name-asc",children:i("properties.sort.nameAsc","Name: A-Z")}),r.jsx(_e,{value:"name-desc",children:i("properties.sort.nameDesc","Name: Z-A")}),r.jsx(_e,{value:"newest",children:i("properties.sort.newest","Newest First")}),r.jsx(_e,{value:"oldest",children:i("properties.sort.oldest","Oldest First")})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showOnlyAvailable","Show Only Available")}),r.jsx(gr,{checked:n.showOnlyAvailable||!1,onCheckedChange:_=>S("showOnlyAvailable",_)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{children:i("properties.showOnlyFeatured","Show Only Featured")}),r.jsx(gr,{checked:n.showOnlyFeatured||!1,onCheckedChange:_=>S("showOnlyFeatured",_)})]})]})]});case"gallery":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.images","Images")}),r.jsx("div",{className:"mt-1.5",children:r.jsx(BW,{value:n.images||[],onChange:_=>S("images",_)})})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.columns","Columns")}),r.jsxs(mr,{value:n.columns||"3",onValueChange:_=>S("columns",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"2",children:i("properties.columnOptions.2","2 Columns")}),r.jsx(_e,{value:"3",children:i("properties.columnOptions.3","3 Columns")}),r.jsx(_e,{value:"4",children:i("properties.columnOptions.4","4 Columns")})]})]})]})]});case"slider":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.description","Description")}),r.jsx(Ys,{value:n.description||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.images","Images")}),r.jsx("div",{className:"mt-1.5",children:r.jsx(BW,{value:n.images||[],onChange:_=>S("images",_)})})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.height","Height")}),r.jsx(pe,{value:n.height||"500px",onChange:_=>S("height",_.target.value),className:"mt-1.5",placeholder:"500px"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.autoPlay!==!1,onChange:_=>S("autoPlay",_.target.checked),className:"rounded"}),i("properties.autoPlay","Auto Play")]})}),r.jsx("div",{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.showDots!==!1,onChange:_=>S("showDots",_.target.checked),className:"rounded"}),i("properties.showDots","Show Dots")]})}),r.jsx("div",{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.showArrows!==!1,onChange:_=>S("showArrows",_.target.checked),className:"rounded"}),i("properties.showArrows","Show Arrows")]})})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.interval","Interval (ms)")}),r.jsx(pe,{type:"number",value:n.interval||5e3,onChange:_=>S("interval",parseInt(_.target.value)),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.animationType","Animation Type")}),r.jsxs(mr,{value:n.animationType||"slide",onValueChange:_=>S("animationType",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"slide",children:i("properties.animations.slide","Slide")}),r.jsx(_e,{value:"fade",children:i("properties.animations.fade","Fade")})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{children:i("properties.items","Content Items")}),(n.items||[]).map((_,O)=>r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50 dark:bg-gray-900/50 space-y-3 relative group",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>N("items",O),children:r.jsx(Sr,{className:"w-3 h-3"})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"w-16",children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.icon","Icon")}),r.jsx(pe,{value:_.icon||"",onChange:M=>j("items",O,"icon",M.target.value),className:"text-center text-2xl",placeholder:""})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.title","Title")}),r.jsx(pe,{value:_.title||"",onChange:M=>j("items",O,"title",M.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1 block",children:i("properties.description","Description")}),r.jsx(Ys,{value:_.description||"",onChange:M=>j("items",O,"description",M.target.value),className:"h-16 text-xs"})]})]},O)),r.jsxs(V,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("items",{id:`item-${Date.now()}`,icon:"",title:i("properties.newItem","New Item"),description:i("properties.itemDesc","Item description")}),children:[r.jsx(rr,{className:"w-4 h-4 mr-2"}),i("properties.addItem","Add Item")]})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.direction","Direction")}),r.jsxs(mr,{value:n.direction||"horizontal",onValueChange:_=>S("direction",_),children:[r.jsx(dr,{className:"mt-1.5",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"horizontal",children:i("properties.horizontal","Horizontal")}),r.jsx(_e,{value:"vertical",children:i("properties.vertical","Vertical")})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.speed","Speed (seconds)")}),r.jsx(pe,{type:"number",value:n.speed||20,onChange:_=>S("speed",parseInt(_.target.value)),className:"mt-1.5",min:"5",max:"60"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.itemWidth","Item Width")}),r.jsx(pe,{value:n.itemWidth||"300px",onChange:_=>S("itemWidth",_.target.value),className:"mt-1.5",placeholder:"300px"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.gap","Gap")}),r.jsx(pe,{value:n.gap||"2rem",onChange:_=>S("gap",_.target.value),className:"mt-1.5",placeholder:"2rem"})]})]}),r.jsx("div",{children:r.jsxs(Y,{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.pauseOnHover!==!1,onChange:_=>S("pauseOnHover",_.target.checked),className:"rounded"}),i("properties.pauseOnHover","Pause on Hover")]})})]});case"cta":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.description","Description")}),r.jsx(Ys,{value:n.description||"",onChange:_=>S("description",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.buttonText","Button Text")}),r.jsx(pe,{value:n.buttonText||"",onChange:_=>S("buttonText",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.buttonLink","Button Link")}),r.jsx(pe,{value:n.buttonLink||"",onChange:_=>S("buttonLink",_.target.value),className:"mt-1.5"})]})]})]});case"footer":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.companyName","Company Name")}),r.jsx(pe,{value:n.companyName||"",onChange:_=>S("companyName",_.target.value),className:"mt-1.5"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Y,{children:i("properties.links","Links")}),(P=n.links)==null?void 0:P.map((_,O)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(pe,{value:_.label,onChange:M=>j("links",O,"label",M.target.value),placeholder:i("properties.label","Label"),className:"flex-1"}),r.jsx(pe,{value:_.url,onChange:M=>j("links",O,"url",M.target.value),placeholder:i("properties.url","URL"),className:"flex-1"}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-500 hover:text-red-600",onClick:()=>N("links",O),children:r.jsx(Sr,{className:"w-4 h-4"})})]},O)),r.jsxs(V,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("links",{label:i("properties.newLink","New Link"),url:"#"}),children:[r.jsx(rr,{className:"w-4 h-4 mr-2"}),i("properties.addLink","Add Link")]})]})]});case"merchant-dashboard":case"product-list":case"store-page":case"support-tickets":case"favorites-page":case"balance-operations":case"employees-page":case"charge-wallet":case"reports-page":case"profile-page":case"categories-hierarchy":case"testimonials":case"pricing":case"team":case"stats":case"faq":case"newsletter":case"video":case"countdown":case"brands":case"contact":case"payments":return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.title","Title")}),r.jsx(pe,{value:n.title||"",onChange:_=>S("title",_.target.value),className:"mt-1.5",placeholder:i("properties.titlePlaceholder","Enter section title")})]}),r.jsxs("div",{children:[r.jsx(Y,{children:i("properties.subtitle","Subtitle")}),r.jsx(pe,{value:n.subtitle||"",onChange:_=>S("subtitle",_.target.value),className:"mt-1.5",placeholder:i("properties.subtitlePlaceholder","Enter section subtitle")})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsx(Y,{children:i("properties.showTitle","Show Title")}),r.jsx(gr,{checked:n.showTitle!==!1,onCheckedChange:_=>S("showTitle",_)})]})]});default:return r.jsx("p",{className:"text-gray-500 text-sm",children:i("properties.noProperties","No properties available.")})}};return r.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[r.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wider text-gray-500 dark:text-gray-400",children:i("properties.editSection","Edit Section")}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:w,className:"h-8 w-8 p-0",title:i("properties.editCode","Edit Code"),children:r.jsx(om,{className:"w-4 h-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:r.jsx(jr,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsxs(Kn,{defaultValue:"content",className:"h-full flex flex-col",children:[r.jsx("div",{className:"px-4 pt-4",children:r.jsxs(_n,{className:"w-full grid grid-cols-3",children:[r.jsx(_r,{value:"content",children:i("properties.content","Content")}),r.jsx(_r,{value:"style",children:i("properties.style","Style")}),r.jsx(_r,{value:"settings",children:i("properties.settings","Settings")})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[r.jsx(Yr,{value:"content",className:"m-0 space-y-6",children:E()}),r.jsxs(Yr,{value:"style",className:"m-0",children:[C(),(a==="image"||a==="gallery"||a==="hero")&&r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[r.jsx(Tb,{className:"w-4 h-4"}),i("properties.imageEffects","Image Effects")]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.frameStyle","Frame Style")}),r.jsxs(mr,{value:n.frameStyle||"none",onValueChange:D=>S("frameStyle",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"None"}),r.jsx(_e,{value:"rounded",children:"Rounded Corners"}),r.jsx(_e,{value:"circle",children:"Circle"}),r.jsx(_e,{value:"polaroid",children:"Polaroid"}),r.jsx(_e,{value:"shadow",children:"Shadow Frame"}),r.jsx(_e,{value:"border",children:"Border Frame"}),r.jsx(_e,{value:"double",children:"Double Border"}),r.jsx(_e,{value:"vintage",children:"Vintage"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1.5",children:[r.jsx(Y,{className:"text-xs",children:i("properties.borderWidth","Border Width")}),r.jsxs("span",{className:"text-xs text-gray-500",children:[n.borderWidth||0,"px"]})]}),r.jsx(kd,{value:[n.borderWidth||0],min:0,max:20,step:1,onValueChange:([D])=>S("borderWidth",D)})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.borderColor","Border Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:r.jsx("input",{type:"color",value:n.borderColor||"#000000",onChange:D=>S("borderColor",D.target.value),className:"w-full h-full cursor-pointer"})}),r.jsx(pe,{value:n.borderColor||"#000000",onChange:D=>S("borderColor",D.target.value),className:"flex-1 h-8 text-xs",placeholder:"#000000"})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.imageShadow","Shadow")}),r.jsxs(mr,{value:n.imageShadow||"none",onValueChange:D=>S("imageShadow",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"None"}),r.jsx(_e,{value:"sm",children:"Small"}),r.jsx(_e,{value:"md",children:"Medium"}),r.jsx(_e,{value:"lg",children:"Large"}),r.jsx(_e,{value:"xl",children:"Extra Large"}),r.jsx(_e,{value:"2xl",children:"2X Large"}),r.jsx(_e,{value:"inner",children:"Inner Shadow"})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.imageFilter","Filter")}),r.jsxs(mr,{value:n.imageFilter||"none",onValueChange:D=>S("imageFilter",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"None"}),r.jsx(_e,{value:"grayscale",children:"Grayscale"}),r.jsx(_e,{value:"sepia",children:"Sepia"}),r.jsx(_e,{value:"blur",children:"Blur"}),r.jsx(_e,{value:"brightness",children:"Bright"}),r.jsx(_e,{value:"contrast",children:"High Contrast"}),r.jsx(_e,{value:"saturate",children:"Saturated"}),r.jsx(_e,{value:"hue",children:"Hue Rotate"}),r.jsx(_e,{value:"invert",children:"Invert"})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.imageAnimation","Display Animation")}),r.jsxs(mr,{value:n.imageAnimation||"none",onValueChange:D=>S("imageAnimation",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"None"}),r.jsx(_e,{value:"fade",children:"Fade In"}),r.jsx(_e,{value:"slide-up",children:"Slide Up"}),r.jsx(_e,{value:"slide-down",children:"Slide Down"}),r.jsx(_e,{value:"slide-left",children:"Slide Left"}),r.jsx(_e,{value:"slide-right",children:"Slide Right"}),r.jsx(_e,{value:"zoom",children:"Zoom In"}),r.jsx(_e,{value:"zoom-out",children:"Zoom Out"}),r.jsx(_e,{value:"rotate",children:"Rotate In"}),r.jsx(_e,{value:"flip",children:"Flip"}),r.jsx(_e,{value:"parallax",children:"Parallax Scroll"}),r.jsx(_e,{value:"ken-burns",children:"Ken Burns Effect"})]})]})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-xs mb-1.5 block",children:i("properties.hoverEffect","Hover Effect")}),r.jsxs(mr,{value:n.hoverEffect||"none",onValueChange:D=>S("hoverEffect",D),children:[r.jsx(dr,{className:"h-8 text-xs",children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"none",children:"None"}),r.jsx(_e,{value:"scale",children:"Scale Up"}),r.jsx(_e,{value:"scale-down",children:"Scale Down"}),r.jsx(_e,{value:"rotate",children:"Rotate"}),r.jsx(_e,{value:"brightness",children:"Brighten"}),r.jsx(_e,{value:"grayscale",children:"Remove Grayscale"}),r.jsx(_e,{value:"blur",children:"Remove Blur"}),r.jsx(_e,{value:"lift",children:"Lift (Shadow)"})]})]})]})]})]}),r.jsx(Yr,{value:"settings",className:"m-0",children:A()})]})]})}),r.jsx(ir,{open:c,onOpenChange:d,children:r.jsxs(ar,{className:"max-w-4xl h-[80vh] dark:bg-gray-900 dark:border-gray-700",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2 dark:text-gray-100",children:[r.jsx(om,{className:"w-5 h-5"}),i("properties.editSectionCode","Edit Section Code")]}),r.jsx(pr,{className:"dark:text-gray-400",children:i("properties.editCodeDesc","Edit the section properties directly in JSON format.")})]}),r.jsx("div",{className:"flex-1 border dark:border-gray-700 rounded-lg overflow-hidden mt-4 relative",style:{backgroundColor:"#1e1e1e",height:"calc(80vh - 250px)",minHeight:"400px"},children:r.jsx("div",{style:{color:"#d4d4d4",height:"100%",width:"100%"},children:r.jsx(Yce,{height:"100%",defaultLanguage:"json",value:o,onChange:D=>l(D||""),theme:"vs-dark",onMount:D=>{p(!0),setTimeout(()=>{D.layout()},100),setTimeout(()=>{D.layout()},300)},loading:r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-300",children:[r.jsx(Je,{className:"w-6 h-6 animate-spin mr-2"})," Loading Editor..."]}),options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,formatOnPaste:!0,formatOnType:!0,wordWrap:"on",readOnly:!1,cursorStyle:"line",renderLineHighlight:"all",scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>d(!1),className:"dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 dark:hover:bg-gray-700",children:i("common.cancel","Cancel")}),r.jsxs(V,{onClick:v,className:"gap-2 dark:bg-blue-600 dark:hover:bg-blue-700",children:[r.jsx(om,{className:"w-4 h-4"}),i("common.apply","Apply Changes")]})]})]})})]})},jft={fashion:"bg-pink-500",electronics:"bg-blue-500",food:"bg-orange-500",beauty:"bg-purple-500",home:"bg-green-500",digital:"bg-indigo-500"};function Nft({onSelectTemplate:e,onClose:t}){const{t:s}=It(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(null),h=f.useCallback(async()=>{o(!0);try{const p=await gE.getTemplates({category:d||void 0,search:l||void 0});n(Array.isArray(p)?p:[])}catch(p){console.error("Failed to load templates:",p),p instanceof Error&&console.error("Error message:",p.message),n([])}finally{o(!1)}},[d,l]);f.useEffect(()=>{h()},[h]);const m=[{value:"fashion",label:s("templates.categories.fashion","Fashion")},{value:"electronics",label:s("templates.categories.electronics","Electronics")},{value:"food",label:s("templates.categories.food","Food & Beverage")},{value:"beauty",label:s("templates.categories.beauty","Beauty")},{value:"home",label:s("templates.categories.home","Home & Furniture")},{value:"digital",label:s("templates.categories.digital","Digital Products")}];return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:s("templates.title","Choose a Template")}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(jr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 rtl:right-3 rtl:left-auto"}),r.jsx(pe,{type:"text",placeholder:s("templates.searchPlaceholder","Search templates..."),value:l,onChange:p=>c(p.target.value),className:"pl-10 rtl:pr-10 rtl:pl-3"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[r.jsx(V,{variant:d===null?"default":"outline",size:"sm",onClick:()=>u(null),children:s("common.all","All")}),m.map(p=>r.jsx(V,{variant:d===p.value?"default":"outline",size:"sm",onClick:()=>u(p.value),children:p.label},p.value))]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{children:s("templates.noTemplates","No templates found")})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>r.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>e(p),children:[r.jsxs("div",{className:`h-48 relative ${jft[p.category]||"bg-gray-300"}`,children:[p.thumbnail?r.jsx("img",{src:p.thumbnail,alt:p.name,className:"w-full h-full object-cover"}):r.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white text-5xl",children:[p.category==="fashion"&&"",p.category==="electronics"&&"",p.category==="food"&&"",p.category==="beauty"&&"",p.category==="home"&&"",p.category==="digital"&&""]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-center justify-center",children:r.jsx(V,{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s("templates.useTemplate","Use This Template")})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:p.name}),p.isDefault&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:s("templates.official","Official")})]}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:p.description||s("templates.noDescription","No description")}),r.jsx("div",{className:"mt-3",children:r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:p.category})})]})]},p.id))})})]})})}function Sft({initialSections:e=[],onSave:t,domain:s,slug:a,initialBackgroundColor:n="#ffffff",initialDarkMode:i=!1,onBackgroundColorChange:o,onDarkModeChange:l,onPublish:c,onHistory:d,onCodeEditor:u}){const{t:h,i18n:m}=It(),[p,g]=f.useState(e),{toast:x}=Lt();m.language,f.useEffect(()=>{g(e)},[e]);const[y,b]=f.useState(null),[w,v]=f.useState(!1),[S,j]=f.useState(!1),[k,N]=f.useState(""),[C,A]=f.useState(n),[E,D]=f.useState(i),[T,P]=f.useState(!1),[_,O]=f.useState(""),[M,I]=f.useState(!1),R=async()=>{if(_.trim()){I(!0);try{const B=await vj.generateDesign(_);if(B.section)g([...p,B.section]),b(B.section.id),P(!1),O(""),x({title:h("builder.aiDesignSuccess","Design Generated"),description:h("builder.aiDesignSuccessDesc","AI has created a new section for you.")});else throw new Error("Failed to generate section")}catch(B){console.error("AI Design Error:",B),x({title:h("common.error"),description:h("builder.aiDesignError","Failed to generate design. Please try again."),variant:"destructive"})}finally{I(!1)}}};f.useEffect(()=>{A(n)},[n]),f.useEffect(()=>{D(i)},[i]);const L=p.find(B=>B.id===y)||null,K=Noe(QD(uE),QD(pF,{coordinateGetter:cmt})),H=B=>{const{active:oe,over:de}=B;de&&oe.id!==de.id&&g(Te=>{const He=Te.findIndex(me=>me.id===oe.id),Oe=Te.findIndex(me=>me.id===de.id);return DF(Te,He,Oe)})},F=B=>{const oe={id:`section-${Date.now()}`,type:B,props:kft(B,h)};g([...p,oe]),b(oe.id)},G=(B,oe)=>{g(de=>de.map(Te=>Te.id===B?{...Te,props:oe}:Te))},U=B=>{g(oe=>oe.filter(de=>de.id!==B)),y===B&&b(null)},W=B=>{const oe=p.findIndex(Oe=>Oe.id===B);if(oe===-1)return;const de=p[oe],Te={...de,id:`section-${Date.now()}`,props:JSON.parse(JSON.stringify(de.props))},He=[...p];He.splice(oe+1,0,Te),g(He),b(Te.id)},J=()=>{t==null||t(p)},z=B=>{if(B.content&&B.content.sections){const oe=B.content.sections;g(oe),j(!1),b(null);const de=B.content;de!=null&&de.backgroundColor&&re(de.backgroundColor),typeof(de==null?void 0:de.isDarkMode)=="boolean"&&de.isDarkMode!==E&&(D(de.isDarkMode),l==null||l(de.isDarkMode)),t==null||t(oe),x({title:h("builder.templateApplied"),description:h("builder.templateAppliedDesc",{name:B.name})})}else x({title:h("common.error"),description:h("builder.templateError"),variant:"destructive"})},ie=()=>{if(s&&a){const B=window.location.protocol,oe=a==="/"?"":a.startsWith("/")?a:`/${a}`,de=`${B}//${s}${oe}?preview=true`;window.open(de,"_blank")}else x({title:h("common.error"),description:h("builder.domainMissing"),variant:"destructive"})},re=B=>{A(B),o==null||o(B)},q=()=>{const B=!E;D(B),l==null||l(B)},se=p.filter(B=>{if(!k)return!0;const oe=k.toLowerCase();return B.type.toLowerCase().includes(oe)||JSON.stringify(B.props).toLowerCase().includes(oe)});return r.jsxs("div",{className:"h-full flex bg-gray-50 dark:bg-gray-950",children:[r.jsxs("div",{className:"w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 overflow-y-auto",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:r.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100",children:h("builder.addSections")})}),r.jsx(umt,{onAddSection:F})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs(V,{onClick:J,className:"gap-2",children:[r.jsx(nn,{className:"w-4 h-4"}),h("common.save")]}),c&&r.jsxs(V,{onClick:()=>c(p),className:"gap-2 bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(Ya,{className:"w-4 h-4"}),h("common.publish","Publish")]}),d&&r.jsxs(V,{variant:"outline",onClick:d,className:"gap-2",children:[r.jsx(xI,{className:"w-4 h-4"}),h("common.history","History")]}),u&&r.jsxs(V,{variant:"outline",onClick:u,className:"gap-2",title:"Edit page code",children:[r.jsx(om,{className:"w-4 h-4"}),h("builder.codeEditor","Code")]}),r.jsxs(V,{variant:w?"default":"outline",onClick:()=>v(!w),className:"gap-2",children:[r.jsx(Cr,{className:"w-4 h-4"}),h(w?"builder.editMode":"builder.preview")]}),s&&a&&r.jsxs(V,{variant:"outline",onClick:ie,className:"gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-900/20",children:[r.jsx(lm,{className:"w-4 h-4"}),h("builder.livePreview","Live Site")]}),r.jsxs(V,{variant:"outline",onClick:()=>P(!0),className:"gap-2 ml-auto text-purple-600 border-purple-200 hover:bg-purple-50 dark:text-purple-400 dark:border-purple-800 dark:hover:bg-purple-900/20",children:[r.jsx(bs,{className:"w-4 h-4"}),h("builder.magicDesign","Magic Design")]}),r.jsxs(V,{variant:"outline",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(Tb,{className:"w-4 h-4"}),h("builder.chooseTemplate")]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(pe,{type:"text",placeholder:h("builder.searchSections","Search sections..."),value:k,onChange:B=>N(B.target.value),className:"pl-10"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Y,{htmlFor:"bg-color",className:"text-sm whitespace-nowrap flex items-center gap-1",children:[r.jsx(lp,{className:"w-4 h-4"}),h("builder.backgroundColor","Background")]}),r.jsx(pe,{id:"bg-color",type:"color",value:C,onChange:B=>re(B.target.value),className:"w-16 h-9 cursor-pointer"})]}),r.jsx(V,{variant:"outline",size:"icon",onClick:q,className:"gap-2",title:E?h("builder.lightMode","Light Mode"):h("builder.darkMode","Dark Mode"),children:E?r.jsx(Jd,{className:"w-4 h-4"}):r.jsx(ad,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-950 p-4",children:r.jsxs("div",{className:`max-w-6xl mx-auto shadow-lg ${E?"dark":""}`,style:{backgroundColor:C},children:[r.jsx(Voe,{sensors:K,collisionDetection:zlt,onDragEnd:H,children:r.jsx(Zht,{items:se.map(B=>B.id),strategy:Qht,children:se.map(B=>r.jsx(hmt,{section:B,isSelected:y===B.id,isPreview:w,onSelect:()=>b(B.id),onDelete:()=>U(B.id),onDuplicate:()=>W(B.id),onToggleTheme:q},B.id))})}),p.length===0&&r.jsxs("div",{className:"py-20 text-center text-gray-500 dark:text-gray-400",children:[r.jsx("p",{className:"mb-4",children:h("builder.noSections")}),r.jsxs(V,{variant:"outline",onClick:()=>j(!0),className:"gap-2",children:[r.jsx(bs,{className:"w-4 h-4"}),h("builder.browseTemplates")]})]})]})})]}),L&&!w&&r.jsx("div",{className:"w-80 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 overflow-y-auto",children:r.jsx(wft,{section:L,onUpdate:B=>G(L.id,B),onClose:()=>b(null)})}),S&&r.jsx(Nft,{onSelectTemplate:z,onClose:()=>j(!1)}),r.jsx(ir,{open:T,onOpenChange:P,children:r.jsxs(ar,{className:"sm:max-w-[500px]",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"w-5 h-5 text-purple-600"}),h("builder.aiDesignTitle","AI Magic Design")]}),r.jsx(pr,{children:h("builder.aiDesignDesc","Describe the section you want to create, and our AI will design it for you.")})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Y,{htmlFor:"ai-prompt",className:"mb-2 block",children:h("builder.aiPromptLabel","What should this section contain?")}),r.jsx(Ys,{id:"ai-prompt",placeholder:h("builder.aiPromptPlaceholder",'e.g., A hero section for a luxury watch store with a dark theme and a "Shop Now" button.'),value:_,onChange:B=>O(B.target.value),rows:4,className:"resize-none"})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>P(!1),children:h("common.cancel")}),r.jsx(V,{onClick:R,disabled:M||!_.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:M?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),h("common.generating","Generating...")]}):r.jsxs(r.Fragment,{children:[r.jsx(bs,{className:"w-4 h-4"}),h("builder.generateDesign","Generate Design")]})})]})]})})]})}function kft(e,t){return{header:{companyName:t("builder.defaults.header.companyName","My Store"),logoUrl:"",links:[{label:t("builder.defaults.header.home","Home"),url:"/"},{label:t("builder.defaults.header.products","Products"),url:"/products"},{label:t("builder.defaults.header.about","About"),url:"/about"}],showThemeToggle:!0,showLanguageToggle:!0,backgroundColor:"#ffffff",textColor:"#000000"},hero:{title:t("builder.defaults.hero.title","Welcome to Our Store"),subtitle:t("builder.defaults.hero.subtitle","Discover amazing products"),buttonText:t("builder.defaults.hero.buttonText","Shop Now"),buttonLink:"/products",backgroundImage:"",textColor:"#ffffff",backgroundColor:"#000000"},features:{title:t("builder.defaults.features.title","Features"),items:[{icon:"",title:t("builder.defaults.features.fastShipping","Fast Shipping"),description:t("builder.defaults.features.fastShippingDesc","Get your orders quickly")},{icon:"",title:t("builder.defaults.features.securePayment","Secure Payment"),description:t("builder.defaults.features.securePaymentDesc","Your data is safe")},{icon:"",title:t("builder.defaults.features.giftCards","Gift Cards"),description:t("builder.defaults.features.giftCardsDesc","Perfect for any occasion")}]},products:{title:t("builder.defaults.products.title","Featured Products"),limit:8,layout:"grid",columns:"4",categoryId:"all",showPrice:!0,showAddToCart:!0,showName:!0,showDescription:!1,showImage:!0,showRating:!1,showStock:!1,sortBy:"default",showOnlyAvailable:!1,showOnlyFeatured:!1},gallery:{title:t("builder.defaults.gallery.title","Our Gallery"),images:[],columns:"3"},slider:{title:t("builder.defaults.slider.title","Image Showcase"),description:t("builder.defaults.slider.description","Browse through our collection"),images:[],autoPlay:!0,interval:5e3,showDots:!0,showArrows:!0,height:"500px",animationType:"slide"},"content-slider":{title:t("builder.defaults.contentSlider.title","Featured Content"),items:[{id:"1",icon:"",title:t("builder.defaults.contentSlider.item1","Quality Products"),description:t("builder.defaults.contentSlider.item1Desc","Top-notch quality guaranteed")},{id:"2",icon:"",title:t("builder.defaults.contentSlider.item2","Fast Delivery"),description:t("builder.defaults.contentSlider.item2Desc","Quick shipping worldwide")},{id:"3",icon:"",title:t("builder.defaults.contentSlider.item3","Premium Support"),description:t("builder.defaults.contentSlider.item3Desc","24/7 customer service")},{id:"4",icon:"",title:t("builder.defaults.contentSlider.item4","Special Offers"),description:t("builder.defaults.contentSlider.item4Desc","Exclusive deals daily")},{id:"5",icon:"",title:t("builder.defaults.contentSlider.item5","Secure Payment"),description:t("builder.defaults.contentSlider.item5Desc","Safe transactions")}],direction:"horizontal",speed:20,pauseOnHover:!0,itemWidth:"300px",itemHeight:"auto",gap:"2rem",backgroundColor:"transparent",sliderBackgroundColor:"transparent",textColor:"inherit"},cta:{title:t("builder.defaults.cta.title","Ready to get started?"),description:t("builder.defaults.cta.description","Join thousands of happy customers"),buttonText:t("builder.defaults.cta.buttonText","Get Started"),buttonLink:"/auth/signup",backgroundColor:"#3b82f6",textColor:"#ffffff"},testimonials:{title:t("builder.defaults.testimonials.title","What Our Customers Say"),items:[{id:"1",name:t("builder.defaults.testimonials.customer1","Ahmed Ali"),role:t("builder.defaults.testimonials.role1","Customer"),image:"",rating:5,text:t("builder.defaults.testimonials.text1","Excellent service and quality products!")},{id:"2",name:t("builder.defaults.testimonials.customer2","Sara Mohamed"),role:t("builder.defaults.testimonials.role2","Customer"),image:"",rating:5,text:t("builder.defaults.testimonials.text2","Fast delivery and great support!")}]},pricing:{title:t("builder.defaults.pricing.title","Choose Your Plan"),subtitle:t("builder.defaults.pricing.subtitle","Simple, transparent pricing"),plans:[{id:"1",name:t("builder.defaults.pricing.basic","Basic"),price:"99",currency:"SAR",period:t("builder.defaults.pricing.month","month"),features:[t("builder.defaults.pricing.feature1","10 Products"),t("builder.defaults.pricing.feature2","Basic Support"),t("builder.defaults.pricing.feature3","1 GB Storage")],highlighted:!1},{id:"2",name:t("builder.defaults.pricing.pro","Pro"),price:"299",currency:"SAR",period:t("builder.defaults.pricing.month","month"),features:[t("builder.defaults.pricing.feature4","Unlimited Products"),t("builder.defaults.pricing.feature5","Priority Support"),t("builder.defaults.pricing.feature6","10 GB Storage")],highlighted:!0}]},team:{title:t("builder.defaults.team.title","Meet Our Team"),subtitle:t("builder.defaults.team.subtitle","The people behind our success"),members:[{id:"1",name:t("builder.defaults.team.member1","John Doe"),role:t("builder.defaults.team.role1","CEO & Founder"),image:"",bio:t("builder.defaults.team.bio1","Leading the company vision"),social:{linkedin:"",twitter:""}}]},stats:{title:t("builder.defaults.stats.title","Our Achievements"),items:[{id:"1",number:"1000",suffix:"+",label:t("builder.defaults.stats.customers","Happy Customers")},{id:"2",number:"500",suffix:"+",label:t("builder.defaults.stats.products","Products")},{id:"3",number:"50",suffix:"+",label:t("builder.defaults.stats.countries","Countries")},{id:"4",number:"99",suffix:"%",label:t("builder.defaults.stats.satisfaction","Satisfaction")}]},faq:{title:t("builder.defaults.faq.title","Frequently Asked Questions"),subtitle:t("builder.defaults.faq.subtitle","Find answers to common questions"),items:[{id:"1",question:t("builder.defaults.faq.q1","How do I place an order?"),answer:t("builder.defaults.faq.a1","Simply browse our products and add items to your cart.")},{id:"2",question:t("builder.defaults.faq.q2","What payment methods do you accept?"),answer:t("builder.defaults.faq.a2","We accept all major credit cards and online payment methods.")}]},newsletter:{title:t("builder.defaults.newsletter.title","Subscribe to Our Newsletter"),subtitle:t("builder.defaults.newsletter.subtitle","Get the latest updates and offers"),placeholder:t("builder.defaults.newsletter.placeholder","Enter your email"),buttonText:t("builder.defaults.newsletter.button","Subscribe"),backgroundColor:"#6366f1",textColor:"#ffffff"},video:{title:t("builder.defaults.video.title","Watch Our Story"),videoUrl:"",thumbnail:"",autoPlay:!1,controls:!1,loop:!1},countdown:{title:t("builder.defaults.countdown.title","Limited Time Offer"),subtitle:t("builder.defaults.countdown.subtitle","Hurry up! Offer ends soon"),targetDate:new Date(Date.now()+6048e5).toISOString(),showDays:!0,showHours:!0,showMinutes:!0,showSeconds:!0},brands:{title:t("builder.defaults.brands.title","Trusted By Leading Brands"),logos:[],grayscale:!0,columns:"6"},contact:{title:t("builder.defaults.contact.title","Get In Touch"),subtitle:t("builder.defaults.contact.subtitle","We'd love to hear from you"),email:"info@example.com",phone:"+966 XX XXX XXXX",address:t("builder.defaults.contact.address","Riyadh, Saudi Arabia"),showMap:!0,mapUrl:""},footer:{companyName:t("builder.defaults.footer.companyName","Your Company"),links:[{label:t("builder.defaults.footer.about","About"),url:"/about"},{label:t("builder.defaults.footer.contact","Contact"),url:"/contact"},{label:t("builder.defaults.footer.privacy","Privacy"),url:"/privacy"}],socialLinks:{facebook:"",twitter:"",instagram:""}},"categories-hierarchy":{title:t("builder.defaults.categoriesHierarchy.title"," "),subtitle:t("builder.defaults.categoriesHierarchy.subtitle","    "),productsPerCategory:12,productsColumns:4,productsLayout:"grid",showAddToCart:!0}}[e]||{}}function UW(){const{id:e}=$m(),[t]=Bm(),s=ts(),{toast:a}=Lt(),{t:n}=It(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,y]=f.useState(""),[b,w]=f.useState("#ffffff"),[v,S]=f.useState(!1),[j,k]=f.useState([]),[N,C]=f.useState(!1),[A,E]=f.useState(!1),[D,T]=f.useState(""),[P,_]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const W=await fe.getDomain();if(W){const J=window.location.hostname;if(W.customDomain)g(W.customDomain);else if(J==="saeaa.com"||J==="www.saeaa.com")g("saeaa.com");else if(J==="saeaa.net"||J==="www.saeaa.net")g("saeaa.net");else{const z=J.includes("saeaa.net")?"saeaa.net":"saeaa.com";g(`${W.subdomain}.${z}`)}}}catch(W){console.error("Failed to fetch domain:",W)}})(),e||u([{id:`section-${Date.now()}`,type:"hero",props:{title:"Welcome to Our Store",subtitle:"Discover amazing products",buttonText:"Shop Now",buttonLink:"/products",backgroundImage:"",textColor:"#ffffff",backgroundColor:"#000000"}}])},[e]);const O=f.useCallback(async()=>{if(e)try{const U=await fe.getPage(e);o(U.title),c(U.slug);const W=U.draftContent||U.content;u((W==null?void 0:W.sections)||[]),w((W==null?void 0:W.backgroundColor)||"#ffffff"),S((W==null?void 0:W.isDarkMode)||!1)}catch{a({title:"Error",description:"Failed to load page",variant:"destructive"})}},[e,a]);f.useEffect(()=>{if(A){const W=JSON.stringify({sections:d||[],backgroundColor:b||"#ffffff",isDarkMode:v||!1},null,2);D!==W&&T(W)}},[A,d,b,v]);const M=U=>{U&&T(U)},I=()=>{try{const U=JSON.parse(D);if(U.sections&&Array.isArray(U.sections))u(U.sections),U.backgroundColor&&w(U.backgroundColor),typeof U.isDarkMode=="boolean"&&S(U.isDarkMode),a({title:"Success",description:"Code changes applied successfully"}),E(!1);else throw new Error("Invalid structure: sections array is required")}catch(U){a({title:"Error",description:U instanceof Error?U.message:`Invalid JSON: ${String(U)}`,variant:"destructive"})}},R=f.useCallback(async U=>{try{const W=await gE.getTemplateById(U),J=W.content;u((J==null?void 0:J.sections)||[]),J!=null&&J.backgroundColor&&w(J.backgroundColor),typeof(J==null?void 0:J.isDarkMode)=="boolean"&&S(J.isDarkMode),y(W.name),a({title:"Template Loaded",description:`Using "${W.name}" template`})}catch(W){console.error("Failed to load template:",W),a({title:"Error",description:"Failed to load template",variant:"destructive"})}},[a]);f.useEffect(()=>{const U=t.get("templateId");e?O():U&&R(U)},[e,t,O,R]);const L=async U=>{if(!i||i.trim().length===0){a({title:"Validation Error",description:"Page title is required. Please enter a title before saving.",variant:"destructive"});return}m(!0);try{const W={sections:U,backgroundColor:b,isDarkMode:v},J=l.trim()===""||l.trim()==="/"?"":l.trim().replace(/^\/+/,"");e?(await fe.updatePage(e,{title:i.trim(),slug:J,draftContent:W}),a({title:"Draft Saved",description:"Changes saved to draft"})):(await fe.createPage({title:i.trim(),slug:J,content:W,draftContent:W,isPublished:!1}),a({title:"Success",description:"Page created successfully"}),s("/dashboard/pages"))}catch(W){G(W)}finally{m(!1)}},K=async U=>{if(!i||i.trim().length===0){a({title:"Validation Error",description:"Page title is required. Please enter a title before publishing.",variant:"destructive"});return}m(!0);try{const W={sections:U,backgroundColor:b,isDarkMode:v},J=l.trim()===""||l.trim()==="/"?"":l.trim().replace(/^\/+/,"");e?(await fe.updatePage(e,{title:i.trim(),slug:J,content:W,draftContent:W,isPublished:!0}),a({title:"Published",description:"Page published successfully"})):(await fe.createPage({title:i.trim(),slug:J,content:W,draftContent:W,isPublished:!0}),a({title:"Published",description:"Page created and published"}),s("/dashboard/pages"))}catch(W){G(W)}finally{m(!1)}},H=async()=>{if(e)try{const U=await fe.getHistory(e);k(U),C(!0)}catch{a({title:"Error",description:"Failed to load history",variant:"destructive"})}},F=async U=>{if(e)try{await fe.restoreVersion(e,U),a({title:"Restored",description:"Version restored to draft"}),O(),C(!1)}catch{a({title:"Error",description:"Failed to restore version",variant:"destructive"})}},G=U=>{let W="Failed to save page";U instanceof Error&&(W=U.message,(W.includes("slug already exists")||W.includes("Conflict"))&&(W=`A page with the slug "${l}" already exists. Please use a different URL slug.`)),a({title:"Error",description:W,variant:"destructive"})};return r.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-950",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-6 py-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>s("/dashboard/pages"),className:"dark:hover:bg-gray-800",children:[r.jsx(El,{className:"w-4 h-4 mr-2"}),n("builder.backToPages")]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:["/ ",n(e?"builder.editPage":"builder.newPage"),x&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[r.jsx(bs,{className:"w-4 h-4"}),n("builder.usingTemplate",{name:x})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-2xl",children:[r.jsxs("div",{children:[r.jsx(Y,{className:"text-gray-700 dark:text-gray-300",children:n("builder.pageTitle")}),r.jsx(pe,{value:i,onChange:U=>o(U.target.value),placeholder:"About Us",className:"dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})]}),r.jsxs("div",{children:[r.jsx(Y,{className:"text-gray-700 dark:text-gray-300",children:n("builder.urlSlug")}),r.jsx(pe,{value:l,onChange:U=>c(U.target.value.toLowerCase().replace(/\s+/g,"-")),placeholder:"about-us",className:"dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(Sft,{initialSections:d,onSave:L,onPublish:K,onHistory:e?H:void 0,onCodeEditor:()=>{const W=JSON.stringify({sections:d||[],backgroundColor:b||"#ffffff",isDarkMode:v||!1},null,2);T(W),_(!1),E(!0)},domain:p,slug:l,initialBackgroundColor:b,initialDarkMode:v,onBackgroundColorChange:w,onDarkModeChange:S})}),r.jsx(ir,{open:N,onOpenChange:C,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:n("builder.pageHistory")}),r.jsx(pr,{children:n("builder.restoreVersion")})]}),r.jsx(La,{className:"h-[300px] mt-4",children:r.jsx("div",{className:"space-y-4",children:j.length===0?r.jsx("p",{className:"text-center text-gray-500 py-8",children:n("builder.noHistory")}):j.map(U=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[n("builder.version")," ",U.version]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(Co,{className:"w-3 h-3"}),new Date(U.createdAt).toLocaleString()]})]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(U.id),children:n("builder.restore")})]},U.id))})})]})}),r.jsx(ir,{open:A,onOpenChange:E,children:r.jsxs(ar,{className:"max-w-4xl h-[80vh] dark:bg-gray-900 dark:border-gray-700",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2 dark:text-gray-100",children:[r.jsx(om,{className:"w-5 h-5"}),n("builder.codeEditorTitle")]}),r.jsx(pr,{className:"dark:text-gray-400",children:n("builder.codeEditorDesc")})]}),r.jsx("div",{className:"flex-1 border dark:border-gray-700 rounded-lg overflow-hidden mt-4 relative text-left",style:{backgroundColor:"#1e1e1e",height:"calc(80vh - 250px)",minHeight:"400px"},dir:"ltr",children:r.jsx("div",{style:{color:"#d4d4d4",height:"100%",width:"100%"},children:r.jsx(Yce,{height:"100%",defaultLanguage:"json",value:D||JSON.stringify({sections:d||[],backgroundColor:b||"#ffffff",isDarkMode:v||!1},null,2),onChange:M,theme:"vs-dark",onMount:U=>{_(!0);const W=D||JSON.stringify({sections:d||[],backgroundColor:b||"#ffffff",isDarkMode:v||!1},null,2);U.getValue()!==W&&U.setValue(W),setTimeout(()=>{U.layout()},100),setTimeout(()=>{U.layout()},300)},loading:r.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-300",children:[r.jsx(Je,{className:"w-6 h-6 animate-spin mr-2"})," ",n("builder.loadingEditor")]}),options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,formatOnPaste:!0,formatOnType:!0,wordWrap:"on",readOnly:!1,cursorStyle:"line",renderLineHighlight:"all",scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10}}},A?"code-editor-open":"code-editor-closed")})}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsx(V,{variant:"outline",onClick:()=>E(!1),className:"dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 dark:hover:bg-gray-700",children:n("common.cancel")}),r.jsxs(V,{onClick:I,className:"gap-2 dark:bg-blue-600 dark:hover:bg-blue-700",children:[r.jsx(om,{className:"w-4 h-4"}),n("builder.applyChanges")]})]})]})}),r.jsx(OC,{context:{currentPage:i||"New Page",userAction:e?"editing a page":"creating a new page"}})]})}function Cft(){const{user:e,refreshUser:t,loading:s}=$s(),{toast:a}=Lt(),[n,i]=f.useState(!1),[o,l]=f.useState({email:"",avatar:""});f.useEffect(()=>{e&&l({email:e.email||"",avatar:e.avatar||""})},[e]);const c=async u=>{var g;const h=(g=u.target.files)==null?void 0:g[0];if(!h)return;const m=URL.createObjectURL(h);l(x=>({...x,avatar:m}));const p=new FormData;p.append("files",h);try{const x=await fe.post("/upload/images",p,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(x.files&&x.files.length>0){const y=x.files[0].secureUrl||x.files[0].url;l(b=>({...b,avatar:y})),a({title:"   "})}}catch(x){console.error("Upload failed",x),a({title:"  ",description:"   ",variant:"destructive"})}},d=async u=>{u.preventDefault(),i(!0);try{await eo.updateProfile(o),await t(),a({title:" ",description:"    "})}catch(h){console.error(h),a({title:"   ",description:"     .    .",variant:"destructive"})}finally{i(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"   "})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{children:" "}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative h-20 w-20 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-muted",children:[o.avatar?r.jsx("img",{src:o.avatar,alt:"Avatar",className:"h-full w-full object-cover"}):r.jsx(ao,{className:"h-8 w-8 text-muted-foreground"}),r.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:c})]}),r.jsxs("div",{children:[r.jsx(Y,{children:" "}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"  .    ."})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:" "}),r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{id:"email",type:"email",value:o.email,disabled:!0,className:"pr-10 bg-muted"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(V,{type:"submit",disabled:n,children:[n&&r.jsx(Je,{className:"ml-2 h-4 w-4 animate-spin"})," "]})})]})})]})]})}function Xce(){const{toast:e}=Lt(),[t,s]=f.useState({name:"",email:"",subject:"",message:""}),a=i=>{i.preventDefault(),e({title:"  ",description:"     "}),s({name:"",email:"",subject:"",message:""})},n=[{question:"   ",answer:'           " ".           .'},{question:"   ",answer:'  " "   .      :        .'},{question:"  ",answer:"       .         ."},{question:"  ",answer:'  " "   ""    " ".     .'},{question:"   ",answer:'   ""   .     DNS     .'},{question:"   ",answer:' " "   " ".          .'}];return r.jsxs("div",{className:"space-y-6 pb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:" "}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(we,{className:"hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[r.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:r.jsx(Tfe,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]})})}),r.jsx(we,{className:"hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[r.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:r.jsx(lj,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})})}),r.jsx(we,{className:"hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[r.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:r.jsx(ka,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-semibold",children:""}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})})}),r.jsx(we,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{localStorage.removeItem("tour_completed"),window.location.href="/dashboard"},children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[r.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-full",children:r.jsx(lK,{className:"h-6 w-6 text-yellow-600"})}),r.jsx("h3",{className:"font-semibold",children:" "}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(lI,{className:"h-5 w-5"})," "]}),r.jsx(Kt,{children:"    "})]}),r.jsx(Se,{children:r.jsx(Hle,{type:"single",collapsible:!0,className:"w-full",children:n.map((i,o)=>r.jsxs(CF,{value:`item-${o}`,children:[r.jsx(AF,{className:"text-right",children:i.question}),r.jsx(EF,{className:"text-muted-foreground",children:i.answer})]},o))})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsxs(it,{className:"flex items-center gap-2",children:[r.jsx(Cn,{className:"h-5 w-5"}),"  "]}),r.jsx(Kt,{children:"     "})]}),r.jsxs(Se,{children:[r.jsxs("form",{onSubmit:a,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"name",children:""}),r.jsx(pe,{id:"name",value:t.name,onChange:i=>s({...t,name:i.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:" "}),r.jsx(pe,{id:"email",type:"email",value:t.email,onChange:i=>s({...t,email:i.target.value}),required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"subject",children:""}),r.jsx(pe,{id:"subject",value:t.subject,onChange:i=>s({...t,subject:i.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"message",children:""}),r.jsx(Ys,{id:"message",value:t.message,onChange:i=>s({...t,message:i.target.value}),rows:5,required:!0})]}),r.jsx(V,{type:"submit",className:"w-full md:w-auto",children:" "})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h4",{className:"font-semibold mb-3",children:"  "}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ba,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:"support@saeaa.com"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:"+966 50 123 4567"})]})]})]})]})]}),r.jsx(OC,{context:{currentPage:"Help & Support",userAction:"Seeking help or documentation"}})]})}function jc(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Om(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Aft(e,t){const s=jc(e);return isNaN(t)?Om(e,NaN):(t&&s.setDate(s.getDate()+t),s)}const Qce=6048e5,Eft=864e5;let Pft={};function jE(){return Pft}function Qw(e,t){var l,c,d,u;const s=jE(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=jc(e),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function zk(e){return Qw(e,{weekStartsOn:1})}function Jce(e){const t=jc(e),s=t.getFullYear(),a=Om(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const n=zk(a),i=Om(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=zk(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function VW(e){const t=jc(e);return t.setHours(0,0,0,0),t}function zW(e){const t=jc(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function Tft(e,t){const s=VW(e),a=VW(t),n=+s-zW(s),i=+a-zW(a);return Math.round((n-i)/Eft)}function _ft(e){const t=Jce(e),s=Om(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),zk(s)}function Dft(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Oft(e){if(!Dft(e)&&typeof e!="number")return!1;const t=jc(e);return!isNaN(Number(t))}function Ift(e){const t=jc(e),s=Om(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Rft={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mft=(e,t,s)=>{let a;const n=Rft[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Sg(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Fft={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lft={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ft={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bft={date:Sg({formats:Fft,defaultWidth:"full"}),time:Sg({formats:Lft,defaultWidth:"full"}),dateTime:Sg({formats:$ft,defaultWidth:"full"})},Uft={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vft=(e,t,s,a)=>Uft[e];function Dd(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const zft={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wft={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hft={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qft={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gft={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kft={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yft=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Xft={ordinalNumber:Yft,era:Dd({values:zft,defaultWidth:"wide"}),quarter:Dd({values:Wft,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dd({values:Hft,defaultWidth:"wide"}),day:Dd({values:qft,defaultWidth:"wide"}),dayPeriod:Dd({values:Gft,defaultWidth:"wide",formattingValues:Kft,defaultFormattingWidth:"wide"})};function Od(e){return(t,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jft(l,h=>h.test(o)):Qft(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Qft(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Jft(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Zce(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const Zft=/^(\d+)(th|st|nd|rd)?/i,ept=/\d+/i,tpt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rpt={any:[/^b/i,/^(a|c)/i]},spt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},apt={any:[/1/i,/2/i,/3/i,/4/i]},npt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ipt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},opt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lpt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cpt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dpt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},upt={ordinalNumber:Zce({matchPattern:Zft,parsePattern:ept,valueCallback:e=>parseInt(e,10)}),era:Od({matchPatterns:tpt,defaultMatchWidth:"wide",parsePatterns:rpt,defaultParseWidth:"any"}),quarter:Od({matchPatterns:spt,defaultMatchWidth:"wide",parsePatterns:apt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Od({matchPatterns:npt,defaultMatchWidth:"wide",parsePatterns:ipt,defaultParseWidth:"any"}),day:Od({matchPatterns:opt,defaultMatchWidth:"wide",parsePatterns:lpt,defaultParseWidth:"any"}),dayPeriod:Od({matchPatterns:cpt,defaultMatchWidth:"any",parsePatterns:dpt,defaultParseWidth:"any"})},ede={code:"en-US",formatDistance:Mft,formatLong:Bft,formatRelative:Vft,localize:Xft,match:upt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hpt(e){const t=jc(e);return Tft(t,Ift(t))+1}function mpt(e){const t=jc(e),s=+zk(t)-+_ft(t);return Math.round(s/Qce)+1}function tde(e,t){var u,h,m,p;const s=jc(e),a=s.getFullYear(),n=jE(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Om(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Qw(o,t),c=Om(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=Qw(c,t);return s.getTime()>=l.getTime()?a+1:s.getTime()>=d.getTime()?a:a-1}function fpt(e,t){var l,c,d,u;const s=jE(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=tde(e,t),i=Om(e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Qw(i,t)}function ppt(e,t){const s=jc(e),a=+Qw(s,t)-+fpt(s,t);return Math.round(a/Qce)+1}function ca(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const wh={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return ca(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ca(s+1,2)},d(e,t){return ca(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ca(e.getHours()%12||12,t.length)},H(e,t){return ca(e.getHours(),t.length)},m(e,t){return ca(e.getMinutes(),t.length)},s(e,t){return ca(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return ca(n,t.length)}},wx={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WW={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return wh.y(e,t)},Y:function(e,t,s,a){const n=tde(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return ca(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):ca(i,t.length)},R:function(e,t){const s=Jce(e);return ca(s,t.length)},u:function(e,t){const s=e.getFullYear();return ca(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return ca(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return ca(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return wh.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return ca(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const n=ppt(e,a);return t==="wo"?s.ordinalNumber(n,{unit:"week"}):ca(n,t.length)},I:function(e,t,s){const a=mpt(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):ca(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):wh.d(e,t)},D:function(e,t,s){const a=hpt(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):ca(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ca(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ca(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return ca(n,t.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let n;switch(a===12?n=wx.noon:a===0?n=wx.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let n;switch(a>=17?n=wx.evening:a>=12?n=wx.afternoon:a>=4?n=wx.morning:n=wx.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return wh.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):wh.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):ca(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):ca(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):wh.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):wh.s(e,t)},S:function(e,t){return wh.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return qW(a);case"XXXX":case"XX":return vf(a);case"XXXXX":case"XXX":default:return vf(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return qW(a);case"xxxx":case"xx":return vf(a);case"xxxxx":case"xxx":default:return vf(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HW(a,":");case"OOOO":default:return"GMT"+vf(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HW(a,":");case"zzzz":default:return"GMT"+vf(a,":")}},t:function(e,t,s){const a=Math.trunc(e.getTime()/1e3);return ca(a,t.length)},T:function(e,t,s){const a=e.getTime();return ca(a,t.length)}};function HW(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+t+ca(i,2)}function qW(e,t){return e%60===0?(e>0?"-":"+")+ca(Math.abs(e)/60,2):vf(e,t)}function vf(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=ca(Math.trunc(a/60),2),i=ca(a%60,2);return s+n+t+i}const GW=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rde=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xpt=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return GW(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",GW(a,t)).replace("{{time}}",rde(n,t))},gpt={p:rde,P:xpt},vpt=/^D+$/,ypt=/^Y+$/,bpt=["D","DD","YY","YYYY"];function wpt(e){return vpt.test(e)}function jpt(e){return ypt.test(e)}function Npt(e,t,s){const a=Spt(e,t,s);if(console.warn(a),bpt.includes(e))throw new RangeError(a)}function Spt(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kpt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cpt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Apt=/^'([^]*?)'?$/,Ept=/''/g,Ppt=/[a-zA-Z]/;function NE(e,t,s){var u,h,m,p,g,x,y,b;const a=jE(),n=(s==null?void 0:s.locale)??a.locale??ede,i=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((x=(g=s==null?void 0:s.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((b=(y=a.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,l=jc(e);if(!Oft(l))throw new RangeError("Invalid time value");let c=t.match(Cpt).map(w=>{const v=w[0];if(v==="p"||v==="P"){const S=gpt[v];return S(w,n.formatLong)}return w}).join("").match(kpt).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:Tpt(w)};if(WW[v])return{isToken:!0,value:w};if(v.match(Ppt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(w=>{if(!w.isToken)return w.value;const v=w.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&jpt(v)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&wpt(v))&&Npt(v,t,String(e));const S=WW[v[0]];return S(l,v,n.localize,d)}).join("")}function Tpt(e){const t=e.match(Apt);return t?t[1].replace(Ept,"'"):e}function TN(e,t){return Aft(e,-t)}const _pt={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Dpt=(e,t,s)=>{const a=_pt[e];let n;return typeof a=="string"?n=a:t===1?n=a.one:t===2?n=a.two:t<=10?n=a.threeToTen.replace("{{count}}",String(t)):n=a.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?" "+n:" "+n:n},Opt={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Ipt={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Rpt={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mpt={date:Sg({formats:Opt,defaultWidth:"full"}),time:Sg({formats:Ipt,defaultWidth:"full"}),dateTime:Sg({formats:Rpt,defaultWidth:"full"})},Fpt={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Lpt=e=>Fpt[e],$pt={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Bpt={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Upt={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Vpt={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},zpt={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Wpt={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Hpt=e=>String(e),qpt={ordinalNumber:Hpt,era:Dd({values:$pt,defaultWidth:"wide"}),quarter:Dd({values:Bpt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dd({values:Upt,defaultWidth:"wide"}),day:Dd({values:Vpt,defaultWidth:"wide"}),dayPeriod:Dd({values:zpt,defaultWidth:"wide",formattingValues:Wpt,defaultFormattingWidth:"wide"})},Gpt=/^(\d+)(th|st|nd|rd)?/i,Kpt=/\d+/i,Ypt={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Xpt={any:[//,//]},Qpt={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Jpt={any:[/1/i,/2/i,/3/i,/4/i]},Zpt={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},ext={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},txt={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},rxt={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},sxt={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},axt={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},nxt={ordinalNumber:Zce({matchPattern:Gpt,parsePattern:Kpt,valueCallback:e=>parseInt(e,10)}),era:Od({matchPatterns:Ypt,defaultMatchWidth:"wide",parsePatterns:Xpt,defaultParseWidth:"any"}),quarter:Od({matchPatterns:Qpt,defaultMatchWidth:"wide",parsePatterns:Jpt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Od({matchPatterns:Zpt,defaultMatchWidth:"wide",parsePatterns:ext,defaultParseWidth:"any"}),day:Od({matchPatterns:txt,defaultMatchWidth:"wide",parsePatterns:rxt,defaultParseWidth:"any"}),dayPeriod:Od({matchPatterns:sxt,defaultMatchWidth:"any",parsePatterns:axt,defaultParseWidth:"any"})},OF={code:"ar",formatDistance:Dpt,formatLong:Mpt,formatRelative:Lpt,localize:qpt,match:nxt,options:{weekStartsOn:6,firstWeekContainsDate:1}},KW={TOPUP:{labelKey:"dashboard.wallet.transactionTypes.TOPUP",icon:XT,color:"text-green-500"},PURCHASE:{labelKey:"dashboard.wallet.transactionTypes.PURCHASE",icon:L2,color:"text-red-500"},REFUND:{labelKey:"dashboard.wallet.transactionTypes.REFUND",icon:XT,color:"text-green-500"},BONUS:{labelKey:"dashboard.wallet.transactionTypes.BONUS",icon:rr,color:"text-green-500"},WITHDRAWAL:{labelKey:"dashboard.wallet.transactionTypes.WITHDRAWAL",icon:L2,color:"text-red-500"},ADJUSTMENT:{labelKey:"dashboard.wallet.transactionTypes.ADJUSTMENT",icon:mc,color:"text-blue-500"}},jx={PENDING:{labelKey:"dashboard.wallet.status.PENDING",variant:"secondary",icon:Co},APPROVED:{labelKey:"dashboard.wallet.status.APPROVED",variant:"default",icon:Fs},COMPLETED:{labelKey:"dashboard.wallet.status.COMPLETED",variant:"default",icon:Fs},REJECTED:{labelKey:"dashboard.wallet.status.REJECTED",variant:"destructive",icon:Ls},FAILED:{labelKey:"dashboard.wallet.status.FAILED",variant:"destructive",icon:Ls}};function ixt(){var ie,re;const{t:e,i18n:t}=It(),s=t.language==="ar",{user:a,loading:n}=$s(),[i,o]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState([]),[x,y]=f.useState(!0),[b,w]=f.useState(!1),[v,S]=f.useState(null),[j,k]=f.useState(!1),[N,C]=f.useState(null),[A,E]=f.useState(!1),[D,T]=f.useState(!1),[P,_]=f.useState(""),[O,M]=f.useState(!1),[I,R]=f.useState({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),[L,K]=f.useState(null);f.useEffect(()=>{(async()=>{if(!n){if(!(a!=null&&a.tenantId)){y(!1);return}try{y(!0);const[se,B,oe,de,Te]=await Promise.all([Is.getBalance().catch(()=>({id:"",balance:0,currency:"SAR",updatedAt:new Date().toISOString()})),Is.getTransactions(1,50).catch(()=>({data:[],total:0,page:1,limit:50,totalPages:0})),Is.getTopUpRequests().catch(()=>[]),Is.getBanks().catch(()=>[]),Is.getAllBanks().catch(()=>[])]);o({id:se.id||"",balance:typeof se.balance=="string"?parseFloat(se.balance):se.balance||0,currency:se.currency||"SAR",lastUpdated:se.updatedAt||new Date().toISOString()}),c(B.data||[]),u(Array.isArray(oe)?oe:[]),m(Array.isArray(de)?de:[]),g(Array.isArray(Te)?Te:[])}catch(se){console.error("Error fetching wallet data:",se),Rr.error(e("common.error"))}finally{y(!1)}}})()},[e,n,a==null?void 0:a.tenantId]);const H=q=>{try{const se=new Date(q);return NE(se,"dd/MM/yyyy HH:mm",{locale:s?OF:void 0})}catch{return q}},F=async()=>{if(!I.name||!I.code||!I.accountName||!I.accountNumber||!I.iban){Rr.error(e("dashboard.wallet.banksTab.fillRequired"));return}try{k(!0),v?(await Is.updateBank(v.id,I,L||void 0),Rr.success(e("dashboard.wallet.banksTab.updateSuccess"))):(await Is.createBank(I,L||void 0),Rr.success(e("dashboard.wallet.banksTab.saveSuccess"))),w(!1),S(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),K(null);const[q,se]=await Promise.all([Is.getBanks().catch(()=>[]),Is.getAllBanks().catch(()=>[])]);m(Array.isArray(q)?q:[]),g(Array.isArray(se)?se:[])}catch(q){console.error("Error saving bank:",q);const se=q instanceof Error?q.message:e("dashboard.wallet.banksTab.saveError");Rr.error(se)}finally{k(!1)}},G=async q=>{if(confirm(e("dashboard.wallet.banksTab.deleteConfirm")))try{await Is.deleteBank(q),Rr.success(e("dashboard.wallet.banksTab.deleteSuccess"));const[se,B]=await Promise.all([Is.getBanks().catch(()=>[]),Is.getAllBanks().catch(()=>[])]);m(Array.isArray(se)?se:[]),g(Array.isArray(B)?B:[])}catch(se){console.error("Error deleting bank:",se);const B=se instanceof Error?se.message:e("dashboard.wallet.banksTab.deleteError");Rr.error(B)}},U=q=>{S(q),R({name:q.name,nameAr:q.nameAr||"",code:q.code,accountName:q.accountName,accountNumber:q.accountNumber,iban:q.iban,swiftCode:q.swiftCode||"",isActive:q.isActive,sortOrder:q.sortOrder}),K(null),w(!0)},W=q=>{C(q),E(!0)},J=async()=>{if(N&&confirm(e("dashboard.wallet.requestsTab.approveConfirm",{amount:N.amount,currency:N.currency})))try{T(!0),await Is.approveTopUp(N.id),Rr.success(e("dashboard.wallet.requestsTab.approveSuccess"));const[q,se,B]=await Promise.all([Is.getBalance().catch(()=>({id:"",balance:0,currency:"SAR",updatedAt:new Date().toISOString()})),Is.getTransactions(1,50).catch(()=>({data:[],total:0,page:1,limit:50,totalPages:0})),Is.getTopUpRequests().catch(()=>[])]);o({id:q.id||"",balance:typeof q.balance=="string"?parseFloat(q.balance):q.balance||0,currency:q.currency||"SAR",lastUpdated:q.updatedAt||new Date().toISOString()}),c(se.data||[]),u(Array.isArray(B)?B:[]),E(!1),C(null)}catch(q){console.error("Error approving request:",q);const se=q instanceof Error?q.message:e("dashboard.wallet.requestsTab.approveError");Rr.error(se)}finally{T(!1)}},z=async()=>{if(!N||!P.trim()){Rr.error(e("dashboard.wallet.requestsTab.rejectConfirm"));return}try{T(!0),await Is.rejectTopUp(N.id,P),Rr.success(e("dashboard.wallet.requestsTab.rejectSuccess"));const q=await Is.getTopUpRequests().catch(()=>[]);u(Array.isArray(q)?q:[]),E(!1),M(!1),C(null),_("")}catch(q){console.error("Error rejecting request:",q);const se=q instanceof Error?q.message:e("dashboard.wallet.requestsTab.rejectError");Rr.error(se)}finally{T(!1)}};return x?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(Na,{className:"h-6 w-6"}),e("dashboard.wallet.pageTitle")]})}),r.jsx(we,{className:"bg-gradient-to-br from-blue-500/10 via-indigo-500/5 to-background border-blue-500/20",children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:r.jsx(Uo,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:e("dashboard.wallet.pageTitle")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.pageDesc")})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("dashboard.wallet.totalBanks")}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:h.length})]}),r.jsx("div",{className:"h-12 w-px bg-border"}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("dashboard.wallet.totalTransactions")}),r.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:l.length})]})]})]})})}),r.jsxs(Kn,{defaultValue:"transactions",children:[r.jsxs(_n,{className:"grid w-full grid-cols-3",children:[r.jsxs(_r,{value:"transactions",className:"gap-2",children:[r.jsx(h6,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.transactions")]}),r.jsxs(_r,{value:"requests",className:"gap-2",children:[r.jsx(Co,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.requests")]}),r.jsxs(_r,{value:"bank-accounts",className:"gap-2",children:[r.jsx(Uo,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.banks")]})]}),r.jsx(Yr,{value:"transactions",children:r.jsx(we,{children:r.jsx(Se,{className:"p-0",children:l.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(h6,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.noTransactions","No transactions yet")})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:s?"text-right":"",children:e("common.type","Type")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.amount")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.description")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.status")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.date")})]})}),r.jsx(us,{children:l.map(q=>{const se=KW[q.type]||KW.ADJUSTMENT,B=jx[q.status]||jx.PENDING,oe=se.icon,de=["TOPUP","REFUND","BONUS"].includes(q.type);return r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{className:xe("h-4 w-4",se.color)}),e(se.labelKey)]})}),r.jsxs(Ne,{className:xe("font-semibold",de?"text-green-600":"text-red-600"),children:[de?"+":"-"," ",typeof q.amount=="string"?parseFloat(q.amount).toFixed(2):q.amount.toFixed(2)," ",q.currency]}),r.jsx(Ne,{className:"text-muted-foreground",children:s?q.descriptionAr||q.description||"-":q.description||"-"}),r.jsx(Ne,{children:r.jsx(et,{variant:B.variant,children:e(B.labelKey)})}),r.jsx(Ne,{className:"text-muted-foreground",children:H(q.createdAt)})]},q.id)})})]})})})}),r.jsx(Yr,{value:"requests",children:r.jsx(we,{children:r.jsx(Se,{className:"p-0",children:d.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Co,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.requestsTab.noRequests")})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.amount")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.requestsTab.method")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.status")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.date")}),r.jsx(Ae,{className:s?"text-right":"",children:e("dashboard.wallet.actions")})]})}),r.jsx(us,{children:d.map(q=>{const se=jx[q.status]||jx.PENDING,B=se.icon;return r.jsxs(kt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>W(q),children:[r.jsxs(Ne,{className:"font-semibold",children:[typeof q.amount=="string"?parseFloat(q.amount).toFixed(2):q.amount.toFixed(2)," ",q.currency]}),r.jsx(Ne,{children:q.paymentMethod}),r.jsx(Ne,{children:r.jsxs(et,{variant:se.variant,className:"gap-1",children:[r.jsx(B,{className:"h-3 w-3"}),e(se.labelKey)]})}),r.jsx(Ne,{className:"text-muted-foreground",children:H(q.createdAt)}),r.jsx(Ne,{children:r.jsxs(V,{variant:"ghost",size:"sm",onClick:oe=>{oe.stopPropagation(),W(q)},className:"gap-2",children:[r.jsx(Cr,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.viewDetails")]})})]},q.id)})})]})})})}),r.jsx(Yr,{value:"bank-accounts",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(it,{children:e("dashboard.wallet.banksTab.title")}),r.jsx(Kt,{children:e("dashboard.wallet.banksTab.desc")})]}),r.jsxs(ir,{open:b,onOpenChange:q=>{w(q),q||(S(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),K(null))},children:[r.jsx(vg,{asChild:!0,children:r.jsxs(V,{className:"gap-2",onClick:()=>{S(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),K(null)},children:[r.jsx(rr,{className:"h-4 w-4"}),e("dashboard.wallet.banksTab.addBank")]})}),r.jsxs(ar,{className:"max-w-lg",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Uo,{className:"h-5 w-5"}),e(v?"dashboard.wallet.banksTab.editBankTitle":"dashboard.wallet.banksTab.addBankTitle")]}),r.jsx(pr,{children:e("dashboard.wallet.banksTab.dialogDesc")})]}),r.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[e("dashboard.wallet.banksTab.bankName")," *"]}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.bankName"),value:I.name,onChange:q=>R({...I,name:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:e("dashboard.wallet.banksTab.bankNameAr")}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.bankNameAr"),value:I.nameAr||"",onChange:q=>R({...I,nameAr:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[e("dashboard.wallet.banksTab.bankCode")," *"]}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.bankCode"),value:I.code,onChange:q=>R({...I,code:q.target.value}),disabled:!!v}),v&&r.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.wallet.banksTab.bankCodeHint")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:e("dashboard.wallet.banksTab.bankLogo")}),r.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:L?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("img",{src:URL.createObjectURL(L),alt:"Logo preview",className:"h-16 w-16 object-contain"}),r.jsx("span",{className:"text-sm",children:L.name}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>K(null),children:r.jsx(Ls,{className:"h-4 w-4"})})]}):v&&v.logo?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("img",{src:v.logo,alt:"Current logo",className:"h-16 w-16 object-contain"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.banksTab.currentLogo")})]}):r.jsxs("label",{className:"cursor-pointer",children:[r.jsx(An,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.banksTab.uploadLogo")}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:q=>{var se;return K(((se=q.target.files)==null?void 0:se[0])||null)}})]})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[e("dashboard.wallet.banksTab.accountName")," *"]}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.accountName"),value:I.accountName,onChange:q=>R({...I,accountName:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[e("dashboard.wallet.banksTab.accountNumber")," *"]}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.accountNumber"),value:I.accountNumber,onChange:q=>R({...I,accountNumber:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{children:[e("dashboard.wallet.banksTab.iban")," *"]}),r.jsx(pe,{placeholder:"SA1234567890123456789012",value:I.iban,onChange:q=>R({...I,iban:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:e("dashboard.wallet.banksTab.swiftCode")}),r.jsx(pe,{placeholder:e("dashboard.wallet.banksTab.swiftCode"),value:I.swiftCode||"",onChange:q=>R({...I,swiftCode:q.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:e("dashboard.wallet.banksTab.sortOrder")}),r.jsx(pe,{type:"number",placeholder:"0",value:I.sortOrder,onChange:q=>R({...I,sortOrder:parseInt(q.target.value)||0})})]}),r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:I.isActive,onChange:q=>R({...I,isActive:q.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),r.jsx(Y,{htmlFor:"isActive",className:"cursor-pointer",children:e("dashboard.wallet.banksTab.active")})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>{w(!1),S(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),K(null)},children:e("common.cancel","Cancel")}),r.jsxs(V,{onClick:F,disabled:j||!I.name||!I.code||!I.accountName||!I.accountNumber||!I.iban,children:[j&&r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),e(v?"dashboard.wallet.banksTab.saveChanges":"dashboard.wallet.banksTab.addBank")]})]})]})]})]})}),r.jsx(Se,{children:p.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Uo,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.banksTab.noBanks")}),r.jsx("p",{className:"text-sm mb-4",children:e("dashboard.wallet.banksTab.noBanksDesc")}),r.jsxs(V,{onClick:()=>w(!0),children:[r.jsx(rr,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.banksTab.addBank")]})]}):r.jsx("div",{className:"space-y-4",children:p.map(q=>r.jsx(we,{className:xe(!q.isActive&&"opacity-60"),children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[q.logo?r.jsx("img",{src:q.logo,alt:q.name,className:"h-8 w-8 object-contain"}):r.jsx(Uo,{className:"h-5 w-5 text-muted-foreground"}),r.jsx("h3",{className:"font-semibold text-lg",children:s&&q.nameAr||q.name}),q.isActive?r.jsx(et,{variant:"default",className:"text-xs",children:e("common.active","Active")}):r.jsx(et,{variant:"secondary",className:"text-xs",children:e("common.inactive","Inactive")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.bankCode"),": "]}),r.jsx("span",{className:"font-medium",children:q.code})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountName"),": "]}),r.jsx("span",{className:"font-medium",children:q.accountName})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountNumber"),": "]}),r.jsx("span",{className:"font-mono font-medium",children:q.accountNumber})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.iban"),": "]}),r.jsx("span",{className:"font-mono font-medium text-xs",children:q.iban})]}),q.swiftCode&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.swiftCode"),": "]}),r.jsx("span",{className:"font-mono font-medium text-xs",children:q.swiftCode})]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.wallet.banksTab.sortOrder"),": ",q.sortOrder]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>U(q),children:e("common.edit","Edit")}),r.jsx(V,{variant:"destructive",size:"sm",onClick:()=>G(q.id),children:e("common.delete","Delete")})]})]})})},q.id))})})]})})]}),r.jsx(ir,{open:A,onOpenChange:E,children:r.jsxs(ar,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"h-5 w-5"}),e("dashboard.wallet.requestsTab.detailsTitle")]}),r.jsx(pr,{children:e("dashboard.wallet.requestsTab.detailsDesc")})]}),N&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.amount")}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:[typeof N.amount=="string"?parseFloat(N.amount).toFixed(2):N.amount.toFixed(2)," ",N.currency]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.requestsTab.method")}),r.jsx(et,{variant:"outline",children:N.paymentMethod})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.status")}),r.jsx(et,{variant:((ie=jx[N.status])==null?void 0:ie.variant)||"default",children:e(((re=jx[N.status])==null?void 0:re.labelKey)||"dashboard.wallet.status.PENDING")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ri,{className:"h-3 w-3"}),e("dashboard.wallet.date")]}),r.jsx("span",{className:"text-sm",children:H(N.createdAt)})]})]})})}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"space-y-3",children:[N.bank&&r.jsxs(r.Fragment,{children:[r.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[r.jsx(Uo,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.bankInfo")]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.bankName"),": "]}),r.jsx("span",{className:"font-medium",children:s&&N.bank.nameAr||N.bank.name})]}),N.bank.accountName&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountName"),": "]}),r.jsx("span",{className:"font-medium",children:N.bank.accountName})]}),N.bank.accountNumber&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountNumber"),": "]}),r.jsx("span",{className:"font-mono font-medium",children:N.bank.accountNumber})]})]})]}),N.senderName&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[r.jsx(ao,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.senderInfo")]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.requestsTab.senderName"),": "]}),r.jsx("span",{className:"font-medium",children:N.senderName})]}),N.transferReference&&r.jsxs("div",{children:[r.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.requestsTab.referenceNumber"),": "]}),r.jsx("span",{className:"font-mono font-medium",children:N.transferReference})]})]})]})]})})})]}),N.notes&&r.jsx(we,{children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[r.jsx(ka,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.notes")]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.notes})]})}),N.receiptImage&&r.jsx(we,{children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Mi,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.receiptImage")]}),r.jsx("div",{className:"relative border rounded-lg overflow-hidden bg-muted",children:r.jsx("img",{src:N.receiptImage,alt:e("dashboard.wallet.requestsTab.receipt"),className:"w-full h-auto max-h-[500px] object-contain cursor-pointer",onClick:()=>window.open(N.receiptImage,"_blank")})}),r.jsx(V,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.open(N.receiptImage,"_blank"),children:e("common.openInNewWindow","Open in New Window")})]})}),N.status==="REJECTED"&&N.rejectionReason&&r.jsx(we,{children:r.jsxs(Se,{className:"pt-6",children:[r.jsxs("h4",{className:"font-semibold mb-2 text-destructive flex items-center gap-2",children:[r.jsx(Ls,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.rejectionReason")]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.rejectionReason})]})}),N.status==="PENDING"&&r.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t",children:[r.jsxs(V,{variant:"outline",onClick:()=>{M(!0)},disabled:D,children:[r.jsx(Ls,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.reject")]}),r.jsx(V,{onClick:J,disabled:D,className:"bg-green-600 hover:bg-green-700",children:D?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),e("dashboard.wallet.requestsTab.processing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.approve")]})})]})]})]})}),r.jsx(ir,{open:O,onOpenChange:M,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:e("dashboard.wallet.requestsTab.rejectTitle")}),r.jsx(pr,{children:e("dashboard.wallet.requestsTab.rejectDesc")})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"rejectReason",children:e("dashboard.wallet.requestsTab.rejectionReason")}),r.jsx(Ys,{id:"rejectReason",value:P,onChange:q=>_(q.target.value),placeholder:e("dashboard.wallet.requestsTab.rejectPlaceholder"),rows:4,className:"mt-2"})]})}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>{M(!1),_("")},children:e("common.cancel","Cancel")}),r.jsx(V,{variant:"destructive",onClick:z,disabled:!P.trim()||D,children:D?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),e("dashboard.wallet.requestsTab.processing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Ls,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.reject")]})})]})]})})]})}function oxt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(1),[o,l]=f.useState(1);return f.useEffect(()=>{(async()=>{var c,d,u;a(!0);try{const h=await fe.get("/activity-log",{params:{page:n,limit:20}});t(h.logs||((c=h.data)==null?void 0:c.logs)||[]),l(((d=h.pagination)==null?void 0:d.totalPages)||Math.ceil((((u=h.pagination)==null?void 0:u.total)||0)/20))}catch(h){console.error("Failed to fetch activity logs:",h)}finally{a(!1)}})()},[n]),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{children:" "})}),r.jsx(Se,{children:s?r.jsx("div",{className:"text-center py-8",children:" "}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""}),r.jsx(Ae,{children:""})]})}),r.jsx(us,{children:e.length>0?e.map(c=>r.jsxs(kt,{children:[r.jsx(Ne,{children:c.action}),r.jsx(Ne,{children:c.actorId}),r.jsx(Ne,{children:c.details?(()=>{var d;try{return((d=JSON.parse(c.details).permissions)==null?void 0:d.join(", "))||"-"}catch{return"-"}})():"-"}),r.jsx(Ne,{children:new Date(c.createdAt).toLocaleString("ar-EG")})]},c.id)):r.jsx(kt,{children:r.jsx(Ne,{colSpan:4,className:"text-center",children:"  "})})})]})})]})}function lxt(){const[e,t]=f.useState([]),[s,a]=f.useState(""),{user:n}=$s(),i=f.useCallback(async()=>{try{const l=await fe.get("/chat");t(l.data)}catch(l){console.error("Failed to load messages:",l)}},[]);f.useEffect(()=>{i();const l=setInterval(i,3e3);return()=>clearInterval(l)},[i]);const o=async()=>{if(s.trim())try{await fe.post("/chat",{content:s}),a(""),await i()}catch(l){console.error("Failed to send message:",l)}};return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)]",children:[r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 flex flex-col-reverse",children:e.map(l=>{var c,d;return r.jsxs("div",{className:`rounded p-2 max-w-[70%] ${l.senderId===(n==null?void 0:n.id)?"bg-blue-100 self-start":"bg-gray-100 self-end"}`,children:[r.jsx("div",{className:"font-bold text-xs mb-1",children:((c=l.sender)==null?void 0:c.name)||((d=l.sender)==null?void 0:d.email)||l.senderId}),r.jsx("div",{children:l.content}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(l.createdAt).toLocaleTimeString()})]},l.id)})}),r.jsxs("div",{className:"flex p-4 border-t gap-2",children:[r.jsx(pe,{value:s,onChange:l=>a(l.target.value),placeholder:" ",onKeyDown:l=>l.key==="Enter"&&o()}),r.jsx(V,{onClick:o,children:""})]})]})}function cxt(){const{t:e,i18n:t}=It(),[s,a]=f.useState("products"),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState("all"),[g,x]=f.useState([]),[y,b]=f.useState([]),[w,v]=f.useState([]),[S,j]=f.useState(0),[k,N]=f.useState(0),[C,A]=f.useState(0),[E,D]=f.useState(1),[T,P]=f.useState(20),[_,O]=f.useState(0),[M,I]=f.useState(1),[R,L]=f.useState(""),[K,H]=f.useState(1),[F,G]=f.useState(20),[U,W]=f.useState(1),[J,z]=f.useState(10),ie=f.useCallback(async()=>{try{const me=await fe.get("/brands");v(Array.isArray(me)?me:(me==null?void 0:me.brands)||[])}catch(me){console.error("Failed to load brands:",me),v([])}},[]),re=f.useCallback(async()=>{try{const me=await qh.getProductReport({page:E,limit:T,search:R||void 0});if(me&&"data"in me&&"meta"in me)x(me.data),O(me.meta.total),I(me.meta.totalPages);else{const Ue=Array.isArray(me)?me:[];x(Ue),O(Ue.length),I(1)}}catch(me){console.error("Failed to load products report:",me),x([]),O(0),I(1)}},[E,T,R]),q=f.useCallback(async()=>{try{const me=await fe.getOrders(),Ue=Array.isArray(me)?me:(me==null?void 0:me.orders)||[];let ce=Ue;(c||u)&&(ce=Ue.filter(We=>{const Xe=new Date(We.createdAt);return!(c&&Xe<new Date(c)||u&&Xe>new Date(u))})),o&&(ce=ce.filter(We=>We.orderNumber.toLowerCase().includes(o.toLowerCase())||We.customerEmail.toLowerCase().includes(o.toLowerCase())||We.customerName&&We.customerName.toLowerCase().includes(o.toLowerCase()))),b(ce);const Ee=ce.reduce((We,Xe)=>We+(Xe.subtotal||0),0),Pe=ce.reduce((We,Xe)=>We+(Xe.taxAmount||0),0),$e=ce.reduce((We,Xe)=>We+(Xe.totalAmount||0),0);j(Ee),N(Pe),A($e)}catch(me){console.error("Failed to load orders:",me),b([])}},[c,u,o]);f.useEffect(()=>{(async()=>{i(!0),await Promise.all([ie(),re(),q()]),i(!1)})()},[ie,re,q]),f.useEffect(()=>{(s==="orders"||s==="orderDetails")&&q()},[s,c,u,o,q]);const se=g;f.useEffect(()=>{const me=setTimeout(()=>{o!==R&&(L(o),D(1))},500);return()=>clearTimeout(me)},[o,R]),f.useEffect(()=>{s==="products"&&re()},[E,T,R,s,re]);const B=f.useMemo(()=>{const me=(K-1)*F;return y.slice(me,me+F)},[y,K,F]),oe=Math.ceil(y.length/F),de=f.useMemo(()=>{const me=(U-1)*J;return y.slice(me,me+J)},[y,U,J]),Te=Math.ceil(y.length/J),He=async()=>{try{const me=Br.book_new();if(s==="products"){const ce=await qh.getProductReport({page:1,limit:1e4,search:R||void 0});let Ee=[];ce&&"data"in ce?Ee=ce.data:Array.isArray(ce)&&(Ee=ce);const Pe=Ee.map(We=>({[e("dashboard.reports.productName")]:We.name,[e("dashboard.reports.sku")]:We.sku||"",[e("dashboard.reports.stock")]:We.stock,[e("dashboard.reports.salesCount")]:We.salesCount,[e("dashboard.reports.revenue")]:We.revenue})),$e=Br.json_to_sheet(Pe);Br.book_append_sheet(me,$e,e("dashboard.reports.productReport"))}else if(s==="orders"||s==="orderDetails"){const ce=y.map(Pe=>({[e("dashboard.reports.orderNo")]:Pe.orderNumber,[e("dashboard.orders.customer")]:Pe.customerName||Pe.customerEmail,[e("dashboard.reports.email")]:Pe.customerEmail,[e("dashboard.reports.subtotal")]:Pe.subtotal||0,[e("dashboard.reports.tax")]:Pe.taxAmount||0,[e("dashboard.reports.total")]:Pe.totalAmount,[e("dashboard.orders.status")]:Pe.status,[e("dashboard.orders.paymentStatus")]:Pe.paymentStatus,[e("dashboard.reports.orderDate")]:new Date(Pe.createdAt).toLocaleDateString()})),Ee=Br.json_to_sheet(ce);Br.book_append_sheet(me,Ee,e("dashboard.reports.orderReport"))}const Ue=`reports_${s}_${new Date().toISOString().split("T")[0]}.xlsx`;eh(me,Ue)}catch(me){console.error("Export failed:",me)}},Oe=async()=>{try{let me="",Ue=[],ce=[];if(s==="products"){me=e("dashboard.reports.productReport"),Ue=[e("dashboard.reports.productName"),e("dashboard.reports.sku"),e("dashboard.reports.stock"),e("dashboard.reports.salesCount"),e("dashboard.reports.revenue")];const Pe=await qh.getProductReport({page:1,limit:1e3,search:R||void 0});let $e=[];Pe&&"data"in Pe?$e=Pe.data:Array.isArray(Pe)&&($e=Pe),ce=$e.map(We=>[We.name,We.sku||"",We.stock,We.salesCount,Jn(We.revenue,"SAR")])}else me=e("dashboard.reports.orderReport"),Ue=[e("dashboard.reports.orderNo"),e("dashboard.orders.customer"),e("dashboard.reports.total"),e("dashboard.orders.status"),e("dashboard.reports.orderDate")],ce=y.map(Pe=>[Pe.orderNumber,Pe.customerName||Pe.customerEmail,Jn(Pe.totalAmount,"SAR"),Pe.status,new Date(Pe.createdAt).toLocaleDateString()]);const Ee=window.open("","_blank");Ee&&(Ee.document.write(`
          <html>
            <head>
              <title>${me}</title>
              <style>
                body { font-family: Arial, sans-serif; direction: ${t.language==="ar"?"rtl":"ltr"}; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: ${t.language==="ar"?"right":"left"}; }
                th { background-color: #f2f2f2; }
                h1 { text-align: center; }
                .footer { margin-top: 20px; text-align: center; font-size: 12px; color: #666; }
              </style>
            </head>
            <body>
              <h1>${me}</h1>
              <p>${e("dashboard.reports.generatedOn")}: ${new Date().toLocaleDateString()}</p>
              <table>
                <thead>
                  <tr>
                    ${Ue.map(Pe=>`<th>${Pe}</th>`).join("")}
                  </tr>
                </thead>
                <tbody>
                  ${ce.map(Pe=>`<tr>${Pe.map($e=>`<td>${$e}</td>`).join("")}</tr>`).join("")}
                </tbody>
              </table>
              <div class="footer">
                BlackBox E-Commerce Platform
              </div>
            </body>
          </html>
        `),Ee.document.close(),Ee.print())}catch(me){console.error("PDF export failed:",me)}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:e("dashboard.reports.loading")})]})}):r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e("dashboard.reports.title")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:[e("dashboard.reports.export"),":"]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:Oe,children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),e("dashboard.reports.pdf")]}),r.jsxs(V,{variant:"outline",size:"sm",onClick:He,children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),e("dashboard.reports.excel")]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-card rounded-lg border",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:e("dashboard.reports.search"),value:o,onChange:me=>l(me.target.value),className:"pl-10"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ri,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(pe,{type:"date",value:c,onChange:me=>d(me.target.value),className:"w-[150px]"}),r.jsx("span",{className:"text-muted-foreground",children:"-"}),r.jsx(pe,{type:"date",value:u,onChange:me=>h(me.target.value),className:"w-[150px]"})]}),r.jsxs(mr,{value:m,onValueChange:p,children:[r.jsx(dr,{className:"w-[200px]",children:r.jsx(xr,{placeholder:e("dashboard.reports.selectBrand")})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("dashboard.reports.allBrands")}),w.map(me=>r.jsx(_e,{value:me.id,children:me.nameAr||me.name},me.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(we,{children:[r.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(it,{className:"text-sm font-medium",children:e("dashboard.reports.totalPrice")}),r.jsx(rl,{className:"h-4 w-4 text-purple-500"})]}),r.jsx(Se,{children:r.jsx("div",{className:"text-2xl font-bold",children:Jn(S,"SAR")})})]}),r.jsxs(we,{children:[r.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(it,{className:"text-sm font-medium",children:e("dashboard.reports.totalTax")}),r.jsx(an,{className:"h-4 w-4 text-green-500"})]}),r.jsx(Se,{children:r.jsx("div",{className:"text-2xl font-bold",children:Jn(k,"SAR")})})]}),r.jsxs(we,{children:[r.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(it,{className:"text-sm font-medium",children:e("dashboard.reports.totalAfterTax")}),r.jsx(V2,{className:"h-4 w-4 text-blue-500"})]}),r.jsx(Se,{children:r.jsx("div",{className:"text-2xl font-bold",children:Jn(C,"SAR")})})]})]}),r.jsxs(Kn,{value:s,onValueChange:me=>a(me),children:[r.jsxs(_n,{children:[r.jsx(_r,{value:"products",children:e("dashboard.reports.products")}),r.jsx(_r,{value:"orders",children:e("dashboard.reports.orders")}),r.jsx(_r,{value:"orderDetails",children:e("dashboard.reports.orderDetails")})]}),r.jsx(Yr,{value:"products",className:"mt-6",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{children:[e("dashboard.reports.productReport")," (",_,")"]})}),r.jsx(Se,{children:_>0?r.jsxs(r.Fragment,{children:[r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:e("dashboard.reports.productName")}),r.jsx(Ae,{children:e("dashboard.reports.sku")}),r.jsx(Ae,{children:e("dashboard.reports.stock")}),r.jsx(Ae,{children:e("dashboard.reports.salesCount")}),r.jsx(Ae,{children:e("dashboard.reports.revenue")})]})}),r.jsx(us,{children:se.map(me=>r.jsxs(kt,{children:[r.jsx(Ne,{children:me.name}),r.jsx(Ne,{children:me.sku||"-"}),r.jsx(Ne,{children:me.stock}),r.jsx(Ne,{children:me.salesCount}),r.jsx(Ne,{children:Jn(me.revenue,"SAR")})]},me.id))})]}),r.jsx($u,{currentPage:E,totalPages:M,totalItems:_,itemsPerPage:T,onPageChange:D,onItemsPerPageChange:me=>{P(me),D(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:e("dashboard.reports.noData")})})})]})}),r.jsx(Yr,{value:"orders",className:"mt-6",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{children:[e("dashboard.reports.orderReport")," (",y.length,")"]})}),r.jsx(Se,{children:y.length>0?r.jsxs(r.Fragment,{children:[r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:e("dashboard.reports.orderNo")}),r.jsx(Ae,{children:e("dashboard.orders.customer")}),r.jsx(Ae,{children:e("dashboard.reports.email")}),r.jsx(Ae,{children:e("dashboard.reports.subtotal")}),r.jsx(Ae,{children:e("dashboard.reports.tax")}),r.jsx(Ae,{children:e("dashboard.reports.total")}),r.jsx(Ae,{children:e("dashboard.orders.status")}),r.jsx(Ae,{children:e("dashboard.reports.orderDate")})]})}),r.jsx(us,{children:B.map(me=>r.jsxs(kt,{children:[r.jsx(Ne,{children:me.orderNumber}),r.jsx(Ne,{children:me.customerName||"-"}),r.jsx(Ne,{children:me.customerEmail}),r.jsx(Ne,{children:Jn(me.subtotal||0,"SAR")}),r.jsx(Ne,{children:Jn(me.taxAmount||0,"SAR")}),r.jsx(Ne,{children:Jn(me.totalAmount,"SAR")}),r.jsx(Ne,{children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${me.status==="COMPLETED"?"bg-green-100 text-green-800":me.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:me.status})}),r.jsx(Ne,{children:new Date(me.createdAt).toLocaleDateString()})]},me.id))})]}),r.jsx($u,{currentPage:K,totalPages:oe,totalItems:y.length,itemsPerPage:F,onPageChange:H,onItemsPerPageChange:me=>{G(me),H(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:e("dashboard.reports.noData")})})})]})}),r.jsx(Yr,{value:"orderDetails",className:"mt-6",children:r.jsxs(we,{children:[r.jsx(st,{children:r.jsxs(it,{children:[e("dashboard.reports.orderDetails")," (",y.length,")"]})}),r.jsx(Se,{children:y.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4",children:de.map(me=>r.jsxs(we,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold",children:[e("dashboard.reports.orderNo"),": ",me.orderNumber]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:me.customerName||me.customerEmail}),r.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(me.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold",children:Jn(me.totalAmount,"SAR")}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("dashboard.orders.status"),": ",me.status]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("dashboard.reports.payment"),": ",me.paymentStatus]})]})]}),me.items&&me.items.length>0&&r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:e("dashboard.reports.products")}),r.jsx(Ae,{children:e("dashboard.reports.quantity")}),r.jsx(Ae,{children:e("dashboard.products.price")}),r.jsx(Ae,{children:e("dashboard.reports.itemTotal")})]})}),r.jsx(us,{children:me.items.map((Ue,ce)=>{var Ee,Pe;return r.jsxs(kt,{children:[r.jsx(Ne,{children:((Ee=Ue.product)==null?void 0:Ee.nameAr)||((Pe=Ue.product)==null?void 0:Pe.name)||"-"}),r.jsx(Ne,{children:Ue.quantity}),r.jsx(Ne,{children:Jn(Ue.price,"SAR")}),r.jsx(Ne,{children:Jn(Ue.price*Ue.quantity,"SAR")})]},ce)})})]}),r.jsx("div",{className:"mt-4 pt-4 border-t flex justify-end gap-4",children:r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:[e("dashboard.reports.subtotal"),": ",Jn(me.subtotal||0,"SAR")]}),r.jsxs("p",{className:"text-sm",children:[e("dashboard.reports.tax"),": ",Jn(me.taxAmount||0,"SAR")]}),r.jsxs("p",{className:"font-bold",children:[e("dashboard.reports.total"),": ",Jn(me.totalAmount,"SAR")]})]})})]},me.id))}),r.jsx($u,{currentPage:U,totalPages:Te,totalItems:y.length,itemsPerPage:J,onPageChange:W,onItemsPerPageChange:me=>{z(me),W(1)},itemsPerPageOptions:[5,10,20,50],showItemsPerPage:!0,className:"border-t mt-4"})]}):r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:e("dashboard.reports.noData")})})})]})})]})]})}const kg=()=>{const e=window.location.hostname;if(e.includes(".localhost")){const t=e.split(".localhost")[0];return{domain:e,subdomain:t}}if(e.endsWith(".saeaa.com")||e.endsWith(".saeaa.net")){const s=e.split(".")[0];return{domain:e,subdomain:s}}try{const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);if(s.tenantSubdomain)return{domain:e,subdomain:s.tenantSubdomain}}}catch{}return{domain:e}};function dxt({onClose:e,onSwitchToSignup:t,onLoginSuccess:s}){const{toast:a}=Lt(),{i18n:n}=It(),i=n.language==="ar",{settings:o}=Um(),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(!1),[p,g]=f.useState(!1),x=async y=>{if(y.preventDefault(),!l||!d){a({variant:"destructive",title:i?" ":"Required Information",description:i?"     ":"Please enter your email and password"});return}m(!0);try{const b=kg(),w={};b.subdomain&&(w["X-Tenant-Domain"]=b.domain);const v=await Q.post(`${Q.authUrl}/customers/login`,{email:l,password:d},{requireAuth:!1,headers:w});if(vo(v))throw new Error(Jl(v));if(!v||typeof v!="object"||!("token"in v))throw new Error("Invalid response from server");if(!v.token)throw new Error("No token received from server");if(localStorage.setItem("customerToken",String(v.token)),v.customer){const S={...v.customer,...v.isEmployee&&{isEmployee:!0},...v.employerEmail&&{employerEmail:v.employerEmail},...v.permissions&&{permissions:v.permissions}};localStorage.setItem("customerData",JSON.stringify(S))}window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:v.token,customer:v.customer,isEmployee:v.isEmployee,employerEmail:v.employerEmail,permissions:v.permissions}})),a({title:i?"   ":"Login successful",description:i?"   ":"Welcome back!"}),s==null||s(),setTimeout(()=>{e()},100)}catch(b){console.error("Login error:",b);const{title:w,description:v}=Wo(b,{operation:i?" ":"login",resource:i?"":"as customer"},i);a({variant:"destructive",title:w,description:v})}finally{m(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:r.jsx("div",{className:"w-full max-w-md relative animate-scale-in",children:r.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),r.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-primary/10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 rounded-full bg-secondary/10 blur-3xl"}),r.jsx("button",{onClick:e,className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[r.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-white shadow-xl border-2 border-primary/10 p-2",children:r.jsx(T0,{src:o.storeLogoUrl||o.logoUrl||"",alt:i&&o.storeNameAr||o.storeName,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-2xl font-bold gradient-text",children:i&&o.storeNameAr||o.storeName}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 max-w-[250px] mx-auto",children:i&&o.storeDescriptionAr||o.storeDescription})]})]}),r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-4 rounded-xl bg-primary/10 text-primary",children:r.jsx(tl,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:i?" ":"Welcome Back"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:i?"    ":"Sign in to continue with your order"})]}),r.jsxs("div",{className:"relative px-8 pb-8",children:[r.jsxs("form",{onSubmit:x,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"customer-email",className:"text-sm font-medium",children:i?" ":"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ba,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-4":"left-4")}),r.jsx(pe,{id:"customer-email",type:"email",placeholder:"name@example.com",value:l,onChange:y=>c(y.target.value),required:!0,className:xe("h-12 text-base rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-12":"pl-12")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"customer-password",className:"text-sm font-medium",children:i?" ":"Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-4":"left-4")}),r.jsx(pe,{id:"customer-password",type:p?"text":"password",placeholder:"",value:d,onChange:y=>u(y.target.value),required:!0,className:xe("h-12 text-base rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-12 pl-12":"pl-12 pr-12")}),r.jsx("button",{type:"button",onClick:()=>g(!p),className:xe("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",i?"left-4":"right-4"),children:p?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsx(V,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:h,children:h?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:i?"  ...":"Signing in..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(B2,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:i?" ":"Sign In"})]})})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:r.jsxs("p",{className:"text-sm text-center text-muted-foreground flex items-center justify-center gap-1 flex-wrap",children:[i?"  ":"Don't have an account?",r.jsxs("button",{onClick:t,className:"text-primary hover:text-primary/80 font-semibold inline-flex items-center gap-1 hover:underline transition-colors",children:[r.jsx(bs,{className:"h-4 w-4"}),i?"  ":"Create one"]})]})})]})]})})})}function uxt({onClose:e,onSwitchToLogin:t,onSignupSuccess:s}){const{toast:a}=Lt(),{i18n:n}=It(),i=n.language==="ar",{settings:o}=Um(),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,g]=f.useState(""),[x,y]=f.useState(""),[b,w]=f.useState(""),[v,S]=f.useState(!1),[j,k]=f.useState(!1),[N,C]=f.useState(0),[A,E]=f.useState(null),[D,T]=f.useState(!1),[P,_]=f.useState(!1),[O,M]=f.useState(!1),[I,R]=f.useState(""),[L,K]=f.useState(!1),[H,F]=f.useState("");f.useEffect(()=>{if(!x){C(0);return}let se=0;x.length>=6&&(se+=25),x.length>=10&&(se+=25),/[a-z]/.test(x)&&/[A-Z]/.test(x)&&(se+=25),/[0-9]/.test(x)&&(se+=15),/[^a-zA-Z0-9]/.test(x)&&(se+=10),C(Math.min(se,100))},[x]);const G=()=>N<40?"bg-red-500":N<70?"bg-yellow-500":"bg-green-500",U=()=>N<40?i?"":"Weak":N<70?i?"":"Medium":i?"":"Strong",W=()=>{A&&(navigator.clipboard.writeText(A),_(!0),a({title:i?" !":"Copied!",description:i?"     ":"Recovery ID copied to clipboard"}),setTimeout(()=>_(!1),2e3))},J=()=>{if(A){const se=`Recovery ID |  

${A}

Please keep this ID in a safe place. You can use it to recover your account if you forget your email or it gets compromised.

      .           .

Generated: ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"long"})}`,B=new Blob([se],{type:"text/plain;charset=utf-8"}),oe=URL.createObjectURL(B),de=document.createElement("a");de.href=oe,de.download=`recovery-id-${A.substring(0,8)}.txt`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(oe),a({title:i?" !":"Downloaded!",description:i?"   ":"Recovery ID downloaded"}),_(!0)}},z=()=>{s==null||s(),e()},ie=async se=>{if(se.preventDefault(),x!==b){a({variant:"destructive",title:i?" ":"Mismatch",description:i?"   .         ":"Passwords do not match. Please ensure both passwords are identical and try again"});return}S(!0);try{const B=kg(),oe={};B.subdomain&&(oe["X-Tenant-Domain"]=B.domain);const de=await Q.post(`${Q.authUrl}/customers/signup`,{email:h,password:x,firstName:l,lastName:d,phone:p},{requireAuth:!1,headers:oe});de.verificationCodeSent||de.verificationCode?(F(h),M(!0)):de.token&&de.customer&&(localStorage.setItem("customerToken",de.token),localStorage.setItem("customerData",JSON.stringify(de.customer)),de.recoveryId?(E(de.recoveryId),T(!0)):(a({title:i?"   ":"Account created successfully",description:i?"   ":"Welcome to our store!"}),s==null||s(),e()))}catch(B){const{title:oe,description:de}=Wo(B,{operation:i?"":"create",resource:i?"":"account"},i);a({variant:"destructive",title:oe,description:de})}finally{S(!1)}},re=async()=>{if(!I||I.length!==6){a({variant:"destructive",title:i?"":"Error",description:i?"      6 ":"Please enter a 6-digit verification code"});return}K(!0);try{const se=kg(),B={};se.subdomain&&(B["X-Tenant-Domain"]=se.domain);const oe=await Q.post(`${Q.authUrl}/customers/verify-email`,{email:H,code:I},{requireAuth:!1,headers:B});oe.valid&&oe.token?(localStorage.setItem("customerToken",oe.token),localStorage.setItem("customerData",JSON.stringify(oe.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:oe.token,customer:oe.customer}})),M(!1),oe.recoveryId?(E(oe.recoveryId),T(!0)):(a({title:i?"  !":"Verification successful!",description:i?"   .  !":"Your account has been created successfully. Welcome!"}),s==null||s(),e())):a({variant:"destructive",title:i?"":"Error",description:oe.message||(i?"   ":"Invalid verification code")})}catch(se){const{title:B,description:oe}=Wo(se,{operation:i?"":"verify",resource:i?" ":"email"},i);a({variant:"destructive",title:B,description:oe})}finally{K(!1)}},q=async()=>{K(!0);try{const se=kg(),B={};se.subdomain&&(B["X-Tenant-Domain"]=se.domain),await Q.post(`${Q.authUrl}/customers/resend-verification-code`,{email:H},{requireAuth:!1,headers:B}),a({title:i?" !":"Sent!",description:i?"       ":"A new verification code has been sent to your email"}),R("")}catch(se){const{title:B,description:oe}=Wo(se,{operation:i?" ":"resend",resource:i?" ":"verification code"},i);a({variant:"destructive",title:B,description:oe})}finally{K(!1)}};return r.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto animate-fade-in",children:[O&&r.jsx("div",{className:"w-full max-w-md relative animate-scale-in z-50",onClick:se=>{se.target===se.currentTarget&&M(!1)},children:r.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),r.jsx("button",{onClick:()=>M(!1),className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[r.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-white shadow-xl border-2 border-primary/10 p-2",children:r.jsx(T0,{src:o.storeLogoUrl||o.logoUrl||"",alt:i&&o.storeNameAr||o.storeName,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("h2",{className:"text-2xl font-bold gradient-text",children:i&&o.storeNameAr||o.storeName}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 max-w-[250px] mx-auto",children:i&&o.storeDescriptionAr||o.storeDescription})]})]}),r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-4 rounded-xl bg-primary/10 text-primary",children:r.jsx(Cn,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:i?"   ":"Verify Your Email"}),r.jsx("p",{className:"text-muted-foreground text-sm",children:i?`     ${H}`:`We've sent a verification code to ${H}`})]}),r.jsxs("div",{className:"relative px-8 pb-8",children:[r.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ba,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-primary",children:[r.jsx("p",{className:"font-semibold mb-1",children:i?"   ":"Check your email"}),r.jsx("p",{children:i?"      6  :":"A 6-digit verification code has been sent to:"}),r.jsx("p",{className:"font-mono font-bold mt-1",children:H})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"otp",className:"text-sm font-medium",children:i?" ":"Verification Code"}),r.jsx(pe,{id:"otp",type:"text",placeholder:"123456",value:I,onChange:se=>{const B=se.target.value.replace(/\D/g,"").slice(0,6);R(B)},className:"h-12 text-center text-2xl font-mono tracking-widest rounded-xl",maxLength:6,disabled:L}),r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:i?"     6 ":"Please enter the 6-digit code"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{onClick:re,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:L||I.length!==6,children:L?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:xe("h-5 w-5 animate-spin",i?"ml-2":"mr-2")}),i?" ...":"Verifying..."]}):r.jsxs(r.Fragment,{children:[i?"":"Verify",r.jsx(ma,{className:xe("w-4 h-4",i?"mr-2":"ml-2")})]})}),r.jsx(V,{onClick:q,variant:"outline",className:"w-full h-12 rounded-xl",disabled:L,children:L?r.jsx(Je,{className:xe("h-5 w-5 animate-spin",i?"ml-2":"mr-2")}):r.jsxs(r.Fragment,{children:[r.jsx(ba,{className:xe("w-4 h-4",i?"ml-2":"mr-2")}),i?"  ":"Resend Code"]})}),r.jsxs(V,{onClick:()=>{M(!1),R("")},variant:"ghost",className:"w-full h-12 rounded-xl text-muted-foreground hover:text-foreground",disabled:L,children:[r.jsx(jr,{className:xe("w-4 h-4",i?"ml-2":"mr-2")}),i?"":"Cancel"]})]})]})]})]})}),D&&A?r.jsx("div",{className:"w-full max-w-md relative animate-scale-in",children:r.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 to-emerald-600"}),r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-green-500/10 rounded-2xl flex items-center justify-center mb-6",children:r.jsx(sa,{className:"w-10 h-10 text-green-500"})}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:i?"  ":"Secret Recovery ID"}),r.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:i?" !      .":"Very important! Save this ID in a safe place."}),r.jsx("div",{className:"bg-muted/50 rounded-2xl p-6 mb-8 border border-border/50",children:r.jsx("p",{className:"text-2xl font-mono font-bold text-primary tracking-wider select-all",children:A})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsx(V,{onClick:W,variant:"outline",className:"h-12 rounded-xl border-2",children:P?r.jsxs(r.Fragment,{children:[r.jsx(va,{className:"w-4 h-4 ml-2 text-green-500"}),i?" ":"Copied"]}):r.jsxs(r.Fragment,{children:[r.jsx(sc,{className:"w-4 h-4 ml-2"}),i?" ":"Copy ID"]})}),r.jsxs(V,{onClick:J,variant:"outline",className:"h-12 rounded-xl border-2",children:[r.jsx(xn,{className:"w-4 h-4 ml-2"}),i?" ":"Download"]})]}),r.jsxs(V,{onClick:z,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:!P,children:[i?"":"Continue",r.jsx(ma,{className:xe("w-4 h-4",i?"mr-2":"ml-2")})]}),!P&&r.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:i?"      ":"Please copy or download the ID before continuing"})]})]})}):r.jsx("div",{className:"w-full max-w-md relative my-8 animate-scale-in",children:r.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),r.jsx("button",{onClick:e,className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-2xl gradient-primary shadow-lg",children:r.jsx(zd,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:i?"  ":"Create Account"}),r.jsx("p",{className:"text-muted-foreground",children:i?"    ":"Join us and start shopping now"})]}),r.jsxs("div",{className:"relative px-8 pb-8",children:[r.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"firstName",className:"text-sm font-medium",children:i?" ":"First Name"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ao,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),r.jsx(pe,{id:"firstName",placeholder:i?"":"John",value:l,onChange:se=>c(se.target.value),required:!0,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"lastName",className:"text-sm font-medium",children:i?" ":"Last Name"}),r.jsx(pe,{id:"lastName",placeholder:i?"":"Doe",value:d,onChange:se=>u(se.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"signup-email",className:"text-sm font-medium",children:i?" ":"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ba,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),r.jsx(pe,{id:"signup-email",type:"email",placeholder:"name@example.com",value:h,onChange:se=>m(se.target.value),required:!0,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"phone",className:"text-sm font-medium",children:i?"  ()":"Phone (Optional)"}),r.jsxs("div",{className:"relative group",children:[r.jsx(Fi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),r.jsx(pe,{id:"phone",type:"tel",placeholder:"+966 50 123 4567",value:p,onChange:se=>g(se.target.value),className:xe("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"signup-password",className:"text-sm font-medium",children:i?" ":"Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),r.jsx(pe,{id:"signup-password",type:j?"text":"password",value:x,onChange:se=>y(se.target.value),required:!0,minLength:6,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10 pl-10":"pl-10 pr-10")}),r.jsx("button",{type:"button",onClick:()=>k(!j),className:xe("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",i?"left-3":"right-3"),children:j?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]}),x&&r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-muted-foreground",children:i?"  :":"Strength:"}),r.jsx("span",{className:xe("font-semibold",N<40?"text-red-500":N<70?"text-yellow-500":"text-green-500"),children:U()})]}),r.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:xe("h-full transition-all duration-500",G()),style:{width:`${N}%`}})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:i?"  ":"Confirm Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),r.jsx(pe,{id:"confirmPassword",type:j?"text":"password",value:b,onChange:se=>w(se.target.value),required:!0,minLength:6,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),r.jsx(V,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-4",disabled:v,children:v?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:i?" ...":"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(zd,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:i?" ":"Create Account"})]})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-border/50",children:r.jsxs("p",{className:"text-sm text-center text-muted-foreground flex items-center justify-center gap-1",children:[i?"  ":"Already have an account?",r.jsx("button",{onClick:t,className:"text-primary hover:text-primary/80 font-semibold hover:underline transition-colors",children:i?" ":"Sign In"})]})})]})]})})]})}function hxt({isOpen:e,onClose:t,logoUrl:s,storeName:a}){const{i18n:n}=It(),i=n.language,o=i==="ar",l=Gn(),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState(!0);f.useEffect(()=>{e&&(async()=>{try{h(!0);const b=await fe.get("/public/navigation-pages",{requireAuth:!1});b&&b.pages&&Array.isArray(b.pages)&&d(b.pages)}catch(b){console.error("Failed to load navigation pages:",b),d([])}finally{h(!1)}})()},[e]),f.useEffect(()=>{t()},[l.pathname]);const g=y=>l.pathname===y,x=y=>{const b=(y.title||"").toLowerCase(),w=(y.titleAr||"").toLowerCase();(y.titleEn||"").toLowerCase();const v=(y.slug||"").toLowerCase();return b.includes("employee")||b.includes("staff")||w.includes("")||v.includes("employee")?wr:b.includes("wallet")||b.includes("balance")||w.includes("")||w.includes("")||v.includes("wallet")||v.includes("balance")?Na:b.includes("report")||w.includes("")||v.includes("report")?Ua:b.includes("profile")||w.includes("")||v.includes("profile")?ao:b.includes("order")||w.includes("")||v.includes("order")?tl:b.includes("favorite")||w.includes("")||v.includes("favorite")?xs:b.includes("support")||w.includes("")||v.includes("support")?ka:b.includes("categor")||w.includes("")||v.includes("categor")||b.includes("store")||w.includes("")||v.includes("store")?xs:ka};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:xe("fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] transition-all duration-500",e?"opacity-100":"opacity-0 pointer-events-none"),onClick:t}),r.jsxs("div",{className:xe("fixed top-0 bottom-0 w-[320px] max-w-[90vw] z-[101] transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) flex flex-col","bg-[#0f172a] border-r border-white/5 shadow-2xl",o?"right-0 border-l border-r-0 rounded-l-3xl":"left-0 rounded-r-3xl",e?"translate-x-0":o?"translate-x-full":"-translate-x-full"),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-slate-400 hover:text-white",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsx("span",{className:"text-base font-medium text-slate-200",children:i==="ar"?"  ":"Browse Store Pages"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border border-white/10 flex items-center justify-center overflow-hidden shadow-inner",children:s?r.jsx("img",{src:s,alt:a||"Store Logo",className:"w-full h-full object-contain p-1.5"}):r.jsx(xs,{className:"h-5 w-5 text-indigo-400"})})]}),r.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent w-full mb-4"}),r.jsxs("div",{className:"px-5 space-y-3 mb-6",children:[r.jsxs(tt,{to:"/",onClick:t,className:xe("group flex items-center justify-between p-4 rounded-2xl transition-all duration-300 border",l.pathname==="/"?"bg-slate-800/80 border-indigo-500/30 shadow-lg shadow-indigo-500/10":"bg-slate-900/50 border-white/5 hover:bg-slate-800 hover:border-white/10"),children:[r.jsx("div",{className:xe("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300",l.pathname==="/"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30":"bg-slate-800 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:r.jsx(ip,{className:"h-6 w-6"})}),r.jsx("span",{className:xe("flex-1 px-4 text-lg font-medium transition-colors",l.pathname==="/"?"text-white":"text-slate-400 group-hover:text-white"),children:i==="ar"?"":"Home"})]}),r.jsxs(tt,{to:"/products",onClick:t,className:xe("group flex items-center justify-between p-4 rounded-2xl transition-all duration-300 border",l.pathname==="/products"?"bg-slate-800/80 border-indigo-500/30 shadow-lg shadow-indigo-500/10":"bg-slate-900/50 border-white/5 hover:bg-slate-800 hover:border-white/10"),children:[r.jsx("div",{className:xe("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300",l.pathname==="/products"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30":"bg-slate-800 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:r.jsx(tl,{className:"h-6 w-6"})}),r.jsx("span",{className:xe("flex-1 px-4 text-lg font-medium transition-colors",l.pathname==="/products"?"text-white":"text-slate-400 group-hover:text-white"),children:i==="ar"?"":"Products"})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col px-5",children:[r.jsxs("button",{onClick:()=>p(!m),className:"flex items-center justify-between w-full py-3 text-amber-500 hover:text-amber-400 transition-colors group",children:[r.jsx("span",{className:"text-sm font-bold tracking-wide uppercase",children:i==="ar"?" ":"Store Pages"}),r.jsx(to,{className:xe("h-4 w-4 transition-transform duration-300",!m&&"rotate-180")})]}),m&&r.jsx(La,{className:"flex-1 -mx-2 px-2",children:r.jsx("div",{className:"space-y-2 pb-6 pt-2",children:u?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>r.jsx("div",{className:"h-16 rounded-2xl bg-slate-800/30 animate-pulse"},y))}):c.length>0?c.map((y,b)=>{const w=x(y),v=g(`/page/${y.slug}`);return r.jsxs(tt,{to:`/page/${y.slug}`,className:xe("group flex items-center justify-between p-3 rounded-2xl transition-all duration-300 border",v?"bg-amber-500/10 border-amber-500/20":"bg-transparent border-transparent hover:bg-slate-800/50 hover:border-white/5"),style:{animationDelay:`${b*50}ms`},onClick:t,children:[r.jsx("div",{className:xe("w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300",v?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-slate-800/50 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:r.jsx(w,{className:"h-5 w-5"})}),r.jsx("span",{className:xe("flex-1 px-3 text-base font-medium transition-colors",v?"text-amber-500":"text-slate-400 group-hover:text-slate-200"),children:o?y.titleAr||y.title:y.titleEn||y.title}),r.jsx(Ms,{className:xe("h-4 w-4 transition-all duration-300",o&&"rotate-180",v?"text-amber-500 translate-x-1 rtl:-translate-x-1":"text-slate-600 group-hover:text-slate-400")})]},y.id)}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center opacity-50",children:[r.jsx(ka,{className:"h-10 w-10 text-slate-500 mb-3"}),r.jsx("p",{className:"text-sm text-slate-400",children:i==="ar"?"   ":"No additional pages"})]})})})]}),r.jsx("div",{className:"p-5 mt-auto",children:r.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-slate-900 border border-white/5 p-4 group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[r.jsx(bs,{className:"h-4 w-4 text-amber-500"}),r.jsx("span",{className:"text-xs font-medium",children:i==="ar"?`${c.length}  `:`${c.length} page${c.length!==1?"s":""} available`})]}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})})]})]})})]})]})}function mxt({cartItemCount:e=0,onSearch:t}){var de,Te,He,Oe,me,Ue,ce,Ee,Pe,$e,We,Xe;const{cart:s}=Rp(),{i18n:a}=It(),n=((de=s==null?void 0:s.items)==null?void 0:de.reduce((Ce,Ye)=>Ce+(Ye.quantity||1),0))||e,[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,y]=f.useState(!1),[b,w]=f.useState(a.language||"ar"),[v,S]=f.useState(null),[j,k]=f.useState(null),[N,C]=f.useState([]),[A,E]=f.useState([]),[D,T]=f.useState(!1),[P,_]=f.useState(!1),[O,M]=f.useState(!1),[I,R]=f.useState(0),[L,K]=f.useState([]),[H,F]=f.useState(!1),[G,U]=f.useState(!1),W=Gn(),J=ts();f.useEffect(()=>{const Ce=()=>M(window.scrollY>20);return window.addEventListener("scroll",Ce),()=>window.removeEventListener("scroll",Ce)},[]),f.useEffect(()=>{if(!G)return;const Ce=Ye=>{const ft=Ye.target,Pt=ft.closest("[data-user-menu-button]"),vt=ft.closest("[data-user-menu-dropdown]");!Pt&&!vt&&U(!1)};return document.addEventListener("mousedown",Ce),()=>document.removeEventListener("mousedown",Ce)},[G]),f.useEffect(()=>{if(!H)return;const Ce=Ye=>{var br,$t;const ft=Ye.target,Pt=ft.closest("[data-notifications-dropdown]"),vt=(br=ft.closest("button"))==null?void 0:br.querySelector("svg"),Qt=vt&&(($t=vt.getAttribute("class"))==null?void 0:$t.includes("Bell"));!Pt&&!Qt&&F(!1)};return document.addEventListener("mousedown",Ce),()=>document.removeEventListener("mousedown",Ce)},[H]),f.useEffect(()=>{const Ce=RA();W.state&&W.state.showLogin&&Ce&&(o(!0),J(W.pathname,{replace:!0,state:{}}))},[W,J]),f.useEffect(()=>{const Ce=localStorage.getItem("customerToken"),Ye=localStorage.getItem("customerData");Ce&&Ye&&S(JSON.parse(Ye))},[]),f.useEffect(()=>{(async()=>{if(v)try{const Ye=await Is.getBalance(),ft=Ye!=null&&Ye.balance?Number(Ye.balance):0;R(ft)}catch(Ye){console.error("Failed to load wallet balance:",Ye),R(0)}else R(0)})()},[v]),f.useEffect(()=>{(async()=>{try{let Ye=[];if(v)try{const ft=await fe.get("/notifications",{requireAuth:!0}).catch(()=>null);ft&&Array.isArray(ft)&&(Ye=ft.map(Pt=>{var vt;return{id:Pt.id,type:Pt.type||"info",title:Pt.titleEn||"Notification",titleAr:Pt.titleAr||"",message:Pt.bodyEn||"",messageAr:Pt.bodyAr||"",timestamp:new Date(Pt.createdAt||Date.now()),read:!!Pt.readAt,link:typeof((vt=Pt.data)==null?void 0:vt.link)=="string"?Pt.data.link:void 0}}))}catch(ft){console.warn("Failed to fetch notifications API",ft)}K(Ye)}catch(Ye){console.error("Failed to load notifications:",Ye),K([])}})()},[v]),f.useEffect(()=>{(async()=>{var Ye,ft;try{const vt=new URLSearchParams(window.location.search).get("theme_preview");let Qt="/site-config";vt&&(Qt+=`?themeId=${vt}`);const br=await fe.get(Qt,{requireAuth:!1});k(br),(Ye=br.settings)!=null&&Ye.language&&w(br.settings.language),(ft=br.settings)!=null&&ft.colors&&Object.entries(br.settings.colors).forEach(([$t,qt])=>{document.documentElement.style.setProperty($t,qt)})}catch(Pt){console.error("Failed to load site config:",Pt)}})()},[]),f.useEffect(()=>{(async()=>{try{const Ye=await fe.get("/categories",{requireAuth:!1});if(Ye&&typeof Ye=="object"&&!("error"in Ye)&&!("statusCode"in Ye)){let ft=[];Array.isArray(Ye)?ft=Ye.filter(vt=>vt&&typeof vt=="object"&&vt.id&&!("error"in vt)&&!("statusCode"in vt)):Ye.categories&&Array.isArray(Ye.categories)&&(ft=Ye.categories.filter(vt=>vt&&typeof vt=="object"&&vt.id&&!("error"in vt)&&!("statusCode"in vt)));const Pt=ft.filter(vt=>!vt.parentId||vt.parentId===null||vt.parentId==="");C(Pt)}}catch(Ye){console.error("Failed to load categories:",Ye),C([])}})()},[]),f.useEffect(()=>{(async()=>{try{const Ye=await fe.get("/public/navigation-pages",{requireAuth:!1});Ye&&Ye.pages&&Array.isArray(Ye.pages)&&E(Ye.pages)}catch(Ye){console.error("Failed to load navigation pages:",Ye),E([])}})()},[]),f.useEffect(()=>{x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]);const z=Ce=>{Ce.preventDefault(),t&&t(p)},ie=Ce=>{Ce&&(Ce.preventDefault(),Ce.stopPropagation());try{localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="customerToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",S(null),R(0),U(!1),J("/",{replace:!0}),setTimeout(()=>{window.location.reload()},100)}catch(Ye){console.error("Logout error:",Ye),window.location.href="/"}};f.useEffect(()=>{const Ce=a.language;(Ce==="ar"||Ce==="en")&&w(Ce)},[a.language]);const re=()=>{const Ce=b==="ar"?"en":"ar";BI(Ce),w(Ce)},q=String(b==="ar"?((Te=j==null?void 0:j.settings)==null?void 0:Te.storeNameAr)||"":((He=j==null?void 0:j.settings)==null?void 0:He.storeName)||"My Store"),se=[{label:b==="ar"?"":"Home",labelAr:"",url:"/"},{label:b==="ar"?"":"Products",labelAr:"",url:"/products"}],B=((Oe=j==null?void 0:j.header)==null?void 0:Oe.links)||se;(me=j==null?void 0:j.header)!=null&&me.buttons;const oe=Ce=>W.pathname===Ce||Ce!=="/"&&W.pathname.startsWith(Ce);return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:xe("sticky top-0 z-50 w-full transition-all duration-300",O?"shadow-lg glass-effect-strong border-b border-border/30":"bg-background/95 backdrop-blur-sm border-b border-border/20"),children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] gradient-aurora animate-gradient bg-[length:300%_auto]"}),r.jsxs("div",{className:"container mx-auto px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[A.length>0&&r.jsx("button",{onClick:()=>_(!0),className:xe("flex items-center justify-center w-9 h-9 rounded-xl transition-all duration-300 shrink-0","bg-muted/50 hover:bg-primary/10 text-muted-foreground hover:text-primary","border border-border/50 hover:border-primary/30 hover:shadow-md"),title:b==="ar"?"":"Pages",children:r.jsx(Ms,{className:xe("h-5 w-5 transition-transform",b==="ar"?"rotate-180":"")})}),r.jsxs(tt,{to:"/",className:"flex items-center gap-3 group shrink-0",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-xl gradient-primary blur-lg opacity-0 group-hover:opacity-40 transition-opacity duration-500"}),(Ue=j==null?void 0:j.settings)!=null&&Ue.storeLogoUrl?r.jsx("img",{src:String(j.settings.storeLogoUrl),alt:q,className:"relative h-10 w-10 object-contain rounded-xl transition-transform duration-300 group-hover:scale-110"}):r.jsx("div",{className:"relative h-10 w-10 gradient-primary rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg transition-transform duration-300 group-hover:scale-110 group-hover:shadow-glow",children:q.charAt(0)})]}),r.jsx("span",{className:"text-lg font-bold hidden sm:block gradient-text",children:q})]}),r.jsxs("nav",{className:"hidden lg:flex items-center gap-1 flex-1 justify-center",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>T(!D),onMouseEnter:()=>T(!0),className:xe("flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all duration-300",D?"gradient-primary text-white shadow-glow":"hover:bg-muted/50 text-foreground"),children:[r.jsx(to,{className:xe("h-4 w-4 transition-transform duration-300",D&&"rotate-180")}),r.jsx("span",{children:b==="ar"?"":"Categories"})]}),D&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>T(!1)}),r.jsx("div",{className:xe("absolute top-full mt-2 rounded-2xl shadow-2xl border border-border/50 z-50 overflow-hidden animate-scale-in glass-effect-strong",b==="ar"?"right-0":"left-0","w-64 sm:w-72 max-w-[calc(100vw-2rem)]"),onMouseLeave:()=>T(!1),children:r.jsx("div",{className:"py-2 max-h-[60vh] sm:max-h-80 overflow-y-auto scrollbar-thin",children:N.length>0?N.map((Ce,Ye)=>r.jsxs(tt,{to:`/categories/${Ce.id}`,className:"flex items-center gap-3 px-4 py-2.5 hover:bg-primary/5 transition-all duration-300 group animate-slide-up",style:{animationDelay:`${Ye*50}ms`},onClick:()=>T(!1),children:[Ce.image?r.jsx("img",{src:Ce.image,alt:Ce.name,className:"w-8 h-8 rounded-lg object-cover ring-2 ring-border/50 group-hover:ring-primary/50 transition-all shrink-0"}):r.jsx("div",{className:"w-8 h-8 rounded-lg gradient-mesh flex items-center justify-center shrink-0",children:r.jsx(Dt,{className:"w-4 h-4 text-primary"})}),r.jsx("span",{className:"font-medium group-hover:text-primary transition-colors truncate",children:String(Ce.name||"")})]},Ce.id)):r.jsxs("div",{className:"px-4 py-6 text-center text-muted-foreground",children:[r.jsx(Dt,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:b==="ar"?"  ":"No categories"})]})})})]})]}),B.map((Ce,Ye)=>{const ft=String(b==="ar"?(Ce==null?void 0:Ce.labelAr)||(Ce==null?void 0:Ce.label)||"":(Ce==null?void 0:Ce.label)||""),Pt=String((Ce==null?void 0:Ce.url)||"#"),vt=oe(Pt);return r.jsx(tt,{to:Pt,className:xe("relative px-4 py-2 rounded-xl font-medium transition-all duration-300 group",vt?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:ft},Ye)})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[A.length>0&&r.jsx("button",{onClick:()=>_(!0),className:xe("lg:hidden flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300","bg-muted/50 hover:bg-primary/10 text-muted-foreground hover:text-primary","border border-border/50 hover:border-primary/30"),title:b==="ar"?"":"Pages",children:r.jsx(Ms,{className:xe("h-4 w-4",b==="ar"?"rotate-180":"")})}),r.jsxs("button",{onClick:re,className:"flex items-center gap-1 px-2 sm:px-3 py-2 rounded-xl text-muted-foreground hover:text-primary hover:bg-primary/5 transition-all duration-300",title:b==="ar"?"Switch to English":"  ",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-semibold hidden sm:inline",children:b==="ar"?"EN":""})]}),r.jsx("button",{onClick:()=>y(!x),className:"p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group","aria-label":x?"Light mode":"Dark mode",title:x?b==="ar"?" ":"Light mode":b==="ar"?" ":"Dark mode",children:x?r.jsx(Jd,{className:"h-4 w-4 text-warning group-hover:rotate-180 transition-transform duration-500"}):r.jsx(ad,{className:"h-4 w-4 text-muted-foreground group-hover:rotate-12 transition-transform duration-300"})}),r.jsx("button",{onClick:()=>m(!h),className:xe("p-2 rounded-xl transition-all duration-300",h?"bg-primary/10 text-primary":"hover:bg-muted/50"),"aria-label":"Search",children:r.jsx(Mr,{className:"h-4 w-4"})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>F(!H),className:xe("relative p-2 rounded-xl transition-all duration-300 group",H?"bg-primary/10 text-primary":"hover:bg-muted/50"),children:[r.jsx(Xo,{className:"h-4 w-4 group-hover:text-primary transition-colors"}),L.filter(Ce=>!Ce.read).length>0&&r.jsx(et,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] font-bold bg-red-500 text-white border-2 border-background animate-bounce-in",children:L.filter(Ce=>!Ce.read).length})]}),H&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>F(!1)}),r.jsxs("div",{"data-notifications-dropdown":!0,className:xe("absolute top-full mt-2 rounded-2xl shadow-2xl border border-border/50 z-50 overflow-hidden glass-effect-strong animate-scale-in",b==="ar"?"right-0":"left-0","w-80 sm:w-96 max-w-[calc(100vw-2rem)]"),children:[r.jsxs("div",{className:"p-3 border-b border-border/50 flex items-center justify-between bg-muted/30",children:[r.jsx("h3",{className:"font-semibold text-sm",children:b==="ar"?"":"Notifications"}),L.length>0&&r.jsx("button",{onClick:async Ce=>{Ce.stopPropagation();try{await fe.put("/notifications/read-all",{}),K(Ye=>Ye.map(ft=>({...ft,read:!0})))}catch(Ye){console.error("Failed to mark all as read",Ye)}},className:"text-xs text-primary hover:underline whitespace-nowrap ml-2",children:b==="ar"?"  ":"Mark all read"})]}),r.jsx("div",{className:"max-h-[60vh] sm:max-h-80 overflow-y-auto scrollbar-thin",children:L.length===0?r.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[r.jsx(Xo,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:b==="ar"?"  ":"No notifications"})]}):r.jsx("div",{className:"divide-y divide-border/30",children:L.map(Ce=>r.jsxs("div",{onClick:async Ye=>{Ye.stopPropagation();try{Ce.read||(await fe.put(`/notifications/${Ce.id}/read`,{}),K(ft=>ft.map(Pt=>Pt.id===Ce.id?{...Pt,read:!0}:Pt))),Ce.link&&J(Ce.link),F(!1)}catch(ft){console.error("Failed to mark notification as read",ft)}},className:xe("flex items-start gap-3 p-3 cursor-pointer transition-colors",Ce.read?"bg-transparent hover:bg-muted/30":"bg-primary/5 hover:bg-primary/10"),children:[r.jsxs("div",{className:xe("p-2 rounded-lg shrink-0 flex-shrink-0",Ce.type==="order"&&"bg-blue-500/10 text-blue-500",Ce.type==="product"&&"bg-green-500/10 text-green-500",Ce.type==="promo"&&"bg-orange-500/10 text-orange-500",Ce.type==="wallet"&&"bg-purple-500/10 text-purple-500",Ce.type==="info"&&"bg-gray-500/10 text-gray-500"),children:[Ce.type==="order"&&r.jsx(tl,{className:"h-4 w-4"}),Ce.type==="product"&&r.jsx(Dt,{className:"h-4 w-4"}),Ce.type==="promo"&&r.jsx(bs,{className:"h-4 w-4"}),Ce.type==="wallet"&&r.jsx(Na,{className:"h-4 w-4"}),Ce.type==="info"&&r.jsx(Pb,{className:"h-4 w-4"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsx("p",{className:"font-medium text-sm line-clamp-1 flex-1",children:b==="ar"?Ce.titleAr:Ce.title}),!Ce.read&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1.5"})]}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:b==="ar"?Ce.messageAr:Ce.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:new Date(Ce.timestamp).toLocaleDateString(b==="ar"?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},Ce.id))})})]})]})]}),v&&j&&j.settings&&j.settings.storeType==="DIGITAL_CARDS"&&r.jsxs(tt,{to:"/charge-wallet",className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-primary/10 text-primary text-sm font-medium hover:bg-primary/20 transition-colors cursor-pointer",title:b==="ar"?" -  ":"Balance - Click to recharge",children:[r.jsx(Na,{className:"h-4 w-4"}),r.jsxs("span",{children:[I.toFixed(2)," ",((ce=j==null?void 0:j.settings)==null?void 0:ce.currency)==="SAR"?".":((Ee=j==null?void 0:j.settings)==null?void 0:Ee.currency)||"."]})]}),r.jsx(tt,{to:"/wishlist",className:"hidden sm:flex p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group",children:r.jsx(kn,{className:"h-4 w-4 group-hover:text-accent transition-colors"})}),r.jsxs(tt,{to:"/cart",className:"relative p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group",children:[r.jsx(Or,{className:"h-4 w-4 group-hover:text-primary transition-colors"}),n>0&&r.jsx(et,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] font-bold gradient-accent text-white border-2 border-background animate-bounce-in shadow-glow-accent",children:n})]}),v?r.jsxs("div",{className:"relative group",children:[r.jsxs("button",{"data-user-menu-button":!0,onClick:()=>U(!G),className:"flex items-center gap-2 p-2 rounded-xl hover:bg-muted/50 transition-all duration-300",children:[r.jsx("div",{className:"w-7 h-7 rounded-full gradient-primary flex items-center justify-center text-white text-xs font-bold",children:String(((Pe=v==null?void 0:v.firstName)==null?void 0:Pe.charAt(0))||"U")}),r.jsx(to,{className:xe("h-4 w-4 hidden md:block transition-transform duration-300",G&&"rotate-180")})]}),G&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>U(!1)}),r.jsx("div",{"data-user-menu-dropdown":!0,className:xe("absolute top-full pt-2 transition-all duration-300 z-50",b==="ar"?"left-0":"right-0"),children:r.jsxs("div",{className:xe("rounded-2xl shadow-2xl border border-border/50 overflow-hidden glass-effect-strong animate-scale-in","w-52 sm:w-56 max-w-[calc(100vw-2rem)]"),children:[r.jsxs("div",{className:"p-3 border-b border-border/50 gradient-mesh",children:[r.jsxs("p",{className:"font-semibold text-sm truncate",children:[v==null?void 0:v.firstName," ",v==null?void 0:v.lastName]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:v==null?void 0:v.email}),(v==null?void 0:v.isEmployee)&&(v==null?void 0:v.employerEmail)&&r.jsxs("p",{className:"text-xs text-primary truncate mt-1",children:[b==="ar"?" : ":"Employee of: ",v.employerEmail]})]}),r.jsxs("div",{className:"py-1",children:[r.jsxs(tt,{to:"/account/orders",onClick:()=>U(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground shrink-0"}),r.jsx("span",{children:b==="ar"?"":"My Orders"})]}),r.jsxs(tt,{to:"/account/profile",onClick:()=>U(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[r.jsx(Es,{className:"h-4 w-4 text-muted-foreground shrink-0"}),r.jsx("span",{children:b==="ar"?"":"Settings"})]})]}),r.jsx("div",{className:"py-1 border-t border-border/50",children:r.jsxs("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),U(!1),ie(Ce)},className:"w-full flex items-center gap-3 px-4 py-2 text-destructive hover:bg-destructive/5 transition-colors text-sm",children:[r.jsx(bm,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{children:b==="ar"?" ":"Logout"})]})})]})})]}),!G&&r.jsx("div",{className:xe("absolute top-full pt-2 opacity-0 invisible lg:group-hover:opacity-100 lg:group-hover:visible transition-all duration-300 z-50 hidden lg:block",b==="ar"?"left-0":"right-0"),children:r.jsxs("div",{className:xe("rounded-2xl shadow-2xl border border-border/50 overflow-hidden glass-effect-strong","w-52 sm:w-56"),children:[r.jsxs("div",{className:"p-3 border-b border-border/50 gradient-mesh",children:[r.jsxs("p",{className:"font-semibold text-sm truncate",children:[v==null?void 0:v.firstName," ",v==null?void 0:v.lastName]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:v==null?void 0:v.email}),(v==null?void 0:v.isEmployee)&&(v==null?void 0:v.employerEmail)&&r.jsxs("p",{className:"text-xs text-primary truncate mt-1",children:[b==="ar"?" : ":"Employee of: ",v.employerEmail]})]}),r.jsxs("div",{className:"py-1",children:[r.jsxs(tt,{to:"/account/orders",className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[r.jsx(Dt,{className:"h-4 w-4 text-muted-foreground shrink-0"}),r.jsx("span",{children:b==="ar"?"":"My Orders"})]}),r.jsxs(tt,{to:"/account/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[r.jsx(Es,{className:"h-4 w-4 text-muted-foreground shrink-0"}),r.jsx("span",{children:b==="ar"?"":"Settings"})]})]}),r.jsx("div",{className:"py-1 border-t border-border/50",children:r.jsxs("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),ie(Ce)},className:"w-full flex items-center gap-3 px-4 py-2 text-destructive hover:bg-destructive/5 transition-colors text-sm",children:[r.jsx(bm,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{children:b==="ar"?" ":"Logout"})]})})]})})]}):r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"rounded-xl hover:bg-muted/50 h-8 px-3 text-sm",children:b==="ar"?"":"Login"}),r.jsx(V,{size:"sm",onClick:()=>c(!0),className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow h-8 px-3 text-sm",children:b==="ar"?"":"Sign Up"})]}),r.jsx("button",{onClick:()=>u(!d),className:"lg:hidden p-2 rounded-xl hover:bg-muted/50 transition-all duration-300",children:d?r.jsx(jr,{className:"h-5 w-5"}):r.jsx(sh,{className:"h-5 w-5"})})]})]}),h&&r.jsx("form",{onSubmit:z,className:"mt-3 animate-slide-down",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{type:"search",placeholder:b==="ar"?"  ...":"Search products...",value:p,onChange:Ce=>g(Ce.target.value),className:"pl-12 h-10 rounded-xl border-2 border-border/50 focus:border-primary/50 bg-muted/30",autoFocus:!0}),r.jsx(V,{type:"submit",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-lg gradient-primary text-white h-7",children:b==="ar"?"":"Search"})]})})]}),d&&r.jsx("div",{className:"lg:hidden border-t border-border/30 glass-effect-strong animate-slide-down",children:r.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium bg-muted/30",children:[r.jsx(to,{className:"h-4 w-4"}),r.jsx("span",{children:b==="ar"?"":"Categories"})]}),r.jsx("div",{className:"pl-4 border-l-2 border-primary/30 ml-4 space-y-1",children:N.slice(0,5).map(Ce=>r.jsx(tt,{to:`/categories/${Ce.id}`,className:"block px-4 py-2 text-sm text-muted-foreground hover:text-primary transition-colors rounded-lg hover:bg-primary/5",onClick:()=>u(!1),children:String(Ce.name||"")},Ce.id))})]}),B.map((Ce,Ye)=>{const ft=String(b==="ar"?(Ce==null?void 0:Ce.labelAr)||(Ce==null?void 0:Ce.label)||"":(Ce==null?void 0:Ce.label)||""),Pt=String((Ce==null?void 0:Ce.url)||"#"),vt=oe(Pt);return r.jsx(tt,{to:Pt,className:xe("px-4 py-2 rounded-xl font-medium transition-all duration-300",vt?"bg-primary/10 text-primary":"hover:bg-muted/50"),onClick:()=>u(!1),children:ft},Ye)}),A.length>0&&r.jsxs("button",{onClick:()=>{u(!1),_(!0)},className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all duration-300 hover:bg-muted/50 text-left",children:[r.jsx(qfe,{className:"h-4 w-4"}),r.jsx("span",{children:b==="ar"?"":"Pages"}),r.jsx(et,{variant:"secondary",className:"ml-auto text-xs",children:A.length})]}),v&&j&&j.settings&&j.settings.storeType==="DIGITAL_CARDS"&&r.jsxs(tt,{to:"/charge-wallet",className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-primary/10 text-primary font-medium hover:bg-primary/20 transition-colors",onClick:()=>u(!1),children:[r.jsx(Na,{className:"h-4 w-4"}),r.jsxs("span",{children:[b==="ar"?"":"Balance",": ",I.toFixed(2)," ",(($e=j==null?void 0:j.settings)==null?void 0:$e.currency)==="SAR"?".":((We=j==null?void 0:j.settings)==null?void 0:We.currency)||"."]})]}),!v&&r.jsxs("div",{className:"pt-4 border-t border-border/30 space-y-2",children:[r.jsx(V,{variant:"outline",className:"w-full rounded-xl h-10",onClick:()=>{o(!0),u(!1)},children:b==="ar"?" ":"Login"}),r.jsx(V,{className:"w-full rounded-xl h-10 gradient-primary text-white hover:shadow-glow",onClick:()=>{c(!0),u(!1)},children:b==="ar"?" ":"Sign Up"})]})]})})]}),r.jsx(hxt,{isOpen:P,onClose:()=>_(!1),logoUrl:(Xe=j==null?void 0:j.settings)!=null&&Xe.storeLogoUrl?String(j.settings.storeLogoUrl):void 0,storeName:q}),i&&r.jsx(dxt,{onClose:()=>o(!1),onSwitchToSignup:()=>{o(!1),c(!0)},onLoginSuccess:async()=>{o(!1);const Ce=localStorage.getItem("customerData");if(Ce)try{const Ye=JSON.parse(Ce);S(Ye);try{const ft=await Is.getBalance(),Pt=ft!=null&&ft.balance?Number(ft.balance):0;R(Pt)}catch(ft){console.error("Failed to load wallet balance after login:",ft),R(0)}}catch(Ye){console.error("Failed to parse customer data",Ye)}}}),l&&r.jsx(uxt,{onClose:()=>c(!1),onSwitchToLogin:()=>{c(!1),o(!0)},onSignupSuccess:()=>{c(!1),window.location.reload()}})]})}function fxt(){var h,m,p,g,x,y,b,w,v,S,j,k,N,C,A;const{i18n:e}=It(),[t,s]=f.useState(null),[a,n]=f.useState(e.language||"ar");f.useEffect(()=>{const E=e.language;(E==="ar"||E==="en")&&n(E)},[e.language]),f.useEffect(()=>{(async()=>{try{const D=!!localStorage.getItem("accessToken"),T=await fe.get("/site-config",{requireAuth:!1});s(T)}catch(D){console.error("Failed to load site config:",D)}})()},[]);const i=a==="ar"?((h=t==null?void 0:t.settings)==null?void 0:h.storeNameAr)||"":((m=t==null?void 0:t.settings)==null?void 0:m.storeName)||"My Store",o=a==="ar"?((p=t==null?void 0:t.settings)==null?void 0:p.storeDescriptionAr)||"  ":((g=t==null?void 0:t.settings)==null?void 0:g.storeDescription)||"Your complete online store",l=((x=t==null?void 0:t.footer)==null?void 0:x.links)||[{label:a==="ar"?" ":"About Us",url:"/about"},{label:a==="ar"?" ":"Privacy Policy",url:"/privacy"},{label:a==="ar"?" ":"Terms & Conditions",url:"/terms"},{label:a==="ar"?" ":"Return Policy",url:"/returns"},{label:a==="ar"?" ":"Contact Us",url:"/contact"},{label:a==="ar"?" ":"FAQ",url:"/faq"}],c=[{label:a==="ar"?"":"My Account",url:"/account"},{label:a==="ar"?"":"My Orders",url:"/account/orders"},{label:a==="ar"?" ":"Wishlist",url:"/wishlist"}],d=((y=t==null?void 0:t.footer)==null?void 0:y.socialLinks)||[],u=((b=t==null?void 0:t.footer)==null?void 0:b.buttons)||[];return r.jsxs("footer",{className:"relative overflow-hidden",children:[r.jsxs("div",{className:"relative bg-card border-t border-border/50",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-muted/20"}),r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full bg-primary/5 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 rounded-full bg-secondary/5 blur-3xl"}),r.jsx("div",{className:"container relative mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 md:gap-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 group",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-xl gradient-primary blur-lg opacity-0 group-hover:opacity-40 transition-opacity duration-500"}),(w=t==null?void 0:t.settings)!=null&&w.storeLogoUrl?r.jsx("img",{src:t.settings.storeLogoUrl,alt:i,className:"relative h-12 w-12 object-contain rounded-xl transition-transform duration-300 group-hover:scale-110"}):r.jsx("div",{className:"relative h-12 w-12 gradient-primary rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg transition-transform duration-300 group-hover:scale-110",children:i.charAt(0)})]}),r.jsx("h3",{className:"text-xl font-bold gradient-text",children:i})]}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o}),(((v=t==null?void 0:t.settings)==null?void 0:v.googlePlayUrl)||((S=t==null?void 0:t.settings)==null?void 0:S.appStoreUrl))&&r.jsxs("div",{className:"flex flex-col gap-2",children:[((j=t==null?void 0:t.settings)==null?void 0:j.googlePlayUrl)&&r.jsxs("a",{href:t.settings.googlePlayUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-4 py-2.5 bg-muted/50 hover:bg-muted rounded-xl transition-all duration-300 border border-border/50 group",children:[r.jsx("svg",{className:"h-6 w-6 text-primary",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:a==="ar"?" ":"Get it on"}),r.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Google Play"})]})]}),((k=t==null?void 0:t.settings)==null?void 0:k.appStoreUrl)&&r.jsxs("a",{href:t.settings.appStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-4 py-2.5 bg-muted/50 hover:bg-muted rounded-xl transition-all duration-300 border border-border/50 group",children:[r.jsx("svg",{className:"h-6 w-6 text-primary",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-xs text-muted-foreground",children:a==="ar"?" ":"Download on"}),r.jsx("div",{className:"text-sm font-semibold text-foreground",children:"App Store"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-5 rounded-full gradient-primary"}),a==="ar"?" ":"Quick Links"]}),r.jsx("ul",{className:"space-y-3",children:c.map((E,D)=>r.jsx("li",{children:r.jsxs(tt,{to:E.url,className:"text-muted-foreground hover:text-primary transition-colors text-sm flex items-center gap-2 group",children:[r.jsx(Ms,{className:"w-4 h-4 opacity-0 -mr-4 group-hover:opacity-100 group-hover:mr-0 transition-all"}),E.label]})},D))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-5 rounded-full gradient-secondary"}),a==="ar"?" ":"Information"]}),r.jsx("ul",{className:"space-y-3",children:l.map((E,D)=>r.jsx("li",{children:r.jsxs(tt,{to:E.url,className:"text-muted-foreground hover:text-secondary transition-colors text-sm flex items-center gap-2 group",children:[r.jsx(Ms,{className:"w-4 h-4 opacity-0 -mr-4 group-hover:opacity-100 group-hover:mr-0 transition-all"}),E.label]})},D))})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[r.jsx("div",{className:"w-1 h-5 rounded-full gradient-accent"}),a==="ar"?" ":"Contact Us"]}),r.jsxs("ul",{className:"space-y-4",children:[((N=t==null?void 0:t.settings)==null?void 0:N.email)&&r.jsx("li",{children:r.jsxs("a",{href:`mailto:${t.settings.email}`,className:"flex items-center gap-3 text-muted-foreground hover:text-accent transition-colors group",children:[r.jsx("div",{className:"p-2 rounded-lg bg-accent/10 group-hover:bg-accent/20 transition-colors",children:r.jsx(ba,{className:"h-4 w-4 text-accent"})}),r.jsx("span",{className:"text-sm",children:t.settings.email})]})}),((C=t==null?void 0:t.settings)==null?void 0:C.phone)&&r.jsx("li",{children:r.jsxs("a",{href:`tel:${t.settings.phone}`,className:"flex items-center gap-3 text-muted-foreground hover:text-accent transition-colors group",children:[r.jsx("div",{className:"p-2 rounded-lg bg-accent/10 group-hover:bg-accent/20 transition-colors",children:r.jsx(Fi,{className:"h-4 w-4 text-accent"})}),r.jsx("span",{className:"text-sm",children:t.settings.phone})]})}),((A=t==null?void 0:t.settings)==null?void 0:A.address)&&r.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[r.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:r.jsx(Hu,{className:"h-4 w-4 text-accent"})}),r.jsxs("span",{className:"text-sm",children:[t.settings.address,t.settings.city&&`, ${t.settings.city}`]})]})]}),d.length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h5",{className:"text-sm font-semibold text-foreground mb-4",children:a==="ar"?"":"Follow Us"}),r.jsx("div",{className:"flex items-center gap-3",children:d.map((E,D)=>r.jsxs("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl bg-muted/50 hover:bg-primary hover:text-white border border-border/50 hover:border-primary transition-all duration-300 hover:scale-110 hover:shadow-glow","aria-label":E.platform,children:[E.platform==="facebook"&&r.jsx(dI,{className:"h-5 w-5"}),E.platform==="twitter"&&r.jsx(vI,{className:"h-5 w-5"}),E.platform==="instagram"&&r.jsx(hI,{className:"h-5 w-5"}),E.platform==="youtube"&&r.jsx(uK,{className:"h-5 w-5"})]},D))})]}),u.length>0&&r.jsx("div",{className:"mt-6 flex flex-col gap-2",children:u.map((E,D)=>{const T=E.variant==="primary";return E.url.startsWith("http")?r.jsx("a",{href:E.url,target:E.openInNewTab?"_blank":"_self",rel:E.openInNewTab?"noopener noreferrer":void 0,className:xe("px-4 py-2.5 rounded-xl font-medium transition-all duration-300 text-center text-sm",T?"gradient-primary text-white hover:shadow-glow":"bg-muted/50 hover:bg-muted border border-border/50"),children:E.label},`footer-btn-${D}`):r.jsx(tt,{to:E.url,className:xe("px-4 py-2.5 rounded-xl font-medium transition-all duration-300 text-center text-sm",T?"gradient-primary text-white hover:shadow-glow":"bg-muted/50 hover:bg-muted border border-border/50"),children:E.label},`footer-btn-${D}`)})})]})]})})]}),r.jsxs("div",{className:"relative border-t border-border/50 bg-muted/20",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-secondary/5"}),r.jsx("div",{className:"container relative mx-auto px-4 py-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[" ",new Date().getFullYear()," ",i,".",r.jsx("span",{children:a==="ar"?"  ":"All rights reserved"}),r.jsx(kn,{className:"h-3 w-3 text-accent fill-accent mx-1"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:a==="ar"?" :":"Payment Methods:"}),r.jsx("div",{className:"flex items-center gap-2",children:["MADA"].map(E=>r.jsx("div",{className:"px-3 py-1.5 bg-card rounded-lg border border-border/50 text-xs font-bold text-muted-foreground hover:border-primary/50 hover:text-primary transition-colors cursor-default",children:E},E))})]})]})})]}),r.jsx(Mp,{className:"bg-muted/10 text-muted-foreground py-3 border-t border-border/30"})]})}const sde=f.createContext(void 0),pxt=()=>{const e=f.useContext(sde);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},xxt=({children:e})=>{const[t,s]=f.useState(null),[a,n]=f.useState(!0),i=f.useCallback(l=>{if(!l.settings){console.log(" Theme has no settings, using defaults");return}const c=l.settings,d=document.documentElement;console.log(" Applying theme:",l.name),c.colors&&Object.entries(c.colors).forEach(([u,h])=>{h&&(d.style.setProperty(`--theme-${u}`,h),console.log(`   --theme-${u}: ${h}`))}),c.typography&&(c.typography.fontFamily&&d.style.setProperty("--theme-font-family",c.typography.fontFamily),c.typography.headingFamily&&d.style.setProperty("--theme-heading-family",c.typography.headingFamily),c.typography.fontSize&&Object.entries(c.typography.fontSize).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-font-size-${u}`,h)}),c.typography.fontWeight&&Object.entries(c.typography.fontWeight).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-font-weight-${u}`,h)})),c.spacing&&Object.entries(c.spacing).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-spacing-${u}`,h)}),c.borderRadius&&Object.entries(c.borderRadius).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-radius-${u}`,h)}),c.shadows&&Object.entries(c.shadows).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-shadow-${u}`,h)}),console.log(" Theme applied successfully")},[]),o=f.useCallback(l=>{s(l),i(l)},[i]);return f.useEffect(()=>{(async()=>{try{const d=new URLSearchParams(window.location.search).get("theme_preview");if(d){console.log(" Loading theme preview:",d);const u=await Lb.getThemes(),h=u.find(m=>m.id===d);if(h)console.log(" Preview theme found:",h.name),o(h);else{console.warn(" Preview theme not found, loading active theme");const m=u.find(p=>p.isActive);m&&o(m)}}else{const h=(await Lb.getThemes()).find(m=>m.isActive);h?(console.log(" Active theme loaded:",h.name),o(h)):console.log(" No active theme found, using defaults")}}catch(c){console.error(" Failed to load theme:",c)}finally{n(!1)}})()},[o]),r.jsx(sde.Provider,{value:{currentTheme:t,loading:a,applyTheme:o},children:e})},gxt=()=>{const{loading:e}=pxt();return e?r.jsx(Xp,{}):r.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--theme-background)",color:"var(--theme-text)"},children:[r.jsx(mxt,{}),r.jsx("main",{className:"flex-1",children:r.jsx(wC,{})}),r.jsx(fxt,{}),r.jsx($3,{})]})},ade=()=>r.jsx(xxt,{children:r.jsx(gxt,{})});var SE="Popover",[nde,R0t]=on(SE,[Fm]),t1=Fm(),[vxt,Zm]=nde(SE),ide=e=>{const{__scopePopover:t,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=e,l=t1(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=ko({prop:a,defaultProp:n??!1,onChange:i,caller:SE});return r.jsx(TI,{...l,children:r.jsx(vxt,{scope:t,contentId:Sl(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:s})})};ide.displayName=SE;var ode="PopoverAnchor",yxt=f.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,n=Zm(ode,s),i=t1(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return f.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(hj,{...i,...a,ref:t})});yxt.displayName=ode;var lde="PopoverTrigger",cde=f.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,n=Zm(lde,s),i=t1(s),o=Pr(t,n.triggerRef),l=r.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":fde(n.open),...a,ref:o,onClick:bt(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:r.jsx(hj,{asChild:!0,...i,children:l})});cde.displayName=lde;var IF="PopoverPortal",[bxt,wxt]=nde(IF,{forceMount:void 0}),dde=e=>{const{__scopePopover:t,forceMount:s,children:a,container:n}=e,i=Zm(IF,t);return r.jsx(bxt,{scope:t,forceMount:s,children:r.jsx(qn,{present:s||i.open,children:r.jsx(M0,{asChild:!0,container:n,children:a})})})};dde.displayName=IF;var _0="PopoverContent",ude=f.forwardRef((e,t)=>{const s=wxt(_0,e.__scopePopover),{forceMount:a=s.forceMount,...n}=e,i=Zm(_0,e.__scopePopover);return r.jsx(qn,{present:a||i.open,children:i.modal?r.jsx(Nxt,{...n,ref:t}):r.jsx(Sxt,{...n,ref:t})})});ude.displayName=_0;var jxt=ym("PopoverContent.RemoveScroll"),Nxt=f.forwardRef((e,t)=>{const s=Zm(_0,e.__scopePopover),a=f.useRef(null),n=Pr(t,a),i=f.useRef(!1);return f.useEffect(()=>{const o=a.current;if(o)return MC(o)},[]),r.jsx(bj,{as:jxt,allowPinchZoom:!0,children:r.jsx(hde,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:bt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:bt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Sxt=f.forwardRef((e,t)=>{const s=Zm(_0,e.__scopePopover),a=f.useRef(!1),n=f.useRef(!1);return r.jsx(hde,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),hde=f.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=Zm(_0,s),p=t1(s);return IC(),r.jsx(yj,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:r.jsx(Op,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(fC,{"data-state":fde(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mde="PopoverClose",kxt=f.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,n=Zm(mde,s);return r.jsx(Bt.button,{type:"button",...a,ref:t,onClick:bt(e.onClick,()=>n.onOpenChange(!1))})});kxt.displayName=mde;var Cxt="PopoverArrow",Axt=f.forwardRef((e,t)=>{const{__scopePopover:s,...a}=e,n=t1(s);return r.jsx(pC,{...n,...a,ref:t})});Axt.displayName=Cxt;function fde(e){return e?"open":"closed"}var Ext=ide,Pxt=cde,Txt=dde,pde=ude;const xde=Ext,gde=Pxt,RF=f.forwardRef(({className:e,align:t="center",sideOffset:s=4,...a},n)=>r.jsx(Txt,{children:r.jsx(pde,{ref:n,align:t,sideOffset:s,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));RF.displayName=pde.displayName;const YW=({className:e,collapsed:t=!1,onToggleCollapse:s})=>{const{t:a,i18n:n}=It(),i=n.language==="ar",o=Gn(),l=ts(),{canAccessRoute:c,isStaff:d}=Lre(),[u,h]=f.useState(null),[m,p]=f.useState({}),[g,x]=f.useState(0),[y,b]=f.useState("SAR"),{hasUnreadUpdates:w,getUnreadUpdates:v,markAsWatched:S}=Bye(),[j,k]=f.useState(null),[N,C]=f.useState({home:!0,salesAndOrders:!0,contentAndDesign:!0,marketing:!0,storeSettings:!1,advanced:!1});f.useEffect(()=>{E.flatMap(_=>_.items).filter(_=>_.badge===a("dashboard.sidebar.new")).map(_=>_.href).forEach(_=>{(_==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===_||o.pathname.startsWith(_+"/"))&&S(_)})},[o.pathname,n.language]),f.useEffect(()=>{(async()=>{var _;try{const O=await fe.get("/site-config",{requireAuth:!0});h(O.settings),(_=O.settings)!=null&&_.currency&&b(O.settings.currency)}catch{}})()},[]),f.useEffect(()=>{(async()=>{try{const _=await fe.get("/partner/status",{requireAuth:!0});p(_)}catch{}})()},[]),f.useEffect(()=>{(async()=>{try{const _=await fe.get("/transactions/balance",{requireAuth:!0});x(_.availableBalance||_.balance||0),_.currency}catch{x(0)}})()},[]);const A=P=>P.filter(_=>_.href==="/dashboard"?!0:c(_.href)),E=f.useMemo(()=>[{key:"home",title:a("dashboard.sidebar.home"),items:A([{name:a("dashboard.sidebar.dashboard"),href:"/dashboard",icon:ip,badge:null}])},{key:"salesAndOrders",title:a("dashboard.sidebar.salesAndOrders"),items:A([{name:a("dashboard.sidebar.products"),href:"/dashboard/products",icon:Dt,badge:null},{name:a("dashboard.sidebar.hierarchical"),href:"/dashboard/hierarchical",icon:_i,badge:null},{name:a("dashboard.sidebar.priceManagement"),href:"/dashboard/prices",icon:an,badge:null},{name:a("dashboard.sidebar.orders"),href:"/dashboard/orders",icon:Or,badge:null},{name:a("dashboard.sidebar.customers"),href:"/dashboard/customers",icon:wr,badge:null},{name:a("dashboard.sidebar.reports"),href:"/dashboard/reports",icon:Ua,badge:null}])},{key:"contentAndDesign",title:a("dashboard.sidebar.contentAndDesign"),items:A([{name:a("dashboard.sidebar.categories"),href:"/dashboard/categories",icon:_i,badge:null},{name:a("dashboard.sidebar.pages"),href:"/dashboard/pages",icon:ka,badge:null},{name:a("dashboard.sidebar.storefront"),href:"/dashboard/storefront",icon:xs,badge:null},{name:a("dashboard.sidebar.templates"),href:"/dashboard/templates",icon:op,badge:null}])},{key:"marketing",title:a("dashboard.sidebar.marketing"),items:A([{name:a("dashboard.sidebar.potentialAndMarketing"),href:"/dashboard/marketing",icon:jm,badge:null},{name:a("dashboard.sidebar.smartLine"),href:"/dashboard/smart-line",icon:cp,badge:null}])},{key:"storeSettings",title:a("dashboard.sidebar.storeSettings"),items:A([{name:a("dashboard.sidebar.generalSettings"),href:"/dashboard/settings",icon:Es,badge:null},{name:a("dashboard.sidebar.notifications"),href:"/dashboard/settings/notifications",icon:Xo,badge:null},{name:a("dashboard.sidebar.payment"),href:"/dashboard/settings/payment",icon:Xr,badge:null},{name:a("dashboard.sidebar.checkoutSettings"),href:"/dashboard/settings/checkout",icon:Or,badge:null},{name:a("dashboard.sidebar.limits"),href:"/dashboard/settings/limits",icon:lg,badge:null},{name:a("dashboard.sidebar.domains"),href:"/dashboard/settings/domains",icon:Ya,badge:null},{name:a("dashboard.sidebar.suppliers"),href:"/dashboard/settings/suppliers",icon:Uo,badge:null},{name:a("dashboard.sidebar.brands"),href:"/dashboard/settings/brands",icon:Dt,badge:null},{name:a("dashboard.sidebar.units"),href:"/dashboard/settings/units",icon:Dt,badge:null},{name:a("dashboard.sidebar.currencies"),href:"/dashboard/settings/currencies",icon:an,badge:null}])},{key:"advanced",title:a("dashboard.sidebar.advanced"),items:A([{name:a("dashboard.sidebar.usersAndPermissions"),href:"/dashboard/settings/users",icon:wr,badge:null},...d?[]:[{name:a("dashboard.sidebar.employees"),href:"/dashboard/employees",icon:wr,badge:null},{name:a("dashboard.sidebar.permissions"),href:"/dashboard/permissions",icon:lg,badge:null}],{name:a("dashboard.sidebar.integrations"),href:"/dashboard/settings/integrations",icon:U2,badge:null},{name:a("dashboard.sidebar.identityVerification"),href:"/dashboard/settings/kyc",icon:lg,badge:null},{name:a("dashboard.sidebar.appStore"),href:"/dashboard/apps",icon:Ry,badge:null},{name:a("dashboard.sidebar.storeManagement"),href:"/dashboard/management",icon:Es,badge:null},{name:a("dashboard.sidebar.chat"),href:"/dashboard/chat",icon:Cn,badge:null}])}],[a,c,d]),D=P=>{C(_=>({..._,[P]:!_[P]}))},T=P=>P.items.some(_=>_.href==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===_.href||o.pathname.startsWith(_.href+"/"));return r.jsxs("div",{className:xe("flex flex-col h-full bg-card relative",i?"border-l":"border-r",e),children:[r.jsxs("div",{className:xe("flex items-center h-16 border-b transition-all",t?"justify-center px-2":"justify-between px-6"),children:[r.jsxs(tt,{to:"/dashboard",className:xe("flex items-center gap-3",t&&"flex-col gap-1"),children:[u!=null&&u.storeLogoUrl||u!=null&&u.logo?r.jsx("img",{src:u.storeLogoUrl||u.logo,alt:u.storeNameAr||u.storeName||u.tenantName||"Store Logo",className:xe("rounded-xl object-cover shadow-sm border",t?"h-8 w-8":"h-12 w-12")}):r.jsx("div",{className:xe("rounded-xl bg-gradient-primary flex items-center justify-center shadow-lg",t?"h-8 w-8":"h-12 w-12"),children:r.jsx(xs,{className:xe("text-white",t?"h-4 w-4":"h-6 w-6")})}),!t&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg font-bold gradient-text truncate max-w-[140px]",children:(u==null?void 0:u.storeNameAr)||(u==null?void 0:u.storeName)||(u==null?void 0:u.tenantName)||"Saeaa"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:a("dashboard.sidebar.controlPanel")})]})]}),s&&r.jsx(V,{variant:"ghost",size:"icon",onClick:s,className:xe("h-8 w-8 hidden lg:flex",t&&"absolute left-2 top-4"),children:t?r.jsx(Qo,{className:"h-4 w-4"}):r.jsx(Ms,{className:"h-4 w-4"})})]}),r.jsx("div",{className:xe("border-b transition-all",t?"px-2 py-3":"px-4 py-3"),children:r.jsx("div",{onClick:()=>l("/dashboard/wallet"),className:xe("rounded-xl bg-green-50 dark:bg-green-950/20 p-4 cursor-pointer hover:bg-green-100 dark:hover:bg-green-950/30 transition-all shadow-sm",t&&"p-2"),title:a("dashboard.sidebar.clickToViewWallet"),children:r.jsxs("div",{className:xe("flex items-center justify-between",t&&"flex-col gap-2 justify-center"),children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:a("dashboard.sidebar.transactions")}),r.jsx("div",{className:xe("rounded-full bg-green-100 dark:bg-green-900/40 p-2.5 flex items-center justify-center",t&&"mt-1"),children:r.jsx(V2,{className:"h-5 w-5 text-green-600 dark:text-green-500"})})]})})}),r.jsx(La,{className:"flex-1 px-4 py-4",children:r.jsxs("nav",{className:"space-y-2",children:[E.map(P=>{const _=t?!1:N[P.key]??!0,O=T(P);return r.jsxs("div",{className:"space-y-1",children:[!t&&r.jsxs("button",{onClick:()=>D(P.key),className:xe("w-full flex items-center justify-between px-2 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors rounded-md",O&&"text-primary bg-primary/5"),children:[r.jsx("span",{children:P.title}),_?r.jsx(dC,{className:"h-3 w-3"}):r.jsx(to,{className:"h-3 w-3"})]}),(_||t)&&r.jsx("div",{className:xe("space-y-1",!t&&(i?"mr-2":"ml-2")),children:P.items.map(M=>{const I=M.href==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===M.href||o.pathname.startsWith(M.href+"/"),R=M.badge===a("dashboard.sidebar.new")&&w(M.href),L=R?v(M.href):[],K=L.length;return r.jsx("div",{className:"relative",children:r.jsxs(tt,{id:`tour-sidebar-${M.href.split("/").pop()}`,to:M.href,title:t?M.name:void 0,className:xe("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-2.5":"justify-between px-3 py-2.5",I?`bg-primary/10 text-primary ${i?"border-r-2":"border-l-2"} border-primary shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>{M.badge===a("dashboard.sidebar.new")&&w(M.href)&&S(M.href)},children:[r.jsxs("div",{className:xe("flex items-center gap-3",t&&"justify-center"),children:[r.jsx(M.icon,{className:xe("h-4 w-4 transition-transform group-hover:scale-110 flex-shrink-0",I&&"text-primary")}),!t&&r.jsx("span",{className:"text-xs",children:M.name})]}),!t&&M.badge&&r.jsxs(xde,{open:j===M.href,onOpenChange:H=>k(H?M.href:null),children:[r.jsx(gde,{asChild:!0,children:r.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),k(j===M.href?null:M.href)},className:"relative",children:r.jsxs(et,{variant:"secondary",className:xe("text-white text-[10px] px-1.5 py-0 cursor-pointer",R?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gray-500 hover:bg-gray-600"),children:[M.badge,R&&K>0&&r.jsx("span",{className:`${i?"ml-1":"mr-1"} bg-white text-red-500 rounded-full px-1 text-[9px] font-bold`,children:K})]})})}),r.jsxs(RF,{className:"w-80 p-0",align:"end",onClick:H=>H.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"font-semibold",children:a("dashboard.header.notifications")}),r.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{S(M.href),k(null)},children:r.jsx(jr,{className:"h-4 w-4"})})]}),r.jsx(La,{className:"h-[300px]",children:L.length>0?r.jsx("div",{className:"p-2 space-y-2",children:L.map(H=>r.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-muted transition-colors",children:r.jsx("div",{className:"flex items-start justify-between gap-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(et,{variant:H.type==="added"?"default":"secondary",className:"text-xs",children:H.type==="added"?a("dashboard.sidebar.new"):a("dashboard.header.status")}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(H.timestamp).toLocaleTimeString(n.language==="ar"?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("p",{className:"text-sm",children:String(H.message||"")})]})})},H.id))}):r.jsx("div",{className:"p-8 text-center text-muted-foreground",children:r.jsx("p",{children:a("dashboard.header.noNotifications")})})}),L.length>0&&r.jsx("div",{className:"p-3 border-t",children:r.jsx(V,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{S(M.href),k(null)},children:a("common.confirm")})})]})]})]})},M.name)})})]},P.key)}),(m.asusPartnerCompleted||m.smartLinePartnerCompleted)&&r.jsxs(r.Fragment,{children:[r.jsx(Js,{className:"my-4"}),r.jsxs("div",{className:xe("space-y-1",t&&"space-y-2"),children:[m.asusPartnerCompleted&&r.jsx(tt,{to:"/dashboard/support",title:t?" ASUS":void 0,className:xe("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-3":"justify-between px-4 py-3",o.pathname==="/dashboard/support"?`bg-gradient-to-r from-purple-500/10 to-blue-500/10 text-purple-700 dark:text-purple-400 ${i?"border-r-4":"border-l-4"} border-purple-500 shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),children:r.jsxs("div",{className:xe("flex items-center gap-3",t&&"justify-center"),children:[r.jsxs("div",{className:"relative",children:[r.jsx($2,{className:xe("h-5 w-5 transition-transform group-hover:scale-110 flex-shrink-0",o.pathname==="/dashboard/support"&&"text-purple-600 dark:text-purple-400")}),!t&&r.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:`absolute -top-1 w-3 h-3 rounded-full bg-white ${i?"-right-1":"-left-1"}`})]}),!t&&r.jsxs("span",{children:[a("dashboard.sidebar.support")," ASUS"]})]})}),m.smartLinePartnerCompleted&&r.jsx(tt,{to:"/dashboard/support",title:t?a("dashboard.sidebar.support")+" Smart Line":void 0,className:xe("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-3":"justify-between px-4 py-3",o.pathname==="/dashboard/support"?`bg-gradient-to-r from-cyan-500/10 to-blue-500/10 text-cyan-700 dark:text-cyan-400 ${i?"border-r-4":"border-l-4"} border-cyan-500 shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),children:r.jsxs("div",{className:xe("flex items-center gap-3",t&&"justify-center"),children:[r.jsxs("div",{className:"relative",children:[r.jsx($2,{className:xe("h-5 w-5 transition-transform group-hover:scale-110 flex-shrink-0",o.pathname==="/dashboard/support"&&"text-cyan-600 dark:text-cyan-400")}),!t&&r.jsx("img",{src:"/partners/smartline-logo.png",alt:"Smart Line",className:`absolute -top-1 w-3 h-3 rounded-full bg-white ${i?"-right-1":"-left-1"}`})]}),!t&&r.jsxs("span",{children:[a("dashboard.sidebar.support")," Smart Line"]})]})})]})]})]})}),r.jsx(Js,{}),!t&&((u==null?void 0:u.googlePlayUrl)||(u==null?void 0:u.appStoreUrl))&&r.jsx("div",{className:xe("p-4",t&&"p-2"),children:r.jsxs("div",{className:"flex gap-2",children:[(u==null?void 0:u.googlePlayUrl)&&r.jsxs("a",{href:u.googlePlayUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-black rounded-lg p-2 flex items-center justify-center gap-1 cursor-pointer hover:bg-gray-800 transition-colors",children:[r.jsx(Ry,{className:"h-4 w-4 text-white"}),r.jsx("div",{className:"text-xs text-white font-medium",children:"Google Play"})]}),(u==null?void 0:u.appStoreUrl)&&r.jsxs("a",{href:u.appStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-black rounded-lg p-2 flex items-center justify-center gap-1 cursor-pointer hover:bg-gray-800 transition-colors",children:[r.jsx(Ry,{className:"h-4 w-4 text-white"}),r.jsx("div",{className:"text-xs text-white font-medium",children:"App Store"})]})]})}),!t&&r.jsx("div",{className:"px-4 py-2 border-t border-border",children:r.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[r.jsxs("div",{children:["v",P3]}),Y_!=="dev"]})})]})},_xt=()=>{const[e,t]=f.useState("light");f.useEffect(()=>{const a=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=a||(n?"dark":"light");t(i),document.documentElement.classList.toggle("dark",i==="dark")},[]);const s=()=>{const a=e==="light"?"dark":"light";t(a),localStorage.setItem("theme",a),document.documentElement.classList.toggle("dark",a==="dark")};return r.jsx(V,{variant:"ghost",size:"icon",onClick:s,"aria-label":"Toggle theme",children:e==="light"?r.jsx(ad,{className:"h-5 w-5"}):r.jsx(Jd,{className:"h-5 w-5"})})},Dxt=()=>{const{i18n:e}=It(),t=async s=>{BI(s),await e.changeLanguage(s),window.dispatchEvent(new Event("languagechange"));const a=new CustomEvent("i18n:languageChanged",{detail:{language:s}});window.dispatchEvent(a);const n=s==="ar"?"rtl":"ltr";document.documentElement.dir=n,document.documentElement.lang=s,document.documentElement.setAttribute("dir",n),document.documentElement.setAttribute("lang",s),document.body&&(document.body.dir=n,document.body.setAttribute("dir",n),document.body.style.setProperty("direction",n,"important"),document.body.style.direction=n),n==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl")))};return r.jsxs(aE,{children:[r.jsx(nE,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"icon","aria-label":"Change language",children:r.jsx(Vfe,{className:"h-5 w-5"})})}),r.jsxs(Gj,{align:"end",children:[r.jsx(jl,{onClick:()=>t("ar"),children:""}),r.jsx(jl,{onClick:()=>t("en"),children:"English"})]})]})};var vde="AlertDialog",[Oxt,M0t]=on(vde,[BQ]),hh=BQ(),yde=e=>{const{__scopeAlertDialog:t,...s}=e,a=hh(t);return r.jsx(O3,{...a,...s,modal:!0})};yde.displayName=vde;var Ixt="AlertDialogTrigger",Rxt=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=hh(s);return r.jsx(I3,{...n,...a,ref:t})});Rxt.displayName=Ixt;var Mxt="AlertDialogPortal",bde=e=>{const{__scopeAlertDialog:t,...s}=e,a=hh(t);return r.jsx(R3,{...a,...s})};bde.displayName=Mxt;var Fxt="AlertDialogOverlay",wde=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=hh(s);return r.jsx(wj,{...n,...a,ref:t})});wde.displayName=Fxt;var Cg="AlertDialogContent",[Lxt,$xt]=Oxt(Cg),Bxt=AG("AlertDialogContent"),jde=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:a,...n}=e,i=hh(s),o=f.useRef(null),l=Pr(t,o),c=f.useRef(null);return r.jsx(QSe,{contentName:Cg,titleName:Nde,docsSlug:"alert-dialog",children:r.jsx(Lxt,{scope:s,cancelRef:c,children:r.jsxs(jj,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:bt(n.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Bxt,{children:a}),r.jsx(Vxt,{contentRef:o})]})})})});jde.displayName=Cg;var Nde="AlertDialogTitle",Sde=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=hh(s);return r.jsx(Nj,{...n,...a,ref:t})});Sde.displayName=Nde;var kde="AlertDialogDescription",Cde=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=hh(s);return r.jsx(Sj,{...n,...a,ref:t})});Cde.displayName=kde;var Uxt="AlertDialogAction",Ade=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,n=hh(s);return r.jsx(LC,{...n,...a,ref:t})});Ade.displayName=Uxt;var Ede="AlertDialogCancel",Pde=f.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=$xt(Ede,s),i=hh(s),o=Pr(t,n);return r.jsx(LC,{...i,...a,ref:o})});Pde.displayName=Ede;var Vxt=({contentRef:e})=>{const t=`\`${Cg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cg}\` by passing a \`${kde}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},zxt=yde,Wxt=bde,Tde=wde,_de=jde,Dde=Ade,Ode=Pde,Ide=Sde,Rde=Cde;const Hxt=zxt,qxt=Wxt,Mde=f.forwardRef(({className:e,...t},s)=>r.jsx(Tde,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Mde.displayName=Tde.displayName;const Fde=f.forwardRef(({className:e,...t},s)=>r.jsxs(qxt,{children:[r.jsx(Mde,{}),r.jsx(_de,{ref:s,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Fde.displayName=_de.displayName;const Lde=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Lde.displayName="AlertDialogHeader";const $de=({className:e,...t})=>r.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$de.displayName="AlertDialogFooter";const Bde=f.forwardRef(({className:e,...t},s)=>r.jsx(Ide,{ref:s,className:xe("text-lg font-semibold",e),...t}));Bde.displayName=Ide.displayName;const Ude=f.forwardRef(({className:e,...t},s)=>r.jsx(Rde,{ref:s,className:xe("text-sm text-muted-foreground",e),...t}));Ude.displayName=Rde.displayName;const Vde=f.forwardRef(({className:e,...t},s)=>r.jsx(Dde,{ref:s,className:xe(DC(),e),...t}));Vde.displayName=Dde.displayName;const zde=f.forwardRef(({className:e,...t},s)=>r.jsx(Ode,{ref:s,className:xe(DC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zde.displayName=Ode.displayName;function Gxt(){const{t:e,i18n:t}=It(),s=t.language==="ar",{user:a,refreshUser:n,loginWithTokens:i}=$s(),o=ts(),{toast:l}=Lt(),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState(!1),[g,x]=f.useState({allowed:!1,currentCount:0,limit:1}),[y,b]=f.useState(!1),[w,v]=f.useState(!1),[S,j]=f.useState(null);f.useEffect(()=>{k()},[]);const k=async()=>{try{h(!0);const[P,_]=await Promise.all([eo.getUserMarkets(),eo.canCreateMarket()]);d(P||[]),x(_)}catch(P){console.error("Failed to load markets:",P),d([])}finally{h(!1)}},N=async P=>{if(!(m||P===(a==null?void 0:a.tenantId)))try{p(!0);const _=await eo.switchStore(P);if(_.accessToken&&_.refreshToken)await i(_.accessToken,_.refreshToken),l({title:e("common.success"),description:s?`    "${_.tenantName||""}"`:`Switched to ${_.tenantName||"store"}`}),window.location.reload();else throw new Error("Failed to obtain new session tokens")}catch(_){console.error("Failed to switch store:",_),l({title:e("common.error"),description:_.message||e("dashboard.switchFailed","Failed to switch store"),variant:"destructive"})}finally{p(!1)}},C=()=>{o("/setup")},A=(P,_)=>{P.stopPropagation(),j(_),v(!0)},E=async()=>{if(S){if(S.id===(a==null?void 0:a.tenantId)){l({title:e("common.error"),description:s?"    .      .":"Cannot delete the active market. Please switch to another market first.",variant:"destructive"}),v(!1),j(null);return}try{b(!0),await eo.deleteMarket(S.id),l({title:e("common.success"),description:s?`   "${S.name}" `:`Market "${S.name}" deleted successfully`}),await k(),await n()}catch(P){console.error("Failed to delete market:",P),l({title:e("common.error"),description:P.message||(s?"  ":"Failed to delete market"),variant:"destructive"})}finally{b(!1),v(!1),j(null)}}},D=c.find(P=>P.id===(a==null?void 0:a.tenantId));if(u)return r.jsxs(V,{variant:"ghost",size:"sm",disabled:!0,className:"gap-2",children:[r.jsx(Je,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{className:"hidden sm:inline",children:e("common.loading")})]});if(c.length===0)return r.jsxs(V,{variant:"default",size:"sm",onClick:C,className:"gap-2 bg-gradient-to-r from-primary to-primary/80",children:[r.jsx(rr,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("marketSetup.createStore"," ")})]});const T=P=>{const _={STARTER:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",PROFESSIONAL:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",ENTERPRISE:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"};return _[P]||_.STARTER};return r.jsxs(aE,{children:[r.jsx(nE,{asChild:!0,children:r.jsx(V,{variant:"outline",size:"sm",disabled:m,className:"gap-2 min-w-[140px] justify-between",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{className:"hidden sm:inline",children:e("common.switching"," ...")})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-6 w-6 rounded-md bg-primary/10 flex items-center justify-center",children:r.jsx(xs,{className:"h-3.5 w-3.5 text-primary"})}),r.jsx("span",{className:"max-w-[100px] truncate font-medium",children:(D==null?void 0:D.name)||e("dashboard.selectStore"," ")})]}),r.jsx(to,{className:"h-4 w-4 text-muted-foreground"})]})})}),r.jsxs(Gj,{align:s?"start":"end",className:"w-[280px]",children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[r.jsx(oF,{className:"p-0 font-semibold",children:e("dashboard.stores","")}),r.jsxs(et,{variant:"secondary",className:"text-xs",children:[g.currentCount,"/",g.limit]})]}),r.jsx(La,{className:"max-h-[240px]",children:r.jsx("div",{className:"py-1",children:c.map(P=>{const _=P.id===(a==null?void 0:a.tenantId),O=P.isOwner&&!_;return r.jsxs("div",{className:`flex items-center gap-2 px-3 py-2.5 mx-1 my-0.5 rounded-md transition-colors ${_?"bg-primary/10 border border-primary/20":"hover:bg-muted"}`,children:[r.jsxs(jl,{onClick:()=>N(P.id),className:`flex items-center gap-3 flex-1 p-0 cursor-pointer ${_?"bg-transparent":""}`,disabled:m,children:[r.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center ${_?"bg-primary text-primary-foreground":"bg-muted"}`,children:r.jsx(xs,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium truncate",children:P.name}),P.isOwner&&r.jsx(L0,{className:"h-3 w-3 text-amber-500 flex-shrink-0","aria-label":""})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r.jsx("span",{className:"text-xs text-muted-foreground truncate",children:P.subdomain}),r.jsx(et,{className:`text-[10px] px-1.5 py-0 h-4 ${T(P.plan)}`,children:P.plan})]})]}),_&&r.jsx(Za,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),O&&r.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:M=>A(M,P),disabled:y,children:r.jsx(Sr,{className:"h-4 w-4"})})]},P.id)})})}),r.jsx(P0,{}),g.allowed?r.jsx(jl,{onClick:C,className:"cursor-pointer mx-1 my-1 rounded-md",children:r.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg border-2 border-dashed border-primary/50 flex items-center justify-center",children:r.jsx(rr,{className:"h-4 w-4"})}),r.jsx("span",{className:"font-medium",children:e("marketSetup.createStore","  ")})]})}):r.jsxs("div",{className:"px-3 py-2 text-center",children:[r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 text-xs",children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsx("span",{children:e("dashboard.storeLimitReached","   ")})]}),r.jsx(tt,{to:"/dashboard/settings/billing",className:"text-xs text-primary hover:underline mt-1 block",children:e("dashboard.upgradePlan"," ")})]})]}),r.jsx(Hxt,{open:w,onOpenChange:v,children:r.jsxs(Fde,{children:[r.jsxs(Lde,{children:[r.jsx(Bde,{children:s?" ":"Delete Market"}),r.jsx(Ude,{children:s?`      "${S==null?void 0:S.name}"            .`:`Are you sure you want to delete the market "${S==null?void 0:S.name}"? This action cannot be undone and will delete all associated data.`})]}),r.jsxs($de,{children:[r.jsx(zde,{disabled:y,children:s?"":"Cancel"}),r.jsx(Vde,{onClick:E,disabled:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:y?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin mr-2"}),s?" ...":"Deleting..."]}):s?"":"Delete"})]})]})})]})}const Wde=f.createContext({startTour:()=>{},isRunning:!1}),Hde=()=>f.useContext(Wde),Kxt=({step:e,onClose:t})=>{const{t:s,i18n:a}=It(),n=a.language==="ar",[i,o]=f.useState([{role:"assistant",content:n?`!   .     "${e.title}".    `:`Hi! I'm your AI assistant. I can tell you more about "${e.title}". What would you like to know?`}]),[l,c]=f.useState(""),[d,u]=f.useState(!1),h=f.useRef(null);f.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[i]);const m=async()=>{if(!l.trim()||d)return;const p=l.trim();c(""),o(g=>[...g,{role:"user",content:p}]),u(!0);try{const g=await vj.chat({message:p,context:{currentSection:e.title,currentPage:e.navigateTo||"dashboard",userAction:"tour_guide_question"}});o(x=>[...x,{role:"assistant",content:g.response}])}catch{o(x=>[...x,{role:"assistant",content:n?"    .   .":"Sorry, connection error. Please try again."}])}finally{u(!1)}};return r.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border/50 bg-muted/30",children:r.jsxs("div",{className:"p-4 h-[300px] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-teal-600",children:[r.jsx(Vd,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:n?" ":"AI Assistant"})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:r.jsx(jr,{className:"w-3 h-3"})})]}),r.jsx(La,{className:"flex-1 pr-3 mb-3",ref:h,children:r.jsxs("div",{className:"space-y-3",children:[i.map((p,g)=>r.jsxs("div",{className:xe("flex gap-2",p.role==="user"?"flex-row-reverse":""),children:[r.jsx("div",{className:xe("w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-1",p.role==="user"?"bg-primary text-primary-foreground":"bg-teal-100 text-teal-600"),children:p.role==="user"?r.jsx(wr,{className:"w-3 h-3"}):r.jsx(Vd,{className:"w-3 h-3"})}),r.jsx("div",{className:xe("p-2.5 rounded-2xl text-sm max-w-[85%]",p.role==="user"?"bg-primary text-primary-foreground rounded-tr-none":"bg-white dark:bg-gray-800 border shadow-sm rounded-tl-none"),children:p.content})]},g)),d&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center flex-shrink-0",children:r.jsx(Vd,{className:"w-3 h-3"})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 border shadow-sm rounded-2xl rounded-tl-none p-3 flex items-center gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})}),r.jsxs("div",{className:"flex gap-2 mt-auto pt-2 border-t border-border/50",children:[r.jsx(pe,{value:l,onChange:p=>c(p.target.value),onKeyDown:p=>p.key==="Enter"&&m(),placeholder:n?"  ...":"Type your question...",className:"h-9 text-sm bg-background"}),r.jsx(V,{size:"sm",onClick:m,disabled:d||!l.trim(),className:"h-9 w-9 p-0 bg-teal-600 hover:bg-teal-700",children:d?r.jsx(Je,{className:"w-4 h-4 animate-spin"}):r.jsx(Ip,{className:"w-4 h-4"})})]})]})})},Yxt=({children:e})=>{const[t,s]=f.useState(!1),a=f.useCallback(()=>{localStorage.removeItem("tour_completed"),s(!0)},[]),n=f.useCallback(()=>{s(!1),localStorage.setItem("tour_completed","true"),document.querySelectorAll(".tour-highlight-active").forEach(i=>{i.classList.remove("tour-highlight-active")})},[]);return r.jsxs(Wde.Provider,{value:{startTour:a,isRunning:t},children:[e,r.jsx(Xxt,{isRunning:t,onClose:n})]})},Xxt=({isRunning:e,onClose:t})=>{const{t:s,i18n:a}=It(),n=ts(),i=Gn(),[o,l]=f.useState(0),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(!1),g=f.useRef(0),x=a.language==="ar",y=[{id:"welcome",title:"   ! ",description:"           .",icon:r.jsx(bs,{className:"w-8 h-8 text-white"}),position:"center",robotMood:"excited"},{id:"settings-nav",title:"  ",description:'    .   " "  .',icon:r.jsx(Es,{className:"w-6 h-6"}),target:"#tour-sidebar-settings",navigateTo:"/dashboard/settings",robotMood:"thinking"},{id:"settings-save",title:"  ",description:'       ""  .',icon:r.jsx(nn,{className:"w-6 h-6"}),target:"#tour-settings-save-btn",waitForElement:!0,robotMood:"wink"},{id:"settings-info",title:"  ",description:`   
  
   ( )
  
  `,icon:r.jsx(Es,{className:"w-6 h-6"}),position:"center",robotMood:"happy"},{id:"hierarchical-nav",title:"  ",description:"     .  .",icon:r.jsx(xs,{className:"w-6 h-6"}),target:"#tour-sidebar-hierarchical",navigateTo:"/dashboard/hierarchical",robotMood:"happy"},{id:"hierarchical-add-brand",title:"  ",description:'  "  "     Nike  Apple.',icon:r.jsx(rr,{className:"w-6 h-6"}),target:"#tour-brands-add-btn",waitForElement:!0,robotMood:"excited"},{id:"hierarchical-add-category",title:" ",description:'     .  " ".',icon:r.jsx(rr,{className:"w-6 h-6"}),target:"#tour-categories-add-btn",waitForElement:!0,robotMood:"happy"},{id:"hierarchical-info",title:"  ",description:`  =   !

:
 Nike
    
      
    `,icon:r.jsx(xs,{className:"w-6 h-6"}),position:"center",robotMood:"wink"},{id:"products-nav",title:"  ",description:'  .   "".',icon:r.jsx(Dt,{className:"w-6 h-6"}),target:"#tour-sidebar-products",navigateTo:"/dashboard/products",robotMood:"excited"},{id:"products-add",title:"   ",description:"    .    .",icon:r.jsx(rr,{className:"w-6 h-6"}),target:"#tour-products-add-btn",waitForElement:!0,robotMood:"happy"},{id:"products-import",title:"  Excel ",description:'    ""   Excel.',icon:r.jsx(An,{className:"w-6 h-6"}),target:"#tour-products-import-btn",waitForElement:!0,robotMood:"thinking"},{id:"products-export",title:"  ",description:"    Excel  .",icon:r.jsx(xn,{className:"w-6 h-6"}),target:"#tour-products-export-btn",waitForElement:!0,robotMood:"happy"},{id:"products-search",title:"  ",description:"    .      .",icon:r.jsx(Mr,{className:"w-6 h-6"}),target:"#tour-products-search",waitForElement:!0,robotMood:"thinking"},{id:"pages-nav",title:"  ",description:'  .   "".',icon:r.jsx(ka,{className:"w-6 h-6"}),target:"#tour-sidebar-pages",navigateTo:"/dashboard/pages",robotMood:"happy"},{id:"pages-add",title:"  ",description:'    " "  " ".',icon:r.jsx(rr,{className:"w-6 h-6"}),target:"#tour-pages-add-btn",waitForElement:!0,robotMood:"excited"},{id:"pages-info",title:"  ",description:`     :
   
   
  `,icon:r.jsx(Cr,{className:"w-6 h-6"}),position:"center",robotMood:"wink"},{id:"customers-nav",title:"  ",description:'  .   "".',icon:r.jsx(wr,{className:"w-6 h-6"}),target:"#tour-sidebar-customers",navigateTo:"/dashboard/customers",robotMood:"happy"},{id:"customers-info",title:"  ",description:`   
  
  
  
   `,icon:r.jsx(wr,{className:"w-6 h-6"}),position:"center",robotMood:"love"},{id:"design-info",title:" ",description:`  
 
  
   
  `,icon:r.jsx(lp,{className:"w-6 h-6"}),position:"center",robotMood:"happy"},{id:"orders-nav",title:"  ",description:'   .   "".',icon:r.jsx(Dt,{className:"w-6 h-6"}),target:"#tour-sidebar-orders",navigateTo:"/dashboard/orders",robotMood:"happy"},{id:"orders-info",title:"   ",description:`    
   
  
   
   `,icon:r.jsx(Dt,{className:"w-6 h-6"}),position:"center",robotMood:"thinking"},{id:"reports-nav",title:"  ",description:'   .   "".',icon:r.jsx(op,{className:"w-6 h-6"}),target:"#tour-sidebar-reports",navigateTo:"/dashboard/reports",robotMood:"thinking"},{id:"reports-info",title:" ",description:`  
  
  
  
   Excel`,icon:r.jsx(op,{className:"w-6 h-6"}),position:"center",robotMood:"happy"},{id:"users-nav",title:"  ",description:'   .   " ".',icon:r.jsx(wr,{className:"w-6 h-6"}),target:"#tour-sidebar-users",navigateTo:"/dashboard/settings/users",robotMood:"happy"},{id:"users-info",title:" ",description:`   
    
    
   
   `,icon:r.jsx(wr,{className:"w-6 h-6"}),position:"center",robotMood:"wink"},{id:"management-nav",title:"  ",description:'       .   " ".',icon:r.jsx(xs,{className:"w-6 h-6"}),target:"#tour-sidebar-management",navigateTo:"/dashboard/management",robotMood:"excited"},{id:"management-info",title:"  ",description:`   
   
    
  
   `,icon:r.jsx(xs,{className:"w-6 h-6"}),position:"center",robotMood:"happy"},{id:"notifications",title:" ",description:"  :      .",icon:r.jsx(Xo,{className:"w-6 h-6"}),target:"#tour-header-notifications",robotMood:"surprised"},{id:"complete",title:"! ",description:"    !",icon:r.jsx(bs,{className:"w-8 h-8 text-white"}),position:"center",robotMood:"love"},{id:"next-steps",title:"  ",description:`1   
2   
3  
4  
5   !

  ! `,icon:r.jsx(bs,{className:"w-8 h-8 text-white"}),position:"center",robotMood:"excited"}],b=f.useCallback(T=>{const P=document.querySelector(T);return P?(P.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const _=P.getBoundingClientRect();d(_),P.classList.add("tour-highlight-active")},300),!0):!1},[]);f.useEffect(()=>{if(!e)return;const T=y[o];if(g.current=0,document.querySelectorAll(".tour-highlight-active").forEach(_=>{_.classList.remove("tour-highlight-active")}),d(null),T.navigateTo&&i.pathname!==T.navigateTo){h(!0),n(T.navigateTo);return}if(h(!1),T.target){const _=()=>{const O=b(T.target);!O&&g.current<10?(g.current++,setTimeout(_,300)):O||d(null)};T.waitForElement?setTimeout(_,500):_()}const P=()=>{if(T.target){const _=document.querySelector(T.target);if(_){const O=_.getBoundingClientRect();d(O)}}};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[o,e,i.pathname]),f.useEffect(()=>{if(!e||!u)return;const T=y[o];T.navigateTo&&i.pathname===T.navigateTo&&(h(!1),T.target&&setTimeout(()=>{b(T.target)},500))},[i.pathname,u,e]);const w=()=>{o<y.length-1?(document.querySelectorAll(".tour-highlight-active").forEach(T=>{T.classList.remove("tour-highlight-active")}),d(null),setTimeout(()=>{l(T=>T+1)},150)):t()},v=()=>{o>0&&(document.querySelectorAll(".tour-highlight-active").forEach(T=>{T.classList.remove("tour-highlight-active")}),d(null),setTimeout(()=>{l(T=>T-1)},150))},S=()=>{document.querySelectorAll(".tour-highlight-active").forEach(T=>{T.classList.remove("tour-highlight-active")}),t()},j=()=>{const T=y[o];T.navigateTo?(n(T.navigateTo),setTimeout(()=>{l(P=>P+1)},300)):w()};if(!e)return null;const k=y[o],N=(o+1)/y.length*100,C=k.position==="center"||!k.target&&!c,A=k.target&&c,D=C?{className:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{}}:{className:"",style:{bottom:"24px",left:"50%",transform:"translateX(-50%)"}};return r.jsx(Wn,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"fixed inset-0 z-[9998] pointer-events-none",style:{background:"radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.4) 100%)"}}),A&&c&&r.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9997] pointer-events-none",style:{background:`radial-gradient(ellipse ${c.width+100}px ${c.height+100}px at ${c.left+c.width/2}px ${c.top+c.height/2}px, transparent 40%, rgba(0, 0, 0, 0.5) 70%)`}}),A&&c&&r.jsxs(Me.div,{initial:{opacity:0,scale:.8,rotate:-5},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:25,mass:.8},className:"fixed cursor-pointer z-[9999]",style:{left:c.left-16,top:c.top-16,width:c.width+32,height:c.height+32},onClick:j,children:[r.jsx(Me.div,{animate:{scale:[1,1.05,1],opacity:[.6,.9,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-3xl",style:{background:"radial-gradient(circle, rgba(0, 169, 157, 0.4) 0%, transparent 70%)",filter:"blur(8px)"}}),r.jsx(Me.div,{animate:{boxShadow:["0 0 20px rgba(0, 169, 157, 0.6), 0 0 40px rgba(0, 169, 157, 0.4), inset 0 0 20px rgba(0, 169, 157, 0.2)","0 0 40px rgba(0, 169, 157, 0.8), 0 0 60px rgba(0, 169, 157, 0.5), inset 0 0 30px rgba(0, 169, 157, 0.3)","0 0 20px rgba(0, 169, 157, 0.6), 0 0 40px rgba(0, 169, 157, 0.4), inset 0 0 20px rgba(0, 169, 157, 0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-3xl border-[3px] border-teal-400"}),r.jsx(Me.div,{animate:{opacity:[.3,.6,.3]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"absolute inset-[6px] rounded-2xl bg-gradient-to-br from-teal-400/20 to-cyan-400/20"}),Array.from({length:8}).map((T,P)=>r.jsx(Me.div,{className:"absolute w-2 h-2 rounded-full bg-teal-400",style:{left:`${20+P*12}%`,top:`${15+P%3*30}%`},animate:{scale:[0,1,0],opacity:[0,1,0],y:[-10,-20,-10]},transition:{duration:2,repeat:1/0,delay:P*.2,ease:"easeInOut"}},P)),k.navigateTo&&r.jsxs(Me.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -bottom-16 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 text-white px-6 py-3 rounded-full text-sm font-bold shadow-2xl whitespace-nowrap backdrop-blur-sm",style:{backgroundSize:"200% 100%",animation:"gradient-shift 3s ease infinite"},children:[r.jsx(Me.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0},children:r.jsx(Wfe,{className:"w-4 h-4"})}),r.jsx("span",{children:"  "}),r.jsx(Me.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:r.jsx(Ms,{className:`w-4 h-4 ${x?"rotate-180":""}`})})]})]}),r.jsx(Me.div,{initial:{opacity:0,y:30,scale:.9,rotateX:-15},animate:{opacity:1,y:0,scale:1,rotateX:0},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:30,stiffness:400,mass:.8},className:xe("fixed z-[10000]",D.className),style:{...D.style,perspective:"1000px"},children:r.jsx(Me.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:25},children:r.jsxs(we,{className:"w-[400px] max-w-[90vw] shadow-2xl border-0 overflow-hidden bg-gradient-to-br from-card/98 via-card/95 to-card/98 backdrop-blur-2xl relative",children:[r.jsx(Me.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(Me.div,{className:"absolute inset-0 opacity-20",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),r.jsx("div",{className:"h-2 bg-muted/50 relative overflow-hidden",children:r.jsx(Me.div,{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 relative",initial:{width:0},animate:{width:`${N}%`},transition:{duration:.5,ease:"easeOut"},style:{backgroundSize:"200% 100%",animation:"gradient-shift 3s ease infinite"},children:r.jsx(Me.div,{className:"absolute inset-0 bg-white/30",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}),r.jsxs(Se,{className:"p-6 relative z-10",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[r.jsx(Me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20,delay:.1},whileHover:{scale:1.1},className:"flex-shrink-0",children:r.jsx(X_,{mood:k.robotMood||"happy",size:"lg",isArabic:x})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Me.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-xl font-bold leading-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:k.title}),r.jsx(Me.div,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0 text-muted-foreground hover:text-foreground hover:bg-destructive/10",onClick:S,children:r.jsx(jr,{className:"h-4 w-4"})})})]}),r.jsx(Me.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-line",children:k.description})]})]}),r.jsxs(Me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex items-center justify-between mb-5 px-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Me.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"text-sm text-muted-foreground font-medium",children:[" ",o+1,"  ",y.length]},o),r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>p(!m),className:xe("h-6 px-2 text-xs gap-1.5 rounded-full transition-all duration-300",m?"bg-teal-100 text-teal-700 hover:bg-teal-200":"bg-teal-50 text-teal-600 hover:bg-teal-100"),children:[r.jsx(bs,{className:"w-3 h-3"}),m?x?" ":"Hide AI":x?"  ":"Ask AI"]})]}),r.jsx("div",{className:"flex gap-1.5",children:Array.from({length:Math.min(y.length,8)}).map((T,P)=>{const _=Math.floor(o/8)*8+P,O=_===o,M=_<o;return r.jsx(Me.div,{initial:{scale:0},animate:{scale:O?1.2:1,width:O?24:8},whileHover:{scale:1.3},transition:{type:"spring",stiffness:400,damping:20},className:xe("h-2 rounded-full transition-all duration-300",O?"bg-gradient-to-r from-teal-500 to-cyan-500 shadow-lg shadow-teal-500/50":M?"bg-teal-500/50":"bg-muted")},P)})})]}),r.jsx(Wn,{children:m&&r.jsx(Kxt,{step:k,onClose:()=>p(!1)})}),r.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:xe("flex gap-3",x&&"flex-row-reverse"),children:[r.jsx(Wn,{children:o>0&&r.jsx(Me.div,{initial:{opacity:0,x:x?20:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:x?20:-20},transition:{type:"spring",stiffness:300},children:r.jsxs(V,{variant:"outline",onClick:v,className:"gap-2 px-4 relative overflow-hidden group",children:[r.jsx(Me.div,{whileHover:{x:x?-3:3},transition:{type:"spring",stiffness:400},children:x?r.jsx(Ms,{className:"h-4 w-4"}):r.jsx(Qo,{className:"h-4 w-4"})}),""]})})}),r.jsx(Me.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsxs(V,{onClick:w,className:"w-full gap-2 bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 hover:from-teal-600 hover:via-cyan-600 hover:to-teal-600 font-semibold shadow-xl relative overflow-hidden group",style:{backgroundSize:"200% 100%"},children:[r.jsx(Me.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),r.jsx(Me.span,{className:"relative z-10 flex items-center gap-2",animate:o===y.length-1?{scale:[1,1.05,1]}:{},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:o===y.length-1?r.jsxs(r.Fragment,{children:[r.jsx(Me.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(cp,{className:"h-4 w-4"})})," !"]}):r.jsxs(r.Fragment,{children:["",r.jsx(Me.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:x?r.jsx(Qo,{className:"h-4 w-4"}):r.jsx(Ms,{className:"h-4 w-4"})})]})})]})})]}),r.jsx(Me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"w-full mt-4 text-xs text-muted-foreground hover:text-foreground transition-colors",children:" "})]})]})})},o),r.jsx("style",{children:`
            @keyframes gradient-shift {
              0%, 100% {
                background-position: 0% 50%;
              }
              50% {
                background-position: 100% 50%;
              }
            }
            
            @keyframes tour-glow {
              0%, 100% {
                box-shadow: 0 0 30px rgba(0, 169, 157, 0.7), 0 0 60px rgba(0, 169, 157, 0.4);
              }
              50% {
                box-shadow: 0 0 50px rgba(0, 169, 157, 0.9), 0 0 80px rgba(0, 169, 157, 0.5);
              }
            }
            
            .tour-highlight-active {
              position: relative;
              z-index: 1;
              transition: all 0.3s ease;
            }
            
            .tour-highlight-active::before {
              content: '';
              position: absolute;
              inset: -4px;
              border-radius: inherit;
              padding: 2px;
              background: linear-gradient(45deg, rgba(0, 169, 157, 0.3), rgba(0, 255, 255, 0.3));
              -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
              -webkit-mask-composite: xor;
              mask-composite: exclude;
              animation: border-glow 2s ease-in-out infinite;
            }
            
            @keyframes border-glow {
              0%, 100% {
                opacity: 0.5;
              }
              50% {
                opacity: 1;
              }
            }
          `})]})})},Qxt=()=>{const{startTour:e}=Hde();return r.jsx(V,{onClick:e,variant:"ghost",size:"icon",className:"relative",title:"  ",children:r.jsx(lI,{className:"h-5 w-5"})})},qde=({onMenuClick:e,userName:t="User",userEmail:s="admin@example.com",userAvatar:a})=>{const{t:n,i18n:i}=It(),o=i.language==="ar",{logout:l}=$s(),{toast:c}=Lt(),[d,u]=f.useState("month"),h=ts(),m=Gn(),{notifications:p,unreadCount:g,markAsRead:x,markAllAsRead:y}=$be(),[b,w]=f.useState("SAR"),[v,S]=f.useState("."),[j,k]=f.useState(""),[N,C]=f.useState(!1),[A,E]=f.useState("all"),[D,T]=f.useState(""),[P,_]=f.useState("");f.useEffect(()=>{(async()=>{var G;try{const U=await fe.get("/site-config",{requireAuth:!0});if(U&&typeof U=="object"&&((G=U.settings)!=null&&G.currency)){const W=String(U.settings.currency);if(W&&W.length<=10){w(W);try{const J=await fe.get("/currencies",{requireAuth:!0});if(Array.isArray(J)){const z=J.find(ie=>(ie==null?void 0:ie.code)===W);z!=null&&z.symbol&&typeof z.symbol=="string"?S(z.symbol):S({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[W]||W)}else S({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[W]||W)}catch{S({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[W]||W)}}}}catch(U){console.error("Failed to load currency:",U),w("SAR"),S(".")}})()},[]);const O=async()=>{try{console.log("Logout initiated"),await l(),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),localStorage.removeItem("adminApiKey");const F=document.cookie.split(";");for(const G of F){const U=G.indexOf("="),W=U>-1?G.substr(0,U).trim():G.trim();document.cookie=`${W}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`,document.cookie=`${W}=; path=/; domain=${window.location.hostname}; expires=Thu, 01 Jan 1970 00:00:00 GMT`}window.location.href="/login"}catch(F){console.error("Logout error:",F),localStorage.clear(),document.cookie.split(";").forEach(G=>{document.cookie=G.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.href="/login"}},M=async()=>{try{const F=m.pathname;if(F.includes("/reports")){const G=new CustomEvent("exportReports");window.dispatchEvent(G),c({title:n("dashboard.header.download"),description:n("dashboard.header.exportingReports","Exporting reports...")})}else if(F.includes("/orders")){const G=new CustomEvent("exportOrders");window.dispatchEvent(G),c({title:n("dashboard.header.download"),description:n("dashboard.header.exportingOrders","Exporting orders...")})}else if(F.includes("/products")){const G=new CustomEvent("exportProducts");window.dispatchEvent(G),c({title:n("dashboard.header.download"),description:n("dashboard.header.exportingProducts","Exporting products...")})}else if(F.includes("/customers")){const G=new CustomEvent("exportCustomers");window.dispatchEvent(G),c({title:n("dashboard.header.download"),description:n("dashboard.header.exportingCustomers","Exporting customers...")})}else h("/dashboard/reports"),c({title:n("dashboard.header.download"),description:n("dashboard.header.navigateToReports","Navigate to reports page to export data")})}catch(F){console.error("Export error:",F),c({title:n("common.error"),description:n("dashboard.header.exportError","Failed to export data"),variant:"destructive"})}},I=()=>{C(!0)},R=()=>{m.pathname;const F={status:A,dateFrom:D,dateTo:P},G=new CustomEvent("applyFilter",{detail:F});window.dispatchEvent(G),C(!1),c({title:n("dashboard.header.filter"),description:n("dashboard.header.filterApplied","Filter applied successfully")})},L=()=>{y()},K=F=>{switch(x(F.id),F.type){case"ORDER":h("/dashboard/orders");break;case"CUSTOMER":h("/dashboard/customers");break;case"INVENTORY":h("/dashboard/products");break;case"MARKETING":h("/dashboard/marketing");break}},H=F=>{if(F.preventDefault(),!j.trim())return;m.pathname;const G=new CustomEvent("searchQuery",{detail:j});window.dispatchEvent(G),h(`/dashboard/search?q=${encodeURIComponent(j)}`)};return r.jsxs("header",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[r.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 gap-1.5 sm:gap-2 md:gap-3 lg:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 flex-shrink-0",onClick:e,"aria-label":" ",children:r.jsx(sh,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),r.jsx("div",{className:`hidden sm:flex items-center flex-shrink-0 ${o?"mr-1 md:mr-3 lg:mr-6":"ml-1 md:ml-3 lg:ml-6"}`,children:r.jsx("img",{src:sl(),alt:"Saeaa - ",className:"h-12 sm:h-14 md:h-16 lg:h-18 object-contain bg-transparent"})})]}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1.5 xl:gap-2 flex-shrink-0",children:[r.jsxs(mr,{value:d,onValueChange:u,children:[r.jsxs(dr,{className:"w-[240px] xl:w-[280px] bg-muted/50 border-0 h-9",children:[r.jsx(Ri,{className:`h-4 w-4 text-muted-foreground ${o?"ml-2":"mr-2"}`}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"week",children:(()=>{const F=new Date,G=new Date(F);G.setDate(G.getDate()-7);const U=i.language==="ar"?"ar-SA":"en-US",W={year:"numeric",month:"long",day:"numeric"};return`${G.toLocaleDateString(U,W)} - ${F.toLocaleDateString(U,W)}`})()}),r.jsx(_e,{value:"month",children:(()=>{const F=new Date,G=new Date(F.getFullYear(),F.getMonth(),1),U=new Date(F.getFullYear(),F.getMonth()+1,0),W=i.language==="ar"?"ar-SA":"en-US",J={year:"numeric",month:"long",day:"numeric"};return`${G.toLocaleDateString(W,J)} - ${U.toLocaleDateString(W,J)}`})()}),r.jsx(_e,{value:"year",children:(()=>{const F=new Date,G=new Date(F.getFullYear(),0,1),U=new Date(F.getFullYear(),11,31),W=i.language==="ar"?"ar-SA":"en-US",J={year:"numeric",month:"long",day:"numeric"};return`${G.toLocaleDateString(W,J)} - ${U.toLocaleDateString(W,J)}`})()}),r.jsx(_e,{value:"custom",children:n("dashboard.header.customDate")})]})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:M,title:n("dashboard.header.download"),children:r.jsx(xn,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:I,title:n("dashboard.header.filter"),children:r.jsx(Wu,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-1.5 lg:gap-2 flex-shrink-0",children:[r.jsxs("div",{className:"hidden lg:flex items-center gap-1.5 px-2 py-1.5 rounded-md bg-muted/50 border border-border",children:[r.jsx(an,{className:"h-3.5 w-3.5 text-muted-foreground"}),r.jsx("span",{className:"text-xs font-medium",children:v}),r.jsx("span",{className:"text-xs text-muted-foreground hidden xl:inline",children:b})]}),r.jsx("div",{className:"hidden sm:block",children:r.jsx(Gxt,{})}),r.jsx("div",{id:"tour-header-theme",children:r.jsx(_xt,{})}),r.jsx(Dxt,{}),r.jsx(Qxt,{}),r.jsxs(xde,{children:[r.jsx(gde,{asChild:!0,children:r.jsxs(V,{id:"tour-header-notifications",variant:"ghost",size:"icon",className:"relative h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10",children:[r.jsx(Xo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),g>0&&r.jsx(et,{variant:"destructive",className:"absolute -top-0.5 -right-0.5 h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center p-0 text-[10px] sm:text-xs",children:g>9?"9+":g})]})}),r.jsxs(RF,{className:"w-[calc(100vw-3rem)] sm:w-80 md:w-96 max-w-sm p-0",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"font-semibold",children:n("dashboard.header.notifications")}),g>0&&r.jsx(V,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:L,children:n("dashboard.header.clearAll")})]}),r.jsx(La,{className:"h-[400px]",children:p.length===0?r.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[r.jsx(Xo,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:n("dashboard.header.noNotifications","No notifications")})]}):r.jsx("div",{className:"divide-y",children:p.map(F=>r.jsx("div",{onClick:()=>K(F),className:`p-4 hover:bg-muted/50 transition-colors cursor-pointer ${F.readAt?"":"bg-cyan-50/30 dark:bg-cyan-900/10"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${F.type==="ORDER"?"bg-green-100 dark:bg-green-900/30":F.type==="CUSTOMER"?"bg-blue-100 dark:bg-blue-900/30":F.type==="INVENTORY"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-purple-100 dark:bg-purple-900/30"}`,children:r.jsx(Xo,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium",children:o&&F.titleAr||F.titleEn}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:o&&F.bodyAr||F.bodyEn}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(F.createdAt).toLocaleTimeString(o?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})]}),!F.readAt&&r.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full mt-2"})]})},F.id))})})]})]}),r.jsx(Js,{orientation:"vertical",className:"h-6"}),r.jsxs(aE,{children:[r.jsx(nE,{asChild:!0,children:r.jsxs(V,{id:"tour-header-profile",variant:"ghost",className:"gap-1 sm:gap-1.5 md:gap-2 px-1 sm:px-1.5 md:px-2 h-8 sm:h-9 md:h-10",children:[r.jsxs(Ep,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8",children:[r.jsx(Pp,{src:a,alt:t}),r.jsx(Tp,{className:"bg-gradient-to-br from-cyan-500 to-blue-600 text-white text-[10px] sm:text-xs md:text-sm",children:t.charAt(0).toUpperCase()})]}),r.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[r.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm font-medium truncate max-w-[100px] xl:max-w-[120px]",children:t}),r.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground truncate max-w-[100px] xl:max-w-[120px]",children:s})]}),r.jsx(to,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground hidden md:block"})]})}),r.jsxs(Gj,{align:"end",className:"w-56 sm:w-64 md:w-72",children:[r.jsx(oF,{children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:t}),r.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:s})]})}),r.jsx(P0,{}),r.jsxs(jl,{onClick:()=>h("/dashboard/profile"),children:[r.jsx(ao,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),r.jsx("span",{children:n("dashboard.header.profile")})]}),r.jsxs(jl,{onClick:()=>h("/dashboard/settings"),children:[r.jsx(Es,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),r.jsx("span",{children:n("dashboard.header.settings")})]}),r.jsxs(jl,{onClick:()=>h("/dashboard/help"),children:[r.jsx(lI,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),r.jsx("span",{children:n("dashboard.header.helpAndSupport")})]}),r.jsx(P0,{}),r.jsxs(jl,{className:"text-red-600 focus:text-red-600 cursor-pointer",onSelect:F=>{F.preventDefault(),O()},onClick:F=>{F.preventDefault(),F.stopPropagation(),O()},children:[r.jsx(bm,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),r.jsx("span",{children:n("dashboard.header.logout")})]})]})]})]})]}),r.jsx("div",{className:"lg:hidden px-2 sm:px-3 md:px-4 pb-2 sm:pb-3 border-t",children:r.jsxs("form",{onSubmit:H,className:"relative",children:[r.jsx(Mr,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${o?"right-2 sm:right-3":"left-2 sm:left-3"}`}),r.jsx(pe,{type:"search",placeholder:n("dashboard.header.searchPlaceholder"),value:j,onChange:F=>k(F.target.value),className:`bg-muted/50 border-0 h-8 sm:h-9 text-xs sm:text-sm ${o?"pr-8 sm:pr-10":"pl-8 sm:pl-10"}`})]})}),r.jsx(ir,{open:N,onOpenChange:C,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:n("dashboard.header.filter","Filter")}),r.jsx(pr,{children:n("dashboard.header.filterDescription","Apply filters to the current page")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:n("dashboard.header.status","Status")}),r.jsxs(mr,{value:A,onValueChange:E,children:[r.jsx(dr,{children:r.jsx(xr,{})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:n("dashboard.header.all","All")}),r.jsx(_e,{value:"active",children:n("dashboard.header.active","Active")}),r.jsx(_e,{value:"inactive",children:n("dashboard.header.inactive","Inactive")}),r.jsx(_e,{value:"pending",children:n("dashboard.header.pending","Pending")}),r.jsx(_e,{value:"completed",children:n("dashboard.header.completed","Completed")})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:n("dashboard.header.fromDate","From Date")}),r.jsx(pe,{type:"date",value:D,onChange:F=>T(F.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:n("dashboard.header.toDate","To Date")}),r.jsx(pe,{type:"date",value:P,onChange:F=>_(F.target.value)})]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>{E("all"),T(""),_(""),C(!1)},children:n("common.reset","Reset")}),r.jsx(V,{onClick:R,children:n("common.apply","Apply")})]})]})})]})};function Jxt(){const{t:e}=It(),[t,s]=f.useState(!0),[a,n]=f.useState(!0),{user:i}=$s();f.useEffect(()=>{(async()=>{if(!(i!=null&&i.id)){n(!1);return}try{const d=await fe.get("/partner/status",{requireAuth:!0});d!=null&&d.asusPartnerCompleted&&s(!1)}catch(d){console.error("Partner status check error:",d)}finally{n(!1)}})()},[i==null?void 0:i.id]);const o=()=>{s(!1)},l=()=>{s(!1)};return a||!t?null:r.jsxs("div",{className:"mb-6 relative group",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"absolute top-2 left-2 z-10 text-white/80 hover:text-white hover:bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity",onClick:o,children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsx(we,{className:"relative overflow-hidden border-0 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600",children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:r.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:"w-12 h-12"})}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold mb-1",children:e("dashboard.banner.title","ASUS Products")}),r.jsx("p",{className:"text-white/90 text-sm",children:e("dashboard.banner.subtitle","Gaming cards, PUBG cards, and PlayStation cards")})]})]}),r.jsx(tt,{to:"/partner",onClick:l,children:r.jsxs(V,{size:"lg",className:"bg-white text-purple-600 hover:bg-white/90 font-semibold shadow-xl",children:[e("dashboard.banner.startNow","Start Now"),r.jsx(Dt,{className:"mr-2 h-5 w-5"})]})})]})})})]})}function Zxt(){const{t:e,i18n:t}=It(),{startTour:s}=Hde(),[a,n]=f.useState(!1),i=t.language==="ar";f.useEffect(()=>{const c=localStorage.getItem("tour_completed"),d=sessionStorage.getItem("tour_banner_dismissed");if(!c&&!d){const u=setTimeout(()=>n(!0),1500);return()=>clearTimeout(u)}},[]);const o=()=>{n(!1),sessionStorage.setItem("tour_banner_dismissed","true")},l=()=>{n(!1),sessionStorage.setItem("tour_banner_dismissed","true"),s()};return r.jsx(Wn,{children:a&&r.jsx(Me.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"mb-6",children:r.jsx(Me.div,{whileHover:{scale:1.01},transition:{type:"spring",stiffness:400},children:r.jsxs(we,{className:"relative overflow-hidden border-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 shadow-2xl",children:[r.jsx(Me.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"},children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20% 50%, white 1px, transparent 1px), radial-gradient(circle at 80% 30%, white 1px, transparent 1px)",backgroundSize:"60px 60px"}})}),r.jsx(Me.div,{className:"absolute inset-0 opacity-20",animate:{background:["radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(Me.div,{className:"absolute inset-0 opacity-30",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent)"}}),r.jsx(V,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10 text-white/80 hover:text-white hover:bg-white/20",onClick:o,children:r.jsx(jr,{className:"h-4 w-4"})}),r.jsx(Se,{className:"p-6 relative z-10",children:r.jsxs("div",{className:`flex items-center justify-between gap-4 ${i?"flex-row-reverse":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 ${i?"flex-row-reverse":""}`,children:[r.jsxs(Me.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20,delay:.2},whileHover:{scale:1.1,rotate:5},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl relative overflow-hidden",children:[r.jsx(Me.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),r.jsx(Me.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:r.jsx(bs,{className:"w-8 h-8 text-white"})})]}),r.jsxs("div",{className:`text-white ${i?"text-right":"text-left"}`,children:[r.jsx(Me.h3,{initial:{opacity:0,x:i?20:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-xl font-bold mb-1",children:e("tour.banner.title"," ! ")}),r.jsx(Me.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-sm max-w-md",children:e("tour.banner.description","              .")})]})]}),r.jsxs("div",{className:`flex gap-2 ${i?"flex-row-reverse":""}`,children:[r.jsx(Me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(V,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/20",onClick:o,children:e("common.later","")})}),r.jsx(Me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs(V,{size:"sm",className:"bg-white text-teal-600 hover:bg-white/90 font-semibold shadow-xl gap-2 relative overflow-hidden group",onClick:l,children:[r.jsx(Me.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),r.jsxs(Me.span,{className:"relative z-10 flex items-center gap-2",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[e("tour.startTour"," "),r.jsx(Me.div,{animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:r.jsx(ma,{className:`h-4 w-4 ${i?"rotate-180":""}`})})]})]})})]})]})})]})})})})}const egt=()=>{const{i18n:e}=It(),[t,s]=f.useState(!1),[a,n]=f.useState(!1),{user:i}=$s(),o=e.language==="ar";return r.jsxs(Yxt,{children:[r.jsx("div",{className:"min-h-screen bg-background",dir:o?"rtl":"ltr",children:r.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[r.jsx("aside",{className:`hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 bg-card z-40 transition-all duration-300 ${o?"right-0 border-l":"left-0 border-r"} ${a?"lg:w-20":"lg:w-64"}`,children:r.jsx(YW,{collapsed:a,onToggleCollapse:()=>n(!a)},`sidebar-desktop-${e.language}`)}),r.jsx(Y0,{open:t,onOpenChange:s,children:r.jsx(Fp,{side:o?"right":"left",className:"w-[280px] sm:w-80 p-0 overflow-hidden",children:r.jsx(YW,{},`sidebar-mobile-${e.language}`)})}),r.jsxs("div",{className:`flex-1 w-full transition-all duration-300 ${o?a?"lg:mr-20":"lg:mr-64":a?"lg:ml-20":"lg:ml-64"}`,style:{maxWidth:"100%",overflowX:"hidden"},children:[r.jsx(qde,{onMenuClick:()=>s(!0),userName:(i==null?void 0:i.name)||(i==null?void 0:i.tenantName)||(i==null?void 0:i.email)||"User",userEmail:(i==null?void 0:i.employerEmail)||(i==null?void 0:i.email)||"",userAvatar:(i==null?void 0:i.avatar)||(i==null?void 0:i.tenantLogo)||void 0},`header-${e.language}`),r.jsxs("main",{className:"p-3 sm:p-4 md:p-5 lg:p-6 xl:p-8 w-full flex flex-col",style:{maxWidth:"100%",overflowX:"hidden"},children:[r.jsx(Zxt,{}),r.jsx(Jxt,{}),r.jsx("div",{className:"mt-3 sm:mt-4 md:mt-5 lg:mt-6 flex-1 w-full overflow-y-visible",style:{maxWidth:"100%",overflowX:"hidden"},children:r.jsx(wC,{})}),r.jsx(Mp,{className:"mt-6 sm:mt-8 pt-3 sm:pt-4 border-t border-border"})]})]})]})}),r.jsx($3,{}),r.jsx(OC,{context:{currentPage:"dashboard"}})]})};function tgt(){return r.jsxs("div",{className:"h-screen w-screen bg-background overflow-hidden flex flex-col",children:[r.jsx(qde,{}),r.jsx("div",{className:"flex-1 overflow-hidden p-2",children:r.jsx(gle,{isFullScreen:!0})})]})}function rgt(){var R,L,K;const{user:e}=$s(),t=ts(),{toast:s}=Lt(),{t:a,i18n:n}=It(),i=n.language==="ar",[o,l]=f.useState(0),[c,d]=f.useState(""),[u,h]=f.useState("BANK_TRANSFER"),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,b]=f.useState(""),[w,v]=f.useState(""),[S,j]=f.useState(null),[k,N]=f.useState(""),[C,A]=f.useState(""),[E,D]=f.useState(!0),[T,P]=f.useState(!1),_=f.useCallback(async()=>{try{D(!0);const[H,F]=await Promise.all([Is.getBalance().catch(()=>({balance:0})),Is.getBanks().catch(()=>[])]);l(Number(H.balance)||0),p(F),F.length>0&&x(F[0].id)}catch(H){console.error("Failed to load data:",H),s({title:a("sections.chargeWallet.loadError","Failed to load data"),description:a("sections.chargeWallet.loadErrorDesc","An error occurred while loading data. Please try again."),variant:"destructive"})}finally{D(!1)}},[a,s]);if(f.useEffect(()=>{(e==null?void 0:e.role)==="STAFF"&&(t("/"),s({title:a("sections.chargeWallet.notAllowed","Not Allowed"),description:a("sections.chargeWallet.staffNotAllowed","Staff are not allowed to recharge balance"),variant:"destructive"}))},[e,t,s,a]),f.useEffect(()=>{(e==null?void 0:e.role)!=="STAFF"&&_()},[e,_]),(e==null?void 0:e.role)==="STAFF")return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-8 max-w-4xl",children:r.jsxs(Di,{variant:"destructive",children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsx(S0,{children:a("sections.chargeWallet.notAllowed","Not Allowed")}),r.jsx(Oi,{children:a("sections.chargeWallet.staffNotAllowedDesc","Staff members are not allowed to recharge balance. Please contact the store owner to add balance.")})]})})});const O=H=>{var G;const F=(G=H.target.files)==null?void 0:G[0];if(F){if(F.size>5*1024*1024){s({title:a("sections.chargeWallet.fileSizeError","File size too large"),description:a("sections.chargeWallet.fileSizeErrorDesc","Maximum file size is 5MB"),variant:"destructive"});return}j(F);const U=new FileReader;U.onloadend=()=>{N(U.result)},U.readAsDataURL(F)}},M=async H=>{if(H.preventDefault(),!c||Number(c)<=0){s({title:a("sections.chargeWallet.invalidAmount","Invalid amount"),description:a("sections.chargeWallet.invalidAmountDesc","Please enter a valid amount greater than zero"),variant:"destructive"});return}if(u==="BANK_TRANSFER"&&!g){s({title:a("sections.chargeWallet.bankRequired","Bank required"),description:a("sections.chargeWallet.bankRequiredDesc","Please select a bank"),variant:"destructive"});return}try{P(!0);const F={amount:Number(c),currency:"SAR",paymentMethod:u,bankId:u==="BANK_TRANSFER"?g:void 0,senderName:y||void 0,transferReference:w||void 0,notes:C||void 0};await Is.createTopUpRequest(F),s({title:a("sections.chargeWallet.submitSuccess","Recharge request sent successfully"),description:a("sections.chargeWallet.submitSuccessDesc","Your request will be reviewed soon and balance will be added to your wallet")}),setTimeout(()=>{t("/account/orders")},2e3)}catch(F){console.error("Failed to create top-up request:",F);const G=F instanceof Error?F.message:a("common.somethingWentWrong","Something went wrong");s({title:a("sections.chargeWallet.submitError","Failed to send recharge request"),description:G,variant:"destructive"})}finally{P(!1)}},I=[50,100,200,500,1e3];return E?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"container py-8",children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-indigo-600"})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",dir:i?"rtl":"ltr",children:r.jsxs("div",{className:"container py-8 max-w-4xl",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:a("sections.chargeWallet.title","Charge Balance")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:a("sections.chargeWallet.desc","Add balance to your wallet to benefit from our services")})]}),r.jsx(we,{className:"mb-6 border-0 shadow-lg bg-gradient-to-br from-indigo-600 to-purple-600 text-white",children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90 mb-2",children:a("sections.chargeWallet.currentBalance","Current Balance")}),r.jsxs("p",{className:"text-4xl font-bold",children:[o.toFixed(2)," ",a("currencies.SAR","SAR")]})]}),r.jsx(Na,{className:"h-16 w-16 opacity-50"})]})})}),r.jsxs(we,{className:"border-0 shadow-lg",children:[r.jsxs(st,{children:[r.jsx(it,{className:"text-2xl",children:a("sections.chargeWallet.addNewBalance","Add New Balance")}),r.jsx(Kt,{children:a("sections.chargeWallet.choosePaymentMethod","Choose payment method and enter amount")})]}),r.jsx(Se,{children:r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Y,{htmlFor:"amount",children:[a("sections.chargeWallet.amount","Amount")," (",a("currencies.SAR","SAR"),")"]}),r.jsx(pe,{id:"amount",type:"number",min:"1",step:"0.01",value:c,onChange:H=>d(H.target.value),placeholder:a("sections.chargeWallet.amount","Amount"),className:"text-lg",required:!0}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:I.map(H=>r.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>d(H.toString()),className:"rounded-lg",children:[H," ",a("currencies.SAR","SAR")]},H))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:a("sections.chargeWallet.paymentMethod","Payment Method")}),r.jsxs(Yw,{value:u,onValueChange:H=>h(H),children:[r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[r.jsx(Jh,{value:"BANK_TRANSFER",id:"bank"}),r.jsxs(Y,{htmlFor:"bank",className:"flex-1 cursor-pointer flex items-center gap-2",children:[r.jsx(Uo,{className:"h-4 w-4"}),a("sections.chargeWallet.methods.bankTransfer","Bank Transfer")]})]}),r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[r.jsx(Jh,{value:"VISA",id:"visa"}),r.jsxs(Y,{htmlFor:"visa",className:"flex-1 cursor-pointer flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),"Visa"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[r.jsx(Jh,{value:"MASTERCARD",id:"mastercard"}),r.jsxs(Y,{htmlFor:"mastercard",className:"flex-1 cursor-pointer flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),"Mastercard"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[r.jsx(Jh,{value:"MADA",id:"mada"}),r.jsxs(Y,{htmlFor:"mada",className:"flex-1 cursor-pointer flex items-center gap-2",children:[r.jsx(Xr,{className:"h-4 w-4"}),a("payment.mada.name","Mada")]})]})]})]}),u==="BANK_TRANSFER"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"bank",children:a("sections.chargeWallet.bank","Bank")}),r.jsx("select",{id:"bank",value:g,onChange:H=>x(H.target.value),className:"w-full px-3 py-2 border rounded-lg bg-background",required:!0,children:m.map(H=>r.jsx("option",{value:H.id,children:i?H.nameAr||H.name:H.name||H.nameAr},H.id))}),g&&r.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:m.find(H=>H.id===g)&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"font-semibold mb-2",children:a("sections.chargeWallet.bankInfo","Bank Account Information:")}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.accountName","Account Name:")})," ",(R=m.find(H=>H.id===g))==null?void 0:R.accountName]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.accountNumber","Account Number:")})," ",(L=m.find(H=>H.id===g))==null?void 0:L.accountNumber]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.iban","IBAN:")})," ",(K=m.find(H=>H.id===g))==null?void 0:K.iban]})]})]})}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx(Y,{htmlFor:"senderName",children:a("sections.chargeWallet.transferrerName","Transferrer Name")}),r.jsx(pe,{id:"senderName",value:y,onChange:H=>b(H.target.value),placeholder:a("sections.chargeWallet.transferrerNamePlaceholder","Enter transferrer name")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"transferReference",children:a("sections.balanceOperations.id","ID")}),r.jsx(pe,{id:"transferReference",value:w,onChange:H=>v(H.target.value),placeholder:a("sections.balanceOperations.id","ID")})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"receipt",children:a("sections.chargeWallet.receipt","Receipt Image")}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(pe,{id:"receipt",type:"file",accept:"image/*",onChange:O,className:"flex-1"}),k&&r.jsx("img",{src:k,alt:"Receipt preview",className:"h-20 w-20 object-cover rounded-lg"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"notes",children:a("sections.supportTickets.description","Description")}),r.jsx(Ys,{id:"notes",value:C,onChange:H=>A(H.target.value),placeholder:a("sections.chargeWallet.notesPlaceholder","Any additional notes..."),rows:3})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx(V,{type:"submit",size:"lg",disabled:T,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:T?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:`${i?"ml-2":"mr-2"} h-4 w-4 animate-spin`}),a("sections.chargeWallet.submitting","Submitting...")]}):r.jsxs(r.Fragment,{children:[a("sections.chargeWallet.submit","Submit"),i?r.jsx(El,{className:"mr-2 h-4 w-4"}):r.jsx(ma,{className:"ml-2 h-4 w-4"})]})}),r.jsx(V,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/account/orders"),children:a("common.cancel","Cancel")})]})]})})]})]})})}function XW(){const{t:e}=It(),{items:t,clearWishlist:s}=VI();return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),r.jsxs("div",{className:"container relative py-6 sm:py-8 lg:py-12 px-4 sm:px-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-3 sm:mb-4 animate-fade-in text-sm sm:text-base",children:[r.jsx(tt,{to:"/",className:"hover:text-primary transition-colors truncate",children:e("storefront.products.home")}),r.jsx(Ms,{className:"w-4 h-4 shrink-0"}),r.jsx("span",{className:"text-foreground font-medium truncate",children:e("nav.wishlist","")})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2 animate-slide-up",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-xl gradient-accent shadow-glow shrink-0",children:r.jsx(kn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text",children:e("nav.wishlist","")})]}),t.length>0&&r.jsxs(V,{variant:"destructive",onClick:s,className:"gap-2 rounded-xl w-full sm:w-auto",size:"sm",children:[r.jsx(Sr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("common.clear"," ")}),r.jsx("span",{className:"sm:hidden",children:e("common.clear","")})]})]})]})]}),r.jsx("div",{className:"container py-4 sm:py-6 lg:py-8 px-4 sm:px-6",children:t.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:t.map((a,n)=>r.jsx(Zj,{product:a,index:n},a.id))}):r.jsxs(we,{className:"p-8 sm:p-12 lg:p-16 text-center border-2 border-dashed border-border shadow-xl rounded-2xl sm:rounded-3xl glass-card animate-scale-in",children:[r.jsxs("div",{className:"relative inline-block mb-4 sm:mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),r.jsx("div",{className:"relative p-4 sm:p-6 rounded-full bg-muted/50",children:r.jsx(kn,{className:"h-16 w-16 sm:h-20 sm:w-20 text-muted-foreground/30"})})]}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",children:e("wishlist.empty"," ")}),r.jsx("p",{className:"text-muted-foreground mb-6 sm:mb-8 max-w-md mx-auto text-base sm:text-lg px-4",children:e("wishlist.emptyDesc","       .")}),r.jsx(tt,{to:"/products",children:r.jsxs(V,{size:"lg",className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow",children:[r.jsx(Dt,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"}),e("storefront.home.shopNow"," ")]})})]})})]})}const sgt=()=>{f.useEffect(()=>{(async()=>{var t,s,a;try{const n=await fe.get("/site-config",{requireAuth:!1});if((t=n==null?void 0:n.settings)!=null&&t.storeLogoUrl){const i=document.getElementById("favicon");i&&(i.href=n.settings.storeLogoUrl);const o=((s=n==null?void 0:n.settings)==null?void 0:s.storeName)||((a=n==null?void 0:n.settings)==null?void 0:a.tenantName);o&&(document.title=o)}}catch(n){console.error("Failed to update favicon:",n)}})()},[])},agt={ITUNES:"",GOOGLEPLAY:"",PLAYSTATION:"",XBOX:"",STEAM:"",PUBG:"",FREEFIRE:"",NETFLIX:"",SPOTIFY:"",RAZERGOLD:"",AMAZON:"",NINTENDO:""};function ngt(){var O,M;const{i18n:e}=It(),t=e.language==="ar",[s,a]=Bm(),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState("grid"),[g,x]=f.useState(s.get("search")||""),[y,b]=f.useState(s.get("brand")||""),[w,v]=f.useState(s.get("category")||""),[S,j]=f.useState([0,1e3]),[k,N]=f.useState("popular"),[C,A]=f.useState(!1);f.useEffect(()=>{E()},[]),f.useEffect(()=>{const I=new URLSearchParams;g&&I.set("search",g),y&&I.set("brand",y),w&&I.set("category",w),a(I,{replace:!0})},[g,y,w,a]);const E=async()=>{try{const[I,R,L]=await Promise.all([fe.getBrands().catch(()=>[]),fe.getCategories().catch(()=>[]),fe.get("/card-products?limit=100").catch(()=>({data:[]}))]);i(Array.isArray(I)?I:[]),l(Array.isArray(R)?R:[]),d(L.data||[])}catch(I){console.error("Error loading data:",I)}finally{h(!1)}},D=f.useMemo(()=>{let I=[...c];if(g){const R=g.toLowerCase();I=I.filter(L=>{var K,H;return L.name.toLowerCase().includes(R)||((K=L.nameAr)==null?void 0:K.toLowerCase().includes(R))||((H=L.brand)==null?void 0:H.name.toLowerCase().includes(R))})}switch(y&&(I=I.filter(R=>{var L;return((L=R.brand)==null?void 0:L.id)===y})),w&&(I=I.filter(R=>{var L;return((L=R.category)==null?void 0:L.id)===w})),I=I.filter(R=>R.price>=S[0]&&R.price<=S[1]),C&&(I=I.filter(R=>R.inStock>0)),k){case"price-low":I.sort((R,L)=>R.price-L.price);break;case"price-high":I.sort((R,L)=>L.price-R.price);break;case"name":I.sort((R,L)=>R.name.localeCompare(L.name));break;case"popular":default:I.sort((R,L)=>(L.isPopular?1:0)-(R.isPopular?1:0))}return I},[c,g,y,w,S,C,k]),T=()=>{x(""),b(""),v(""),j([0,1e3]),A(!1),N("popular")},P=[g,y,w,C,S[0]>0||S[1]<1e3].filter(Boolean).length,_=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t?" ":"Brands"}),r.jsx(La,{className:"h-48",children:r.jsx("div",{className:"space-y-2",children:n.map(I=>r.jsxs("button",{onClick:()=>b(y===I.id?"":I.id),className:xe("w-full flex items-center gap-2 p-2 rounded-lg transition-colors text-right",y===I.id?"bg-purple-500/20 text-purple-400":"hover:bg-white/5 text-slate-300"),children:[r.jsx("span",{className:"text-lg",children:agt[I.code||""]||""}),r.jsx("span",{className:"flex-1 text-sm",children:t&&I.nameAr||I.name}),y===I.id&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]},I.id))})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t?"":"Categories"}),r.jsx("div",{className:"space-y-2",children:o.map(I=>r.jsxs("button",{onClick:()=>v(w===I.id?"":I.id),className:xe("w-full flex items-center justify-between p-2 rounded-lg transition-colors text-right",w===I.id?"bg-purple-500/20 text-purple-400":"hover:bg-white/5 text-slate-300"),children:[r.jsx("span",{className:"text-sm",children:t&&I.nameAr||I.name}),w===I.id&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]},I.id))})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(no,{id:"inStock",checked:C,onCheckedChange:I=>A(I===!0),className:"border-slate-500"}),r.jsx("label",{htmlFor:"inStock",className:"text-slate-300 text-sm cursor-pointer",children:t?" ":"In Stock Only"})]}),P>0&&r.jsxs(V,{variant:"outline",className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700",onClick:T,children:[r.jsx(jr,{className:"h-4 w-4 mr-2"}),t?" ":"Clear All"," (",P,")"]})]});return u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-purple-400"})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx("div",{className:"border-b border-white/10 bg-black/20 sticky top-0 z-40 backdrop-blur-xl",children:r.jsxs("div",{className:"container py-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-4",children:[r.jsx(tt,{to:"/",className:"hover:text-purple-400 transition-colors",children:t?"":"Home"}),r.jsx("span",{children:"/"}),r.jsx("span",{className:"text-purple-400",children:t?"":"Cards"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),r.jsx(pe,{type:"text",placeholder:t?"  ...":"Search cards...",value:g,onChange:I=>x(I.target.value),className:"w-full pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400 focus:border-purple-400"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Y0,{children:[r.jsx($C,{asChild:!0,children:r.jsxs(V,{variant:"outline",className:"md:hidden border-white/20 text-white",children:[r.jsx(Wu,{className:"h-4 w-4 mr-2"}),t?"":"Filter",P>0&&r.jsx(et,{className:"ml-2 bg-purple-500",children:P})]})}),r.jsxs(Fp,{side:t?"right":"left",className:"bg-slate-900 border-white/10",children:[r.jsx(X0,{children:r.jsx(Q0,{className:"text-white",children:t?"":"Filters"})}),r.jsx("div",{className:"mt-6",children:r.jsx(_,{})})]})]}),r.jsxs(mr,{value:k,onValueChange:N,children:[r.jsx(dr,{className:"w-40 bg-white/10 border-white/20 text-white",children:r.jsx(xr,{})}),r.jsxs(ur,{className:"bg-slate-800 border-white/20",children:[r.jsx(_e,{value:"popular",children:t?" ":"Most Popular"}),r.jsx(_e,{value:"price-low",children:t?":  ":"Price: Low to High"}),r.jsx(_e,{value:"price-high",children:t?":  ":"Price: High to Low"}),r.jsx(_e,{value:"name",children:t?"":"Name"})]})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-1 p-1 bg-white/10 rounded-lg",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>p("grid"),className:xe("h-8 w-8",m==="grid"?"bg-purple-500/30 text-purple-400":"text-slate-400"),children:r.jsx(nK,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>p("list"),className:xe("h-8 w-8",m==="list"?"bg-purple-500/30 text-purple-400":"text-slate-400"),children:r.jsx(oj,{className:"h-4 w-4"})})]})]})]}),(y||w)&&r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[y&&r.jsxs(et,{className:"bg-purple-500/20 text-purple-300 border-purple-500/30 cursor-pointer hover:bg-purple-500/30",onClick:()=>b(""),children:[(O=n.find(I=>I.id===y))==null?void 0:O.name,r.jsx(jr,{className:"h-3 w-3 ml-1"})]}),w&&r.jsxs(et,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30 cursor-pointer hover:bg-blue-500/30",onClick:()=>v(""),children:[(M=o.find(I=>I.id===w))==null?void 0:M.name,r.jsx(jr,{className:"h-3 w-3 ml-1"})]})]})]})}),r.jsx("div",{className:"container py-8",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("aside",{className:"hidden md:block w-64 shrink-0",children:r.jsx(we,{className:"bg-white/5 border-white/10 sticky top-32",children:r.jsxs(Se,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(cK,{className:"h-5 w-5 text-purple-400"}),r.jsx("h2",{className:"text-white font-semibold",children:t?"":"Filters"})]}),r.jsx(_,{})]})})}),r.jsxs("main",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("p",{className:"text-slate-400",children:t?`${D.length} `:`${D.length} cards`})}),D.length===0?r.jsx(we,{className:"bg-white/5 border-white/10",children:r.jsxs(Se,{className:"py-16 text-center",children:[r.jsx(Xr,{className:"h-16 w-16 mx-auto text-slate-500 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t?"  ":"No results found"}),r.jsx("p",{className:"text-slate-400 mb-4",children:t?"   ":"Try changing your search criteria"}),r.jsx(V,{variant:"outline",onClick:T,className:"border-purple-500/50 text-purple-400",children:t?" ":"Clear Filters"})]})}):m==="grid"?r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:D.map(I=>r.jsx(tt,{to:`/cards/${I.id}`,children:r.jsx(we,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 hover:-translate-y-1 transition-all duration-300 cursor-pointer group overflow-hidden h-full",children:r.jsxs(Se,{className:"p-0",children:[r.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative overflow-hidden",children:[I.imageUrl?r.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Xr,{className:"h-12 w-12 text-purple-400/50"})}),I.inStock>0&&r.jsx(et,{className:"absolute top-2 right-2 bg-green-500/90 text-white text-xs",children:t?"":"In Stock"}),I.isPopular&&r.jsx(et,{className:"absolute top-2 left-2 bg-yellow-500/90 text-black text-xs",children:r.jsx(Jo,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"p-3",children:[I.brand&&r.jsx("p",{className:"text-purple-400 text-xs font-medium mb-1 truncate",children:t&&I.brand.nameAr||I.brand.name}),r.jsx("h3",{className:"text-white font-medium text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:t&&I.nameAr||I.name}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-lg font-bold text-purple-400",children:[I.price.toFixed(2),r.jsx("span",{className:"text-xs ml-1",children:I.currencyCode})]}),r.jsx(V,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 h-8 w-8 p-0",children:r.jsx(Or,{className:"h-4 w-4"})})]})]})]})})},I.id))}):r.jsx("div",{className:"space-y-3",children:D.map(I=>r.jsx(tt,{to:`/cards/${I.id}`,children:r.jsx(we,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 transition-all duration-300 cursor-pointer group",children:r.jsxs(Se,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-purple-600/30 to-blue-600/30 flex items-center justify-center overflow-hidden shrink-0",children:I.imageUrl?r.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-full object-cover"}):r.jsx(Xr,{className:"h-8 w-8 text-purple-400/50"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[I.brand&&r.jsx("p",{className:"text-purple-400 text-xs font-medium mb-1",children:t&&I.brand.nameAr||I.brand.name}),r.jsx("h3",{className:"text-white font-medium mb-1 truncate",children:t&&I.nameAr||I.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[I.inStock>0&&r.jsx(et,{className:"bg-green-500/20 text-green-400 text-xs",children:t?"":"In Stock"}),I.isPopular&&r.jsxs(et,{className:"bg-yellow-500/20 text-yellow-400 text-xs",children:[r.jsx(Jo,{className:"h-3 w-3 mr-1"}),t?"":"Popular"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl font-bold text-purple-400 mb-2",children:[I.price.toFixed(2)," ",I.currencyCode]}),r.jsxs(V,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Or,{className:"h-4 w-4 mr-2"}),t?"":"Buy"]})]})]})})},I.id))})]})]})})]})}const QW={ITUNES:"",GOOGLEPLAY:"",PLAYSTATION:"",XBOX:"",STEAM:"",PUBG:"",FREEFIRE:"",NETFLIX:"",SPOTIFY:"",RAZERGOLD:"",AMAZON:"",NINTENDO:""};function igt(){var P,_;const{id:e}=$m(),{i18n:t}=It(),s=t.language==="ar",a=ts(),{user:n,isAuthenticated:i}=$s(),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState(1),[g,x]=f.useState(!1),[y,b]=f.useState(!1),[w,v]=f.useState(!1),[S,j]=f.useState(0);f.useEffect(()=>{e&&k()},[e]);const k=async()=>{var O;try{h(!0);const[M,I]=await Promise.all([fe.get(`/card-products/${e}`).catch(()=>null),i?fe.get("/wallet",{requireAuth:!0}).catch(()=>({balance:0})):{balance:0}]);if(M&&(l(M),j(I.balance||0),(O=M.brand)!=null&&O.id)){const R=await fe.get(`/card-products?brandId=${M.brand.id}&limit=4`).catch(()=>({data:[]}));d((R.data||[]).filter(L=>L.id!==e))}}catch(M){console.error("Error loading card:",M)}finally{h(!1)}},N=O=>{const M=m+O;M>=1&&M<=Math.min(10,(o==null?void 0:o.inStock)||10)&&p(M)},C=async()=>{if(!i){a("/login",{state:{from:`/cards/${e}`}});return}const O=((o==null?void 0:o.price)||0)*m;if(S<O){Rr.error(s?"   ":"Insufficient wallet balance");return}v(!0)},A=async()=>{if(o)try{b(!0),await fe.post("/card-orders",{items:[{productId:o.id,quantity:m}]},{requireAuth:!0}),Rr.success(s?"  !":"Purchase successful!"),v(!1),a("/account/cards")}catch(O){console.error("Purchase error:",O),Rr.error(s?"   ":"Purchase failed")}finally{b(!1)}},E=async()=>{if(!i){a("/login");return}try{g?await fe.delete(`/favorites/${e}`,{requireAuth:!0}):await fe.post("/favorites",{cardProductId:e},{requireAuth:!0}),x(!g),Rr.success(g?s?"   ":"Removed from favorites":s?"  ":"Added to favorites")}catch(O){console.error("Favorite error:",O)}},D=()=>{navigator.share?navigator.share({title:o==null?void 0:o.name,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),Rr.success(s?"  ":"Link copied"))};if(u)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:r.jsx(Je,{className:"h-12 w-12 animate-spin text-purple-400"})});if(!o)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:r.jsx(we,{className:"bg-white/5 border-white/10 max-w-md mx-auto",children:r.jsxs(Se,{className:"py-16 text-center",children:[r.jsx(Xr,{className:"h-16 w-16 mx-auto text-slate-500 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:s?"  ":"Card not found"}),r.jsx(tt,{to:"/cards",children:r.jsx(V,{variant:"outline",className:"mt-4 border-purple-500/50 text-purple-400",children:s?" ":"Browse Cards"})})]})})});const T=o.price*m;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsxs("div",{className:"container py-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-8",children:[r.jsx(tt,{to:"/",className:"hover:text-purple-400 transition-colors",children:s?"":"Home"}),r.jsx(Ms,{className:xe("h-4 w-4",s&&"rotate-180")}),r.jsx(tt,{to:"/cards",className:"hover:text-purple-400 transition-colors",children:s?"":"Cards"}),o.brand&&r.jsxs(r.Fragment,{children:[r.jsx(Ms,{className:xe("h-4 w-4",s&&"rotate-180")}),r.jsx(tt,{to:`/cards?brand=${o.brand.id}`,className:"hover:text-purple-400 transition-colors",children:s&&o.brand.nameAr||o.brand.name})]}),r.jsx(Ms,{className:xe("h-4 w-4",s&&"rotate-180")}),r.jsx("span",{className:"text-purple-400 truncate max-w-[200px]",children:o.name})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx(we,{className:"bg-white/5 border-white/10 overflow-hidden",children:r.jsx(Se,{className:"p-0",children:r.jsxs("div",{className:"aspect-square bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative",children:[o.imageUrl?r.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-contain p-8"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-8xl mb-4 block",children:QW[((P=o.brand)==null?void 0:P.code)||""]||""}),r.jsx(Xr,{className:"h-24 w-24 text-purple-400/50 mx-auto"})]})}),r.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[o.inStock>0&&r.jsxs(et,{className:"bg-green-500 text-white",children:[r.jsx(Fs,{className:"h-3 w-3 mr-1"}),s?"":"In Stock"]}),o.isPopular&&r.jsxs(et,{className:"bg-yellow-500 text-black",children:[r.jsx(Jo,{className:"h-3 w-3 mr-1"}),s?" ":"Best Seller"]})]})]})})}),r.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[{icon:zn,text:s?" ":"Instant",color:"text-yellow-400"},{icon:sa,text:s?" 100%":"100% Safe",color:"text-green-400"},{icon:Co,text:s?" 24/7":"24/7 Support",color:"text-blue-400"}].map((O,M)=>r.jsxs("div",{className:"text-center p-3 rounded-xl bg-white/5",children:[r.jsx(O.icon,{className:xe("h-5 w-5 mx-auto mb-1",O.color)}),r.jsx("span",{className:"text-xs text-slate-300",children:O.text})]},M))})]}),r.jsxs("div",{className:"space-y-6",children:[o.brand&&r.jsxs(tt,{to:`/cards?brand=${o.brand.id}`,className:"inline-flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[r.jsx("span",{className:"text-xl",children:QW[o.brand.code||""]||""}),r.jsx("span",{className:"font-medium",children:s&&o.brand.nameAr||o.brand.name})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:s&&o.nameAr||o.name}),r.jsxs("div",{className:"flex items-baseline gap-3",children:[r.jsx("span",{className:"text-4xl font-bold text-purple-400",children:o.price.toFixed(2)}),r.jsx("span",{className:"text-xl text-slate-400",children:o.currencyCode})]}),(o.description||o.descriptionAr)&&r.jsx("p",{className:"text-slate-300 leading-relaxed",children:s&&o.descriptionAr||o.description}),r.jsx(Js,{className:"bg-white/10"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-slate-300",children:s?":":"Quantity:"}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(-1),disabled:m<=1,className:"h-10 w-10 text-white hover:bg-white/10",children:r.jsx(wm,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-white font-semibold w-10 text-center",children:m}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>N(1),disabled:m>=Math.min(10,o.inStock),className:"h-10 w-10 text-white hover:bg-white/10",children:r.jsx(rr,{className:"h-4 w-4"})})]}),r.jsxs("span",{className:"text-slate-400 text-sm",children:["(",o.inStock," ",s?"":"available",")"]})]}),r.jsx(we,{className:"bg-purple-500/10 border-purple-500/30",children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-slate-300",children:s?":":"Total:"}),r.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[T.toFixed(2)," ",o.currencyCode]})]})})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(V,{size:"lg",className:"flex-1 h-14 text-lg bg-purple-600 hover:bg-purple-700",onClick:C,disabled:o.inStock<1,children:[r.jsx(Or,{className:"h-5 w-5 mr-2"}),s?" ":"Buy Now"]}),r.jsx(V,{variant:"outline",size:"lg",className:"h-14 border-white/20 text-white hover:bg-white/10",onClick:E,children:r.jsx(kn,{className:xe("h-5 w-5",g&&"fill-red-500 text-red-500")})}),r.jsx(V,{variant:"outline",size:"lg",className:"h-14 border-white/20 text-white hover:bg-white/10",onClick:D,children:r.jsx(gI,{className:"h-5 w-5"})})]}),o.inStock>0&&o.inStock<=5&&r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[r.jsx(Xs,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{className:"text-yellow-300 text-sm",children:s?`${o.inStock}   - !`:`Only ${o.inStock} left - Hurry up!`})]})]})]}),c.length>0&&r.jsxs("section",{className:"mt-16",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:s?" ":"Related Cards"}),r.jsx(tt,{to:`/cards?brand=${(_=o.brand)==null?void 0:_.id}`,children:r.jsxs(V,{variant:"ghost",className:"text-purple-400 hover:text-purple-300",children:[s?" ":"View All",r.jsx(ma,{className:xe("h-4 w-4 ml-1",s&&"rotate-180")})]})})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(O=>r.jsx(tt,{to:`/cards/${O.id}`,children:r.jsx(we,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 transition-all duration-300 cursor-pointer group overflow-hidden",children:r.jsxs(Se,{className:"p-0",children:[r.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative",children:O.imageUrl?r.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Xr,{className:"h-10 w-10 text-purple-400/50"})})}),r.jsxs("div",{className:"p-3",children:[r.jsx("h3",{className:"text-white font-medium text-sm truncate",children:s&&O.nameAr||O.name}),r.jsxs("p",{className:"text-purple-400 font-bold mt-1",children:[O.price.toFixed(2)," ",O.currencyCode]})]})]})})},O.id))})]})]}),r.jsx(ir,{open:w,onOpenChange:v,children:r.jsxs(ar,{className:"bg-slate-900 border-white/10 text-white",children:[r.jsxs(lr,{children:[r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(Wh,{className:"h-5 w-5 text-purple-400"}),s?" ":"Confirm Purchase"]}),r.jsx(pr,{className:"text-slate-400",children:s?"     ":"The amount will be deducted from your wallet balance"})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl bg-purple-500/20 flex items-center justify-center",children:o.imageUrl?r.jsx("img",{src:o.imageUrl,alt:"",className:"w-12 h-12 object-contain"}):r.jsx(Xr,{className:"h-8 w-8 text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:o.name}),r.jsxs("p",{className:"text-sm text-slate-400",children:[" ",m]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-xl font-bold text-purple-400",children:[T.toFixed(2)," ",o.currencyCode]})})]}),r.jsx(Js,{className:"bg-white/10"}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-slate-400",children:s?" :":"Wallet Balance:"}),r.jsxs("span",{className:xe("font-semibold",S>=T?"text-green-400":"text-red-400"),children:[S.toFixed(2)," ",o.currencyCode]})]}),S<T&&r.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:r.jsx("p",{className:"text-red-300 text-sm",children:s?"   .    .":"Insufficient balance. Please top up your wallet first."})})]}),r.jsxs(zr,{className:"gap-2",children:[r.jsx(V,{variant:"outline",onClick:()=>v(!1),className:"border-white/20 text-white hover:bg-white/10",children:s?"":"Cancel"}),r.jsxs(V,{onClick:A,disabled:y||S<T,className:"bg-purple-600 hover:bg-purple-700",children:[y&&r.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),s?" ":"Confirm Purchase"]})]})]})})]})}function ogt(){const{i18n:e}=It(),t=e.language==="ar";Gn();const s=ts(),{user:a,isAuthenticated:n,logout:i}=$s(),[o,l]=f.useState([]),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(0);f.useState(0),f.useEffect(()=>{y();const j=()=>{h(window.scrollY>10)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),f.useEffect(()=>{n&&b()},[n]);const y=async()=>{try{const j=await fe.getBrands().catch(()=>[]);l(Array.isArray(j)?j.slice(0,6):[])}catch(j){console.error("Error loading data:",j)}},b=async()=>{try{const j=await fe.get("/wallet",{requireAuth:!0}).catch(()=>({balance:0}));x(j.balance||0)}catch(j){console.error("Error loading wallet:",j)}},w=j=>{j.preventDefault(),c.trim()&&(s(`/cards?search=${encodeURIComponent(c)}`),p(!1))},v=()=>{const j=e.language==="ar"?"en":"ar";e.changeLanguage(j),localStorage.setItem("language",j)},S=()=>{i(),s("/")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[r.jsx("header",{className:xe("fixed top-0 left-0 right-0 z-50 transition-all duration-300",u?"bg-slate-900/95 backdrop-blur-xl shadow-lg":"bg-transparent"),children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[r.jsxs(tt,{to:"/",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:r.jsx(Xr,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-white hidden sm:block",children:t?"":"MyCards"})]}),r.jsx("form",{onSubmit:w,className:"hidden md:flex flex-1 max-w-xl mx-8",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx(pe,{type:"text",placeholder:t?"  ...":"Search for cards...",value:c,onChange:j=>d(j.target.value),className:"w-full pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400 focus:border-purple-400 rounded-xl"})]})}),r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:v,className:"text-slate-300 hover:text-white hover:bg-white/10",children:r.jsx(Ya,{className:"h-5 w-5"})}),n?r.jsxs(r.Fragment,{children:[r.jsx(tt,{to:"/account/wallet",children:r.jsxs(V,{variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-white/10 gap-2",children:[r.jsx(Na,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-purple-400",children:g.toFixed(2)})]})}),r.jsx(tt,{to:"/account/favorites",children:r.jsx(V,{variant:"ghost",size:"icon",className:"text-slate-300 hover:text-white hover:bg-white/10",children:r.jsx(kn,{className:"h-5 w-5"})})}),r.jsxs(aE,{children:[r.jsx(nE,{asChild:!0,children:r.jsxs(V,{variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-white/10 gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/30 flex items-center justify-center",children:r.jsx(ao,{className:"h-4 w-4"})}),r.jsx(to,{className:"h-4 w-4"})]})}),r.jsxs(Gj,{align:"end",className:"bg-slate-800 border-white/10 w-56",children:[r.jsx("div",{className:"px-3 py-2",children:r.jsx("p",{className:"text-sm font-medium text-white",children:a==null?void 0:a.email})}),r.jsx(P0,{className:"bg-white/10"}),r.jsx(jl,{asChild:!0,children:r.jsxs(tt,{to:"/account/cards",className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Dt,{className:"h-4 w-4"}),t?"":"My Cards"]})}),r.jsx(jl,{asChild:!0,children:r.jsxs(tt,{to:"/account/wallet",className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(Na,{className:"h-4 w-4"}),t?"":"Wallet"]})}),r.jsx(jl,{asChild:!0,children:r.jsxs(tt,{to:"/account/favorites",className:"flex items-center gap-2 cursor-pointer",children:[r.jsx(kn,{className:"h-4 w-4"}),t?"":"Favorites"]})}),r.jsx(P0,{className:"bg-white/10"}),r.jsxs(jl,{onClick:S,className:"flex items-center gap-2 text-red-400 cursor-pointer",children:[r.jsx(bm,{className:"h-4 w-4"}),t?" ":"Logout"]})]})]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{to:"/login",children:r.jsx(V,{variant:"ghost",className:"text-white hover:bg-white/10",children:t?" ":"Login"})}),r.jsx(tt,{to:"/register",children:r.jsx(V,{className:"bg-purple-600 hover:bg-purple-700",children:t?" ":"Sign Up"})})]})]}),r.jsxs(Y0,{open:m,onOpenChange:p,children:[r.jsx($C,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden text-white",children:r.jsx(sh,{className:"h-6 w-6"})})}),r.jsxs(Fp,{side:t?"right":"left",className:"bg-slate-900 border-white/10 w-80",children:[r.jsx(X0,{children:r.jsxs(Q0,{className:"text-white flex items-center gap-2",children:[r.jsx(Xr,{className:"h-6 w-6 text-purple-400"}),t?"":"MyCards"]})}),r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsx("form",{onSubmit:w,children:r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx(pe,{type:"text",placeholder:t?"...":"Search...",value:c,onChange:j=>d(j.target.value),className:"pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400"})]})}),r.jsxs("nav",{className:"space-y-2",children:[r.jsxs(tt,{to:"/",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[r.jsx(ip,{className:"h-5 w-5"}),t?"":"Home"]}),r.jsxs(tt,{to:"/cards",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[r.jsx(Xr,{className:"h-5 w-5"}),t?" ":"All Cards"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs(tt,{to:"/account/cards",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[r.jsx(Dt,{className:"h-5 w-5"}),t?"":"My Cards"]}),r.jsxs(tt,{to:"/account/wallet",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[r.jsx(Na,{className:"h-5 w-5"}),t?"":"Wallet",r.jsx(et,{className:"ml-auto bg-purple-500/30 text-purple-300",children:g.toFixed(2)})]}),r.jsxs(tt,{to:"/account/favorites",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[r.jsx(kn,{className:"h-5 w-5"}),t?"":"Favorites"]})]})]}),r.jsx("div",{className:"pt-4 border-t border-white/10",children:n?r.jsxs(V,{variant:"ghost",className:"w-full justify-start text-red-400 hover:bg-red-500/10",onClick:S,children:[r.jsx(bm,{className:"h-5 w-5 mr-3"}),t?" ":"Logout"]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(tt,{to:"/login",onClick:()=>p(!1),children:r.jsx(V,{variant:"outline",className:"w-full border-white/20 text-white",children:t?" ":"Login"})}),r.jsx(tt,{to:"/register",onClick:()=>p(!1),children:r.jsx(V,{className:"w-full bg-purple-600 hover:bg-purple-700",children:t?" ":"Sign Up"})})]})}),r.jsxs(V,{variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-white/5",onClick:v,children:[r.jsx(Ya,{className:"h-5 w-5 mr-3"}),e.language==="ar"?"English":""]})]})]})]})]}),o.length>0&&r.jsxs("div",{className:"hidden md:flex items-center gap-4 py-2 border-t border-white/10",children:[o.map(j=>r.jsx(tt,{to:`/cards?brand=${j.id}`,className:"text-sm text-slate-400 hover:text-purple-400 transition-colors",children:String(t?j.nameAr||j.name||"":j.name||"")},j.id)),r.jsx(tt,{to:"/cards",className:"text-sm text-purple-400 hover:text-purple-300 transition-colors ml-auto",children:t?"  ":"View All "})]})]})}),r.jsx("main",{className:"pt-16 md:pt-24",children:r.jsx(wC,{})}),r.jsx("footer",{className:"bg-black/50 border-t border-white/10 py-12 mt-16",children:r.jsxs("div",{className:"container",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:r.jsx(Xr,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-white",children:t?"":"MyCards"})]}),r.jsx("p",{className:"text-slate-400 text-sm",children:t?"      ":"The fastest and easiest way to get digital cards"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:t?" ":"Quick Links"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(tt,{to:"/cards",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"All Cards"}),r.jsx(tt,{to:"/about",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"About Us"}),r.jsx(tt,{to:"/contact",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Contact Us"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:t?"":"Support"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(tt,{to:"/faq",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"FAQ"}),r.jsx(tt,{to:"/terms",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Terms & Conditions"}),r.jsx(tt,{to:"/privacy",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Privacy Policy"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:t?" ":"Contact"}),r.jsxs("div",{className:"space-y-2 text-slate-400 text-sm",children:[r.jsx("p",{children:"support@example.com"}),r.jsx("p",{children:"+966 50 000 0000"})]})]})]}),r.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center text-slate-500 text-sm",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ",t?"  ":"All rights reserved"]})})]})})]})}function lgt(){const[e,t]=f.useState(!0),[s,a]=f.useState(!1),[n,i]=f.useState(!1);return f.useEffect(()=>{const o=()=>a(window.scrollY>50);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),f.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:xe("fixed top-0 left-0 right-0 z-50 transition-all duration-500",s?"bg-background/80 backdrop-blur-md border-b border-border/50 shadow-sm":"bg-transparent"),children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsxs(tt,{to:"/",className:"flex items-center gap-3 group",children:[r.jsxs(Me.div,{className:"relative",animate:{y:[0,-4,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[r.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/20 blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx(Me.div,{className:"relative p-2 rounded-xl bg-card border border-border/50 group-hover:border-primary/50 transition-colors",whileHover:{scale:1.1,rotate:[0,-5,5,0]},transition:{type:"spring",stiffness:300},children:r.jsx("img",{src:sl(),alt:"Saeaa",className:"h-8 w-auto"})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Saeaa"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]}),r.jsx("div",{className:"hidden md:flex items-center gap-8",children:[{label:"",href:"/#features"},{label:"",href:"/#pricing"},{label:" ",href:"/#testimonials"}].map(o=>r.jsx(tt,{to:o.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:o.label},o.href))}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-full hover:bg-muted transition-colors",children:e?r.jsx(Jd,{className:"w-5 h-5"}):r.jsx(ad,{className:"w-5 h-5"})}),r.jsx(tt,{to:"/login",className:"hidden sm:block text-sm font-medium hover:text-primary transition-colors",children:" "}),r.jsxs(tt,{to:"/register",className:"hidden sm:flex items-center gap-2 bg-primary text-primary-foreground px-5 py-2.5 rounded-full text-sm font-semibold hover:opacity-90 transition-opacity shadow-lg shadow-primary/20",children:[" ",r.jsx(El,{className:"w-4 h-4"})]}),r.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2",children:n?r.jsx(jr,{className:"w-6 h-6"}):r.jsx(sh,{className:"w-6 h-6"})})]})]})})}),r.jsx(Wn,{children:n&&r.jsx(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"fixed top-20 left-0 right-0 z-40 bg-background border-b border-border md:hidden overflow-hidden",children:r.jsxs("div",{className:"p-4 space-y-4",children:[[{label:"",href:"/#features"},{label:"",href:"/#pricing"},{label:" ",href:"/#testimonials"}].map(o=>r.jsx(tt,{to:o.href,onClick:()=>i(!1),className:"block text-lg font-medium py-2",children:o.label},o.href)),r.jsxs("div",{className:"pt-4 border-t border-border space-y-3",children:[r.jsx(tt,{to:"/login",className:"block w-full text-center py-3 rounded-xl bg-muted font-medium",children:" "}),r.jsx(tt,{to:"/register",onClick:()=>i(!1),className:"block w-full text-center py-3 rounded-xl bg-primary text-primary-foreground font-bold",children:" "})]})]})})})]})}function cgt(){return r.jsx("footer",{className:"bg-card border-t border-border py-16 text-right",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsxs(tt,{to:"/",className:"flex items-center gap-3 mb-6",children:[r.jsx("img",{src:sl(),alt:"Saeaa",className:"h-10 w-auto"}),r.jsx("span",{className:"text-2xl font-bold",children:"Saeaa"})]}),r.jsx("p",{className:"text-muted-foreground max-w-md",children:"             ."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-6",children:""}),r.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[r.jsx("li",{children:r.jsx(tt,{to:"/#features",className:"hover:text-primary transition-colors",children:""})}),r.jsx("li",{children:r.jsx(tt,{to:"/#pricing",className:"hover:text-primary transition-colors",children:""})}),r.jsx("li",{children:r.jsx(tt,{to:"/#testimonials",className:"hover:text-primary transition-colors",children:" "})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-6",children:""}),r.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[r.jsx("li",{children:r.jsx(tt,{to:"/about",className:"hover:text-primary transition-colors",children:" "})}),r.jsx("li",{children:r.jsx(tt,{to:"/contact",className:"hover:text-primary transition-colors",children:" "})}),r.jsx("li",{children:r.jsx(tt,{to:"/privacy",className:"hover:text-primary transition-colors",children:" "})})]})]})]}),r.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Saeaa - .   ."}),r.jsx(Mp,{})]})]})})}function MF({children:e}){const{i18n:t}=It(),s=t.language==="ar";return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background",dir:s?"rtl":"ltr",children:[r.jsx(lgt,{}),r.jsx("main",{className:"flex-1",children:e}),r.jsx(cgt,{})]})}function Gde(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=[{icon:r.jsx(Jfe,{className:"w-8 h-8 text-primary"}),title:s?"":"Our Vision",description:s?"          .":"Empowering e-commerce in the region through innovative and reliable technical solutions."},{icon:r.jsx(wr,{className:"w-8 h-8 text-primary"}),title:s?"":"Our Team",description:s?"        .":"A team of experts and developers passionate about building the future of digital commerce."},{icon:r.jsx(kn,{className:"w-8 h-8 text-primary"}),title:s?"":"Our Values",description:s?"          .":"Transparency, quality, and commitment to our clients' success are the foundation of everything we do."},{icon:r.jsx(Uo,{className:"w-8 h-8 text-primary"}),title:s?"":"Our History",description:s?"          .":"Years of experience in developing e-commerce platforms and serving thousands of merchants."}];return r.jsxs(MF,{children:[r.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden bg-primary/5",children:[r.jsx("div",{className:"container mx-auto px-4 relative z-10",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/60",children:s?" ":"Who We Are"}),r.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground leading-relaxed",children:s?'  ""      .          .':'We are "Saeaa", your strategic partner in the e-commerce journey. We provide integrated solutions that help you grow and thrive in the digital market.'})]})}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 opacity-30",children:[r.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-b from-primary/20 to-transparent rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-to-t from-primary/20 to-transparent rounded-full blur-3xl"})]})]}),r.jsx("section",{className:"py-20 bg-background",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((n,i)=>r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"p-6 rounded-2xl bg-card border border-border/50 hover:border-primary/50 transition-colors shadow-sm hover:shadow-md",children:[r.jsx("div",{className:"mb-4 p-3 bg-primary/10 w-fit rounded-xl",children:n.icon}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]},i))})})}),r.jsx("section",{className:"py-20 bg-primary/5 border-y border-border/50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{label:s?" ":"Happy Clients",value:"+10k"},{label:s?" ":"Online Stores",value:"+5000"},{label:s?" ":"Completed Orders",value:"+1M"},{label:s?" ":"Years Experience",value:"+5"}].map((n,i)=>r.jsxs(Me.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold text-primary mb-2",children:n.value}),r.jsx("div",{className:"text-muted-foreground font-medium",children:n.label})]},i))})})})]})}function Kde(){const{t:e,i18n:t}=It(),s=t.language==="ar",[a,n]=f.useState(!1),i=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1500)),Rr.success(s?"   ":"Your message has been sent successfully"),n(!1),l.target.reset()},o=[{icon:r.jsx(ba,{className:"w-6 h-6"}),title:s?" ":"Email",value:"support@saeaa.com",link:"mailto:support@saeaa.com"},{icon:r.jsx(Fi,{className:"w-6 h-6"}),title:s?"":"Phone",value:"+966 50 000 0000",link:"tel:+966500000000"},{icon:r.jsx(Hu,{className:"w-6 h-6"}),title:s?"":"Address",value:s?"   ":"Riyadh, Saudi Arabia",link:"#"}];return r.jsxs(MF,{children:[r.jsx("section",{className:"relative py-16 md:py-24 bg-primary/5",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:s?" ":"Contact Us"}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:s?"  .      .":"We are here to help. Contact us for any inquiries or suggestions."})]})})}),r.jsx("section",{className:"py-16 md:py-24",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[r.jsxs(Me.div,{initial:{opacity:0,x:s?20:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:s?" ":"Contact Information"}),r.jsx("p",{className:"text-muted-foreground mb-8 text-lg",children:s?"         .":"Our customer service team is available around the clock to answer your inquiries."})]}),r.jsx("div",{className:"grid gap-6",children:o.map((l,c)=>r.jsxs("a",{href:l.link,className:"flex items-center gap-4 p-4 rounded-xl bg-card border border-border/50 hover:border-primary/50 transition-all hover:shadow-md group",children:[r.jsx("div",{className:"p-3 bg-primary/10 rounded-lg text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:l.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-muted-foreground text-sm",children:l.title}),r.jsx("div",{className:"font-bold text-lg",children:l.value})]})]},c))})]}),r.jsxs(Me.div,{initial:{opacity:0,x:s?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},className:"bg-card p-8 rounded-2xl border border-border shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:s?"  ":"Send us a message"}),r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"name",children:s?"":"Name"}),r.jsx(pe,{id:"name",required:!0,placeholder:s?" ":"Full Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:s?" ":"Email"}),r.jsx(pe,{id:"email",type:"email",required:!0,placeholder:"name@example.com"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"subject",children:s?"":"Subject"}),r.jsx(pe,{id:"subject",required:!0,placeholder:s?" ":"Message Subject"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"message",children:s?"":"Message"}),r.jsx(Ys,{id:"message",required:!0,placeholder:s?"  ...":"Type your message here...",className:"min-h-[150px]"})]}),r.jsxs(V,{type:"submit",className:"w-full h-12 text-lg",disabled:a,children:[a?r.jsx(Je,{className:"w-5 h-5 animate-spin mr-2"}):r.jsx(Ip,{className:`w-5 h-5 ${s?"ml-2":"mr-2"}`}),s?" ":"Send Message"]})]})]})]})})})]})}function Yde(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=[{title:s?" ":"Information Collection",content:s?"                 .          .":"We collect information you provide directly to us when registering on the site, such as name, email address, and phone number. We also collect information about how you use the site to improve your experience."},{title:s?" ":"Information Usage",content:s?"             ()    .":"We use the information we collect to provide and improve our services, communicate with you, send updates and promotional offers (with your consent), and protect our rights and the rights of our users."},{title:s?" ":"Information Sharing",content:s?"        .                .":"We do not sell or rent your personal information to third parties. We may share your information with service providers who assist us in operating the site, subject to strict privacy policies."},{title:s?" ":"Data Security",content:s?"                 .      .":"We take appropriate security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. We use encryption technologies and standard security protocols."},{title:s?" ":"User Rights",content:s?"         .          .":"You have the right to access, correct, or delete your personal information. You can also unsubscribe from marketing messages at any time."}];return r.jsxs(MF,{children:[r.jsx("section",{className:"relative py-16 md:py-24 bg-primary/5",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"p-4 bg-background rounded-full shadow-sm",children:r.jsx(sa,{className:"w-12 h-12 text-primary"})})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:s?" ":"Privacy Policy"}),r.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:s?"     .     .":"We are committed to protecting your privacy and personal data. Please read this policy carefully."})]})})}),r.jsx("section",{className:"py-16 md:py-24",children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsxs("div",{className:"space-y-12",children:[a.map((n,i)=>r.jsxs(Me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-card p-8 rounded-2xl border border-border/50 hover:border-primary/20 transition-colors",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-8 bg-primary rounded-full"}),n.title]}),r.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg",children:n.content})]},i)),r.jsx(Me.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"text-center pt-8 border-t border-border",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:s?" : 22  2025":"Last updated: December 22, 2025"})})]})})})]})}var dgt=Object.defineProperty,ugt=Object.defineProperties,hgt=Object.getOwnPropertyDescriptors,Wk=Object.getOwnPropertySymbols,Xde=Object.prototype.hasOwnProperty,Qde=Object.prototype.propertyIsEnumerable,JW=(e,t,s)=>t in e?dgt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,mgt=(e,t)=>{for(var s in t||(t={}))Xde.call(t,s)&&JW(e,s,t[s]);if(Wk)for(var s of Wk(t))Qde.call(t,s)&&JW(e,s,t[s]);return e},fgt=(e,t)=>ugt(e,hgt(t)),pgt=(e,t)=>{var s={};for(var a in e)Xde.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&Wk)for(var a of Wk(e))t.indexOf(a)<0&&Qde.call(e,a)&&(s[a]=e[a]);return s};function xgt(e){let t=setTimeout(e,0),s=setTimeout(e,10),a=setTimeout(e,50);return[t,s,a]}function ggt(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var vgt=18,Jde=40,ygt=`${Jde}px`,bgt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function wgt({containerRef:e,inputRef:t,pushPasswordManagerStrategy:s,isFocused:a}){let[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),u=f.useMemo(()=>s==="none"?!1:(s==="increase-width"||s==="experimental-no-flickering")&&n&&o,[n,o,s]),h=f.useCallback(()=>{let m=e.current,p=t.current;if(!m||!p||c||s==="none")return;let g=m,x=g.getBoundingClientRect().left+g.offsetWidth,y=g.getBoundingClientRect().top+g.offsetHeight/2,b=x-vgt,w=y;document.querySelectorAll(bgt).length===0&&document.elementFromPoint(b,w)===m||(i(!0),d(!0))},[e,t,c,s]);return f.useEffect(()=>{let m=e.current;if(!m||s==="none")return;function p(){let x=window.innerWidth-m.getBoundingClientRect().right;l(x>=Jde)}p();let g=setInterval(p,1e3);return()=>{clearInterval(g)}},[e,s]),f.useEffect(()=>{let m=a||document.activeElement===t.current;if(s==="none"||!m)return;let p=setTimeout(h,0),g=setTimeout(h,2e3),x=setTimeout(h,5e3),y=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(g),clearTimeout(x),clearTimeout(y)}},[t,a,s,h]),{hasPWMBadge:n,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:ygt}}var Zde=f.createContext({}),eue=f.forwardRef((e,t)=>{var s=e,{value:a,onChange:n,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:u,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:m,containerClassName:p,noScriptCSSFallback:g=jgt,render:x,children:y}=s,b=pgt(s,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,v,S,j,k;let[N,C]=f.useState(typeof b.defaultValue=="string"?b.defaultValue:""),A=a??N,E=ggt(A),D=f.useCallback(de=>{n==null||n(de),C(de)},[n]),T=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),P=f.useRef(null),_=f.useRef(null),O=f.useRef({value:A,onChange:D,isIOS:typeof window<"u"&&((v=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:v.call(w,"-webkit-touch-callout","none"))}),M=f.useRef({prev:[(S=P.current)==null?void 0:S.selectionStart,(j=P.current)==null?void 0:j.selectionEnd,(k=P.current)==null?void 0:k.selectionDirection]});f.useImperativeHandle(t,()=>P.current,[]),f.useEffect(()=>{let de=P.current,Te=_.current;if(!de||!Te)return;O.current.value!==de.value&&O.current.onChange(de.value),M.current.prev=[de.selectionStart,de.selectionEnd,de.selectionDirection];function He(){if(document.activeElement!==de){F(null),U(null);return}let Ue=de.selectionStart,ce=de.selectionEnd,Ee=de.selectionDirection,Pe=de.maxLength,$e=de.value,We=M.current.prev,Xe=-1,Ce=-1,Ye;if($e.length!==0&&Ue!==null&&ce!==null){let Qt=Ue===ce,br=Ue===$e.length&&$e.length<Pe;if(Qt&&!br){let $t=Ue;if($t===0)Xe=0,Ce=1,Ye="forward";else if($t===Pe)Xe=$t-1,Ce=$t,Ye="backward";else if(Pe>1&&$e.length>1){let qt=0;if(We[0]!==null&&We[1]!==null){Ye=$t<We[1]?"backward":"forward";let Ts=We[0]===We[1]&&We[0]<Pe;Ye==="backward"&&!Ts&&(qt=-1)}Xe=qt+$t,Ce=qt+$t+1}}Xe!==-1&&Ce!==-1&&Xe!==Ce&&P.current.setSelectionRange(Xe,Ce,Ye)}let ft=Xe!==-1?Xe:Ue,Pt=Ce!==-1?Ce:ce,vt=Ye??Ee;F(ft),U(Pt),M.current.prev=[ft,Pt,vt]}if(document.addEventListener("selectionchange",He,{capture:!0}),He(),document.activeElement===de&&K(!0),!document.getElementById("input-otp-style")){let Ue=document.createElement("style");if(Ue.id="input-otp-style",document.head.appendChild(Ue),Ue.sheet){let ce="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";iy(Ue.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),iy(Ue.sheet,`[data-input-otp]:autofill { ${ce} }`),iy(Ue.sheet,`[data-input-otp]:-webkit-autofill { ${ce} }`),iy(Ue.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),iy(Ue.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Oe=()=>{Te&&Te.style.setProperty("--root-height",`${de.clientHeight}px`)};Oe();let me=new ResizeObserver(Oe);return me.observe(de),()=>{document.removeEventListener("selectionchange",He,{capture:!0}),me.disconnect()}},[]);let[I,R]=f.useState(!1),[L,K]=f.useState(!1),[H,F]=f.useState(null),[G,U]=f.useState(null);f.useEffect(()=>{xgt(()=>{var de,Te,He,Oe;(de=P.current)==null||de.dispatchEvent(new Event("input"));let me=(Te=P.current)==null?void 0:Te.selectionStart,Ue=(He=P.current)==null?void 0:He.selectionEnd,ce=(Oe=P.current)==null?void 0:Oe.selectionDirection;me!==null&&Ue!==null&&(F(me),U(Ue),M.current.prev=[me,Ue,ce])})},[A,L]),f.useEffect(()=>{E!==void 0&&A!==E&&E.length<i&&A.length===i&&(u==null||u(A))},[i,u,E,A]);let W=wgt({containerRef:_,inputRef:P,pushPasswordManagerStrategy:h,isFocused:L}),J=f.useCallback(de=>{let Te=de.currentTarget.value.slice(0,i);if(Te.length>0&&T&&!T.test(Te)){de.preventDefault();return}typeof E=="string"&&Te.length<E.length&&document.dispatchEvent(new Event("selectionchange")),D(Te)},[i,D,E,T]),z=f.useCallback(()=>{var de;if(P.current){let Te=Math.min(P.current.value.length,i-1),He=P.current.value.length;(de=P.current)==null||de.setSelectionRange(Te,He),F(Te),U(He)}K(!0)},[i]),ie=f.useCallback(de=>{var Te,He;let Oe=P.current;if(!m&&(!O.current.isIOS||!de.clipboardData||!Oe))return;let me=de.clipboardData.getData("text/plain"),Ue=m?m(me):me;de.preventDefault();let ce=(Te=P.current)==null?void 0:Te.selectionStart,Ee=(He=P.current)==null?void 0:He.selectionEnd,Pe=(ce!==Ee?A.slice(0,ce)+Ue+A.slice(Ee):A.slice(0,ce)+Ue+A.slice(ce)).slice(0,i);if(Pe.length>0&&T&&!T.test(Pe))return;Oe.value=Pe,D(Pe);let $e=Math.min(Pe.length,i-1),We=Pe.length;Oe.setSelectionRange($e,We),F($e),U(We)},[i,D,T,A]),re=f.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),q=f.useMemo(()=>({position:"absolute",inset:0,width:W.willPushPWMBadge?`calc(100% + ${W.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:W.willPushPWMBadge?`inset(0 ${W.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[W.PWM_BADGE_SPACE_WIDTH,W.willPushPWMBadge,o]),se=f.useMemo(()=>f.createElement("input",fgt(mgt({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":H,"data-input-otp-mse":G,inputMode:d,pattern:T==null?void 0:T.source,"aria-placeholder":c,style:q,maxLength:i,value:A,ref:P,onPaste:de=>{var Te;ie(de),(Te=b.onPaste)==null||Te.call(b,de)},onChange:J,onMouseOver:de=>{var Te;R(!0),(Te=b.onMouseOver)==null||Te.call(b,de)},onMouseLeave:de=>{var Te;R(!1),(Te=b.onMouseLeave)==null||Te.call(b,de)},onFocus:de=>{var Te;z(),(Te=b.onFocus)==null||Te.call(b,de)},onBlur:de=>{var Te;K(!1),(Te=b.onBlur)==null||Te.call(b,de)}})),[J,z,ie,d,q,i,G,H,b,T==null?void 0:T.source,A]),B=f.useMemo(()=>({slots:Array.from({length:i}).map((de,Te)=>{var He;let Oe=L&&H!==null&&G!==null&&(H===G&&Te===H||Te>=H&&Te<G),me=A[Te]!==void 0?A[Te]:null,Ue=A[0]!==void 0?null:(He=c==null?void 0:c[Te])!=null?He:null;return{char:me,placeholderChar:Ue,isActive:Oe,hasFakeCaret:Oe&&me===null}}),isFocused:L,isHovering:!b.disabled&&I}),[L,I,i,G,H,b.disabled,A]),oe=f.useMemo(()=>x?x(B):f.createElement(Zde.Provider,{value:B},y),[y,B,x]);return f.createElement(f.Fragment,null,g!==null&&f.createElement("noscript",null,f.createElement("style",null,g)),f.createElement("div",{ref:_,"data-input-otp-container":!0,style:re,className:p},oe,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},se)))});eue.displayName="Input";function iy(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var jgt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const tue=f.forwardRef(({className:e,containerClassName:t,...s},a)=>r.jsx(eue,{ref:a,containerClassName:xe("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:xe("disabled:cursor-not-allowed",e),...s}));tue.displayName="InputOTP";const rue=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:xe("flex items-center",e),...t}));rue.displayName="InputOTPGroup";const yf=f.forwardRef(({index:e,className:t,...s},a)=>{const n=f.useContext(Zde),{char:i,hasFakeCaret:o,isActive:l}=n.slots[e];return r.jsxs("div",{ref:a,className:xe("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...s,children:[i,o&&r.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});yf.displayName="InputOTPSlot";const Ngt=f.forwardRef(({...e},t)=>r.jsx("div",{ref:t,role:"separator",...e,children:r.jsx(Rfe,{})}));Ngt.displayName="InputOTPSeparator";function _N(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),n=Gn(),{toast:i}=Lt(),{login:o}=$s(),[l,c]=f.useState("login"),[d,u]=f.useState("customer");f.useEffect(()=>{const I=()=>{var K,H;if(d==="customer"){const F=localStorage.getItem("customerToken"),G=localStorage.getItem("customerData");if(F&&G){const U=((H=(K=n.state)==null?void 0:K.from)==null?void 0:H.pathname)||"/";a(U,{replace:!0})}}else localStorage.getItem("accessToken")&&a("/dashboard",{replace:!0})};I();const R=()=>{I()},L=setInterval(I,100);return window.addEventListener("storage",R),()=>{clearInterval(L),window.removeEventListener("storage",R)}},[d,a,n]);const[h,m]=f.useState(""),[p,g]=f.useState(""),[x,y]=f.useState(""),[b,w]=f.useState(""),[v,S]=f.useState(""),[j,k]=f.useState(!1),[N,C]=f.useState(""),[A,E]=f.useState(!1),[D,T]=f.useState(!1),P=async I=>{var R,L;I.preventDefault(),E(!0);try{if(d==="customer"){const K=kg(),H={};K.subdomain&&(H["X-Tenant-Domain"]=K.domain);const F=await Q.post(`${Q.authUrl}/customers/login`,{email:h,password:p},{requireAuth:!1,headers:H});if(vo(F))throw new Error(Jl(F));localStorage.setItem("customerToken",String(F.token||"")),F.customer&&localStorage.setItem("customerData",JSON.stringify(F.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:F.token,customer:F.customer}})),i({title:s?"   ":"Login successful",description:s?"   ":"Welcome back!"});const G=((L=(R=n.state)==null?void 0:R.from)==null?void 0:L.pathname)||"/";a(G,{replace:!0})}else await o(h,p)?(i({title:s?"  ":"Login successful",description:s?"    ":"Please change your password to continue"}),a("/auth/change-password",{replace:!0})):(i({title:s?"   ":"Login successful",description:s?"    ":"Welcome to the dashboard!"}),setTimeout(()=>a("/dashboard"),1e3))}catch(K){const{title:H,description:F}=Wo(K,{operation:s?" ":"login",resource:d==="customer"?s?"":"as customer":s?"":"as employee"},s);i({variant:"destructive",title:H,description:F})}finally{E(!1)}},_=async I=>{I.preventDefault(),E(!0);try{const R=kg(),L={};R.subdomain&&(L["X-Tenant-Domain"]=R.domain);const K=await Q.post(`${Q.authUrl}/customers/signup`,{email:h,password:p,firstName:x,lastName:b,phone:v},{requireAuth:!1,headers:L});if(vo(K))throw new Error(Jl(K));K.verificationCodeSent?(k(!0),i({title:s?"   ":"Verification code sent",description:s?`     ${h}`:`A verification code has been sent to ${h}`}),K.verificationCode&&(console.log("Verification Code:",K.verificationCode),i({title:"Development Mode",description:`Code: ${K.verificationCode}`,duration:1e4}))):(i({title:s?"   ":"Account created successfully",description:s?"  ":"Please sign in"}),c("login"))}catch(R){const{title:L,description:K}=Wo(R,{operation:s?" ":"signup",resource:s?"":"as customer"},s);i({variant:"destructive",title:L,description:K})}finally{E(!1)}},O=async I=>{I.preventDefault(),E(!0);try{const R=await Q.post(`${Q.authUrl}/customers/verify-email`,{email:h,code:N},{requireAuth:!1});if(vo(R))throw new Error(Jl(R));if(R.valid)localStorage.setItem("customerToken",String(R.token||"")),R.customer&&localStorage.setItem("customerData",JSON.stringify(R.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:R.token,customer:R.customer}})),i({title:s?"  ":"Verification successful",description:s?"    ":"Your account has been created and you are now logged in"}),setTimeout(()=>a("/"),1e3);else throw new Error(R.message||"Verification failed")}catch(R){i({variant:"destructive",title:s?" ":"Verification failed",description:Jl(R)})}finally{E(!1)}},M=async()=>{E(!0);try{const I=await Q.post(`${Q.authUrl}/customers/resend-verification-code`,{email:h},{requireAuth:!1});if(vo(I))throw new Error(Jl(I));i({title:s?"   ":"Code resent",description:s?"      ":"A new code has been sent to your email"}),I.verificationCode&&(console.log("Verification Code:",I.verificationCode),i({title:"Development Mode",description:`Code: ${I.verificationCode}`,duration:1e4}))}catch(I){i({variant:"destructive",title:s?"  ":"Failed to resend code",description:Jl(I)})}finally{E(!1)}};return r.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[r.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-primary/5 blur-[120px] animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-secondary/5 blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),r.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-4 rounded-3xl gradient-primary shadow-xl animate-bounce-subtle",children:r.jsx(tl,{className:"h-10 w-10 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold gradient-text tracking-tight",children:j?s?"  ":"Verify Email":d==="employee"?s?" ":"Employee Login":l==="login"?s?" ":"Welcome Back":s?"  ":"Join Us Today"}),r.jsx("p",{className:"text-muted-foreground",children:j?s?`    ${h}`:`Enter the code sent to ${h}`:d==="employee"?s?"     ":"Sign in to access the dashboard":l==="login"?s?"    ":"Sign in to manage your account and orders":s?"     ":"Create an account for a better shopping experience"})]}),r.jsxs(we,{className:"border-border/50 shadow-2xl glass-effect-strong overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),j?r.jsx(Se,{className:"pt-8 pb-8 space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[r.jsxs("div",{className:"space-y-2 text-center",children:[r.jsx(tue,{maxLength:6,value:N,onChange:I=>C(I),children:r.jsxs(rue,{children:[r.jsx(yf,{index:0}),r.jsx(yf,{index:1}),r.jsx(yf,{index:2}),r.jsx(yf,{index:3}),r.jsx(yf,{index:4}),r.jsx(yf,{index:5})]})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s?"    6 ":"Enter the 6-digit code"})]}),r.jsxs("div",{className:"flex flex-col w-full gap-3",children:[r.jsx(V,{onClick:O,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:A||N.length!==6,children:A?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:s?" ...":"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(va,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:s?"":"Verify"})]})}),r.jsx(V,{variant:"ghost",onClick:M,disabled:A,className:"w-full",children:s?"  ":"Resend Code"}),r.jsxs(V,{variant:"link",onClick:()=>k(!1),className:"w-full text-muted-foreground",children:[r.jsx(El,{className:xe("h-4 w-4",s?"ml-2":"mr-2")}),s?"":"Back"]})]})]})}):d==="employee"?r.jsxs(Se,{className:"pt-8 pb-8 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:s?" ":"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ba,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:xe("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",s?"pr-12":"pl-12")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{htmlFor:"password",children:s?" ":"Password"}),r.jsx(tt,{to:"/auth/forgot-password",className:"text-xs text-primary hover:underline",children:s?"  ":"Forgot password?"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,className:xe("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",s?"pr-12 pl-12":"pl-12 pr-12")}),r.jsx("button",{type:"button",onClick:()=>T(!D),className:xe("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",s?"left-4":"right-4"),children:D?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsx(V,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:s?"  ...":"Signing in..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(d6,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:s?" ":"Employee Login"}),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})})]}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:s?"":"Or"})}),r.jsxs(V,{variant:"outline",onClick:()=>u("customer"),className:"w-full h-11 rounded-xl border-2 border-border/50 hover:bg-muted/50",children:[r.jsx(ao,{className:"mr-2 h-4 w-4"}),s?"  ":"Customer Login"]})]}):r.jsxs(Kn,{value:l,onValueChange:I=>c(I),className:"w-full",children:[r.jsxs(_n,{className:"grid w-full grid-cols-2 h-14 p-1 bg-muted/50 rounded-none border-b border-border/50",children:[r.jsx(_r,{value:"login",className:"rounded-none data-[state=active]:bg-background data-[state=active]:shadow-none font-semibold",children:s?" ":"Login"}),r.jsx(_r,{value:"signup",className:"rounded-none data-[state=active]:bg-background data-[state=active]:shadow-none font-semibold",children:s?" ":"Sign Up"})]}),r.jsxs(Se,{className:"pt-6",children:[r.jsxs(Yr,{value:"login",className:"space-y-6 mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"email",children:s?" ":"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ba,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:xe("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",s?"pr-12":"pl-12")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Y,{htmlFor:"password",children:s?" ":"Password"}),r.jsx(tt,{to:"/auth/forgot-password",className:"text-xs text-primary hover:underline",children:s?"  ":"Forgot password?"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,className:xe("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",s?"pr-12 pl-12":"pl-12 pr-12")}),r.jsx("button",{type:"button",onClick:()=>T(!D),className:xe("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",s?"left-4":"right-4"),children:D?r.jsx(oc,{className:"h-5 w-5"}):r.jsx(Cr,{className:"h-5 w-5"})})]})]}),r.jsx(V,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:s?"  ...":"Signing in..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(B2,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:s?" ":"Sign In"}),r.jsx(ma,{className:"mr-2 h-5 w-5"})]})})]}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:s?"":"Or"})}),r.jsxs(V,{variant:"ghost",onClick:()=>u("employee"),className:"w-full h-10 text-muted-foreground hover:text-foreground",children:[r.jsx(d6,{className:"mr-2 h-4 w-4"}),s?"  ":"Employee Login"]})]}),r.jsxs(Yr,{value:"signup",className:"space-y-6 mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[r.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-4 flex items-start gap-3",children:[r.jsx(bs,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-primary/80 leading-relaxed",children:s?"         .":"Join us today for exclusive offers and easy order tracking."})]}),r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"firstName",children:s?" ":"First Name"}),r.jsx(pe,{id:"firstName",placeholder:s?"":"John",value:x,onChange:I=>y(I.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"lastName",children:s?" ":"Last Name"}),r.jsx(pe,{id:"lastName",placeholder:s?"":"Doe",value:b,onChange:I=>w(I.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"signup-email",children:s?" ":"Email"}),r.jsxs("div",{className:"relative group",children:[r.jsx(ba,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"signup-email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all",s?"pr-12":"pl-12")})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"signup-password",children:s?" ":"Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx(bi,{className:xe("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",s?"right-4":"left-4")}),r.jsx(pe,{id:"signup-password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,minLength:6,className:xe("h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all",s?"pr-12 pl-12":"pl-12 pr-12")})]})]}),r.jsx(V,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"ml-2 h-5 w-5 animate-spin"}),r.jsx("span",{children:s?"  ...":"Creating account..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(zd,{className:"ml-2 h-5 w-5"}),r.jsx("span",{children:s?" ":"Create Account"})]})})]})]})]}),r.jsxs(ah,{className:"flex flex-col gap-4 pb-8 pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(sa,{className:"h-3 w-3"}),s?"    ":"Your data is protected by industry-standard encryption"]}),r.jsxs("div",{className:"w-full flex items-center gap-4",children:[r.jsx("div",{className:"h-px flex-1 bg-border/50"}),r.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-bold",children:s?"":"OR"}),r.jsx("div",{className:"h-px flex-1 bg-border/50"})]}),r.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[l==="login"?s?"  ":"Don't have an account?":s?"  ":"Already have an account?",r.jsx("button",{onClick:()=>c(l==="login"?"signup":"login"),className:"text-primary hover:text-primary/80 font-bold ml-1 hover:underline transition-colors",children:l==="login"?s?"  ":"Sign up now":s?" ":"Login here"})]})]})]})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(va,{className:"h-3.5 w-3.5 text-success"}),s?" ":"Secure Payment"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(va,{className:"h-3.5 w-3.5 text-success"}),s?" 24/7":"24/7 Support"]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(va,{className:"h-3.5 w-3.5 text-success"}),s?" ":"Full Privacy"]})]}),r.jsx(tt,{to:"/",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:s?" ":"Back to Store"})]})]})]})}const Sgt=()=>(console.log("Rendering TenantRouter"),sgt(),r.jsxs(mY,{children:[r.jsxs(nt,{element:r.jsx(ogt,{}),children:[r.jsx(nt,{path:"/cards",element:r.jsx(ngt,{})}),r.jsx(nt,{path:"/cards/:id",element:r.jsx(igt,{})}),r.jsx(nt,{path:"/account/cards",element:r.jsx(Cd,{children:r.jsx(lO,{})})}),r.jsx(nt,{path:"/account/wallet",element:r.jsx(Cd,{children:r.jsx(m2,{})})}),r.jsx(nt,{path:"/account/favorites",element:r.jsx(XW,{})})]}),r.jsxs(nt,{element:r.jsx(ade,{}),children:[r.jsx(nt,{path:"/",element:r.jsx(Zle,{})}),r.jsx(nt,{path:"/products",element:r.jsx(ece,{})}),r.jsx(nt,{path:"/products/:id",element:r.jsx(Bk,{})}),r.jsx(nt,{path:"/products/:tenantId/:productId",element:r.jsx(Bk,{})}),r.jsx(nt,{path:"/collections/:id",element:r.jsx(Oce,{})}),r.jsx(nt,{path:"/categories",element:r.jsx(Ice,{})}),r.jsx(nt,{path:"/categories/:id",element:r.jsx(Rce,{})}),r.jsx(nt,{path:"/cart",element:r.jsx(xce,{})}),r.jsx(nt,{path:"/checkout",element:r.jsx(_ce,{})}),r.jsx(nt,{path:"/account",element:r.jsx(Cd,{children:r.jsx(m2,{})})}),r.jsx(nt,{path:"/account/orders",element:r.jsx(Cd,{children:r.jsx(lO,{})})}),r.jsx(nt,{path:"/account/profile",element:r.jsx(Cd,{children:r.jsx(m2,{})})}),r.jsx(nt,{path:"/account/recharge",element:r.jsx(Cd,{children:r.jsx(rgt,{})})}),r.jsx(nt,{path:"/orders/:id",element:r.jsx(Cd,{children:r.jsx(Dce,{})})}),r.jsx(nt,{path:"/wishlist",element:r.jsx(XW,{})}),r.jsx(nt,{path:"/track-order",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/returns",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/faq",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/terms",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/policies",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/rules",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/offers",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/page/:slug",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/:slug",element:r.jsx(jd,{})}),r.jsx(nt,{path:"/about",element:r.jsx(Gde,{})}),r.jsx(nt,{path:"/contact",element:r.jsx(Kde,{})}),r.jsx(nt,{path:"/privacy",element:r.jsx(Yde,{})}),r.jsx(nt,{path:"/help",element:r.jsx(Xce,{})})]}),r.jsx(nt,{path:"/auth/login",element:r.jsx(_N,{})}),r.jsx(nt,{path:"/auth/signup",element:r.jsx(_N,{})}),r.jsx(nt,{path:"/auth/forgot-password",element:r.jsx(Mre,{})}),r.jsx(nt,{path:"/auth/reset-password",element:r.jsx(Fre,{})}),r.jsx(nt,{path:"/login",element:r.jsx(_N,{})}),r.jsx(nt,{path:"/signup",element:r.jsx(_N,{})}),r.jsx(nt,{path:"*",element:r.jsx(qY,{})})]})),ep=()=>(console.warn("SECURITY: getAdminApiKeySync should not be used. Admin operations require JWT authentication."),""),Ir=ep,kgt=async()=>{console.warn("SECURITY: initializeAdminApiKey should not be used. Admin operations require JWT authentication.")},Cgt=e=>{console.warn("SECURITY: setAdminApiKeyCache should not be used. Admin operations require JWT authentication.")};function Agt(){const{t:e}=It(),[t,s]=f.useState(null),[a,n]=f.useState(!0),i=async()=>{try{n(!0);const c=await fe.get("/admin/master/overview",{requireAuth:!0,adminApiKey:Ir()});s(c)}catch(c){console.error("Failed to load overview:",c),s(null)}finally{n(!1)}};if(f.useEffect(()=>{i()},[]),a)return r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-purple-500"})});if(!t)return r.jsx("div",{className:"text-center text-gray-400 py-12",children:e("masterDashboard.overview.loadError")});const o=[{title:e("masterDashboard.overview.stats.totalTenants"),value:t.tenants.total,icon:xs,color:"purple",subtitle:`${t.tenants.active} ${e("masterDashboard.overview.stats.activeTenants")}`},{title:e("masterDashboard.overview.stats.totalRevenue"),value:`$${(t.transactions.totalRevenue||0).toLocaleString()}`,icon:an,color:"green",subtitle:`$${(t.transactions.platformFees||0).toLocaleString()} ${e("masterDashboard.overview.stats.platformFees")}`},{title:e("masterDashboard.overview.stats.transactions"),value:t.transactions.total.toLocaleString(),icon:rl,color:"blue",subtitle:e("masterDashboard.overview.stats.allTime")},{title:e("masterDashboard.overview.stats.totalUsers"),value:t.totalUsers.toLocaleString(),icon:wr,color:"orange",subtitle:e("masterDashboard.overview.stats.acrossTenants")},{title:e("masterDashboard.overview.stats.paymentGateways"),value:t.activePaymentGateways,icon:Xr,color:"pink",subtitle:e("masterDashboard.overview.stats.active")},{title:e("masterDashboard.overview.stats.partners"),value:t.activePartners,icon:uI,color:"indigo",subtitle:e("masterDashboard.overview.stats.active")}],l=c=>c.includes("CREATED")?r.jsx(Fs,{className:"w-4 h-4 text-green-400"}):c.includes("DELETED")?r.jsx(Ls,{className:"w-4 h-4 text-red-400"}):c.includes("SUSPENDED")?r.jsx(Xs,{className:"w-4 h-4 text-yellow-400"}):r.jsx(Sd,{className:"w-4 h-4 text-blue-400"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e("masterDashboard.overview.title")}),r.jsx("p",{className:"text-gray-400",children:e("masterDashboard.overview.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,d)=>{const u=c.icon,h={purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30",green:"from-green-500/20 to-green-600/20 border-green-500/30",blue:"from-blue-500/20 to-blue-600/20 border-blue-500/30",orange:"from-orange-500/20 to-orange-600/20 border-orange-500/30",pink:"from-pink-500/20 to-pink-600/20 border-pink-500/30",indigo:"from-indigo-500/20 to-indigo-600/20 border-indigo-500/30"}[c.color],m={purple:"text-purple-400",green:"text-green-400",blue:"text-blue-400",orange:"text-orange-400",pink:"text-pink-400",indigo:"text-indigo-400"}[c.color];return r.jsxs("div",{className:`bg-gradient-to-br ${h} border backdrop-blur-sm rounded-xl p-6 hover:scale-105 transition-transform duration-200`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm font-medium",children:c.title}),r.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:c.value})]}),r.jsx("div",{className:`p-3 rounded-lg bg-gray-800/50 ${m}`,children:r.jsx(u,{className:"w-6 h-6"})})]}),r.jsx("p",{className:"text-sm text-gray-400",children:c.subtitle})]},d)})}),r.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.tenantStatus.title")}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Fs,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.active})]}),r.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.active")})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Xs,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.suspended})]}),r.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.suspended")})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Ls,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.inactive})]}),r.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.inactive")})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(xs,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.total})]}),r.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.total")})]})]})]}),r.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.planDistribution.title")}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.planDistribution.map((c,d)=>r.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:c.plan}),r.jsx("p",{className:"text-2xl font-bold text-white",children:c.count})]},d))})]}),r.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.recentActivity.title")}),r.jsx("div",{className:"space-y-3",children:t.recentActivity.length>0?t.recentActivity.map(c=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 transition-colors",children:[l(c.action),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:c.action.replace(/_/g," ")}),r.jsx("p",{className:"text-sm text-gray-400",children:c.resource})]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[r.jsx(Co,{className:"w-4 h-4"}),new Date(c.createdAt).toLocaleString()]})]},c.id)):r.jsx("p",{className:"text-center text-gray-400 py-4",children:e("masterDashboard.overview.recentActivity.noActivity")})})]})]})}function Egt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),{toast:u}=Lt(),[h,m]=f.useState({name:"",subdomain:"",plan:"STARTER",description:"",ownerEmail:"",ownerPassword:""}),p=f.useCallback(async()=>{try{a(!0);const j=await fe.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:Ir()});t(j.tenants||[])}catch(j){console.error("Failed to load tenants:",j),u({variant:"destructive",title:"Error",description:"Failed to load tenants"})}finally{a(!1)}},[u]);f.useEffect(()=>{p()},[p]);const g=async j=>{var k,N;j.preventDefault();try{await fe.post("/admin/master/tenants",h,{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Tenant created successfully"}),l(!1),m({name:"",subdomain:"",plan:"STARTER",description:"",ownerEmail:"",ownerPassword:""}),p()}catch(C){u({variant:"destructive",title:"Error",description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to create tenant"})}},x=async j=>{var k,N;if(j.preventDefault(),!!c)try{await fe.put(`/admin/master/tenants/${c.id}`,{name:h.name,plan:h.plan,description:h.description},{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Tenant updated successfully"}),d(null),p()}catch(C){u({variant:"destructive",title:"Error",description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to update tenant"})}},y=async j=>{if(confirm("Are you sure you want to suspend this tenant?"))try{await fe.post(`/admin/master/tenants/${j}/suspend`,{reason:"Suspended by admin"},{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Tenant suspended"}),p()}catch{u({variant:"destructive",title:"Error"})}},b=async j=>{var k,N;try{await fe.post(`/admin/master/tenants/${j}/activate`,{},{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Tenant activated"}),p()}catch(C){u({variant:"destructive",title:"Error",description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to activate tenant"})}},w=async j=>{var k,N;if(confirm("Are you sure you want to delete this tenant? This action cannot be undone."))try{await fe.delete(`/admin/master/tenants/${j}`,{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Tenant deleted"}),p()}catch(C){u({variant:"destructive",title:"Error",description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||"Failed to delete tenant"})}},v=e.filter(j=>j.name.toLowerCase().includes(n.toLowerCase())||j.subdomain.toLowerCase().includes(n.toLowerCase())),S=j=>{switch(j){case"ACTIVE":return r.jsx(Fs,{className:"w-4 h-4 text-green-500"});case"SUSPENDED":return r.jsx(Xs,{className:"w-4 h-4 text-yellow-500"});case"INACTIVE":return r.jsx(Ls,{className:"w-4 h-4 text-red-500"});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tenant Management"}),r.jsx("p",{className:"text-gray-400",children:"Manage all tenants across the platform"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(rr,{className:"w-4 h-4"}),"Create Tenant"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search tenants...",value:n,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-purple-500"})}):r.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-950 text-slate-400",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 text-left font-medium",children:"Tenant"}),r.jsx("th",{className:"p-4 text-left font-medium",children:"Plan"}),r.jsx("th",{className:"p-4 text-left font-medium",children:"Status"}),r.jsx("th",{className:"p-4 text-left font-medium",children:"Stats"}),r.jsx("th",{className:"p-4 text-left font-medium",children:"Created"}),r.jsx("th",{className:"p-4 text-right font-medium",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-800",children:[v.map(j=>{var k,N;return r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"p-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:j.name}),r.jsxs("div",{className:"text-sm text-gray-400",children:[j.subdomain,".saaah.com"]})]})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-400 rounded-full text-xs font-medium",children:j.plan})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[S(j.status),r.jsx("span",{className:"text-sm text-white",children:j.status})]})}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"text-sm text-gray-400",children:[((k=j._count)==null?void 0:k.products)||0," products  ",((N=j._count)==null?void 0:N.orders)||0," orders"]})}),r.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(j.createdAt).toLocaleDateString()}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>{d(j),m({name:j.name,subdomain:j.subdomain,plan:j.plan,description:"",ownerEmail:"",ownerPassword:""})},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ga,{className:"w-4 h-4 text-blue-400"})}),j.status==="ACTIVE"?r.jsx("button",{onClick:()=>y(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Suspend",children:r.jsx(fI,{className:"w-4 h-4 text-yellow-400"})}):r.jsx("button",{onClick:()=>b(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Activate",children:r.jsx(pI,{className:"w-4 h-4 text-green-400"})}),r.jsx("button",{onClick:()=>w(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:r.jsx(Sr,{className:"w-4 h-4 text-red-400"})})]})})]},j.id)}),v.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"No tenants found"})})]})]})}),(o||c)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c?"Edit Tenant":"Create New Tenant"}),r.jsxs("form",{onSubmit:c?x:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tenant Name"}),r.jsx("input",{type:"text",value:h.name,onChange:j=>m({...h,name:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),!c&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Subdomain"}),r.jsx("input",{type:"text",value:h.subdomain,onChange:j=>m({...h,subdomain:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner Email"}),r.jsx("input",{type:"email",value:h.ownerEmail,onChange:j=>m({...h,ownerEmail:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner Password"}),r.jsx("input",{type:"password",value:h.ownerPassword,onChange:j=>m({...h,ownerPassword:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan"}),r.jsxs("select",{value:h.plan,onChange:j=>m({...h,plan:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[r.jsx("option",{value:"STARTER",children:"Starter"}),r.jsx("option",{value:"PROFESSIONAL",children:"Professional"}),r.jsx("option",{value:"ENTERPRISE",children:"Enterprise"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:c?"Update":"Create"})]})]})]})})]})}const Pgt=[{value:"HYPERPAY",label:"HyperPay"},{value:"NEOLEAP",label:"Neoleap"}],oy=ep();function Tgt(){const{t:e}=It(),[t,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState(!1),[d,u]=f.useState(null),{toast:h}=Lt(),[m,p]=f.useState({name:"",provider:"HYPERPAY",tenantId:null,credentials:{},settings:{},isActive:!0}),g=f.useCallback(async()=>{var j;try{n(!0);const k=await fe.get("/admin/master/payment-gateways",{requireAuth:!0,adminApiKey:oy}),N=(k==null?void 0:k.gateways)||((j=k==null?void 0:k.data)==null?void 0:j.gateways)||(Array.isArray(k)?k:[]),C=Array.isArray(N)?N.filter(A=>!A.tenantId||A.tenantId===null):[];s(C)}catch(k){console.error("Failed to load payment gateways:",k);const N=k;h({title:e("common.error"),description:(N==null?void 0:N.message)||e("masterDashboard.paymentGateways.loadError"),variant:"destructive"})}finally{n(!1)}},[h,e]);f.useEffect(()=>{g()},[g]);const x=async j=>{var k,N;if(j.preventDefault(),!m.name){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingName"),description:e("masterDashboard.paymentGateways.missingNameDesc")});return}if(m.provider==="HYPERPAY"&&!m.credentials.entityId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingEntityId"),description:e("masterDashboard.paymentGateways.missingEntityIdDesc")});return}if(m.provider==="NEOLEAP"&&!m.credentials.clientId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingClientId"),description:e("masterDashboard.paymentGateways.missingClientIdDesc")});return}try{await fe.post("/admin/master/payment-gateways",m,{requireAuth:!0,adminApiKey:oy}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.createSuccess")}),c(!1),v(),g()}catch(C){const A=C;h({variant:"destructive",title:e("common.error"),description:(A==null?void 0:A.message)||((N=(k=A==null?void 0:A.response)==null?void 0:k.data)==null?void 0:N.message)||e("masterDashboard.paymentGateways.loadError")})}},y=async j=>{var k,N;if(confirm(e("masterDashboard.paymentGateways.deleteConfirm")))try{await fe.delete(`/admin/master/payment-gateways/${j}`,{requireAuth:!0,adminApiKey:oy}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.deleteSuccess")}),g()}catch(C){h({variant:"destructive",title:e("common.error"),description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||e("masterDashboard.paymentGateways.loadError")})}},b=async j=>{var k,N;try{await fe.post(`/admin/master/payment-gateways/${j}/toggle`,{},{requireAuth:!0,adminApiKey:oy}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.toggleSuccess")}),g()}catch(C){h({variant:"destructive",title:e("common.error"),description:((N=(k=C.response)==null?void 0:k.data)==null?void 0:N.message)||e("masterDashboard.paymentGateways.loadError")})}},w=async j=>{var k,N;if(j.preventDefault(),!!d){if(!m.name){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingName"),description:e("masterDashboard.paymentGateways.missingNameDesc")});return}if(m.provider==="HYPERPAY"&&!m.credentials.entityId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingEntityId"),description:e("masterDashboard.paymentGateways.missingEntityIdDesc")});return}if(m.provider==="NEOLEAP"&&!m.credentials.clientId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingClientId"),description:e("masterDashboard.paymentGateways.missingClientIdDesc")});return}try{await fe.put(`/admin/master/payment-gateways/${d.id}`,m,{requireAuth:!0,adminApiKey:oy}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.updateSuccess")}),c(!1),u(null),v(),g()}catch(C){const A=C;h({variant:"destructive",title:e("common.error"),description:(A==null?void 0:A.message)||((N=(k=A==null?void 0:A.response)==null?void 0:k.data)==null?void 0:N.message)||e("masterDashboard.paymentGateways.loadError")})}}},v=()=>{p({name:"",provider:"HYPERPAY",tenantId:null,credentials:{},settings:{},isActive:!0})},S=t.filter(j=>j.name.toLowerCase().includes(i.toLowerCase())||j.provider.toLowerCase().includes(i.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e("masterDashboard.paymentGateways.title")}),r.jsx("p",{className:"text-gray-400",children:e("masterDashboard.paymentGateways.subtitle")})]}),r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(rr,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.addGateway")]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:e("masterDashboard.paymentGateways.searchPlaceholder"),value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-green-500"})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[S.map(j=>r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${j.isActive?"bg-green-500/10":"bg-gray-500/10"}`,children:r.jsx(Xr,{className:`w-5 h-5 ${j.isActive?"text-green-500":"text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:j.name}),r.jsx("p",{className:"text-sm text-gray-400",children:j.provider})]})]}),r.jsx("div",{className:"flex items-center gap-1",children:j.isActive?r.jsx(Fs,{className:"w-4 h-4 text-green-500"}):r.jsx(Ls,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(j.createdAt).toLocaleDateString()]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{u(j),p({name:j.name,provider:j.provider,tenantId:j.tenantId||null,credentials:j.credentials||{},settings:j.settings||{},isActive:j.isActive}),c(!0)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[r.jsx(Ga,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.edit")]}),r.jsx("button",{onClick:()=>b(j.id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-colors ${j.isActive?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20":"bg-green-500/10 text-green-500 hover:bg-green-500/20"}`,children:j.isActive?r.jsxs(r.Fragment,{children:[r.jsx(fI,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.disable")]}):r.jsxs(r.Fragment,{children:[r.jsx(pI,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.enable")]})}),r.jsx("button",{onClick:()=>y(j.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:r.jsx(Sr,{className:"w-4 h-4"})})]})]},j.id)),S.length===0&&r.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:e("masterDashboard.paymentGateways.noGateways")})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:e(d?"masterDashboard.paymentGateways.modal.editTitle":"masterDashboard.paymentGateways.modal.addTitle")}),r.jsxs("form",{onSubmit:d?w:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.gatewayName")}),r.jsx("input",{type:"text",value:m.name,onChange:j=>p({...m,name:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.provider")}),r.jsx("select",{value:m.provider,onChange:j=>p({...m,provider:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500",disabled:!!d,children:Pgt.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]}),r.jsxs("div",{className:"space-y-4 border-t border-slate-800 pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:e("masterDashboard.paymentGateways.modal.credentials")}),m.provider==="STRIPE"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.secretKey")}),r.jsx("input",{type:"password",value:m.credentials.secretKey||"",onChange:j=>p({...m,credentials:{...m.credentials,secretKey:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.publishableKey")}),r.jsx("input",{type:"text",value:m.credentials.publishableKey||"",onChange:j=>p({...m,credentials:{...m.credentials,publishableKey:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]}),m.provider==="PAYPAL"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.clientId")}),r.jsx("input",{type:"text",value:m.credentials.clientId||"",onChange:j=>p({...m,credentials:{...m.credentials,clientId:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.clientSecret")}),r.jsx("input",{type:"password",value:m.credentials.clientSecret||"",onChange:j=>p({...m,credentials:{...m.credentials,clientSecret:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]}),(m.provider==="HYPERPAY"||m.provider==="NEOLEAP")&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.entityId")}),r.jsx("input",{type:"text",value:m.credentials.entityId||"",onChange:j=>p({...m,credentials:{...m.credentials,entityId:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.accessToken")}),r.jsx("input",{type:"password",value:m.credentials.accessToken||"",onChange:j=>p({...m,credentials:{...m.credentials,accessToken:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{c(!1),u(null),v()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:e("masterDashboard.paymentGateways.modal.cancel")}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e(d?"masterDashboard.paymentGateways.modal.update":"masterDashboard.paymentGateways.modal.add")})]})]})]})})]})}function _gt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(!1),{toast:m}=Lt(),p=f.useRef(null),[g,x]=f.useState({name:"",nameAr:"",email:"",phone:"",logo:"",description:"",descriptionAr:"",website:"",commissionType:"PERCENTAGE",commissionValue:0,aiScript:""}),y=f.useCallback(async()=>{try{a(!0);const C=await fe.get("/admin/master/partners",{requireAuth:!0,adminApiKey:Ir()});t(C.partners||C||[])}catch(C){console.error("Failed to load partners:",C),m({variant:"destructive",title:"Error",description:"Failed to load partners"})}finally{a(!1)}},[m]);f.useEffect(()=>{y()},[y]);const b=async C=>{var E;const A=(E=C.target.files)==null?void 0:E[0];if(A){if(!A.type.startsWith("image/")){m({variant:"destructive",title:"Invalid file",description:"Please select an image file"});return}if(A.size>5*1024*1024){m({variant:"destructive",title:"File too large",description:"Image must be less than 5MB"});return}try{h(!0);const D=new FormData;D.append("file",A),D.append("folder","partners");const T=await fetch("https://saeaa.net/api/api/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:D});if(T.ok){const P=await T.json();x({...g,logo:P.url||P.path}),m({title:"Success",description:"Logo uploaded successfully"})}else{const P=new FileReader;P.onloadend=()=>{x({...g,logo:P.result}),m({title:"Success",description:"Logo loaded (local preview)"})},P.readAsDataURL(A)}}catch{const T=new FileReader;T.onloadend=()=>{x({...g,logo:T.result})},T.readAsDataURL(A)}finally{h(!1)}}},w=async C=>{C.preventDefault();try{await fe.post("/admin/master/partners",g,{requireAuth:!0,adminApiKey:Ir()}),m({title:"Success",description:"Partner created successfully"}),l(!1),j(),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to create partner"})}},v=async C=>{if(C.preventDefault(),!!c)try{const A=encodeURIComponent(c.id);await fe.put(`/admin/master/partners/${A}`,g,{requireAuth:!0,adminApiKey:Ir()}),m({title:"Success",description:"Partner updated successfully"}),d(null),l(!1),j(),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to update partner"})}},S=async C=>{if(confirm("Are you sure you want to delete this partner?"))try{const A=encodeURIComponent(C);await fe.delete(`/admin/master/partners/${A}`,{requireAuth:!0,adminApiKey:Ir()}),m({title:"Success",description:"Partner deleted"}),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to delete partner"})}},j=()=>{x({name:"",nameAr:"",email:"",phone:"",logo:"",description:"",descriptionAr:"",website:"",commissionType:"PERCENTAGE",commissionValue:0,aiScript:""})},k=C=>{d(C),x({name:C.name,nameAr:C.nameAr||"",email:C.email,phone:C.phone||"",logo:C.logo||"",description:C.description||"",descriptionAr:C.descriptionAr||"",website:C.website||"",commissionType:C.commissionType,commissionValue:C.commissionValue,aiScript:C.aiScript||""}),l(!0)},N=e.filter(C=>C.name.toLowerCase().includes(n.toLowerCase())||C.email.toLowerCase().includes(n.toLowerCase())||C.nameAr&&C.nameAr.includes(n));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Partner Management"}),r.jsx("p",{className:"text-gray-400",children:"Manage business partners, logos, and commissions"})]}),r.jsxs("button",{onClick:()=>{j(),d(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(rr,{className:"w-4 h-4"}),"Add Partner"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search partners...",value:n,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-indigo-500"})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[N.map(C=>r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-indigo-500/50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[C.logo?r.jsx("img",{src:C.logo,alt:C.name,className:"w-14 h-14 rounded-lg object-cover bg-slate-800",onError:A=>{var E;A.target.style.display="none",(E=A.target.nextElementSibling)==null||E.classList.remove("hidden")}}):null,r.jsx("div",{className:`p-3 rounded-lg ${C.isActive?"bg-indigo-500/10":"bg-gray-500/10"} ${C.logo?"hidden":""}`,children:r.jsx(uI,{className:`w-6 h-6 ${C.isActive?"text-indigo-500":"text-gray-500"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white text-lg",children:C.name}),C.nameAr&&r.jsx("p",{className:"text-sm text-gray-400",children:C.nameAr})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isActive?"bg-green-500/10 text-green-500":"bg-gray-500/10 text-gray-500"}`,children:C.isActive?"Active":"Inactive"})]}),C.description&&r.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:C.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Email:"}),r.jsx("span",{className:"text-white truncate",children:C.email})]}),C.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Phone:"}),r.jsx("span",{className:"text-white",children:C.phone})]}),C.website&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Ya,{className:"w-4 h-4 text-gray-400"}),r.jsx("a",{href:C.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline truncate",children:C.website.replace(/^https?:\/\//,"")})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Commission:"}),r.jsx("div",{className:"flex items-center gap-1",children:C.commissionType==="PERCENTAGE"?r.jsxs(r.Fragment,{children:[r.jsx(mI,{className:"w-4 h-4 text-indigo-400"}),r.jsxs("span",{className:"text-white font-medium",children:[C.commissionValue,"%"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4 text-indigo-400"}),r.jsxs("span",{className:"text-white font-medium",children:["$",C.commissionValue]})]})})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(C.createdAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>k(C),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[r.jsx(Ga,{className:"w-4 h-4"}),"Edit"]}),r.jsx("button",{onClick:()=>S(C.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:r.jsx(Sr,{className:"w-4 h-4"})})]})]},C.id)),N.length===0&&r.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:"No partners found"})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:c?"Edit Partner":"Add New Partner"}),r.jsxs("form",{onSubmit:c?v:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Logo"}),r.jsxs("div",{className:"flex items-center gap-4",children:[g.logo?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:g.logo,alt:"Partner logo",className:"w-20 h-20 rounded-lg object-cover bg-slate-800"}),r.jsx("button",{type:"button",onClick:()=>x({...g,logo:""}),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:r.jsx(jr,{className:"w-3 h-3"})})]}):r.jsx("div",{onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:"w-20 h-20 rounded-lg bg-slate-800 border-2 border-dashed border-slate-700 flex flex-col items-center justify-center cursor-pointer hover:border-indigo-500 transition-colors",children:u?r.jsx(Je,{className:"w-6 h-6 text-gray-400 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Mi,{className:"w-6 h-6 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Upload"})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:b,className:"hidden"}),r.jsxs("button",{type:"button",onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:"flex items-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors text-sm",disabled:u,children:[r.jsx(An,{className:"w-4 h-4"}),u?"Uploading...":"Choose Image"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),r.jsx("input",{type:"url",value:g.logo,onChange:C=>x({...g,logo:C.target.value}),placeholder:"Or paste image URL...",className:"w-full mt-2 px-3 py-1.5 bg-slate-950 border border-slate-800 rounded text-white text-sm focus:outline-none focus:border-indigo-500"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Name *"}),r.jsx("input",{type:"text",value:g.name,onChange:C=>x({...g,name:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Name (Arabic)"}),r.jsx("input",{type:"text",value:g.nameAr,onChange:C=>x({...g,nameAr:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",dir:"rtl"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",value:g.email,onChange:C=>x({...g,email:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:g.phone,onChange:C=>x({...g,phone:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Website URL"}),r.jsx("input",{type:"url",value:g.website,onChange:C=>x({...g,website:C.target.value}),placeholder:"https://example.com",className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),r.jsx("textarea",{value:g.description,onChange:C=>x({...g,description:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",rows:2,placeholder:"Partner description in English..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (Arabic)"}),r.jsx("textarea",{value:g.descriptionAr,onChange:C=>x({...g,descriptionAr:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",rows:2,dir:"rtl",placeholder:"  ..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Commission Type"}),r.jsxs("select",{value:g.commissionType,onChange:C=>x({...g,commissionType:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:[r.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),r.jsx("option",{value:"FIXED",children:"Fixed Amount ($)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Commission Value"}),r.jsx("input",{type:"number",value:g.commissionValue,onChange:C=>x({...g,commissionValue:parseFloat(C.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",min:"0",step:"0.01",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"AI Script (Optional)"}),r.jsx("textarea",{value:g.aiScript,onChange:C=>x({...g,aiScript:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500 font-mono text-sm",rows:3,placeholder:"Custom instructions for AI..."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),j()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:c?"Update Partner":"Add Partner"})]})]})]})})]})}const Dgt=[{value:"MONTHLY",label:"Monthly",labelAr:""},{value:"YEARLY",label:"Yearly",labelAr:""},{value:"LIFETIME",label:"Lifetime",labelAr:" "}],Ogt=["Unlimited products","Advanced analytics","Priority support","Custom domain","API access","Multiple staff accounts","Email marketing","Chat support","White-label","Custom integrations"];function Igt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),{toast:u}=Lt(),[h,m]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:0,currency:"SAR",billingCycle:"MONTHLY",features:[],featuresAr:[],limits:{products:-1,orders:-1,storage:10,staff:5,customDomains:1},isActive:!0,isPopular:!1,sortOrder:0}),[p,g]=f.useState(""),[x,y]=f.useState(""),b=f.useCallback(async()=>{var P;try{a(!0);const _=await fe.get("/admin/master/plans",{requireAuth:!0,adminApiKey:Ir()}),O=(_==null?void 0:_.plans)||((P=_==null?void 0:_.data)==null?void 0:P.plans)||(Array.isArray(_)?_:[]);t(O)}catch(_){console.error("Failed to load plans:",_),u({title:"Error",description:(_==null?void 0:_.message)||"Failed to load plans",variant:"destructive"})}finally{a(!1)}},[u]);f.useEffect(()=>{b()},[b]);const w=()=>{m({name:"",nameAr:"",description:"",descriptionAr:"",price:0,currency:"SAR",billingCycle:"MONTHLY",features:[],featuresAr:[],limits:{products:-1,orders:-1,storage:10,staff:5,customDomains:1},isActive:!0,isPopular:!1,sortOrder:0}),g(""),y("")},v=async P=>{P.preventDefault();try{await fe.post("/admin/master/plans",h,{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Plan created successfully"}),l(!1),w(),b()}catch{u({title:"Error",description:"Failed to create plan",variant:"destructive"})}},S=async P=>{if(P.preventDefault(),!!c)try{await fe.put(`/admin/master/plans/${c.id}`,h,{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Plan updated successfully"}),l(!1),d(null),w(),b()}catch{u({title:"Error",description:"Failed to update plan",variant:"destructive"})}},j=async P=>{try{await fe.patch(`/admin/master/plans/${P}/toggle`,{},{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Plan status updated"}),b()}catch{u({title:"Error",description:"Failed to update plan status",variant:"destructive"})}},k=async P=>{if(confirm("Are you sure you want to delete this plan?"))try{await fe.delete(`/admin/master/plans/${P}`,{requireAuth:!0,adminApiKey:Ir()}),u({title:"Success",description:"Plan deleted successfully"}),b()}catch{u({title:"Error",description:"Failed to delete plan",variant:"destructive"})}},N=()=>{p.trim()&&!h.features.includes(p.trim())&&(m({...h,features:[...h.features,p.trim()]}),g(""))},C=()=>{x.trim()&&!h.featuresAr.includes(x.trim())&&(m({...h,featuresAr:[...h.featuresAr,x.trim()]}),y(""))},A=P=>{m({...h,features:h.features.filter(_=>_!==P)})},E=P=>{m({...h,featuresAr:h.featuresAr.filter(_=>_!==P)})},D=P=>{switch(P.toLowerCase()){case"starter":return r.jsx(zn,{className:"w-5 h-5"});case"professional":return r.jsx(L0,{className:"w-5 h-5"});case"enterprise":return r.jsx(Uo,{className:"w-5 h-5"});default:return r.jsx(Xr,{className:"w-5 h-5"})}},T=e.filter(P=>P.name.toLowerCase().includes(n.toLowerCase())||(P.nameAr||"").includes(n));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Subscription Plans"}),r.jsx("p",{className:"text-gray-400",children:"Manage pricing plans and features"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg shadow-purple-500/20",children:[r.jsx(rr,{className:"w-4 h-4"}),"Add Plan"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search plans...",value:n,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-purple-500"})}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.map(P=>{var _,O,M,I,R,L,K,H,F,G;return r.jsxs("div",{className:`relative bg-slate-900 border rounded-xl p-6 transition-all ${P.isPopular?"border-purple-500 shadow-lg shadow-purple-500/20":"border-slate-800 hover:border-slate-700"}`,children:[P.isPopular&&r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-xs font-semibold rounded-full",children:"Most Popular"}),r.jsxs("div",{className:"flex items-start justify-between mb-4 pt-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${P.isActive?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"}`,children:D(P.name)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white text-lg",children:P.name}),P.nameAr&&r.jsx("p",{className:"text-sm text-gray-400",children:P.nameAr})]})]}),r.jsx("div",{className:"flex items-center gap-1",children:P.isActive?r.jsx(Fs,{className:"w-4 h-4 text-green-500"}):r.jsx(Ls,{className:"w-4 h-4 text-gray-500"})})]}),r.jsxs("div",{className:"mb-4",children:[Number(P.price)===0?r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("span",{className:"text-3xl font-bold text-green-500",children:"Free"}),r.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded-full",children:"Forever"})]}):r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsx("span",{className:"text-3xl font-bold text-white",children:P.price}),r.jsx("span",{className:"text-gray-400",children:P.currency}),r.jsxs("span",{className:"text-gray-500 text-sm",children:["/",P.billingCycle==="MONTHLY"?"month":P.billingCycle==="YEARLY"?"year":"lifetime"]})]}),P.description&&r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:P.description})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[(_=P.features)==null?void 0:_.slice(0,4).map((U,W)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[r.jsx(Fs,{className:"w-3 h-3 text-green-500"}),U]},W)),P.features&&P.features.length>4&&r.jsxs("p",{className:"text-xs text-gray-500",children:["+",P.features.length-4," more features"]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Products:"}),r.jsx("span",{className:"text-white ml-1",children:((O=P.limits)==null?void 0:O.products)===-1?"":((M=P.limits)==null?void 0:M.products)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Staff:"}),r.jsx("span",{className:"text-white ml-1",children:((I=P.limits)==null?void 0:I.staff)===-1?"":((R=P.limits)==null?void 0:R.staff)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Storage:"}),r.jsx("span",{className:"text-white ml-1",children:((L=P.limits)==null?void 0:L.storage)===-1?"":`${((K=P.limits)==null?void 0:K.storage)||0}GB`})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Domains:"}),r.jsx("span",{className:"text-white ml-1",children:((H=P.limits)==null?void 0:H.customDomains)===-1?"":((F=P.limits)==null?void 0:F.customDomains)||0})]})]}),((G=P._count)==null?void 0:G.tenants)!==void 0&&r.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[P._count.tenants," active subscriptions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{var U,W,J,z,ie;d(P),m({name:P.name,nameAr:P.nameAr||"",description:P.description||"",descriptionAr:P.descriptionAr||"",price:P.price,currency:P.currency,billingCycle:P.billingCycle,features:P.features||[],featuresAr:P.featuresAr||[],limits:{products:((U=P.limits)==null?void 0:U.products)??-1,orders:((W=P.limits)==null?void 0:W.orders)??-1,storage:((J=P.limits)==null?void 0:J.storage)??10,staff:((z=P.limits)==null?void 0:z.staff)??5,customDomains:((ie=P.limits)==null?void 0:ie.customDomains)??1},isActive:P.isActive,isPopular:P.isPopular,sortOrder:P.sortOrder})},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[r.jsx(Ga,{className:"w-4 h-4"}),"Edit"]}),r.jsx("button",{onClick:()=>j(P.id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-colors ${P.isActive?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20":"bg-green-500/10 text-green-500 hover:bg-green-500/20"}`,children:P.isActive?r.jsxs(r.Fragment,{children:[r.jsx(fI,{className:"w-4 h-4"}),"Disable"]}):r.jsxs(r.Fragment,{children:[r.jsx(pI,{className:"w-4 h-4"}),"Enable"]})}),r.jsx("button",{onClick:()=>k(P.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:r.jsx(Sr,{className:"w-4 h-4"})})]})]},P.id)}),T.length===0&&r.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:"No plans found"})]}),(o||c)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:c?"Edit Plan":"Create New Plan"}),r.jsxs("form",{onSubmit:c?S:v,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Name (English)"}),r.jsx("input",{type:"text",value:h.name,onChange:P=>m({...h,name:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Name (Arabic)"}),r.jsx("input",{type:"text",value:h.nameAr,onChange:P=>m({...h,nameAr:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",dir:"rtl"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (English)"}),r.jsx("textarea",{value:h.description,onChange:P=>m({...h,description:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (Arabic)"}),r.jsx("textarea",{value:h.descriptionAr,onChange:P=>m({...h,descriptionAr:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",rows:2,dir:"rtl"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price"}),r.jsx("input",{type:"number",value:h.price,onChange:P=>m({...h,price:parseFloat(P.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Currency"}),r.jsxs("select",{value:h.currency,onChange:P=>m({...h,currency:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[r.jsx("option",{value:"SAR",children:"SAR - Saudi Riyal"}),r.jsx("option",{value:"USD",children:"USD - US Dollar"}),r.jsx("option",{value:"EUR",children:"EUR - Euro"}),r.jsx("option",{value:"AED",children:"AED - UAE Dirham"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Billing Cycle"}),r.jsx("select",{value:h.billingCycle,onChange:P=>m({...h,billingCycle:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:Dgt.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Limits (-1 for unlimited)"}),r.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Products"}),r.jsx("input",{type:"number",value:h.limits.products,onChange:P=>m({...h,limits:{...h.limits,products:parseInt(P.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Orders"}),r.jsx("input",{type:"number",value:h.limits.orders,onChange:P=>m({...h,limits:{...h.limits,orders:parseInt(P.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Storage (GB)"}),r.jsx("input",{type:"number",value:h.limits.storage,onChange:P=>m({...h,limits:{...h.limits,storage:parseInt(P.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Staff"}),r.jsx("input",{type:"number",value:h.limits.staff,onChange:P=>m({...h,limits:{...h.limits,staff:parseInt(P.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Domains"}),r.jsx("input",{type:"number",value:h.limits.customDomains,onChange:P=>m({...h,limits:{...h.limits,customDomains:parseInt(P.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Features"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:p,onChange:P=>g(P.target.value),onKeyPress:P=>P.key==="Enter"&&(P.preventDefault(),N()),placeholder:"Add a feature...",className:"flex-1 px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"}),r.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Ogt.filter(P=>!h.features.includes(P)).slice(0,5).map(P=>r.jsxs("button",{type:"button",onClick:()=>m({...h,features:[...h.features,P]}),className:"px-2 py-1 text-xs bg-slate-800 text-gray-400 rounded hover:bg-slate-700",children:["+ ",P]},P))}),r.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.features.map((P,_)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded",children:[r.jsx("span",{className:"text-sm text-white",children:P}),r.jsx("button",{type:"button",onClick:()=>A(P),className:"text-red-400 hover:text-red-300",children:r.jsx(Ls,{className:"w-4 h-4"})})]},_))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Features (Arabic)"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:x,onChange:P=>y(P.target.value),onKeyPress:P=>P.key==="Enter"&&(P.preventDefault(),C()),placeholder:" ...",className:"flex-1 px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",dir:"rtl"}),r.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),r.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.featuresAr.map((P,_)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded",children:[r.jsx("span",{className:"text-sm text-white",dir:"rtl",children:P}),r.jsx("button",{type:"button",onClick:()=>E(P),className:"text-red-400 hover:text-red-300",children:r.jsx(Ls,{className:"w-4 h-4"})})]},_))})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.isActive,onChange:P=>m({...h,isActive:P.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.isPopular,onChange:P=>m({...h,isPopular:P.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Mark as Popular"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),w()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:c?"Update Plan":"Create Plan"})]})]})]})})]})}const J4=[{value:"core",label:"Core Features",icon:zn},{value:"analytics",label:"Analytics",icon:Ua},{value:"marketing",label:"Marketing",icon:Jo},{value:"integration",label:"Integrations",icon:om},{value:"support",label:"Support",icon:Cn},{value:"design",label:"Design",icon:lp},{value:"security",label:"Security",icon:sa}],Z4=[{value:"FREE",label:"Free",color:"text-gray-400"},{value:"STARTER",label:"Starter",color:"text-blue-400"},{value:"PROFESSIONAL",label:"Professional",color:"text-purple-400"},{value:"ENTERPRISE",label:"Enterprise",color:"text-amber-400"}],ZW=[{feature:"page_builder",displayName:"Page Builder",displayNameAr:" ",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Drag and drop page builder"},{feature:"ai_assistant",displayName:"AI Assistant",displayNameAr:" ",category:"core",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"AI-powered content generation"},{feature:"chat_support",displayName:"Live Chat Support",displayNameAr:" ",category:"support",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Real-time chat with customers"},{feature:"analytics_advanced",displayName:"Advanced Analytics",displayNameAr:" ",category:"analytics",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Detailed insights and reports"},{feature:"custom_domain",displayName:"Custom Domain",displayNameAr:" ",category:"core",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Use your own domain name"},{feature:"api_access",displayName:"API Access",displayNameAr:"  API",category:"integration",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"REST API for integrations"},{feature:"email_marketing",displayName:"Email Marketing",displayNameAr:" ",category:"marketing",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Send promotional emails"},{feature:"seo_tools",displayName:"SEO Tools",displayNameAr:" SEO",category:"marketing",requiredPlan:"FREE",isGlobal:!0,isEnabled:!0,description:"Basic SEO optimization"},{feature:"multiple_staff",displayName:"Team Members",displayNameAr:" ",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Add multiple staff accounts"},{feature:"white_label",displayName:"White Label",displayNameAr:" ",category:"design",requiredPlan:"ENTERPRISE",isGlobal:!0,isEnabled:!0,description:"Remove platform branding"},{feature:"webhooks",displayName:"Webhooks",displayNameAr:" ",category:"integration",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Real-time event notifications"},{feature:"priority_support",displayName:"Priority Support",displayNameAr:" ",category:"support",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"24/7 priority assistance"}];function Rgt(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState("all"),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(null),[y,b]=f.useState("features"),{toast:w}=Lt(),[v,S]=f.useState({feature:"",displayName:"",displayNameAr:"",description:"",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,config:{}}),[j,k]=f.useState({tenantId:"",feature:"",enabled:!0,expiresAt:""});f.useEffect(()=>{N(),C()},[]);const N=async()=>{try{i(!0);const R=await fe.get("/admin/master/features",{requireAuth:!0,adminApiKey:Ir()});t(R.data||R.features||ZW.map((L,K)=>({...L,id:`feature-${K}`,createdAt:new Date().toISOString()})))}catch(R){console.error("Failed to load features:",R),t(ZW.map((L,K)=>({...L,id:`feature-${K}`,createdAt:new Date().toISOString()})))}finally{i(!1)}},C=async()=>{try{const R=await fe.get("/admin/master/feature-overrides",{requireAuth:!0,adminApiKey:Ir()});a(R.data||R.overrides||[])}catch(R){console.error("Failed to load tenant features:",R),a([])}},A=async R=>{var L,K;R.preventDefault();try{await fe.post("/admin/master/features",v,{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:"Feature created successfully"}),h(!1),O(),N()}catch(H){w({variant:"destructive",title:" Error",description:((K=(L=H.response)==null?void 0:L.data)==null?void 0:K.message)||"Failed to create feature"})}},E=async R=>{var L,K;if(R.preventDefault(),!!g)try{await fe.put(`/admin/master/features/${g.id}`,v,{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:"Feature updated successfully"}),x(null),N()}catch(H){w({variant:"destructive",title:" Error",description:((K=(L=H.response)==null?void 0:L.data)==null?void 0:K.message)||"Failed to update feature"})}},D=async R=>{var L,K;try{await fe.post(`/admin/master/features/${R}/toggle`,{},{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:"Feature status updated"}),N()}catch(H){w({variant:"destructive",title:" Error",description:((K=(L=H.response)==null?void 0:L.data)==null?void 0:K.message)||"Failed to toggle feature"})}},T=async(R,L)=>{try{await fe.put(`/admin/master/features/${R}`,{requiredPlan:L},{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:`Feature now requires ${L} plan`}),N()}catch{w({variant:"destructive",title:" Error",description:"Failed to update feature plan"})}},P=async R=>{var L,K;R.preventDefault();try{await fe.post("/admin/master/feature-overrides",j,{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:"Feature override created"}),p(!1),k({tenantId:"",feature:"",enabled:!0,expiresAt:""}),C()}catch(H){w({variant:"destructive",title:" Error",description:((K=(L=H.response)==null?void 0:L.data)==null?void 0:K.message)||"Failed to create override"})}},_=async R=>{if(confirm("Remove this feature override?"))try{await fe.delete(`/admin/master/feature-overrides/${R}`,{requireAuth:!0,adminApiKey:Ir()}),w({title:" Success",description:"Override removed"}),C()}catch{w({variant:"destructive",title:" Error",description:"Failed to remove override"})}},O=()=>{S({feature:"",displayName:"",displayNameAr:"",description:"",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,config:{}})},M=R=>{const L=J4.find(H=>H.value===R),K=(L==null?void 0:L.icon)||Es;return r.jsx(K,{className:"w-4 h-4"})},I=e.filter(R=>(c==="all"||R.category===c)&&(R.displayName.toLowerCase().includes(o.toLowerCase())||R.feature.toLowerCase().includes(o.toLowerCase())||(R.displayNameAr||"").includes(o)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Feature Control"}),r.jsx("p",{className:"text-gray-400",children:"Control which features are free or require a plan"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[r.jsx(p6,{className:"w-4 h-4"}),"Grant Feature"]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg shadow-indigo-500/20",children:[r.jsx(rr,{className:"w-4 h-4"}),"Add Feature"]})]})]}),r.jsxs("div",{className:"flex gap-2 bg-slate-900 p-1 rounded-lg w-fit",children:[r.jsx("button",{onClick:()=>b("features"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y==="features"?"bg-indigo-600 text-white":"text-gray-400 hover:text-white"}`,children:"Feature Configuration"}),r.jsxs("button",{onClick:()=>b("overrides"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y==="overrides"?"bg-indigo-600 text-white":"text-gray-400 hover:text-white"}`,children:["Tenant Overrides (",s.length,")"]})]}),y==="features"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search features...",value:o,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),r.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Categories"}),J4.map(R=>r.jsx("option",{value:R.value,children:R.label},R.value))]})]}),n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-indigo-500"})}):r.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-950",children:r.jsxs("tr",{className:"text-gray-400 text-sm",children:[r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Feature"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Category"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Required Plan"}),r.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),r.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-800",children:[I.map(R=>{var L;return r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${R.isEnabled?"bg-indigo-500/10 text-indigo-500":"bg-gray-500/10 text-gray-500"}`,children:M(R.category)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:R.displayName}),R.displayNameAr&&r.jsx("div",{className:"text-sm text-gray-400",dir:"rtl",children:R.displayNameAr}),R.description&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R.description})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-2 py-1 bg-slate-800 text-gray-300 text-xs rounded capitalize",children:R.category})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("select",{value:R.requiredPlan,onChange:K=>T(R.id,K.target.value),className:`px-3 py-1 bg-slate-800 border border-slate-700 rounded text-sm font-medium ${(L=Z4.find(K=>K.value===R.requiredPlan))==null?void 0:L.color}`,children:Z4.map(K=>r.jsx("option",{value:K.value,children:K.label},K.value))})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("button",{onClick:()=>D(R.id),className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${R.isEnabled?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:R.isEnabled?r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"w-3 h-3"}),"Enabled"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ls,{className:"w-3 h-3"}),"Disabled"]})})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>{x(R),S({feature:R.feature,displayName:R.displayName,displayNameAr:R.displayNameAr||"",description:R.description||"",category:R.category,requiredPlan:R.requiredPlan,isGlobal:R.isGlobal,isEnabled:R.isEnabled,config:R.config||{}})},className:"p-2 text-gray-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:r.jsx(Ga,{className:"w-4 h-4"})})})]},R.id)}),I.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No features found"})})]})]})})]}),y==="overrides"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(p6,{className:"w-5 h-5 text-amber-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-400",children:"Feature Overrides"}),r.jsx("p",{className:"text-sm text-amber-400/70 mt-1",children:"Override feature access for specific tenants. Grants or restricts access regardless of their plan."})]})]})}),r.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-950",children:r.jsxs("tr",{className:"text-gray-400 text-sm",children:[r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Tenant"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Feature"}),r.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Expires"}),r.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-800",children:[s.map(R=>r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:R.tenantName||"Unknown"}),r.jsxs("div",{className:"text-sm text-gray-400",children:[R.tenantSubdomain,".saaah.com"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"font-medium text-gray-300",children:R.feature})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${R.enabled?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:R.enabled?"Granted":"Restricted"})}),r.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:R.expiresAt?new Date(R.expiresAt).toLocaleDateString():"Never"}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>_(R.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:r.jsx(Sr,{className:"w-4 h-4"})})})]},R.id)),s.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No feature overrides configured"})})]})]})})]}),(u||g)&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:g?"Edit Feature":"Add New Feature"}),r.jsxs("form",{onSubmit:g?E:A,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature Key"}),r.jsx("input",{type:"text",value:v.feature,onChange:R=>S({...v,feature:R.target.value.toLowerCase().replace(/\s+/g,"_")}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",placeholder:"e.g., ai_assistant",required:!0,disabled:!!g})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),r.jsx("select",{value:v.category,onChange:R=>S({...v,category:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:J4.map(R=>r.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name (English)"}),r.jsx("input",{type:"text",value:v.displayName,onChange:R=>S({...v,displayName:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name (Arabic)"}),r.jsx("input",{type:"text",value:v.displayNameAr,onChange:R=>S({...v,displayNameAr:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",dir:"rtl"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),r.jsx("input",{type:"text",value:v.description,onChange:R=>S({...v,description:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",placeholder:"Brief description of the feature"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Required Plan"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:Z4.map(R=>r.jsx("button",{type:"button",onClick:()=>S({...v,requiredPlan:R.value}),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${v.requiredPlan===R.value?"bg-indigo-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:R.label},R.value))})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:v.isEnabled,onChange:R=>S({...v,isEnabled:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Enabled"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:v.isGlobal,onChange:R=>S({...v,isGlobal:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Global (applies to all tenants)"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),x(null),O()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all",children:g?"Update":"Create"})]})]})]})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Grant Feature Access"}),r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tenant ID"}),r.jsx("input",{type:"text",value:j.tenantId,onChange:R=>k({...j,tenantId:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500",placeholder:"Enter tenant ID",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature"}),r.jsxs("select",{value:j.feature,onChange:R=>k({...j,feature:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500",required:!0,children:[r.jsx("option",{value:"",children:"Select a feature"}),e.map(R=>r.jsx("option",{value:R.feature,children:R.displayName},R.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Expires At (optional)"}),r.jsx("input",{type:"date",value:j.expiresAt,onChange:R=>k({...j,expiresAt:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j.enabled,onChange:R=>k({...j,enabled:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-amber-600 focus:ring-amber-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Grant Access (uncheck to restrict)"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{p(!1),k({tenantId:"",feature:"",enabled:!0,expiresAt:""})},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Grant Access"})]})]})]})})]})}const DN=[{value:"PLAN_UPGRADE",label:"Plan Upgrade",icon:L0,color:"text-amber-500",bg:"bg-amber-500/10"},{value:"FEATURE_ACCESS",label:"Feature Access",icon:zn,color:"text-purple-500",bg:"bg-purple-500/10"},{value:"CREDIT",label:"Account Credit",icon:an,color:"text-green-500",bg:"bg-green-500/10"},{value:"EXTENSION",label:"Plan Extension",icon:Ri,color:"text-blue-500",bg:"bg-blue-500/10"},{value:"TRIAL",label:"Extended Trial",icon:Co,color:"text-cyan-500",bg:"bg-cyan-500/10"}],Mgt=["ai_assistant","page_builder","chat_support","analytics_advanced","custom_domain","api_access","email_marketing","multiple_staff","white_label","webhooks","priority_support"],Fgt=[{value:"STARTER",label:"Starter"},{value:"PROFESSIONAL",label:"Professional"},{value:"ENTERPRISE",label:"Enterprise"}];function Lgt(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState("PLAN_UPGRADE"),[g,x]=f.useState("tenant"),{toast:y}=Lt(),[b,w]=f.useState({targetId:"",giftType:"PLAN_UPGRADE",giftValue:"PROFESSIONAL",duration:30,creditAmount:100,feature:"ai_assistant",message:"",sendNotification:!0});f.useEffect(()=>{v(),S(),j()},[]);const v=async()=>{try{l(!0);const P=await fe.get("/admin/master/gifts",{requireAuth:!0,adminApiKey:Ir()});t(P.data||P.gifts||[])}catch(P){console.error("Failed to load gifts:",P),t([])}finally{l(!1)}},S=async()=>{try{const P=await fe.get("/admin/master/users?limit=100",{requireAuth:!0,adminApiKey:Ir()});a(P.data||P.users||[])}catch(P){console.error("Failed to load users:",P),a([])}},j=async()=>{var P;try{const _=await fe.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:Ir()});i(((P=_.data)==null?void 0:P.tenants)||_.tenants||[])}catch(_){console.error("Failed to load tenants:",_),i([])}},k=async P=>{var O,M;P.preventDefault();const _={targetType:g,targetId:b.targetId,giftType:m,giftValue:m==="CREDIT"?b.creditAmount.toString():m==="FEATURE_ACCESS"?b.feature:b.giftValue,duration:b.duration,message:b.message,sendNotification:b.sendNotification};try{await fe.post("/admin/master/gifts",_,{requireAuth:!0,adminApiKey:Ir()}),y({title:" Gift Granted!",description:"The gift has been successfully granted"}),h(!1),C(),v()}catch(I){y({variant:"destructive",title:" Error",description:((M=(O=I.response)==null?void 0:O.data)==null?void 0:M.message)||"Failed to grant gift"})}},N=async P=>{var _,O;if(confirm("Are you sure you want to revoke this gift?"))try{await fe.post(`/admin/master/gifts/${P}/revoke`,{},{requireAuth:!0,adminApiKey:Ir()}),y({title:" Success",description:"Gift has been revoked"}),v()}catch(M){y({variant:"destructive",title:" Error",description:((O=(_=M.response)==null?void 0:_.data)==null?void 0:O.message)||"Failed to revoke gift"})}},C=()=>{w({targetId:"",giftType:"PLAN_UPGRADE",giftValue:"PROFESSIONAL",duration:30,creditAmount:100,feature:"ai_assistant",message:"",sendNotification:!0}),p("PLAN_UPGRADE"),x("tenant")},A=P=>DN.find(_=>_.value===P)||DN[0],E=P=>{switch(P){case"ACTIVE":return"bg-green-500/10 text-green-500";case"EXPIRED":return"bg-gray-500/10 text-gray-500";case"REVOKED":return"bg-red-500/10 text-red-500";case"USED":return"bg-blue-500/10 text-blue-500";default:return"bg-gray-500/10 text-gray-500"}},D=e.filter(P=>{var _,O;return(((_=P.user)==null?void 0:_.email)||"").toLowerCase().includes(c.toLowerCase())||(((O=P.tenant)==null?void 0:O.name)||"").toLowerCase().includes(c.toLowerCase())||P.giftType.toLowerCase().includes(c.toLowerCase())}),T={total:e.length,active:e.filter(P=>P.status==="ACTIVE").length,planUpgrades:e.filter(P=>P.giftType==="PLAN_UPGRADE").length,featureGrants:e.filter(P=>P.giftType==="FEATURE_ACCESS").length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"User Gifts & Rewards"}),r.jsx("p",{className:"text-gray-400",children:"Grant gifts, upgrades, and free access to users"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg hover:from-pink-700 hover:to-rose-700 transition-all shadow-lg shadow-pink-500/20",children:[r.jsx(Wh,{className:"w-4 h-4"}),"Grant Gift"]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:r.jsx(Wh,{className:"w-5 h-5 text-pink-500"})}),r.jsx("span",{className:"text-2xl font-bold text-white",children:T.total})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Total Gifts"})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:r.jsx(Fs,{className:"w-5 h-5 text-green-500"})}),r.jsx("span",{className:"text-2xl font-bold text-white",children:T.active})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Active Gifts"})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:r.jsx(L0,{className:"w-5 h-5 text-amber-500"})}),r.jsx("span",{className:"text-2xl font-bold text-white",children:T.planUpgrades})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Plan Upgrades"})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:r.jsx(zn,{className:"w-5 h-5 text-purple-500"})}),r.jsx("span",{className:"text-2xl font-bold text-white",children:T.featureGrants})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Feature Grants"})]})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:DN.map(P=>{const _=P.icon;return r.jsxs("button",{onClick:()=>{p(P.value),h(!0)},className:`flex items-center gap-2 px-4 py-2 ${P.bg} ${P.color} rounded-lg hover:opacity-80 transition-opacity`,children:[r.jsx(_,{className:"w-4 h-4"}),"Grant ",P.label]},P.value)})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search gifts...",value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500"})]}),r.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-800 text-gray-300 rounded-lg hover:bg-slate-700 transition-colors",children:r.jsx(mc,{className:"w-4 h-4"})})]}),o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-pink-500"})}):r.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-950",children:r.jsxs("tr",{className:"text-gray-400 text-sm",children:[r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Recipient"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Gift Type"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Value"}),r.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),r.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Expires"}),r.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-800",children:[D.map(P=>{var M,I,R;const _=A(P.giftType),O=_.icon;return r.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-800 rounded-full",children:P.tenantId?r.jsx(sa,{className:"w-4 h-4 text-blue-400"}):r.jsx(wr,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:((M=P.tenant)==null?void 0:M.name)||((I=P.user)==null?void 0:I.name)||((R=P.user)==null?void 0:R.email)||"Unknown"}),P.tenant&&r.jsxs("div",{className:"text-sm text-gray-400",children:[P.tenant.subdomain,".saaah.com"]}),P.user&&!P.tenant&&r.jsx("div",{className:"text-sm text-gray-400",children:P.user.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg ${_.bg} ${_.color}`,children:[r.jsx(O,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:_.label})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"text-white font-medium",children:P.giftValue}),P.message&&typeof P.message=="string"&&r.jsx("p",{className:"text-xs text-gray-400 mt-1 max-w-[200px] truncate",children:P.message})]}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${E(P.status)}`,children:[P.status==="ACTIVE"&&r.jsx(Fs,{className:"w-3 h-3"}),P.status==="EXPIRED"&&r.jsx(Co,{className:"w-3 h-3"}),P.status==="REVOKED"&&r.jsx(Ls,{className:"w-3 h-3"}),P.status]})}),r.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:P.expiresAt?new Date(P.expiresAt).toLocaleDateString():"Never"}),r.jsx("td",{className:"px-6 py-4 text-right",children:P.status==="ACTIVE"&&r.jsx("button",{onClick:()=>N(P.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",title:"Revoke gift",children:r.jsx(Sr,{className:"w-4 h-4"})})})]},P.id)}),D.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[r.jsx(Wh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No gifts found"}),r.jsx("p",{className:"text-sm mt-1",children:"Start granting gifts to your users!"})]})})]})]})}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:r.jsx(Wh,{className:"w-6 h-6 text-pink-500"})}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Grant Gift"})]}),r.jsxs("form",{onSubmit:k,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Gift Type"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:DN.map(P=>{const _=P.icon;return r.jsxs("button",{type:"button",onClick:()=>p(P.value),className:`flex items-center gap-2 p-3 rounded-lg border-2 transition-all ${m===P.value?`${P.bg} border-current ${P.color}`:"bg-slate-800 border-transparent text-gray-400 hover:bg-slate-700"}`,children:[r.jsx(_,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:P.label})]},P.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Grant To"}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsxs("button",{type:"button",onClick:()=>x("tenant"),className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg ${g==="tenant"?"bg-blue-500/10 text-blue-500 border border-blue-500/50":"bg-slate-800 text-gray-400"}`,children:[r.jsx(sa,{className:"w-4 h-4"}),"Tenant (Store)"]}),r.jsxs("button",{type:"button",onClick:()=>x("user"),className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg ${g==="user"?"bg-blue-500/10 text-blue-500 border border-blue-500/50":"bg-slate-800 text-gray-400"}`,children:[r.jsx(wr,{className:"w-4 h-4"}),"User"]})]}),r.jsxs("select",{value:b.targetId,onChange:P=>w({...b,targetId:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",required:!0,children:[r.jsxs("option",{value:"",children:["Select ",g==="tenant"?"a tenant":"a user","..."]}),g==="tenant"?n.map(P=>r.jsxs("option",{value:P.id,children:[P.name," (",P.subdomain,") - ",P.plan]},P.id)):s.map(P=>r.jsxs("option",{value:P.id,children:[P.name||P.email," - ",P.role]},P.id))]})]}),m==="PLAN_UPGRADE"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Upgrade to Plan"}),r.jsx("select",{value:b.giftValue,onChange:P=>w({...b,giftValue:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",children:Fgt.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]}),m==="FEATURE_ACCESS"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature to Grant"}),r.jsx("select",{value:b.feature,onChange:P=>w({...b,feature:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",children:Mgt.map(P=>r.jsx("option",{value:P,children:P.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase())},P))})]}),m==="CREDIT"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Credit Amount (SAR)"}),r.jsx("input",{type:"number",value:b.creditAmount,onChange:P=>w({...b,creditAmount:parseFloat(P.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",min:"0",step:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Duration (days)"}),r.jsxs("div",{className:"flex gap-2",children:[[7,14,30,60,90,365].map(P=>r.jsxs("button",{type:"button",onClick:()=>w({...b,duration:P}),className:`px-3 py-1 rounded-lg text-sm ${b.duration===P?"bg-pink-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:[P,"d"]},P)),r.jsx("button",{type:"button",onClick:()=>w({...b,duration:-1}),className:`px-3 py-1 rounded-lg text-sm ${b.duration===-1?"bg-pink-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:"Forever"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Personal Message (optional)"}),r.jsx("textarea",{value:b.message,onChange:P=>w({...b,message:P.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",rows:2,placeholder:"Thank you for being a valued customer!"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b.sendNotification,onChange:P=>w({...b,sendNotification:P.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-pink-600 focus:ring-pink-500"}),r.jsx("span",{className:"text-sm text-gray-300",children:"Send email notification to recipient"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),C()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg hover:from-pink-700 hover:to-rose-700 transition-all",children:[r.jsx(Ip,{className:"w-4 h-4"}),"Grant Gift"]})]})]})]})})]})}function $gt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(null),[c,d]=f.useState(1),[u,h]=f.useState(!1),{toast:m}=Lt(),p=f.useCallback(async()=>{try{a(!0);const b=await pl.get("/users",{requireAuth:!0,adminApiKey:Ir()});t(b.users||[])}catch{m({variant:"destructive",title:"Error",description:"Failed to load users"})}finally{a(!1)}},[m]);f.useEffect(()=>{p()},[p]);const g=b=>{l(b),d(b.marketLimit||1),h(!0)},x=async()=>{var b,w;if(o){if(c<1){m({variant:"destructive",title:"Error",description:"Market limit must be at least 1"});return}try{await pl.put(`/users/${o.id}/market-limit`,{limit:c},{requireAuth:!0,adminApiKey:Ir()}),m({title:"Success",description:"Market limit updated successfully"}),h(!1),l(null),p()}catch(v){m({variant:"destructive",title:"Error",description:((w=(b=v.response)==null?void 0:b.data)==null?void 0:w.message)||"Failed to update market limit"})}}},y=e.filter(b=>{var w;return b.email.toLowerCase().includes(n.toLowerCase())||((w=b.name)==null?void 0:w.toLowerCase().includes(n.toLowerCase()))});return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"User Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage user market limits"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:"Search users by email or name...",value:n,onChange:b=>i(b.target.value),className:"max-w-sm"})]}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{children:"Email"}),r.jsx(Ae,{children:"Name"}),r.jsx(Ae,{children:"Role"}),r.jsx(Ae,{children:"Current Market"}),r.jsx(Ae,{children:"Market Limit"}),r.jsx(Ae,{children:"Actions"})]})}),r.jsx(us,{children:y.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):y.map(b=>r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-medium",children:b.email}),r.jsx(Ne,{children:b.name||"-"}),r.jsx(Ne,{children:r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:b.role})}),r.jsx(Ne,{children:b.tenant?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Uo,{className:"h-4 w-4"}),r.jsx("span",{children:b.tenant.name})]}):r.jsx("span",{className:"text-muted-foreground",children:"No market"})}),r.jsx(Ne,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:b.marketLimit||1}),b.currentMarkets!==void 0&&r.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",b.currentMarkets," used)"]})]})}),r.jsx(Ne,{children:r.jsxs(V,{variant:"outline",size:"sm",onClick:()=>g(b),children:[r.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Edit Limit"]})})]},b.id))})]})}),r.jsx(ir,{open:u,onOpenChange:h,children:r.jsxs(ar,{children:[r.jsxs(lr,{children:[r.jsx(cr,{children:"Edit Market Limit"}),r.jsx(pr,{children:"Set the maximum number of markets this user can create."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"limit",children:"Market Limit"}),r.jsx(pe,{id:"limit",type:"number",min:"1",value:c,onChange:b=>d(parseInt(b.target.value)||1)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of markets this user can create"})]}),o&&o.currentMarkets!==void 0&&r.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-md flex items-start gap-2",children:[r.jsx(Xs,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Current Usage"}),r.jsxs("p",{className:"text-yellow-700 dark:text-yellow-300",children:["User currently has ",o.currentMarkets," market(s).",o.currentMarkets>c&&r.jsx("span",{className:"font-semibold",children:" Setting limit below current usage may cause issues."})]})]})]})]}),r.jsxs(zr,{children:[r.jsx(V,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),r.jsx(V,{onClick:x,children:"Update Limit"})]})]})})]})}function Bgt(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(""),[p,g]=f.useState({}),[x,y]=f.useState(!1),[b,w]=f.useState(""),[v,S]=f.useState({name:""}),j=f.useCallback(async()=>{var O,M;try{y(!0);const I=await fe.get("/admin/master/api-keys",{requireAuth:!0,adminApiKey:Ir()}),R=Array.isArray(I)?I:(I==null?void 0:I.apiKeys)||[];s(R)}catch(I){console.error("Failed to load API keys:",I),e({variant:"destructive",title:"Error",description:((M=(O=I.response)==null?void 0:O.data)==null?void 0:M.message)||"Failed to load API keys"}),s([])}finally{y(!1)}},[e]);f.useEffect(()=>{j()},[j]);const k=async O=>{var M,I;if(O.preventDefault(),!v.name||!v.name.trim()){e({variant:"destructive",title:"Error",description:"Please enter an API key name"});return}y(!0);try{if(l){const R=encodeURIComponent(l.id);await fe.put(`/admin/master/api-keys/${R}`,{name:v.name},{requireAuth:!0,adminApiKey:Ir()}),e({title:"Success",description:"API key updated successfully"})}else{const R=await fe.post("/admin/master/api-keys",{name:v.name.trim()},{requireAuth:!0,adminApiKey:Ir()});m(R.apiKey),o(!0),u(null),e({title:"Success",description:"API key created successfully. Please copy it now - it will not be shown again!"})}n(!1),T(),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(M=R.response)==null?void 0:M.data)==null?void 0:I.message)||"Failed to save API key"})}finally{y(!1)}},N=O=>{c(O),S({name:O.name}),n(!0)},C=async O=>{var M,I;if(confirm("Are you sure you want to delete this API key? Any application using it will lose access to the API."))try{const R=encodeURIComponent(O);await fe.delete(`/admin/master/api-keys/${R}`,{requireAuth:!0,adminApiKey:Ir()}),e({title:"Success",description:"API key deleted successfully"}),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(M=R.response)==null?void 0:M.data)==null?void 0:I.message)||"Failed to delete API key"})}},A=async O=>{var M,I;try{const R=encodeURIComponent(O.id);await fe.put(`/admin/master/api-keys/${R}`,{isActive:!O.isActive},{requireAuth:!0,adminApiKey:Ir()}),e({title:"Success",description:O.isActive?"API key disabled":"API key enabled"}),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(M=R.response)==null?void 0:M.data)==null?void 0:I.message)||"Failed to update API key"})}},E=async()=>{var O,M;if(d&&confirm("Are you sure you want to regenerate this API key? The old key will be invalidated and will no longer work.")){y(!0);try{const I=encodeURIComponent(d.id),R=await fe.post(`/admin/master/api-keys/${I}/regenerate`,{},{requireAuth:!0,adminApiKey:Ir()});m(R.apiKey),o(!0),e({title:"Success",description:"API key regenerated successfully. Please copy it now - it will not be shown again!"}),j()}catch(I){e({variant:"destructive",title:"Error",description:((M=(O=I.response)==null?void 0:O.data)==null?void 0:M.message)||"Failed to regenerate API key"})}finally{y(!1)}}},D=O=>{navigator.clipboard.writeText(O),e({title:"Copied",description:"API key copied to clipboard"})},T=()=>{S({name:""}),c(null),u(null),m("")},P=O=>O?new Date(O).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never used",_=t.filter(O=>{if(b){const M=b.toLowerCase();return O.name.toLowerCase().includes(M)}return!0});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"API Key Management"}),r.jsx("p",{className:"text-gray-400",children:"Create and manage API keys to track usage of your APIs. Users can use these keys to authenticate their requests."})]}),r.jsxs(V,{onClick:()=>n(!0),className:"bg-violet-600 hover:bg-violet-700",children:[r.jsx(rr,{className:"mr-2 h-4 w-4"}),"Create API Key"]})]}),r.jsxs(Di,{className:"bg-gray-800/50 border-gray-700",children:[r.jsx(Xs,{className:"h-4 w-4"}),r.jsxs(Oi,{className:"text-gray-300",children:["Use API keys to authenticate API requests from external applications like websites or mobile apps. Add the key in the request header as ",r.jsx("code",{className:"px-1 py-0.5 bg-gray-700 rounded",children:"X-API-Key"}),". You can track which clients are using your APIs based on the API key name."]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(pe,{placeholder:"Search by name...",value:b,onChange:O=>w(O.target.value),className:"pl-10 bg-gray-800/50 border-gray-700 text-white"})]})}),r.jsx("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl overflow-hidden",children:x&&t.length===0?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-violet-500"})}):_.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-400",children:[r.jsx(Du,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),r.jsx("p",{children:"No API keys found"}),r.jsxs(V,{onClick:()=>n(!0),className:"mt-4 bg-violet-600 hover:bg-violet-700",children:[r.jsx(rr,{className:"mr-2 h-4 w-4"}),"Create First API Key"]})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{className:"border-gray-700",children:[r.jsx(Ae,{className:"text-gray-300",children:"Name"}),r.jsx(Ae,{className:"text-gray-300",children:"Status"}),r.jsx(Ae,{className:"text-gray-300",children:"Last Used"}),r.jsx(Ae,{className:"text-gray-300",children:"Created"}),r.jsx(Ae,{className:"text-right text-gray-300",children:"Actions"})]})}),r.jsx(us,{children:_.map(O=>r.jsxs(kt,{className:"border-gray-700 hover:bg-gray-800/50",children:[r.jsx(Ne,{className:"font-medium text-white",children:O.name}),r.jsx(Ne,{children:r.jsx(et,{variant:O.isActive?"default":"secondary",className:O.isActive?"bg-green-600":"bg-gray-600",children:O.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"mr-1 h-3 w-3"}),"Active"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ls,{className:"mr-1 h-3 w-3"}),"Inactive"]})})}),r.jsx(Ne,{className:"text-gray-400",children:P(O.lastUsedAt)}),r.jsx(Ne,{className:"text-gray-400",children:P(O.createdAt)}),r.jsx(Ne,{className:"text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>A(O),className:"text-gray-400 hover:text-white",children:O.isActive?"Disable":"Enable"}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{u(O),E()},className:"text-gray-400 hover:text-white",children:r.jsx(mc,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>N(O),className:"text-gray-400 hover:text-white",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>C(O.id),className:"text-red-400 hover:text-red-300",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},O.id))})]})}),r.jsx(ir,{open:a,onOpenChange:n,children:r.jsxs(ar,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-white",children:l?"Edit API Key":"Create New API Key"}),r.jsx(pr,{className:"text-gray-400",children:l?"Update the API key name":"Enter a descriptive name for the API key. The key will be auto-generated and you can copy it."})]}),r.jsxs("form",{onSubmit:k,children:[r.jsx("div",{className:"space-y-4 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{htmlFor:"name",className:"text-gray-300",children:"API Key Name"}),r.jsx(pe,{id:"name",placeholder:"e.g., Saeaa Website, Edara Mobile App, Mobile Client",value:v.name,onChange:O=>S({...v,name:O.target.value}),required:!0,className:"bg-gray-700 border-gray-600 text-white"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Enter a descriptive name to identify which client or application will use this API key"})]})}),r.jsxs(zr,{children:[r.jsx(V,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-gray-600 text-gray-300",children:"Cancel"}),r.jsx(V,{type:"submit",disabled:x,className:"bg-violet-600 hover:bg-violet-700",children:x?"Saving...":l?"Update":"Create"})]})]})]})}),r.jsx(ir,{open:i,onOpenChange:o,children:r.jsxs(ar,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(lr,{children:[r.jsx(cr,{className:"text-white",children:d?"API Key Regenerated":"API Key Created"}),r.jsx(pr,{className:"text-gray-400",children:r.jsxs(Di,{className:"mt-4 bg-yellow-900/20 border-yellow-700",children:[r.jsx(Xs,{className:"h-4 w-4 text-yellow-500"}),r.jsxs(Oi,{className:"text-yellow-200",children:[r.jsx("strong",{children:"Important:"})," Please copy the API key now. It will not be shown again after closing this dialog."]})]})})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{className:"text-gray-300",children:"API Key"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pe,{type:p.new?"text":"password",value:h,readOnly:!0,className:"font-mono text-sm bg-gray-700 border-gray-600 text-white"}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>g({...p,new:!p.new}),className:"border-gray-600",children:p.new?r.jsx(oc,{className:"h-4 w-4"}):r.jsx(Cr,{className:"h-4 w-4"})}),r.jsx(V,{type:"button",variant:"outline",size:"icon",onClick:()=>D(h),className:"border-gray-600",children:r.jsx(sc,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"rounded-md bg-gray-700/50 p-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Usage:"}),r.jsxs("code",{className:"text-xs block text-gray-400",children:["X-API-Key: ",h.substring(0,20),"..."]})]})]}),r.jsx(zr,{children:r.jsx(V,{onClick:()=>o(!1),className:"bg-violet-600 hover:bg-violet-700",children:"I've Copied It"})})]})})]})}function Ugt({adminApiKey:e}){const[t,s]=f.useState("about"),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState({titleAr:"",titleEn:"",contentAr:"",contentEn:""}),{toast:d}=Lt();f.useEffect(()=>{(async m=>{n(!0);try{const p=await fe.get(`/public/pages/${m}`);p!=null&&p.content?c(p.content):c({titleAr:m==="about"?" ":m==="contact"?" ":" ",titleEn:m==="about"?"About Us":m==="contact"?"Contact Us":"Privacy Policy",contentAr:"",contentEn:""})}catch{d({variant:"destructive",title:"Error",description:"Failed to load page content"})}finally{n(!1)}})(t)},[t,d]);const u=async()=>{o(!0);try{await fe.put(`/admin/master/pages/${t}`,l,{requireAuth:!0,adminApiKey:e}),d({title:"Success",description:"Page content updated successfully"})}catch{d({variant:"destructive",title:"Error",description:"Failed to update page content"})}finally{o(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Page Content"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage content for static pages (About, Contact, Privacy)"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs(we,{className:"md:col-span-1",children:[r.jsxs(st,{children:[r.jsx(it,{children:"Pages"}),r.jsx(Kt,{children:"Select a page to edit"})]}),r.jsx(Se,{className:"p-0",children:r.jsx("div",{className:"flex flex-col",children:[{id:"about",label:"About Us /  "},{id:"contact",label:"Contact /  "},{id:"privacy",label:"Privacy Policy /  "}].map(h=>r.jsxs("button",{onClick:()=>s(h.id),className:`flex items-center gap-3 px-6 py-4 text-sm font-medium transition-colors hover:bg-muted/50 text-left ${t===h.id?"bg-muted border-l-4 border-primary":"border-l-4 border-transparent"}`,children:[r.jsx(ka,{className:"h-4 w-4"}),h.label]},h.id))})})]}),r.jsxs(we,{className:"md:col-span-3",children:[r.jsx(st,{children:r.jsxs(it,{className:"capitalize",children:[t," Page Content"]})}),r.jsx(Se,{children:a?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r.jsxs(Kn,{defaultValue:"ar",className:"space-y-4",children:[r.jsxs(_n,{children:[r.jsxs(_r,{value:"ar",className:"gap-2",children:[r.jsx(Ya,{className:"h-4 w-4"}),"Arabic"]}),r.jsxs(_r,{value:"en",className:"gap-2",children:[r.jsx(Ya,{className:"h-4 w-4"}),"English"]})]}),r.jsxs(Yr,{value:"ar",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Page Title (Arabic)"}),r.jsx(pe,{value:l.titleAr,onChange:h=>c({...l,titleAr:h.target.value}),dir:"rtl"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Content (Arabic)"}),r.jsx(Ys,{value:l.contentAr,onChange:h=>c({...l,contentAr:h.target.value}),className:"min-h-[400px] font-mono",dir:"rtl",placeholder:"Enter HTML content here..."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports HTML tags for formatting."})]})]}),r.jsxs(Yr,{value:"en",className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Page Title (English)"}),r.jsx(pe,{value:l.titleEn,onChange:h=>c({...l,titleEn:h.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Y,{children:"Content (English)"}),r.jsx(Ys,{value:l.contentEn,onChange:h=>c({...l,contentEn:h.target.value}),className:"min-h-[400px] font-mono",placeholder:"Enter HTML content here..."}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports HTML tags for formatting."})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs(V,{onClick:u,disabled:i,children:[i&&r.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),r.jsx(nn,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})})]})]})]})}function Vgt(){const[e,t]=f.useState(""),[s,a]=f.useState(!0),[n,i]=f.useState(!1),{toast:o}=Lt(),l=f.useCallback(async()=>{try{a(!0);const d=await fe.get("/admin/master/ai-script",{requireAuth:!0,adminApiKey:Ir()});t(d.script||"")}catch(d){console.error("Failed to load AI script:",d),o({variant:"destructive",title:"Error",description:"Failed to load AI script"})}finally{a(!1)}},[o]);f.useEffect(()=>{l()},[l]);const c=async()=>{try{i(!0),await fe.post("/admin/master/ai-script",{script:e},{requireAuth:!0,adminApiKey:Ir()}),o({title:"Success",description:"AI script updated successfully"})}catch(d){console.error("Failed to save AI script:",d),o({variant:"destructive",title:"Error",description:"Failed to save AI script"})}finally{i(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-indigo-500"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"AI Assistant Settings"}),r.jsx("p",{className:"text-gray-400",children:"Configure the global behavior and knowledge base for the AI assistant"})]}),r.jsxs("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n?r.jsx(Je,{className:"w-4 h-4 animate-spin"}):r.jsx(nn,{className:"w-4 h-4"}),"Save Changes"]})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-lg",children:r.jsx(Vd,{className:"w-6 h-6 text-indigo-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Global Training Script"}),r.jsx("p",{className:"text-sm text-gray-400",children:"This script will be injected into the system prompt for all AI interactions across the platform. Use this to define the AI's persona, general knowledge about Saeaa, and core policies."})]})]}),r.jsx("textarea",{value:e,onChange:d=>t(d.target.value),className:"w-full h-[500px] px-4 py-4 bg-slate-950 border border-slate-800 rounded-lg text-white font-mono text-sm focus:outline-none focus:border-indigo-500 resize-none",placeholder:"Enter system instructions here..."})]})]})}const eH=[{category:"Products",permissions:[{id:"product:create",label:"Create Products",description:"Create new products",icon:Dt},{id:"product:read",label:"View Products",description:"View product information",icon:Cr},{id:"product:update",label:"Edit Products",description:"Modify existing products",icon:Es},{id:"product:delete",label:"Delete Products",description:"Remove products",icon:Ls},{id:"product:manage",label:"Manage Products",description:"Full product management",icon:Dt}]},{category:"Orders",permissions:[{id:"order:create",label:"Create Orders",description:"Create new orders",icon:Or},{id:"order:read",label:"View Orders",description:"View order information",icon:Cr},{id:"order:update",label:"Update Orders",description:"Modify existing orders",icon:Es},{id:"order:delete",label:"Delete Orders",description:"Remove orders",icon:Ls},{id:"order:manage",label:"Manage Orders",description:"Full order management",icon:Or}]},{category:"Customers",permissions:[{id:"customer:create",label:"Create Customers",description:"Create new customer accounts",icon:wr},{id:"customer:read",label:"View Customers",description:"View customer information",icon:Cr},{id:"customer:update",label:"Update Customers",description:"Modify customer data",icon:Es},{id:"customer:delete",label:"Delete Customers",description:"Remove customers",icon:Ls},{id:"customer:manage",label:"Manage Customers",description:"Full customer management",icon:wr}]},{category:"Inventory",permissions:[{id:"inventory:read",label:"View Inventory",description:"View stock levels",icon:Cr},{id:"inventory:update",label:"Update Inventory",description:"Modify stock levels",icon:Es},{id:"inventory:manage",label:"Manage Inventory",description:"Full inventory control",icon:Dt}]},{category:"Analytics",permissions:[{id:"analytics:read",label:"View Analytics",description:"View reports and analytics",icon:Ua},{id:"analytics:manage",label:"Manage Analytics",description:"Full analytics access",icon:Ua}]},{category:"Settings",permissions:[{id:"settings:read",label:"View Settings",description:"View store settings",icon:Cr},{id:"settings:update",label:"Update Settings",description:"Modify store settings",icon:Es}]}];function zgt(){const[e,t]=f.useState([]),[s,a]=f.useState(null),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,b]=f.useState(!1),{toast:w}=Lt(),v=f.useCallback(async()=>{try{l(!0);const A=await fe.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:Ir()});t(A.tenants||[])}catch(A){console.error("Failed to load tenants:",A),w({variant:"destructive",title:"Error",description:"Failed to load tenants"})}finally{l(!1)}},[w]),S=f.useCallback(async A=>{try{d(!0);const T=((await Q.fetch(`${Q.authUrl}/staff?tenantId=${A}&limit=100`,{requireAuth:!0,adminApiKey:Ir()})).data||[]).map(P=>{var _;return{id:P.id,email:P.email,name:P.name,phone:P.phone,role:P.role,createdAt:P.createdAt,permissions:((_=P.staffPermissions)==null?void 0:_.map(O=>O.permission).filter(O=>!O.startsWith("employee:")))||[]}});i(T)}catch(E){console.error("Failed to load staff users:",E),w({variant:"destructive",title:"Error",description:"Failed to load staff users"})}finally{d(!1)}},[w]);f.useEffect(()=>{v()},[v]),f.useEffect(()=>{s?S(s):i([])},[s,S]);const j=A=>{p(A),x([...A.permissions])},k=A=>{g.includes(A)?x(g.filter(E=>E!==A)):x([...g,A])},N=async()=>{if(!(!m||!s))try{b(!0),await Q.fetch(`${Q.authUrl}/staff/${m.id}/permissions`,{method:"PUT",body:JSON.stringify({permissions:g,tenantId:s}),requireAuth:!0,adminApiKey:Ir()}),w({title:"Success",description:"Permissions updated successfully"}),i(n.map(A=>A.id===m.id?{...A,permissions:g}:A)),p(null),x([])}catch(A){w({variant:"destructive",title:"Error",description:(A==null?void 0:A.message)||"Failed to update permissions"})}finally{b(!1)}},C=n.filter(A=>{var E;return A.email.toLowerCase().includes(u.toLowerCase())||((E=A.name)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))});return e.find(A=>A.id===s),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Employee Permissions Management"}),r.jsx("p",{className:"text-gray-400",children:"Manage what employees can see and access for each store"})]}),r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Select Store (Tenant)"}),r.jsxs("select",{value:s||"",onChange:A=>a(A.target.value||null),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[r.jsx("option",{value:"",children:"-- Select a store --"}),e.map(A=>r.jsxs("option",{value:A.id,children:[A.name," (",A.subdomain,")"]},A.id))]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search employees...",value:u,onChange:A=>h(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-purple-500"})}):C.length===0?r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-8 text-center",children:[r.jsx(wr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No employees found for this store"})]}):r.jsx("div",{className:"grid gap-4",children:C.map(A=>r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-full flex items-center justify-center",children:r.jsx(yI,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:A.name||A.email}),r.jsx("p",{className:"text-sm text-gray-400",children:A.email}),A.phone&&r.jsx("p",{className:"text-xs text-gray-500",children:A.phone})]})]}),r.jsxs("button",{onClick:()=>j(A),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[r.jsx(sa,{className:"w-4 h-4"}),"Manage Permissions"]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Permissions:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:A.permissions.length>0?A.permissions.map(E=>{const D=eH.flatMap(T=>T.permissions).find(T=>T.id===E);return r.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-400 rounded-full text-xs",children:(D==null?void 0:D.label)||E},E)}):r.jsx("span",{className:"text-gray-500 text-sm",children:"No permissions assigned"})})]})]},A.id))})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-2",children:["Manage Permissions for ",m.name||m.email]}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Select what this employee can see and access"}),r.jsx("div",{className:"space-y-6",children:eH.map(A=>r.jsxs("div",{className:"border border-slate-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:A.category}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:A.permissions.map(E=>{const D=g.includes(E.id),T=E.icon;return r.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${D?"bg-purple-500/10 border-purple-500":"bg-slate-950 border-slate-800 hover:border-slate-700"}`,children:[r.jsx("input",{type:"checkbox",checked:D,onChange:()=>k(E.id),className:"mt-1 w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(T,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"font-medium text-white text-sm",children:E.label})]}),r.jsx("p",{className:"text-xs text-gray-400",children:E.description})]})]},E.id)})})]},A.category))}),r.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-slate-800",children:[r.jsx("button",{onClick:()=>{p(null),x([])},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:N,disabled:y,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"w-4 h-4"}),"Save Permissions"]})})]})]})})]})}function Wgt(){const{toast:e}=Lt(),[t,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(!1),[l,c]=f.useState(""),[d,u]=f.useState(new Set),h=async()=>{try{n(!0);const y=await fe.get("/admin/master/cloudinary-access",{requireAuth:!0,adminApiKey:ep()});s(y.users||[])}catch(y){console.error("Failed to load users:",y),e({variant:"destructive",title:"Error",description:y.message||"Failed to load users"})}finally{n(!1)}};f.useEffect(()=>{h()},[]);const m=y=>{u(b=>{const w=new Set(b);return w.has(y)?w.delete(y):w.add(y),w})},p=async()=>{if(d.size===0){e({variant:"destructive",title:"No Selection",description:"Please select at least one user"});return}try{o(!0);const y=Array.from(d);await fe.post("/admin/master/cloudinary-access",{userIds:y},{requireAuth:!0,adminApiKey:ep()}),e({title:"Success",description:`Cloudinary access granted to ${y.length} user(s)`}),await h(),u(new Set)}catch(y){console.error("Failed to update Cloudinary access:",y),e({variant:"destructive",title:"Error",description:y.message||"Failed to update Cloudinary access"})}finally{o(!1)}},g=async y=>{try{o(!0),await fe.delete("/admin/master/cloudinary-access",{requireAuth:!0,adminApiKey:ep(),data:{userIds:[y]}}),e({title:"Success",description:"Cloudinary access revoked"}),await h()}catch(b){console.error("Failed to revoke Cloudinary access:",b),e({variant:"destructive",title:"Error",description:b.message||"Failed to revoke Cloudinary access"})}finally{o(!1)}},x=t.filter(y=>{var b;return y.email.toLowerCase().includes(l.toLowerCase())||((b=y.name)==null?void 0:b.toLowerCase().includes(l.toLowerCase()))});return a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Je,{className:"h-8 w-8 animate-spin text-violet-500"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(ij,{className:"w-6 h-6"}),"Cloudinary Access Management"]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Select users who can see and use the Cloudinary button"})]}),d.size>0&&r.jsx(V,{onClick:p,disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(nn,{className:"w-4 h-4 mr-2"}),"Grant Access (",d.size,")"]})})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(pe,{placeholder:"Search users by email or name...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]})}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:"w-12",children:r.jsx(no,{checked:x.length>0&&x.every(y=>d.has(y.id)),onCheckedChange:y=>{u(y?new Set(x.map(b=>b.id)):new Set)}})}),r.jsx(Ae,{children:"Email"}),r.jsx(Ae,{children:"Name"}),r.jsx(Ae,{children:"Role"}),r.jsx(Ae,{children:"Cloudinary Access"}),r.jsx(Ae,{children:"Actions"})]})}),r.jsx(us,{children:x.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):x.map(y=>r.jsxs(kt,{children:[r.jsx(Ne,{children:r.jsx(no,{checked:d.has(y.id),onCheckedChange:()=>m(y.id)})}),r.jsx(Ne,{className:"font-medium",children:y.email}),r.jsx(Ne,{children:y.name||"-"}),r.jsx(Ne,{children:r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:y.role})}),r.jsx(Ne,{children:y.hasCloudinaryAccess?r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(Fs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Granted"})]}):r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(Ls,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Not Granted"})]})}),r.jsx(Ne,{children:y.hasCloudinaryAccess&&r.jsx(V,{variant:"destructive",size:"sm",onClick:()=>g(y.id),disabled:i,children:"Revoke"})})]},y.id))})]})})]})}function Hgt(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState("ALL"),[c,d]=f.useState(null),[u,h]=f.useState(""),[m,p]=f.useState(!1),{toast:g}=Lt(),x=f.useCallback(async()=>{try{a(!0);const k={};o!=="ALL"&&(k.status=o),n&&(k.search=n);const N=await fe.get("/admin/master/complaints",{params:k,requireAuth:!0,adminApiKey:Ir()});t(N.items||[])}catch(k){console.error("Failed to load complaints:",k),g({variant:"destructive",title:"Error",description:"Failed to load complaints"})}finally{a(!1)}},[g,o,n]);f.useEffect(()=>{x()},[x]);const y=async(k,N)=>{try{p(!0),await fe.put(`/admin/master/complaints/${k}`,{status:N},{requireAuth:!0,adminApiKey:Ir()}),g({title:"Success",description:"Status updated successfully"}),x(),(c==null?void 0:c.id)===k&&d({...c,status:N})}catch{g({variant:"destructive",title:"Error",description:"Failed to update status"})}finally{p(!1)}},b=async(k,N)=>{try{p(!0),await fe.put(`/admin/master/complaints/${k}`,{priority:N},{requireAuth:!0,adminApiKey:Ir()}),g({title:"Success",description:"Priority updated successfully"}),x(),(c==null?void 0:c.id)===k&&d({...c,priority:N})}catch{g({variant:"destructive",title:"Error",description:"Failed to update priority"})}finally{p(!1)}},w=async()=>{if(c)try{p(!0),await fe.put(`/admin/master/complaints/${c.id}`,{aiResponse:u},{requireAuth:!0,adminApiKey:Ir()}),g({title:"Success",description:"AI response saved"}),x(),d({...c,aiResponse:u})}catch{g({variant:"destructive",title:"Error",description:"Failed to save AI response"})}finally{p(!1)}},v=async k=>{if(confirm("Are you sure you want to delete this complaint?"))try{await fe.delete(`/admin/master/complaints/${k}`,{requireAuth:!0,adminApiKey:Ir()}),g({title:"Success",description:"Complaint deleted"}),x(),(c==null?void 0:c.id)===k&&d(null)}catch{g({variant:"destructive",title:"Error",description:"Failed to delete complaint"})}},S=k=>{switch(k){case"OPEN":return"text-blue-400 bg-blue-400/10";case"IN_PROGRESS":return"text-yellow-400 bg-yellow-400/10";case"WAITING_CUSTOMER":return"text-purple-400 bg-purple-400/10";case"RESOLVED":return"text-green-400 bg-green-400/10";case"CLOSED":return"text-gray-400 bg-gray-400/10";default:return"text-gray-400 bg-gray-400/10"}},j=k=>{switch(k){case"LOW":return"text-gray-400";case"MEDIUM":return"text-blue-400";case"HIGH":return"text-orange-400";case"URGENT":return"text-red-400";default:return"text-gray-400"}};return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[r.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-4 bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-slate-800 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx(Cn,{className:"w-5 h-5 text-purple-500"}),"Complaints"]}),r.jsxs("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 rounded text-xs",children:[e.length," Total"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search complaints...",value:n,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-sm text-white focus:outline-none focus:border-purple-500"})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["ALL","OPEN","IN_PROGRESS","RESOLVED","CLOSED"].map(k=>r.jsx("button",{onClick:()=>l(k),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-colors ${o===k?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:k},k))})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:s?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(Je,{className:"w-6 h-6 animate-spin text-purple-500"})}):e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No complaints found"}):e.map(k=>r.jsxs("button",{onClick:()=>{d(k),h(k.aiResponse||"")},className:`w-full text-left p-3 rounded-lg border transition-all ${(c==null?void 0:c.id)===k.id?"bg-purple-600/10 border-purple-500/50":"bg-slate-800/30 border-slate-800 hover:border-slate-700"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${S(k.status)}`,children:k.status}),r.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(k.createdAt).toLocaleDateString()})]}),r.jsx("h4",{className:"text-sm font-medium text-white line-clamp-1 mb-1",children:k.subject}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsx(ao,{className:"w-3 h-3"}),r.jsx("span",{className:"line-clamp-1",children:k.name})]})]},k.id))})]}),r.jsx("div",{className:"lg:col-span-2 bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:c.subject}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${S(c.status)}`,children:c.status})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ao,{className:"w-4 h-4"}),c.name]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ba,{className:"w-4 h-4"}),c.email]}),c.phone&&r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Fi,{className:"w-4 h-4"}),c.phone]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(Ri,{className:"w-4 h-4"}),new Date(c.createdAt).toLocaleString()]})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:()=>v(c.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",title:"Delete Complaint",children:r.jsx(Sr,{className:"w-5 h-5"})})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[r.jsxs("section",{children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Cn,{className:"w-4 h-4"}),"Message Content"]}),r.jsx("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-4 text-white whitespace-pre-wrap leading-relaxed",children:c.message})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Update Status"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["OPEN","IN_PROGRESS","WAITING_CUSTOMER","RESOLVED","CLOSED"].map(k=>r.jsx("button",{onClick:()=>y(c.id,k),disabled:m,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${c.status===k?S(k)+" border border-current":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:k},k))})]}),r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Set Priority"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["LOW","MEDIUM","HIGH","URGENT"].map(k=>r.jsx("button",{onClick:()=>b(c.id,k),disabled:m,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${c.priority===k?"bg-slate-800 text-white border border-slate-600":"bg-slate-800 text-slate-400 hover:bg-slate-700"} ${j(k)}`,children:k},k))})]})]}),r.jsxs("section",{children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[r.jsx(Vd,{className:"w-4 h-4 text-purple-400"}),"AI Response / Internal Notes"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("textarea",{value:u,onChange:k=>h(k.target.value),placeholder:"Type AI response or internal notes here...",className:"w-full h-32 px-4 py-3 bg-slate-950 border border-slate-800 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 resize-none"}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:w,disabled:m||u===c.aiResponse,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":"Save Response"})})]})]})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 space-y-4",children:[r.jsx("div",{className:"p-4 bg-slate-800/50 rounded-full",children:r.jsx(Cn,{className:"w-12 h-12 text-slate-700"})}),r.jsx("p",{children:"Select a complaint to view details"})]})})]})}function qgt(){const[e,t]=f.useState(!0),[s,a]=f.useState(!1),{toast:n}=Lt(),[i,o]=f.useState({name:"SAEA",nameAr:"",email:"",phone:"",whatsapp:"",address:"",addressAr:"",logoUrl:"",socialLinks:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""},settings:{maintenanceMode:!1,allowNewTenants:!0,supportEmail:"",defaultCurrency:"USD"}}),[l,c]=f.useState(!1);f.useEffect(()=>{(async()=>{try{t(!0);const h=await fe.get("/admin/master/platform-config",{requireAuth:!0,adminApiKey:Ir()});h&&o(m=>({...m,...h,socialLinks:{...m.socialLinks,...h.socialLinks||{}},settings:{...m.settings,...h.settings||{}}}))}catch(h){console.error("Failed to load platform config:",h),n({variant:"destructive",title:"Error",description:"Failed to load platform settings"})}finally{t(!1)}})()},[n]);const d=async u=>{u.preventDefault();try{a(!0),await fe.post("/admin/master/platform-config",i,{requireAuth:!0,adminApiKey:Ir()}),n({title:"Success",description:"Platform settings updated successfully"})}catch{n({variant:"destructive",title:"Error",description:"Failed to update platform settings"})}finally{a(!1)}};return e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"w-8 h-8 animate-spin text-purple-500"})}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-12",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Platform Settings"}),r.jsx("p",{className:"text-gray-400",children:"Configure global platform details and preferences"})]}),r.jsxs("button",{onClick:d,disabled:s,className:"flex items-center gap-2 px-6 py-2.5 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-all disabled:opacity-50 shadow-lg shadow-purple-500/20",children:[s?r.jsx(Je,{className:"w-4 h-4 animate-spin"}):r.jsx(nn,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})]}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[r.jsx(Mi,{className:"w-5 h-5 text-purple-500"}),"Website Logo"]}),r.jsxs("div",{className:"flex items-center gap-6",children:[i.logoUrl&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:i.logoUrl,alt:"Platform Logo",className:"w-32 h-32 object-contain bg-slate-950 rounded-xl border border-slate-800 p-2"})}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Upload Logo"}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/svg+xml",className:"hidden",onChange:async u=>{var m;const h=(m=u.target.files)==null?void 0:m[0];if(h){c(!0);try{const p=new FormData;p.append("logo",h);const g=await fe.post("/admin/master/platform-logo",p,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0,adminApiKey:Ir()});o(x=>({...x,logoUrl:g.logoUrl})),n({title:"Success",description:"Logo uploaded successfully"})}catch(p){console.error("Failed to upload logo:",p);const g=p instanceof Error?p.message:"Failed to upload logo. Please try again.";n({variant:"destructive",title:"Error",description:g})}finally{c(!1)}}},disabled:l}),r.jsx("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-all disabled:opacity-50 cursor-pointer",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):r.jsxs(r.Fragment,{children:[r.jsx(An,{className:"w-4 h-4"}),i.logoUrl?"Change Logo":"Upload Logo"]})})]})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: Square image, 500x500px or larger. Supported formats: JPEG, PNG, WebP, SVG"})]})]})]}),r.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[r.jsx(Ya,{className:"w-5 h-5 text-purple-500"}),"General Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Platform Name (English)"}),r.jsx("input",{type:"text",value:i.name,onChange:u=>o({...i,name:u.target.value}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Platform Name (Arabic)"}),r.jsx("input",{type:"text",value:i.nameAr,onChange:u=>o({...i,nameAr:u.target.value}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white text-right focus:outline-none focus:border-purple-500 transition-colors",dir:"rtl"})]})]})]}),r.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[r.jsx(ba,{className:"w-5 h-5 text-blue-500"}),"Contact Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Public Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"email",value:i.email,onChange:u=>o({...i,email:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",value:i.phone,onChange:u=>o({...i,phone:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"WhatsApp Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",value:i.whatsapp,onChange:u=>o({...i,whatsapp:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Address (English)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hu,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"}),r.jsx("textarea",{value:i.address,onChange:u=>o({...i,address:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors h-24 resize-none"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Address (Arabic)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hu,{className:"absolute right-3 top-3 w-4 h-4 text-gray-500"}),r.jsx("textarea",{value:i.addressAr,onChange:u=>o({...i,addressAr:u.target.value}),className:"w-full pr-10 pl-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white text-right focus:outline-none focus:border-purple-500 transition-colors h-24 resize-none",dir:"rtl"})]})]})]})]}),r.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[r.jsx(gI,{className:"w-5 h-5 text-orange-500"}),"Social Media Links"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[r.jsx(dI,{className:"w-4 h-4 text-blue-600"})," Facebook"]}),r.jsx("input",{type:"url",value:i.socialLinks.facebook,onChange:u=>o({...i,socialLinks:{...i.socialLinks,facebook:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://facebook.com/..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[r.jsx(vI,{className:"w-4 h-4 text-sky-400"})," Twitter"]}),r.jsx("input",{type:"url",value:i.socialLinks.twitter,onChange:u=>o({...i,socialLinks:{...i.socialLinks,twitter:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://twitter.com/..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[r.jsx(hI,{className:"w-4 h-4 text-pink-500"})," Instagram"]}),r.jsx("input",{type:"url",value:i.socialLinks.instagram,onChange:u=>o({...i,socialLinks:{...i.socialLinks,instagram:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://instagram.com/..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[r.jsx(iK,{className:"w-4 h-4 text-blue-700"})," LinkedIn"]}),r.jsx("input",{type:"url",value:i.socialLinks.linkedin,onChange:u=>o({...i,socialLinks:{...i.socialLinks,linkedin:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://linkedin.com/in/..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[r.jsx(uK,{className:"w-4 h-4 text-red-600"})," YouTube"]}),r.jsx("input",{type:"url",value:i.socialLinks.youtube,onChange:u=>o({...i,socialLinks:{...i.socialLinks,youtube:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://youtube.com/c/..."})]})]})]}),r.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[r.jsx(Es,{className:"w-5 h-5 text-gray-400"}),"System Preferences"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border border-slate-800 rounded-xl",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Maintenance Mode"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Disable platform access for all users"})]}),r.jsx("button",{type:"button",onClick:()=>o({...i,settings:{...i.settings,maintenanceMode:!i.settings.maintenanceMode}}),className:`w-12 h-6 rounded-full transition-colors relative ${i.settings.maintenanceMode?"bg-red-600":"bg-slate-800"}`,children:r.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${i.settings.maintenanceMode?"left-7":"left-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border border-slate-800 rounded-xl",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Allow New Tenants"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Enable or disable new store registrations"})]}),r.jsx("button",{type:"button",onClick:()=>o({...i,settings:{...i.settings,allowNewTenants:!i.settings.allowNewTenants}}),className:`w-12 h-6 rounded-full transition-colors relative ${i.settings.allowNewTenants?"bg-green-600":"bg-slate-800"}`,children:r.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${i.settings.allowNewTenants?"left-7":"left-1"}`})})]})]})]})]})]})}function Ggt(){const{toast:e}=Lt(),[t,s]=f.useState(!0),[a,n]=f.useState([]),[i,o]=f.useState(0),[l,c]=f.useState(""),[d,u]=f.useState("ALL"),[h,m]=f.useState(null),[p,g]=f.useState(1),x=20;f.useEffect(()=>{y()},[p,d]);const y=async()=>{try{s(!0);const v={limit:x,offset:(p-1)*x};d!=="ALL"&&(v.status=d);const S=await fe.get("/admin/master/transactions",{requireAuth:!0,adminApiKey:Ir(),params:v});n(S.transactions),o(S.total)}catch(v){console.error("Failed to load transactions:",v),e({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{s(!1)}},b=async v=>{var S,j;if(confirm("Are you sure you want to refund this transaction? This will reverse the payment and cannot be undone."))try{m(v.id),await fe.post(`/admin/master/transactions/${v.id}/refund`,{},{requireAuth:!0,adminApiKey:Ir()}),n(k=>k.map(N=>N.id===v.id?{...N,status:"REFUNDED"}:N)),e({title:"Success",description:`Transaction ${v.orderNumber||v.id} has been refunded`})}catch(k){e({title:"Refund Failed",description:((j=(S=k.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to refund transaction",variant:"destructive"})}finally{m(null)}},w=v=>{switch(v){case"COMPLETED":return r.jsx(et,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Completed"});case"PENDING":return r.jsx(et,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:"Pending"});case"REFUNDED":return r.jsx(et,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:"Refunded"});case"FAILED":return r.jsx(et,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:"Failed"});default:return r.jsx(et,{variant:"outline",children:v})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Platform Transactions"}),r.jsx("p",{className:"text-gray-400",children:"Monitor and manage all transactions across the platform"})]}),r.jsxs(V,{variant:"outline",className:"gap-2 border-slate-700 text-white hover:bg-slate-800",children:[r.jsx(xn,{className:"h-4 w-4"}),"Export CSV"]})]}),r.jsxs(we,{className:"bg-slate-900/50 border-slate-800",children:[r.jsx(st,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),r.jsx("input",{type:"text",placeholder:"Search by order number or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",value:l,onChange:v=>c(v.target.value)})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Kgt,{value:d,onValueChange:u,children:[r.jsx(Ygt,{className:"w-[180px] bg-slate-950 border-slate-800 text-white",children:r.jsx(Xgt,{placeholder:"Filter by status"})}),r.jsxs(Qgt,{className:"bg-slate-950 border-slate-800 text-white",children:[r.jsx(ly,{value:"ALL",children:"All Statuses"}),r.jsx(ly,{value:"COMPLETED",children:"Completed"}),r.jsx(ly,{value:"PENDING",children:"Pending"}),r.jsx(ly,{value:"REFUNDED",children:"Refunded"}),r.jsx(ly,{value:"FAILED",children:"Failed"})]})]})})]})}),r.jsxs(Se,{children:[r.jsx("div",{className:"rounded-md border border-slate-800 overflow-hidden",children:r.jsxs(cs,{children:[r.jsx(ds,{className:"bg-slate-950",children:r.jsxs(kt,{className:"border-slate-800 hover:bg-transparent",children:[r.jsx(Ae,{className:"text-slate-400",children:"Order #"}),r.jsx(Ae,{className:"text-slate-400",children:"Tenant"}),r.jsx(Ae,{className:"text-slate-400",children:"Date"}),r.jsx(Ae,{className:"text-slate-400",children:"Amount"}),r.jsx(Ae,{className:"text-slate-400",children:"Method"}),r.jsx(Ae,{className:"text-slate-400",children:"Status"}),r.jsx(Ae,{className:"text-slate-400 text-right",children:"Actions"})]})}),r.jsx(us,{children:t?r.jsx(kt,{children:r.jsx(Ne,{colSpan:7,className:"h-32 text-center",children:r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto text-purple-500"})})}):a.length===0?r.jsx(kt,{children:r.jsx(Ne,{colSpan:7,className:"h-32 text-center text-slate-500",children:"No transactions found"})}):a.map(v=>r.jsxs(kt,{className:"border-slate-800 hover:bg-slate-800/30",children:[r.jsx(Ne,{className:"font-medium text-white",children:v.orderNumber||v.id.substring(0,8)}),r.jsx(Ne,{className:"text-slate-300",children:r.jsx("span",{className:"text-xs font-mono opacity-50",children:v.tenantId})}),r.jsx(Ne,{className:"text-slate-300",children:NE(new Date(v.createdAt),"MMM dd, yyyy HH:mm")}),r.jsx(Ne,{className:"text-white font-semibold",children:Jn(v.amount,v.currency||"SAR")}),r.jsx(Ne,{className:"text-slate-300",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"h-3 w-3 opacity-50"}),v.paymentMethodType||v.paymentProvider]})}),r.jsx(Ne,{children:w(v.status)}),r.jsx(Ne,{className:"text-right",children:r.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>b(v),disabled:h===v.id||v.status==="REFUNDED"||v.status!=="COMPLETED",className:`gap-1 ${v.status==="REFUNDED"?"text-slate-500":"text-red-400 hover:text-red-300 hover:bg-red-500/10"}`,children:[r.jsx(rK,{className:`h-4 w-4 ${h===v.id?"animate-pulse":""}`}),v.status==="REFUNDED"?"Refunded":h===v.id?"Refunding...":"Refund"]})})]},v.id))})]})}),i>x&&r.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[r.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(v=>Math.max(1,v-1)),disabled:p===1,className:"border-slate-800 text-white",children:"Previous"}),r.jsxs("div",{className:"text-slate-400 text-sm",children:["Page ",p," of ",Math.ceil(i/x)]}),r.jsx(V,{variant:"outline",size:"sm",onClick:()=>g(v=>v+1),disabled:p>=Math.ceil(i/x),className:"border-slate-800 text-white",children:"Next"})]})]})]})]})}function Kgt({children:e,value:t,onValueChange:s}){return r.jsx("div",{className:"relative inline-block w-full",children:e})}function Ygt({children:e,className:t}){return r.jsx("button",{className:`flex items-center justify-between px-3 py-2 rounded-md border text-sm ${t}`,children:e})}function Xgt({placeholder:e}){return r.jsx("span",{children:e})}function Qgt({children:e,className:t}){return r.jsx("div",{className:`absolute z-50 mt-1 w-full rounded-md shadow-lg border ${t}`,children:e})}function ly({children:e,value:t}){return r.jsx("div",{className:"px-3 py-2 hover:bg-slate-800 cursor-pointer text-sm",children:e})}const Jgt={en:{systemAdmin:"System Admin",online:"Online",dashboard:"Dashboard",overview:"Overview",tenants:"Tenants",users:"Users",plans:"Plans",features:"Features",gifts:"Gifts",gateways:"Gateways",partners:"Partners",securityLogs:"Security Logs",customers:"Customers",permissions:"Permissions",complaints:"Complaints",platformSettings:"Platform Settings",transactions:"Transactions",logout:"Logout",systemStatus:"System Status",cpuUsage:"CPU Usage",memory:"Memory",uptime:"Uptime",cores:"Cores",ram:"RAM",search:"Search...",searchLogs:"Search logs...",totalTenants:"Total Tenants",activeTenants:"Active Tenants",totalUsers:"Total Users",paymentGateways:"Payment Gateways",totalRevenue:"Total Revenue",platformFees:"Platform Fees",totalTransactions:"Total Transactions",quickActions:"Quick Actions",manageTenants:"Manage Tenants",addEditTenants:"Add or edit tenants",updatePlans:"Update Plans",modifyPlans:"Modify subscription plans",featureControl:"Feature Control",toggleFeatures:"Toggle global features",recentActivity:"Recent Activity",viewAll:"View All",noRecentActivity:"No recent activity",accessGranted:"Access Granted",welcomeAdmin:"Welcome to System Admin Panel",accessDenied:"Access Denied",invalidPassword:"Invalid password",systemAdminAccess:"System Admin Access",restrictedArea:"Restricted area. Authorized personnel only.",enterPassword:"Enter admin password",accessPanel:"Access Panel",severity:"Severity",action:"Action",details:"Details",userIp:"User/IP",time:"Time",system:"System",errorFetchingLogs:"Error fetching logs",couldNotLoadLogs:"Could not load security logs",refresh:"Refresh",database:"Database",testConnection:"Test Connection",dbConnectionSuccess:"Database connection successful",dbConnectionFailed:"Database connection failed",dbStats:"Database Statistics",aiAssistant:"AI Assistant",dangerZone:"Danger Zone",resetWarning:"Resetting the database will permanently delete all data including users, tenants, orders, and products. This action cannot be undone.",resetDatabaseAction:"Reset Database"},ar:{systemAdmin:" ",online:"",dashboard:" ",overview:" ",tenants:"",users:"",plans:"",features:"",gifts:"",gateways:" ",partners:"",securityLogs:" ",customers:"",permissions:"",complaints:"",platformSettings:" ",transactions:"",logout:" ",systemStatus:" ",cpuUsage:" ",memory:"",uptime:" ",cores:"",ram:"",search:"...",searchLogs:"  ...",totalTenants:" ",activeTenants:" ",totalUsers:" ",paymentGateways:" ",totalRevenue:" ",platformFees:" ",totalTransactions:" ",quickActions:" ",manageTenants:" ",addEditTenants:"   ",updatePlans:" ",modifyPlans:"  ",featureControl:" ",toggleFeatures:"  ",recentActivity:" ",viewAll:" ",noRecentActivity:"   ",accessGranted:"  ",welcomeAdmin:"     ",accessDenied:"  ",invalidPassword:"   ",systemAdminAccess:"  ",restrictedArea:" .  .",enterPassword:"   ",accessPanel:" ",severity:"",action:"",details:"",userIp:"/IP",time:"",system:"",errorFetchingLogs:"   ",couldNotLoadLogs:"   ",refresh:"",database:" ",testConnection:" ",dbConnectionSuccess:"    ",dbConnectionFailed:"   ",dbStats:"  ",aiAssistant:"  ",dangerZone:" ",resetWarning:"                 .      .",resetDatabaseAction:"   "}};function Zgt(){var hr,ks,Ar,Nr,ot,Er,ms,Hs,vs,ja,qr,bn,On,Nc,uu,hu,lo,il,Sc,Ol,Li,ji;const[e,t]=f.useState(""),[s,a]=f.useState(!1),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,b]=f.useState("security"),[w,v]=f.useState(""),[S,j]=f.useState(""),[k,N]=f.useState(""),[C,A]=f.useState(""),[E,D]=f.useState(""),[T,P]=f.useState(""),[_,O]=f.useState(1),[M,I]=f.useState(20),[R,L]=f.useState(null),[K,H]=f.useState([]),[F,G]=f.useState(!1),[U,W]=f.useState("dashboard"),[J,z]=f.useState(!0),[ie,re]=f.useState(null),[q,se]=f.useState(!1),[B,oe]=f.useState(null),[de,Te]=f.useState(null),[He,Oe]=f.useState(null);f.useState(null);const[me,Ue]=f.useState(!1),[ce,Ee]=f.useState(null),[Pe,$e]=f.useState(!1),[We,Xe]=f.useState({loginMaxAttempts:100,loginWindowMs:15*60*1e3,signupMaxAttempts:3,signupWindowMs:60*60*1e3,passwordResetMaxAttempts:5,passwordResetWindowMs:60*60*1e3}),[Ce,Ye]=f.useState({signupEnabled:!0,signinEnabled:!0,signupMaxAttempts:3,signupWindowMs:60*60*1e3,signinMaxAttempts:5,signinWindowMs:15*60*1e3,maxStoresPerUser:2}),[ft,Pt]=f.useState(!1),[vt,Qt]=f.useState(!1),{t:br,i18n:$t}=It(),[qt,Ts]=f.useState(!0),[Ie,rs]=f.useState($t.language||"ar");f.useEffect(()=>{const be=$t.language;(be==="en"||be==="ar")&&rs(be)},[$t.language]);const Zs=()=>{const be=Ie==="en"?"ar":"en";BI(be),rs(be)},[wa,Wa]=f.useState([]),[Ha,ss]=f.useState(!1);ts();const{toast:Rt}=Lt(),wt=Jgt[Ie],je=Ie==="ar",[ue,ne]=f.useState(ep());f.useEffect(()=>{const be="NQMZ@Z*r8RMQxaE3";ne(be),console.log("Admin API Key initialized from environment:",`${be.substring(0,10)}... (length: ${be.length})`)},[]);const ze=f.useCallback((be,pt)=>{var as;const Gt=(be==null?void 0:be.logs)||((as=be==null?void 0:be.data)==null?void 0:as.logs)||(be==null?void 0:be.data)||be||[];return Array.isArray(Gt)?Gt.map((Tt,Zt)=>{var ef,ol,ln,pd,ns,mh,kc;const Et=Tt.id||Tt._id||`${pt}-${Zt}-${Tt.createdAt||Date.now()}`,Xt=Tt.severity||Tt.level||(pt==="security"?"LOW":pt==="error"?"HIGH":void 0),Qr=Tt.action||Tt.event||Tt.type||(pt==="error"?"ERROR":"UNKNOWN");let Bs="";Tt.details&&(typeof Tt.details=="string"?Bs=Tt.details:typeof Tt.details=="object"&&Tt.details.message?Bs=Tt.details.message:typeof Tt.details=="object"&&(Bs=JSON.stringify(Tt.details))),Bs=Bs||Tt.message||Tt.description||((ef=Tt.metadata)==null?void 0:ef.message)||"";let pa="";if(Tt.details&&typeof Tt.details=="object"&&Tt.details.url)pa=Tt.details.url;else if(Tt.metadata){if(typeof Tt.metadata=="object"&&Tt.metadata.url)pa=Tt.metadata.url;else if(typeof Tt.metadata=="string")try{const Cc=JSON.parse(Tt.metadata);Cc.url&&(pa=Cc.url)}catch{}}if(!pa&&Tt.action&&Tt.action.includes(" ")){const Cc=Tt.action.split(" ");Cc.length>=2&&(pa=Cc.slice(1).join(" "))}const Cs=Tt.createdAt||Tt.timestamp||new Date().toISOString(),Ca=((ol=Tt.user)==null?void 0:ol.email)||Tt.userEmail||Tt.email||((ln=Tt.metadata)==null?void 0:ln.userEmail),$i=((pd=Tt.user)==null?void 0:pd.name)||Tt.userName||Tt.name||((ns=Tt.metadata)==null?void 0:ns.userName),In=((mh=Tt.tenant)==null?void 0:mh.name)||Tt.tenantName||Tt.storeName||Tt.shopName,fd=Tt.resourceType||Tt.entity||Tt.model||((kc=Tt.metadata)==null?void 0:kc.resourceType)||(pt==="error"?"SYSTEM":""),jv=Tt.resourceId||Tt.entityId||Tt.targetId||"";return{...Tt,id:Et,severity:Xt,action:Qr,details:Bs,url:pa,createdAt:Cs,resourceType:fd,resourceId:jv,user:Ca?{email:Ca,name:$i}:Tt.user||{email:"System"},tenant:In?{name:In}:Tt.tenant}}):[]},[]);f.useEffect(()=>{sessionStorage.getItem("systemAdminAuth")==="true"&&a(!0)},[]);const Ke=f.useCallback(async()=>{try{se(!0);const be=await fe.get("/admin/master/overview",{requireAuth:!0,adminApiKey:ue});re(be)}catch{}finally{se(!1)}},[ue]),Ge=f.useCallback(async()=>{try{const be=await fe.get("/admin/master/system-health",{requireAuth:!0,adminApiKey:ue});oe(be)}catch{}},[ue]),St=f.useCallback(async()=>{try{const be=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[pt,Gt]=await Promise.allSettled([Q.get(`${be}/security-events`,{requireAuth:!0,adminApiKey:ue,timeout:2e4}),fe.get("/admin/master/security-events",{requireAuth:!0,adminApiKey:ue,timeout:2e4}).catch(()=>({logs:[]}))]),as=pt.status==="fulfilled"?ze(pt.value,"security"):[],Tt=Gt.status==="fulfilled"?ze(Gt.value,"security"):[],Zt=[...as,...Tt].reduce((Et,Xt)=>(Et.find(Qr=>Qr.id===Xt.id)||Et.push(Xt),Et),[]).sort((Et,Xt)=>new Date(Xt.createdAt).getTime()-new Date(Et.createdAt).getTime());l(Zt),y==="security"&&p(Zt)}catch{l([])}},[y,ze,ue]),lt=f.useCallback(async()=>{try{const be=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[pt,Gt]=await Promise.allSettled([Q.get(`${be}/error-logs?limit=10000`,{requireAuth:!0,adminApiKey:ue,timeout:2e4}),fe.get("/admin/master/error-logs?limit=10000",{requireAuth:!0,adminApiKey:ue,timeout:2e4}).catch(()=>({logs:[]}))]),as=pt.status==="fulfilled"?ze(pt.value,"error"):[],Tt=Gt.status==="fulfilled"?ze(Gt.value,"error"):[],Zt=[...as,...Tt].reduce((Et,Xt)=>(Et.find(Qr=>Qr.id===Xt.id)||Et.push(Xt),Et),[]).sort((Et,Xt)=>new Date(Xt.createdAt).getTime()-new Date(Et.createdAt).getTime());h(Zt),y==="errors"&&p(Zt)}catch{h([])}},[y,ze,ue]),ct=f.useCallback(async()=>{try{const be=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[pt,Gt]=await Promise.allSettled([Q.get(`${be}/audit-logs`,{requireAuth:!0,adminApiKey:ue,timeout:2e4}),fe.get("/admin/master/audit-logs",{requireAuth:!0,adminApiKey:ue,timeout:2e4}).catch(()=>({logs:[]}))]),as=pt.status==="fulfilled"?ze(pt.value,"audit"):[],Tt=Gt.status==="fulfilled"?ze(Gt.value,"audit"):[],Zt=[...as,...Tt].reduce((Et,Xt)=>(Et.find(Qr=>Qr.id===Xt.id)||Et.push(Xt),Et),[]).sort((Et,Xt)=>new Date(Xt.createdAt).getTime()-new Date(Et.createdAt).getTime());d(Zt),y==="audit"&&p(Zt)}catch{d([])}},[y,ze,ue]),Yt=f.useCallback(async()=>{await Promise.all([St(),ct(),lt()])},[St,ct,lt]);f.useEffect(()=>{if(s){Yt(),Ke(),Ge();const be=setInterval(Ge,3e4);return()=>clearInterval(be)}},[s,Yt,Ke,Ge]),f.useEffect(()=>{s&&U==="database"&&(De(),ke())},[s,U]);const sr=f.useCallback(async()=>{try{const be=await fe.get("/admin/master/customers",{requireAuth:!0,adminApiKey:ue});Wa(be)}catch{Rt({variant:"destructive",title:"Error",description:"Could not load customer data"})}},[Rt]);f.useEffect(()=>{s&&U==="customers"&&sr()},[s,U,sr]),f.useEffect(()=>{s&&U==="limits"&&ee()},[s,U]);const ee=async()=>{Pt(!0);try{const be=await fe.get("/admin/master/limits-config",{requireAuth:!0,adminApiKey:ue});be&&Ye({signupEnabled:be.signupEnabled!==!1,signinEnabled:be.signinEnabled!==!1,signupMaxAttempts:be.signupMaxAttempts||3,signupWindowMs:be.signupWindowMs||60*60*1e3,signinMaxAttempts:be.signinMaxAttempts||5,signinWindowMs:be.signinWindowMs||15*60*1e3,maxStoresPerUser:be.maxStoresPerUser||2})}catch(be){console.error("Failed to fetch limits config:",be)}finally{Pt(!1)}},ye=async()=>{Qt(!0);try{await fe.post("/admin/master/limits-config",Ce,{requireAuth:!0,adminApiKey:ue}),Rt({title:Ie==="ar"?" ":"Saved",description:Ie==="ar"?"    ":"Limits configuration saved successfully"})}catch(be){console.error("Failed to save limits config:",be),Rt({title:Ie==="ar"?"":"Error",description:Ie==="ar"?"   ":"Failed to save limits configuration",variant:"destructive"})}finally{Qt(!1)}};f.useEffect(()=>{let be=[];y==="security"?be=o:y==="audit"?be=c:y==="errors"?be=u:y==="all"&&(be=[...o,...c,...u].sort((pt,Gt)=>new Date(Gt.createdAt).getTime()-new Date(pt.createdAt).getTime())),p(be),x(""),v(""),O(1)},[y,o,c,u]),f.useEffect(()=>{let be=[];if(y==="security"?be=o:y==="audit"?be=c:y==="errors"?be=u:y==="all"&&(be=[...o,...c,...u].sort((pt,Gt)=>new Date(Gt.createdAt).getTime()-new Date(pt.createdAt).getTime())),w){const pt=w.toLowerCase();be=be.filter(Gt=>{var as;return(((as=Gt.user)==null?void 0:as.email)||"").toLowerCase().includes(pt)})}if(S&&(be=be.filter(pt=>pt.severity===S)),k&&(be=be.filter(pt=>(pt.action||"").toLowerCase().includes(k.toLowerCase()))),C){const pt=new Date(C);be=be.filter(Gt=>new Date(Gt.createdAt)>=pt)}if(E){const pt=new Date(E);pt.setHours(23,59,59,999),be=be.filter(Gt=>new Date(Gt.createdAt)<=pt)}if(T){const pt=new Date;let Gt;switch(T){case"1h":Gt=new Date(pt.getTime()-60*60*1e3);break;case"24h":Gt=new Date(pt.getTime()-24*60*60*1e3);break;case"7d":Gt=new Date(pt.getTime()-7*24*60*60*1e3);break;case"30d":Gt=new Date(pt.getTime()-30*24*60*60*1e3);break;default:Gt=new Date(0)}T!=="all"&&(be=be.filter(as=>new Date(as.createdAt)>=Gt))}if(g){const pt=g.toLowerCase();p(be.filter(Gt=>{var as;return(Gt.action||"").toLowerCase().includes(pt)||(Gt.details||"").toLowerCase().includes(pt)||(Gt.url||"").toLowerCase().includes(pt)||(Gt.ipAddress||"").includes(pt)||(((as=Gt.user)==null?void 0:as.email)||"").toLowerCase().includes(pt)}))}else p(be);O(1)},[g,w,S,k,C,E,T,y,o,c,u]);const X=Math.ceil(m.length/M),le=(_-1)*M,he=le+M,ge=m.slice(le,he),Be=be=>{L(be);const pt=[...o,...c].filter(Gt=>{var as;return(((as=Gt.user)==null?void 0:as.email)||"").toLowerCase()===be.toLowerCase()}).sort((Gt,as)=>new Date(as.createdAt).getTime()-new Date(Gt.createdAt).getTime());H(pt),G(!0)},Fe=()=>{x(""),v(""),j(""),N(""),A(""),D(""),P("")},Re=()=>{const be=new Set;return[...o,...c].forEach(pt=>{pt.action&&be.add(pt.action)}),Array.from(be)},De=async()=>{Ue(!0);try{const be=Q.authUrl.replace(/\/auth$/,""),pt=await Q.fetch(`${be}/admin/stats`,{method:"GET",requireAuth:!0,adminApiKey:ue});Te(pt)}catch{Rt({variant:"destructive",title:Ie==="ar"?"":"Error",description:Ie==="ar"?"    ":"Failed to load database statistics"})}finally{Ue(!1)}},ke=async()=>{try{const be=Q.authUrl.replace(/\/auth$/,""),pt=await Q.fetch(`${be}/admin/rate-limit-config`,{method:"GET",requireAuth:!0,adminApiKey:ue});Oe(pt),pt.login&&Xe({loginMaxAttempts:pt.login.maxAttempts,loginWindowMs:pt.login.windowMs,signupMaxAttempts:pt.signup.maxAttempts,signupWindowMs:pt.signup.windowMs,passwordResetMaxAttempts:pt.passwordReset.maxAttempts,passwordResetWindowMs:pt.passwordReset.windowMs})}catch{Rt({variant:"destructive",title:Ie==="ar"?"":"Error",description:Ie==="ar"?"    ":"Failed to load rate limit configuration"})}},ve=async()=>{if(confirm(Ie==="ar"?"           .":"Are you sure you want to update rate limit configuration? Changes will be applied immediately.")){$e(!0);try{const be=await Q.fetch(`${Q.authUrl}/admin/rate-limit-config`,{method:"PUT",body:JSON.stringify({loginMaxAttempts:We.loginMaxAttempts,loginWindowMs:We.loginWindowMs,signupMaxAttempts:We.signupMaxAttempts,signupWindowMs:We.signupWindowMs}),requireAuth:!0,adminApiKey:ue});Rt({title:" Success",description:be.message||(Ie==="ar"?"   ":"Configuration updated successfully")}),ke()}catch(be){Rt({variant:"destructive",title:" Error",description:(be==null?void 0:be.message)||(Ie==="ar"?"  ":"Failed to update configuration")})}finally{$e(!1)}}},Le=async be=>{if(confirm(be?`Clear rate limits for ${be}?`:"Clear ALL rate limits? This will remove all rate limiting restrictions.")){Ee(be?`rateLimits-${be}`:"rateLimits");try{const pt=be?`${Q.authUrl}/admin/clear-rate-limits?type=${be}`:`${Q.authUrl}/admin/clear-rate-limits`,Gt=await Q.fetch(pt,{method:"DELETE",requireAuth:!0,adminApiKey:ue});Rt({title:" Success",description:Gt.message||"Rate limits cleared successfully"}),De()}catch(pt){Rt({variant:"destructive",title:" Error",description:(pt==null?void 0:pt.message)||"Failed to clear rate limits"})}finally{Ee(null)}}},rt=async be=>{if(confirm(`Clear all ${be}? This action cannot be undone.`)){Ee(be);try{let pt="",Gt="DELETE";switch(be){case"loginAttempts":{pt=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-login-attempts`;break}case"securityEvents":{pt=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-security-events`;break}case"passwordResets":{pt=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-password-resets`;break}case"refreshTokens":{pt=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-refresh-tokens`;break}case"users":{pt=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-users`;break}default:throw new Error("Unknown clear type")}const as=await Q.fetch(pt,{method:Gt,requireAuth:!0,adminApiKey:ue});Rt({title:" Success",description:as.message||`Cleared ${be} successfully`}),De(),be==="users"&&Ke()}catch(pt){Rt({variant:"destructive",title:" Error",description:(pt==null?void 0:pt.message)||`Failed to clear ${be}`})}finally{Ee(null)}}},ut=async()=>{if(confirm("ARE YOU SURE? This will delete ALL data. This action cannot be undone.")&&confirm("Really? Last warning!"))try{ss(!0),await fe.post("/admin/master/reset-database",{},{requireAuth:!0,adminApiKey:ue}),Rt({title:" Success",description:"Database has been reset successfully"}),Ke(),Ge(),De()}catch{Rt({variant:"destructive",title:" Error",description:"Failed to reset database"})}finally{ss(!1)}},gt=async be=>{be.preventDefault();const pt=e.trim();if(!pt){Rt({variant:"destructive",title:` ${wt.accessDenied}`,description:Ie==="ar"?"   ":"Please enter a password"});return}const Gt="NQMZ@Z*r8RMQxaE3",as=Gt;if(console.log("Login attempt:",{passwordLength:pt.length,expectedLength:(as==null?void 0:as.length)||0,hasEnvKey:!!Gt,hasCachedKey:!!ue}),pt===as)a(!0),sessionStorage.setItem("systemAdminAuth","true"),Gt!==ue&&ne(Gt),Cgt(),Rt({title:` ${wt.accessGranted}`,description:wt.welcomeAdmin});else{const Tt=Ie==="ar"?`   . : ${as.length} .    VITE_ADMIN_API_KEY   .env     .`:`Incorrect password. Required: ${as.length} characters. Make sure VITE_ADMIN_API_KEY in .env matches the key in the database.`;Rt({variant:"destructive",title:` ${wt.accessDenied}`,description:Tt}),t("")}},Ot=[{id:"dashboard",label:wt.dashboard,icon:op},{id:"overview",label:wt.overview,icon:Sd},{id:"tenants",label:wt.tenants,icon:wr},{id:"users",label:wt.users,icon:wr},{id:"plans",label:wt.plans,icon:m6},{id:"features",label:wt.features,icon:zn},{id:"ai",label:wt.aiAssistant,icon:Vd},{id:"gifts",label:wt.gifts,icon:Wh},{id:"gateways",label:wt.gateways,icon:Xr},{id:"partners",label:wt.partners,icon:uI},{id:"api-keys",label:Ie==="ar"?" API":"API Keys",icon:Du},{id:"pages",label:Ie==="ar"?"":"Pages",icon:ka},{id:"database",label:wt.database,icon:Ife},{id:"customers",label:wt.customers,icon:u6},{id:"permissions",label:wt.permissions,icon:sa},{id:"complaints",label:wt.complaints,icon:Cn},{id:"platform-settings",label:wt.platformSettings,icon:Es},{id:"transactions",label:wt.transactions,icon:Xr},{id:"cloudinary",label:Ie==="ar"?" Cloudinary":"Cloudinary Access",icon:ij},{id:"analytics",label:Ie==="ar"?"":"Analytics",icon:Sd},{id:"limits",label:Ie==="ar"?"":"Limits",icon:Es},{id:"logs",label:wt.securityLogs,icon:sa}],te=qt?{bg:"bg-gray-950",bgSecondary:"bg-gray-900",card:"bg-gray-900",cardHover:"hover:bg-gray-800",border:"border-gray-800",text:"text-white",textMuted:"text-gray-400",textDim:"text-gray-500",accent:"bg-violet-600",accentHover:"hover:bg-violet-700",accentText:"text-violet-400",accentBg:"bg-violet-500/10",input:"bg-gray-950 border-gray-700 text-white placeholder-gray-500",focus:"focus:border-violet-500 focus:ring-1 focus:ring-violet-500",sidebar:"bg-gray-900",header:"bg-gray-900/80",divider:"divide-gray-800",scrollbar:"scrollbar-thumb-gray-700"}:{bg:"bg-slate-100",bgSecondary:"bg-white",card:"bg-white",cardHover:"hover:bg-slate-50",border:"border-slate-300",text:"text-slate-900",textMuted:"text-slate-600",textDim:"text-slate-500",accent:"bg-violet-600",accentHover:"hover:bg-violet-700",accentText:"text-violet-600",accentBg:"bg-violet-100",input:"bg-white border-slate-300 text-slate-900 placeholder-slate-400",focus:"focus:border-violet-500 focus:ring-1 focus:ring-violet-500",sidebar:"bg-white",header:"bg-white/90",divider:"divide-slate-200",scrollbar:"scrollbar-thumb-slate-300",cardClass:"bg-white border border-slate-200 shadow-sm"},zt=qt?"bg-gray-900 border border-gray-800 shadow-sm":te.cardClass;return s?r.jsxs("div",{className:`min-h-screen ${te.bg} ${te.text} flex overflow-hidden`,dir:je?"rtl":"ltr",children:[r.jsx(Wn,{mode:"wait",children:J&&r.jsxs(Me.aside,{initial:{width:0,opacity:0},animate:{width:280,opacity:1},exit:{width:0,opacity:0},className:`${te.sidebar} border-${je?"l":"r"} ${te.border} flex-shrink-0 flex flex-col h-screen sticky top-0 ${qt?"":"shadow-lg"}`,children:[r.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 ${te.accent} rounded-lg`,children:r.jsx(sa,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-lg",children:wt.systemAdmin}),r.jsxs("div",{className:`text-xs ${te.textMuted} flex items-center gap-1`,children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),wt.online]})]})]}),r.jsx("button",{onClick:()=>z(!1),className:`lg:hidden p-2 ${te.cardHover} rounded-lg ${te.textMuted}`,children:r.jsx(jr,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:Ot.map(be=>{const pt=be.icon,Gt=U===be.id;return r.jsxs("button",{onClick:()=>W(be.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${Gt?`${te.accent} text-white shadow-lg shadow-violet-600/20`:`${te.textMuted} ${te.cardHover} hover:text-white`}`,children:[r.jsx(pt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:be.label}),Gt&&r.jsx(Me.div,{layoutId:"activeTab",className:`${je?"mr-auto":"ml-auto"} w-1.5 h-1.5 bg-white rounded-full`})]},be.id)})}),r.jsxs("div",{className:`p-4 border-t ${te.border}`,children:[r.jsxs("div",{className:`${qt?"bg-gray-950":"bg-slate-100"} rounded-xl p-4 mb-4 ${qt?"":"border border-slate-200"}`,children:[r.jsx("div",{className:`text-xs ${te.textDim} mb-2`,children:wt.systemStatus}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:wt.cpuUsage}),r.jsxs("span",{className:`text-xs ${(((hr=B==null?void 0:B.cpu)==null?void 0:hr.usage)??0)>80?"text-red-500":(((ks=B==null?void 0:B.cpu)==null?void 0:ks.usage)??0)>50?"text-yellow-500":"text-green-500"}`,children:[((Ar=B==null?void 0:B.cpu)==null?void 0:Ar.usage)??0,"%"]})]}),r.jsx("div",{className:`w-full ${qt?"bg-gray-800":"bg-gray-200"} rounded-full h-1.5 mb-3`,children:r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${(((Nr=B==null?void 0:B.cpu)==null?void 0:Nr.usage)??0)>80?"bg-red-500":(((ot=B==null?void 0:B.cpu)==null?void 0:ot.usage)??0)>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${((Er=B==null?void 0:B.cpu)==null?void 0:Er.usage)??0}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:wt.memory}),r.jsxs("span",{className:`text-xs ${(((ms=B==null?void 0:B.memory)==null?void 0:ms.usage)??0)>80?"text-red-500":(((Hs=B==null?void 0:B.memory)==null?void 0:Hs.usage)??0)>50?"text-yellow-500":"text-green-500"}`,children:[((vs=B==null?void 0:B.memory)==null?void 0:vs.usage)??0,"%"]})]}),r.jsx("div",{className:`w-full ${qt?"bg-gray-800":"bg-gray-200"} rounded-full h-1.5 mb-3`,children:r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${(((ja=B==null?void 0:B.memory)==null?void 0:ja.usage)??0)>80?"bg-red-500":(((qr=B==null?void 0:B.memory)==null?void 0:qr.usage)??0)>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${((bn=B==null?void 0:B.memory)==null?void 0:bn.usage)??0}%`}})}),r.jsxs("div",{className:`text-xs ${te.textDim} mt-3 pt-3 border-t ${te.border}`,children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:wt.uptime}),r.jsx("span",{className:te.textMuted,children:((On=B==null?void 0:B.uptime)==null?void 0:On.formatted)??"..."})]}),r.jsxs("div",{className:"flex justify-between mt-1",children:[r.jsx("span",{children:wt.cores}),r.jsx("span",{className:te.textMuted,children:((Nc=B==null?void 0:B.cpu)==null?void 0:Nc.cores)??0})]}),r.jsxs("div",{className:"flex justify-between mt-1",children:[r.jsx("span",{children:wt.ram}),r.jsxs("span",{className:te.textMuted,children:[((uu=B==null?void 0:B.memory)==null?void 0:uu.used)??0,"GB / ",((hu=B==null?void 0:B.memory)==null?void 0:hu.total)??0,"GB"]})]})]})]}),r.jsxs("button",{onClick:()=>{a(!1),t("")},className:`w-full flex items-center gap-3 px-4 py-3 ${te.textMuted} ${te.cardHover} hover:text-white rounded-xl transition-colors`,children:[r.jsx(bm,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:wt.logout})]}),r.jsxs("div",{className:`mt-4 text-center text-xs ${te.textDim}`,children:["v",P3]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[r.jsxs("header",{className:`h-16 ${te.header} backdrop-blur-md border-b ${te.border} flex items-center justify-between px-6 sticky top-0 z-10 ${qt?"":"shadow-sm"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[!J&&r.jsx("button",{onClick:()=>z(!0),className:`p-2 ${te.cardHover} rounded-lg ${te.textMuted}`,children:r.jsx(sh,{className:"w-5 h-5"})}),r.jsx("h2",{className:`text-xl font-bold ${te.text}`,children:(lo=Ot.find(be=>be.id===U))==null?void 0:lo.label})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx(Mr,{className:`absolute ${je?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),r.jsx("input",{type:"text",placeholder:wt.search,className:`${te.input} border rounded-full py-2 ${je?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus} w-64`})]}),r.jsxs("button",{onClick:Zs,className:`p-2 ${te.cardHover} rounded-full ${te.textMuted} flex items-center gap-1`,children:[r.jsx(Ya,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-medium",children:Ie.toUpperCase()})]}),r.jsx("button",{onClick:()=>Ts(!qt),className:`p-2 ${te.cardHover} rounded-full ${te.textMuted}`,children:qt?r.jsx(Jd,{className:"w-5 h-5"}):r.jsx(ad,{className:"w-5 h-5"})}),r.jsxs("button",{className:`p-2 ${te.cardHover} rounded-full ${te.textMuted} relative`,children:[r.jsx(Xo,{className:"w-5 h-5"}),r.jsx("span",{className:`absolute top-1.5 ${je?"left-1.5":"right-1.5"} w-2 h-2 bg-violet-500 rounded-full border-2 ${qt?"border-gray-900":"border-white"}`})]}),r.jsx("div",{className:`w-8 h-8 ${te.accent} rounded-full flex items-center justify-center text-white font-bold`,children:"A"})]})]}),r.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto",children:[U==="dashboard"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:wt.totalTenants,value:((il=ie==null?void 0:ie.tenants)==null?void 0:il.total)??0,icon:wr,bgColor:"bg-blue-500/10",textColor:"text-blue-500"},{label:wt.activeTenants,value:((Sc=ie==null?void 0:ie.tenants)==null?void 0:Sc.active)??0,icon:Fs,bgColor:"bg-green-500/10",textColor:"text-green-500"},{label:wt.totalUsers,value:(ie==null?void 0:ie.totalUsers)??0,icon:wr,bgColor:"bg-purple-500/10",textColor:"text-purple-500"},{label:wt.paymentGateways,value:(ie==null?void 0:ie.activePaymentGateways)??0,icon:Xr,bgColor:"bg-amber-500/10",textColor:"text-amber-500"}].map((be,pt)=>r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:`p-3 rounded-xl ${be.bgColor}`,children:r.jsx(be.icon,{className:`w-6 h-6 ${be.textColor}`})})}),r.jsx("h3",{className:`text-2xl font-bold ${te.text} mb-1`,children:q?"...":be.value.toLocaleString()}),r.jsx("p",{className:`text-sm ${te.textMuted}`,children:be.label})]},pt))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:wt.totalRevenue}),r.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",q?"...":(((Ol=ie==null?void 0:ie.transactions)==null?void 0:Ol.totalRevenue)??0).toLocaleString()]})]}),r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:wt.platformFees}),r.jsxs("p",{className:"text-3xl font-bold text-purple-500",children:["$",q?"...":(((Li=ie==null?void 0:ie.transactions)==null?void 0:Li.platformFees)??0).toLocaleString()]})]}),r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:wt.totalTransactions}),r.jsx("p",{className:"text-3xl font-bold text-blue-500",children:q?"...":(((ji=ie==null?void 0:ie.transactions)==null?void 0:ji.total)??0).toLocaleString()})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:`${zt} rounded-2xl p-6`,children:[r.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:wt.quickActions}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>W("tenants"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${je?"right":"left"}`,children:[r.jsx(wr,{className:"w-6 h-6 text-purple-500 mb-2"}),r.jsx("div",{className:`font-medium ${te.text}`,children:wt.manageTenants}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:wt.addEditTenants})]}),r.jsxs("button",{onClick:()=>W("plans"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${je?"right":"left"}`,children:[r.jsx(m6,{className:"w-6 h-6 text-blue-500 mb-2"}),r.jsx("div",{className:`font-medium ${te.text}`,children:wt.updatePlans}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:wt.modifyPlans})]}),r.jsxs("button",{onClick:()=>W("features"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${je?"right":"left"}`,children:[r.jsx(zn,{className:"w-6 h-6 text-yellow-500 mb-2"}),r.jsx("div",{className:`font-medium ${te.text}`,children:wt.featureControl}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:wt.toggleFeatures})]})]})]}),r.jsxs("div",{className:`${zt} rounded-2xl overflow-hidden`,children:[r.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[r.jsx("h3",{className:`text-lg font-bold ${te.text}`,children:wt.recentActivity}),r.jsx("button",{onClick:()=>W("logs"),className:"text-sm text-violet-400 hover:text-violet-300",children:wt.viewAll})]}),r.jsxs("div",{className:`divide-y ${qt?"divide-gray-800":"divide-gray-200"}`,children:[n.slice(0,20).map(be=>r.jsxs("div",{className:`p-4 flex items-center justify-between ${te.cardHover} transition-colors`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${be.severity==="CRITICAL"?"bg-red-500":be.severity==="HIGH"?"bg-orange-500":be.severity==="MEDIUM"?"bg-yellow-500":"bg-blue-500"}`}),r.jsxs("div",{children:[r.jsx("div",{className:`text-sm font-medium ${te.text}`,children:be.action}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:be.details})]})]}),r.jsx("div",{className:`text-xs ${te.textDim}`,children:new Date(be.createdAt).toLocaleTimeString()})]},be.id)),n.length===0&&r.jsx("div",{className:`p-8 text-center ${te.textDim}`,children:wt.noRecentActivity})]})]})]})]}),U==="database"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:`text-3xl font-bold ${te.text} mb-2`,children:wt.database}),r.jsx("p",{className:te.textMuted,children:Ie==="ar"?"    ":"Manage system database and perform maintenance"})]}),r.jsx("button",{onClick:()=>{De(),ke()},disabled:me,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:me?r.jsx(Wi,{className:"w-5 h-5 animate-spin"}):r.jsx(Wi,{className:"w-5 h-5"})})]}),de&&r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:wt.dbStats}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"":"Users"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.users||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"":"Tenants"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.tenants||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?" ":"Rate Limits"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.rateLimits||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"  ":"Login Attempts"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.loginAttempts||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?" ":"Security Events"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.securityEvents||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"   ":"Password Resets"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.passwordResets||0})]}),r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?" ":"Refresh Tokens"}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:de.refreshTokens||0})]})]})]}),r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:`text-lg font-bold ${te.text}`,children:Ie==="ar"?"  ":"Rate Limiting Management"}),r.jsx("button",{onClick:ke,className:`px-3 py-1.5 text-sm ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:Ie==="ar"?"":"Refresh"})]}),He&&r.jsx("div",{className:"mb-6 space-y-4",children:r.jsxs("div",{className:`p-4 ${qt?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[r.jsx("h4",{className:`font-semibold ${te.text} mb-4`,children:Ie==="ar"?" ":"Current Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?" ":"Login"}),r.jsxs("div",{className:`mt-1 ${te.text}`,children:[He.login.maxAttempts," ",Ie==="ar"?"":"attempts"," / ",Math.floor(He.login.windowMs/6e4)," ",Ie==="ar"?"":"min"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"":"Signup"}),r.jsxs("div",{className:`mt-1 ${te.text}`,children:[He.signup.maxAttempts," ",Ie==="ar"?"":"attempts"," / ",Math.floor(He.signup.windowMs/36e5)," ",Ie==="ar"?"":"hour"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"   ":"Password Reset"}),r.jsxs("div",{className:`mt-1 ${te.text}`,children:[He.passwordReset.maxAttempts," ",Ie==="ar"?"":"attempts"," / ",Math.floor(He.passwordReset.windowMs/36e5)," ",Ie==="ar"?"":"hour"]})]})]}),r.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[r.jsx("h5",{className:`font-semibold ${te.text} mb-3`,children:Ie==="ar"?" ":"Update Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Ie==="ar"?"  -  ":"Login - Max Attempts"}),r.jsx("input",{type:"number",min:"1",value:We.loginMaxAttempts,onChange:be=>Xe({...We,loginMaxAttempts:parseInt(be.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),r.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(We.loginWindowMs/6e4)," ",Ie==="ar"?"":"min"," window"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Ie==="ar"?" -  ":"Signup - Max Attempts"}),r.jsx("input",{type:"number",min:"1",value:We.signupMaxAttempts,onChange:be=>Xe({...We,signupMaxAttempts:parseInt(be.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),r.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(We.signupWindowMs/36e5)," ",Ie==="ar"?"":"hour"," window"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Ie==="ar"?"  -  ":"Password Reset - Max Attempts"}),r.jsx("input",{type:"number",min:"1",value:We.passwordResetMaxAttempts,onChange:be=>Xe({...We,passwordResetMaxAttempts:parseInt(be.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),r.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(We.passwordResetWindowMs/36e5)," ",Ie==="ar"?"":"hour"," window"]})]})]}),r.jsxs("button",{onClick:ve,disabled:Pe,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[Pe?r.jsx(Wi,{className:"w-4 h-4 animate-spin"}):r.jsx(Fs,{className:"w-4 h-4"}),Ie==="ar"?" ":"Save Configuration"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx("button",{onClick:()=>Le(),disabled:ce==="rateLimits",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="rateLimits"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-blue-500"}):r.jsx(Wi,{className:"w-5 h-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"   ":"Clear All Rate Limits"}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"   ":"Remove all rate limiting restrictions"})]})]})}),r.jsx("button",{onClick:()=>Le("LOGIN"),disabled:ce==="rateLimits-LOGIN",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="rateLimits-LOGIN"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-green-500"}):r.jsx(bi,{className:"w-5 h-5 text-green-500"}),r.jsxs("div",{children:[r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"   ":"Clear Login Rate Limits"}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"    ":"Remove login rate limits only"})]})]})}),r.jsx("button",{onClick:()=>Le("REGISTRATION"),disabled:ce==="rateLimits-REGISTRATION",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="rateLimits-REGISTRATION"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-purple-500"}):r.jsx(zd,{className:"w-5 h-5 text-purple-500"}),r.jsxs("div",{children:[r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"  ":"Clear Signup Rate Limits"}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"   ":"Remove signup rate limits only"})]})]})}),r.jsx("button",{onClick:()=>Le("PASSWORD_RESET"),disabled:ce==="rateLimits-PASSWORD_RESET",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="rateLimits-PASSWORD_RESET"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-orange-500"}):r.jsx(Du,{className:"w-5 h-5 text-orange-500"}),r.jsxs("div",{children:[r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"     ":"Clear Password Reset Limits"}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"     ":"Remove password reset rate limits"})]})]})})]})]}),r.jsxs("div",{className:`${zt} p-6 rounded-2xl`,children:[r.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:Ie==="ar"?"  ":"Database Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>rt("loginAttempts"),disabled:ce==="loginAttempts",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="loginAttempts"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-blue-500"}):r.jsx(Sr,{className:"w-5 h-5 text-blue-500"}),r.jsx("div",{children:r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"   ":"Clear Login Attempts"})})]})}),r.jsx("button",{onClick:()=>rt("securityEvents"),disabled:ce==="securityEvents",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="securityEvents"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-red-500"}):r.jsx(Sr,{className:"w-5 h-5 text-red-500"}),r.jsx("div",{children:r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"  ":"Clear Security Events"})})]})}),r.jsx("button",{onClick:()=>rt("passwordResets"),disabled:ce==="passwordResets",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="passwordResets"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-orange-500"}):r.jsx(Sr,{className:"w-5 h-5 text-orange-500"}),r.jsx("div",{children:r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"     ":"Clear Password Resets"})})]})}),r.jsx("button",{onClick:()=>rt("refreshTokens"),disabled:ce==="refreshTokens",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[ce==="refreshTokens"?r.jsx(Wi,{className:"w-5 h-5 animate-spin text-purple-500"}):r.jsx(Sr,{className:"w-5 h-5 text-purple-500"}),r.jsx("div",{children:r.jsx("div",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"  ":"Clear Refresh Tokens"})})]})})]})]}),r.jsx("div",{className:`${zt} p-6 rounded-2xl border border-red-500/20`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-red-500/10 rounded-lg",children:r.jsx(Sr,{className:"w-6 h-6 text-red-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-bold ${te.text} mb-2`,children:wt.dangerZone}),r.jsx("p",{className:`${te.textMuted} mb-6`,children:wt.resetWarning}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>rt("users"),disabled:ce==="users",className:"w-full px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[ce==="users"?r.jsx(Wi,{className:"w-4 h-4 animate-spin"}):r.jsx(wr,{className:"w-4 h-4"}),Ie==="ar"?"  ":"Clear All Users"]}),r.jsxs("button",{onClick:ut,disabled:Ha,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[Ha?r.jsx(Wi,{className:"w-4 h-4 animate-spin"}):r.jsx(Sr,{className:"w-4 h-4"}),wt.resetDatabaseAction]})]})]})]})})]}),U==="overview"&&r.jsx(Agt,{}),U==="tenants"&&r.jsx(Egt,{}),U==="users"&&r.jsx($gt,{}),U==="gateways"&&r.jsx(Tgt,{}),U==="partners"&&r.jsx(_gt,{}),U==="plans"&&r.jsx(Igt,{}),U==="features"&&r.jsx(Rgt,{}),U==="ai"&&r.jsx(Vgt,{}),U==="gifts"&&r.jsx(Lgt,{}),U==="api-keys"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(Bgt,{}),r.jsx(e0t,{adminPassword:ue,onUpdate:()=>{kgt().then(()=>{ne(ep()),Rt({title:Ie==="ar"?" ":"Updated",description:Ie==="ar"?"   API ":"API key updated successfully"})})},theme:te,language:Ie,cardStyle:zt})]}),U==="pages"&&r.jsx(Ugt,{adminApiKey:ue}),U==="permissions"&&r.jsx(zgt,{}),U==="cloudinary"&&r.jsx(Wgt,{}),U==="complaints"&&r.jsx(Hgt,{}),U==="platform-settings"&&r.jsx(qgt,{}),U==="transactions"&&r.jsx(Ggt,{}),U==="customers"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:wt.customers}),r.jsx("button",{onClick:sr,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:r.jsx(Wi,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:`${zt} rounded-2xl overflow-hidden`,children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:`${te.bg} ${te.textMuted}`,children:r.jsxs("tr",{children:[r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?"":"Customer"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?"":"Store"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?" / ":"OS / Browser"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?"":"Location"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:"VPN"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:"IP"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?" ":"Last Login"}),r.jsx("th",{className:`p-4 text-${je?"right":"left"} font-medium`,children:Ie==="ar"?"":"Actions"})]})}),r.jsx("tbody",{className:`divide-y ${qt?"divide-gray-800":"divide-gray-200"}`,children:wa.map(be=>r.jsxs("tr",{className:te.cardHover,children:[r.jsxs("td",{className:`p-4 ${te.text}`,children:[r.jsx("div",{className:"font-medium",children:be.email}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:be.role})]}),r.jsx("td",{className:`p-4 ${te.text}`,children:be.tenantName?r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:be.tenantName}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:be.tenantSubdomain})]}):r.jsx("span",{className:te.textMuted,children:"-"})}),r.jsx("td",{className:`p-4 ${te.text}`,children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-sm font-medium",children:be.os||"Unknown"}),r.jsx("span",{className:`text-xs ${te.textMuted}`,children:be.browser||"-"})]})}),r.jsx("td",{className:`p-4 ${te.text}`,children:r.jsx("div",{className:"flex items-center gap-2",children:be.location&&be.location!=="-"?r.jsx("span",{className:"text-sm",children:be.location}):r.jsx("span",{className:`text-sm ${te.textMuted}`,children:"-"})})}),r.jsx("td",{className:"p-4",children:be.isVpn?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:"VPN"}):r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Clean"})}),r.jsx("td",{className:`p-4 ${te.textMuted} text-sm`,children:be.ipAddress||"-"}),r.jsx("td",{className:`p-4 ${te.textMuted} text-sm`,children:be.lastLogin?new Date(be.lastLogin).toLocaleString():"-"}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Rt({title:Ie==="ar"?" ":"View Details",description:`${be.email}`}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",title:Ie==="ar"?" ":"View Details",children:r.jsx(Cr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Rt({title:Ie==="ar"?" ":"Block User",description:`${be.email}`,variant:"destructive"}),className:"p-1.5 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:Ie==="ar"?"":"Block",children:r.jsx(c6,{className:"w-4 h-4"})})]})})]},be.id))})]})}),wa.length===0&&r.jsxs("div",{className:`p-12 text-center ${te.textMuted}`,children:[r.jsx(u6,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:Ie==="ar"?"    ":"No customer fingerprint data"}),r.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Ie==="ar"?"      ":"Data will appear when customers log in"})]})]})]}),U==="logs"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:wt.securityLogs}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{(async()=>{const be=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`;return Q.fetch(`${be}/test-security-event`,{requireAuth:!0,adminApiKey:ue})})().then(be=>{Rt({title:Ie==="ar"?"   ":"Test event created",description:be.message}),Yt()}).catch(()=>Rt({variant:"destructive",title:"Error"}))},className:`px-3 py-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors text-sm`,children:Ie==="ar"?"  ":"Add Test Event"}),r.jsx("button",{onClick:Yt,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:r.jsx(Wi,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-700 pb-4",children:[r.jsxs("button",{onClick:()=>b("security"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="security"?"bg-blue-500 text-white":`${te.card} ${te.textMuted} hover:bg-blue-500/20`}`,children:[r.jsx(sa,{className:"w-4 h-4 inline-block mr-2"}),Ie==="ar"?" ":"Security Events",r.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:o.length})]}),r.jsxs("button",{onClick:()=>b("audit"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="audit"?"bg-purple-500 text-white":`${te.card} ${te.textMuted} hover:bg-purple-500/20`}`,children:[r.jsx(Sd,{className:"w-4 h-4 inline-block mr-2"}),Ie==="ar"?" ":"Audit Logs",r.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:c.length})]}),r.jsxs("button",{onClick:()=>b("errors"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="errors"?"bg-red-500 text-white":`${te.card} ${te.textMuted} hover:bg-red-500/20`}`,children:[r.jsx(c6,{className:"w-4 h-4 inline-block mr-2"}),Ie==="ar"?" ":"Error Logs",r.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:u.length})]}),r.jsxs("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="all"?"bg-cyan-500 text-white":`${te.card} ${te.textMuted} hover:bg-cyan-500/20`}`,children:[r.jsx(ka,{className:"w-4 h-4 inline-block mr-2"}),Ie==="ar"?" ":"All Logs",r.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:o.length+c.length+u.length})]})]}),r.jsxs("div",{className:`${zt} rounded-2xl overflow-hidden`,children:[r.jsxs("div",{className:`p-4 border-b ${te.border}`,children:[r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[r.jsx(Mr,{className:`absolute ${je?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),r.jsx("input",{type:"text",placeholder:wt.searchLogs,value:g,onChange:be=>x(be.target.value),className:`w-full ${te.input} border rounded-lg py-2 ${je?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus}`})]}),r.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[r.jsx(wr,{className:`absolute ${je?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),r.jsx("input",{type:"text",placeholder:Ie==="ar"?"  ...":"Filter by user email...",value:w,onChange:be=>v(be.target.value),className:`w-full ${te.input} border rounded-lg py-2 ${je?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus}`})]})]}),r.jsxs("div",{className:"flex gap-3 flex-wrap mt-4 items-center",children:[r.jsxs("select",{value:S,onChange:be=>j(be.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[r.jsx("option",{value:"",children:Ie==="ar"?" ":"All Severities"}),r.jsx("option",{value:"LOW",children:Ie==="ar"?"":"LOW"}),r.jsx("option",{value:"MEDIUM",children:Ie==="ar"?"":"MEDIUM"}),r.jsx("option",{value:"HIGH",children:Ie==="ar"?"":"HIGH"}),r.jsx("option",{value:"CRITICAL",children:Ie==="ar"?"":"CRITICAL"})]}),r.jsxs("select",{value:k,onChange:be=>N(be.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[r.jsx("option",{value:"",children:Ie==="ar"?" ":"All Actions"}),Re().map(be=>r.jsx("option",{value:be,children:be},be))]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?":":"From:"}),r.jsx("input",{type:"date",value:C,onChange:be=>A(be.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus}`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?":":"To:"}),r.jsx("input",{type:"date",value:E,onChange:be=>D(be.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus}`})]}),r.jsxs("select",{value:T,onChange:be=>P(be.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[r.jsx("option",{value:"",children:Ie==="ar"?" ":"All Time"}),r.jsx("option",{value:"1h",children:Ie==="ar"?" ":"Last Hour"}),r.jsx("option",{value:"24h",children:Ie==="ar"?" 24 ":"Last 24 Hours"}),r.jsx("option",{value:"7d",children:Ie==="ar"?" 7 ":"Last 7 Days"}),r.jsx("option",{value:"30d",children:Ie==="ar"?" 30 ":"Last 30 Days"})]}),r.jsxs("button",{onClick:Fe,className:`px-4 py-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:bg-red-500/20 hover:text-red-400 transition-colors text-sm flex items-center gap-2`,children:[r.jsx(jr,{className:"w-4 h-4"}),Ie==="ar"?"":"Clear"]}),r.jsx("span",{className:`text-sm ${te.textMuted} ml-auto`,children:Ie==="ar"?`${m.length} `:`${m.length} results`})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left table-auto",style:{tableLayout:"auto"},children:[r.jsx("thead",{className:`${qt?"bg-gray-800/50":"bg-slate-50"} ${te.textMuted}`,children:r.jsx("tr",{children:y==="security"?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:wt.severity}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:wt.action}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Ie==="ar"?"":"OS"}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[120px]",children:Ie==="ar"?"":"Location"}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:wt.userIp}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:wt.time}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Ie==="ar"?"":"Actions"})]}):r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:Ie==="ar"?"":"Action"}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[200px]",children:Ie==="ar"?"":"URL"}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Ie==="ar"?"":"Resource"}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:Ie==="ar"?" / ":"User / Customer"}),r.jsx("th",{className:"px-2 py-3 font-medium min-w-[120px]",children:Ie==="ar"?"":"Tenant"}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:wt.time}),r.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Ie==="ar"?"":"Actions"})]})})}),r.jsx("tbody",{className:`divide-y ${qt?"divide-gray-800":"divide-gray-200"}`,children:m.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:y==="security"?7:8,className:`px-6 py-12 text-center ${te.textMuted}`,children:y==="security"?r.jsxs(r.Fragment,{children:[r.jsx(sa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:Ie==="ar"?"   ":"No security events found"}),r.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Ie==="ar"?'  "  "  ':'Click "Add Test Event" to create a log'})]}):r.jsxs(r.Fragment,{children:[r.jsx(Sd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:Ie==="ar"?"   ":"No audit logs found"}),r.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Ie==="ar"?"      ":"Logs will appear when changes are made"})]})})}):y==="security"?ge.map(be=>{var pt,Gt,as,Tt,Zt,Et,Xt;return r.jsxs("tr",{className:`${te.cardHover} transition-colors`,children:[r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be.severity==="CRITICAL"?"bg-red-500/10 text-red-500":be.severity==="HIGH"?"bg-orange-500/10 text-orange-500":be.severity==="MEDIUM"?"bg-yellow-500/10 text-yellow-500":"bg-blue-500/10 text-blue-500"}`,children:be.severity})}),r.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[r.jsx("div",{className:"font-medium break-words",children:be.action}),r.jsx("div",{className:`text-xs ${te.textMuted} break-words line-clamp-2`,children:be.details||"..."})]}),r.jsx("td",{className:`px-2 py-4 ${te.text}`,children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(iP,{className:"w-3 h-3 flex-shrink-0"}),r.jsx("span",{className:"text-sm break-words",children:typeof be.metadata=="object"?(pt=be.metadata)==null?void 0:pt.os:"Unknown"})]})}),r.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Hu,{className:"w-3 h-3 flex-shrink-0"}),r.jsx("span",{className:"text-sm break-words",children:typeof be.metadata=="object"&&((Gt=be.metadata)!=null&&Gt.city)&&((as=be.metadata)!=null&&as.country)?`${be.metadata.city}, ${be.metadata.country}`:typeof be.metadata=="object"&&((Tt=be.metadata)==null?void 0:Tt.country)||"-"})]}),typeof be.metadata=="object"&&((Zt=be.metadata)==null?void 0:Zt.isVpn)&&r.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 mt-1",children:"VPN"})]}),r.jsxs("td",{className:"px-2 py-4",children:[r.jsx("div",{className:`${te.text} break-words`,children:((Et=be.user)==null?void 0:Et.email)||wt.system}),r.jsx("div",{className:`text-xs ${te.textDim} break-words`,children:be.ipAddress})]}),r.jsx("td",{className:`px-2 py-4 ${te.textDim} whitespace-nowrap`,children:new Date(be.createdAt).toLocaleString()}),r.jsx("td",{className:"px-2 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[((Xt=be.user)==null?void 0:Xt.email)&&r.jsx("button",{onClick:()=>{var Qr;return Be(((Qr=be.user)==null?void 0:Qr.email)||"")},className:"p-1.5 rounded-lg bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 transition-colors",title:Ie==="ar"?"  ":"View User Activity",children:r.jsx(wr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Rt({title:Ie==="ar"?" ":"Event Details",description:`${be.action}: ${be.details}`}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",title:Ie==="ar"?"":"View",children:r.jsx(Cr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Rt({variant:"destructive",title:Ie==="ar"?"":"Delete",description:`ID: ${be.id}`}),className:"p-1.5 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:Ie==="ar"?"":"Delete",children:r.jsx(Sr,{className:"w-4 h-4"})})]})})]},be.id)}):ge.map(be=>{var pt,Gt,as,Tt;return r.jsxs("tr",{className:`${te.cardHover} transition-colors`,children:[r.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[r.jsx("div",{className:"font-medium break-words",children:be.action}),r.jsx("div",{className:`text-xs ${te.textMuted} break-words line-clamp-2`,children:be.details||be.resourceType||""})]}),r.jsx("td",{className:`px-2 py-4 ${te.text}`,children:r.jsx("code",{className:`text-xs ${te.textMuted} break-all font-mono`,children:be.url||"-"})}),r.jsx("td",{className:`px-2 py-4 ${te.text}`,children:r.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-500 rounded text-xs whitespace-nowrap",children:be.resourceType||"-"})}),r.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[r.jsx("div",{className:"font-medium break-words",children:((pt=be.user)==null?void 0:pt.email)||be.userEmail||wt.system}),r.jsx("div",{className:`text-xs ${te.textDim} break-words`,children:((Gt=be.user)==null?void 0:Gt.name)||be.userName||""})]}),r.jsx("td",{className:`px-2 py-4 ${te.text} break-words`,children:((as=be.tenant)==null?void 0:as.name)||be.tenantName||"-"}),r.jsx("td",{className:`px-2 py-4 ${te.textDim} whitespace-nowrap`,children:new Date(be.createdAt).toLocaleString()}),r.jsx("td",{className:"px-2 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[((Tt=be.user)==null?void 0:Tt.email)&&r.jsx("button",{onClick:()=>{var Zt;return Be(((Zt=be.user)==null?void 0:Zt.email)||"")},className:"p-1.5 rounded-lg bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 transition-colors",title:Ie==="ar"?"  ":"View User Activity",children:r.jsx(wr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Rt({title:Ie==="ar"?"":"Details",description:be.details}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",children:r.jsx(Cr,{className:"w-4 h-4"})})]})})]},be.id)})})]})}),m.length>0&&r.jsxs("div",{className:`p-4 border-t ${te.border} flex flex-col sm:flex-row items-center justify-between gap-4`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"":"Show"}),r.jsxs("select",{value:M,onChange:be=>{I(Number(be.target.value)),O(1)},className:`${te.input} border rounded-lg py-1 px-2 text-sm ${te.text} focus:outline-none ${te.focus}`,children:[r.jsx("option",{value:10,children:"10"}),r.jsx("option",{value:20,children:"20"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"})]}),r.jsx("span",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?" ":"per page"})]}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?` ${_}  ${X} (${m.length} ${m.length===1,""})`:`Page ${_} of ${X} (${m.length} ${m.length===1?"result":"results"})`}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>O(be=>Math.max(1,be-1)),disabled:_===1,className:`p-2 rounded-lg border ${te.border} ${_===1?`${te.textDim} cursor-not-allowed opacity-50`:`${te.textMuted} hover:${te.accentText} hover:border-violet-500`} transition-colors`,children:r.jsx(Qo,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,X)},(be,pt)=>{let Gt;return X<=5||_<=3?Gt=pt+1:_>=X-2?Gt=X-4+pt:Gt=_-2+pt,r.jsx("button",{onClick:()=>O(Gt),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${_===Gt?`${te.accent} text-white`:`${te.card} ${te.border} border ${te.textMuted} hover:${te.accentText}`}`,children:Gt},Gt)})}),r.jsx("button",{onClick:()=>O(be=>Math.min(X,be+1)),disabled:_===X,className:`p-2 rounded-lg border ${te.border} ${_===X?`${te.textDim} cursor-not-allowed opacity-50`:`${te.textMuted} hover:${te.accentText} hover:border-violet-500`} transition-colors`,children:r.jsx(Ms,{className:"w-4 h-4"})})]})]})]})]}),U==="limits"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:Ie==="ar"?" ":"System Limits"}),r.jsx("button",{onClick:ye,disabled:vt,className:`px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors flex items-center gap-2 ${vt?"opacity-50 cursor-not-allowed":""}`,children:vt?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"w-4 h-4 animate-spin"}),Ie==="ar"?" ...":"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Fs,{className:"w-4 h-4"}),Ie==="ar"?"":"Save"]})})]}),ft?r.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-12 text-center`,children:[r.jsx(Je,{className:"h-8 w-8 animate-spin mx-auto text-violet-500"}),r.jsx("p",{className:`mt-4 ${te.textMuted}`,children:Ie==="ar"?"  ...":"Loading settings..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[r.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Ie==="ar"?"/ ":"Enable/Disable Registration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-semibold ${te.text}`,children:Ie==="ar"?" ":"Enable Signup"}),r.jsx("p",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"     ":"Allow new users to sign up"})]}),r.jsx("button",{onClick:()=>Ye(be=>({...be,signupEnabled:!be.signupEnabled})),className:`relative w-14 h-7 rounded-full transition-colors ${Ce.signupEnabled?"bg-violet-600":"bg-gray-600"}`,children:r.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${Ce.signupEnabled?"translate-x-7":"translate-x-0"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:`font-semibold ${te.text}`,children:Ie==="ar"?"  ":"Enable Signin"}),r.jsx("p",{className:`text-sm ${te.textMuted}`,children:Ie==="ar"?"   ":"Allow users to sign in"})]}),r.jsx("button",{onClick:()=>Ye(be=>({...be,signinEnabled:!be.signinEnabled})),className:`relative w-14 h-7 rounded-full transition-colors ${Ce.signinEnabled?"bg-violet-600":"bg-gray-600"}`,children:r.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${Ce.signinEnabled?"translate-x-7":"translate-x-0"}`})})]})]})]}),r.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[r.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Ie==="ar"?"  ":"Signup Rate Limits"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Ie==="ar"?"   ":"Max Signup Attempts"}),r.jsx("input",{type:"number",min:"1",max:"100",value:Ce.signupMaxAttempts,onChange:be=>Ye(pt=>({...pt,signupMaxAttempts:parseInt(be.target.value)||3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),r.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Ie==="ar"?"       ":"Number of signup attempts allowed in the time window"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Ie==="ar"?"  ()":"Time Window (hours)"}),r.jsx("input",{type:"number",min:"0.1",step:"0.1",value:(Ce.signupWindowMs/(60*60*1e3)).toFixed(1),onChange:be=>Ye(pt=>({...pt,signupWindowMs:parseFloat(be.target.value)*60*60*1e3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),r.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Ie==="ar"?"       ":"Time period in hours for counting attempts"})]})]})]}),r.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[r.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Ie==="ar"?"   ":"Signin Rate Limits"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Ie==="ar"?"    ":"Max Signin Attempts"}),r.jsx("input",{type:"number",min:"1",max:"100",value:Ce.signinMaxAttempts,onChange:be=>Ye(pt=>({...pt,signinMaxAttempts:parseInt(be.target.value)||5})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),r.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Ie==="ar"?"        ":"Number of signin attempts allowed in the time window"})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Ie==="ar"?"  ()":"Time Window (minutes)"}),r.jsx("input",{type:"number",min:"1",value:(Ce.signinWindowMs/(60*1e3)).toFixed(0),onChange:be=>Ye(pt=>({...pt,signinWindowMs:parseInt(be.target.value)*60*1e3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),r.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Ie==="ar"?"       ":"Time period in minutes for counting attempts"})]})]})]}),r.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[r.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Ie==="ar"?"   ":"Stores Per User Limit"}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Ie==="ar"?"    ":"Max Stores Per User"}),r.jsx("input",{type:"number",min:"1",max:"100",value:Ce.maxStoresPerUser,onChange:be=>Ye(pt=>({...pt,maxStoresPerUser:parseInt(be.target.value)||2})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),r.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Ie==="ar"?"        ":"Maximum number of stores a single user can create"})]})]})]})]}),U==="analytics"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:Ie==="ar"?"":"Analytics"})}),r.jsxs("div",{className:`${zt} rounded-2xl p-6`,children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:r.jsx(Sd,{className:"w-8 h-8 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold ${te.text}`,children:"Google Analytics"}),r.jsx("p",{className:te.textMuted,children:Ie==="ar"?"    ":"Connect your account to view store statistics"})]})]}),r.jsxs("div",{className:`p-6 ${qt?"bg-gray-800":"bg-slate-100"} rounded-xl mb-6`,children:[r.jsx("h4",{className:`font-medium ${te.text} mb-4`,children:Ie==="ar"?" Google Analytics":"Google Analytics Setup"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm ${te.textMuted} mb-2`,children:Ie==="ar"?"  (Measurement ID)":"Measurement ID"}),r.jsx("input",{type:"text",placeholder:"G-XXXXXXXXXX",className:`w-full ${te.input} border rounded-lg py-2 px-4 ${te.text} focus:outline-none ${te.focus}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm ${te.textMuted} mb-2`,children:Ie==="ar"?" API ()":"API Key (Optional)"}),r.jsx("input",{type:"password",placeholder:"",className:`w-full ${te.input} border rounded-lg py-2 px-4 ${te.text} focus:outline-none ${te.focus}`})]}),r.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-medium rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all",children:Ie==="ar"?" ":"Save Settings"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{label:Ie==="ar"?" ":"Visitors Today",value:"-",icon:wr,color:"blue"},{label:Ie==="ar"?" ":"Page Views",value:"-",icon:Cr,color:"green"},{label:Ie==="ar"?" ":"Bounce Rate",value:"-",icon:Sd,color:"yellow"},{label:Ie==="ar"?" ":"Avg. Session",value:"-",icon:iP,color:"purple"}].map((be,pt)=>r.jsxs("div",{className:`${qt?"bg-gray-800":"bg-slate-100"} p-4 rounded-xl`,children:[r.jsx("div",{className:`p-2 bg-${be.color}-500/10 rounded-lg w-fit mb-2`,children:r.jsx(be.icon,{className:`w-5 h-5 text-${be.color}-500`})}),r.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:be.value}),r.jsx("div",{className:`text-sm ${te.textMuted}`,children:be.label})]},pt))}),r.jsxs("div",{className:`p-8 text-center ${te.textMuted} ${qt?"bg-gray-800":"bg-slate-100"} rounded-xl`,children:[r.jsx(Sd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:Ie==="ar"?"   Google Analytics ":"Google Analytics not connected yet"}),r.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Ie==="ar"?"      ":"Enter your Measurement ID to view data"})]})]})]})]},U)})]}),r.jsx(Wn,{children:F&&R&&r.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>G(!1),children:r.jsxs(Me.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`${te.card} rounded-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden shadow-2xl`,onClick:be=>be.stopPropagation(),children:[r.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold ${te.text}`,children:Ie==="ar"?" ":"User Activity"}),r.jsxs("p",{className:`text-sm ${te.textMuted} mt-1`,children:[r.jsx(wr,{className:"w-4 h-4 inline-block mr-2"}),R]})]}),r.jsx("button",{onClick:()=>G(!1),className:`p-2 rounded-lg ${te.cardHover} transition-colors`,children:r.jsx(jr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4 border-b border-gray-700",children:[r.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[r.jsx("div",{className:"text-2xl font-bold text-blue-500",children:K.length}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?" ":"Total Logs"})]}),r.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:K.filter(be=>be.severity==="LOW"||be.severity==="MEDIUM"||!be.severity).length}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?"":"Normal"})]}),r.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[r.jsx("div",{className:"text-2xl font-bold text-amber-500",children:K.filter(be=>be.severity==="HIGH").length}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?"":"Warnings"})]}),r.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:K.filter(be=>be.severity==="CRITICAL").length}),r.jsx("div",{className:`text-xs ${te.textMuted}`,children:Ie==="ar"?"":"Errors"})]})]}),r.jsx("div",{className:"overflow-y-auto max-h-[50vh] p-4 space-y-3",children:K.length===0?r.jsxs("div",{className:`text-center py-12 ${te.textMuted}`,children:[r.jsx(Sd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:Ie==="ar"?"    ":"No logs found for this user"})]}):K.map(be=>r.jsx("div",{className:`${te.card} p-4 rounded-xl border ${be.severity==="CRITICAL"?"border-red-500/50 bg-red-500/5":be.severity==="HIGH"?"border-amber-500/50 bg-amber-500/5":te.border}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[be.severity&&r.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${be.severity==="CRITICAL"?"bg-red-500/20 text-red-400":be.severity==="HIGH"?"bg-amber-500/20 text-amber-400":be.severity==="MEDIUM"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:be.severity}),r.jsx("span",{className:`font-medium ${te.text}`,children:be.action})]}),r.jsx("p",{className:`text-sm ${te.textMuted}`,children:be.details||"-"}),r.jsxs("div",{className:`flex items-center gap-4 mt-2 text-xs ${te.textDim}`,children:[be.ipAddress&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ya,{className:"w-3 h-3"}),be.ipAddress]}),typeof be.metadata=="object"&&be.metadata&&"os"in be.metadata&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(iP,{className:"w-3 h-3"}),be.metadata.os]}),typeof be.metadata=="object"&&be.metadata&&"country"in be.metadata&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Hu,{className:"w-3 h-3"}),be.metadata.city||""," ",be.metadata.country]})]})]}),r.jsx("div",{className:`text-xs ${te.textDim} whitespace-nowrap`,children:new Date(be.createdAt).toLocaleString()})]})},be.id))})]})})})]}):r.jsxs("div",{className:`min-h-screen ${te.bg} flex items-center justify-center p-4`,dir:je?"rtl":"ltr",children:[r.jsxs("div",{className:"fixed top-4 right-4 flex gap-2",children:[r.jsx("button",{onClick:()=>rs(Ie==="en"?"ar":"en"),className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:r.jsx(Ya,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>Ts(!qt),className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:qt?r.jsx(Jd,{className:"w-5 h-5"}):r.jsx(ad,{className:"w-5 h-5"})})]}),r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${zt} p-8 rounded-2xl w-full max-w-md shadow-2xl`,children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsx("div",{className:`p-4 ${te.accentBg} rounded-full`,children:r.jsx(sa,{className:`w-12 h-12 ${te.accentText}`})})}),r.jsx("h1",{className:`text-2xl font-bold ${te.text} text-center mb-2`,children:wt.systemAdminAccess}),r.jsx("p",{className:`${te.textMuted} text-center mb-8`,children:wt.restrictedArea}),r.jsxs("form",{onSubmit:gt,className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(bi,{className:`absolute ${je?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-5 h-5 ${te.textDim}`}),r.jsx("input",{type:"password",value:e,onChange:be=>t(be.target.value),className:`w-full ${te.input} border rounded-lg py-3 ${je?"pr-10 pl-4":"pl-10 pr-4"} ${te.text} focus:outline-none ${te.focus} transition-colors`,placeholder:wt.enterPassword,autoFocus:!0})]}),r.jsx("button",{type:"submit",className:`w-full ${te.accent} ${te.accentHover} text-white font-semibold py-3 rounded-lg transition-colors`,children:wt.accessPanel})]})]})]})}function e0t({adminPassword:e,onUpdate:t,theme:s,language:a,cardStyle:n}){const[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(!0),{toast:b}=Lt();f.useEffect(()=>{w()},[]);const w=async()=>{try{y(!0);const k=await fe.get("/admin/master/admin-api-key",{requireAuth:!0,adminApiKey:e});o(k.apiKey||"")}catch(k){console.error("Failed to load admin API key:",k),b({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"   API":"Failed to load API key"})}finally{y(!1)}},v=()=>{const N=`system-admin-${Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}`;c(N)},S=async()=>{var k,N;if(!l.trim()||l.trim().length<20){b({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"    API 20   ":"API key must be at least 20 characters long"});return}if(l.trim()==="Saeaa2025Admin!"||l.trim().length<20){b({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"    .     .":"Cannot use default key. Please choose a strong, secure key."});return}try{g(!0),await fe.post("/admin/master/admin-api-key",{apiKey:l.trim()},{requireAuth:!0,adminApiKey:e}),b({title:a==="ar"?"":"Success",description:a==="ar"?"   API ":"API key updated successfully"}),c(""),await w(),t()}catch(C){console.error("Failed to update admin API key:",C),b({variant:"destructive",title:a==="ar"?"":"Error",description:((N=(k=C==null?void 0:C.response)==null?void 0:k.data)==null?void 0:N.message)||(a==="ar"?"   API":"Failed to update API key")})}finally{g(!1)}},j=k=>{navigator.clipboard.writeText(k),b({title:a==="ar"?" ":"Copied",description:a==="ar"?"   API  ":"API key copied to clipboard"})};return r.jsxs("div",{className:`${n} p-6 rounded-2xl border-2 border-violet-500/20`,children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold ${s.text} mb-2`,children:a==="ar"?" API ":"Admin API Key"}),r.jsx("p",{className:`text-sm ${s.textMuted}`,children:a==="ar"?"  API  .       .":"Manage the system admin API key. This key is used to access the admin panel."})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${s.text} mb-2`,children:a==="ar"?" API ":"Current API Key"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:d?"text":"password",value:x?a==="ar"?" ...":"Loading...":i,readOnly:!0,className:`flex-1 px-4 py-2 ${s.input} border ${s.border} rounded-lg font-mono text-sm`}),r.jsx("button",{onClick:()=>u(!d),className:`p-2 ${s.card} border ${s.border} rounded-lg ${s.textMuted} hover:${s.accentText}`,children:r.jsx(Cr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>j(i),className:`p-2 ${s.card} border ${s.border} rounded-lg ${s.textMuted} hover:${s.accentText}`,children:r.jsx(Du,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:`block text-sm font-medium ${s.text} mb-2`,children:a==="ar"?" API ":"New API Key"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:h?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:a==="ar"?"  API  (8   )":"Enter new API key (min 8 characters)",className:`flex-1 px-4 py-2 ${s.input} border ${s.border} rounded-lg font-mono text-sm`}),r.jsx("button",{onClick:()=>m(!h),className:`p-2 ${s.card} border ${s.border} rounded-lg ${s.textMuted} hover:${s.accentText}`,children:r.jsx(Cr,{className:"w-4 h-4"})})]}),r.jsx("p",{className:`text-xs ${s.textMuted} mt-1`,children:a==="ar"?"    20   .    .":"Key must be at least 20 characters long. Use a strong, random key."}),r.jsx("button",{onClick:v,type:"button",className:`mt-2 px-3 py-1.5 text-xs ${s.card} border ${s.border} rounded-lg ${s.textMuted} hover:${s.accentText} transition-colors`,children:a==="ar"?"   ":" Generate Random Key"})]}),r.jsx("div",{className:`p-3 rounded-lg border ${s.border} bg-yellow-500/10 border-yellow-500/30`,children:r.jsxs("p",{className:`text-xs ${s.text} flex items-center gap-2`,children:[r.jsx("span",{children:""}),r.jsx("span",{children:a==="ar"?"       .          .":"Make sure to save the new key in a secure place. You will lose access to the admin panel if you lose the key."})]})}),r.jsx("button",{onClick:S,disabled:p||!l.trim()||l.trim().length<20,className:`w-full px-4 py-2 ${s.accent} ${s.accentHover} text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:p?a==="ar"?" ...":"Updating...":a==="ar"?"  API":"Update API Key"})]})]})}const tH=[{id:"gaming",name:"Gaming & PUBG",nameAr:"  PUBG",icon:Lfe,description:"Gaming cards, PUBG UC, game credits",descriptionAr:"     ",color:"from-purple-500 to-pink-500"},{id:"playstation",name:"PlayStation Store",nameAr:" ",icon:tl,description:"PS Plus, PS Store cards, games",descriptionAr:"    ",color:"from-blue-500 to-cyan-500"},{id:"communications",name:"Chat & Communications",nameAr:" ",icon:Cn,description:"Recharge cards, chat credits, VoIP",descriptionAr:"    ",color:"from-green-500 to-emerald-500"}],t0t=[{value:"daily",label:"Daily",labelAr:""},{value:"weekly",label:"Weekly",labelAr:""},{value:"monthly",label:"Monthly",labelAr:""},{value:"yearly",label:"Yearly",labelAr:""}],r0t=[{id:"hyperpay",name:"HyperPay",description:"Visa, Mastercard, Mada",icon:""},{id:"stripe",name:"Stripe",description:"International payments",icon:""},{id:"paypal",name:"PayPal",description:"PayPal payments",icon:""},{id:"cod",name:"Cash on Delivery",description:"Pay on delivery",icon:""}];function s0t(){var A;const e=ts(),{toast:t}=Lt(),[s,a]=f.useState(1),[n,i]=f.useState(!1),[o,l]=f.useState({marketCategory:"",storeName:"",storeNameAr:"",selectedProducts:[],logo:null,logoPreview:"",selectedTemplate:"",reportFrequency:"monthly",paymentGateways:[]}),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(null),g=7,x=async E=>{l({...o,marketCategory:E});try{console.log(" Fetching products for category:",E);const D=await fe.getProducts({categoryId:E,limit:100,market:!0});console.log(" Received products:",D);const T=Array.isArray(D)?D:D.data||[];console.log(" Product list:",T),d(T)}catch(D){console.error("Failed to load products:",D),t({title:"  ",description:"    .    .",variant:"destructive"})}},y=async E=>{var _;const D=(_=E.target.files)==null?void 0:_[0];if(!D)return;const{isValid:T,reason:P}=await cj(D);if(!T){t({title:"  ",description:P||"    ",variant:"destructive"}),E.target.value="";return}l({...o,logo:D,logoPreview:URL.createObjectURL(D)})},b=f.useCallback(async()=>{i(!0);try{const E=tH.find(O=>O.id===o.marketCategory),D=E?E.name:"E-commerce",T=E?E.nameAr:" ",P=`Create a professional ${D} e-commerce website for "${o.storeName}" (${o.storeNameAr}).

BUSINESS: ${o.storeName} - ${D} store
PRODUCTS: ${o.selectedProducts.length>0?`${o.selectedProducts.length} products`:"Digital products"}
BRANDING: ${o.logo?"Custom logo":"Modern professional"}

REQUIREMENTS:
- Stunning conversion-optimized design
- Prominent ${D} product showcases
- Trust elements (testimonials, stats)
- Clear CTAs, mobile-responsive
- High-quality Unsplash images

TARGET: ${D} enthusiasts
STYLE: Professional, modern, trustworthy

CRITICAL: Create 3 DISTINCT variations:
1. Bold & Vibrant - Strong colors, dynamic
2. Clean & Minimal - Elegant, subtle
3. Modern & Premium - Gradients, luxury`;console.log(" Generating AI templates with prompt:",P);const _=await fe.post("/templates/ai/generate-variations",{vision:P,businessType:D,category:"product"},{requireAuth:!0});if(Array.isArray(_))h(_.map((O,M)=>({id:`ai-generated-${M}`,name:O.template.name||`AI Template ${M+1}`,description:O.template.description,preview:O.template.thumbnail||"/placeholder-template.jpg",content:O.template.content})));else{const O=_.variations||[_.template];h(O.map((M,I)=>({id:`ai-generated-${I}`,name:M.name||`AI Template ${I+1}`,description:M.description,preview:M.thumbnail||"/placeholder-template.jpg",content:M.content})))}t({title:"   ",description:`  3     ${o.storeName}`})}catch(E){console.error("Failed to generate templates:",E),t({title:"Note",description:"Using default templates (AI generation unavailable)",variant:"default"});const D=[{type:"header",data:{logo:"Store Name",links:[{label:"Home",url:"/"},{label:"Products",url:"/products"}]},styles:{padding:"20px",background:"#fff"}},{type:"hero",data:{title:"Welcome"},styles:{padding:"4rem",textAlign:"center"}},{type:"features",data:{items:[]},styles:{background:"#f5f5f5",padding:"4rem"}},{type:"products-grid",data:{title:"Featured Products",count:4},styles:{padding:"4rem"}},{type:"testimonials",data:{items:[]},styles:{padding:"4rem"}},{type:"footer",data:{copyright:" 2024 Store"},styles:{padding:"2rem",background:"#000",color:"#fff"}}];h([{id:"modern",name:"Modern Gamer",preview:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=500&q=80",description:"Bold and energetic design",content:D},{id:"classic",name:"Digital Classic",preview:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=500&q=80",description:"Clean and professional layout",content:D},{id:"minimal",name:"Tech Minimal",preview:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=500&q=80",description:"Simple and focused on products",content:D}])}finally{i(!1)}},[o.marketCategory,o.storeName,t]);f.useEffect(()=>{s===5&&u.length===0&&b()},[s,u.length,b]);const w=E=>{const D=o.selectedProducts.includes(E);l({...o,selectedProducts:D?o.selectedProducts.filter(T=>T!==E):[...o.selectedProducts,E]})},v=E=>{const D=o.paymentGateways.includes(E);l({...o,paymentGateways:D?o.paymentGateways.filter(T=>T!==E):[...o.paymentGateways,E]})},S=()=>{s<g&&a(s+1)},j=()=>{s>1&&a(s-1)},k=async()=>{var E,D,T,P;i(!0);try{let _="";if(o.logo){const I=new FormData;I.append("files",o.logo);const R=await fe.post("/upload/images",I,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});_=((D=(E=R.files)==null?void 0:E[0])==null?void 0:D.secureUrl)||((P=(T=R.files)==null?void 0:T[0])==null?void 0:P.url)||""}const O=u.find(I=>I.id===o.selectedTemplate),M={name:o.storeName,nameAr:o.storeNameAr,category:o.marketCategory,products:o.selectedProducts,logo:_,template:o.selectedTemplate,templateContent:O==null?void 0:O.content,reportFrequency:o.reportFrequency,paymentGateways:o.paymentGateways};await fe.post("/partner/marketplace",M,{requireAuth:!0}),t({title:"! ",description:"   "}),setTimeout(()=>{e("/dashboard")},2e3)}catch(_){console.error("Failed to create marketplace:",_),t({title:"  ",description:"    .    .",variant:"destructive"})}finally{i(!1)}},N=()=>{switch(s){case 1:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"      ASUS"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:tH.map(E=>{const D=E.icon,T=o.marketCategory===E.id;return r.jsxs(we,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl ${T?"ring-2 ring-primary shadow-lg scale-105":""}`,onClick:()=>x(E.id),children:[r.jsxs(st,{children:[r.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${E.color} flex items-center justify-center mb-4`,children:r.jsx(D,{className:"h-8 w-8 text-white"})}),r.jsx(it,{className:"text-xl",children:E.nameAr}),r.jsx(Kt,{children:E.descriptionAr})]}),r.jsx(Se,{children:T&&r.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[r.jsx(Za,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:" "})]})})]},E.id)})})]});case 2:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(xs,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),r.jsx(we,{children:r.jsxs(Se,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeName",children:"  (English)"}),r.jsx(pe,{id:"storeName",value:o.storeName,onChange:E=>l({...o,storeName:E.target.value}),placeholder:"My Gaming Store",className:"text-lg"})]}),r.jsxs("div",{children:[r.jsx(Y,{htmlFor:"storeNameAr",children:"  ()"}),r.jsx(pe,{id:"storeNameAr",value:o.storeNameAr,onChange:E=>l({...o,storeNameAr:E.target.value}),placeholder:" ",className:"text-lg"})]})]})})]});case 3:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(tl,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"      "})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4 max-h-[500px] overflow-y-auto",children:c.map(E=>{var T;const D=o.selectedProducts.includes(E.id);return r.jsx(we,{className:`cursor-pointer transition-all ${D?"ring-2 ring-primary":""}`,onClick:()=>w(E.id),children:r.jsxs(Se,{className:"p-4",children:[((T=E.images)==null?void 0:T[0])&&r.jsx("img",{src:E.images[0].url,alt:E.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),r.jsx("h3",{className:"font-semibold mb-1",children:E.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[E.price," ."]}),D&&r.jsxs("div",{className:"flex items-center gap-2 text-primary text-sm",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx("span",{children:""})]})]})},E.id)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:["  ",o.selectedProducts.length," "]})]});case 4:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(An,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsx("div",{className:"flex flex-col items-center gap-4",children:o.logoPreview?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o.logoPreview,alt:"Logo preview",className:"w-48 h-48 object-contain rounded-lg border-2 border-dashed border-gray-300"}),r.jsx(V,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>l({...o,logo:null,logoPreview:""}),children:""})]}):r.jsxs("label",{className:"w-48 h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[r.jsx(An,{className:"h-12 w-12 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"  "}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y})]})})})})]});case 5:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(bs,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]}),n?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"    ..."})]}):r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(E=>{const D=o.selectedTemplate===E.id;return r.jsx(we,{className:`cursor-pointer transition-all relative group ${D?"ring-2 ring-primary shadow-lg":""}`,onClick:()=>l({...o,selectedTemplate:E.id}),children:r.jsxs(Se,{className:"p-4",children:[r.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-lg mb-3 flex items-center justify-center relative overflow-hidden",children:[E.preview&&E.preview.startsWith("http")?r.jsx("img",{src:E.preview,alt:E.name,className:"w-full h-full object-cover"}):r.jsx(zn,{className:"h-12 w-12 text-gray-400"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsxs(V,{variant:"secondary",size:"sm",className:"gap-2",onClick:T=>{T.stopPropagation(),p(E)},children:[r.jsx(Cr,{className:"h-4 w-4"}),""]})})]}),r.jsx("h3",{className:"font-semibold text-center",children:E.name}),D&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary mt-2",children:[r.jsx(Za,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:""})]})]})},E.id)})})]});case 6:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Ri,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:""}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsx(Yw,{value:o.reportFrequency,onValueChange:E=>l({...o,reportFrequency:E}),children:t0t.map(E=>r.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-4 border rounded-lg mb-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[r.jsx(Jh,{value:E.value,id:E.value}),r.jsxs(Y,{htmlFor:E.value,className:"flex-1 cursor-pointer",children:[r.jsx("div",{className:"font-medium",children:E.labelAr}),r.jsx("div",{className:"text-sm text-gray-600",children:E.label})]})]},E.value))})})})]});case 7:return r.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Xr,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r0t.map(E=>{const D=o.paymentGateways.includes(E.id);return r.jsx(we,{className:`cursor-pointer transition-all ${D?"ring-2 ring-primary":""}`,onClick:()=>v(E.id),children:r.jsx(Se,{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-4xl",children:E.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:E.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.description})]}),D&&r.jsx(Za,{className:"h-6 w-6 text-primary"})]})})},E.id)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:["  ",o.paymentGateways.length,"  "]})]});default:return null}},C=()=>{switch(s){case 1:return o.marketCategory!=="";case 2:return o.storeName!==""&&o.storeNameAr!=="";case 3:return o.selectedProducts.length>0;case 4:return o.logo!==null;case 5:return o.selectedTemplate!=="";case 6:return o.reportFrequency!=="";case 7:return o.paymentGateways.length>0;default:return!1}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12",children:r.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-12",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:g}).map((E,D)=>r.jsx("div",{className:`flex-1 h-2 rounded-full mx-1 transition-all ${D+1<=s?"bg-gradient-to-r from-primary to-purple-600":"bg-gray-200 dark:bg-gray-700"}`},D))}),r.jsx("div",{className:"text-center",children:r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",s,"  ",g]})})]}),r.jsx(Wn,{mode:"wait",children:N()}),r.jsxs("div",{className:"flex justify-between mt-12",children:[r.jsxs(V,{variant:"outline",onClick:j,disabled:s===1,className:"gap-2",children:[r.jsx(El,{className:"h-4 w-4"}),""]}),s===g?r.jsx(V,{onClick:k,disabled:!C()||n,className:"gap-2 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-700",size:"lg",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})," ..."]}):r.jsxs(r.Fragment,{children:[r.jsx(cp,{className:"h-5 w-5"})," "]})}):r.jsxs(V,{onClick:S,disabled:!C(),className:"gap-2",size:"lg",children:["",r.jsx(ma,{className:"h-4 w-4"})]})]}),r.jsx(ir,{open:!!m,onOpenChange:E=>!E&&p(null),children:r.jsxs(ar,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsxs(lr,{children:[r.jsx(cr,{children:m==null?void 0:m.name}),r.jsx(pr,{children:m==null?void 0:m.description})]}),r.jsxs("div",{className:"mt-4 space-y-6",children:[r.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:m!=null&&m.preview&&m.preview.startsWith("http")?r.jsx("img",{src:m.preview,alt:m.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(zn,{className:"h-24 w-24 text-gray-300"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3 text-lg",children:" :"}),r.jsx("div",{className:"border rounded-lg overflow-hidden bg-white dark:bg-gray-950 max-h-[600px] overflow-y-auto",children:(A=m==null?void 0:m.content)==null?void 0:A.map((E,D)=>{const T={id:E.id||`preview-section-${D}`,type:E.type,props:{...E.data,...E.styles}};return r.jsx("div",{className:"relative",children:r.jsx(Kw,{section:T})},D)})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(V,{onClick:()=>{l({...o,selectedTemplate:m.id}),p(null)},children:"  "})})]})]})})]})})}function a0t({onAccept:e}){const[t,s]=f.useState(!1),[a]=f.useState(!0);f.useEffect(()=>{localStorage.getItem("cookiesAccepted")||s(!0)},[]);const n=()=>{localStorage.setItem("cookiesAccepted","true"),localStorage.setItem("cookiesAcceptedAt",new Date().toISOString()),s(!1),e()},i=()=>{localStorage.setItem("cookiesAccepted","true"),localStorage.setItem("cookiesAnalytics","true"),localStorage.setItem("cookiesMarketing","true"),localStorage.setItem("cookiesAcceptedAt",new Date().toISOString()),s(!1),e()};return t?r.jsx(Wn,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]"}),r.jsx(Me.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-[9999] p-4 md:p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-violet-600/20 to-blue-600/20 p-4 border-b border-gray-700/50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-violet-500/20 rounded-xl",children:r.jsx(QT,{className:"w-6 h-6 text-violet-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:a?"   ":"Cookie Policy"}),r.jsx("p",{className:"text-sm text-gray-400",children:a?"  ":"We need your consent to continue"})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx(sa,{className:"w-10 h-10 text-green-400 flex-shrink-0 mt-1"}),r.jsx("div",{className:"text-gray-300 text-sm leading-relaxed",dir:a?"rtl":"ltr",children:a?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-3",children:"        .    :"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400 mb-3",children:[r.jsx("li",{children:"  "}),r.jsx("li",{children:"  "}),r.jsx("li",{children:"    "}),r.jsx("li",{children:"   "})]}),r.jsx("p",{className:"text-xs text-gray-500",children:'  " "        .'})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-3",children:"We use cookies to improve your experience on our website. These cookies help us:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400 mb-3",children:[r.jsx("li",{children:"Remember your preferences and settings"}),r.jsx("li",{children:"Improve your account security"}),r.jsx("li",{children:"Analyze how the site is used to improve it"}),r.jsx("li",{children:"Provide a personalized experience"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:'By clicking "Accept All", you agree to the use of all cookies.'})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",dir:a?"rtl":"ltr",children:[r.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40",children:a?" ":"Accept All"}),r.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-xl transition-colors border border-gray-600",children:a?" ":"Essential Only"})]}),r.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:a?r.jsxs(r.Fragment,{children:["   "," ",r.jsx("a",{href:"/privacy",className:"text-violet-400 hover:underline",children:" "})," ",""," ",r.jsx("a",{href:"/terms",className:"text-violet-400 hover:underline",children:" "})]}):r.jsxs(r.Fragment,{children:["By continuing, you agree to our"," ",r.jsx("a",{href:"/privacy",className:"text-violet-400 hover:underline",children:"Privacy Policy"})," ","and"," ",r.jsx("a",{href:"/terms",className:"text-violet-400 hover:underline",children:"Terms of Service"})]})})]})]})})]})}):null}function n0t(){const[e,t]=f.useState(!1),[s]=f.useState(!0);return f.useEffect(()=>{(()=>{document.cookie="cookieTest=1; path=/";const n=document.cookie.indexOf("cookieTest=")!==-1;document.cookie="cookieTest=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",n||t(!0)})()},[]),e?r.jsx(Wn,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999]"}),r.jsx(Me.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-2xl w-full bg-gradient-to-br from-red-900/90 via-gray-900 to-red-900/90 rounded-2xl shadow-2xl border-2 border-red-500/50 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-600/30 to-orange-600/30 p-6 border-b border-red-500/50",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:r.jsx(Xs,{className:"w-8 h-8 text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-white",children:s?"   ":"Cookies Required"}),r.jsx("p",{className:"text-sm text-gray-300 mt-1",children:s?"      ":"Cookies must be enabled to use this website"})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx(QT,{className:"w-12 h-12 text-yellow-400 flex-shrink-0 mt-1"}),r.jsx("div",{className:"text-gray-200 text-base leading-relaxed",dir:s?"rtl":"ltr",children:s?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-4 font-semibold text-white",children:"     ."}),r.jsx("p",{className:"mb-3",children:"       .      :"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300 mb-4",children:[r.jsx("li",{children:"     "}),r.jsx("li",{children:"  "}),r.jsx("li",{children:"  "}),r.jsx("li",{children:"   "})]}),r.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mt-4",children:[r.jsx("p",{className:"text-yellow-200 font-medium mb-2",children:"    :"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:"  "}),r.jsx("li",{children:'   ""  "Privacy"'}),r.jsx("li",{children:"    "}),r.jsx("li",{children:"  "})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-4 font-semibold text-white",children:"Cookies are disabled in your browser."}),r.jsx("p",{className:"mb-3",children:"To use this website, you must enable cookies. We use cookies to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300 mb-4",children:[r.jsx("li",{children:"Save your login session"}),r.jsx("li",{children:"Remember your preferences and settings"}),r.jsx("li",{children:"Ensure your account security"}),r.jsx("li",{children:"Improve your experience on the site"})]}),r.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mt-4",children:[r.jsx("p",{className:"text-yellow-200 font-medium mb-2",children:"How to enable cookies:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:"Open your browser settings"}),r.jsx("li",{children:'Go to "Privacy" or "Security" section'}),r.jsx("li",{children:"Enable cookies"}),r.jsx("li",{children:"Reload this page"})]})]})]})})]}),r.jsx("div",{className:"flex justify-center",dir:s?"rtl":"ltr",children:r.jsxs("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg shadow-red-500/25 hover:shadow-red-500/40 flex items-center gap-2",children:[r.jsx(QT,{className:"w-5 h-5"}),s?"  ":"Reload Page"]})})]})]})})]})}):null}function i0t(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState("all"),[g,x]=f.useState(""),[y,b]=f.useState([]),[w,v]=f.useState(null),[S,j]=f.useState(0),[k,N]=f.useState(!1);f.useEffect(()=>{const I=async()=>{try{h(!0);const[L,K]=await Promise.all([fe.get("/card-products/brands",{requireAuth:!0}),fe.get("/card-products/categories",{requireAuth:!0})]);i(L||[]),l(K||[])}catch(L){console.error("Error fetching data:",L),Rr.error(e("common.error"," "))}finally{h(!1)}},R=async()=>{try{const L=await Is.getBalance();j(Number(L.balance)||0)}catch(L){console.error("Error fetching wallet balance:",L)}};I(),R()},[e]),f.useEffect(()=>{(async()=>{if(!w){d([]);return}try{h(!0);const R=await fe.get(`/card-products/brand/${w}`,{requireAuth:!0});d(R||[])}catch(R){console.error("Error fetching products:",R),Rr.error(e("common.error"," "))}finally{h(!1)}})()},[w,e]);const C=n.filter(I=>{var L;return g===""||I.name.toLowerCase().includes(g.toLowerCase())||((L=I.nameAr)==null?void 0:L.includes(g))}),A=I=>{b(R=>R.find(K=>K.product.id===I.id)?R.map(K=>K.product.id===I.id?{...K,quantity:K.quantity+1}:K):[...R,{product:I,quantity:1}]),Rr.success(e("cardsStore.addedToCart"))},E=(I,R)=>{b(L=>L.map(K=>{if(K.product.id===I){const H=K.quantity+R;return H<=0?null:{...K,quantity:H}}return K}).filter(Boolean))},D=I=>{b(R=>R.filter(L=>L.product.id!==I))},T=y.reduce((I,R)=>I+R.product.wholesalePrice*R.quantity,0),P=y.reduce((I,R)=>I+R.quantity,0),_=async I=>{try{await fe.post(`/favorites/${I.id}/toggle`,{},{requireAuth:!0}),d(R=>R.map(L=>L.id===I.id?{...L,isFavorite:!L.isFavorite}:L)),Rr.success(I.isFavorite?e("cardsStore.removedFromFavorites"):e("cardsStore.addedToFavorites"))}catch(R){console.error("Error toggling favorite:",R)}},O=(I,R,L)=>{try{const K=atob(I),H=new Uint8Array(K.length);for(let re=0;re<K.length;re++)H[re]=K.charCodeAt(re);const F=new Blob([H],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),G=window.URL.createObjectURL(F),U=document.createElement("a");U.href=G,U.download=`${L}.xlsx`,document.body.appendChild(U),U.click(),document.body.removeChild(U),window.URL.revokeObjectURL(G);const W=atob(R),J=new Blob([W],{type:"text/plain;charset=utf-8"}),z=window.URL.createObjectURL(J),ie=document.createElement("a");ie.href=z,ie.download=`${L}.txt`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),window.URL.revokeObjectURL(z)}catch(K){console.error("Error downloading files:",K)}},M=async()=>{var I,R,L,K;if(y.length===0){Rr.error(e("cardsStore.cartEmpty"));return}N(!0);try{const H=y.reduce((W,J)=>W+J.product.wholesalePrice*J.quantity,0);if(S<H){Rr.error(e("cardsStore.insufficientBalance")),N(!1),setTimeout(()=>{a("/dashboard/wallet")},2e3);return}const F=y.map(W=>({productId:W.product.id,quantity:W.quantity})),G=await fe.post("/card-orders",{items:F},{requireAuth:!0}),U=(G==null?void 0:G.id)||((I=G==null?void 0:G.data)==null?void 0:I.id);if(U)try{const W=await fe.get(`/card-orders/${U}/download-files`,{requireAuth:!0});W!=null&&W.excel&&(W!=null&&W.text)&&(O(W.excel,W.text,W.fileName||`Order_${G.orderNumber||U}`),Rr.success(e("cardsStore.downloadSuccess")))}catch(W){console.error("Error downloading files:",W)}b([]),Rr.success(e("cardsStore.orderCompletedSuccess")),a("/dashboard/cards/orders")}catch(H){console.error("Error completing card store order:",((R=H==null?void 0:H.response)==null?void 0:R.data)||H);const F=((K=(L=H==null?void 0:H.response)==null?void 0:L.data)==null?void 0:K.message)||(H==null?void 0:H.message);F&&(F.includes("")||F.includes("balance")||F.includes(" "))?(Rr.error(e("cardsStore.insufficientBalance")),setTimeout(()=>{a("/dashboard/wallet")},2e3)):Rr.error(e("cardsStore.orderFailed"))}finally{N(!1)}};return r.jsxs("div",{className:"flex h-[calc(100vh-4rem)] gap-4 p-4",children:[r.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(xs,{className:"h-6 w-6"}),e("cardsStore.title")]})}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Mr,{className:xe("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground",s?"right-3":"left-3")}),r.jsx(pe,{placeholder:e("cardsStore.searchPlaceholder"),value:g,onChange:I=>x(I.target.value),className:xe(s?"pr-10":"pl-10")})]}),r.jsxs(mr,{value:m,onValueChange:p,children:[r.jsx(dr,{className:"w-48",children:r.jsx(xr,{placeholder:e("cardsStore.allCategories")})}),r.jsxs(ur,{children:[r.jsx(_e,{value:"all",children:e("cardsStore.allCategories")}),o.map(I=>r.jsxs(_e,{value:I.id,children:[I.icon," ",s&&I.nameAr||I.name]},I.id))]})]})]}),w&&r.jsxs(V,{variant:"outline",onClick:()=>v(null),className:"w-fit",children:[" ",e("cardsStore.backToBrands")]}),r.jsx(La,{className:"flex-1",children:u?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):w?r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:e("cardsStore.chooseCard")}),c.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("cardsStore.noCardsAvailable")})]}):r.jsx("div",{className:"space-y-3",children:c.map(I=>{var R;return r.jsx(we,{className:"hover:shadow-md transition-shadow",children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:I.image?r.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"}):r.jsx(Dt,{className:"h-8 w-8 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold truncate",children:s&&I.nameAr||I.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("cardsStore.retail"),": ",I.retailPrice.toFixed(2)," ",I.currency]})]}),r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>_(I),className:"flex-shrink-0",children:r.jsx(kn,{className:xe("h-5 w-5",I.isFavorite&&"fill-red-500 text-red-500")})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-lg font-bold text-primary",children:[I.wholesalePrice.toFixed(2)," ",I.currency]}),r.jsx("span",{className:"text-xs text-muted-foreground mx-2",children:e("cardsStore.wholesale")})]}),y.find(L=>L.product.id===I.id)?r.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(I.id,-1),children:r.jsx(wm,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:(R=y.find(L=>L.product.id===I.id))==null?void 0:R.quantity}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(I.id,1),children:r.jsx(rr,{className:"h-4 w-4"})})]}):r.jsx(V,{onClick:()=>A(I),disabled:I.availableStock===0,className:"bg-primary hover:bg-primary/90",children:e("cardsStore.addProduct")})]})]})]})})},I.id)})})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:e("cardsStore.chooseBrand")}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[C.length," ",e("cardsStore.brands")]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:C.map(I=>r.jsxs(we,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105 overflow-hidden",onClick:()=>v(I.id),children:[r.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center p-4",children:I.logo||I.image?r.jsx("img",{src:I.logo||I.image,alt:I.name,className:"max-w-full max-h-full object-contain"}):r.jsx(xs,{className:"h-12 w-12 text-muted-foreground"})}),r.jsxs(Se,{className:"p-3 text-center",children:[r.jsx("h3",{className:"font-semibold text-sm",children:s&&I.nameAr||I.name}),I.productCount!==void 0&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[I.productCount," ",e("cardsStore.cards")]})]})]},I.id))})]})})]}),r.jsxs(we,{className:"w-80 flex-shrink-0 flex flex-col",children:[r.jsx(st,{className:"pb-3",children:r.jsxs(it,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Or,{className:"h-5 w-5"}),e("cardsStore.shoppingCart"),P>0&&r.jsx(et,{variant:"secondary",className:"ml-auto",children:P})]})}),r.jsx(Js,{}),r.jsx(La,{className:"flex-1",children:r.jsx("div",{className:"p-4 space-y-3",children:y.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Or,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:e("cardsStore.cartEmpty")})]}):y.map(I=>r.jsxs("div",{className:"flex items-start gap-3 p-2 bg-muted/50 rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 rounded bg-background flex items-center justify-center overflow-hidden flex-shrink-0",children:I.product.image?r.jsx("img",{src:I.product.image,alt:"",className:"w-full h-full object-cover"}):r.jsx(Dt,{className:"h-6 w-6 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:s&&I.product.nameAr||I.product.name}),r.jsxs("p",{className:"text-xs text-primary font-semibold",children:["$ ",I.product.wholesalePrice.toFixed(2)]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(V,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>E(I.product.id,-1),children:r.jsx(wm,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium w-6 text-center",children:I.quantity}),r.jsx(V,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>E(I.product.id,1),children:r.jsx(rr,{className:"h-3 w-3"})})]})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:()=>D(I.product.id),children:r.jsx(jr,{className:"h-4 w-4"})})]},I.product.id))})}),y.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Js,{}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsStore.cardsCount"),":"]}),r.jsxs("span",{className:"font-medium",children:[P," ",e("cardsStore.cards")]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-semibold",children:[e("cardsStore.total"),":"]}),r.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",T.toFixed(2)," ",e("cardsStore.usd")]})]}),r.jsx(V,{className:"w-full",size:"lg",onClick:M,disabled:k||y.length===0,children:k?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin ml-2"}),e("cardsStore.processing")]}):e("cardsStore.completeOrder")})]})]})]})]})}function o0t(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(0),[g,x]=f.useState(!1);f.useEffect(()=>{const A=async()=>{try{l(!0);const D=await fe.get("/favorites",{requireAuth:!0});i(D||[])}catch(D){console.error("Error fetching favorites:",D),Rr.error(e("common.error"," "))}finally{l(!1)}},E=async()=>{try{const D=await Is.getBalance();p(Number(D.balance)||0)}catch(D){console.error("Error fetching wallet balance:",D)}};A(),E()},[e]);const y=n.filter(A=>{var D;return c===""||A.product.name.toLowerCase().includes(c.toLowerCase())||((D=A.product.nameAr)==null?void 0:D.includes(c))}),b=A=>{h(E=>E.find(T=>T.product.id===A.id)?E.map(T=>T.product.id===A.id?{...T,quantity:T.quantity+1}:T):[...E,{product:A,quantity:1}]),Rr.success(e("cardsStore.addedToCart"))},w=(A,E)=>{h(D=>D.map(T=>{if(T.product.id===A){const P=T.quantity+E;return P<=0?null:{...T,quantity:P}}return T}).filter(Boolean))},v=A=>{h(E=>E.filter(D=>D.product.id!==A))},S=u.reduce((A,E)=>A+E.product.wholesalePrice*E.quantity,0),j=u.reduce((A,E)=>A+E.quantity,0),k=async A=>{try{await fe.delete(`/favorites/${A}`,{requireAuth:!0}),i(E=>E.filter(D=>D.product.id!==A)),Rr.success(e("cardsStore.removedFromFavorites"))}catch(E){console.error("Error removing favorite:",E),Rr.error(e("common.error"," "))}},N=(A,E,D)=>{try{const T=atob(A),P=new Uint8Array(T.length);for(let H=0;H<T.length;H++)P[H]=T.charCodeAt(H);const _=new Blob([P],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=window.URL.createObjectURL(_),M=document.createElement("a");M.href=O,M.download=`${D}.xlsx`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(O);const I=atob(E),R=new Blob([I],{type:"text/plain;charset=utf-8"}),L=window.URL.createObjectURL(R),K=document.createElement("a");K.href=L,K.download=`${D}.txt`,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(L)}catch(T){console.error("Error downloading files:",T)}},C=async()=>{var A,E,D,T;if(u.length===0){Rr.error(e("cardsStore.cartEmpty"));return}x(!0);try{const P=u.reduce((I,R)=>I+R.product.wholesalePrice*R.quantity,0);if(m<P){Rr.error(e("cardsStore.insufficientBalance")),x(!1),setTimeout(()=>{a("/dashboard/wallet")},2e3);return}const _=u.map(I=>({productId:I.product.id,quantity:I.quantity})),O=await fe.post("/card-orders",{items:_},{requireAuth:!0}),M=(O==null?void 0:O.id)||((A=O==null?void 0:O.data)==null?void 0:A.id);if(M)try{const I=await fe.get(`/card-orders/${M}/download-files`,{requireAuth:!0});I!=null&&I.excel&&(I!=null&&I.text)&&(N(I.excel,I.text,I.fileName||`Order_${O.orderNumber||M}`),Rr.success(e("cardsStore.downloadSuccess")))}catch(I){console.error("Error downloading files:",I)}h([]),Rr.success(e("cardsStore.orderCompletedSuccess")),a("/dashboard/cards/orders")}catch(P){console.error("Error completing favorites order:",((E=P==null?void 0:P.response)==null?void 0:E.data)||P);const _=((T=(D=P==null?void 0:P.response)==null?void 0:D.data)==null?void 0:T.message)||(P==null?void 0:P.message);_&&(_.includes("")||_.includes("balance")||_.includes(" "))?(Rr.error(e("cardsStore.insufficientBalance")),setTimeout(()=>{a("/dashboard/wallet")},2e3)):Rr.error(e("cardsStore.orderFailed"))}finally{x(!1)}};return r.jsxs("div",{className:"flex h-[calc(100vh-4rem)] gap-4 p-4",children:[r.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(kn,{className:"h-6 w-6 text-red-500"}),e("cardsFavorites.title")]})}),r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(Mr,{className:xe("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground",s?"right-3":"left-3")}),r.jsx(pe,{placeholder:e("cardsFavorites.searchPlaceholder"),value:c,onChange:A=>d(A.target.value),className:xe(s?"pr-10":"pl-10")})]}),r.jsx(La,{className:"flex-1",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):y.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Ufe,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("cardsFavorites.noFavorites")}),r.jsx("p",{className:"text-sm mb-4",children:e("cardsFavorites.addFromStore")}),r.jsx(V,{onClick:()=>a("/dashboard/cards/store"),children:e("cardsFavorites.browseStore")})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("cardsFavorites.showing",{filtered:y.length,total:n.length})}),y.map(A=>{const E=A.product,D=u.find(T=>T.product.id===E.id);return r.jsx(we,{className:"hover:shadow-md transition-shadow",children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(V,{variant:"ghost",size:"icon",onClick:()=>k(E.id),className:"flex-shrink-0",children:r.jsx(kn,{className:"h-5 w-5 fill-red-500 text-red-500"})}),r.jsx("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:E.image?r.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):r.jsx(Dt,{className:"h-8 w-8 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold truncate",children:s&&E.nameAr||E.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("cardsStore.retail"),": $ ",E.retailPrice.toFixed(6)]}),r.jsx("div",{className:"flex items-center justify-between mt-2",children:r.jsxs("div",{children:[r.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",E.wholesalePrice.toFixed(6)]}),r.jsx("span",{className:"text-xs text-muted-foreground mx-2",children:e("cardsStore.wholesale")})]})})]}),r.jsx("div",{className:"flex-shrink-0",children:D?r.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(E.id,-1),children:r.jsx(wm,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:D.quantity}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(E.id,1),children:r.jsx(rr,{className:"h-4 w-4"})})]}):r.jsx(V,{onClick:()=>b(E),disabled:E.availableStock===0,className:"bg-primary hover:bg-primary/90",children:e("cardsStore.addProduct")})})]})})},A.id)})]})})]}),r.jsxs(we,{className:"w-80 flex-shrink-0 flex flex-col",children:[r.jsx(st,{className:"pb-3",children:r.jsxs(it,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Or,{className:"h-5 w-5"}),e("cardsStore.shoppingCart"),j>0&&r.jsx(et,{variant:"secondary",className:"ml-auto",children:j})]})}),r.jsx(Js,{}),r.jsx(La,{className:"flex-1",children:r.jsx("div",{className:"p-4 space-y-3",children:u.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Or,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:e("cardsStore.cartEmpty")})]}):u.map(A=>r.jsxs("div",{className:"flex items-start gap-3 p-2 bg-muted/50 rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 rounded bg-background flex items-center justify-center overflow-hidden flex-shrink-0",children:A.product.image?r.jsx("img",{src:A.product.image,alt:"",className:"w-full h-full object-cover"}):r.jsx(Dt,{className:"h-6 w-6 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:s&&A.product.nameAr||A.product.name}),r.jsxs("p",{className:"text-xs text-primary font-semibold",children:["$ ",A.product.wholesalePrice.toFixed(2)]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(V,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>w(A.product.id,-1),children:r.jsx(wm,{className:"h-3 w-3"})}),r.jsx("span",{className:"text-sm font-medium w-6 text-center",children:A.quantity}),r.jsx(V,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>w(A.product.id,1),children:r.jsx(rr,{className:"h-3 w-3"})})]})]}),r.jsx(V,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:()=>v(A.product.id),children:r.jsx(jr,{className:"h-4 w-4"})})]},A.product.id))})}),u.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Js,{}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsStore.cardsCount"),":"]}),r.jsxs("span",{className:"font-medium",children:[j," ",e("cardsStore.cards")]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-semibold",children:[e("cardsStore.total"),":"]}),r.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",S.toFixed(2)," ",e("cardsStore.usd")]})]}),r.jsx(V,{className:"w-full",size:"lg",onClick:C,disabled:g||u.length===0,children:g?r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 animate-spin ml-2"}),e("cardsStore.processing")]}):e("cardsStore.completeOrder")})]})]})]})]})}const rH={PENDING:{label:"Pending",labelAr:"",variant:"secondary",icon:Co},PAID:{label:"Paid",labelAr:"",variant:"default",icon:Fs},PROCESSING:{label:"Processing",labelAr:" ",variant:"secondary",icon:Co},DELIVERED:{label:"Delivered",labelAr:" ",variant:"default",icon:Fs},CANCELLED:{label:"Cancelled",labelAr:"",variant:"destructive",icon:Ls},FAILED:{label:"Failed",labelAr:"",variant:"destructive",icon:Ls}};function l0t(){const{t:e,i18n:t}=It(),s=t.language==="ar",a=ts(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(null),[u,h]=f.useState(1),[m,p]=f.useState(1);f.useEffect(()=>{(async()=>{try{l(!0);const b=await fe.get(`/card-orders/my-orders?page=${u}&limit=20`,{requireAuth:!0});i(b.data||[]),p(b.totalPages||1)}catch(b){console.error("Error fetching orders:",b),Rr.error(e("common.error"," "))}finally{l(!1)}})()},[u,e]);const g=y=>{navigator.clipboard.writeText(y),Rr.success(e("cardsOrders.copied"))},x=y=>{try{const b=new Date(y);return NE(b,"dd/MM/yyyy HH:mm",{locale:s?OF:void 0})}catch{return y}};return r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(V2,{className:"h-6 w-6"}),e("sections.customerOrders.title")]}),r.jsxs(V,{onClick:()=>a("/dashboard/cards/store"),title:e("cardsOrders.createOrder"),children:[r.jsx(rr,{className:`h-4 w-4 ${s?"ml-2":"mr-2"}`}),e("cardsOrders.createOrder")]})]}),r.jsx(we,{children:r.jsx(Se,{className:"p-0",children:o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):n.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Dt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("sections.customerOrders.noOrders")}),r.jsx("p",{className:"text-sm mb-4",children:e("cardsOrders.createFirstOrder")}),r.jsx(V,{onClick:()=>a("/dashboard/cards/store"),children:e("cardsOrders.browseStore")})]}):r.jsxs(cs,{children:[r.jsx(ds,{children:r.jsxs(kt,{children:[r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.orderNumber")}),r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.date")}),r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.cards")}),r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.amount")}),r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.status")}),r.jsx(Ae,{className:s?"text-right":"",children:e("cardsOrders.table.by")}),r.jsx(Ae,{})]})}),r.jsx(us,{children:n.map(y=>{const b=rH[y.status]||rH.PENDING,w=b.icon,v=y.items.reduce((S,j)=>S+j.quantity,0);return r.jsxs(kt,{children:[r.jsx(Ne,{className:"font-medium",children:y.orderNumber}),r.jsx(Ne,{children:x(y.createdAt)}),r.jsx(Ne,{children:v}),r.jsxs(Ne,{className:"font-semibold",children:["$ ",y.totalWithTax.toFixed(2)]}),r.jsx(Ne,{children:r.jsxs(et,{variant:b.variant,className:"gap-1",children:[r.jsx(w,{className:"h-3 w-3"}),s?b.labelAr:b.label]})}),r.jsx(Ne,{children:y.paymentMethod}),r.jsx(Ne,{children:r.jsxs(ir,{children:[r.jsx(vg,{asChild:!0,children:r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>d(y),children:r.jsx(Cr,{className:"h-4 w-4"})})}),r.jsxs(ar,{className:"max-w-2xl max-h-[80vh] overflow-auto",children:[r.jsx(lr,{children:r.jsxs(cr,{className:"flex items-center gap-2",children:[r.jsx(V2,{className:"h-5 w-5"}),e("cardsOrders.orderDetails")," - ",y.orderNumber]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.orderDate"),":"]}),r.jsx("p",{className:"font-medium",children:x(y.createdAt)})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.status"),":"]}),r.jsx("p",{children:r.jsx(et,{variant:b.variant,children:s?b.labelAr:b.label})})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.totalAmount"),":"]}),r.jsxs("p",{className:"font-bold text-lg text-primary",children:["$ ",y.totalWithTax.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.paymentMethod"),":"]}),r.jsx("p",{className:"font-medium",children:y.paymentMethod})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:e("cardsOrders.orderedCards")}),r.jsx("div",{className:"space-y-4",children:y.items.map(S=>r.jsx(we,{children:r.jsx(Se,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded bg-muted flex items-center justify-center overflow-hidden",children:S.product.image?r.jsx("img",{src:S.product.image,alt:"",className:"w-full h-full object-cover"}):r.jsx(Dt,{className:"h-8 w-8 text-muted-foreground"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold",children:s&&S.product.nameAr||S.product.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.quantity,"  $ ",S.unitPrice.toFixed(2)," = $ ",S.totalWithTax.toFixed(2)]}),S.deliveries&&S.deliveries.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:e("cardsOrders.codes")}),r.jsx("div",{className:"space-y-1",children:S.deliveries.map((j,k)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:[r.jsxs("code",{className:"flex-1 text-sm font-mono",children:[j.cardCode,j.cardPin&&r.jsxs("span",{className:"text-muted-foreground ml-2",children:["PIN: ",j.cardPin]})]}),r.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(j.cardPin?`${j.cardCode} - PIN: ${j.cardPin}`:j.cardCode),children:r.jsx(sc,{className:"h-4 w-4"})})]},k))})]})]})]})})},S.id))})]})]})]})]})})]},y.id)})})]})})}),m>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(V,{variant:"outline",size:"sm",disabled:u===1,onClick:()=>h(y=>y-1),children:e("cardsOrders.previous")}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[u," / ",m]}),r.jsx(V,{variant:"outline",size:"sm",disabled:u===m,onClick:()=>h(y=>y+1),children:e("cardsOrders.next")})]})]})}function c0t(){const{t:e,i18n:t}=It(),s=t.language==="ar",[a,n]=f.useState("month"),[i,o]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState([]);f.useEffect(()=>{(async()=>{try{o(!0);const v=new Date;let S=new Date;switch(a){case"week":S=TN(v,7);break;case"month":S=TN(v,30);break;case"quarter":S=TN(v,90);break;case"year":S=TN(v,365);break}const j=new URLSearchParams({startDate:S.toISOString(),endDate:v.toISOString()}),[k,N,C,A]=await Promise.all([fe.get(`/card-orders/stats?${j}`,{requireAuth:!0}),fe.get(`/card-orders/top-products?${j}&limit=10`,{requireAuth:!0}),fe.get(`/card-orders/daily-stats?${j}`,{requireAuth:!0}),fe.get(`/wallet/summary?${j}`,{requireAuth:!0})]);c(k),u(N.data||[]),m(C.data||[]),g(A.data||[])}catch(v){console.error("Error fetching reports:",v),c({totalOrders:0,totalRevenue:0,totalCards:0,averageOrderValue:0,ordersChange:0,revenueChange:0,cardsChange:0,aovChange:0}),u([]),m([]),g([])}finally{o(!1)}})()},[a]);const x=(w,v="SAR")=>new Intl.NumberFormat(s?"ar-SA":"en-US",{style:"currency",currency:v,minimumFractionDigits:2}).format(w),y=w=>{try{const v=new Date(w);return NE(v,"dd MMM",{locale:s?OF:ede})}catch{return w}},b=w=>{if(w===0)return null;const v=w>0;return r.jsxs("span",{className:xe("flex items-center text-xs font-medium",v?"text-green-600":"text-red-600"),children:[v?r.jsx(rl,{className:"h-3 w-3 mr-1"}):r.jsx(dK,{className:"h-3 w-3 mr-1"}),Math.abs(w).toFixed(1),"%"]})};return i?r.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:r.jsx(Je,{className:"h-8 w-8 animate-spin"})}):r.jsxs("div",{className:"p-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(Ua,{className:"h-6 w-6"}),s?" ":"Cards Reports"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(mr,{value:a,onValueChange:w=>n(w),children:[r.jsxs(dr,{className:"w-[180px]",children:[r.jsx(Ri,{className:"h-4 w-4 mr-2"}),r.jsx(xr,{})]}),r.jsxs(ur,{children:[r.jsx(_e,{value:"week",children:s?" ":"Last Week"}),r.jsx(_e,{value:"month",children:s?" ":"Last Month"}),r.jsx(_e,{value:"quarter",children:s?" 3 ":"Last Quarter"}),r.jsx(_e,{value:"year",children:s?" ":"Last Year"})]})]}),r.jsxs(V,{variant:"outline",className:"gap-2",children:[r.jsx(xn,{className:"h-4 w-4"}),s?"":"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?" ":"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.totalOrders)||0}),b((l==null?void 0:l.ordersChange)||0)]}),r.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/20",children:r.jsx(Or,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?" ":"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:x((l==null?void 0:l.totalRevenue)||0)}),b((l==null?void 0:l.revenueChange)||0)]}),r.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/20",children:r.jsx(Na,{className:"h-6 w-6 text-green-600"})})]})})}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?" ":"Cards Sold"}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.totalCards)||0}),b((l==null?void 0:l.cardsChange)||0)]}),r.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/20",children:r.jsx(Xr,{className:"h-6 w-6 text-purple-600"})})]})})}),r.jsx(we,{children:r.jsx(Se,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?"  ":"Avg. Order Value"}),r.jsx("p",{className:"text-2xl font-bold mt-1",children:x((l==null?void 0:l.averageOrderValue)||0)}),b((l==null?void 0:l.aovChange)||0)]}),r.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/20",children:r.jsx(Dt,{className:"h-6 w-6 text-orange-600"})})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{className:"text-lg",children:s?"  ":"Top Selling Products"}),r.jsx(Kt,{children:s?" 10    ":"Top 10 products by sales"})]}),r.jsx(Se,{children:d.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Dt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:s?"  ":"No data available"})]}):r.jsx("div",{className:"space-y-4",children:d.map((w,v)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-semibold",children:v+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:s&&w.nameAr||w.name}),w.brand&&r.jsx("p",{className:"text-xs text-muted-foreground",children:s&&w.brand.nameAr||w.brand.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold",children:w.quantity}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x(w.revenue)})]})]},w.id))})})]}),r.jsxs(we,{children:[r.jsxs(st,{children:[r.jsx(it,{className:"text-lg",children:s?" ":"Wallet Summary"}),r.jsx(Kt,{children:s?"  ":"Financial transactions summary"})]}),r.jsx(Se,{children:p.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Na,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:s?"  ":"No data available"})]}):r.jsx("div",{className:"space-y-4",children:p.map(w=>{const v=["TOPUP","REFUND","BONUS"].includes(w.type);return r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:xe("p-2 rounded-full",v?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"),children:v?r.jsx(XT,{className:"h-4 w-4 text-green-600"}):r.jsx(L2,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w.type}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.count," ",s?"":"transactions"]})]})]}),r.jsxs("p",{className:xe("font-semibold",v?"text-green-600":"text-red-600"),children:[v?"+":"-",x(w.total)]})]},w.type)})})})]})]}),r.jsxs(we,{children:[r.jsx(st,{children:r.jsx(it,{className:"text-lg",children:s?" ":"Daily Sales"})}),r.jsx(Se,{children:h.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Ua,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:s?"    ":"No data for selected period"})]}):r.jsx("div",{className:"h-64 flex items-end gap-1",children:h.map(w=>{const v=Math.max(...h.map(j=>j.revenue))||1,S=w.revenue/v*100;return r.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",title:`${y(w.date)}: ${x(w.revenue)}`,children:[r.jsx("div",{className:"w-full bg-primary/80 hover:bg-primary rounded-t transition-all cursor-pointer",style:{height:`${Math.max(S,2)}%`}}),r.jsx("span",{className:"text-[10px] text-muted-foreground",children:y(w.date)})]},w.date)})})})]})]})}const d0t=new w0e,u0t=()=>{const{i18n:e}=It();return f.useEffect(()=>{let t=document.getElementById("direction-style");t||(t=document.createElement("style"),t.id="direction-style",document.head.appendChild(t));const s=i=>{const o=i==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",o),document.documentElement.classList.remove("rtl","ltr"),document.documentElement.classList.add(o),t.textContent=`
        html { direction: ${o} !important; }
        body { direction: ${o} !important; }
        html[dir="${o}"] { direction: ${o} !important; }
        body[dir="${o}"] { direction: ${o} !important; }
        html.${o} { direction: ${o} !important; }
        body.${o} { direction: ${o} !important; }
      `,document.documentElement.dir=o,document.documentElement.lang=i,document.documentElement.setAttribute("dir",o),document.documentElement.setAttribute("lang",i),document.body&&(document.body.dir=o,document.body.setAttribute("dir",o),document.body.style.setProperty("direction",o,"important"),document.body.style.direction=o),o==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl"))),document.body&&document.body.offsetHeight},a=e.language||localStorage.getItem("language")||"ar";s(a);const n=i=>{s(i)};return e.on("languageChanged",n),()=>{e.off("languageChanged",n)}},[e]),null},h0t=()=>{const e=RA(),{i18n:t}=It();return console.log("App rendering. Hostname:",window.location.hostname,"isMainDomain:",e),r.jsxs("div",{children:[r.jsx(u0t,{}),r.jsx(Fye,{children:r.jsx(N0e,{client:d0t,children:r.jsx(Iye,{children:r.jsx(Vye,{children:r.jsx(Rye,{children:r.jsx(Uye,{children:r.jsx($ye,{children:r.jsx(Lbe,{children:r.jsxs(Qge,{children:[r.jsx(Rpe,{}),r.jsx(mxe,{}),r.jsx(a0t,{onAccept:()=>{}}),r.jsx(n0t,{}),r.jsx(wve,{children:e?r.jsxs(mY,{children:[r.jsx(nt,{path:"/",element:r.jsx(rGe,{})}),r.jsx(nt,{path:"/partner",element:r.jsx(s0t,{})}),r.jsx(nt,{path:"/about",element:r.jsx(Gde,{})}),r.jsx(nt,{path:"/contact",element:r.jsx(Kde,{})}),r.jsx(nt,{path:"/privacy",element:r.jsx(Yde,{})}),r.jsx(nt,{path:"/system-admin-x7k9p2",element:r.jsx(Zgt,{})}),r.jsx(nt,{path:"/login",element:r.jsx(Z7,{})}),r.jsx(nt,{path:"/register",element:r.jsx(eV,{})}),r.jsx(nt,{path:"/login",element:r.jsx(Z7,{})}),r.jsx(nt,{path:"/signup",element:r.jsx(eV,{})}),r.jsx(nt,{path:"/forgot-password",element:r.jsx(Mre,{})}),r.jsx(nt,{path:"/reset-password",element:r.jsx(Fre,{})}),r.jsx(nt,{path:"/change-password",element:r.jsx(iKe,{})}),r.jsx(nt,{path:"/oauth/callback",element:r.jsx(oKe,{})}),r.jsxs(nt,{element:r.jsx(ade,{}),children:[r.jsx(nt,{path:"/store",element:r.jsx(Zle,{})}),r.jsx(nt,{path:"/products",element:r.jsx(ece,{})}),r.jsx(nt,{path:"/products/:id",element:r.jsx(Bk,{})}),r.jsx(nt,{path:"/products/:tenantId/:productId",element:r.jsx(Bk,{})}),r.jsx(nt,{path:"/collections/:id",element:r.jsx(Oce,{})}),r.jsx(nt,{path:"/categories",element:r.jsx(Ice,{})}),r.jsx(nt,{path:"/categories/:id",element:r.jsx(Rce,{})}),r.jsx(nt,{path:"/cart",element:r.jsx(xce,{})}),r.jsx(nt,{path:"/checkout",element:r.jsx(_ce,{})}),r.jsx(nt,{path:"/order-confirmation/:orderNumber",element:r.jsx(qht,{})}),r.jsx(nt,{path:"/profile",element:r.jsx(lf,{children:r.jsx(Vht,{})})}),r.jsx(nt,{path:"/account/orders",element:r.jsx(Cd,{children:r.jsx(lO,{})})}),r.jsx(nt,{path:"/account/profile",element:r.jsx(Cd,{children:r.jsx(m2,{})})}),r.jsx(nt,{path:"/orders/:id",element:r.jsx(Cd,{children:r.jsx(Dce,{})})}),r.jsx(nt,{path:"/:slug",element:r.jsx(jd,{})})]}),r.jsx(nt,{path:"/setup",element:r.jsx(lf,{children:r.jsx(vW,{})})}),r.jsx(nt,{path:"/builder/new",element:r.jsx(lf,{children:r.jsx(UW,{})})}),r.jsx(nt,{path:"/builder/:id",element:r.jsx(lf,{children:r.jsx(UW,{})})}),r.jsx(nt,{path:"/hierarchical-fullscreen",element:r.jsx(lf,{children:r.jsx(tgt,{})})}),r.jsx(nt,{path:"/dashboard/ai",element:r.jsx(lf,{children:r.jsx(iYe,{})})}),r.jsxs(nt,{element:r.jsx(lf,{children:r.jsx(egt,{})}),children:[r.jsx(nt,{path:"/dashboard",element:r.jsx(nYe,{})}),r.jsx(nt,{path:"/dashboard/market-setup",element:r.jsx(vW,{})}),r.jsx(nt,{path:"/dashboard/profile",element:r.jsx(Cft,{})}),r.jsx(nt,{path:"/dashboard/products",element:r.jsx(Ro,{route:"/dashboard/products",children:r.jsx(Slt,{})})}),r.jsx(nt,{path:"/dashboard/categories",element:r.jsx(Ro,{route:"/dashboard/categories",children:r.jsx(Clt,{})})}),r.jsx(nt,{path:"/dashboard/hierarchical",element:r.jsx(Ro,{route:"/dashboard/hierarchical",children:r.jsx(gle,{})})}),r.jsx(nt,{path:"/dashboard/prices",element:r.jsx(Ro,{route:"/dashboard/prices",children:r.jsx(Adt,{})})}),r.jsx(nt,{path:"/dashboard/orders",element:r.jsx(Ro,{route:"/dashboard/orders",children:r.jsx(Edt,{})})}),r.jsx(nt,{path:"/dashboard/customers",element:r.jsx(Ro,{route:"/dashboard/customers",children:r.jsx(Idt,{})})}),r.jsx(nt,{path:"/dashboard/reports",element:r.jsx(Ro,{route:"/dashboard/reports",children:r.jsx(Mdt,{})})}),r.jsx(nt,{path:"/dashboard/pages",element:r.jsx(Ght,{})}),r.jsx(nt,{path:"/dashboard/chat",element:r.jsx(vut,{})}),r.jsx(nt,{path:"/dashboard/storefront",element:r.jsx(yW,{})}),r.jsx(nt,{path:"/dashboard/navigation",element:r.jsx(yW,{})}),r.jsx(nt,{path:"/dashboard/marketing",element:r.jsx(jut,{})}),r.jsx(nt,{path:"/dashboard/smart-line",element:r.jsx(Nut,{})}),r.jsx(nt,{path:"/dashboard/design",element:r.jsx(kut,{})}),r.jsx(nt,{path:"/dashboard/apps",element:r.jsx(Cut,{})}),r.jsx(nt,{path:"/dashboard/management",element:r.jsx(yut,{})}),r.jsx(nt,{path:"/dashboard/app-builder",element:r.jsx(but,{})}),r.jsx(nt,{path:"/dashboard/installed-apps",element:r.jsx(wut,{})}),r.jsx(nt,{path:"/dashboard/templates",element:r.jsx(gut,{})}),r.jsx(nt,{path:"/dashboard/wallet",element:r.jsx(ixt,{})}),r.jsx(nt,{path:"/dashboard/activity-log",element:r.jsx(oxt,{})}),r.jsx(nt,{path:"/dashboard/chat-team",element:r.jsx(lxt,{})}),r.jsx(nt,{path:"/dashboard/reports",element:r.jsx(cxt,{})}),r.jsx(nt,{path:"/dashboard/support",element:r.jsx(Sut,{})}),r.jsx(nt,{path:"/dashboard/help",element:r.jsx(Xce,{})}),r.jsx(nt,{path:"/dashboard/cards/store",element:r.jsx(i0t,{})}),r.jsx(nt,{path:"/dashboard/cards/favorites",element:r.jsx(o0t,{})}),r.jsx(nt,{path:"/dashboard/cards/orders",element:r.jsx(l0t,{})}),r.jsx(nt,{path:"/dashboard/cards/reports",element:r.jsx(c0t,{})}),r.jsx(nt,{path:"/dashboard/employees",element:r.jsx(Ro,{requiredPermissions:[],children:r.jsx(qle,{})})}),r.jsx(nt,{path:"/dashboard/permissions",element:r.jsx(Ro,{requiredPermissions:[],children:r.jsx(Gle,{})})}),r.jsx(nt,{path:"/dashboard/settings/suppliers",element:r.jsx(Ro,{route:"/dashboard/settings/suppliers",children:r.jsx(uW,{})})}),r.jsx(nt,{path:"/dashboard/settings/brands",element:r.jsx(Ro,{route:"/dashboard/settings/brands",children:r.jsx(mW,{})})}),r.jsx(nt,{path:"/dashboard/settings/units",element:r.jsx(Ro,{route:"/dashboard/settings/units",children:r.jsx(hW,{})})}),r.jsx(nt,{path:"/dashboard/settings/currencies",element:r.jsx(Ro,{route:"/dashboard/settings/currencies",children:r.jsx(fW,{})})}),r.jsxs(nt,{path:"/dashboard/settings",element:r.jsx(Ro,{route:"/dashboard/settings",children:r.jsx(tut,{})}),children:[r.jsx(nt,{index:!0,element:r.jsx(dW,{})}),r.jsx(nt,{path:"notifications",element:r.jsx(iut,{})}),r.jsx(nt,{path:"payment",element:r.jsx(sut,{})}),r.jsx(nt,{path:"payment-options",element:r.jsx(aut,{})}),r.jsx(nt,{path:"checkout",element:r.jsx(nut,{})}),r.jsx(nt,{path:"limits",element:r.jsx(put,{})}),r.jsx(nt,{path:"domains",element:r.jsx(out,{})}),r.jsx(nt,{path:"suppliers",element:r.jsx(uW,{})}),r.jsx(nt,{path:"brands",element:r.jsx(mW,{})}),r.jsx(nt,{path:"units",element:r.jsx(hW,{})}),r.jsx(nt,{path:"currencies",element:r.jsx(fW,{})}),r.jsx(nt,{path:"users",element:r.jsx(lut,{})}),r.jsx(nt,{path:"integrations",element:r.jsx(cut,{})}),r.jsx(nt,{path:"kyc",element:r.jsx(dut,{})}),r.jsx(nt,{path:"billing",element:r.jsx(fut,{})})]}),r.jsx(nt,{path:"/dashboard/store-settings",element:r.jsx(dW,{})})]}),r.jsx(nt,{path:"*",element:r.jsx(qY,{})})]}):r.jsx(Sgt,{})})]})})})})})})})})})]},t.language)};SG(document.getElementById("root")).render(r.jsx(h0t,{}));export{Uo as B,we as C,ir as D,pe as I,Je as L,rr as P,Jo as S,Sr as T,Rr as a,st as b,it as c,vg as d,V as e,ar as f,lr as g,cr as h,Xr as i,r as j,pr as k,Y as l,no as m,zr as n,va as o,Se as p,et as q,f as r,Yfe as s,It as u,Is as w};
