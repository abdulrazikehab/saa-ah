var nM=e=>{throw TypeError(e)};var JA=(e,t,r)=>t.has(e)||nM("Cannot "+r);var ut=(e,t,r)=>(JA(e,t,"read from private field"),r?r.call(e):t.get(e)),Os=(e,t,r)=>t.has(e)?nM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Yr=(e,t,r,a)=>(JA(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Ei=(e,t,r)=>(JA(e,t,"access private method"),r);var Rj=(e,t,r,a)=>({set _(n){Yr(e,t,n,r)},get _(){return ut(e,t,a)}});function xde(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Fj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wW={exports:{}},fk={},jW={exports:{}},gs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=Symbol.for("react.element"),gde=Symbol.for("react.portal"),vde=Symbol.for("react.fragment"),yde=Symbol.for("react.strict_mode"),bde=Symbol.for("react.profiler"),wde=Symbol.for("react.provider"),jde=Symbol.for("react.context"),Nde=Symbol.for("react.forward_ref"),Sde=Symbol.for("react.suspense"),kde=Symbol.for("react.memo"),Cde=Symbol.for("react.lazy"),iM=Symbol.iterator;function Ade(e){return e===null||typeof e!="object"?null:(e=iM&&e[iM]||e["@@iterator"],typeof e=="function"?e:null)}var NW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SW=Object.assign,kW={};function h0(e,t,r){this.props=e,this.context=t,this.refs=kW,this.updater=r||NW}h0.prototype.isReactComponent={};h0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};h0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CW(){}CW.prototype=h0.prototype;function OD(e,t,r){this.props=e,this.context=t,this.refs=kW,this.updater=r||NW}var ID=OD.prototype=new CW;ID.constructor=OD;SW(ID,h0.prototype);ID.isPureReactComponent=!0;var oM=Array.isArray,AW=Object.prototype.hasOwnProperty,RD={current:null},EW={key:!0,ref:!0,__self:!0,__source:!0};function PW(e,t,r){var a,n={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)AW.call(t,a)&&!EW.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:_w,type:e,key:i,ref:o,props:n,_owner:RD.current}}function Ede(e,t){return{$$typeof:_w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FD(e){return typeof e=="object"&&e!==null&&e.$$typeof===_w}function Pde(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lM=/\/+/g;function ZA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pde(""+e.key):t.toString(36)}function rN(e,t,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _w:case gde:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+ZA(o,0):a,oM(n)?(r="",e!=null&&(r=e.replace(lM,"$&/")+"/"),rN(n,t,r,"",function(d){return d})):n!=null&&(FD(n)&&(n=Ede(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(lM,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",oM(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+ZA(i,l);o+=rN(i,t,r,c,n)}else if(c=Ade(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+ZA(i,l++),o+=rN(i,t,r,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mj(e,t,r){if(e==null)return e;var a=[],n=0;return rN(e,a,"","",function(i){return t.call(r,i,n++)}),a}function Tde(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var go={current:null},sN={transition:null},_de={ReactCurrentDispatcher:go,ReactCurrentBatchConfig:sN,ReactCurrentOwner:RD};function TW(){throw Error("act(...) is not supported in production builds of React.")}gs.Children={map:Mj,forEach:function(e,t,r){Mj(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mj(e,function(){t++}),t},toArray:function(e){return Mj(e,function(t){return t})||[]},only:function(e){if(!FD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gs.Component=h0;gs.Fragment=vde;gs.Profiler=bde;gs.PureComponent=OD;gs.StrictMode=yde;gs.Suspense=Sde;gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_de;gs.act=TW;gs.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=SW({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=RD.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)AW.call(t,c)&&!EW.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:_w,type:e.type,key:n,ref:i,props:a,_owner:o}};gs.createContext=function(e){return e={$$typeof:jde,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wde,_context:e},e.Consumer=e};gs.createElement=PW;gs.createFactory=function(e){var t=PW.bind(null,e);return t.type=e,t};gs.createRef=function(){return{current:null}};gs.forwardRef=function(e){return{$$typeof:Nde,render:e}};gs.isValidElement=FD;gs.lazy=function(e){return{$$typeof:Cde,_payload:{_status:-1,_result:e},_init:Tde}};gs.memo=function(e,t){return{$$typeof:kde,type:e,compare:t===void 0?null:t}};gs.startTransition=function(e){var t=sN.transition;sN.transition={};try{e()}finally{sN.transition=t}};gs.unstable_act=TW;gs.useCallback=function(e,t){return go.current.useCallback(e,t)};gs.useContext=function(e){return go.current.useContext(e)};gs.useDebugValue=function(){};gs.useDeferredValue=function(e){return go.current.useDeferredValue(e)};gs.useEffect=function(e,t){return go.current.useEffect(e,t)};gs.useId=function(){return go.current.useId()};gs.useImperativeHandle=function(e,t,r){return go.current.useImperativeHandle(e,t,r)};gs.useInsertionEffect=function(e,t){return go.current.useInsertionEffect(e,t)};gs.useLayoutEffect=function(e,t){return go.current.useLayoutEffect(e,t)};gs.useMemo=function(e,t){return go.current.useMemo(e,t)};gs.useReducer=function(e,t,r){return go.current.useReducer(e,t,r)};gs.useRef=function(e){return go.current.useRef(e)};gs.useState=function(e){return go.current.useState(e)};gs.useSyncExternalStore=function(e,t,r){return go.current.useSyncExternalStore(e,t,r)};gs.useTransition=function(){return go.current.useTransition()};gs.version="18.3.1";jW.exports=gs;var f=jW.exports;const ae=qs(f),MD=xde({__proto__:null,default:ae},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dde=f,Ode=Symbol.for("react.element"),Ide=Symbol.for("react.fragment"),Rde=Object.prototype.hasOwnProperty,Fde=Dde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mde={key:!0,ref:!0,__self:!0,__source:!0};function _W(e,t,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)Rde.call(t,a)&&!Mde.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:Ode,type:e,key:i,ref:o,props:n,_owner:Fde.current}}fk.Fragment=Ide;fk.jsx=_W;fk.jsxs=_W;wW.exports=fk;var s=wW.exports,DW={exports:{}},xl={},OW={exports:{}},IW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var H=R.length;R.push(L);e:for(;0<H;){var W=H-1>>>1,M=R[W];if(0<n(M,L))R[W]=L,R[H]=M,H=W;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var L=R[0],H=R.pop();if(H!==L){R[0]=H;e:for(var W=0,M=R.length,G=M>>>1;W<G;){var V=2*(W+1)-1,q=R[V],Y=V+1,U=R[Y];if(0>n(q,H))Y<M&&0>n(U,q)?(R[W]=U,R[Y]=H,W=Y):(R[W]=q,R[V]=H,W=V);else if(Y<M&&0>n(U,H))R[W]=U,R[Y]=H,W=Y;else break e}}return L}function n(R,L){var H=R.sortIndex-L.sortIndex;return H!==0?H:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=R)a(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function N(R){if(x=!1,v(R),!g)if(r(c)!==null)g=!0,F(j);else{var L=r(d);L!==null&&I(N,L.startTime-R)}}function j(R,L){g=!1,x&&(x=!1,w(C),C=-1),p=!0;var H=m;try{for(v(L),h=r(c);h!==null&&(!(h.expirationTime>L)||R&&!D());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var M=W(h.expirationTime<=L);L=e.unstable_now(),typeof M=="function"?h.callback=M:h===r(c)&&a(c),v(L)}else a(c);h=r(c)}if(h!==null)var G=!0;else{var V=r(d);V!==null&&I(N,V.startTime-L),G=!1}return G}finally{h=null,m=H,p=!1}}var k=!1,S=null,C=-1,A=5,E=-1;function D(){return!(e.unstable_now()-E<A)}function P(){if(S!==null){var R=e.unstable_now();E=R;var L=!0;try{L=S(!0,R)}finally{L?T():(k=!1,S=null)}}else k=!1}var T;if(typeof b=="function")T=function(){b(P)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,O=_.port2;_.port1.onmessage=P,T=function(){O.postMessage(null)}}else T=function(){y(P,0)};function F(R){S=R,k||(k=!0,T())}function I(R,L){C=y(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,F(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return R()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=m;m=R;try{return L()}finally{m=H}},e.unstable_scheduleCallback=function(R,L,H){var W=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=H+M,R={id:u++,callback:L,priorityLevel:R,startTime:H,expirationTime:M,sortIndex:-1},H>W?(R.sortIndex=H,t(d,R),r(c)===null&&R===r(d)&&(x?(w(C),C=-1):x=!0,I(N,H-W))):(R.sortIndex=M,t(c,R),g||p||(g=!0,F(j))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var L=m;return function(){var H=m;m=L;try{return R.apply(this,arguments)}finally{m=H}}}})(IW);OW.exports=IW;var Lde=OW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $de=f,hl=Lde;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RW=new Set,Hy={};function xp(e,t){fg(e,t),fg(e+"Capture",t)}function fg(e,t){for(Hy[e]=t,e=0;e<t.length;e++)RW.add(t[e])}var gu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ST=Object.prototype.hasOwnProperty,Bde=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cM={},dM={};function Ude(e){return ST.call(dM,e)?!0:ST.call(cM,e)?!1:Bde.test(e)?dM[e]=!0:(cM[e]=!0,!1)}function Vde(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zde(e,t,r,a){if(t===null||typeof t>"u"||Vde(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vo(e,t,r,a,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wi[e]=new vo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wi[t]=new vo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wi[e]=new vo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wi[e]=new vo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wi[e]=new vo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wi[e]=new vo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wi[e]=new vo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wi[e]=new vo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wi[e]=new vo(e,5,!1,e.toLowerCase(),null,!1,!1)});var LD=/[\-:]([a-z])/g;function $D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(LD,$D);wi[t]=new vo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(LD,$D);wi[t]=new vo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(LD,$D);wi[t]=new vo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wi[e]=new vo(e,1,!1,e.toLowerCase(),null,!1,!1)});wi.xlinkHref=new vo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wi[e]=new vo(e,1,!1,e.toLowerCase(),null,!0,!0)});function BD(e,t,r,a){var n=wi.hasOwnProperty(t)?wi[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zde(t,r,n,a)&&(r=null),a||n===null?Ude(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Iu=$de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lj=Symbol.for("react.element"),ix=Symbol.for("react.portal"),ox=Symbol.for("react.fragment"),UD=Symbol.for("react.strict_mode"),kT=Symbol.for("react.profiler"),FW=Symbol.for("react.provider"),MW=Symbol.for("react.context"),VD=Symbol.for("react.forward_ref"),CT=Symbol.for("react.suspense"),AT=Symbol.for("react.suspense_list"),zD=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),LW=Symbol.for("react.offscreen"),uM=Symbol.iterator;function nv(e){return e===null||typeof e!="object"?null:(e=uM&&e[uM]||e["@@iterator"],typeof e=="function"?e:null)}var Wa=Object.assign,eE;function Vv(e){if(eE===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);eE=t&&t[1]||""}return`
`+eE+e}var tE=!1;function rE(e,t){if(!e||tE)return"";tE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{tE=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vv(e):""}function Wde(e){switch(e.tag){case 5:return Vv(e.type);case 16:return Vv("Lazy");case 13:return Vv("Suspense");case 19:return Vv("SuspenseList");case 0:case 2:case 15:return e=rE(e.type,!1),e;case 11:return e=rE(e.type.render,!1),e;case 1:return e=rE(e.type,!0),e;default:return""}}function ET(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ox:return"Fragment";case ix:return"Portal";case kT:return"Profiler";case UD:return"StrictMode";case CT:return"Suspense";case AT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MW:return(e.displayName||"Context")+".Consumer";case FW:return(e._context.displayName||"Context")+".Provider";case VD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zD:return t=e.displayName||null,t!==null?t:ET(e.type)||"Memo";case ch:t=e._payload,e=e._init;try{return ET(e(t))}catch{}}return null}function Hde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ET(t);case 8:return t===UD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $W(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qde(e){var t=$W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $j(e){e._valueTracker||(e._valueTracker=qde(e))}function BW(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=$W(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function MN(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function PT(e,t){var r=t.checked;return Wa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hM(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Zh(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UW(e,t){t=t.checked,t!=null&&BD(e,"checked",t,!1)}function TT(e,t){UW(e,t);var r=Zh(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_T(e,t.type,r):t.hasOwnProperty("defaultValue")&&_T(e,t.type,Zh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mM(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _T(e,t,r){(t!=="number"||MN(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zv=Array.isArray;function Rx(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Zh(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function DT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return Wa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fM(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(bt(92));if(zv(r)){if(1<r.length)throw Error(bt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zh(r)}}function VW(e,t){var r=Zh(t.value),a=Zh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function pM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zW(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zW(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bj,WW=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bj=Bj||document.createElement("div"),Bj.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bj.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qy(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ny={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gde=["Webkit","ms","Moz","O"];Object.keys(ny).forEach(function(e){Gde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ny[t]=ny[e]})});function HW(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ny.hasOwnProperty(e)&&ny[e]?(""+t).trim():t+"px"}function qW(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=HW(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var Kde=Wa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IT(e,t){if(t){if(Kde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function RT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=null;function WD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var MT=null,Fx=null,Mx=null;function xM(e){if(e=Iw(e)){if(typeof MT!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=yk(t),MT(e.stateNode,e.type,t))}}function GW(e){Fx?Mx?Mx.push(e):Mx=[e]:Fx=e}function KW(){if(Fx){var e=Fx,t=Mx;if(Mx=Fx=null,xM(e),t)for(e=0;e<t.length;e++)xM(t[e])}}function YW(e,t){return e(t)}function XW(){}var sE=!1;function QW(e,t,r){if(sE)return e(t,r);sE=!0;try{return YW(e,t,r)}finally{sE=!1,(Fx!==null||Mx!==null)&&(XW(),KW())}}function Gy(e,t){var r=e.stateNode;if(r===null)return null;var a=yk(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(bt(231,t,typeof r));return r}var LT=!1;if(gu)try{var iv={};Object.defineProperty(iv,"passive",{get:function(){LT=!0}}),window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{LT=!1}function Yde(e,t,r,a,n,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var iy=!1,LN=null,$N=!1,$T=null,Xde={onError:function(e){iy=!0,LN=e}};function Qde(e,t,r,a,n,i,o,l,c){iy=!1,LN=null,Yde.apply(Xde,arguments)}function Jde(e,t,r,a,n,i,o,l,c){if(Qde.apply(this,arguments),iy){if(iy){var d=LN;iy=!1,LN=null}else throw Error(bt(198));$N||($N=!0,$T=d)}}function gp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function JW(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gM(e){if(gp(e)!==e)throw Error(bt(188))}function Zde(e){var t=e.alternate;if(!t){if(t=gp(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return gM(n),e;if(i===a)return gM(n),t;i=i.sibling}throw Error(bt(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(bt(189))}}if(r.alternate!==a)throw Error(bt(190))}if(r.tag!==3)throw Error(bt(188));return r.stateNode.current===r?e:t}function ZW(e){return e=Zde(e),e!==null?eH(e):null}function eH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eH(e);if(t!==null)return t;e=e.sibling}return null}var tH=hl.unstable_scheduleCallback,vM=hl.unstable_cancelCallback,eue=hl.unstable_shouldYield,tue=hl.unstable_requestPaint,cn=hl.unstable_now,rue=hl.unstable_getCurrentPriorityLevel,HD=hl.unstable_ImmediatePriority,rH=hl.unstable_UserBlockingPriority,BN=hl.unstable_NormalPriority,sue=hl.unstable_LowPriority,sH=hl.unstable_IdlePriority,pk=null,bd=null;function aue(e){if(bd&&typeof bd.onCommitFiberRoot=="function")try{bd.onCommitFiberRoot(pk,e,void 0,(e.current.flags&128)===128)}catch{}}var Oc=Math.clz32?Math.clz32:oue,nue=Math.log,iue=Math.LN2;function oue(e){return e>>>=0,e===0?32:31-(nue(e)/iue|0)|0}var Uj=64,Vj=4194304;function Wv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function UN(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?a=Wv(l):(i&=o,i!==0&&(a=Wv(i)))}else o=r&~n,o!==0?a=Wv(o):i!==0&&(a=Wv(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Oc(t),n=1<<r,a|=e[r],t&=~n;return a}function lue(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cue(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Oc(i),l=1<<o,c=n[o];c===-1?(!(l&r)||l&a)&&(n[o]=lue(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function BT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aH(){var e=Uj;return Uj<<=1,!(Uj&4194240)&&(Uj=64),e}function aE(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dw(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oc(t),e[t]=r}function due(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Oc(r),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function qD(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Oc(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var ea=0;function nH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iH,GD,oH,lH,cH,UT=!1,zj=[],Ih=null,Rh=null,Fh=null,Ky=new Map,Yy=new Map,fh=[],uue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yM(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":Fh=null;break;case"pointerover":case"pointerout":Ky.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yy.delete(t.pointerId)}}function ov(e,t,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Iw(t),t!==null&&GD(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function hue(e,t,r,a,n){switch(t){case"focusin":return Ih=ov(Ih,e,t,r,a,n),!0;case"dragenter":return Rh=ov(Rh,e,t,r,a,n),!0;case"mouseover":return Fh=ov(Fh,e,t,r,a,n),!0;case"pointerover":var i=n.pointerId;return Ky.set(i,ov(Ky.get(i)||null,e,t,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Yy.set(i,ov(Yy.get(i)||null,e,t,r,a,n)),!0}return!1}function dH(e){var t=df(e.target);if(t!==null){var r=gp(t);if(r!==null){if(t=r.tag,t===13){if(t=JW(r),t!==null){e.blockedOn=t,cH(e.priority,function(){oH(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aN(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=VT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);FT=a,r.target.dispatchEvent(a),FT=null}else return t=Iw(r),t!==null&&GD(t),e.blockedOn=r,!1;t.shift()}return!0}function bM(e,t,r){aN(e)&&r.delete(t)}function mue(){UT=!1,Ih!==null&&aN(Ih)&&(Ih=null),Rh!==null&&aN(Rh)&&(Rh=null),Fh!==null&&aN(Fh)&&(Fh=null),Ky.forEach(bM),Yy.forEach(bM)}function lv(e,t){e.blockedOn===t&&(e.blockedOn=null,UT||(UT=!0,hl.unstable_scheduleCallback(hl.unstable_NormalPriority,mue)))}function Xy(e){function t(n){return lv(n,e)}if(0<zj.length){lv(zj[0],e);for(var r=1;r<zj.length;r++){var a=zj[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Ih!==null&&lv(Ih,e),Rh!==null&&lv(Rh,e),Fh!==null&&lv(Fh,e),Ky.forEach(t),Yy.forEach(t),r=0;r<fh.length;r++)a=fh[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<fh.length&&(r=fh[0],r.blockedOn===null);)dH(r),r.blockedOn===null&&fh.shift()}var Lx=Iu.ReactCurrentBatchConfig,VN=!0;function fue(e,t,r,a){var n=ea,i=Lx.transition;Lx.transition=null;try{ea=1,KD(e,t,r,a)}finally{ea=n,Lx.transition=i}}function pue(e,t,r,a){var n=ea,i=Lx.transition;Lx.transition=null;try{ea=4,KD(e,t,r,a)}finally{ea=n,Lx.transition=i}}function KD(e,t,r,a){if(VN){var n=VT(e,t,r,a);if(n===null)fE(e,t,a,zN,r),yM(e,a);else if(hue(n,e,t,r,a))a.stopPropagation();else if(yM(e,a),t&4&&-1<uue.indexOf(e)){for(;n!==null;){var i=Iw(n);if(i!==null&&iH(i),i=VT(e,t,r,a),i===null&&fE(e,t,a,zN,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else fE(e,t,a,null,r)}}var zN=null;function VT(e,t,r,a){if(zN=null,e=WD(a),e=df(e),e!==null)if(t=gp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=JW(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zN=e,null}function uH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rue()){case HD:return 1;case rH:return 4;case BN:case sue:return 16;case sH:return 536870912;default:return 16}default:return 16}}var Nh=null,YD=null,nN=null;function hH(){if(nN)return nN;var e,t=YD,r=t.length,a,n="value"in Nh?Nh.value:Nh.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===n[i-a];a++);return nN=n.slice(e,1<a?1-a:void 0)}function iN(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wj(){return!0}function wM(){return!1}function gl(e){function t(r,a,n,i,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wj:wM,this.isPropagationStopped=wM,this}return Wa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wj)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wj)},persist:function(){},isPersistent:Wj}),t}var m0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XD=gl(m0),Ow=Wa({},m0,{view:0,detail:0}),xue=gl(Ow),nE,iE,cv,xk=Wa({},Ow,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cv&&(cv&&e.type==="mousemove"?(nE=e.screenX-cv.screenX,iE=e.screenY-cv.screenY):iE=nE=0,cv=e),nE)},movementY:function(e){return"movementY"in e?e.movementY:iE}}),jM=gl(xk),gue=Wa({},xk,{dataTransfer:0}),vue=gl(gue),yue=Wa({},Ow,{relatedTarget:0}),oE=gl(yue),bue=Wa({},m0,{animationName:0,elapsedTime:0,pseudoElement:0}),wue=gl(bue),jue=Wa({},m0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nue=gl(jue),Sue=Wa({},m0,{data:0}),NM=gl(Sue),kue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eue(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Aue[e])?!!t[e]:!1}function QD(){return Eue}var Pue=Wa({},Ow,{key:function(e){if(e.key){var t=kue[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iN(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cue[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QD,charCode:function(e){return e.type==="keypress"?iN(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iN(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tue=gl(Pue),_ue=Wa({},xk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SM=gl(_ue),Due=Wa({},Ow,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QD}),Oue=gl(Due),Iue=Wa({},m0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rue=gl(Iue),Fue=Wa({},xk,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mue=gl(Fue),Lue=[9,13,27,32],JD=gu&&"CompositionEvent"in window,oy=null;gu&&"documentMode"in document&&(oy=document.documentMode);var $ue=gu&&"TextEvent"in window&&!oy,mH=gu&&(!JD||oy&&8<oy&&11>=oy),kM=" ",CM=!1;function fH(e,t){switch(e){case"keyup":return Lue.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lx=!1;function Bue(e,t){switch(e){case"compositionend":return pH(t);case"keypress":return t.which!==32?null:(CM=!0,kM);case"textInput":return e=t.data,e===kM&&CM?null:e;default:return null}}function Uue(e,t){if(lx)return e==="compositionend"||!JD&&fH(e,t)?(e=hH(),nN=YD=Nh=null,lx=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mH&&t.locale!=="ko"?null:t.data;default:return null}}var Vue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vue[e.type]:t==="textarea"}function xH(e,t,r,a){GW(a),t=WN(t,"onChange"),0<t.length&&(r=new XD("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var ly=null,Qy=null;function zue(e){AH(e,0)}function gk(e){var t=ux(e);if(BW(t))return e}function Wue(e,t){if(e==="change")return t}var gH=!1;if(gu){var lE;if(gu){var cE="oninput"in document;if(!cE){var EM=document.createElement("div");EM.setAttribute("oninput","return;"),cE=typeof EM.oninput=="function"}lE=cE}else lE=!1;gH=lE&&(!document.documentMode||9<document.documentMode)}function PM(){ly&&(ly.detachEvent("onpropertychange",vH),Qy=ly=null)}function vH(e){if(e.propertyName==="value"&&gk(Qy)){var t=[];xH(t,Qy,e,WD(e)),QW(zue,t)}}function Hue(e,t,r){e==="focusin"?(PM(),ly=t,Qy=r,ly.attachEvent("onpropertychange",vH)):e==="focusout"&&PM()}function que(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gk(Qy)}function Gue(e,t){if(e==="click")return gk(t)}function Kue(e,t){if(e==="input"||e==="change")return gk(t)}function Yue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lc=typeof Object.is=="function"?Object.is:Yue;function Jy(e,t){if(Lc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!ST.call(t,n)||!Lc(e[n],t[n]))return!1}return!0}function TM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _M(e,t){var r=TM(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TM(r)}}function yH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bH(){for(var e=window,t=MN();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=MN(e.document)}return t}function ZD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xue(e){var t=bH(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yH(r.ownerDocument.documentElement,r)){if(a!==null&&ZD(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=_M(r,i);var o=_M(r,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Que=gu&&"documentMode"in document&&11>=document.documentMode,cx=null,zT=null,cy=null,WT=!1;function DM(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;WT||cx==null||cx!==MN(a)||(a=cx,"selectionStart"in a&&ZD(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),cy&&Jy(cy,a)||(cy=a,a=WN(zT,"onSelect"),0<a.length&&(t=new XD("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=cx)))}function Hj(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dx={animationend:Hj("Animation","AnimationEnd"),animationiteration:Hj("Animation","AnimationIteration"),animationstart:Hj("Animation","AnimationStart"),transitionend:Hj("Transition","TransitionEnd")},dE={},wH={};gu&&(wH=document.createElement("div").style,"AnimationEvent"in window||(delete dx.animationend.animation,delete dx.animationiteration.animation,delete dx.animationstart.animation),"TransitionEvent"in window||delete dx.transitionend.transition);function vk(e){if(dE[e])return dE[e];if(!dx[e])return e;var t=dx[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wH)return dE[e]=t[r];return e}var jH=vk("animationend"),NH=vk("animationiteration"),SH=vk("animationstart"),kH=vk("transitionend"),CH=new Map,OM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xm(e,t){CH.set(e,t),xp(t,[e])}for(var uE=0;uE<OM.length;uE++){var hE=OM[uE],Jue=hE.toLowerCase(),Zue=hE[0].toUpperCase()+hE.slice(1);xm(Jue,"on"+Zue)}xm(jH,"onAnimationEnd");xm(NH,"onAnimationIteration");xm(SH,"onAnimationStart");xm("dblclick","onDoubleClick");xm("focusin","onFocus");xm("focusout","onBlur");xm(kH,"onTransitionEnd");fg("onMouseEnter",["mouseout","mouseover"]);fg("onMouseLeave",["mouseout","mouseover"]);fg("onPointerEnter",["pointerout","pointerover"]);fg("onPointerLeave",["pointerout","pointerover"]);xp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xp("onBeforeInput",["compositionend","keypress","textInput","paste"]);xp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ehe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hv));function IM(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Jde(a,t,void 0,e),e.currentTarget=null}function AH(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&n.isPropagationStopped())break e;IM(n,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&n.isPropagationStopped())break e;IM(n,l,d),i=c}}}if($N)throw e=$T,$N=!1,$T=null,e}function wa(e,t){var r=t[YT];r===void 0&&(r=t[YT]=new Set);var a=e+"__bubble";r.has(a)||(EH(t,e,2,!1),r.add(a))}function mE(e,t,r){var a=0;t&&(a|=4),EH(r,e,a,t)}var qj="_reactListening"+Math.random().toString(36).slice(2);function Zy(e){if(!e[qj]){e[qj]=!0,RW.forEach(function(r){r!=="selectionchange"&&(ehe.has(r)||mE(r,!1,e),mE(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qj]||(t[qj]=!0,mE("selectionchange",!1,t))}}function EH(e,t,r,a){switch(uH(t)){case 1:var n=fue;break;case 4:n=pue;break;default:n=KD}r=n.bind(null,t,r,e),n=void 0,!LT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function fE(e,t,r,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=df(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}QW(function(){var d=i,u=WD(r),h=[];e:{var m=CH.get(e);if(m!==void 0){var p=XD,g=e;switch(e){case"keypress":if(iN(r)===0)break e;case"keydown":case"keyup":p=Tue;break;case"focusin":g="focus",p=oE;break;case"focusout":g="blur",p=oE;break;case"beforeblur":case"afterblur":p=oE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Oue;break;case jH:case NH:case SH:p=wue;break;case kH:p=Rue;break;case"scroll":p=xue;break;case"wheel":p=Mue;break;case"copy":case"cut":case"paste":p=Nue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=SM}var x=(t&4)!==0,y=!x&&e==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var b=d,v;b!==null;){v=b;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,w!==null&&(N=Gy(b,w),N!=null&&x.push(eb(b,N,v)))),y)break;b=b.return}0<x.length&&(m=new p(m,g,null,r,u),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==FT&&(g=r.relatedTarget||r.fromElement)&&(df(g)||g[vu]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=d,g=g?df(g):null,g!==null&&(y=gp(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(x=jM,N="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=SM,N="onPointerLeave",w="onPointerEnter",b="pointer"),y=p==null?m:ux(p),v=g==null?m:ux(g),m=new x(N,b+"leave",p,r,u),m.target=y,m.relatedTarget=v,N=null,df(u)===d&&(x=new x(w,b+"enter",g,r,u),x.target=v,x.relatedTarget=y,N=x),y=N,p&&g)t:{for(x=p,w=g,b=0,v=x;v;v=Bp(v))b++;for(v=0,N=w;N;N=Bp(N))v++;for(;0<b-v;)x=Bp(x),b--;for(;0<v-b;)w=Bp(w),v--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=Bp(x),w=Bp(w)}x=null}else x=null;p!==null&&RM(h,m,p,x,!1),g!==null&&y!==null&&RM(h,y,g,x,!0)}}e:{if(m=d?ux(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=Wue;else if(AM(m))if(gH)j=Kue;else{j=que;var k=Hue}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Gue);if(j&&(j=j(e,d))){xH(h,j,r,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&_T(m,"number",m.value)}switch(k=d?ux(d):window,e){case"focusin":(AM(k)||k.contentEditable==="true")&&(cx=k,zT=d,cy=null);break;case"focusout":cy=zT=cx=null;break;case"mousedown":WT=!0;break;case"contextmenu":case"mouseup":case"dragend":WT=!1,DM(h,r,u);break;case"selectionchange":if(Que)break;case"keydown":case"keyup":DM(h,r,u)}var S;if(JD)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else lx?fH(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(mH&&r.locale!=="ko"&&(lx||C!=="onCompositionStart"?C==="onCompositionEnd"&&lx&&(S=hH()):(Nh=u,YD="value"in Nh?Nh.value:Nh.textContent,lx=!0)),k=WN(d,C),0<k.length&&(C=new NM(C,e,null,r,u),h.push({event:C,listeners:k}),S?C.data=S:(S=pH(r),S!==null&&(C.data=S)))),(S=$ue?Bue(e,r):Uue(e,r))&&(d=WN(d,"onBeforeInput"),0<d.length&&(u=new NM("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}AH(h,t)})}function eb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function WN(e,t){for(var r=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Gy(e,r),i!=null&&a.unshift(eb(e,i,n)),i=Gy(e,t),i!=null&&a.push(eb(e,i,n))),e=e.return}return a}function Bp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function RM(e,t,r,a,n){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,n?(c=Gy(r,i),c!=null&&o.unshift(eb(r,c,l))):n||(c=Gy(r,i),c!=null&&o.push(eb(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var the=/\r\n?/g,rhe=/\u0000|\uFFFD/g;function FM(e){return(typeof e=="string"?e:""+e).replace(the,`
`).replace(rhe,"")}function Gj(e,t,r){if(t=FM(t),FM(e)!==t&&r)throw Error(bt(425))}function HN(){}var HT=null,qT=null;function GT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KT=typeof setTimeout=="function"?setTimeout:void 0,she=typeof clearTimeout=="function"?clearTimeout:void 0,MM=typeof Promise=="function"?Promise:void 0,ahe=typeof queueMicrotask=="function"?queueMicrotask:typeof MM<"u"?function(e){return MM.resolve(null).then(e).catch(nhe)}:KT;function nhe(e){setTimeout(function(){throw e})}function pE(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),Xy(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Xy(t)}function Mh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var f0=Math.random().toString(36).slice(2),dd="__reactFiber$"+f0,tb="__reactProps$"+f0,vu="__reactContainer$"+f0,YT="__reactEvents$"+f0,ihe="__reactListeners$"+f0,ohe="__reactHandles$"+f0;function df(e){var t=e[dd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vu]||r[dd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LM(e);e!==null;){if(r=e[dd])return r;e=LM(e)}return t}e=r,r=e.parentNode}return null}function Iw(e){return e=e[dd]||e[vu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ux(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function yk(e){return e[tb]||null}var XT=[],hx=-1;function gm(e){return{current:e}}function Ca(e){0>hx||(e.current=XT[hx],XT[hx]=null,hx--)}function pa(e,t){hx++,XT[hx]=e.current,e.current=t}var em={},qi=gm(em),Mo=gm(!1),Vf=em;function pg(e,t){var r=e.type.contextTypes;if(!r)return em;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Lo(e){return e=e.childContextTypes,e!=null}function qN(){Ca(Mo),Ca(qi)}function $M(e,t,r){if(qi.current!==em)throw Error(bt(168));pa(qi,t),pa(Mo,r)}function PH(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(bt(108,Hde(e)||"Unknown",n));return Wa({},r,a)}function GN(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||em,Vf=qi.current,pa(qi,e),pa(Mo,Mo.current),!0}function BM(e,t,r){var a=e.stateNode;if(!a)throw Error(bt(169));r?(e=PH(e,t,Vf),a.__reactInternalMemoizedMergedChildContext=e,Ca(Mo),Ca(qi),pa(qi,e)):Ca(Mo),pa(Mo,r)}var Jd=null,bk=!1,xE=!1;function TH(e){Jd===null?Jd=[e]:Jd.push(e)}function lhe(e){bk=!0,TH(e)}function vm(){if(!xE&&Jd!==null){xE=!0;var e=0,t=ea;try{var r=Jd;for(ea=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Jd=null,bk=!1}catch(n){throw Jd!==null&&(Jd=Jd.slice(e+1)),tH(HD,vm),n}finally{ea=t,xE=!1}}return null}var mx=[],fx=0,KN=null,YN=0,Ol=[],Il=0,zf=null,tu=1,ru="";function Jm(e,t){mx[fx++]=YN,mx[fx++]=KN,KN=e,YN=t}function _H(e,t,r){Ol[Il++]=tu,Ol[Il++]=ru,Ol[Il++]=zf,zf=e;var a=tu;e=ru;var n=32-Oc(a)-1;a&=~(1<<n),r+=1;var i=32-Oc(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,tu=1<<32-Oc(t)+n|r<<n|a,ru=i+e}else tu=1<<i|r<<n|a,ru=e}function eO(e){e.return!==null&&(Jm(e,1),_H(e,1,0))}function tO(e){for(;e===KN;)KN=mx[--fx],mx[fx]=null,YN=mx[--fx],mx[fx]=null;for(;e===zf;)zf=Ol[--Il],Ol[Il]=null,ru=Ol[--Il],Ol[Il]=null,tu=Ol[--Il],Ol[Il]=null}var ll=null,il=null,Ta=!1,Sc=null;function DH(e,t){var r=Ml(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function UM(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ll=e,il=Mh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ll=e,il=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zf!==null?{id:tu,overflow:ru}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ml(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ll=e,il=null,!0):!1;default:return!1}}function QT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function JT(e){if(Ta){var t=il;if(t){var r=t;if(!UM(e,t)){if(QT(e))throw Error(bt(418));t=Mh(r.nextSibling);var a=ll;t&&UM(e,t)?DH(a,r):(e.flags=e.flags&-4097|2,Ta=!1,ll=e)}}else{if(QT(e))throw Error(bt(418));e.flags=e.flags&-4097|2,Ta=!1,ll=e}}}function VM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ll=e}function Kj(e){if(e!==ll)return!1;if(!Ta)return VM(e),Ta=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!GT(e.type,e.memoizedProps)),t&&(t=il)){if(QT(e))throw OH(),Error(bt(418));for(;t;)DH(e,t),t=Mh(t.nextSibling)}if(VM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){il=Mh(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}il=null}}else il=ll?Mh(e.stateNode.nextSibling):null;return!0}function OH(){for(var e=il;e;)e=Mh(e.nextSibling)}function xg(){il=ll=null,Ta=!1}function rO(e){Sc===null?Sc=[e]:Sc.push(e)}var che=Iu.ReactCurrentBatchConfig;function dv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(bt(309));var a=r.stateNode}if(!a)throw Error(bt(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(bt(284));if(!r._owner)throw Error(bt(290,e))}return e}function Yj(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zM(e){var t=e._init;return t(e._payload)}function IH(e){function t(w,b){if(e){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function a(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function n(w,b){return w=Uh(w,b),w.index=0,w.sibling=null,w}function i(w,b,v){return w.index=v,e?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,b,v,N){return b===null||b.tag!==6?(b=NE(v,w.mode,N),b.return=w,b):(b=n(b,v),b.return=w,b)}function c(w,b,v,N){var j=v.type;return j===ox?u(w,b,v.props.children,N,v.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ch&&zM(j)===b.type)?(N=n(b,v.props),N.ref=dv(w,b,v),N.return=w,N):(N=mN(v.type,v.key,v.props,null,w.mode,N),N.ref=dv(w,b,v),N.return=w,N)}function d(w,b,v,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=SE(v,w.mode,N),b.return=w,b):(b=n(b,v.children||[]),b.return=w,b)}function u(w,b,v,N,j){return b===null||b.tag!==7?(b=Tf(v,w.mode,N,j),b.return=w,b):(b=n(b,v),b.return=w,b)}function h(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=NE(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lj:return v=mN(b.type,b.key,b.props,null,w.mode,v),v.ref=dv(w,null,b),v.return=w,v;case ix:return b=SE(b,w.mode,v),b.return=w,b;case ch:var N=b._init;return h(w,N(b._payload),v)}if(zv(b)||nv(b))return b=Tf(b,w.mode,v,null),b.return=w,b;Yj(w,b)}return null}function m(w,b,v,N){var j=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(w,b,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lj:return v.key===j?c(w,b,v,N):null;case ix:return v.key===j?d(w,b,v,N):null;case ch:return j=v._init,m(w,b,j(v._payload),N)}if(zv(v)||nv(v))return j!==null?null:u(w,b,v,N,null);Yj(w,v)}return null}function p(w,b,v,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(v)||null,l(b,w,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lj:return w=w.get(N.key===null?v:N.key)||null,c(b,w,N,j);case ix:return w=w.get(N.key===null?v:N.key)||null,d(b,w,N,j);case ch:var k=N._init;return p(w,b,v,k(N._payload),j)}if(zv(N)||nv(N))return w=w.get(v)||null,u(b,w,N,j,null);Yj(b,N)}return null}function g(w,b,v,N){for(var j=null,k=null,S=b,C=b=0,A=null;S!==null&&C<v.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var E=m(w,S,v[C],N);if(E===null){S===null&&(S=A);break}e&&S&&E.alternate===null&&t(w,S),b=i(E,b,C),k===null?j=E:k.sibling=E,k=E,S=A}if(C===v.length)return r(w,S),Ta&&Jm(w,C),j;if(S===null){for(;C<v.length;C++)S=h(w,v[C],N),S!==null&&(b=i(S,b,C),k===null?j=S:k.sibling=S,k=S);return Ta&&Jm(w,C),j}for(S=a(w,S);C<v.length;C++)A=p(S,w,C,v[C],N),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),b=i(A,b,C),k===null?j=A:k.sibling=A,k=A);return e&&S.forEach(function(D){return t(w,D)}),Ta&&Jm(w,C),j}function x(w,b,v,N){var j=nv(v);if(typeof j!="function")throw Error(bt(150));if(v=j.call(v),v==null)throw Error(bt(151));for(var k=j=null,S=b,C=b=0,A=null,E=v.next();S!==null&&!E.done;C++,E=v.next()){S.index>C?(A=S,S=null):A=S.sibling;var D=m(w,S,E.value,N);if(D===null){S===null&&(S=A);break}e&&S&&D.alternate===null&&t(w,S),b=i(D,b,C),k===null?j=D:k.sibling=D,k=D,S=A}if(E.done)return r(w,S),Ta&&Jm(w,C),j;if(S===null){for(;!E.done;C++,E=v.next())E=h(w,E.value,N),E!==null&&(b=i(E,b,C),k===null?j=E:k.sibling=E,k=E);return Ta&&Jm(w,C),j}for(S=a(w,S);!E.done;C++,E=v.next())E=p(S,w,C,E.value,N),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?C:E.key),b=i(E,b,C),k===null?j=E:k.sibling=E,k=E);return e&&S.forEach(function(P){return t(w,P)}),Ta&&Jm(w,C),j}function y(w,b,v,N){if(typeof v=="object"&&v!==null&&v.type===ox&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Lj:e:{for(var j=v.key,k=b;k!==null;){if(k.key===j){if(j=v.type,j===ox){if(k.tag===7){r(w,k.sibling),b=n(k,v.props.children),b.return=w,w=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ch&&zM(j)===k.type){r(w,k.sibling),b=n(k,v.props),b.ref=dv(w,k,v),b.return=w,w=b;break e}r(w,k);break}else t(w,k);k=k.sibling}v.type===ox?(b=Tf(v.props.children,w.mode,N,v.key),b.return=w,w=b):(N=mN(v.type,v.key,v.props,null,w.mode,N),N.ref=dv(w,b,v),N.return=w,w=N)}return o(w);case ix:e:{for(k=v.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){r(w,b.sibling),b=n(b,v.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else t(w,b);b=b.sibling}b=SE(v,w.mode,N),b.return=w,w=b}return o(w);case ch:return k=v._init,y(w,b,k(v._payload),N)}if(zv(v))return g(w,b,v,N);if(nv(v))return x(w,b,v,N);Yj(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(r(w,b.sibling),b=n(b,v),b.return=w,w=b):(r(w,b),b=NE(v,w.mode,N),b.return=w,w=b),o(w)):r(w,b)}return y}var gg=IH(!0),RH=IH(!1),XN=gm(null),QN=null,px=null,sO=null;function aO(){sO=px=QN=null}function nO(e){var t=XN.current;Ca(XN),e._currentValue=t}function ZT(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function $x(e,t){QN=e,sO=px=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Io=!0),e.firstContext=null)}function Kl(e){var t=e._currentValue;if(sO!==e)if(e={context:e,memoizedValue:t,next:null},px===null){if(QN===null)throw Error(bt(308));px=e,QN.dependencies={lanes:0,firstContext:e}}else px=px.next=e;return t}var uf=null;function iO(e){uf===null?uf=[e]:uf.push(e)}function FH(e,t,r,a){var n=t.interleaved;return n===null?(r.next=r,iO(t)):(r.next=n.next,n.next=r),t.interleaved=r,yu(e,a)}function yu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dh=!1;function oO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lh(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,As&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,yu(e,r)}return n=a.interleaved,n===null?(t.next=t,iO(a)):(t.next=n.next,n.next=t),a.interleaved=t,yu(e,r)}function oN(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,qD(e,r)}}function WM(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function JN(e,t,r,a){var n=e.updateQueue;dh=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((a&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(m=t,p=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=Wa({},h,m);break e;case 2:dh=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=n.effects,m===null?n.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;m=l,l=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);Hf|=o,e.lanes=o,e.memoizedState=h}}function HM(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(bt(191,n));n.call(a)}}}var Rw={},wd=gm(Rw),rb=gm(Rw),sb=gm(Rw);function hf(e){if(e===Rw)throw Error(bt(174));return e}function lO(e,t){switch(pa(sb,t),pa(rb,e),pa(wd,Rw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:OT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=OT(t,e)}Ca(wd),pa(wd,t)}function vg(){Ca(wd),Ca(rb),Ca(sb)}function LH(e){hf(sb.current);var t=hf(wd.current),r=OT(t,e.type);t!==r&&(pa(rb,e),pa(wd,r))}function cO(e){rb.current===e&&(Ca(wd),Ca(rb))}var Fa=gm(0);function ZN(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gE=[];function dO(){for(var e=0;e<gE.length;e++)gE[e]._workInProgressVersionPrimary=null;gE.length=0}var lN=Iu.ReactCurrentDispatcher,vE=Iu.ReactCurrentBatchConfig,Wf=0,za=null,Bn=null,ei=null,e2=!1,dy=!1,ab=0,dhe=0;function Pi(){throw Error(bt(321))}function uO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lc(e[r],t[r]))return!1;return!0}function hO(e,t,r,a,n,i){if(Wf=i,za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lN.current=e===null||e.memoizedState===null?fhe:phe,e=r(a,n),dy){i=0;do{if(dy=!1,ab=0,25<=i)throw Error(bt(301));i+=1,ei=Bn=null,t.updateQueue=null,lN.current=xhe,e=r(a,n)}while(dy)}if(lN.current=t2,t=Bn!==null&&Bn.next!==null,Wf=0,ei=Bn=za=null,e2=!1,t)throw Error(bt(300));return e}function mO(){var e=ab!==0;return ab=0,e}function sd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?za.memoizedState=ei=e:ei=ei.next=e,ei}function Yl(){if(Bn===null){var e=za.alternate;e=e!==null?e.memoizedState:null}else e=Bn.next;var t=ei===null?za.memoizedState:ei.next;if(t!==null)ei=t,Bn=e;else{if(e===null)throw Error(bt(310));Bn=e,e={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},ei===null?za.memoizedState=ei=e:ei=ei.next=e}return ei}function nb(e,t){return typeof t=="function"?t(e):t}function yE(e){var t=Yl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var a=Bn,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Wf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=a):c=c.next=h,za.lanes|=u,Hf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,Lc(a,t.memoizedState)||(Io=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,za.lanes|=i,Hf|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bE(e){var t=Yl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Lc(i,t.memoizedState)||(Io=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function $H(){}function BH(e,t){var r=za,a=Yl(),n=t(),i=!Lc(a.memoizedState,n);if(i&&(a.memoizedState=n,Io=!0),a=a.queue,fO(zH.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||ei!==null&&ei.memoizedState.tag&1){if(r.flags|=2048,ib(9,VH.bind(null,r,a,n,t),void 0,null),li===null)throw Error(bt(349));Wf&30||UH(r,t,n)}return n}function UH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=za.updateQueue,t===null?(t={lastEffect:null,stores:null},za.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VH(e,t,r,a){t.value=r,t.getSnapshot=a,WH(t)&&HH(e)}function zH(e,t,r){return r(function(){WH(t)&&HH(e)})}function WH(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lc(e,r)}catch{return!0}}function HH(e){var t=yu(e,1);t!==null&&Ic(t,e,1,-1)}function qM(e){var t=sd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:e},t.queue=e,e=e.dispatch=mhe.bind(null,za,e),[t.memoizedState,e]}function ib(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=za.updateQueue,t===null?(t={lastEffect:null,stores:null},za.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function qH(){return Yl().memoizedState}function cN(e,t,r,a){var n=sd();za.flags|=e,n.memoizedState=ib(1|t,r,void 0,a===void 0?null:a)}function wk(e,t,r,a){var n=Yl();a=a===void 0?null:a;var i=void 0;if(Bn!==null){var o=Bn.memoizedState;if(i=o.destroy,a!==null&&uO(a,o.deps)){n.memoizedState=ib(t,r,i,a);return}}za.flags|=e,n.memoizedState=ib(1|t,r,i,a)}function GM(e,t){return cN(8390656,8,e,t)}function fO(e,t){return wk(2048,8,e,t)}function GH(e,t){return wk(4,2,e,t)}function KH(e,t){return wk(4,4,e,t)}function YH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XH(e,t,r){return r=r!=null?r.concat([e]):null,wk(4,4,YH.bind(null,t,e),r)}function pO(){}function QH(e,t){var r=Yl();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&uO(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function JH(e,t){var r=Yl();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&uO(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function ZH(e,t,r){return Wf&21?(Lc(r,t)||(r=aH(),za.lanes|=r,Hf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Io=!0),e.memoizedState=r)}function uhe(e,t){var r=ea;ea=r!==0&&4>r?r:4,e(!0);var a=vE.transition;vE.transition={};try{e(!1),t()}finally{ea=r,vE.transition=a}}function eq(){return Yl().memoizedState}function hhe(e,t,r){var a=Bh(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},tq(e))rq(t,r);else if(r=FH(e,t,r,a),r!==null){var n=uo();Ic(r,e,a,n),sq(r,t,a)}}function mhe(e,t,r){var a=Bh(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(tq(e))rq(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(n.hasEagerState=!0,n.eagerState=l,Lc(l,o)){var c=t.interleaved;c===null?(n.next=n,iO(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=FH(e,t,n,a),r!==null&&(n=uo(),Ic(r,e,a,n),sq(r,t,a))}}function tq(e){var t=e.alternate;return e===za||t!==null&&t===za}function rq(e,t){dy=e2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sq(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,qD(e,r)}}var t2={readContext:Kl,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},fhe={readContext:Kl,useCallback:function(e,t){return sd().memoizedState=[e,t===void 0?null:t],e},useContext:Kl,useEffect:GM,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cN(4194308,4,YH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cN(4194308,4,e,t)},useInsertionEffect:function(e,t){return cN(4,2,e,t)},useMemo:function(e,t){var r=sd();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=sd();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=hhe.bind(null,za,e),[a.memoizedState,e]},useRef:function(e){var t=sd();return e={current:e},t.memoizedState=e},useState:qM,useDebugValue:pO,useDeferredValue:function(e){return sd().memoizedState=e},useTransition:function(){var e=qM(!1),t=e[0];return e=uhe.bind(null,e[1]),sd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=za,n=sd();if(Ta){if(r===void 0)throw Error(bt(407));r=r()}else{if(r=t(),li===null)throw Error(bt(349));Wf&30||UH(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,GM(zH.bind(null,a,i,e),[e]),a.flags|=2048,ib(9,VH.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=sd(),t=li.identifierPrefix;if(Ta){var r=ru,a=tu;r=(a&~(1<<32-Oc(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=ab++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dhe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},phe={readContext:Kl,useCallback:QH,useContext:Kl,useEffect:fO,useImperativeHandle:XH,useInsertionEffect:GH,useLayoutEffect:KH,useMemo:JH,useReducer:yE,useRef:qH,useState:function(){return yE(nb)},useDebugValue:pO,useDeferredValue:function(e){var t=Yl();return ZH(t,Bn.memoizedState,e)},useTransition:function(){var e=yE(nb)[0],t=Yl().memoizedState;return[e,t]},useMutableSource:$H,useSyncExternalStore:BH,useId:eq,unstable_isNewReconciler:!1},xhe={readContext:Kl,useCallback:QH,useContext:Kl,useEffect:fO,useImperativeHandle:XH,useInsertionEffect:GH,useLayoutEffect:KH,useMemo:JH,useReducer:bE,useRef:qH,useState:function(){return bE(nb)},useDebugValue:pO,useDeferredValue:function(e){var t=Yl();return Bn===null?t.memoizedState=e:ZH(t,Bn.memoizedState,e)},useTransition:function(){var e=bE(nb)[0],t=Yl().memoizedState;return[e,t]},useMutableSource:$H,useSyncExternalStore:BH,useId:eq,unstable_isNewReconciler:!1};function gc(e,t){if(e&&e.defaultProps){t=Wa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function e4(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Wa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jk={isMounted:function(e){return(e=e._reactInternals)?gp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=uo(),n=Bh(e),i=lu(a,n);i.payload=t,r!=null&&(i.callback=r),t=Lh(e,i,n),t!==null&&(Ic(t,e,n,a),oN(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=uo(),n=Bh(e),i=lu(a,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Lh(e,i,n),t!==null&&(Ic(t,e,n,a),oN(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=uo(),a=Bh(e),n=lu(r,a);n.tag=2,t!=null&&(n.callback=t),t=Lh(e,n,a),t!==null&&(Ic(t,e,a,r),oN(t,e,a))}};function KM(e,t,r,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Jy(r,a)||!Jy(n,i):!0}function aq(e,t,r){var a=!1,n=em,i=t.contextType;return typeof i=="object"&&i!==null?i=Kl(i):(n=Lo(t)?Vf:qi.current,a=t.contextTypes,i=(a=a!=null)?pg(e,n):em),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jk,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function YM(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&jk.enqueueReplaceState(t,t.state,null)}function t4(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},oO(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Kl(i):(i=Lo(t)?Vf:qi.current,n.context=pg(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(e4(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&jk.enqueueReplaceState(n,n.state,null),JN(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function yg(e,t){try{var r="",a=t;do r+=Wde(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function wE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function r4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ghe=typeof WeakMap=="function"?WeakMap:Map;function nq(e,t,r){r=lu(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){s2||(s2=!0,h4=a),r4(e,t)},r}function iq(e,t,r){r=lu(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){r4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){r4(e,t),typeof a!="function"&&($h===null?$h=new Set([this]):$h.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function XM(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new ghe;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=_he.bind(null,e,t,r),t.then(e,e))}function QM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JM(e,t,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=lu(-1,1),t.tag=2,Lh(r,t,1))),r.lanes|=1),e)}var vhe=Iu.ReactCurrentOwner,Io=!1;function eo(e,t,r,a){t.child=e===null?RH(t,null,r,a):gg(t,e.child,r,a)}function ZM(e,t,r,a,n){r=r.render;var i=t.ref;return $x(t,n),a=hO(e,t,r,a,i,n),r=mO(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,bu(e,t,n)):(Ta&&r&&eO(t),t.flags|=1,eo(e,t,a,n),t.child)}function eL(e,t,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!NO(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,oq(e,t,i,a,n)):(e=mN(r.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jy,r(o,a)&&e.ref===t.ref)return bu(e,t,n)}return t.flags|=1,e=Uh(i,a),e.ref=t.ref,e.return=t,t.child=e}function oq(e,t,r,a,n){if(e!==null){var i=e.memoizedProps;if(Jy(i,a)&&e.ref===t.ref)if(Io=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Io=!0);else return t.lanes=e.lanes,bu(e,t,n)}return s4(e,t,r,a,n)}function lq(e,t,r){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pa(gx,Yo),Yo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pa(gx,Yo),Yo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,pa(gx,Yo),Yo|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,pa(gx,Yo),Yo|=a;return eo(e,t,n,r),t.child}function cq(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function s4(e,t,r,a,n){var i=Lo(r)?Vf:qi.current;return i=pg(t,i),$x(t,n),r=hO(e,t,r,a,i,n),a=mO(),e!==null&&!Io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,bu(e,t,n)):(Ta&&a&&eO(t),t.flags|=1,eo(e,t,r,n),t.child)}function tL(e,t,r,a,n){if(Lo(r)){var i=!0;GN(t)}else i=!1;if($x(t,n),t.stateNode===null)dN(e,t),aq(t,r,a),t4(t,r,a,n),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Kl(d):(d=Lo(r)?Vf:qi.current,d=pg(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&YM(t,o,a,d),dh=!1;var m=t.memoizedState;o.state=m,JN(t,a,o,n),c=t.memoizedState,l!==a||m!==c||Mo.current||dh?(typeof u=="function"&&(e4(t,r,u,a),c=t.memoizedState),(l=dh||KM(t,r,l,a,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,MH(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:gc(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kl(c):(c=Lo(r)?Vf:qi.current,c=pg(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&YM(t,o,a,c),dh=!1,m=t.memoizedState,o.state=m,JN(t,a,o,n);var g=t.memoizedState;l!==h||m!==g||Mo.current||dh?(typeof p=="function"&&(e4(t,r,p,a),g=t.memoizedState),(d=dh||KM(t,r,d,a,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return a4(e,t,r,a,i,n)}function a4(e,t,r,a,n,i){cq(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&BM(t,r,!1),bu(e,t,i);a=t.stateNode,vhe.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=gg(t,e.child,null,i),t.child=gg(t,null,l,i)):eo(e,t,l,i),t.memoizedState=a.state,n&&BM(t,r,!0),t.child}function dq(e){var t=e.stateNode;t.pendingContext?$M(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$M(e,t.context,!1),lO(e,t.containerInfo)}function rL(e,t,r,a,n){return xg(),rO(n),t.flags|=256,eo(e,t,r,a),t.child}var n4={dehydrated:null,treeContext:null,retryLane:0};function i4(e){return{baseLanes:e,cachePool:null,transitions:null}}function uq(e,t,r){var a=t.pendingProps,n=Fa.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),pa(Fa,n&1),e===null)return JT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kk(o,a,0,null),e=Tf(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=i4(r),t.memoizedState=n4,e):xO(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return yhe(e,t,o,a,l,n,r);if(i){i=a.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Uh(n,c),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Uh(l,i):(i=Tf(i,o,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?i4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=n4,a}return i=e.child,e=i.sibling,a=Uh(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function xO(e,t){return t=kk({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xj(e,t,r,a){return a!==null&&rO(a),gg(t,e.child,null,r),e=xO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yhe(e,t,r,a,n,i,o){if(r)return t.flags&256?(t.flags&=-257,a=wE(Error(bt(422))),Xj(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=kk({mode:"visible",children:a.children},n,0,null),i=Tf(i,n,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&gg(t,e.child,null,o),t.child.memoizedState=i4(o),t.memoizedState=n4,i);if(!(t.mode&1))return Xj(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(bt(419)),a=wE(i,a,void 0),Xj(e,t,o,a)}if(l=(o&e.childLanes)!==0,Io||l){if(a=li,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,yu(e,n),Ic(a,e,n,-1))}return jO(),a=wE(Error(bt(421))),Xj(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Dhe.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,il=Mh(n.nextSibling),ll=t,Ta=!0,Sc=null,e!==null&&(Ol[Il++]=tu,Ol[Il++]=ru,Ol[Il++]=zf,tu=e.id,ru=e.overflow,zf=t),t=xO(t,a.children),t.flags|=4096,t)}function sL(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ZT(e.return,t,r)}function jE(e,t,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function hq(e,t,r){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(eo(e,t,a.children,r),a=Fa.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sL(e,r,t);else if(e.tag===19)sL(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(pa(Fa,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&ZN(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),jE(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ZN(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}jE(t,!0,r,null,i);break;case"together":jE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dN(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,r=Uh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bhe(e,t,r){switch(t.tag){case 3:dq(t),xg();break;case 5:LH(t);break;case 1:Lo(t.type)&&GN(t);break;case 4:lO(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;pa(XN,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(pa(Fa,Fa.current&1),t.flags|=128,null):r&t.child.childLanes?uq(e,t,r):(pa(Fa,Fa.current&1),e=bu(e,t,r),e!==null?e.sibling:null);pa(Fa,Fa.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return hq(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),pa(Fa,Fa.current),a)break;return null;case 22:case 23:return t.lanes=0,lq(e,t,r)}return bu(e,t,r)}var mq,o4,fq,pq;mq=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};o4=function(){};fq=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,hf(wd.current);var i=null;switch(r){case"input":n=PT(e,n),a=PT(e,a),i=[];break;case"select":n=Wa({},n,{value:void 0}),a=Wa({},a,{value:void 0}),i=[];break;case"textarea":n=DT(e,n),a=DT(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=HN)}IT(r,a);var o;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hy.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hy.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wa("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};pq=function(e,t,r,a){r!==a&&(t.flags|=4)};function uv(e,t){if(!Ta)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ti(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function whe(e,t,r){var a=t.pendingProps;switch(tO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(t),null;case 1:return Lo(t.type)&&qN(),Ti(t),null;case 3:return a=t.stateNode,vg(),Ca(Mo),Ca(qi),dO(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Kj(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sc!==null&&(p4(Sc),Sc=null))),o4(e,t),Ti(t),null;case 5:cO(t);var n=hf(sb.current);if(r=t.type,e!==null&&t.stateNode!=null)fq(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(bt(166));return Ti(t),null}if(e=hf(wd.current),Kj(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[dd]=t,a[tb]=i,e=(t.mode&1)!==0,r){case"dialog":wa("cancel",a),wa("close",a);break;case"iframe":case"object":case"embed":wa("load",a);break;case"video":case"audio":for(n=0;n<Hv.length;n++)wa(Hv[n],a);break;case"source":wa("error",a);break;case"img":case"image":case"link":wa("error",a),wa("load",a);break;case"details":wa("toggle",a);break;case"input":hM(a,i),wa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},wa("invalid",a);break;case"textarea":fM(a,i),wa("invalid",a)}IT(r,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&Gj(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Gj(a.textContent,l,e),n=["children",""+l]):Hy.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&wa("scroll",a)}switch(r){case"input":$j(a),mM(a,i,!0);break;case"textarea":$j(a),pM(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=HN)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zW(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[dd]=t,e[tb]=a,mq(e,t,!1,!1),t.stateNode=e;e:{switch(o=RT(r,a),r){case"dialog":wa("cancel",e),wa("close",e),n=a;break;case"iframe":case"object":case"embed":wa("load",e),n=a;break;case"video":case"audio":for(n=0;n<Hv.length;n++)wa(Hv[n],e);n=a;break;case"source":wa("error",e),n=a;break;case"img":case"image":case"link":wa("error",e),wa("load",e),n=a;break;case"details":wa("toggle",e),n=a;break;case"input":hM(e,a),n=PT(e,a),wa("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Wa({},a,{value:void 0}),wa("invalid",e);break;case"textarea":fM(e,a),n=DT(e,a),wa("invalid",e);break;default:n=a}IT(r,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?qW(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WW(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qy(e,c):typeof c=="number"&&qy(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hy.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wa("scroll",e):c!=null&&BD(e,i,c,o))}switch(r){case"input":$j(e),mM(e,a,!1);break;case"textarea":$j(e),pM(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Zh(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Rx(e,!!a.multiple,i,!1):a.defaultValue!=null&&Rx(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=HN)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ti(t),null;case 6:if(e&&t.stateNode!=null)pq(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(bt(166));if(r=hf(sb.current),hf(wd.current),Kj(t)){if(a=t.stateNode,r=t.memoizedProps,a[dd]=t,(i=a.nodeValue!==r)&&(e=ll,e!==null))switch(e.tag){case 3:Gj(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gj(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[dd]=t,t.stateNode=a}return Ti(t),null;case 13:if(Ca(Fa),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ta&&il!==null&&t.mode&1&&!(t.flags&128))OH(),xg(),t.flags|=98560,i=!1;else if(i=Kj(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(bt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(bt(317));i[dd]=t}else xg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ti(t),i=!1}else Sc!==null&&(p4(Sc),Sc=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Fa.current&1?Wn===0&&(Wn=3):jO())),t.updateQueue!==null&&(t.flags|=4),Ti(t),null);case 4:return vg(),o4(e,t),e===null&&Zy(t.stateNode.containerInfo),Ti(t),null;case 10:return nO(t.type._context),Ti(t),null;case 17:return Lo(t.type)&&qN(),Ti(t),null;case 19:if(Ca(Fa),i=t.memoizedState,i===null)return Ti(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)uv(i,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ZN(e),o!==null){for(t.flags|=128,uv(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pa(Fa,Fa.current&1|2),t.child}e=e.sibling}i.tail!==null&&cn()>bg&&(t.flags|=128,a=!0,uv(i,!1),t.lanes=4194304)}else{if(!a)if(e=ZN(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uv(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ta)return Ti(t),null}else 2*cn()-i.renderingStartTime>bg&&r!==1073741824&&(t.flags|=128,a=!0,uv(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=cn(),t.sibling=null,r=Fa.current,pa(Fa,a?r&1|2:r&1),t):(Ti(t),null);case 22:case 23:return wO(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Yo&1073741824&&(Ti(t),t.subtreeFlags&6&&(t.flags|=8192)):Ti(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function jhe(e,t){switch(tO(t),t.tag){case 1:return Lo(t.type)&&qN(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vg(),Ca(Mo),Ca(qi),dO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cO(t),null;case 13:if(Ca(Fa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));xg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ca(Fa),null;case 4:return vg(),null;case 10:return nO(t.type._context),null;case 22:case 23:return wO(),null;case 24:return null;default:return null}}var Qj=!1,Li=!1,Nhe=typeof WeakSet=="function"?WeakSet:Set,qt=null;function xx(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Xa(e,t,a)}else r.current=null}function l4(e,t,r){try{r()}catch(a){Xa(e,t,a)}}var aL=!1;function She(e,t){if(HT=VN,e=bH(),ZD(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==i||a!==0&&h.nodeType!==3||(c=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===n&&(l=o),m===i&&++u===a&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qT={focusedElem:e,selectionRange:r},VN=!1,qt=t;qt!==null;)if(t=qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qt=e;else for(;qt!==null;){t=qt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:gc(t.type,x),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(N){Xa(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,qt=e;break}qt=t.return}return g=aL,aL=!1,g}function uy(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&l4(t,r,i)}n=n.next}while(n!==a)}}function Nk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function c4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xq(e){var t=e.alternate;t!==null&&(e.alternate=null,xq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dd],delete t[tb],delete t[YT],delete t[ihe],delete t[ohe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gq(e){return e.tag===5||e.tag===3||e.tag===4}function nL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d4(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=HN));else if(a!==4&&(e=e.child,e!==null))for(d4(e,t,r),e=e.sibling;e!==null;)d4(e,t,r),e=e.sibling}function u4(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(u4(e,t,r),e=e.sibling;e!==null;)u4(e,t,r),e=e.sibling}var fi=null,wc=!1;function Ju(e,t,r){for(r=r.child;r!==null;)vq(e,t,r),r=r.sibling}function vq(e,t,r){if(bd&&typeof bd.onCommitFiberUnmount=="function")try{bd.onCommitFiberUnmount(pk,r)}catch{}switch(r.tag){case 5:Li||xx(r,t);case 6:var a=fi,n=wc;fi=null,Ju(e,t,r),fi=a,wc=n,fi!==null&&(wc?(e=fi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fi.removeChild(r.stateNode));break;case 18:fi!==null&&(wc?(e=fi,r=r.stateNode,e.nodeType===8?pE(e.parentNode,r):e.nodeType===1&&pE(e,r),Xy(e)):pE(fi,r.stateNode));break;case 4:a=fi,n=wc,fi=r.stateNode.containerInfo,wc=!0,Ju(e,t,r),fi=a,wc=n;break;case 0:case 11:case 14:case 15:if(!Li&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&l4(r,t,o),n=n.next}while(n!==a)}Ju(e,t,r);break;case 1:if(!Li&&(xx(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Xa(r,t,l)}Ju(e,t,r);break;case 21:Ju(e,t,r);break;case 22:r.mode&1?(Li=(a=Li)||r.memoizedState!==null,Ju(e,t,r),Li=a):Ju(e,t,r);break;default:Ju(e,t,r)}}function iL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Nhe),t.forEach(function(a){var n=Ohe.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function dc(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fi=l.stateNode,wc=!1;break e;case 3:fi=l.stateNode.containerInfo,wc=!0;break e;case 4:fi=l.stateNode.containerInfo,wc=!0;break e}l=l.return}if(fi===null)throw Error(bt(160));vq(i,o,n),fi=null,wc=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){Xa(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yq(t,e),t=t.sibling}function yq(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dc(t,e),Qc(e),a&4){try{uy(3,e,e.return),Nk(3,e)}catch(x){Xa(e,e.return,x)}try{uy(5,e,e.return)}catch(x){Xa(e,e.return,x)}}break;case 1:dc(t,e),Qc(e),a&512&&r!==null&&xx(r,r.return);break;case 5:if(dc(t,e),Qc(e),a&512&&r!==null&&xx(r,r.return),e.flags&32){var n=e.stateNode;try{qy(n,"")}catch(x){Xa(e,e.return,x)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UW(n,i),RT(l,o);var d=RT(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?qW(n,h):u==="dangerouslySetInnerHTML"?WW(n,h):u==="children"?qy(n,h):BD(n,u,h,d)}switch(l){case"input":TT(n,i);break;case"textarea":VW(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Rx(n,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Rx(n,!!i.multiple,i.defaultValue,!0):Rx(n,!!i.multiple,i.multiple?[]:"",!1))}n[tb]=i}catch(x){Xa(e,e.return,x)}}break;case 6:if(dc(t,e),Qc(e),a&4){if(e.stateNode===null)throw Error(bt(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){Xa(e,e.return,x)}}break;case 3:if(dc(t,e),Qc(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Xy(t.containerInfo)}catch(x){Xa(e,e.return,x)}break;case 4:dc(t,e),Qc(e);break;case 13:dc(t,e),Qc(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(yO=cn())),a&4&&iL(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Li=(d=Li)||u,dc(t,e),Li=d):dc(t,e),Qc(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(qt=e,u=e.child;u!==null;){for(h=qt=u;qt!==null;){switch(m=qt,p=m.child,m.tag){case 0:case 11:case 14:case 15:uy(4,m,m.return);break;case 1:xx(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){a=m,r=m.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Xa(a,r,x)}}break;case 5:xx(m,m.return);break;case 22:if(m.memoizedState!==null){lL(h);continue}}p!==null?(p.return=m,qt=p):lL(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=HW("display",o))}catch(x){Xa(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Xa(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dc(t,e),Qc(e),a&4&&iL(e);break;case 21:break;default:dc(t,e),Qc(e)}}function Qc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gq(r)){var a=r;break e}r=r.return}throw Error(bt(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(qy(n,""),a.flags&=-33);var i=nL(e);u4(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=nL(e);d4(e,l,o);break;default:throw Error(bt(161))}}catch(c){Xa(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function khe(e,t,r){qt=e,bq(e)}function bq(e,t,r){for(var a=(e.mode&1)!==0;qt!==null;){var n=qt,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Qj;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Li;l=Qj;var d=Li;if(Qj=o,(Li=c)&&!d)for(qt=n;qt!==null;)o=qt,c=o.child,o.tag===22&&o.memoizedState!==null?cL(n):c!==null?(c.return=o,qt=c):cL(n);for(;i!==null;)qt=i,bq(i),i=i.sibling;qt=n,Qj=l,Li=d}oL(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,qt=i):oL(e)}}function oL(e){for(;qt!==null;){var t=qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Li||Nk(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Li)if(r===null)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:gc(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&HM(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}HM(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Xy(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}Li||t.flags&512&&c4(t)}catch(m){Xa(t,t.return,m)}}if(t===e){qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,qt=r;break}qt=t.return}}function lL(e){for(;qt!==null;){var t=qt;if(t===e){qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,qt=r;break}qt=t.return}}function cL(e){for(;qt!==null;){var t=qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nk(4,t)}catch(c){Xa(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){Xa(t,n,c)}}var i=t.return;try{c4(t)}catch(c){Xa(t,i,c)}break;case 5:var o=t.return;try{c4(t)}catch(c){Xa(t,o,c)}}}catch(c){Xa(t,t.return,c)}if(t===e){qt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,qt=l;break}qt=t.return}}var Che=Math.ceil,r2=Iu.ReactCurrentDispatcher,gO=Iu.ReactCurrentOwner,Vl=Iu.ReactCurrentBatchConfig,As=0,li=null,kn=null,gi=0,Yo=0,gx=gm(0),Wn=0,ob=null,Hf=0,Sk=0,vO=0,hy=null,_o=null,yO=0,bg=1/0,Xd=null,s2=!1,h4=null,$h=null,Jj=!1,Sh=null,a2=0,my=0,m4=null,uN=-1,hN=0;function uo(){return As&6?cn():uN!==-1?uN:uN=cn()}function Bh(e){return e.mode&1?As&2&&gi!==0?gi&-gi:che.transition!==null?(hN===0&&(hN=aH()),hN):(e=ea,e!==0||(e=window.event,e=e===void 0?16:uH(e.type)),e):1}function Ic(e,t,r,a){if(50<my)throw my=0,m4=null,Error(bt(185));Dw(e,r,a),(!(As&2)||e!==li)&&(e===li&&(!(As&2)&&(Sk|=r),Wn===4&&ph(e,gi)),$o(e,a),r===1&&As===0&&!(t.mode&1)&&(bg=cn()+500,bk&&vm()))}function $o(e,t){var r=e.callbackNode;cue(e,t);var a=UN(e,e===li?gi:0);if(a===0)r!==null&&vM(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&vM(r),t===1)e.tag===0?lhe(dL.bind(null,e)):TH(dL.bind(null,e)),ahe(function(){!(As&6)&&vm()}),r=null;else{switch(nH(a)){case 1:r=HD;break;case 4:r=rH;break;case 16:r=BN;break;case 536870912:r=sH;break;default:r=BN}r=Eq(r,wq.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wq(e,t){if(uN=-1,hN=0,As&6)throw Error(bt(327));var r=e.callbackNode;if(Bx()&&e.callbackNode!==r)return null;var a=UN(e,e===li?gi:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=n2(e,a);else{t=a;var n=As;As|=2;var i=Nq();(li!==e||gi!==t)&&(Xd=null,bg=cn()+500,Pf(e,t));do try{Phe();break}catch(l){jq(e,l)}while(!0);aO(),r2.current=i,As=n,kn!==null?t=0:(li=null,gi=0,t=Wn)}if(t!==0){if(t===2&&(n=BT(e),n!==0&&(a=n,t=f4(e,n))),t===1)throw r=ob,Pf(e,0),ph(e,a),$o(e,cn()),r;if(t===6)ph(e,a);else{if(n=e.current.alternate,!(a&30)&&!Ahe(n)&&(t=n2(e,a),t===2&&(i=BT(e),i!==0&&(a=i,t=f4(e,i))),t===1))throw r=ob,Pf(e,0),ph(e,a),$o(e,cn()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(bt(345));case 2:Zm(e,_o,Xd);break;case 3:if(ph(e,a),(a&130023424)===a&&(t=yO+500-cn(),10<t)){if(UN(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){uo(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=KT(Zm.bind(null,e,_o,Xd),t);break}Zm(e,_o,Xd);break;case 4:if(ph(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-Oc(a);i=1<<o,o=t[o],o>n&&(n=o),a&=~i}if(a=n,a=cn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Che(a/1960))-a,10<a){e.timeoutHandle=KT(Zm.bind(null,e,_o,Xd),a);break}Zm(e,_o,Xd);break;case 5:Zm(e,_o,Xd);break;default:throw Error(bt(329))}}}return $o(e,cn()),e.callbackNode===r?wq.bind(null,e):null}function f4(e,t){var r=hy;return e.current.memoizedState.isDehydrated&&(Pf(e,t).flags|=256),e=n2(e,t),e!==2&&(t=_o,_o=r,t!==null&&p4(t)),e}function p4(e){_o===null?_o=e:_o.push.apply(_o,e)}function Ahe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Lc(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ph(e,t){for(t&=~vO,t&=~Sk,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Oc(t),a=1<<r;e[r]=-1,t&=~a}}function dL(e){if(As&6)throw Error(bt(327));Bx();var t=UN(e,0);if(!(t&1))return $o(e,cn()),null;var r=n2(e,t);if(e.tag!==0&&r===2){var a=BT(e);a!==0&&(t=a,r=f4(e,a))}if(r===1)throw r=ob,Pf(e,0),ph(e,t),$o(e,cn()),r;if(r===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zm(e,_o,Xd),$o(e,cn()),null}function bO(e,t){var r=As;As|=1;try{return e(t)}finally{As=r,As===0&&(bg=cn()+500,bk&&vm())}}function qf(e){Sh!==null&&Sh.tag===0&&!(As&6)&&Bx();var t=As;As|=1;var r=Vl.transition,a=ea;try{if(Vl.transition=null,ea=1,e)return e()}finally{ea=a,Vl.transition=r,As=t,!(As&6)&&vm()}}function wO(){Yo=gx.current,Ca(gx)}function Pf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,she(r)),kn!==null)for(r=kn.return;r!==null;){var a=r;switch(tO(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&qN();break;case 3:vg(),Ca(Mo),Ca(qi),dO();break;case 5:cO(a);break;case 4:vg();break;case 13:Ca(Fa);break;case 19:Ca(Fa);break;case 10:nO(a.type._context);break;case 22:case 23:wO()}r=r.return}if(li=e,kn=e=Uh(e.current,null),gi=Yo=t,Wn=0,ob=null,vO=Sk=Hf=0,_o=hy=null,uf!==null){for(t=0;t<uf.length;t++)if(r=uf[t],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}r.pending=a}uf=null}return e}function jq(e,t){do{var r=kn;try{if(aO(),lN.current=t2,e2){for(var a=za.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}e2=!1}if(Wf=0,ei=Bn=za=null,dy=!1,ab=0,gO.current=null,r===null||r.return===null){Wn=1,ob=t,kn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=gi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=QM(o);if(p!==null){p.flags&=-257,JM(p,o,l,i,t),p.mode&1&&XM(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){XM(i,d,t),jO();break e}c=Error(bt(426))}}else if(Ta&&l.mode&1){var y=QM(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),JM(y,o,l,i,t),rO(yg(c,l));break e}}i=c=yg(c,l),Wn!==4&&(Wn=2),hy===null?hy=[i]:hy.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=nq(i,c,t);WM(i,w);break e;case 1:l=c;var b=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($h===null||!$h.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=iq(i,l,t);WM(i,N);break e}}i=i.return}while(i!==null)}kq(r)}catch(j){t=j,kn===r&&r!==null&&(kn=r=r.return);continue}break}while(!0)}function Nq(){var e=r2.current;return r2.current=t2,e===null?t2:e}function jO(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),li===null||!(Hf&268435455)&&!(Sk&268435455)||ph(li,gi)}function n2(e,t){var r=As;As|=2;var a=Nq();(li!==e||gi!==t)&&(Xd=null,Pf(e,t));do try{Ehe();break}catch(n){jq(e,n)}while(!0);if(aO(),As=r,r2.current=a,kn!==null)throw Error(bt(261));return li=null,gi=0,Wn}function Ehe(){for(;kn!==null;)Sq(kn)}function Phe(){for(;kn!==null&&!eue();)Sq(kn)}function Sq(e){var t=Aq(e.alternate,e,Yo);e.memoizedProps=e.pendingProps,t===null?kq(e):kn=t,gO.current=null}function kq(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jhe(r,t),r!==null){r.flags&=32767,kn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,kn=null;return}}else if(r=whe(r,t,Yo),r!==null){kn=r;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Wn===0&&(Wn=5)}function Zm(e,t,r){var a=ea,n=Vl.transition;try{Vl.transition=null,ea=1,The(e,t,r,a)}finally{Vl.transition=n,ea=a}return null}function The(e,t,r,a){do Bx();while(Sh!==null);if(As&6)throw Error(bt(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(due(e,i),e===li&&(kn=li=null,gi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jj||(Jj=!0,Eq(BN,function(){return Bx(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Vl.transition,Vl.transition=null;var o=ea;ea=1;var l=As;As|=4,gO.current=null,She(e,r),yq(r,e),Xue(qT),VN=!!HT,qT=HT=null,e.current=r,khe(r),tue(),As=l,ea=o,Vl.transition=i}else e.current=r;if(Jj&&(Jj=!1,Sh=e,a2=n),i=e.pendingLanes,i===0&&($h=null),aue(r.stateNode),$o(e,cn()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(s2)throw s2=!1,e=h4,h4=null,e;return a2&1&&e.tag!==0&&Bx(),i=e.pendingLanes,i&1?e===m4?my++:(my=0,m4=e):my=0,vm(),null}function Bx(){if(Sh!==null){var e=nH(a2),t=Vl.transition,r=ea;try{if(Vl.transition=null,ea=16>e?16:e,Sh===null)var a=!1;else{if(e=Sh,Sh=null,a2=0,As&6)throw Error(bt(331));var n=As;for(As|=4,qt=e.current;qt!==null;){var i=qt,o=i.child;if(qt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(qt=d;qt!==null;){var u=qt;switch(u.tag){case 0:case 11:case 15:uy(8,u,i)}var h=u.child;if(h!==null)h.return=u,qt=h;else for(;qt!==null;){u=qt;var m=u.sibling,p=u.return;if(xq(u),u===d){qt=null;break}if(m!==null){m.return=p,qt=m;break}qt=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}qt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,qt=o;else e:for(;qt!==null;){if(i=qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uy(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,qt=w;break e}qt=i.return}}var b=e.current;for(qt=b;qt!==null;){o=qt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,qt=v;else e:for(o=b;qt!==null;){if(l=qt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nk(9,l)}}catch(j){Xa(l,l.return,j)}if(l===o){qt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,qt=N;break e}qt=l.return}}if(As=n,vm(),bd&&typeof bd.onPostCommitFiberRoot=="function")try{bd.onPostCommitFiberRoot(pk,e)}catch{}a=!0}return a}finally{ea=r,Vl.transition=t}}return!1}function uL(e,t,r){t=yg(r,t),t=nq(e,t,1),e=Lh(e,t,1),t=uo(),e!==null&&(Dw(e,1,t),$o(e,t))}function Xa(e,t,r){if(e.tag===3)uL(e,e,r);else for(;t!==null;){if(t.tag===3){uL(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&($h===null||!$h.has(a))){e=yg(r,e),e=iq(t,e,1),t=Lh(t,e,1),e=uo(),t!==null&&(Dw(t,1,e),$o(t,e));break}}t=t.return}}function _he(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=uo(),e.pingedLanes|=e.suspendedLanes&r,li===e&&(gi&r)===r&&(Wn===4||Wn===3&&(gi&130023424)===gi&&500>cn()-yO?Pf(e,0):vO|=r),$o(e,t)}function Cq(e,t){t===0&&(e.mode&1?(t=Vj,Vj<<=1,!(Vj&130023424)&&(Vj=4194304)):t=1);var r=uo();e=yu(e,t),e!==null&&(Dw(e,t,r),$o(e,r))}function Dhe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cq(e,r)}function Ohe(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(bt(314))}a!==null&&a.delete(t),Cq(e,r)}var Aq;Aq=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mo.current)Io=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Io=!1,bhe(e,t,r);Io=!!(e.flags&131072)}else Io=!1,Ta&&t.flags&1048576&&_H(t,YN,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;dN(e,t),e=t.pendingProps;var n=pg(t,qi.current);$x(t,r),n=hO(null,t,a,e,n,r);var i=mO();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lo(a)?(i=!0,GN(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,oO(t),n.updater=jk,t.stateNode=n,n._reactInternals=t,t4(t,a,e,r),t=a4(null,t,a,!0,i,r)):(t.tag=0,Ta&&i&&eO(t),eo(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(dN(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Rhe(a),e=gc(a,e),n){case 0:t=s4(null,t,a,e,r);break e;case 1:t=tL(null,t,a,e,r);break e;case 11:t=ZM(null,t,a,e,r);break e;case 14:t=eL(null,t,a,gc(a.type,e),r);break e}throw Error(bt(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:gc(a,n),s4(e,t,a,n,r);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:gc(a,n),tL(e,t,a,n,r);case 3:e:{if(dq(t),e===null)throw Error(bt(387));a=t.pendingProps,i=t.memoizedState,n=i.element,MH(e,t),JN(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=yg(Error(bt(423)),t),t=rL(e,t,a,r,n);break e}else if(a!==n){n=yg(Error(bt(424)),t),t=rL(e,t,a,r,n);break e}else for(il=Mh(t.stateNode.containerInfo.firstChild),ll=t,Ta=!0,Sc=null,r=RH(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xg(),a===n){t=bu(e,t,r);break e}eo(e,t,a,r)}t=t.child}return t;case 5:return LH(t),e===null&&JT(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,GT(a,n)?o=null:i!==null&&GT(a,i)&&(t.flags|=32),cq(e,t),eo(e,t,o,r),t.child;case 6:return e===null&&JT(t),null;case 13:return uq(e,t,r);case 4:return lO(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=gg(t,null,a,r):eo(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:gc(a,n),ZM(e,t,a,n,r);case 7:return eo(e,t,t.pendingProps,r),t.child;case 8:return eo(e,t,t.pendingProps.children,r),t.child;case 12:return eo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,pa(XN,a._currentValue),a._currentValue=o,i!==null)if(Lc(i.value,o)){if(i.children===n.children&&!Mo.current){t=bu(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=lu(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ZT(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(bt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ZT(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}eo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,$x(t,r),n=Kl(n),a=a(n),t.flags|=1,eo(e,t,a,r),t.child;case 14:return a=t.type,n=gc(a,t.pendingProps),n=gc(a.type,n),eL(e,t,a,n,r);case 15:return oq(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:gc(a,n),dN(e,t),t.tag=1,Lo(a)?(e=!0,GN(t)):e=!1,$x(t,r),aq(t,a,n),t4(t,a,n,r),a4(null,t,a,!0,e,r);case 19:return hq(e,t,r);case 22:return lq(e,t,r)}throw Error(bt(156,t.tag))};function Eq(e,t){return tH(e,t)}function Ihe(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,r,a){return new Ihe(e,t,r,a)}function NO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rhe(e){if(typeof e=="function")return NO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===VD)return 11;if(e===zD)return 14}return 2}function Uh(e,t){var r=e.alternate;return r===null?(r=Ml(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mN(e,t,r,a,n,i){var o=2;if(a=e,typeof e=="function")NO(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ox:return Tf(r.children,n,i,t);case UD:o=8,n|=8;break;case kT:return e=Ml(12,r,t,n|2),e.elementType=kT,e.lanes=i,e;case CT:return e=Ml(13,r,t,n),e.elementType=CT,e.lanes=i,e;case AT:return e=Ml(19,r,t,n),e.elementType=AT,e.lanes=i,e;case LW:return kk(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FW:o=10;break e;case MW:o=9;break e;case VD:o=11;break e;case zD:o=14;break e;case ch:o=16,a=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=Ml(o,r,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Tf(e,t,r,a){return e=Ml(7,e,a,t),e.lanes=r,e}function kk(e,t,r,a){return e=Ml(22,e,a,t),e.elementType=LW,e.lanes=r,e.stateNode={isHidden:!1},e}function NE(e,t,r){return e=Ml(6,e,null,t),e.lanes=r,e}function SE(e,t,r){return t=Ml(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fhe(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aE(0),this.expirationTimes=aE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aE(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function SO(e,t,r,a,n,i,o,l,c){return e=new Fhe(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ml(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oO(i),e}function Mhe(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ix,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Pq(e){if(!e)return em;e=e._reactInternals;e:{if(gp(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var r=e.type;if(Lo(r))return PH(e,r,t)}return t}function Tq(e,t,r,a,n,i,o,l,c){return e=SO(r,a,!0,e,n,i,o,l,c),e.context=Pq(null),r=e.current,a=uo(),n=Bh(r),i=lu(a,n),i.callback=t??null,Lh(r,i,n),e.current.lanes=n,Dw(e,n,a),$o(e,a),e}function Ck(e,t,r,a){var n=t.current,i=uo(),o=Bh(n);return r=Pq(r),t.context===null?t.context=r:t.pendingContext=r,t=lu(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Lh(n,t,o),e!==null&&(Ic(e,n,o,i),oN(e,n,o)),o}function i2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kO(e,t){hL(e,t),(e=e.alternate)&&hL(e,t)}function Lhe(){return null}var _q=typeof reportError=="function"?reportError:function(e){console.error(e)};function CO(e){this._internalRoot=e}Ak.prototype.render=CO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));Ck(e,t,null,null)};Ak.prototype.unmount=CO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qf(function(){Ck(null,e,null,null)}),t[vu]=null}};function Ak(e){this._internalRoot=e}Ak.prototype.unstable_scheduleHydration=function(e){if(e){var t=lH();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fh.length&&t!==0&&t<fh[r].priority;r++);fh.splice(r,0,e),r===0&&dH(e)}};function AO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ek(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mL(){}function $he(e,t,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=i2(o);i.call(d)}}var o=Tq(t,a,e,0,null,!1,!1,"",mL);return e._reactRootContainer=o,e[vu]=o.current,Zy(e.nodeType===8?e.parentNode:e),qf(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var d=i2(c);l.call(d)}}var c=SO(e,0,!1,null,null,!1,!1,"",mL);return e._reactRootContainer=c,e[vu]=c.current,Zy(e.nodeType===8?e.parentNode:e),qf(function(){Ck(t,c,r,a)}),c}function Pk(e,t,r,a,n){var i=r._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var c=i2(o);l.call(c)}}Ck(t,o,e,n)}else o=$he(r,t,e,n,a);return i2(o)}iH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wv(t.pendingLanes);r!==0&&(qD(t,r|1),$o(t,cn()),!(As&6)&&(bg=cn()+500,vm()))}break;case 13:qf(function(){var a=yu(e,1);if(a!==null){var n=uo();Ic(a,e,1,n)}}),kO(e,1)}};GD=function(e){if(e.tag===13){var t=yu(e,134217728);if(t!==null){var r=uo();Ic(t,e,134217728,r)}kO(e,134217728)}};oH=function(e){if(e.tag===13){var t=Bh(e),r=yu(e,t);if(r!==null){var a=uo();Ic(r,e,t,a)}kO(e,t)}};lH=function(){return ea};cH=function(e,t){var r=ea;try{return ea=e,t()}finally{ea=r}};MT=function(e,t,r){switch(t){case"input":if(TT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=yk(a);if(!n)throw Error(bt(90));BW(a),TT(a,n)}}}break;case"textarea":VW(e,r);break;case"select":t=r.value,t!=null&&Rx(e,!!r.multiple,t,!1)}};YW=bO;XW=qf;var Bhe={usingClientEntryPoint:!1,Events:[Iw,ux,yk,GW,KW,bO]},hv={findFiberByHostInstance:df,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uhe={bundleType:hv.bundleType,version:hv.version,rendererPackageName:hv.rendererPackageName,rendererConfig:hv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Iu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZW(e),e===null?null:e.stateNode},findFiberByHostInstance:hv.findFiberByHostInstance||Lhe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zj.isDisabled&&Zj.supportsFiber)try{pk=Zj.inject(Uhe),bd=Zj}catch{}}xl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bhe;xl.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AO(t))throw Error(bt(200));return Mhe(e,t,null,r)};xl.createRoot=function(e,t){if(!AO(e))throw Error(bt(299));var r=!1,a="",n=_q;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=SO(e,1,!1,null,null,r,!1,a,n),e[vu]=t.current,Zy(e.nodeType===8?e.parentNode:e),new CO(t)};xl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=ZW(t),e=e===null?null:e.stateNode,e};xl.flushSync=function(e){return qf(e)};xl.hydrate=function(e,t,r){if(!Ek(t))throw Error(bt(200));return Pk(null,e,t,!0,r)};xl.hydrateRoot=function(e,t,r){if(!AO(e))throw Error(bt(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",o=_q;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Tq(t,null,e,1,r??null,n,!1,i,o),e[vu]=t.current,Zy(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Ak(t)};xl.render=function(e,t,r){if(!Ek(t))throw Error(bt(200));return Pk(null,e,t,!1,r)};xl.unmountComponentAtNode=function(e){if(!Ek(e))throw Error(bt(40));return e._reactRootContainer?(qf(function(){Pk(null,null,e,!1,function(){e._reactRootContainer=null,e[vu]=null})}),!0):!1};xl.unstable_batchedUpdates=bO;xl.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Ek(r))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return Pk(e,t,r,!1,a)};xl.version="18.3.1-next-f1338f8080-20240426";function Dq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dq)}catch(e){console.error(e)}}Dq(),DW.exports=xl;var Ll=DW.exports;const Oq=qs(Ll);var Iq,fL=Ll;Iq=fL.createRoot,fL.hydrateRoot;const Vhe=1,zhe=1e6;let kE=0;function Whe(){return kE=(kE+1)%Number.MAX_SAFE_INTEGER,kE.toString()}const CE=new Map,pL=e=>{if(CE.has(e))return;const t=setTimeout(()=>{CE.delete(e),fy({type:"REMOVE_TOAST",toastId:e})},zhe);CE.set(e,t)},Hhe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vhe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?pL(r):e.toasts.forEach(a=>{pL(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},fN=[];let pN={toasts:[]};function fy(e){pN=Hhe(pN,e),fN.forEach(t=>{t(pN)})}function dr({...e}){const t=Whe(),r=n=>fy({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>fy({type:"DISMISS_TOAST",toastId:t});return fy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:r}}function Rt(){const[e,t]=f.useState(pN);return f.useEffect(()=>(fN.push(t),()=>{const r=fN.indexOf(t);r>-1&&fN.splice(r,1)}),[e]),{...e,toast:dr,dismiss:r=>fy({type:"DISMISS_TOAST",toastId:r})}}function xt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function xL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tk(...e){return t=>{let r=!1;const a=e.map(n=>{const i=xL(n,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():xL(e[n],null)}}}}function xr(...e){return f.useCallback(Tk(...e),e)}function qhe(e,t){const r=f.createContext(t),a=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};a.displayName=e+"Provider";function n(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function qa(e,t=[]){let r=[];function a(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var w;const{scope:m,children:p,...g}=h,x=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=f.useMemo(()=>g,Object.values(g));return s.jsx(x.Provider,{value:y,children:p})};d.displayName=i+"Provider";function u(h,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,g=f.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const n=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[a,Ghe(n,...t)]}function Ghe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function tm(e){const t=Khe(e),r=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(Yhe);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:n,children:i})});return r.displayName=`${e}.Slot`,r}var Rq=tm("Slot");function Khe(e){const t=f.forwardRef((r,a)=>{const{children:n,...i}=r;if(f.isValidElement(n)){const o=Qhe(n),l=Xhe(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Tk(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fq=Symbol("radix.slottable");function Mq(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Fq,t}function Yhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fq}function Xhe(e,t){const r={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(r[a]=n):a==="style"?r[a]={...n,...i}:a==="className"&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}function Qhe(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function p0(e){const t=e+"CollectionProvider",[r,a]=qa(t),[n,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:w}=x,b=ae.useRef(null),v=ae.useRef(new Map).current;return s.jsx(n,{scope:y,itemMap:v,collectionRef:b,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=tm(l),d=ae.forwardRef((x,y)=>{const{scope:w,children:b}=x,v=i(l,w),N=xr(y,v.collectionRef);return s.jsx(c,{ref:N,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=tm(u),p=ae.forwardRef((x,y)=>{const{scope:w,children:b,...v}=x,N=ae.useRef(null),j=xr(y,N),k=i(u,w);return ae.useEffect(()=>(k.itemMap.set(N,{ref:N,...v}),()=>void k.itemMap.delete(N))),s.jsx(m,{[h]:"",ref:j,children:b})});p.displayName=u;function g(x){const y=i(e+"CollectionConsumer",x);return ae.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((k,S)=>v.indexOf(k.ref.current)-v.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,a]}var Jhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=Jhe.reduce((e,t)=>{const r=tm(`Primitive.${t}`),a=f.forwardRef((n,i)=>{const{asChild:o,...l}=n,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function EO(e,t){e&&Ll.flushSync(()=>e.dispatchEvent(t))}function Ma(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function Zhe(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e);f.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var eme="DismissableLayer",x4="dismissableLayer.update",tme="dismissableLayer.pointerDownOutside",rme="dismissableLayer.focusOutside",gL,Lq=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vp=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(Lq),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),g=xr(t,S=>h(S)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),b=u?x.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,j=ame(S=>{const C=S.target,A=[...d.branches].some(E=>E.contains(C));!N||A||(n==null||n(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),k=nme(S=>{const C=S.target;[...d.branches].some(E=>E.contains(C))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return Zhe(S=>{b===d.layers.size-1&&(a==null||a(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),vL(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gL)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),vL())},[u,d]),f.useEffect(()=>{const S=()=>p({});return document.addEventListener(x4,S),()=>document.removeEventListener(x4,S)},[]),s.jsx(Lt.div,{...c,ref:g,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:xt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:xt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:xt(e.onPointerDownCapture,j.onPointerDownCapture)})});vp.displayName=eme;var sme="DismissableLayerBranch",$q=f.forwardRef((e,t)=>{const r=f.useContext(Lq),a=f.useRef(null),n=xr(t,a);return f.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Lt.div,{...e,ref:n})});$q.displayName=sme;function ame(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e),a=f.useRef(!1),n=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){Bq(tme,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function nme(e,t=globalThis==null?void 0:globalThis.document){const r=Ma(e),a=f.useRef(!1);return f.useEffect(()=>{const n=i=>{i.target&&!a.current&&Bq(rme,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function vL(){const e=new CustomEvent(x4);document.dispatchEvent(e)}function Bq(e,t,r,{discrete:a}){const n=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?EO(n,i):n.dispatchEvent(i)}var ime=vp,ome=$q,tn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},lme="Portal",x0=f.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[n,i]=f.useState(!1);tn(()=>i(!0),[]);const o=r||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Oq.createPortal(s.jsx(Lt.div,{...a,ref:t}),o):null});x0.displayName=lme;function cme(e,t){return f.useReducer((r,a)=>t[r][a]??r,e)}var Pn=e=>{const{present:t,children:r}=e,a=dme(t),n=typeof r=="function"?r({present:a.isPresent}):f.Children.only(r),i=xr(a.ref,ume(n));return typeof r=="function"||a.isPresent?f.cloneElement(n,{ref:i}):null};Pn.displayName="Presence";function dme(e){const[t,r]=f.useState(),a=f.useRef(null),n=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=cme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=e1(a.current);i.current=l==="mounted"?d:"none"},[l]),tn(()=>{const d=a.current,u=n.current;if(u!==e){const m=i.current,p=e1(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),tn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const x=e1(a.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!n.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(i.current=e1(a.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{a.current=d?getComputedStyle(d):null,r(d)},[])}}function e1(e){return(e==null?void 0:e.animationName)||"none"}function ume(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hme=MD[" useInsertionEffect ".trim().toString()]||tn;function mo({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[n,i,o]=mme({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:n;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,a])}const d=f.useCallback(u=>{var h;if(l){const m=fme(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function mme({defaultProp:e,onChange:t}){const[r,a]=f.useState(e),n=f.useRef(r),i=f.useRef(t);return hme(()=>{i.current=t},[t]),f.useEffect(()=>{var o;n.current!==r&&((o=i.current)==null||o.call(i,r),n.current=r)},[r,n]),[r,a,i]}function fme(e){return typeof e=="function"}var Uq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pme="VisuallyHidden",_k=f.forwardRef((e,t)=>s.jsx(Lt.span,{...e,ref:t,style:{...Uq,...e.style}}));_k.displayName=pme;var xme=_k,PO="ToastProvider",[TO,gme,vme]=p0("Toast"),[Vq,wgt]=qa("Toast",[vme]),[yme,Dk]=Vq(PO),zq=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${PO}\`. Expected non-empty \`string\`.`),s.jsx(TO.Provider,{scope:t,children:s.jsx(yme,{scope:t,label:r,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};zq.displayName=PO;var Wq="ToastViewport",bme=["F8"],g4="toast.viewportPause",v4="toast.viewportResume",Hq=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=bme,label:n="Notifications ({hotkey})",...i}=e,o=Dk(Wq,r),l=gme(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=xr(t,h,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;f.useEffect(()=>{const y=w=>{var v;a.length!==0&&a.every(N=>w[N]||w.code===N)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),f.useEffect(()=>{const y=c.current,w=h.current;if(g&&y&&w){const b=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(g4);w.dispatchEvent(k),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(v4);w.dispatchEvent(k),o.isClosePausedRef.current=!1}},N=k=>{!y.contains(k.relatedTarget)&&v()},j=()=>{y.contains(document.activeElement)||v()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",v),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:y})=>{const b=l().map(v=>{const N=v.ref.current,j=[N,...Ome(N)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return f.useEffect(()=>{const y=h.current;if(y){const w=b=>{var j,k,S;const v=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!v){const C=document.activeElement,A=b.shiftKey;if(b.target===y&&A){(j=d.current)==null||j.focus();return}const P=x({tabbingDirection:A?"backwards":"forwards"}),T=P.findIndex(_=>_===C);AE(P.slice(T+1))?b.preventDefault():A?(k=d.current)==null||k.focus():(S=u.current)==null||S.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,x]),s.jsxs(ome,{ref:c,role:"region","aria-label":n.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(y4,{ref:d,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});AE(y)}}),s.jsx(TO.Slot,{scope:r,children:s.jsx(Lt.ol,{tabIndex:-1,...i,ref:m})}),g&&s.jsx(y4,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});AE(y)}})]})});Hq.displayName=Wq;var qq="ToastFocusProxy",y4=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=e,i=Dk(qq,r);return s.jsx(_k,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});y4.displayName=qq;var Fw="Toast",wme="toast.swipeStart",jme="toast.swipeMove",Nme="toast.swipeCancel",Sme="toast.swipeEnd",Gq=f.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:i,...o}=e,[l,c]=mo({prop:a,defaultProp:n??!0,onChange:i,caller:Fw});return s.jsx(Pn,{present:r||l,children:s.jsx(Ame,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ma(e.onPause),onResume:Ma(e.onResume),onSwipeStart:xt(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xt(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:xt(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xt(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Gq.displayName=Fw;var[kme,Cme]=Vq(Fw,{onClose(){}}),Ame=f.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...g}=e,x=Dk(Fw,r),[y,w]=f.useState(null),b=xr(t,_=>w(_)),v=f.useRef(null),N=f.useRef(null),j=n||x.duration,k=f.useRef(0),S=f.useRef(j),C=f.useRef(0),{onToastAdd:A,onToastRemove:E}=x,D=Ma(()=>{var O;(y==null?void 0:y.contains(document.activeElement))&&((O=x.viewport)==null||O.focus()),o()}),P=f.useCallback(_=>{!_||_===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(D,_))},[D]);f.useEffect(()=>{const _=x.viewport;if(_){const O=()=>{P(S.current),d==null||d()},F=()=>{const I=new Date().getTime()-k.current;S.current=S.current-I,window.clearTimeout(C.current),c==null||c()};return _.addEventListener(g4,F),_.addEventListener(v4,O),()=>{_.removeEventListener(g4,F),_.removeEventListener(v4,O)}}},[x.viewport,j,c,d,P]),f.useEffect(()=>{i&&!x.isClosePausedRef.current&&P(j)},[i,j,x.isClosePausedRef,P]),f.useEffect(()=>(A(),()=>E()),[A,E]);const T=f.useMemo(()=>y?eG(y):null,[y]);return x.viewport?s.jsxs(s.Fragment,{children:[T&&s.jsx(Eme,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),s.jsx(kme,{scope:r,onClose:D,children:Ll.createPortal(s.jsx(TO.ItemSlot,{scope:r,children:s.jsx(ime,{asChild:!0,onEscapeKeyDown:xt(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Lt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xt(e.onKeyDown,_=>{_.key==="Escape"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:xt(e.onPointerDown,_=>{_.button===0&&(v.current={x:_.clientX,y:_.clientY})}),onPointerMove:xt(e.onPointerMove,_=>{if(!v.current)return;const O=_.clientX-v.current.x,F=_.clientY-v.current.y,I=!!N.current,R=["left","right"].includes(x.swipeDirection),L=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=R?L(0,O):0,W=R?0:L(0,F),M=_.pointerType==="touch"?10:2,G={x:H,y:W},V={originalEvent:_,delta:G};I?(N.current=G,t1(jme,h,V,{discrete:!1})):yL(G,x.swipeDirection,M)?(N.current=G,t1(wme,u,V,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(O)>M||Math.abs(F)>M)&&(v.current=null)}),onPointerUp:xt(e.onPointerUp,_=>{const O=N.current,F=_.target;if(F.hasPointerCapture(_.pointerId)&&F.releasePointerCapture(_.pointerId),N.current=null,v.current=null,O){const I=_.currentTarget,R={originalEvent:_,delta:O};yL(O,x.swipeDirection,x.swipeThreshold)?t1(Sme,p,R,{discrete:!0}):t1(Nme,m,R,{discrete:!0}),I.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Eme=e=>{const{__scopeToast:t,children:r,...a}=e,n=Dk(Fw,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return _me(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(x0,{asChild:!0,children:s.jsx(_k,{...a,children:i&&s.jsxs(s.Fragment,{children:[n.label," ",r]})})})},Pme="ToastTitle",Kq=f.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(Lt.div,{...a,ref:t})});Kq.displayName=Pme;var Tme="ToastDescription",Yq=f.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(Lt.div,{...a,ref:t})});Yq.displayName=Tme;var Xq="ToastAction",Qq=f.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?s.jsx(Zq,{altText:r,asChild:!0,children:s.jsx(_O,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Xq}\`. Expected non-empty \`string\`.`),null)});Qq.displayName=Xq;var Jq="ToastClose",_O=f.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,n=Cme(Jq,r);return s.jsx(Zq,{asChild:!0,children:s.jsx(Lt.button,{type:"button",...a,ref:t,onClick:xt(e.onClick,n.onClose)})})});_O.displayName=Jq;var Zq=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...n}=e;return s.jsx(Lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function eG(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Dme(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...eG(a))}}),t}function t1(e,t,r,{discrete:a}){const n=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?EO(n,i):n.dispatchEvent(i)}var yL=(e,t,r=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),i=a>n;return t==="left"||t==="right"?i&&a>r:!i&&n>r};function _me(e=()=>{}){const t=Ma(e);tn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function Dme(e){return e.nodeType===e.ELEMENT_NODE}function Ome(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function AE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Ime=zq,tG=Hq,rG=Gq,sG=Kq,aG=Yq,nG=Qq,iG=_O;function oG(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=oG(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Xr(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=oG(e))&&(a&&(a+=" "),a+=t);return a}const bL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wL=Xr,g0=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return wL(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=bL(u)||bL(h);return n[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...d,h,m]:d},[]);return wL(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lG=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...Fme,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:lG("lucide",n),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(e,t)=>{const r=f.forwardRef(({className:a,...n},i)=>f.createElement(Mme,{ref:i,iconNode:t,className:lG(`lucide-${Rme(e)}`,a),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=We("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=We("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=We("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=We("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=We("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=We("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=We("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=We("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=We("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=We("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=We("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=We("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=We("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=We("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=We("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=We("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=We("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=We("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=We("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=We("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=We("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=We("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=We("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=We("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=We("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=We("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=We("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=We("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=We("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=We("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=We("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=We("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=We("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=We("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=We("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=We("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=We("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=We("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=We("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=We("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=We("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=We("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=We("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=We("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=We("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=We("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=We("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=We("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=We("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=We("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=We("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=We("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=We("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=We("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=We("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=We("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=We("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=We("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=We("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=We("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=We("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=We("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=We("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=We("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=We("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=We("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=We("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=We("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=We("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=We("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=We("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=We("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=We("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=We("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=We("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=We("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=We("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=We("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=We("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=We("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=We("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=We("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=We("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=We("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=We("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=We("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=We("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=We("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=We("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=We("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=We("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=We("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=We("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=We("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=We("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=We("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=We("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=We("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=We("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=We("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=We("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=We("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),WO="-",lfe=e=>{const t=dfe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(WO);return l[0]===""&&l.length!==1&&l.shift(),jG(l,t)||cfe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},jG=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?jG(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(WO);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},DL=/^\[(.+)\]$/,cfe=e=>{if(DL.test(e)){const t=DL.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dfe=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return hfe(Object.entries(e.classGroups),r).forEach(([i,o])=>{S4(o,a,i,t)}),a},S4=(e,t,r,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:OL(t,n);i.classGroupId=r;return}if(typeof n=="function"){if(ufe(n)){S4(n(a),t,r,a);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([i,o])=>{S4(o,OL(t,i),r,a)})})},OL=(e,t)=>{let r=e;return t.split(WO).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},ufe=e=>e.isThemeGetter,hfe=(e,t)=>t?e.map(([r,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,n]}):e,mfe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const n=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){r.has(i)?r.set(i,o):n(i,o)}}},NG="!",ffe=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let y=0;y<l.length;y++){let w=l[y];if(d===0){if(w===n&&(a||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(w==="/"){h=y;continue}}w==="["?d++:w==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(NG),g=p?m.substring(1):m,x=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},pfe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},xfe=e=>({cache:mfe(e.cacheSize),parseClassName:ffe(e),...lfe(e)}),gfe=/\s+/,vfe=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(gfe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let g=!!p,x=a(g?m.substring(0,p):m);if(!x){if(!g){l=d+(l.length>0?" "+l:l);continue}if(x=a(m),!x){l=d+(l.length>0?" "+l:l);continue}g=!1}const y=pfe(u).join(":"),w=h?y+NG:y,b=w+x;if(i.includes(b))continue;i.push(b);const v=n(x,g);for(let N=0;N<v.length;++N){const j=v[N];i.push(w+j)}l=d+(l.length>0?" "+l:l)}return l};function yfe(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=SG(t))&&(a&&(a+=" "),a+=r);return a}const SG=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=SG(e[a]))&&(r&&(r+=" "),r+=t);return r};function bfe(e,...t){let r,a,n,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=xfe(d),a=r.cache.get,n=r.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=vfe(c,r);return n(c,u),u}return function(){return i(yfe.apply(null,arguments))}}const ba=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},kG=/^\[(?:([a-z-]+):)?(.+)\]$/i,wfe=/^\d+\/\d+$/,jfe=new Set(["px","full","screen"]),Nfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sfe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kfe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Afe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qd=e=>Vx(e)||jfe.has(e)||wfe.test(e),Zu=e=>y0(e,"length",Rfe),Vx=e=>!!e&&!Number.isNaN(Number(e)),DE=e=>y0(e,"number",Vx),mv=e=>!!e&&Number.isInteger(Number(e)),Efe=e=>e.endsWith("%")&&Vx(e.slice(0,-1)),is=e=>kG.test(e),eh=e=>Nfe.test(e),Pfe=new Set(["length","size","percentage"]),Tfe=e=>y0(e,Pfe,CG),_fe=e=>y0(e,"position",CG),Dfe=new Set(["image","url"]),Ofe=e=>y0(e,Dfe,Mfe),Ife=e=>y0(e,"",Ffe),fv=()=>!0,y0=(e,t,r)=>{const a=kG.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},Rfe=e=>Sfe.test(e)&&!kfe.test(e),CG=()=>!1,Ffe=e=>Cfe.test(e),Mfe=e=>Afe.test(e),Lfe=()=>{const e=ba("colors"),t=ba("spacing"),r=ba("blur"),a=ba("brightness"),n=ba("borderColor"),i=ba("borderRadius"),o=ba("borderSpacing"),l=ba("borderWidth"),c=ba("contrast"),d=ba("grayscale"),u=ba("hueRotate"),h=ba("invert"),m=ba("gap"),p=ba("gradientColorStops"),g=ba("gradientColorStopPositions"),x=ba("inset"),y=ba("margin"),w=ba("opacity"),b=ba("padding"),v=ba("saturate"),N=ba("scale"),j=ba("sepia"),k=ba("skew"),S=ba("space"),C=ba("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",is,t],P=()=>[is,t],T=()=>["",qd,Zu],_=()=>["auto",Vx,is],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",is],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Vx,is];return{cacheSize:500,separator:":",theme:{colors:[fv],spacing:[qd,Zu],blur:["none","",eh,is],brightness:W(),borderColor:[e],borderRadius:["none","","full",eh,is],borderSpacing:P(),borderWidth:T(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[Efe,Zu],inset:D(),margin:D(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",is]}],container:["container"],columns:[{columns:[eh]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),is]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mv,is]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",is]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",mv,is]}],"grid-cols":[{"grid-cols":[fv]}],"col-start-end":[{col:["auto",{span:["full",mv,is]},is]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[fv]}],"row-start-end":[{row:["auto",{span:[mv,is]},is]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",is]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",is]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",is,t]}],"min-w":[{"min-w":[is,t,"min","max","fit"]}],"max-w":[{"max-w":[is,t,"none","full","min","max","fit","prose",{screen:[eh]},eh]}],h:[{h:[is,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[is,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[is,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[is,t,"auto","min","max","fit"]}],"font-size":[{text:["base",eh,Zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",DE]}],"font-family":[{font:[fv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",is]}],"line-clamp":[{"line-clamp":["none",Vx,DE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qd,is]}],"list-image":[{"list-image":["none",is]}],"list-style-type":[{list:["none","disc","decimal",is]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qd,Zu]}],"underline-offset":[{"underline-offset":["auto",qd,is]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",is]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",is]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),_fe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ofe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[qd,is]}],"outline-w":[{outline:[qd,Zu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[qd,Zu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",eh,Ife]}],"shadow-color":[{shadow:[fv]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",eh,is]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",is]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",is]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",is]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[mv,is]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",is]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",is]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",is]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qd,Zu,DE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$fe=bfe(Lfe);function be(...e){return $fe(Xr(e))}async function Rk(e){return new Promise(t=>{const r=new FileReader;r.onloadend=a=>{if(!a.target||!a.target.result){t({isValid:!1,reason:"  "});return}const n=new Uint8Array(a.target.result).subarray(0,12);let i="";for(let o=0;o<n.length;o++)i+=n[o].toString(16).toUpperCase().padStart(2,"0");if(i.startsWith("FFD8FF")){t({isValid:!0});return}if(i.startsWith("89504E470D0A1A0A")){t({isValid:!0});return}if(i.startsWith("47494638")){t({isValid:!0});return}if(i.startsWith("52494646")&&i.substring(16,24)==="57454250"){t({isValid:!0});return}t({isValid:!1,reason:"         (   )"})},r.onerror=()=>{t({isValid:!1,reason:"    "})},r.readAsArrayBuffer(e.slice(0,12))})}const Bfe=Ime,AG=f.forwardRef(({className:e,...t},r)=>s.jsx(tG,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));AG.displayName=tG.displayName;const Ufe=g0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EG=f.forwardRef(({className:e,variant:t,...r},a)=>s.jsx(rG,{ref:a,className:be(Ufe({variant:t}),e),...r}));EG.displayName=rG.displayName;const Vfe=f.forwardRef(({className:e,...t},r)=>s.jsx(nG,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Vfe.displayName=nG.displayName;const PG=f.forwardRef(({className:e,...t},r)=>s.jsx(iG,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(hr,{className:"h-4 w-4"})}));PG.displayName=iG.displayName;const TG=f.forwardRef(({className:e,...t},r)=>s.jsx(sG,{ref:r,className:be("text-sm font-semibold",e),...t}));TG.displayName=sG.displayName;const _G=f.forwardRef(({className:e,...t},r)=>s.jsx(aG,{ref:r,className:be("text-sm opacity-90",e),...t}));_G.displayName=aG.displayName;function zfe(){const{toasts:e}=Rt();return s.jsxs(Bfe,{children:[e.map(function({id:t,title:r,description:a,action:n,...i}){return s.jsxs(EG,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(TG,{children:r}),a&&s.jsx(_G,{children:a})]}),n,s.jsx(PG,{})]},t)}),s.jsx(AG,{})]})}var IL=["light","dark"],Wfe="(prefers-color-scheme: dark)",Hfe=f.createContext(void 0),qfe={setTheme:e=>{},themes:[]},Gfe=()=>{var e;return(e=f.useContext(Hfe))!=null?e:qfe};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:n,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=n?IL.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,x=!1,y=!0)=>{let w=o?o[g]:g,b=x?g+"|| ''":`'${w}'`,v="";return n&&y&&!x&&IL.includes(g)&&(v+=`d.style.colorScheme = '${g}';`),r==="class"?x||w?v+=`c.add(${b})`:v+="null":w&&(v+=`d[s](n,${b})`),v},p=e?`!function(){${u}${m(e)}}()`:a?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Wfe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Kfe=e=>{switch(e){case"success":return Qfe;case"info":return Zfe;case"warning":return Jfe;case"error":return epe;default:return null}},Yfe=Array(12).fill(0),Xfe=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},Yfe.map((r,a)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),Qfe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jfe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Zfe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),epe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tpe=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rpe=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},k4=1,spe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,n=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:k4++,i=this.toasts.find(l=>l.id===n),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...e,id:n,title:r}),{...l,...e,id:n,dismissible:o,title:r}):l):this.addToast({title:r,...a,dismissible:o,id:n}),n},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),n=r!==void 0,i,o=a.then(async c=>{if(i=["resolve",c],ae.isValidElement(c))n=!1,this.create({id:r,type:"default",message:c});else if(npe(c)&&!c.ok){n=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){n=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){n=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||k4++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Po=new spe,ape=(e,t)=>{let r=(t==null?void 0:t.id)||k4++;return Po.addToast({title:e,...t,id:r}),r},npe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ipe=ape,ope=()=>Po.toasts,lpe=()=>Po.getActiveToasts(),Tr=Object.assign(ipe,{success:Po.success,info:Po.info,warning:Po.warning,error:Po.error,custom:Po.custom,message:Po.message,promise:Po.promise,dismiss:Po.dismiss,loading:Po.loading},{getHistory:ope,getToasts:lpe});function cpe(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}cpe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function r1(e){return e.label!==void 0}var dpe=3,upe="32px",hpe="16px",RL=4e3,mpe=356,fpe=14,ppe=20,xpe=200;function uc(...e){return e.filter(Boolean).join(" ")}function gpe(e){let[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}var vpe=e=>{var t,r,a,n,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:g,interacting:x,setHeights:y,visibleToasts:w,heights:b,index:v,toasts:N,expanded:j,removeToast:k,defaultRichColors:S,closeButton:C,style:A,cancelButtonStyle:E,actionButtonStyle:D,className:P="",descriptionClassName:T="",duration:_,position:O,gap:F,loadingIcon:I,expandByDefault:R,classNames:L,icons:H,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:M}=e,[G,V]=ae.useState(null),[q,Y]=ae.useState(null),[U,Z]=ae.useState(!1),[J,K]=ae.useState(!1),[se,B]=ae.useState(!1),[Ne,ye]=ae.useState(!1),[Re,qe]=ae.useState(!1),[He,fe]=ae.useState(0),[Ue,ie]=ae.useState(0),Pe=ae.useRef(p.duration||_||RL),Te=ae.useRef(null),Ve=ae.useRef(null),Le=v===0,de=v+1<=w,xe=p.type,Ie=p.dismissible!==!1,st=p.className||"",wt=p.descriptionClassName||"",tt=ae.useMemo(()=>b.findIndex(we=>we.toastId===p.id)||0,[b,p.id]),Bt=ae.useMemo(()=>{var we;return(we=p.closeButton)!=null?we:C},[p.closeButton,C]),pr=ae.useMemo(()=>p.duration||_||RL,[p.duration,_]),$t=ae.useRef(0),_t=ae.useRef(0),as=ae.useRef(0),Se=ae.useRef(null),[vr,Br]=O.split("-"),Nr=ae.useMemo(()=>b.reduce((we,le,Ye)=>Ye>=tt?we:we+le.height,0),[b,tt]),Bs=rpe(),Ia=p.invert||m,Hr=xe==="loading";_t.current=ae.useMemo(()=>tt*F+Nr,[tt,Nr]),ae.useEffect(()=>{Pe.current=pr},[pr]),ae.useEffect(()=>{Z(!0)},[]),ae.useEffect(()=>{let we=Ve.current;if(we){let le=we.getBoundingClientRect().height;return ie(le),y(Ye=>[{toastId:p.id,height:le,position:p.position},...Ye]),()=>y(Ye=>Ye.filter(ct=>ct.toastId!==p.id))}},[y,p.id]),ae.useLayoutEffect(()=>{if(!U)return;let we=Ve.current,le=we.style.height;we.style.height="auto";let Ye=we.getBoundingClientRect().height;we.style.height=le,ie(Ye),y(ct=>ct.find(lt=>lt.toastId===p.id)?ct.map(lt=>lt.toastId===p.id?{...lt,height:Ye}:lt):[{toastId:p.id,height:Ye,position:p.position},...ct])},[U,p.title,p.description,y,p.id]);let St=ae.useCallback(()=>{K(!0),fe(_t.current),y(we=>we.filter(le=>le.toastId!==p.id)),setTimeout(()=>{k(p)},xpe)},[p,k,y,_t]);ae.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let we;return j||x||M&&Bs?(()=>{if(as.current<$t.current){let le=new Date().getTime()-$t.current;Pe.current=Pe.current-le}as.current=new Date().getTime()})():Pe.current!==1/0&&($t.current=new Date().getTime(),we=setTimeout(()=>{var le;(le=p.onAutoClose)==null||le.call(p,p),St()},Pe.current)),()=>clearTimeout(we)},[j,x,p,xe,M,Bs,St]),ae.useEffect(()=>{p.delete&&St()},[St,p.delete]);function gt(){var we,le,Ye;return H!=null&&H.loading?ae.createElement("div",{className:uc(L==null?void 0:L.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":xe==="loading"},H.loading):I?ae.createElement("div",{className:uc(L==null?void 0:L.loader,(le=p==null?void 0:p.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":xe==="loading"},I):ae.createElement(Xfe,{className:uc(L==null?void 0:L.loader,(Ye=p==null?void 0:p.classNames)==null?void 0:Ye.loader),visible:xe==="loading"})}return ae.createElement("li",{tabIndex:0,ref:Ve,className:uc(P,st,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[xe],(r=p==null?void 0:p.classNames)==null?void 0:r[xe]),"data-sonner-toast":"","data-rich-colors":(a=p.richColors)!=null?a:S,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":U,"data-promise":!!p.promise,"data-swiped":Re,"data-removed":J,"data-visible":de,"data-y-position":vr,"data-x-position":Br,"data-index":v,"data-front":Le,"data-swiping":se,"data-dismissible":Ie,"data-type":xe,"data-invert":Ia,"data-swipe-out":Ne,"data-swipe-direction":q,"data-expanded":!!(j||R&&U),style:{"--index":v,"--toasts-before":v,"--z-index":N.length-v,"--offset":`${J?He:_t.current}px`,"--initial-height":R?"auto":`${Ue}px`,...A,...p.style},onDragEnd:()=>{B(!1),V(null),Se.current=null},onPointerDown:we=>{Hr||!Ie||(Te.current=new Date,fe(_t.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(B(!0),Se.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,le,Ye,ct;if(Ne||!Ie)return;Se.current=null;let lt=Number(((we=Ve.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xe=Number(((le=Ve.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),At=new Date().getTime()-((Ye=Te.current)==null?void 0:Ye.getTime()),Dt=G==="x"?lt:Xe,vt=Math.abs(Dt)/At;if(Math.abs(Dt)>=ppe||vt>.11){fe(_t.current),(ct=p.onDismiss)==null||ct.call(p,p),Y(G==="x"?lt>0?"right":"left":Xe>0?"down":"up"),St(),ye(!0),qe(!1);return}B(!1),V(null)},onPointerMove:we=>{var le,Ye,ct,lt;if(!Se.current||!Ie||((le=window.getSelection())==null?void 0:le.toString().length)>0)return;let Xe=we.clientY-Se.current.y,At=we.clientX-Se.current.x,Dt=(Ye=e.swipeDirections)!=null?Ye:gpe(O);!G&&(Math.abs(At)>1||Math.abs(Xe)>1)&&V(Math.abs(At)>Math.abs(Xe)?"x":"y");let vt={x:0,y:0};G==="y"?(Dt.includes("top")||Dt.includes("bottom"))&&(Dt.includes("top")&&Xe<0||Dt.includes("bottom")&&Xe>0)&&(vt.y=Xe):G==="x"&&(Dt.includes("left")||Dt.includes("right"))&&(Dt.includes("left")&&At<0||Dt.includes("right")&&At>0)&&(vt.x=At),(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&qe(!0),(ct=Ve.current)==null||ct.style.setProperty("--swipe-amount-x",`${vt.x}px`),(lt=Ve.current)==null||lt.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},Bt&&!p.jsx?ae.createElement("button",{"aria-label":W,"data-disabled":Hr,"data-close-button":!0,onClick:Hr||!Ie?()=>{}:()=>{var we;St(),(we=p.onDismiss)==null||we.call(p,p)},className:uc(L==null?void 0:L.closeButton,(n=p==null?void 0:p.classNames)==null?void 0:n.closeButton)},(i=H==null?void 0:H.close)!=null?i:tpe):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ae.createElement(ae.Fragment,null,xe||p.icon||p.promise?ae.createElement("div",{"data-icon":"",className:uc(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gt():null,p.type!=="loading"?p.icon||(H==null?void 0:H[xe])||Kfe(xe):null):null,ae.createElement("div",{"data-content":"",className:uc(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:uc(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ae.createElement("div",{"data-description":"",className:uc(T,wt,L==null?void 0:L.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&r1(p.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:we=>{var le,Ye;r1(p.cancel)&&Ie&&((Ye=(le=p.cancel).onClick)==null||Ye.call(le,we),St())},className:uc(L==null?void 0:L.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&r1(p.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:we=>{var le,Ye;r1(p.action)&&((Ye=(le=p.action).onClick)==null||Ye.call(le,we),!we.defaultPrevented&&St())},className:uc(L==null?void 0:L.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function FL(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ype(e,t){let r={};return[e,t].forEach((a,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",l=i?hpe:upe;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof a=="number"||typeof a=="string"?c(a):typeof a=="object"?["top","right","bottom","left"].forEach(d=>{a[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof a[d]=="number"?`${a[d]}px`:a[d]}):c(l)}),r}var bpe=f.forwardRef(function(e,t){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:g=dpe,toastOptions:x,dir:y=FL(),gap:w=fpe,loadingIcon:b,icons:v,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[k,S]=ae.useState([]),C=ae.useMemo(()=>Array.from(new Set([a].concat(k.filter(M=>M.position).map(M=>M.position)))),[k,a]),[A,E]=ae.useState([]),[D,P]=ae.useState(!1),[T,_]=ae.useState(!1),[O,F]=ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=ae.useRef(null),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=ae.useRef(null),H=ae.useRef(!1),W=ae.useCallback(M=>{S(G=>{var V;return(V=G.find(q=>q.id===M.id))!=null&&V.delete||Po.dismiss(M.id),G.filter(({id:q})=>q!==M.id)})},[]);return ae.useEffect(()=>Po.subscribe(M=>{if(M.dismiss){S(G=>G.map(V=>V.id===M.id?{...V,delete:!0}:V));return}setTimeout(()=>{Oq.flushSync(()=>{S(G=>{let V=G.findIndex(q=>q.id===M.id);return V!==-1?[...G.slice(0,V),{...G[V],...M},...G.slice(V+1)]:[M,...G]})})})}),[]),ae.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:G})=>{F(G?"dark":"light")})}catch{M.addListener(({matches:V})=>{try{F(V?"dark":"light")}catch(q){console.error(q)}})}},[u]),ae.useEffect(()=>{k.length<=1&&P(!1)},[k]),ae.useEffect(()=>{let M=G=>{var V,q;n.every(Y=>G[Y]||G.code===Y)&&(P(!0),(V=I.current)==null||V.focus()),G.code==="Escape"&&(document.activeElement===I.current||(q=I.current)!=null&&q.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n]),ae.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[I.current]),ae.createElement("section",{ref:t,"aria-label":`${N} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((M,G)=>{var V;let[q,Y]=M.split("-");return k.length?ae.createElement("ol",{key:M,dir:y==="auto"?FL():y,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":q,"data-lifted":D&&k.length>1&&!i,"data-x-position":Y,style:{"--front-toast-height":`${((V=A[0])==null?void 0:V.height)||0}px`,"--width":`${mpe}px`,"--gap":`${w}px`,...p,...ype(c,d)},onBlur:U=>{H.current&&!U.currentTarget.contains(U.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=U.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onDragEnd:()=>P(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||_(!0)},onPointerUp:()=>_(!1)},k.filter(U=>!U.position&&G===0||U.position===M).map((U,Z)=>{var J,K;return ae.createElement(vpe,{key:U.id,icons:v,index:Z,toast:U,defaultRichColors:h,duration:(J=x==null?void 0:x.duration)!=null?J:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:g,closeButton:(K=x==null?void 0:x.closeButton)!=null?K:o,interacting:T,position:M,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:W,toasts:k.filter(se=>se.position==U.position),heights:A.filter(se=>se.position==U.position),setHeights:E,expandByDefault:i,gap:w,loadingIcon:b,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const wpe=({...e})=>{const{theme:t="system"}=Gfe();return s.jsx(bpe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jpe=MD[" useId ".trim().toString()]||(()=>{}),Npe=0;function cl(e){const[t,r]=f.useState(jpe());return tn(()=>{r(a=>a??String(Npe++))},[e]),t?`radix-${t}`:""}const Spe=["top","right","bottom","left"],nm=Math.min,Zo=Math.max,m2=Math.round,s1=Math.floor,Nd=e=>({x:e,y:e}),kpe={left:"right",right:"left",bottom:"top",top:"bottom"},Cpe={start:"end",end:"start"};function C4(e,t,r){return Zo(e,nm(t,r))}function Su(e,t){return typeof e=="function"?e(t):e}function ku(e){return e.split("-")[0]}function b0(e){return e.split("-")[1]}function HO(e){return e==="x"?"y":"x"}function qO(e){return e==="y"?"height":"width"}const Ape=new Set(["top","bottom"]);function fd(e){return Ape.has(ku(e))?"y":"x"}function GO(e){return HO(fd(e))}function Epe(e,t,r){r===void 0&&(r=!1);const a=b0(e),n=GO(e),i=qO(n);let o=n==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=f2(o)),[o,f2(o)]}function Ppe(e){const t=f2(e);return[A4(e),t,A4(t)]}function A4(e){return e.replace(/start|end/g,t=>Cpe[t])}const ML=["left","right"],LL=["right","left"],Tpe=["top","bottom"],_pe=["bottom","top"];function Dpe(e,t,r){switch(e){case"top":case"bottom":return r?t?LL:ML:t?ML:LL;case"left":case"right":return t?Tpe:_pe;default:return[]}}function Ope(e,t,r,a){const n=b0(e);let i=Dpe(ku(e),r==="start",a);return n&&(i=i.map(o=>o+"-"+n),t&&(i=i.concat(i.map(A4)))),i}function f2(e){return e.replace(/left|right|bottom|top/g,t=>kpe[t])}function Ipe(e){return{top:0,right:0,bottom:0,left:0,...e}}function DG(e){return typeof e!="number"?Ipe(e):{top:e,right:e,bottom:e,left:e}}function p2(e){const{x:t,y:r,width:a,height:n}=e;return{width:a,height:n,top:r,left:t,right:t+a,bottom:r+n,x:t,y:r}}function $L(e,t,r){let{reference:a,floating:n}=e;const i=fd(t),o=GO(t),l=qO(o),c=ku(t),d=i==="y",u=a.x+a.width/2-n.width/2,h=a.y+a.height/2-n.height/2,m=a[l]/2-n[l]/2;let p;switch(c){case"top":p={x:u,y:a.y-n.height};break;case"bottom":p={x:u,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-n.width,y:h};break;default:p={x:a.x,y:a.y}}switch(b0(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const Rpe=async(e,t,r)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:h}=$L(d,a,c),m=a,p={},g=0;for(let x=0;x<l.length;x++){const{name:y,fn:w}=l[x],{x:b,y:v,data:N,reset:j}=await w({x:u,y:h,initialPlacement:a,placement:m,strategy:n,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,h=v??h,p={...p,[y]:{...p[y],...N}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):j.rects),{x:u,y:h}=$L(d,m,c)),x=-1)}return{x:u,y:h,placement:m,strategy:n,middlewareData:p}};async function cb(e,t){var r;t===void 0&&(t={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Su(t,e),g=DG(p),y=l[m?h==="floating"?"reference":"floating":h],w=p2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=h==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},j=p2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:v,strategy:c}):b);return{top:(w.top-j.top+g.top)/N.y,bottom:(j.bottom-w.bottom+g.bottom)/N.y,left:(w.left-j.left+g.left)/N.x,right:(j.right-w.right+g.right)/N.x}}const Fpe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Su(e,t)||{};if(d==null)return{};const h=DG(u),m={x:r,y:a},p=GO(n),g=qO(p),x=await o.getDimensions(d),y=p==="y",w=y?"top":"left",b=y?"bottom":"right",v=y?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[p]-m[p]-i.floating[g],j=m[p]-i.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=k?k[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[v]||i.floating[g]);const C=N/2-j/2,A=S/2-x[g]/2-1,E=nm(h[w],A),D=nm(h[b],A),P=E,T=S-x[g]-D,_=S/2-x[g]/2+C,O=C4(P,_,T),F=!c.arrow&&b0(n)!=null&&_!==O&&i.reference[g]/2-(_<P?E:D)-x[g]/2<0,I=F?_<P?_-P:_-T:0;return{[p]:m[p]+I,data:{[p]:O,centerOffset:_-O-I,...F&&{alignmentOffset:I}},reset:F}}}),Mpe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...y}=Su(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=ku(n),b=fd(l),v=ku(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(v||!x?[f2(l)]:Ppe(l)),k=g!=="none";!m&&k&&j.push(...Ope(l,x,g,N));const S=[l,...j],C=await cb(t,y),A=[];let E=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&A.push(C[w]),h){const _=Epe(n,o,N);A.push(C[_[0]],C[_[1]])}if(E=[...E,{placement:n,overflows:A}],!A.every(_=>_<=0)){var D,P;const _=(((D=i.flip)==null?void 0:D.index)||0)+1,O=S[_];if(O&&(!(h==="alignment"?b!==fd(O):!1)||E.every(R=>R.overflows[0]>0&&fd(R.placement)===b)))return{data:{index:_,overflows:E},reset:{placement:O}};let F=(P=E.filter(I=>I.overflows[0]<=0).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(p){case"bestFit":{var T;const I=(T=E.filter(R=>{if(k){const L=fd(R.placement);return L===b||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:T[0];I&&(F=I);break}case"initialPlacement":F=l;break}if(n!==F)return{reset:{placement:F}}}return{}}}};function BL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UL(e){return Spe.some(t=>e[t]>=0)}const Lpe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...n}=Su(e,t);switch(a){case"referenceHidden":{const i=await cb(t,{...n,elementContext:"reference"}),o=BL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UL(o)}}}case"escaped":{const i=await cb(t,{...n,altBoundary:!0}),o=BL(i,r.floating);return{data:{escapedOffsets:o,escaped:UL(o)}}}default:return{}}}}},OG=new Set(["left","top"]);async function $pe(e,t){const{placement:r,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=ku(r),l=b0(r),c=fd(r)==="y",d=OG.has(o)?-1:1,u=i&&c?-1:1,h=Su(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const Bpe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:n,y:i,placement:o,middlewareData:l}=t,c=await $pe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:o}}}}},Upe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:n}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:b}=y;return{x:w,y:b}}},...c}=Su(e,t),d={x:r,y:a},u=await cb(t,c),h=fd(ku(n)),m=HO(h);let p=d[m],g=d[h];if(i){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=p+u[y],v=p-u[w];p=C4(b,p,v)}if(o){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=g+u[y],v=g-u[w];g=C4(b,g,v)}const x=l.fn({...t,[m]:p,[h]:g});return{...x,data:{x:x.x-r,y:x.y-a,enabled:{[m]:i,[h]:o}}}}}},Vpe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:n,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Su(e,t),u={x:r,y:a},h=fd(n),m=HO(h);let p=u[m],g=u[h];const x=Su(l,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",N=i.reference[m]-i.floating[v]+y.mainAxis,j=i.reference[m]+i.reference[v]-y.mainAxis;p<N?p=N:p>j&&(p=j)}if(d){var w,b;const v=m==="y"?"width":"height",N=OG.has(ku(n)),j=i.reference[h]-i.floating[v]+(N&&((w=o.offset)==null?void 0:w[h])||0)+(N?0:y.crossAxis),k=i.reference[h]+i.reference[v]+(N?0:((b=o.offset)==null?void 0:b[h])||0)-(N?y.crossAxis:0);g<j?g=j:g>k&&(g=k)}return{[m]:p,[h]:g}}}},zpe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:n,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Su(e,t),u=await cb(t,d),h=ku(n),m=b0(n),p=fd(n)==="y",{width:g,height:x}=i.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=m==="end"?"top":"bottom");const b=x-u.top-u.bottom,v=g-u.left-u.right,N=nm(x-u[y],b),j=nm(g-u[w],v),k=!t.middlewareData.shift;let S=N,C=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=v),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(S=b),k&&!m){const E=Zo(u.left,0),D=Zo(u.right,0),P=Zo(u.top,0),T=Zo(u.bottom,0);p?C=g-2*(E!==0||D!==0?E+D:Zo(u.left,u.right)):S=x-2*(P!==0||T!==0?P+T:Zo(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:S});const A=await o.getDimensions(l.floating);return g!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Fk(){return typeof window<"u"}function w0(e){return IG(e)?(e.nodeName||"").toLowerCase():"#document"}function dl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Md(e){var t;return(t=(IG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IG(e){return Fk()?e instanceof Node||e instanceof dl(e).Node:!1}function Uc(e){return Fk()?e instanceof Element||e instanceof dl(e).Element:!1}function Dd(e){return Fk()?e instanceof HTMLElement||e instanceof dl(e).HTMLElement:!1}function VL(e){return!Fk()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dl(e).ShadowRoot}const Wpe=new Set(["inline","contents"]);function $w(e){const{overflow:t,overflowX:r,overflowY:a,display:n}=Vc(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!Wpe.has(n)}const Hpe=new Set(["table","td","th"]);function qpe(e){return Hpe.has(w0(e))}const Gpe=[":popover-open",":modal"];function Mk(e){return Gpe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Kpe=["transform","translate","scale","rotate","perspective"],Ype=["transform","translate","scale","rotate","perspective","filter"],Xpe=["paint","layout","strict","content"];function KO(e){const t=YO(),r=Uc(e)?Vc(e):e;return Kpe.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ype.some(a=>(r.willChange||"").includes(a))||Xpe.some(a=>(r.contain||"").includes(a))}function Qpe(e){let t=im(e);for(;Dd(t)&&!jg(t);){if(KO(t))return t;if(Mk(t))return null;t=im(t)}return null}function YO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jpe=new Set(["html","body","#document"]);function jg(e){return Jpe.has(w0(e))}function Vc(e){return dl(e).getComputedStyle(e)}function Lk(e){return Uc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function im(e){if(w0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VL(e)&&e.host||Md(e);return VL(t)?t.host:t}function RG(e){const t=im(e);return jg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Dd(t)&&$w(t)?t:RG(t)}function db(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=RG(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),o=dl(n);if(i){const l=E4(o);return t.concat(o,o.visualViewport||[],$w(n)?n:[],l&&r?db(l):[])}return t.concat(n,db(n,[],r))}function E4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FG(e){const t=Vc(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const n=Dd(e),i=n?e.offsetWidth:r,o=n?e.offsetHeight:a,l=m2(r)!==i||m2(a)!==o;return l&&(r=i,a=o),{width:r,height:a,$:l}}function XO(e){return Uc(e)?e:e.contextElement}function zx(e){const t=XO(e);if(!Dd(t))return Nd(1);const r=t.getBoundingClientRect(),{width:a,height:n,$:i}=FG(t);let o=(i?m2(r.width):r.width)/a,l=(i?m2(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Zpe=Nd(0);function MG(e){const t=dl(e);return!YO()||!t.visualViewport?Zpe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function exe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==dl(e)?!1:t}function Yf(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=XO(e);let o=Nd(1);t&&(a?Uc(a)&&(o=zx(a)):o=zx(e));const l=exe(i,r,a)?MG(i):Nd(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(i){const m=dl(i),p=a&&Uc(a)?dl(a):a;let g=m,x=E4(g);for(;x&&a&&p!==g;){const y=zx(x),w=x.getBoundingClientRect(),b=Vc(x),v=w.left+(x.clientLeft+parseFloat(b.paddingLeft))*y.x,N=w.top+(x.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,h*=y.y,c+=v,d+=N,g=dl(x),x=E4(g)}}return p2({width:u,height:h,x:c,y:d})}function QO(e,t){const r=Lk(e).scrollLeft;return t?t.left+r:Yf(Md(e)).left+r}function LG(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),n=a.left+t.scrollLeft-(r?0:QO(e,a)),i=a.top+t.scrollTop;return{x:n,y:i}}function txe(e){let{elements:t,rect:r,offsetParent:a,strategy:n}=e;const i=n==="fixed",o=Md(a),l=t?Mk(t.floating):!1;if(a===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Nd(1);const u=Nd(0),h=Dd(a);if((h||!h&&!i)&&((w0(a)!=="body"||$w(o))&&(c=Lk(a)),Dd(a))){const p=Yf(a);d=zx(a),u.x=p.x+a.clientLeft,u.y=p.y+a.clientTop}const m=o&&!h&&!i?LG(o,c,!0):Nd(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function rxe(e){return Array.from(e.getClientRects())}function sxe(e){const t=Md(e),r=Lk(e),a=e.ownerDocument.body,n=Zo(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Zo(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+QO(e);const l=-r.scrollTop;return Vc(a).direction==="rtl"&&(o+=Zo(t.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function axe(e,t){const r=dl(e),a=Md(e),n=r.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;const d=YO();(!d||d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l,y:c}}const nxe=new Set(["absolute","fixed"]);function ixe(e,t){const r=Yf(e,!0,t==="fixed"),a=r.top+e.clientTop,n=r.left+e.clientLeft,i=Dd(e)?zx(e):Nd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=n*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function zL(e,t,r){let a;if(t==="viewport")a=axe(e,r);else if(t==="document")a=sxe(Md(e));else if(Uc(t))a=ixe(t,r);else{const n=MG(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return p2(a)}function $G(e,t){const r=im(e);return r===t||!Uc(r)||jg(r)?!1:Vc(r).position==="fixed"||$G(r,t)}function oxe(e,t){const r=t.get(e);if(r)return r;let a=db(e,[],!1).filter(l=>Uc(l)&&w0(l)!=="body"),n=null;const i=Vc(e).position==="fixed";let o=i?im(e):e;for(;Uc(o)&&!jg(o);){const l=Vc(o),c=KO(o);!c&&l.position==="fixed"&&(n=null),(i?!c&&!n:!c&&l.position==="static"&&!!n&&nxe.has(n.position)||$w(o)&&!c&&$G(e,o))?a=a.filter(u=>u!==o):n=l,o=im(o)}return t.set(e,a),a}function lxe(e){let{element:t,boundary:r,rootBoundary:a,strategy:n}=e;const o=[...r==="clippingAncestors"?Mk(t)?[]:oxe(t,this._c):[].concat(r),a],l=o[0],c=o.reduce((d,u)=>{const h=zL(t,u,n);return d.top=Zo(h.top,d.top),d.right=nm(h.right,d.right),d.bottom=nm(h.bottom,d.bottom),d.left=Zo(h.left,d.left),d},zL(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cxe(e){const{width:t,height:r}=FG(e);return{width:t,height:r}}function dxe(e,t,r){const a=Dd(t),n=Md(t),i=r==="fixed",o=Yf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Nd(0);function d(){c.x=QO(n)}if(a||!a&&!i)if((w0(t)!=="body"||$w(n))&&(l=Lk(t)),a){const p=Yf(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else n&&d();i&&!a&&n&&d();const u=n&&!a&&!i?LG(n,l):Nd(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function OE(e){return Vc(e).position==="static"}function WL(e,t){if(!Dd(e)||Vc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Md(e)===r&&(r=r.ownerDocument.body),r}function BG(e,t){const r=dl(e);if(Mk(e))return r;if(!Dd(e)){let n=im(e);for(;n&&!jg(n);){if(Uc(n)&&!OE(n))return n;n=im(n)}return r}let a=WL(e,t);for(;a&&qpe(a)&&OE(a);)a=WL(a,t);return a&&jg(a)&&OE(a)&&!KO(a)?r:a||Qpe(e)||r}const uxe=async function(e){const t=this.getOffsetParent||BG,r=this.getDimensions,a=await r(e.floating);return{reference:dxe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function hxe(e){return Vc(e).direction==="rtl"}const mxe={convertOffsetParentRelativeRectToViewportRelativeRect:txe,getDocumentElement:Md,getClippingRect:lxe,getOffsetParent:BG,getElementRects:uxe,getClientRects:rxe,getDimensions:cxe,getScale:zx,isElement:Uc,isRTL:hxe};function UG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function fxe(e,t){let r=null,a;const n=Md(e);function i(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const g=s1(h),x=s1(n.clientWidth-(u+m)),y=s1(n.clientHeight-(h+p)),w=s1(u),v={rootMargin:-g+"px "+-x+"px "+-y+"px "+-w+"px",threshold:Zo(0,nm(1,c))||1};let N=!0;function j(k){const S=k[0].intersectionRatio;if(S!==c){if(!N)return o();S?o(!1,S):a=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!UG(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...v,root:n.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(e)}return o(!0),i}function pxe(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=XO(e),u=n||i?[...d?db(d):[],...db(t)]:[];u.forEach(w=>{n&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const h=d&&l?fxe(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let g,x=c?Yf(e):null;c&&y();function y(){const w=Yf(e);x&&!UG(x,w)&&r(),x=w,g=requestAnimationFrame(y)}return r(),()=>{var w;u.forEach(b=>{n&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const xxe=Bpe,gxe=Upe,vxe=Mpe,yxe=zpe,bxe=Lpe,HL=Fpe,wxe=Vpe,jxe=(e,t,r)=>{const a=new Map,n={platform:mxe,...r},i={...n.platform,_c:a};return Rpe(e,t,{...n,platform:i})};var Nxe=typeof document<"u",Sxe=function(){},xN=Nxe?f.useLayoutEffect:Sxe;function x2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!x2(e[a],t[a]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,n[a]))return!1;for(a=r;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!x2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function VG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qL(e,t){const r=VG(e);return Math.round(t*r)/r}function IE(e){const t=f.useRef(e);return xN(()=>{t.current=e}),t}function kxe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(a);x2(m,a)||p(a);const[g,x]=f.useState(null),[y,w]=f.useState(null),b=f.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[]),v=f.useCallback(R=>{R!==S.current&&(S.current=R,w(R))},[]),N=i||g,j=o||y,k=f.useRef(null),S=f.useRef(null),C=f.useRef(u),A=c!=null,E=IE(c),D=IE(n),P=IE(d),T=f.useCallback(()=>{if(!k.current||!S.current)return;const R={placement:t,strategy:r,middleware:m};D.current&&(R.platform=D.current),jxe(k.current,S.current,R).then(L=>{const H={...L,isPositioned:P.current!==!1};_.current&&!x2(C.current,H)&&(C.current=H,Ll.flushSync(()=>{h(H)}))})},[m,t,r,D,P]);xN(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const _=f.useRef(!1);xN(()=>(_.current=!0,()=>{_.current=!1}),[]),xN(()=>{if(N&&(k.current=N),j&&(S.current=j),N&&j){if(E.current)return E.current(N,j,T);T()}},[N,j,T,E,A]);const O=f.useMemo(()=>({reference:k,floating:S,setReference:b,setFloating:v}),[b,v]),F=f.useMemo(()=>({reference:N,floating:j}),[N,j]),I=f.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const L=qL(F.floating,u.x),H=qL(F.floating,u.y);return l?{...R,transform:"translate("+L+"px, "+H+"px)",...VG(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:H}},[r,l,F.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:T,refs:O,elements:F,floatingStyles:I}),[u,T,O,F,I])}const Cxe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:n}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?HL({element:a.current,padding:n}).fn(r):{}:a?HL({element:a,padding:n}).fn(r):{}}}},Axe=(e,t)=>({...xxe(e),options:[e,t]}),Exe=(e,t)=>({...gxe(e),options:[e,t]}),Pxe=(e,t)=>({...wxe(e),options:[e,t]}),Txe=(e,t)=>({...vxe(e),options:[e,t]}),_xe=(e,t)=>({...yxe(e),options:[e,t]}),Dxe=(e,t)=>({...bxe(e),options:[e,t]}),Oxe=(e,t)=>({...Cxe(e),options:[e,t]});var Ixe="Arrow",zG=f.forwardRef((e,t)=>{const{children:r,width:a=10,height:n=5,...i}=e;return s.jsx(Lt.svg,{...i,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});zG.displayName=Ixe;var Rxe=zG;function Bw(e){const[t,r]=f.useState(void 0);return tn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var JO="Popper",[WG,bm]=qa(JO),[Fxe,HG]=WG(JO),qG=e=>{const{__scopePopper:t,children:r}=e,[a,n]=f.useState(null);return s.jsx(Fxe,{scope:t,anchor:a,onAnchorChange:n,children:r})};qG.displayName=JO;var GG="PopperAnchor",KG=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...n}=e,i=HG(GG,r),o=f.useRef(null),l=xr(t,o);return f.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:s.jsx(Lt.div,{...n,ref:l})});KG.displayName=GG;var ZO="PopperContent",[Mxe,Lxe]=WG(ZO),YG=f.forwardRef((e,t)=>{var U,Z,J,K,se,B;const{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,y=HG(ZO,r),[w,b]=f.useState(null),v=xr(t,Ne=>b(Ne)),[N,j]=f.useState(null),k=Bw(N),S=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,A=a+(i!=="center"?"-"+i:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],P=D.length>0,T={padding:E,boundary:D.filter(Bxe),altBoundary:P},{refs:_,floatingStyles:O,placement:F,isPositioned:I,middlewareData:R}=kxe({strategy:"fixed",placement:A,whileElementsMounted:(...Ne)=>pxe(...Ne,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Axe({mainAxis:n+C,alignmentAxis:o}),c&&Exe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Pxe():void 0,...T}),c&&Txe({...T}),_xe({...T,apply:({elements:Ne,rects:ye,availableWidth:Re,availableHeight:qe})=>{const{width:He,height:fe}=ye.reference,Ue=Ne.floating.style;Ue.setProperty("--radix-popper-available-width",`${Re}px`),Ue.setProperty("--radix-popper-available-height",`${qe}px`),Ue.setProperty("--radix-popper-anchor-width",`${He}px`),Ue.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),N&&Oxe({element:N,padding:l}),Uxe({arrowWidth:S,arrowHeight:C}),m&&Dxe({strategy:"referenceHidden",...T})]}),[L,H]=JG(F),W=Ma(g);tn(()=>{I&&(W==null||W())},[I,W]);const M=(U=R.arrow)==null?void 0:U.x,G=(Z=R.arrow)==null?void 0:Z.y,V=((J=R.arrow)==null?void 0:J.centerOffset)!==0,[q,Y]=f.useState();return tn(()=>{w&&Y(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:I?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(K=R.transformOrigin)==null?void 0:K.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((B=R.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Mxe,{scope:r,placedSide:L,onArrowChange:j,arrowX:M,arrowY:G,shouldHideArrow:V,children:s.jsx(Lt.div,{"data-side":L,"data-align":H,...x,ref:v,style:{...x.style,animation:I?void 0:"none"}})})})});YG.displayName=ZO;var XG="PopperArrow",$xe={top:"bottom",right:"left",bottom:"top",left:"right"},QG=f.forwardRef(function(t,r){const{__scopePopper:a,...n}=t,i=Lxe(XG,a),o=$xe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Rxe,{...n,ref:r,style:{...n.style,display:"block"}})})});QG.displayName=XG;function Bxe(e){return e!==null}var Uxe=e=>({name:"transformOrigin",options:e,fn(t){var y,w,b;const{placement:r,rects:a,middlewareData:n}=t,o=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=JG(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((w=n.arrow)==null?void 0:w.x)??0)+l/2,p=(((b=n.arrow)==null?void 0:b.y)??0)+c/2;let g="",x="";return d==="bottom"?(g=o?h:`${m}px`,x=`${-c}px`):d==="top"?(g=o?h:`${m}px`,x=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,x=o?h:`${p}px`):d==="left"&&(g=`${a.floating.width+c}px`,x=o?h:`${p}px`),{data:{x:g,y:x}}}});function JG(e){const[t,r="center"]=e.split("-");return[t,r]}var eI=qG,Uw=KG,$k=YG,Bk=QG,[Uk,jgt]=qa("Tooltip",[bm]),tI=bm(),ZG="TooltipProvider",Vxe=700,GL="tooltip.open",[zxe,eK]=Uk(ZG),tK=e=>{const{__scopeTooltip:t,delayDuration:r=Vxe,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(zxe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:i})};tK.displayName=ZG;var rK="Tooltip",[Ngt,Vk]=Uk(rK),P4="TooltipTrigger",Wxe=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,n=Vk(P4,r),i=eK(P4,r),o=tI(r),l=f.useRef(null),c=xr(t,l,n.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Uw,{asChild:!0,...o,children:s.jsx(Lt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:xt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:xt(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:xt(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:xt(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:xt(e.onBlur,n.onClose),onClick:xt(e.onClick,n.onClose)})})});Wxe.displayName=P4;var Hxe="TooltipPortal",[Sgt,qxe]=Uk(Hxe,{forceMount:void 0}),Ng="TooltipContent",sK=f.forwardRef((e,t)=>{const r=qxe(Ng,e.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...i}=e,o=Vk(Ng,e.__scopeTooltip);return s.jsx(Pn,{present:a||o.open,children:o.disableHoverableContent?s.jsx(aK,{side:n,...i,ref:t}):s.jsx(Gxe,{side:n,...i,ref:t})})}),Gxe=f.forwardRef((e,t)=>{const r=Vk(Ng,e.__scopeTooltip),a=eK(Ng,e.__scopeTooltip),n=f.useRef(null),i=xr(t,n),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=n.current,{onPointerInTransitChange:h}=a,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((g,x)=>{const y=g.currentTarget,w={x:g.clientX,y:g.clientY},b=Jxe(w,y.getBoundingClientRect()),v=Zxe(w,b),N=ege(x.getBoundingClientRect()),j=rge([...v,...N]);l(j),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const g=y=>p(y,u),x=y=>p(y,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",x)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const g=x=>{const y=x.target,w={x:x.clientX,y:x.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),v=!tge(w,o);b?m():v&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,m]),s.jsx(aK,{...e,ref:i})}),[Kxe,Yxe]=Uk(rK,{isInside:!1}),Xxe=Mq("TooltipContent"),aK=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Vk(Ng,r),d=tI(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(GL,u),()=>document.removeEventListener(GL,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(vp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs($k,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Xxe,{children:a}),s.jsx(Kxe,{scope:r,isInside:!0,children:s.jsx(xme,{id:c.contentId,role:"tooltip",children:n||a})})]})})});sK.displayName=Ng;var nK="TooltipArrow",Qxe=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,n=tI(r);return Yxe(nK,r).isInside?null:s.jsx(Bk,{...n,...a,ref:t})});Qxe.displayName=nK;function Jxe(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,n,i)){case i:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Zxe(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function ege(e){const{top:t,right:r,bottom:a,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:a},{x:n,y:a}]}function tge(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>a!=m>a&&r<(h-d)*(a-u)/(m-u)+d&&(n=!n)}return n}function rge(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),sge(t)}function sge(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const n=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var age=tK,iK=sK;const nge=age,ige=f.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(iK,{ref:a,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ige.displayName=iK.displayName;var zk=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wk=typeof window>"u"||"Deno"in globalThis;function vc(){}function oge(e,t){return typeof e=="function"?e(t):e}function lge(e){return typeof e=="number"&&e>=0&&e!==1/0}function cge(e,t){return Math.max(e+(t||0)-Date.now(),0)}function T4(e,t){return typeof e=="function"?e(t):e}function dge(e,t){return typeof e=="function"?e(t):e}function KL(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==rI(o,t.options))return!1}else if(!hb(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function YL(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ub(t.options.mutationKey)!==ub(i))return!1}else if(!hb(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function rI(e,t){return((t==null?void 0:t.queryKeyHashFn)||ub)(e)}function ub(e){return JSON.stringify(e,(t,r)=>_4(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function hb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hb(e[r],t[r])):!1}function oK(e,t){if(e===t)return e;const r=XL(e)&&XL(t);if(r||_4(e)&&_4(t)){const a=r?e:Object.keys(e),n=a.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(a);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=oK(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return n===o&&d===n?e:l}return t}function XL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _4(e){if(!QL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!QL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function QL(e){return Object.prototype.toString.call(e)==="[object Object]"}function uge(e){return new Promise(t=>{setTimeout(t,e)})}function hge(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oK(e,t):t}function mge(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function fge(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var sI=Symbol();function lK(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sI?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Nf,vh,ig,mW,pge=(mW=class extends zk{constructor(){super();Os(this,Nf);Os(this,vh);Os(this,ig);Yr(this,ig,t=>{if(!Wk&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ut(this,vh)||this.setEventListener(ut(this,ig))}onUnsubscribe(){var t;this.hasListeners()||((t=ut(this,vh))==null||t.call(this),Yr(this,vh,void 0))}setEventListener(t){var r;Yr(this,ig,t),(r=ut(this,vh))==null||r.call(this),Yr(this,vh,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){ut(this,Nf)!==t&&(Yr(this,Nf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ut(this,Nf)=="boolean"?ut(this,Nf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nf=new WeakMap,vh=new WeakMap,ig=new WeakMap,mW),cK=new pge,og,yh,lg,fW,xge=(fW=class extends zk{constructor(){super();Os(this,og,!0);Os(this,yh);Os(this,lg);Yr(this,lg,t=>{if(!Wk&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){ut(this,yh)||this.setEventListener(ut(this,lg))}onUnsubscribe(){var t;this.hasListeners()||((t=ut(this,yh))==null||t.call(this),Yr(this,yh,void 0))}setEventListener(t){var r;Yr(this,lg,t),(r=ut(this,yh))==null||r.call(this),Yr(this,yh,t(this.setOnline.bind(this)))}setOnline(t){ut(this,og)!==t&&(Yr(this,og,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return ut(this,og)}},og=new WeakMap,yh=new WeakMap,lg=new WeakMap,fW),g2=new xge;function gge(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}function vge(e){return Math.min(1e3*2**e,3e4)}function dK(e){return(e??"online")==="online"?g2.isOnline():!0}var uK=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function RE(e){return e instanceof uK}function hK(e){let t=!1,r=0,a=!1,n;const i=gge(),o=x=>{var y;a||(m(new uK(x)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>cK.isFocused()&&(e.networkMode==="always"||g2.isOnline())&&e.canRun(),u=()=>dK(e.networkMode)&&e.canRun(),h=x=>{var y;a||(a=!0,(y=e.onSuccess)==null||y.call(e,x),n==null||n(),i.resolve(x))},m=x=>{var y;a||(a=!0,(y=e.onError)==null||y.call(e,x),n==null||n(),i.reject(x))},p=()=>new Promise(x=>{var y;n=w=>{(a||d())&&x(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var x;n=void 0,a||(x=e.onContinue)==null||x.call(e)}),g=()=>{if(a)return;let x;const y=r===0?e.initialPromise:void 0;try{x=y??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(h).catch(w=>{var k;if(a)return;const b=e.retry??(Wk?0:3),v=e.retryDelay??vge,N=typeof v=="function"?v(r,w):v,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!j){m(w);return}r++,(k=e.onFail)==null||k.call(e,r,w),uge(N).then(()=>d()?void 0:p()).then(()=>{t?m(w):g()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var yge=e=>setTimeout(e,0);function bge(){let e=[],t=0,r=l=>{l()},a=l=>{l()},n=yge;const i=l=>{t?e.push(l):n(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{a(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var ao=bge(),Sf,pW,mK=(pW=class{constructor(){Os(this,Sf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lge(this.gcTime)&&Yr(this,Sf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wk?1/0:5*60*1e3))}clearGcTimeout(){ut(this,Sf)&&(clearTimeout(ut(this,Sf)),Yr(this,Sf,void 0))}},Sf=new WeakMap,pW),cg,kf,Pl,Cf,Ii,Pw,Af,yc,Yd,xW,wge=(xW=class extends mK{constructor(t){super();Os(this,yc);Os(this,cg);Os(this,kf);Os(this,Pl);Os(this,Cf);Os(this,Ii);Os(this,Pw);Os(this,Af);Yr(this,Af,!1),Yr(this,Pw,t.defaultOptions),this.setOptions(t.options),this.observers=[],Yr(this,Cf,t.client),Yr(this,Pl,ut(this,Cf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Yr(this,cg,Nge(this.options)),this.state=t.state??ut(this,cg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ut(this,Ii))==null?void 0:t.promise}setOptions(t){this.options={...ut(this,Pw),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ut(this,Pl).remove(this)}setData(t,r){const a=hge(this.state.data,t,this.options);return Ei(this,yc,Yd).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Ei(this,yc,Yd).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=ut(this,Ii))==null?void 0:a.promise;return(n=ut(this,Ii))==null||n.cancel(t),r?r.then(vc).catch(vc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ut(this,cg))}isActive(){return this.observers.some(t=>dge(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>T4(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cge(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ut(this,Ii))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ut(this,Ii))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ut(this,Pl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ut(this,Ii)&&(ut(this,Af)?ut(this,Ii).cancel({revert:!0}):ut(this,Ii).cancelRetry()),this.scheduleGc()),ut(this,Pl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ei(this,yc,Yd).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ut(this,Ii))return ut(this,Ii).continueRetry(),ut(this,Ii).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,n=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Yr(this,Af,!0),a.signal)})},i=()=>{const m=lK(this.options,r),g=(()=>{const x={client:ut(this,Cf),queryKey:this.queryKey,meta:this.meta};return n(x),x})();return Yr(this,Af,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ut(this,Cf),state:this.state,fetchFn:i};return n(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Yr(this,kf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Ei(this,yc,Yd).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,g,x,y;RE(m)&&m.silent||Ei(this,yc,Yd).call(this,{type:"error",error:m}),RE(m)||((g=(p=ut(this,Pl).config).onError)==null||g.call(p,m,this),(y=(x=ut(this,Pl).config).onSettled)==null||y.call(x,this.state.data,m,this)),this.scheduleGc()};return Yr(this,Ii,hK({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var p,g,x,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(g=(p=ut(this,Pl).config).onSuccess)==null||g.call(p,m,this),(y=(x=ut(this,Pl).config).onSettled)==null||y.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{Ei(this,yc,Yd).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Ei(this,yc,Yd).call(this,{type:"pause"})},onContinue:()=>{Ei(this,yc,Yd).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ut(this,Ii).start()}},cg=new WeakMap,kf=new WeakMap,Pl=new WeakMap,Cf=new WeakMap,Ii=new WeakMap,Pw=new WeakMap,Af=new WeakMap,yc=new WeakSet,Yd=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...jge(a.data,this.options),fetchMeta:t.meta??null};case"success":return Yr(this,kf,void 0),{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return RE(n)&&n.revert&&ut(this,kf)?{...ut(this,kf),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),ao.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),ut(this,Pl).notify({query:this,type:"updated",action:t})})},xW);function jge(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dK(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nge(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var od,gW,Sge=(gW=class extends zk{constructor(t={}){super();Os(this,od);this.config=t,Yr(this,od,new Map)}build(t,r,a){const n=r.queryKey,i=r.queryHash??rI(n,r);let o=this.get(i);return o||(o=new wge({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){ut(this,od).has(t.queryHash)||(ut(this,od).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ut(this,od).get(t.queryHash);r&&(t.destroy(),r===t&&ut(this,od).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ao.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ut(this,od).get(t)}getAll(){return[...ut(this,od).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>KL(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>KL(t,a)):r}notify(t){ao.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ao.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ao.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},od=new WeakMap,gW),ld,Zi,Ef,cd,sh,vW,kge=(vW=class extends mK{constructor(t){super();Os(this,cd);Os(this,ld);Os(this,Zi);Os(this,Ef);this.mutationId=t.mutationId,Yr(this,Zi,t.mutationCache),Yr(this,ld,[]),this.state=t.state||Cge(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ut(this,ld).includes(t)||(ut(this,ld).push(t),this.clearGcTimeout(),ut(this,Zi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Yr(this,ld,ut(this,ld).filter(r=>r!==t)),this.scheduleGc(),ut(this,Zi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ut(this,ld).length||(this.state.status==="pending"?this.scheduleGc():ut(this,Zi).remove(this))}continue(){var t;return((t=ut(this,Ef))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,g,x,y,w,b,v,N,j,k,S,C;const r=()=>{Ei(this,cd,sh).call(this,{type:"continue"})};Yr(this,Ef,hK({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Ei(this,cd,sh).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Ei(this,cd,sh).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ut(this,Zi).canRun(this)}));const a=this.state.status==="pending",n=!ut(this,Ef).canStart();try{if(a)r();else{Ei(this,cd,sh).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(i=ut(this,Zi).config).onMutate)==null?void 0:o.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Ei(this,cd,sh).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const A=await ut(this,Ef).start();return await((u=(d=ut(this,Zi).config).onSuccess)==null?void 0:u.call(d,A,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,A,t,this.state.context)),await((g=(p=ut(this,Zi).config).onSettled)==null?void 0:g.call(p,A,null,this.state.variables,this.state.context,this)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,A,null,t,this.state.context)),Ei(this,cd,sh).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(w=ut(this,Zi).config).onError)==null?void 0:b.call(w,A,t,this.state.context,this)),await((N=(v=this.options).onError)==null?void 0:N.call(v,A,t,this.state.context)),await((k=(j=ut(this,Zi).config).onSettled)==null?void 0:k.call(j,void 0,A,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,A,t,this.state.context)),A}finally{Ei(this,cd,sh).call(this,{type:"error",error:A})}}finally{ut(this,Zi).runNext(this)}}},ld=new WeakMap,Zi=new WeakMap,Ef=new WeakMap,cd=new WeakSet,sh=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ao.batch(()=>{ut(this,ld).forEach(a=>{a.onMutationUpdate(t)}),ut(this,Zi).notify({mutation:this,type:"updated",action:t})})},vW);function Cge(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zd,bc,Tw,yW,Age=(yW=class extends zk{constructor(t={}){super();Os(this,Zd);Os(this,bc);Os(this,Tw);this.config=t,Yr(this,Zd,new Set),Yr(this,bc,new Map),Yr(this,Tw,0)}build(t,r,a){const n=new kge({mutationCache:this,mutationId:++Rj(this,Tw)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){ut(this,Zd).add(t);const r=a1(t);if(typeof r=="string"){const a=ut(this,bc).get(r);a?a.push(t):ut(this,bc).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ut(this,Zd).delete(t)){const r=a1(t);if(typeof r=="string"){const a=ut(this,bc).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&ut(this,bc).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=a1(t);if(typeof r=="string"){const a=ut(this,bc).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=a1(t);if(typeof r=="string"){const n=(a=ut(this,bc).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ao.batch(()=>{ut(this,Zd).forEach(t=>{this.notify({type:"removed",mutation:t})}),ut(this,Zd).clear(),ut(this,bc).clear()})}getAll(){return Array.from(ut(this,Zd))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>YL(r,a))}findAll(t={}){return this.getAll().filter(r=>YL(t,r))}notify(t){ao.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ao.batch(()=>Promise.all(t.map(r=>r.continue().catch(vc))))}},Zd=new WeakMap,bc=new WeakMap,Tw=new WeakMap,yW);function a1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function JL(e){return{onFetch:(t,r)=>{var u,h,m,p,g;const a=t.options,n=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=lK(t.options,t.fetchOptions),b=async(v,N,j)=>{if(x)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return y(D),D})(),C=await w(S),{maxPages:A}=t.options,E=j?fge:mge;return{pages:E(v.pages,C,A),pageParams:E(v.pageParams,N,A)}};if(n&&i.length){const v=n==="backward",N=v?Ege:ZL,j={pages:i,pageParams:o},k=N(a,j);l=await b(j,k,v)}else{const v=e??i.length;do{const N=c===0?o[0]??a.initialPageParam:ZL(a,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var x,y;return(y=(x=t.options).persister)==null?void 0:y.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function ZL(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function Ege(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Ga,bh,wh,dg,ug,jh,hg,mg,bW,Pge=(bW=class{constructor(e={}){Os(this,Ga);Os(this,bh);Os(this,wh);Os(this,dg);Os(this,ug);Os(this,jh);Os(this,hg);Os(this,mg);Yr(this,Ga,e.queryCache||new Sge),Yr(this,bh,e.mutationCache||new Age),Yr(this,wh,e.defaultOptions||{}),Yr(this,dg,new Map),Yr(this,ug,new Map),Yr(this,jh,0)}mount(){Rj(this,jh)._++,ut(this,jh)===1&&(Yr(this,hg,cK.subscribe(async e=>{e&&(await this.resumePausedMutations(),ut(this,Ga).onFocus())})),Yr(this,mg,g2.subscribe(async e=>{e&&(await this.resumePausedMutations(),ut(this,Ga).onOnline())})))}unmount(){var e,t;Rj(this,jh)._--,ut(this,jh)===0&&((e=ut(this,hg))==null||e.call(this),Yr(this,hg,void 0),(t=ut(this,mg))==null||t.call(this),Yr(this,mg,void 0))}isFetching(e){return ut(this,Ga).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ut(this,bh).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ut(this,Ga).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ut(this,Ga).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(T4(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return ut(this,Ga).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=ut(this,Ga).get(a.queryHash),i=n==null?void 0:n.state.data,o=oge(t,i);if(o!==void 0)return ut(this,Ga).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ao.batch(()=>ut(this,Ga).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ut(this,Ga).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ut(this,Ga);ao.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ut(this,Ga);return ao.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=ao.batch(()=>ut(this,Ga).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(vc).catch(vc)}invalidateQueries(e,t={}){return ao.batch(()=>(ut(this,Ga).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=ao.batch(()=>ut(this,Ga).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(vc)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(vc)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ut(this,Ga).build(this,t);return r.isStaleByTime(T4(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vc).catch(vc)}fetchInfiniteQuery(e){return e.behavior=JL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vc).catch(vc)}ensureInfiniteQueryData(e){return e.behavior=JL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g2.isOnline()?ut(this,bh).resumePausedMutations():Promise.resolve()}getQueryCache(){return ut(this,Ga)}getMutationCache(){return ut(this,bh)}getDefaultOptions(){return ut(this,wh)}setDefaultOptions(e){Yr(this,wh,e)}setQueryDefaults(e,t){ut(this,dg).set(ub(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ut(this,dg).values()],r={};return t.forEach(a=>{hb(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){ut(this,ug).set(ub(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ut(this,ug).values()],r={};return t.forEach(a=>{hb(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ut(this,wh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rI(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sI&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ut(this,wh).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ut(this,Ga).clear(),ut(this,bh).clear()}},Ga=new WeakMap,bh=new WeakMap,wh=new WeakMap,dg=new WeakMap,ug=new WeakMap,jh=new WeakMap,hg=new WeakMap,mg=new WeakMap,bW),Tge=f.createContext(void 0),_ge=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Tge.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mb.apply(this,arguments)}var Ch;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ch||(Ch={}));const e6="popstate";function Dge(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return D4("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:v2(n)}return Ige(t,r,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fK(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Oge(){return Math.random().toString(36).substr(2,8)}function t6(e,t){return{usr:e.state,key:e.key,idx:t}}function D4(e,t,r,a){return r===void 0&&(r=null),mb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?j0(t):t,{state:r,key:t&&t.key||a||Oge()})}function v2(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function j0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Ige(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=Ch.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(mb({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ch.Pop;let y=u(),w=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:w})}function m(y,w){l=Ch.Push;let b=D4(x.location,y,w);d=u()+1;let v=t6(b,d),N=x.createHref(b);try{o.pushState(v,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,w){l=Ch.Replace;let b=D4(x.location,y,w);d=u();let v=t6(b,d),N=x.createHref(b);o.replaceState(v,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let w=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof y=="string"?y:v2(y);return b=b.replace(/ $/,"%20"),hn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let x={get action(){return l},get location(){return e(n,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(e6,h),c=y,()=>{n.removeEventListener(e6,h),c=null}},createHref(y){return t(n,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return o.go(y)}};return x}var r6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r6||(r6={}));function Rge(e,t,r){return r===void 0&&(r="/"),Fge(e,t,r,!1)}function Fge(e,t,r,a){let n=typeof t=="string"?j0(t):t,i=aI(n.pathname||"/",r);if(i==null)return null;let o=pK(e);Mge(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Kge(i);l=qge(o[c],d,a)}return l}function pK(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Hh([a,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(hn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),pK(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Wge(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let c of xK(i.path))n(i,o,c)}),t}function xK(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=xK(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mge(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hge(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Lge=/^:[\w-]+$/,$ge=3,Bge=2,Uge=1,Vge=10,zge=-2,s6=e=>e==="*";function Wge(e,t){let r=e.split("/"),a=r.length;return r.some(s6)&&(a+=zge),t&&(a+=Bge),r.filter(n=>!s6(n)).reduce((n,i)=>n+(Lge.test(i)?$ge:i===""?Uge:Vge),a)}function Hge(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function qge(e,t,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=a6({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!a[a.length-1].route.index&&(h=a6({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:Hh([i,h.pathname]),pathnameBase:Jge(Hh([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Hh([i,h.pathnameBase]))}return o}function a6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Gge(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Gge(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fK(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Kge(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fK(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aI(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function Yge(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?j0(e):e;return{pathname:r?r.startsWith("/")?r:Xge(r,t):t,search:Zge(a),hash:e0e(n)}}function Xge(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function FE(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qge(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nI(e,t){let r=Qge(e);return t?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function iI(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=j0(e):(n=mb({},e),hn(!n.pathname||!n.pathname.includes("?"),FE("?","pathname","search",n)),hn(!n.pathname||!n.pathname.includes("#"),FE("#","pathname","hash",n)),hn(!n.search||!n.search.includes("#"),FE("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Yge(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hh=e=>e.join("/").replace(/\/\/+/g,"/"),Jge=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zge=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t0e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gK=["post","put","patch","delete"];new Set(gK);const r0e=["get",...gK];new Set(r0e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fb.apply(this,arguments)}const oI=f.createContext(null),s0e=f.createContext(null),wm=f.createContext(null),Hk=f.createContext(null),Ld=f.createContext({outlet:null,matches:[],isDataRoute:!1}),vK=f.createContext(null);function a0e(e,t){let{relative:r}=t===void 0?{}:t;N0()||hn(!1);let{basename:a,navigator:n}=f.useContext(wm),{hash:i,pathname:o,search:l}=bK(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:Hh([a,o])),n.createHref({pathname:c,search:l,hash:i})}function N0(){return f.useContext(Hk)!=null}function Tn(){return N0()||hn(!1),f.useContext(Hk).location}function yK(e){f.useContext(wm).static||f.useLayoutEffect(e)}function Kr(){let{isDataRoute:e}=f.useContext(Ld);return e?y0e():n0e()}function n0e(){N0()||hn(!1);let e=f.useContext(oI),{basename:t,future:r,navigator:a}=f.useContext(wm),{matches:n}=f.useContext(Ld),{pathname:i}=Tn(),o=JSON.stringify(nI(n,r.v7_relativeSplatPath)),l=f.useRef(!1);return yK(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=iI(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Hh([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,o,i,e])}const i0e=f.createContext(null);function o0e(e){let t=f.useContext(Ld).outlet;return t&&f.createElement(i0e.Provider,{value:e},t)}function jm(){let{matches:e}=f.useContext(Ld),t=e[e.length-1];return t?t.params:{}}function bK(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=f.useContext(wm),{matches:n}=f.useContext(Ld),{pathname:i}=Tn(),o=JSON.stringify(nI(n,a.v7_relativeSplatPath));return f.useMemo(()=>iI(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function l0e(e,t){return c0e(e,t)}function c0e(e,t,r,a){N0()||hn(!1);let{navigator:n}=f.useContext(wm),{matches:i}=f.useContext(Ld),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Tn(),u;if(t){var h;let y=typeof t=="string"?j0(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||hn(!1),u=y}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Rge(e,{pathname:p}),x=f0e(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Hh([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Hh([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,a);return t&&x?f.createElement(Hk.Provider,{value:{location:fb({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ch.Pop}},x):x}function d0e(){let e=v0e(),t=t0e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:n},r):null,null)}const u0e=f.createElement(d0e,null);class h0e extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(Ld.Provider,{value:this.props.routeContext},f.createElement(vK.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m0e(e){let{routeContext:t,match:r,children:a}=e,n=f.useContext(oI);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Ld.Provider,{value:t},a)}function f0e(e,t,r,a){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||hn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,g=!1,x=null,y=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||u0e,c&&(d<0&&m===0?(g=!0,y=null):d===m&&(g=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),b=()=>{let v;return p?v=x:g?v=y:h.route.Component?v=f.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,f.createElement(m0e,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(h0e,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var wK=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wK||{}),y2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(y2||{});function p0e(e){let t=f.useContext(oI);return t||hn(!1),t}function x0e(e){let t=f.useContext(s0e);return t||hn(!1),t}function g0e(e){let t=f.useContext(Ld);return t||hn(!1),t}function jK(e){let t=g0e(),r=t.matches[t.matches.length-1];return r.route.id||hn(!1),r.route.id}function v0e(){var e;let t=f.useContext(vK),r=x0e(y2.UseRouteError),a=jK(y2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function y0e(){let{router:e}=p0e(wK.UseNavigateStable),t=jK(y2.UseNavigateStable),r=f.useRef(!1);return yK(()=>{r.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,fb({fromRouteId:t},i)))},[e,t])}function b0e(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function O4(e){let{to:t,replace:r,state:a,relative:n}=e;N0()||hn(!1);let{future:i,static:o}=f.useContext(wm),{matches:l}=f.useContext(Ld),{pathname:c}=Tn(),d=Kr(),u=iI(t,nI(l,i.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(h),{replace:r,state:a,relative:n}),[d,h,n,r,a]),null}function qk(e){return o0e(e.context)}function rt(e){hn(!1)}function w0e(e){let{basename:t="/",children:r=null,location:a,navigationType:n=Ch.Pop,navigator:i,static:o=!1,future:l}=e;N0()&&hn(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:fb({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=j0(a));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:g="default"}=a,x=f.useMemo(()=>{let y=aI(u,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:p,key:g},navigationType:n}},[c,u,h,m,p,g,n]);return x==null?null:f.createElement(wm.Provider,{value:d},f.createElement(Hk.Provider,{children:r,value:x}))}function NK(e){let{children:t,location:r}=e;return l0e(I4(t),r)}new Promise(()=>{});function I4(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...t,n];if(a.type===f.Fragment){r.push.apply(r,I4(a.props.children,i));return}a.type!==rt&&hn(!1),!a.props.index||!a.props.children||hn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=I4(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R4.apply(this,arguments)}function j0e(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function N0e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S0e(e,t){return e.button===0&&(!t||t==="_self")&&!N0e(e)}function F4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function k0e(e,t){let r=F4(e);return t&&t.forEach((a,n)=>{r.has(n)||t.getAll(n).forEach(i=>{r.append(n,i)})}),r}const C0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A0e="6";try{window.__reactRouterVersion=A0e}catch{}const E0e="startTransition",n6=MD[E0e];function P0e(e){let{basename:t,children:r,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=Dge({window:n,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=f.useCallback(h=>{d&&n6?n6(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>b0e(a),[a]),f.createElement(w0e,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:a})}const T0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=f.forwardRef(function(t,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=j0e(t,C0e),{basename:p}=f.useContext(wm),g,x=!1;if(typeof d=="string"&&_0e.test(d)&&(g=d,T0e))try{let v=new URL(window.location.href),N=d.startsWith("//")?new URL(v.protocol+d):new URL(d),j=aI(N.pathname,p);N.origin===v.origin&&j!=null?d=j+N.search+N.hash:x=!0}catch{}let y=a0e(d,{relative:n}),w=D0e(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:h});function b(v){a&&a(v),v.defaultPrevented||w(v)}return f.createElement("a",R4({},m,{href:g||y,onClick:x||i?a:b,ref:r,target:c}))});var i6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i6||(i6={}));var o6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o6||(o6={}));function D0e(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Kr(),d=Tn(),u=bK(e,{relative:o});return f.useCallback(h=>{if(S0e(h,r)){h.preventDefault();let m=a!==void 0?a:v2(d)===v2(u);c(e,{replace:m,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,n,r,e,i,o,l])}function Nm(e){let t=f.useRef(F4(e)),r=f.useRef(!1),a=Tn(),n=f.useMemo(()=>k0e(a.search,r.current?null:t.current),[a.search]),i=Kr(),o=f.useCallback((l,c)=>{const d=F4(typeof l=="function"?l(n):l);r.current=!0,i("?"+d,c)},[i,n]);return[n,o]}function kc(e){var t;if(!e)return"An error occurred";if(typeof e=="string")return e;if(e instanceof Error)return e.message||"An error occurred";if(typeof e=="object"){if("message"in e){const r=e.message;if(typeof r=="string")return r;if(typeof r=="object")return JSON.stringify(r)}if("status"in e&&"message"in e){const r=e.message;if(typeof r=="string")return r}if("response"in e){const r=e.response;if((t=r==null?void 0:r.data)!=null&&t.message)return typeof r.data.message=="string"?r.data.message:JSON.stringify(r.data.message)}try{return JSON.stringify(e)}catch{return"An error occurred"}}return"An error occurred"}function no(e){return!e||typeof e!="object"?!1:"message"in e&&("error"in e||"statusCode"in e)}const Ur=e=>typeof e=="string",pv=()=>{let e,t;const r=new Promise((a,n)=>{e=a,t=n});return r.resolve=e,r.reject=t,r},l6=e=>e==null?"":""+e,O0e=(e,t,r)=>{e.forEach(a=>{t[a]&&(r[a]=t[a])})},I0e=/###/g,c6=e=>e&&e.indexOf("###")>-1?e.replace(I0e,"."):e,d6=e=>!e||Ur(e),xy=(e,t,r)=>{const a=Ur(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(d6(e))return{};const i=c6(a[n]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++n}return d6(e)?{}:{obj:e,k:c6(a[n])}},u6=(e,t,r)=>{const{obj:a,k:n}=xy(e,t,Object);if(a!==void 0||t.length===1){a[n]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=xy(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=xy(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},R0e=(e,t,r,a)=>{const{obj:n,k:i}=xy(e,t,Object);n[i]=n[i]||[],n[i].push(r)},b2=(e,t)=>{const{obj:r,k:a}=xy(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},F0e=(e,t,r)=>{const a=b2(e,r);return a!==void 0?a:b2(t,r)},SK=(e,t,r)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?Ur(e[a])||e[a]instanceof String||Ur(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):SK(e[a],t[a],r):e[a]=t[a]);return e},Up=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var M0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const L0e=e=>Ur(e)?e.replace(/[&<>"'\/]/g,t=>M0e[t]):e;class $0e{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const B0e=[" ",",","?","!",";"],U0e=new $0e(20),V0e=(e,t,r)=>{t=t||"",r=r||"";const a=B0e.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(a.length===0)return!0;const n=U0e.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!n.test(e);if(!i){const o=e.indexOf(r);o>0&&!n.test(e.substring(0,o))&&(i=!0)}return i},M4=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(r);let n=e;for(let i=0;i<a.length;){if(!n||typeof n!="object")return;let o,l="";for(let c=i;c<a.length;++c)if(c!==i&&(l+=r),l+=a[c],o=n[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;i+=c-i+1;break}n=o}return n},pb=e=>e==null?void 0:e.replace("_","-"),z0e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,a;(a=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||a.call(r,console,t)}};class w2{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||z0e,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,a,n){return n&&!this.debug?null:(Ur(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new w2(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new w2(this.logger,t)}}var pd=new w2;let Gk=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const n=this.observers[a].get(r)||0;this.observers[a].set(r,n+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let o=0;o<i;o++)n.apply(n,[t,...r])})}};class h6 extends Gk{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,a,n={}){var d,u;const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],a&&(Array.isArray(a)?l.push(...a):Ur(a)&&i?l.push(...a.split(i)):l.push(a)));const c=b2(this.data,l);return!c&&!r&&!a&&t.indexOf(".")>-1&&(t=l[0],r=l[1],a=l.slice(2).join(".")),c||!o||!Ur(a)?c:M4((u=(d=this.data)==null?void 0:d[t])==null?void 0:u[r],a,i)}addResource(t,r,a,n,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,r];a&&(l=l.concat(o?a.split(o):a)),t.indexOf(".")>-1&&(l=t.split("."),n=r,r=l[1]),this.addNamespaces(r),u6(this.data,l,n),i.silent||this.emit("added",t,r,a,n)}addResources(t,r,a,n={silent:!1}){for(const i in a)(Ur(a[i])||Array.isArray(a[i]))&&this.addResource(t,r,i,a[i],{silent:!0});n.silent||this.emit("added",t,r,a)}addResourceBundle(t,r,a,n,i,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),n=a,a=r,r=l[1]),this.addNamespaces(r);let c=b2(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),n?SK(c,a,i):c={...c,...a},u6(this.data,l,c),o.silent||this.emit("added",t,r,a)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var kK={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,n){return e.forEach(i=>{var o;t=((o=this.processors[i])==null?void 0:o.process(t,r,a,n))??t}),t}};const CK=Symbol("i18next/PATH_KEY");function W0e(){const e=[],t=Object.create(null);let r;return t.get=(a,n)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),n===CK?e:(e.push(n),r=Proxy.revocable(a,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function L4(e,t){const{[CK]:r}=e(W0e());return r.join((t==null?void 0:t.keySeparator)??".")}const m6={},ME=e=>!Ur(e)&&typeof e!="boolean"&&typeof e!="number";class j2 extends Gk{constructor(t,r={}){super(),O0e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pd.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const a={...r};if(t==null)return!1;const n=this.resolve(t,a);if((n==null?void 0:n.res)===void 0)return!1;const i=ME(n.res);return!(a.returnObjects===!1&&i)}extractFromKey(t,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=a&&t.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!V0e(t,a,n);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Ur(i)?[i]:i};const d=t.split(a);(a!==n||a===n&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(n)}return{key:t,namespaces:Ur(i)?[i]:i}}translate(t,r,a){let n=typeof r=="object"?{...r}:r;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";typeof t=="function"&&(t=L4(t,{...this.options,...n})),Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=n.lng||this.language,m=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:l;const p=this.resolve(t,n);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||l,y=(p==null?void 0:p.exactUsedKey)||l,w=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,N=n.count!==void 0&&!Ur(n.count),j=j2.hasDefaultValue(n),k=N?this.pluralResolver.getSuffix(h,n.count,n):"",S=n.ordinal&&N?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",C=N&&!n.ordinal&&n.count===0,A=C&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${S}`]||n.defaultValue;let E=g;v&&!g&&j&&(E=A);const D=ME(E),P=Object.prototype.toString.apply(E);if(v&&E&&D&&w.indexOf(P)<0&&!(Ur(b)&&Array.isArray(E))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,E,{...n,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(p.res=T,p.usedParams=this.getUsedParamsDetails(n),p):T}if(o){const T=Array.isArray(E),_=T?[]:{},O=T?y:x;for(const F in E)if(Object.prototype.hasOwnProperty.call(E,F)){const I=`${O}${o}${F}`;j&&!g?_[F]=this.translate(I,{...n,defaultValue:ME(A)?A[F]:void 0,joinArrays:!1,ns:c}):_[F]=this.translate(I,{...n,joinArrays:!1,ns:c}),_[F]===I&&(_[F]=E[F])}g=_}}else if(v&&Ur(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,n,a));else{let T=!1,_=!1;!this.isValidLookup(g)&&j&&(T=!0,g=A),this.isValidLookup(g)||(_=!0,g=l);const F=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:g,I=j&&A!==g&&this.options.updateMissing;if(_||T||I){if(this.logger.log(I?"updateKey":"missingKey",h,d,l,I?A:g),o){const W=this.resolve(l,{...n,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let R=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let W=0;W<L.length;W++)R.push(L[W]);else this.options.saveMissingTo==="all"?R=this.languageUtils.toResolveHierarchy(n.lng||this.language):R.push(n.lng||this.language);const H=(W,M,G)=>{var q;const V=j&&G!==g?G:F;this.options.missingKeyHandler?this.options.missingKeyHandler(W,d,M,V,I,n):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(W,d,M,V,I,n),this.emit("missingKey",W,d,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?R.forEach(W=>{const M=this.pluralResolver.getSuffixes(W,n);C&&n[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(G=>{H([W],l+G,n[`defaultValue${G}`]||A)})}):H(R,l,A))}g=this.extendTranslation(g,t,n,p,a),_&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${l}`),(_||T)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${l}`:l,T?g:void 0,n))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(n),p):g}extendTranslation(t,r,a,n,i){var c,d;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const u=Ur(t)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=a.replace&&!Ur(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,a.lng||this.language||n.usedLng,a),u){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(a.nest=!1)}!a.lng&&n&&n.res&&(a.lng=this.language||n.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(i==null?void 0:i[0])===p[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,l=Ur(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&a.applyPostProcessor!==!1&&(t=kK.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,r={}){let a,n,i,o,l;return Ur(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(c,r),u=d.key;n=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=r.count!==void 0&&!Ur(r.count),p=m&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Ur(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(y=>{var w,b;this.isValidLookup(a)||(l=y,!m6[`${x[0]}-${y}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(m6[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${n}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{var k;if(this.isValidLookup(a))return;o=v;const N=[u];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(N,u,v,y,r);else{let S;m&&(S=this.pluralResolver.getSuffix(v,r.count,r));const C=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&S.indexOf(A)===0&&N.push(u+S.replace(A,this.options.pluralSeparator)),N.push(u+S),p&&N.push(u+C)),g){const E=`${u}${this.options.contextSeparator||"_"}${r.context}`;N.push(E),m&&(r.ordinal&&S.indexOf(A)===0&&N.push(E+S.replace(A,this.options.pluralSeparator)),N.push(E+S),p&&N.push(E+C))}}let j;for(;j=N.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(v,y,j,r))}))})}),{res:a,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,a,n={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(t,r,a,n):this.resourceStore.getResource(t,r,a,n)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!Ur(t.replace);let n=a?t.replace:t;if(a&&typeof t.count<"u"&&(n.count=t.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!a){n={...n};for(const i of r)delete n[i]}return n}static hasDefaultValue(t){const r="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r===a.substring(0,r.length)&&t[a]!==void 0)return!0;return!1}}class f6{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pd.create("languageUtils")}getScriptPartFromCode(t){if(t=pb(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=pb(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Ur(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(a=>{if(r)return;const n=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&t.forEach(a=>{if(r)return;const n=this.getScriptPartFromCode(a);if(this.isSupportedCode(n))return r=n;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Ur(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let a=t[r];return a||(a=t[this.getScriptPartFromCode(r)]),a||(a=t[this.formatLanguageCode(r)]),a||(a=t[this.getLanguagePartFromCode(r)]),a||(a=t.default),a||[]}toResolveHierarchy(t,r){const a=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),n=[],i=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Ur(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Ur(t)&&i(this.formatLanguageCode(t)),a.forEach(o=>{n.indexOf(o)<0&&i(this.formatLanguageCode(o))}),n}}const p6={zero:0,one:1,two:2,few:3,many:4,other:5},x6={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class H0e{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=pd.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const a=pb(t==="dev"?"en":t),n=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),x6;if(!t.match(/-|_/))return x6;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[i]=o,o}needsPlural(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,a={}){return this.getSuffixes(t,a).map(n=>`${r}${n}`)}getSuffixes(t,r={}){let a=this.getRule(t,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((n,i)=>p6[n]-p6[i]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(t,r,a={}){const n=this.getRule(t,a);return n?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,a))}}const g6=(e,t,r,a=".",n=!0)=>{let i=F0e(e,t,r);return!i&&n&&Ur(r)&&(i=M4(e,r,a),i===void 0&&(i=M4(t,r,a))),i},LE=e=>e.replace(/\$/g,"$$$$");class q0e{constructor(t={}){var r;this.logger=pd.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:n,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:w,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:L0e,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?Up(i):o||"{{",this.suffix=l?Up(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?Up(m):p||Up("$t("),this.nestingSuffix=g?Up(g):x||Up(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=w||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,a)=>(r==null?void 0:r.source)===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,a,n){var p;let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const b=g6(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,a,{...n,...r,interpolationkey:g}):b}const x=g.split(this.formatSeparator),y=x.shift().trim(),w=x.join(this.formatSeparator).trim();return this.format(g6(r,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),w,a,{...n,...r,interpolationkey:y})};this.resetRegExp();const u=(n==null?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=n==null?void 0:n.interpolation)==null?void 0:p.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>LE(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?LE(this.escape(g)):LE(g)}].forEach(g=>{for(l=0;i=g.regex.exec(t);){const x=i[1].trim();if(o=d(x),o===void 0)if(typeof u=="function"){const w=u(t,i,n);o=Ur(w)?w:""}else if(n&&Object.prototype.hasOwnProperty.call(n,x))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),o="";else!Ur(o)&&!this.useRawValueToEscape&&(o=l6(o));const y=g.safeValue(o);if(t=t.replace(i[0],y),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,a={}){let n,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;n=this.nestingRegexp.exec(t);){let c=[];o={...a},o=o.replace&&!Ur(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),i=r(l.call(this,n[1].trim(),o),o),i&&n[0]===t&&!Ur(i))return i;Ur(i)||(i=l6(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,h)=>this.format(u,h,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}const G0e=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);t==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):t==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();r[u]||(r[u]=d),d==="false"&&(r[u]=!1),d==="true"&&(r[u]=!0),isNaN(d)||(r[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},v6=e=>{const t={};return(r,a,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const o=a+JSON.stringify(i);let l=t[o];return l||(l=e(pb(a),n),t[o]=l),l(r)}},K0e=e=>(t,r,a)=>e(pb(r),a)(t);class Y0e{constructor(t={}){this.logger=pd.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?v6:K0e;this.formats={number:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i});return l=>o.format(l)}),currency:a((n,i)=>{const o=new Intl.NumberFormat(n,{...i,style:"currency"});return l=>o.format(l)}),datetime:a((n,i)=>{const o=new Intl.DateTimeFormat(n,{...i});return l=>o.format(l)}),relativetime:a((n,i)=>{const o=new Intl.RelativeTimeFormat(n,{...i});return l=>o.format(l,i.range||"day")}),list:a((n,i)=>{const o=new Intl.ListFormat(n,{...i});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=v6(r)}format(t,r,a,n={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:d,formatOptions:u}=G0e(c);if(this.formats[d]){let m=l;try{const p=((h=n==null?void 0:n.formatParams)==null?void 0:h[n.interpolationkey])||{},g=p.locale||p.lng||n.locale||n.lng||a;m=this.formats[d](l,g,{...u,...n,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const X0e=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Q0e extends Gk{constructor(t,r,a,n={}){var i,o;super(),this.backend=t,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=n,this.logger=pd.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,n.backend,n)}queueLoad(t,r,a,n){const i={},o={},l={},c={};return t.forEach(d=>{let u=!0;r.forEach(h=>{const m=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,a){const n=t.split("|"),i=n[0],o=n[1];r&&this.emit("failedLoading",i,o,r),!r&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&a&&(this.state[t]=0);const l={};this.queue.forEach(c=>{R0e(c.loaded,[i],o),X0e(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,a,n=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:a,tried:n,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,a,n+1,i*2,o)},i);return}o(d,u)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const d=c(t,r);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(t,r,l)}prepareLoading(t,r,a={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Ur(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ur(r)&&(r=[r]);const i=this.queueLoad(t,r,a,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,a){this.prepareLoading(t,r,{},a)}reload(t,r,a){this.prepareLoading(t,r,{reload:!0},a)}loadOne(t,r=""){const a=t.split("|"),n=a[0],i=a[1];this.read(n,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${n} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${n}`,l),this.loaded(t,o,l)})}saveMissing(t,r,a,n,i,o={},l=()=>{}){var c,d,u,h,m;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(t,r,a,n,p):x=g(t,r,a,n),x&&typeof x.then=="function"?x.then(y=>l(null,y)).catch(l):l(null,x)}catch(x){l(x)}else g(t,r,a,n,l,p)}!t||!t[0]||this.store.addResource(t[0],r,a,n)}}}const y6=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ur(e[1])&&(t.defaultValue=e[1]),Ur(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{t[a]=r[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),b6=e=>{var t,r;return Ur(e.ns)&&(e.ns=[e.ns]),Ur(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ur(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},n1=()=>{},J0e=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class gy extends Gk{constructor(t={},r){if(super(),this.options=b6(t),this.services={},this.logger=pd,this.modules={external:[]},J0e(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Ur(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=y6();this.options={...a,...this.options,...b6(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?pd.init(n(this.modules.logger),this.options):pd.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Y0e;const u=new f6(this.options);this.store=new h6(this.options.resources,this.options);const h=this.services;h.logger=pd,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new H0e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=n(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new q0e(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Q0e(n(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=n(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=n(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new j2(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=n1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const l=pv(),c=()=>{const d=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(u,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=n1){var i,o;let a=r;const n=Ur(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((n==null?void 0:n.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};n?c(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(t,r,a){const n=pv();return typeof t=="function"&&(a=t,t=void 0),typeof r=="function"&&(a=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),a||(a=n1),this.services.backendConnector.reload(t,r,i=>{n.resolve(),a(i)}),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&kK.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const a=pv();this.emit("languageChanging",t);const n=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),r&&r(l,(...d)=>this.t(...d))},o=l=>{var u,h;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Ur(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Ur(l)?[l]:l);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),(h=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||h.call(u,d)),this.loadResources(d,m=>{i(m,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),a}getFixedT(t,r,a){const n=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(h=>(typeof h=="function"&&(h=L4(h,{...this.options,...o})),`${c.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=L4(i,{...this.options,...o})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Ur(t)?n.lng=t:n.lngs=t,n.ns=r,n.keyPrefix=a,n}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,t)&&(!n||o(i,t)))}loadNamespaces(t,r){const a=pv();return this.options.ns?(Ur(t)&&(t=[t]),t.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{a.resolve(),r&&r(n)}),a):(r&&r(),Promise.resolve())}loadLanguages(t,r){const a=pv();Ur(t)&&(t=[t]);const n=this.options.preload||[],i=t.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=n.concat(i),this.loadResources(o=>{a.resolve(),r&&r(o)}),a):(r&&r(),Promise.resolve())}dir(t){var n,i;if(t||(t=this.resolvedLanguage||(((n=this.languages)==null?void 0:n.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new f6(y6());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const a=new gy(t,r);return a.createInstance=gy.createInstance,a}cloneInstance(t={},r=n1){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const n={...this.options,...t,isClone:!0},i=new gy(n);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,h)=>(u[h]={...c[d][h]},u),c[d]),c),{});i.store=new h6(l,n),i.services.resourceStore=i.store}return i.translator=new j2(i.services,n),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(n,r),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ka=gy.createInstance();ka.createInstance;ka.dir;ka.init;ka.loadResources;ka.reloadResources;ka.use;ka.changeLanguage;ka.getFixedT;ka.t;ka.exists;ka.setDefaultNamespace;ka.hasLoadedNamespace;ka.loadNamespaces;ka.loadLanguages;const Z0e=(e,t,r,a)=>{var i,o,l,c;const n=[r,{code:t,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(n,"warn","react-i18next::",!0);Xf(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},w6={},AK=(e,t,r,a)=>{Xf(r)&&w6[r]||(Xf(r)&&(w6[r]=new Date),Z0e(e,t,r,a))},EK=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},$4=(e,t,r)=>{e.loadNamespaces(t,EK(e,r))},j6=(e,t,r,a)=>{if(Xf(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return $4(e,r,a);r.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(t,EK(e,a))},eve=(e,t,r={})=>!t.languages||!t.languages.length?(AK(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(a,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!n(a.isLanguageChangingTo,e))return!1}}),Xf=e=>typeof e=="string",tve=e=>typeof e=="object"&&e!==null,rve=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,sve={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ave=e=>sve[e],nve=e=>e.replace(rve,ave);let B4={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nve};const ive=(e={})=>{B4={...B4,...e}},ove=()=>B4;let PK;const lve=e=>{PK=e},cve=()=>PK,dve={type:"3rdParty",init(e){ive(e.options.react),lve(e)}},uve=f.createContext();class hve{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var TK={exports:{}},_K={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=f;function mve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fve=typeof Object.is=="function"?Object.is:mve,pve=Sg.useState,xve=Sg.useEffect,gve=Sg.useLayoutEffect,vve=Sg.useDebugValue;function yve(e,t){var r=t(),a=pve({inst:{value:r,getSnapshot:t}}),n=a[0].inst,i=a[1];return gve(function(){n.value=r,n.getSnapshot=t,$E(n)&&i({inst:n})},[e,r,t]),xve(function(){return $E(n)&&i({inst:n}),e(function(){$E(n)&&i({inst:n})})},[e]),vve(r),r}function $E(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fve(e,r)}catch{return!0}}function bve(e,t){return t()}var wve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bve:yve;_K.useSyncExternalStore=Sg.useSyncExternalStore!==void 0?Sg.useSyncExternalStore:wve;TK.exports=_K;var DK=TK.exports;const jve=(e,t)=>Xf(t)?t:tve(t)&&Xf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Nve={t:jve,ready:!1},Sve=()=>()=>{},Ct=(e,t={})=>{var S,C;const{i18n:r}=t,{i18n:a,defaultNS:n}=f.useContext(uve)||{},i=r||a||cve();i&&!i.reportNamespaces&&(i.reportNamespaces=new hve),i||AK(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=f.useMemo(()=>{var A;return{...ove(),...(A=i==null?void 0:i.options)==null?void 0:A.react,...t}},[i,t]),{useSuspense:l,keyPrefix:c}=o,d=f.useMemo(()=>{var E;const A=n||((E=i==null?void 0:i.options)==null?void 0:E.defaultNS);return Xf(A)?[A]:A||["translation"]},[e,n,i]);(C=(S=i==null?void 0:i.reportNamespaces)==null?void 0:S.addUsedNamespaces)==null||C.call(S,d);const u=f.useRef(0),h=f.useCallback(A=>{if(!i)return Sve;const{bindI18n:E,bindI18nStore:D}=o,P=()=>{u.current+=1,A()};return E&&i.on(E,P),D&&i.store.on(D,P),()=>{E&&E.split(" ").forEach(T=>i.off(T,P)),D&&D.split(" ").forEach(T=>i.store.off(T,P))}},[i,o]),m=f.useRef(),p=f.useCallback(()=>{if(!i)return Nve;const A=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(O=>eve(O,i,o)),E=t.lng||i.language,D=u.current,P=m.current;if(P&&P.ready===A&&P.lng===E&&P.keyPrefix===c&&P.revision===D)return P;const _={t:i.getFixedT(E,o.nsMode==="fallback"?d:d[0],c),ready:A,lng:E,keyPrefix:c,revision:D};return m.current=_,_},[i,d,c,o,t.lng]),[g,x]=f.useState(0),{t:y,ready:w}=DK.useSyncExternalStore(h,p,p);f.useEffect(()=>{if(i&&!w&&!l){const A=()=>x(E=>E+1);t.lng?j6(i,t.lng,d,A):$4(i,d,A)}},[i,t.lng,d,w,l,g]);const b=i||{},v=f.useRef(null),N=f.useRef(),j=A=>{const E=Object.getOwnPropertyDescriptors(A);E.__original&&delete E.__original;const D=Object.create(Object.getPrototypeOf(A),E);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},k=f.useMemo(()=>{const A=b,E=A==null?void 0:A.language;let D=A;A&&(v.current&&v.current.__original===A?N.current!==E?(D=j(A),v.current=D,N.current=E):D=v.current:(D=j(A),v.current=D,N.current=E));const P=[y,D,w];return P.t=y,P.i18n=D,P.ready=w,P},[y,b,w,b.resolvedLanguage,b.language,b.languages]);if(i&&l&&!w)throw new Promise(A=>{const E=()=>A();t.lng?j6(i,t.lng,d,E):$4(i,d,E)});return k},kve={common:{welcome:"",loading:" ...",error:"",success:"",sar:".",cancel:"",confirm:"",save:"",saving:" ...",generating:" ...",delete:"",edit:"",search:"",filter:"",back:"",next:"",previous:"",submit:"",close:"",openInNewWindow:"   ",sessionExpired:" ",sessionExpiredDesc:"   .        .",unauthorized:" ",pleaseLogin:"   ",refreshingSession:"  ...",sessionRefreshed:"   -    ",sessionRefreshFailed:"   -      ",authError:"   -      ",forbiddenRetry:"  -      ",networkError:"   -    ",errorOccurred:" ",failedToLoad:"  ",tryAgain:"  ",authFailed:"  -     ",all:"",none:" ",currency:".",selected:"",free:"",quantity:"",cards:"",gridView:" ",listView:" ",itemsPerPage:"  ",showingResults:" {{start}}  {{end}}  {{total}} ",priority:{low:"",medium:"",high:"",urgent:""},status:{open:"",pending:" ",inProgress:" ",resolved:"",approved:"",rejected:"",completed:""},noData:"  ",refresh:"",copied:" ",copy:"",passwordCopied:"     ",copyFailed:"   .   .",saveChanges:" ",optional:"",understood:"",selectedCustomer:" ",notAvailable:" ",ourStore:"",backToHome:" ",noContentYet:"   ",noContentDescription:"     .   .",exploreMore:" ",currencies:{SAR:" ",AED:" ",KWD:" ",USD:" ",QAR:" "}},nav:{home:"",products:"",categories:"",cart:"",profile:" ",dashboard:" ",login:" ",signup:" ",logout:" "},auth:{login:{title:" ",email:" ",password:" ",remember:"",forgotPassword:"  ",noAccount:"  ",signupLink:" ",button:" "},signup:{title:"  ",storeName:" ",subdomain:" ",haveAccount:"  ",loginLink:" ",button:" "}},landing:{hero:{badge:"  ",title:"   ",titleHighlight:"",subtitle:"       .    .",cta:"  ",startFree:" ",watchDemo:" ",demo:"  ",readyIn5:"  5 ",support247:"   ",noCreditCard:"   ",stats:{merchants:"+10  ",sales:"+100  ",rating:" 4.9/5"}},features:{badge:"",title:"   ",titleHighlight:"",subtitle:"         ",items:{easy:{title:" ",description:"         "},design:{title:" ",description:"           "},payments:{title:" ",description:"          "},analytics:{title:" ",description:"           "},security:{title:" ",description:"        "},performance:{title:" ",description:"       "}}},pricing:{badge:"",title:"  ",titleHighlight:" ",subtitle:"      .       ",period:"",currency:".",popular:" ",plans:{free:{name:"",description:"   ",cta:" ",features:{products:" 50 ",subdomain:"  ",templates:" ",support:"   ",storage:"  1 "}},pro:{name:"",description:"   ",cta:" ",features:{products:"  ",domain:"  ",templates:"  ",support:"   ",analytics:" ",payments:" ",storage:"  10 ",watermark:"  "}},enterprise:{name:"",price:"",description:"   ",cta:" ",features:{proFeatures:"   ",multiStore:" ",api:"   ",accountManager:"  ",training:" ",sla:"   ",storage:"   ",development:" "}}}},cta:{title:"  ",subtitle:"           ",button:"   "},footer:{description:"        ",product:"",support:"",company:"",links:{features:"",pricing:"",templates:"",integrations:"",helpCenter:" ",faq:" ",contact:" ",docs:"",about:" ",blog:"",careers:"",press:"",privacy:" ",terms:" ",cookies:"  "},copyright:" 2024 .   ."}},dashboard:{categories:{title:"  ",subtitle:"    ",tabs:{productCategories:" ",customerTiers:" ",offers:""},productCategories:{allCategories:" ",noCategories:"    ",noCategoriesDesc:"    ",addCategory:" ",addSubcategory:"  ",subcategories:" ",level:"",maxSubcategoriesReached:"   ",maxSubcategoriesDesc:"     {{max}}     ",maxDepthReached:"    ",maxDepthDesc:"     .    {{max}} .",maxDepthTooltip:"       ({{max}})",maxDepthWarning:"      ({{max}} ).    .",export:"",import:"",logo:"",category:"",productCount:" ",actions:"",noDescription:"  ",editCategory:" ",addNewCategory:"  ",editCategoryDesc:"  ",addCategoryDesc:"    ",categoryName:" ",slug:" ",slugHint:"   (   )",description:"",categoryLogo:" ",uploadLogo:"  ",logoHint:"      ",update:"",add:"",deleteConfirm:"      ",exportSuccess:"   ",importSuccess:"  {{count}}  {{errors}}",importError:"  ",importingCategories:"  ",importingCategoriesDesc:"       Excel...",importErrorTitle:"   ",importErrorDesc:"     .          Excel.",loadError:"  ",saveError:"  ",deleteSuccess:"   ",deleteError:"  ",updateSuccess:"   ",addSuccess:"   ",deleteSelected:" "},customerTiers:{addTier:"  ",editTier:"  ",addNewTier:"   ",tierDesc:"      ",tierName:" ",tierNamePlaceholder:":  VIP",description:"",descriptionPlaceholder:"   ",color:"",discountPercent:"  (%)",linkedCategories:"  :",allCategories:" ",assignedCustomers:" :",noCustomersAssigned:"   ",customerCount:"{{count}} ",assignCustomers:"   ",loadingCustomers:"  ...",noCustomersAvailable:"   ",selectCustomer:"   ",customer:"",assignedCount:"{{count}}    ",selectProductCategory:"  ",linkedProductCategories:"   ()",howItWorks:"   ",howItWorksDesc1:"          ",howItWorksDesc2:"     (VIP)   15%   ",howItWorksDesc3:"     ()   10%",howItWorksDesc4:"     ()   5%",howItWorksDesc5:"       ",tierNameRequired:"  ",updateSuccess:"   ",addSuccess:"   ",deleteSuccess:"   ",deleteConfirm:"      "},offers:{addOffer:" ",editOffer:" ",addNewOffer:"  ",offerDesc:"       ",noOffers:"    ",noOffersDesc:"     ",offerName:" ",offerNamePlaceholder:":  ",customerTier:" ",selectCustomerTier:"  ",discountPercent:"  (%)",includedCategories:"  :",allCategories:" ",example:":",exampleDesc:"  100 .    : {{price}} .",active:"",inactive:" ",forTier:": {{tierName}}",nameAndTierRequired:"    ",updateSuccess:"  ",addSuccess:"  ",deleteSuccess:"  ",deleteConfirm:"      ",selectProductCategories:"  ",productCategories:"  ()"}},main:{viewMode:"",normal:"",cards:"",navigation:"",totalSales:" ",totalOrders:" ",avgOrderValue:"  ",totalCustomers:" ",visits:"",totalProducts:" ",salesChart:" ",visual:"",summary:"",detailed:"",showSummary:" ",showDetailed:" ",notifications:"",noNotifications:"  ",recentOrders:" ",viewAll:" ",noOrders:"  ",displayMode:" ",lastWeek:" ",lastMonth:" ",lastYear:" ",subtitle:"    "},sidebar:{home:"",dashboard:" ",salesAndOrders:" ",products:"",productsDesc:"    ",hierarchical:"  ",hierarchicalDesc:"   ",priceManagement:" ",priceManagementDesc:"  ",orders:"",ordersDesc:"  ",customers:"",customersDesc:"  ",reports:"",reportsDesc:"  ",contentAndDesign:" ",categories:"",categoriesDesc:"  ",pages:"",pagesDesc:"  ",storefront:" ",storefrontDesc:"   ",storeDesign:" ",storeDesignDesc:"  ",templates:"",templatesDesc:"  ",marketing:"",marketingDesc:"  ",potentialAndMarketing:"  ",smartLine:"  (AI)",smartLineDesc:"    ",storeSettings:" ",generalSettings:" ",generalSettingsDesc:"  ",notifications:"",notificationsDesc:" ",payment:"",paymentDesc:"  ",checkoutSettings:" ",limits:"",domains:"",domainsDesc:"  ",suppliers:"",suppliersDesc:" ",brands:" ",units:"",currencies:"",advanced:"",usersAndPermissions:" ",usersAndPermissionsDesc:"  ",employees:"",permissions:" ",integrations:"",integrationsDesc:"   ",identityVerification:" ",identityVerificationDesc:" ",appStore:" ",appStoreDesc:"  ",storeManagement:" ",chat:"",chatDesc:"  ",transactions:"",controlPanel:" ",clickToViewWallet:"  ",yourBalance:"",new:"",support:"",cardsMarketplace:" ",cardsStore:"",cardsFavorites:"",cardsOrders:"",walletTopUp:" ",cardsReports:""},orders:{title:"  ",subtitle:"     ",orders:"",topups:" ",totalOrders:" ",pending:" ",processing:" ",shipped:" ",delivered:" ",approved:" ",rejected:"",cancelled:"",noOrders:"  ",noMatchingOrders:"     ",searchPlaceholder:"     ...",allStatuses:" ",export:"",import:"",orderNumber:" ",customer:"",products:"",amount:"",status:"",paymentStatus:" ",date:"",actions:"",viewDetails:" ",print:"",previous:"",next:"",paymentPending:"  ",paid:"",failed:"",refunded:"",topupRequests:"  ",pendingTopups:"   ",user:"",bank:"",receiptImage:" ",requestDate:" ",view:"",noTopups:"   ",noPendingTopups:"     ",accountNumber:" ",noImage:"  ",approve:"",reject:"",approveConfirm:"        ",rejectConfirm:"       ",rejectReason:" ",enterRejectReason:"  ",confirm:"",cancel:"",success:"",error:"",updateStatusSuccess:"    ",updateStatusError:"   ",loadOrdersError:"  ",loadTopupsError:"   ",approveSuccess:"    ",approveError:"   ",rejectSuccess:"   ",rejectError:"  ",rejectOrder:" ",enterRejectReasonOrder:"    ",orderApproved:"      ",orderRejected:"     ",rejectionReason:" ",rejectionReasonDescription:"      ",noReasonProvided:"   ",preview:"",topupDetails:"  ",requestAmount:" ",bankName:" ",viewFullImage:"  ",customerName:" ",email:" ",phone:" ",shippingAddress:" ",address:"",city:"",state:"/",postalCode:" ",country:"",noShippingInfo:"   ",paymentDetails:" ",paymentMethod:" ",productName:" ",items:"",shipping:"",printInvoice:" ",invoice:{vatNumber:" ",simplifiedTaxInvoice:"  ",invoiceInfo:" ",orderNumber:" ",date:"",paymentStatus:" ",paid:"",unpaid:" ",customerInfo:" ",name:"",phone:"",address:"",product:"",quantity:"",unitPrice:" ",total:"",subtotal:" ",vat:"  ",shipping:"",discount:"",grandTotal:" ",thankYou:"   {{storeName}}",footer:"        "}},reports:{title:"",export:"",pdf:"PDF",excel:"Excel",search:"...",startDate:" ",endDate:" ",selectBrand:"  ",allBrands:"  ",totalPrice:" ",totalTax:" ",totalAfterTax:"  ",products:"",orders:"",orderDetails:" ",productReport:" ",productName:" ",sku:"SKU",stock:"",salesCount:" ",revenue:"",noData:"  ",orderReport:" ",email:" ",subtotal:" ",tax:"",total:"",orderDate:" ",orderNo:" ",payment:"",quantity:"",itemTotal:" ",loading:" ...",totalSales:" ",salesAnalysis:" ",salesAndRevenueTrends:"  ",customers:"",sales:"",payments:"",last7Days:" 7 ",last30Days:" 30 ",last90Days:" 90 ",thisYear:" ",productPerformance:" ",topSellingProducts:"  ",topCustomers:" ",topBuyers:"  ",paymentDistribution:" ",transactionVolumeByMethod:"    ",paymentSummary:" ",feesAndNet:" ",net:"",fees:"",noProductData:"   ",noCustomerData:"   ",noPaymentData:"   ",selectDateRange:" "},design:{title:" ",subtitle:"  ",generateAI:"   ",noThemes:"    ",seedHint:"      :",active:"",activate:"",preview:"",aiDialogTitle:"   ",aiDialogDesc:"         .",themeDesc:" ",themeDescPlaceholder:":                ...",generating:" ...",generateTheme:" ",themeGenerated:"  !",themeGeneratedDesc:"      .",activateSuccess:"  ",activateSuccessDesc:"     .",error:"",loadError:"  ",activateError:"  ",generateError:"  ",enterPrompt:"   ",themes:{vibrant:"",minimal:"",modernStore:" ",classic:"",darkMode:" ",lightMode:" ",restaurantAndCafe:" ",servicesBusiness:" ",digitalCards:" ",simpleStore:" ",blankTemplate:" ",landingPage:" ",beautyAndCosmetics:"  ",homeAndFurniture:" ",fashionStore:" ",electronicsShop:" ",foodAndBeverage:" "},themeDescriptions:{vibrantDesc:"      ",minimalDesc:"     ",modernStoreDesc:"      ",restaurantDesc:"   ",servicesDesc:"     ",digitalCardsDesc:"        ",simpleStoreDesc:"   ",blankDesc:"  ",landingPageDesc:"   ",beautyDesc:"    ",homeDesc:"     ",fashionDesc:"          ",electronicsDesc:"       ",foodDesc:"      ",digitalCardsShortDesc:"      "}},templates:{title:" ",subtitle:"       ",createNew:"  ",searchPlaceholder:"  ...",allTemplates:" ",loading:"  ...",noTemplates:"    ",adjustSearch:"    ",noTemplatesAvailable:"    ",createCustom:"  ",useTemplate:"  ",official:"",professionalDesc:"   ",loadError:"  ",categories:{fashion:"",electronics:"",food:" ",beauty:"",home:" ",digital:" ",services:"",restaurant:" ",cards:" ",landing:" ",store:"",blank:"",general:"",business:"",portfolio:" ",ecommerce:" ",blog:"",corporate:"",creative:"",technology:"",health:"",education:"",travel:"",sports:"",entertainment:"",automotive:"",realestate:"",finance:"",legal:"",nonprofit:" ",personal:"",photography:"",wedding:"",kids:"",pets:" ",jewelry:"",furniture:"",grocery:"",pharmacy:"",cafe:"",bakery:""}},products:{title:"",subtitle:"   ",addProduct:" ",editProduct:" ",addNewProduct:"  ",hierarchical:{title:" ",description:"      ",loadError:"   "},enterProductDetails:"  ",viewInStore:"  ",cancel:"",update:"",add:"",delete:"",viewProduct:" ",totalProducts:" ",activeProducts:" ",lowStock:" ",outOfStock:"  ",allProducts:" ",nearDepletion:" ",quantityDepleted:" ",depleted:"",available:"",lowStockTab:" ",outOfStockTab:"  ",searchPlaceholder:"   SKU...",allStatuses:" ",active:"",draft:"",archived:"",category:"",allCategories:" ",export:"",import:"",importingProducts:"  ",importingProductsDesc:"      ...",importStopped:"  ",importStoppedDesc:"    ",loadDataError:"  ",loadDataErrorDesc:"    .   .",exportSuccess:"  ",noProducts:"  ",noProductsDesc:"      ",startAddingFirst:"   ",product:"",price:"",stock:"",status:"",actions:"",view:"",edit:"",bulkDelete:" ",saveProduct:" ",nameEn:" (English)",nameAr:" ()",descriptionEn:" (English)",descriptionAr:" ()",compareAtPrice:"  ",cost:"",barcode:"",lowStockThreshold:"  ",featured:" ",images:" ",uploadImages:" ",selectFromCloudinary:"  Cloudinary",seoTitle:" SEO",messages:{requiredField:" ",nameRequired:"  ",priceRequired:"  ",priceError:"  ",priceInvalid:"          ",priceTooLow:"    {{minPrice}} .   ({{quantity}} {{unit}}  {{cost}} .)",categoriesWarning:"",categoriesWarningDesc:"       .    .",saveError:"  ",saveErrorDesc:"    .    .",deleted:" ",notFound:"   (   )",deleteError:"  ",deleteErrorDesc:"    .    .",noSelection:"   ",noSelectionDesc:"    ",confirmDelete:"     {{count}} ",deletePartial:"  {{deleted}}   {{total}} .   : {{failed}}",deleteSuccess:"  {{count}}  ",selectAllSuccess:"  {{count}} ",selectAllError:"    ",exportError:"  ",exportErrorDesc:"  .    .",settingsError:"  ",settingsErrorDesc:"      .     .",readingFile:"   Excel...",analyzingData:"  ...",processingData:"  ...",noDataError:"        Excel.    .",validatingRows:"   {{count}} ...",validatingRow:"   {{current}}/{{total}}...",row:"",nameRequiredImport:"    SKU ",priceRequiredImport:" ",priceInvalidImport:"   ",categoryNotFound:' "{{category}}"  ',brandNotFound:'  "{{brand}}"  ',uploadingValid:"  {{count}}  ...",unknownError:"   ",storeSetupRequired:"   .",categoryOrBrandNotFound:"     .",productExists:"   ( SKU  )",importCompleteWithErrors:" !   {{success}}    {{errors}}    {{total}}",importComplete:" !   {{success}}     {{total}}",importSuccess:"  ",importFailed:" ",importSuccessDescWithErrors:"  {{success}}    {{errors}} ",importSuccessDesc:"  {{success}}  ",importErrorTitle:"  ",importErrorDesc:"     .     .",productsAndCollections:"  ",importBtn:"",selectAll:" ",deleting:" ...",deleteSelected:" {{count}}",path:"",defaultProductName:""},form:{categories:" (Categories)",selectCategories:" ...",noCategorySelected:"    ",path:"  (Path)",pathPlaceholder:": product-name",pathDesc:" URL  (   )",tags:" (Tags)",tagsPlaceholder:"    (: , )",tagsDesc:"       ",productId:"Product ID",productCode:"Product Code",odooId:"Odoo ID",optional:"",pricing:"",price:" ()",compareAtPrice:"  ",cost:" ()",costAutoFilled:"(      )",costDisabledDesc:"      .     .",inventory:"",sku:"SKU",barcode:"",quantity:"",lowStockThreshold:" ",unit:" ",selectUnit:" ...",suppliers:" (Suppliers)",suppliersAutoSelect:"    ",addSupplier:" ...",supplierPrice:"   ()",discountRate:"  (%)",setAsPrimary:"  ",noSuppliers:"    .      .",weight:" ()",dimensions:" ()",dimensionsPlaceholder:"    ",quantitySlider:"  (Slider)",quantitySliderDesc:"     ",minQuantity:" ",maxQuantity:" ",seo:"   (SEO)",metaTitle:"  (Meta Title)",metaTitlePlaceholder:"    ",metaDescription:"  (Meta Description)",metaDescriptionPlaceholder:"       ",publishSettings:" ",productStatus:" ",productStatusDesc:"      ",featuredProduct:" ",featuredProductDesc:"        ",cancel:"",save:" ",updateProduct:" ",addProduct:" ",saving:" ...",next:"",previous:"",basicInfo:" ",media:" ",pricingInventory:" ",advanced:" ",seoSettings:"SEO ",dragDropImages:"   ",orClickToUpload:"  ",maxSize:"  5MB  ",browseCloudinary:"  ",mainImage:"",remove:"",name:" ",nameAr:"  ()",description:"",descriptionAr:" ()"},statusBadges:{active:"",draft:"",archived:"",low:"",available:""},seoDescription:" SEO",weight:"",dimensions:"",unit:"",brand:" ",suppliers:"",tags:"",tagsHint:"   ",basicInfo:" ",pricingAndInventory:" ",organization:"",media:"",seo:"SEO",advanced:""},header:{newOrder:" ",newOrderMessage:"  #{{orderNumber}}  {{amount}}",lowStockAlert:"  ",lowStockMessage:"   {{productName}}",now:"",notifications:"",clearAll:" ",noNotifications:"  ",allNotificationsCleared:"    ",notificationsCleared:"  ",profile:" ",settings:"",helpAndSupport:" ",logout:" ",searchPlaceholder:"...",filter:"",filterDescription:"    ",status:"",all:"",active:"",inactive:" ",pending:" ",completed:"",fromDate:" ",toDate:" ",customDate:" ",download:"",exportingReports:"  ...",exportingOrders:"  ...",exportingProducts:"  ...",exportingCustomers:"  ...",navigateToReports:"     ",exportError:"  ",filterApplied:"   "},notifications:{newOrders:" ",pendingOrdersMessage:" {{count}}     ",justNow:" ",minutesAgo:" {{count}} ",hoursAgo:" {{count}} "},setupPrompt:{title:"  ",description:"             ",button:" "},marketing:{title:" ",subtitle:"    ",partnerTitle:"Smart Line -   ",partnerDesc:"       ",stats:{totalFollowers:" ",engagementRate:" ",postsThisMonth:"  ",totalReach:" "},socialAccounts:{title:"   ",subtitle:"    ",followers:""},packages:{title:" Smart Line",subtitle:"    ",mostPopular:" ",monthly:"",select:" ",selected:" ",basic:{name:" ",nameEn:"",features:["    ","10  ","  ","  ","   "]},professional:{name:" ",nameEn:"",features:[" 4    ","20  ","   +  ","  ","  ","    "," "]},enterprise:{name:" ",nameEn:"",features:["   ","40  ","   (  )","   ","  ","  ","  ","   "]}},customPackage:{title:"    ",desc:"   Smart Line      ",contact:" "}},smartLineMarket:{title:"  ",subtitle:"   ",badge:"   ",description:"        .           .",browseServices:" ",contactExpert:"  ",searchPlaceholder:"  ...",categories:{all:"",social:" ",seo:"SEO",content:"",ads:"",dev:""},service:{pricePerMonth:" / ",subscribeNow:" ",rating:"",reviews:""},emptyState:{title:"   ",desc:"       ",showAll:"  "},trust:{speed:{title:"  ",desc:"       "},results:{title:" ",desc:"       "},support:{title:" ",desc:"      "}},services:{socialMedia:{title:"  ",description:"         .",features:["3 ","12  "," ","  "]},seo:{title:"   SEO",description:"         .",features:["  "," "," "," "]},content:{title:"  ",description:"       .",features:[" "," "," "," "]},ads:{title:"  ",description:"         .",features:["Google Ads","Facebook Ads"," ROI"," "]},video:{title:"  ",description:"        .",features:[" "," "," "," "]},dev:{title:"  ",description:"        .",features:[" "," ","  "," "]}}},suppliers:{title:"  ",subtitle:"     ",tabs:{manage:" ",purchase:"  ",history:" ",statistics:" ",emailTemplate:"  "},addSupplier:" ",listTitle:" ",listDesc:"    ",table:{name:"",email:" ",phone:"",discount:" ",api:"API",status:"",actions:""},status:{active:"",inactive:" ",enabled:"",configured:""},purchase:{title:"  ",desc:"    .        ",selectProduct:" ",checkPrice:" ",bestPrice:"  :",noSupplier:"    ",buyNow:" ",price:":",available:"",unavailable:" ",cost:":",sellingPrice:" :",profit:":",buy:"",badPrice:"  ",buyBestAuto:"    ",noPrices:"       "},history:{title:"   ",desc:"    ",noPurchases:"    ",table:{product:"",supplier:"",quantity:"",price:"",total:"",status:"",date:""}},statistics:{title:" ",desc:"      ",loading:"  ...",noStats:"    ",summary:{totalPurchases:" ",totalAmount:" ",totalQuantity:" ",averagePrice:" "},products:{title:" ",quantity:":",avgPrice:" :",lastPurchase:" :",totalAmount:" "},alerts:{title:" ",critical:"",warning:"",low:"",current:":",threshold:" :",needsRecharge:"    ",allNormal:"   "}},dialogs:{addSupplier:"  ",desc:"     ",name:"  *",nameAr:"  ()",email:" ",phone:"",contactPerson:" ",address:"",discount:"  (%) *",responseDays:"   *",responseDaysHint:"        (    {{days}} )",status:" ",statusDesc:"   ",notes:"",api:{title:" API ",desc:" API     ",endpoint:" API ",endpointHint:"   API   (: https://api.supplier.com/v1)",key:" API",keyHint:"    API  ",autoPurchase:"  ",autoPurchaseDesc:"          ",interval:"   ()",intervalHint:"        (: 60 )"},purchase:{title:" ",quantity:"",confirm:" ",loading:" ..."},editSupplier:" ",deleteConfirm:"      "},toasts:{loadError:"  ",loadErrorDesc:"    .   .",updateSuccess:"   ",addSuccess:"   ",saveError:"  ",saveErrorDesc:"    .    .",deactivateSuccess:"   (  )",deleteSuccess:"   ",deleteError:"  ",deleteErrorDesc:"    .    .",noPrices:"  ",noPricesDesc:"         API ",fetchPricesError:"  ",fetchPricesErrorDesc:"      ",bestSupplierFound:"    ",noSuitableSupplier:"   ",noSuitableSupplierDesc:"     ",findBestError:"    ",findBestErrorDesc:"      ",purchaseSuccess:" ",purchaseSuccessDesc:"    . : {{quantity}}",purchaseError:" ",purchaseErrorDesc:"     ",autoPurchaseSuccess:"  ",autoPurchaseSuccessDesc:"     . : {{quantity}}",autoPurchaseErrorDesc:"    "},emailTemplates:{title:"   ",subtitle:"           ",saveCurrent:"  ",selectType:"  ",selectTypeDesc:"        ",active:"",editorTitle:" : {{name}}",availableVariables:" ",availableVariablesDesc:"     .      .",subject:"",body:"",preview:"",edit:"",settings:" ",enableTemplate:" ",enableTemplateDesc:"         ",types:{customerProblem:" ",orderIssue:" ",deliveryProblem:" ",paymentIssue:" ",refundRequest:" ",productQuality:" ",custom:" "},variables:{storeName:" ",storeLogo:" ",storeDetails:" ",customerName:" ",supplierResponseDays:"  ",problemDetails:" ",orderNumber:" ",orderDate:" ",productName:" ",refundAmount:" ",currentYear:" "},toasts:{loadError:"  ",saveSuccess:"     ",saveError:"  "}}},customers:{title:"",subtitle:"   ",addCustomer:" ",loyaltyPrograms:" ",tabs:{customers:"",loyalty:" "},totalCustomers:" ",goldCustomers:" ",averageSpending:" ",totalPoints:" ",searchPlaceholder:"    ...",filterTier:"  ",allTiers:" ",gold:"",silver:"",bronze:"",export:"",import:"",customer:"",contactInfo:" ",orders:"",totalSpent:" ",loyaltyPoints:" ",tier:"",lastOrder:" ",memberSince:" ",noResults:"  ",noResultsDesc:"      ",loyaltyDesc:"    ",createProgram:"  ",noPrograms:"   ",noProgramsDesc:"    ",members:"",minPoints:"  ",benefits:"",editProgram:" ",createProgramTitle:"   ",editProgramTitle:"  ",programName:" ",description:"",benefitsPlaceholder:":  10%    ",benefitsHint:"    (,)",addNewCustomer:"  ",addCustomerDesc:"   .      .",name:"",email:" ",phone:"  ()",loadCustomersError:"   ",addCustomerSuccess:"   ",addCustomerError:"  ",saveProgramSuccess:"   ",saveProgramError:"  ",exportHeaders:{id:"",name:"",email:" ",phone:"",totalOrders:" ",totalSpent:" ",loyaltyPoints:" ",loyaltyTier:" ",createdAt:" ",lastOrderDate:"  "},importProcessed:"  ",importProcessedDesc:"  {{count}} .      ."},wallet:{title:" ",subtitle:"   ",exportReport:" ",availableBalance:" ",pendingBalance:" ",totalRevenue:" ",platformFees:" ",readyToWithdraw:" ",processing:" ",beforeFees:"  ",serviceFees:" ",transactionLog:" ",recentTransactions:"    ",orderNumber:" ",date:"",cardNumber:" ",amount:"",net:"",printCount:" ",reprint:" ",refund:"",print:"",printing:"...",refunded:" ",refunding:"...",noTransactions:"    ",printSuccess:" ",printSuccessDesc:"    {{orderNumber}}",printError:" ",printErrorDesc:"    ",refundSuccess:" ",refundSuccessDesc:"    {{orderNumber}} ",refundError:" ",refundErrorDesc:"    ",refundConfirm:"              .",subscriptionDetails:" ",currentPlanAndRenewal:"   ",currentPlan:" ",price:"",perMonth:"/",nextBillingDate:"  ",daysRemaining:" ",day:"",days:"",planFeatures:" :",upgradePlan:" ",renewSubscriptionRequired:"   ",subscriptionExpiresSoon:"    {{plan}}  {{days}} .      .",renewNow:"  ",invoices:"",transactions:"",totalIncome:" ",totalExpense:" ",pendingInvoices:" ",paidInvoices:" ",filterType:" ",filterStatus:" ",allTypes:" ",credit:"",debit:"",allStatuses:" ",completed:"",pending:" ",failed:"",paid:"",overdue:"",cancelled:"",invoiceNumber:" ",dueDate:" ",tax:"",total:"",actions:"",downloadInvoice:" ",noInvoices:"  ",noInvoicesDesc:"     ",downloading:" ...",downloadSuccess:"  ",downloadError:" ",lastUpdate:" ",description:"",quantity:"",subtotal:" ",pageTitle:" ",pageDesc:"     ",totalBanks:" ",totalTransactions:" ",tabs:{transactions:" ",requests:" ",banks:""},banksTab:{title:"",desc:"      ",addBank:" ",editBank:" ",addNewBank:"  ",editBankTitle:" ",addBankTitle:"  ",dialogDesc:"       ",bankName:" ",bankNameAr:"  ()",bankCode:" ",bankCodeHint:"      ",bankLogo:" ",currentLogo:" ",uploadLogo:"  ",accountName:"  ",accountNumber:" ",iban:"IBAN",swiftCode:"SWIFT Code",sortOrder:" ",active:" ( )",deleteConfirm:"      ",deleteSuccess:"   ",saveSuccess:"   ",updateSuccess:"   ",fillRequired:"    ",saveError:"  ",deleteError:"  ",copied:" ",saveChanges:" ",noBanks:"  ",noBanksDesc:"       "},requestsTab:{noRequests:"   ",method:" ",approveConfirm:"         {{amount}} {{currency}}",approveSuccess:"     ",approveError:"    ",rejectConfirm:"   ",rejectSuccess:"    ",rejectError:"   ",viewDetails:" ",bankInfo:" ",senderInfo:" ",senderName:" ",referenceNumber:" ",notes:"",receiptImage:" ",receipt:"",rejectionReason:" ",detailsTitle:"  ",detailsDesc:"      ",reject:"",processing:" ...",approve:"",rejectTitle:"  ",rejectDesc:"     ",rejectPlaceholder:"  ..."},transactionTypes:{TOPUP:"",PURCHASE:"",REFUND:"",BONUS:"",WITHDRAWAL:"",ADJUSTMENT:""},status:{PENDING:"",APPROVED:" ",COMPLETED:"",REJECTED:"",FAILED:""}}},storefront:{products:{categories:"",priceRange:" ",from:"",to:"",clearFilters:" ",home:"",title:" ",subtitle:"     ",searchPlaceholder:"  ...",sortBy:" ",newest:"",priceAsc:":  ",priceDesc:":  ",filter:"",filters:"",filterDesc:"    ",loading:"  ...",availableProducts:" ",search:"",selectedCategories:" ",noProducts:"  ",noProductsDesc:"     .      .",noProductsEmpty:"    .    !"},cloudinary:{title:"   Cloudinary",desc:"    Cloudinary.   {{selectionText}}.",multiple:" ",single:" ",folders:"",search:"  ...",selectedCount:"{{count}}  ",selectedCountSingle:"  ",noImages:"     ",loadMore:" ",loading:" ...",cancel:"",save:"",toasts:{loadFoldersError:"  ",loadImagesError:"  ",noSelection:"   ",noSelectionDesc:"     ",selectError:"    "}}},builder:{addSections:" ",templateApplied:"  ",templateAppliedDesc:"   {{name}} .",templateError:"  ",domainMissing:" ",editMode:" ",preview:"",livePreview:" ",searchSections:"  ...",backgroundColor:"",lightMode:" ",darkMode:" ",noSections:"     .         .",browseTemplates:" ",chooseTemplate:" ",magicDesign:" ",aiDesignTitle:"   ",aiDesignDesc:"         .",aiPromptLabel:"     ",aiPromptPlaceholder:':          " ".',generateDesign:" ",aiDesignSuccess:"  ",aiDesignSuccessDesc:"      .",aiDesignError:"  .    .",codeEditor:" ",backToPages:" ",editPage:" ",newPage:" ",usingTemplate:'  "{{name}}"',pageTitle:" ",urlSlug:" ",pageHistory:" ",restoreVersion:"     .",noHistory:"   ",version:"",restore:"",codeEditorTitle:" ",codeEditorDesc:"      JSON.   -    JSON  .",loadingEditor:"  ...",applyChanges:" ",defaults:{header:{companyName:"",home:"",products:"",about:" "},hero:{title:"   ",subtitle:"  ",buttonText:" "},features:{title:"",fastShipping:" ",fastShippingDesc:"   ",securePayment:" ",securePaymentDesc:" ",giftCards:" ",giftCardsDesc:"  "},products:{title:" "},gallery:{title:""},slider:{title:" ",description:" "},contentSlider:{title:" ",item1:"  ",item1Desc:" ",item2:" ",item2Desc:"    ",item3:" ",item3Desc:"    ",item4:" ",item4Desc:"  ",item5:" ",item5Desc:" "},cta:{title:" ",description:"    ",buttonText:" "},testimonials:{title:"  ",customer1:" ",role1:"",text1:"    !",customer2:" ",role2:"",text2:"   !"},pricing:{title:" ",subtitle:"  ",basic:"",pro:"",month:"",feature1:"10 ",feature2:" ",feature3:"1  ",feature4:"  ",feature5:"  ",feature6:"10  "},team:{title:"  ",subtitle:"  ",member1:" ",role1:"  ",bio1:"  "},stats:{title:"",customers:" ",products:"",countries:"",satisfaction:""},faq:{title:" ",subtitle:"    ",q1:"  ",a1:"     .",q2:"     ",a2:"        ."},newsletter:{title:"   ",subtitle:"    ",placeholder:"  ",button:""},video:{title:" "},countdown:{title:"  ",subtitle:"!   "},brands:{title:"      "},contact:{title:" ",subtitle:"   ",address:"   "},footer:{companyName:"",about:" ",contact:" ",privacy:""},categoriesHierarchy:{title:" ",subtitle:"    "}}},sections:{customerOrders:{label:"",desc:"   ",title:"",subtitle:"      ",searchPlaceholder:"    ...",allStatuses:" ",orderNumber:" ",date:"",status:"",total:"",actions:"",view:"",noOrders:"  ",orderDetails:" ",trackOrder:" ",viewDetails:" ",loadError:"  ",loadErrorDesc:"    .    .",orderStatus:{pending:" ",processing:" ",shipped:" ",delivered:" ",approved:" ",rejected:"",cancelled:"",completed:"",refunded:""},continueShopping:" "},hero:{label:" ",desc:"  "},features:{label:"",desc:" "},products:{label:"",desc:" "},categoriesHierarchy:{label:" ",desc:"  "},testimonials:{label:" ",desc:" "},pricing:{label:"",desc:" "},team:{label:"",desc:" "},stats:{label:"",desc:" "},faq:{label:" ",desc:" "},newsletter:{label:" ",desc:"   "},video:{label:"",desc:" "},countdown:{label:" ",desc:" "},brands:{label:" ",desc:" "},contact:{label:" ",desc:" "},slider:{label:" ",desc:"  "},contentSlider:{label:" ",desc:"   "},payments:{label:" ",desc:"   "},cta:{label:"  ",desc:" CTA"},text:{label:" ",desc:"  "},image:{label:"",desc:" "},gallery:{label:" ",desc:" "},merchantDashboard:{label:" ",desc:"     "},productList:{label:" ",desc:"    "},storePage:{label:" ",desc:"      "},supportTickets:{label:" ",desc:"   ",title:"",managerBadge:" : {{name}}",addTicket:"  +",ticketNumber:" ",dateAdded:" ",ticketTitle:" ",orderNumber:" ",status:"",description:"",noTickets:"    ",contactUs:" ",contactDesc:"               .",storeEmail:"  :",sendMessage:" ",createTitle:"  ",createDesc:"    ",contactDialogDesc:"     ",form:{title:" ",titlePlaceholder:" ",description:"",descriptionPlaceholder:" ...",orderNumber:"  ()",orderNumberPlaceholder:"   ",priority:""},contactForm:{name:"",namePlaceholder:"",email:" ",emailPlaceholder:"your.email@example.com",subject:"",subjectPlaceholder:" ",message:"",messagePlaceholder:"..."},createButton:" ",creating:" ...",sending:" ...",sendButton:" ",orderTicketTitle:" {{number}}",contactSubject:"  {{name}}"},favoritesPage:{label:" ",desc:"    ",title:" ",searchPlaceholder:"  ...",selectCard:" ",wholesalePrice:" ",retailPrice:" ",productDetails:" ",noFavorites:"   ",paginationInfo:" {{count}}  {{total}} ",cartTitle:" ",cartCount:" ",total:"",checkout:" ",cartEmpty:" ",addToCart:" ",addedToCart:"   ",failedToAddToCart:"  "},balanceOperations:{label:" ",desc:"   ",title:"  ",id:" ",date:" ",description:"",action:"",status:"",amount:"",deposit:"",withdraw:"",topupRequest:"  ",rejectionReason:" ",rejectionReasonDescription:"       ",noReasonProvided:"   ",viewRejectionReason:"  "},employeesPage:{label:" ",desc:"  ",title:"",tabs:{employees:" ",groups:" "},searchPlaceholder:"  ",addEmployee:"  ",addGroup:"  ",table:{name:"",username:" ",phone:"",status:"",balance:"",actions:""},noEmployees:"  ",noGroups:"  ",group:{employeeCount:" :",permissions:":",viewEmployees:" "},dialog:{add:" ",addEmployeeTitle:"  ",addEmployeeDesc:"       ",editEmployeeTitle:" ",editEmployeeDesc:"  ",addGroupTitle:"   ",addGroupDesc:"       "},passwordDialog:{title:"   ",description:"   .        .",email:" ",temporaryPassword:"  ",copy:"",copied:" ",warning:"",warningText:"        .    .",close:"",important:"",mustChangePassword:"         ."},employeeCreated:"   ",employeeUpdated:"   ",employeeError:"  .    .",employeeDeleted:"   ",deleteConfirm:"      ",form:{selectCustomer:"  ()",selectCustomerPlaceholder:"--   --",selectCustomerHint:"        ",loadingCustomers:"  ...",noCustomers:"     ",name:" *",username:"  *",email:"  *",emailPlaceholder:"employee@example.com",emailHint:"      ",password:"  *",phone:"  *",group:" ()",noGroup:" ",groupHint:"    ",permissions:"",groupName:"  *",groupDesc:"",defaultPermissions:" ",amount:"",employee:"",emailRequired:"  "},permissions:{ordersCreate:" ",ordersRead:" ",reportsRead:" ",walletRead:" ",playersWrite:" ",employeesManage:" ",settingsWrite:" ",invoicesRead:" ",mobileAccess:"  ",mobileOrders:"  ()",mobileProducts:"  ()",mobileCustomers:"  ()",mobileAnalytics:"  ()",manageProducts:" ",manageOrders:" ",manageCustomers:" ",manageSettings:" ",viewAnalytics:" "},messages:{loadError:"   ",loadErrorDesc:"     .   .",createError:"  ",deleteError:"  ",deleteErrorDesc:"    .    ."},addBalance:" ",addBalanceDesc:"     "},chargeWallet:{label:" ",desc:"  ",title:" ",paymentMethod:" ",methods:{cash:"",visa:"",bankTransfer:" "},bank:"",selectBank:" ",bankDetails:"  ",accountName:"  :",accountNumber:"  :",iban:"IBAN :",transferrerAccount:"  ",selectTransferrerAccount:"  ",transferrerName:" ",transferrerNamePlaceholder:"  ",amount:" ",currency:"",receipt:" ",uploadReceipt:" ",receiptHint:"        : jpeg. png. jpg. pdf",submit:"",submitting:" ...",successTitle:"  ",successDesc:"     ",noBankAccounts:"     .     .",addBankAccount:"  ",notAllowed:" ",staffNotAllowed:"     ",staffNotAllowedDesc:"     .       .",loadError:"  ",loadErrorDesc:"    .    .",fileSizeError:"   ",fileSizeErrorDesc:"     5 ",invalidAmount:"  ",invalidAmountDesc:"      ",bankRequired:" ",bankRequiredDesc:"  ",submitSuccess:"    ",submitSuccessDesc:"       ",submitError:"   ",currentBalance:" ",addNewBalance:"  ",choosePaymentMethod:"    ",bankInfo:"  :",notesPlaceholder:"  ..."},reportsPage:{label:" ",desc:"  ",title:"",tabs:{products:"",orders:"",orderDetails:" "},export:":",selectBrand:"  ",searchPlaceholder:"...",summary:{totalAfterTax:"  ",totalTax:" ",totalPrice:" "},table:{productName:" ",brandName:"  ",type:"",quantity:"",unitPrice:" ",totalPrice:" ",unitTax:"  ",totalAfterTax:"  "},noData:"No data"},profilePage:{label:"  ",desc:"  ",balance:"",addBalance:" ",documents:"",table:{fileName:" ",type:"",size:"",uploadDate:" ",action:""},download:"",verified:"",tabs:{documents:"",edit:" "},fields:{companyName:"  :",manager:"  :",phone:"  :",email:"  :",commercialRecord:"   :",taxCard:"   :",country:" :",city:" :",address:" :",joinDate:"  :"}}},cart:{title:" ",emptyTitle:" ",emptyDesc:"     ",browseProducts:" ",continueShopping:" ",subtotal:" ",shipping:"",tax:"",total:"",checkout:" ",couponCode:" ",couponApplied:"    ",enterCode:" ",itemsCount:"{{count}}   ",freeShippingHint:" {{amount}} {{currency}}    "},checkout:{title:" ",orderSummary:" ",shippingInfo:" ",customerInfo:" ",shippingMethod:" ",paymentMethod:" ",placeOrder:" ",walletBalance:" ",availableBalance:"  ",sufficientBalance:" ",insufficientBalance:"  ",insufficientWalletDesc:"       .        .",rechargeNow:" ",loadingPaymentMethods:"   ...",noPaymentMethods:"    ",noPaymentMethodsDesc:"      ",securePayment:"  ",fastShipping:"  ",bestPrices:"  ",fullName:" ",phoneNumber:" ",email:" "},order:{notFound:"  ",successTitle:"   !",successDesc:" .      .",details:" ",number:" ",status:{processing:" "},print:" ",confirmationSent:"      {{email}}",trackHint:"       "},payment:{wallet:{name:" ",desc:"   "},hyperpay:{name:"  (HyperPay)",desc:"  "},stripe:{name:"  (Stripe)",desc:" "},paypal:{name:" ",desc:"   "},cod:{name:"  ",desc:"   "},bank:{name:" ",desc:"    "}},properties:{generateAI:"  ",colors:"",background:"",text:"",spacing:"",paddingTopBottom:" ",typography:"",textAlignment:" ",contentPosition:" ",position:{top:"",center:"",bottom:""},fontSize:" ",fontWeight:" ",weight:{light:"",normal:"",medium:"",semibold:" ",bold:""},lineHeight:" ",backgroundImage:" ",uploadBackground:" ",animation:"",animationType:"",duration:"",animations:{fade:" ",slideUp:" ",slideDown:" ",slideLeft:" ",slideRight:" ",zoom:"",bounce:""},companyName:" ",logoUrl:" ",links:" ",label:"",url:"",newLink:" ",addLink:" ",showThemeToggle:"  ",showLanguageToggle:"  ",title:"",titleSize:" ",subtitle:" ",subtitleSize:"  ",buttonText:" ",buttonLink:" ",buttonStyle:" ",styles:{primary:"",secondary:"",outline:"",ghost:""},overlayOpacity:"  ",minHeight:"  ",fullScreen:" ",sectionTitle:" ",features:"",icon:"",description:"",newFeature:" ",featureDesc:" ",addFeature:" ",content:"",image:"",altText:" ",category:"",allCategories:" ",numberOfProducts:" ",layout:"",layouts:{grid:"",carousel:"",list:""},columns:"",displayOptions:" ",showPrice:" ",showImage:" ",showName:" ",showDescription:" ",showRating:" ",showAddToCart:"   ",showStock:" ",autoPlay:" ",interval:"  ()",showDots:" ",showArrows:" ",height:"",items:"",newItem:" ",addItem:" ",plans:"",newPlan:" ",addPlan:" ",price:"",currency:"",period:"",highlighted:"",members:"",newMember:" ",addMember:" ",role:"",bio:"",stats:"",newStat:" ",addStat:" ",number:"",suffix:" ( +)",questions:"",newQuestion:" ",addQuestion:" ",question:"",answer:"",placeholder:" ",videoUrl:" ",targetDate:" ",logos:"",grayscale:" ",email:" ",phone:"",address:"",methods:" ",productsPerCategory:"  ",productsLayout:" ",productsColumns:" ",component:"",components:{supportTickets:" ",favoritesPage:" ",balanceOperations:" ",employeesPage:" ",chargeWallet:" ",reportsPage:" ",profilePage:"  ",storeManagers:" "}},masterDashboard:{overview:{title:"   ",subtitle:"     ",loadError:"      ",stats:{totalTenants:" ",activeTenants:"",totalRevenue:" ",platformFees:" ",transactions:"",allTime:" ",totalUsers:" ",acrossTenants:"  ",paymentGateways:" ",partners:"",active:""},tenantStatus:{title:" ",active:"",suspended:"",inactive:" ",total:""},planDistribution:{title:" "},recentActivity:{title:" ",noActivity:"   "}},paymentGateways:{title:"  ",subtitle:"   ",addGateway:" ",searchPlaceholder:"  ...",loadError:"    ",deleteConfirm:"       ",deleteSuccess:"  ",toggleSuccess:"   ",createSuccess:"    ",updateSuccess:"    ",missingName:" ",missingNameDesc:"   .",missingEntityId:"Entity ID ",missingEntityIdDesc:" HyperPay   (Entity ID)  .",missingClientId:"Client ID ",missingClientIdDesc:" Neoleap   (Client ID).",noGateways:"     ",edit:"",enable:"",disable:"",modal:{addTitle:"  ",editTitle:" ",gatewayName:" ",provider:"",credentials:" ",secretKey:" ",publishableKey:"  ",clientId:" ",clientSecret:" ",entityId:" ",accessToken:" ",cancel:"",update:" ",add:" "}},limits:{title:" ",subtitle:"        ",howItWorks:"  ",howItWorksDesc1:"   /  verified   ",howItWorksDesc2:"   verified    ",howItWorksDesc3:"          ",howItWorksDesc4:"              ",defaultLimits:" ",defaultLimitsDesc:"        verified",defaultLimitAmount:"  (.)",defaultLimitHint:"       /  verified ",tierLimits:"  (Tiers)",tierLimitsDesc:"        ",tierId:" ",tierName:" ",baseLimit:"  (.)",increasePerPurchase:"    (.)",addNewTier:"  ",addTier:" ",advancedSettings:" ",advancedSettingsDesc:"     ",enablePurchaseCountIncrease:"      ",enablePurchaseCountIncreaseDesc:"           ",enableCreditCardTracking:"   ",enableCreditCardTrackingDesc:"                ",save:" ",saving:" ...",loadError:"   ",saveError:"   ",saveSuccess:"    "}},pages:{allPagesExist:"  ",allDigitalCardsPagesExist:"      ",createdSuccessfully:"  ",digitalCardsCreated:"  {{count}}     ",creationError:"  ",digitalCardsCreationError:"       .    .",manager:{title:" ",subtitle:"   ",createNew:" ",createFirst:"   ",noPages:"   ",loading:"  ...",table:{page:"",slug:"",status:"",lastUpdated:" ",actions:""},status:{published:"",draft:"",hidden:""},actions:{edit:"",preview:"",delete:"",duplicate:""},deleteConfirm:"      ",deleteSuccess:"   ",deleteError:"  ",duplicateSuccess:"   ",searchPlaceholder:"  ...",bulkDelete:" ",bulkDeleteConfirm:"     {{count}} ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",templates:" ",filters:{all:" ",published:"",draft:""}}},cardsStore:{title:"",searchPlaceholder:"      ...",allCategories:" ",backToBrands:"  ",chooseCard:" :",noCardsAvailable:"   ",retail:" ",wholesale:" ",addProduct:" ",chooseBrand:"  ",brands:" ",cards:"",shoppingCart:" ",cartEmpty:" ",cardsCount:" ",total:"",usd:"",processing:" ...",completeOrder:" ",addedToCart:"  ",addedToFavorites:"  ",removedFromFavorites:"   ",orderCompletedSuccess:"   ",orderFailed:"   ",downloadSuccess:"    ",insufficientBalance:"  .   .",downloadCardsQuestion:"    ",walletDeductionNote:"     .",yes:"",no:"",rechargeWallet:" "},cardsOrders:{title:" ",createOrder:" ",createFirstOrder:"     ",browseStore:" ",table:{orderNumber:" ",date:" ",cards:" ",amount:"",status:"",by:""},orderDetails:" ",orderDate:" ",status:"",totalAmount:" ",paymentMethod:" ",orderedCards:" ",codes:":",copied:" ",previous:"",next:""},cardsFavorites:{title:" ",searchPlaceholder:"  ...",noFavorites:"   ",addFromStore:"     ",browseStore:" ",showing:" {{filtered}}  {{total}} "}},Cve={common:{welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",sar:"SAR",cancel:"Cancel",confirm:"Confirm",save:"Save",saving:"Saving...",generating:"Generating...",delete:"Delete",edit:"Edit",search:"Search",filter:"Filter",back:"Back",next:"Next",previous:"Previous",submit:"Submit",close:"Close",openInNewWindow:"Open in New Window",sessionExpired:"Session Expired",sessionExpiredDesc:"Your session has expired. Please refresh the page or log in again.",unauthorized:"Unauthorized",pleaseLogin:"Please log in first",refreshingSession:"Refreshing session...",sessionRefreshed:"Session updated - retrying",sessionRefreshFailed:"Session expired - please refresh the page and try again",authError:"Authentication error - please refresh the page and try again",forbiddenRetry:"Unauthorized - please refresh the page and try again",networkError:"Network error - please check your connection",errorOccurred:"An error occurred",failedToLoad:"Failed to load data",tryAgain:"Try again",authFailed:"Authentication failed - please login again",all:"All",none:"None",currency:"SAR",selected:"Selected",free:"Free",quantity:"Quantity",cards:"Cards",backToHome:"Back to Home",notAvailable:"N/A",ourStore:"Our Store",gridView:"Grid View",listView:"List View",itemsPerPage:"Items per page",showingResults:"Showing {{start}} to {{end}} of {{total}} results",refresh:"Refresh",copied:"Copied",copy:"Copy",passwordCopied:"Password copied to clipboard",copyFailed:"Failed to copy password. Please copy manually.",saveChanges:"Save Changes",optional:"Optional",understood:"Understood",noData:"No data",selectedCustomer:"Selected Customer",noContentYet:"No content yet",noContentDescription:"Sorry, there is no content to display currently. Please come back later.",exploreMore:"Explore more",priority:{low:"Low",medium:"Medium",high:"High",urgent:"Urgent"},status:{open:"Open",pending:"Pending",inProgress:"In Progress",resolved:"Resolved",approved:"Approved",rejected:"Rejected",completed:"Completed"},currencies:{SAR:"Saudi Riyal",AED:"UAE Dirham",KWD:"Kuwaiti Dinar",USD:"US Dollar",QAR:"Qatari Riyal"}},nav:{home:"Home",products:"Products",categories:"Categories",cart:"Cart",profile:"Profile",dashboard:"Dashboard",login:"Login",signup:"Sign Up",logout:"Logout"},auth:{login:{title:"Login",email:"Email",password:"Password",remember:"Remember me",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",signupLink:"Sign up",button:"Login"},signup:{title:"Create Account",storeName:"Store Name",subdomain:"Subdomain",haveAccount:"Already have an account?",loginLink:"Login",button:"Sign Up"}},landing:{hero:{badge:"Your Digital Markets Platform",title:"Create Your Online Store in",titleHighlight:"Minutes",subtitle:"The easiest and fastest platform to start your e-commerce journey. No technical experience required.",cta:"Start Now for Free",startFree:"Start Free",watchDemo:"Watch Demo",demo:"View Demo Store",readyIn5:"Ready in 5 Minutes",support247:"24/7 Support",noCreditCard:"No Credit Card Required",stats:{merchants:"10k+ Merchants",sales:"100M+ Sales",rating:"4.9/5 Rating"}},features:{badge:"Features",title:"Everything You Need to",titleHighlight:"Succeed",subtitle:"Powerful tools designed to help you manage and grow your business with ease",items:{easy:{title:"Easy to Use",description:"Simple and intuitive interface to manage products, orders, and customers without any complexity"},design:{title:"Professional Design",description:"Modern and responsive templates that look great on all devices and attract more customers"},payments:{title:"Secure Payments",description:"Integrated with the best payment gateways to ensure safe and fast transactions for your customers"},analytics:{title:"Advanced Analytics",description:"Detailed reports on sales, visits, and customer behavior to help you make better decisions"},security:{title:"High Security",description:"Complete protection for your data and financial transactions with the latest security standards"},performance:{title:"Fast Performance",description:"Fast and SEO-optimized stores to improve customer experience"}}},pricing:{badge:"Pricing",title:"Flexible Plans Suit",titleHighlight:"All Sizes",subtitle:"Choose the right plan for you and start growing. You can upgrade or cancel at any time",period:"monthly",currency:"SAR",popular:"Most Popular",plans:{free:{name:"Free",description:"Perfect for starting and trying the platform",cta:"Start for Free",features:{products:"Up to 50 products",subdomain:"Free subdomain",templates:"Basic templates",support:"Email support",storage:"1 GB storage"}},pro:{name:"Pro",description:"For startups and growing businesses",cta:"Start Now",features:{products:"Unlimited products",domain:"Free custom domain",templates:"All premium templates",support:"24/7 support",analytics:"Advanced analytics",payments:"Payment integration",storage:"10 GB storage",watermark:"Remove watermark"}},enterprise:{name:"Enterprise",price:"Custom",description:"Custom solutions for large enterprises",cta:"Contact Us",features:{proFeatures:"All Pro features",multiStore:"Multiple stores",api:"Custom API",accountManager:"Dedicated account manager",training:"Training and onboarding",sla:"Guaranteed SLA",storage:"Unlimited storage",development:"Custom development"}}}},cta:{title:"Ready to Start Your Journey?",subtitle:"Join thousands of merchants who trust our platform to grow their business and achieve their goals",button:"Create Your Store Now for Free"},footer:{description:"A complete platform to create and manage online stores with ease and professionalism",product:"Product",support:"Support",company:"Company",links:{features:"Features",pricing:"Pricing",templates:"Templates",integrations:"Integrations",helpCenter:"Help Center",faq:"FAQ",contact:"Contact Us",docs:"Documentation",about:"About Us",blog:"Blog",careers:"Careers",press:"Press",privacy:"Privacy Policy",terms:"Terms & Conditions",cookies:"Cookie Policy"},copyright:" 2024 Saa. All rights reserved."}},dashboard:{categories:{title:"Categories & Offers Management",subtitle:"Organize product categories and customer offers",tabs:{productCategories:"Product Categories",customerTiers:"Customer Tiers",offers:"Offers"},productCategories:{allCategories:"All Categories",noCategories:"No categories found",noCategoriesDesc:"Create your first category to organize products",addCategory:"Add Category",addSubcategory:"Add Subcategory",subcategories:"Subcategories",level:"Level",maxSubcategoriesReached:"Maximum Subcategories Reached",maxSubcategoriesDesc:"Cannot add more than {{max}} subcategories per parent category",maxDepthReached:"Maximum Depth Reached",maxDepthDesc:"Cannot add more subcategories. Maximum is {{max}} levels.",maxDepthTooltip:"Maximum depth reached ({{max}} levels)",maxDepthWarning:" Maximum depth reached ({{max}} levels). You can only add products.",export:"Export",import:"Import",logo:"Logo",category:"Category",productCount:"Product Count",actions:"Actions",noDescription:"No description",editCategory:"Edit Category",addNewCategory:"Add New Category",editCategoryDesc:"Update category information",addCategoryDesc:"Add a new category to organize your products",categoryName:"Category Name",slug:"Slug",slugHint:"Used in URLs (leave empty for auto-generation)",description:"Description",categoryLogo:"Category Logo",uploadLogo:"Upload category logo",logoHint:"You can upload a logo for the category to display in the store",update:"Update",add:"Add",deleteConfirm:"Are you sure you want to delete this category?",exportSuccess:"Categories exported successfully",importSuccess:"Successfully imported {{count}} categories{{errors}}",importError:"Failed to import categories",importingCategories:"Importing Categories",importingCategoriesDesc:"Please wait while we import categories from Excel file...",importErrorTitle:"Category Import Error Report",importErrorDesc:"The following errors occurred during category import. Please review failed rows and correct data in Excel file.",loadError:"Failed to load categories",saveError:"Failed to save category",deleteSuccess:"Category deleted successfully",deleteError:"Failed to delete category",updateSuccess:"Category updated successfully",addSuccess:"Category added successfully",deleteSelected:"Delete Selected"},customerTiers:{addTier:"Add Customer Tier",editTier:"Edit Customer Tier",addNewTier:"Add New Customer Tier",tierDesc:"Create tiers to classify customers and offer custom discounts",tierName:"Tier Name",tierNamePlaceholder:"e.g., VIP Tier",description:"Description",descriptionPlaceholder:"Brief description of this tier",color:"Color",discountPercent:"Discount Percentage (%)",linkedCategories:"Linked Product Categories:",allCategories:"All Categories",assignedCustomers:"Assigned Customers:",noCustomersAssigned:"No customers assigned",customerCount:"{{count}} customer",assignCustomers:"Assign customers to this tier",loadingCustomers:"Loading customers...",noCustomersAvailable:"No customers available",selectCustomer:"Select a customer to add to tier",customer:"Customer",assignedCount:"{{count}} customers assigned to this tier",selectProductCategory:"Select product category",linkedProductCategories:"Linked Product Categories (optional)",howItWorks:"How Customer Classification Works",howItWorksDesc1:" Customers are automatically classified based on product categories they purchase",howItWorksDesc2:" Tier A (VIP) customers get 15% discount on all products",howItWorksDesc3:" Tier B (Gold) customers get 10% discount",howItWorksDesc4:" Tier C (Regular) customers get 5% discount",howItWorksDesc5:"Link product categories with customer tiers to enable automatic classification",tierNameRequired:"Tier name is required",updateSuccess:"Customer tier updated",addSuccess:"Customer tier added",deleteSuccess:"Customer tier deleted",deleteConfirm:"Are you sure you want to delete this tier?"},offers:{addOffer:"Add Offer",editOffer:"Edit Offer",addNewOffer:"Add New Offer",offerDesc:"Create special offers for customer tiers on specific products",noOffers:"No offers found",noOffersDesc:"Create special offers for different customer tiers",offerName:"Offer Name",offerNamePlaceholder:"e.g., Ramadan Offer",customerTier:"Customer Tier",selectCustomerTier:"Select customer tier",discountPercent:"Discount Percentage (%)",includedCategories:"Included Product Categories:",allCategories:"All Categories",example:"Example:",exampleDesc:"Product priced at 100 SAR  Price after discount: {{price}} SAR",active:"Active",inactive:"Inactive",forTier:"For tier: {{tierName}}",nameAndTierRequired:"Offer name and customer tier are required",updateSuccess:"Offer updated",addSuccess:"Offer added",deleteSuccess:"Offer deleted",deleteConfirm:"Are you sure you want to delete this offer?",selectProductCategories:"Select product categories",productCategories:"Product Categories (optional)"}},main:{viewMode:"View",normal:"Normal",cards:"Cards",navigation:"Navigation",totalSales:"Total Sales",totalOrders:"Total Orders",avgOrderValue:"Avg Order Value",totalCustomers:"Total Customers",visits:"Visits",totalProducts:"Total Products",salesChart:"Sales Chart",visual:"Visual",summary:"Summary",detailed:"Detailed",showSummary:"Show Summary",showDetailed:"Show Detailed",notifications:"Notifications",noNotifications:"No notifications",recentOrders:"Recent Orders",viewAll:"View All",noOrders:"No orders",displayMode:"Display Mode",lastWeek:"Last Week",lastMonth:"Last Month",lastYear:"Last Year",subtitle:"Overview of your store performance"},sidebar:{home:"Home",dashboard:"Dashboard",salesAndOrders:"Sales & Orders",products:"Products",productsDesc:"Manage your product catalog",hierarchical:"Products & Collections",hierarchicalDesc:"Browse products by category",priceManagement:"Price Management",priceManagementDesc:"Update product prices",orders:"Orders",ordersDesc:"Process customer orders",customers:"Customers",customersDesc:"Manage customer relationships",reports:"Reports",reportsDesc:"View sales analytics",contentAndDesign:"Content & Design",categories:"Categories",categoriesDesc:"Organize product categories",pages:"Pages",pagesDesc:"Manage static pages",storefront:"Storefront",storefrontDesc:"Customize storefront homepage",storeDesign:"Store Design",storeDesignDesc:"Change themes and colors",templates:"Templates",templatesDesc:"Manage page templates",marketing:"Marketing",marketingDesc:"Create marketing campaigns",potentialAndMarketing:"Potential & Marketing",smartLine:"Smart Line (AI)",smartLineDesc:"AI-powered marketing tools",storeSettings:"Store Settings",generalSettings:"General Settings",generalSettingsDesc:"Configure store settings",notifications:"Notifications",notificationsDesc:"Manage notifications",payment:"Payment",paymentDesc:"Setup payment gateways",checkoutSettings:"Checkout Settings",limits:"Limits",domains:"Domains",domainsDesc:"Manage custom domains",suppliers:"Suppliers",suppliersDesc:"Manage suppliers",brands:"Brands",units:"Units",currencies:"Currencies",advanced:"Advanced",usersAndPermissions:"Users & Permissions",usersAndPermissionsDesc:"Manage team access",employees:"Employees",permissions:"Permissions Management",integrations:"Integrations",integrationsDesc:"Connect third-party apps",identityVerification:"Identity Verification",identityVerificationDesc:"Verify your identity",appStore:"App Store",appStoreDesc:"Install apps and plugins",storeManagement:"Store Management",chat:"Chat",chatDesc:"Customer support chat",transactions:"Transactions",controlPanel:"Control Panel",clickToViewWallet:"Click to view balance",yourBalance:"Your Balance",new:"New",support:"Support",cardsMarketplace:"Cards Marketplace",cardsStore:"Store",cardsFavorites:"Favorites",cardsOrders:"My Orders",walletTopUp:"Balance Top-up",cardsReports:"Reports"},orders:{title:"Orders & Top-ups",subtitle:"Manage customer orders and balance top-up requests",orders:"Orders",topups:"Top-up Requests",totalOrders:"Total Orders",pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",noOrders:"No orders found",noMatchingOrders:"No matching orders found",searchPlaceholder:"Search by order number or customer name...",allStatuses:"All Statuses",export:"Export",import:"Import",orderNumber:"Order Number",customer:"Customer",products:"Products",amount:"Amount",status:"Status",paymentStatus:"Payment Status",date:"Date",actions:"Actions",viewDetails:"View Details",print:"Print",previous:"Previous",next:"Next",paymentPending:"Payment Pending",paid:"Paid",failed:"Failed",refunded:"Refunded",topupRequests:"Top-up Requests",pendingTopups:"Pending Top-ups",user:"User",bank:"Bank",receiptImage:"Receipt Image",requestDate:"Request Date",view:"View",noTopups:"No top-up requests",noPendingTopups:"No pending top-up requests",accountNumber:"Account Number",noImage:"No image",approve:"Approve",reject:"Reject",approveConfirm:"Are you sure you want to approve this top-up?",rejectConfirm:"Are you sure you want to reject this top-up?",rejectReason:"Rejection Reason",enterRejectReason:"Enter rejection reason",confirm:"Confirm",cancel:"Cancel",success:"Success",error:"Error",updateStatusSuccess:"Order status updated successfully",updateStatusError:"Failed to update order status",loadOrdersError:"Failed to load orders",loadTopupsError:"Failed to load top-up requests",approveSuccess:"Approved successfully",approveError:"Failed to approve",rejectSuccess:"Rejected successfully",rejectError:"Failed to reject",rejectOrder:"Reject Order",enterRejectReasonOrder:"Please enter the reason for rejecting this order",orderApproved:"Order status changed to approved",orderRejected:"Order status changed to rejected",rejectionReason:"Rejection Reason",rejectionReasonDescription:"The reason why this request was rejected",noReasonProvided:"No reason provided",preview:"Preview",topupDetails:"Top-up Request Details",requestAmount:"Requested Amount",bankName:"Bank Name",viewFullImage:"View Full Image",customerName:"Customer Name",email:"Email",phone:"Phone",shippingAddress:"Shipping Address",address:"Address",city:"City",state:"State/Region",postalCode:"Postal Code",country:"Country",noShippingInfo:"No shipping information available",paymentDetails:"Payment Details",paymentMethod:"Payment Method",productName:"Product Name",items:"items",shipping:"Shipping",printInvoice:"Print Invoice",invoice:{vatNumber:"VAT Number",simplifiedTaxInvoice:"Simplified Tax Invoice",invoiceInfo:"Invoice Information",orderNumber:"Order Number",date:"Date",paymentStatus:"Payment Status",paid:"Paid",unpaid:"Unpaid",customerInfo:"Customer Information",name:"Name",phone:"Phone",address:"Address",product:"Product",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",subtotal:"Subtotal",vat:"VAT",shipping:"Shipping",discount:"Discount",grandTotal:"Grand Total",thankYou:"Thank you for shopping with {{storeName}}",footer:"This invoice was generated electronically and does not require a signature"}},reports:{title:"Reports",export:"Export",pdf:"PDF",excel:"Excel",search:"Search...",startDate:"Start Date",endDate:"End Date",selectBrand:"Select Brand",allBrands:"All Brands",totalPrice:"Total Price",totalTax:"Total Tax",totalAfterTax:"Total After Tax",products:"Products",orders:"Orders",orderDetails:"Order Details",productReport:"Product Report",productName:"Product Name",sku:"SKU",stock:"Stock",salesCount:"Sales Count",revenue:"Revenue",noData:"No data available",orderReport:"Order Report",email:"Email",subtotal:"Subtotal",tax:"Tax",total:"Total",orderDate:"Order Date",orderNo:"Order No",payment:"Payment",quantity:"Quantity",itemTotal:"Item Total",loading:"Loading..."},design:{title:"Themes Store",subtitle:"Choose a theme for your store",generateAI:"Generate AI Theme",noThemes:"No Themes Found",seedHint:"Run the seed script to add default themes:",active:"Active",activate:"Activate",preview:"Preview",aiDialogTitle:"Generate AI Theme",aiDialogDesc:"Describe your ideal theme and AI will create a custom design for your store.",themeDesc:"Theme Description",themeDescPlaceholder:"Example: Modern e-commerce theme with dark mode, vibrant purple and blue gradients, clean typography, and smooth animations...",generating:"Generating...",generateTheme:"Generate Theme",themeGenerated:"Theme Generated!",themeGeneratedDesc:"AI has created a custom theme for your store.",activateSuccess:"Theme Activated",activateSuccessDesc:"The theme has been applied to your store.",error:"Error",loadError:"Failed to load themes",activateError:"Failed to activate theme",generateError:"Failed to generate theme",enterPrompt:"Please enter a theme description"},templates:{title:"Website Templates",subtitle:"Choose from our professionally designed templates to get started quickly",createNew:"Create New Page",searchPlaceholder:"Search templates...",allTemplates:"All Templates",loading:"Loading templates...",noTemplates:"No templates found",adjustSearch:"Try adjusting your search or filters",noTemplatesAvailable:"No templates available yet",createCustom:"Create Custom Page",useTemplate:"Use This Template",official:"Official",professionalDesc:"Professional template ready to use",loadError:"Failed to load templates",categories:{fashion:"Fashion",electronics:"Electronics",food:"Food & Beverage",beauty:"Beauty",home:"Home & Furniture",digital:"Digital Products",services:"Services",restaurant:"Restaurant & Cafe",cards:"Digital Cards",landing:"Landing Pages",store:"Stores",blank:"Blank"}},products:{title:"Products",subtitle:"Manage store products and inventory",addProduct:"Add Product",hierarchical:{title:"Products & Collections",description:"Browse and manage products by category hierarchy",loadError:"Failed to load hierarchical data"},editProduct:"Edit Product",addNewProduct:"Add New Product",enterProductDetails:"Enter product details",viewInStore:"View in Store",cancel:"Cancel",update:"Update",add:"Add",delete:"Delete",viewProduct:"View Product",totalProducts:"Total Products",activeProducts:"Active Products",lowStock:"Low Stock",outOfStock:"Out of Stock",allProducts:"All Products",nearDepletion:"Near Depletion",quantityDepleted:"Quantity Depleted",depleted:"Depleted",available:"Available",lowStockTab:"Low Stock",outOfStockTab:"Out of Stock",searchPlaceholder:"Search by name or SKU...",allStatuses:"All Statuses",active:"Active",draft:"Draft",archived:"Archived",category:"Category",allCategories:"All Categories",export:"Export",import:"Import",importingProducts:"Importing Products",importingProductsDesc:"Please wait while we process and upload products...",importStopped:"Import Stopped",importStoppedDesc:"Import process has been stopped successfully",loadDataError:"Failed to load data",loadDataErrorDesc:"An error occurred while loading products. Please refresh the page.",exportSuccess:"Exported successfully",noProducts:"No products",noProductsDesc:"No products found matching your search",startAddingFirst:"Start by adding your first product",product:"Product",price:"Price",stock:"Stock",status:"Status",actions:"Actions",view:"View",edit:"Edit",bulkDelete:"Delete Selected",saveProduct:"Save Product",nameEn:"Name (English)",nameAr:"Name (Arabic)",descriptionEn:"Description (English)",descriptionAr:"Description (Arabic)",compareAtPrice:"Compare at Price",cost:"Cost",barcode:"Barcode",lowStockThreshold:"Low Stock Threshold",featured:"Featured Product",images:"Product Images",uploadImages:"Upload Images",selectFromCloudinary:"Select from Cloudinary",seoTitle:"SEO Title",messages:{requiredField:"Required Field",nameRequired:"Product name is required",priceRequired:"Product price is required",priceError:"Price Error",priceInvalid:"Price must be a number greater than or equal to zero",priceTooLow:"Price must be at least {{minPrice}} SAR ({{quantity}} {{unit}}  {{cost}} SAR)",categoriesWarning:"Warning",categoriesWarningDesc:"Product saved but categories were not attached. Please check categories.",saveError:"Failed to save product",saveErrorDesc:"An error occurred while saving the product. Please try again.",deleted:"Deleted",notFound:"Product not found (may have been deleted already)",deleteError:"Failed to delete product",deleteErrorDesc:"An error occurred while deleting the product. Please try again.",noSelection:"No products selected",noSelectionDesc:"Please select products to delete",confirmDelete:"Are you sure you want to delete {{count}} product(s)?",deletePartial:"Deleted {{deleted}} of {{total}} products. Failed attempts: {{failed}}",deleteSuccess:"Successfully deleted {{count}} product(s)",selectAllSuccess:"Selected {{count}} products",selectAllError:"Failed to select all products",exportError:"Failed to export products",exportErrorDesc:"Failed to export products. Please try again.",settingsError:"Settings Error",settingsErrorDesc:"You must set up a store before importing products. Please go to Store Settings.",readingFile:"Reading Excel file...",analyzingData:"Analyzing data...",processingData:"Processing data...",noDataError:"No data found in Excel file. Please check the file.",validatingRows:"Scanning and validating {{count}} rows...",validatingRow:"Scanning row {{current}}/{{total}}...",row:"Row",nameRequiredImport:"Name, product_id, or sku is required",priceRequiredImport:"Price is required",priceInvalidImport:"Invalid price format",categoryNotFound:'Category "{{category}}" not found',brandNotFound:'Brand "{{brand}}" not found',uploadingValid:"Uploading {{count}} valid products...",unknownError:"Unknown error occurred",storeSetupRequired:"Store setup required first.",categoryOrBrandNotFound:"Category or Brand not found.",productExists:"Product already exists (duplicate SKU or name)",importCompleteWithErrors:"Import complete! Successfully imported {{success}} products, rejected {{errors}} products out of {{total}}",importComplete:"Import complete! Successfully imported {{success}} products out of {{total}}",importSuccess:"Import Successful",importFailed:"Import Failed",importSuccessDescWithErrors:"Successfully imported {{success}} products, rejected {{errors}} products",importSuccessDesc:"Successfully imported {{success}} products",importErrorTitle:"Failed to import products",importErrorDesc:"Error reading import file. Please check file format.",productsAndCollections:"Products & Collections",importBtn:"Import",selectAll:"Select All",deleting:"Deleting...",deleteSelected:"Delete {{count}}",path:"Path",defaultProductName:"Product"},form:{categories:"Categories",selectCategories:"Select Categories...",noCategorySelected:"No category selected",path:"Product Path",pathPlaceholder:"e.g. product-name",pathDesc:"Product URL path (used in product links)",tags:"Tags",tagsPlaceholder:"Enter tags separated by comma (e.g. electronics, phones)",tagsDesc:"Tags help improve search results within the store",productId:"Product ID",productCode:"Product Code",odooId:"Odoo ID",optional:"Optional",pricing:"Pricing",price:"Price (SAR)",compareAtPrice:"Compare at Price",cost:"Cost (for accounting)",costAutoFilled:"(Auto-filled from best supplier price)",costDisabledDesc:"Cost cannot be edited when suppliers are present. Best price will be used automatically.",inventory:"Inventory",sku:"SKU",barcode:"Barcode",quantity:"Quantity",lowStockThreshold:"Low Stock Threshold",unit:"Unit of Measure",selectUnit:"Select Unit...",suppliers:"Suppliers",suppliersAutoSelect:"Best price will be selected automatically",addSupplier:"Add Supplier...",supplierPrice:"Supplier Price (SAR)",discountRate:"Discount Rate (%)",setAsPrimary:"Set as Primary",noSuppliers:"No suppliers added. You can add multiple suppliers with their prices.",weight:"Weight (kg)",dimensions:"Dimensions (cm)",dimensionsPlaceholder:"Length x Width x Height",quantitySlider:"Quantity Slider",quantitySliderDesc:"Enable quantity selection via slider interface",minQuantity:"Minimum Quantity",maxQuantity:"Maximum Quantity",seo:"SEO",metaTitle:"Meta Title",metaTitlePlaceholder:"Title shown in search results",metaDescription:"Meta Description",metaDescriptionPlaceholder:"Brief description shown below title in search results",publishSettings:"Publish Settings",productStatus:"Product Status",productStatusDesc:"Determine if the product is visible to customers",featuredProduct:"Featured Product",featuredProductDesc:"Show product in featured products section on homepage",cancel:"Cancel",save:"Save Product",updateProduct:"Update Product",addProduct:"Add Product",saving:"Saving...",next:"Next",previous:"Previous",basicInfo:"Basic Info",media:"Images & Media",pricingInventory:"Pricing & Inventory",advanced:"Advanced Options",seoSettings:"SEO & Settings",dragDropImages:"Drag & drop images here",orClickToUpload:"or click to upload",maxSize:"Max size 5MB per image",browseCloudinary:"Browse Image Library",mainImage:"Main",remove:"Remove",name:"Product Name",nameAr:"Product Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)"},statusBadges:{active:"Active",draft:"Draft",archived:"Archived",low:"Low",available:"Available"},seoDescription:"SEO Description",weight:"Weight",dimensions:"Dimensions",unit:"Unit",brand:"Brand",suppliers:"Suppliers",tags:"Tags",tagsHint:"Separate tags with commas",basicInfo:"Basic Information",pricingAndInventory:"Pricing & Inventory",organization:"Organization",media:"Media",seo:"SEO",advanced:"Advanced"},header:{newOrder:"New Order",newOrderMessage:"New order #{{orderNumber}} of value {{amount}}",lowStockAlert:"Low Stock Alert",lowStockMessage:"Product {{productName}} is running low",now:"Now",notifications:"Notifications",clearAll:"Clear All",noNotifications:"No notifications",allNotificationsCleared:"All notifications marked as read",notificationsCleared:"Notifications cleared",profile:"Profile",settings:"Settings",helpAndSupport:"Help & Support",logout:"Logout",searchPlaceholder:"Search...",filter:"Filter",filterDescription:"Filter data on current page",status:"Status",all:"All",active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",fromDate:"From Date",toDate:"To Date",customDate:"Custom Date",download:"Download",exportingReports:"Exporting reports...",exportingOrders:"Exporting orders...",exportingProducts:"Exporting products...",exportingCustomers:"Exporting customers...",navigateToReports:"Go to reports page to export data",exportError:"Failed to export data",filterApplied:"Filter applied successfully"},notifications:{newOrders:"New Orders",pendingOrdersMessage:"You have {{count}} new order(s) pending",justNow:"Just now",minutesAgo:"{{count}} minute(s) ago",hoursAgo:"{{count}} hour(s) ago"},setupPrompt:{title:"Create Your Online Store",description:"You can create pages and content now, then complete store setup later to get your own domain",button:"Setup Store"},marketing:{title:"Marketing Dashboard",subtitle:"Manage marketing campaigns and analyze performance",partnerTitle:"Smart Line - Our Marketing Partner",partnerDesc:"Integrated marketing solutions and professional social media management",stats:{totalFollowers:"Total Followers",engagementRate:"Engagement Rate",postsThisMonth:"Posts This Month",totalReach:"Total Reach"},socialAccounts:{title:"Your Social Media Accounts",subtitle:"Overview of your account performance",followers:"Followers"},packages:{title:"Smart Line Packages",subtitle:"Choose the right package for your marketing needs",mostPopular:"Most Popular",monthly:"Monthly",select:"Select Package",selected:"Selected",basic:{name:"Basic Package",nameEn:"",features:["Manage 2 social media accounts","10 posts per month","Professional content design","Monthly performance report","Email support"]},professional:{name:"Professional Package",nameEn:"",features:["Manage 4 social media accounts","20 posts per month","Professional content design + short videos","Paid ads management","Weekly performance report","24/7 technical support","Marketing consultations"]},enterprise:{name:"Enterprise Package",nameEn:"",features:["Unlimited account management","40 posts per month","Multimedia content (images, video, infographic)","Full paid ads management","Detailed daily reports","Dedicated account manager","Comprehensive marketing strategy","Advanced AI analytics"]}},customPackage:{title:"Need a custom package?",desc:"Contact Smart Line team for a custom offer that fits your needs",contact:"Contact Us"}},smartLineMarket:{title:"Smart Line Market",subtitle:"Smart Marketing Services Marketplace",badge:"Smart Marketing Services Market",description:"Elevate your store to the next level with professional marketing services. Choose from a wide range of services designed specifically for your business growth.",browseServices:"Browse Services",contactExpert:"Contact an Expert",searchPlaceholder:"Search for a service...",categories:{all:"All",social:"Social Media",seo:"SEO",content:"Content",ads:"Ads",dev:"Development"},service:{pricePerMonth:"SAR / Month",subscribeNow:"Subscribe Now",rating:"Rating",reviews:"Reviews"},emptyState:{title:"No matching services",desc:"Try searching with different keywords or browse other categories",showAll:"Show all services"},trust:{speed:{title:"Speed in Execution",desc:"We are committed to delivering our services on time and with the highest quality"},results:{title:"Guaranteed Results",desc:"We guarantee a noticeable improvement in your store performance and sales"},support:{title:"Continuous Support",desc:"Our team is always available to answer your questions and help you"}},services:{socialMedia:{title:"Social Media Management",description:"Comprehensive management of your social media accounts to increase engagement and reach.",features:["3 Platforms","12 Posts per month","Graphic design","Comment moderation"]},seo:{title:"SEO Optimization",description:"Improve your website visibility in top search results and increase organic traffic.",features:["Keyword analysis","Content optimization","Link building","Monthly reports"]},content:{title:"Creative Content Creation",description:"Writing attractive marketing content and designing professional images and videos.",features:["Article writing","Image design","Video script","Email newsletter"]},ads:{title:"Paid Ads Management",description:"Manage advertising campaigns on Google, Facebook, and Instagram to achieve the highest return.",features:["Google Ads","Facebook Ads","ROI analysis","Precise targeting"]},video:{title:"Video Production",description:"Produce promotional videos and motion graphics to enhance your brand identity.",features:["Intro video","Motion graphics","Product photography","Professional editing"]},dev:{title:"Store Development",description:"Programming services to improve your store speed and performance and add custom features.",features:["Speed optimization","Theme customization","Payment gateway integration","Monthly maintenance"]}}},suppliers:{title:"Suppliers & Purchasing Management",subtitle:"Manage suppliers and automated purchasing from suppliers",tabs:{manage:"Manage Suppliers",purchase:"Buy from Suppliers",history:"Purchase History",statistics:"Supplier Statistics",emailTemplate:"Issue Email Template"},addSupplier:"Add Supplier",listTitle:"Suppliers List",listDesc:"All suppliers registered in the system",table:{name:"Name",email:"Email",phone:"Phone",discount:"Discount Rate",api:"API",status:"Status",actions:"Actions"},status:{active:"Active",inactive:"Inactive",enabled:"Enabled",configured:"Configured"},purchase:{title:"Buy from Suppliers",desc:"Select a product to buy from suppliers. The best supplier will be automatically selected based on price",selectProduct:"Select Product",checkPrice:"Check Price",bestPrice:"Best available price:",noSupplier:"No supplier found for this product",buyNow:"Buy Now",price:"Price:",available:"Available",unavailable:"Unavailable",cost:"Cost:",sellingPrice:"Selling Price:",profit:"Profit:",buy:"Buy",badPrice:"Bad Price",buyBestAuto:"Buy from best supplier automatically",noPrices:"No prices available from suppliers for this product",pricesFromSuppliers:"Prices from Suppliers"},history:{title:"Purchase History",desc:"View all purchases from suppliers",noPurchases:"No purchases recorded yet",table:{product:"Product",supplier:"Supplier",quantity:"Quantity",price:"Price",total:"Total",status:"Status",date:"Date"}},statistics:{title:"Supplier Statistics",desc:"View purchase, inventory, and alert statistics for each supplier",loading:"Loading statistics...",noStats:"No statistics available yet",summary:{totalPurchases:"Total Purchases",totalAmount:"Total Amount",totalQuantity:"Total Quantity",averagePrice:"Average Price"},products:{title:"Products Purchased",quantity:"Quantity:",avgPrice:"Avg Price:",lastPurchase:"Last Purchase:",totalAmount:"Total Amount"},alerts:{title:"Inventory Alerts",critical:"Critical",warning:"Warning",low:"Low",current:"Current Quantity:",threshold:"Threshold:",needsRecharge:"Needs recharge or purchase from supplier",allNormal:"No alerts - all products at normal levels"}},dialogs:{editSupplier:"Edit Supplier",addSupplier:"Add New Supplier",desc:"Fill in the following information to add a new supplier",name:"Supplier Name *",nameAr:"Supplier Name (Arabic)",email:"Email",phone:"Phone",contactPerson:"Contact Person",address:"Address",discount:"Discount Rate (%) *",responseDays:"Problem Response Days *",responseDaysHint:"Number of days the supplier takes to respond to problems (email will be sent after {{days}} days)",status:"Supplier Status",statusDesc:"Enable or disable the supplier",notes:"Notes",api:{title:"Supplier API Settings",desc:"Configure supplier API for automated purchasing and price comparison",endpoint:"Supplier API Endpoint",endpointHint:"Base URL for the supplier API (e.g., https://api.supplier.com/v1)",key:"API Key",keyHint:"Authentication key to access the supplier API",autoPurchase:"Enable Auto Purchase",autoPurchaseDesc:"Allow the system to automatically purchase from this supplier when the best price is available",interval:"Price Check Interval (minutes)",intervalHint:"How often to check prices from this supplier (default: 60 minutes)"},purchase:{title:"Confirm Purchase",quantity:"Quantity",confirm:"Confirm Purchase",loading:"Purchasing..."},emailTemplates:{title:"Email Template Settings",subtitle:"Customize email templates sent to customers in various situations",saveCurrent:"Save Current Template",selectType:"Select Template Type",selectTypeDesc:"Choose the template type you want to edit from the list below",active:"Active",editorTitle:"Edit Template: {{name}}",availableVariables:"Available Variables",availableVariablesDesc:"You can use these variables in the template. They will be replaced with actual values when sending.",subject:"Subject",body:"Body",preview:"Preview",edit:"Edit",settings:"Template Settings",enableTemplate:"Enable Template",enableTemplateDesc:"When enabled, this template will be used to send emails to customers",types:{customerProblem:"Customer Problem",orderIssue:"Order Issue",deliveryProblem:"Delivery Problem",paymentIssue:"Payment Issue",refundRequest:"Refund Request",productQuality:"Product Quality",custom:"Custom Template"},variables:{storeName:"Store Name",storeLogo:"Store Logo",storeDetails:"Store Details",customerName:"Customer Name",supplierResponseDays:"Supplier Response Days",problemDetails:"Problem Details",orderNumber:"Order Number",orderDate:"Order Date",productName:"Product Name",refundAmount:"Refund Amount",currentYear:"Current Year"},toasts:{loadError:"Failed to load templates",saveSuccess:"Email template saved successfully",saveError:"Failed to save template"}},deleteConfirm:"Are you sure you want to delete this supplier?"},toasts:{loadError:"Failed to load suppliers",loadErrorDesc:"An error occurred while loading suppliers. Please refresh the page.",updateSuccess:"Supplier updated successfully",addSuccess:"Supplier added successfully",saveError:"Failed to save supplier",saveErrorDesc:"An error occurred while saving supplier. Please try again.",deactivateSuccess:"Supplier deactivated (used in products)",deleteSuccess:"Supplier deleted successfully",deleteError:"Failed to delete supplier",deleteErrorDesc:"An error occurred while deleting supplier. Please try again.",noPrices:"No prices found",noPricesDesc:"No suppliers linked to this product or API not configured",fetchPricesError:"Failed to fetch prices",fetchPricesErrorDesc:"An error occurred while fetching prices from suppliers",bestSupplierFound:"Best supplier found",noSuitableSupplier:"No suitable supplier",noSuitableSupplierDesc:"No supplier meets the price criteria",findBestError:"Failed to find best supplier",findBestErrorDesc:"An error occurred while searching for the best supplier",purchaseSuccess:"Purchase successful",purchaseSuccessDesc:"Successfully purchased from supplier. Quantity: {{quantity}}",purchaseError:"Purchase failed",purchaseErrorDesc:"An error occurred while purchasing from supplier",autoPurchaseSuccess:"Auto-purchase successful",autoPurchaseSuccessDesc:"Successfully purchased from best supplier. Quantity: {{quantity}}",autoPurchaseError:"Auto-purchase failed",autoPurchaseErrorDesc:"An error occurred during auto-purchase"}},customers:{title:"Customers",subtitle:"Manage customers and loyalty programs",addCustomer:"Add Customer",loyaltyPrograms:"Loyalty Programs",tabs:{customers:"Customers",loyalty:"Loyalty Programs"},totalCustomers:"Total Customers",goldCustomers:"Gold Customers",averageSpending:"Average Spending",totalPoints:"Total Points",searchPlaceholder:"Search by name or email...",filterTier:"Filter by Tier",allTiers:"All Tiers",gold:"Gold",silver:"Silver",bronze:"Bronze",export:"Export",import:"Import",customer:"Customer",contactInfo:"Contact Info",orders:"Orders",totalSpent:"Total Spent",loyaltyPoints:"Loyalty Points",tier:"Tier",lastOrder:"Last Order",memberSince:"Member since",noResults:"No results found",noResultsDesc:"No customers found matching your search",loyaltyDesc:"Manage loyalty programs and rewards for customers",createProgram:"Create New Program",noPrograms:"No loyalty programs",noProgramsDesc:"Start by creating a loyalty program for your customers",members:"Members",minPoints:"Minimum Points",benefits:"Benefits",editProgram:"Edit Program",createProgramTitle:"Create New Loyalty Program",editProgramTitle:"Edit Loyalty Program",programName:"Program Name",description:"Description",benefitsPlaceholder:"Example: 10% discount, free shipping, triple points",benefitsHint:"Write benefits separated by commas (,)",addNewCustomer:"Add New Customer",addCustomerDesc:"Enter new customer information. An email invitation will be sent.",name:"Name",email:"Email",phone:"Phone Number (Optional)",loadCustomersError:"Failed to load customers data",addCustomerSuccess:"Customer added successfully",addCustomerError:"Failed to add customer",saveProgramSuccess:"Program saved successfully",saveProgramError:"Failed to save program",exportHeaders:{id:"ID",name:"Name",email:"Email",phone:"Phone",totalOrders:"Total Orders",totalSpent:"Total Spent",loyaltyPoints:"Loyalty Points",loyaltyTier:"Loyalty Tier",createdAt:"Created At",lastOrderDate:"Last Order Date"},importProcessed:"Import processed",importProcessedDesc:"Read {{count}} records. Bulk import implementation required in backend."}},storefront:{products:{categories:"Categories",priceRange:"Price Range",from:"From",to:"To",clearFilters:"Clear Filters",home:"Home",title:"All Products",subtitle:"Discover our wide range of premium products",searchPlaceholder:"Search for products...",sortBy:"Sort By",newest:"Newest",priceAsc:"Price: Low to High",priceDesc:"Price: High to Low",nameAsc:"Name: A-Z",nameDesc:"Name: Z-A",filter:"Filter",filters:"Filters",filterDesc:"Select filters to narrow down your search",loading:"Loading products...",availableProducts:"products available",search:"Search",selectedCategories:"categories selected",noProducts:"No products found",noProductsDesc:"We couldn't find any products matching your search. Try different keywords or clear filters.",noProductsEmpty:"No products are currently available. Check back soon!"},cloudinary:{title:"Select Images from Cloudinary",desc:"Choose images from Cloudinary folders. You can select {{selectionText}}.",multiple:"multiple images",single:"one image",folders:"Folders",search:"Search for image...",selectedCount:"{{count}} images selected",selectedCountSingle:"one image selected",noImages:"No images in this folder",loadMore:"Load More",loading:"Loading...",cancel:"Cancel",save:"Save",toasts:{loadFoldersError:"Failed to load folders",loadImagesError:"Failed to load images",noSelection:"No images selected",noSelectionDesc:"Please select at least one image",selectError:"Error selecting images"}}},builder:{addSections:"Add Sections",templateApplied:"Template Applied",templateAppliedDesc:"Template {{name}} has been applied successfully.",templateError:"Template Error",domainMissing:"Domain Missing",editMode:"Edit Mode",preview:"Preview",livePreview:"Live Site",searchSections:"Search sections...",backgroundColor:"Background",lightMode:"Light Mode",darkMode:"Dark Mode",noSections:"No sections added yet. Start by adding sections from the sidebar or choose a template.",browseTemplates:"Browse Templates",chooseTemplate:"Choose Template",magicDesign:"Magic Design",aiDesignTitle:"AI Magic Design",aiDesignDesc:"Describe the section you want to create, and our AI will design it for you.",aiPromptLabel:"What should this section contain?",aiPromptPlaceholder:'e.g., A hero section for a luxury watch store with a dark theme and a "Shop Now" button.',generateDesign:"Generate Design",aiDesignSuccess:"Design Generated",aiDesignSuccessDesc:"AI has created a new section for you.",aiDesignError:"Failed to generate design. Please try again.",codeEditor:"Code Editor",backToPages:"Back to Pages",editPage:"Edit Page",newPage:"New Page",usingTemplate:'Using "{{name}}" template',pageTitle:"Page Title",urlSlug:"URL Slug",pageHistory:"Page History",restoreVersion:"Restore a previous version of this page.",noHistory:"No history available",version:"Version",restore:"Restore",codeEditorTitle:"Code Editor",codeEditorDesc:"Edit the page structure directly in JSON format. Be careful - invalid JSON will not be applied.",loadingEditor:"Loading Editor...",applyChanges:"Apply Changes",defaults:{header:{companyName:"My Store",home:"Home",products:"Products",about:"About"},hero:{title:"Welcome to Our Store",subtitle:"Discover amazing products",buttonText:"Shop Now"},features:{title:"Features",fastShipping:"Fast Shipping",fastShippingDesc:"Get your orders quickly",securePayment:"Secure Payment",securePaymentDesc:"Your data is safe",giftCards:"Gift Cards",giftCardsDesc:"Perfect for any occasion"},products:{title:"Featured Products"},gallery:{title:"Our Gallery"},slider:{title:"Image Showcase",description:"Browse through our collection"},contentSlider:{title:"Featured Content",item1:"Quality Products",item1Desc:"Top-notch quality guaranteed",item2:"Fast Delivery",item2Desc:"Quick shipping worldwide",item3:"Premium Support",item3Desc:"24/7 customer service",item4:"Special Offers",item4Desc:"Exclusive deals daily",item5:"Secure Payment",item5Desc:"Safe transactions"},cta:{title:"Ready to get started?",description:"Join thousands of happy customers",buttonText:"Get Started"},testimonials:{title:"What Our Customers Say",customer1:"Ahmed Ali",role1:"Customer",text1:"Excellent service and quality products!",customer2:"Sara Mohamed",role2:"Customer",text2:"Fast delivery and great support!"},pricing:{title:"Choose Your Plan",subtitle:"Simple, transparent pricing",basic:"Basic",pro:"Pro",month:"month",feature1:"10 Products",feature2:"Basic Support",feature3:"1 GB Storage",feature4:"Unlimited Products",feature5:"Priority Support",feature6:"10 GB Storage"},team:{title:"Meet Our Team",subtitle:"The people behind our success",member1:"John Doe",role1:"CEO & Founder",bio1:"Leading the company vision"},stats:{title:"Our Achievements",customers:"Happy Customers",products:"Products",countries:"Countries",satisfaction:"Satisfaction"},faq:{title:"Frequently Asked Questions",subtitle:"Find answers to common questions",q1:"How do I place an order?",a1:"Simply browse our products and add items to your cart.",q2:"What payment methods do you accept?",a2:"We accept all major credit cards and online payment methods."},newsletter:{title:"Subscribe to Our Newsletter",subtitle:"Get the latest updates and offers",placeholder:"Enter your email",button:"Subscribe"},video:{title:"Watch Our Story"},countdown:{title:"Limited Time Offer",subtitle:"Hurry up! Offer ends soon"},brands:{title:"Trusted By Leading Brands"},contact:{title:"Get In Touch",subtitle:"We'd love to hear from you",address:"Riyadh, Saudi Arabia"},footer:{companyName:"Your Company",about:"About",contact:"Contact",privacy:"Privacy"},categoriesHierarchy:{title:"Categories & Products",subtitle:"Browse categories, subcategories, and products"}}},cart:{title:"Shopping Cart",emptyTitle:"Your cart is empty",emptyDesc:"Start shopping now and discover our amazing products",browseProducts:"Browse Products",continueShopping:"Continue Shopping",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",total:"Total",checkout:"Checkout",couponCode:"Coupon Code",couponApplied:"Coupon code applied successfully",enterCode:"Enter code",itemsCount:"{{count}} items in your cart",freeShippingHint:"Add {{amount}} {{currency}} more for free shipping"},checkout:{title:"Checkout",orderSummary:"Order Summary",shippingInfo:"Shipping Information",customerInfo:"Customer Information",shippingMethod:"Shipping Method",paymentMethod:"Payment Method",placeOrder:"Place Order",walletBalance:"Wallet Balance",availableBalance:"Available balance for payment",sufficientBalance:"Sufficient balance",insufficientBalance:"Insufficient balance",insufficientWalletDesc:"Sorry, your wallet balance is insufficient for this order. Please recharge or choose another payment method.",rechargeNow:"Recharge Now",loadingPaymentMethods:"Loading payment methods...",noPaymentMethods:"No payment methods available",noPaymentMethodsDesc:"Please recharge your balance or contact support",securePayment:"Secure and encrypted payment",fastShipping:"Fast and reliable shipping",bestPrices:"Best prices guaranteed",fullName:"Full Name",phoneNumber:"Phone Number",email:"Email"},order:{notFound:"Order not found",successTitle:"Your order has been received!",successDesc:"Thank you for your order. We will send you a confirmation email soon.",details:"Order Details",number:"Order Number",status:{processing:"Processing"},print:"Print Order",confirmationSent:"A confirmation email has been sent to {{email}}",trackHint:"You can track your order using the order number and email"},payment:{wallet:{name:"Wallet Balance",desc:"Use your wallet balance for payment"},hyperpay:{name:"Credit Card (HyperPay)",desc:"Visa, Mastercard, Mada"},stripe:{name:"Credit Card (Stripe)",desc:"Visa, Mastercard"},paypal:{name:"PayPal",desc:"Pay via PayPal"},cod:{name:"Cash on Delivery",desc:"Pay cash upon delivery"},bank:{name:"Bank Transfer",desc:"Pay via direct bank transfer"}},sections:{customerOrders:{label:"My Orders",desc:"View and track all your orders",title:"My Orders",subtitle:"View all your orders with the status of each order",searchPlaceholder:"Search by order number or status...",allStatuses:"All Statuses",orderNumber:"Order #",date:"Date",status:"Status",total:"Total",actions:"Actions",view:"View",noOrders:"No orders found",orderDetails:"Order Details",trackOrder:"Track Order",viewDetails:"View Details",loadError:"Failed to load orders",loadErrorDesc:"An error occurred while loading orders. Please try again.",orderStatus:{pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",refunded:"Refunded"},continueShopping:"Continue Shopping"},supportTickets:{label:"Support Tickets",desc:"Manage support tickets",title:"Support",addTicket:"Add Ticket +",ticketNumber:"Ticket #",dateAdded:"Date Added",ticketTitle:"Title",orderNumber:"Order #",status:"Status",description:"Description",noTickets:"No tickets found",form:{title:"Ticket Title",titlePlaceholder:"Issue title",description:"Description",descriptionPlaceholder:"Describe your issue...",orderNumber:"Order Number (Optional)",orderNumberPlaceholder:"Enter related order number",priority:"Priority"},createButton:"Create Ticket",creating:"Creating..."},favoritesPage:{label:"Favorites Page",desc:"Favorite cards with cart",title:"Favorite Cards",searchPlaceholder:"Search for a card...",selectCard:"Select Card",wholesalePrice:"Wholesale Price",retailPrice:"Retail Price",productDetails:"Product Details",noFavorites:"No favorite cards",cartTitle:"Shopping Cart",total:"Total",checkout:"Checkout",cartEmpty:"Cart is empty"},balanceOperations:{label:"Balance Operations",desc:"List of balance recharge operations",title:"Balance Operations",id:"ID",date:"Date",description:"Description",action:"Action",status:"Status",amount:"Amount",deposit:"Deposit",withdraw:"Withdraw",topupRequest:"Top-up Request",viewRejectionReason:"View rejection reason"},chargeWallet:{label:"Charge Wallet",desc:"Balance recharge form",title:"Charge Balance",paymentMethod:"Payment Method",methods:{cash:"Cash",visa:"Visa",bankTransfer:"Bank Transfer"},bank:"Bank",selectBank:"Select Bank",bankDetails:"Bank Account Details",accountName:"Account Name:",accountNumber:"Account Number:",iban:"IBAN:",transferrerAccount:"Transferrer Account",selectTransferrerAccount:"Select bank account",transferrerName:"Transferrer Name",transferrerNamePlaceholder:"Enter transferrer name",amount:"Amount",currency:"Currency",receipt:"Receipt Image",uploadReceipt:"Upload File",receiptHint:"Receipt image must be: jpeg, png, jpg, pdf",submit:"Submit",submitting:"Submitting...",successTitle:"Request Sent",successDesc:"Balance charge request sent successfully",noBankAccounts:"No bank accounts found. Please add a bank account first.",addBankAccount:"Add Bank Account",notAllowed:"Not Allowed",staffNotAllowed:"Staff are not allowed to recharge balance",staffNotAllowedDesc:"Staff members are not allowed to recharge balance. Please contact the store owner to add balance.",loadError:"Failed to load data",loadErrorDesc:"An error occurred while loading data. Please try again.",fileSizeError:"File size too large",fileSizeErrorDesc:"Maximum file size is 5MB",invalidAmount:"Invalid amount",invalidAmountDesc:"Please enter a valid amount greater than zero",bankRequired:"Bank required",bankRequiredDesc:"Please select a bank",submitSuccess:"Recharge request sent successfully",submitSuccessDesc:"Your request will be reviewed soon and balance will be added to your wallet",submitError:"Failed to send recharge request",currentBalance:"Current Balance",addNewBalance:"Add New Balance",choosePaymentMethod:"Choose payment method and enter amount",bankInfo:"Bank Account Information:",notesPlaceholder:"Any additional notes..."},employeesPage:{form:{permissions:"Permissions",groupHint:"Selecting a group will apply its default permissions",name:"Name",username:"Username",password:"Password",phone:"Phone",group:"Group",selectGroup:"Select Group (Optional)",namePlaceholder:"Employee Name",usernamePlaceholder:"Username",passwordPlaceholder:"Password",phonePlaceholder:"Phone Number",amount:"Amount",employee:"Employee"},table:{name:"Name",username:"Username",phone:"Phone",balance:"Balance",status:"Status",actions:"Actions"},permissions:{ordersCreate:"Create Orders",ordersRead:"View Orders",reportsRead:"View Reports",walletRead:"View Balance",playersWrite:"Manage Players",employeesManage:"Manage Employees",settingsWrite:"Edit Settings",invoicesRead:"View Invoices",mobileAccess:"Mobile App Access",mobileOrders:"Mobile Orders Management",mobileProducts:"Mobile Products Management",mobileCustomers:"Mobile Customers View",mobileAnalytics:"Mobile Analytics View",manageProducts:"Manage Products",manageOrders:"Manage Orders",manageCustomers:"Manage Customers",manageSettings:"Manage Settings",viewAnalytics:"View Reports"},messages:{loadError:"Failed to load employees",loadErrorDesc:"An error occurred while loading employee data. Please refresh the page.",createError:"Failed to add employee",deleteError:"Failed to delete employee",deleteErrorDesc:"An error occurred while deleting the employee. Please try again."},addBalance:"Add Balance",addBalanceDesc:"Add balance to employee balance from your balance",dialog:{add:"Add Employee",addEmployeeTitle:"Add New Employee",addEmployeeDesc:"Fill in the information below to add a new employee to your store",editEmployeeTitle:"Edit Employee",editEmployeeDesc:"Update employee information",addGroupTitle:"Add New Employee Group",addGroupDesc:"Create a new group and set default permissions for it"},passwordDialog:{title:"Employee Created Successfully",description:"The employee account has been created. Please copy the password below and share it with the employee.",email:"Email",temporaryPassword:"Temporary Password",copy:"Copy",copied:"Copied",warning:"Warning",warningText:"You will not be able to see this password again. Make sure to copy it now.",close:"Close",important:"Important",mustChangePassword:"The employee will be required to change the password on first login."},employeeCreated:"Employee created successfully",employeeUpdated:"Employee updated successfully",employeeError:"Failed to save employee. Please try again.",employeeDeleted:"Employee deleted successfully",deleteConfirm:"Are you sure you want to delete this employee?",addEmployee:"Add New Employee",formValidation:{emailRequired:"Email is required"}},wallet:{title:"Balance & Payments",subtitle:"Manage your balance, transactions, and subscription",exportReport:"Export Report",availableBalance:"Available Balance",pendingBalance:"Pending Balance",totalRevenue:"Total Revenue",platformFees:"Platform Fees",readyToWithdraw:"Ready for withdrawal",processing:"Processing",beforeFees:"Before fees deduction",serviceFees:"Service fees",transactionLog:"Transaction Log",recentTransactions:"Recent financial transactions in your store",orderNumber:"Order Number",date:"Date",cardNumber:"Card Number",amount:"Amount",net:"Net",printCount:"Print Count",reprint:"Reprint",refund:"Refund",print:"Print",printing:"Printing...",refunded:"Refunded",refunding:"Refunding...",noTransactions:"No transactions yet",printSuccess:"Printed Successfully",printSuccessDesc:"Receipt for order {{orderNumber}} printed",printError:"Print Failed",printErrorDesc:"An error occurred while printing the receipt",refundSuccess:"Refunded Successfully",refundSuccessDesc:"Transaction {{orderNumber}} refunded successfully",refundError:"Refund Failed",refundErrorDesc:"An error occurred while refunding the transaction",refundConfirm:"Are you sure you want to refund this transaction? This action cannot be undone.",subscriptionDetails:"Subscription Details",currentPlanAndRenewal:"Your current plan and renewal date",currentPlan:"Current Plan",price:"Price",perMonth:"/ month",nextBillingDate:"Next Billing Date",daysRemaining:"Days Remaining",day:"day",days:"days",planFeatures:"Plan Features:",upgradePlan:"Upgrade Plan",renewSubscriptionRequired:"Subscription Renewal Required Soon",subscriptionExpiresSoon:"Your {{plan}} subscription expires in {{days}} days. Please renew to continue service.",renewNow:"Renew Now",invoices:"Invoices",transactions:"Transactions",totalIncome:"Total Income",totalExpense:"Total Expenses",pendingInvoices:"Pending Invoices",paidInvoices:"Paid Invoices",filterType:"Filter Type",filterStatus:"Filter Status",allTypes:"All Types",credit:"Deposit",debit:"Withdrawal",allStatuses:"All Statuses",completed:"Completed",pending:"Pending",failed:"Failed",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled",invoiceNumber:"Invoice #",dueDate:"Due Date",tax:"Tax",total:"Total",actions:"Actions",downloadInvoice:"Download Invoice",noInvoices:"No Invoices",noInvoicesDesc:"No invoices issued yet",downloading:"Downloading...",downloadSuccess:"Download Successful",downloadError:"Download Failed",lastUpdate:"Last Update",description:"Description",quantity:"Quantity",subtotal:"Subtotal",pageTitle:"Banks and Transactions",pageDesc:"Manage banks and view financial transaction history",totalBanks:"Total Banks",totalTransactions:"Total Transactions",tabs:{transactions:"Transactions",requests:"Top-up Requests",banks:"Banks"},banksTab:{title:"Banks",desc:"Manage banks that customers can transfer to",addBank:"Add Bank",editBank:"Edit Bank",addNewBank:"Add New Bank",editBankTitle:"Edit Bank",addBankTitle:"Add New Bank",dialogDesc:"Enter bank information that customers can transfer to",bankName:"Bank Name",bankNameAr:"Bank Name (Arabic)",bankCode:"Bank Code",bankCodeHint:"Bank code cannot be changed after creation",bankLogo:"Bank Logo",currentLogo:"Current logo",uploadLogo:"Click to upload logo",accountName:"Account Holder Name",accountNumber:"Account Number",iban:"IBAN",swiftCode:"SWIFT Code",sortOrder:"Sort Order",active:"Active (will be shown to customers)",deleteConfirm:"Are you sure you want to delete this bank?",deleteSuccess:"Bank deleted successfully",saveSuccess:"Bank added successfully",updateSuccess:"Bank updated successfully",fillRequired:"Please fill all required fields",saveError:"Failed to save bank",deleteError:"Failed to delete bank",copied:"Copied",saveChanges:"Save Changes",noBanks:"No banks yet",noBanksDesc:"Add your first bank so customers can transfer to it"},requestsTab:{noRequests:"No top-up requests",method:"Method",approveConfirm:"Are you sure you want to approve this top-up request of {{amount}} {{currency}}?",approveSuccess:"Top-up request approved successfully",approveError:"Failed to approve top-up request",rejectConfirm:"Please enter a rejection reason",rejectSuccess:"Top-up request rejected successfully",rejectError:"Failed to reject top-up request",viewDetails:"View Details",bankInfo:"Bank Information",senderInfo:"Sender Information",senderName:"Sender Name",referenceNumber:"Reference Number",notes:"Notes",receiptImage:"Receipt Image",receipt:"Receipt",rejectionReason:"Rejection Reason",detailsTitle:"Top-up Request Details",detailsDesc:"View top-up request details and approve or reject",reject:"Reject",processing:"Processing...",approve:"Approve",rejectTitle:"Reject Top-up Request",rejectDesc:"Please enter a reason for rejecting this top-up request",rejectPlaceholder:"Enter rejection reason..."},transactionTypes:{TOPUP:"Top Up",PURCHASE:"Purchase",REFUND:"Refund",BONUS:"Bonus",WITHDRAWAL:"Withdrawal",ADJUSTMENT:"Adjustment"},status:{PENDING:"Pending",APPROVED:"Approved",COMPLETED:"Completed",REJECTED:"Rejected",FAILED:"Failed"}}},masterDashboard:{overview:{title:"Platform Overview",subtitle:"Monitor your entire platform at a glance",loadError:"Failed to load platform overview",stats:{totalTenants:"Total Tenants",activeTenants:"active",totalRevenue:"Total Revenue",platformFees:"platform fees",transactions:"Transactions",allTime:"All time",totalUsers:"Total Users",acrossTenants:"Across all tenants",paymentGateways:"Payment Gateways",partners:"Partners",active:"Active"},tenantStatus:{title:"Tenant Status",active:"Active",suspended:"Suspended",inactive:"Inactive",total:"Total"},planDistribution:{title:"Plan Distribution"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity"}},paymentGateways:{title:"Payment Gateway Management",subtitle:"Configure and manage payment gateways",addGateway:"Add Gateway",searchPlaceholder:"Search gateways...",loadError:"Failed to load payment gateways",deleteConfirm:"Are you sure you want to delete this gateway?",deleteSuccess:"Gateway deleted",toggleSuccess:"Gateway status updated",createSuccess:"Payment gateway created successfully",updateSuccess:"Payment gateway updated successfully",missingName:"Missing name",missingNameDesc:"Please provide a gateway name.",missingEntityId:"Missing Entity ID",missingEntityIdDesc:"HyperPay requires Entity ID at minimum.",missingClientId:"Missing Client ID",missingClientIdDesc:"Neoleap requires Client ID.",noGateways:"No payment gateways found",edit:"Edit",enable:"Enable",disable:"Disable",modal:{addTitle:"Add New Gateway",editTitle:"Edit Gateway",gatewayName:"Gateway Name",provider:"Provider",credentials:"Credentials",secretKey:"Secret Key",publishableKey:"Publishable Key",clientId:"Client ID",clientSecret:"Client Secret",entityId:"Entity ID",accessToken:"Access Token",cancel:"Cancel",update:"Update Gateway",add:"Add Gateway"}},limits:{title:"Purchase Limits Settings",subtitle:"Set purchase limits for customers based on verification status and tier",howItWorks:"How Limits Work",howItWorksDesc1:" Unregistered/unverified customers use the default limit",howItWorksDesc2:" Verified customers use the limit customized for their tier",howItWorksDesc3:" The limit increases automatically with each purchase if enabled",howItWorksDesc4:" If the same credit card is used by another customer, the default limit is applied",defaultLimits:"Default Limits",defaultLimitsDesc:"Default limit for unregistered or unverified customers",defaultLimitAmount:"Default Limit (SAR)",defaultLimitHint:"Maximum amount that unregistered/unverified customers can purchase",tierLimits:"Tier Limits",tierLimitsDesc:"Set customized limits for each customer tier based on verification status",tierId:"Tier ID",tierName:"Tier Name",baseLimit:"Base Limit (SAR)",increasePerPurchase:"Increase Per Purchase (SAR)",addNewTier:"Add New Tier",addTier:"Add Tier",advancedSettings:"Advanced Settings",advancedSettingsDesc:"Enable or disable limit tracking features",enablePurchaseCountIncrease:"Enable Limit Increase Based on Purchase Count",enablePurchaseCountIncreaseDesc:"When enabled, the customer limit will automatically increase with each successful purchase",enableCreditCardTracking:"Enable Credit Card Tracking",enableCreditCardTrackingDesc:"When enabled, if the same credit card is used by another customer, the default limit will be applied",save:"Save Changes",saving:"Saving...",loadError:"Failed to load limit settings",saveError:"Failed to save limit settings",saveSuccess:"Limits saved successfully"}},pages:{allPagesExist:"All pages exist",allDigitalCardsPagesExist:"All digital cards store pages already exist",createdSuccessfully:"Created Successfully",digitalCardsCreated:"Successfully created {{count}} pages for digital cards store",creationError:"Creation Error",digitalCardsCreationError:"An error occurred while creating digital cards store pages. Please try again.",manager:{title:"Pages Manager",subtitle:"Create and manage your website pages",createNew:"New Page",createFirst:"Create your first page now",noPages:"No pages yet",loading:"Loading pages...",table:{page:"Page",slug:"Slug",status:"Status",lastUpdated:"Last Updated",actions:"Actions"},status:{published:"Published",draft:"Draft",hidden:"Hidden"},actions:{edit:"Edit",preview:"Preview",delete:"Delete",duplicate:"Duplicate"},deleteConfirm:"Are you sure you want to delete this page?",deleteSuccess:"Page deleted successfully",deleteError:"Failed to delete page",duplicateSuccess:"Page duplicated successfully",searchPlaceholder:"Search pages...",bulkDelete:"Delete Selected",bulkDeleteConfirm:"Are you sure you want to delete {{count}} pages?",bulkDeleteSuccess:"Successfully deleted {{count}} pages",bulkDeleteError:"Failed to delete some pages",templates:"Ready Templates",filters:{all:"All Pages",published:"Published",draft:"Drafts"}}},cardsStore:{title:"Store",searchPlaceholder:"Search brand or card name...",allCategories:"All Categories",backToBrands:"Back to brands",chooseCard:"Choose Card:",noCardsAvailable:"No cards available",retail:"Retail",wholesale:"Wholesale",addProduct:"Add Product",chooseBrand:"Choose Brand",brands:"brands",cards:"cards",shoppingCart:"Shopping Cart",cartEmpty:"Cart is empty",cardsCount:"Cards count",total:"Total",usd:"USD",processing:"Processing...",completeOrder:"Complete Order",addedToCart:"Added to cart",addedToFavorites:"Added to favorites",removedFromFavorites:"Removed from favorites",orderCompletedSuccess:"Order completed successfully",orderFailed:"Failed to complete order",downloadSuccess:"Card files downloaded successfully",insufficientBalance:"Insufficient balance. Please recharge your wallet.",downloadCardsQuestion:"Do you want to download the card files?",walletDeductionNote:"The amount will be deducted from your wallet automatically.",yes:"Yes",no:"No",rechargeWallet:"Recharge Wallet"},cardsOrders:{title:"Card Orders",createOrder:"Create Order",createFirstOrder:"Create your first order from the store",browseStore:"Browse Store",table:{orderNumber:"Order #",date:"Date",cards:"Cards",amount:"Amount",status:"Status",by:"By"},orderDetails:"Order Details",orderDate:"Order Date",status:"Status",totalAmount:"Total Amount",paymentMethod:"Payment Method",orderedCards:"Ordered Cards",codes:"Codes:",copied:"Copied",previous:"Previous",next:"Next"},cardsFavorites:{title:"Favorite Cards",searchPlaceholder:"Search for a card...",noFavorites:"No favorite cards",addFromStore:"Add cards to favorites from the store",browseStore:"Browse Store",showing:"Showing {{filtered}} of {{total}} cards"},properties:{generateAI:"Generate with AI",colors:"Colors",background:"Background",text:"Text",spacing:"Spacing",paddingTopBottom:"Vertical Padding",typography:"Typography",textAlignment:"Text Alignment",contentPosition:"Content Position",position:{top:"Top",center:"Center",bottom:"Bottom"},fontSize:"Font Size",fontWeight:"Font Weight",weight:{light:"Light",normal:"Normal",medium:"Medium",semibold:"Semi Bold",bold:"Bold"},lineHeight:"Line Height",backgroundImage:"Background Image",uploadBackground:"Upload Background",animation:"Animation",animationType:"Type",duration:"Duration"}},Ave=()=>{const e=localStorage.getItem("userLanguagePreference"),t=localStorage.getItem("i18nextLng");return e==="true"&&t&&(t==="ar"||t==="en")?t:(localStorage.setItem("i18nextLng","ar"),"ar")},lI=Ave();console.log(" i18n initialized with language:",lI,"| localStorage:",localStorage.getItem("i18nextLng"));ka.use(dve).init({resources:{ar:{translation:kve},en:{translation:Cve}},lng:lI,fallbackLng:"en",interpolation:{escapeValue:!1}});const cI=e=>{const t=e==="ar"?"rtl":"ltr";localStorage.setItem("i18nextLng",e);let r=document.getElementById("direction-style");r||(r=document.createElement("style"),r.id="direction-style",document.head.appendChild(r)),r.textContent=`
    html { direction: ${t} !important; }
    body { direction: ${t} !important; }
    html[dir="${t}"] { direction: ${t} !important; }
    body[dir="${t}"] { direction: ${t} !important; }
    html.${t} { direction: ${t} !important; }
    body.${t} { direction: ${t} !important; }
  `,document.documentElement.dir=t,document.documentElement.lang=e,document.documentElement.setAttribute("dir",t),document.documentElement.setAttribute("lang",e),document.body&&(document.body.dir=t,document.body.setAttribute("dir",t),document.body.style.setProperty("direction",t,"important"),document.body.style.direction=t),t==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl")))};ka.on("languageChanged",cI);cI(lI);const dI=e=>{localStorage.setItem("i18nextLng",e),localStorage.setItem("userLanguagePreference","true"),sessionStorage.setItem("languageSetThisSession","true"),ka.changeLanguage(e).then(()=>{window.dispatchEvent(new Event("languagechange")),window.dispatchEvent(new CustomEvent("i18n:languageChanged",{detail:{language:e}})),cI(e)}).catch(t=>{})},OK=e=>{let t=e==="3001"?"https://saeaa.net":"https://saeaa.net/api";if(t){t=t.replace(/\/+$/,"");const a=typeof window<"u"&&window.location.protocol==="https:";return/^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d+)?/.test(t)&&(a&&t.startsWith("http://")?(console.warn(`Converting HTTP to HTTPS for IP address URL to avoid Mixed Content: ${t}`),t=t.replace(/^http:\/\//,"https://")):!a&&t.startsWith("https://")&&(console.warn(`Converting HTTPS to HTTP for IP address URL: ${t}`),t=t.replace(/^https:\/\//,"http://"))),t}return typeof window<"u"&&window.location.protocol==="https:"?`https://localhost:${e}`:`http://localhost:${e}`},IK=OK("3001"),i1=OK("3002"),Vp=i1.endsWith("/api")?i1:`${i1}${i1.endsWith("/")?"":"/"}api`;class Oi extends Error{constructor(t,r,a){super(r),this.status=t,this.data=a,this.name="ApiError"}}let xv=!1,U4=[];const BE=(e,t=null)=>{U4.forEach(r=>{e?r.reject(e):r.resolve(t)}),U4=[]};function su(e){var a;const r=`; ${document.cookie}`.split(`; ${e}=`);return r.length===2&&((a=r.pop())==null?void 0:a.split(";").shift())||null}async function V4(){const e=su("refreshToken")||localStorage.getItem("refreshToken");if(!e)return null;try{const r=!!su("refreshToken")?void 0:JSON.stringify({refreshToken:e}),a=IK.replace(/\/$/,""),n=a.endsWith("/auth")?`${a}/refresh`:`${a}/auth/refresh`,i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",...r?{body:r}:{}});if(!i.ok){if(i.status===401)return console.warn("[API] Refresh token is invalid or expired (401)"),typeof window<"u"&&window.location.pathname.includes("/dashboard/")?console.warn("[API] Refresh token expired on dashboard - user should refresh page manually"):(document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")),null;throw new Error(`Token refresh failed: ${i.status} ${i.statusText}`)}const o=await i.json();return localStorage.setItem("accessToken",o.accessToken),localStorage.setItem("refreshToken",o.refreshToken),o.accessToken}catch(t){return console.error("[API] Token refresh error:",t),typeof window<"u"&&window.location.pathname.includes("/dashboard/")?console.warn("[API] Token refresh failed on dashboard - keeping existing tokens"):(document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")),null}}async function Cc(e,t={}){const{requireAuth:r=!1,sessionId:a,adminApiKey:n,_retry:i=!1,...o}=t;console.log(" fetchApi called:",{url:e,method:o.method||"GET",sessionId:a,requireAuth:r});const l={"Content-Type":"application/json","X-Tenant-Domain":window.location.hostname,...o.headers};try{const v=localStorage.getItem("user");if(v){const N=JSON.parse(v),j=N==null?void 0:N.tenantId;j&&j!=="default"&&j!=="system"?(l["X-Tenant-Id"]=j,console.log(" [API] Using tenant ID from user:",j.substring(0,20)+"...")):console.warn(" [API] No valid tenant ID found in user object")}else if((window.location.pathname.startsWith("/storefront")||window.location.pathname.startsWith("/store")||window.location.pathname==="/")&&window.location.hostname==="localhost"){const j=sessionStorage.getItem("storefrontTenantId")||localStorage.getItem("lastTenantId");j&&j!=="default"&&j!=="system"?(l["X-Tenant-Id"]=j,console.log(" [API] Using storefront tenant ID from session:",j.substring(0,20)+"...")):console.warn(" [API] Storefront on localhost without tenant ID - products may not load")}}catch{}o.body instanceof FormData&&delete l["Content-Type"];const c=su("accessToken"),d=c||localStorage.getItem("accessToken"),u=localStorage.getItem("customerToken"),h=l.Authorization||l.authorization,m=typeof window<"u"&&window.location.pathname.includes("/dashboard/"),p=(e.includes("/customers/")||e.includes("/auth/customers/"))&&!e.includes("/dashboard/"),g=e.includes("/merchant/employees")&&!e.includes("/merchant/internal/employees"),x=e.includes("/merchant/wallet/"),y=(e.includes("/merchant/")||e.includes("/api/merchant/")||e.includes("/dashboard/")||e.includes("/auth/staff/")||m)&&!g&&!x;let w=!1,b;if(h){const v=h.replace("Bearer ","").trim(),N=u;w=!!N&&v===N,b=void 0}else p||g||x?(b=u||d,w=!!u):y?(b=d,w=!1):(b=d||u,w=!d&&!!u);if(r&&!b&&!h&&!i&&!n){if(console.warn(" fetchApi: No token available, attempting refresh...",{url:e,requireAuth:r,hasAccessToken:!!d,hasCustomerToken:!!u,isMerchantEndpoint:y,isCustomerEndpoint:p,cookieToken:!!c}),su("refreshToken")||localStorage.getItem("refreshToken"))try{if(await V4())return console.log(" Token refreshed successfully, retrying request"),Cc(e,{...t,_retry:!0});if(su("accessToken")||localStorage.getItem("accessToken"))return console.log(" Refresh failed but found existing access token, retrying request"),Cc(e,{...t,_retry:!0})}catch(N){if(console.error(" Token refresh failed:",N),su("accessToken")||localStorage.getItem("accessToken"))return console.log(" Refresh error but found existing access token, retrying request"),Cc(e,{...t,_retry:!0})}else d&&(console.log(" No refresh token but have access token, using it"),b=d);if(!b){const N="Authentication required. Please log in again.";throw console.error(" fetchApi: Authentication required but no token available after refresh attempt",{url:e,requireAuth:r}),new Oi(401,N,{code:"AUTH_REQUIRED",url:e})}}else if(r&&!b&&!h&&i&&!n){const v="Authentication required. Please log in again.";throw new Oi(401,v,{code:"AUTH_REQUIRED",url:e})}b&&!h&&(l.Authorization=`Bearer ${b}`),n?(l["X-Admin-API-Key"]=n,console.log(" Using admin API key for authentication (skipping JWT token requirement)")):r&&e.includes("/admin/master/")&&console.warn(" Admin endpoint accessed without admin API key:",e),a&&(l["X-Session-ID"]=a);try{const v=new AbortController,N=setTimeout(()=>v.abort(),o.timeout||6e4),j=l,k=j.Authorization||j.authorization;console.log(" fetchApi: Making request to",e,"with headers:",{...j,Authorization:k?"Bearer ***":void 0});const S=await fetch(e,{...o,headers:l,credentials:t.credentials||"include",signal:v.signal});if(clearTimeout(N),console.log(" fetchApi: Response received:",{status:S.status,statusText:S.statusText,url:e}),!S.ok){const E=await S.json().catch(()=>({}));if(S.status===401){if(console.log(`[API] 401 Unauthorized: ${e}, requireAuth: ${r}, _retry: ${i}, isCustomerRequest: ${w}`),w)throw console.log("[API] Customer request failed with 401, clearing customer tokens only"),localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),r&&!window.location.pathname.includes("/auth/login")&&!window.location.pathname.includes("/login")&&(console.log("[API] Redirecting customer to storefront login"),window.location.href="/auth/login"),new Oi(401,ka.t("common.sessionExpired"));if(r&&!i){if(xv)return console.log("[API] Waiting for ongoing refresh..."),new Promise((P,T)=>{U4.push({resolve:P,reject:T})}).then(()=>Cc(e,{...t,_retry:!0}));xv=!0,console.log("[API] Attempting token refresh...");try{const P=await V4();if(P)return BE(null,P),xv=!1,console.log("[API] Refresh successful, retrying request..."),Cc(e,{...t,_retry:!0});throw console.error("[API] Refresh failed: newToken is null"),BE(new Error("Token refresh failed"),null),xv=!1,window.location.pathname.includes("/dashboard/")?console.warn("[API] Token refresh failed on dashboard - user should manually refresh page"):(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("user"),r&&!window.location.pathname.includes("/auth/login")&&(console.log("[API] Redirecting to login (refresh failed)"),window.location.href="/auth/login")),new Oi(401,ka.t("common.sessionExpired"))}catch(P){throw console.error("[API] Refresh failed:",P),BE(P instanceof Error?P:new Error("Unknown error"),null),xv=!1,window.location.pathname.includes("/dashboard/")?console.warn("[API] Token refresh failed on dashboard - user should manually refresh page"):(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("user"),r&&!window.location.pathname.includes("/auth/login")&&(console.log("[API] Redirecting to login (refresh error)"),window.location.href="/auth/login")),new Oi(401,ka.t("common.sessionExpired"))}}else if(r&&i){console.log("[API] 401 after retry, clearing merchant tokens only"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT";const P=window.location.pathname.includes("/dashboard/");throw P||localStorage.removeItem("user"),!window.location.pathname.includes("/auth/login")&&!P&&(console.log("[API] Redirecting to login (retry failed)"),window.location.href="/auth/login"),new Oi(401,ka.t("common.authFailed"))}else if(!r)throw console.log("[API] 401 on public endpoint, ignoring redirect"),new Oi(401,"Unauthorized",E)}let D=E.message||"An error occurred";if(typeof D=="object"&&(D=JSON.stringify(D)),S.status===403){const P=D||"Access forbidden. Please ensure you have set up a market.";throw console.error(" 403 Forbidden error:",{forbiddenMessage:P,data:E,url:e}),new Oi(S.status,P,E)}throw S.status===404&&!r?new Oi(S.status,D,E):new Oi(S.status,D,E)}if(S.status===204)return null;const C=S.headers.get("X-Session-ID");if(console.log(" fetchApi: Response headers X-Session-ID:",C),console.log(" fetchApi: Request sessionId:",a),C){const E=localStorage.getItem("guestSessionId");E!==C&&(console.log(" fetchApi: Updating localStorage sessionId:",{old:E,new:C}),localStorage.setItem("guestSessionId",C))}let A;try{A=await S.json()}catch{return null}if(A&&typeof A=="object"){if(no(A)){const E=typeof A.message=="string"?A.message:typeof A.message=="object"?JSON.stringify(A.message):"An error occurred",D=A.statusCode||500;throw new Oi(D,E,A)}if("success"in A&&"data"in A){const E=A.data;if(E&&no(E)){const D=typeof E.message=="string"?E.message:typeof E.message=="object"?JSON.stringify(E.message):"An error occurred";throw new Oi(E.statusCode||500,D,E)}if(Array.isArray(E)){const D=E.filter(P=>!no(P));return D.length===E.length?E:D}return E}}if(no(A)){const E=typeof A.message=="string"?A.message:typeof A.message=="object"?JSON.stringify(A.message):"An error occurred";throw new Oi(A.statusCode||500,E,A)}return A}catch(v){throw v instanceof Oi?v:(Tr.error(ka.t("common.networkError")),new Oi(500,"Network error"))}}async function RK(){try{const e=su("accessToken")||localStorage.getItem("accessToken");if(e)try{const a=e.split(".");if(a.length===3){const i=JSON.parse(atob(a[1])).exp;if(i&&i*1e3>Date.now()+6e4)return console.log("[API] Existing access token is still valid, no refresh needed"),!0}}catch{console.warn("[API] Could not validate existing token, attempting refresh")}return su("refreshToken")||localStorage.getItem("refreshToken")?await V4()?(console.log("[API] Token refreshed successfully before operation"),!0):e?(console.warn("[API] Refresh failed but existing access token might still be valid"),!0):!1:(console.log("[API] No refresh token available"),!!e)}catch(e){return console.error("[API] Failed to refresh token:",e),!!(su("accessToken")||localStorage.getItem("accessToken"))}}const Q={fetch:Cc,authUrl:IK,coreUrl:Vp,ensureFreshToken:RK,get:async(e,t={})=>{const r=e.startsWith("http")?e:`${Vp}${e}`;return Cc(r,{...t,method:"GET"})},post:async(e,t,r={})=>{const a=e.startsWith("http")?e:`${Vp}${e}`;return Cc(a,{...r,method:"POST",body:t instanceof FormData?t:JSON.stringify(t)})},put:async(e,t,r={})=>{const a=e.startsWith("http")?e:`${Vp}${e}`;return Cc(a,{...r,method:"PUT",body:JSON.stringify(t)})},delete:async(e,t={})=>{const r=e.startsWith("http")?e:`${Vp}${e}`;return Cc(r,{...t,method:"DELETE"})},patch:async(e,t,r={})=>{const a=e.startsWith("http")?e:`${Vp}${e}`;return Cc(a,{...r,method:"PATCH",body:JSON.stringify(t)})}},o1=Object.freeze(Object.defineProperty({__proto__:null,ApiError:Oi,apiClient:Q,ensureFreshToken:RK},Symbol.toStringTag,{value:"Module"}));async function Eve(){try{const e=document.createElement("canvas"),t=e.getContext("2d");return t?(e.width=200,e.height=50,t.textBaseline="top",t.font='14px "Arial"',t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("Hello World! <@>",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("Hello World! <@>",4,17),e.toDataURL()):""}catch{return""}}function Pve(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return"";const r=t.getExtension("WEBGL_debug_renderer_info");return r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL)||""}catch{return""}}function Tve(e){let t=0;if(e.length===0)return t.toString();for(let r=0;r<e.length;r++){const a=e.charCodeAt(r);t=(t<<5)-t+a,t=t&t}return Math.abs(t).toString(16)}async function N6(){const e={userAgent:navigator.userAgent,language:navigator.language,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,platform:navigator.platform,hardwareConcurrency:navigator.hardwareConcurrency||0,deviceMemory:navigator.deviceMemory||0,webglRenderer:Pve(),cookiesEnabled:navigator.cookieEnabled,localStorageEnabled:!!window.localStorage,canvasHash:await Eve()},t=JSON.stringify(e),r=Tve(t),n=["SwiftShader","llvmpipe","VMware","VirtualBox","Software Adapter","Microsoft Basic Render Driver"].some(h=>e.webglRenderer.includes(h))||e.screenResolution==="800x600"||e.screenResolution==="1024x768";let i="Unknown";navigator.userAgent.indexOf("Win")!==-1&&(i="Windows"),navigator.userAgent.indexOf("Mac")!==-1&&(i="MacOS"),navigator.userAgent.indexOf("Linux")!==-1&&(i="Linux"),navigator.userAgent.indexOf("Android")!==-1&&(i="Android"),navigator.userAgent.indexOf("like Mac")!==-1&&(i="iOS");const o=e.timezone,c=new Date().getTimezoneOffset();let d=!1;o==="UTC"&&c!==0&&(d=!0),navigator.userAgent.includes("Tor")&&(d=!0);let u=0;return n&&(u+=50),d&&(u+=30),e.cookiesEnabled||(u+=10),e.localStorageEnabled||(u+=10),e.userAgent.includes("Headless")&&(u+=80),{visitorId:r,components:e,isVM:n,isVpn:d,os:i,riskScore:u}}const Vi={login:async e=>{const t=await N6();return Q.fetch(`${Q.authUrl}/login`,{method:"POST",body:JSON.stringify({...e,fingerprint:t})})},signup:async e=>{const t=await N6();return Q.fetch(`${Q.authUrl}/signup`,{method:"POST",credentials:"include",body:JSON.stringify({...e,fingerprint:t})})},verifyEmail:async(e,t)=>Q.fetch(`${Q.authUrl}/verify-email`,{method:"POST",credentials:"include",body:JSON.stringify({email:e,code:t})}),resendVerificationCode:async e=>Q.fetch(`${Q.authUrl}/resend-verification`,{method:"POST",body:JSON.stringify({email:e})}),loginWithRecoveryId:async(e,t)=>Q.fetch(`${Q.authUrl}/login-recovery`,{method:"POST",body:JSON.stringify({recoveryId:e,password:t})}),recoverEmail:async e=>Q.fetch(`${Q.authUrl}/recover-email`,{method:"POST",body:JSON.stringify({recoveryId:e})}),forgotPassword:async e=>Q.fetch(`${Q.authUrl}/forgot-password`,{method:"POST",body:JSON.stringify({email:e})}),verifyResetToken:async e=>Q.fetch(`${Q.authUrl}/verify-reset-token?token=${encodeURIComponent(e)}`,{method:"GET"}),verifyResetCode:async(e,t)=>Q.fetch(`${Q.authUrl}/verify-reset-code`,{method:"POST",body:JSON.stringify({email:e,code:t})}),sendResetByRecoveryId:async e=>Q.fetch(`${Q.authUrl}/send-reset-by-recovery`,{method:"POST",body:JSON.stringify({recoveryId:e})}),refreshToken:e=>Q.fetch(`${Q.authUrl}/refresh`,{method:"POST",credentials:"include",body:JSON.stringify(e?{refreshToken:e}:{})}),logout:()=>Q.fetch(`${Q.authUrl}/logout`,{method:"POST",requireAuth:!0,credentials:"include"}),me:()=>Q.fetch(`${Q.authUrl}/me`,{requireAuth:!0}),googleLogin:()=>{window.location.href=`${Q.authUrl}/oauth/google`},getProfile:()=>Q.fetch(`${Q.authUrl}/profile`,{requireAuth:!0}),updateProfile:e=>Q.fetch(`${Q.authUrl}/profile`,{method:"PUT",body:JSON.stringify(e),requireAuth:!0}),submitKyc:e=>Q.fetch(`${Q.authUrl}/kyc/submit`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateKycStatus:(e,t,r)=>Q.fetch(`${Q.authUrl}/kyc/${e}/status`,{method:"PUT",body:JSON.stringify({status:t,notes:r}),requireAuth:!0}),getUserMarkets:()=>Q.fetch(`${Q.authUrl}/markets`,{requireAuth:!0}),switchStore:e=>Q.fetch(`${Q.authUrl}/markets/switch`,{method:"POST",body:JSON.stringify({tenantId:e}),requireAuth:!0}),canCreateMarket:()=>Q.fetch(`${Q.authUrl}/markets/can-create`,{requireAuth:!0}),getMarketLimit:()=>Q.fetch(`${Q.authUrl}/markets/limit`,{requireAuth:!0}),deleteMarket:e=>Q.fetch(`${Q.coreUrl}/tenants/${e}`,{method:"DELETE",requireAuth:!0}),resetPasswordComplete:e=>Q.fetch(`${Q.authUrl}/reset-password`,{method:"POST",body:JSON.stringify(e)}),changePassword:(e,t)=>Q.fetch(`${Q.authUrl}/change-password`,{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t}),requireAuth:!0}),get:async(e,t)=>Q.fetch(`${Q.authUrl}${e}`,{requireAuth:(t==null?void 0:t.requireAuth)??!0,adminApiKey:t==null?void 0:t.adminApiKey}),put:async(e,t,r)=>Q.fetch(`${Q.authUrl}${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:(r==null?void 0:r.requireAuth)??!0,adminApiKey:r==null?void 0:r.adminApiKey})},_ve={getProducts:async(e,t=!1)=>{const r=new URLSearchParams;e&&Object.entries(e).forEach(([o,l])=>{l!=null&&l!==""&&r.append(o,String(l))}),r.append("includeCategories","true");const a=`${Q.coreUrl}/products?${r.toString()}`;console.log(" Fetching products from:",a);const n=await Q.fetch(a,{requireAuth:t});if(console.log(" Products API response:",n),n&&typeof n=="object"&&"data"in n&&"meta"in n)return console.log(" Paginated response:",n.data.length,"products"),n;const i=(n==null?void 0:n.data)||n||[];return console.log(" Non-paginated response:",i.length,"products"),i},getProduct:async e=>Q.fetch(`${Q.coreUrl}/products/${e}`,{requireAuth:!1}),createProduct:async(e,t)=>{const r=`${Q.coreUrl}/products${t?"?upsert=true":""}`;return Q.fetch(r,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},updateProduct:async(e,t)=>{const r=encodeURIComponent(e);return Q.fetch(`${Q.coreUrl}/products/${r}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0})},deleteProduct:async e=>{const t=encodeURIComponent(e);await Q.delete(`/products/${t}`,{requireAuth:!0})},deleteProducts:async e=>Q.fetch(`${Q.coreUrl}/products/bulk-delete`,{method:"POST",body:JSON.stringify({ids:e}),requireAuth:!0}),getCategories:async(e,t=!0)=>{const r=e?`?${new URLSearchParams(e)}`:"",a=await Q.fetch(`${Q.coreUrl}/categories${r}`,{requireAuth:t});return a&&typeof a=="object"&&"categories"in a&&"meta"in a?a:(a==null?void 0:a.categories)||a||[]},getCategory:async e=>Q.fetch(`${Q.coreUrl}/categories/${e}`,{requireAuth:!1}),createCategory:async e=>Q.fetch(`${Q.coreUrl}/categories`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateCategory:async(e,t)=>Q.fetch(`${Q.coreUrl}/categories/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteCategory:async e=>{await Q.fetch(`${Q.coreUrl}/categories/${e}`,{method:"DELETE",requireAuth:!0})},deleteCategories:async e=>Q.fetch(`${Q.coreUrl}/categories/bulk-delete`,{method:"POST",body:JSON.stringify({ids:e}),requireAuth:!0}),getVariants:async e=>Q.fetch(`${Q.coreUrl}/products/${e}/variants`,{requireAuth:!1}),createVariant:async(e,t)=>Q.fetch(`${Q.coreUrl}/products/${e}/variants`,{method:"POST",body:JSON.stringify(t),requireAuth:!0}),updateVariantInventory:async(e,t)=>{await Q.fetch(`${Q.coreUrl}/products/variants/${e}/inventory`,{method:"PATCH",body:JSON.stringify({quantity:t}),requireAuth:!0})},updateCollection:async(e,t)=>{await Q.fetch(`${Q.coreUrl}/collections/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0})},deleteCollection:async e=>{await Q.fetch(`${Q.coreUrl}/collections/${e}`,{method:"DELETE",requireAuth:!0})},getBrands:async(e=!1)=>{const t=await Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:e});return t&&typeof t=="object"&&"data"in t?t.data:Array.isArray(t)?t:[]},getBrand:async e=>Q.fetch(`${Q.coreUrl}/brands/${e}`,{requireAuth:!1}),createBrand:async e=>Q.fetch(`${Q.coreUrl}/brands`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateBrand:async(e,t)=>Q.fetch(`${Q.coreUrl}/brands/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteBrand:async e=>{await Q.fetch(`${Q.coreUrl}/brands/${e}`,{method:"DELETE",requireAuth:!0})}},Dve={getCart:e=>Q.fetch(`${Q.coreUrl}/cart`,{sessionId:e,requireAuth:!1}),addToCart:(e,t)=>Q.fetch(`${Q.coreUrl}/cart/items`,{method:"POST",body:JSON.stringify(e),sessionId:t,requireAuth:!1}),updateCartItem:(e,t,r)=>Q.fetch(`${Q.coreUrl}/cart/items/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify({quantity:t}),sessionId:r,requireAuth:!1}),removeFromCart:(e,t)=>Q.fetch(`${Q.coreUrl}/cart/items/${encodeURIComponent(e)}`,{method:"DELETE",sessionId:t,requireAuth:!1}),clearCart:e=>Q.fetch(`${Q.coreUrl}/cart`,{method:"DELETE",sessionId:e,requireAuth:!1})},Ove={createOrder:e=>Q.fetch(`${Q.coreUrl}/orders`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),getOrders:async e=>{const t=new URLSearchParams;e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString()),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t.toString()}`:"",a=await Q.fetch(`${Q.coreUrl}/orders${r}`,{requireAuth:!0});return a&&typeof a=="object"&&"data"in a&&"meta"in a?a:a||[]},getOrder:e=>Q.fetch(`${Q.coreUrl}/orders/${e}`,{requireAuth:!0}),updateOrderStatus:(e,t)=>Q.fetch(`${Q.coreUrl}/orders/${e}/status`,{method:"PUT",body:JSON.stringify({status:t}),requireAuth:!0}),rejectOrder:(e,t)=>Q.fetch(`${Q.coreUrl}/orders/${e}/reject`,{method:"PUT",body:JSON.stringify({reason:t}),requireAuth:!0}),getCardOrder:e=>Q.fetch(`${Q.coreUrl}/card-orders/${e}`,{requireAuth:!0}),getMyCardOrders:e=>{const t=new URLSearchParams;e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString()),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t.toString()}`:"";return Q.fetch(`${Q.coreUrl}/card-orders/my-orders${r}`,{requireAuth:!0})},downloadCardOrderFiles:e=>Q.fetch(`${Q.coreUrl}/card-orders/${e}/download-files`,{requireAuth:!0})},xb={getThemes:()=>Q.fetch(`${Q.coreUrl}/themes`,{requireAuth:!1}),getTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{requireAuth:!1}),createTheme:e=>Q.fetch(`${Q.coreUrl}/themes`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateTheme:(e,t)=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}`,{method:"DELETE",requireAuth:!0}),installTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}/install`,{method:"POST",requireAuth:!0}),activateTheme:e=>Q.fetch(`${Q.coreUrl}/themes/${e}/activate`,{method:"POST",requireAuth:!0})},Ive={getPlugins:()=>Q.fetch(`${Q.coreUrl}/plugins`,{requireAuth:!0}),togglePlugin:e=>Q.fetch(`${Q.coreUrl}/plugins/${e}/toggle`,{method:"POST",requireAuth:!0})},Rve={getCoupons:()=>Q.fetch(`${Q.coreUrl}/coupons`,{requireAuth:!0}),getCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{requireAuth:!0}),createCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateCoupon:(e,t)=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deleteCoupon:e=>Q.fetch(`${Q.coreUrl}/coupons/${e}`,{method:"DELETE",requireAuth:!0}),validateCoupon:(e,t)=>Q.fetch(`${Q.coreUrl}/coupons/validate`,{method:"POST",body:JSON.stringify({code:e,amount:t}),requireAuth:!1})},zp=e=>{let t=encodeURIComponent(e);return t=t.replace(/%2F/g,"%252F"),t},FK={getPages:async(e=!1)=>{const t=await Q.fetch(`${Q.coreUrl}/pages`,{requireAuth:e});return Array.isArray(t)?t:[]},getPage:async e=>Q.fetch(`${Q.coreUrl}/pages/${zp(e)}`,{requireAuth:!0}),getPageBySlug:async e=>{try{return await Q.fetch(`${Q.coreUrl}/pages/slug/${encodeURIComponent(e)}`,{requireAuth:!1})}catch(t){if((t==null?void 0:t.status)===404)return null;throw t}},createPage:async e=>Q.fetch(`${Q.coreUrl}/pages`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePage:async(e,t)=>Q.fetch(`${Q.coreUrl}/pages/${zp(e)}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0}),deletePage:async e=>{await Q.fetch(`${Q.coreUrl}/pages/${zp(e)}`,{method:"DELETE",requireAuth:!0})},getHistory:async e=>{const t=await Q.fetch(`${Q.coreUrl}/pages/${zp(e)}/history`,{requireAuth:!0});return Array.isArray(t)?t:[]},restoreVersion:async(e,t)=>Q.fetch(`${Q.coreUrl}/pages/${zp(e)}/restore/${zp(t)}`,{method:"POST",requireAuth:!0})},Fve={getDashboardStats:()=>Q.fetch(`${Q.coreUrl}/analytics/dashboard`,{requireAuth:!0}),getSalesReport:e=>Q.fetch(`${Q.coreUrl}/analytics/sales?${new URLSearchParams(e)}`,{requireAuth:!0}),getProductStats:()=>Q.fetch(`${Q.coreUrl}/analytics/products`,{requireAuth:!0}),getCustomerStats:()=>Q.fetch(`${Q.coreUrl}/analytics/customers`,{requireAuth:!0}),getOrderStats:()=>Q.fetch(`${Q.coreUrl}/analytics/orders`,{requireAuth:!0}),getTrafficStats:()=>Q.fetch(`${Q.coreUrl}/analytics/traffic`,{requireAuth:!0}),getRevenueStats:()=>Q.fetch(`${Q.coreUrl}/analytics/revenue`,{requireAuth:!0})},Mve={getShippingZones:()=>Q.fetch(`${Q.coreUrl}/shipping/zones`,{requireAuth:!0}),createShippingZone:e=>Q.fetch(`${Q.coreUrl}/shipping/zones`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateShippingZone:(e,t)=>Q.fetch(`${Q.coreUrl}/shipping/zones/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteShippingZone:e=>Q.fetch(`${Q.coreUrl}/shipping/zones/${e}`,{method:"DELETE",requireAuth:!0}),calculateShipping:e=>Q.fetch(`${Q.coreUrl}/shipping/calculate`,{method:"POST",body:JSON.stringify(e)})},Lve={calculateTax:e=>Q.fetch(`${Q.coreUrl}/tax/calculate?${new URLSearchParams(e)}`,{requireAuth:!1}),getTaxRates:()=>Q.fetch(`${Q.coreUrl}/tax/rates`,{requireAuth:!0}),createTaxRate:e=>Q.fetch(`${Q.coreUrl}/tax/rates`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updateTaxRate:(e,t)=>Q.fetch(`${Q.coreUrl}/tax/rates/${e}`,{method:"PUT",body:JSON.stringify(t),requireAuth:!0}),deleteTaxRate:e=>Q.fetch(`${Q.coreUrl}/tax/rates/${e}`,{method:"DELETE",requireAuth:!0})},Kk={async setupMarket(e){return Q.fetch(`${Q.coreUrl}/tenants/setup`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async getTenant(e){return Q.fetch(`${Q.coreUrl}/tenants/${e}`,{requireAuth:!0})},async getCurrentUserTenant(){try{return await Q.fetch(`${Q.coreUrl}/tenants/me`,{requireAuth:!0})}catch{return null}},async updateCurrentUserTenant(e){return Q.fetch(`${Q.coreUrl}/tenants/update-me`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async updateTenant(e,t){return Q.fetch(`${Q.coreUrl}/tenants/${e}`,{method:"PATCH",body:JSON.stringify(t),requireAuth:!0})},async checkSubdomainAvailability(e){return Q.fetch(`${Q.coreUrl}/public/check-subdomain?subdomain=${encodeURIComponent(e)}`,{requireAuth:!1})}},$ve={getDomain:async()=>{try{const[e,t]=await Promise.all([Q.fetch(`${Q.coreUrl}/tenants/me`,{requireAuth:!0}),Q.fetch(`${Q.coreUrl}/domains`,{requireAuth:!0})]),r=t&&t.length>0?t[0]:null;return{id:e.id,subdomain:e.subdomain,customDomain:r==null?void 0:r.domain,verified:(r==null?void 0:r.status)==="ACTIVE",verifiedAt:r==null?void 0:r.verifiedAt}}catch(e){throw e}},addCustomDomain:e=>Q.fetch(`${Q.coreUrl}/domains`,{method:"POST",body:JSON.stringify({domain:e}),requireAuth:!0}),verifyDomain:e=>Q.fetch(`${Q.coreUrl}/domains/${e}/verify`,{method:"POST",requireAuth:!0}),deleteDomain:e=>Q.fetch(`${Q.coreUrl}/domains/${e}`,{method:"DELETE",requireAuth:!0})},MK={initializePayment:e=>Q.fetch(`${Q.coreUrl}/payment/initialize`,{method:"POST",body:JSON.stringify({orderId:e.orderId,paymentMethod:e.method}),requireAuth:!0}),getPaymentStatus:e=>Q.fetch(`${Q.coreUrl}/payment/status/${e}`,{requireAuth:!0}),getPaymentMethods:()=>Q.fetch(`${Q.coreUrl}/payment/methods`,{requireAuth:!1}),getPaymentSettings:()=>Q.fetch(`${Q.coreUrl}/payment/settings`,{requireAuth:!0}),updatePaymentSettings:e=>Q.fetch(`${Q.coreUrl}/payment/settings`,{method:"PUT",body:JSON.stringify(e),requireAuth:!0})},qh={getStaffUsers:(e=1,t=50)=>Q.fetch(`${Q.authUrl}/staff?page=${e}&limit=${t}`,{requireAuth:!0}),getStaffUser:e=>Q.fetch(`${Q.authUrl}/staff/${e}`,{requireAuth:!0}),getAvailablePermissions:()=>Q.fetch(`${Q.authUrl}/staff/permissions`,{requireAuth:!0}),createStaff:e=>Q.fetch(`${Q.authUrl}/staff`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePermissions:(e,t)=>Q.fetch(`${Q.authUrl}/staff/${e}/permissions`,{method:"PUT",body:JSON.stringify({permissions:t}),requireAuth:!0}),deleteStaff:e=>Q.fetch(`${Q.authUrl}/staff/${e}`,{method:"DELETE",requireAuth:!0})},Bve={getBalance:e=>Q.get("/transactions/balance",{requireAuth:!0,params:{tenantId:e}}),getTransactions:(e,t)=>{const r=new URLSearchParams({tenantId:e,...t}).toString();return Q.get(`/transactions?${r}`,{requireAuth:!0})},getTransaction:(e,t)=>Q.get(`/transactions/${t}?tenantId=${e}`,{requireAuth:!0}),getStats:(e,t,r)=>{const a={tenantId:e};t&&(a.startDate=t),r&&(a.endDate=r);const n=new URLSearchParams(a).toString();return Q.get(`/transactions/stats?${n}`,{requireAuth:!0})},getSubscription:e=>Q.get(`/transactions/subscription?tenantId=${e}`,{requireAuth:!0}),reprintTransaction:(e,t)=>Q.post(`/transactions/${t}/reprint?tenantId=${e}`,{},{requireAuth:!0}),refundTransaction:(e,t)=>Q.post(`/transactions/${t}/refund?tenantId=${e}`,{},{requireAuth:!0})},Ah={getOverview:()=>Q.get("/reports/overview",{requireAuth:!0}),getProductReport:e=>{const t=new URLSearchParams;e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.search&&t.append("search",e.search);const r=t.toString();return Q.get(`/reports/products${r?`?${r}`:""}`,{requireAuth:!0})},getCustomerReport:()=>Q.get("/reports/customers",{requireAuth:!0}),getPaymentReport:()=>Q.get("/reports/payments",{requireAuth:!0})},l1={async getPartners(){try{const e=await Q.get("/public/partners");return(e==null?void 0:e.partners)||[]}catch{return[]}},async getPlans(e){try{const t=e?`/public/plans?billingCycle=${e}`:"/public/plans",r=await Q.get(t);return(r==null?void 0:r.plans)||[]}catch{return[]}},async getPaymentProviders(){try{const e=await Q.get("/public/payment-providers");return(e==null?void 0:e.providers)||[]}catch{return[]}},async getStats(){try{const e=await Q.get("/public/stats");return(e==null?void 0:e.stats)||null}catch{return null}},async getTestimonials(e=6){try{const t=await Q.get(`/public/testimonials?limit=${e}`);return(t==null?void 0:t.testimonials)||[]}catch{return[]}}},Ns={getBalance:()=>Q.get("/wallet/balance",{requireAuth:!0}),getTransactions:(e=1,t=20)=>Q.get(`/wallet/transactions?page=${e}&limit=${t}`,{requireAuth:!0}),getBanks:()=>Q.get("/wallet/banks",{requireAuth:!1}),getAllBanks:()=>Q.get("/merchant/wallet/banks/all",{requireAuth:!0}),createBank:(e,t)=>{const r=new FormData;return Object.entries(e).forEach(([a,n])=>{n!=null&&r.append(a,String(n))}),t&&r.append("logo",t),Q.post("/merchant/wallet/banks",r,{requireAuth:!0,headers:{"Content-Type":"multipart/form-data"}})},updateBank:(e,t,r)=>{const a=new FormData;return Object.entries(t).forEach(([n,i])=>{i!=null&&a.append(n,String(i))}),r&&a.append("logo",r),Q.post(`/merchant/wallet/banks/${e}`,a,{requireAuth:!0,headers:{"Content-Type":"multipart/form-data"}})},deleteBank:e=>Q.post(`/merchant/wallet/banks/${e}/delete`,{},{requireAuth:!0}),getBankAccounts:()=>Q.get("/wallet/bank-accounts",{requireAuth:!0}),addBankAccount:e=>Q.post("/wallet/bank-accounts",e,{requireAuth:!0}),deleteBankAccount:e=>Q.delete(`/wallet/bank-accounts/${e}`,{requireAuth:!0}),createTopUpRequest:e=>Q.post("/wallet/topup",e,{requireAuth:!0}),getTopUpRequests:e=>{const t=e?`?status=${e}`:"",r=`/merchant/wallet/topup-requests${t}`,a=`/wallet/topup-requests${t}`;return Q.get(r,{requireAuth:!0}).catch(()=>Q.get(a,{requireAuth:!0}))},getPendingTopUps:()=>Q.get("/merchant/wallet/admin/pending-topups",{requireAuth:!0}),approveTopUp:e=>Q.post(`/merchant/wallet/admin/topup/${e}/approve`,{},{requireAuth:!0}),rejectTopUp:(e,t)=>Q.post(`/merchant/wallet/admin/topup/${e}/reject`,{reason:t},{requireAuth:!0}),getStaffListForCustomer:()=>Q.get("/merchant/wallet/staff-list",{requireAuth:!0}),giveBalanceToStaff:e=>Q.post("/merchant/wallet/admin/give-balance",e,{requireAuth:!0})},el=Vi,he={..._ve,...Dve,...Ove,...xb,...Ive,...Rve,...FK,...Fve,...Mve,...Lve,...Kk,...$ve,...MK,...qh,...Bve,...Ah,...Ns,get:async(e,t)=>await Q.get(e,t),post:async(e,t,r)=>await Q.post(e,t,r),put:async(e,t,r)=>await Q.put(e,t,r),delete:async(e,t)=>await Q.delete(e,t),patch:async(e,t,r)=>await Q.patch(e,t,r)},uI=f.createContext(void 0),Uve=({children:e})=>{const[t,r]=f.useState(()=>{try{const m=localStorage.getItem("user");return m?JSON.parse(m):null}catch{return null}}),[a,n]=f.useState(()=>!localStorage.getItem("user"));f.useEffect(()=>{i()},[]);const i=async()=>{var m;try{if(!localStorage.getItem("accessToken")){n(!1);return}const g=await el.me();r(g.user);try{localStorage.setItem("user",JSON.stringify(g.user)),(m=g.user)!=null&&m.tenantId&&(localStorage.setItem("lastTenantId",g.user.tenantId),sessionStorage.setItem("storefrontTenantId",g.user.tenantId))}catch{}}catch(p){if((p==null?void 0:p.status)===401)localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),r(null);else{console.error("checkAuth failed with non-401 error:",p);const g=localStorage.getItem("user");if(g)try{r(JSON.parse(g))}catch{}}}finally{n(!1)}},o=async()=>{await i()},l=async(m,p)=>{const x=m.includes("@")?{email:m,password:p}:{username:m,password:p},y=await el.login(x);localStorage.setItem("accessToken",y.accessToken),localStorage.setItem("refreshToken",y.refreshToken);const w={id:y.id,email:y.email,role:y.role,tenantId:y.tenantId,tenantName:y.tenantName,tenantSubdomain:y.tenantSubdomain,avatar:y.avatar,mustChangePassword:y.mustChangePassword||!1,permissions:y.permissions,employerEmail:y.employerEmail};return localStorage.setItem("user",JSON.stringify(w)),r(w),w.tenantId&&(localStorage.setItem("lastTenantId",w.tenantId),sessionStorage.setItem("storefrontTenantId",w.tenantId)),y.mustChangePassword||!1},c=async(m,p)=>{var g;try{localStorage.setItem("accessToken",m),localStorage.setItem("refreshToken",p);const x=await el.me();r(x.user),localStorage.setItem("user",JSON.stringify(x.user)),(g=x.user)!=null&&g.tenantId&&(localStorage.setItem("lastTenantId",x.user.tenantId),sessionStorage.setItem("storefrontTenantId",x.user.tenantId))}catch(x){throw console.error("Failed to login with tokens:",x),u(),x}},d=async(m,p,g,x)=>{const y=await el.signup({email:m,password:p,storeName:g,subdomain:x});localStorage.setItem("accessToken",y.accessToken),localStorage.setItem("refreshToken",y.refreshToken);const w={id:y.id,email:y.email,role:"SHOP_OWNER",tenantId:void 0,avatar:null};localStorage.setItem("user",JSON.stringify(w)),r(w)},u=async()=>{try{await el.logout().catch(()=>{})}catch{}document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),r(null)},h=async()=>{try{const m=localStorage.getItem("refreshToken");if(!m)return!1;const p=await el.refreshToken(m);return localStorage.setItem("accessToken",p.accessToken),localStorage.setItem("refreshToken",p.refreshToken),!0}catch(m){return console.error("Token refresh failed:",m),u(),!1}};return s.jsx(uI.Provider,{value:{user:t,loading:a,isAuthenticated:!!t,login:l,loginWithTokens:c,signup:d,logout:u,refreshToken:h,setUser:r,refreshUser:o},children:e})},$s=()=>{const e=f.useContext(uI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},LK=f.createContext(void 0),Vve=({children:e})=>{console.log(" CartProvider: Component rendered");const t=f.useContext(uI),r=(t==null?void 0:t.user)||null,[a,n]=f.useState(null),[i,o]=f.useState(!1),l=f.useRef(null),c=f.useRef(!1),d=f.useRef(0),u=f.useRef(null),h=f.useRef(!1),[m,p]=f.useState(()=>{let v=localStorage.getItem("guestSessionId");return v||(v=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("guestSessionId",v)),console.log(" CartProvider: SessionId initialized:",v),v});f.useEffect(()=>{l.current=a},[a]),f.useEffect(()=>{c.current=i},[i]),f.useEffect(()=>{const v=()=>{const N=localStorage.getItem("guestSessionId");N&&N!==m&&(console.log(" CartProvider: SessionId changed in localStorage, updating state:",{old:m,new:N}),p(N))};if(v(),!r){const N=setInterval(v,5e3);return()=>{clearInterval(N)}}},[m,r]);const g=ae.useCallback(async()=>{if(console.log(" CartContext: refreshCart called",{user:!!r,sessionId:m,hasUser:!!r}),h.current){console.log(" CartContext: Add to cart in progress, skipping refresh to prevent overwrite");return}if(c.current){console.log(" CartContext: Already loading, skipping refresh");return}const v=Date.now();if(v-d.current<500&&d.current>0){console.log(" CartContext: Too soon since last refresh, skipping (debounced)");return}d.current=v,o(!0);try{console.log(" CartContext: Calling coreApi.getCart...",{user:!!r,sessionId:m});const j=await he.getCart(r?void 0:m);console.log(" CartContext: Raw cart response:",j),console.log(" CartContext: Response type:",typeof j),console.log(" CartContext: Response keys:",j&&typeof j=="object"?Object.keys(j):"N/A");let k=j;if(j&&typeof j=="object"&&"data"in j&&"success"in j&&j.success===!0&&(console.log(" CartContext: Response is wrapped, unwrapping..."),k=j.data),console.log(" CartContext: Final data after unwrapping:",k),no(k)){console.error(" CartContext: Cart API returned error object:",k),l.current||n(null);return}if(k&&typeof k=="object"&&!no(k)){const S=k;S.cartItems&&!S.items&&(S.items=S.cartItems),Array.isArray(S.cartItems)||(S.cartItems=S.items||[]),Array.isArray(S.items)||(S.items=S.cartItems||[]),!S.cartItems&&!S.items&&(S.items=[],S.cartItems=[]);const C=(S.cartItems||S.items||[]).filter(O=>!O||!O.product?(console.warn(" CartContext: Filtering out invalid cart item:",O),!1):!0);S.cartItems=C,S.items=C;const A=C.length;console.log(" CartContext: Setting cart with",A,"valid items"),console.log(" CartContext: Cart ID:",S.id),console.log(" CartContext: Cart items details:",C.map(O=>{var F,I;return{cartItemId:O.id,productId:O.productId,productName:((F=O.product)==null?void 0:F.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown",quantity:O.quantity,hasProduct:!!O.product,hasVariant:!!O.productVariant}}));const E=l.current,D=new Set(((E==null?void 0:E.cartItems)||(E==null?void 0:E.items)||[]).map(O=>O.id)),P=new Set(C.map(O=>O.id)),T=D.size!==P.size||Array.from(P).some(O=>!D.has(O))||C.some(O=>{const F=((E==null?void 0:E.cartItems)||(E==null?void 0:E.items)||[]).find(I=>I.id===O.id);return!F||F.quantity!==O.quantity});!E||E.id!==S.id||T||A!==D.size||A>0?(console.log(" CartContext: Cart changed, updating state",{hadCart:!!E,cartIdChanged:(E==null?void 0:E.id)!==S.id,itemsChanged:T,currentItemCount:D.size,newItemCount:A,currentItemIds:Array.from(D),newItemIds:Array.from(P)}),n({...S})):console.log(" CartContext: Cart unchanged, skipping state update to prevent flicker")}else console.warn(" CartContext: Invalid cart data structure:",k),l.current||n(null)}catch(j){console.error(" CartContext: Failed to fetch cart:",j),l.current||n(null)}finally{o(!1),console.log(" CartContext: refreshCart completed, loading set to false")}},[r,m]);f.useEffect(()=>{console.log(" CartContext: useEffect triggered, calling refreshCart"),console.log(" CartContext: Dependencies:",{user:!!r,sessionId:m});let v=!0;return u.current&&(clearTimeout(u.current),u.current=null),u.current=setTimeout(()=>{v&&g().catch(N=>{v&&console.error(" CartContext: Error in refreshCart from useEffect:",N)})},100),()=>{v=!1,u.current&&(clearTimeout(u.current),u.current=null)}},[r,m,g]);const x=async(v,N,j)=>{var k,S;if(h.current){console.log(" CartContext: Add to cart already in progress, waiting...");for(let C=0;C<3&&(await new Promise(A=>setTimeout(A,200)),!!h.current);C++);h.current&&console.warn(" CartContext: Add to cart still locked after waiting, proceeding anyway to prevent blocking")}h.current=!0;try{if(!v||typeof v!="string"||v.trim()==="")throw console.error(" CartContext: Invalid productId:",v),dr({title:"",description:"   ",variant:"destructive"}),new Error("Invalid product ID");console.log(" CartContext: Adding to cart",{productId:v.trim(),quantity:N,variantId:j,sessionId:m,user:!!r});const C={productId:v.trim(),quantity:Number(N)};j&&(C.productVariantId=j.trim()),console.log(" CartContext: Payload",C);const A=l.current,E=((k=A==null?void 0:A.cartItems)==null?void 0:k.length)||((S=A==null?void 0:A.items)==null?void 0:S.length)||0;console.log(" CartContext: Current cart has",E,"items before adding");const D=await he.addToCart(C,r?void 0:m);console.log("CartContext: Add to cart response:",D);let P=D;if(D&&typeof D=="object"&&"data"in D&&"success"in D&&(P=D.data,console.log("CartContext: Unwrapped add to cart response:",P)),P&&typeof P=="object"){P.cartItems&&!P.items&&(P.items=P.cartItems),!P.cartItems&&P.items&&(P.cartItems=P.items),Array.isArray(P.cartItems)||(P.cartItems=[]),Array.isArray(P.items)||(P.items=P.cartItems||[]);const T=(P.cartItems||P.items||[]).filter(O=>!O||!O.product?(console.warn(" CartContext: Filtering out invalid cart item from add response:",O),!1):!0);P.cartItems=T,P.items=T,console.log(" CartContext: Setting cart from add response with",T.length,"valid items"),console.log(" CartContext: Cart items details:",T.map(O=>{var F,I;return{cartItemId:O.id,productId:O.productId,productName:((F=O.product)==null?void 0:F.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown",quantity:O.quantity,hasProduct:!!O.product}})),P.sessionId&&P.sessionId!==m&&(console.log(" CartContext: Updating sessionId from cart response:",P.sessionId),localStorage.setItem("guestSessionId",P.sessionId),p(P.sessionId)),console.log(" CartContext: Updating cart state with",T.length,"items from addToCart response"),console.log(" CartContext: Item count changed from",E,"to",T.length),T.length<E&&E>0&&(console.warn(" CartContext: WARNING - Item count decreased! This might indicate items were lost."),console.warn(" CartContext: Current items:",E,"New items:",T.length),console.warn(" CartContext: Current product IDs:",((A==null?void 0:A.cartItems)||(A==null?void 0:A.items)||[]).map(O=>O.productId)),console.warn(" CartContext: New product IDs:",T.map(O=>O.productId)));const _={...P};n(_),l.current=_,console.log(" CartContext: ========== CART STATE UPDATED =========="),console.log(" CartContext: Cart ID:",_.id),console.log(" CartContext: Total items in cart:",T.length),console.log(" CartContext: Product IDs:",T.map(O=>O.productId)),console.log(" CartContext: Product Names:",T.map(O=>{var F,I;return((F=O.product)==null?void 0:F.name)||((I=O.product)==null?void 0:I.nameAr)||"Unknown"})),console.log(" CartContext: Cart Item IDs:",T.map(O=>O.id)),console.log(" CartContext: Quantities:",T.map(O=>O.quantity)),console.log(" CartContext: ======================================="),dr({title:"Added to cart",description:"Item added successfully"})}else console.warn(" CartContext: Add to cart response missing cart data, refreshing..."),await g(),dr({title:"Added to cart",description:"Item added successfully"})}catch(C){console.error("CartContext: Add to cart failed",C);const A=kc(C);throw dr({title:"Error",description:A||"Could not add item to cart",variant:"destructive"}),C}finally{h.current=!1,setTimeout(()=>{h.current?(console.log(" CartContext: Skipping refresh - another addToCart in progress"),setTimeout(()=>{h.current||g().catch(C=>console.error("Failed to refresh cart after delayed add:",C))},1e3)):(console.log(" CartContext: Refreshing cart after add to ensure all items are present"),g().catch(C=>console.error("Failed to refresh cart after add:",C)))},1e3)}},y=async(v,N)=>{try{const j=await he.updateCartItem(v,N,r?void 0:m);let k=j;if(j&&typeof j=="object"&&"data"in j&&"success"in j&&(k=j.data),k&&typeof k=="object"&&!no(k)){const S=k;S.cartItems&&!S.items&&(S.items=S.cartItems),!S.cartItems&&S.items&&(S.cartItems=S.items),Array.isArray(S.cartItems)||(S.cartItems=S.items||[]),Array.isArray(S.items)||(S.items=S.cartItems||[]);const C=(S.cartItems||S.items||[]).filter(A=>A&&A.product);S.cartItems=C,S.items=C,console.log(" CartContext: Updating cart from updateQuantity response with",C.length,"items"),n({...S}),setTimeout(()=>{g().catch(A=>console.error("Failed to refresh cart after update:",A))},200)}else await g()}catch(j){const k=kc(j);throw dr({title:"Error",description:k||"Could not update quantity",variant:"destructive"}),j}},w=async v=>{try{console.log(" CartContext: removeItem called with itemId:",v),console.log(" CartContext: itemId type:",typeof v),console.log(" CartContext: itemId length:",v==null?void 0:v.length);let N=v;(v.includes("/")||v.includes("+"))&&(N=v.split(/[/+]/).find(C=>C.length>=20&&!C.includes("/")&&!C.includes("+"))||v,console.log(" CartContext: Cleaned itemId from",v,"to",N));const j=l.current;if(j){const S=(j==null?void 0:j.cartItems)||(j==null?void 0:j.items)||[];console.log(" CartContext: Current cart has",S.length,"items");const C=S.map(E=>E.id);console.log(" CartContext: Current cart item IDs:",C);const A=C.includes(N)||C.some(E=>E.includes(N)||N.includes(E));if(console.log(" CartContext: ItemId exists in cart?",A),!A&&C.length>0){const E=S.find(D=>D.id.includes(N.substring(0,20))||N.includes(D.id.substring(0,20)));E?(N=E.id,console.log(" CartContext: Found matching item, using ID:",N)):console.warn(" CartContext: ItemId not found in current cart, but will try to remove anyway")}}const k=await he.removeFromCart(N,r?void 0:m);await g(),dr({title:"Item removed",description:"Item removed from cart"})}catch(N){console.error(" CartContext: Error removing item:",N);const j=kc(N),k=j.includes("not found")||j.includes("404")||N&&typeof N=="object"&&"status"in N&&N.status===404;try{await g()}catch(S){console.error(" CartContext: Failed to refresh cart after error:",S)}if(k?console.log(" CartContext: Item not found (404), assuming already removed"):dr({title:"Error",description:j||"Could not remove item",variant:"destructive"}),!k)throw N}},b=async()=>{try{o(!0),await he.clearCart(r?void 0:m),n(null),l.current=null}catch(v){console.error(" CartContext: Failed to clear cart:",v),n(null),l.current=null}finally{o(!1)}};return s.jsx(LK.Provider,{value:{cart:a,loading:i,addToCart:x,updateQuantity:y,removeItem:w,refreshCart:g,clearCart:b},children:e})},bp=()=>{const e=f.useContext(LK);if(!e)throw new Error("useCart must be used within CartProvider");return e},zve=f.createContext(void 0),Wve=({children:e})=>{const[t,r]=f.useState(()=>{const n=localStorage.getItem("darkMode");return n!==null?n==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});f.useEffect(()=>{t?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light")),localStorage.setItem("darkMode",String(t)),console.log(" Dark mode:",t?"ON":"OFF")},[t]);const a=()=>{r(n=>!n)};return s.jsx(zve.Provider,{value:{isDarkMode:t,toggleDarkMode:a},children:e})},S6="tab_updates_watched";function Hve(){const[e,t]=f.useState({}),[r,a]=f.useState({});f.useEffect(()=>{try{const u=localStorage.getItem(S6);u&&a(JSON.parse(u))}catch(u){console.error("Failed to load watched state:",u)}},[]);const n=f.useCallback(u=>{try{localStorage.setItem(S6,JSON.stringify(u)),a(u)}catch(h){console.error("Failed to save watched state:",h)}},[]),i=f.useCallback((u,h)=>{t(m=>{const p=m[u]||{updates:[],lastWatched:null},g={...h,id:`${Date.now()}-${Math.random()}`,timestamp:new Date};return{...m,[u]:{updates:[g,...p.updates],lastWatched:p.lastWatched}}})},[]),o=f.useCallback(u=>{const h=new Date;t(m=>{const p=m[u];return p?{...m,[u]:{...p,lastWatched:h}}:m}),a(m=>{const p={...m,[u]:h};return n(p),p})},[n]),l=f.useCallback(u=>{const h=e[u];if(!h||h.updates.length===0)return!1;const m=r[u]?new Date(r[u]):h.lastWatched;return m?h.updates.some(p=>p.timestamp>m):!0},[e,r]),c=f.useCallback(u=>{const h=e[u];if(!h||h.updates.length===0)return[];const m=r[u]?new Date(r[u]):h.lastWatched;return m?h.updates.filter(p=>p.timestamp>m):h.updates},[e,r]),d=f.useCallback(u=>{t(h=>{const m={...h};return delete m[u],m})},[]);return{updates:e,addUpdate:i,markAsWatched:o,hasUnreadUpdates:l,getUnreadUpdates:c,clearUpdates:d}}const $K=f.createContext(void 0);function qve({children:e}){const t=Hve();return s.jsx($K.Provider,{value:t,children:e})}function Gve(){const e=f.useContext($K);if(e===void 0)throw new Error("useTabUpdatesContext must be used within a TabUpdatesProvider");return e}const BK=f.createContext(void 0),Kve=({children:e})=>{const[t,r]=f.useState([]);f.useEffect(()=>{const l=localStorage.getItem("wishlist");if(l)try{r(JSON.parse(l))}catch(c){console.error("Failed to parse wishlist from local storage",c)}},[]),f.useEffect(()=>{localStorage.setItem("wishlist",JSON.stringify(t))},[t]);const a=l=>{if(i(l.id)){dr({title:" ",description:"     "});return}r(c=>[...c,l]),dr({title:"  ",description:"    "})},n=l=>{r(c=>c.filter(d=>d.id!==l)),dr({title:"  ",description:"    "})},i=l=>t.some(c=>c.id===l),o=()=>{r([])};return s.jsx(BK.Provider,{value:{items:t,addToWishlist:a,removeFromWishlist:n,isInWishlist:i,clearWishlist:o},children:e})},hI=()=>{const e=f.useContext(BK);if(e===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return e},mI=typeof window<"u"&&window.__StoreSettingsContext?window.__StoreSettingsContext:f.createContext(void 0);typeof window<"u"&&(window.__StoreSettingsContext=mI);const Sm=()=>{const e=f.useContext(mI);if(!e)throw new Error("useStoreSettings must be used within StoreSettingsProvider");return e},Yve=({children:e})=>{const[t,r]=f.useState(null),[a,n]=f.useState(!0),i=async()=>{try{n(!0);const o=await he.get("/site-config"),l=(o==null?void 0:o.settings)||o||{};r(l)}catch(o){console.error("Failed to load store settings:",o),r({currency:"SAR",language:"ar",taxEnabled:!0,taxRate:15,shippingEnabled:!0,inventoryTracking:!0,allowGuestCheckout:!0,maintenanceMode:!1,storeType:"GENERAL",paymentMethods:[]})}finally{n(!1)}};return f.useEffect(()=>{i()},[]),s.jsx(mI.Provider,{value:{settings:t,loading:a,refreshSettings:i},children:e})},Od=Object.create(null);Od.open="0";Od.close="1";Od.ping="2";Od.pong="3";Od.message="4";Od.upgrade="5";Od.noop="6";const gN=Object.create(null);Object.keys(Od).forEach(e=>{gN[Od[e]]=e});const z4={type:"error",data:"parser error"},UK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",VK=typeof ArrayBuffer=="function",zK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fI=({type:e,data:t},r,a)=>UK&&t instanceof Blob?r?a(t):k6(t,a):VK&&(t instanceof ArrayBuffer||zK(t))?r?a(t):k6(new Blob([t]),a):a(Od[e]+(t||"")),k6=(e,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)};function C6(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let UE;function Xve(e,t){if(UK&&e.data instanceof Blob)return e.data.arrayBuffer().then(C6).then(t);if(VK&&(e.data instanceof ArrayBuffer||zK(e.data)))return t(C6(e.data));fI(e,!1,r=>{UE||(UE=new TextEncoder),t(UE.encode(r))})}const A6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<A6.length;e++)Gv[A6.charCodeAt(e)]=e;const Qve=e=>{let t=e.length*.75,r=e.length,a,n=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(a=0;a<r;a+=4)i=Gv[e.charCodeAt(a)],o=Gv[e.charCodeAt(a+1)],l=Gv[e.charCodeAt(a+2)],c=Gv[e.charCodeAt(a+3)],u[n++]=i<<2|o>>4,u[n++]=(o&15)<<4|l>>2,u[n++]=(l&3)<<6|c&63;return d},Jve=typeof ArrayBuffer=="function",pI=(e,t)=>{if(typeof e!="string")return{type:"message",data:WK(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Zve(e.substring(1),t)}:gN[r]?e.length>1?{type:gN[r],data:e.substring(1)}:{type:gN[r]}:z4},Zve=(e,t)=>{if(Jve){const r=Qve(e);return WK(r,t)}else return{base64:!0,data:e}},WK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},HK="",eye=(e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((i,o)=>{fI(i,!1,l=>{a[o]=l,++n===r&&t(a.join(HK))})})},tye=(e,t)=>{const r=e.split(HK),a=[];for(let n=0;n<r.length;n++){const i=pI(r[n],t);if(a.push(i),i.type==="error")break}return a};function rye(){return new TransformStream({transform(e,t){Xve(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let VE;function c1(e){return e.reduce((t,r)=>t+r.length,0)}function d1(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function sye(e,t){VE||(VE=new TextDecoder);const r=[];let a=0,n=-1,i=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(a===0){if(c1(r)<1)break;const c=d1(r,1);i=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(c1(r)<2)break;const c=d1(r,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(c1(r)<8)break;const c=d1(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(z4);break}n=u*Math.pow(2,32)+d.getUint32(4),a=3}else{if(c1(r)<n)break;const c=d1(r,n);l.enqueue(pI(i?c:VE.decode(c),t)),a=0}if(n===0||n>e){l.enqueue(z4);break}}}})}const qK=4;function Cn(e){if(e)return aye(e)}function aye(e){for(var t in Cn.prototype)e[t]=Cn.prototype[t];return e}Cn.prototype.on=Cn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Cn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Cn.prototype.off=Cn.prototype.removeListener=Cn.prototype.removeAllListeners=Cn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<r.length;n++)if(a=r[n],a===t||a.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Cn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,n=r.length;a<n;++a)r[a].apply(this,t)}return this};Cn.prototype.emitReserved=Cn.prototype.emit;Cn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Cn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Yk=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Rl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),nye="arraybuffer";function GK(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}const iye=Rl.setTimeout,oye=Rl.clearTimeout;function Xk(e,t){t.useNativeTimers?(e.setTimeoutFn=iye.bind(Rl),e.clearTimeoutFn=oye.bind(Rl)):(e.setTimeoutFn=Rl.setTimeout.bind(Rl),e.clearTimeoutFn=Rl.clearTimeout.bind(Rl))}const lye=1.33;function cye(e){return typeof e=="string"?dye(e):Math.ceil((e.byteLength||e.size)*lye)}function dye(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function KK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function uye(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function hye(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let i=r[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class mye extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class xI extends Cn{constructor(t){super(),this.writable=!1,Xk(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new mye(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=pI(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=uye(t);return r.length?"?"+r:""}}class fye extends xI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};tye(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,eye(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=KK()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let YK=!1;try{YK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pye=YK;function xye(){}class gye extends fye{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class Sd extends Cn{constructor(t,r,a){super(),this.createRequest=t,Xk(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=GK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Sd.requestsCount++,Sd.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xye,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Sd.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Sd.requestsCount=0;Sd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",E6);else if(typeof addEventListener=="function"){const e="onpagehide"in Rl?"pagehide":"unload";addEventListener(e,E6,!1)}}function E6(){for(let e in Sd.requests)Sd.requests.hasOwnProperty(e)&&Sd.requests[e].abort()}const vye=function(){const e=XK({xdomain:!1});return e&&e.responseType!==null}();class yye extends gye{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=vye&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Sd(XK,this.uri(),t)}}function XK(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pye))return new XMLHttpRequest}catch{}if(!t)try{return new Rl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const QK=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class bye extends xI{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=QK?{}:GK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;fI(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&Yk(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=KK()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const zE=Rl.WebSocket||Rl.MozWebSocket;class wye extends bye{createSocket(t,r,a){return QK?new zE(t,r,a):r?new zE(t,r):new zE(t)}doWrite(t,r){this.ws.send(r)}}class jye extends xI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=sye(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),n=rye();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;this._writer.write(a).then(()=>{n&&Yk(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Nye={websocket:wye,webtransport:jye,polling:yye},Sye=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kye=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function W4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=Sye.exec(e||""),i={},o=14;for(;o--;)i[kye[o]]=n[o]||"";return r!=-1&&a!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Cye(i,i.path),i.queryKey=Aye(i,i.query),i}function Cye(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Aye(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(r[n]=i)}),r}const H4=typeof addEventListener=="function"&&typeof removeEventListener=="function",vN=[];H4&&addEventListener("offline",()=>{vN.forEach(e=>e())},!1);class Gh extends Cn{constructor(t,r){if(super(),this.binaryType=nye,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=W4(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=W4(r.host).host);Xk(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hye(this.opts.query)),H4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vN.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=qK,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Gh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Gh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(r+=cye(n)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Yk(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:t,data:r,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(Gh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),H4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=vN.indexOf(this._offlineEventListener);a!==-1&&vN.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Gh.protocol=qK;class Eye extends Gh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;Gh.priorWebsocketSuccess=!1;const n=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!a)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Gh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function i(){a||(a=!0,u(),r.close(),r=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=r.name,i(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){r&&h.name!==r.name&&i()}const u=()=>{r.removeListener("open",n),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",n),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let Pye=class extends Eye{constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>Nye[n]).filter(n=>!!n)),super(t,a)}};function Tye(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=W4(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(r&&r.port===a.port?"":":"+a.port),a}const _ye=typeof ArrayBuffer=="function",Dye=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,JK=Object.prototype.toString,Oye=typeof Blob=="function"||typeof Blob<"u"&&JK.call(Blob)==="[object BlobConstructor]",Iye=typeof File=="function"||typeof File<"u"&&JK.call(File)==="[object FileConstructor]";function gI(e){return _ye&&(e instanceof ArrayBuffer||Dye(e))||Oye&&e instanceof Blob||Iye&&e instanceof File}function yN(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(yN(e[r]))return!0;return!1}if(gI(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return yN(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&yN(e[r]))return!0;return!1}function Rye(e){const t=[],r=e.data,a=e;return a.data=q4(r,t),a.attachments=t.length,{packet:a,buffers:t}}function q4(e,t){if(!e)return e;if(gI(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=q4(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=q4(e[a],t));return r}return e}function Fye(e,t){return e.data=G4(e.data,t),delete e.attachments,e}function G4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=G4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=G4(e[r],t));return e}const Mye=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Lye=5;var bs;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(bs||(bs={}));class $ye{constructor(t){this.replacer=t}encode(t){return(t.type===bs.EVENT||t.type===bs.ACK)&&yN(t)?this.encodeAsBinary({type:t.type===bs.EVENT?bs.BINARY_EVENT:bs.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===bs.BINARY_EVENT||t.type===bs.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Rye(t),a=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(a),n}}function P6(e){return Object.prototype.toString.call(e)==="[object Object]"}class vI extends Cn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===bs.BINARY_EVENT;a||r.type===bs.BINARY_ACK?(r.type=a?bs.EVENT:bs.ACK,this.reconstructor=new Bye(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(gI(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(bs[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===bs.BINARY_EVENT||a.type===bs.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(i,r)}else a.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}a.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(vI.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case bs.CONNECT:return P6(r);case bs.DISCONNECT:return r===void 0;case bs.CONNECT_ERROR:return typeof r=="string"||P6(r);case bs.EVENT:case bs.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Mye.indexOf(r[0])===-1);case bs.ACK:case bs.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Bye{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Fye(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Uye=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vI,Encoder:$ye,get PacketType(){return bs},protocol:Lye},Symbol.toStringTag,{value:"Module"}));function jc(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Vye=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ZK extends Cn{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[jc(t,"open",this.onopen.bind(this)),jc(t,"packet",this.onpacket.bind(this)),jc(t,"error",this.onerror.bind(this)),jc(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,n,i;if(Vye.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:bs.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,h=r.pop();this._registerAckCallback(u,h),o.id=u}const l=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},n),o=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((a,n)=>{const i=(o,l)=>o?n(o):a(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:bs.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case bs.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bs.EVENT:case bs.BINARY_EVENT:this.onevent(t);break;case bs.ACK:case bs.BINARY_ACK:this.onack(t);break;case bs.DISCONNECT:this.ondisconnect();break;case bs.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...n){a||(a=!0,r.packet({type:bs.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bs.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function S0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}S0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};S0.prototype.reset=function(){this.attempts=0};S0.prototype.setMin=function(e){this.ms=e};S0.prototype.setMax=function(e){this.max=e};S0.prototype.setJitter=function(e){this.jitter=e};class K4 extends Cn{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Xk(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new S0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||Uye;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Pye(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=jc(r,"open",function(){a.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=jc(r,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(jc(t,"ping",this.onping.bind(this)),jc(t,"data",this.ondata.bind(this)),jc(t,"error",this.onerror.bind(this)),jc(t,"close",this.onclose.bind(this)),jc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Yk(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new ZK(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const gv={};function vy(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Tye(e,t.path||"/socket.io"),a=r.source,n=r.id,i=r.path,o=gv[n]&&i in gv[n].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new K4(a,t):(gv[n]||(gv[n]=new K4(a,t)),c=gv[n]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(vy,{Manager:K4,Socket:ZK,io:vy,connect:vy});const zye="https://saeaa.net/api",Wye=e=>vy(`${zye}/notifications`,{auth:{token:e},transports:["websocket"]}),eY=f.createContext(void 0),Hye=({children:e})=>{const{user:t,token:r}=$s(),[a,n]=f.useState([]),[i,o]=f.useState(null),l=f.useCallback(async()=>{if(r)try{const h=await he.get("/notifications",{requireAuth:!0});Array.isArray(h)&&n(h)}catch(h){console.error("Failed to fetch notifications:",h)}},[r]);f.useEffect(()=>{if(r&&t){l();const h=Wye(r);return h.on("connect",()=>{console.log("Connected to notifications socket")}),h.on("notification",m=>{n(x=>[m,...x]);const p=ka.language==="ar"&&m.titleAr||m.titleEn,g=ka.language==="ar"&&m.bodyAr||m.bodyEn;Tr(p,{description:g,action:{label:ka.language==="ar"?"":"View",onClick:()=>{m.type==="ORDER"&&(window.location.href="/dashboard/orders"),m.type==="CUSTOMER"&&(window.location.href="/dashboard/customers"),m.type==="INVENTORY"&&(window.location.href="/dashboard/products")}}})}),o(h),()=>{h.disconnect()}}},[r,t,l]);const c=async h=>{try{await he.put(`/notifications/${h}/read`,{},{requireAuth:!0}),n(m=>m.map(p=>p.id===h?{...p,readAt:new Date().toISOString()}:p))}catch(m){console.error("Failed to mark notification as read:",m)}},d=async()=>{try{await he.put("/notifications/read-all",{},{requireAuth:!0}),n(h=>h.map(m=>({...m,readAt:new Date().toISOString()})))}catch(h){console.error("Failed to mark all notifications as read:",h)}},u=a.filter(h=>!h.readAt).length;return s.jsx(eY.Provider,{value:{notifications:a,unreadCount:u,markAsRead:c,markAllAsRead:d,refreshNotifications:l},children:e})},qye=()=>{const e=f.useContext(eY);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},tY=()=>{const e=Tn();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},yI=f.createContext({});function k0(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const bI=typeof window<"u",Qk=bI?f.useLayoutEffect:f.useEffect,Jk=f.createContext(null);function wI(e,t){e.indexOf(t)===-1&&e.push(t)}function jI(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Id=(e,t,r)=>r>t?t:r<e?e:r;let kg=()=>{};const Cu={},rY=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sY(e){return typeof e=="object"&&e!==null}const aY=e=>/^0[^.\s]+$/u.test(e);function NI(e){let t;return()=>(t===void 0&&(t=e()),t)}const Uo=e=>e,Gye=(e,t)=>r=>t(e(r)),Vw=(...e)=>e.reduce(Gye),Cg=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class SI{constructor(){this.subscriptions=[]}add(t){return wI(this.subscriptions,t),()=>jI(this.subscriptions,t)}notify(t,r,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kd=e=>e*1e3,Bl=e=>e/1e3;function kI(e,t){return t?e*(1e3/t):0}const nY=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Kye=1e-7,Yye=12;function Xye(e,t,r,a,n){let i,o,l=0;do o=t+(r-t)/2,i=nY(o,a,n)-e,i>0?r=o:t=o;while(Math.abs(i)>Kye&&++l<Yye);return o}function zw(e,t,r,a){if(e===t&&r===a)return Uo;const n=i=>Xye(i,0,1,e,r);return i=>i===0||i===1?i:nY(n(i),t,a)}const iY=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oY=e=>t=>1-e(1-t),lY=zw(.33,1.53,.69,.99),CI=oY(lY),cY=iY(CI),dY=e=>(e*=2)<1?.5*CI(e):.5*(2-Math.pow(2,-10*(e-1))),AI=e=>1-Math.sin(Math.acos(e)),uY=oY(AI),hY=iY(AI),Qye=zw(.42,0,1,1),Jye=zw(0,0,.58,1),mY=zw(.42,0,.58,1),Zye=e=>Array.isArray(e)&&typeof e[0]!="number",fY=e=>Array.isArray(e)&&typeof e[0]=="number",T6={linear:Uo,easeIn:Qye,easeInOut:mY,easeOut:Jye,circIn:AI,circInOut:hY,circOut:uY,backIn:CI,backInOut:cY,backOut:lY,anticipate:dY},ebe=e=>typeof e=="string",_6=e=>{if(fY(e)){kg(e.length===4);const[t,r,a,n]=e;return zw(t,r,a,n)}else if(ebe(e))return kg(T6[e]!==void 0),T6[e];return e},u1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],D6={value:null,addProjectionMetrics:null};function tbe(e,t){let r=new Set,a=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,m=!1,p=!1)=>{const x=p&&n?r:a;return m&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{a.delete(h),o.delete(h)},process:h=>{if(l=h,n){i=!0;return}n=!0,[r,a]=[a,r],r.forEach(d),t&&D6.value&&D6.value.frameloop[t].push(c),c=0,r.clear(),n=!1,i&&(i=!1,u.process(h))}};return u}const rbe=40;function pY(e,t){let r=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=u1.reduce((v,N)=>(v[N]=tbe(i,t?N:void 0),v),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:p,postRender:g}=o,x=()=>{const v=Cu.useManualTiming?n.timestamp:performance.now();r=!1,Cu.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(v-n.timestamp,rbe),1)),n.timestamp=v,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),m.process(n),p.process(n),g.process(n),n.isProcessing=!1,r&&t&&(a=!1,e(x))},y=()=>{r=!0,a=!0,n.isProcessing||e(x)};return{schedule:u1.reduce((v,N)=>{const j=o[N];return v[N]=(k,S=!1,C=!1)=>(r||y(),j.schedule(k,S,C)),v},{}),cancel:v=>{for(let N=0;N<u1.length;N++)o[u1[N]].cancel(v)},state:n,steps:o}}const{schedule:Hs,cancel:zc,state:Qn,steps:WE}=pY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Uo,!0);let bN;function sbe(){bN=void 0}const Ro={now:()=>(bN===void 0&&Ro.set(Qn.isProcessing||Cu.useManualTiming?Qn.timestamp:performance.now()),bN),set:e=>{bN=e,queueMicrotask(sbe)}},xY=e=>t=>typeof t=="string"&&t.startsWith(e),EI=xY("--"),abe=xY("var(--"),PI=e=>abe(e)?nbe.test(e.split("/*")[0].trim()):!1,nbe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,C0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gb={...C0,transform:e=>Id(0,1,e)},h1={...C0,default:1},yy=e=>Math.round(e*1e5)/1e5,TI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ibe(e){return e==null}const obe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_I=(e,t)=>r=>!!(typeof r=="string"&&obe.test(r)&&r.startsWith(e)||t&&!ibe(r)&&Object.prototype.hasOwnProperty.call(r,t)),gY=(e,t,r)=>a=>{if(typeof a!="string")return a;const[n,i,o,l]=a.match(TI);return{[e]:parseFloat(n),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lbe=e=>Id(0,255,e),HE={...C0,transform:e=>Math.round(lbe(e))},mf={test:_I("rgb","red"),parse:gY("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+HE.transform(e)+", "+HE.transform(t)+", "+HE.transform(r)+", "+yy(gb.transform(a))+")"};function cbe(e){let t="",r="",a="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const Y4={test:_I("#"),parse:cbe,transform:mf.transform},Ww=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ah=Ww("deg"),Cd=Ww("%"),Mr=Ww("px"),dbe=Ww("vh"),ube=Ww("vw"),O6={...Cd,parse:e=>Cd.parse(e)/100,transform:e=>Cd.transform(e*100)},vx={test:_I("hsl","hue"),parse:gY("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+Cd.transform(yy(t))+", "+Cd.transform(yy(r))+", "+yy(gb.transform(a))+")"},Sn={test:e=>mf.test(e)||Y4.test(e)||vx.test(e),parse:e=>mf.test(e)?mf.parse(e):vx.test(e)?vx.parse(e):Y4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mf.transform(e):vx.transform(e),getAnimatableNone:e=>{const t=Sn.parse(e);return t.alpha=0,Sn.transform(t)}},hbe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mbe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(TI))==null?void 0:t.length)||0)+(((r=e.match(hbe))==null?void 0:r.length)||0)>0}const vY="number",yY="color",fbe="var",pbe="var(",I6="${}",xbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vb(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},n=[];let i=0;const l=t.replace(xbe,c=>(Sn.test(c)?(a.color.push(i),n.push(yY),r.push(Sn.parse(c))):c.startsWith(pbe)?(a.var.push(i),n.push(fbe),r.push(c)):(a.number.push(i),n.push(vY),r.push(parseFloat(c))),++i,I6)).split(I6);return{values:r,split:l,indexes:a,types:n}}function bY(e){return vb(e).values}function wY(e){const{split:t,types:r}=vb(e),a=t.length;return n=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],n[o]!==void 0){const l=r[o];l===vY?i+=yy(n[o]):l===yY?i+=Sn.transform(n[o]):i+=n[o]}return i}}const gbe=e=>typeof e=="number"?0:Sn.test(e)?Sn.getAnimatableNone(e):e;function vbe(e){const t=bY(e);return wY(e)(t.map(gbe))}const om={test:mbe,parse:bY,createTransformer:wY,getAnimatableNone:vbe};function qE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ybe({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let n=0,i=0,o=0;if(!t)n=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;n=qE(c,l,e+1/3),i=qE(c,l,e),o=qE(c,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function N2(e,t){return r=>r>0?t:e}const $a=(e,t,r)=>e+(t-e)*r,GE=(e,t,r)=>{const a=e*e,n=r*(t*t-a)+a;return n<0?0:Math.sqrt(n)},bbe=[Y4,mf,vx],wbe=e=>bbe.find(t=>t.test(e));function R6(e){const t=wbe(e);if(!t)return!1;let r=t.parse(e);return t===vx&&(r=ybe(r)),r}const F6=(e,t)=>{const r=R6(e),a=R6(t);if(!r||!a)return N2(e,t);const n={...r};return i=>(n.red=GE(r.red,a.red,i),n.green=GE(r.green,a.green,i),n.blue=GE(r.blue,a.blue,i),n.alpha=$a(r.alpha,a.alpha,i),mf.transform(n))},X4=new Set(["none","hidden"]);function jbe(e,t){return X4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Nbe(e,t){return r=>$a(e,t,r)}function DI(e){return typeof e=="number"?Nbe:typeof e=="string"?PI(e)?N2:Sn.test(e)?F6:Cbe:Array.isArray(e)?jY:typeof e=="object"?Sn.test(e)?F6:Sbe:N2}function jY(e,t){const r=[...e],a=r.length,n=e.map((i,o)=>DI(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=n[o](i);return r}}function Sbe(e,t){const r={...e,...t},a={};for(const n in r)e[n]!==void 0&&t[n]!==void 0&&(a[n]=DI(e[n])(e[n],t[n]));return n=>{for(const i in a)r[i]=a[i](n);return r}}function kbe(e,t){const r=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],o=e.indexes[i][a[i]],l=e.values[o]??0;r[n]=l,a[i]++}return r}const Cbe=(e,t)=>{const r=om.createTransformer(t),a=vb(e),n=vb(t);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?X4.has(e)&&!n.values.length||X4.has(t)&&!a.values.length?jbe(e,t):Vw(jY(kbe(a,n),n.values),r):N2(e,t)};function NY(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?$a(e,t,r):DI(e)(e,t)}const Abe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Hs.update(t,r),stop:()=>zc(t),now:()=>Qn.isProcessing?Qn.timestamp:Ro.now()}},SY=(e,t,r=10)=>{let a="";const n=Math.max(Math.round(t/r),2);for(let i=0;i<n;i++)a+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},S2=2e4;function OI(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<S2;)t+=r,a=e.next(t);return t>=S2?1/0:t}function Ebe(e,t=100,r){const a=r({...e,keyframes:[0,t]}),n=Math.min(OI(a),S2);return{type:"keyframes",ease:i=>a.next(n*i).value/t,duration:Bl(n)}}const Pbe=5;function kY(e,t,r){const a=Math.max(t-Pbe,0);return kI(r-e(a),t-a)}const Ka={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KE=.001;function Tbe({duration:e=Ka.duration,bounce:t=Ka.bounce,velocity:r=Ka.velocity,mass:a=Ka.mass}){let n,i,o=1-t;o=Id(Ka.minDamping,Ka.maxDamping,o),e=Id(Ka.minDuration,Ka.maxDuration,Bl(e)),o<1?(n=d=>{const u=d*o,h=u*e,m=u-r,p=Q4(d,o),g=Math.exp(-h);return KE-m/p*g},i=d=>{const h=d*o*e,m=h*r+r,p=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),x=Q4(Math.pow(d,2),o);return(-n(d)+KE>0?-1:1)*((m-p)*g)/x}):(n=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-KE+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=Dbe(n,i,l);if(e=kd(e),isNaN(c))return{stiffness:Ka.stiffness,damping:Ka.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const _be=12;function Dbe(e,t,r){let a=r;for(let n=1;n<_be;n++)a=a-e(a)/t(a);return a}function Q4(e,t){return e*Math.sqrt(1-t*t)}const Obe=["duration","bounce"],Ibe=["stiffness","damping","mass"];function M6(e,t){return t.some(r=>e[r]!==void 0)}function Rbe(e){let t={velocity:Ka.velocity,stiffness:Ka.stiffness,damping:Ka.damping,mass:Ka.mass,isResolvedFromDuration:!1,...e};if(!M6(e,Ibe)&&M6(e,Obe))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),n=a*a,i=2*Id(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:Ka.mass,stiffness:n,damping:i}}else{const r=Tbe(e);t={...t,...r,mass:Ka.mass},t.isResolvedFromDuration=!0}return t}function k2(e=Ka.visualDuration,t=Ka.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:n}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=Rbe({...r,velocity:-Bl(r.velocity||0)}),g=m||0,x=d/(2*Math.sqrt(c*u)),y=o-i,w=Bl(Math.sqrt(c/u)),b=Math.abs(y)<5;a||(a=b?Ka.restSpeed.granular:Ka.restSpeed.default),n||(n=b?Ka.restDelta.granular:Ka.restDelta.default);let v;if(x<1){const j=Q4(w,x);v=k=>{const S=Math.exp(-x*w*k);return o-S*((g+x*w*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(x===1)v=j=>o-Math.exp(-w*j)*(y+(g+w*y)*j);else{const j=w*Math.sqrt(x*x-1);v=k=>{const S=Math.exp(-x*w*k),C=Math.min(j*k,300);return o-S*((g+x*w*y)*Math.sinh(C)+j*y*Math.cosh(C))/j}}const N={calculatedDuration:p&&h||null,next:j=>{const k=v(j);if(p)l.done=j>=h;else{let S=j===0?g:0;x<1&&(S=j===0?kd(g):kY(v,j,k));const C=Math.abs(S)<=a,A=Math.abs(o-k)<=n;l.done=C&&A}return l.value=l.done?o:k,l},toString:()=>{const j=Math.min(OI(N),S2),k=SY(S=>N.next(j*S).value,j,30);return j+"ms "+k},toTransition:()=>{}};return N}k2.applyToOptions=e=>{const t=Ebe(e,100,k2);return e.ease=t.ease,e.duration=kd(t.duration),e.type="keyframes",e};function J4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let x=r*t;const y=h+x,w=o===void 0?y:o(y);w!==y&&(x=w-h);const b=C=>-x*Math.exp(-C/a),v=C=>w+b(C),N=C=>{const A=b(C),E=v(C);m.done=Math.abs(A)<=d,m.value=m.done?w:E};let j,k;const S=C=>{p(m.value)&&(j=C,k=k2({keyframes:[m.value,g(m.value)],velocity:kY(v,C,m.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let A=!1;return!k&&j===void 0&&(A=!0,N(C),S(C)),j!==void 0&&C>=j?k.next(C-j):(!A&&N(C),m)}}}function Fbe(e,t,r){const a=[],n=r||Cu.mix||NY,i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Uo:t;l=Vw(c,l)}a.push(l)}return a}function II(e,t,{clamp:r=!0,ease:a,mixer:n}={}){const i=e.length;if(kg(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Fbe(t,a,n),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Cg(e[h],e[h+1],u);return l[h](m)};return r?u=>d(Id(e[0],e[i-1],u)):d}function Mbe(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const n=Cg(0,t,a);e.push($a(r,1,n))}}function CY(e){const t=[0];return Mbe(t,e.length-1),t}function Lbe(e,t){return e.map(r=>r*t)}function $be(e,t){return e.map(()=>t||mY).splice(0,e.length-1)}function by({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const n=Zye(a)?a.map(_6):_6(a),i={done:!1,value:t[0]},o=Lbe(r&&r.length===t.length?r:CY(t),e),l=II(o,t,{ease:Array.isArray(n)?n:$be(t,n)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Bbe=e=>e!==null;function RI(e,{repeat:t,repeatType:r="loop"},a,n=1){const i=e.filter(Bbe),l=n<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const Ube={decay:J4,inertia:J4,tween:by,keyframes:by,spring:k2};function AY(e){typeof e.type=="string"&&(e.type=Ube[e.type])}class FI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Vbe=e=>e/100;class Zk extends FI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,n;const{motionValue:r}=this.options;r&&r.updatedAt!==Ro.now()&&this.tick(Ro.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;AY(t);const{type:r=by,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||by;c!==by&&typeof l[0]!="number"&&(this.mixKeyframes=Vw(Vbe,NY(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=OI(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>n;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let v=this.currentTime,N=a;if(h){const C=Math.min(this.currentTime,n)/l;let A=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(E=1-E,p&&(E-=p/l)):m==="mirror"&&(N=o)),v=Id(0,1,E)*l}const j=b?{done:!1,value:u[0]}:N.next(v);i&&(j.value=i(j.value));let{done:k}=j;!b&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return S&&g!==J4&&(j.value=RI(u,this.options,y,this.speed)),x&&x(j.value),S&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return Bl(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bl(t)}get time(){return Bl(this.currentTime)}set time(t){var r;t=kd(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ro.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Bl(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=Abe,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(n=this.options).onPlay)==null||i.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ro.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function zbe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ff=e=>e*180/Math.PI,Z4=e=>{const t=ff(Math.atan2(e[1],e[0]));return e_(t)},Wbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Z4,rotateZ:Z4,skewX:e=>ff(Math.atan(e[1])),skewY:e=>ff(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e_=e=>(e=e%360,e<0&&(e+=360),e),L6=Z4,$6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),B6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Hbe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$6,scaleY:B6,scale:e=>($6(e)+B6(e))/2,rotateX:e=>e_(ff(Math.atan2(e[6],e[5]))),rotateY:e=>e_(ff(Math.atan2(-e[2],e[0]))),rotateZ:L6,rotate:L6,skewX:e=>ff(Math.atan(e[4])),skewY:e=>ff(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function t_(e){return e.includes("scale")?1:0}function r_(e,t){if(!e||e==="none")return t_(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(r)a=Hbe,n=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Wbe,n=l}if(!n)return t_(t);const i=a[t],o=n[1].split(",").map(Gbe);return typeof i=="function"?i(o):o[i]}const qbe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return r_(r,t)};function Gbe(e){return parseFloat(e.trim())}const A0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],E0=new Set(A0),U6=e=>e===C0||e===Mr,Kbe=new Set(["x","y","z"]),Ybe=A0.filter(e=>!Kbe.has(e));function Xbe(e){const t=[];return Ybe.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const Df={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>r_(t,"x"),y:(e,{transform:t})=>r_(t,"y")};Df.translateX=Df.x;Df.translateY=Df.y;const Of=new Set;let s_=!1,a_=!1,n_=!1;function EY(){if(a_){const e=Array.from(Of).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const n=Xbe(a);n.length&&(r.set(a,n),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const n=r.get(a);n&&n.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}a_=!1,s_=!1,Of.forEach(e=>e.complete(n_)),Of.clear()}function PY(){Of.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(a_=!0)})}function Qbe(){n_=!0,PY(),EY(),n_=!1}class MI{constructor(t,r,a,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Of.add(this),s_||(s_=!0,Hs.read(PY),Hs.resolveKeyframes(EY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&r){const l=a.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),n&&i===void 0&&n.set(t[0])}zbe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Of.delete(this)}cancel(){this.state==="scheduled"&&(Of.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jbe=e=>e.startsWith("--");function Zbe(e,t,r){Jbe(t)?e.style.setProperty(t,r):e.style[t]=r}const TY=NI(()=>window.ScrollTimeline!==void 0),ewe={};function twe(e,t){const r=NI(e);return()=>ewe[t]??r()}const _Y=twe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kv=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,V6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kv([0,.65,.55,1]),circOut:Kv([.55,0,1,.45]),backIn:Kv([.31,.01,.66,-.59]),backOut:Kv([.33,1.53,.69,.99])};function DY(e,t){if(e)return typeof e=="function"?_Y()?SY(e,t):"ease-out":fY(e)?Kv(e):Array.isArray(e)?e.map(r=>DY(r,t)||V6.easeOut):V6[e]}function rwe(e,t,r,{delay:a=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const h=DY(l,n);Array.isArray(h)&&(u.easing=h);const m={delay:a,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function OY(e){return typeof e=="function"&&"applyToOptions"in e}function swe({type:e,...t}){return OY(e)&&_Y()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class awe extends FI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,kg(typeof t.type!="string");const d=swe(t);this.animation=rwe(r,a,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=RI(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Zbe(r,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return Bl(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Bl(t)}get time(){return Bl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kd(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&TY()?(this.animation.timeline=t,Uo):r(this)}}const IY={anticipate:dY,backInOut:cY,circInOut:hY};function nwe(e){return e in IY}function iwe(e){typeof e.ease=="string"&&nwe(e.ease)&&(e.ease=IY[e.ease])}const z6=10;class owe extends awe{constructor(t){iwe(t),AY(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:n,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Zk({...o,autoplay:!1}),c=kd(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-z6).value,l.sample(c).value,z6),l.stop()}}const W6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(om.test(e)||e==="0")&&!e.startsWith("url("));function lwe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function cwe(e,t,r,a){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=W6(n,t),l=W6(i,t);return!o||!l?!1:lwe(e)||(r==="spring"||OY(r))&&a}function i_(e){e.duration=0,e.type="keyframes"}const dwe=new Set(["opacity","clipPath","filter","transform"]),uwe=NI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hwe(e){var u;const{motionValue:t,name:r,repeatDelay:a,repeatType:n,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return uwe()&&r&&dwe.has(r)&&(r!=="transform"||!d)&&!c&&!a&&n!=="mirror"&&i!==0&&o!=="inertia"}const mwe=40;class fwe extends FI{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ro.now();const m={autoplay:t,delay:r,type:a,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||MI;this.keyframeResolver=new p(l,(x,y,w)=>this.onKeyframesResolved(x,y,m,!w),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,a,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=Ro.now(),cwe(t,i,o,l)||((Cu.instantAnimations||!c)&&(u==null||u(RI(t,a,r))),t[0]=t[t.length-1],i_(a),a.repeat=0);const m={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>mwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},p=!d&&hwe(m)?new owe({...m,element:m.motionValue.owner.current}):new Zk(m);p.finished.then(()=>this.notifyFinished()).catch(Uo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Qbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const pwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xwe(e){const t=pwe.exec(e);if(!t)return[,];const[,r,a,n]=t;return[`--${r??a}`,n]}function RY(e,t,r=1){const[a,n]=xwe(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return rY(o)?parseFloat(o):o}return PI(n)?RY(n,t,r+1):n}function LI(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const FY=new Set(["width","height","top","left","right","bottom",...A0]),gwe={test:e=>e==="auto",parse:e=>e},MY=e=>t=>t.test(e),LY=[C0,Mr,Cd,ah,ube,dbe,gwe],H6=e=>LY.find(MY(e));function vwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aY(e):!0}const ywe=new Set(["brightness","contrast","saturate","opacity"]);function bwe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(TI)||[];if(!a)return e;const n=r.replace(a,"");let i=ywe.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+n+")"}const wwe=/\b([a-z-]*)\(.*?\)/gu,o_={...om,getAnimatableNone:e=>{const t=e.match(wwe);return t?t.map(bwe).join(" "):e}},q6={...C0,transform:Math.round},jwe={rotate:ah,rotateX:ah,rotateY:ah,rotateZ:ah,scale:h1,scaleX:h1,scaleY:h1,scaleZ:h1,skew:ah,skewX:ah,skewY:ah,distance:Mr,translateX:Mr,translateY:Mr,translateZ:Mr,x:Mr,y:Mr,z:Mr,perspective:Mr,transformPerspective:Mr,opacity:gb,originX:O6,originY:O6,originZ:Mr},$I={borderWidth:Mr,borderTopWidth:Mr,borderRightWidth:Mr,borderBottomWidth:Mr,borderLeftWidth:Mr,borderRadius:Mr,radius:Mr,borderTopLeftRadius:Mr,borderTopRightRadius:Mr,borderBottomRightRadius:Mr,borderBottomLeftRadius:Mr,width:Mr,maxWidth:Mr,height:Mr,maxHeight:Mr,top:Mr,right:Mr,bottom:Mr,left:Mr,padding:Mr,paddingTop:Mr,paddingRight:Mr,paddingBottom:Mr,paddingLeft:Mr,margin:Mr,marginTop:Mr,marginRight:Mr,marginBottom:Mr,marginLeft:Mr,backgroundPositionX:Mr,backgroundPositionY:Mr,...jwe,zIndex:q6,fillOpacity:gb,strokeOpacity:gb,numOctaves:q6},Nwe={...$I,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:o_,WebkitFilter:o_},$Y=e=>Nwe[e];function BY(e,t){let r=$Y(e);return r!==o_&&(r=om),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Swe=new Set(["auto","none","0"]);function kwe(e,t,r){let a=0,n;for(;a<e.length&&!n;){const i=e[a];typeof i=="string"&&!Swe.has(i)&&vb(i).values.length&&(n=e[a]),a++}if(n&&r)for(const i of t)e[i]=BY(r,n)}class Cwe extends MI{constructor(t,r,a,n,i){super(t,r,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),PI(d))){const u=RY(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!FY.has(a)||t.length!==2)return;const[n,i]=t,o=H6(n),l=H6(i);if(o!==l)if(U6(o)&&U6(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Df[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let n=0;n<t.length;n++)(t[n]===null||vwe(t[n]))&&a.push(n);a.length&&kwe(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Df[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&t.getValue(a,n).jump(n,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const n=t.getValue(r);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Df[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function UY(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const n=document.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const VY=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function BI(e){return sY(e)&&"offsetHeight"in e}const G6=30,Awe=e=>!isNaN(parseFloat(e)),wy={current:void 0};class Ewe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const n=Ro.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ro.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Awe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new SI);const a=this.events[t].add(r);return t==="change"?()=>{a(),Hs.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return wy.current&&wy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ro.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>G6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,G6);return kI(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(e,t){return new Ewe(e,t)}const{schedule:UI,cancel:Agt}=pY(queueMicrotask,!1),fc={x:!1,y:!1};function zY(){return fc.x||fc.y}function Pwe(e){return e==="x"||e==="y"?fc[e]?null:(fc[e]=!0,()=>{fc[e]=!1}):fc.x||fc.y?null:(fc.x=fc.y=!0,()=>{fc.x=fc.y=!1})}function WY(e,t){const r=UY(e),a=new AbortController,n={passive:!0,...t,signal:a.signal};return[r,n,()=>a.abort()]}function K6(e){return!(e.pointerType==="touch"||zY())}function Twe(e,t,r={}){const[a,n,i]=WY(e,r),o=l=>{if(!K6(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{K6(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return a.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const HY=(e,t)=>t?e===t?!0:HY(e,t.parentElement):!1,VI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_we=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dwe(e){return _we.has(e.tagName)||e.tabIndex!==-1}const wN=new WeakSet;function Y6(e){return t=>{t.key==="Enter"&&e(t)}}function YE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Owe=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=Y6(()=>{if(wN.has(r))return;YE(r,"down");const n=Y6(()=>{YE(r,"up")}),i=()=>YE(r,"cancel");r.addEventListener("keyup",n,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function X6(e){return VI(e)&&!zY()}function Iwe(e,t,r={}){const[a,n,i]=WY(e,r),o=l=>{const c=l.currentTarget;if(!X6(l))return;wN.add(c);const d=t(c,l),u=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),wN.has(c)&&wN.delete(c),X6(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{u(p,c===window||c===document||r.useGlobalTarget||HY(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,n),window.addEventListener("pointercancel",m,n)};return a.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),BI(l)&&(l.addEventListener("focus",d=>Owe(d,n)),!Dwe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function zI(e){return sY(e)&&"ownerSVGElement"in e}const jN=new WeakMap;let nh;const qY=(e,t,r)=>(a,n)=>n&&n[0]?n[0][e+"Size"]:zI(a)&&"getBBox"in a?a.getBBox()[t]:a[r],Rwe=qY("inline","width","offsetWidth"),Fwe=qY("block","height","offsetHeight");function Mwe({target:e,borderBoxSize:t}){var r;(r=jN.get(e))==null||r.forEach(a=>{a(e,{get width(){return Rwe(e,t)},get height(){return Fwe(e,t)}})})}function Lwe(e){e.forEach(Mwe)}function $we(){typeof ResizeObserver>"u"||(nh=new ResizeObserver(Lwe))}function Bwe(e,t){nh||$we();const r=UY(e);return r.forEach(a=>{let n=jN.get(a);n||(n=new Set,jN.set(a,n)),n.add(t),nh==null||nh.observe(a)}),()=>{r.forEach(a=>{const n=jN.get(a);n==null||n.delete(t),n!=null&&n.size||nh==null||nh.unobserve(a)})}}const NN=new Set;let yx;function Uwe(){yx=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};NN.forEach(t=>t(e))},window.addEventListener("resize",yx)}function Vwe(e){return NN.add(e),yx||Uwe(),()=>{NN.delete(e),!NN.size&&typeof yx=="function"&&(window.removeEventListener("resize",yx),yx=void 0)}}function zwe(e,t){return typeof e=="function"?Vwe(e):Bwe(e,t)}function GY(e,t){let r;const a=()=>{const{currentTime:n}=t,o=(n===null?0:n.value)/100;r!==o&&e(o),r=o};return Hs.preUpdate(a,!0),()=>zc(a)}function Wwe(e){return zI(e)&&e.tagName==="svg"}function Hwe(...e){const t=!Array.isArray(e[0]),r=t?0:-1,a=e[0+r],n=e[1+r],i=e[2+r],o=e[3+r],l=II(n,i,o);return t?l(a):l}const ni=e=>!!(e&&e.getVelocity);function qwe(e,t,r){const a=e.get();let n=null,i=a,o;const l=typeof a=="string"?a.replace(/[\d.-]/g,""):void 0,c=()=>{n&&(n.stop(),n=null)},d=()=>{c(),n=new Zk({keyframes:[J6(e.get()),J6(i)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:o})};if(e.attach((u,h)=>{i=u,o=m=>h(Q6(m,l)),Hs.postRender(d)},c),ni(t)){const u=t.on("change",m=>e.set(Q6(m,l))),h=e.on("destroy",u);return()=>{u(),h()}}return c}function Q6(e,t){return t?e+t:e}function J6(e){return typeof e=="number"?e:parseFloat(e)}const Gwe=[...LY,Sn,om],Kwe=e=>Gwe.find(MY(e)),Hw=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Z6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ywe(...e){return t=>{let r=!1;const a=e.map(n=>{const i=Z6(n,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():Z6(e[n],null)}}}}function Xwe(...e){return f.useCallback(Ywe(...e),e)}class Qwe extends f.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,n=BI(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jwe({children:e,isPresent:t,anchorX:r,root:a}){const n=f.useId(),i=f.useRef(null),o=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=f.useContext(Hw),c=Xwe(i,e==null?void 0:e.ref);return f.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:m,right:p}=o.current;if(t||!i.current||!d||!u)return;const g=r==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=n;const x=document.createElement("style");l&&(x.nonce=l);const y=a??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),s.jsx(Qwe,{isPresent:t,childRef:i,sizeRef:o,children:f.cloneElement(e,{ref:c})})}const Zwe=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=k0(eje),u=f.useId();let h=!0,m=f.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:n,onExitComplete:p=>{d.set(p,!0);for(const g of d.values())if(!g)return;a&&a()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[r,d,a]);return i&&h&&(m={...m}),f.useMemo(()=>{d.forEach((p,g)=>d.set(g,!1))},[r]),f.useEffect(()=>{!r&&!d.size&&a&&a()},[r]),o==="popLayout"&&(e=s.jsx(Jwe,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(Jk.Provider,{value:m,children:e})};function eje(){return new Map}function KY(e=!0){const t=f.useContext(Jk);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:n}=t,i=f.useId();f.useEffect(()=>{if(e)return n(i)},[e]);const o=f.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const m1=e=>e.key||"";function e$(e){const t=[];return f.Children.forEach(e,r=>{f.isValidElement(r)&&t.push(r)}),t}const Wi=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=KY(o),h=f.useMemo(()=>e$(e),[e]),m=o&&!d?[]:h.map(m1),p=f.useRef(!0),g=f.useRef(h),x=k0(()=>new Map),[y,w]=f.useState(h),[b,v]=f.useState(h);Qk(()=>{p.current=!1,g.current=h;for(let k=0;k<b.length;k++){const S=m1(b[k]);m.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[b,m.length,m.join("-")]);const N=[];if(h!==y){let k=[...h];for(let S=0;S<b.length;S++){const C=b[S],A=m1(C);m.includes(A)||(k.splice(S,0,C),N.push(C))}return i==="wait"&&N.length&&(k=N),v(e$(k)),w(h),null}const{forceRender:j}=f.useContext(yI);return s.jsx(s.Fragment,{children:b.map(k=>{const S=m1(k),C=o&&!d?!1:h===b||m.includes(S),A=()=>{if(x.has(S))x.set(S,!0);else return;let E=!0;x.forEach(D=>{D||(E=!1)}),E&&(j==null||j(),v(g.current),o&&(u==null||u()),a&&a())};return s.jsx(Zwe,{isPresent:C,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:C?void 0:A,anchorX:l,children:k},S)})})},YY=f.createContext({strict:!1}),t$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ag={};for(const e in t$)Ag[e]={isEnabled:t=>t$[e].some(r=>!!t[r])};function tje(e){for(const t in e)Ag[t]={...Ag[t],...e[t]}}const rje=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rje.has(e)}let XY=e=>!C2(e);function sje(e){typeof e=="function"&&(XY=t=>t.startsWith("on")?!C2(t):e(t))}try{sje(require("@emotion/is-prop-valid").default)}catch{}function aje(e,t,r){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(XY(n)||r===!0&&C2(n)||!t&&!C2(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}const eC=f.createContext({});function tC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function yb(e){return typeof e=="string"||Array.isArray(e)}const WI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HI=["initial",...WI];function rC(e){return tC(e.animate)||HI.some(t=>yb(e[t]))}function QY(e){return!!(rC(e)||e.variants)}function nje(e,t){if(rC(e)){const{initial:r,animate:a}=e;return{initial:r===!1||yb(r)?r:void 0,animate:yb(a)?a:void 0}}return e.inherit!==!1?t:{}}function ije(e){const{initial:t,animate:r}=nje(e,f.useContext(eC));return f.useMemo(()=>({initial:t,animate:r}),[r$(t),r$(r)])}function r$(e){return Array.isArray(e)?e.join(" "):e}const bb={};function oje(e){for(const t in e)bb[t]=e[t],EI(t)&&(bb[t].isCSSVariable=!0)}function JY(e,{layout:t,layoutId:r}){return E0.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bb[e]||e==="opacity")}const lje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cje=A0.length;function dje(e,t,r){let a="",n=!0;for(let i=0;i<cje;i++){const o=A0[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=VY(l,$I[o]);if(!c){n=!1;const u=lje[o]||o;a+=`${u}(${d}) `}r&&(t[o]=d)}}return a=a.trim(),r?a=r(t,n?"":a):n&&(a="none"),a}function qI(e,t,r){const{style:a,vars:n,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(E0.has(c)){o=!0;continue}else if(EI(c)){n[c]=d;continue}else{const u=VY(d,$I[c]);c.startsWith("origin")?(l=!0,i[c]=u):a[c]=u}}if(t.transform||(o||r?a.transform=dje(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const GI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZY(e,t,r){for(const a in t)!ni(t[a])&&!JY(a,r)&&(e[a]=t[a])}function uje({transformTemplate:e},t){return f.useMemo(()=>{const r=GI();return qI(r,t,e),Object.assign({},r.vars,r.style)},[t])}function hje(e,t){const r=e.style||{},a={};return ZY(a,r,e),Object.assign(a,uje(e,t)),a}function mje(e,t){const r={},a=hje(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const fje={offset:"stroke-dashoffset",array:"stroke-dasharray"},pje={offset:"strokeDashoffset",array:"strokeDasharray"};function xje(e,t,r=1,a=0,n=!0){e.pathLength=1;const i=n?fje:pje;e[i.offset]=Mr.transform(-a);const o=Mr.transform(t),l=Mr.transform(r);e[i.array]=`${o} ${l}`}function eX(e,{attrX:t,attrY:r,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(qI(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),a!==void 0&&(h.scale=a),n!==void 0&&xje(h,n,i,o,!1)}const tX=()=>({...GI(),attrs:{}}),rX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gje(e,t,r,a){const n=f.useMemo(()=>{const i=tX();return eX(i,t,rX(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ZY(i,e.style,e),n.style={...i,...n.style}}return n}const vje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KI(e){return typeof e!="string"||e.includes("-")?!1:!!(vje.indexOf(e)>-1||/[A-Z]/u.test(e))}function yje(e,t,r,{latestValues:a},n,i=!1){const l=(KI(e)?gje:mje)(t,a,n,e),c=aje(t,typeof e=="string",i),d=e!==f.Fragment?{...c,...l,ref:r}:{},{children:u}=t,h=f.useMemo(()=>ni(u)?u.get():u,[u]);return f.createElement(e,{...d,children:h})}function s$(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function YI(e,t,r,a){if(typeof t=="function"){const[n,i]=s$(a);t=t(r!==void 0?r:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=s$(a);t=t(r!==void 0?r:e.custom,n,i)}return t}function SN(e){return ni(e)?e.get():e}function bje({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,n){return{latestValues:wje(r,a,n,e),renderState:t()}}function wje(e,t,r,a){const n={},i=a(e,{});for(const m in i)n[m]=SN(i[m]);let{initial:o,animate:l}=e;const c=rC(e),d=QY(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!tC(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=YI(e,m[p]);if(g){const{transitionEnd:x,transition:y,...w}=g;for(const b in w){let v=w[b];if(Array.isArray(v)){const N=u?v.length-1:0;v=v[N]}v!==null&&(n[b]=v)}for(const b in x)n[b]=x[b]}}}return n}const sX=e=>(t,r)=>{const a=f.useContext(eC),n=f.useContext(Jk),i=()=>bje(e,t,a,n);return r?i():k0(i)};function XI(e,t,r){var i;const{style:a}=e,n={};for(const o in a)(ni(a[o])||t.style&&ni(t.style[o])||JY(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(n[o]=a[o]);return n}const jje=sX({scrapeMotionValuesFromProps:XI,createRenderState:GI});function aX(e,t,r){const a=XI(e,t,r);for(const n in e)if(ni(e[n])||ni(t[n])){const i=A0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=e[n]}return a}const Nje=sX({scrapeMotionValuesFromProps:aX,createRenderState:tX}),Sje=Symbol.for("motionComponentSymbol");function bx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kje(e,t,r){return f.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):bx(r)&&(r.current=a))},[t])}const QI=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cje="framerAppearId",nX="data-"+QI(Cje),iX=f.createContext({});function Aje(e,t,r,a,n){var x,y;const{visualElement:i}=f.useContext(eC),o=f.useContext(YY),l=f.useContext(Jk),c=f.useContext(Hw).reducedMotion,d=f.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=f.useContext(iX);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&Eje(d.current,r,n,h);const m=f.useRef(!1);f.useInsertionEffect(()=>{u&&m.current&&u.update(r,l)});const p=r[nX],g=f.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return Qk(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),g.current=!1),u.enteringChildren=void 0)}),u}function Eje(e,t,r,a){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:oX(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&bx(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function oX(e){if(e)return e.options.allowProjection!==!1?e.projection:oX(e.parent)}function XE(e,{forwardMotionProps:t=!1}={},r,a){r&&tje(r);const n=KI(e)?Nje:jje;function i(l,c){let d;const u={...f.useContext(Hw),...l,layoutId:Pje(l)},{isStatic:h}=u,m=ije(l),p=n(l,h);if(!h&&bI){Tje();const g=_je(u);d=g.MeasureLayout,m.visualElement=Aje(e,p,u,a,g.ProjectionNode)}return s.jsxs(eC.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...u}):null,yje(e,l,kje(p,m.visualElement,c),p,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=f.forwardRef(i);return o[Sje]=e,o}function Pje({layoutId:e}){const t=f.useContext(yI).id;return t&&e!==void 0?t+"-"+e:e}function Tje(e,t){f.useContext(YY).strict}function _je(e){const{drag:t,layout:r}=Ag;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Dje(e,t){if(typeof Proxy>"u")return XE;const r=new Map,a=(i,o)=>XE(i,o,e,t),n=(i,o)=>a(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?a:(r.has(o)||r.set(o,XE(o,void 0,e,t)),r.get(o))})}function lX({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function Oje({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ije(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function QE(e){return e===void 0||e===1}function l_({scale:e,scaleX:t,scaleY:r}){return!QE(e)||!QE(t)||!QE(r)}function tf(e){return l_(e)||cX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cX(e){return a$(e.x)||a$(e.y)}function a$(e){return e&&e!=="0%"}function A2(e,t,r){const a=e-r,n=t*a;return r+n}function n$(e,t,r,a,n){return n!==void 0&&(e=A2(e,n,a)),A2(e,r,a)+t}function c_(e,t=0,r=1,a,n){e.min=n$(e.min,t,r,a,n),e.max=n$(e.max,t,r,a,n)}function dX(e,{x:t,y:r}){c_(e.x,t.translate,t.scale,t.originPoint),c_(e.y,r.translate,r.scale,r.originPoint)}const i$=.999999999999,o$=1.0000000000001;function Rje(e,t,r,a=!1){const n=r.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jx(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dX(e,o)),a&&tf(i.latestValues)&&jx(e,i.latestValues))}t.x<o$&&t.x>i$&&(t.x=1),t.y<o$&&t.y>i$&&(t.y=1)}function wx(e,t){e.min=e.min+t,e.max=e.max+t}function l$(e,t,r,a,n=.5){const i=$a(e.min,e.max,n);c_(e,t,r,i,a)}function jx(e,t){l$(e.x,t.x,t.scaleX,t.scale,t.originX),l$(e.y,t.y,t.scaleY,t.scale,t.originY)}function uX(e,t){return lX(Ije(e.getBoundingClientRect(),t))}function Fje(e,t,r){const a=uX(e,r),{scroll:n}=t;return n&&(wx(a.x,n.offset.x),wx(a.y,n.offset.y)),a}const c$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nx=()=>({x:c$(),y:c$()}),d$=()=>({min:0,max:0}),on=()=>({x:d$(),y:d$()}),d_={current:null},hX={current:!1};function Mje(){if(hX.current=!0,!!bI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>d_.current=e.matches;e.addEventListener("change",t),t()}else d_.current=!1}const Lje=new WeakMap;function $je(e,t,r){for(const a in t){const n=t[a],i=r[a];if(ni(n))e.addValue(a,n);else if(ni(i))e.addValue(a,Tc(n,{owner:e}));else if(i!==n)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(a);e.addValue(a,Tc(o!==void 0?o:n,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const u$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bje{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ro.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Hs.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=rC(r),this.isVariantNode=QY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&ni(p)&&p.set(c[m])}}mount(t){var r;this.current=t,Lje.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),hX.current||Mje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d_.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),zc(this.notifyUpdate),zc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=E0.has(t);a&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Hs.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ag){const r=Ag[t];if(!r)continue;const{isEnabled:a,Feature:n}=r;if(!this.features[t]&&n&&a(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<u$.length;a++){const n=u$[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=t[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=$je(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Tc(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(rY(a)||aY(a))?a=parseFloat(a):!Kwe(a)&&om.test(r)&&(a=BY(t,r)),this.setBaseTarget(t,ni(a)?a.get():a)),ni(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=YI(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!ni(n)?n:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new SI),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){UI.render(this.render)}}class mX extends Bje{constructor(){super(...arguments),this.KeyframeResolver=Cwe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function fX(e,{style:t,vars:r},a,n){const i=e.style;let o;for(o in t)i[o]=t[o];n==null||n.applyProjectionStyles(i,a);for(o in r)i.setProperty(o,r[o])}function Uje(e){return window.getComputedStyle(e)}class Vje extends mX{constructor(){super(...arguments),this.type="html",this.renderInstance=fX}readValueFromInstance(t,r){var a;if(E0.has(r))return(a=this.projection)!=null&&a.isProjecting?t_(r):qbe(t,r);{const n=Uje(t),i=(EI(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return uX(t,r)}build(t,r,a){qI(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return XI(t,r,a)}}const pX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zje(e,t,r,a){fX(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(pX.has(n)?n:QI(n),t.attrs[n])}class Wje extends mX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(E0.has(r)){const a=$Y(r);return a&&a.default||0}return r=pX.has(r)?r:QI(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return aX(t,r,a)}build(t,r,a){eX(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,n){zje(t,r,a,n)}mount(t){this.isSVGTag=rX(t.tagName),super.mount(t)}}const Hje=(e,t)=>KI(e)?new Wje(t):new Vje(t,{allowProjection:e!==f.Fragment});function Wx(e,t,r){const a=e.getProps();return YI(a,t,r!==void 0?r:a.custom,e)}const u_=e=>Array.isArray(e);function qje(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Tc(r))}function Gje(e){return u_(e)?e[e.length-1]||0:e}function Kje(e,t){const r=Wx(e,t);let{transitionEnd:a={},transition:n={},...i}=r||{};i={...i,...a};for(const o in i){const l=Gje(i[o]);qje(e,o,l)}}function Yje(e){return!!(ni(e)&&e.add)}function h_(e,t){const r=e.getValue("willChange");if(Yje(r))return r.add(t);if(!r&&Cu.WillChange){const a=new Cu.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function xX(e){return e.props[nX]}const Xje=e=>e!==null;function Qje(e,{repeat:t,repeatType:r="loop"},a){const n=e.filter(Xje),i=t&&r!=="loop"&&t%2===1?0:n.length-1;return!i||a===void 0?n[i]:a}const Jje={type:"spring",stiffness:500,damping:25,restSpeed:10},Zje=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),e1e={type:"keyframes",duration:.8},t1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r1e=(e,{keyframes:t})=>t.length>2?e1e:E0.has(e)?e.startsWith("scale")?Zje(t[1]):Jje:t1e;function s1e({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const JI=(e,t,r,a={},n,i)=>o=>{const l=LI(a,e)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-kd(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:n};s1e(l)||Object.assign(u,r1e(e,u)),u.duration&&(u.duration=kd(u.duration)),u.repeatDelay&&(u.repeatDelay=kd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(i_(u),u.delay===0&&(h=!0)),(Cu.instantAnimations||Cu.skipAnimations)&&(h=!0,i_(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const m=Qje(u.keyframes,l);if(m!==void 0){Hs.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new Zk(u):new fwe(u)};function a1e({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function gX(e,t,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;a&&(i=a);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&a1e(d,u))continue;const p={delay:r,...LI(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=xX(e);if(w){const b=window.MotionHandoffAnimation(w,u,Hs);b!==null&&(p.startTime=b,x=!0)}}h_(e,u),h.start(JI(u,h,m,e.shouldReduceMotion&&FY.has(u)?{type:!1}:p,e,x));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Hs.update(()=>{o&&Kje(e,o)})}),c}function vX(e,t,r,a=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*a;return typeof r=="function"?r(i,o):n===1?i*a:l-i*a}function m_(e,t,r={}){var c;const a=Wx(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);const i=a?()=>Promise.all(gX(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=n;return n1e(e,t,d,u,h,m,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function n1e(e,t,r=0,a=0,n=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(m_(c,t,{...o,delay:r+(typeof a=="function"?0:a)+vX(e.variantChildren,c,a,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function i1e(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>m_(e,i,r));a=Promise.all(n)}else if(typeof t=="string")a=m_(e,t,r);else{const n=typeof t=="function"?Wx(e,t,r.custom):t;a=Promise.all(gX(e,n,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function yX(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const o1e=HI.length;function bX(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?bX(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<o1e;r++){const a=HI[r],n=e.props[a];(yb(n)||n===!1)&&(t[a]=n)}return t}const l1e=[...WI].reverse(),c1e=WI.length;function d1e(e){return t=>Promise.all(t.map(({animation:r,options:a})=>i1e(e,r,a)))}function u1e(e){let t=d1e(e),r=h$(),a=!0;const n=c=>(d,u)=>{var m;const h=Wx(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:g,...x}=h;d={...d,...x,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=bX(e.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let y=0;y<c1e;y++){const w=l1e[y],b=r[w],v=d[w]!==void 0?d[w]:u[w],N=yb(v),j=w===c?b.isActive:null;j===!1&&(g=y);let k=v===u[w]&&v!==d[w]&&N;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&j===null||!v&&!b.prevProp||tC(v)||typeof v=="boolean")continue;const S=h1e(b.prevProp,v);let C=S||w===c&&b.isActive&&!k&&N||y>g&&N,A=!1;const E=Array.isArray(v)?v:[v];let D=E.reduce(n(w),{});j===!1&&(D={});const{prevResolvedValues:P={}}=b,T={...P,...D},_=I=>{C=!0,m.has(I)&&(A=!0,m.delete(I)),b.needsAnimating[I]=!0;const R=e.getValue(I);R&&(R.liveStyle=!1)};for(const I in T){const R=D[I],L=P[I];if(p.hasOwnProperty(I))continue;let H=!1;u_(R)&&u_(L)?H=!yX(R,L):H=R!==L,H?R!=null?_(I):m.add(I):R!==void 0&&m.has(I)?_(I):b.protectedKeys[I]=!0}b.prevProp=v,b.prevResolvedValues=D,b.isActive&&(p={...p,...D}),a&&e.blockInitialAnimation&&(C=!1);const O=k&&S;C&&(!O||A)&&h.push(...E.map(I=>{const R={type:w};if(typeof I=="string"&&a&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,H=Wx(L,I);if(L.enteringChildren&&H){const{delayChildren:W}=H.transition||{};R.delay=vX(L.enteringChildren,e,W)}}return{animation:I,options:R}}))}if(m.size){const y={};if(typeof d.initial!="boolean"){const w=Wx(e,Array.isArray(d.initial)?d.initial[0]:d.initial);w&&w.transition&&(y.transition=w.transition)}m.forEach(w=>{const b=e.getBaseTarget(w),v=e.getValue(w);v&&(v.liveStyle=!0),y[w]=b??null}),h.push({animation:y})}let x=!!h.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),a=!1,x?t(h):Promise.resolve()}function l(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const m in r)r[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=h$()}}}function h1e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yX(t,e):!1}function Hm(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h$(){return{animate:Hm(!0),whileInView:Hm(),whileHover:Hm(),whileTap:Hm(),whileDrag:Hm(),whileFocus:Hm(),exit:Hm()}}class km{constructor(t){this.isMounted=!1,this.node=t}update(){}}class m1e extends km{constructor(t){super(t),t.animationState||(t.animationState=u1e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let f1e=0;class p1e extends km{constructor(){super(...arguments),this.id=f1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const n=this.node.animationState.setActive("exit",!t);r&&!t&&n.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x1e={animation:{Feature:m1e},exit:{Feature:p1e}};function wb(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function qw(e){return{point:{x:e.pageX,y:e.pageY}}}const g1e=e=>t=>VI(t)&&e(t,qw(t));function jy(e,t,r,a){return wb(e,t,g1e(r),a)}const wX=1e-4,v1e=1-wX,y1e=1+wX,jX=.01,b1e=0-jX,w1e=0+jX;function io(e){return e.max-e.min}function j1e(e,t,r){return Math.abs(e-t)<=r}function m$(e,t,r,a=.5){e.origin=a,e.originPoint=$a(t.min,t.max,e.origin),e.scale=io(r)/io(t),e.translate=$a(r.min,r.max,e.origin)-e.originPoint,(e.scale>=v1e&&e.scale<=y1e||isNaN(e.scale))&&(e.scale=1),(e.translate>=b1e&&e.translate<=w1e||isNaN(e.translate))&&(e.translate=0)}function Ny(e,t,r,a){m$(e.x,t.x,r.x,a?a.originX:void 0),m$(e.y,t.y,r.y,a?a.originY:void 0)}function f$(e,t,r){e.min=r.min+t.min,e.max=e.min+io(t)}function N1e(e,t,r){f$(e.x,t.x,r.x),f$(e.y,t.y,r.y)}function p$(e,t,r){e.min=t.min-r.min,e.max=e.min+io(t)}function Sy(e,t,r){p$(e.x,t.x,r.x),p$(e.y,t.y,r.y)}function Al(e){return[e("x"),e("y")]}const NX=({current:e})=>e?e.ownerDocument.defaultView:null,x$=(e,t)=>Math.abs(e-t);function S1e(e,t){const r=x$(e.x,t.x),a=x$(e.y,t.y);return Math.sqrt(r**2+a**2)}class SX{constructor(t,r,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ZE(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=S1e(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:x}=m,{timestamp:y}=Qn;this.history.push({...x,timestamp:y});const{onStart:w,onMove:b}=this.handlers;p||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=JE(p,this.transformPagePoint),Hs.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ZE(m.type==="pointercancel"?this.lastMoveEventInfo:JE(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,w),x&&x(m,w)},!VI(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=n||window;const l=qw(t),c=JE(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Qn;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,ZE(c,this.history)),this.removeListeners=Vw(jy(this.contextWindow,"pointermove",this.handlePointerMove),jy(this.contextWindow,"pointerup",this.handlePointerUp),jy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zc(this.updatePoint)}}function JE(e,t){return t?{point:t(e.point)}:e}function g$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ZE({point:e},t){return{point:e,delta:g$(e,kX(t)),offset:g$(e,k1e(t)),velocity:C1e(t,.1)}}function k1e(e){return e[0]}function kX(e){return e[e.length-1]}function C1e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const n=kX(e);for(;r>=0&&(a=e[r],!(n.timestamp-a.timestamp>kd(t)));)r--;if(!a)return{x:0,y:0};const i=Bl(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function A1e(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?$a(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?$a(r,e,a.max):Math.min(e,r)),e}function v$(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function E1e(e,{top:t,left:r,bottom:a,right:n}){return{x:v$(e.x,r,n),y:v$(e.y,t,a)}}function y$(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function P1e(e,t){return{x:y$(e.x,t.x),y:y$(e.y,t.y)}}function T1e(e,t){let r=.5;const a=io(e),n=io(t);return n>a?r=Cg(t.min,t.max-a,e.min):a>n&&(r=Cg(e.min,e.max-n,t.min)),Id(0,1,r)}function _1e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f_=.35;function D1e(e=f_){return e===!1?e=0:e===!0&&(e=f_),{x:b$(e,"left","right"),y:b$(e,"top","bottom")}}function b$(e,t,r){return{min:w$(e,t),max:w$(e,r)}}function w$(e,t){return typeof e=="number"?e:e[t]||0}const O1e=new WeakMap;class I1e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qw(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pwe(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Al(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Cd.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const N=v.layout.layoutBox[w];N&&(b=io(N)*(parseFloat(b)/100))}}this.originPoint[w]=b}),x&&Hs.postRender(()=>x(h,m)),h_(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(g&&this.currentDirection===null){this.currentDirection=R1e(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),y&&y(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Al(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new SX(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:NX(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,n=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Hs.postRender(()=>l(a,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:n}=this.getProps();if(!a||!f1(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=A1e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&bx(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=E1e(a.layoutBox,t):this.constraints=!1,this.elastic=D1e(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Al(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_1e(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!bx(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Fje(a,n.root,this.visualElement.getTransformPagePoint());let o=P1e(n.layout.layoutBox,i);if(r){const l=r(Oje(o));this.hasMutatedConstraints=!!l,l&&(o=lX(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Al(u=>{if(!f1(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=n?200:1e6,p=n?40:1e7,g={type:"inertia",velocity:a?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return h_(this.visualElement,t),a.start(JI(t,a,0,r,this.visualElement,!1))}stopAnimation(){Al(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Al(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),n=a[r];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Al(r=>{const{drag:a}=this.getProps();if(!f1(r,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];i.set(t[r]-$a(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!bx(r)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Al(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=T1e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Al(o=>{if(!f1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set($a(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;O1e.set(this.visualElement,this);const t=this.visualElement.current,r=jy(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();bx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Hs.read(a);const o=wb(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Al(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=f_,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function f1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function R1e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class F1e extends km{constructor(t){super(t),this.removeGroupControls=Uo,this.removeListeners=Uo,this.controls=new I1e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uo}unmount(){this.removeGroupControls(),this.removeListeners()}}const j$=e=>(t,r)=>{e&&Hs.postRender(()=>e(t,r))};class M1e extends km{constructor(){super(...arguments),this.removePointerDownListener=Uo}onPointerDown(t){this.session=new SX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:j$(t),onStart:j$(r),onMove:a,onEnd:(i,o)=>{delete this.session,n&&Hs.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=jy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mr.test(e))e=parseFloat(e);else return e;const r=N$(e,t.target.x),a=N$(e,t.target.y);return`${r}% ${a}%`}},L1e={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,n=om.parse(e);if(n.length>5)return a;const i=om.createTransformer(e),o=typeof n[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;n[0+o]/=l,n[1+o]/=c;const d=$a(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),i(n)}};let eP=!1;class $1e extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;oje(B1e),i&&(r.group&&r.group.add(i),a&&a.register&&n&&a.register(i),eP&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kN.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:n,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,eP=!0,n||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Hs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),UI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:n}=t;eP=!0,n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CX(e){const[t,r]=KY(),a=f.useContext(yI);return s.jsx($1e,{...e,layoutGroup:a,switchLayoutGroup:f.useContext(iX),isPresent:t,safeToRemove:r})}const B1e={borderRadius:{...vv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vv,borderTopRightRadius:vv,borderBottomLeftRadius:vv,borderBottomRightRadius:vv,boxShadow:L1e};function U1e(e,t,r){const a=ni(e)?e:Tc(e);return a.start(JI("",a,t,r)),a.animation}const V1e=(e,t)=>e.depth-t.depth;class z1e{constructor(){this.children=[],this.isDirty=!1}add(t){wI(this.children,t),this.isDirty=!0}remove(t){jI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V1e),this.isDirty=!1,this.children.forEach(t)}}function W1e(e,t){const r=Ro.now(),a=({timestamp:n})=>{const i=n-r;i>=t&&(zc(a),e(i-t))};return Hs.setup(a,!0),()=>zc(a)}const AX=["TopLeft","TopRight","BottomLeft","BottomRight"],H1e=AX.length,S$=e=>typeof e=="string"?parseFloat(e):e,k$=e=>typeof e=="number"||Mr.test(e);function q1e(e,t,r,a,n,i){n?(e.opacity=$a(0,r.opacity??1,G1e(a)),e.opacityExit=$a(t.opacity??1,0,K1e(a))):i&&(e.opacity=$a(t.opacity??1,r.opacity??1,a));for(let o=0;o<H1e;o++){const l=`border${AX[o]}Radius`;let c=C$(t,l),d=C$(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||k$(c)===k$(d)?(e[l]=Math.max($a(S$(c),S$(d),a),0),(Cd.test(d)||Cd.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=$a(t.rotate||0,r.rotate||0,a))}function C$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G1e=EX(0,.5,uY),K1e=EX(.5,.95,Uo);function EX(e,t,r){return a=>a<e?0:a>t?1:r(Cg(e,t,a))}function A$(e,t){e.min=t.min,e.max=t.max}function vl(e,t){A$(e.x,t.x),A$(e.y,t.y)}function E$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P$(e,t,r,a,n){return e-=t,e=A2(e,1/r,a),n!==void 0&&(e=A2(e,1/n,a)),e}function Y1e(e,t=0,r=1,a=.5,n,i=e,o=e){if(Cd.test(t)&&(t=parseFloat(t),t=$a(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=$a(i.min,i.max,a);e===i&&(l-=t),e.min=P$(e.min,t,r,l,n),e.max=P$(e.max,t,r,l,n)}function T$(e,t,[r,a,n],i,o){Y1e(e,t[r],t[a],t[n],t.scale,i,o)}const X1e=["x","scaleX","originX"],Q1e=["y","scaleY","originY"];function _$(e,t,r,a){T$(e.x,t,X1e,r?r.x:void 0,a?a.x:void 0),T$(e.y,t,Q1e,r?r.y:void 0,a?a.y:void 0)}function D$(e){return e.translate===0&&e.scale===1}function PX(e){return D$(e.x)&&D$(e.y)}function O$(e,t){return e.min===t.min&&e.max===t.max}function J1e(e,t){return O$(e.x,t.x)&&O$(e.y,t.y)}function I$(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TX(e,t){return I$(e.x,t.x)&&I$(e.y,t.y)}function R$(e){return io(e.x)/io(e.y)}function F$(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Z1e{constructor(){this.members=[]}add(t){wI(this.members,t),t.scheduleRender()}remove(t){if(jI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(n=>t===n);if(r===0)return!1;let a;for(let n=r;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eNe(e,t,r){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((n||i||o)&&(a=`translate3d(${n}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:g}=r;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),h&&(a+=`rotateX(${h}deg) `),m&&(a+=`rotateY(${m}deg) `),p&&(a+=`skewX(${p}deg) `),g&&(a+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const tP=["","X","Y","Z"],tNe=1e3;let rNe=0;function rP(e,t,r,a){const{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),a&&(a[e]=0))}function _X(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=xX(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Hs,!(n||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&_X(a)}function DX({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=rNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nNe),this.nodes.forEach(cNe),this.nodes.forEach(dNe),this.nodes.forEach(iNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new z1e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SI),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zI(o)&&!Wwe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;Hs.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=W1e(m,250),kN.hasAnimatedSinceResize&&(kN.hasAnimatedSinceResize=!1,this.nodes.forEach($$)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||pNe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),w=!this.targetLayout||!TX(this.targetLayout,p),b=!h&&m;if(this.options.layoutRoot||this.resumeFrom||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...LI(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,b)}else h||$$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uNe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_X(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lNe),this.nodes.forEach(sNe),this.nodes.forEach(aNe)):this.nodes.forEach(L$),this.clearAllSnapshots();const l=Ro.now();Qn.delta=Id(0,1e3/60,l-Qn.timestamp),Qn.timestamp=l,Qn.isProcessing=!0,WE.update.process(Qn),WE.preRender.process(Qn),WE.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oNe),this.sharedNodes.forEach(hNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!io(this.snapshot.measuredBox.x)&&!io(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!PX(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||tf(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),xNe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return on();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(gNe))){const{scroll:u}=this.root;u&&(wx(l.x,u.offset.x),wx(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=on();if(vl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&vl(l,o),wx(l.x,h.offset.x),wx(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=on();vl(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jx(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),tf(u.latestValues)&&jx(c,u.latestValues)}return tf(this.latestValues)&&jx(c,this.latestValues),c}removeTransform(o){const l=on();vl(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!tf(d.latestValues))continue;l_(d.latestValues)&&d.updateSnapshot();const u=on(),h=d.measurePageBox();vl(u,h),_$(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return tf(this.latestValues)&&_$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Sy(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vl(this.target,this.layout.layoutBox),dX(this.target,this.targetDelta)):vl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Sy(this.relativeTargetOrigin,this.target,p.target),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||l_(this.parent.latestValues)||cX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;vl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Rje(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=on());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E$(this.prevProjectionDelta.x,this.projectionDelta.x),E$(this.prevProjectionDelta.y,this.projectionDelta.y)),Ny(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!F$(this.projectionDelta.x,this.prevProjectionDelta.x)||!F$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nx(),this.projectionDelta=Nx(),this.projectionDeltaWithTransform=Nx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Nx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=on(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,y=this.getStack(),w=!y||y.members.length<=1,b=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(fNe));this.animationProgress=0;let v;this.mixTargetDelta=N=>{const j=N/1e3;B$(h.x,o.x,j),B$(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mNe(this.relativeTarget,this.relativeTargetOrigin,m,j),v&&J1e(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=on()),vl(v,this.relativeTarget)),x&&(this.animationValues=u,q1e(u,d,this.latestValues,j,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hs.update(()=>{kN.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tc(0)),this.currentAnimation=U1e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&OX(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||on();const h=io(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=io(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}vl(l,c),jx(l,u),Ny(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Z1e),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&rP("z",o,d,this.animationValues);for(let u=0;u<tP.length;u++)rP(`rotate${tP[u]}`,o,d,this.animationValues),rP(`skew${tP[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=SN(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=SN(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!tf(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=eNe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in bb){if(u[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:w}=bb[g],b=h==="none"?u[g]:x(u[g],d);if(y){const v=y.length;for(let N=0;N<v;N++)o[y[N]]=b}else w?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=d===this?SN(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(M$),this.root.sharedNodes.clear()}}}function sNe(e){e.updateLayout()}function aNe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Al(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=io(m);m.min=a[h].min,m.max=m.min+p}):OX(i,t.layoutBox,a)&&Al(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=io(a[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Nx();Ny(l,a,t.layoutBox);const c=Nx();o?Ny(c,e.applyTransform(n,!0),t.measuredBox):Ny(c,a,t.layoutBox);const d=!PX(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=on();Sy(g,t.layoutBox,m.layoutBox);const x=on();Sy(x,a,p.layoutBox),TX(g,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function nNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oNe(e){e.clearSnapshot()}function M$(e){e.clearMeasurements()}function L$(e){e.isLayoutDirty=!1}function lNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $$(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cNe(e){e.resolveTargetDelta()}function dNe(e){e.calcProjection()}function uNe(e){e.resetSkewAndRotation()}function hNe(e){e.removeLeadSnapshot()}function B$(e,t,r){e.translate=$a(t.translate,0,r),e.scale=$a(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function U$(e,t,r,a){e.min=$a(t.min,r.min,a),e.max=$a(t.max,r.max,a)}function mNe(e,t,r,a){U$(e.x,t.x,r.x,a),U$(e.y,t.y,r.y,a)}function fNe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pNe={duration:.45,ease:[.4,0,.1,1]},V$=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z$=V$("applewebkit/")&&!V$("chrome/")?Math.round:Uo;function W$(e){e.min=z$(e.min),e.max=z$(e.max)}function xNe(e){W$(e.x),W$(e.y)}function OX(e,t,r){return e==="position"||e==="preserve-aspect"&&!j1e(R$(t),R$(r),.2)}function gNe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const vNe=DX({attachResizeListener:(e,t)=>wb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sP={current:void 0},IX=DX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sP.current){const e=new vNe({});e.mount(window),e.setOptions({layoutScroll:!0}),sP.current=e}return sP.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yNe={pan:{Feature:M1e},drag:{Feature:F1e,ProjectionNode:IX,MeasureLayout:CX}};function H$(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,i=a[n];i&&Hs.postRender(()=>i(t,qw(t)))}class bNe extends km{mount(){const{current:t}=this.node;t&&(this.unmount=Twe(t,(r,a)=>(H$(this.node,a,"Start"),n=>H$(this.node,n,"End"))))}unmount(){}}class wNe extends km{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vw(wb(this.node.current,"focus",()=>this.onFocus()),wb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q$(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),i=a[n];i&&Hs.postRender(()=>i(t,qw(t)))}class jNe extends km{mount(){const{current:t}=this.node;t&&(this.unmount=Iwe(t,(r,a)=>(q$(this.node,a,"Start"),(n,{success:i})=>q$(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p_=new WeakMap,aP=new WeakMap,NNe=e=>{const t=p_.get(e.target);t&&t(e)},SNe=e=>{e.forEach(NNe)};function kNe({root:e,...t}){const r=e||document;aP.has(r)||aP.set(r,{});const a=aP.get(r),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(SNe,{root:e,...t})),a[n]}function CNe(e,t,r){const a=kNe(t);return p_.set(e,r),a.observe(e),()=>{p_.delete(e),a.unobserve(e)}}const ANe={some:0,all:1};class ENe extends km{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:n="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:ANe[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return CNe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(PNe(t,r))&&this.startObserver()}unmount(){}}function PNe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const TNe={inView:{Feature:ENe},tap:{Feature:jNe},focus:{Feature:wNe},hover:{Feature:bNe}},_Ne={layout:{ProjectionNode:IX,MeasureLayout:CX}},DNe={...x1e,...TNe,...yNe,..._Ne},Je=Dje(DNe,Hje),ONe=50,G$=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),INe=()=>({time:0,x:G$(),y:G$()}),RNe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function K$(e,t,r,a){const n=r[t],{length:i,position:o}=RNe[t],l=n.current,c=r.time;n.current=e[`scroll${o}`],n.scrollLength=e[`scroll${i}`]-e[`client${i}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=Cg(0,n.scrollLength,n.current);const d=a-c;n.velocity=d>ONe?0:kI(n.current-l,d)}function FNe(e,t,r){K$(e,"x",t,r),K$(e,"y",t,r),t.time=r}function MNe(e,t){const r={x:0,y:0};let a=e;for(;a&&a!==t;)if(BI(a))r.x+=a.offsetLeft,r.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const n=a.getBoundingClientRect();a=a.parentElement;const i=a.getBoundingClientRect();r.x+=n.left-i.left,r.y+=n.top-i.top}else if(a instanceof SVGGraphicsElement){const{x:n,y:i}=a.getBBox();r.x+=n,r.y+=i;let o=null,l=a.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=a.parentNode;a=o}else break;return r}const x_={start:0,center:.5,end:1};function Y$(e,t,r=0){let a=0;if(e in x_&&(e=x_[e]),typeof e=="string"){const n=parseFloat(e);e.endsWith("px")?a=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?a=n/100*document.documentElement.clientWidth:e.endsWith("vh")?a=n/100*document.documentElement.clientHeight:e=n}return typeof e=="number"&&(a=t*e),r+a}const LNe=[0,0];function $Ne(e,t,r,a){let n=Array.isArray(e)?e:LNe,i=0,o=0;return typeof e=="number"?n=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,x_[e]?e:"0"]),i=Y$(n[0],r,a),o=Y$(n[1],t),i-o}const BNe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},UNe={x:0,y:0};function VNe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function zNe(e,t,r){const{offset:a=BNe.All}=r,{target:n=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=n!==e?MNe(n,e):UNe,c=n===e?{width:e.scrollWidth,height:e.scrollHeight}:VNe(n),d={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const h=a.length;for(let m=0;m<h;m++){const p=$Ne(a[m],d[o],c[o],l[i]);!u&&p!==t[i].interpolatorOffsets[m]&&(u=!0),t[i].offset[m]=p}u&&(t[i].interpolate=II(t[i].offset,CY(a),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Id(0,1,t[i].interpolate(t[i].current))}function WNe(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let a=t;for(;a&&a!==e;)r.x.targetOffset+=a.offsetLeft,r.y.targetOffset+=a.offsetTop,a=a.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function HNe(e,t,r,a={}){return{measure:n=>{WNe(e,a.target,r),FNe(e,r,n),(a.offset||a.target)&&zNe(e,r,a)},notify:()=>t(r)}}const yv=new WeakMap,X$=new WeakMap,nP=new WeakMap,Q$=e=>e===document.scrollingElement?window:e;function RX(e,{container:t=document.scrollingElement,...r}={}){if(!t)return Uo;let a=nP.get(t);a||(a=new Set,nP.set(t,a));const n=INe(),i=HNe(t,e,n,r);if(a.add(i),!yv.has(t)){const l=()=>{for(const h of a)h.measure(Qn.timestamp);Hs.preUpdate(c)},c=()=>{for(const h of a)h.notify()},d=()=>Hs.read(l);yv.set(t,d);const u=Q$(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&X$.set(t,zwe(t,d)),u.addEventListener("scroll",d,{passive:!0}),d()}const o=yv.get(t);return Hs.read(o,!1,!0),()=>{var d;zc(o);const l=nP.get(t);if(!l||(l.delete(i),l.size))return;const c=yv.get(t);yv.delete(t),c&&(Q$(t).removeEventListener("scroll",c),(d=X$.get(t))==null||d(),window.removeEventListener("resize",c))}}const J$=new Map;function qNe(e){const t={value:0},r=RX(a=>{t.value=a[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function FX({source:e,container:t,...r}){const{axis:a}=r;e&&(t=e);const n=J$.get(t)??new Map;J$.set(t,n);const i=r.target??"self",o=n.get(i)??{},l=a+(r.offset??[]).join(",");return o[l]||(o[l]=!r.target&&TY()?new ScrollTimeline({source:t,axis:a}):qNe({container:t,...r})),o[l]}function GNe(e,t){const r=FX(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:a=>(a.pause(),GY(n=>{a.time=a.iterationDuration*n},r))})}function KNe(e){return e.length===2}function YNe(e,t){return KNe(e)?RX(r=>{e(r[t.axis].progress,r)},t):GY(e,FX(t))}function XNe(e,{axis:t="y",container:r=document.scrollingElement,...a}={}){if(!r)return Uo;const n={axis:t,container:r,...a};return typeof e=="function"?YNe(e,n):GNe(e,n)}const QNe=()=>({scrollX:Tc(0),scrollY:Tc(0),scrollXProgress:Tc(0),scrollYProgress:Tc(0)}),p1=e=>e?!e.current:!1;function JNe({container:e,target:t,...r}={}){const a=k0(QNe),n=f.useRef(null),i=f.useRef(!1),o=f.useCallback(()=>(n.current=XNe((l,{x:c,y:d})=>{a.scrollX.set(c.current),a.scrollXProgress.set(c.progress),a.scrollY.set(d.current),a.scrollYProgress.set(d.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=n.current)==null||l.call(n)}),[e,t,JSON.stringify(r.offset)]);return Qk(()=>{if(i.current=!1,p1(e)||p1(t)){i.current=!0;return}else return o()},[o]),f.useEffect(()=>{if(i.current)return kg(!p1(e)),kg(!p1(t)),o()},[o]),a}function MX(e){const t=k0(()=>Tc(e)),{isStatic:r}=f.useContext(Hw);if(r){const[,a]=f.useState(e);f.useEffect(()=>t.on("change",a),[])}return t}function LX(e,t){const r=MX(t()),a=()=>r.set(t());return a(),Qk(()=>{const n=()=>Hs.preRender(a,!1,!0),i=e.map(o=>o.on("change",n));return()=>{i.forEach(o=>o()),zc(a)}}),r}function ZNe(e){wy.current=[],e();const t=LX(wy.current,e);return wy.current=void 0,t}function e2e(e,t,r,a){if(typeof e=="function")return ZNe(e);const n=Hwe(t,r,a);return Array.isArray(e)?Z$(e,n):Z$([e],([i])=>n(i))}function Z$(e,t){const r=k0(()=>[]);return LX(e,()=>{r.length=0;const a=e.length;for(let n=0;n<a;n++)r[n]=e[n].get();return t(r)})}function t2e(e,t={}){const{isStatic:r}=f.useContext(Hw),a=()=>ni(e)?e.get():e;if(r)return e2e(a);const n=MX(a());return f.useInsertionEffect(()=>qwe(n,e,t),[n,JSON.stringify(t)]),n}const r2e="7",s2e="/branding/saeaa-logo.png",Hn="",si="Saeaa",g_="  ",v_="Your Digital Markets Platform",Ho=()=>`${s2e}?v=${r2e}`,ZI="1.0.0";new Date().toISOString();const y_="dev";function wp({className:e="",showCommit:t=!0}){return s.jsx("div",{className:`text-center text-xs text-muted-foreground py-2 ${e}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("span",{children:["v",ZI]}),t&&y_!=="dev"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"opacity-50",children:""}),s.jsx("span",{className:"opacity-70 font-mono",children:y_.substring(0,7)})]})]})})}const a2e=({onFinish:e})=>{const[t,r]=f.useState(0);return f.useEffect(()=>{const a=setTimeout(()=>{r(1)},2e3),n=setTimeout(()=>{r(2)},4500),i=setTimeout(()=>{e()},5500);return()=>{clearTimeout(a),clearTimeout(n),clearTimeout(i)}},[e]),s.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx(Je.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-3xl"}),s.jsx(Je.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,delay:2},className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary/20 rounded-full blur-3xl"}),s.jsxs(Wi,{mode:"wait",children:[t===0&&s.jsxs(Je.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 flex flex-col items-center",children:[s.jsxs("div",{className:"relative p-8 rounded-3xl bg-card/50 backdrop-blur-xl border border-primary/20 shadow-2xl shadow-primary/20 mb-8",children:[s.jsx(Je.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-3xl border border-dashed border-primary/30"}),s.jsx("img",{src:Ho(),alt:"Saeaa Logo",className:"h-32 w-auto object-contain"})]}),s.jsx(Je.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-4xl font-bold gradient-text",children:"Saeaa"})]},"logo"),t===1&&s.jsxs(Je.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.8},className:"relative z-10 text-center max-w-2xl px-4",children:[s.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"w-16 h-16 mx-auto mb-6 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ds,{className:"w-8 h-8 text-primary"})}),s.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:[s.jsx("span",{className:"block text-foreground mb-2",children:"  "}),s.jsx("span",{className:"gradient-text-aurora",children:" "})]}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"    "})]},"motivation")]}),s.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 w-64 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx(Je.div,{initial:{width:"0%"},animate:{width:"100%"},transition:{duration:5.5,ease:"linear"},className:"h-full gradient-primary"})})]})},sC=g0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 hover:shadow-md",outline:"border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/90 hover:shadow-md",ghost:"hover:bg-accent/10 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white shadow-md hover:shadow-lg hover:brightness-110","gradient-secondary":"bg-gradient-secondary text-white shadow-md hover:shadow-lg hover:brightness-110","gradient-accent":"bg-gradient-accent text-white shadow-md hover:shadow-lg hover:brightness-110","soft-primary":"bg-primary/10 text-primary hover:bg-primary/20","soft-secondary":"bg-secondary/10 text-secondary hover:bg-secondary/20","soft-success":"bg-success/10 text-success hover:bg-success/20","soft-destructive":"bg-destructive/10 text-destructive hover:bg-destructive/20",glow:"bg-primary text-primary-foreground shadow-glow hover:shadow-glow hover:brightness-110"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),z=f.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},i)=>{const o=a?Rq:"button";return s.jsx(o,{className:be(sC({variant:t,size:r,className:e})),ref:i,...n})});z.displayName="Button";const me=f.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:be("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-base ring-offset-background transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));me.displayName="Input";const je=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("rounded-xl border bg-card text-card-foreground shadow-sm transition-all duration-200",e),...t}));je.displayName="Card";const et=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const at=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:be("font-heading text-xl font-semibold leading-none tracking-tight",e),...t}));at.displayName="CardTitle";const Vt=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:be("text-sm text-muted-foreground leading-relaxed",e),...t}));Vt.displayName="CardDescription";const Ce=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const Ru=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));Ru.displayName="CardFooter";const Gw={async chat(e){return Q.fetch(`${Q.coreUrl}/ai/chat`,{method:"POST",body:JSON.stringify(e),requireAuth:!0})},async getSuggestions(e){return Q.fetch(`${Q.coreUrl}/ai/suggestions?sectionType=${encodeURIComponent(e)}`,{method:"POST",requireAuth:!0})},async generateText(e,t){return Q.fetch(`${Q.coreUrl}/ai/generate-text`,{method:"POST",body:JSON.stringify({prompt:e,type:t}),requireAuth:!0})},async generateDesign(e){return Q.fetch(`${Q.coreUrl}/ai/generate-design`,{method:"POST",body:JSON.stringify({prompt:e}),requireAuth:!0})}};function aC({context:e}){const{t,i18n:r}=Ct(),{user:a}=$s(),n=r.language==="ar";a==null||a.tenantSubdomain;const[i,o]=f.useState(!1),[l,c]=f.useState([{role:"assistant",content:n?"!    .              .    ":"Hi! I'm Saeaa AI Assistant. I can help you build amazing pages, suggest content, and answer questions about the page builder. How can I help you today?"}]),[d,u]=f.useState(""),[h,m]=f.useState(!1),p=f.useRef(null),{toast:g}=Rt(),x=()=>{var N;(N=p.current)==null||N.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{x()},[l]);const y=async()=>{if(!d.trim()||h)return;const N=d.trim();u(""),c(j=>[...j,{role:"user",content:N}]),m(!0);try{const j=await Gw.chat({message:N,context:e});c(k=>[...k,{role:"assistant",content:j.response}])}catch(j){g({title:"Error",description:j instanceof Error?j.message:"Failed to get AI response",variant:"destructive"}),c(k=>[...k,{role:"assistant",content:"I apologize, but I encountered an error. Please try again."}])}finally{m(!1)}},w=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},b=n?[{label:"  ",action:"    "},{label:" ",action:"   "},{label:" ",action:"     "}]:[{label:"How do I add a section?",action:"How do I add a section to my page?"},{label:"Content ideas",action:"Give me content ideas for my page"},{label:"Best practices",action:"What are best practices for page design?"}],v=N=>{u(N)};return s.jsxs(s.Fragment,{children:[!i&&s.jsx(z,{onClick:()=>o(!0),className:`fixed bottom-6 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all z-50 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 ${n?"left-6":"right-6"}`,size:"icon",children:s.jsx(ds,{className:"h-6 w-6"})}),i&&s.jsxs(je,{className:`fixed bottom-6 w-96 h-[600px] shadow-2xl z-50 flex flex-col border-2 border-blue-200 dark:border-blue-800 ${n?"left-6":"right-6"}`,children:[s.jsxs("div",{className:`bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xl font-bold",style:{fontFamily:"Arial"},children:""}),s.jsx("span",{className:"text-xs opacity-80",children:"Saeaa"})]}),s.jsx(ds,{className:"h-5 w-5"})]}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>o(!1),className:"text-white hover:bg-white/20",children:s.jsx(hr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:`flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900 ${n?"rtl":"ltr"}`,children:[l.map((N,j)=>s.jsx("div",{className:`flex ${N.role==="user"?n?"justify-start":"justify-end":n?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${N.role==="user"?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 dark:text-gray-100"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.content})})},j)),h&&s.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:s.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:s.jsx(Ge,{className:"h-4 w-4 animate-spin text-blue-600"})})}),s.jsx("div",{ref:p})]}),l.length===1&&s.jsxs("div",{className:`px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 ${n?"rtl":"ltr"}`,children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:n?" :":"Quick actions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((N,j)=>s.jsx(z,{variant:"outline",size:"sm",onClick:()=>v(N.action),className:"text-xs dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 dark:hover:bg-gray-700",children:N.label},j))})]}),s.jsx("div",{className:`p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 rounded-b-lg ${n?"rtl":"ltr"}`,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{value:d,onChange:N=>u(N.target.value),onKeyPress:w,placeholder:n?"  ...":"Ask me anything...",disabled:h,className:`flex-1 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 ${n?"text-right":"text-left"}`}),s.jsx(z,{onClick:y,disabled:!d.trim()||h,size:"icon",className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(yp,{className:"h-4 w-4"})})]})})]})]})}const n2e=({title:e,description:t,icon:r,className:a,delay:n=0})=>s.jsxs(Je.div,{initial:{opacity:0,y:20,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0},transition:{duration:.6,delay:n},whileHover:{y:-8,scale:1.02},className:be("group relative overflow-hidden rounded-3xl border border-border backdrop-blur-xl p-8 text-right shadow-xl hover:shadow-2xl transition-all duration-500 bg-gradient-to-br from-card/80 via-card/60 to-card/40",a),style:{transformStyle:"preserve-3d",perspective:"1000px"},children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-br from-primary/10 via-secondary/10 to-accent/10"}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),s.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[s.jsx(Je.div,{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-secondary/20 border border-primary/30 shadow-lg",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:s.jsx(r,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"mb-3 text-2xl font-bold text-foreground",children:e}),s.jsx("p",{className:"text-muted-foreground flex-grow leading-relaxed text-base",children:t}),s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-primary font-semibold opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("span",{children:" "}),s.jsx(ml,{className:"w-4 h-4 group-hover:-translate-x-2 transition-transform"})]})]})]}),i2e=({plan:e,onStart:t})=>{var r,a;return s.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},whileHover:{y:-12,scale:1.03},className:be("relative flex flex-col rounded-3xl border p-10 transition-all duration-500 text-right backdrop-blur-xl bg-gradient-to-br from-card via-card/90 to-card/70 shadow-2xl",e.isPopular?"border-primary ring-2 ring-primary/20 z-10 scale-105 shadow-primary/20":"border-border hover:border-primary/30"),children:[e.isPopular&&s.jsx(Je.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-5 left-0 right-0 mx-auto w-fit",children:s.jsx("div",{className:"rounded-full bg-gradient-to-r from-primary via-secondary to-primary px-6 py-2 text-sm font-bold text-white shadow-xl shadow-primary/50",children:"  "})}),s.jsx("div",{className:"relative z-10 mb-8",children:s.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:e.nameAr||e.name})}),s.jsx("div",{className:"relative z-10 mb-8",children:Number(e.price)===0?s.jsxs("div",{className:"flex items-center justify-end gap-3",children:[s.jsx("span",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center",children:s.jsx(ds,{className:"w-6 h-6 text-primary"})})]}):s.jsxs("div",{className:"flex items-baseline gap-2 flex-row-reverse justify-end",children:[s.jsxs("span",{className:"text-base text-muted-foreground font-medium",children:["/",e.billingCycle==="MONTHLY"?"":""]}),s.jsx("span",{className:"text-muted-foreground text-xl",children:e.currency}),s.jsx("span",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:e.price})]})}),s.jsx("div",{className:"flex-grow space-y-4 mb-10 relative z-10",children:(a=((r=e.featuresAr)==null?void 0:r.length)>0?e.featuresAr:e.features)==null?void 0:a.slice(0,5).map((n,i)=>s.jsxs(Je.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:i*.1},className:"flex items-start gap-3 text-base",children:[s.jsx("div",{className:"shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center border border-primary/30",children:s.jsx(Ba,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"text-muted-foreground",children:n})]},i))}),s.jsx("button",{onClick:t,className:be("relative z-10 w-full rounded-xl py-4 font-bold text-lg transition-all duration-300 overflow-hidden group/btn",e.isPopular?"bg-gradient-to-r from-primary to-secondary text-white shadow-xl shadow-primary/30 hover:shadow-2xl hover:shadow-primary/50":"bg-muted text-foreground hover:bg-muted/80 border border-border hover:border-primary/30"),children:s.jsx("span",{className:"relative z-10",children:Number(e.price)===0?" ":" "})})]})},o2e=({testimonials:e})=>{const[t,r]=f.useState(0);if(f.useEffect(()=>{if(e.length===0)return;const n=setInterval(()=>r(i=>(i+1)%e.length),5e3);return()=>clearInterval(n)},[e.length]),e.length===0)return null;const a=e[t];return s.jsxs("section",{id:"testimonials",className:"py-28 overflow-hidden relative bg-muted/50",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-1/3 left-10 w-[300px] h-[300px] bg-accent/20 rounded-full blur-[100px]"}),s.jsx("div",{className:"absolute bottom-1/3 right-10 w-[250px] h-[250px] bg-primary/20 rounded-full blur-[80px]"})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-16 relative z-10",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:"  "}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:" "})]})}),s.jsx("div",{className:"relative max-w-4xl mx-auto px-4 h-[400px] flex items-center justify-center",children:s.jsx(Wi,{mode:"wait",children:s.jsx(Je.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.5},className:"absolute w-full max-w-2xl",children:s.jsxs("div",{className:"bg-card/50 backdrop-blur-md border border-border rounded-3xl p-8 md:p-12 text-center shadow-2xl relative",children:[s.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white shadow-lg",children:s.jsx("span",{className:"text-2xl font-serif",children:'"'})}),s.jsx("div",{className:"flex justify-center gap-1 mb-6 mt-4",children:[...Array(a.rating||5)].map((n,i)=>s.jsx(Bo,{className:"w-5 h-5 fill-yellow-500 text-yellow-500"},i))}),s.jsxs("p",{className:"text-xl md:text-2xl mb-8 leading-relaxed text-foreground font-medium",children:['"',a.content,'"']}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-xl shadow-md mb-2",children:a.name.charAt(0)}),s.jsx("p",{className:"font-bold text-lg text-foreground",children:a.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.role})]})]})},t)})}),s.jsx("div",{className:"flex justify-center gap-3 mt-8 relative z-10",children:e.map((n,i)=>s.jsx("button",{onClick:()=>r(i),className:be("h-2 rounded-full transition-all duration-300",i===t?"bg-primary w-8":"bg-border w-2 hover:bg-primary/50")},i))})]})},l2e=({children:e,speed:t=1,className:r})=>{const a=f.useRef(null),[n,i]=f.useState(!1),[o,l]=f.useState(0),[c,d]=f.useState(0),u=f.useRef();f.useEffect(()=>{const p=a.current;if(!p)return;const g=()=>{n||(p.scrollLeft+=t,p.scrollLeft>=p.scrollWidth/3&&(p.scrollLeft=0)),u.current=requestAnimationFrame(g)};return u.current=requestAnimationFrame(g),()=>{u.current&&cancelAnimationFrame(u.current)}},[n,t]);const h=p=>{var g,x;i(!0),l(p.pageX-(((g=a.current)==null?void 0:g.offsetLeft)||0)),d(((x=a.current)==null?void 0:x.scrollLeft)||0)},m=p=>{var x;if(!n)return;p.preventDefault();const g=p.pageX-(((x=a.current)==null?void 0:x.offsetLeft)||0);a.current&&(a.current.scrollLeft=c-(g-o)*1.5)};return s.jsx("div",{ref:a,className:be("overflow-x-hidden whitespace-nowrap cursor-grab active:cursor-grabbing select-none",r),onMouseDown:h,onMouseLeave:()=>i(!1),onMouseUp:()=>i(!1),onMouseMove:m,children:s.jsxs("div",{className:"inline-flex items-center",children:[e,e,e]})})};function c2e(){const[e,t]=f.useState(!0),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,w]=f.useState(!0),b=Kr(),{scrollYProgress:v}=JNe(),N=t2e(v,{stiffness:100,damping:30}),j=A=>{A.preventDefault(),x(!0)},k=()=>{x(!1),b("/login")};f.useEffect(()=>{const A=()=>p(window.scrollY>50);return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]),f.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),f.useEffect(()=>{(async()=>{const E=[{id:"smartline",name:"Smart Line",nameAr:" ",logo:"/partners/smartline-logo.png",description:"",descriptionAr:" "},{id:"asus",name:"ASUS",nameAr:"",logo:"/partners/asus-logo.png",description:"",descriptionAr:" "}],D=[{id:"free",code:"FREE",name:"Free",nameAr:"",description:"",descriptionAr:"",price:"0",currency:"$",billingCycle:"monthly",features:["10 "," "," "," "],featuresAr:["10 "," "," "," "],limits:{products:10,orders:100,storage:1,staff:1,customDomains:0},isPopular:!1,sortOrder:1},{id:"pro",code:"PRO",name:"Professional",nameAr:"",description:"",descriptionAr:"",price:"29",currency:"$",billingCycle:"monthly",features:["  "," "," ","  "," "],featuresAr:["  "," "," ","  "," "],limits:{products:1e6,orders:1e6,storage:100,staff:5,customDomains:1},isPopular:!0,sortOrder:2},{id:"enterprise",code:"ENTERPRISE",name:"Enterprise",nameAr:"",description:"",descriptionAr:"",price:"99",currency:"$",billingCycle:"monthly",features:["  "," API"," "," "," SLA"],featuresAr:["  "," API"," "," "," SLA"],limits:{products:1e6,orders:1e6,storage:1e3,staff:50,customDomains:10},isPopular:!1,sortOrder:3}],P={stores:"10,000+",orders:"500,000+",products:"1.2M+",uptime:"99.9%",support:"24/7"},T=[{id:"1",name:" ",nameEn:"",role:" ",roleEn:"",content:"    .     !",contentEn:"",rating:5},{id:"2",name:" ",nameEn:"",role:" ",roleEn:"",content:"      .",contentEn:"",rating:5},{id:"3",name:" ",nameEn:"",role:" ",roleEn:"",content:"   .     .",contentEn:"",rating:5}];try{const[_,O,F,I]=await Promise.all([l1.getPartners().catch(()=>[]),l1.getPlans().catch(()=>[]),l1.getStats().catch(()=>null),l1.getTestimonials(10).catch(()=>[])]);a(E),i(O.length>0?O:D),l(F||P),d(I.length>0?I:T)}catch{a(E),i(D),l(P),d(T)}})()},[]);const S=o||{stores:"+10,000",orders:"+50M",uptime:"99.9%",support:"24/7"},C=[{icon:wg,title:"  ",description:"        .",className:"md:col-span-2"},{icon:zo,title:" ",description:"      .",className:""},{icon:Da,title:" ",description:"      .",className:""},{icon:Oa,title:" ",description:"       .",className:"md:col-span-2"},{icon:An,title:" ",description:"      .",className:""},{icon:Ws,title:" ",description:"      SSL .",className:""}];return s.jsxs("div",{dir:"rtl",className:be("min-h-screen flex flex-col transition-colors duration-500 font-sans selection:bg-primary/30",e?"bg-background text-foreground":"bg-white text-gray-900"),children:[s.jsx("style",{children:"@keyframes gradient-x{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}.animate-gradient-x{background-size:200% 200%;animation:gradient-x 3s ease infinite}@keyframes pulse-slow{0%,100%{opacity:0.5}50%{opacity:0.8}}.animate-pulse-slow{animation:pulse-slow 4s ease-in-out infinite}"}),g&&s.jsx(a2e,{onFinish:k}),s.jsx(Je.div,{className:"fixed top-0 left-0 right-0 h-1 bg-primary z-[100] origin-right",style:{scaleX:N}}),s.jsx("nav",{className:be("fixed top-0 left-0 right-0 z-50 transition-all duration-500",m?"bg-background/95 backdrop-blur-xl border-b border-border shadow-lg":"bg-transparent"),children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-20",children:[s.jsxs(Qe,{to:"/",className:"flex items-center gap-3 group",children:[s.jsx(Je.div,{animate:{y:[0,-3,0]},transition:{duration:3,repeat:1/0},className:"relative p-2 rounded-xl bg-card border border-border group-hover:border-primary/50 transition-colors",children:s.jsx("img",{src:Ho(),alt:"Saeaa",className:"h-8 w-auto"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold tracking-tight text-foreground",children:"Saeaa"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-8",children:[{label:"",href:"#features"},{label:"",href:"#pricing"},{label:" ",href:"#testimonials"}].map(A=>s.jsx("a",{href:A.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:A.label},A.href))}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:e?s.jsx(Nu,{className:"w-5 h-5"}):s.jsx(_d,{className:"w-5 h-5"})}),s.jsx(Qe,{to:"/login",className:"hidden sm:block text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:" "}),s.jsxs(Qe,{to:"/register",onClick:j,className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-primary to-secondary text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all",children:[" ",s.jsx(ml,{className:"w-4 h-4"})]}),s.jsx("button",{onClick:()=>h(!u),className:"md:hidden p-2 text-muted-foreground",children:u?s.jsx(hr,{className:"w-6 h-6"}):s.jsx(ym,{className:"w-6 h-6"})})]})]})})}),s.jsx(Wi,{children:u&&s.jsx(Je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"fixed top-20 left-0 right-0 z-40 bg-background/98 backdrop-blur-xl border-b border-border md:hidden overflow-hidden",children:s.jsxs("div",{className:"p-4 space-y-4",children:[[{label:"",href:"#features"},{label:"",href:"#pricing"},{label:" ",href:"#testimonials"}].map(A=>s.jsx("a",{href:A.href,onClick:()=>h(!1),className:"block text-lg font-medium py-2 text-muted-foreground hover:text-primary transition-colors",children:A.label},A.href)),s.jsxs("div",{className:"pt-4 border-t border-border space-y-3",children:[s.jsx(Qe,{to:"/login",className:"block w-full text-center py-3 rounded-xl bg-muted text-muted-foreground font-medium",children:" "}),s.jsx(Qe,{to:"/register",onClick:A=>{h(!1),j(A)},className:"block w-full text-center py-3 rounded-xl bg-gradient-to-r from-primary to-secondary text-white font-bold",children:" "})]})]})})}),s.jsxs("main",{className:"flex-grow",children:[s.jsxs("section",{className:"relative pt-32 pb-32 overflow-hidden min-h-screen flex items-center bg-gradient-to-b from-transparent to-muted/50",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx(Je.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:8,repeat:1/0},className:"absolute top-20 right-20 w-72 h-96 bg-gradient-to-br from-primary/10 to-secondary/10 rounded-3xl backdrop-blur-3xl border border-primary/20 transform rotate-12"}),s.jsx(Je.div,{animate:{y:[0,20,0],rotate:[0,-5,0]},transition:{duration:10,repeat:1/0},className:"absolute bottom-20 left-20 w-80 h-80 bg-gradient-to-br from-secondary/10 to-accent/10 rounded-3xl backdrop-blur-3xl border border-secondary/20 transform -rotate-12"}),s.jsxs("div",{className:"absolute inset-0 opacity-30",children:[s.jsx("div",{className:"absolute top-1/4 right-1/4 w-[400px] h-[400px] bg-primary/20 rounded-full blur-[100px]"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-[350px] h-[350px] bg-secondary/20 rounded-full blur-[100px]"})]})]}),s.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs(Je.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-right space-y-8",children:[s.jsxs(Je.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"inline-flex items-center gap-3 px-6 py-3 rounded-2xl bg-gradient-to-r from-card/80 to-card/60 border border-primary/30 backdrop-blur-xl shadow-xl",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}),s.jsx("span",{className:"text-sm font-bold text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:"   "})]}),s.jsxs(Je.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-relaxed",children:[s.jsxs("span",{className:"block text-gray-900 dark:text-white mb-2",children:[" ",s.jsx("span",{className:"text-primary",children:""})]}),s.jsx("span",{className:"block text-gray-900 dark:text-white mb-2",children:""}),s.jsx("span",{className:"block text-secondary pt-4",children:""})]}),s.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"p-6 rounded-2xl bg-card/50 backdrop-blur-xl border border-border shadow-lg",children:s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"        .       ."})}),s.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row items-center justify-end gap-4 pt-4",children:s.jsxs(Qe,{to:"/register",onClick:j,className:"group min-w-[220px] h-16 flex items-center justify-center gap-3 bg-gradient-to-r from-primary via-secondary to-primary text-white rounded-2xl font-bold text-lg shadow-2xl shadow-primary/40 hover:shadow-primary/60 hover:scale-105 transition-all duration-500 animate-gradient-x relative overflow-hidden",children:[s.jsx("span",{className:"relative z-10",children:"  "}),s.jsx(ml,{className:"relative z-10 w-5 h-5 group-hover:-translate-x-2 transition-transform"})]})})]}),s.jsxs(Je.div,{initial:{opacity:0,scale:.8,rotateY:-20},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:1,delay:.3},className:"relative flex items-center justify-center",style:{perspective:"1000px"},children:[s.jsxs(Je.div,{animate:{y:[0,-10,0]},transition:{duration:6,repeat:1/0},whileHover:{scale:1.02},className:"relative rounded-3xl overflow-hidden border-2 border-primary/30 shadow-2xl hover:shadow-primary/30 transition-all duration-500",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 via-secondary/20 to-primary/20 rounded-3xl blur-2xl opacity-50"}),s.jsx("img",{src:"/dashboard-preview.png",alt:" ",className:"relative w-full max-w-2xl rounded-2xl"})]}),s.jsx(Je.div,{animate:{y:[-15,15,-15],rotate:[0,10,0]},transition:{duration:4,repeat:1/0},className:"absolute -top-8 -right-8 w-20 h-20 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center shadow-2xl shadow-primary/40",children:s.jsx(ds,{className:"w-10 h-10 text-white"})}),s.jsx(Je.div,{animate:{y:[15,-15,15],rotate:[0,-10,0]},transition:{duration:5,repeat:1/0},className:"absolute -bottom-6 -left-6 w-16 h-16 bg-gradient-to-br from-secondary to-accent rounded-xl flex items-center justify-center shadow-2xl shadow-secondary/40",children:s.jsx(Kf,{className:"w-8 h-8 text-white"})})]})]})})]}),s.jsx("section",{className:"py-24 bg-gradient-to-b from-muted/50 to-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:"  "}),s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["   ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""})]})]}),s.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 via-secondary/20 to-primary/20 rounded-3xl blur-2xl opacity-50 group-hover:opacity-75 transition-opacity"}),s.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-border shadow-2xl bg-card",children:[s.jsxs("div",{className:"bg-muted px-4 py-3 flex items-center gap-3 border-b border-border",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"bg-background rounded-lg px-4 py-1.5 text-xs text-muted-foreground text-center",children:"your-store.saeaa.com"})})]}),s.jsxs("div",{className:"relative group/video aspect-video",children:[s.jsx("video",{src:"https://res.cloudinary.com/purplecards/video/upload/v1766391136/InShot_20251222_100910381_mulske.mp4",autoPlay:!0,loop:!0,muted:y,playsInline:!0,className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>w(!y),className:"absolute bottom-4 right-4 z-30 px-4 py-2 rounded-full bg-black/70 backdrop-blur-md text-white border border-white/20 hover:bg-black/90 transition-all opacity-0 group-hover/video:opacity-100 flex items-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(vG,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-bold",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-bold",children:""})]})})]})]})]}),s.jsx(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"flex justify-center gap-8 mt-12",children:[{value:"20 ",label:"  "},{value:"0 ",label:" "},{value:"100%",label:" "}].map((A,E)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl md:text-3xl font-bold text-primary",children:A.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.label})]},E))})]})]})}),s.jsxs("section",{className:"py-24 relative overflow-hidden bg-card",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-0 left-1/4 w-[400px] h-[400px] bg-primary/20 rounded-full blur-[150px] animate-pulse-slow"})}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider",children:" "}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mt-2",children:"   "})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{label:" ",value:S.stores,icon:Vs},{label:" ",value:S.orders,icon:Tt},{label:" ",value:S.uptime,icon:An},{label:" ",value:S.support,icon:Ws}].map((A,E)=>s.jsxs(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.1},className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl scale-150 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx("div",{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-primary/20 to-secondary/20 border border-primary/20 flex items-center justify-center mx-auto group-hover:border-primary/40 transition-colors",children:s.jsx(A.icon,{className:"w-7 h-7 text-primary"})})]}),s.jsx("h3",{className:"text-4xl md:text-5xl font-black mb-3 text-foreground",dir:"ltr",children:A.value}),s.jsx("p",{className:"text-muted-foreground font-medium text-lg",children:A.label})]},E))})]})]}),s.jsxs("section",{id:"features",className:"py-32 relative bg-gradient-to-b from-muted/50 via-background to-muted/50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-30",children:s.jsx("div",{className:"absolute top-1/3 right-1/4 w-[300px] h-[300px] bg-primary/30 rounded-full blur-[100px]"})}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[s.jsx(Je.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"inline-block text-primary font-bold text-sm tracking-wider mb-4 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:"    "}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-black mb-6",children:[" ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-l from-primary to-secondary",children:""})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"       "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((A,E)=>s.jsx(n2e,{icon:A.icon,title:A.title,description:A.description,className:A.className,delay:E*.1},E))})]})]}),s.jsxs("section",{id:"pricing",className:"py-28 relative overflow-hidden bg-card",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/10 rounded-full blur-[150px] animate-pulse-slow"})}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-20",children:[s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:" "}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:"    "})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:n.map(A=>s.jsx(i2e,{plan:A,onStart:j},A.id))})]})]}),s.jsx("section",{className:"py-28 relative overflow-hidden bg-background",children:s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider mb-3 block",children:""}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:" "})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:r.map((A,E)=>s.jsx(Je.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.2},className:"group",children:s.jsxs("div",{className:"relative h-full rounded-3xl p-8 flex flex-col items-center text-center bg-card border border-border hover:border-primary/30 transition-all",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary/10 to-secondary/10 border border-primary/20 p-4 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-500",children:s.jsx("img",{src:A.logo,alt:A.name,className:"w-full h-full object-contain"})}),s.jsxs("h3",{className:"text-xl font-bold mb-3",children:[A.name," - ",A.nameAr]}),s.jsx("p",{className:"text-muted-foreground",children:A.descriptionAr})]})},A.id))})]})}),s.jsx(o2e,{testimonials:c}),s.jsxs("section",{className:"py-28 relative overflow-hidden bg-card",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 rounded-full blur-[150px]"})}),s.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[s.jsx(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-6",children:s.jsx("span",{className:"text-primary font-bold text-sm tracking-wider",children:"    !"})}),s.jsx(Je.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-5xl lg:text-6xl font-black mb-6 text-foreground",children:"    "}),s.jsx(Je.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-lg md:text-xl text-muted-foreground mb-10",children:"         ."}),s.jsx(Je.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3},children:s.jsxs(Qe,{to:"/register",onClick:j,className:"inline-flex items-center gap-3 bg-gradient-to-r from-primary to-secondary text-white px-10 py-4 rounded-xl font-bold text-lg shadow-2xl shadow-primary/30 hover:shadow-primary/50 hover:scale-105 transition-all duration-300",children:["  ",s.jsx(Kf,{className:"w-5 h-5"})]})})]})]}),s.jsx("section",{className:"py-16 bg-background border-t border-border",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:"    "})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{icon:Ws,title:" SSL",desc:" "},{icon:An,title:" ",desc:"  "},{icon:l2,title:" 24/7",desc:"  "},{icon:ef,title:" ",desc:" 99.9%"}].map((A,E)=>s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:E*.1},className:"text-center group",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-primary/10 to-secondary/10 border border-primary/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(A.icon,{className:"w-8 h-8 text-primary"})}),s.jsx("h4",{className:"font-bold mb-1",children:A.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.desc})]},E))})]})}),s.jsxs("section",{className:"py-12 border-t border-border bg-card overflow-hidden",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-8 text-center",children:s.jsx("h3",{className:"text-lg font-semibold text-muted-foreground",children:"   "})}),s.jsx("div",{dir:"ltr",children:s.jsx(l2e,{speed:.8,className:"py-4",children:[{id:"mada",c:s.jsx("div",{className:"h-12 px-6 bg-blue-600 text-white font-bold rounded-lg flex items-center italic tracking-widest shadow-sm",children:"mada"})},{id:"visa",c:s.jsx("div",{className:"h-12 px-2 text-blue-800 font-black text-4xl italic flex items-center tracking-tighter",children:"VISA"})},{id:"mc",c:s.jsxs("div",{className:"flex items-center relative w-16 h-10",children:[s.jsx("div",{className:"absolute left-0 w-10 h-10 bg-[#EB001B] rounded-full opacity-90"}),s.jsx("div",{className:"absolute right-0 w-10 h-10 bg-[#FF5F00] rounded-full opacity-90 mix-blend-multiply"})]})},{id:"apple",c:s.jsx("div",{className:"h-12 px-4 bg-black text-white rounded-lg flex items-center gap-1 font-medium shadow-sm",children:" Pay"})},{id:"stc",c:s.jsx("div",{className:"h-12 px-4 text-[#4F008C] font-bold text-2xl flex items-center",children:"stc pay"})},{id:"tabby",c:s.jsx("div",{className:"h-12 px-4 bg-[#3EEDBF] text-black font-bold text-xl rounded-full flex items-center shadow-sm",children:"tabby"})},{id:"tamara",c:s.jsx("div",{className:"h-12 px-4 bg-[#E6B658] text-black font-bold text-xl rounded-full flex items-center shadow-sm",children:"tamara"})}].map((A,E)=>s.jsx("div",{className:"inline-flex items-center justify-center mx-8 min-w-[100px] grayscale opacity-70 hover:grayscale-0 hover:opacity-100 transition-all duration-300 hover:scale-110 cursor-pointer",children:A.c},E))})})]})]}),s.jsxs("footer",{className:"bg-card border-t border-border py-16 text-right relative overflow-hidden mt-auto",children:[s.jsx("div",{className:"absolute inset-0 opacity-20",children:s.jsx("div",{className:"absolute top-0 right-1/4 w-[300px] h-[300px] bg-primary/10 rounded-full blur-[100px]"})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs(Qe,{to:"/",className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-xl bg-muted border border-border",children:s.jsx("img",{src:Ho(),alt:"Saeaa",className:"h-10 w-auto"})}),s.jsx("span",{className:"text-2xl font-bold text-foreground",children:"Saeaa"})]}),s.jsx("p",{className:"text-muted-foreground max-w-md leading-relaxed",children:"             ."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-6 text-foreground",children:""}),s.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx("a",{href:"#testimonials",className:"hover:text-primary transition-colors",children:" "})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-6 text-foreground",children:""}),s.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[s.jsx("li",{children:s.jsx(Qe,{to:"/about",className:"hover:text-primary transition-colors",children:" "})}),s.jsx("li",{children:s.jsx(Qe,{to:"/contact",className:"hover:text-primary transition-colors",children:" "})}),s.jsx("li",{children:s.jsx(Qe,{to:"/privacy",className:"hover:text-primary transition-colors",children:" "})})]})]})]}),s.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Saeaa - .   ."}),s.jsx(wp,{})]})]})]}),s.jsx(aC,{context:{currentPage:"landing"}})]})}var d2e="Label",$X=f.forwardRef((e,t)=>s.jsx(Lt.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$X.displayName=d2e;var BX=$X;const u2e=g0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),X=f.forwardRef(({className:e,...t},r)=>s.jsx(BX,{ref:r,className:be(u2e(),e),...t}));X.displayName=BX.displayName;var h2e="Separator",e8="horizontal",m2e=["horizontal","vertical"],UX=f.forwardRef((e,t)=>{const{decorative:r,orientation:a=e8,...n}=e,i=f2e(a)?a:e8,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Lt.div,{"data-orientation":i,...l,...n,ref:t})});UX.displayName=h2e;function f2e(e){return m2e.includes(e)}var VX=UX;const Qs=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>s.jsx(VX,{ref:n,decorative:r,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Qs.displayName=VX.displayName;const p2e=(e,t)=>{const a={400:{title:{ar:"  ",en:"Invalid Request"},description:{ar:"   .       .",en:"The provided information is invalid. Please check your input and try again."}},401:{title:{ar:" ",en:"Unauthorized"},description:{ar:"  .     .",en:"Your session has expired. Please log in again."}},403:{title:{ar:" ",en:"Access Denied"},description:{ar:"     .",en:"You do not have permission to perform this action."}},404:{title:{ar:" ",en:"Not Found"},description:{ar:"   .       .",en:"The requested resource was not found. Please verify the information and try again."}},409:{title:{ar:"",en:"Conflict"},description:{ar:"   .    .",en:"The provided information is already in use. Please use different information."}},422:{title:{ar:"  ",en:"Validation Error"},description:{ar:"    .     .",en:"The provided data does not meet requirements. Please check all fields."}},429:{title:{ar:" ",en:"Too Many Requests"},description:{ar:"     .      .",en:"Too many attempts. Please wait a moment and try again."}},500:{title:{ar:"  ",en:"Server Error"},description:{ar:"   .         .",en:"A server error occurred. Please try again later or contact support."}},502:{title:{ar:"  ",en:"Connection Error"},description:{ar:"  .        .",en:"Unable to connect to the server. Please check your internet connection and try again."}},503:{title:{ar:"  ",en:"Service Unavailable"},description:{ar:"   .     .",en:"The service is currently unavailable. Please try again later."}}}[e]||{title:{ar:" ",en:"An Error Occurred"},description:{ar:"   .    .",en:"An unexpected error occurred. Please try again."}};return{title:t?a.title.ar:a.title.en,description:t?a.description.ar:a.description.en}},ii=(e,t,r=!1)=>{var d;const a=r?" ":"An Error Occurred",n=r?"   .           .":"An unexpected error occurred. Please try again or contact support if the problem persists.";let i;if(e&&typeof e=="object")if("response"in e){const u=e.response;i=u==null?void 0:u.status,(d=u==null?void 0:u.data)!=null&&d.message&&(typeof u.data.message=="string"?u.data.message:JSON.stringify(u.data.message))}else"statusCode"in e?i=e.statusCode:"status"in e&&(i=e.status);if(i&&i>=400){const u=p2e(i,r);return t!=null&&t.operation&&(t!=null&&t.resource)?{title:u.title,description:r?` ${t.operation} ${t.resource}. ${u.description}`:`Unable to ${t.operation} ${t.resource}. ${u.description}`}:u}const o=kc(e),l={"network error":{ar:"  .     .",en:"Unable to connect to the server. Please check your internet connection."},timeout:{ar:"  .    .",en:"Connection timeout. Please try again."},unauthorized:{ar:"  .     .",en:"Your session has expired. Please log in again."},forbidden:{ar:"     .",en:"You do not have permission to perform this action."},"not found":{ar:"   .",en:"The requested resource was not found."},"email already exists":{ar:"    .    .",en:"This email address is already in use. Please use a different email."},"email already registered":{ar:"    .    .",en:"This email address is already registered. Please use a different email."},"invalid email":{ar:"    .       .",en:"The email address is invalid. Please check the email and try again."},"invalid password":{ar:"   .        .",en:"The password is incorrect. Please check your password and try again."},"invalid credentials":{ar:"      .     .",en:"The email or password is incorrect. Please verify your credentials."},"user not found":{ar:"  .     .",en:"User not found. Please check the email address."},"account locked":{ar:"   .      .",en:"Your account has been temporarily locked. Please try again later or contact support."},"too many attempts":{ar:"    .      .",en:"Too many attempts. Please wait a moment and try again."},"subdomain already exists":{ar:"    .    .",en:"This subdomain is already in use. Please choose a different subdomain."},"verification code invalid":{ar:"   .       .",en:"The verification code is invalid. Please verify and enter the code again."},"verification code expired":{ar:"   .    .",en:"The verification code has expired. Please request a new code."},"password reset token invalid":{ar:"         .    .",en:"The password reset link is invalid or expired. Please request a new link."}},c=o.toLowerCase();for(const[u,h]of Object.entries(l))if(c.includes(u))return{title:a,description:r?h.ar:h.en};if(o&&o!=="An error occurred"){let u=o.replace(/^Error:\s*/i,"").replace(/^\d+\s*/,"").replace(/\[.*?\]/g,"").trim();return(u.includes("at ")||u.includes("stack")||u.includes("file://"))&&(u=n),{title:a,description:u.length>200?n:u}}return{title:a,description:n}},iP=["localhost","127.0.0.1","www.saeaa.com","saeaa.com","app.saeaa.com","www.saeaa.net","saeaa.net","app.saeaa.net"],nC=()=>{const e=window.location.hostname;return iP.includes(e)?!0:!(e.includes(".localhost")||(e.endsWith(".saeaa.com")||e.endsWith(".saeaa.net"))&&!iP.includes(e)||!iP.includes(e)&&e!=="localhost"&&e!=="127.0.0.1")};function t8(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),n=Tn(),{login:i,loginWithTokens:o}=$s(),{toast:l}=Rt(),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,w]=f.useState(Ho()),[b,v]=f.useState(Hn),[N,j]=f.useState(si),[k,S]=f.useState(g_),[C,A]=f.useState(v_),[E,D]=f.useState(!1),[P,T]=f.useState(""),[_,O]=f.useState(""),[F,I]=f.useState(null);f.useEffect(()=>{(async()=>{if(!nC())try{const M=await he.get("/site-config");M!=null&&M.settings&&(M.settings.storeLogoUrl&&w(M.settings.storeLogoUrl),M.settings.storeName&&(v(M.settings.storeName),j(M.settings.storeName)),M.settings.description&&(S(M.settings.description),A(M.settings.description)))}catch(M){console.error("Failed to fetch site config:",M)}})()},[]);const R=W=>M=>{W(M.target.value)},L=async W=>{W.preventDefault(),x(!0);try{if(await i(c,u)){l({title:r?"  ":"Login successful",description:r?"    ":"Please change your password to continue"}),a("/auth/change-password",{replace:!0});return}setTimeout(()=>{const G=localStorage.getItem("user"),V=G?JSON.parse(G):null,q=(V==null?void 0:V.tenantId)&&V.tenantId!=="default"&&V.tenantId!==null;l({title:e("common.success"),description:q?"    ":" !    "}),setTimeout(()=>{var Z;const Y=n.state,U=(Z=Y==null?void 0:Y.from)==null?void 0:Z.pathname;U&&!U.includes("/login")&&!U.includes("/auth/")?a(U,{replace:!0}):a(q?"/dashboard":"/setup")},500)},100)}catch(M){const{title:G,description:V}=ii(M,{operation:r?" ":"login",resource:r?"":"account"},r);l({variant:"destructive",title:G,description:V})}finally{x(!1)}},H=async()=>{if(!P){l({variant:"destructive",title:r?" ":"Required Information",description:r?"    ":"Please enter your recovery ID to continue"});return}x(!0);try{const W=await Vi.recoverEmail(P);I(W.maskedEmail),l({title:r?"   ":"Account Found",description:r?`  : ${W.maskedEmail}`:`Associated email: ${W.maskedEmail}`})}catch(W){const{title:M,description:G}=ii(W,{operation:r?"":"recover",resource:r?" ":"email"},r);l({variant:"destructive",title:M,description:G})}finally{x(!1)}};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),s.jsx("div",{className:"relative z-10",children:s.jsxs(Qe,{to:"/",className:"inline-flex flex-col gap-4 group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("img",{src:y,alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-4xl font-heading font-bold text-white",children:b}),s.jsx("p",{className:"text-xl font-semibold text-white/80",children:N})]})]}),s.jsxs("p",{className:"text-white/70 text-sm",children:[k," | ",C]})]})}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:[" !",s.jsx("br",{}),"  "]}),s.jsx("p",{className:"text-xl text-white/90",children:"     "}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:"    "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:"  "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:"   24/7"})]})]})]}),s.jsx("div",{className:"relative z-10 text-white/50 text-sm",children:e("landing.footer.copyright")})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-background relative",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(Qe,{to:"/",className:"lg:hidden flex flex-col items-center gap-3 mb-8 group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:s.jsx("img",{src:y,alt:`${N} - ${b}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-3xl font-heading font-bold gradient-text",children:b}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:N})]})]}),s.jsxs("p",{className:"text-muted-foreground text-xs text-center",children:[k," | ",C]})]}),s.jsxs(je,{className:"shadow-2xl border-border/50 bg-card/50 backdrop-blur-sm",children:[s.jsxs(et,{className:"space-y-2 text-center pb-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-card border border-border/50 shadow-lg",children:s.jsx("img",{src:y,alt:`${N} - ${b}`,className:"w-full h-full object-contain p-2 hover:scale-110 transition-transform duration-300"})})}),s.jsx(at,{className:"text-3xl font-heading font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:E?" ":" "}),s.jsx(Vt,{className:"text-base text-muted-foreground",children:E?"     ":"    "})]}),s.jsx(Ce,{className:"space-y-5",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"recoveryId",className:"text-sm font-medium",children:"  | Recovery ID"}),s.jsxs("div",{className:"relative",children:[s.jsx(du,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"recoveryId",type:"text",placeholder:"XXXX-XXXX-XXXX-XXXX",value:P,onChange:R(T),className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary font-mono text-center tracking-wider"})]})]}),!F&&s.jsx(z,{type:"button",onClick:H,disabled:g||!P,className:"w-full h-11 gradient-primary",children:g?s.jsx(Ge,{className:"h-5 w-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(du,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:"  "})]})}),F&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-xl p-4 text-center",children:[s.jsx("p",{className:"text-sm text-success mb-1",children:"    !"}),s.jsx("p",{className:"text-lg font-mono font-bold text-success dir-ltr",children:F})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{type:"button",onClick:async()=>{x(!0);try{await Vi.sendResetByRecoveryId(P),l({title:" !",description:"         "})}catch(W){const{title:M,description:G}=ii(W,{operation:r?"":"send",resource:r?"  ":"reset link"},r);l({variant:"destructive",title:M,description:G})}finally{x(!1)}},disabled:g,className:"w-full h-11 bg-success hover:bg-success/90",children:g?s.jsx(Ge,{className:"h-5 w-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:"    "})]})}),s.jsxs(z,{type:"button",variant:"outline",onClick:()=>{D(!1),d(F.replace("***","")),l({title:"  ",description:"      "})},className:"w-full h-11",children:[s.jsx(c2,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:"  "})]})]})]})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs("button",{type:"button",onClick:()=>{D(!1),T(""),O(""),I(null)},className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center justify-center gap-2 mx-auto",children:[s.jsx(ml,{className:"w-4 h-4"}),"   "]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Qs,{})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:e("common.or","OR")})})]}),s.jsxs("form",{onSubmit:L,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"identifier",className:"text-sm font-semibold",children:e("auth.login.emailOrUsername","    ")}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),s.jsx(me,{id:"identifier",type:"text",placeholder:"name@example.com or username",value:c,onChange:R(d),required:!0,className:"h-12 pr-10 border-2 border-border focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"password",className:"text-sm font-semibold",children:e("auth.login.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"}),s.jsx(me,{id:"password",type:m?"text":"password",value:u,onChange:R(h),required:!0,className:"h-12 pl-10 pr-10 border-2 border-border focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"}),s.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors p-1",children:m?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-2 border-border text-primary focus:ring-2 focus:ring-primary/20 transition-all group-hover:border-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:""})]}),s.jsx(Qe,{to:"/auth/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-semibold transition-colors hover:underline",children:"  "})]}),s.jsx(z,{type:"submit",className:"w-full h-12 gradient-primary font-semibold text-base shadow-lg hover:shadow-xl transition-all mt-6",disabled:g,children:g?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:e("common.loading")})]}):s.jsxs(s.Fragment,{children:[s.jsx(c2,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:" "}),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})})]}),s.jsx("div",{className:"text-center pt-3",children:s.jsxs("button",{type:"button",onClick:()=>D(!0),className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center justify-center gap-2 mx-auto hover:underline",children:[s.jsx(du,{className:"w-4 h-4"}),"     "]})})]})}),s.jsxs(Ru,{className:"flex flex-col gap-3 pt-4",children:[s.jsx(Qs,{}),s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["  "," ",s.jsx(Qe,{to:"/register",className:"text-primary hover:text-primary/80 font-semibold hover:underline transition-colors",children:"  "})]})]})]})]})})]})}function x2e({state:e,className:t}){const[r,a]=f.useState({x:0,y:0});f.useEffect(()=>{const u=h=>{const m=h.clientX/window.innerWidth*2-1,p=h.clientY/window.innerHeight*2-1;a({x:m,y:p})};return window.addEventListener("mousemove",u),()=>window.removeEventListener("mousemove",u)},[]);const n={body:"#1a1a1a",highlight:"#333333",eye:"#00E5FF",eyeHappy:"#00FF99",eyeSad:"#FF3366",blush:"#FF6699"},i={neutral:{y:0,scale:1,rotate:0,transition:{duration:.5,type:"spring"}},attention:{scale:1.05,y:5,rotate:0,transition:{duration:.3}},happy:{y:[0,-15,0],rotate:[0,-5,5,0],scale:1.1,transition:{y:{repeat:1/0,duration:.6,ease:"easeInOut"},rotate:{repeat:1/0,duration:1,ease:"easeInOut"}}},sad:{x:[-5,5,-5,5,0],rotate:[-2,2,-2,2,0],y:5,transition:{duration:.4}},excited:{scale:[1,1.05,1],transition:{repeat:1/0,duration:.4}},sleeping:{y:0,scale:1,rotate:0,transition:{duration:.3}}},o={neutral:{d:"M 0 0 C 0 -10 20 -10 20 0 C 20 10 0 10 0 0",scaleY:1,fill:n.eye,stroke:"none",strokeWidth:0},attention:{d:"M 0 0 C 0 -5 20 -5 20 0 C 20 5 0 5 0 0",scaleY:.8,fill:n.eye,stroke:"none",strokeWidth:0},happy:{d:"M 0 5 Q 10 -5 20 5",scaleY:1,fill:"rgba(0,0,0,0)",stroke:n.eyeHappy,strokeWidth:4},sad:{d:"M 0 5 L 20 0 L 20 5 L 0 10 Z",scaleY:1,fill:n.eyeSad,stroke:"none",strokeWidth:0},excited:{d:"M 0 -2 L 20 -2 L 20 18 L 0 18 Z",scaleY:1,fill:n.eye,stroke:"none",strokeWidth:0},sleeping:{d:"M 0 0 L 20 0",scaleY:1,fill:"rgba(0,0,0,0)",stroke:n.eye,strokeWidth:3}},l=e==="neutral"||e==="excited"||e==="attention"?r.x*8:0,c=e==="neutral"||e==="excited"||e==="attention"?r.y*8:0,d=e==="sleeping";return s.jsx(Je.div,{className:`w-32 h-32 mx-auto relative ${t}`,animate:e,variants:i,children:s.jsxs("svg",{viewBox:"0 0 140 140",className:"w-full h-full drop-shadow-2xl",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"bodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"#404040"}),s.jsx("stop",{offset:"100%",stopColor:"#101010"})]}),s.jsxs("filter",{id:"glow",children:[s.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s.jsx("rect",{x:"20",y:"20",width:"100",height:"100",rx:"25",fill:"url(#bodyGradient)",stroke:"#555",strokeWidth:"1"}),s.jsx("path",{d:"M 30 30 Q 70 30 110 30",stroke:"white",strokeWidth:"2",strokeLinecap:"round",opacity:"0.2"}),s.jsxs("g",{transform:`translate(${l}, ${c})`,children:[s.jsx("g",{transform:"translate(45, 60)",children:s.jsx(Je.path,{initial:"neutral",variants:o,animate:e,filter:"url(#glow)"})}),s.jsx("g",{transform:"translate(75, 60)",children:s.jsx(Je.path,{initial:"neutral",variants:o,animate:e,filter:"url(#glow)"})}),s.jsx("g",{transform:"translate(70, 85)",children:s.jsx(Je.path,{initial:"neutral",animate:e,variants:{neutral:{d:"M -10 0 Q 0 5 10 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"},attention:{d:"M -5 0 L 5 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"},happy:{d:"M -15 -5 Q 0 15 15 -5",stroke:n.eyeHappy,strokeWidth:3,fill:"rgba(0,0,0,0)"},sad:{d:"M -10 5 Q 0 -5 10 5",stroke:n.eyeSad,strokeWidth:2,fill:"rgba(0,0,0,0)"},excited:{d:"M -10 0 Q 0 15 10 0 Z",stroke:"none",strokeWidth:0,fill:n.eye},sleeping:{d:"M -8 0 Q 0 3 8 0",stroke:n.eye,strokeWidth:2,fill:"rgba(0,0,0,0)"}},strokeLinecap:"round"})}),d&&s.jsxs(s.Fragment,{children:[s.jsx(Je.rect,{x:"40",y:"50",width:"25",height:"20",rx:"3",fill:"#555",opacity:"0.8",initial:{opacity:0,y:-10},animate:{opacity:.8,y:0},transition:{duration:.3}}),s.jsx(Je.rect,{x:"75",y:"50",width:"25",height:"20",rx:"3",fill:"#555",opacity:"0.8",initial:{opacity:0,y:-10},animate:{opacity:.8,y:0},transition:{duration:.3}})]}),s.jsxs(Je.g,{initial:{opacity:0},animate:{opacity:e==="happy"||e==="excited"?.6:0},children:[s.jsx("circle",{cx:"35",cy:"75",r:"5",fill:n.blush,filter:"blur(2px)"}),s.jsx("circle",{cx:"105",cy:"75",r:"5",fill:n.blush,filter:"blur(2px)"})]})]})]})})}function r8(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),{toast:n}=Rt(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,g]=f.useState(!1),[x,y]=f.useState("excited"),[w,b]=f.useState(!1),[v,N]=f.useState(!1),[j,k]=f.useState(!1),[S,C]=f.useState(0),[A,E]=f.useState(null),[D,P]=f.useState(!1),[T,_]=f.useState(!1),[O,F]=f.useState(!1),[I,R]=f.useState(""),[L,H]=f.useState(!1),[W,M]=f.useState("");f.useEffect(()=>{if(!d){C(0);return}let B=0;d.length>=6&&(B+=25),d.length>=10&&(B+=25),/[a-z]/.test(d)&&/[A-Z]/.test(d)&&(B+=25),/[0-9]/.test(d)&&(B+=15),/[^a-zA-Z0-9]/.test(d)&&(B+=10),C(Math.min(B,100))},[d]),f.useEffect(()=>{x==="happy"||x==="sad"||y(j?"sleeping":w?"attention":"excited")},[w,j,x]);const G=B=>Ne=>{B(Ne.target.value),x==="sad"&&y("attention")},V=()=>S<40?"bg-destructive":S<70?"bg-warning":"bg-success",q=()=>S<40?e("auth.signup.passwordWeak","Weak"):S<70?e("auth.signup.passwordMedium","Medium"):e("auth.signup.passwordStrong","Strong"),Y=async B=>{var Ne,ye;if(B.preventDefault(),!i||!i.trim()){n({title:r?" ":"Required Field",description:r?" ":"Name is required",variant:"destructive"});return}if(!h||!h.trim()){n({title:r?" ":"Required Field",description:r?"     ":"National ID or Passport ID is required",variant:"destructive"});return}g(!0);try{const Re=await Vi.signup({name:i,email:l,password:d,nationalId:h});y("happy"),M(l),Re.recoveryId&&E(Re.recoveryId),Re.verificationCodeSent||n({title:r?"":"Warning",description:r?"       .        .":"Verification code may not have been sent. Please check your email or contact support.",variant:"destructive"});const qe=Re;Re.verificationCodeSent||qe.emailVerified===!1||qe.verificationCode?F(!0):qe.recoveryId?(E(qe.recoveryId),P(!0)):(n({title:e("common.success"),description:e("auth.signup.success","Account created successfully! Redirecting...")}),setTimeout(()=>{a("/auth/login")},1500))}catch(Re){y("sad");const qe=Re,{title:He,description:fe}=ii(qe,{operation:r?"":"create",resource:r?"":"account"},r);if(((Ne=qe==null?void 0:qe.response)==null?void 0:Ne.status)===400){const Ue=(ye=qe==null?void 0:qe.response)==null?void 0:ye.data,ie=(Ue==null?void 0:Ue.message)||"";if(ie.includes("verification email")||ie.includes("SMTP")||ie.includes("email")){n({title:r?":   ":"Warning: Email Sending Failed",description:r?"      .        SMTP.":"Email service is not configured properly. Please contact support or check your SMTP settings.",variant:"destructive",duration:1e4});return}}n({variant:"destructive",title:He,description:fe})}finally{g(!1)}},U=()=>{A&&(navigator.clipboard.writeText(A),_(!0),n({title:" ! | Copied!",description:"      | Recovery ID copied to clipboard"}),setTimeout(()=>_(!1),2e3))},Z=()=>{if(A){const B=`Recovery ID |  

${A}

Please keep this ID in a safe place. You can use it to recover your account if you forget your email or it gets compromised.

      .           .

Generated: ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"long"})}`,Ne=new Blob([B],{type:"text/plain;charset=utf-8"}),ye=URL.createObjectURL(Ne),Re=document.createElement("a");Re.href=ye,Re.download=`recovery-id-${A.substring(0,8)}.txt`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(ye),n({title:" ! | Downloaded!",description:"    | Recovery ID downloaded"}),_(!0)}},J=()=>{P(!1),localStorage.removeItem("setupPending"),n({title:e("common.success"),description:r?"    .  !":"Account and store created successfully! Welcome!"}),setTimeout(()=>{a("/dashboard")},1e3)},K=async()=>{if(!I||I.length!==6){n({variant:"destructive",title:"",description:"      6 "});return}H(!0);try{const B=await Vi.verifyEmail(W,I);if(B.valid&&B.tokens){localStorage.setItem("accessToken",B.tokens.accessToken),localStorage.setItem("refreshToken",B.tokens.refreshToken),B.user?localStorage.setItem("user",JSON.stringify(B.user)):localStorage.setItem("user",JSON.stringify({email:W,name:i,tenantId:B.tenantId||void 0,role:"SHOP_OWNER"})),F(!1);const Ne=B.setupPending===!0,ye=B.tenantId;B.recoveryId?(E(B.recoveryId),P(!0),Ne?localStorage.setItem("setupPending","true"):localStorage.removeItem("setupPending")):ye&&!Ne?(n({title:"  !",description:"    .  !"}),setTimeout(()=>{a("/dashboard")},1e3)):(n({title:"  !",description:"    .  !"}),setTimeout(()=>{a("/dashboard")},1e3))}else{const{title:Ne,description:ye}=ii({message:B.message||"Verification code is invalid"},{operation:r?"":"verify",resource:r?" ":"email"},r);n({variant:"destructive",title:Ne,description:ye})}}catch(B){const Ne=B,{title:ye,description:Re}=ii(Ne,{operation:r?"":"verify",resource:r?" ":"email"},r);n({variant:"destructive",title:ye,description:Re})}finally{H(!1)}},se=async()=>{H(!0);try{await Vi.resendVerificationCode(W),n({title:" !",description:"       "}),R("")}catch(B){const Ne=B,{title:ye,description:Re}=ii(Ne,{operation:r?" ":"resend",resource:r?" ":"verification code"},r);n({variant:"destructive",title:ye,description:Re})}finally{H(!1)}};return s.jsxs(s.Fragment,{children:[D&&A&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"gradient-primary p-6 text-white text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ws,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-heading font-bold",children:"  "}),s.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Secret Recovery ID"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(du,{className:"w-5 h-5 text-warning mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-warning",children:[s.jsx("p",{className:"font-semibold mb-1",children:" ! Important!"}),s.jsx("p",{children:"     .           ."}),s.jsx("p",{className:"mt-1 text-xs opacity-80",children:"Save this ID in a safe place. Use it to recover your account if you forget your email or it gets compromised."})]})]})}),s.jsx("div",{className:"bg-muted rounded-xl p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"  | Recovery ID"}),s.jsx("p",{className:"text-2xl font-mono font-bold text-primary tracking-wider",children:A})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(z,{onClick:U,variant:"outline",className:"flex-1 h-12",children:T?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-4 h-4 ml-2 text-success"})," "]}):s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"w-4 h-4 ml-2"})," "]})}),s.jsxs(z,{onClick:Z,variant:"outline",className:"flex-1 h-12",children:[s.jsx(Za,{className:"w-4 h-4 ml-2"})," "]})]}),s.jsxs(z,{onClick:J,className:"w-full h-12 gradient-primary",disabled:!T,children:["",s.jsx(ta,{className:"w-4 h-4 mr-2"})]})]}),!T&&s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"       | Please copy or download the ID before continuing"})]})]})}),O&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:B=>{B.target===B.currentTarget&&F(!1)},children:s.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-scale-in",children:[s.jsxs("div",{className:"gradient-primary p-6 text-white text-center relative",children:[s.jsx("button",{onClick:()=>F(!1),className:"absolute top-4 left-4 p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":"",children:s.jsx(hr,{className:"w-5 h-5"})}),s.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(un,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-heading font-bold",children:"   "}),s.jsx("p",{className:"text-sm text-white/80 mt-1",children:"Email Verification"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(la,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-primary",children:[s.jsx("p",{className:"font-semibold mb-1",children:"   "}),s.jsx("p",{children:"      6  :"}),s.jsx("p",{className:"font-mono font-bold mt-1",children:W})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"otp",className:"text-sm font-medium",children:"  | Verification Code"}),s.jsx(me,{id:"otp",type:"text",placeholder:"123456",value:I,onChange:B=>{const Ne=B.target.value.replace(/\D/g,"").slice(0,6);R(Ne)},className:"h-12 text-center text-2xl font-mono tracking-widest",maxLength:6,disabled:L}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"     6 "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{onClick:K,className:"w-full h-12 gradient-primary",disabled:L||I.length!==6,children:L?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 ml-2 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:["",s.jsx(ta,{className:"w-4 h-4 mr-2"})]})}),s.jsx(z,{onClick:se,variant:"outline",className:"w-full h-12",disabled:L,children:L?s.jsx(Ge,{className:"w-4 h-4 ml-2 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"w-4 h-4 ml-2"}),"  "]})}),s.jsxs(z,{onClick:()=>{F(!1),R("")},variant:"ghost",className:"w-full h-12 text-muted-foreground hover:text-foreground",disabled:L,children:[s.jsx(hr,{className:"w-4 h-4 ml-2"}),""]})]})]})]})}),s.jsxs("div",{className:"min-h-screen flex relative",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),s.jsx("div",{className:"relative z-10",children:s.jsxs(Qe,{to:"/",className:"inline-flex flex-col gap-4 group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-28 h-28 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("img",{src:Ho(),alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-4xl font-heading font-bold text-white",children:Hn}),s.jsx("p",{className:"text-xl font-semibold text-white/80",children:si})]})]}),s.jsxs("p",{className:"text-white/70 text-sm",children:[g_," | ",v_]})]})}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:[e("landing.hero.title"),s.jsx("br",{}),e("landing.hero.titleHighlight")]}),s.jsx("p",{className:"text-xl text-white/90",children:e("landing.hero.subtitle")}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:e("landing.hero.readyIn5")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:e("landing.hero.support247")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:e("landing.hero.noCreditCard")})]})]})]}),s.jsx("div",{className:"relative z-10 text-white/50 text-sm",children:e("landing.footer.copyright")})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-background",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(Qe,{to:"/",className:"lg:hidden flex flex-col items-center gap-3 mb-8 group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:s.jsx("img",{src:Ho(),alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-3xl font-heading font-bold gradient-text",children:Hn}),s.jsx("p",{className:"text-lg font-semibold text-primary",children:si})]})]}),s.jsxs("p",{className:"text-muted-foreground text-xs text-center",children:[g_," | ",v_]})]}),s.jsxs(je,{className:"shadow-xl border-border/50",children:[s.jsxs(et,{className:"space-y-1 text-center pb-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(x2e,{state:x,className:"transform hover:scale-105 transition-transform"})}),s.jsx(at,{className:"text-2xl font-heading font-bold",children:e("auth.signup.title")}),s.jsx(Vt,{className:"text-base",children:e("landing.hero.subtitle")})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Qs,{})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:e("common.or","OR")})})]}),s.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"name",className:"text-sm font-medium",children:e("auth.signup.name","Full Name")}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"name",placeholder:e("auth.signup.namePlaceholder","John Doe"),value:i,onChange:G(o),onFocus:()=>b(!0),onBlur:()=>b(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"nationalId",className:"text-sm font-medium",children:[r?"  /  ":"National ID / Passport ID"," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"nationalId",placeholder:r?"    ":"National ID or Passport ID",value:h,onChange:G(m),onFocus:()=>b(!0),onBlur:()=>b(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",className:"text-sm font-medium",children:e("auth.login.email")}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",value:l,onChange:G(c),onFocus:()=>b(!0),onBlur:()=>b(!1),required:!0,className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"password",className:"text-sm font-medium",children:e("auth.login.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"password",type:v?"text":"password",value:d,onChange:G(u),onFocus:()=>{b(!0),k(!0)},onBlur:()=>{b(!1),k(!1)},required:!0,minLength:6,className:"h-11 px-10 border-border focus:border-primary focus:ring-primary"}),s.jsx("button",{type:"button",onClick:()=>N(!v),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:v?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]}),d&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("auth.signup.passwordStrength","Password Strength"),":"]}),s.jsx("span",{className:`font-semibold ${S<40?"text-destructive":S<70?"text-warning":"text-success"}`,children:q()})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${V()}`,style:{width:`${S}%`}})})]})]}),s.jsx(z,{type:"submit",className:"w-full h-11 gradient-primary font-medium shadow-md hover:shadow-lg transition-all mt-6",disabled:p,children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:e("common.loading")})]}):s.jsxs(s.Fragment,{children:[s.jsx(jd,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:e("auth.signup.button")}),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})})]}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground px-4 pt-2",children:[e("auth.signup.termsAgreement","By creating an account, you agree to our")," ",s.jsx(Qe,{to:"/terms",className:"text-primary hover:underline",children:e("landing.footer.links.terms")})," ",e("common.and","and")," ",s.jsx(Qe,{to:"/privacy",className:"text-primary hover:underline",children:e("landing.footer.links.privacy")})]})]}),s.jsxs(Ru,{className:"flex flex-col gap-4 pt-2",children:[s.jsx(Qs,{}),s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[e("auth.signup.haveAccount")," ",s.jsx(Qe,{to:"/auth/login",className:"text-primary hover:text-primary/80 font-semibold hover:underline",children:e("auth.signup.loginLink")})]})]})]})]}),s.jsx(wp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-background"})]})]})]})}var Kw=e=>e.type==="checkbox",pf=e=>e instanceof Date,to=e=>e==null;const zX=e=>typeof e=="object";var mn=e=>!to(e)&&!Array.isArray(e)&&zX(e)&&!pf(e),WX=e=>mn(e)&&e.target?Kw(e.target)?e.target.checked:e.target.value:e,g2e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,HX=(e,t)=>e.has(g2e(t)),v2e=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},eR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ln(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(eR&&(e instanceof Blob||a))&&(r||mn(e)))if(t=r?[]:{},!r&&!v2e(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ln(e[n]));else return e;return t}var iC=e=>/^\w*$/.test(e),ln=e=>e===void 0,tR=e=>Array.isArray(e)?e.filter(Boolean):[],rR=e=>tR(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ut=(e,t,r)=>{if(!t||!mn(e))return r;const a=(iC(t)?[t]:rR(t)).reduce((n,i)=>to(n)?n:n[i],e);return ln(a)||a===e?ln(e[t])?r:e[t]:a},Qo=e=>typeof e=="boolean",Gs=(e,t,r)=>{let a=-1;const n=iC(t)?[t]:rR(t),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let c=r;if(a!==o){const d=e[l];c=mn(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const E2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ac={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sR=ae.createContext(null);sR.displayName="HookFormContext";const oC=()=>ae.useContext(sR),y2e=e=>{const{children:t,...r}=e;return ae.createElement(sR.Provider,{value:r},t)};var qX=(e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ac.all&&(t._proxyFormState[o]=!a||Ac.all),r&&(r[o]=!0),e[o]}});return n};const aR=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function b2e(e){const t=oC(),{control:r=t.control,disabled:a,name:n,exact:i}=e||{},[o,l]=ae.useState(r._formState),c=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return aR(()=>r._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!a&&l({...r._formState,...d})}}),[n,a,i]),ae.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ae.useMemo(()=>qX(o,r,c.current,!1),[o,r])}var xd=e=>typeof e=="string",GX=(e,t,r,a,n)=>xd(e)?(a&&t.watch.add(e),Ut(r,e,n)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),Ut(r,i))):(a&&(t.watchAll=!0),r),b_=e=>to(e)||!zX(e);function eu(e,t,r=new WeakSet){if(b_(e)||b_(t))return e===t;if(pf(e)&&pf(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of a){const o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=t[i];if(pf(o)&&pf(l)||mn(o)&&mn(l)||Array.isArray(o)&&Array.isArray(l)?!eu(o,l,r):o!==l)return!1}}return!0}function w2e(e){const t=oC(),{control:r=t.control,name:a,defaultValue:n,disabled:i,exact:o,compute:l}=e||{},c=ae.useRef(n),d=ae.useRef(l),u=ae.useRef(void 0);d.current=l;const h=ae.useMemo(()=>r._getWatch(a,c.current),[r,a]),[m,p]=ae.useState(d.current?d.current(h):h);return aR(()=>r._subscribe({name:a,formState:{values:!0},exact:o,callback:g=>{if(!i){const x=GX(a,r._names,g.values||r._formValues,!1,c.current);if(d.current){const y=d.current(x);eu(y,u.current)||(p(y),u.current=y)}else p(x)}}}),[r,i,a,o]),ae.useEffect(()=>r._removeUnmounted()),m}function j2e(e){const t=oC(),{name:r,disabled:a,control:n=t.control,shouldUnregister:i,defaultValue:o}=e,l=HX(n._names.array,r),c=ae.useMemo(()=>Ut(n._formValues,r,Ut(n._defaultValues,r,o)),[n,r,o]),d=w2e({control:n,name:r,defaultValue:c,exact:!0}),u=b2e({control:n,name:r,exact:!0}),h=ae.useRef(e),m=ae.useRef(n.register(r,{...e.rules,value:d,...Qo(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ut(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ut(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ut(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ut(u.validatingFields,r)},error:{enumerable:!0,get:()=>Ut(u.errors,r)}}),[u,r]),g=ae.useCallback(b=>m.current.onChange({target:{value:WX(b),name:r},type:E2.CHANGE}),[r]),x=ae.useCallback(()=>m.current.onBlur({target:{value:Ut(n._formValues,r),name:r},type:E2.BLUR}),[r,n._formValues]),y=ae.useCallback(b=>{const v=Ut(n._fields,r);v&&b&&(v._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:N=>b.setCustomValidity(N),reportValidity:()=>b.reportValidity()})},[n._fields,r]),w=ae.useMemo(()=>({name:r,value:d,...Qo(a)||u.disabled?{disabled:u.disabled||a}:{},onChange:g,onBlur:x,ref:y}),[r,a,u.disabled,g,x,y,d]);return ae.useEffect(()=>{const b=n._options.shouldUnregister||i;n.register(r,{...h.current.rules,...Qo(h.current.disabled)?{disabled:h.current.disabled}:{}});const v=(N,j)=>{const k=Ut(n._fields,N);k&&k._f&&(k._f.mount=j)};if(v(r,!0),b){const N=Ln(Ut(n._options.defaultValues,r));Gs(n._defaultValues,r,N),ln(Ut(n._formValues,r))&&Gs(n._formValues,r,N)}return!l&&n.register(r),()=>{(l?b&&!n._state.action:b)?n.unregister(r):v(r,!1)}},[r,n,l,i]),ae.useEffect(()=>{n._setDisabledField({disabled:a,name:r})},[a,r,n]),ae.useMemo(()=>({field:w,formState:u,fieldState:p}),[w,u,p])}const N2e=e=>e.render(j2e(e));var KX=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},ky=e=>Array.isArray(e)?e:[e],s8=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},Eo=e=>mn(e)&&!Object.keys(e).length,nR=e=>e.type==="file",Ec=e=>typeof e=="function",P2=e=>{if(!eR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},YX=e=>e.type==="select-multiple",iR=e=>e.type==="radio",S2e=e=>iR(e)||Kw(e),oP=e=>P2(e)&&e.isConnected;function k2e(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=ln(e)?a++:e[t[a++]];return e}function C2e(e){for(const t in e)if(e.hasOwnProperty(t)&&!ln(e[t]))return!1;return!0}function bn(e,t){const r=Array.isArray(t)?t:iC(t)?[t]:rR(t),a=r.length===1?e:k2e(e,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(mn(a)&&Eo(a)||Array.isArray(a)&&C2e(a))&&bn(e,r.slice(0,-1)),e}var XX=e=>{for(const t in e)if(Ec(e[t]))return!0;return!1};function T2(e,t={}){const r=Array.isArray(e);if(mn(e)||r)for(const a in e)Array.isArray(e[a])||mn(e[a])&&!XX(e[a])?(t[a]=Array.isArray(e[a])?[]:{},T2(e[a],t[a])):to(e[a])||(t[a]=!0);return t}function QX(e,t,r){const a=Array.isArray(e);if(mn(e)||a)for(const n in e)Array.isArray(e[n])||mn(e[n])&&!XX(e[n])?ln(t)||b_(r[n])?r[n]=Array.isArray(e[n])?T2(e[n],[]):{...T2(e[n])}:QX(e[n],to(t)?{}:t[n],r[n]):r[n]=!eu(e[n],t[n]);return r}var bv=(e,t)=>QX(e,t,T2(t));const a8={value:!1,isValid:!1},n8={value:!0,isValid:!0};var JX=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ln(e[0].attributes.value)?ln(e[0].value)||e[0].value===""?n8:{value:e[0].value,isValid:!0}:n8:a8}return a8},ZX=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>ln(e)?e:t?e===""?NaN:e&&+e:r&&xd(e)?new Date(e):a?a(e):e;const i8={isValid:!1,value:null};var eQ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,i8):i8;function o8(e){const t=e.ref;return nR(t)?t.files:iR(t)?eQ(e.refs).value:YX(t)?[...t.selectedOptions].map(({value:r})=>r):Kw(t)?JX(e.refs).value:ZX(ln(t.value)?e.ref.value:t.value,e)}var A2e=(e,t,r,a)=>{const n={};for(const i of e){const o=Ut(t,i);o&&Gs(n,i,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}},_2=e=>e instanceof RegExp,wv=e=>ln(e)?e:_2(e)?e.source:mn(e)?_2(e.value)?e.value.source:e.value:e,l8=e=>({isOnSubmit:!e||e===Ac.onSubmit,isOnBlur:e===Ac.onBlur,isOnChange:e===Ac.onChange,isOnAll:e===Ac.all,isOnTouch:e===Ac.onTouched});const c8="AsyncFunction";var E2e=e=>!!e&&!!e.validate&&!!(Ec(e.validate)&&e.validate.constructor.name===c8||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===c8)),P2e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),d8=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Cy=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const i=Ut(e,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(Cy(l,t))break}else if(mn(l)&&Cy(l,t))break}}};function u8(e,t,r){const a=Ut(e,r);if(a||iC(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=Ut(t,i),l=Ut(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:r}}var T2e=(e,t,r,a)=>{r(e);const{name:n,...i}=e;return Eo(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||Ac.all))},_2e=(e,t,r)=>!e||!t||e===t||ky(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),D2e=(e,t,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:(r?a.isOnChange:n.isOnChange)?e:!0,O2e=(e,t)=>!tR(Ut(e,t)).length&&bn(e,t),I2e=(e,t,r)=>{const a=ky(Ut(e,r));return Gs(a,"root",t[r]),Gs(e,r,a),e},CN=e=>xd(e);function h8(e,t,r="validate"){if(CN(e)||Array.isArray(e)&&e.every(CN)||Qo(e)&&!e)return{type:r,message:CN(e)?e:"",ref:t}}var Wp=e=>mn(e)&&!_2(e)?e:{value:e,message:""},m8=async(e,t,r,a,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:g,name:x,valueAsNumber:y,mount:w}=e._f,b=Ut(r,x);if(!w||t.has(x))return{};const v=l?l[0]:o,N=P=>{n&&v.reportValidity&&(v.setCustomValidity(Qo(P)?"":P||""),v.reportValidity())},j={},k=iR(o),S=Kw(o),C=k||S,A=(y||nR(o))&&ln(o.value)&&ln(b)||P2(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=KX.bind(null,x,a,j),D=(P,T,_,O=Gd.maxLength,F=Gd.minLength)=>{const I=P?T:_;j[x]={type:P?O:F,message:I,ref:o,...E(P?O:F,I)}};if(i?!Array.isArray(b)||!b.length:c&&(!C&&(A||to(b))||Qo(b)&&!b||S&&!JX(l).isValid||k&&!eQ(l).isValid)){const{value:P,message:T}=CN(c)?{value:!!c,message:c}:Wp(c);if(P&&(j[x]={type:Gd.required,message:T,ref:v,...E(Gd.required,T)},!a))return N(T),j}if(!A&&(!to(h)||!to(m))){let P,T;const _=Wp(m),O=Wp(h);if(!to(b)&&!isNaN(b)){const F=o.valueAsNumber||b&&+b;to(_.value)||(P=F>_.value),to(O.value)||(T=F<O.value)}else{const F=o.valueAsDate||new Date(b),I=H=>new Date(new Date().toDateString()+" "+H),R=o.type=="time",L=o.type=="week";xd(_.value)&&b&&(P=R?I(b)>I(_.value):L?b>_.value:F>new Date(_.value)),xd(O.value)&&b&&(T=R?I(b)<I(O.value):L?b<O.value:F<new Date(O.value))}if((P||T)&&(D(!!P,_.message,O.message,Gd.max,Gd.min),!a))return N(j[x].message),j}if((d||u)&&!A&&(xd(b)||i&&Array.isArray(b))){const P=Wp(d),T=Wp(u),_=!to(P.value)&&b.length>+P.value,O=!to(T.value)&&b.length<+T.value;if((_||O)&&(D(_,P.message,T.message),!a))return N(j[x].message),j}if(p&&!A&&xd(b)){const{value:P,message:T}=Wp(p);if(_2(P)&&!b.match(P)&&(j[x]={type:Gd.pattern,message:T,ref:o,...E(Gd.pattern,T)},!a))return N(T),j}if(g){if(Ec(g)){const P=await g(b,r),T=h8(P,v);if(T&&(j[x]={...T,...E(Gd.validate,T.message)},!a))return N(T.message),j}else if(mn(g)){let P={};for(const T in g){if(!Eo(P)&&!a)break;const _=h8(await g[T](b,r),v,T);_&&(P={..._,...E(T,_.message)},N(_.message),a&&(j[x]=P))}if(!Eo(P)&&(j[x]={ref:v,...P},!a))return j}}return N(!0),j};const R2e={mode:Ac.onSubmit,reValidateMode:Ac.onChange,shouldFocusError:!0};function F2e(e={}){let t={...R2e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ec(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=mn(t.defaultValues)||mn(t.values)?Ln(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ln(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:s8(),state:s8()},p=t.criteriaMode===Ac.all,g=ie=>Pe=>{clearTimeout(d),d=setTimeout(ie,Pe)},x=async ie=>{if(!t.disabled&&(u.isValid||h.isValid||ie)){const Pe=t.resolver?Eo((await S()).errors):await A(a,!0);Pe!==r.isValid&&m.state.next({isValid:Pe})}},y=(ie,Pe)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((ie||Array.from(l.mount)).forEach(Te=>{Te&&(Pe?Gs(r.validatingFields,Te,Pe):bn(r.validatingFields,Te))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Eo(r.validatingFields)}))},w=(ie,Pe=[],Te,Ve,Le=!0,de=!0)=>{if(Ve&&Te&&!t.disabled){if(o.action=!0,de&&Array.isArray(Ut(a,ie))){const xe=Te(Ut(a,ie),Ve.argA,Ve.argB);Le&&Gs(a,ie,xe)}if(de&&Array.isArray(Ut(r.errors,ie))){const xe=Te(Ut(r.errors,ie),Ve.argA,Ve.argB);Le&&Gs(r.errors,ie,xe),O2e(r.errors,ie)}if((u.touchedFields||h.touchedFields)&&de&&Array.isArray(Ut(r.touchedFields,ie))){const xe=Te(Ut(r.touchedFields,ie),Ve.argA,Ve.argB);Le&&Gs(r.touchedFields,ie,xe)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=bv(n,i)),m.state.next({name:ie,isDirty:D(ie,Pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gs(i,ie,Pe)},b=(ie,Pe)=>{Gs(r.errors,ie,Pe),m.state.next({errors:r.errors})},v=ie=>{r.errors=ie,m.state.next({errors:r.errors,isValid:!1})},N=(ie,Pe,Te,Ve)=>{const Le=Ut(a,ie);if(Le){const de=Ut(i,ie,ln(Te)?Ut(n,ie):Te);ln(de)||Ve&&Ve.defaultChecked||Pe?Gs(i,ie,Pe?de:o8(Le._f)):_(ie,de),o.mount&&x()}},j=(ie,Pe,Te,Ve,Le)=>{let de=!1,xe=!1;const Ie={name:ie};if(!t.disabled){if(!Te||Ve){(u.isDirty||h.isDirty)&&(xe=r.isDirty,r.isDirty=Ie.isDirty=D(),de=xe!==Ie.isDirty);const st=eu(Ut(n,ie),Pe);xe=!!Ut(r.dirtyFields,ie),st?bn(r.dirtyFields,ie):Gs(r.dirtyFields,ie,!0),Ie.dirtyFields=r.dirtyFields,de=de||(u.dirtyFields||h.dirtyFields)&&xe!==!st}if(Te){const st=Ut(r.touchedFields,ie);st||(Gs(r.touchedFields,ie,Te),Ie.touchedFields=r.touchedFields,de=de||(u.touchedFields||h.touchedFields)&&st!==Te)}de&&Le&&m.state.next(Ie)}return de?Ie:{}},k=(ie,Pe,Te,Ve)=>{const Le=Ut(r.errors,ie),de=(u.isValid||h.isValid)&&Qo(Pe)&&r.isValid!==Pe;if(t.delayError&&Te?(c=g(()=>b(ie,Te)),c(t.delayError)):(clearTimeout(d),c=null,Te?Gs(r.errors,ie,Te):bn(r.errors,ie)),(Te?!eu(Le,Te):Le)||!Eo(Ve)||de){const xe={...Ve,...de&&Qo(Pe)?{isValid:Pe}:{},errors:r.errors,name:ie};r={...r,...xe},m.state.next(xe)}},S=async ie=>{y(ie,!0);const Pe=await t.resolver(i,t.context,A2e(ie||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return y(ie),Pe},C=async ie=>{const{errors:Pe}=await S(ie);if(ie)for(const Te of ie){const Ve=Ut(Pe,Te);Ve?Gs(r.errors,Te,Ve):bn(r.errors,Te)}else r.errors=Pe;return Pe},A=async(ie,Pe,Te={valid:!0})=>{for(const Ve in ie){const Le=ie[Ve];if(Le){const{_f:de,...xe}=Le;if(de){const Ie=l.array.has(de.name),st=Le._f&&E2e(Le._f);st&&u.validatingFields&&y([Ve],!0);const wt=await m8(Le,l.disabled,i,p,t.shouldUseNativeValidation&&!Pe,Ie);if(st&&u.validatingFields&&y([Ve]),wt[de.name]&&(Te.valid=!1,Pe))break;!Pe&&(Ut(wt,de.name)?Ie?I2e(r.errors,wt,de.name):Gs(r.errors,de.name,wt[de.name]):bn(r.errors,de.name))}!Eo(xe)&&await A(xe,Pe,Te)}}return Te.valid},E=()=>{for(const ie of l.unMount){const Pe=Ut(a,ie);Pe&&(Pe._f.refs?Pe._f.refs.every(Te=>!oP(Te)):!oP(Pe._f.ref))&&U(ie)}l.unMount=new Set},D=(ie,Pe)=>!t.disabled&&(ie&&Pe&&Gs(i,ie,Pe),!eu(H(),n)),P=(ie,Pe,Te)=>GX(ie,l,{...o.mount?i:ln(Pe)?n:xd(ie)?{[ie]:Pe}:Pe},Te,Pe),T=ie=>tR(Ut(o.mount?i:n,ie,t.shouldUnregister?Ut(n,ie,[]):[])),_=(ie,Pe,Te={})=>{const Ve=Ut(a,ie);let Le=Pe;if(Ve){const de=Ve._f;de&&(!de.disabled&&Gs(i,ie,ZX(Pe,de)),Le=P2(de.ref)&&to(Pe)?"":Pe,YX(de.ref)?[...de.ref.options].forEach(xe=>xe.selected=Le.includes(xe.value)):de.refs?Kw(de.ref)?de.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(Le)?xe.checked=!!Le.find(Ie=>Ie===xe.value):xe.checked=Le===xe.value||!!Le)}):de.refs.forEach(xe=>xe.checked=xe.value===Le):nR(de.ref)?de.ref.value="":(de.ref.value=Le,de.ref.type||m.state.next({name:ie,values:Ln(i)})))}(Te.shouldDirty||Te.shouldTouch)&&j(ie,Le,Te.shouldTouch,Te.shouldDirty,!0),Te.shouldValidate&&L(ie)},O=(ie,Pe,Te)=>{for(const Ve in Pe){if(!Pe.hasOwnProperty(Ve))return;const Le=Pe[Ve],de=ie+"."+Ve,xe=Ut(a,de);(l.array.has(ie)||mn(Le)||xe&&!xe._f)&&!pf(Le)?O(de,Le,Te):_(de,Le,Te)}},F=(ie,Pe,Te={})=>{const Ve=Ut(a,ie),Le=l.array.has(ie),de=Ln(Pe);Gs(i,ie,de),Le?(m.array.next({name:ie,values:Ln(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Te.shouldDirty&&m.state.next({name:ie,dirtyFields:bv(n,i),isDirty:D(ie,de)})):Ve&&!Ve._f&&!to(de)?O(ie,de,Te):_(ie,de,Te),d8(ie,l)&&m.state.next({...r,name:ie}),m.state.next({name:o.mount?ie:void 0,values:Ln(i)})},I=async ie=>{o.mount=!0;const Pe=ie.target;let Te=Pe.name,Ve=!0;const Le=Ut(a,Te),de=st=>{Ve=Number.isNaN(st)||pf(st)&&isNaN(st.getTime())||eu(st,Ut(i,Te,st))},xe=l8(t.mode),Ie=l8(t.reValidateMode);if(Le){let st,wt;const tt=Pe.type?o8(Le._f):WX(ie),Bt=ie.type===E2.BLUR||ie.type===E2.FOCUS_OUT,pr=!P2e(Le._f)&&!t.resolver&&!Ut(r.errors,Te)&&!Le._f.deps||D2e(Bt,Ut(r.touchedFields,Te),r.isSubmitted,Ie,xe),$t=d8(Te,l,Bt);Gs(i,Te,tt),Bt?(Le._f.onBlur&&Le._f.onBlur(ie),c&&c(0)):Le._f.onChange&&Le._f.onChange(ie);const _t=j(Te,tt,Bt),as=!Eo(_t)||$t;if(!Bt&&m.state.next({name:Te,type:ie.type,values:Ln(i)}),pr)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Bt&&x():Bt||x()),as&&m.state.next({name:Te,...$t?{}:_t});if(!Bt&&$t&&m.state.next({...r}),t.resolver){const{errors:Se}=await S([Te]);if(de(tt),Ve){const vr=u8(r.errors,a,Te),Br=u8(Se,a,vr.name||Te);st=Br.error,Te=Br.name,wt=Eo(Se)}}else y([Te],!0),st=(await m8(Le,l.disabled,i,p,t.shouldUseNativeValidation))[Te],y([Te]),de(tt),Ve&&(st?wt=!1:(u.isValid||h.isValid)&&(wt=await A(a,!0)));Ve&&(Le._f.deps&&L(Le._f.deps),k(Te,wt,st,_t))}},R=(ie,Pe)=>{if(Ut(r.errors,Pe)&&ie.focus)return ie.focus(),1},L=async(ie,Pe={})=>{let Te,Ve;const Le=ky(ie);if(t.resolver){const de=await C(ln(ie)?ie:Le);Te=Eo(de),Ve=ie?!Le.some(xe=>Ut(de,xe)):Te}else ie?(Ve=(await Promise.all(Le.map(async de=>{const xe=Ut(a,de);return await A(xe&&xe._f?{[de]:xe}:xe)}))).every(Boolean),!(!Ve&&!r.isValid)&&x()):Ve=Te=await A(a);return m.state.next({...!xd(ie)||(u.isValid||h.isValid)&&Te!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Te}:{},errors:r.errors}),Pe.shouldFocus&&!Ve&&Cy(a,R,ie?Le:l.mount),Ve},H=ie=>{const Pe={...o.mount?i:n};return ln(ie)?Pe:xd(ie)?Ut(Pe,ie):ie.map(Te=>Ut(Pe,Te))},W=(ie,Pe)=>({invalid:!!Ut((Pe||r).errors,ie),isDirty:!!Ut((Pe||r).dirtyFields,ie),error:Ut((Pe||r).errors,ie),isValidating:!!Ut(r.validatingFields,ie),isTouched:!!Ut((Pe||r).touchedFields,ie)}),M=ie=>{ie&&ky(ie).forEach(Pe=>bn(r.errors,Pe)),m.state.next({errors:ie?r.errors:{}})},G=(ie,Pe,Te)=>{const Ve=(Ut(a,ie,{_f:{}})._f||{}).ref,Le=Ut(r.errors,ie)||{},{ref:de,message:xe,type:Ie,...st}=Le;Gs(r.errors,ie,{...st,...Pe,ref:Ve}),m.state.next({name:ie,errors:r.errors,isValid:!1}),Te&&Te.shouldFocus&&Ve&&Ve.focus&&Ve.focus()},V=(ie,Pe)=>Ec(ie)?m.state.subscribe({next:Te=>"values"in Te&&ie(P(void 0,Pe),Te)}):P(ie,Pe,!0),q=ie=>m.state.subscribe({next:Pe=>{_2e(ie.name,Pe.name,ie.exact)&&T2e(Pe,ie.formState||u,He,ie.reRenderRoot)&&ie.callback({values:{...i},...r,...Pe,defaultValues:n})}}).unsubscribe,Y=ie=>(o.mount=!0,h={...h,...ie.formState},q({...ie,formState:h})),U=(ie,Pe={})=>{for(const Te of ie?ky(ie):l.mount)l.mount.delete(Te),l.array.delete(Te),Pe.keepValue||(bn(a,Te),bn(i,Te)),!Pe.keepError&&bn(r.errors,Te),!Pe.keepDirty&&bn(r.dirtyFields,Te),!Pe.keepTouched&&bn(r.touchedFields,Te),!Pe.keepIsValidating&&bn(r.validatingFields,Te),!t.shouldUnregister&&!Pe.keepDefaultValue&&bn(n,Te);m.state.next({values:Ln(i)}),m.state.next({...r,...Pe.keepDirty?{isDirty:D()}:{}}),!Pe.keepIsValid&&x()},Z=({disabled:ie,name:Pe})=>{(Qo(ie)&&o.mount||ie||l.disabled.has(Pe))&&(ie?l.disabled.add(Pe):l.disabled.delete(Pe))},J=(ie,Pe={})=>{let Te=Ut(a,ie);const Ve=Qo(Pe.disabled)||Qo(t.disabled);return Gs(a,ie,{...Te||{},_f:{...Te&&Te._f?Te._f:{ref:{name:ie}},name:ie,mount:!0,...Pe}}),l.mount.add(ie),Te?Z({disabled:Qo(Pe.disabled)?Pe.disabled:t.disabled,name:ie}):N(ie,!0,Pe.value),{...Ve?{disabled:Pe.disabled||t.disabled}:{},...t.progressive?{required:!!Pe.required,min:wv(Pe.min),max:wv(Pe.max),minLength:wv(Pe.minLength),maxLength:wv(Pe.maxLength),pattern:wv(Pe.pattern)}:{},name:ie,onChange:I,onBlur:I,ref:Le=>{if(Le){J(ie,Pe),Te=Ut(a,ie);const de=ln(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,xe=S2e(de),Ie=Te._f.refs||[];if(xe?Ie.find(st=>st===de):de===Te._f.ref)return;Gs(a,ie,{_f:{...Te._f,...xe?{refs:[...Ie.filter(oP),de,...Array.isArray(Ut(n,ie))?[{}]:[]],ref:{type:de.type,name:ie}}:{ref:de}}}),N(ie,!1,void 0,de)}else Te=Ut(a,ie,{}),Te._f&&(Te._f.mount=!1),(t.shouldUnregister||Pe.shouldUnregister)&&!(HX(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},K=()=>t.shouldFocusError&&Cy(a,R,l.mount),se=ie=>{Qo(ie)&&(m.state.next({disabled:ie}),Cy(a,(Pe,Te)=>{const Ve=Ut(a,Te);Ve&&(Pe.disabled=Ve._f.disabled||ie,Array.isArray(Ve._f.refs)&&Ve._f.refs.forEach(Le=>{Le.disabled=Ve._f.disabled||ie}))},0,!1))},B=(ie,Pe)=>async Te=>{let Ve;Te&&(Te.preventDefault&&Te.preventDefault(),Te.persist&&Te.persist());let Le=Ln(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:xe}=await S();r.errors=de,Le=Ln(xe)}else await A(a);if(l.disabled.size)for(const de of l.disabled)bn(Le,de);if(bn(r.errors,"root"),Eo(r.errors)){m.state.next({errors:{}});try{await ie(Le,Te)}catch(de){Ve=de}}else Pe&&await Pe({...r.errors},Te),K(),setTimeout(K);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Eo(r.errors)&&!Ve,submitCount:r.submitCount+1,errors:r.errors}),Ve)throw Ve},Ne=(ie,Pe={})=>{Ut(a,ie)&&(ln(Pe.defaultValue)?F(ie,Ln(Ut(n,ie))):(F(ie,Pe.defaultValue),Gs(n,ie,Ln(Pe.defaultValue))),Pe.keepTouched||bn(r.touchedFields,ie),Pe.keepDirty||(bn(r.dirtyFields,ie),r.isDirty=Pe.defaultValue?D(ie,Ln(Ut(n,ie))):D()),Pe.keepError||(bn(r.errors,ie),u.isValid&&x()),m.state.next({...r}))},ye=(ie,Pe={})=>{const Te=ie?Ln(ie):n,Ve=Ln(Te),Le=Eo(ie),de=Le?n:Ve;if(Pe.keepDefaultValues||(n=Te),!Pe.keepValues){if(Pe.keepDirtyValues){const xe=new Set([...l.mount,...Object.keys(bv(n,i))]);for(const Ie of Array.from(xe))Ut(r.dirtyFields,Ie)?Gs(de,Ie,Ut(i,Ie)):F(Ie,Ut(de,Ie))}else{if(eR&&ln(ie))for(const xe of l.mount){const Ie=Ut(a,xe);if(Ie&&Ie._f){const st=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(P2(st)){const wt=st.closest("form");if(wt){wt.reset();break}}}}if(Pe.keepFieldsRef)for(const xe of l.mount)F(xe,Ut(de,xe));else a={}}i=t.shouldUnregister?Pe.keepDefaultValues?Ln(n):{}:Ln(de),m.array.next({values:{...de}}),m.state.next({values:{...de}})}l={mount:Pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Pe.keepIsValid||!!Pe.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:Pe.keepSubmitCount?r.submitCount:0,isDirty:Le?!1:Pe.keepDirty?r.isDirty:!!(Pe.keepDefaultValues&&!eu(ie,n)),isSubmitted:Pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Le?{}:Pe.keepDirtyValues?Pe.keepDefaultValues&&i?bv(n,i):r.dirtyFields:Pe.keepDefaultValues&&ie?bv(n,ie):Pe.keepDirty?r.dirtyFields:{},touchedFields:Pe.keepTouched?r.touchedFields:{},errors:Pe.keepErrors?r.errors:{},isSubmitSuccessful:Pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Re=(ie,Pe)=>ye(Ec(ie)?ie(i):ie,Pe),qe=(ie,Pe={})=>{const Te=Ut(a,ie),Ve=Te&&Te._f;if(Ve){const Le=Ve.refs?Ve.refs[0]:Ve.ref;Le.focus&&(Le.focus(),Pe.shouldSelect&&Ec(Le.select)&&Le.select())}},He=ie=>{r={...r,...ie}},Ue={control:{register:J,unregister:U,getFieldState:W,handleSubmit:B,setError:G,_subscribe:q,_runSchema:S,_focusError:K,_getWatch:P,_getDirty:D,_setValid:x,_setFieldArray:w,_setDisabledField:Z,_setErrors:v,_getFieldArray:T,_reset:ye,_resetDefaultValues:()=>Ec(t.defaultValues)&&t.defaultValues().then(ie=>{Re(ie,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:se,_subjects:m,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return n},get _names(){return l},set _names(ie){l=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:Y,trigger:L,register:J,handleSubmit:B,watch:V,setValue:F,getValues:H,reset:Re,resetField:Ne,clearErrors:M,unregister:U,setError:G,setFocus:qe,getFieldState:W};return{...Ue,formControl:Ue}}function tQ(e={}){const t=ae.useRef(void 0),r=ae.useRef(void 0),[a,n]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Ec(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ec(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Ec(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=F2e(e);t.current={...l,formState:a}}const i=t.current.control;return i._options=e,aR(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ae.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ae.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ae.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ae.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ae.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ae.useEffect(()=>{e.values&&!eu(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=qX(a,i),t.current}const f8=(e,t,r)=>{if(e&&"reportValidity"in e){const a=Ut(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},rQ=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?f8(a.ref,r,e):a.refs&&a.refs.forEach(n=>f8(n,r,e))}},M2e=(e,t)=>{t.shouldUseNativeValidation&&rQ(e,t);const r={};for(const a in e){const n=Ut(t.fields,a),i=Object.assign(e[a]||{},{ref:n&&n.ref});if(L2e(t.names||Object.keys(e),a)){const o=Object.assign({},Ut(r,a));Gs(o,"root",i),Gs(r,a,o)}else Gs(r,a,i)}return r},L2e=(e,t)=>e.some(r=>r.startsWith(t+"."));var $2e=function(e,t){for(var r={};e.length;){var a=e[0],n=a.code,i=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[a.code];r[o]=KX(o,t,r,n,d?[].concat(d,a.message):a.message)}e.shift()}return r},sQ=function(e,t,r){return r===void 0&&(r={}),function(a,n,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return i.shouldUseNativeValidation&&rQ({},i),{errors:{},values:r.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:M2e($2e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Rs;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},e.getValidEnumValues=n=>{const i=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(i){return n[i]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},e.find=(n,i)=>{for(const o of n)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Rs||(Rs={}));var p8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(p8||(p8={}));const er=Rs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uh=e=>{switch(typeof e){case"undefined":return er.undefined;case"string":return er.string;case"number":return Number.isNaN(e)?er.nan:er.number;case"boolean":return er.boolean;case"function":return er.function;case"bigint":return er.bigint;case"symbol":return er.symbol;case"object":return Array.isArray(e)?er.array:e===null?er.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?er.promise:typeof Map<"u"&&e instanceof Map?er.map:typeof Set<"u"&&e instanceof Set?er.set:typeof Date<"u"&&e instanceof Date?er.date:er.object;default:return er.unknown}},Nt=Rs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Au extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(t){if(!(t instanceof Au))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rs.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];r[i]=r[i]||[],r[i].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}Au.create=e=>new Au(e);const w_=(e,t)=>{let r;switch(e.code){case Nt.invalid_type:e.received===er.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Nt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Rs.jsonStringifyReplacer)}`;break;case Nt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Rs.joinValues(e.keys,", ")}`;break;case Nt.invalid_union:r="Invalid input";break;case Nt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Rs.joinValues(e.options)}`;break;case Nt.invalid_enum_value:r=`Invalid enum value. Expected ${Rs.joinValues(e.options)}, received '${e.received}'`;break;case Nt.invalid_arguments:r="Invalid function arguments";break;case Nt.invalid_return_type:r="Invalid function return type";break;case Nt.invalid_date:r="Invalid date";break;case Nt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Rs.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Nt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Nt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Nt.custom:r="Invalid input";break;case Nt.invalid_intersection_types:r="Intersection results could not be merged";break;case Nt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Nt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Rs.assertNever(e)}return{message:r}};let B2e=w_;function U2e(){return B2e}const V2e=e=>{const{data:t,path:r,errorMaps:a,issueData:n}=e,i=[...r,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:i,message:l}};function Wt(e,t){const r=U2e(),a=V2e({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===w_?void 0:w_].filter(n=>!!n)});e.common.issues.push(a)}class fl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const n of r){if(n.status==="aborted")return qr;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const n of r){const i=await n.key,o=await n.value;a.push({key:i,value:o})}return fl.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const n of r){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return qr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const qr=Object.freeze({status:"aborted"}),Yv=e=>({status:"dirty",value:e}),ec=e=>({status:"valid",value:e}),x8=e=>e.status==="aborted",g8=e=>e.status==="dirty",Eg=e=>e.status==="valid",D2=e=>typeof Promise<"u"&&e instanceof Promise;var lr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(lr||(lr={}));class lm{constructor(t,r,a,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v8=(e,t)=>{if(Eg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Au(e.common.issues);return this._error=r,this._error}}};function xs(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class Ts{get description(){return this._def.description}_getType(t){return uh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:uh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fl,ctx:{common:t.parent.common,data:t.data,parsedType:uh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(D2(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uh(t)},n=this._parseSync({data:t,path:a.path,parent:a});return v8(a,n)}"~validate"(t){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uh(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Eg(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Eg(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uh(t)},n=this._parse({data:t,path:a.path,parent:a}),i=await(D2(n)?n:Promise.resolve(n));return v8(a,i)}refine(t,r){const a=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:Nt.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(t){return new Tg({schema:this,typeName:Gr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Kh.create(this,this._def)}nullable(){return _g.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ad.create(this)}promise(){return F2.create(this,this._def)}or(t){return I2.create([this,t],this._def)}and(t){return R2.create(this,t,this._def)}transform(t){return new Tg({...xs(this._def),schema:this,typeName:Gr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new N_({...xs(this._def),innerType:this,defaultValue:r,typeName:Gr.ZodDefault})}brand(){return new uSe({typeName:Gr.ZodBranded,type:this,...xs(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new S_({...xs(this._def),innerType:this,catchValue:r,typeName:Gr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return oR.create(this,t)}readonly(){return k_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z2e=/^c[^\s-]{8,}$/i,W2e=/^[0-9a-z]+$/,H2e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,q2e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,G2e=/^[a-z0-9_-]{21}$/i,K2e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Y2e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X2e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q2e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lP;const J2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sSe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aSe=new RegExp(`^${aQ}$`);function nQ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function nSe(e){return new RegExp(`^${nQ(e)}$`)}function iSe(e){let t=`${aQ}T${nQ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function oSe(e,t){return!!((t==="v4"||!t)&&J2e.test(e)||(t==="v6"||!t)&&eSe.test(e))}function lSe(e,t){if(!K2e.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function cSe(e,t){return!!((t==="v4"||!t)&&Z2e.test(e)||(t==="v6"||!t)&&tSe.test(e))}class Eh extends Ts{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==er.string){const i=this._getOrReturnCtx(t);return Wt(i,{code:Nt.invalid_type,expected:er.string,received:i.parsedType}),qr}const a=new fl;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?Wt(n,{code:Nt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Wt(n,{code:Nt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")X2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"email",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")lP||(lP=new RegExp(Q2e,"u")),lP.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"emoji",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")q2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"uuid",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")G2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"nanoid",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")z2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"cuid",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")W2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"cuid2",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")H2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"ulid",code:Nt.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Wt(n,{validation:"url",code:Nt.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"regex",code:Nt.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?iSe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?aSe.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?nSe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Y2e.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"duration",code:Nt.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?oSe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"ip",code:Nt.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?lSe(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"jwt",code:Nt.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?cSe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"cidr",code:Nt.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?rSe.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"base64",code:Nt.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?sSe.test(t.data)||(n=this._getOrReturnCtx(t,n),Wt(n,{validation:"base64url",code:Nt.invalid_string,message:i.message}),a.dirty()):Rs.assertNever(i);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(n=>t.test(n),{validation:r,code:Nt.invalid_string,...lr.errToObj(a)})}_addCheck(t){return new Eh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...lr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...lr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...lr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...lr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...lr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...lr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...lr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...lr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...lr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...lr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...lr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...lr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...lr.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...lr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...lr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...lr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...lr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...lr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...lr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...lr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...lr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...lr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...lr.errToObj(r)})}nonempty(t){return this.min(1,lr.errToObj(t))}trim(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Eh.create=e=>new Eh({checks:[],typeName:Gr.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...xs(e)});function dSe(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a,i=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return i%o/10**n}class jb extends Ts{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==er.number){const i=this._getOrReturnCtx(t);return Wt(i,{code:Nt.invalid_type,expected:er.number,received:i.parsedType}),qr}let a;const n=new fl;for(const i of this._def.checks)i.kind==="int"?Rs.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?dSe(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.not_finite,message:i.message}),n.dirty()):Rs.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,lr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,lr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,lr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,lr.toString(r))}setLimit(t,r,a,n){return new jb({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:lr.toString(n)}]})}_addCheck(t){return new jb({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:lr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:lr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:lr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:lr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:lr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:lr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:lr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:lr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:lr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Rs.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}jb.create=e=>new jb({checks:[],typeName:Gr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xs(e)});class Nb extends Ts{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==er.bigint)return this._getInvalidInput(t);let a;const n=new fl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Wt(a,{code:Nt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Rs.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Wt(r,{code:Nt.invalid_type,expected:er.bigint,received:r.parsedType}),qr}gte(t,r){return this.setLimit("min",t,!0,lr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,lr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,lr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,lr.toString(r))}setLimit(t,r,a,n){return new Nb({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:lr.toString(n)}]})}_addCheck(t){return new Nb({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:lr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:lr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:lr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:lr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:lr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nb.create=e=>new Nb({checks:[],typeName:Gr.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...xs(e)});class y8 extends Ts{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==er.boolean){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.boolean,received:a.parsedType}),qr}return ec(t.data)}}y8.create=e=>new y8({typeName:Gr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xs(e)});class O2 extends Ts{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==er.date){const i=this._getOrReturnCtx(t);return Wt(i,{code:Nt.invalid_type,expected:er.date,received:i.parsedType}),qr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Wt(i,{code:Nt.invalid_date}),qr}const a=new fl;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),Wt(n,{code:Nt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):Rs.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new O2({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:lr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:lr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}O2.create=e=>new O2({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Gr.ZodDate,...xs(e)});class b8 extends Ts{_parse(t){if(this._getType(t)!==er.symbol){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.symbol,received:a.parsedType}),qr}return ec(t.data)}}b8.create=e=>new b8({typeName:Gr.ZodSymbol,...xs(e)});class w8 extends Ts{_parse(t){if(this._getType(t)!==er.undefined){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.undefined,received:a.parsedType}),qr}return ec(t.data)}}w8.create=e=>new w8({typeName:Gr.ZodUndefined,...xs(e)});class j8 extends Ts{_parse(t){if(this._getType(t)!==er.null){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.null,received:a.parsedType}),qr}return ec(t.data)}}j8.create=e=>new j8({typeName:Gr.ZodNull,...xs(e)});class N8 extends Ts{constructor(){super(...arguments),this._any=!0}_parse(t){return ec(t.data)}}N8.create=e=>new N8({typeName:Gr.ZodAny,...xs(e)});class S8 extends Ts{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ec(t.data)}}S8.create=e=>new S8({typeName:Gr.ZodUnknown,...xs(e)});class cm extends Ts{_parse(t){const r=this._getOrReturnCtx(t);return Wt(r,{code:Nt.invalid_type,expected:er.never,received:r.parsedType}),qr}}cm.create=e=>new cm({typeName:Gr.ZodNever,...xs(e)});class k8 extends Ts{_parse(t){if(this._getType(t)!==er.undefined){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.void,received:a.parsedType}),qr}return ec(t.data)}}k8.create=e=>new k8({typeName:Gr.ZodVoid,...xs(e)});class Ad extends Ts{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),n=this._def;if(r.parsedType!==er.array)return Wt(r,{code:Nt.invalid_type,expected:er.array,received:r.parsedType}),qr;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(Wt(r,{code:o?Nt.too_big:Nt.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(Wt(r,{code:Nt.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(Wt(r,{code:Nt.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new lm(r,o,r.path,l)))).then(o=>fl.mergeArray(a,o));const i=[...r.data].map((o,l)=>n.type._parseSync(new lm(r,o,r.path,l)));return fl.mergeArray(a,i)}get element(){return this._def.type}min(t,r){return new Ad({...this._def,minLength:{value:t,message:lr.toString(r)}})}max(t,r){return new Ad({...this._def,maxLength:{value:t,message:lr.toString(r)}})}length(t,r){return new Ad({...this._def,exactLength:{value:t,message:lr.toString(r)}})}nonempty(t){return this.min(1,t)}}Ad.create=(e,t)=>new Ad({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Gr.ZodArray,...xs(t)});function ax(e){if(e instanceof Ya){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=Kh.create(ax(a))}return new Ya({...e._def,shape:()=>t})}else return e instanceof Ad?new Ad({...e._def,type:ax(e.element)}):e instanceof Kh?Kh.create(ax(e.unwrap())):e instanceof _g?_g.create(ax(e.unwrap())):e instanceof Qf?Qf.create(e.items.map(t=>ax(t))):e}class Ya extends Ts{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Rs.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==er.object){const d=this._getOrReturnCtx(t);return Wt(d,{code:Nt.invalid_type,expected:er.object,received:d.parsedType}),qr}const{status:a,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof cm&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new lm(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof cm){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(Wt(n,{code:Nt.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new lm(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>fl.mergeObjectSync(a,d)):fl.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return lr.errToObj,new Ya({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:lr.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new Ya({...this._def,unknownKeys:"strip"})}passthrough(){return new Ya({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ya({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ya({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Gr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ya({...this._def,catchall:t})}pick(t){const r={};for(const a of Rs.objectKeys(t))t[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Ya({...this._def,shape:()=>r})}omit(t){const r={};for(const a of Rs.objectKeys(this.shape))t[a]||(r[a]=this.shape[a]);return new Ya({...this._def,shape:()=>r})}deepPartial(){return ax(this)}partial(t){const r={};for(const a of Rs.objectKeys(this.shape)){const n=this.shape[a];t&&!t[a]?r[a]=n:r[a]=n.optional()}return new Ya({...this._def,shape:()=>r})}required(t){const r={};for(const a of Rs.objectKeys(this.shape))if(t&&!t[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Kh;)i=i._def.innerType;r[a]=i}return new Ya({...this._def,shape:()=>r})}keyof(){return iQ(Rs.objectKeys(this.shape))}}Ya.create=(e,t)=>new Ya({shape:()=>e,unknownKeys:"strip",catchall:cm.create(),typeName:Gr.ZodObject,...xs(t)});Ya.strictCreate=(e,t)=>new Ya({shape:()=>e,unknownKeys:"strict",catchall:cm.create(),typeName:Gr.ZodObject,...xs(t)});Ya.lazycreate=(e,t)=>new Ya({shape:e,unknownKeys:"strip",catchall:cm.create(),typeName:Gr.ZodObject,...xs(t)});class I2 extends Ts{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Au(l.ctx.common.issues));return Wt(r,{code:Nt.invalid_union,unionErrors:o}),qr}if(r.common.async)return Promise.all(a.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of a){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Au(c));return Wt(r,{code:Nt.invalid_union,unionErrors:l}),qr}}get options(){return this._def.options}}I2.create=(e,t)=>new I2({options:e,typeName:Gr.ZodUnion,...xs(t)});function j_(e,t){const r=uh(e),a=uh(t);if(e===t)return{valid:!0,data:e};if(r===er.object&&a===er.object){const n=Rs.objectKeys(t),i=Rs.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=j_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===er.array&&a===er.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=j_(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===er.date&&a===er.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class R2 extends Ts{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=(i,o)=>{if(x8(i)||x8(o))return qr;const l=j_(i.value,o.value);return l.valid?((g8(i)||g8(o))&&r.dirty(),{status:r.value,value:l.data}):(Wt(a,{code:Nt.invalid_intersection_types}),qr)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}R2.create=(e,t,r)=>new R2({left:e,right:t,typeName:Gr.ZodIntersection,...xs(r)});class Qf extends Ts{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==er.array)return Wt(a,{code:Nt.invalid_type,expected:er.array,received:a.parsedType}),qr;if(a.data.length<this._def.items.length)return Wt(a,{code:Nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qr;!this._def.rest&&a.data.length>this._def.items.length&&(Wt(a,{code:Nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new lm(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>fl.mergeArray(r,o)):fl.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Qf({...this._def,rest:t})}}Qf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qf({items:e,typeName:Gr.ZodTuple,rest:null,...xs(t)})};class C8 extends Ts{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==er.map)return Wt(a,{code:Nt.invalid_type,expected:er.map,received:a.parsedType}),qr;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new lm(a,l,a.path,[d,"key"])),value:i._parse(new lm(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return qr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return qr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}C8.create=(e,t,r)=>new C8({valueType:t,keyType:e,typeName:Gr.ZodMap,...xs(r)});class Sb extends Ts{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==er.set)return Wt(a,{code:Nt.invalid_type,expected:er.set,received:a.parsedType}),qr;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(Wt(a,{code:Nt.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(Wt(a,{code:Nt.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return qr;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new lm(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Sb({...this._def,minSize:{value:t,message:lr.toString(r)}})}max(t,r){return new Sb({...this._def,maxSize:{value:t,message:lr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Sb.create=(e,t)=>new Sb({valueType:e,minSize:null,maxSize:null,typeName:Gr.ZodSet,...xs(t)});class A8 extends Ts{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}A8.create=(e,t)=>new A8({getter:e,typeName:Gr.ZodLazy,...xs(t)});class E8 extends Ts{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Wt(r,{received:r.data,code:Nt.invalid_literal,expected:this._def.value}),qr}return{status:"valid",value:t.data}}get value(){return this._def.value}}E8.create=(e,t)=>new E8({value:e,typeName:Gr.ZodLiteral,...xs(t)});function iQ(e,t){return new Pg({values:e,typeName:Gr.ZodEnum,...xs(t)})}class Pg extends Ts{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return Wt(r,{expected:Rs.joinValues(a),received:r.parsedType,code:Nt.invalid_type}),qr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return Wt(r,{received:r.data,code:Nt.invalid_enum_value,options:a}),qr}return ec(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Pg.create(t,{...this._def,...r})}exclude(t,r=this._def){return Pg.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}Pg.create=iQ;class P8 extends Ts{_parse(t){const r=Rs.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==er.string&&a.parsedType!==er.number){const n=Rs.objectValues(r);return Wt(a,{expected:Rs.joinValues(n),received:a.parsedType,code:Nt.invalid_type}),qr}if(this._cache||(this._cache=new Set(Rs.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=Rs.objectValues(r);return Wt(a,{received:a.data,code:Nt.invalid_enum_value,options:n}),qr}return ec(t.data)}get enum(){return this._def.values}}P8.create=(e,t)=>new P8({values:e,typeName:Gr.ZodNativeEnum,...xs(t)});class F2 extends Ts{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==er.promise&&r.common.async===!1)return Wt(r,{code:Nt.invalid_type,expected:er.promise,received:r.parsedType}),qr;const a=r.parsedType===er.promise?r.data:Promise.resolve(r.data);return ec(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}F2.create=(e,t)=>new F2({type:e,typeName:Gr.ZodPromise,...xs(t)});class Tg extends Ts{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{Wt(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return qr;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?qr:c.status==="dirty"||r.value==="dirty"?Yv(c.value):c});{if(r.value==="aborted")return qr;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?qr:l.status==="dirty"||r.value==="dirty"?Yv(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?qr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?qr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Eg(o))return qr;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Eg(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:r.value,value:l})):qr);Rs.assertNever(n)}}Tg.create=(e,t,r)=>new Tg({schema:e,typeName:Gr.ZodEffects,effect:t,...xs(r)});Tg.createWithPreprocess=(e,t,r)=>new Tg({schema:t,effect:{type:"preprocess",transform:e},typeName:Gr.ZodEffects,...xs(r)});class Kh extends Ts{_parse(t){return this._getType(t)===er.undefined?ec(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kh.create=(e,t)=>new Kh({innerType:e,typeName:Gr.ZodOptional,...xs(t)});class _g extends Ts{_parse(t){return this._getType(t)===er.null?ec(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_g.create=(e,t)=>new _g({innerType:e,typeName:Gr.ZodNullable,...xs(t)});class N_ extends Ts{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===er.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}N_.create=(e,t)=>new N_({innerType:e,typeName:Gr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xs(t)});class S_ extends Ts{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return D2(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Au(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Au(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}S_.create=(e,t)=>new S_({innerType:e,typeName:Gr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xs(t)});class T8 extends Ts{_parse(t){if(this._getType(t)!==er.nan){const a=this._getOrReturnCtx(t);return Wt(a,{code:Nt.invalid_type,expected:er.nan,received:a.parsedType}),qr}return{status:"valid",value:t.data}}}T8.create=e=>new T8({typeName:Gr.ZodNaN,...xs(e)});class uSe extends Ts{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class oR extends Ts{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?qr:i.status==="dirty"?(r.dirty(),Yv(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?qr:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,r){return new oR({in:t,out:r,typeName:Gr.ZodPipeline})}}class k_ extends Ts{_parse(t){const r=this._def.innerType._parse(t),a=n=>(Eg(n)&&(n.value=Object.freeze(n.value)),n);return D2(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}k_.create=(e,t)=>new k_({innerType:e,typeName:Gr.ZodReadonly,...xs(t)});Ya.lazycreate;var Gr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Gr||(Gr={}));const xf=Eh.create;cm.create;Ad.create;const lR=Ya.create;Ya.strictCreate;I2.create;R2.create;Qf.create;Pg.create;F2.create;Kh.create;_g.create;const oQ=y2e,lQ=f.createContext({}),Xv=({...e})=>s.jsx(lQ.Provider,{value:{name:e.name},children:s.jsx(N2e,{...e})}),lC=()=>{const e=f.useContext(lQ),t=f.useContext(cQ),{getFieldState:r,formState:a}=oC(),n=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},cQ=f.createContext({}),Sx=f.forwardRef(({className:e,...t},r)=>{const a=f.useId();return s.jsx(cQ.Provider,{value:{id:a},children:s.jsx("div",{ref:r,className:be("space-y-2",e),...t})})});Sx.displayName="FormItem";const kx=f.forwardRef(({className:e,...t},r)=>{const{error:a,formItemId:n}=lC();return s.jsx(X,{ref:r,className:be(a&&"text-destructive",e),htmlFor:n,...t})});kx.displayName="FormLabel";const Cx=f.forwardRef(({...e},t)=>{const{error:r,formItemId:a,formDescriptionId:n,formMessageId:i}=lC();return s.jsx(Rq,{ref:t,id:a,"aria-describedby":r?`${n} ${i}`:`${n}`,"aria-invalid":!!r,...e})});Cx.displayName="FormControl";const hSe=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:a}=lC();return s.jsx("p",{ref:r,id:a,className:be("text-sm text-muted-foreground",e),...t})});hSe.displayName="FormDescription";const Ax=f.forwardRef(({className:e,children:t,...r},a)=>{const{error:n,formMessageId:i}=lC(),o=n?String(n==null?void 0:n.message):t;return o?s.jsx("p",{ref:a,id:i,className:be("text-sm font-medium text-destructive",e),...r,children:o}):null});Ax.displayName="FormMessage";const mSe=lR({email:xf().email("Please enter a valid email address")});function dQ(){const{i18n:e}=Ct(),t=e.language==="ar",[r,a]=f.useState(!1),[n,i]=f.useState(!1),[o,l]=f.useState(null),{toast:c}=Rt(),d=Ho(),u=tQ({resolver:sQ(mSe),defaultValues:{email:""}});async function h(m){a(!0);try{await el.forgotPassword(m.email),i(!0),c({title:"    ",description:"         "})}catch(p){const{title:g,description:x}=ii(p,{operation:t?"":"send",resource:t?"  ":"reset link"},t);c({variant:"destructive",title:g,description:x})}finally{a(!1)}}return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 gradient-primary p-12 flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),s.jsx("div",{className:"relative z-10",children:s.jsxs(Qe,{to:"/",className:"flex items-center gap-4 group",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg",children:s.jsx("img",{src:d,alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-3xl font-heading font-bold text-white",children:Hn}),s.jsx("span",{className:"text-lg text-white/80",children:si})]})]})}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsxs("h1",{className:"text-5xl font-heading font-bold text-white leading-tight",children:["  ",s.jsx("br",{})," !"]}),s.jsx("p",{className:"text-xl text-white/90",children:"       "}),s.jsxs("div",{className:"flex items-center gap-3 text-white pt-4",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Js,{className:"h-4 w-4"})}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"relative z-10 text-white/50 text-sm",children:[" 2024 ",si,".   ."]})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-background",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(Qe,{to:"/",className:"flex lg:hidden items-center justify-center gap-3 mb-8 group",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:s.jsx("img",{src:d,alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-2xl font-heading font-bold gradient-text",children:Hn}),s.jsx("span",{className:"text-base text-primary",children:si})]})]}),s.jsxs(je,{className:"shadow-xl border-border/50",children:[s.jsxs(et,{className:"space-y-1 text-center pb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ds,{className:"h-5 w-5 text-primary animate-pulse"}),s.jsx(at,{className:"text-2xl font-heading font-bold",children:"  "}),s.jsx(ds,{className:"h-5 w-5 text-secondary animate-pulse"})]}),s.jsx(Vt,{className:"text-base",children:"      "})]}),s.jsx(Ce,{children:s.jsx(oQ,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-5",children:[s.jsx(Xv,{control:u.control,name:"email",render:({field:m})=>s.jsxs(Sx,{children:[s.jsx(kx,{className:"text-sm font-medium",children:" "}),s.jsx(Cx,{children:s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${o==="email"?"text-primary":"text-muted-foreground"}`}),s.jsx(me,{placeholder:"you@example.com",...m,onFocus:()=>l("email"),onBlur:()=>l(null),className:"h-11 pr-10 border-border focus:border-primary focus:ring-primary"})]})}),s.jsx(Ax,{})]})}),s.jsx(z,{type:"submit",className:"w-full h-11 gradient-primary font-medium shadow-lg hover:shadow-xl transition-all",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yp,{className:"ml-2 h-5 w-5"}),"   "]})})]})})}),s.jsx(Ru,{className:"flex justify-center pt-2",children:s.jsxs(Qe,{to:"/auth/login",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-2 font-medium transition-colors",children:[s.jsx(ml,{className:"h-4 w-4"}),"   "]})})]}),s.jsx("div",{className:"mt-6 text-center space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[s.jsx(Qe,{to:"/privacy",className:"hover:text-primary transition-colors",children:""}),s.jsx("span",{children:""}),s.jsx(Qe,{to:"/terms",className:"hover:text-primary transition-colors",children:""}),s.jsx("span",{children:""}),s.jsx(Qe,{to:"/help",className:"hover:text-primary transition-colors",children:""})]})})]}),s.jsx(wp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-background"})]})]})}const fSe=lR({password:xf().min(8,"Password must be at least 8 characters"),confirmPassword:xf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),pSe=lR({email:xf().email("Invalid email address"),code:xf().min(4,"Code must be at least 4 characters"),password:xf().min(8,"Password must be at least 8 characters"),confirmPassword:xf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function uQ(){const{i18n:e}=Ct(),t=e.language==="ar",[r,a]=f.useState(!1),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState(!1),[y,w]=f.useState(!1),[b,v]=f.useState(0),{toast:N}=Rt(),j=Kr(),[k]=Nm(),S=k.get("token")||"",C=k.get("email")||"",A=k.get("code")||"",D=tQ({resolver:sQ(S?fSe:pSe),defaultValues:{...S?{}:{email:C,code:A},password:"",confirmPassword:""}});f.useEffect(()=>{(async()=>{if(S){i(!0),d(S);try{const R=await Vi.verifyResetToken(S);if(R.valid&&R.email)l(!0),h(R.email);else{const{title:L,description:H}=ii({message:R.message||"Invalid or expired link"},{operation:t?" ":"verify",resource:t?"":"link"},t);N({variant:"destructive",title:L,description:H}),setTimeout(()=>j("/auth/forgot-password"),2e3)}}catch(R){const{title:L,description:H}=ii(R,{operation:t?" ":"verify",resource:t?"":"link"},t);N({variant:"destructive",title:L,description:H}),setTimeout(()=>j("/auth/forgot-password"),2e3)}finally{i(!1)}}else if(C&&A)l(!0),h(C),i(!1);else{const{title:R,description:L}=ii({message:"Invalid link"},{operation:t?"":"use",resource:t?"":"link"},t);N({variant:"destructive",title:R,description:L}),setTimeout(()=>j("/auth/forgot-password"),2e3),i(!1)}})()},[S,C,A,j,N]);const P=D.watch("password");f.useEffect(()=>{if(!P){v(0);return}let I=0;P.length>=8&&(I+=25),P.length>=12&&(I+=25),/[a-z]/.test(P)&&/[A-Z]/.test(P)&&(I+=25),/[0-9]/.test(P)&&(I+=15),/[^a-zA-Z0-9]/.test(P)&&(I+=10),v(Math.min(I,100))},[P]);const T=()=>b<40?"bg-red-500":b<70?"bg-yellow-500":"bg-green-500",_=()=>b<40?"":b<70?"":"",O=Ho();async function F(I){a(!0);try{const R=c?{token:c,newPassword:I.password}:{email:C,code:A,newPassword:I.password};await el.resetPasswordComplete(R),N({title:"    ",description:"       ."}),j("/auth/login")}catch(R){const{title:L,description:H}=ii(R,{operation:t?" ":"reset",resource:t?" ":"password"},t);N({variant:"destructive",title:L,description:H})}finally{a(!1)}}return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})}):o?s.jsxs("div",{className:"min-h-screen flex relative",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-12 flex-col justify-between relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),s.jsx("div",{className:"relative z-10",children:s.jsxs(Qe,{to:"/",className:"flex items-center gap-4 group",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 shadow-lg flex items-center justify-center",children:s.jsx("img",{src:O,alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-3xl font-heading font-bold text-white",children:Hn}),s.jsx("span",{className:"text-lg text-white/80",children:si})]})]})}),s.jsxs("div",{className:"relative z-10 space-y-6",children:[s.jsxs("h1",{className:"text-5xl font-bold text-white leading-tight",children:[" ",s.jsx("br",{})," "]}),s.jsx("p",{className:"text-xl text-white/90",children:"      "}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx(Js,{className:"h-6 w-6"}),s.jsx("span",{children:"   "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx(Js,{className:"h-6 w-6"}),s.jsx("span",{children:"   "})]}),s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx(Js,{className:"h-6 w-6"}),s.jsx("span",{children:"8   "})]})]})]}),s.jsxs("div",{className:"relative z-10 text-white/60 text-sm",children:[" 2024 ",si,".   ."]})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(Qe,{to:"/",className:"flex lg:hidden items-center justify-center gap-3 mb-8 group",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden bg-card border border-border shadow-lg flex items-center justify-center",children:s.jsx("img",{src:O,alt:`${si} - ${Hn}`,className:"w-full h-full object-contain p-2 group-hover:scale-110 transition-transform"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-2xl font-heading font-bold gradient-text",children:Hn}),s.jsx("span",{className:"text-base text-primary",children:si})]})]}),s.jsxs(je,{className:"border-0 shadow-xl bg-white dark:bg-gray-800",children:[s.jsxs(et,{className:"space-y-1 text-center pb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ds,{className:"h-5 w-5 text-indigo-500 animate-pulse"}),s.jsx(at,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"   "}),s.jsx(ds,{className:"h-5 w-5 text-purple-500 animate-pulse"})]}),s.jsx(Vt,{className:"text-base text-gray-600 dark:text-gray-400",children:c?"   ":"       "}),c&&u&&s.jsx("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[s.jsx(la,{className:"inline h-4 w-4 ml-1"}),u]})})]}),s.jsx(Ce,{children:s.jsx(oQ,{...D,children:s.jsxs("form",{onSubmit:D.handleSubmit(F),className:"space-y-4",children:[!c&&s.jsxs(s.Fragment,{children:[s.jsx(Xv,{control:D.control,name:"email",render:({field:I})=>s.jsxs(Sx,{children:[s.jsx(kx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),s.jsx(Cx,{children:s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${m==="email"?"text-indigo-500":"text-gray-400"}`}),s.jsx(me,{placeholder:"name@example.com",...I,value:C,disabled:!0,onFocus:()=>p("email"),onBlur:()=>p(null),className:"h-11 pr-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"})]})}),s.jsx(Ax,{})]})}),s.jsx(Xv,{control:D.control,name:"code",render:({field:I})=>s.jsxs(Sx,{children:[s.jsx(kx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),s.jsx(Cx,{children:s.jsxs("div",{className:"relative",children:[s.jsx(du,{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 transition-colors ${m==="code"?"text-indigo-500":"text-gray-400"}`}),s.jsx(me,{placeholder:"123456",...I,value:A,disabled:!0,onFocus:()=>p("code"),onBlur:()=>p(null),className:"h-11 pr-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"})]})}),s.jsx(Ax,{})]})})]}),s.jsx(Xv,{control:D.control,name:"password",render:({field:I})=>s.jsxs(Sx,{children:[s.jsx(kx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  "}),s.jsx(Cx,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx(me,{type:g?"text":"password",placeholder:"********",...I,onFocus:()=>p("password"),onBlur:()=>p(null),className:"h-11 px-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"}),s.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})}),P&&s.jsxs("div",{className:"space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"  :"}),s.jsx("span",{className:`font-semibold ${b<40?"text-red-500":b<70?"text-yellow-500":"text-green-500"}`,children:_()})]}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ${T()}`,style:{width:`${b}%`}})})]}),s.jsx(Ax,{})]})}),s.jsx(Xv,{control:D.control,name:"confirmPassword",render:({field:I})=>s.jsxs(Sx,{children:[s.jsx(kx,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"  "}),s.jsx(Cx,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx(me,{type:y?"text":"password",placeholder:"********",...I,onFocus:()=>p("confirmPassword"),onBlur:()=>p(null),className:"h-11 px-10 border-gray-300 dark:border-gray-600 focus:border-indigo-500 focus:ring-indigo-500"}),s.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})}),s.jsx(Ax,{})]})}),s.jsx(z,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all mt-2",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ci,{className:"ml-2 h-5 w-5"}),"  "]})})]})})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(Qe,{to:"/auth/login",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 font-medium transition-colors",children:"   "})})]}),s.jsx(wp,{className:"absolute bottom-0 left-0 right-0 py-2 bg-gray-50 dark:bg-gray-900"})]})]}):null}const xSe=g0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yi=f.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:be(xSe({variant:t}),e),...r}));yi.displayName="Alert";const Dg=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...t}));Dg.displayName="AlertTitle";const bi=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",e),...t}));bi.displayName="AlertDescription";function gSe(){const e=Kr(),{toast:t}=Rt(),{user:r,refreshUser:a}=$s(),[n,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,w]=f.useState(!1),[b,v]=f.useState(!1);f.useEffect(()=>{const k=JSON.parse(localStorage.getItem("user")||"{}").mustChangePassword||(r==null?void 0:r.mustChangePassword);v(!!k),!k&&r&&e("/dashboard",{replace:!0})},[r,e]);const N=async j=>{j.preventDefault(),w(!0);try{if(o!==c){t({variant:"destructive",title:"   ",description:"       "}),w(!1);return}if(o.length<6){t({variant:"destructive",title:"   ",description:"     6   "}),w(!1);return}(await el.changePassword(n,o)).message&&(t({title:"    ",description:"    "}),await a(),setTimeout(()=>{e("/dashboard",{replace:!0})},1e3))}catch(k){console.error("Failed to change password:",k),t({variant:"destructive",title:"   ",description:(k==null?void 0:k.message)||"     .    ."})}finally{w(!1)}};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs(je,{className:"w-full max-w-md",children:[s.jsxs(et,{children:[s.jsx(at,{className:"text-2xl text-center",children:"  "}),s.jsx(Vt,{className:"text-center",children:b?"      ":"    "})]}),s.jsxs(Ce,{children:[b&&s.jsx(yi,{className:"mb-4",children:s.jsx(bi,{children:"    .          ."})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"currentPassword",children:b?"  ":"  "}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"currentPassword",type:u?"text":"password",placeholder:b?"   ":"   ",value:n,onChange:j=>i(j.target.value),required:!0,className:"pr-10 pl-12"}),s.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"newPassword",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"newPassword",type:m?"text":"password",placeholder:"    (6   )",value:o,onChange:j=>l(j.target.value),required:!0,minLength:6,className:"pr-10 pl-12"}),s.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:m?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"confirmPassword",children:"   "}),s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{id:"confirmPassword",type:g?"text":"password",placeholder:"    ",value:c,onChange:j=>d(j.target.value),required:!0,minLength:6,className:"pr-10 pl-12"}),s.jsx("button",{type:"button",onClick:()=>x(!g),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:g?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsx(z,{type:"submit",className:"w-full",disabled:y,children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"mr-2 h-4 w-4"}),"  "]})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const vSe=()=>{const[e]=Nm(),t=Kr(),{loginWithTokens:r}=$s(),[a,n]=f.useState("processing"),[i,o]=f.useState(""),l=f.useRef(!1);f.useEffect(()=>{if(l.current)return;l.current=!0,(async()=>{try{const h=e.get("accessToken"),m=e.get("refreshToken"),p=e.get("setupPending")==="true",g=e.get("error");if(o(`Params: AccessToken=${!!h}, RefreshToken=${!!m}, SetupPending=${p}`),g){n("error"),o(x=>x+`
Server Error: `+g),Tr.error("     .    .");return}if(!h||!m){n("error"),o(x=>x+`
Missing Tokens`),Tr.error("   .    .");return}try{await r(h,m),n("success"),Tr.success("     Google"),setTimeout(()=>{p?t("/dashboard/settings",{state:{setupRequired:!0}}):t("/dashboard")},1e3)}catch(x){console.error("Login with tokens error:",x),n("error"),o(y=>y+`
Login Error: `+(x instanceof Error?x.message:String(x))),Tr.error("     .    .")}}catch(h){console.error("OAuth callback error:",h),n("error"),o(m=>m+`
General Error: `+(h instanceof Error?h.message:String(h))),Tr.error("    .    .")}})()},[e,t,r]);const d=(()=>{switch(a){case"processing":return{title:"Completing authentication...",message:"Please wait while we redirect you.",icon:"",color:"text-blue-500"};case"success":return{title:"Authentication successful!",message:"Redirecting to your dashboard...",icon:"",color:"text-green-500"};case"error":return{title:"Authentication failed",message:"Please try logging in again.",icon:"",color:"text-red-500"};default:return{title:"Processing...",message:"Please wait.",icon:"",color:"text-blue-500"}}})();return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md mx-4 w-full",children:[s.jsx("div",{className:`text-4xl mb-4 ${d.color}`,children:d.icon}),a==="processing"&&s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:d.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:typeof d.message=="string"?d.message:String(d.message||"")}),s.jsxs("div",{className:"flex flex-col gap-3",children:[a==="success"&&s.jsx("button",{onClick:()=>t("/dashboard"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors w-full",children:"Go to Dashboard"}),a==="error"&&s.jsx("button",{onClick:()=>t("/auth/login"),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors w-full",children:"Back to Login"})]}),a==="error"&&i&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded text-left text-xs font-mono overflow-auto max-h-40",children:[s.jsx("p",{className:"font-bold mb-1",children:"Debug Info:"}),s.jsx("pre",{children:i})]})]})})};function qm({children:e}){const t=Tn(),{isAuthenticated:r,loading:a,user:n}=$s();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?((n==null?void 0:n.mustChangePassword)||!1)&&t.pathname!=="/auth/change-password"?s.jsx(O4,{to:"/auth/change-password",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(O4,{to:"/auth/login",state:{from:t},replace:!0})}function id({children:e}){const t=Tn(),[r,a]=f.useState(!1),[n,i]=f.useState(!0);return f.useEffect(()=>{const o=()=>{const u=localStorage.getItem("customerToken"),h=localStorage.getItem("customerData");a(!!(u&&h)),i(!1)};o();const l=u=>{(u.key==="customerToken"||u.key==="customerData")&&o()},c=()=>{o()},d=setInterval(()=>{o()},1e3);return window.addEventListener("storage",l),window.addEventListener("customerLogin",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("customerLogin",c),clearInterval(d)}},[]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?s.jsx(s.Fragment,{children:e}):s.jsx(O4,{to:"/auth/login",state:{from:t},replace:!0})}function hQ(){const{user:e}=$s(),t=f.useMemo(()=>e?e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER"?["*"]:e.permissions||[]:[],[e]),r=o=>{if(!e)return!1;if(e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER"||t.includes(o)||t.includes("*"))return!0;const l=o.split(":");if(l.length===2){const[c,d]=l,u=`${c}:manage`;if(t.includes(u))return!0}return!1},a=o=>o.some(l=>r(l));return{permissions:t,hasPermission:r,hasAnyPermission:a,hasAllPermissions:o=>o.every(l=>r(l)),canAccessRoute:o=>{if(!e)return!1;if(e.role==="SUPER_ADMIN"||e.role==="SHOP_OWNER")return!0;const l={"/dashboard":[],"/dashboard/products":["product:read","product:manage","product:create","product:update","product:delete"],"/dashboard/categories":["product:read","product:manage"],"/dashboard/hierarchical":["product:read","product:manage"],"/dashboard/prices":["product:read","product:manage","product:update"],"/dashboard/orders":["order:read","order:manage","order:create","order:update"],"/dashboard/customers":["customer:read","customer:manage","customer:create","customer:update"],"/dashboard/reports":["analytics:read","analytics:manage"],"/dashboard/settings":["settings:read","settings:update"],"/dashboard/settings/payment":["settings:read","settings:update"],"/dashboard/settings/checkout":["settings:read","settings:update"],"/dashboard/settings/notifications":["settings:read","settings:update"],"/dashboard/settings/domains":["settings:read","settings:update"],"/dashboard/settings/users":["settings:read","settings:update"],"/dashboard/employees":[],"/dashboard/permissions":[]};if(l[o]){const c=l[o];return c.length===0?!0:a(c)}for(const[c,d]of Object.entries(l))if(o.startsWith(c))return d.length===0?!0:a(d);return!0},isStaff:(e==null?void 0:e.role)==="STAFF",isOwner:(e==null?void 0:e.role)==="SHOP_OWNER",isAdmin:(e==null?void 0:e.role)==="SUPER_ADMIN"}}function Ao({children:e,requiredPermissions:t=[],requireAnyPermission:r=!0,route:a}){Tn();const{user:n}=$s(),{hasPermission:i,hasAnyPermission:o,hasAllPermissions:l,canAccessRoute:c}=hQ(),{toast:d}=Rt(),u=f.useRef(!1);return n&&(n.role==="SHOP_OWNER"||n.role==="SUPER_ADMIN")?s.jsx(s.Fragment,{children:e}):a?c(a)?s.jsx(s.Fragment,{children:e}):(f.useEffect(()=>{u.current||(d({variant:"destructive",title:" ",description:"      .         ."}),u.current=!0)},[d,a]),s.jsx("div",{className:"p-6",children:s.jsxs(yi,{variant:"destructive",children:[s.jsx(_E,{className:"h-4 w-4"}),s.jsxs(bi,{children:[s.jsx("strong",{children:"  "}),s.jsx("br",{}),"       (",a,").",s.jsx("br",{}),"        ."]})]})})):t.length===0?a&&(a.includes("/employees")||a.includes("/permissions"))&&n&&n.role!=="SHOP_OWNER"&&n.role!=="SUPER_ADMIN"?s.jsx("div",{className:"p-6",children:s.jsxs(yi,{variant:"destructive",children:[s.jsx(_E,{className:"h-4 w-4"}),s.jsx(bi,{children:"  -         ."})]})}):s.jsx(s.Fragment,{children:e}):(r?o(t):l(t))?s.jsx(s.Fragment,{children:e}):(f.useEffect(()=>{if(!u.current){const m=t.join("  ");d({variant:"destructive",title:" ",description:`  : ${m}.     .`}),u.current=!0}},[d,t]),s.jsx("div",{className:"p-6",children:s.jsxs(yi,{variant:"destructive",children:[s.jsx(_E,{className:"h-4 w-4"}),s.jsxs(bi,{children:[s.jsx("strong",{children:"  "}),s.jsx("br",{}),"   : ",t.join("  "),s.jsx("br",{}),"        ."]})]})}))}function kb(e,[t,r]){return Math.min(r,Math.max(t,e))}var ySe=f.createContext(void 0);function Cm(e){const t=f.useContext(ySe);return e||t||"ltr"}var cP=0;function cC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_8()),document.body.insertAdjacentElement("beforeend",e[1]??_8()),cP++,()=>{cP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cP--}},[])}function _8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dP="focusScope.autoFocusOnMount",uP="focusScope.autoFocusOnUnmount",D8={bubbles:!1,cancelable:!0},bSe="FocusScope",Yw=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Ma(n),u=Ma(i),h=f.useRef(null),m=xr(t,x=>c(x)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(a){let x=function(v){if(p.paused||!l)return;const N=v.target;l.contains(N)?h.current=N:ih(h.current,{select:!0})},y=function(v){if(p.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||ih(h.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&ih(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),b.disconnect()}}},[a,l,p.paused]),f.useEffect(()=>{if(l){I8.add(p);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(dP,D8);l.addEventListener(dP,d),l.dispatchEvent(w),w.defaultPrevented||(wSe(CSe(mQ(l)),{select:!0}),document.activeElement===x&&ih(l))}return()=>{l.removeEventListener(dP,d),setTimeout(()=>{const w=new CustomEvent(uP,D8);l.addEventListener(uP,u),l.dispatchEvent(w),w.defaultPrevented||ih(x??document.body,{select:!0}),l.removeEventListener(uP,u),I8.remove(p)},0)}}},[l,d,u,p]);const g=f.useCallback(x=>{if(!r&&!a||p.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const b=x.currentTarget,[v,N]=jSe(b);v&&N?!x.shiftKey&&w===N?(x.preventDefault(),r&&ih(v,{select:!0})):x.shiftKey&&w===v&&(x.preventDefault(),r&&ih(N,{select:!0})):w===b&&x.preventDefault()}},[r,a,p.paused]);return s.jsx(Lt.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});Yw.displayName=bSe;function wSe(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ih(a,{select:t}),document.activeElement!==r)return}function jSe(e){const t=mQ(e),r=O8(t,e),a=O8(t.reverse(),e);return[r,a]}function mQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function O8(e,t){for(const r of e)if(!NSe(r,{upTo:t}))return r}function NSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SSe(e){return e instanceof HTMLInputElement&&"select"in e}function ih(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&SSe(e)&&t&&e.select()}}var I8=kSe();function kSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=R8(e,t),e.unshift(t)},remove(t){var r;e=R8(e,t),(r=e[0])==null||r.resume()}}}function R8(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function CSe(e){return e.filter(t=>t.tagName!=="A")}function Xw(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ASe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hp=new WeakMap,x1=new WeakMap,g1={},hP=0,fQ=function(e){return e&&(e.host||fQ(e.parentNode))},ESe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=fQ(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},PSe=function(e,t,r,a){var n=ESe(t,Array.isArray(e)?e:[e]);g1[r]||(g1[r]=new WeakMap);var i=g1[r],o=[],l=new Set,c=new Set(n),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(a),g=p!==null&&p!=="false",x=(Hp.get(m)||0)+1,y=(i.get(m)||0)+1;Hp.set(m,x),i.set(m,y),o.push(m),x===1&&g&&x1.set(m,!0),y===1&&m.setAttribute(r,"true"),g||m.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return u(t),l.clear(),hP++,function(){o.forEach(function(h){var m=Hp.get(h)-1,p=i.get(h)-1;Hp.set(h,m),i.set(h,p),m||(x1.has(h)||h.removeAttribute(a),x1.delete(h)),p||h.removeAttribute(r)}),hP--,hP||(Hp=new WeakMap,Hp=new WeakMap,x1=new WeakMap,g1={})}},dC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=ASe(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live]"))),PSe(a,n,r,"aria-hidden")):function(){return null}},ud=function(){return ud=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ud.apply(this,arguments)};function pQ(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function TSe(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var AN="right-scroll-bar-position",EN="width-before-scroll-bar",_Se="with-scroll-bars-hidden",DSe="--removed-body-scroll-bar-size";function mP(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OSe(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var ISe=typeof window<"u"?f.useLayoutEffect:f.useEffect,F8=new WeakMap;function RSe(e,t){var r=OSe(null,function(a){return e.forEach(function(n){return mP(n,a)})});return ISe(function(){var a=F8.get(r);if(a){var n=new Set(a),i=new Set(e),o=r.current;n.forEach(function(l){i.has(l)||mP(l,null)}),i.forEach(function(l){n.has(l)||mP(l,o)})}F8.set(r,e)},[e]),r}function FSe(e){return e}function MSe(e,t){t===void 0&&(t=FSe);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return n}function LSe(e){e===void 0&&(e={});var t=MSe(null);return t.options=ud({async:!0,ssr:!1},e),t}var xQ=function(e){var t=e.sideCar,r=pQ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return f.createElement(a,ud({},r))};xQ.isSideCarExport=!0;function $Se(e,t){return e.useMedium(t),xQ}var gQ=LSe(),fP=function(){},uC=f.forwardRef(function(e,t){var r=f.useRef(null),a=f.useState({onScrollCapture:fP,onWheelCapture:fP,onTouchMoveCapture:fP}),n=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,v=e.gapMode,N=pQ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=RSe([r,t]),S=ud(ud({},N),n);return f.createElement(f.Fragment,null,u&&f.createElement(j,{sideCar:gQ,removeScrollBar:d,shards:h,noRelative:p,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:v}),o?f.cloneElement(f.Children.only(l),ud(ud({},S),{ref:k})):f.createElement(b,ud({},S,{className:c,ref:k}),l))});uC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uC.classNames={fullWidth:EN,zeroRight:AN};var BSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function USe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BSe();return t&&e.setAttribute("nonce",t),e}function VSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=USe())&&(VSe(t,r),zSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HSe=function(){var e=WSe();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vQ=function(){var e=HSe(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},qSe={left:0,top:0,right:0,gap:0},pP=function(e){return parseInt(e||"",10)||0},GSe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[pP(r),pP(a),pP(n)]},KSe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qSe;var t=GSe(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},YSe=vQ(),Hx="data-scroll-locked",XSe=function(e,t,r,a){var n=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_Se,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Hx,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(AN,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(EN,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(AN," .").concat(AN,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(EN," .").concat(EN,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Hx,`] {
    `).concat(DSe,": ").concat(l,`px;
  }
`)},M8=function(){var e=parseInt(document.body.getAttribute(Hx)||"0",10);return isFinite(e)?e:0},QSe=function(){f.useEffect(function(){return document.body.setAttribute(Hx,(M8()+1).toString()),function(){var e=M8()-1;e<=0?document.body.removeAttribute(Hx):document.body.setAttribute(Hx,e.toString())}},[])},JSe=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;QSe();var i=f.useMemo(function(){return KSe(n)},[n]);return f.createElement(YSe,{styles:XSe(i,!t,n,r?"":"!important")})},C_=!1;if(typeof window<"u")try{var v1=Object.defineProperty({},"passive",{get:function(){return C_=!0,!0}});window.addEventListener("test",v1,v1),window.removeEventListener("test",v1,v1)}catch{C_=!1}var qp=C_?{passive:!1}:!1,ZSe=function(e){return e.tagName==="TEXTAREA"},yQ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZSe(e)&&r[t]==="visible")},eke=function(e){return yQ(e,"overflowY")},tke=function(e){return yQ(e,"overflowX")},L8=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=bQ(e,a);if(n){var i=wQ(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},rke=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},ske=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},bQ=function(e,t){return e==="v"?eke(t):tke(t)},wQ=function(e,t){return e==="v"?rke(t):ske(t)},ake=function(e,t){return e==="h"&&t==="rtl"?-1:1},nke=function(e,t,r,a,n){var i=ake(e,window.getComputedStyle(t).direction),o=i*a,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=wQ(e,l),g=p[0],x=p[1],y=p[2],w=x-y-i*g;(g||w)&&bQ(e,l)&&(h+=w,m+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!n)||!u&&(Math.abs(m)<1||!n))&&(d=!0),d},y1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$8=function(e){return[e.deltaX,e.deltaY]},B8=function(e){return e&&"current"in e?e.current:e},ike=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oke=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lke=0,Gp=[];function cke(e){var t=f.useRef([]),r=f.useRef([0,0]),a=f.useRef(),n=f.useState(lke++)[0],i=f.useState(vQ)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var x=TSe([e.lockRef.current],(e.shards||[]).map(B8),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=y1(x),b=r.current,v="deltaX"in x?x.deltaX:b[0]-w[0],N="deltaY"in x?x.deltaY:b[1]-w[1],j,k=x.target,S=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in x&&S==="h"&&k.type==="range")return!1;var C=L8(S,k);if(!C)return!0;if(C?j=S:(j=S==="v"?"h":"v",C=L8(S,k)),!C)return!1;if(!a.current&&"changedTouches"in x&&(v||N)&&(a.current=j),!j)return!0;var A=a.current||j;return nke(A,y,x,A==="h"?v:N,!0)},[]),c=f.useCallback(function(x){var y=x;if(!(!Gp.length||Gp[Gp.length-1]!==i)){var w="deltaY"in y?$8(y):y1(y),b=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&ike(j.delta,w)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var v=(o.current.shards||[]).map(B8).filter(Boolean).filter(function(j){return j.contains(y.target)}),N=v.length>0?l(y,v[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=f.useCallback(function(x,y,w,b){var v={name:x,delta:y,target:w,should:b,shadowParent:dke(w)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),u=f.useCallback(function(x){r.current=y1(x),a.current=void 0},[]),h=f.useCallback(function(x){d(x.type,$8(x),x.target,l(x,e.lockRef.current))},[]),m=f.useCallback(function(x){d(x.type,y1(x),x.target,l(x,e.lockRef.current))},[]);f.useEffect(function(){return Gp.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,qp),document.addEventListener("touchmove",c,qp),document.addEventListener("touchstart",u,qp),function(){Gp=Gp.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,qp),document.removeEventListener("touchmove",c,qp),document.removeEventListener("touchstart",u,qp)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:oke(n)}):null,p?f.createElement(JSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dke(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uke=$Se(gQ,cke);var Qw=f.forwardRef(function(e,t){return f.createElement(uC,ud({},e,{ref:t,sideCar:uke}))});Qw.classNames=uC.classNames;var hke=[" ","Enter","ArrowUp","ArrowDown"],mke=[" ","Enter"],Jf="Select",[hC,mC,fke]=p0(Jf),[P0,Pgt]=qa(Jf,[fke,bm]),fC=bm(),[pke,Am]=P0(Jf),[xke,gke]=P0(Jf),jQ=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:g}=e,x=fC(t),[y,w]=f.useState(null),[b,v]=f.useState(null),[N,j]=f.useState(!1),k=Cm(d),[S,C]=mo({prop:a,defaultProp:n??!1,onChange:i,caller:Jf}),[A,E]=mo({prop:o,defaultProp:l,onChange:c,caller:Jf}),D=f.useRef(null),P=y?g||!!y.closest("form"):!0,[T,_]=f.useState(new Set),O=Array.from(T).map(F=>F.props.value).join(";");return s.jsx(eI,{...x,children:s.jsxs(pke,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:b,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:cl(),value:A,onValueChange:E,open:S,onOpenChange:C,dir:k,triggerPointerDownPosRef:D,disabled:m,children:[s.jsx(hC.Provider,{scope:t,children:s.jsx(xke,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(F=>{_(I=>new Set(I).add(F))},[]),onNativeOptionRemove:f.useCallback(F=>{_(I=>{const R=new Set(I);return R.delete(F),R})},[]),children:r})}),P?s.jsxs(qQ,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:F=>E(F.target.value),disabled:m,form:g,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(T)]},O):null]})})};jQ.displayName=Jf;var NQ="SelectTrigger",SQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...n}=e,i=fC(r),o=Am(NQ,r),l=o.disabled||a,c=xr(t,o.onTriggerChange),d=mC(r),u=f.useRef("touch"),[h,m,p]=KQ(x=>{const y=d().filter(v=>!v.disabled),w=y.find(v=>v.value===o.value),b=YQ(y,x,w);b!==void 0&&o.onValueChange(b.value)}),g=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(Uw,{asChild:!0,...i,children:s.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":GQ(o.value)?"":void 0,...n,ref:c,onClick:xt(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&g(x)}),onPointerDown:xt(n.onPointerDown,x=>{u.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(g(x),x.preventDefault())}),onKeyDown:xt(n.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&hke.includes(x.key)&&(g(),x.preventDefault())})})})});SQ.displayName=NQ;var kQ="SelectValue",CQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,children:i,placeholder:o="",...l}=e,c=Am(kQ,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=xr(t,c.onValueNodeChange);return tn(()=>{d(u)},[d,u]),s.jsx(Lt.span,{...l,ref:h,style:{pointerEvents:"none"},children:GQ(c.value)?s.jsx(s.Fragment,{children:o}):i})});CQ.displayName=kQ;var vke="SelectIcon",AQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...n}=e;return s.jsx(Lt.span,{"aria-hidden":!0,...n,ref:t,children:a||""})});AQ.displayName=vke;var yke="SelectPortal",EQ=e=>s.jsx(x0,{asChild:!0,...e});EQ.displayName=yke;var Zf="SelectContent",PQ=f.forwardRef((e,t)=>{const r=Am(Zf,e.__scopeSelect),[a,n]=f.useState();if(tn(()=>{n(new DocumentFragment)},[]),!r.open){const i=a;return i?Ll.createPortal(s.jsx(TQ,{scope:e.__scopeSelect,children:s.jsx(hC.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(_Q,{...e,ref:t})});PQ.displayName=Zf;var pc=10,[TQ,Em]=P0(Zf),bke="SelectContentImpl",wke=tm("SelectContent.RemoveScroll"),_Q=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y,...w}=e,b=Am(Zf,r),[v,N]=f.useState(null),[j,k]=f.useState(null),S=xr(t,U=>N(U)),[C,A]=f.useState(null),[E,D]=f.useState(null),P=mC(r),[T,_]=f.useState(!1),O=f.useRef(!1);f.useEffect(()=>{if(v)return dC(v)},[v]),cC();const F=f.useCallback(U=>{const[Z,...J]=P().map(B=>B.ref.current),[K]=J.slice(-1),se=document.activeElement;for(const B of U)if(B===se||(B==null||B.scrollIntoView({block:"nearest"}),B===Z&&j&&(j.scrollTop=0),B===K&&j&&(j.scrollTop=j.scrollHeight),B==null||B.focus(),document.activeElement!==se))return},[P,j]),I=f.useCallback(()=>F([C,v]),[F,C,v]);f.useEffect(()=>{T&&I()},[T,I]);const{onOpenChange:R,triggerPointerDownPosRef:L}=b;f.useEffect(()=>{if(v){let U={x:0,y:0};const Z=K=>{var se,B;U={x:Math.abs(Math.round(K.pageX)-(((se=L.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(K.pageY)-(((B=L.current)==null?void 0:B.y)??0))}},J=K=>{U.x<=10&&U.y<=10?K.preventDefault():v.contains(K.target)||R(!1),document.removeEventListener("pointermove",Z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",J,{capture:!0})}}},[v,R,L]),f.useEffect(()=>{const U=()=>R(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[R]);const[H,W]=KQ(U=>{const Z=P().filter(se=>!se.disabled),J=Z.find(se=>se.ref.current===document.activeElement),K=YQ(Z,U,J);K&&setTimeout(()=>K.ref.current.focus())}),M=f.useCallback((U,Z,J)=>{const K=!O.current&&!J;(b.value!==void 0&&b.value===Z||K)&&(A(U),K&&(O.current=!0))},[b.value]),G=f.useCallback(()=>v==null?void 0:v.focus(),[v]),V=f.useCallback((U,Z,J)=>{const K=!O.current&&!J;(b.value!==void 0&&b.value===Z||K)&&D(U)},[b.value]),q=a==="popper"?A_:DQ,Y=q===A_?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:x,avoidCollisions:y}:{};return s.jsx(TQ,{scope:r,content:v,viewport:j,onViewportChange:k,itemRefCallback:M,selectedItem:C,onItemLeave:G,itemTextRefCallback:V,focusSelectedItem:I,selectedItemText:E,position:a,isPositioned:T,searchRef:H,children:s.jsx(Qw,{as:wke,allowPinchZoom:!0,children:s.jsx(Yw,{asChild:!0,trapped:b.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:xt(n,U=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),U.preventDefault()}),children:s.jsx(vp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:U=>U.preventDefault(),...w,...Y,onPlaced:()=>_(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:xt(w.onKeyDown,U=>{const Z=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!Z&&U.key.length===1&&W(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let K=P().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(U.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const se=U.target,B=K.indexOf(se);K=K.slice(B+1)}setTimeout(()=>F(K)),U.preventDefault()}})})})})})})});_Q.displayName=bke;var jke="SelectItemAlignedPosition",DQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...n}=e,i=Am(Zf,r),o=Em(Zf,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=xr(t,S=>u(S)),m=mC(r),p=f.useRef(!1),g=f.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:w,focusSelectedItem:b}=o,v=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&y&&w){const S=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),E=w.getBoundingClientRect();if(i.dir!=="rtl"){const se=E.left-C.left,B=A.left-se,Ne=S.left-B,ye=S.width+Ne,Re=Math.max(ye,C.width),qe=window.innerWidth-pc,He=kb(B,[pc,Math.max(pc,qe-Re)]);l.style.minWidth=ye+"px",l.style.left=He+"px"}else{const se=C.right-E.right,B=window.innerWidth-A.right-se,Ne=window.innerWidth-S.right-B,ye=S.width+Ne,Re=Math.max(ye,C.width),qe=window.innerWidth-pc,He=kb(B,[pc,Math.max(pc,qe-Re)]);l.style.minWidth=ye+"px",l.style.right=He+"px"}const D=m(),P=window.innerHeight-pc*2,T=x.scrollHeight,_=window.getComputedStyle(d),O=parseInt(_.borderTopWidth,10),F=parseInt(_.paddingTop,10),I=parseInt(_.borderBottomWidth,10),R=parseInt(_.paddingBottom,10),L=O+F+T+R+I,H=Math.min(y.offsetHeight*5,L),W=window.getComputedStyle(x),M=parseInt(W.paddingTop,10),G=parseInt(W.paddingBottom,10),V=S.top+S.height/2-pc,q=P-V,Y=y.offsetHeight/2,U=y.offsetTop+Y,Z=O+F+U,J=L-Z;if(Z<=V){const se=D.length>0&&y===D[D.length-1].ref.current;l.style.bottom="0px";const B=d.clientHeight-x.offsetTop-x.offsetHeight,Ne=Math.max(q,Y+(se?G:0)+B+I),ye=Z+Ne;l.style.height=ye+"px"}else{const se=D.length>0&&y===D[0].ref.current;l.style.top="0px";const Ne=Math.max(V,O+x.offsetTop+(se?M:0)+Y)+J;l.style.height=Ne+"px",x.scrollTop=Z-V+x.offsetTop}l.style.margin=`${pc}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=P+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,y,w,i.dir,a]);tn(()=>v(),[v]);const[N,j]=f.useState();tn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(S=>{S&&g.current===!0&&(v(),b==null||b(),g.current=!1)},[v,b]);return s.jsx(Ske,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Lt.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});DQ.displayName=jke;var Nke="SelectPopperPosition",A_=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=pc,...i}=e,o=fC(r);return s.jsx($k,{...o,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});A_.displayName=Nke;var[Ske,cR]=P0(Zf,{}),E_="SelectViewport",OQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...n}=e,i=Em(E_,r),o=cR(E_,r),l=xr(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(hC.Slot,{scope:r,children:s.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:xt(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-pc*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(x,y);if(w<g){const b=w+p,v=Math.min(g,b),N=b-v;h.style.height=v+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});OQ.displayName=E_;var IQ="SelectGroup",[kke,Cke]=P0(IQ),Ake=f.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=cl();return s.jsx(kke,{scope:r,id:n,children:s.jsx(Lt.div,{role:"group","aria-labelledby":n,...a,ref:t})})});Ake.displayName=IQ;var RQ="SelectLabel",FQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=Cke(RQ,r);return s.jsx(Lt.div,{id:n.id,...a,ref:t})});FQ.displayName=RQ;var M2="SelectItem",[Eke,MQ]=P0(M2),LQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:i,...o}=e,l=Am(M2,r),c=Em(M2,r),d=l.value===a,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),g=xr(t,b=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,b,a,n)}),x=cl(),y=f.useRef("touch"),w=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Eke,{scope:r,value:a,disabled:n,textId:x,isSelected:d,onItemTextChange:f.useCallback(b=>{h(v=>v||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(hC.ItemSlot,{scope:r,value:a,disabled:n,textValue:u,children:s.jsx(Lt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:g,onFocus:xt(o.onFocus,()=>p(!0)),onBlur:xt(o.onBlur,()=>p(!1)),onClick:xt(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:xt(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:xt(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:xt(o.onPointerMove,b=>{var v;y.current=b.pointerType,n?(v=c.onItemLeave)==null||v.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xt(o.onPointerLeave,b=>{var v;b.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:xt(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(mke.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});LQ.displayName=M2;var Qv="SelectItemText",$Q=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:n,...i}=e,o=Am(Qv,r),l=Em(Qv,r),c=MQ(Qv,r),d=gke(Qv,r),[u,h]=f.useState(null),m=xr(t,w=>h(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=d;return tn(()=>(x(g),()=>y(g)),[x,y,g]),s.jsxs(s.Fragment,{children:[s.jsx(Lt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ll.createPortal(i.children,o.valueNode):null]})});$Q.displayName=Qv;var BQ="SelectItemIndicator",UQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return MQ(BQ,r).isSelected?s.jsx(Lt.span,{"aria-hidden":!0,...a,ref:t}):null});UQ.displayName=BQ;var P_="SelectScrollUpButton",VQ=f.forwardRef((e,t)=>{const r=Em(P_,e.__scopeSelect),a=cR(P_,e.__scopeSelect),[n,i]=f.useState(!1),o=xr(t,a.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?s.jsx(WQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});VQ.displayName=P_;var T_="SelectScrollDownButton",zQ=f.forwardRef((e,t)=>{const r=Em(T_,e.__scopeSelect),a=cR(T_,e.__scopeSelect),[n,i]=f.useState(!1),o=xr(t,a.onScrollButtonChange);return tn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?s.jsx(WQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zQ.displayName=T_;var WQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=e,i=Em("SelectScrollButton",r),o=f.useRef(null),l=mC(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),tn(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Lt.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:xt(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:xt(n.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:xt(n.onPointerLeave,()=>{c()})})}),Pke="SelectSeparator",HQ=f.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return s.jsx(Lt.div,{"aria-hidden":!0,...a,ref:t})});HQ.displayName=Pke;var __="SelectArrow",Tke=f.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,n=fC(r),i=Am(__,r),o=Em(__,r);return i.open&&o.position==="popper"?s.jsx(Bk,{...n,...a,ref:t}):null});Tke.displayName=__;var _ke="SelectBubbleInput",qQ=f.forwardRef(({__scopeSelect:e,value:t,...r},a)=>{const n=f.useRef(null),i=xr(a,n),o=Xw(t);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Lt.select,{...r,style:{...Uq,...r.style},ref:i,defaultValue:t})});qQ.displayName=_ke;function GQ(e){return e===""||e===void 0}function KQ(e){const t=Ma(e),r=f.useRef(""),a=f.useRef(0),n=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,i]}function YQ(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Dke(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Dke(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Oke=jQ,XQ=SQ,Ike=CQ,Rke=AQ,Fke=EQ,QQ=PQ,Mke=OQ,JQ=FQ,ZQ=LQ,Lke=$Q,$ke=UQ,eJ=VQ,tJ=zQ,rJ=HQ;const nr=Oke,cr=Ike,Jt=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(XQ,{ref:a,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Rke,{asChild:!0,children:s.jsx(zi,{className:"h-4 w-4 opacity-50"})})]}));Jt.displayName=XQ.displayName;const sJ=f.forwardRef(({className:e,...t},r)=>s.jsx(eJ,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ok,{className:"h-4 w-4"})}));sJ.displayName=eJ.displayName;const aJ=f.forwardRef(({className:e,...t},r)=>s.jsx(tJ,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zi,{className:"h-4 w-4"})}));aJ.displayName=tJ.displayName;const Zt=f.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>s.jsx(Fke,{children:s.jsxs(QQ,{ref:n,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx(sJ,{}),s.jsx(Mke,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(aJ,{})]})}));Zt.displayName=QQ.displayName;const Bke=f.forwardRef(({className:e,...t},r)=>s.jsx(JQ,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Bke.displayName=JQ.displayName;const Oe=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(ZQ,{ref:a,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($ke,{children:s.jsx(Ba,{className:"h-4 w-4"})})}),s.jsx(Lke,{children:t})]}));Oe.displayName=ZQ.displayName;const Uke=f.forwardRef(({className:e,...t},r)=>s.jsx(rJ,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));Uke.displayName=rJ.displayName;var xP="rovingFocusGroup.onEntryFocus",Vke={bubbles:!1,cancelable:!0},Jw="RovingFocusGroup",[D_,nJ,zke]=p0(Jw),[Wke,T0]=qa(Jw,[zke]),[Hke,qke]=Wke(Jw),iJ=f.forwardRef((e,t)=>s.jsx(D_.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(D_.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Gke,{...e,ref:t})})}));iJ.displayName=Jw;var Gke=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=xr(t,m),g=Cm(i),[x,y]=mo({prop:o,defaultProp:l??null,onChange:c,caller:Jw}),[w,b]=f.useState(!1),v=Ma(d),N=nJ(r),j=f.useRef(!1),[k,S]=f.useState(0);return f.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(xP,v),()=>C.removeEventListener(xP,v)},[v]),s.jsx(Hke,{scope:r,orientation:a,dir:g,loop:n,currentTabStopId:x,onItemFocus:f.useCallback(C=>y(C),[y]),onItemShiftTab:f.useCallback(()=>b(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>S(C=>C-1),[]),children:s.jsx(Lt.div,{tabIndex:w||k===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:xt(e.onMouseDown,()=>{j.current=!0}),onFocus:xt(e.onFocus,C=>{const A=!j.current;if(C.target===C.currentTarget&&A&&!w){const E=new CustomEvent(xP,Vke);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const D=N().filter(F=>F.focusable),P=D.find(F=>F.active),T=D.find(F=>F.id===x),O=[P,T,...D].filter(Boolean).map(F=>F.ref.current);cJ(O,u)}}j.current=!1}),onBlur:xt(e.onBlur,()=>b(!1))})})}),oJ="RovingFocusGroupItem",lJ=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=e,c=cl(),d=i||c,u=qke(oJ,r),h=u.currentTabStopId===d,m=nJ(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:x}=u;return f.useEffect(()=>{if(a)return p(),()=>g()},[a,p,g]),s.jsx(D_.ItemSlot,{scope:r,id:d,focusable:a,active:n,children:s.jsx(Lt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:xt(e.onMouseDown,y=>{a?u.onItemFocus(d):y.preventDefault()}),onFocus:xt(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:xt(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=Xke(y,u.orientation,u.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=m().filter(N=>N.focusable).map(N=>N.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const N=v.indexOf(y.currentTarget);v=u.loop?Qke(v,N+1):v.slice(N+1)}setTimeout(()=>cJ(v))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});lJ.displayName=oJ;var Kke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yke(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xke(e,t,r){const a=Yke(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Kke[a]}function cJ(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function Qke(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var dR=iJ,uR=lJ,pC="Tabs",[Jke,Tgt]=qa(pC,[T0]),dJ=T0(),[Zke,hR]=Jke(pC),uJ=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Cm(l),[h,m]=mo({prop:a,onChange:n,defaultProp:i??"",caller:pC});return s.jsx(Zke,{scope:r,baseId:cl(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Lt.div,{dir:u,"data-orientation":o,...d,ref:t})})});uJ.displayName=pC;var hJ="TabsList",mJ=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...n}=e,i=hR(hJ,r),o=dJ(r);return s.jsx(dR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:s.jsx(Lt.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});mJ.displayName=hJ;var fJ="TabsTrigger",pJ=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:n=!1,...i}=e,o=hR(fJ,r),l=dJ(r),c=vJ(o.baseId,a),d=yJ(o.baseId,a),u=a===o.value;return s.jsx(uR,{asChild:!0,...l,focusable:!n,active:u,children:s.jsx(Lt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...i,ref:t,onMouseDown:xt(e.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:xt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:xt(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!n&&h&&o.onValueChange(a)})})})});pJ.displayName=fJ;var xJ="TabsContent",gJ=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:n,children:i,...o}=e,l=hR(xJ,r),c=vJ(l.baseId,a),d=yJ(l.baseId,a),u=a===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Pn,{present:n||u,children:({present:m})=>s.jsx(Lt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});gJ.displayName=xJ;function vJ(e,t){return`${e}-trigger-${t}`}function yJ(e,t){return`${e}-content-${t}`}var eCe=uJ,bJ=mJ,wJ=pJ,jJ=gJ;const Yn=eCe,_n=f.forwardRef(({className:e,...t},r)=>s.jsx(bJ,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_n.displayName=bJ.displayName;const Ar=f.forwardRef(({className:e,...t},r)=>s.jsx(wJ,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ar.displayName=wJ.displayName;const ls=f.forwardRef(({className:e,...t},r)=>s.jsx(jJ,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ls.displayName=jJ.displayName;var tCe=Array.isArray,Go=tCe,rCe=typeof Fj=="object"&&Fj&&Fj.Object===Object&&Fj,NJ=rCe,sCe=NJ,aCe=typeof self=="object"&&self&&self.Object===Object&&self,nCe=sCe||aCe||Function("return this")(),$d=nCe,iCe=$d,oCe=iCe.Symbol,Zw=oCe,U8=Zw,SJ=Object.prototype,lCe=SJ.hasOwnProperty,cCe=SJ.toString,jv=U8?U8.toStringTag:void 0;function dCe(e){var t=lCe.call(e,jv),r=e[jv];try{e[jv]=void 0;var a=!0}catch{}var n=cCe.call(e);return a&&(t?e[jv]=r:delete e[jv]),n}var uCe=dCe,hCe=Object.prototype,mCe=hCe.toString;function fCe(e){return mCe.call(e)}var pCe=fCe,V8=Zw,xCe=uCe,gCe=pCe,vCe="[object Null]",yCe="[object Undefined]",z8=V8?V8.toStringTag:void 0;function bCe(e){return e==null?e===void 0?yCe:vCe:z8&&z8 in Object(e)?xCe(e):gCe(e)}var Fu=bCe;function wCe(e){return e!=null&&typeof e=="object"}var Mu=wCe,jCe=Fu,NCe=Mu,SCe="[object Symbol]";function kCe(e){return typeof e=="symbol"||NCe(e)&&jCe(e)==SCe}var _0=kCe,CCe=Go,ACe=_0,ECe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PCe=/^\w*$/;function TCe(e,t){if(CCe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ACe(e)?!0:PCe.test(e)||!ECe.test(e)||t!=null&&e in Object(t)}var mR=TCe;function _Ce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pm=_Ce;const D0=qs(Pm);var DCe=Fu,OCe=Pm,ICe="[object AsyncFunction]",RCe="[object Function]",FCe="[object GeneratorFunction]",MCe="[object Proxy]";function LCe(e){if(!OCe(e))return!1;var t=DCe(e);return t==RCe||t==FCe||t==ICe||t==MCe}var fR=LCe;const Rr=qs(fR);var $Ce=$d,BCe=$Ce["__core-js_shared__"],UCe=BCe,gP=UCe,W8=function(){var e=/[^.]+$/.exec(gP&&gP.keys&&gP.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VCe(e){return!!W8&&W8 in e}var zCe=VCe,WCe=Function.prototype,HCe=WCe.toString;function qCe(e){if(e!=null){try{return HCe.call(e)}catch{}try{return e+""}catch{}}return""}var kJ=qCe,GCe=fR,KCe=zCe,YCe=Pm,XCe=kJ,QCe=/[\\^$.*+?()[\]{}|]/g,JCe=/^\[object .+?Constructor\]$/,ZCe=Function.prototype,eAe=Object.prototype,tAe=ZCe.toString,rAe=eAe.hasOwnProperty,sAe=RegExp("^"+tAe.call(rAe).replace(QCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aAe(e){if(!YCe(e)||KCe(e))return!1;var t=GCe(e)?sAe:JCe;return t.test(XCe(e))}var nAe=aAe;function iAe(e,t){return e==null?void 0:e[t]}var oAe=iAe,lAe=nAe,cAe=oAe;function dAe(e,t){var r=cAe(e,t);return lAe(r)?r:void 0}var jp=dAe,uAe=jp,hAe=uAe(Object,"create"),xC=hAe,H8=xC;function mAe(){this.__data__=H8?H8(null):{},this.size=0}var fAe=mAe;function pAe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xAe=pAe,gAe=xC,vAe="__lodash_hash_undefined__",yAe=Object.prototype,bAe=yAe.hasOwnProperty;function wAe(e){var t=this.__data__;if(gAe){var r=t[e];return r===vAe?void 0:r}return bAe.call(t,e)?t[e]:void 0}var jAe=wAe,NAe=xC,SAe=Object.prototype,kAe=SAe.hasOwnProperty;function CAe(e){var t=this.__data__;return NAe?t[e]!==void 0:kAe.call(t,e)}var AAe=CAe,EAe=xC,PAe="__lodash_hash_undefined__";function TAe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=EAe&&t===void 0?PAe:t,this}var _Ae=TAe,DAe=fAe,OAe=xAe,IAe=jAe,RAe=AAe,FAe=_Ae;function O0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}O0.prototype.clear=DAe;O0.prototype.delete=OAe;O0.prototype.get=IAe;O0.prototype.has=RAe;O0.prototype.set=FAe;var MAe=O0;function LAe(){this.__data__=[],this.size=0}var $Ae=LAe;function BAe(e,t){return e===t||e!==e&&t!==t}var pR=BAe,UAe=pR;function VAe(e,t){for(var r=e.length;r--;)if(UAe(e[r][0],t))return r;return-1}var gC=VAe,zAe=gC,WAe=Array.prototype,HAe=WAe.splice;function qAe(e){var t=this.__data__,r=zAe(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():HAe.call(t,r,1),--this.size,!0}var GAe=qAe,KAe=gC;function YAe(e){var t=this.__data__,r=KAe(t,e);return r<0?void 0:t[r][1]}var XAe=YAe,QAe=gC;function JAe(e){return QAe(this.__data__,e)>-1}var ZAe=JAe,eEe=gC;function tEe(e,t){var r=this.__data__,a=eEe(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var rEe=tEe,sEe=$Ae,aEe=GAe,nEe=XAe,iEe=ZAe,oEe=rEe;function I0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}I0.prototype.clear=sEe;I0.prototype.delete=aEe;I0.prototype.get=nEe;I0.prototype.has=iEe;I0.prototype.set=oEe;var vC=I0,lEe=jp,cEe=$d,dEe=lEe(cEe,"Map"),xR=dEe,q8=MAe,uEe=vC,hEe=xR;function mEe(){this.size=0,this.__data__={hash:new q8,map:new(hEe||uEe),string:new q8}}var fEe=mEe;function pEe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xEe=pEe,gEe=xEe;function vEe(e,t){var r=e.__data__;return gEe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var yC=vEe,yEe=yC;function bEe(e){var t=yEe(this,e).delete(e);return this.size-=t?1:0,t}var wEe=bEe,jEe=yC;function NEe(e){return jEe(this,e).get(e)}var SEe=NEe,kEe=yC;function CEe(e){return kEe(this,e).has(e)}var AEe=CEe,EEe=yC;function PEe(e,t){var r=EEe(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var TEe=PEe,_Ee=fEe,DEe=wEe,OEe=SEe,IEe=AEe,REe=TEe;function R0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}R0.prototype.clear=_Ee;R0.prototype.delete=DEe;R0.prototype.get=OEe;R0.prototype.has=IEe;R0.prototype.set=REe;var gR=R0,CJ=gR,FEe="Expected a function";function vR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FEe);var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],i=r.cache;if(i.has(n))return i.get(n);var o=e.apply(this,a);return r.cache=i.set(n,o)||i,o};return r.cache=new(vR.Cache||CJ),r}vR.Cache=CJ;var AJ=vR;const MEe=qs(AJ);var LEe=AJ,$Ee=500;function BEe(e){var t=LEe(e,function(a){return r.size===$Ee&&r.clear(),a}),r=t.cache;return t}var UEe=BEe,VEe=UEe,zEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WEe=/\\(\\)?/g,HEe=VEe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zEe,function(r,a,n,i){t.push(n?i.replace(WEe,"$1"):a||r)}),t}),qEe=HEe;function GEe(e,t){for(var r=-1,a=e==null?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var yR=GEe,G8=Zw,KEe=yR,YEe=Go,XEe=_0,QEe=1/0,K8=G8?G8.prototype:void 0,Y8=K8?K8.toString:void 0;function EJ(e){if(typeof e=="string")return e;if(YEe(e))return KEe(e,EJ)+"";if(XEe(e))return Y8?Y8.call(e):"";var t=e+"";return t=="0"&&1/e==-QEe?"-0":t}var JEe=EJ,ZEe=JEe;function ePe(e){return e==null?"":ZEe(e)}var PJ=ePe,tPe=Go,rPe=mR,sPe=qEe,aPe=PJ;function nPe(e,t){return tPe(e)?e:rPe(e,t)?[e]:sPe(aPe(e))}var TJ=nPe,iPe=_0,oPe=1/0;function lPe(e){if(typeof e=="string"||iPe(e))return e;var t=e+"";return t=="0"&&1/e==-oPe?"-0":t}var bC=lPe,cPe=TJ,dPe=bC;function uPe(e,t){t=cPe(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[dPe(t[r++])];return r&&r==a?e:void 0}var bR=uPe,hPe=bR;function mPe(e,t,r){var a=e==null?void 0:hPe(e,t);return a===void 0?r:a}var _J=mPe;const ul=qs(_J);function fPe(e){return e==null}var pPe=fPe;const Qr=qs(pPe);var xPe=Fu,gPe=Go,vPe=Mu,yPe="[object String]";function bPe(e){return typeof e=="string"||!gPe(e)&&vPe(e)&&xPe(e)==yPe}var wPe=bPe;const ep=qs(wPe);var DJ={exports:{}},ra={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=Symbol.for("react.element"),jR=Symbol.for("react.portal"),wC=Symbol.for("react.fragment"),jC=Symbol.for("react.strict_mode"),NC=Symbol.for("react.profiler"),SC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),jPe=Symbol.for("react.server_context"),CC=Symbol.for("react.forward_ref"),AC=Symbol.for("react.suspense"),EC=Symbol.for("react.suspense_list"),PC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),NPe=Symbol.for("react.offscreen"),OJ;OJ=Symbol.for("react.module.reference");function tc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wR:switch(e=e.type,e){case wC:case NC:case jC:case AC:case EC:return e;default:switch(e=e&&e.$$typeof,e){case jPe:case kC:case CC:case TC:case PC:case SC:return e;default:return t}}case jR:return t}}}ra.ContextConsumer=kC;ra.ContextProvider=SC;ra.Element=wR;ra.ForwardRef=CC;ra.Fragment=wC;ra.Lazy=TC;ra.Memo=PC;ra.Portal=jR;ra.Profiler=NC;ra.StrictMode=jC;ra.Suspense=AC;ra.SuspenseList=EC;ra.isAsyncMode=function(){return!1};ra.isConcurrentMode=function(){return!1};ra.isContextConsumer=function(e){return tc(e)===kC};ra.isContextProvider=function(e){return tc(e)===SC};ra.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wR};ra.isForwardRef=function(e){return tc(e)===CC};ra.isFragment=function(e){return tc(e)===wC};ra.isLazy=function(e){return tc(e)===TC};ra.isMemo=function(e){return tc(e)===PC};ra.isPortal=function(e){return tc(e)===jR};ra.isProfiler=function(e){return tc(e)===NC};ra.isStrictMode=function(e){return tc(e)===jC};ra.isSuspense=function(e){return tc(e)===AC};ra.isSuspenseList=function(e){return tc(e)===EC};ra.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wC||e===NC||e===jC||e===AC||e===EC||e===NPe||typeof e=="object"&&e!==null&&(e.$$typeof===TC||e.$$typeof===PC||e.$$typeof===SC||e.$$typeof===kC||e.$$typeof===CC||e.$$typeof===OJ||e.getModuleId!==void 0)};ra.typeOf=tc;DJ.exports=ra;var SPe=DJ.exports,kPe=Fu,CPe=Mu,APe="[object Number]";function EPe(e){return typeof e=="number"||CPe(e)&&kPe(e)==APe}var IJ=EPe;const PPe=qs(IJ);var TPe=IJ;function _Pe(e){return TPe(e)&&e!=+e}var DPe=_Pe;const F0=qs(DPe);var oo=function(t){return t===0?0:t>0?1:-1},gf=function(t){return ep(t)&&t.indexOf("%")===t.length-1},yt=function(t){return PPe(t)&&!F0(t)},OPe=function(t){return Qr(t)},qn=function(t){return yt(t)||ep(t)},IPe=0,M0=function(t){var r=++IPe;return"".concat(t||"").concat(r)},lo=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!ep(t))return a;var i;if(gf(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return F0(i)&&(i=a),n&&i>r&&(i=r),i},xh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},RPe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},n=0;n<r;n++)if(!a[t[n]])a[t[n]]=!0;else return!0;return!1},Oo=function(t,r){return yt(t)&&yt(r)?function(a){return t+a*(r-t)}:function(){return r}};function L2(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):ul(a,t))===r})}var FPe=function(t,r){return yt(t)&&yt(r)?t-r:ep(t)&&ep(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function qx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function O_(e){"@babel/helpers - typeof";return O_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O_(e)}var MPe=["viewBox","children"],LPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X8=["points","pathLength"],vP={svg:MPe,polygon:X8,polyline:X8},NR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(f.isValidElement(t)&&(a=t.props),!D0(a))return null;var n={};return Object.keys(a).forEach(function(i){NR.includes(i)&&(n[i]=r||function(o){return a[i](a,o)})}),n},$Pe=function(t,r,a){return function(n){return t(r,a,n),null}},tp=function(t,r,a){if(!D0(t)||O_(t)!=="object")return null;var n=null;return Object.keys(t).forEach(function(i){var o=t[i];NR.includes(i)&&typeof o=="function"&&(n||(n={}),n[i]=$Pe(o,r,a))}),n},BPe=["children"],UPe=["children"];function Q8(e,t){if(e==null)return{};var r=VPe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function VPe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function I_(e){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I_(e)}var J8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Z8=null,yP=null,SR=function e(t){if(t===Z8&&Array.isArray(yP))return yP;var r=[];return f.Children.forEach(t,function(a){Qr(a)||(SPe.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),yP=r,Z8=t,r};function Hl(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(n){return uu(n)}):a=[uu(t)],SR(e).forEach(function(n){var i=ul(n,"type.displayName")||ul(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}function Xo(e,t){var r=Hl(e,t);return r&&r[0]}var eB=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,n=r.height;return!(!yt(a)||a<=0||!yt(n)||n<=0)},zPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WPe=function(t){return t&&t.type&&ep(t.type)&&zPe.indexOf(t.type)>=0},HPe=function(t){return t&&I_(t)==="object"&&"clipDot"in t},qPe=function(t,r,a,n){var i,o=(i=vP==null?void 0:vP[n])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Rr(t)&&(n&&o.includes(r)||LPe.includes(r))||a&&NR.includes(r)},wr=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(f.isValidElement(t)&&(n=t.props),!D0(n))return null;var i={};return Object.keys(n).forEach(function(o){var l;qPe((l=n)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=n[o])}),i},R_=function e(t,r){if(t===r)return!0;var a=f.Children.count(t);if(a!==f.Children.count(r))return!1;if(a===0)return!0;if(a===1)return tB(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var n=0;n<a;n++){var i=t[n],o=r[n];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!tB(i,o))return!1}return!0},tB=function(t,r){if(Qr(t)&&Qr(r))return!0;if(!Qr(t)&&!Qr(r)){var a=t.props||{},n=a.children,i=Q8(a,BPe),o=r.props||{},l=o.children,c=Q8(o,UPe);return n&&l?qx(i,c)&&R_(n,l):!n&&!l?qx(i,c):!1}return!1},rB=function(t,r){var a=[],n={};return SR(t).forEach(function(i,o){if(WPe(i))a.push(i);else if(i){var l=uu(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!n[l])){var h=d(i,l,o);a.push(h),n[l]=!0}}}),a},GPe=function(t){var r=t&&t.type;return r&&J8[r]?J8[r]:null},KPe=function(t,r){return SR(r).indexOf(t)},YPe=["children","width","height","viewBox","className","style","title","desc"];function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F_.apply(this,arguments)}function XPe(e,t){if(e==null)return{};var r=QPe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function QPe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function M_(e){var t=e.children,r=e.width,a=e.height,n=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=XPe(e,YPe),u=n||{width:r,height:a,x:0,y:0},h=Xr("recharts-surface",i);return ae.createElement("svg",F_({},wr(d,!0,"svg"),{className:h,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),t)}var JPe=["children","className"];function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L_.apply(this,arguments)}function ZPe(e,t){if(e==null)return{};var r=eTe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function eTe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ss=ae.forwardRef(function(e,t){var r=e.children,a=e.className,n=ZPe(e,JPe),i=Xr("recharts-layer",a);return ae.createElement("g",L_({className:i},wr(n,!0),{ref:t}),r)}),Rc=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function tTe(e,t,r){var a=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(n);++a<n;)i[a]=e[a+t];return i}var rTe=tTe,sTe=rTe;function aTe(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:sTe(e,t,r)}var nTe=aTe,iTe="\\ud800-\\udfff",oTe="\\u0300-\\u036f",lTe="\\ufe20-\\ufe2f",cTe="\\u20d0-\\u20ff",dTe=oTe+lTe+cTe,uTe="\\ufe0e\\ufe0f",hTe="\\u200d",mTe=RegExp("["+hTe+iTe+dTe+uTe+"]");function fTe(e){return mTe.test(e)}var RJ=fTe;function pTe(e){return e.split("")}var xTe=pTe,FJ="\\ud800-\\udfff",gTe="\\u0300-\\u036f",vTe="\\ufe20-\\ufe2f",yTe="\\u20d0-\\u20ff",bTe=gTe+vTe+yTe,wTe="\\ufe0e\\ufe0f",jTe="["+FJ+"]",$_="["+bTe+"]",B_="\\ud83c[\\udffb-\\udfff]",NTe="(?:"+$_+"|"+B_+")",MJ="[^"+FJ+"]",LJ="(?:\\ud83c[\\udde6-\\uddff]){2}",$J="[\\ud800-\\udbff][\\udc00-\\udfff]",STe="\\u200d",BJ=NTe+"?",UJ="["+wTe+"]?",kTe="(?:"+STe+"(?:"+[MJ,LJ,$J].join("|")+")"+UJ+BJ+")*",CTe=UJ+BJ+kTe,ATe="(?:"+[MJ+$_+"?",$_,LJ,$J,jTe].join("|")+")",ETe=RegExp(B_+"(?="+B_+")|"+ATe+CTe,"g");function PTe(e){return e.match(ETe)||[]}var TTe=PTe,_Te=xTe,DTe=RJ,OTe=TTe;function ITe(e){return DTe(e)?OTe(e):_Te(e)}var RTe=ITe,FTe=nTe,MTe=RJ,LTe=RTe,$Te=PJ;function BTe(e){return function(t){t=$Te(t);var r=MTe(t)?LTe(t):void 0,a=r?r[0]:t.charAt(0),n=r?FTe(r,1).join(""):t.slice(1);return a[e]()+n}}var UTe=BTe,VTe=UTe,zTe=VTe("toUpperCase"),WTe=zTe;const _C=qs(WTe);function fa(e){return function(){return e}}const VJ=Math.cos,B2=Math.sin,qc=Math.sqrt,U2=Math.PI,DC=2*U2,U_=Math.PI,V_=2*U_,rf=1e-6,HTe=V_-rf;function zJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qTe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zJ;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class GTe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zJ:qTe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,o){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=n-r,u=o-t,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>rf)if(!(Math.abs(h*c-d*u)>rf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-o,g=n-l,x=c*c+d*d,y=p*p+g*g,w=Math.sqrt(x),b=Math.sqrt(m),v=i*Math.tan((U_-Math.acos((x+m-y)/(2*w*b)))/2),N=v/b,j=v/w;Math.abs(N-1)>rf&&this._append`L${t+N*u},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*p>u*g)},${this._x1=t+j*c},${this._y1=r+j*d}`}}arc(t,r,a,n,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),c=a*Math.sin(n),d=t+l,u=r+c,h=1^o,m=o?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>rf||Math.abs(this._y1-u)>rf)&&this._append`L${d},${u}`,a&&(m<0&&(m=m%V_+V_),m>HTe?this._append`A${a},${a},0,1,${h},${t-l},${r-c}A${a},${a},0,1,${h},${this._x1=d},${this._y1=u}`:m>rf&&this._append`A${a},${a},0,${+(m>=U_)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function kR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new GTe(t)}function CR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WJ(e){this._context=e}WJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function OC(e){return new WJ(e)}function HJ(e){return e[0]}function qJ(e){return e[1]}function GJ(e,t){var r=fa(!0),a=null,n=OC,i=null,o=kR(l);e=typeof e=="function"?e:e===void 0?HJ:fa(e),t=typeof t=="function"?t:t===void 0?qJ:fa(t);function l(c){var d,u=(c=CR(c)).length,h,m=!1,p;for(a==null&&(i=n(p=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:fa(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:fa(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:fa(!!c),l):r},l.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),l):n},l.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),l):a},l}function b1(e,t,r){var a=null,n=fa(!0),i=null,o=OC,l=null,c=kR(d);e=typeof e=="function"?e:e===void 0?HJ:fa(+e),t=typeof t=="function"?t:fa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qJ:fa(+r);function d(h){var m,p,g,x=(h=CR(h)).length,y,w=!1,b,v=new Array(x),N=new Array(x);for(i==null&&(l=o(b=c())),m=0;m<=x;++m){if(!(m<x&&n(y=h[m],m,h))===w)if(w=!w)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=p;--g)l.point(v[g],N[g]);l.lineEnd(),l.areaEnd()}w&&(v[m]=+e(y,m,h),N[m]=+t(y,m,h),l.point(a?+a(y,m,h):v[m],r?+r(y,m,h):N[m]))}if(b)return l=null,b+""||null}function u(){return GJ().defined(n).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:fa(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:fa(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:fa(+h),d):a},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:fa(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:fa(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:fa(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:fa(!!h),d):n},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class KJ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KTe(e){return new KJ(e,!0)}function YTe(e){return new KJ(e,!1)}const AR={draw(e,t){const r=qc(t/U2);e.moveTo(r,0),e.arc(0,0,r,0,DC)}},XTe={draw(e,t){const r=qc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},YJ=qc(1/3),QTe=YJ*2,JTe={draw(e,t){const r=qc(t/QTe),a=r*YJ;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},ZTe={draw(e,t){const r=qc(t),a=-r/2;e.rect(a,a,r,r)}},e4e=.8908130915292852,XJ=B2(U2/10)/B2(7*U2/10),t4e=B2(DC/10)*XJ,r4e=-VJ(DC/10)*XJ,s4e={draw(e,t){const r=qc(t*e4e),a=t4e*r,n=r4e*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const o=DC*i/5,l=VJ(o),c=B2(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*n,c*a+l*n)}e.closePath()}},bP=qc(3),a4e={draw(e,t){const r=-qc(t/(bP*3));e.moveTo(0,r*2),e.lineTo(-bP*r,-r),e.lineTo(bP*r,-r),e.closePath()}},yl=-.5,bl=qc(3)/2,z_=1/qc(12),n4e=(z_/2+1)*3,i4e={draw(e,t){const r=qc(t/n4e),a=r/2,n=r*z_,i=a,o=r*z_+r,l=-i,c=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(yl*a-bl*n,bl*a+yl*n),e.lineTo(yl*i-bl*o,bl*i+yl*o),e.lineTo(yl*l-bl*c,bl*l+yl*c),e.lineTo(yl*a+bl*n,yl*n-bl*a),e.lineTo(yl*i+bl*o,yl*o-bl*i),e.lineTo(yl*l+bl*c,yl*c-bl*l),e.closePath()}};function o4e(e,t){let r=null,a=kR(n);e=typeof e=="function"?e:fa(e||AR),t=typeof t=="function"?t:fa(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:fa(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:fa(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function V2(){}function z2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QJ(e){this._context=e}QJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l4e(e){return new QJ(e)}function JJ(e){this._context=e}JJ.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:z2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c4e(e){return new JJ(e)}function ZJ(e){this._context=e}ZJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:z2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d4e(e){return new ZJ(e)}function eZ(e){this._context=e}eZ.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u4e(e){return new eZ(e)}function sB(e){return e<0?-1:1}function aB(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),o=(r-e._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(sB(i)+sB(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function nB(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wP(e,t,r){var a=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,n+l*t,i-l,o-l*r,i,o)}function W2(e){this._context=e}W2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wP(this,this._t0,nB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wP(this,nB(this,r=aB(this,e,t)),r);break;default:wP(this,this._t0,r=aB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tZ(e){this._context=new rZ(e)}(tZ.prototype=Object.create(W2.prototype)).point=function(e,t){W2.prototype.point.call(this,t,e)};function rZ(e){this._context=e}rZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function h4e(e){return new W2(e)}function m4e(e){return new tZ(e)}function sZ(e){this._context=e}sZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=iB(e),n=iB(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iB(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),o=new Array(r);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(n[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(o[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function f4e(e){return new sZ(e)}function IC(e,t){this._context=e,this._t=t}IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function p4e(e){return new IC(e,.5)}function x4e(e){return new IC(e,0)}function g4e(e){return new IC(e,1)}function Og(e,t){if((o=e.length)>1)for(var r=1,a,n,i=e[t[0]],o,l=i.length;r<o;++r)for(n=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function W_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function v4e(e,t){return e[t]}function y4e(e){const t=[];return t.key=e,t}function b4e(){var e=fa([]),t=W_,r=Og,a=v4e;function n(i){var o=Array.from(e.apply(this,arguments),y4e),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(h,o[l].key,d,i)]).data=h;for(l=0,u=CR(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:fa(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:fa(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?W_:typeof i=="function"?i:fa(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??Og,n):r},n}function w4e(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,o;n<i;++n){for(o=r=0;r<a;++r)o+=e[r][n][1]||0;if(o)for(r=0;r<a;++r)e[r][n][1]/=o}Og(e,t)}}function j4e(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var o=0,l=0;o<n;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Og(e,t)}}function N4e(e,t){if(!(!((o=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[a][1]||0,m=u[a-1][1]||0,p=(h-m)/2,g=0;g<l;++g){var x=e[t[g]],y=x[a][1]||0,w=x[a-1][1]||0;p+=y-w}c+=h,d+=p*h}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,Og(e,t)}}function Cb(e){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(e)}var S4e=["type","size","sizeType"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H_.apply(this,arguments)}function oB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function lB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(r),!0).forEach(function(a){k4e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function k4e(e,t,r){return t=C4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C4e(e){var t=A4e(e,"string");return Cb(t)=="symbol"?t:t+""}function A4e(e,t){if(Cb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Cb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4e(e,t){if(e==null)return{};var r=P4e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function P4e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var aZ={symbolCircle:AR,symbolCross:XTe,symbolDiamond:JTe,symbolSquare:ZTe,symbolStar:s4e,symbolTriangle:a4e,symbolWye:i4e},T4e=Math.PI/180,_4e=function(t){var r="symbol".concat(_C(t));return aZ[r]||AR},D4e=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*T4e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O4e=function(t,r){aZ["symbol".concat(_C(t))]=r},ER=function(t){var r=t.type,a=r===void 0?"circle":r,n=t.size,i=n===void 0?64:n,o=t.sizeType,l=o===void 0?"area":o,c=E4e(t,S4e),d=lB(lB({},c),{},{type:a,size:i,sizeType:l}),u=function(){var y=_4e(a),w=o4e().type(y).size(D4e(i,l,a));return w()},h=d.className,m=d.cx,p=d.cy,g=wr(d,!0);return m===+m&&p===+p&&i===+i?ae.createElement("path",H_({},g,{className:Xr("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};ER.registerSymbol=O4e;function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q_.apply(this,arguments)}function cB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function I4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cB(Object(r),!0).forEach(function(a){Ab(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function R4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iZ(a.key),a)}}function M4e(e,t,r){return t&&F4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L4e(e,t,r){return t=H2(t),$4e(e,nZ()?Reflect.construct(t,r||[],H2(e).constructor):t.apply(e,r))}function $4e(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B4e(e)}function B4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nZ=function(){return!!e})()}function H2(e){return H2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H2(e)}function U4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G_(e,t)}function G_(e,t){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},G_(e,t)}function Ab(e,t,r){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=V4e(e,"string");return Ig(t)=="symbol"?t:t+""}function V4e(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wl=32,PR=function(e){function t(){return R4e(this,t),L4e(this,t,arguments)}return U4e(t,e),M4e(t,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,i=wl/2,o=wl/6,l=wl/3,c=a.inactive?n:a.color;if(a.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:wl,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(wl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wl/8,"h").concat(wl,"v").concat(wl*3/4,"h").concat(-wl,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(a.legendIcon)){var d=I4e({},a);return delete d.legendIcon,ae.cloneElement(a.legendIcon,d)}return ae.createElement(ER,{fill:c,cx:i,cy:i,size:wl,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,i=n.payload,o=n.iconSize,l=n.layout,c=n.formatter,d=n.inactiveColor,u={x:0,y:0,width:wl,height:wl},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var x=p.formatter||c,y=Xr(Ab(Ab({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Rr(p.value)?null:p.value;Rc(!Rr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?d:p.color;return ae.createElement("li",q_({className:y,style:h,key:"legend-item-".concat(g)},tp(a.props,p,g)),ae.createElement(M_,{width:o,height:o,viewBox:u,style:m},a.renderIcon(p)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(w,p,g):w))})}},{key:"render",value:function(){var a=this.props,n=a.payload,i=a.layout,o=a.align;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(f.PureComponent);Ab(PR,"displayName","Legend");Ab(PR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z4e=vC;function W4e(){this.__data__=new z4e,this.size=0}var H4e=W4e;function q4e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var G4e=q4e;function K4e(e){return this.__data__.get(e)}var Y4e=K4e;function X4e(e){return this.__data__.has(e)}var Q4e=X4e,J4e=vC,Z4e=xR,e_e=gR,t_e=200;function r_e(e,t){var r=this.__data__;if(r instanceof J4e){var a=r.__data__;if(!Z4e||a.length<t_e-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new e_e(a)}return r.set(e,t),this.size=r.size,this}var s_e=r_e,a_e=vC,n_e=H4e,i_e=G4e,o_e=Y4e,l_e=Q4e,c_e=s_e;function L0(e){var t=this.__data__=new a_e(e);this.size=t.size}L0.prototype.clear=n_e;L0.prototype.delete=i_e;L0.prototype.get=o_e;L0.prototype.has=l_e;L0.prototype.set=c_e;var oZ=L0,d_e="__lodash_hash_undefined__";function u_e(e){return this.__data__.set(e,d_e),this}var h_e=u_e;function m_e(e){return this.__data__.has(e)}var f_e=m_e,p_e=gR,x_e=h_e,g_e=f_e;function q2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new p_e;++t<r;)this.add(e[t])}q2.prototype.add=q2.prototype.push=x_e;q2.prototype.has=g_e;var lZ=q2;function v_e(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var cZ=v_e;function y_e(e,t){return e.has(t)}var dZ=y_e,b_e=lZ,w_e=cZ,j_e=dZ,N_e=1,S_e=2;function k_e(e,t,r,a,n,i){var o=r&N_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,m=!0,p=r&S_e?new b_e:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],x=t[h];if(a)var y=o?a(x,g,h,t,e,i):a(g,x,h,e,t,i);if(y!==void 0){if(y)continue;m=!1;break}if(p){if(!w_e(t,function(w,b){if(!j_e(p,b)&&(g===w||n(g,w,r,a,i)))return p.push(b)})){m=!1;break}}else if(!(g===x||n(g,x,r,a,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var uZ=k_e,C_e=$d,A_e=C_e.Uint8Array,E_e=A_e;function P_e(e){var t=-1,r=Array(e.size);return e.forEach(function(a,n){r[++t]=[n,a]}),r}var T_e=P_e;function __e(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var TR=__e,dB=Zw,uB=E_e,D_e=pR,O_e=uZ,I_e=T_e,R_e=TR,F_e=1,M_e=2,L_e="[object Boolean]",$_e="[object Date]",B_e="[object Error]",U_e="[object Map]",V_e="[object Number]",z_e="[object RegExp]",W_e="[object Set]",H_e="[object String]",q_e="[object Symbol]",G_e="[object ArrayBuffer]",K_e="[object DataView]",hB=dB?dB.prototype:void 0,jP=hB?hB.valueOf:void 0;function Y_e(e,t,r,a,n,i,o){switch(r){case K_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case G_e:return!(e.byteLength!=t.byteLength||!i(new uB(e),new uB(t)));case L_e:case $_e:case V_e:return D_e(+e,+t);case B_e:return e.name==t.name&&e.message==t.message;case z_e:case H_e:return e==t+"";case U_e:var l=I_e;case W_e:var c=a&F_e;if(l||(l=R_e),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=M_e,o.set(e,t);var u=O_e(l(e),l(t),a,n,i,o);return o.delete(e),u;case q_e:if(jP)return jP.call(e)==jP.call(t)}return!1}var X_e=Y_e;function Q_e(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var hZ=Q_e,J_e=hZ,Z_e=Go;function e5e(e,t,r){var a=t(e);return Z_e(e)?a:J_e(a,r(e))}var t5e=e5e;function r5e(e,t){for(var r=-1,a=e==null?0:e.length,n=0,i=[];++r<a;){var o=e[r];t(o,r,e)&&(i[n++]=o)}return i}var s5e=r5e;function a5e(){return[]}var n5e=a5e,i5e=s5e,o5e=n5e,l5e=Object.prototype,c5e=l5e.propertyIsEnumerable,mB=Object.getOwnPropertySymbols,d5e=mB?function(e){return e==null?[]:(e=Object(e),i5e(mB(e),function(t){return c5e.call(e,t)}))}:o5e,u5e=d5e;function h5e(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var m5e=h5e,f5e=Fu,p5e=Mu,x5e="[object Arguments]";function g5e(e){return p5e(e)&&f5e(e)==x5e}var v5e=g5e,fB=v5e,y5e=Mu,mZ=Object.prototype,b5e=mZ.hasOwnProperty,w5e=mZ.propertyIsEnumerable,j5e=fB(function(){return arguments}())?fB:function(e){return y5e(e)&&b5e.call(e,"callee")&&!w5e.call(e,"callee")},_R=j5e,G2={exports:{}};function N5e(){return!1}var S5e=N5e;G2.exports;(function(e,t){var r=$d,a=S5e,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(G2,G2.exports);var fZ=G2.exports,k5e=9007199254740991,C5e=/^(?:0|[1-9]\d*)$/;function A5e(e,t){var r=typeof e;return t=t??k5e,!!t&&(r=="number"||r!="symbol"&&C5e.test(e))&&e>-1&&e%1==0&&e<t}var DR=A5e,E5e=9007199254740991;function P5e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=E5e}var OR=P5e,T5e=Fu,_5e=OR,D5e=Mu,O5e="[object Arguments]",I5e="[object Array]",R5e="[object Boolean]",F5e="[object Date]",M5e="[object Error]",L5e="[object Function]",$5e="[object Map]",B5e="[object Number]",U5e="[object Object]",V5e="[object RegExp]",z5e="[object Set]",W5e="[object String]",H5e="[object WeakMap]",q5e="[object ArrayBuffer]",G5e="[object DataView]",K5e="[object Float32Array]",Y5e="[object Float64Array]",X5e="[object Int8Array]",Q5e="[object Int16Array]",J5e="[object Int32Array]",Z5e="[object Uint8Array]",eDe="[object Uint8ClampedArray]",tDe="[object Uint16Array]",rDe="[object Uint32Array]",ja={};ja[K5e]=ja[Y5e]=ja[X5e]=ja[Q5e]=ja[J5e]=ja[Z5e]=ja[eDe]=ja[tDe]=ja[rDe]=!0;ja[O5e]=ja[I5e]=ja[q5e]=ja[R5e]=ja[G5e]=ja[F5e]=ja[M5e]=ja[L5e]=ja[$5e]=ja[B5e]=ja[U5e]=ja[V5e]=ja[z5e]=ja[W5e]=ja[H5e]=!1;function sDe(e){return D5e(e)&&_5e(e.length)&&!!ja[T5e(e)]}var aDe=sDe;function nDe(e){return function(t){return e(t)}}var pZ=nDe,K2={exports:{}};K2.exports;(function(e,t){var r=NJ,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,o=i&&r.process,l=function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(K2,K2.exports);var iDe=K2.exports,oDe=aDe,lDe=pZ,pB=iDe,xB=pB&&pB.isTypedArray,cDe=xB?lDe(xB):oDe,xZ=cDe,dDe=m5e,uDe=_R,hDe=Go,mDe=fZ,fDe=DR,pDe=xZ,xDe=Object.prototype,gDe=xDe.hasOwnProperty;function vDe(e,t){var r=hDe(e),a=!r&&uDe(e),n=!r&&!a&&mDe(e),i=!r&&!a&&!n&&pDe(e),o=r||a||n||i,l=o?dDe(e.length,String):[],c=l.length;for(var d in e)(t||gDe.call(e,d))&&!(o&&(d=="length"||n&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||fDe(d,c)))&&l.push(d);return l}var yDe=vDe,bDe=Object.prototype;function wDe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||bDe;return e===r}var jDe=wDe;function NDe(e,t){return function(r){return e(t(r))}}var gZ=NDe,SDe=gZ,kDe=SDe(Object.keys,Object),CDe=kDe,ADe=jDe,EDe=CDe,PDe=Object.prototype,TDe=PDe.hasOwnProperty;function _De(e){if(!ADe(e))return EDe(e);var t=[];for(var r in Object(e))TDe.call(e,r)&&r!="constructor"&&t.push(r);return t}var DDe=_De,ODe=fR,IDe=OR;function RDe(e){return e!=null&&IDe(e.length)&&!ODe(e)}var ej=RDe,FDe=yDe,MDe=DDe,LDe=ej;function $De(e){return LDe(e)?FDe(e):MDe(e)}var RC=$De,BDe=t5e,UDe=u5e,VDe=RC;function zDe(e){return BDe(e,VDe,UDe)}var WDe=zDe,gB=WDe,HDe=1,qDe=Object.prototype,GDe=qDe.hasOwnProperty;function KDe(e,t,r,a,n,i){var o=r&HDe,l=gB(e),c=l.length,d=gB(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in t:GDe.call(t,m)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var x=!0;i.set(e,t),i.set(t,e);for(var y=o;++h<c;){m=l[h];var w=e[m],b=t[m];if(a)var v=o?a(b,w,m,t,e,i):a(w,b,m,e,t,i);if(!(v===void 0?w===b||n(w,b,r,a,i):v)){x=!1;break}y||(y=m=="constructor")}if(x&&!y){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(x=!1)}return i.delete(e),i.delete(t),x}var YDe=KDe,XDe=jp,QDe=$d,JDe=XDe(QDe,"DataView"),ZDe=JDe,eOe=jp,tOe=$d,rOe=eOe(tOe,"Promise"),sOe=rOe,aOe=jp,nOe=$d,iOe=aOe(nOe,"Set"),vZ=iOe,oOe=jp,lOe=$d,cOe=oOe(lOe,"WeakMap"),dOe=cOe,K_=ZDe,Y_=xR,X_=sOe,Q_=vZ,J_=dOe,yZ=Fu,$0=kJ,vB="[object Map]",uOe="[object Object]",yB="[object Promise]",bB="[object Set]",wB="[object WeakMap]",jB="[object DataView]",hOe=$0(K_),mOe=$0(Y_),fOe=$0(X_),pOe=$0(Q_),xOe=$0(J_),sf=yZ;(K_&&sf(new K_(new ArrayBuffer(1)))!=jB||Y_&&sf(new Y_)!=vB||X_&&sf(X_.resolve())!=yB||Q_&&sf(new Q_)!=bB||J_&&sf(new J_)!=wB)&&(sf=function(e){var t=yZ(e),r=t==uOe?e.constructor:void 0,a=r?$0(r):"";if(a)switch(a){case hOe:return jB;case mOe:return vB;case fOe:return yB;case pOe:return bB;case xOe:return wB}return t});var gOe=sf,NP=oZ,vOe=uZ,yOe=X_e,bOe=YDe,NB=gOe,SB=Go,kB=fZ,wOe=xZ,jOe=1,CB="[object Arguments]",AB="[object Array]",w1="[object Object]",NOe=Object.prototype,EB=NOe.hasOwnProperty;function SOe(e,t,r,a,n,i){var o=SB(e),l=SB(t),c=o?AB:NB(e),d=l?AB:NB(t);c=c==CB?w1:c,d=d==CB?w1:d;var u=c==w1,h=d==w1,m=c==d;if(m&&kB(e)){if(!kB(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new NP),o||wOe(e)?vOe(e,t,r,a,n,i):yOe(e,t,c,r,a,n,i);if(!(r&jOe)){var p=u&&EB.call(e,"__wrapped__"),g=h&&EB.call(t,"__wrapped__");if(p||g){var x=p?e.value():e,y=g?t.value():t;return i||(i=new NP),n(x,y,r,a,i)}}return m?(i||(i=new NP),bOe(e,t,r,a,n,i)):!1}var kOe=SOe,COe=kOe,PB=Mu;function bZ(e,t,r,a,n){return e===t?!0:e==null||t==null||!PB(e)&&!PB(t)?e!==e&&t!==t:COe(e,t,r,a,bZ,n)}var IR=bZ,AOe=oZ,EOe=IR,POe=1,TOe=2;function _Oe(e,t,r,a){var n=r.length,i=n,o=!a;if(e==null)return!i;for(e=Object(e);n--;){var l=r[n];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<i;){l=r[n];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new AOe;if(a)var m=a(d,u,c,e,t,h);if(!(m===void 0?EOe(u,d,POe|TOe,a,h):m))return!1}}return!0}var DOe=_Oe,OOe=Pm;function IOe(e){return e===e&&!OOe(e)}var wZ=IOe,ROe=wZ,FOe=RC;function MOe(e){for(var t=FOe(e),r=t.length;r--;){var a=t[r],n=e[a];t[r]=[a,n,ROe(n)]}return t}var LOe=MOe;function $Oe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jZ=$Oe,BOe=DOe,UOe=LOe,VOe=jZ;function zOe(e){var t=UOe(e);return t.length==1&&t[0][2]?VOe(t[0][0],t[0][1]):function(r){return r===e||BOe(r,e,t)}}var WOe=zOe;function HOe(e,t){return e!=null&&t in Object(e)}var qOe=HOe,GOe=TJ,KOe=_R,YOe=Go,XOe=DR,QOe=OR,JOe=bC;function ZOe(e,t,r){t=GOe(t,e);for(var a=-1,n=t.length,i=!1;++a<n;){var o=JOe(t[a]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&QOe(n)&&XOe(o,n)&&(YOe(e)||KOe(e)))}var eIe=ZOe,tIe=qOe,rIe=eIe;function sIe(e,t){return e!=null&&rIe(e,t,tIe)}var aIe=sIe,nIe=IR,iIe=_J,oIe=aIe,lIe=mR,cIe=wZ,dIe=jZ,uIe=bC,hIe=1,mIe=2;function fIe(e,t){return lIe(e)&&cIe(t)?dIe(uIe(e),t):function(r){var a=iIe(r,e);return a===void 0&&a===t?oIe(r,e):nIe(t,a,hIe|mIe)}}var pIe=fIe;function xIe(e){return e}var B0=xIe;function gIe(e){return function(t){return t==null?void 0:t[e]}}var vIe=gIe,yIe=bR;function bIe(e){return function(t){return yIe(t,e)}}var wIe=bIe,jIe=vIe,NIe=wIe,SIe=mR,kIe=bC;function CIe(e){return SIe(e)?jIe(kIe(e)):NIe(e)}var AIe=CIe,EIe=WOe,PIe=pIe,TIe=B0,_Ie=Go,DIe=AIe;function OIe(e){return typeof e=="function"?e:e==null?TIe:typeof e=="object"?_Ie(e)?PIe(e[0],e[1]):EIe(e):DIe(e)}var Bd=OIe;function IIe(e,t,r,a){for(var n=e.length,i=r+(a?1:-1);a?i--:++i<n;)if(t(e[i],i,e))return i;return-1}var NZ=IIe;function RIe(e){return e!==e}var FIe=RIe;function MIe(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}var LIe=MIe,$Ie=NZ,BIe=FIe,UIe=LIe;function VIe(e,t,r){return t===t?UIe(e,t,r):$Ie(e,BIe,r)}var zIe=VIe,WIe=zIe;function HIe(e,t){var r=e==null?0:e.length;return!!r&&WIe(e,t,0)>-1}var qIe=HIe;function GIe(e,t,r){for(var a=-1,n=e==null?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}var KIe=GIe;function YIe(){}var XIe=YIe,SP=vZ,QIe=XIe,JIe=TR,ZIe=1/0,eRe=SP&&1/JIe(new SP([,-0]))[1]==ZIe?function(e){return new SP(e)}:QIe,tRe=eRe,rRe=lZ,sRe=qIe,aRe=KIe,nRe=dZ,iRe=tRe,oRe=TR,lRe=200;function cRe(e,t,r){var a=-1,n=sRe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,n=aRe;else if(i>=lRe){var d=t?null:iRe(e);if(d)return oRe(d);o=!1,n=nRe,c=new rRe}else c=t?[]:l;e:for(;++a<i;){var u=e[a],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(u)}else n(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var dRe=cRe,uRe=Bd,hRe=dRe;function mRe(e,t){return e&&e.length?hRe(e,uRe(t)):[]}var fRe=mRe;const TB=qs(fRe);function SZ(e,t,r){return t===!0?TB(e,r):Rr(t)?TB(e,t):e}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}var pRe=["ref"];function _B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(r),!0).forEach(function(a){FC(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DB(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,CZ(a.key),a)}}function gRe(e,t,r){return t&&DB(e.prototype,t),r&&DB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vRe(e,t,r){return t=Y2(t),yRe(e,kZ()?Reflect.construct(t,r||[],Y2(e).constructor):t.apply(e,r))}function yRe(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bRe(e)}function bRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!e})()}function Y2(e){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y2(e)}function wRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Z_(e,t)}function FC(e,t,r){return t=CZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=jRe(e,"string");return Rg(t)=="symbol"?t:t+""}function jRe(e,t){if(Rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NRe(e,t){if(e==null)return{};var r=SRe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function SRe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function kRe(e){return e.value}function CRe(e,t){if(ae.isValidElement(e))return ae.cloneElement(e,t);if(typeof e=="function")return ae.createElement(e,t);t.ref;var r=NRe(t,pRe);return ae.createElement(PR,r)}var OB=1,Gx=function(e){function t(){var r;xRe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=vRe(this,t,[].concat(n)),FC(r,"lastBoundingBox",{width:-1,height:-1}),r}return wRe(t,e),gRe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>OB||Math.abs(n.height-this.lastBoundingBox.height)>OB)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,i=n.layout,o=n.align,l=n.verticalAlign,c=n.margin,d=n.chartWidth,u=n.chartHeight,h,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((u||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Kd(Kd({},h),m)}},{key:"render",value:function(){var a=this,n=this.props,i=n.content,o=n.width,l=n.height,c=n.wrapperStyle,d=n.payloadUniqBy,u=n.payload,h=Kd(Kd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){a.wrapperNode=p}},CRe(i,Kd(Kd({},this.props),{},{payload:SZ(u,d,kRe)})))}}],[{key:"getWithHeight",value:function(a,n){var i=Kd(Kd({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&yt(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||n}:null}}])}(f.PureComponent);FC(Gx,"displayName","Legend");FC(Gx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var IB=Zw,ARe=_R,ERe=Go,RB=IB?IB.isConcatSpreadable:void 0;function PRe(e){return ERe(e)||ARe(e)||!!(RB&&e&&e[RB])}var TRe=PRe,_Re=hZ,DRe=TRe;function AZ(e,t,r,a,n){var i=-1,o=e.length;for(r||(r=DRe),n||(n=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?AZ(l,t-1,r,a,n):_Re(n,l):a||(n[n.length]=l)}return n}var EZ=AZ;function ORe(e){return function(t,r,a){for(var n=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++n];if(r(i[c],c,i)===!1)break}return t}}var IRe=ORe,RRe=IRe,FRe=RRe(),MRe=FRe,LRe=MRe,$Re=RC;function BRe(e,t){return e&&LRe(e,t,$Re)}var PZ=BRe,URe=ej;function VRe(e,t){return function(r,a){if(r==null)return r;if(!URe(r))return e(r,a);for(var n=r.length,i=t?n:-1,o=Object(r);(t?i--:++i<n)&&a(o[i],i,o)!==!1;);return r}}var zRe=VRe,WRe=PZ,HRe=zRe,qRe=HRe(WRe),RR=qRe,GRe=RR,KRe=ej;function YRe(e,t){var r=-1,a=KRe(e)?Array(e.length):[];return GRe(e,function(n,i,o){a[++r]=t(n,i,o)}),a}var TZ=YRe;function XRe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var QRe=XRe,FB=_0;function JRe(e,t){if(e!==t){var r=e!==void 0,a=e===null,n=e===e,i=FB(e),o=t!==void 0,l=t===null,c=t===t,d=FB(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!n)return 1;if(!a&&!i&&!d&&e<t||d&&r&&n&&!a&&!i||l&&r&&n||!o&&n||!c)return-1}return 0}var ZRe=JRe,e3e=ZRe;function t3e(e,t,r){for(var a=-1,n=e.criteria,i=t.criteria,o=n.length,l=r.length;++a<o;){var c=e3e(n[a],i[a]);if(c){if(a>=l)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var r3e=t3e,kP=yR,s3e=bR,a3e=Bd,n3e=TZ,i3e=QRe,o3e=pZ,l3e=r3e,c3e=B0,d3e=Go;function u3e(e,t,r){t.length?t=kP(t,function(i){return d3e(i)?function(o){return s3e(o,i.length===1?i[0]:i)}:i}):t=[c3e];var a=-1;t=kP(t,o3e(a3e));var n=n3e(e,function(i,o,l){var c=kP(t,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return i3e(n,function(i,o){return l3e(i,o,r)})}var h3e=u3e;function m3e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var f3e=m3e,p3e=f3e,MB=Math.max;function x3e(e,t,r){return t=MB(t===void 0?e.length-1:t,0),function(){for(var a=arguments,n=-1,i=MB(a.length-t,0),o=Array(i);++n<i;)o[n]=a[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=a[n];return l[t]=r(o),p3e(e,this,l)}}var g3e=x3e;function v3e(e){return function(){return e}}var y3e=v3e,b3e=jp,w3e=function(){try{var e=b3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_Z=w3e,j3e=y3e,LB=_Z,N3e=B0,S3e=LB?function(e,t){return LB(e,"toString",{configurable:!0,enumerable:!1,value:j3e(t),writable:!0})}:N3e,k3e=S3e,C3e=800,A3e=16,E3e=Date.now;function P3e(e){var t=0,r=0;return function(){var a=E3e(),n=A3e-(a-r);if(r=a,n>0){if(++t>=C3e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var T3e=P3e,_3e=k3e,D3e=T3e,O3e=D3e(_3e),I3e=O3e,R3e=B0,F3e=g3e,M3e=I3e;function L3e(e,t){return M3e(F3e(e,t,R3e),e+"")}var $3e=L3e,B3e=pR,U3e=ej,V3e=DR,z3e=Pm;function W3e(e,t,r){if(!z3e(r))return!1;var a=typeof t;return(a=="number"?U3e(r)&&V3e(t,r.length):a=="string"&&t in r)?B3e(r[t],e):!1}var MC=W3e,H3e=EZ,q3e=h3e,G3e=$3e,$B=MC,K3e=G3e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$B(e,t[0],t[1])?t=[]:r>2&&$B(t[0],t[1],t[2])&&(t=[t[0]]),q3e(e,H3e(t,1),[])}),Y3e=K3e;const FR=qs(Y3e);function Eb(e){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eb(e)}function e5(){return e5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e5.apply(this,arguments)}function X3e(e,t){return eFe(e)||Z3e(e,t)||J3e(e,t)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3e(e,t){if(e){if(typeof e=="string")return BB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BB(e,t)}}function BB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Z3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function eFe(e){if(Array.isArray(e))return e}function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(a){tFe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tFe(e,t,r){return t=rFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rFe(e){var t=sFe(e,"string");return Eb(t)=="symbol"?t:t+""}function sFe(e,t){if(Eb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Eb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aFe(e){return Array.isArray(e)&&qn(e[0])&&qn(e[1])?e.join(" ~ "):e}var nFe=function(t){var r=t.separator,a=r===void 0?" : ":r,n=t.contentStyle,i=n===void 0?{}:n,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,m=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,x=t.label,y=t.labelFormatter,w=t.accessibilityLayer,b=w===void 0?!1:w,v=function(){if(u&&u.length){var P={padding:0,margin:0},T=(m?FR(u,m):u).map(function(_,O){if(_.type==="none")return null;var F=CP({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},l),I=_.formatter||h||aFe,R=_.value,L=_.name,H=R,W=L;if(I&&H!=null&&W!=null){var M=I(R,L,_,O,u);if(Array.isArray(M)){var G=X3e(M,2);H=G[0],W=G[1]}else H=M}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:F},qn(W)?ae.createElement("span",{className:"recharts-tooltip-item-name"},W):null,qn(W)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},H),ae.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:P},T)}return null},N=CP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=CP({margin:0},d),k=!Qr(x),S=k?x:"",C=Xr("recharts-default-tooltip",p),A=Xr("recharts-tooltip-label",g);k&&y&&u!==void 0&&u!==null&&(S=y(x,u));var E=b?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",e5({className:C,style:N},E),ae.createElement("p",{className:A,style:j},ae.isValidElement(S)?S:"".concat(S)),v())};function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function j1(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=oFe(e,"string");return Pb(t)=="symbol"?t:t+""}function oFe(e,t){if(Pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Pb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv="recharts-tooltip-wrapper",lFe={visibility:"hidden"};function cFe(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Xr(Nv,j1(j1(j1(j1({},"".concat(Nv,"-right"),yt(r)&&t&&yt(t.x)&&r>=t.x),"".concat(Nv,"-left"),yt(r)&&t&&yt(t.x)&&r<t.x),"".concat(Nv,"-bottom"),yt(a)&&t&&yt(t.y)&&a>=t.y),"".concat(Nv,"-top"),yt(a)&&t&&yt(t.y)&&a<t.y))}function VB(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&yt(i[a]))return i[a];var u=r[a]-l-n,h=r[a]+n;if(t[a])return o[a]?u:h;if(o[a]){var m=u,p=c[a];return m<p?Math.max(h,c[a]):Math.max(u,c[a])}var g=h+l,x=c[a]+d;return g>x?Math.max(u,c[a]):Math.max(h,c[a])}function dFe(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uFe(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,n=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=VB({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=VB({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=dFe({translateX:u,translateY:h,useTranslate3d:l})):d=lFe,{cssProperties:d,cssClasses:cFe({translateX:u,translateY:h,coordinate:r})}}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function zB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function WB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(r),!0).forEach(function(a){r5(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mFe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OZ(a.key),a)}}function fFe(e,t,r){return t&&mFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pFe(e,t,r){return t=X2(t),xFe(e,DZ()?Reflect.construct(t,r||[],X2(e).constructor):t.apply(e,r))}function xFe(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(e)}function gFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DZ=function(){return!!e})()}function X2(e){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X2(e)}function vFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t5(e,t)}function t5(e,t){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},t5(e,t)}function r5(e,t,r){return t=OZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=yFe(e,"string");return Fg(t)=="symbol"?t:t+""}function yFe(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Fg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HB=1,bFe=function(e){function t(){var r;hFe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=pFe(this,t,[].concat(n)),r5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r5(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return vFe(t,e),fFe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>HB||Math.abs(a.height-this.state.lastBoundingBox.height)>HB)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.children,u=n.coordinate,h=n.hasPayload,m=n.isAnimationActive,p=n.offset,g=n.position,x=n.reverseDirection,y=n.useTranslate3d,w=n.viewBox,b=n.wrapperStyle,v=uFe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),N=v.cssClasses,j=v.cssProperties,k=WB(WB({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return ae.createElement("div",{tabIndex:-1,className:N,style:k,ref:function(C){a.wrapperNode=C}},d)}}])}(f.PureComponent),wFe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ed={isSsr:wFe(),get:function(t){return Ed[t]},set:function(t,r){if(typeof t=="string")Ed[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(n){Ed[n]=t[n]})}}};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function qB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(r),!0).forEach(function(a){MR(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NFe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,RZ(a.key),a)}}function SFe(e,t,r){return t&&NFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kFe(e,t,r){return t=Q2(t),CFe(e,IZ()?Reflect.construct(t,r||[],Q2(e).constructor):t.apply(e,r))}function CFe(e,t){if(t&&(Mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AFe(e)}function AFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IZ=function(){return!!e})()}function Q2(e){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q2(e)}function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s5(e,t)}function s5(e,t){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},s5(e,t)}function MR(e,t,r){return t=RZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RZ(e){var t=PFe(e,"string");return Mg(t)=="symbol"?t:t+""}function PFe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TFe(e){return e.dataKey}function _Fe(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(nFe,t)}var _l=function(e){function t(){return jFe(this,t),kFe(this,t,arguments)}return EFe(t,e),SFe(t,[{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.content,u=n.coordinate,h=n.filterNull,m=n.isAnimationActive,p=n.offset,g=n.payload,x=n.payloadUniqBy,y=n.position,w=n.reverseDirection,b=n.useTranslate3d,v=n.viewBox,N=n.wrapperStyle,j=g??[];h&&j.length&&(j=SZ(g.filter(function(S){return S.value!=null&&(S.hide!==!0||a.props.includeHidden)}),x,TFe));var k=j.length>0;return ae.createElement(bFe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:k,offset:p,position:y,reverseDirection:w,useTranslate3d:b,viewBox:v,wrapperStyle:N},_Fe(d,GB(GB({},this.props),{},{payload:j})))}}])}(f.PureComponent);MR(_l,"displayName","Tooltip");MR(_l,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ed.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var DFe=$d,OFe=function(){return DFe.Date.now()},IFe=OFe,RFe=/\s/;function FFe(e){for(var t=e.length;t--&&RFe.test(e.charAt(t)););return t}var MFe=FFe,LFe=MFe,$Fe=/^\s+/;function BFe(e){return e&&e.slice(0,LFe(e)+1).replace($Fe,"")}var UFe=BFe,VFe=UFe,KB=Pm,zFe=_0,YB=NaN,WFe=/^[-+]0x[0-9a-f]+$/i,HFe=/^0b[01]+$/i,qFe=/^0o[0-7]+$/i,GFe=parseInt;function KFe(e){if(typeof e=="number")return e;if(zFe(e))return YB;if(KB(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KB(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VFe(e);var r=HFe.test(e);return r||qFe.test(e)?GFe(e.slice(2),r?2:8):WFe.test(e)?YB:+e}var FZ=KFe,YFe=Pm,AP=IFe,XB=FZ,XFe="Expected a function",QFe=Math.max,JFe=Math.min;function ZFe(e,t,r){var a,n,i,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(XFe);t=XB(t)||0,YFe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?QFe(XB(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function p(k){var S=a,C=n;return a=n=void 0,d=k,o=e.apply(C,S),o}function g(k){return d=k,l=setTimeout(w,t),u?p(k):o}function x(k){var S=k-c,C=k-d,A=t-S;return h?JFe(A,i-C):A}function y(k){var S=k-c,C=k-d;return c===void 0||S>=t||S<0||h&&C>=i}function w(){var k=AP();if(y(k))return b(k);l=setTimeout(w,x(k))}function b(k){return l=void 0,m&&a?p(k):(a=n=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,a=c=n=l=void 0}function N(){return l===void 0?o:b(AP())}function j(){var k=AP(),S=y(k);if(a=arguments,n=this,c=k,S){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(w,t),p(c)}return l===void 0&&(l=setTimeout(w,t)),o}return j.cancel=v,j.flush=N,j}var eMe=ZFe,tMe=eMe,rMe=Pm,sMe="Expected a function";function aMe(e,t,r){var a=!0,n=!0;if(typeof e!="function")throw new TypeError(sMe);return rMe(r)&&(a="leading"in r?!!r.leading:a,n="trailing"in r?!!r.trailing:n),tMe(e,t,{leading:a,maxWait:t,trailing:n})}var nMe=aMe;const MZ=qs(nMe);function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}function QB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(r),!0).forEach(function(a){iMe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iMe(e,t,r){return t=oMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oMe(e){var t=lMe(e,"string");return Tb(t)=="symbol"?t:t+""}function lMe(e,t){if(Tb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Tb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cMe(e,t){return mMe(e)||hMe(e,t)||uMe(e,t)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(e,t){if(e){if(typeof e=="string")return JB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JB(e,t)}}function JB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function mMe(e){if(Array.isArray(e))return e}var a5=f.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,n=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,p=e.children,g=e.debounce,x=g===void 0?0:g,y=e.id,w=e.className,b=e.onResize,v=e.style,N=v===void 0?{}:v,j=f.useRef(null),k=f.useRef();k.current=b,f.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=f.useState({containerWidth:n.width,containerHeight:n.height}),C=cMe(S,2),A=C[0],E=C[1],D=f.useCallback(function(T,_){E(function(O){var F=Math.round(T),I=Math.round(_);return O.containerWidth===F&&O.containerHeight===I?O:{containerWidth:F,containerHeight:I}})},[]);f.useEffect(function(){var T=function(L){var H,W=L[0].contentRect,M=W.width,G=W.height;D(M,G),(H=k.current)===null||H===void 0||H.call(k,M,G)};x>0&&(T=MZ(T,x,{trailing:!0,leading:!1}));var _=new ResizeObserver(T),O=j.current.getBoundingClientRect(),F=O.width,I=O.height;return D(F,I),_.observe(j.current),function(){_.disconnect()}},[D,x]);var P=f.useMemo(function(){var T=A.containerWidth,_=A.containerHeight;if(T<0||_<0)return null;Rc(gf(o)||gf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Rc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=gf(o)?T:o,F=gf(c)?_:c;r&&r>0&&(O?F=O/r:F&&(O=F*r),m&&F>m&&(F=m)),Rc(O>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,F,o,c,u,h,r);var I=!Array.isArray(p)&&uu(p.type).endsWith("Chart");return ae.Children.map(p,function(R){return ae.isValidElement(R)?f.cloneElement(R,N1({width:O,height:F},I?{style:N1({height:"100%",width:"100%",maxHeight:F,maxWidth:O},R.props.style)}:{})):R})},[r,p,c,m,h,u,A,o]);return ae.createElement("div",{id:y?"".concat(y):void 0,className:Xr("recharts-responsive-container",w),style:N1(N1({},N),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:j},P)}),LC=function(t){return null};LC.displayName="Cell";function _b(e){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(e)}function ZB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function n5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(r),!0).forEach(function(a){fMe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fMe(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=xMe(e,"string");return _b(t)=="symbol"?t:t+""}function xMe(e,t){if(_b(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(_b(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp={widthCache:{},cacheCount:0},gMe=2e3,vMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e9="recharts_measurement_span";function yMe(e){var t=n5({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ay=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ed.isSsr)return{width:0,height:0};var a=yMe(r),n=JSON.stringify({text:t,copyStyle:a});if(Kp.widthCache[n])return Kp.widthCache[n];try{var i=document.getElementById(e9);i||(i=document.createElement("span"),i.setAttribute("id",e9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=n5(n5({},vMe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Kp.widthCache[n]=c,++Kp.cacheCount>gMe&&(Kp.cacheCount=0,Kp.widthCache={}),c}catch{return{width:0,height:0}}},bMe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function J2(e,t){return SMe(e)||NMe(e,t)||jMe(e,t)||wMe()}function wMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jMe(e,t){if(e){if(typeof e=="string")return t9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t9(e,t)}}function t9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function NMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function SMe(e){if(Array.isArray(e))return e}function kMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r9(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AMe(a.key),a)}}function CMe(e,t,r){return t&&r9(e.prototype,t),r&&r9(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AMe(e){var t=EMe(e,"string");return Db(t)=="symbol"?t:t+""}function EMe(e,t){if(Db(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Db(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var s9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Me=Object.keys(LZ),Ex="NaN";function DMe(e,t){return e*LZ[t]}var S1=function(){function e(t,r){kMe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!PMe.test(r)&&(this.num=NaN,this.unit=""),_Me.includes(r)&&(this.num=DMe(t,r),this.unit="px")}return CMe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,n=(a=TMe.exec(r))!==null&&a!==void 0?a:[],i=J2(n,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function $Z(e){if(e.includes(Ex))return Ex;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=s9.exec(t))!==null&&r!==void 0?r:[],n=J2(a,4),i=n[1],o=n[2],l=n[3],c=S1.parse(i??""),d=S1.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Ex;t=t.replace(s9,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=a9.exec(t))!==null&&h!==void 0?h:[],p=J2(m,4),g=p[1],x=p[2],y=p[3],w=S1.parse(g??""),b=S1.parse(y??""),v=x==="+"?w.add(b):w.subtract(b);if(v.isNaN())return Ex;t=t.replace(a9,v.toString())}return t}var n9=/\(([^()]*)\)/;function OMe(e){for(var t=e;t.includes("(");){var r=n9.exec(t),a=J2(r,2),n=a[1];t=t.replace(n9,$Z(n))}return t}function IMe(e){var t=e.replace(/\s+/g,"");return t=OMe(t),t=$Z(t),t}function RMe(e){try{return IMe(e)}catch{return Ex}}function EP(e){var t=RMe(e.slice(5,-1));return t===Ex?"":t}var FMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MMe=["dx","dy","angle","className","breakAll"];function i5(){return i5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i5.apply(this,arguments)}function i9(e,t){if(e==null)return{};var r=LMe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function LMe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function o9(e,t){return VMe(e)||UMe(e,t)||BMe(e,t)||$Me()}function $Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BMe(e,t){if(e){if(typeof e=="string")return l9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l9(e,t)}}function l9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function UMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function VMe(e){if(Array.isArray(e))return e}var BZ=/[ \f\n\r\t\v\u2028\u2029]+/,UZ=function(t){var r=t.children,a=t.breakAll,n=t.style;try{var i=[];Qr(r)||(a?i=r.toString().split(""):i=r.toString().split(BZ));var o=i.map(function(c){return{word:c,width:Ay(c,n).width}}),l=a?0:Ay("",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},zMe=function(t,r,a,n,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=yt(o),h=l,m=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce(function(F,I){var R=I.word,L=I.width,H=F[F.length-1];if(H&&(n==null||i||H.width+L+a<Number(n)))H.words.push(R),H.width+=L+a;else{var W={words:[R],width:L};F.push(W)}return F},[])},p=m(r),g=function(O){return O.reduce(function(F,I){return F.width>I.width?F:I})};if(!u)return p;for(var x="",y=function(O){var F=h.slice(0,O),I=UZ({breakAll:d,style:c,children:F+x}).wordsWithComputedWidth,R=m(I),L=R.length>o||g(R).width>Number(n);return[L,R]},w=0,b=h.length-1,v=0,N;w<=b&&v<=h.length-1;){var j=Math.floor((w+b)/2),k=j-1,S=y(k),C=o9(S,2),A=C[0],E=C[1],D=y(j),P=o9(D,1),T=P[0];if(!A&&!T&&(w=j+1),A&&T&&(b=j-1),!A&&T){N=E;break}v++}return N||p},c9=function(t){var r=Qr(t)?[]:t.toString().split(BZ);return[{words:r}]},WMe=function(t){var r=t.width,a=t.scaleToFit,n=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!Ed.isSsr){var c,d,u=UZ({breakAll:o,children:n,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return c9(n);return zMe({breakAll:o,children:n,maxLines:l,style:i},c,d,r,a)}return c9(n)},d9="#808080",rp=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,i=n===void 0?0:n,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,m=t.textAnchor,p=m===void 0?"start":m,g=t.verticalAnchor,x=g===void 0?"end":g,y=t.fill,w=y===void 0?d9:y,b=i9(t,FMe),v=f.useMemo(function(){return WMe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),N=b.dx,j=b.dy,k=b.angle,S=b.className,C=b.breakAll,A=i9(b,MMe);if(!qn(a)||!qn(i))return null;var E=a+(yt(N)?N:0),D=i+(yt(j)?j:0),P;switch(x){case"start":P=EP("calc(".concat(d,")"));break;case"middle":P=EP("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=EP("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[];if(h){var _=v[0].width,O=b.width;T.push("scale(".concat((yt(O)?O/_:1)/_,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(D,")")),T.length&&(A.transform=T.join(" ")),ae.createElement("text",i5({},wr(A,!0),{x:E,y:D,className:Xr("recharts-text",S),textAnchor:p,fill:w.includes("url")?d9:w}),v.map(function(F,I){var R=F.words.join(C?"":" ");return ae.createElement("tspan",{x:E,dy:I===0?P:l,key:"".concat(R,"-").concat(I)},R)}))};function Yh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HMe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LR(e){let t,r,a;e.length!==2?(t=Yh,r=(l,c)=>Yh(e(l),c),a=(l,c)=>e(l)-c):(t=e===Yh||e===HMe?e:qMe,r=e,a=e);function n(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=n(l,c,d,u-1);return h>d&&a(l[h-1],c)>-a(l[h],c)?h-1:h}return{left:n,center:o,right:i}}function qMe(){return 0}function VZ(e){return e===null?NaN:+e}function*GMe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const KMe=LR(Yh),tj=KMe.right;LR(VZ).center;class u9 extends Map{constructor(t,r=QMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(h9(this,t))}has(t){return super.has(h9(this,t))}set(t,r){return super.set(YMe(this,t),r)}delete(t){return super.delete(XMe(this,t))}}function h9({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function YMe({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function XMe({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function QMe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JMe(e=Yh){if(e===Yh)return zZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function zZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ZMe=Math.sqrt(50),eLe=Math.sqrt(10),tLe=Math.sqrt(2);function Z2(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=ZMe?10:i>=eLe?5:i>=tLe?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Z2(e,t,r*2):[l,c,d]}function o5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,o]=a?Z2(t,e,r):Z2(e,t,r);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function l5(e,t,r){return t=+t,e=+e,r=+r,Z2(e,t,r)[2]}function c5(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?l5(t,e,r):l5(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function m9(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function f9(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function WZ(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?zZ:JMe(n);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*h/c+m)),g=Math.min(a,Math.floor(t+(c-d)*h/c+m));WZ(e,t,p,g,n)}const i=e[t];let o=r,l=a;for(Sv(e,r,t),n(e[a],i)>0&&Sv(e,r,a);o<l;){for(Sv(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[r],i)===0?Sv(e,r,l):(++l,Sv(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function Sv(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function rLe(e,t,r){if(e=Float64Array.from(GMe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return f9(e);if(t>=1)return m9(e);var a,n=(a-1)*t,i=Math.floor(n),o=m9(WZ(e,i).subarray(0,i+1)),l=f9(e.subarray(i+1));return o+(l-o)*(n-i)}}function sLe(e,t,r=VZ){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function aLe(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function rc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const d5=Symbol("implicit");function $R(){var e=new u9,t=[],r=[],a=d5;function n(i){let o=e.get(i);if(o===void 0){if(a!==d5)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new u9;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return $R(t,r).unknown(a)},rc.apply(n,arguments),n}function Ob(){var e=$R().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,p=n<a,g=p?n:a,x=p?a:n;i=(x-g)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),g+=(x-g-i*(m-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=aLe(m).map(function(w){return g+i*w});return r(p?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([a,n]=m,a=+a,n=+n,h()):[a,n]},e.rangeRound=function(m){return[a,n]=m,a=+a,n=+n,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return Ob(t(),[a,n]).round(l).paddingInner(c).paddingOuter(d).align(u)},rc.apply(h(),arguments)}function HZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return HZ(t())},e}function Ey(){return HZ(Ob.apply(null,arguments).paddingInner(1))}function BR(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function qZ(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function rj(){}var Ib=.7,eS=1/Ib,Kx="\\s*([+-]?\\d+)\\s*",Rb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nLe=/^#([0-9a-f]{3,8})$/,iLe=new RegExp(`^rgb\\(${Kx},${Kx},${Kx}\\)$`),oLe=new RegExp(`^rgb\\(${Pd},${Pd},${Pd}\\)$`),lLe=new RegExp(`^rgba\\(${Kx},${Kx},${Kx},${Rb}\\)$`),cLe=new RegExp(`^rgba\\(${Pd},${Pd},${Pd},${Rb}\\)$`),dLe=new RegExp(`^hsl\\(${Rb},${Pd},${Pd}\\)$`),uLe=new RegExp(`^hsla\\(${Rb},${Pd},${Pd},${Rb}\\)$`),p9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BR(rj,Fb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:x9,formatHex:x9,formatHex8:hLe,formatHsl:mLe,formatRgb:g9,toString:g9});function x9(){return this.rgb().formatHex()}function hLe(){return this.rgb().formatHex8()}function mLe(){return GZ(this).formatHsl()}function g9(){return this.rgb().formatRgb()}function Fb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nLe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?v9(t):r===3?new Fo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?k1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?k1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iLe.exec(e))?new Fo(t[1],t[2],t[3],1):(t=oLe.exec(e))?new Fo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lLe.exec(e))?k1(t[1],t[2],t[3],t[4]):(t=cLe.exec(e))?k1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dLe.exec(e))?w9(t[1],t[2]/100,t[3]/100,1):(t=uLe.exec(e))?w9(t[1],t[2]/100,t[3]/100,t[4]):p9.hasOwnProperty(e)?v9(p9[e]):e==="transparent"?new Fo(NaN,NaN,NaN,0):null}function v9(e){return new Fo(e>>16&255,e>>8&255,e&255,1)}function k1(e,t,r,a){return a<=0&&(e=t=r=NaN),new Fo(e,t,r,a)}function fLe(e){return e instanceof rj||(e=Fb(e)),e?(e=e.rgb(),new Fo(e.r,e.g,e.b,e.opacity)):new Fo}function u5(e,t,r,a){return arguments.length===1?fLe(e):new Fo(e,t,r,a??1)}function Fo(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}BR(Fo,u5,qZ(rj,{brighter(e){return e=e==null?eS:Math.pow(eS,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ib:Math.pow(Ib,e),new Fo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fo(If(this.r),If(this.g),If(this.b),tS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y9,formatHex:y9,formatHex8:pLe,formatRgb:b9,toString:b9}));function y9(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}`}function pLe(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}${vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function b9(){const e=tS(this.opacity);return`${e===1?"rgb(":"rgba("}${If(this.r)}, ${If(this.g)}, ${If(this.b)}${e===1?")":`, ${e})`}`}function tS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function If(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vf(e){return e=If(e),(e<16?"0":"")+e.toString(16)}function w9(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pc(e,t,r,a)}function GZ(e){if(e instanceof Pc)return new Pc(e.h,e.s,e.l,e.opacity);if(e instanceof rj||(e=Fb(e)),!e)return new Pc;if(e instanceof Pc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-n,c=(i+n)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new Pc(o,l,c,e.opacity)}function xLe(e,t,r,a){return arguments.length===1?GZ(e):new Pc(e,t,r,a??1)}function Pc(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}BR(Pc,xLe,qZ(rj,{brighter(e){return e=e==null?eS:Math.pow(eS,e),new Pc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ib:Math.pow(Ib,e),new Pc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Fo(PP(e>=240?e-240:e+120,n,a),PP(e,n,a),PP(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Pc(j9(this.h),C1(this.s),C1(this.l),tS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tS(this.opacity);return`${e===1?"hsl(":"hsla("}${j9(this.h)}, ${C1(this.s)*100}%, ${C1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j9(e){return e=(e||0)%360,e<0?e+360:e}function C1(e){return Math.max(0,Math.min(1,e||0))}function PP(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UR=e=>()=>e;function gLe(e,t){return function(r){return e+r*t}}function vLe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function yLe(e){return(e=+e)==1?KZ:function(t,r){return r-t?vLe(t,r,e):UR(isNaN(t)?r:t)}}function KZ(e,t){var r=t-e;return r?gLe(e,r):UR(isNaN(e)?t:e)}const N9=function e(t){var r=yLe(t);function a(n,i){var o=r((n=u5(n)).r,(i=u5(i)).r),l=r(n.g,i.g),c=r(n.b,i.b),d=KZ(n.opacity,i.opacity);return function(u){return n.r=o(u),n.g=l(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=e,a}(1);function bLe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function wLe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jLe(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)n[o]=U0(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function NLe(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function rS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SLe(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=U0(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var h5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TP=new RegExp(h5.source,"g");function kLe(e){return function(){return e}}function CLe(e){return function(t){return e(t)+""}}function ALe(e,t){var r=h5.lastIndex=TP.lastIndex=0,a,n,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=h5.exec(e))&&(n=TP.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:rS(a,n)})),r=TP.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?CLe(c[0].x):kLe(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function U0(e,t){var r=typeof t,a;return t==null||r==="boolean"?UR(t):(r==="number"?rS:r==="string"?(a=Fb(t))?(t=a,N9):ALe:t instanceof Fb?N9:t instanceof Date?NLe:wLe(t)?bLe:Array.isArray(t)?jLe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SLe:rS)(e,t)}function VR(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ELe(e,t){t===void 0&&(t=e,e=U0);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function PLe(e){return function(){return e}}function sS(e){return+e}var S9=[0,1];function co(e){return e}function m5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:PLe(isNaN(t)?NaN:.5)}function TLe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function _Le(e,t,r){var a=e[0],n=e[1],i=t[0],o=t[1];return n<a?(a=m5(n,a),i=r(o,i)):(a=m5(a,n),i=r(i,o)),function(l){return i(a(l))}}function DLe(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)n[o]=m5(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=tj(e,l,1,a)-1;return i[c](n[c](l))}}function sj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $C(){var e=S9,t=S9,r=U0,a,n,i,o=co,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==co&&(o=TLe(e[0],e[m-1])),l=m>2?DLe:_Le,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(a),t,r)))(a(o(m)))}return h.invert=function(m){return o(n((d||(d=l(t,e.map(a),rS)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,sS),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=VR,u()},h.clamp=function(m){return arguments.length?(o=m?!0:co,u()):o!==co},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return a=m,n=p,u()}}function zR(){return $C()(co,co)}function OLe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function aS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Lg(e){return e=aS(Math.abs(e)),e?e[1]:NaN}function ILe(e,t){return function(r,a){for(var n=r.length,i=[],o=0,l=e[0],c=0;n>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(n-=l,n+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function RLe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var FLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mb(e){if(!(t=FLe.exec(e)))throw new Error("invalid format: "+e);var t;return new WR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mb.prototype=WR.prototype;function WR(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MLe(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var YZ;function LLe(e,t){var r=aS(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(YZ=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+aS(e,Math.max(0,t+i-1))[0]}function k9(e,t){var r=aS(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const C9={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OLe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>k9(e*100,t),r:k9,s:LLe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function A9(e){return e}var E9=Array.prototype.map,P9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Le(e){var t=e.grouping===void 0||e.thousands===void 0?A9:ILe(E9.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?A9:RLe(E9.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Mb(h);var m=h.fill,p=h.align,g=h.sign,x=h.symbol,y=h.zero,w=h.width,b=h.comma,v=h.precision,N=h.trim,j=h.type;j==="n"?(b=!0,j="g"):C9[j]||(v===void 0&&(v=12),N=!0,j="g"),(y||m==="0"&&p==="=")&&(y=!0,m="0",p="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=x==="$"?a:/[%p]/.test(j)?o:"",C=C9[j],A=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function E(D){var P=k,T=S,_,O,F;if(j==="c")T=C(D)+T,D="";else{D=+D;var I=D<0||1/D<0;if(D=isNaN(D)?c:C(Math.abs(D),v),N&&(D=MLe(D)),I&&+D==0&&g!=="+"&&(I=!1),P=(I?g==="("?g:l:g==="-"||g==="("?"":g)+P,T=(j==="s"?P9[8+YZ/3]:"")+T+(I&&g==="("?")":""),A){for(_=-1,O=D.length;++_<O;)if(F=D.charCodeAt(_),48>F||F>57){T=(F===46?n+D.slice(_+1):D.slice(_))+T,D=D.slice(0,_);break}}}b&&!y&&(D=t(D,1/0));var R=P.length+D.length+T.length,L=R<w?new Array(w-R+1).join(m):"";switch(b&&y&&(D=t(L+D,L.length?w-T.length:1/0),L=""),p){case"<":D=P+D+T+L;break;case"=":D=P+L+D+T;break;case"^":D=L.slice(0,R=L.length>>1)+P+D+T+L.slice(R);break;default:D=L+P+D+T;break}return i(D)}return E.toString=function(){return h+""},E}function u(h,m){var p=d((h=Mb(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Lg(m)/3)))*3,x=Math.pow(10,-g),y=P9[8+g/3];return function(w){return p(x*w)+y}}return{format:d,formatPrefix:u}}var A1,HR,XZ;BLe({thousands:",",grouping:[3],currency:["$",""]});function BLe(e){return A1=$Le(e),HR=A1.format,XZ=A1.formatPrefix,A1}function ULe(e){return Math.max(0,-Lg(Math.abs(e)))}function VLe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lg(t)/3)))*3-Lg(Math.abs(e)))}function zLe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lg(t)-Lg(e))+1}function QZ(e,t,r,a){var n=c5(e,t,r),i;switch(a=Mb(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=VLe(n,o))&&(a.precision=i),XZ(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=zLe(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=ULe(n))&&(a.precision=i-(a.type==="%")*2);break}}return HR(a)}function Tm(e){var t=e.domain;return e.ticks=function(r){var a=t();return o5(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return QZ(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,o=a[n],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=n,n=i,i=d);u-- >0;){if(d=l5(o,l,r),d===c)return a[n]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function nS(){var e=zR();return e.copy=function(){return sj(e,nS())},rc.apply(e,arguments),Tm(e)}function JZ(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,sS),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return JZ(e).unknown(t)},e=arguments.length?Array.from(e,sS):[0,1],Tm(r)}function ZZ(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],o;return i<n&&(o=r,r=a,a=o,o=n,n=i,i=o),e[r]=t.floor(n),e[a]=t.ceil(i),e}function T9(e){return Math.log(e)}function _9(e){return Math.exp(e)}function WLe(e){return-Math.log(-e)}function HLe(e){return-Math.exp(-e)}function qLe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GLe(e){return e===10?qLe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function KLe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function D9(e){return(t,r)=>-e(-t,r)}function qR(e){const t=e(T9,_9),r=t.domain;let a=10,n,i;function o(){return n=KLe(a),i=GLe(a),r()[0]<0?(n=D9(n),i=D9(i),e(WLe,HLe)):e(T9,_9),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=n(d),p=n(u),g,x;const y=l==null?10:+l;let w=[];if(!(a%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(g=1;g<a;++g)if(x=m<0?g/i(-m):g*i(m),!(x<d)){if(x>u)break;w.push(x)}}else for(;m<=p;++m)for(g=a-1;g>=1;--g)if(x=m>0?g/i(-m):g*i(m),!(x<d)){if(x>u)break;w.push(x)}w.length*2<y&&(w=o5(d,u,y))}else w=o5(m,p,Math.min(p-m,y)).map(i);return h?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Mb(c)).precision==null&&(c.trim=!0),c=HR(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let h=u/i(Math.round(n(u)));return h*a<a-.5&&(h*=a),h<=d?c(u):""}},t.nice=()=>r(ZZ(r(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),t}function eee(){const e=qR($C()).domain([1,10]);return e.copy=()=>sj(e,eee()).base(e.base()),rc.apply(e,arguments),e}function O9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function I9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GR(e){var t=1,r=e(O9(t),I9(t));return r.constant=function(a){return arguments.length?e(O9(t=+a),I9(t)):t},Tm(r)}function tee(){var e=GR($C());return e.copy=function(){return sj(e,tee()).constant(e.constant())},rc.apply(e,arguments)}function R9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YLe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XLe(e){return e<0?-e*e:e*e}function KR(e){var t=e(co,co),r=1;function a(){return r===1?e(co,co):r===.5?e(YLe,XLe):e(R9(r),R9(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},Tm(t)}function YR(){var e=KR($C());return e.copy=function(){return sj(e,YR()).exponent(e.exponent())},rc.apply(e,arguments),e}function QLe(){return YR.apply(null,arguments).exponent(.5)}function F9(e){return Math.sign(e)*e*e}function JLe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ree(){var e=zR(),t=[0,1],r=!1,a;function n(i){var o=JLe(e(i));return isNaN(o)?a:r?Math.round(o):o}return n.invert=function(i){return e.invert(F9(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,sS)).map(F9)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return ree(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},rc.apply(n,arguments),Tm(n)}function see(){var e=[],t=[],r=[],a;function n(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=sLe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[tj(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Yh),n()},i.range=function(o){return arguments.length?(t=Array.from(o),n()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return see().domain(e).range(t).unknown(a)},rc.apply(i,arguments)}function aee(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[tj(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return aee().domain([e,t]).range(n).unknown(i)},rc.apply(Tm(o),arguments)}function nee(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[tj(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return nee().domain(e).range(t).unknown(r)},rc.apply(n,arguments)}const _P=new Date,DP=new Date;function Xn(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},n.filter=i=>Xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(n.count=(i,o)=>(_P.setTime(+i),DP.setTime(+o),e(_P),e(DP),Math.floor(r(_P,DP))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const iS=Xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iS);iS.range;const au=1e3,Ul=au*60,nu=Ul*60,Eu=nu*24,XR=Eu*7,M9=Eu*30,OP=Eu*365,yf=Xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*au)},(e,t)=>(t-e)/au,e=>e.getUTCSeconds());yf.range;const QR=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*au)},(e,t)=>{e.setTime(+e+t*Ul)},(e,t)=>(t-e)/Ul,e=>e.getMinutes());QR.range;const JR=Xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ul)},(e,t)=>(t-e)/Ul,e=>e.getUTCMinutes());JR.range;const ZR=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*au-e.getMinutes()*Ul)},(e,t)=>{e.setTime(+e+t*nu)},(e,t)=>(t-e)/nu,e=>e.getHours());ZR.range;const e3=Xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nu)},(e,t)=>(t-e)/nu,e=>e.getUTCHours());e3.range;const aj=Xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ul)/Eu,e=>e.getDate()-1);aj.range;const BC=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eu,e=>e.getUTCDate()-1);BC.range;const iee=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eu,e=>Math.floor(e/Eu));iee.range;function Np(e){return Xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ul)/XR)}const UC=Np(0),oS=Np(1),ZLe=Np(2),e6e=Np(3),$g=Np(4),t6e=Np(5),r6e=Np(6);UC.range;oS.range;ZLe.range;e6e.range;$g.range;t6e.range;r6e.range;function Sp(e){return Xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/XR)}const VC=Sp(0),lS=Sp(1),s6e=Sp(2),a6e=Sp(3),Bg=Sp(4),n6e=Sp(5),i6e=Sp(6);VC.range;lS.range;s6e.range;a6e.range;Bg.range;n6e.range;i6e.range;const t3=Xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());t3.range;const r3=Xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());r3.range;const Pu=Xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Pu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Pu.range;const Tu=Xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Tu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Tu.range;function oee(e,t,r,a,n,i){const o=[[yf,1,au],[yf,5,5*au],[yf,15,15*au],[yf,30,30*au],[i,1,Ul],[i,5,5*Ul],[i,15,15*Ul],[i,30,30*Ul],[n,1,nu],[n,3,3*nu],[n,6,6*nu],[n,12,12*nu],[a,1,Eu],[a,2,2*Eu],[r,1,XR],[t,1,M9],[t,3,3*M9],[e,1,OP]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const p=h&&typeof h.range=="function"?h:c(d,u,h),g=p?p.range(d,+u+1):[];return m?g.reverse():g}function c(d,u,h){const m=Math.abs(u-d)/h,p=LR(([,,y])=>y).right(o,m);if(p===o.length)return e.every(c5(d/OP,u/OP,h));if(p===0)return iS.every(Math.max(c5(d,u,h),1));const[g,x]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return g.every(x)}return[l,c]}const[o6e,l6e]=oee(Tu,r3,VC,iee,e3,JR),[c6e,d6e]=oee(Pu,t3,UC,aj,ZR,QR);function IP(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function RP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function u6e(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Cv(n),u=Av(n),h=Cv(i),m=Av(i),p=Cv(o),g=Av(o),x=Cv(l),y=Av(l),w=Cv(c),b=Av(c),v={a:I,A:R,b:L,B:H,c:null,d:z9,e:z9,f:I6e,g:W6e,G:q6e,H:_6e,I:D6e,j:O6e,L:lee,m:R6e,M:F6e,p:W,q:M,Q:q9,s:G9,S:M6e,u:L6e,U:$6e,V:B6e,w:U6e,W:V6e,x:null,X:null,y:z6e,Y:H6e,Z:G6e,"%":H9},N={a:G,A:V,b:q,B:Y,c:null,d:W9,e:W9,f:Q6e,g:o$e,G:c$e,H:K6e,I:Y6e,j:X6e,L:dee,m:J6e,M:Z6e,p:U,q:Z,Q:q9,s:G9,S:e$e,u:t$e,U:r$e,V:s$e,w:a$e,W:n$e,x:null,X:null,y:i$e,Y:l$e,Z:d$e,"%":H9},j={a:E,A:D,b:P,B:T,c:_,d:U9,e:U9,f:A6e,g:B9,G:$9,H:V9,I:V9,j:N6e,L:C6e,m:j6e,M:S6e,p:A,q:w6e,Q:P6e,s:T6e,S:k6e,u:x6e,U:g6e,V:v6e,w:p6e,W:y6e,x:O,X:F,y:B9,Y:$9,Z:b6e,"%":E6e};v.x=k(r,v),v.X=k(a,v),v.c=k(t,v),N.x=k(r,N),N.X=k(a,N),N.c=k(t,N);function k(J,K){return function(se){var B=[],Ne=-1,ye=0,Re=J.length,qe,He,fe;for(se instanceof Date||(se=new Date(+se));++Ne<Re;)J.charCodeAt(Ne)===37&&(B.push(J.slice(ye,Ne)),(He=L9[qe=J.charAt(++Ne)])!=null?qe=J.charAt(++Ne):He=qe==="e"?" ":"0",(fe=K[qe])&&(qe=fe(se,He)),B.push(qe),ye=Ne+1);return B.push(J.slice(ye,Ne)),B.join("")}}function S(J,K){return function(se){var B=kv(1900,void 0,1),Ne=C(B,J,se+="",0),ye,Re;if(Ne!=se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(K&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ye=RP(kv(B.y,0,1)),Re=ye.getUTCDay(),ye=Re>4||Re===0?lS.ceil(ye):lS(ye),ye=BC.offset(ye,(B.V-1)*7),B.y=ye.getUTCFullYear(),B.m=ye.getUTCMonth(),B.d=ye.getUTCDate()+(B.w+6)%7):(ye=IP(kv(B.y,0,1)),Re=ye.getDay(),ye=Re>4||Re===0?oS.ceil(ye):oS(ye),ye=aj.offset(ye,(B.V-1)*7),B.y=ye.getFullYear(),B.m=ye.getMonth(),B.d=ye.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Re="Z"in B?RP(kv(B.y,0,1)).getUTCDay():IP(kv(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Re+5)%7:B.w+B.U*7-(Re+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,RP(B)):IP(B)}}function C(J,K,se,B){for(var Ne=0,ye=K.length,Re=se.length,qe,He;Ne<ye;){if(B>=Re)return-1;if(qe=K.charCodeAt(Ne++),qe===37){if(qe=K.charAt(Ne++),He=j[qe in L9?K.charAt(Ne++):qe],!He||(B=He(J,se,B))<0)return-1}else if(qe!=se.charCodeAt(B++))return-1}return B}function A(J,K,se){var B=d.exec(K.slice(se));return B?(J.p=u.get(B[0].toLowerCase()),se+B[0].length):-1}function E(J,K,se){var B=p.exec(K.slice(se));return B?(J.w=g.get(B[0].toLowerCase()),se+B[0].length):-1}function D(J,K,se){var B=h.exec(K.slice(se));return B?(J.w=m.get(B[0].toLowerCase()),se+B[0].length):-1}function P(J,K,se){var B=w.exec(K.slice(se));return B?(J.m=b.get(B[0].toLowerCase()),se+B[0].length):-1}function T(J,K,se){var B=x.exec(K.slice(se));return B?(J.m=y.get(B[0].toLowerCase()),se+B[0].length):-1}function _(J,K,se){return C(J,t,K,se)}function O(J,K,se){return C(J,r,K,se)}function F(J,K,se){return C(J,a,K,se)}function I(J){return o[J.getDay()]}function R(J){return i[J.getDay()]}function L(J){return c[J.getMonth()]}function H(J){return l[J.getMonth()]}function W(J){return n[+(J.getHours()>=12)]}function M(J){return 1+~~(J.getMonth()/3)}function G(J){return o[J.getUTCDay()]}function V(J){return i[J.getUTCDay()]}function q(J){return c[J.getUTCMonth()]}function Y(J){return l[J.getUTCMonth()]}function U(J){return n[+(J.getUTCHours()>=12)]}function Z(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var K=k(J+="",v);return K.toString=function(){return J},K},parse:function(J){var K=S(J+="",!1);return K.toString=function(){return J},K},utcFormat:function(J){var K=k(J+="",N);return K.toString=function(){return J},K},utcParse:function(J){var K=S(J+="",!0);return K.toString=function(){return J},K}}}var L9={"-":"",_:" ",0:"0"},di=/^\s*\d+/,h6e=/^%/,m6e=/[\\^$*+?|[\]().{}]/g;function Ls(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function f6e(e){return e.replace(m6e,"\\$&")}function Cv(e){return new RegExp("^(?:"+e.map(f6e).join("|")+")","i")}function Av(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function p6e(e,t,r){var a=di.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function x6e(e,t,r){var a=di.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function g6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function v6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function y6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function $9(e,t,r){var a=di.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function B9(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function b6e(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function w6e(e,t,r){var a=di.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function j6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function U9(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function N6e(e,t,r){var a=di.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function V9(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function S6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function k6e(e,t,r){var a=di.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function C6e(e,t,r){var a=di.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function A6e(e,t,r){var a=di.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function E6e(e,t,r){var a=h6e.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function P6e(e,t,r){var a=di.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function T6e(e,t,r){var a=di.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function z9(e,t){return Ls(e.getDate(),t,2)}function _6e(e,t){return Ls(e.getHours(),t,2)}function D6e(e,t){return Ls(e.getHours()%12||12,t,2)}function O6e(e,t){return Ls(1+aj.count(Pu(e),e),t,3)}function lee(e,t){return Ls(e.getMilliseconds(),t,3)}function I6e(e,t){return lee(e,t)+"000"}function R6e(e,t){return Ls(e.getMonth()+1,t,2)}function F6e(e,t){return Ls(e.getMinutes(),t,2)}function M6e(e,t){return Ls(e.getSeconds(),t,2)}function L6e(e){var t=e.getDay();return t===0?7:t}function $6e(e,t){return Ls(UC.count(Pu(e)-1,e),t,2)}function cee(e){var t=e.getDay();return t>=4||t===0?$g(e):$g.ceil(e)}function B6e(e,t){return e=cee(e),Ls($g.count(Pu(e),e)+(Pu(e).getDay()===4),t,2)}function U6e(e){return e.getDay()}function V6e(e,t){return Ls(oS.count(Pu(e)-1,e),t,2)}function z6e(e,t){return Ls(e.getFullYear()%100,t,2)}function W6e(e,t){return e=cee(e),Ls(e.getFullYear()%100,t,2)}function H6e(e,t){return Ls(e.getFullYear()%1e4,t,4)}function q6e(e,t){var r=e.getDay();return e=r>=4||r===0?$g(e):$g.ceil(e),Ls(e.getFullYear()%1e4,t,4)}function G6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ls(t/60|0,"0",2)+Ls(t%60,"0",2)}function W9(e,t){return Ls(e.getUTCDate(),t,2)}function K6e(e,t){return Ls(e.getUTCHours(),t,2)}function Y6e(e,t){return Ls(e.getUTCHours()%12||12,t,2)}function X6e(e,t){return Ls(1+BC.count(Tu(e),e),t,3)}function dee(e,t){return Ls(e.getUTCMilliseconds(),t,3)}function Q6e(e,t){return dee(e,t)+"000"}function J6e(e,t){return Ls(e.getUTCMonth()+1,t,2)}function Z6e(e,t){return Ls(e.getUTCMinutes(),t,2)}function e$e(e,t){return Ls(e.getUTCSeconds(),t,2)}function t$e(e){var t=e.getUTCDay();return t===0?7:t}function r$e(e,t){return Ls(VC.count(Tu(e)-1,e),t,2)}function uee(e){var t=e.getUTCDay();return t>=4||t===0?Bg(e):Bg.ceil(e)}function s$e(e,t){return e=uee(e),Ls(Bg.count(Tu(e),e)+(Tu(e).getUTCDay()===4),t,2)}function a$e(e){return e.getUTCDay()}function n$e(e,t){return Ls(lS.count(Tu(e)-1,e),t,2)}function i$e(e,t){return Ls(e.getUTCFullYear()%100,t,2)}function o$e(e,t){return e=uee(e),Ls(e.getUTCFullYear()%100,t,2)}function l$e(e,t){return Ls(e.getUTCFullYear()%1e4,t,4)}function c$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bg(e):Bg.ceil(e),Ls(e.getUTCFullYear()%1e4,t,4)}function d$e(){return"+0000"}function H9(){return"%"}function q9(e){return+e}function G9(e){return Math.floor(+e/1e3)}var Yp,hee,mee;u$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u$e(e){return Yp=u6e(e),hee=Yp.format,Yp.parse,mee=Yp.utcFormat,Yp.utcParse,Yp}function h$e(e){return new Date(e)}function m$e(e){return e instanceof Date?+e:+new Date(+e)}function s3(e,t,r,a,n,i,o,l,c,d){var u=zR(),h=u.invert,m=u.domain,p=d(".%L"),g=d(":%S"),x=d("%I:%M"),y=d("%I %p"),w=d("%a %d"),b=d("%b %d"),v=d("%B"),N=d("%Y");function j(k){return(c(k)<k?p:l(k)<k?g:o(k)<k?x:i(k)<k?y:a(k)<k?n(k)<k?w:b:r(k)<k?v:N)(k)}return u.invert=function(k){return new Date(h(k))},u.domain=function(k){return arguments.length?m(Array.from(k,m$e)):m().map(h$e)},u.ticks=function(k){var S=m();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?j:d(S)},u.nice=function(k){var S=m();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?m(ZZ(S,k)):u},u.copy=function(){return sj(u,s3(e,t,r,a,n,i,o,l,c,d))},u}function f$e(){return rc.apply(s3(c6e,d6e,Pu,t3,UC,aj,ZR,QR,yf,hee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p$e(){return rc.apply(s3(o6e,l6e,Tu,r3,VC,BC,e3,JR,yf,mee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zC(){var e=0,t=1,r,a,n,i,o=co,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(n===0?.5:(h=(i(h)-r)*n,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var p,g;return arguments.length?([p,g]=m,o=h(p,g),d):[o(0),o(1)]}}return d.range=u(U0),d.rangeRound=u(VR),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),a=h(t),n=r===a?0:1/(a-r),d}}function _m(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fee(){var e=Tm(zC()(co));return e.copy=function(){return _m(e,fee())},Lu.apply(e,arguments)}function pee(){var e=qR(zC()).domain([1,10]);return e.copy=function(){return _m(e,pee()).base(e.base())},Lu.apply(e,arguments)}function xee(){var e=GR(zC());return e.copy=function(){return _m(e,xee()).constant(e.constant())},Lu.apply(e,arguments)}function a3(){var e=KR(zC());return e.copy=function(){return _m(e,a3()).exponent(e.exponent())},Lu.apply(e,arguments)}function x$e(){return a3.apply(null,arguments).exponent(.5)}function gee(){var e=[],t=co;function r(a){if(a!=null&&!isNaN(a=+a))return t((tj(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Yh),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>rLe(e,i/a))},r.copy=function(){return gee(t).domain(e)},Lu.apply(r,arguments)}function WC(){var e=0,t=.5,r=1,a=1,n,i,o,l,c,d=co,u,h=!1,m;function p(x){return isNaN(x=+x)?m:(x=.5+((x=+u(x))-i)*(a*x<a*i?l:c),d(h?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,n=u(e=+e),i=u(t=+t),o=u(r=+r),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(h=!!x,p):h},p.interpolator=function(x){return arguments.length?(d=x,p):d};function g(x){return function(y){var w,b,v;return arguments.length?([w,b,v]=y,d=ELe(x,[w,b,v]),p):[d(0),d(.5),d(1)]}}return p.range=g(U0),p.rangeRound=g(VR),p.unknown=function(x){return arguments.length?(m=x,p):m},function(x){return u=x,n=x(e),i=x(t),o=x(r),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p}}function vee(){var e=Tm(WC()(co));return e.copy=function(){return _m(e,vee())},Lu.apply(e,arguments)}function yee(){var e=qR(WC()).domain([.1,1,10]);return e.copy=function(){return _m(e,yee()).base(e.base())},Lu.apply(e,arguments)}function bee(){var e=GR(WC());return e.copy=function(){return _m(e,bee()).constant(e.constant())},Lu.apply(e,arguments)}function n3(){var e=KR(WC());return e.copy=function(){return _m(e,n3()).exponent(e.exponent())},Lu.apply(e,arguments)}function g$e(){return n3.apply(null,arguments).exponent(.5)}const K9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ob,scaleDiverging:vee,scaleDivergingLog:yee,scaleDivergingPow:n3,scaleDivergingSqrt:g$e,scaleDivergingSymlog:bee,scaleIdentity:JZ,scaleImplicit:d5,scaleLinear:nS,scaleLog:eee,scaleOrdinal:$R,scalePoint:Ey,scalePow:YR,scaleQuantile:see,scaleQuantize:aee,scaleRadial:ree,scaleSequential:fee,scaleSequentialLog:pee,scaleSequentialPow:a3,scaleSequentialQuantile:gee,scaleSequentialSqrt:x$e,scaleSequentialSymlog:xee,scaleSqrt:QLe,scaleSymlog:tee,scaleThreshold:nee,scaleTime:f$e,scaleUtc:p$e,tickFormat:QZ},Symbol.toStringTag,{value:"Module"}));var v$e=_0;function y$e(e,t,r){for(var a=-1,n=e.length;++a<n;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!v$e(o):r(o,l)))var l=o,c=i}return c}var HC=y$e;function b$e(e,t){return e>t}var wee=b$e,w$e=HC,j$e=wee,N$e=B0;function S$e(e){return e&&e.length?w$e(e,N$e,j$e):void 0}var k$e=S$e;const Ph=qs(k$e);function C$e(e,t){return e<t}var jee=C$e,A$e=HC,E$e=jee,P$e=B0;function T$e(e){return e&&e.length?A$e(e,P$e,E$e):void 0}var _$e=T$e;const qC=qs(_$e);var D$e=yR,O$e=Bd,I$e=TZ,R$e=Go;function F$e(e,t){var r=R$e(e)?D$e:I$e;return r(e,O$e(t))}var M$e=F$e,L$e=EZ,$$e=M$e;function B$e(e,t){return L$e($$e(e,t),1)}var U$e=B$e;const V$e=qs(U$e);var z$e=IR;function W$e(e,t){return z$e(e,t)}var H$e=W$e;const Ug=qs(H$e);var V0=1e9,q$e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o3,_a=!0,Ql="[DecimalError] ",Rf=Ql+"Invalid argument: ",i3=Ql+"Exponent out of range: ",z0=Math.floor,af=Math.pow,G$e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sl,Jn=1e7,Na=7,Nee=9007199254740991,cS=z0(Nee/Na),Kt={};Kt.absoluteValue=Kt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Kt.comparedTo=Kt.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Kt.decimalPlaces=Kt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Na;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Kt.dividedBy=Kt.div=function(e){return hu(this,new this.constructor(e))};Kt.dividedToIntegerBy=Kt.idiv=function(e){var t=this,r=t.constructor;return da(hu(t,new r(e),0,1),r.precision)};Kt.equals=Kt.eq=function(e){return!this.cmp(e)};Kt.exponent=function(){return En(this)};Kt.greaterThan=Kt.gt=function(e){return this.cmp(e)>0};Kt.greaterThanOrEqualTo=Kt.gte=function(e){return this.cmp(e)>=0};Kt.isInteger=Kt.isint=function(){return this.e>this.d.length-2};Kt.isNegative=Kt.isneg=function(){return this.s<0};Kt.isPositive=Kt.ispos=function(){return this.s>0};Kt.isZero=function(){return this.s===0};Kt.lessThan=Kt.lt=function(e){return this.cmp(e)<0};Kt.lessThanOrEqualTo=Kt.lte=function(e){return this.cmp(e)<1};Kt.logarithm=Kt.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(sl))throw Error(Ql+"NaN");if(r.s<1)throw Error(Ql+(r.s?"NaN":"-Infinity"));return r.eq(sl)?new a(0):(_a=!1,t=hu(Lb(r,i),Lb(e,i),i),_a=!0,da(t,n))};Kt.minus=Kt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Cee(t,e):See(t,(e.s=-e.s,e))};Kt.modulo=Kt.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Ql+"NaN");return r.s?(_a=!1,t=hu(r,e,0,1).times(e),_a=!0,r.minus(t)):da(new a(r),n)};Kt.naturalExponential=Kt.exp=function(){return kee(this)};Kt.naturalLogarithm=Kt.ln=function(){return Lb(this)};Kt.negated=Kt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Kt.plus=Kt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?See(t,e):Cee(t,(e.s=-e.s,e))};Kt.precision=Kt.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rf+e);if(t=En(n)+1,a=n.d.length-1,r=a*Na+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Kt.squareRoot=Kt.sqrt=function(){var e,t,r,a,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ql+"NaN")}for(e=En(l),_a=!1,n=Math.sqrt(+l),n==0||n==1/0?(t=gd(l.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=z0((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),r=c.precision,n=o=r+3;;)if(i=a,a=i.plus(hu(l,i,o+2)).times(.5),gd(i.d).slice(0,o)===(t=gd(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),n==o&&t=="4999"){if(da(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return _a=!0,da(a,r)};Kt.times=Kt.mul=function(e){var t,r,a,n,i,o,l,c,d,u=this,h=u.constructor,m=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=p.length,c<d&&(i=m,m=p,p=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)l=i[n]+p[a]*m[n-a-1]+t,i[n--]=l%Jn|0,t=l/Jn|0;i[n]=(i[n]+t)%Jn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,_a?da(e,h.precision):e};Kt.toDecimalPlaces=Kt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Rd(e,0,V0),t===void 0?t=a.rounding:Rd(t,0,8),da(r,e+En(r)+1,t))};Kt.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=sp(a,!0):(Rd(e,0,V0),t===void 0?t=n.rounding:Rd(t,0,8),a=da(new n(a),e+1,t),r=sp(a,!0,e+1)),r};Kt.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?sp(n):(Rd(e,0,V0),t===void 0?t=i.rounding:Rd(t,0,8),a=da(new i(n),e+En(n)+1,t),r=sp(a.abs(),!1,e+En(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};Kt.toInteger=Kt.toint=function(){var e=this,t=e.constructor;return da(new t(e),En(e)+1,t.rounding)};Kt.toNumber=function(){return+this};Kt.toPower=Kt.pow=function(e){var t,r,a,n,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(sl);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ql+"Infinity");return l}if(l.eq(sl))return l;if(a=c.precision,e.eq(sl))return da(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=Nee){for(n=new c(sl),t=Math.ceil(a/Na+4),_a=!1;r%2&&(n=n.times(l),X9(n.d,t)),r=z0(r/2),r!==0;)l=l.times(l),X9(l.d,t);return _a=!0,e.s<0?new c(sl).div(n):da(n,a)}}else if(i<0)throw Error(Ql+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,_a=!1,n=e.times(Lb(l,a+d)),_a=!0,n=kee(n),n.s=i,n};Kt.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=En(n),a=sp(n,r<=i.toExpNeg||r>=i.toExpPos)):(Rd(e,1,V0),t===void 0?t=i.rounding:Rd(t,0,8),n=da(new i(n),e,t),r=En(n),a=sp(n,e<=r||r<=i.toExpNeg,e)),a};Kt.toSignificantDigits=Kt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Rd(e,1,V0),t===void 0?t=a.rounding:Rd(t,0,8)),da(new a(r),e,t)};Kt.toString=Kt.valueOf=Kt.val=Kt.toJSON=Kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=En(e),r=e.constructor;return sp(e,t<=r.toExpNeg||t>=r.toExpPos)};function See(e,t){var r,a,n,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),_a?da(t,h):t;if(c=e.d,d=t.d,o=e.e,n=t.e,c=c.slice(),i=o-n,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,n=o,l=c.length),o=Math.ceil(h/Na),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Jn|0,c[i]%=Jn;for(r&&(c.unshift(r),++n),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=n,_a?da(t,h):t}function Rd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rf+e)}function gd(e){var t,r,a,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,t=1;t<n;t++)a=e[t]+"",r=Na-a.length,r&&(i+=hh(r)),i+=a;o=e[t],a=o+"",r=Na-a.length,r&&(i+=hh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hu=function(){function e(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%Jn|0,o=i/Jn|0;return o&&a.unshift(o),a}function t(a,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=n[l]){c=a[l]>n[l]?1:-1;break}return c}function r(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*Jn+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,c,d,u,h,m,p,g,x,y,w,b,v,N,j,k,S,C,A=a.constructor,E=a.s==n.s?1:-1,D=a.d,P=n.d;if(!a.s)return new A(a);if(!n.s)throw Error(Ql+"Division by zero");for(c=a.e-n.e,S=P.length,j=D.length,p=new A(E),g=p.d=[],d=0;P[d]==(D[d]||0);)++d;if(P[d]>(D[d]||0)&&--c,i==null?b=i=A.precision:o?b=i+(En(a)-En(n))+1:b=i,b<0)return new A(0);if(b=b/Na+2|0,d=0,S==1)for(u=0,P=P[0],b++;(d<j||u)&&b--;d++)v=u*Jn+(D[d]||0),g[d]=v/P|0,u=v%P|0;else{for(u=Jn/(P[0]+1)|0,u>1&&(P=e(P,u),D=e(D,u),S=P.length,j=D.length),N=S,x=D.slice(0,S),y=x.length;y<S;)x[y++]=0;C=P.slice(),C.unshift(0),k=P[0],P[1]>=Jn/2&&++k;do u=0,l=t(P,x,S,y),l<0?(w=x[0],S!=y&&(w=w*Jn+(x[1]||0)),u=w/k|0,u>1?(u>=Jn&&(u=Jn-1),h=e(P,u),m=h.length,y=x.length,l=t(h,x,m,y),l==1&&(u--,r(h,S<m?C:P,m))):(u==0&&(l=u=1),h=P.slice()),m=h.length,m<y&&h.unshift(0),r(x,h,y),l==-1&&(y=x.length,l=t(P,x,S,y),l<1&&(u++,r(x,S<y?C:P,y))),y=x.length):l===0&&(u++,x=[0]),g[d++]=u,l&&x[0]?x[y++]=D[N]||0:(x=[D[N]],y=1);while((N++<j||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,da(p,o?i+En(p)+1:i)}}();function kee(e,t){var r,a,n,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(En(e)>16)throw Error(i3+En(e));if(!e.s)return new u(sl);for(t==null?(_a=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(af(2,d))/Math.LN10*2+5|0,l+=a,r=n=i=new u(sl),u.precision=l;;){if(n=da(n.times(e),l),r=r.times(++c),o=i.plus(hu(n,r,l)),gd(o.d).slice(0,l)===gd(i.d).slice(0,l)){for(;d--;)i=da(i.times(i),l);return u.precision=h,t==null?(_a=!0,da(i,h)):i}i=o}}function En(e){for(var t=e.e*Na,r=e.d[0];r>=10;r/=10)t++;return t}function FP(e,t,r){if(t>e.LN10.sd())throw _a=!0,r&&(e.precision=r),Error(Ql+"LN10 precision limit exceeded");return da(new e(e.LN10),t)}function hh(e){for(var t="";e--;)t+="0";return t}function Lb(e,t){var r,a,n,i,o,l,c,d,u,h=1,m=10,p=e,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(Ql+(p.s?"NaN":"-Infinity"));if(p.eq(sl))return new x(0);if(t==null?(_a=!1,d=y):d=t,p.eq(10))return t==null&&(_a=!0),FP(x,d);if(d+=m,x.precision=d,r=gd(g),a=r.charAt(0),i=En(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=gd(p.d),a=r.charAt(0),h++;i=En(p),a>1?(p=new x("0."+r),i++):p=new x(a+"."+r.slice(1))}else return c=FP(x,d+2,y).times(i+""),p=Lb(new x(a+"."+r.slice(1)),d-m).plus(c),x.precision=y,t==null?(_a=!0,da(p,y)):p;for(l=o=p=hu(p.minus(sl),p.plus(sl),d),u=da(p.times(p),d),n=3;;){if(o=da(o.times(u),d),c=l.plus(hu(o,new x(n),d)),gd(c.d).slice(0,d)===gd(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(FP(x,d+2,y).times(i+""))),l=hu(l,new x(h),d),x.precision=y,t==null?(_a=!0,da(l,y)):l;l=c,n+=2}}function Y9(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=z0(r/Na),e.d=[],a=(r+1)%Na,r<0&&(a+=Na),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Na;a<n;)e.d.push(+t.slice(a,a+=Na));t=t.slice(a),a=Na-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),_a&&(e.e>cS||e.e<-cS))throw Error(i3+r)}else e.s=0,e.e=0,e.d=[0];return e}function da(e,t,r){var a,n,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Na,n=t,d=h[u=0];else{if(u=Math.ceil((a+1)/Na),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;a%=Na,n=a-Na+o}if(r!==void 0&&(i=af(10,o-n-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?n>0?d/af(10,o-n):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=En(e),h.length=1,t=t-i-1,h[0]=af(10,(Na-t%Na)%Na),e.e=z0(-t/Na)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=af(10,Na-a),h[u]=n>0?(d/af(10,o-n)%af(10,n)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Jn&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Jn)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(_a&&(e.e>cS||e.e<-cS))throw Error(i3+En(e));return e}function Cee(e,t){var r,a,n,i,o,l,c,d,u,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),_a?da(t,p):t;if(c=e.d,h=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,a=d,l=c.length),n=Math.max(Math.ceil(p/Na),l)+2,o>n&&(o=n,r.length=1),r.reverse(),n=o;n--;)r.push(0);r.reverse()}else{for(n=c.length,l=h.length,u=n<l,u&&(l=n),n=0;n<l;n++)if(c[n]!=h[n]){u=c[n]<h[n];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,n=h.length-l;n>0;--n)c[l++]=0;for(n=h.length;n>o;){if(c[--n]<h[n]){for(i=n;i&&c[--i]===0;)c[i]=Jn-1;--c[i],c[n]+=Jn}c[n]-=h[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,_a?da(t,p):t):new m(0)}function sp(e,t,r){var a,n=En(e),i=gd(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+hh(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+hh(-n-1)+i,r&&(a=r-o)>0&&(i+=hh(a))):n>=o?(i+=hh(n+1-o),r&&(a=r-n-1)>0&&(i=i+"."+hh(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(n+1===o&&(i+="."),i+=hh(a))),e.s<0?"-"+i:i}function X9(e,t){if(e.length>t)return e.length=t,!0}function Aee(e){var t,r,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Rf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Y9(o,i.toString())}else if(typeof i!="string")throw Error(Rf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,G$e.test(i))Y9(o,i);else throw Error(Rf+i)}if(n.prototype=Kt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=Aee,n.config=n.set=K$e,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function K$e(e){if(!e||typeof e!="object")throw Error(Ql+"Object expected");var t,r,a,n=["precision",1,V0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(z0(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Rf+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Rf+r+": "+a);return this}var o3=Aee(q$e);sl=new o3(1);const ia=o3;function Y$e(e){return Z$e(e)||J$e(e)||Q$e(e)||X$e()}function X$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$e(e,t){if(e){if(typeof e=="string")return f5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f5(e,t)}}function J$e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Z$e(e){if(Array.isArray(e))return f5(e)}function f5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var e8e=function(t){return t},Eee={"@@functional/placeholder":!0},Pee=function(t){return t===Eee},Q9=function(t){return function r(){return arguments.length===0||arguments.length===1&&Pee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},t8e=function e(t,r){return t===1?r:Q9(function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var o=n.filter(function(l){return l!==Eee}).length;return o>=t?r.apply(void 0,n):e(t-o,Q9(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=n.map(function(h){return Pee(h)?c.shift():h});return r.apply(void 0,Y$e(u).concat(c))}))})},GC=function(t){return t8e(t.length,t)},p5=function(t,r){for(var a=[],n=t;n<r;++n)a[n-t]=n;return a},r8e=GC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),s8e=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return e8e;var n=r.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},x5=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Tee=function(t){var r=null,a=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function a8e(e){var t;return e===0?t=1:t=Math.floor(new ia(e).abs().log(10).toNumber())+1,t}function n8e(e,t,r){for(var a=new ia(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}var i8e=GC(function(e,t,r){var a=+e,n=+t;return a+r*(n-a)}),o8e=GC(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),l8e=GC(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const KC={rangeStep:n8e,getDigitCount:a8e,interpolateNumber:i8e,uninterpolateNumber:o8e,uninterpolateTruncation:l8e};function g5(e){return u8e(e)||d8e(e)||_ee(e)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function u8e(e){if(Array.isArray(e))return v5(e)}function $b(e,t){return f8e(e)||m8e(e,t)||_ee(e,t)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(e,t){if(e){if(typeof e=="string")return v5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v5(e,t)}}function v5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function m8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){n=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(n)throw i}}return r}}function f8e(e){if(Array.isArray(e))return e}function Dee(e){var t=$b(e,2),r=t[0],a=t[1],n=r,i=a;return r>a&&(n=a,i=r),[n,i]}function Oee(e,t,r){if(e.lte(0))return new ia(0);var a=KC.getDigitCount(e.toNumber()),n=new ia(10).pow(a),i=e.div(n),o=a!==1?.05:.1,l=new ia(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(n);return t?c:new ia(Math.ceil(c))}function p8e(e,t,r){var a=1,n=new ia(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new ia(10).pow(KC.getDigitCount(e)-1),n=new ia(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new ia(Math.floor(e)))}else e===0?n=new ia(Math.floor((t-1)/2)):r||(n=new ia(Math.floor(e)));var o=Math.floor((t-1)/2),l=s8e(r8e(function(c){return n.add(new ia(c-o).mul(a)).toNumber()}),p5);return l(0,t)}function Iee(e,t,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ia(0),tickMin:new ia(0),tickMax:new ia(0)};var i=Oee(new ia(t).sub(e).div(r-1),a,n),o;e<=0&&t>=0?o=new ia(0):(o=new ia(e).add(t).div(2),o=o.sub(new ia(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ia(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?Iee(e,t,r,a,n+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new ia(l).mul(i)),tickMax:o.add(new ia(c).mul(i))})}function x8e(e){var t=$b(e,2),r=t[0],a=t[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),l=Dee([r,a]),c=$b(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(g5(p5(0,n-1).map(function(){return 1/0}))):[].concat(g5(p5(0,n-1).map(function(){return-1/0})),[u]);return r>a?x5(h):h}if(d===u)return p8e(d,n,i);var m=Iee(d,u,o,i),p=m.step,g=m.tickMin,x=m.tickMax,y=KC.rangeStep(g,x.add(new ia(.1).mul(p)),p);return r>a?x5(y):y}function g8e(e,t){var r=$b(e,2),a=r[0],n=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Dee([a,n]),l=$b(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,n];if(c===d)return[c];var u=Math.max(t,2),h=Oee(new ia(d).sub(c).div(u-1),i,0),m=[].concat(g5(KC.rangeStep(new ia(c),new ia(d).sub(new ia(.99).mul(h)),h)),[d]);return a>n?x5(m):m}var v8e=Tee(x8e),y8e=Tee(g8e),b8e="Invariant failed";function ap(e,t){throw new Error(b8e)}var w8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},dS.apply(this,arguments)}function j8e(e,t){return C8e(e)||k8e(e,t)||S8e(e,t)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8e(e,t){if(e){if(typeof e=="string")return J9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J9(e,t)}}function J9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function C8e(e){if(Array.isArray(e))return e}function A8e(e,t){if(e==null)return{};var r=E8e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function E8e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function P8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T8e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Mee(a.key),a)}}function _8e(e,t,r){return t&&T8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8e(e,t,r){return t=uS(t),O8e(e,Ree()?Reflect.construct(t,r||[],uS(e).constructor):t.apply(e,r))}function O8e(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8e(e)}function I8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ree(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ree=function(){return!!e})()}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(e)}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y5(e,t)}function y5(e,t){return y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},y5(e,t)}function Fee(e,t,r){return t=Mee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=F8e(e,"string");return Vg(t)=="symbol"?t:t+""}function F8e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YC=function(e){function t(){return P8e(this,t),D8e(this,t,arguments)}return R8e(t,e),_8e(t,[{key:"render",value:function(){var a=this.props,n=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,m=A8e(a,w8e),p=wr(m,!1);this.props.direction==="x"&&u.type!=="number"&&ap();var g=c.map(function(x){var y=d(x,l),w=y.x,b=y.y,v=y.value,N=y.errorVal;if(!N)return null;var j=[],k,S;if(Array.isArray(N)){var C=j8e(N,2);k=C[0],S=C[1]}else k=S=N;if(i==="vertical"){var A=u.scale,E=b+n,D=E+o,P=E-o,T=A(v-k),_=A(v+S);j.push({x1:_,y1:D,x2:_,y2:P}),j.push({x1:T,y1:E,x2:_,y2:E}),j.push({x1:T,y1:D,x2:T,y2:P})}else if(i==="horizontal"){var O=h.scale,F=w+n,I=F-o,R=F+o,L=O(v-k),H=O(v+S);j.push({x1:I,y1:H,x2:R,y2:H}),j.push({x1:F,y1:L,x2:F,y2:H}),j.push({x1:I,y1:L,x2:R,y2:L})}return ae.createElement(Ss,dS({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),j.map(function(W){return ae.createElement("line",dS({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ae.createElement(Ss,{className:"recharts-errorBars"},g)}}])}(ae.Component);Fee(YC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Fee(YC,"displayName","ErrorBar");function Bb(e){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(e)}function Z9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z9(Object(r),!0).forEach(function(a){M8e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function M8e(e,t,r){return t=L8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e){var t=$8e(e,"string");return Bb(t)=="symbol"?t:t+""}function $8e(e,t){if(Bb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lee=function(t){var r=t.children,a=t.formattedGraphicalItems,n=t.legendWidth,i=t.legendContent,o=Xo(r,Gx);if(!o)return null;var l=Gx.defaultProps,c=l!==void 0?Gm(Gm({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,h){var m=h.item,p=h.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(a||[]).map(function(u){var h=u.item,m=h.type.defaultProps,p=m!==void 0?Gm(Gm({},m),h.props):{},g=p.dataKey,x=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:g,type:c.iconType||y||"square",color:l3(h),value:x||g,payload:p}}),Gm(Gm(Gm({},c),Gx.getWithHeight(o,n)),{},{payload:d,item:o})};function Ub(e){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ub(e)}function eU(e){return z8e(e)||V8e(e)||U8e(e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8e(e,t){if(e){if(typeof e=="string")return b5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b5(e,t)}}function V8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z8e(e){if(Array.isArray(e))return b5(e)}function b5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(a){Yx(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yx(e,t,r){return t=W8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8e(e){var t=H8e(e,"string");return Ub(t)=="symbol"?t:t+""}function H8e(e,t){if(Ub(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ub(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e,t,r){return Qr(e)||Qr(t)?r:qn(t)?ul(e,t,r):Rr(t)?t(e):r}function Py(e,t,r,a){var n=V$e(e,function(l){return Vn(l,t)});if(r==="number"){var i=n.filter(function(l){return yt(l)||parseFloat(l)});return i.length?[qC(i),Ph(i)]:[1/0,-1/0]}var o=a?n.filter(function(l){return!Qr(l)}):n;return o.map(function(l){return qn(l)||l instanceof Date?l:""})}var q8e=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?n[d-1].coordinate:n[l-1].coordinate,h=n[d].coordinate,m=d>=l-1?n[0].coordinate:n[d+1].coordinate,p=void 0;if(oo(h-u)!==oo(m-h)){var g=[];if(oo(m-h)===oo(c[1]-c[0])){p=m;var x=h+c[1]-c[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var y=m+c[1]-c[0];g[0]=Math.min(h,(y+h)/2),g[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(t>w[0]&&t<=w[1]||t>=g[0]&&t<=g[1]){o=n[d].index;break}}else{var b=Math.min(u,m),v=Math.max(u,m);if(t>(b+h)/2&&t<=(v+h)/2){o=n[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){o=a[N].index;break}return o},l3=function(t){var r,a=t,n=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qa(Qa({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(n){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},G8e=function(t){var r=t.barSize,a=t.totalSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,p=h.length;m<p;m++){var g=u[h[m]],x=g.items,y=g.cateAxisId,w=x.filter(function(S){return uu(S.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,v=b!==void 0?Qa(Qa({},b),w[0].props):w[0].props,N=v.barSize,j=v[y];o[j]||(o[j]=[]);var k=Qr(N)?r:N;o[j].push({item:w[0],stackList:w.slice(1),barSize:Qr(k)?void 0:lo(k,a,0)})}}return o},K8e=function(t){var r=t.barGap,a=t.barCategoryGap,n=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=lo(r,n,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=n/c,g=o.reduce(function(N,j){return N+j.barSize||0},0);g+=(c-1)*d,g>=n&&(g-=(c-1)*d,d=0),g>=n&&p>0&&(m=!0,p*=.9,g=c*p);var x=(n-g)/2>>0,y={offset:x-d,size:0};u=o.reduce(function(N,j){var k={item:j.item,position:{offset:y.offset+y.size+d,size:m?p:j.barSize}},S=[].concat(eU(N),[k]);return y=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:y})}),S},h)}else{var w=lo(a,n,0,!0);n-2*w-(c-1)*d<=0&&(d=0);var b=(n-2*w-(c-1)*d)/c;b>1&&(b>>=0);var v=l===+l?Math.min(b,l):b;u=o.reduce(function(N,j,k){var S=[].concat(eU(N),[{item:j.item,position:{offset:w+(b+d)*k+(b-v)/2,size:v}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},h)}return u},Y8e=function(t,r,a,n){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=Lee({children:i,legendWidth:c});if(d){var u=n||{},h=u.width,m=u.height,p=d.align,g=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&yt(t[p]))return Qa(Qa({},t),{},Yx({},p,t[p]+(h||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&yt(t[g]))return Qa(Qa({},t),{},Yx({},g,t[g]+(m||0)))}return t},X8e=function(t,r,a){return Qr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},$ee=function(t,r,a,n,i){var o=r.props.children,l=Hl(o,YC).filter(function(d){return X8e(n,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=Vn(u,a);if(Qr(h))return d;var m=Array.isArray(h)?[qC(h),Ph(h)]:[h,h],p=c.reduce(function(g,x){var y=Vn(u,x,0),w=m[0]-Math.abs(Array.isArray(y)?y[0]:y),b=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},Q8e=function(t,r,a,n,i){var o=r.map(function(l){return $ee(t,l,a,i,n)}).filter(function(l){return!Qr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Bee=function(t,r,a,n,i){var o=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&$ee(t,c,d,n)||Py(t,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Uee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Vee=function(t,r,a,n){if(n)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(a),l},iu=function(t,r,a){if(!t)return null;var n=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?n.bandwidth()/2:2,d=(r||a)&&o==="category"&&n.bandwidth?n.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?oo(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:n(m)+d,value:h,offset:d}});return u.filter(function(h){return!F0(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:n(h)+d,value:h,index:m,offset:d}}):n.ticks&&!a?n.ticks(t.tickCount).map(function(h){return{coordinate:n(h)+d,value:h,offset:d}}):n.domain().map(function(h,m){return{coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}})},MP=new WeakMap,E1=function(t,r){if(typeof r!="function")return t;MP.has(t)||MP.set(t,new WeakMap);var a=MP.get(t);if(a.has(r))return a.get(r);var n=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,n),n},zee=function(t,r,a){var n=t.scale,i=t.type,o=t.layout,l=t.axisType;if(n==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ob(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ey(),realScaleType:"point"}:i==="category"?{scale:Ob(),realScaleType:"band"}:{scale:nS(),realScaleType:"linear"};if(ep(n)){var c="scale".concat(_C(n));return{scale:(K9[c]||Ey)(),realScaleType:K9[c]?c:"point"}}return Rr(n)?{scale:n}:{scale:Ey(),realScaleType:"point"}},rU=1e-4,Wee=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,n=t.range(),i=Math.min(n[0],n[1])-rU,o=Math.max(n[0],n[1])+rU,l=t(r[0]),c=t(r[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[a-1]])}},J8e=function(t,r){if(!t)return null;for(var a=0,n=t.length;a<n;a++)if(t[a].item===r)return t[a].position;return null},Z8e=function(t,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return t;var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!yt(t[0])||t[0]<a)&&(i[0]=a),(!yt(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<a&&(i[1]=a),i},eBe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var c=F0(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},tBe=function(t){var r=t.length;if(!(r<=0))for(var a=0,n=t[0].length;a<n;++a)for(var i=0,o=0;o<r;++o){var l=F0(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},rBe={sign:eBe,expand:w4e,none:Og,silhouette:j4e,wiggle:N4e,positive:tBe},sBe=function(t,r,a){var n=r.map(function(l){return l.props.dataKey}),i=rBe[a],o=b4e().keys(n).value(function(l,c){return+Vn(l,c,0)}).order(W_).offset(i);return o(t)},aBe=function(t,r,a,n,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var p,g=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Qa(Qa({},m.type.defaultProps),m.props):m.props,x=g.stackId,y=g.hide;if(y)return h;var w=g[a],b=h[w]||{hasStack:!1,stackGroups:{}};if(qn(x)){var v=b.stackGroups[x]||{numericAxisId:a,cateAxisId:n,items:[]};v.items.push(m),b.hasStack=!0,b.stackGroups[x]=v}else b.stackGroups[M0("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[m]};return Qa(Qa({},h),{},Yx({},w,b))},c),u={};return Object.keys(d).reduce(function(h,m){var p=d[m];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var w=p.stackGroups[y];return Qa(Qa({},x),{},Yx({},y,{numericAxisId:a,cateAxisId:n,items:w.items,stackedData:sBe(t,w.items,i)}))},g)}return Qa(Qa({},h),{},Yx({},m,p))},u)},Hee=function(t,r){var a=r.realScaleType,n=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=v8e(d,i,l);return t.domain([qC(u),Ph(u)]),{niceTicks:u}}if(i&&n==="number"){var h=t.domain(),m=y8e(h,i,l);return{niceTicks:m}}return null};function sU(e){var t=e.axis,r=e.ticks,a=e.bandSize,n=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qr(n[t.dataKey])){var l=L2(r,"value",n[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=Vn(n,Qr(o)?t.dataKey:o);return Qr(c)?null:t.scale(c)}var aU=function(t){var r=t.axis,a=t.ticks,n=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+n:null;var c=Vn(o,r.dataKey,r.domain[l]);return Qr(c)?null:r.scale(c)-i/2+n},nBe=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return n<=0&&i>=0?0:i<0?i:n}return a[0]},iBe=function(t,r){var a,n=(a=t.type)!==null&&a!==void 0&&a.defaultProps?Qa(Qa({},t.type.defaultProps),t.props):t.props,i=n.stackId;if(qn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},oBe=function(t){return t.reduce(function(r,a){return[qC(a.concat([r[0]]).filter(yt)),Ph(a.concat([r[1]]).filter(yt))]},[1/0,-1/0])},qee=function(t,r,a){return Object.keys(t).reduce(function(n,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=oBe(u.slice(r,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},nU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w5=function(t,r,a){if(Rr(t))return t(r,a);if(!Array.isArray(t))return r;var n=[];if(yt(t[0]))n[0]=a?t[0]:Math.min(t[0],r[0]);else if(nU.test(t[0])){var i=+nU.exec(t[0])[1];n[0]=r[0]-i}else Rr(t[0])?n[0]=t[0](r[0]):n[0]=r[0];if(yt(t[1]))n[1]=a?t[1]:Math.max(t[1],r[1]);else if(iU.test(t[1])){var o=+iU.exec(t[1])[1];n[1]=r[1]+o}else Rr(t[1])?n[1]=t[1](r[1]):n[1]=r[1];return n},hS=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!a||n>0)return n}if(t&&r&&r.length>=2){for(var i=FR(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},oU=function(t,r,a){return!t||!t.length||Ug(t,ul(a,"type.defaultProps.domain"))?r:t},Gee=function(t,r){var a=t.type.defaultProps?Qa(Qa({},t.type.defaultProps),t.props):t.props,n=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return Qa(Qa({},wr(t,!1)),{},{dataKey:n,unit:o,formatter:l,name:i||n,color:l3(t),value:Vn(r,n),type:c,payload:r,chartType:d,hide:u})};function Vb(e){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vb(e)}function lU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lU(Object(r),!0).forEach(function(a){Kee(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kee(e,t,r){return t=lBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lBe(e){var t=cBe(e,"string");return Vb(t)=="symbol"?t:t+""}function cBe(e,t){if(Vb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dBe(e,t){return fBe(e)||mBe(e,t)||hBe(e,t)||uBe()}function uBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hBe(e,t){if(e){if(typeof e=="string")return cU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cU(e,t)}}function cU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function fBe(e){if(Array.isArray(e))return e}var mS=Math.PI/180,pBe=function(t){return t*180/Math.PI},xa=function(t,r,a,n){return{x:t+Math.cos(-mS*n)*a,y:r+Math.sin(-mS*n)*a}},Yee=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},xBe=function(t,r,a,n,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=lo(t.cx,o,o/2),h=lo(t.cy,l,l/2),m=Yee(o,l,a),p=lo(t.innerRadius,m,0),g=lo(t.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(y,w){var b=r[w],v=b.domain,N=b.reversed,j;if(Qr(b.range))n==="angleAxis"?j=[c,d]:n==="radiusAxis"&&(j=[p,g]),N&&(j=[j[1],j[0]]);else{j=b.range;var k=j,S=dBe(k,2);c=S[0],d=S[1]}var C=zee(b,i),A=C.realScaleType,E=C.scale;E.domain(v).range(j),Wee(E);var D=Hee(E,Qd(Qd({},b),{},{realScaleType:A})),P=Qd(Qd(Qd({},b),D),{},{range:j,radius:g,realScaleType:A,scale:E,cx:u,cy:h,innerRadius:p,outerRadius:g,startAngle:c,endAngle:d});return Qd(Qd({},y),{},Kee({},w,P))},{})},gBe=function(t,r){var a=t.x,n=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-o,2))},vBe=function(t,r){var a=t.x,n=t.y,i=r.cx,o=r.cy,l=gBe({x:a,y:n},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return n>o&&(d=2*Math.PI-d),{radius:l,angle:pBe(d),angleInRadian:d}},yBe=function(t){var r=t.startAngle,a=t.endAngle,n=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(n,i);return{startAngle:r-o*360,endAngle:a-o*360}},bBe=function(t,r){var a=r.startAngle,n=r.endAngle,i=Math.floor(a/360),o=Math.floor(n/360),l=Math.min(i,o);return t+l*360},dU=function(t,r){var a=t.x,n=t.y,i=vBe({x:a,y:n},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=yBe(r),h=u.startAngle,m=u.endAngle,p=l,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?Qd(Qd({},r),{},{radius:o,angle:bBe(p,r)}):null},Xee=function(t){return!f.isValidElement(t)&&!Rr(t)&&typeof t!="boolean"?t.className:""};function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}var wBe=["offset"];function jBe(e){return CBe(e)||kBe(e)||SBe(e)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SBe(e,t){if(e){if(typeof e=="string")return j5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j5(e,t)}}function kBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CBe(e){if(Array.isArray(e))return j5(e)}function j5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ABe(e,t){if(e==null)return{};var r=EBe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function EBe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function uU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(r),!0).forEach(function(a){PBe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PBe(e,t,r){return t=TBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TBe(e){var t=_Be(e,"string");return zb(t)=="symbol"?t:t+""}function _Be(e,t){if(zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wb.apply(this,arguments)}var DBe=function(t){var r=t.value,a=t.formatter,n=Qr(t.children)?r:t.children;return Rr(a)?a(n):n},OBe=function(t,r){var a=oo(r-t),n=Math.min(Math.abs(r-t),360);return a*n},IBe=function(t,r,a){var n=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,p=c.startAngle,g=c.endAngle,x=c.clockWise,y=(h+m)/2,w=OBe(p,g),b=w>=0?1:-1,v,N;n==="insideStart"?(v=p+b*o,N=x):n==="insideEnd"?(v=g-b*o,N=!x):n==="end"&&(v=g+b*o,N=x),N=w<=0?N:!N;var j=xa(d,u,y,v),k=xa(d,u,y,v+(N?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),C=Qr(t.id)?M0("recharts-radial-line-"):t.id;return ae.createElement("text",Wb({},a,{dominantBaseline:"central",className:Xr("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:C,d:S})),ae.createElement("textPath",{xlinkHref:"#".concat(C)},r))},RBe=function(t){var r=t.viewBox,a=t.offset,n=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(n==="outside"){var p=xa(o,l,d+a,m),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,w=xa(o,l,y,m),b=w.x,v=w.y;return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},FBe=function(t){var r=t.viewBox,a=t.parentViewBox,n=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*n,p=h>0?"end":"start",g=h>0?"start":"end",x=d>=0?1:-1,y=x*n,w=x>0?"end":"start",b=x>0?"start":"end";if(i==="top"){var v={x:l+d/2,y:c-h*n,textAnchor:"middle",verticalAnchor:p};return Mn(Mn({},v),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:g};return Mn(Mn({},N),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Mn(Mn({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var k={x:l+d+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Mn(Mn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var S=a?{width:d,height:u}:{};return i==="insideLeft"?Mn({x:l+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideRight"?Mn({x:l+d-y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},S):i==="insideTop"?Mn({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?Mn({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?Mn({x:l+y,y:c+m,textAnchor:b,verticalAnchor:g},S):i==="insideTopRight"?Mn({x:l+d-y,y:c+m,textAnchor:w,verticalAnchor:g},S):i==="insideBottomLeft"?Mn({x:l+y,y:c+u-m,textAnchor:b,verticalAnchor:p},S):i==="insideBottomRight"?Mn({x:l+d-y,y:c+u-m,textAnchor:w,verticalAnchor:p},S):D0(i)&&(yt(i.x)||gf(i.x))&&(yt(i.y)||gf(i.y))?Mn({x:l+lo(i.x,d),y:c+lo(i.y,u),textAnchor:"end",verticalAnchor:"end"},S):Mn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},MBe=function(t){return"cx"in t&&yt(t.cx)};function ri(e){var t=e.offset,r=t===void 0?5:t,a=ABe(e,wBe),n=Mn({offset:r},a),i=n.viewBox,o=n.position,l=n.value,c=n.children,d=n.content,u=n.className,h=u===void 0?"":u,m=n.textBreakAll;if(!i||Qr(l)&&Qr(c)&&!f.isValidElement(d)&&!Rr(d))return null;if(f.isValidElement(d))return f.cloneElement(d,n);var p;if(Rr(d)){if(p=f.createElement(d,n),f.isValidElement(p))return p}else p=DBe(n);var g=MBe(i),x=wr(n,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return IBe(n,p,x);var y=g?RBe(n):FBe(n);return ae.createElement(rp,Wb({className:Xr("recharts-label",h)},x,y,{breakAll:m}),p)}ri.displayName="Label";var Qee=function(t){var r=t.cx,a=t.cy,n=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,m=t.y,p=t.top,g=t.left,x=t.width,y=t.height,w=t.clockWise,b=t.labelViewBox;if(b)return b;if(yt(x)&&yt(y)){if(yt(h)&&yt(m))return{x:h,y:m,width:x,height:y};if(yt(p)&&yt(g))return{x:p,y:g,width:x,height:y}}return yt(h)&&yt(m)?{x:h,y:m,width:0,height:0}:yt(r)&&yt(a)?{cx:r,cy:a,startAngle:i||n||0,endAngle:o||n||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},LBe=function(t,r){return t?t===!0?ae.createElement(ri,{key:"label-implicit",viewBox:r}):qn(t)?ae.createElement(ri,{key:"label-implicit",viewBox:r,value:t}):f.isValidElement(t)?t.type===ri?f.cloneElement(t,{key:"label-implicit",viewBox:r}):ae.createElement(ri,{key:"label-implicit",content:t,viewBox:r}):Rr(t)?ae.createElement(ri,{key:"label-implicit",content:t,viewBox:r}):D0(t)?ae.createElement(ri,Wb({viewBox:r},t,{key:"label-implicit"})):null:null},$Be=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var n=t.children,i=Qee(t),o=Hl(n,ri).map(function(c,d){return f.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!a)return o;var l=LBe(t.label,r||i);return[l].concat(jBe(o))};ri.parseViewBox=Qee;ri.renderCallByParent=$Be;function BBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var UBe=BBe;const VBe=qs(UBe);function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}var zBe=["valueAccessor"],WBe=["data","dataKey","clockWise","id","textBreakAll"];function HBe(e){return YBe(e)||KBe(e)||GBe(e)||qBe()}function qBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GBe(e,t){if(e){if(typeof e=="string")return N5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N5(e,t)}}function KBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YBe(e){if(Array.isArray(e))return N5(e)}function N5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fS.apply(this,arguments)}function hU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function mU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(r),!0).forEach(function(a){XBe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XBe(e,t,r){return t=QBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QBe(e){var t=JBe(e,"string");return Hb(t)=="symbol"?t:t+""}function JBe(e,t){if(Hb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fU(e,t){if(e==null)return{};var r=ZBe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ZBe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var e9e=function(t){return Array.isArray(t.value)?VBe(t.value):t.value};function mu(e){var t=e.valueAccessor,r=t===void 0?e9e:t,a=fU(e,zBe),n=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=fU(a,WBe);return!n||!n.length?null:ae.createElement(Ss,{className:"recharts-label-list"},n.map(function(u,h){var m=Qr(i)?r(u,h):Vn(u&&u.payload,i),p=Qr(l)?{}:{id:"".concat(l,"-").concat(h)};return ae.createElement(ri,fS({},wr(u,!0),d,p,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:ri.parseViewBox(Qr(o)?u:mU(mU({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}mu.displayName="LabelList";function t9e(e,t){return e?e===!0?ae.createElement(mu,{key:"labelList-implicit",data:t}):ae.isValidElement(e)||Rr(e)?ae.createElement(mu,{key:"labelList-implicit",data:t,content:e}):D0(e)?ae.createElement(mu,fS({data:t},e,{key:"labelList-implicit"})):null:null}function r9e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,n=Hl(a,mu).map(function(o,l){return f.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return n;var i=t9e(e.label,t);return[i].concat(HBe(n))}mu.renderCallByParent=r9e;function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S5.apply(this,arguments)}function pU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function xU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(r),!0).forEach(function(a){s9e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function s9e(e,t,r){return t=a9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9e(e){var t=n9e(e,"string");return qb(t)=="symbol"?t:t+""}function n9e(e,t){if(qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9e=function(t,r){var a=oo(r-t),n=Math.min(Math.abs(r-t),359.999);return a*n},P1=function(t){var r=t.cx,a=t.cy,n=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+n,h=Math.asin(c/u)/mS,m=d?i:i+o*h,p=xa(r,a,u,m),g=xa(r,a,n,m),x=d?i-o*h:i,y=xa(r,a,u*Math.cos(h*mS),x);return{center:p,circleTangency:g,lineTangency:y,theta:h}},Jee=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=i9e(o,l),d=o+c,u=xa(r,a,i,o),h=xa(r,a,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var p=xa(r,a,n,o),g=xa(r,a,n,d);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(a," Z");return m},o9e=function(t){var r=t.cx,a=t.cy,n=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=oo(u-d),m=P1({cx:r,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,g=m.lineTangency,x=m.theta,y=P1({cx:r,cy:a,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),w=y.circleTangency,b=y.lineTangency,v=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-x-v;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Jee({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var k=P1({cx:r,cy:a,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=k.circleTangency,C=k.lineTangency,A=k.theta,E=P1({cx:r,cy:a,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=E.circleTangency,P=E.lineTangency,T=E.theta,_=c?Math.abs(d-u):Math.abs(d-u)-A-T;if(_<0&&o===0)return"".concat(j,"L").concat(r,",").concat(a,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(_>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(a,"Z");return j},l9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Zee=function(t){var r=xU(xU({},l9e),t),a=r.cx,n=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,m=r.className;if(o<i||u===h)return null;var p=Xr("recharts-sector",m),g=o-i,x=lo(l,g,0,!0),y;return x>0&&Math.abs(u-h)<360?y=o9e({cx:a,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):y=Jee({cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ae.createElement("path",S5({},wr(r,!0),{className:p,d:y,role:"img"}))};function Gb(e){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gb(e)}function k5(){return k5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k5.apply(this,arguments)}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function vU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(a){c9e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function c9e(e,t,r){return t=d9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9e(e){var t=u9e(e,"string");return Gb(t)=="symbol"?t:t+""}function u9e(e,t){if(Gb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yU={curveBasisClosed:c4e,curveBasisOpen:d4e,curveBasis:l4e,curveBumpX:KTe,curveBumpY:YTe,curveLinearClosed:u4e,curveLinear:OC,curveMonotoneX:h4e,curveMonotoneY:m4e,curveNatural:f4e,curveStep:p4e,curveStepAfter:g4e,curveStepBefore:x4e},T1=function(t){return t.x===+t.x&&t.y===+t.y},Ev=function(t){return t.x},Pv=function(t){return t.y},h9e=function(t,r){if(Rr(t))return t;var a="curve".concat(_C(t));return(a==="curveMonotone"||a==="curveBump")&&r?yU["".concat(a).concat(r==="vertical"?"Y":"X")]:yU[a]||OC},m9e=function(t){var r=t.type,a=r===void 0?"linear":r,n=t.points,i=n===void 0?[]:n,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=h9e(a,l),h=d?i.filter(function(x){return T1(x)}):i,m;if(Array.isArray(o)){var p=d?o.filter(function(x){return T1(x)}):o,g=h.map(function(x,y){return vU(vU({},x),{},{base:p[y]})});return l==="vertical"?m=b1().y(Pv).x1(Ev).x0(function(x){return x.base.x}):m=b1().x(Ev).y1(Pv).y0(function(x){return x.base.y}),m.defined(T1).curve(u),m(g)}return l==="vertical"&&yt(o)?m=b1().y(Pv).x1(Ev).x0(o):yt(o)?m=b1().x(Ev).y1(Pv).y0(o):m=GJ().x(Ev).y(Pv),m.defined(T1).curve(u),m(h)},Xx=function(t){var r=t.className,a=t.points,n=t.path,i=t.pathRef;if((!a||!a.length)&&!n)return null;var o=a&&a.length?m9e(t):n;return f.createElement("path",k5({},wr(t,!1),$2(t),{className:Xr("recharts-curve",r),d:o,ref:i}))},ete={exports:{}},f9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",p9e=f9e,x9e=p9e;function tte(){}function rte(){}rte.resetWarningCache=tte;var g9e=function(){function e(a,n,i,o,l,c){if(c!==x9e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rte,resetWarningCache:tte};return r.PropTypes=r,r};ete.exports=g9e();var v9e=ete.exports;const zs=qs(v9e);var y9e=Object.getOwnPropertyNames,b9e=Object.getOwnPropertySymbols,w9e=Object.prototype.hasOwnProperty;function bU(e,t){return function(a,n,i){return e(a,n,i)&&t(a,n,i)}}function _1(e){return function(r,a,n){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,n);var i=n.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var c=e(r,a,n);return i.delete(r),i.delete(a),c}}function wU(e){return y9e(e).concat(b9e(e))}var j9e=Object.hasOwn||function(e,t){return w9e.call(e,t)};function kp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var N9e="__v",S9e="__o",k9e="_owner",jU=Object.getOwnPropertyDescriptor,NU=Object.keys;function C9e(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function A9e(e,t){return kp(e.getTime(),t.getTime())}function E9e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function P9e(e,t){return e===t}function SU(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(n[h]){h++;continue}var m=o.value,p=l.value;if(r.equals(m[0],p[0],c,h,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){u=n[h]=!0;break}h++}if(!u)return!1;c++}return!0}var T9e=kp;function _9e(e,t,r){var a=NU(e),n=a.length;if(NU(t).length!==n)return!1;for(;n-- >0;)if(!ste(e,t,r,a[n]))return!1;return!0}function Tv(e,t,r){var a=wU(e),n=a.length;if(wU(t).length!==n)return!1;for(var i,o,l;n-- >0;)if(i=a[n],!ste(e,t,r,i)||(o=jU(e,i),l=jU(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function D9e(e,t){return kp(e.valueOf(),t.valueOf())}function O9e(e,t){return e.source===t.source&&e.flags===t.flags}function kU(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var n=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!n[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=n[u]=!0;break}u++}if(!d)return!1}return!0}function I9e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function R9e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ste(e,t,r,a){return(a===k9e||a===S9e||a===N9e)&&(e.$$typeof||t.$$typeof)?!0:j9e(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var F9e="[object Arguments]",M9e="[object Boolean]",L9e="[object Date]",$9e="[object Error]",B9e="[object Map]",U9e="[object Number]",V9e="[object Object]",z9e="[object RegExp]",W9e="[object Set]",H9e="[object String]",q9e="[object URL]",G9e=Array.isArray,CU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AU=Object.assign,K9e=Object.prototype.toString.call.bind(Object.prototype.toString);function Y9e(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,n=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(g,x,y){if(g===x)return!0;if(g==null||x==null)return!1;var w=typeof g;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(g,x,y):w==="function"?n(g,x,y):!1;var b=g.constructor;if(b!==x.constructor)return!1;if(b===Object)return l(g,x,y);if(G9e(g))return t(g,x,y);if(CU!=null&&CU(g))return h(g,x,y);if(b===Date)return r(g,x,y);if(b===RegExp)return d(g,x,y);if(b===Map)return i(g,x,y);if(b===Set)return u(g,x,y);var v=K9e(g);return v===L9e?r(g,x,y):v===z9e?d(g,x,y):v===B9e?i(g,x,y):v===W9e?u(g,x,y):v===V9e?typeof g.then!="function"&&typeof x.then!="function"&&l(g,x,y):v===q9e?m(g,x,y):v===$9e?a(g,x,y):v===F9e?l(g,x,y):v===M9e||v===U9e||v===H9e?c(g,x,y):!1}}function X9e(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,n={areArraysEqual:a?Tv:C9e,areDatesEqual:A9e,areErrorsEqual:E9e,areFunctionsEqual:P9e,areMapsEqual:a?bU(SU,Tv):SU,areNumbersEqual:T9e,areObjectsEqual:a?Tv:_9e,arePrimitiveWrappersEqual:D9e,areRegExpsEqual:O9e,areSetsEqual:a?bU(kU,Tv):kU,areTypedArraysEqual:a?Tv:I9e,areUrlsEqual:R9e};if(r&&(n=AU({},n,r(n))),t){var i=_1(n.areArraysEqual),o=_1(n.areMapsEqual),l=_1(n.areObjectsEqual),c=_1(n.areSetsEqual);n=AU({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return n}function Q9e(e){return function(t,r,a,n,i,o,l){return e(t,r,l)}}function J9e(e){var t=e.circular,r=e.comparator,a=e.createState,n=e.equals,i=e.strict;if(a)return function(c,d){var u=a(),h=u.cache,m=h===void 0?t?new WeakMap:void 0:h,p=u.meta;return r(c,d,{cache:m,equals:n,meta:p,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var o={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var Z9e=Dm();Dm({strict:!0});Dm({circular:!0});Dm({circular:!0,strict:!0});Dm({createInternalComparator:function(){return kp}});Dm({strict:!0,createInternalComparator:function(){return kp}});Dm({circular:!0,createInternalComparator:function(){return kp}});Dm({circular:!0,createInternalComparator:function(){return kp},strict:!0});function Dm(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,n=e.createState,i=e.strict,o=i===void 0?!1:i,l=X9e(e),c=Y9e(l),d=a?a(c):Q9e(c);return J9e({circular:r,comparator:c,createState:n,equals:d,strict:o})}function eUe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function n(i){r<0&&(r=i),i-r>t?(e(i),r=-1):eUe(n)};requestAnimationFrame(a)}function C5(e){"@babel/helpers - typeof";return C5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C5(e)}function tUe(e){return nUe(e)||aUe(e)||sUe(e)||rUe()}function rUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sUe(e,t){if(e){if(typeof e=="string")return PU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PU(e,t)}}function PU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function aUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nUe(e){if(Array.isArray(e))return e}function iUe(){var e={},t=function(){return null},r=!1,a=function n(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=tUe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){EU(n.bind(null,d),c);return}n(c),EU(n.bind(null,d));return}C5(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _U(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(a){ate(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ate(e,t,r){return t=oUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oUe(e){var t=lUe(e,"string");return Kb(t)==="symbol"?t:String(t)}function lUe(e,t){if(Kb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kb(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cUe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,n){return a.filter(function(i){return n.includes(i)})})},dUe=function(t){return t},uUe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ty=function(t,r){return Object.keys(r).reduce(function(a,n){return _U(_U({},a),{},ate({},n,t(n,r[n])))},{})},DU=function(t,r,a){return t.map(function(n){return"".concat(uUe(n)," ").concat(r,"ms ").concat(a)}).join(",")};function hUe(e,t){return pUe(e)||fUe(e,t)||nte(e,t)||mUe()}function mUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function pUe(e){if(Array.isArray(e))return e}function xUe(e){return yUe(e)||vUe(e)||nte(e)||gUe()}function gUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(e,t){if(e){if(typeof e=="string")return A5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A5(e,t)}}function vUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yUe(e){if(Array.isArray(e))return A5(e)}function A5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var pS=1e-4,ite=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ote=function(t,r){return t.map(function(a,n){return a*Math.pow(r,n)}).reduce(function(a,n){return a+n})},OU=function(t,r){return function(a){var n=ite(t,r);return ote(n,a)}},bUe=function(t,r){return function(a){var n=ite(t,r),i=[].concat(xUe(n.map(function(o,l){return o*l}).slice(1)),[0]);return ote(i,a)}},IU=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":n=0,i=0,o=1,l=1;break;case"ease":n=.25,i=.1,o=.25,l=1;break;case"ease-in":n=.42,i=0,o=1,l=1;break;case"ease-out":n=.42,i=0,o=.58,l=1;break;case"ease-in-out":n=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=hUe(d,4);n=u[0],i=u[1],o=u[2],l=u[3]}}}var h=OU(n,o),m=OU(i,l),p=bUe(n,o),g=function(w){return w>1?1:w<0?0:w},x=function(w){for(var b=w>1?1:w,v=b,N=0;N<8;++N){var j=h(v)-b,k=p(v);if(Math.abs(j-b)<pS||k<pS)return m(v);v=g(v-j/k)}return m(v)};return x.isStepper=!1,x},wUe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,n=t.damping,i=n===void 0?8:n,o=t.dt,l=o===void 0?17:o,c=function(u,h,m){var p=-(u-h)*a,g=m*i,x=m+(p-g)*l/1e3,y=m*l/1e3+u;return Math.abs(y-h)<pS&&Math.abs(x)<pS?[h,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},jUe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IU(n);case"spring":return wUe();default:if(n.split("(")[0]==="cubic-bezier")return IU(n)}return typeof n=="function"?n:null};function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function RU(e){return kUe(e)||SUe(e)||lte(e)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kUe(e){if(Array.isArray(e))return P5(e)}function FU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FU(Object(r),!0).forEach(function(a){E5(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function E5(e,t,r){return t=CUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CUe(e){var t=AUe(e,"string");return Yb(t)==="symbol"?t:String(t)}function AUe(e,t){if(Yb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yb(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EUe(e,t){return _Ue(e)||TUe(e,t)||lte(e,t)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(e,t){if(e){if(typeof e=="string")return P5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(e,t)}}function P5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function TUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function _Ue(e){if(Array.isArray(e))return e}var xS=function(t,r,a){return t+(r-t)*a},T5=function(t){var r=t.from,a=t.to;return r!==a},DUe=function e(t,r,a){var n=Ty(function(i,o){if(T5(o)){var l=t(o.from,o.to,o.velocity),c=EUe(l,2),d=c[0],u=c[1];return mi(mi({},o),{},{from:d,velocity:u})}return o},r);return a<1?Ty(function(i,o){return T5(o)?mi(mi({},o),{},{velocity:xS(o.velocity,n[i].velocity,a),from:xS(o.from,n[i].from,a)}):o},r):e(t,n,a-1)};const OUe=function(e,t,r,a,n){var i=cUe(e,t),o=i.reduce(function(y,w){return mi(mi({},y),{},E5({},w,[e[w],t[w]]))},{}),l=i.reduce(function(y,w){return mi(mi({},y),{},E5({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return Ty(function(w,b){return b.from},l)},p=function(){return!Object.values(l).filter(T5).length},g=function(w){d||(d=w);var b=w-d,v=b/r.dt;l=DUe(r,l,v),n(mi(mi(mi({},e),t),m())),d=w,p()||(c=requestAnimationFrame(h))},x=function(w){u||(u=w);var b=(w-u)/a,v=Ty(function(j,k){return xS.apply(void 0,RU(k).concat([r(b)]))},o);if(n(mi(mi(mi({},e),t),v)),b<1)c=requestAnimationFrame(h);else{var N=Ty(function(j,k){return xS.apply(void 0,RU(k).concat([r(1)]))},o);n(mi(mi(mi({},e),t),N))}};return h=r.isStepper?g:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var IUe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RUe(e,t){if(e==null)return{};var r=FUe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function FUe(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function LP(e){return BUe(e)||$Ue(e)||LUe(e)||MUe()}function MUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function $Ue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BUe(e){if(Array.isArray(e))return _5(e)}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(a){Jv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jv(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VUe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cte(a.key),a)}}function zUe(e,t,r){return t&&VUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cte(e){var t=WUe(e,"string");return zg(t)==="symbol"?t:String(t)}function WUe(e,t){if(zg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D5(e,t)}function D5(e,t){return D5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},D5(e,t)}function qUe(e){var t=GUe();return function(){var a=gS(e),n;if(t){var i=gS(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return O5(this,n)}}function O5(e,t){if(t&&(zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I5(e)}function I5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gS(e)}var Fd=function(e){HUe(r,e);var t=qUe(r);function r(a,n){var i;UUe(this,r),i=t.call(this,a,n);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(I5(i)),i.changeStyle=i.changeStyle.bind(I5(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),O5(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},O5(i);i.state={style:c?Jv({},c,d):d}}else i.state={style:{}};return i}return zUe(r,[{key:"componentDidMount",value:function(){var n=this.props,i=n.isActive,o=n.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var p={style:c?Jv({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(p);return}if(!(Z9e(n.to,u)&&n.canBegin&&n.isActive)){var g=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||d?h:n.to;if(this.state&&m){var y={style:c?Jv({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(y)}this.runAnimation(hc(hc({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var i=this,o=n.from,l=n.to,c=n.duration,d=n.easing,u=n.begin,h=n.onAnimationEnd,m=n.onAnimationStart,p=OUe(o,l,jUe(d),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([m,u,g,c,h])}},{key:"runStepAnimation",value:function(n){var i=this,o=n.steps,l=n.begin,c=n.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,p=function(x,y,w){if(w===0)return x;var b=y.duration,v=y.easing,N=v===void 0?"ease":v,j=y.style,k=y.properties,S=y.onAnimationEnd,C=w>0?o[w-1]:y,A=k||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(LP(x),[i.runJSAnimation.bind(i,{from:C.style,to:j,duration:b,easing:N}),b]);var E=DU(A,b,N),D=hc(hc(hc({},C.style),j),{},{transition:E});return[].concat(LP(x),[D,b,S]).filter(dUe)};return this.manager.start([c].concat(LP(o.reduce(p,[u,Math.max(m,l)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=iUe());var i=n.begin,o=n.duration,l=n.attributeName,c=n.to,d=n.easing,u=n.onAnimationStart,h=n.onAnimationEnd,m=n.steps,p=n.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(n);return}if(m.length>1){this.runStepAnimation(n);return}var x=l?Jv({},l,c):c,y=DU(Object.keys(x),o,d);g.start([u,i,hc(hc({},x),{},{transition:y}),o,h])}},{key:"render",value:function(){var n=this.props,i=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var l=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var c=RUe(n,IUe),d=f.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(p){var g=p.props,x=g.style,y=x===void 0?{}:x,w=g.className,b=f.cloneElement(p,hc(hc({},c),{},{style:hc(hc({},y),u),className:w}));return b};return d===1?h(f.Children.only(i)):ae.createElement("div",null,f.Children.map(i,function(m){return h(m)}))}}]),r}(f.PureComponent);Fd.displayName="Animate";Fd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fd.propTypes={from:zs.oneOfType([zs.object,zs.string]),to:zs.oneOfType([zs.object,zs.string]),attributeName:zs.string,duration:zs.number,begin:zs.number,easing:zs.oneOfType([zs.string,zs.func]),steps:zs.arrayOf(zs.shape({duration:zs.number.isRequired,style:zs.object.isRequired,easing:zs.oneOfType([zs.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zs.func]),properties:zs.arrayOf("string"),onAnimationEnd:zs.func})),children:zs.oneOfType([zs.node,zs.func]),isActive:zs.bool,canBegin:zs.bool,onAnimationEnd:zs.func,shouldReAnimate:zs.bool,onAnimationStart:zs.func,onAnimationReStart:zs.func};function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vS.apply(this,arguments)}function KUe(e,t){return JUe(e)||QUe(e,t)||XUe(e,t)||YUe()}function YUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XUe(e,t){if(e){if(typeof e=="string")return LU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LU(e,t)}}function LU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function QUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function JUe(e){if(Array.isArray(e))return e}function $U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function BU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$U(Object(r),!0).forEach(function(a){ZUe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZUe(e,t,r){return t=e7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7e(e){var t=t7e(e,"string");return Xb(t)=="symbol"?t:t+""}function t7e(e,t){if(Xb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UU=function(t,r,a,n,i){var o=Math.min(Math.abs(a)/2,Math.abs(n)/2),l=n>=0?1:-1,c=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),u+="L ".concat(t+a-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*h[1])),u+="L ".concat(t+a,",").concat(r+n-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+a-c*h[2],",").concat(r+n)),u+="L ".concat(t+c*h[3],",").concat(r+n),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+n-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+a-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*g,`
            L `).concat(t+a,",").concat(r+n-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a-c*g,",").concat(r+n,`
            L `).concat(t+c*g,",").concat(r+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(r+n-l*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return u},r7e=function(t,r){if(!t||!r)return!1;var a=t.x,n=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return a>=d&&a<=u&&n>=h&&n<=m}return!1},s7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c3=function(t){var r=BU(BU({},s7e),t),a=f.useRef(),n=f.useState(-1),i=KUe(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,m=r.radius,p=r.className,g=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var v=Xr("recharts-rectangle",p);return b?ae.createElement(Fd,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:x,animationEasing:g,isActive:b},function(N){var j=N.width,k=N.height,S=N.x,C=N.y;return ae.createElement(Fd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:w,easing:g},ae.createElement("path",vS({},wr(r,!0),{className:v,d:UU(S,C,j,k,m),ref:a})))}):ae.createElement("path",vS({},wr(r,!0),{className:v,d:UU(c,d,u,h,m)}))},a7e=["points","className","baseLinePoints","connectNulls"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Px.apply(this,arguments)}function n7e(e,t){if(e==null)return{};var r=i7e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function i7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function VU(e){return d7e(e)||c7e(e)||l7e(e)||o7e()}function o7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7e(e,t){if(e){if(typeof e=="string")return R5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(e,t)}}function c7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d7e(e){if(Array.isArray(e))return R5(e)}function R5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var zU=function(t){return t&&t.x===+t.x&&t.y===+t.y},u7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){zU(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),zU(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},_y=function(t,r){var a=u7e(t);r&&(a=[a.reduce(function(i,o){return[].concat(VU(i),VU(o))},[])]);var n=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(n,"Z"):n},h7e=function(t,r,a){var n=_y(t,a);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(_y(r.reverse(),a).slice(1))},m7e=function(t){var r=t.points,a=t.className,n=t.baseLinePoints,i=t.connectNulls,o=n7e(t,a7e);if(!r||!r.length)return null;var l=Xr("recharts-polygon",a);if(n&&n.length){var c=o.stroke&&o.stroke!=="none",d=h7e(r,n,i);return ae.createElement("g",{className:l},ae.createElement("path",Px({},wr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ae.createElement("path",Px({},wr(o,!0),{fill:"none",d:_y(r,i)})):null,c?ae.createElement("path",Px({},wr(o,!0),{fill:"none",d:_y(n,i)})):null)}var u=_y(r,i);return ae.createElement("path",Px({},wr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F5.apply(this,arguments)}var XC=function(t){var r=t.cx,a=t.cy,n=t.r,i=t.className,o=Xr("recharts-dot",i);return r===+r&&a===+a&&n===+n?f.createElement("circle",F5({},wr(t,!1),$2(t),{className:o,cx:r,cy:a,r:n})):null};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}var f7e=["x","y","top","left","width","height","className"];function M5(){return M5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M5.apply(this,arguments)}function WU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WU(Object(r),!0).forEach(function(a){x7e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function x7e(e,t,r){return t=g7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7e(e){var t=v7e(e,"string");return Qb(t)=="symbol"?t:t+""}function v7e(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y7e(e,t){if(e==null)return{};var r=b7e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function b7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var w7e=function(t,r,a,n,i,o){return"M".concat(t,",").concat(i,"v").concat(n,"M").concat(o,",").concat(r,"h").concat(a)},j7e=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,i=n===void 0?0:n,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,m=t.height,p=m===void 0?0:m,g=t.className,x=y7e(t,f7e),y=p7e({x:a,y:i,top:l,left:d,width:h,height:p},x);return!yt(a)||!yt(i)||!yt(h)||!yt(p)||!yt(l)||!yt(d)?null:ae.createElement("path",M5({},wr(y,!0),{className:Xr("recharts-cross",g),d:w7e(a,i,h,p,l,d)}))},N7e=HC,S7e=wee,k7e=Bd;function C7e(e,t){return e&&e.length?N7e(e,k7e(t),S7e):void 0}var A7e=C7e;const E7e=qs(A7e);var P7e=HC,T7e=Bd,_7e=jee;function D7e(e,t){return e&&e.length?P7e(e,T7e(t),_7e):void 0}var O7e=D7e;const I7e=qs(O7e);var R7e=["cx","cy","angle","ticks","axisLine"],F7e=["ticks","tick","angle","tickFormatter","stroke"];function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dy.apply(this,arguments)}function HU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HU(Object(r),!0).forEach(function(a){QC(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qU(e,t){if(e==null)return{};var r=M7e(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function M7e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function L7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GU(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ute(a.key),a)}}function $7e(e,t,r){return t&&GU(e.prototype,t),r&&GU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B7e(e,t,r){return t=yS(t),U7e(e,dte()?Reflect.construct(t,r||[],yS(e).constructor):t.apply(e,r))}function U7e(e,t){if(t&&(Wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V7e(e)}function V7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function yS(e){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yS(e)}function z7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L5(e,t)}function L5(e,t){return L5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},L5(e,t)}function QC(e,t,r){return t=ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=W7e(e,"string");return Wg(t)=="symbol"?t:t+""}function W7e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC=function(e){function t(){return L7e(this,t),B7e(this,t,arguments)}return z7e(t,e),$7e(t,[{key:"getTickValueCoord",value:function(a){var n=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return xa(l,c,n,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,n;switch(a){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=E7e(l,function(u){return u.coordinate||0}),d=I7e(l,function(u){return u.coordinate||0});return{cx:n,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=qU(a,R7e),u=l.reduce(function(g,x){return[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)]},[1/0,-1/0]),h=xa(n,i,u[0],o),m=xa(n,i,u[1],o),p=Km(Km(Km({},wr(d,!1)),{},{fill:"none"},wr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ae.createElement("line",Dy({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.angle,c=n.tickFormatter,d=n.stroke,u=qU(n,F7e),h=this.getTickTextAnchor(),m=wr(u,!1),p=wr(o,!1),g=i.map(function(x,y){var w=a.getTickValueCoord(x),b=Km(Km(Km(Km({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:d},p),{},{index:y},w),{},{payload:x});return ae.createElement(Ss,Dy({className:Xr("recharts-polar-radius-axis-tick",Xee(o)),key:"tick-".concat(x.coordinate)},tp(a.props,x,y)),t.renderTickItem(o,b,c?c(x.value,y):x.value))});return ae.createElement(Ss,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.axisLine,o=a.tick;return!n||!n.length?null:ae.createElement(Ss,{className:Xr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ri.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,n,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,n):Rr(a)?o=a(n):o=ae.createElement(rp,Dy({},n,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(f.PureComponent);QC(JC,"displayName","PolarRadiusAxis");QC(JC,"axisType","radiusAxis");QC(JC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lf.apply(this,arguments)}function KU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KU(Object(r),!0).forEach(function(a){ZC(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function H7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YU(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mte(a.key),a)}}function q7e(e,t,r){return t&&YU(e.prototype,t),r&&YU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7e(e,t,r){return t=bS(t),K7e(e,hte()?Reflect.construct(t,r||[],bS(e).constructor):t.apply(e,r))}function K7e(e,t){if(t&&(Hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7e(e)}function Y7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hte=function(){return!!e})()}function bS(e){return bS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bS(e)}function X7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$5(e,t)}function $5(e,t){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},$5(e,t)}function ZC(e,t,r){return t=mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=Q7e(e,"string");return Hg(t)=="symbol"?t:t+""}function Q7e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7e=Math.PI/180,XU=1e-5,eA=function(e){function t(){return H7e(this,t),G7e(this,t,arguments)}return X7e(t,e),q7e(t,[{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.cx,o=n.cy,l=n.radius,c=n.orientation,d=n.tickSize,u=d||8,h=xa(i,o,l,a.coordinate),m=xa(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(a){var n=this.props.orientation,i=Math.cos(-a.coordinate*J7e),o;return i>XU?o=n==="outer"?"start":"end":i<-XU?o=n==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=Ym(Ym({},wr(this.props,!1)),{},{fill:"none"},wr(l,!1));if(c==="circle")return ae.createElement(XC,lf({className:"recharts-polar-angle-axis-line"},d,{cx:n,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return xa(n,i,o,m.coordinate)});return ae.createElement(m7e,lf({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.tickLine,c=n.tickFormatter,d=n.stroke,u=wr(this.props,!1),h=wr(o,!1),m=Ym(Ym({},u),{},{fill:"none"},wr(l,!1)),p=i.map(function(g,x){var y=a.getTickLineCoord(g),w=a.getTickTextAnchor(g),b=Ym(Ym(Ym({textAnchor:w},u),{},{stroke:"none",fill:d},h),{},{index:x,payload:g,x:y.x2,y:y.y2});return ae.createElement(Ss,lf({className:Xr("recharts-polar-angle-axis-tick",Xee(o)),key:"tick-".concat(g.coordinate)},tp(a.props,g,x)),l&&ae.createElement("line",lf({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,b,c?c(g.value,x):g.value))});return ae.createElement(Ss,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!n||!n.length?null:ae.createElement(Ss,{className:Xr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,n,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,n):Rr(a)?o=a(n):o=ae.createElement(rp,lf({},n,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(f.PureComponent);ZC(eA,"displayName","PolarAngleAxis");ZC(eA,"axisType","angleAxis");ZC(eA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Z7e=gZ,eVe=Z7e(Object.getPrototypeOf,Object),tVe=eVe,rVe=Fu,sVe=tVe,aVe=Mu,nVe="[object Object]",iVe=Function.prototype,oVe=Object.prototype,fte=iVe.toString,lVe=oVe.hasOwnProperty,cVe=fte.call(Object);function dVe(e){if(!aVe(e)||rVe(e)!=nVe)return!1;var t=sVe(e);if(t===null)return!0;var r=lVe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&fte.call(r)==cVe}var uVe=dVe;const hVe=qs(uVe);var mVe=Fu,fVe=Mu,pVe="[object Boolean]";function xVe(e){return e===!0||e===!1||fVe(e)&&mVe(e)==pVe}var gVe=xVe;const vVe=qs(gVe);function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wS.apply(this,arguments)}function yVe(e,t){return NVe(e)||jVe(e,t)||wVe(e,t)||bVe()}function bVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wVe(e,t){if(e){if(typeof e=="string")return QU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QU(e,t)}}function QU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function NVe(e){if(Array.isArray(e))return e}function JU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ZU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JU(Object(r),!0).forEach(function(a){SVe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SVe(e,t,r){return t=kVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kVe(e){var t=CVe(e,"string");return Jb(t)=="symbol"?t:t+""}function CVe(e,t){if(Jb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Jb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e7=function(t,r,a,n,i){var o=a-n,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-n,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},AVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EVe=function(t){var r=ZU(ZU({},AVe),t),a=f.useRef(),n=f.useState(-1),i=yVe(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var v=a.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,m=r.height,p=r.className,g=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var b=Xr("recharts-trapezoid",p);return w?ae.createElement(Fd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:x,animationEasing:g,isActive:w},function(v){var N=v.upperWidth,j=v.lowerWidth,k=v.height,S=v.x,C=v.y;return ae.createElement(Fd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:g},ae.createElement("path",wS({},wr(r,!0),{className:b,d:e7(S,C,N,j,k),ref:a})))}):ae.createElement("g",null,ae.createElement("path",wS({},wr(r,!0),{className:b,d:e7(c,d,u,h,m)})))},PVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function TVe(e,t){if(e==null)return{};var r=_Ve(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _Ve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(a){DVe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function DVe(e,t,r){return t=OVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OVe(e){var t=IVe(e,"string");return Zb(t)=="symbol"?t:t+""}function IVe(e,t){if(Zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zb(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RVe(e,t){return jS(jS({},t),e)}function FVe(e,t){return e==="symbols"}function r7(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ae.createElement(c3,r);case"trapezoid":return ae.createElement(EVe,r);case"sector":return ae.createElement(Zee,r);case"symbols":if(FVe(t))return ae.createElement(ER,r);break;default:return null}}function MVe(e){return f.isValidElement(e)?e.props:e}function pte(e){var t=e.option,r=e.shapeType,a=e.propTransformer,n=a===void 0?RVe:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=TVe(e,PVe),d;if(f.isValidElement(t))d=f.cloneElement(t,jS(jS({},c),MVe(t)));else if(Rr(t))d=t(c);else if(hVe(t)&&!vVe(t)){var u=n(t,c);d=ae.createElement(r7,{shapeType:r,elementProps:u})}else{var h=c;d=ae.createElement(r7,{shapeType:r,elementProps:h})}return l?ae.createElement(Ss,{className:o},d):d}function tA(e,t){return t!=null&&"trapezoids"in e.props}function rA(e,t){return t!=null&&"sectors"in e.props}function ew(e,t){return t!=null&&"points"in e.props}function LVe(e,t){var r,a,n=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return n&&i}function $Ve(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function BVe(e,t){var r=e.x===t.x,a=e.y===t.y,n=e.z===t.z;return r&&a&&n}function UVe(e,t){var r;return tA(e,t)?r=LVe:rA(e,t)?r=$Ve:ew(e,t)&&(r=BVe),r}function VVe(e,t){var r;return tA(e,t)?r="trapezoids":rA(e,t)?r="sectors":ew(e,t)&&(r="points"),r}function zVe(e,t){if(tA(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(rA(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return ew(e,t)?t.payload:{}}function WVe(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,n=VVe(r,t),i=zVe(r,t),o=a.filter(function(c,d){var u=Ug(i,c),h=r.props[n].filter(function(g){var x=UVe(r,t);return x(g,t)}),m=r.props[n].indexOf(h[h.length-1]),p=d===m;return u&&p}),l=a.indexOf(o[o.length-1]);return l}var PN;function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tx.apply(this,arguments)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(a){Fl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gte(a.key),a)}}function qVe(e,t,r){return t&&a7(e.prototype,t),r&&a7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GVe(e,t,r){return t=NS(t),KVe(e,xte()?Reflect.construct(t,r||[],NS(e).constructor):t.apply(e,r))}function KVe(e,t){if(t&&(qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YVe(e)}function YVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xte=function(){return!!e})()}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NS(e)}function XVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B5(e,t)}function B5(e,t){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},B5(e,t)}function Fl(e,t,r){return t=gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=QVe(e,"string");return qg(t)=="symbol"?t:t+""}function QVe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $u=function(e){function t(r){var a;return HVe(this,t),a=GVe(this,t,[r]),Fl(a,"pieRef",null),Fl(a,"sectorRefs",[]),Fl(a,"id",M0("recharts-pie-")),Fl(a,"handleAnimationEnd",function(){var n=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Rr(n)&&n()}),Fl(a,"handleAnimationStart",function(){var n=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Rr(n)&&n()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return XVe(t,e),qVe(t,[{key:"isActiveIndex",value:function(a){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(a)!==-1:a===n}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=wr(this.props,!1),h=wr(o,!1),m=wr(l,!1),p=o&&o.offsetRadius||20,g=a.map(function(x,y){var w=(x.startAngle+x.endAngle)/2,b=xa(x.cx,x.cy,x.outerRadius+p,w),v=ma(ma(ma(ma({},u),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(b.x,x.cx)},b),N=ma(ma(ma(ma({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[xa(x.cx,x.cy,x.outerRadius,w),b]}),j=c;return Qr(c)&&Qr(d)?j="value":Qr(c)&&(j=d),ae.createElement(Ss,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,v,Vn(x,j)))});return ae.createElement(Ss,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var n=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=n.isActiveIndex(u),m=c&&n.hasActiveIndex()?c:null,p=h?o:m,g=ma(ma({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ae.createElement(Ss,Tx({ref:function(y){y&&!n.sectorRefs.includes(y)&&n.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},tp(n.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ae.createElement(pte,Tx({option:p,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,n=this.props,i=n.sectors,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=this.state,m=h.prevSectors,p=h.prevIsAnimationActive;return ae.createElement(Fd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var x=g.t,y=[],w=i&&i[0],b=w.startAngle;return i.forEach(function(v,N){var j=m&&m[N],k=N>0?ul(v,"paddingAngle",0):0;if(j){var S=Oo(j.endAngle-j.startAngle,v.endAngle-v.startAngle),C=ma(ma({},v),{},{startAngle:b+k,endAngle:b+S(x)+k});y.push(C),b=C.endAngle}else{var A=v.endAngle,E=v.startAngle,D=Oo(0,A-E),P=D(x),T=ma(ma({},v),{},{startAngle:b+k,endAngle:b+P+k});y.push(T),b=T.endAngle}}),ae.createElement(Ss,null,a.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(a){var n=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,n=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&n&&n.length&&(!o||!Ug(o,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,n=this.props,i=n.hide,o=n.sectors,l=n.className,c=n.label,d=n.cx,u=n.cy,h=n.innerRadius,m=n.outerRadius,p=n.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!yt(d)||!yt(u)||!yt(h)||!yt(m))return null;var x=Xr("recharts-pie",l);return ae.createElement(Ss,{tabIndex:this.props.rootTabIndex,className:x,ref:function(w){a.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),ri.renderCallByParent(this.props,null,!1),(!p||g)&&mu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return n.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:a.sectors!==n.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,n){return a>n?"start":a<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,n,i){if(ae.isValidElement(a))return ae.cloneElement(a,n);if(Rr(a))return a(n);var o=Xr("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ae.createElement(Xx,Tx({},n,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,n,i){if(ae.isValidElement(a))return ae.cloneElement(a,n);var o=i;if(Rr(a)&&(o=a(n),ae.isValidElement(o)))return o;var l=Xr("recharts-pie-label-text",typeof a!="boolean"&&!Rr(a)?a.className:"");return ae.createElement(rp,Tx({},n,{alignmentBaseline:"middle",className:l}),o)}}])}(f.PureComponent);PN=$u;Fl($u,"displayName","Pie");Fl($u,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ed.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fl($u,"parseDeltaAngle",function(e,t){var r=oo(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Fl($u,"getRealPieData",function(e){var t=e.data,r=e.children,a=wr(e,!1),n=Hl(r,LC);return t&&t.length?t.map(function(i,o){return ma(ma(ma({payload:i},a),i),n&&n[o]&&n[o].props)}):n&&n.length?n.map(function(i){return ma(ma({},a),i.props)}):[]});Fl($u,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,n=t.width,i=t.height,o=Yee(n,i),l=a+lo(e.cx,n,n/2),c=r+lo(e.cy,i,i/2),d=lo(e.innerRadius,o,0),u=lo(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(n*n+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Fl($u,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?ma(ma({},t.type.defaultProps),t.props):t.props,n=PN.getRealPieData(a);if(!n||!n.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,h=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),g=PN.parseCoordinateOfPie(a,r),x=PN.parseDeltaAngle(o,l),y=Math.abs(x),w=d;Qr(d)&&Qr(h)?(Rc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Qr(d)&&(Rc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var b=n.filter(function(C){return Vn(C,w,0)!==0}).length,v=(y>=360?b:b-1)*c,N=y-b*p-v,j=n.reduce(function(C,A){var E=Vn(A,w,0);return C+(yt(E)?E:0)},0),k;if(j>0){var S;k=n.map(function(C,A){var E=Vn(C,w,0),D=Vn(C,u,A),P=(yt(E)?E:0)/j,T;A?T=S.endAngle+oo(x)*c*(E!==0?1:0):T=o;var _=T+oo(x)*((E!==0?p:0)+P*N),O=(T+_)/2,F=(g.innerRadius+g.outerRadius)/2,I=[{name:D,value:E,payload:C,dataKey:w,type:m}],R=xa(g.cx,g.cy,F,O);return S=ma(ma(ma({percent:P,cornerRadius:i,name:D,tooltipPayload:I,midAngle:O,middleRadius:F,tooltipPosition:R},C),g),{},{value:Vn(C,w),startAngle:T,endAngle:_,payload:C,paddingAngle:oo(x)*c}),S})}return ma(ma({},g),{},{sectors:k,data:n})});var JVe=Math.ceil,ZVe=Math.max;function eze(e,t,r,a){for(var n=-1,i=ZVe(JVe((t-e)/(r||1)),0),o=Array(i);i--;)o[a?i:++n]=e,e+=r;return o}var tze=eze,rze=FZ,n7=1/0,sze=17976931348623157e292;function aze(e){if(!e)return e===0?e:0;if(e=rze(e),e===n7||e===-n7){var t=e<0?-1:1;return t*sze}return e===e?e:0}var vte=aze,nze=tze,ize=MC,$P=vte;function oze(e){return function(t,r,a){return a&&typeof a!="number"&&ize(t,r,a)&&(r=a=void 0),t=$P(t),r===void 0?(r=t,t=0):r=$P(r),a=a===void 0?t<r?1:-1:$P(a),nze(t,r,a,e)}}var lze=oze,cze=lze,dze=cze(),uze=dze;const SS=qs(uze);function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function i7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i7(Object(r),!0).forEach(function(a){yte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yte(e,t,r){return t=hze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hze(e){var t=mze(e,"string");return tw(t)=="symbol"?t:t+""}function mze(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(tw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fze=["Webkit","Moz","O","ms"],pze=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),n=fze.reduce(function(i,o){return o7(o7({},i),{},yte({},o+a,r))},{});return n[t]=r,n};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kS.apply(this,arguments)}function l7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(r),!0).forEach(function(a){Ko(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wte(a.key),a)}}function gze(e,t,r){return t&&c7(e.prototype,t),r&&c7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vze(e,t,r){return t=CS(t),yze(e,bte()?Reflect.construct(t,r||[],CS(e).constructor):t.apply(e,r))}function yze(e,t){if(t&&(Gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bze(e)}function bze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bte=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CS(e)}function wze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U5(e,t)}function U5(e,t){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},U5(e,t)}function Ko(e,t,r){return t=wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=jze(e,"string");return Gg(t)=="symbol"?t:t+""}function jze(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nze=function(t){var r=t.data,a=t.startIndex,n=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Ey().domain(SS(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(n),scale:d,scaleValues:u}},d7=function(t){return t.changedTouches&&!!t.changedTouches.length},Kg=function(e){function t(r){var a;return xze(this,t),a=vze(this,t,[r]),Ko(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),Ko(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),Ko(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,i=n.endIndex,o=n.onDragEnd,l=n.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),Ko(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ko(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ko(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ko(a,"handleSlideDragStart",function(n){var i=d7(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return wze(t,e),gze(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(n,i),m=Math.max(n,i),p=t.getIndexInRange(o,h),g=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,i=n.data,o=n.tickFormatter,l=n.dataKey,c=Vn(i[a],l,a);return Rr(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,i=n.slideMoveStartX,o=n.startX,l=n.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,p=c.endIndex,g=c.onChange,x=a.pageX-i;x>0?x=Math.min(x,d+u-h-l,d+u-h-o):x<0&&(x=Math.max(x,d-o,d-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==m||y.endIndex!==p)&&g&&g(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var i=d7(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,i=n.brushMoveStartX,o=n.movingTravellerId,l=n.endX,c=n.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,y=u.data,w={startX:this.state.startX,endX:this.state.endX},b=a.pageX-i;b>0?b=Math.min(b,h+m-p-d):b<0&&(b=Math.max(b,h-d)),w[o]=d+b;var v=this.getIndex(w),N=v.startIndex,j=v.endIndex,k=function(){var C=y.length-1;return o==="startX"&&(l>c?N%x===0:j%x===0)||l<c&&j===C||o==="endX"&&(l>c?j%x===0:N%x===0)||l>c&&j===C};this.setState(Ko(Ko({},o,d+b),"brushMoveStartX",a.pageX),function(){g&&k()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[n],h=l.indexOf(u);if(h!==-1){var m=h+a;if(!(m===-1||m>=l.length)){var p=l[m];n==="startX"&&p>=d||n==="endX"&&p<=c||this.setState(Ko({},n,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return ae.createElement("rect",{stroke:d,fill:c,x:n,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,h=f.Children.only(d);return h?ae.cloneElement(h,{x:n,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,p=c.ariaLabel,g=c.data,x=c.startIndex,y=c.endIndex,w=Math.max(a,this.props.x),b=BP(BP({},wr(this.props,!1)),{},{x:w,y:d,width:u,height:h}),v=p||"Min value: ".concat((i=g[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return ae.createElement(Ss,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,n))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(a,n){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,n)+d,h=Math.max(Math.abs(n-a)-d,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,h=u.startX,m=u.endX,p=5,g={pointerEvents:"none",fill:d};return ae.createElement(Ss,{className:"recharts-brush-texts"},ae.createElement(rp,kS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+l/2},g),this.getTextOfTick(n)),ae.createElement(rp,kS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,n=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,h=a.alwaysShowText,m=this.state,p=m.startX,g=m.endX,x=m.isTextActive,y=m.isSlideMoving,w=m.isTravellerMoving,b=m.isTravellerFocused;if(!n||!n.length||!yt(l)||!yt(c)||!yt(d)||!yt(u)||d<=0||u<=0)return null;var v=Xr("recharts-brush",i),N=ae.Children.count(o)===1,j=pze("userSelect","none");return ae.createElement(Ss,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||y||w||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:n,y:i,width:o,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:n+1,y1:d,x2:n+o-1,y2:d,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:n+1,y1:d+2,x2:n+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var i;return ae.isValidElement(a)?i=ae.cloneElement(a,n):Rr(a)?i=a(n):i=t.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(a,n){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==n.prevData||d!==n.prevUpdateId)return BP({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Nze({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||l!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([l,l+o-c]);var m=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,n){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>n?l=c:o=c}return n>=a[l]?l:o}}])}(f.PureComponent);Ko(Kg,"displayName","Brush");Ko(Kg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sze=RR;function kze(e,t){var r;return Sze(e,function(a,n,i){return r=t(a,n,i),!r}),!!r}var Cze=kze,Aze=cZ,Eze=Bd,Pze=Cze,Tze=Go,_ze=MC;function Dze(e,t,r){var a=Tze(e)?Aze:Pze;return r&&_ze(e,t,r)&&(t=void 0),a(e,Eze(t))}var Oze=Dze;const Ize=qs(Oze);var Td=function(t,r){var a=t.alwaysShow,n=t.ifOverflow;return a&&(n="extendDomain"),n===r},u7=_Z;function Rze(e,t,r){t=="__proto__"&&u7?u7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Fze=Rze,Mze=Fze,Lze=PZ,$ze=Bd;function Bze(e,t){var r={};return t=$ze(t),Lze(e,function(a,n,i){Mze(r,n,t(a,n,i))}),r}var Uze=Bze;const Vze=qs(Uze);function zze(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var Wze=zze,Hze=RR;function qze(e,t){var r=!0;return Hze(e,function(a,n,i){return r=!!t(a,n,i),r}),r}var Gze=qze,Kze=Wze,Yze=Gze,Xze=Bd,Qze=Go,Jze=MC;function Zze(e,t,r){var a=Qze(e)?Kze:Yze;return r&&Jze(e,t,r)&&(t=void 0),a(e,Xze(t))}var eWe=Zze;const jte=qs(eWe);var tWe=["x","y"];function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function V5(){return V5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V5.apply(this,arguments)}function h7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h7(Object(r),!0).forEach(function(a){rWe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rWe(e,t,r){return t=sWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sWe(e){var t=aWe(e,"string");return rw(t)=="symbol"?t:t+""}function aWe(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(rw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nWe(e,t){if(e==null)return{};var r=iWe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function iWe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function oWe(e,t){var r=e.x,a=e.y,n=nWe(e,tWe),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||n.height),u=parseInt(d,10),h="".concat(t.width||n.width),m=parseInt(h,10);return _v(_v(_v(_v(_v({},t),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function m7(e){return ae.createElement(pte,V5({shapeType:"rectangle",propTransformer:oWe,activeClassName:"recharts-active-bar"},e))}var lWe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof t=="number")return t;var i=yt(a)||OPe(a);return i?t(a,n):(i||ap(),r)}},cWe=["value","background"],Nte;function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function dWe(e,t){if(e==null)return{};var r=uWe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function uWe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},AS.apply(this,arguments)}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(a){Th(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kte(a.key),a)}}function mWe(e,t,r){return t&&p7(e.prototype,t),r&&p7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fWe(e,t,r){return t=ES(t),pWe(e,Ste()?Reflect.construct(t,r||[],ES(e).constructor):t.apply(e,r))}function pWe(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xWe(e)}function xWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ste(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ste=function(){return!!e})()}function ES(e){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ES(e)}function gWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z5(e,t)}function z5(e,t){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},z5(e,t)}function Th(e,t,r){return t=kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=vWe(e,"string");return Yg(t)=="symbol"?t:t+""}function vWe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nj=function(e){function t(){var r;hWe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=fWe(this,t,[].concat(n)),Th(r,"state",{isAnimationFinished:!1}),Th(r,"id",M0("recharts-bar-")),Th(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Th(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return gWe(t,e),mWe(t,[{key:"renderRectanglesStatically",value:function(a){var n=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=wr(this.props,!1);return a&&a.map(function(h,m){var p=m===c,g=p?d:o,x=wn(wn(wn({},u),h),{},{isActive:p,option:g,index:m,dataKey:l,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return ae.createElement(Ss,AS({className:"recharts-bar-rectangle"},tp(n.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),ae.createElement(m7,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,i=n.data,o=n.layout,l=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,u=n.animationEasing,h=n.animationId,m=this.state.prevData;return ae.createElement(Fd,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=i.map(function(y,w){var b=m&&m[w];if(b){var v=Oo(b.x,y.x),N=Oo(b.y,y.y),j=Oo(b.width,y.width),k=Oo(b.height,y.height);return wn(wn({},y),{},{x:v(g),y:N(g),width:j(g),height:k(g)})}if(o==="horizontal"){var S=Oo(0,y.height),C=S(g);return wn(wn({},y),{},{y:y.y+y.height-C,height:C})}var A=Oo(0,y.width),E=A(g);return wn(wn({},y),{},{width:E})});return ae.createElement(Ss,null,a.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&n&&n.length&&(!o||!Ug(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,i=n.data,o=n.dataKey,l=n.activeIndex,c=wr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=dWe(d,cWe);if(!h)return null;var p=wn(wn(wn(wn(wn({},m),{},{fill:"#eee"},h),c),tp(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ae.createElement(m7,AS({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Hl(u,YC);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,p=function(y,w){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Vn(y,w)}},g={clipPath:a?"url(#clipPath-".concat(n,")"):null};return ae.createElement(Ss,g,h.map(function(x){return ae.cloneElement(x,{key:"error-bar-".concat(n,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,h=a.width,m=a.height,p=a.isAnimationActive,g=a.background,x=a.id;if(n||!i||!i.length)return null;var y=this.state.isAnimationFinished,w=Xr("recharts-bar",o),b=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,N=b||v,j=Qr(x)?this.id:x;return ae.createElement(Ss,{className:w},b||v?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(j)},ae.createElement("rect",{x:b?d:d-h/2,y:v?u:u-m/2,width:b?h:h*2,height:v?m:m*2}))):null,ae.createElement(Ss,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||y)&&mu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])}(f.PureComponent);Nte=nj;Th(nj,"displayName","Bar");Th(nj,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ed.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Th(nj,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,n=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=J8e(a,r);if(!p)return null;var g=t.layout,x=r.type.defaultProps,y=x!==void 0?wn(wn({},x),r.props):r.props,w=y.dataKey,b=y.children,v=y.minPointSize,N=g==="horizontal"?o:i,j=d?N.scale.domain():null,k=nBe({numericAxis:N}),S=Hl(b,LC),C=h.map(function(A,E){var D,P,T,_,O,F;d?D=Z8e(d[u+E],j):(D=Vn(A,w),Array.isArray(D)||(D=[k,D]));var I=lWe(v,Nte.defaultProps.minPointSize)(D[1],E);if(g==="horizontal"){var R,L=[o.scale(D[0]),o.scale(D[1])],H=L[0],W=L[1];P=aU({axis:i,ticks:l,bandSize:n,offset:p.offset,entry:A,index:E}),T=(R=W??H)!==null&&R!==void 0?R:void 0,_=p.size;var M=H-W;if(O=Number.isNaN(M)?0:M,F={x:P,y:o.y,width:_,height:o.height},Math.abs(I)>0&&Math.abs(O)<Math.abs(I)){var G=oo(O||I)*(Math.abs(I)-Math.abs(O));T-=G,O+=G}}else{var V=[i.scale(D[0]),i.scale(D[1])],q=V[0],Y=V[1];if(P=q,T=aU({axis:o,ticks:c,bandSize:n,offset:p.offset,entry:A,index:E}),_=Y-q,O=p.size,F={x:i.x,y:T,width:i.width,height:O},Math.abs(I)>0&&Math.abs(_)<Math.abs(I)){var U=oo(_||I)*(Math.abs(I)-Math.abs(_));_+=U}}return wn(wn(wn({},A),{},{x:P,y:T,width:_,height:O,value:d?D:D[1],payload:A,background:F},S&&S[E]&&S[E].props),{},{tooltipPayload:[Gee(r,A)],tooltipPosition:{x:P+_/2,y:T+O/2}})});return wn({data:C,layout:g},m)});function sw(e){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sw(e)}function yWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Cte(a.key),a)}}function bWe(e,t,r){return t&&x7(e.prototype,t),r&&x7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(a){sA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sA(e,t,r){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=wWe(e,"string");return sw(t)=="symbol"?t:t+""}function wWe(e,t){if(sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(sw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jWe=function(t,r,a,n,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},m=!!Xo(d,nj);return u.reduce(function(p,g){var x=r[g],y=x.orientation,w=x.domain,b=x.padding,v=b===void 0?{}:b,N=x.mirror,j=x.reversed,k="".concat(y).concat(N?"Mirror":""),S,C,A,E,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var P=w[1]-w[0],T=1/0,_=x.categoricalDomain.sort(FPe);if(_.forEach(function(V,q){q>0&&(T=Math.min((V||0)-(_[q-1]||0),T))}),Number.isFinite(T)){var O=T/P,F=x.layout==="vertical"?a.height:a.width;if(x.padding==="gap"&&(S=O*F/2),x.padding==="no-gap"){var I=lo(t.barCategoryGap,O*F),R=O*F/2;S=R-I-(R-I)/F*I}}}n==="xAxis"?C=[a.left+(v.left||0)+(S||0),a.left+a.width-(v.right||0)-(S||0)]:n==="yAxis"?C=c==="horizontal"?[a.top+a.height-(v.bottom||0),a.top+(v.top||0)]:[a.top+(v.top||0)+(S||0),a.top+a.height-(v.bottom||0)-(S||0)]:C=x.range,j&&(C=[C[1],C[0]]);var L=zee(x,i,m),H=L.scale,W=L.realScaleType;H.domain(w).range(C),Wee(H);var M=Hee(H,Nc(Nc({},x),{},{realScaleType:W}));n==="xAxis"?(D=y==="top"&&!N||y==="bottom"&&N,A=a.left,E=h[k]-D*x.height):n==="yAxis"&&(D=y==="left"&&!N||y==="right"&&N,A=h[k]-D*x.width,E=a.top);var G=Nc(Nc(Nc({},x),M),{},{realScaleType:W,x:A,y:E,scale:H,width:n==="xAxis"?a.width:x.width,height:n==="yAxis"?a.height:x.height});return G.bandSize=hS(G,M),!x.hide&&n==="xAxis"?h[k]+=(D?-1:1)*G.height:x.hide||(h[k]+=(D?-1:1)*G.width),Nc(Nc({},p),{},sA({},g,G))},{})},Ate=function(t,r){var a=t.x,n=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(n,o),width:Math.abs(i-a),height:Math.abs(o-n)}},NWe=function(t){var r=t.x1,a=t.y1,n=t.x2,i=t.y2;return Ate({x:r,y:a},{x:n,y:i})},Ete=function(){function e(t){yWe(this,e),this.scale=t}return bWe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),n=a[0],i=a[a.length-1];return n<=i?r>=n&&r<=i:r>=i&&r<=n}}],[{key:"create",value:function(r){return new e(r)}}])}();sA(Ete,"EPS",1e-4);var d3=function(t){var r=Object.keys(t).reduce(function(a,n){return Nc(Nc({},a),{},sA({},n,Ete.create(t[n])))},{});return Nc(Nc({},r),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Vze(n,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(n){return jte(n,function(i,o){return r[o].isInRange(i)})}})};function SWe(e){return(e%180+180)%180}var kWe=function(t){var r=t.width,a=t.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SWe(n),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},CWe=Bd,AWe=ej,EWe=RC;function PWe(e){return function(t,r,a){var n=Object(t);if(!AWe(t)){var i=CWe(r);t=EWe(t),r=function(l){return i(n[l],l,n)}}var o=e(t,r,a);return o>-1?n[i?t[o]:o]:void 0}}var TWe=PWe,_We=vte;function DWe(e){var t=_We(e),r=t%1;return t===t?r?t-r:t:0}var OWe=DWe,IWe=NZ,RWe=Bd,FWe=OWe,MWe=Math.max;function LWe(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=r==null?0:FWe(r);return n<0&&(n=MWe(a+n,0)),IWe(e,RWe(t),n)}var $We=LWe,BWe=TWe,UWe=$We,VWe=BWe(UWe),zWe=VWe;const WWe=qs(zWe);var HWe=MEe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),u3=f.createContext(void 0),h3=f.createContext(void 0),Pte=f.createContext(void 0),Tte=f.createContext({}),_te=f.createContext(void 0),Dte=f.createContext(0),Ote=f.createContext(0),v7=function(t){var r=t.state,a=r.xAxisMap,n=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=HWe(i);return ae.createElement(u3.Provider,{value:a},ae.createElement(h3.Provider,{value:n},ae.createElement(Tte.Provider,{value:i},ae.createElement(Pte.Provider,{value:u},ae.createElement(_te.Provider,{value:o},ae.createElement(Dte.Provider,{value:d},ae.createElement(Ote.Provider,{value:c},l)))))))},qWe=function(){return f.useContext(_te)},Ite=function(t){var r=f.useContext(u3);r==null&&ap();var a=r[t];return a==null&&ap(),a},GWe=function(){var t=f.useContext(u3);return xh(t)},KWe=function(){var t=f.useContext(h3),r=WWe(t,function(a){return jte(a.domain,Number.isFinite)});return r||xh(t)},Rte=function(t){var r=f.useContext(h3);r==null&&ap();var a=r[t];return a==null&&ap(),a},YWe=function(){var t=f.useContext(Pte);return t},XWe=function(){return f.useContext(Tte)},m3=function(){return f.useContext(Ote)},f3=function(){return f.useContext(Dte)};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function QWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JWe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Mte(a.key),a)}}function ZWe(e,t,r){return t&&JWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eHe(e,t,r){return t=PS(t),tHe(e,Fte()?Reflect.construct(t,r||[],PS(e).constructor):t.apply(e,r))}function tHe(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rHe(e)}function rHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!e})()}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(e)}function sHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W5(e,t)}function W5(e,t){return W5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},W5(e,t)}function y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(r),!0).forEach(function(a){p3(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function p3(e,t,r){return t=Mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=aHe(e,"string");return Xg(t)=="symbol"?t:t+""}function aHe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nHe(e,t){return cHe(e)||lHe(e,t)||oHe(e,t)||iHe()}function iHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oHe(e,t){if(e){if(typeof e=="string")return w7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w7(e,t)}}function w7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function cHe(e){if(Array.isArray(e))return e}function H5(){return H5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H5.apply(this,arguments)}var dHe=function(t,r){var a;return ae.isValidElement(t)?a=ae.cloneElement(t,r):Rr(t)?a=t(r):a=ae.createElement("line",H5({},r,{className:"recharts-reference-line-line"})),a},uHe=function(t,r,a,n,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,p=i.height;if(a){var g=d.y,x=t.y.apply(g,{position:o});if(Td(d,"discard")&&!t.y.isInRange(x))return null;var y=[{x:u+m,y:x},{x:u,y:x}];return c==="left"?y.reverse():y}if(r){var w=d.x,b=t.x.apply(w,{position:o});if(Td(d,"discard")&&!t.x.isInRange(b))return null;var v=[{x:b,y:h+p},{x:b,y:h}];return l==="top"?v.reverse():v}if(n){var N=d.segment,j=N.map(function(k){return t.apply(k,{position:o})});return Td(d,"discard")&&Ize(j,function(k){return!t.isInRange(k)})?null:j}return null};function hHe(e){var t=e.x,r=e.y,a=e.segment,n=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=qWe(),u=Ite(n),h=Rte(i),m=YWe();if(!d||!m)return null;Rc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=d3({x:u.scale,y:h.scale}),g=qn(t),x=qn(r),y=a&&a.length===2,w=uHe(p,g,x,y,m,e.position,u.orientation,h.orientation,e);if(!w)return null;var b=nHe(w,2),v=b[0],N=v.x,j=v.y,k=b[1],S=k.x,C=k.y,A=Td(e,"hidden")?"url(#".concat(d,")"):void 0,E=b7(b7({clipPath:A},wr(e,!0)),{},{x1:N,y1:j,x2:S,y2:C});return ae.createElement(Ss,{className:Xr("recharts-reference-line",l)},dHe(o,E),ri.renderCallByParent(e,NWe({x1:N,y1:j,x2:S,y2:C})))}var x3=function(e){function t(){return QWe(this,t),eHe(this,t,arguments)}return sHe(t,e),ZWe(t,[{key:"render",value:function(){return ae.createElement(hHe,this.props)}}])}(ae.Component);p3(x3,"displayName","ReferenceLine");p3(x3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q5(){return q5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},q5.apply(this,arguments)}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function j7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function N7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j7(Object(r),!0).forEach(function(a){aA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fHe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$te(a.key),a)}}function pHe(e,t,r){return t&&fHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xHe(e,t,r){return t=TS(t),gHe(e,Lte()?Reflect.construct(t,r||[],TS(e).constructor):t.apply(e,r))}function gHe(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(e)}function vHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lte=function(){return!!e})()}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TS(e)}function yHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G5(e,t)}function G5(e,t){return G5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},G5(e,t)}function aA(e,t,r){return t=$te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=bHe(e,"string");return Qg(t)=="symbol"?t:t+""}function bHe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wHe=function(t){var r=t.x,a=t.y,n=t.xAxis,i=t.yAxis,o=d3({x:n.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return Td(t,"discard")&&!o.isInRange(l)?null:l},nA=function(e){function t(){return mHe(this,t),xHe(this,t,arguments)}return yHe(t,e),pHe(t,[{key:"render",value:function(){var a=this.props,n=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=qn(n),u=qn(i);if(Rc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=wHe(this.props);if(!h)return null;var m=h.x,p=h.y,g=this.props,x=g.shape,y=g.className,w=Td(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=N7(N7({clipPath:w},wr(this.props,!0)),{},{cx:m,cy:p});return ae.createElement(Ss,{className:Xr("recharts-reference-dot",y)},t.renderDot(x,b),ri.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(ae.Component);aA(nA,"displayName","ReferenceDot");aA(nA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});aA(nA,"renderDot",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):Rr(e)?r=e(t):r=ae.createElement(XC,q5({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function K5(){return K5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K5.apply(this,arguments)}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function S7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function k7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(r),!0).forEach(function(a){iA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NHe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ute(a.key),a)}}function SHe(e,t,r){return t&&NHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kHe(e,t,r){return t=_S(t),CHe(e,Bte()?Reflect.construct(t,r||[],_S(e).constructor):t.apply(e,r))}function CHe(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AHe(e)}function AHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bte=function(){return!!e})()}function _S(e){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_S(e)}function EHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y5(e,t)}function Y5(e,t){return Y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Y5(e,t)}function iA(e,t,r){return t=Ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=PHe(e,"string");return Jg(t)=="symbol"?t:t+""}function PHe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Jg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var THe=function(t,r,a,n,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=d3({x:u.scale,y:h.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:n?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Td(i,"discard")&&(!m.isInRange(p)||!m.isInRange(g))?null:Ate(p,g)},oA=function(e){function t(){return jHe(this,t),kHe(this,t,arguments)}return EHe(t,e),SHe(t,[{key:"render",value:function(){var a=this.props,n=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;Rc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qn(n),m=qn(i),p=qn(o),g=qn(l),x=this.props.shape;if(!h&&!m&&!p&&!g&&!x)return null;var y=THe(h,m,p,g,this.props);if(!y&&!x)return null;var w=Td(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ae.createElement(Ss,{className:Xr("recharts-reference-area",c)},t.renderRect(x,k7(k7({clipPath:w},wr(this.props,!0)),y)),ri.renderCallByParent(this.props,y))}}])}(ae.Component);iA(oA,"displayName","ReferenceArea");iA(oA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iA(oA,"renderRect",function(e,t){var r;return ae.isValidElement(e)?r=ae.cloneElement(e,t):Rr(e)?r=e(t):r=ae.createElement(c3,K5({},t,{className:"recharts-reference-area-rect"})),r});function Vte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function _He(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return kWe(a,r)}function DHe(e,t,r){var a=r==="width",n=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function DS(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function OHe(e,t){return Vte(e,t+1)}function IHe(e,t,r,a,n){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:Vte(a,d)};var x=c,y,w=function(){return y===void 0&&(y=r(g,x)),y},b=g.coordinate,v=c===0||DS(e,b,w,u,l);v||(c=0,u=o,d+=1),v&&(u=b+e*(w()/2+n),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function C7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(r),!0).forEach(function(a){RHe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RHe(e,t,r){return t=FHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FHe(e){var t=MHe(e,"string");return aw(t)=="symbol"?t:t+""}function MHe(e,t){if(aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(aw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LHe(e,t,r,a,n){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var p=i[m],g,x=function(){return g===void 0&&(g=r(p,m)),g};if(m===o-1){var y=e*(p.coordinate+e*x()/2-c);i[m]=p=Ri(Ri({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[m]=p=Ri(Ri({},p),{},{tickCoord:p.coordinate});var w=DS(e,p.tickCoord,x,l,c);w&&(c=p.tickCoord-e*(x()/2+n),i[m]=Ri(Ri({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function $He(e,t,r,a,n,i){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=a[l-1],h=r(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Ri(Ri({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var p=DS(e,u.tickCoord,function(){return h},c,d);p&&(d=u.tickCoord-e*(h/2+n),o[l-1]=Ri(Ri({},u),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(b){var v=o[b],N,j=function(){return N===void 0&&(N=r(v,b)),N};if(b===0){var k=e*(v.coordinate-e*j()/2-c);o[b]=v=Ri(Ri({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else o[b]=v=Ri(Ri({},v),{},{tickCoord:v.coordinate});var S=DS(e,v.tickCoord,j,c,d);S&&(c=v.tickCoord+e*(j()/2+n),o[b]=Ri(Ri({},v),{},{isShow:!0}))},y=0;y<g;y++)x(y);return o}function g3(e,t,r){var a=e.tick,n=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!n||!n.length||!a)return[];if(yt(c)||Ed.isSsr)return OHe(n,typeof c=="number"&&yt(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?Ay(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(v,N){var j=Rr(d)?d(v.value,N):v.value;return p==="width"?_He(Ay(j,{fontSize:t,letterSpacing:r}),g,h):Ay(j,{fontSize:t,letterSpacing:r})[p]},y=n.length>=2?oo(n[1].coordinate-n[0].coordinate):1,w=DHe(i,y,p);return c==="equidistantPreserveStart"?IHe(y,w,x,n,o):(c==="preserveStart"||c==="preserveStartEnd"?m=$He(y,w,x,n,o,c==="preserveStartEnd"):m=LHe(y,w,x,n,o),m.filter(function(b){return b.isShow}))}var BHe=["viewBox"],UHe=["viewBox"],VHe=["ticks"];function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_x.apply(this,arguments)}function A7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(r),!0).forEach(function(a){v3(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UP(e,t){if(e==null)return{};var r=zHe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function zHe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function WHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Wte(a.key),a)}}function HHe(e,t,r){return t&&E7(e.prototype,t),r&&E7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qHe(e,t,r){return t=OS(t),GHe(e,zte()?Reflect.construct(t,r||[],OS(e).constructor):t.apply(e,r))}function GHe(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KHe(e)}function KHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zte=function(){return!!e})()}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OS(e)}function YHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X5(e,t)}function X5(e,t){return X5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},X5(e,t)}function v3(e,t,r){return t=Wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=XHe(e,"string");return Zg(t)=="symbol"?t:t+""}function XHe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0=function(e){function t(r){var a;return WHe(this,t),a=qHe(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return YHe(t,e),HHe(t,[{key:"shouldComponentUpdate",value:function(a,n){var i=a.viewBox,o=UP(a,BHe),l=this.props,c=l.viewBox,d=UP(l,UHe);return!qx(i,c)||!qx(o,d)||!qx(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.x,o=n.y,l=n.width,c=n.height,d=n.orientation,u=n.tickSize,h=n.mirror,m=n.tickMargin,p,g,x,y,w,b,v=h?-1:1,N=a.tickSize||u,j=yt(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=g=a.coordinate,y=o+ +!h*c,x=y-v*N,b=x-v*m,w=j;break;case"left":x=y=a.coordinate,g=i+ +!h*l,p=g-v*N,w=p-v*m,b=j;break;case"right":x=y=a.coordinate,g=i+ +h*l,p=g+v*N,w=p+v*m,b=j;break;default:p=g=a.coordinate,y=o+ +h*c,x=y+v*N,b=x+v*m,w=j;break}return{line:{x1:p,y1:x,x2:g,y2:y},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o;switch(n){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,h=Fn(Fn(Fn({},wr(this.props,!1)),wr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Fn(Fn({},h),{},{x1:n,y1:i+m*l,x2:n+o,y2:i+m*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);h=Fn(Fn({},h),{},{x1:n+p*o,y1:i,x2:n+p*o,y2:i+l})}return ae.createElement("line",_x({},h,{className:Xr("recharts-cartesian-axis-line",ul(u,"className"))}))}},{key:"renderTicks",value:function(a,n,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,p=g3(Fn(Fn({},this.props),{},{ticks:a}),n,i),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=wr(this.props,!1),w=wr(u,!1),b=Fn(Fn({},y),{},{fill:"none"},wr(c,!1)),v=p.map(function(N,j){var k=o.getTickLineCoord(N),S=k.line,C=k.tick,A=Fn(Fn(Fn(Fn({textAnchor:g,verticalAnchor:x},y),{},{stroke:"none",fill:d},w),C),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:h});return ae.createElement(Ss,_x({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},tp(o.props,N,j)),c&&ae.createElement("line",_x({},b,S,{className:Xr("recharts-cartesian-axis-tick-line",ul(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(Rr(h)?h(N.value,j):N.value).concat(m||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var a=this,n=this.props,i=n.axisLine,o=n.width,l=n.height,c=n.ticksGenerator,d=n.className,u=n.hide;if(u)return null;var h=this.props,m=h.ticks,p=UP(h,VHe),g=m;return Rr(c)&&(g=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:ae.createElement(Ss,{className:Xr("recharts-cartesian-axis",d),ref:function(y){a.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ri.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,i){var o,l=Xr(n.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(a)?o=ae.cloneElement(a,Fn(Fn({},n),{},{className:l})):Rr(a)?o=a(Fn(Fn({},n),{},{className:l})):o=ae.createElement(rp,_x({},n,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(f.Component);v3(W0,"displayName","CartesianAxis");v3(W0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var QHe=["x1","y1","x2","y2","key"],JHe=["offset"];function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function P7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P7(Object(r),!0).forEach(function(a){ZHe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZHe(e,t,r){return t=eqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eqe(e){var t=tqe(e,"string");return np(t)=="symbol"?t:t+""}function tqe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(np(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bf.apply(this,arguments)}function T7(e,t){if(e==null)return{};var r=rqe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rqe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var sqe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,n=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ae.createElement("rect",{x:n,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function Hte(e,t){var r;if(ae.isValidElement(e))r=ae.cloneElement(e,t);else if(Rr(e))r=e(t);else{var a=t.x1,n=t.y1,i=t.x2,o=t.y2,l=t.key,c=T7(t,QHe),d=wr(c,!1);d.offset;var u=T7(d,JHe);r=ae.createElement("line",bf({},u,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return r}function aqe(e){var t=e.x,r=e.width,a=e.horizontal,n=a===void 0?!0:a,i=e.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=$i($i({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Hte(n,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function nqe(e){var t=e.y,r=e.height,a=e.vertical,n=a===void 0?!0:a,i=e.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=$i($i({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Hte(n,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function iqe(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,n=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+n-n)}).sort(function(m,p){return m-p});n!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var g=!u[p+1],x=g?n+o-m:u[p+1]-m;if(x<=0)return null;var y=p%t.length;return ae.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:x,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function oqe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,n=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==u[0]&&u.unshift(0);var h=u.map(function(m,p){var g=!u[p+1],x=g?i+l-m:u[p+1]-m;if(x<=0)return null;var y=p%a.length;return ae.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:x,height:c,stroke:"none",fill:a[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var lqe=function(t,r){var a=t.xAxis,n=t.width,i=t.height,o=t.offset;return Vee(g3($i($i($i({},W0.defaultProps),a),{},{ticks:iu(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,r)},cqe=function(t,r){var a=t.yAxis,n=t.width,i=t.height,o=t.offset;return Vee(g3($i($i($i({},W0.defaultProps),a),{},{ticks:iu(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,r)},Xp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function y3(e){var t,r,a,n,i,o,l=m3(),c=f3(),d=XWe(),u=$i($i({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Xp.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Xp.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:Xp.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Xp.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Xp.verticalFill,x:yt(e.x)?e.x:d.left,y:yt(e.y)?e.y:d.top,width:yt(e.width)?e.width:d.width,height:yt(e.height)?e.height:d.height}),h=u.x,m=u.y,p=u.width,g=u.height,x=u.syncWithTicks,y=u.horizontalValues,w=u.verticalValues,b=GWe(),v=KWe();if(!yt(p)||p<=0||!yt(g)||g<=0||!yt(h)||h!==+h||!yt(m)||m!==+m)return null;var N=u.verticalCoordinatesGenerator||lqe,j=u.horizontalCoordinatesGenerator||cqe,k=u.horizontalPoints,S=u.verticalPoints;if((!k||!k.length)&&Rr(j)){var C=y&&y.length,A=j({yAxis:v?$i($i({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:d},C?!0:x);Rc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(np(A),"]")),Array.isArray(A)&&(k=A)}if((!S||!S.length)&&Rr(N)){var E=w&&w.length,D=N({xAxis:b?$i($i({},b),{},{ticks:E?w:b.ticks}):void 0,width:l,height:c,offset:d},E?!0:x);Rc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(np(D),"]")),Array.isArray(D)&&(S=D)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(sqe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ae.createElement(aqe,bf({},u,{offset:d,horizontalPoints:k,xAxis:b,yAxis:v})),ae.createElement(nqe,bf({},u,{offset:d,verticalPoints:S,xAxis:b,yAxis:v})),ae.createElement(iqe,bf({},u,{horizontalPoints:k})),ae.createElement(oqe,bf({},u,{verticalPoints:S})))}y3.displayName="CartesianGrid";var dqe=["layout","type","stroke","connectNulls","isRange","ref"],uqe=["key"],qte;function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function Gte(e,t){if(e==null)return{};var r=hqe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hqe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wf.apply(this,arguments)}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(a){vd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D7(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Yte(a.key),a)}}function fqe(e,t,r){return t&&D7(e.prototype,t),r&&D7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pqe(e,t,r){return t=IS(t),xqe(e,Kte()?Reflect.construct(t,r||[],IS(e).constructor):t.apply(e,r))}function xqe(e,t){if(t&&(e0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gqe(e)}function gqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!e})()}function IS(e){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IS(e)}function vqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q5(e,t)}function Q5(e,t){return Q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Q5(e,t)}function vd(e,t,r){return t=Yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=yqe(e,"string");return e0(t)=="symbol"?t:t+""}function yqe(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(e0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu=function(e){function t(){var r;mqe(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=pqe(this,t,[].concat(n)),vd(r,"state",{isAnimationFinished:!0}),vd(r,"id",M0("recharts-area-")),vd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Rr(o)&&o()}),vd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Rr(o)&&o()}),r}return vqe(t,e),fqe(t,[{key:"renderDots",value:function(a,n,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=wr(this.props,!1),p=wr(d,!0),g=u.map(function(y,w){var b=oh(oh(oh({key:"dot-".concat(w),r:3},m),p),{},{index:w,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return t.renderDotItem(d,b)}),x={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return ae.createElement(Ss,wf({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=a*Math.abs(c-d),h=Ph(o.map(function(m){return m.y||0}));return yt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ph(i.map(function(m){return m.y||0})),h)),yt(h)?ae.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=a*Math.abs(c-d),h=Ph(o.map(function(m){return m.x||0}));return yt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ph(i.map(function(m){return m.x||0})),h)),yt(h)?ae.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var p=Gte(l,dqe);return ae.createElement(Ss,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ae.createElement(Xx,wf({},wr(p,!0),{points:a,connectNulls:h,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ae.createElement(Xx,wf({},wr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})),u!=="none"&&m&&ae.createElement(Xx,wf({},wr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,g=this.state,x=g.prevPoints,y=g.prevBaseLine;return ae.createElement(Fd,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(x){var v=x.length/l.length,N=l.map(function(C,A){var E=Math.floor(A*v);if(x[E]){var D=x[E],P=Oo(D.x,C.x),T=Oo(D.y,C.y);return oh(oh({},C),{},{x:P(b),y:T(b)})}return C}),j;if(yt(c)&&typeof c=="number"){var k=Oo(y,c);j=k(b)}else if(Qr(c)||F0(c)){var S=Oo(y,0);j=S(b)}else j=c.map(function(C,A){var E=Math.floor(A*v);if(y[E]){var D=y[E],P=Oo(D.x,C.x),T=Oo(D.y,C.y);return oh(oh({},C),{},{x:P(b),y:T(b)})}return C});return i.renderAreaStatically(N,j,a,n)}return ae.createElement(Ss,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(b))),ae.createElement(Ss,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(l,c,a,n)))})}},{key:"renderArea",value:function(a,n){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Ug(u,o)||!Ug(h,l))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(o,l,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,d=n.top,u=n.left,h=n.xAxis,m=n.yAxis,p=n.width,g=n.height,x=n.isAnimationActive,y=n.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,v=Xr("recharts-area",c),N=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,k=N||j,S=Qr(y)?this.id:y,C=(a=wr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},A=C.r,E=A===void 0?3:A,D=C.strokeWidth,P=D===void 0?2:D,T=HPe(o)?o:{},_=T.clipDot,O=_===void 0?!0:_,F=E*2+P;return ae.createElement(Ss,{className:v},N||j?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(S)},ae.createElement("rect",{x:N?u:u-p/2,y:j?d:d-g/2,width:N?p:p*2,height:j?g:g*2})),!O&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ae.createElement("rect",{x:u-F/2,y:d-F/2,width:p+F,height:g+F}))):null,b?null:this.renderArea(k,S),(o||b)&&this.renderDots(k,O,S),(!x||w)&&mu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(f.PureComponent);qte=Bu;vd(Bu,"displayName","Area");vd(Bu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ed.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});vd(Bu,"getBaseValue",function(e,t,r,a){var n=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(yt(l)&&typeof l=="number")return l;var c=n==="horizontal"?a:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});vd(Bu,"getComposedData",function(e){var t=e.props,r=e.item,a=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,p=t.layout,g=d&&d.length,x=qte.getBaseValue(t,r,a,n),y=p==="horizontal",w=!1,b=h.map(function(N,j){var k;g?k=d[u+j]:(k=Vn(N,c),Array.isArray(k)?w=!0:k=[x,k]);var S=k[1]==null||g&&Vn(N,c)==null;return y?{x:sU({axis:a,ticks:i,bandSize:l,entry:N,index:j}),y:S?null:n.scale(k[1]),value:k,payload:N}:{x:S?null:a.scale(k[1]),y:sU({axis:n,ticks:o,bandSize:l,entry:N,index:j}),value:k,payload:N}}),v;return g||w?v=b.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:j!=null&&N.y!=null?n.scale(j):null}:{x:j!=null?a.scale(j):null,y:N.y}}):v=y?n.scale(x):a.scale(x),oh({points:b,baseLine:v,layout:p,isRange:w},m)});vd(Bu,"renderDotItem",function(e,t){var r;if(ae.isValidElement(e))r=ae.cloneElement(e,t);else if(Rr(e))r=e(t);else{var a=Xr("recharts-area-dot",typeof e!="boolean"?e.className:""),n=t.key,i=Gte(t,uqe);r=ae.createElement(XC,wf({},i,{key:n,className:a}))}return r});function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function bqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wqe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Jte(a.key),a)}}function jqe(e,t,r){return t&&wqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nqe(e,t,r){return t=RS(t),Sqe(e,Xte()?Reflect.construct(t,r||[],RS(e).constructor):t.apply(e,r))}function Sqe(e,t){if(t&&(t0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kqe(e)}function kqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xte=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RS(e)}function Cqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J5(e,t)}function J5(e,t){return J5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},J5(e,t)}function Qte(e,t,r){return t=Jte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Aqe(e,"string");return t0(t)=="symbol"?t:t+""}function Aqe(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(t0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z5(){return Z5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Z5.apply(this,arguments)}function Eqe(e){var t=e.xAxisId,r=m3(),a=f3(),n=Ite(t);return n==null?null:f.createElement(W0,Z5({},n,{className:Xr("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return iu(o,!0)}}))}var ij=function(e){function t(){return bqe(this,t),Nqe(this,t,arguments)}return Cqe(t,e),jqe(t,[{key:"render",value:function(){return f.createElement(Eqe,this.props)}}])}(f.Component);Qte(ij,"displayName","XAxis");Qte(ij,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function Pqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tqe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tre(a.key),a)}}function _qe(e,t,r){return t&&Tqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dqe(e,t,r){return t=FS(t),Oqe(e,Zte()?Reflect.construct(t,r||[],FS(e).constructor):t.apply(e,r))}function Oqe(e,t){if(t&&(r0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iqe(e)}function Iqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zte=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(e)}function Rqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eD(e,t)}function eD(e,t){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},eD(e,t)}function ere(e,t,r){return t=tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tre(e){var t=Fqe(e,"string");return r0(t)=="symbol"?t:t+""}function Fqe(e,t){if(r0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(r0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tD.apply(this,arguments)}var Mqe=function(t){var r=t.yAxisId,a=m3(),n=f3(),i=Rte(r);return i==null?null:f.createElement(W0,tD({},i,{className:Xr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(l){return iu(l,!0)}}))},oj=function(e){function t(){return Pqe(this,t),Dqe(this,t,arguments)}return Rqe(t,e),_qe(t,[{key:"render",value:function(){return f.createElement(Mqe,this.props)}}])}(f.Component);ere(oj,"displayName","YAxis");ere(oj,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function O7(e){return Uqe(e)||Bqe(e)||$qe(e)||Lqe()}function Lqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $qe(e,t){if(e){if(typeof e=="string")return rD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rD(e,t)}}function Bqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uqe(e){if(Array.isArray(e))return rD(e)}function rD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var sD=function(t,r,a,n,i){var o=Hl(t,x3),l=Hl(t,nA),c=[].concat(O7(o),O7(l)),d=Hl(t,oA),u="".concat(n,"Id"),h=n[0],m=r;if(c.length&&(m=c.reduce(function(x,y){if(y.props[u]===a&&Td(y.props,"extendDomain")&&yt(y.props[h])){var w=y.props[h];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},m)),d.length){var p="".concat(h,"1"),g="".concat(h,"2");m=d.reduce(function(x,y){if(y.props[u]===a&&Td(y.props,"extendDomain")&&yt(y.props[p])&&yt(y.props[g])){var w=y.props[p],b=y.props[g];return[Math.min(x[0],w,b),Math.max(x[1],w,b)]}return x},m)}return i&&i.length&&(m=i.reduce(function(x,y){return yt(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},rre={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new n(u,h||c,m),g=r?r+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,g=new Array(p);m<p;m++)g[m]=h[m].fn;return g},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,p,g){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,m),!0;case 5:return y.fn.call(y.context,u,h,m,p),!0;case 6:return y.fn.call(y.context,u,h,m,p,g),!0}for(v=1,b=new Array(w-1);v<w;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var N=y.length,j;for(v=0;v<N;v++)switch(y[v].once&&this.removeListener(d,y[v].fn,void 0,!0),w){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,h);break;case 4:y[v].fn.call(y[v].context,u,h,m);break;default:if(!b)for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];y[v].fn.apply(y[v].context,b)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!m||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var x=0,y=[],w=g.length;x<w;x++)(g[x].fn!==u||m&&!g[x].once||h&&g[x].context!==h)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(rre);var Vqe=rre.exports;const zqe=qs(Vqe);var VP=new zqe,zP="recharts.syncMouseEvents";function nw(e){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nw(e)}function Wqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hqe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sre(a.key),a)}}function qqe(e,t,r){return t&&Hqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WP(e,t,r){return t=sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=Gqe(e,"string");return nw(t)=="symbol"?t:t+""}function Gqe(e,t){if(nw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(nw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kqe=function(){function e(){Wqe(this,e),WP(this,"activeIndex",0),WP(this,"coordinateList",[]),WP(this,"layout","horizontal")}return qqe(e,[{key:"setDetails",value:function(r){var a,n=r.coordinateList,i=n===void 0?null:n,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,o=n.y,l=n.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function Yqe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],n=e==null?void 0:e[1];if(a&&n&&yt(a)&&yt(n))return!0}return!1}function Xqe(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function are(e){var t=e.cx,r=e.cy,a=e.radius,n=e.startAngle,i=e.endAngle,o=xa(t,r,a,n),l=xa(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function Qqe(e,t,r){var a,n,i,o;if(e==="horizontal")a=t.x,i=a,n=r.top,o=r.top+r.height;else if(e==="vertical")n=t.y,o=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,m=xa(l,c,d,h),p=xa(l,c,u,h);a=m.x,n=m.y,i=p.x,o=p.y}else return are(t);return[{x:a,y:n},{x:i,y:o}]}function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function I7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function D1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I7(Object(r),!0).forEach(function(a){Jqe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jqe(e,t,r){return t=Zqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zqe(e){var t=eGe(e,"string");return iw(t)=="symbol"?t:t+""}function eGe(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(iw(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tGe(e){var t,r,a=e.element,n=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!p||!i||!o||m!=="ScatterChart"&&n!=="axis")return null;var g,x=Xx;if(m==="ScatterChart")g=o,x=j7e;else if(m==="BarChart")g=Xqe(h,o,c,u),x=c3;else if(h==="radial"){var y=are(o),w=y.cx,b=y.cy,v=y.radius,N=y.startAngle,j=y.endAngle;g={cx:w,cy:b,startAngle:N,endAngle:j,innerRadius:v,outerRadius:v},x=Zee}else g={points:Qqe(h,o,c)},x=Xx;var k=D1(D1(D1(D1({stroke:"#ccc",pointerEvents:"none"},c),g),wr(p,!1)),{},{payload:l,payloadIndex:d,className:Xr("recharts-tooltip-cursor",p.className)});return f.isValidElement(p)?f.cloneElement(p,k):f.createElement(x,k)}var rGe=["item"],sGe=["children","className","width","height","style","compact","title","desc"];function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dx.apply(this,arguments)}function R7(e,t){return iGe(e)||nGe(e,t)||ire(e,t)||aGe()}function aGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function iGe(e){if(Array.isArray(e))return e}function F7(e,t){if(e==null)return{};var r=oGe(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function oGe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cGe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ore(a.key),a)}}function dGe(e,t,r){return t&&cGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uGe(e,t,r){return t=MS(t),hGe(e,nre()?Reflect.construct(t,r||[],MS(e).constructor):t.apply(e,r))}function hGe(e,t){if(t&&(s0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mGe(e)}function mGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!e})()}function MS(e){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(e)}function fGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aD(e,t)}function aD(e,t){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},aD(e,t)}function a0(e){return gGe(e)||xGe(e)||ire(e)||pGe()}function pGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function xGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gGe(e){if(Array.isArray(e))return nD(e)}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function M7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(r),!0).forEach(function(a){Er(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Er(e,t,r){return t=ore(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=vGe(e,"string");return s0(t)=="symbol"?t:t+""}function vGe(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(s0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yGe={xAxis:["bottom","top"],yAxis:["left","right"]},bGe={width:"100%",height:"100%"},lre={x:0,y:0};function O1(e){return e}var wGe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},jGe=function(t,r,a,n){var i=r.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=n.radius;return ot(ot(ot({},n),xa(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=n.angle;return ot(ot(ot({},n),xa(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return lre},lA=function(t,r){var a=r.graphicalItems,n=r.dataStartIndex,i=r.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(a0(l),a0(d)):l},[]);return o.length>0?o:t&&t.length&&yt(n)&&yt(i)?t.slice(n,i+1):[]};function cre(e){return e==="number"?[0,"auto"]:void 0}var iD=function(t,r,a,n){var i=t.graphicalItems,o=t.tooltipAxis,l=lA(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;m=L2(p,o.dataKey,n)}else m=h&&h[a]||l[a];return m?[].concat(a0(c),[Gee(d,m)]):c},[])},L7=function(t,r,a,n){var i=n||{x:t.chartX,y:t.chartY},o=wGe(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=q8e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=iD(t,r,u,h),p=jGe(a,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},NGe=function(t,r){var a=r.axes,n=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,m=t.stackOffset,p=Uee(u,i);return a.reduce(function(g,x){var y,w=x.type.defaultProps!==void 0?ot(ot({},x.type.defaultProps),x.props):x.props,b=w.type,v=w.dataKey,N=w.allowDataOverflow,j=w.allowDuplicatedCategory,k=w.scale,S=w.ticks,C=w.includeHidden,A=w[o];if(g[A])return g;var E=lA(t.data,{graphicalItems:n.filter(function(M){var G,V=o in M.props?M.props[o]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[o];return V===A}),dataStartIndex:c,dataEndIndex:d}),D=E.length,P,T,_;Yqe(w.domain,N,b)&&(P=w5(w.domain,null,N),p&&(b==="number"||k!=="auto")&&(_=Py(E,v,"category")));var O=cre(b);if(!P||P.length===0){var F,I=(F=w.domain)!==null&&F!==void 0?F:O;if(v){if(P=Py(E,v,b),b==="category"&&p){var R=RPe(P);j&&R?(T=P,P=SS(0,D)):j||(P=oU(I,P,x).reduce(function(M,G){return M.indexOf(G)>=0?M:[].concat(a0(M),[G])},[]))}else if(b==="category")j?P=P.filter(function(M){return M!==""&&!Qr(M)}):P=oU(I,P,x).reduce(function(M,G){return M.indexOf(G)>=0||G===""||Qr(G)?M:[].concat(a0(M),[G])},[]);else if(b==="number"){var L=Q8e(E,n.filter(function(M){var G,V,q=o in M.props?M.props[o]:(G=M.type.defaultProps)===null||G===void 0?void 0:G[o],Y="hide"in M.props?M.props.hide:(V=M.type.defaultProps)===null||V===void 0?void 0:V.hide;return q===A&&(C||!Y)}),v,i,u);L&&(P=L)}p&&(b==="number"||k!=="auto")&&(_=Py(E,v,"category"))}else p?P=SS(0,D):l&&l[A]&&l[A].hasStack&&b==="number"?P=m==="expand"?[0,1]:qee(l[A].stackGroups,c,d):P=Bee(E,n.filter(function(M){var G=o in M.props?M.props[o]:M.type.defaultProps[o],V="hide"in M.props?M.props.hide:M.type.defaultProps.hide;return G===A&&(C||!V)}),b,u,!0);if(b==="number")P=sD(h,P,A,i,S),I&&(P=w5(I,P,N));else if(b==="category"&&I){var H=I,W=P.every(function(M){return H.indexOf(M)>=0});W&&(P=H)}}return ot(ot({},g),{},Er({},A,ot(ot({},w),{},{axisType:i,domain:P,categoricalDomain:_,duplicateDomain:T,originalDomain:(y=w.domain)!==null&&y!==void 0?y:O,isCategorical:p,layout:u})))},{})},SGe=function(t,r){var a=r.graphicalItems,n=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,m=lA(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),p=m.length,g=Uee(u,i),x=-1;return a.reduce(function(y,w){var b=w.type.defaultProps!==void 0?ot(ot({},w.type.defaultProps),w.props):w.props,v=b[o],N=cre("number");if(!y[v]){x++;var j;return g?j=SS(0,p):l&&l[v]&&l[v].hasStack?(j=qee(l[v].stackGroups,c,d),j=sD(h,j,v,i)):(j=w5(N,Bee(m,a.filter(function(k){var S,C,A=o in k.props?k.props[o]:(S=k.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in k.props?k.props.hide:(C=k.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===v&&!E}),"number",u),n.defaultProps.allowDataOverflow),j=sD(h,j,v,i)),ot(ot({},y),{},Er({},v,ot(ot({axisType:i},n.defaultProps),{},{hide:!0,orientation:ul(yGe,"".concat(i,".").concat(x%2),null),domain:j,originalDomain:N,isCategorical:g,layout:u})))}return y},{})},kGe=function(t,r){var a=r.axisType,n=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,h="".concat(n,"Id"),m=Hl(u,i),p={};return m&&m.length?p=NGe(t,{axes:m,graphicalItems:o,axisType:n,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=SGe(t,{Axis:i,graphicalItems:o,axisType:n,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},CGe=function(t){var r=xh(t),a=iu(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:FR(a,function(n){return n.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hS(r,a)}},$7=function(t){var r=t.children,a=t.defaultShowTooltip,n=Xo(r,Kg),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},AGe=function(t){return!t||!t.length?!1:t.some(function(r){var a=uu(r&&r.type);return a&&a.indexOf("Bar")>=0})},B7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EGe=function(t,r){var a=t.props,n=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,h=a.children,m=a.margin||{},p=Xo(h,Kg),g=Xo(h,Gx),x=Object.keys(c).reduce(function(j,k){var S=c[k],C=S.orientation;return!S.mirror&&!S.hide?ot(ot({},j),{},Er({},C,j[C]+S.width)):j},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(j,k){var S=o[k],C=S.orientation;return!S.mirror&&!S.hide?ot(ot({},j),{},Er({},C,ul(j,"".concat(C))+S.height)):j},{top:m.top||0,bottom:m.bottom||0}),w=ot(ot({},y),x),b=w.bottom;p&&(w.bottom+=p.props.height||Kg.defaultProps.height),g&&r&&(w=Y8e(w,n,a,r));var v=d-w.left-w.right,N=u-w.top-w.bottom;return ot(ot({brushBottom:b},w),{},{width:Math.max(v,0),height:Math.max(N,0)})},PGe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dre=function(t){var r=t.chartName,a=t.GraphicalChild,n=t.defaultTooltipEventType,i=n===void 0?"axis":n,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,m=function(w,b){var v=b.graphicalItems,N=b.stackGroups,j=b.offset,k=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,A=w.barSize,E=w.layout,D=w.barGap,P=w.barCategoryGap,T=w.maxBarSize,_=B7(E),O=_.numericAxisName,F=_.cateAxisName,I=AGe(v),R=[];return v.forEach(function(L,H){var W=lA(w.data,{graphicalItems:[L],dataStartIndex:S,dataEndIndex:C}),M=L.type.defaultProps!==void 0?ot(ot({},L.type.defaultProps),L.props):L.props,G=M.dataKey,V=M.maxBarSize,q=M["".concat(O,"Id")],Y=M["".concat(F,"Id")],U={},Z=c.reduce(function(Pe,Te){var Ve=b["".concat(Te.axisType,"Map")],Le=M["".concat(Te.axisType,"Id")];Ve&&Ve[Le]||Te.axisType==="zAxis"||ap();var de=Ve[Le];return ot(ot({},Pe),{},Er(Er({},Te.axisType,de),"".concat(Te.axisType,"Ticks"),iu(de)))},U),J=Z[F],K=Z["".concat(F,"Ticks")],se=N&&N[q]&&N[q].hasStack&&iBe(L,N[q].stackGroups),B=uu(L.type).indexOf("Bar")>=0,Ne=hS(J,K),ye=[],Re=I&&G8e({barSize:A,stackGroups:N,totalSize:PGe(Z,F)});if(B){var qe,He,fe=Qr(V)?T:V,Ue=(qe=(He=hS(J,K,!0))!==null&&He!==void 0?He:fe)!==null&&qe!==void 0?qe:0;ye=K8e({barGap:D,barCategoryGap:P,bandSize:Ue!==Ne?Ue:Ne,sizeList:Re[Y],maxBarSize:fe}),Ue!==Ne&&(ye=ye.map(function(Pe){return ot(ot({},Pe),{},{position:ot(ot({},Pe.position),{},{offset:Pe.position.offset-Ue/2})})}))}var ie=L&&L.type&&L.type.getComposedData;ie&&R.push({props:ot(ot({},ie(ot(ot({},Z),{},{displayedData:W,props:w,dataKey:G,item:L,bandSize:Ne,barPosition:ye,offset:j,stackedData:se,layout:E,dataStartIndex:S,dataEndIndex:C}))),{},Er(Er(Er({key:L.key||"item-".concat(H)},O,Z[O]),F,Z[F]),"animationId",k)),childIndex:KPe(L,w.children),item:L})}),R},p=function(w,b){var v=w.props,N=w.dataStartIndex,j=w.dataEndIndex,k=w.updateId;if(!eB({props:v}))return null;var S=v.children,C=v.layout,A=v.stackOffset,E=v.data,D=v.reverseStackOrder,P=B7(C),T=P.numericAxisName,_=P.cateAxisName,O=Hl(S,a),F=aBe(E,O,"".concat(T,"Id"),"".concat(_,"Id"),A,D),I=c.reduce(function(M,G){var V="".concat(G.axisType,"Map");return ot(ot({},M),{},Er({},V,kGe(v,ot(ot({},G),{},{graphicalItems:O,stackGroups:G.axisType===T&&F,dataStartIndex:N,dataEndIndex:j}))))},{}),R=EGe(ot(ot({},I),{},{props:v,graphicalItems:O}),b==null?void 0:b.legendBBox);Object.keys(I).forEach(function(M){I[M]=u(v,I[M],R,M.replace("Map",""),r)});var L=I["".concat(_,"Map")],H=CGe(L),W=m(v,ot(ot({},I),{},{dataStartIndex:N,dataEndIndex:j,updateId:k,graphicalItems:O,stackGroups:F,offset:R}));return ot(ot({formattedGraphicalItems:W,graphicalItems:O,offset:R,stackGroups:F},H),I)},g=function(y){function w(b){var v,N,j;return lGe(this,w),j=uGe(this,w,[b]),Er(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Er(j,"accessibilityManager",new Kqe),Er(j,"handleLegendBBoxUpdate",function(k){if(k){var S=j.state,C=S.dataStartIndex,A=S.dataEndIndex,E=S.updateId;j.setState(ot({legendBBox:k},p({props:j.props,dataStartIndex:C,dataEndIndex:A,updateId:E},ot(ot({},j.state),{},{legendBBox:k}))))}}),Er(j,"handleReceiveSyncEvent",function(k,S,C){if(j.props.syncId===k){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Er(j,"handleBrushChange",function(k){var S=k.startIndex,C=k.endIndex;if(S!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return ot({dataStartIndex:S,dataEndIndex:C},p({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),Er(j,"handleMouseEnter",function(k){var S=j.getMouseInfo(k);if(S){var C=ot(ot({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseEnter;Rr(A)&&A(C,k)}}),Er(j,"triggeredAfterMouseMove",function(k){var S=j.getMouseInfo(k),C=S?ot(ot({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseMove;Rr(A)&&A(C,k)}),Er(j,"handleItemMouseEnter",function(k){j.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Er(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Er(j,"handleMouseMove",function(k){k.persist(),j.throttleTriggeredAfterMouseMove(k)}),Er(j,"handleMouseLeave",function(k){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseLeave;Rr(C)&&C(S,k)}),Er(j,"handleOuterEvent",function(k){var S=GPe(k),C=ul(j.props,"".concat(S));if(S&&Rr(C)){var A,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(k.changedTouches[0]):E=j.getMouseInfo(k),C((A=E)!==null&&A!==void 0?A:{},k)}}),Er(j,"handleClick",function(k){var S=j.getMouseInfo(k);if(S){var C=ot(ot({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onClick;Rr(A)&&A(C,k)}}),Er(j,"handleMouseDown",function(k){var S=j.props.onMouseDown;if(Rr(S)){var C=j.getMouseInfo(k);S(C,k)}}),Er(j,"handleMouseUp",function(k){var S=j.props.onMouseUp;if(Rr(S)){var C=j.getMouseInfo(k);S(C,k)}}),Er(j,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Er(j,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseDown(k.changedTouches[0])}),Er(j,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseUp(k.changedTouches[0])}),Er(j,"handleDoubleClick",function(k){var S=j.props.onDoubleClick;if(Rr(S)){var C=j.getMouseInfo(k);S(C,k)}}),Er(j,"handleContextMenu",function(k){var S=j.props.onContextMenu;if(Rr(S)){var C=j.getMouseInfo(k);S(C,k)}}),Er(j,"triggerSyncEvent",function(k){j.props.syncId!==void 0&&VP.emit(zP,j.props.syncId,k,j.eventEmitterSymbol)}),Er(j,"applySyncEvent",function(k){var S=j.props,C=S.layout,A=S.syncMethod,E=j.state.updateId,D=k.dataStartIndex,P=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)j.setState(ot({dataStartIndex:D,dataEndIndex:P},p({props:j.props,dataStartIndex:D,dataEndIndex:P,updateId:E},j.state)));else if(k.activeTooltipIndex!==void 0){var T=k.chartX,_=k.chartY,O=k.activeTooltipIndex,F=j.state,I=F.offset,R=F.tooltipTicks;if(!I)return;if(typeof A=="function")O=A(R,k);else if(A==="value"){O=-1;for(var L=0;L<R.length;L++)if(R[L].value===k.activeLabel){O=L;break}}var H=ot(ot({},I),{},{x:I.left,y:I.top}),W=Math.min(T,H.x+H.width),M=Math.min(_,H.y+H.height),G=R[O]&&R[O].value,V=iD(j.state,j.props.data,O),q=R[O]?{x:C==="horizontal"?R[O].coordinate:W,y:C==="horizontal"?M:R[O].coordinate}:lre;j.setState(ot(ot({},k),{},{activeLabel:G,activeCoordinate:q,activePayload:V,activeTooltipIndex:O}))}else j.setState(k)}),Er(j,"renderCursor",function(k){var S,C=j.state,A=C.isTooltipActive,E=C.activeCoordinate,D=C.activePayload,P=C.offset,T=C.activeTooltipIndex,_=C.tooltipAxisBandSize,O=j.getTooltipEventType(),F=(S=k.props.active)!==null&&S!==void 0?S:A,I=j.props.layout,R=k.key||"_recharts-cursor";return ae.createElement(tGe,{key:R,activeCoordinate:E,activePayload:D,activeTooltipIndex:T,chartName:r,element:k,isActive:F,layout:I,offset:P,tooltipAxisBandSize:_,tooltipEventType:O})}),Er(j,"renderPolarAxis",function(k,S,C){var A=ul(k,"type.axisType"),E=ul(j.state,"".concat(A,"Map")),D=k.type.defaultProps,P=D!==void 0?ot(ot({},D),k.props):k.props,T=E&&E[P["".concat(A,"Id")]];return f.cloneElement(k,ot(ot({},T),{},{className:Xr(A,T.className),key:k.key||"".concat(S,"-").concat(C),ticks:iu(T,!0)}))}),Er(j,"renderPolarGrid",function(k){var S=k.props,C=S.radialLines,A=S.polarAngles,E=S.polarRadius,D=j.state,P=D.radiusAxisMap,T=D.angleAxisMap,_=xh(P),O=xh(T),F=O.cx,I=O.cy,R=O.innerRadius,L=O.outerRadius;return f.cloneElement(k,{polarAngles:Array.isArray(A)?A:iu(O,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(E)?E:iu(_,!0).map(function(H){return H.coordinate}),cx:F,cy:I,innerRadius:R,outerRadius:L,key:k.key||"polar-grid",radialLines:C})}),Er(j,"renderLegend",function(){var k=j.state.formattedGraphicalItems,S=j.props,C=S.children,A=S.width,E=S.height,D=j.props.margin||{},P=A-(D.left||0)-(D.right||0),T=Lee({children:C,formattedGraphicalItems:k,legendWidth:P,legendContent:d});if(!T)return null;var _=T.item,O=F7(T,rGe);return f.cloneElement(_,ot(ot({},O),{},{chartWidth:A,chartHeight:E,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Er(j,"renderTooltip",function(){var k,S=j.props,C=S.children,A=S.accessibilityLayer,E=Xo(C,_l);if(!E)return null;var D=j.state,P=D.isTooltipActive,T=D.activeCoordinate,_=D.activePayload,O=D.activeLabel,F=D.offset,I=(k=E.props.active)!==null&&k!==void 0?k:P;return f.cloneElement(E,{viewBox:ot(ot({},F),{},{x:F.left,y:F.top}),active:I,label:O,payload:I?_:[],coordinate:T,accessibilityLayer:A})}),Er(j,"renderBrush",function(k){var S=j.props,C=S.margin,A=S.data,E=j.state,D=E.offset,P=E.dataStartIndex,T=E.dataEndIndex,_=E.updateId;return f.cloneElement(k,{key:k.key||"_recharts-brush",onChange:E1(j.handleBrushChange,k.props.onChange),data:A,x:yt(k.props.x)?k.props.x:D.left,y:yt(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(C.bottom||0),width:yt(k.props.width)?k.props.width:D.width,startIndex:P,endIndex:T,updateId:"brush-".concat(_)})}),Er(j,"renderReferenceElement",function(k,S,C){if(!k)return null;var A=j,E=A.clipPathId,D=j.state,P=D.xAxisMap,T=D.yAxisMap,_=D.offset,O=k.type.defaultProps||{},F=k.props,I=F.xAxisId,R=I===void 0?O.xAxisId:I,L=F.yAxisId,H=L===void 0?O.yAxisId:L;return f.cloneElement(k,{key:k.key||"".concat(S,"-").concat(C),xAxis:P[R],yAxis:T[H],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:E})}),Er(j,"renderActivePoints",function(k){var S=k.item,C=k.activePoint,A=k.basePoint,E=k.childIndex,D=k.isRange,P=[],T=S.props.key,_=S.item.type.defaultProps!==void 0?ot(ot({},S.item.type.defaultProps),S.item.props):S.item.props,O=_.activeDot,F=_.dataKey,I=ot(ot({index:E,dataKey:F,cx:C.x,cy:C.y,r:4,fill:l3(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},wr(O,!1)),$2(O));return P.push(w.renderActiveDot(O,I,"".concat(T,"-activePoint-").concat(E))),A?P.push(w.renderActiveDot(O,ot(ot({},I),{},{cx:A.x,cy:A.y}),"".concat(T,"-basePoint-").concat(E))):D&&P.push(null),P}),Er(j,"renderGraphicChild",function(k,S,C){var A=j.filterFormatItem(k,S,C);if(!A)return null;var E=j.getTooltipEventType(),D=j.state,P=D.isTooltipActive,T=D.tooltipAxis,_=D.activeTooltipIndex,O=D.activeLabel,F=j.props.children,I=Xo(F,_l),R=A.props,L=R.points,H=R.isRange,W=R.baseLine,M=A.item.type.defaultProps!==void 0?ot(ot({},A.item.type.defaultProps),A.item.props):A.item.props,G=M.activeDot,V=M.hide,q=M.activeBar,Y=M.activeShape,U=!!(!V&&P&&I&&(G||q||Y)),Z={};E!=="axis"&&I&&I.props.trigger==="click"?Z={onClick:E1(j.handleItemMouseEnter,k.props.onClick)}:E!=="axis"&&(Z={onMouseLeave:E1(j.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:E1(j.handleItemMouseEnter,k.props.onMouseEnter)});var J=f.cloneElement(k,ot(ot({},A.props),Z));function K(Te){return typeof T.dataKey=="function"?T.dataKey(Te.payload):null}if(U)if(_>=0){var se,B;if(T.dataKey&&!T.allowDuplicatedCategory){var Ne=typeof T.dataKey=="function"?K:"payload.".concat(T.dataKey.toString());se=L2(L,Ne,O),B=H&&W&&L2(W,Ne,O)}else se=L==null?void 0:L[_],B=H&&W&&W[_];if(Y||q){var ye=k.props.activeIndex!==void 0?k.props.activeIndex:_;return[f.cloneElement(k,ot(ot(ot({},A.props),Z),{},{activeIndex:ye})),null,null]}if(!Qr(se))return[J].concat(a0(j.renderActivePoints({item:A,activePoint:se,basePoint:B,childIndex:_,isRange:H})))}else{var Re,qe=(Re=j.getItemByXY(j.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:J},He=qe.graphicalItem,fe=He.item,Ue=fe===void 0?k:fe,ie=He.childIndex,Pe=ot(ot(ot({},A.props),Z),{},{activeIndex:ie});return[f.cloneElement(Ue,Pe),null,null]}return H?[J,null,null]:[J,null]}),Er(j,"renderCustomized",function(k,S,C){return f.cloneElement(k,ot(ot({key:"recharts-customized-".concat(C)},j.props),j.state))}),Er(j,"renderMap",{CartesianGrid:{handler:O1,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:O1},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:O1},YAxis:{handler:O1},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((v=b.id)!==null&&v!==void 0?v:M0("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=MZ(j.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return fGe(w,y),dGe(w,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,j=v.data,k=v.height,S=v.layout,C=Xo(N,_l);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,D=iD(this.state,j,A,E),P=this.state.tooltipTicks[A].coordinate,T=(this.state.offset.top+k)/2,_=S==="horizontal",O=_?{x:P,y:T}:{y:P,x:T},F=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});F&&(O=ot(ot({},O),F.props.points[A].tooltipPosition),D=F.props.points[A].tooltipPayload);var I={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:D,activeCoordinate:O};this.setState(I),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var j,k;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(v){R_([Xo(v.children,_l)],[Xo(this.props.children,_l)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Xo(this.props.children,_l);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),k=bMe(j),S={chartX:Math.round(v.pageX-k.left),chartY:Math.round(v.pageY-k.top)},C=j.width/N.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,C);if(!A)return null;var E=this.state,D=E.xAxisMap,P=E.yAxisMap,T=this.getTooltipEventType(),_=L7(this.state,this.props.data,this.props.layout,A);if(T!=="axis"&&D&&P){var O=xh(D).scale,F=xh(P).scale,I=O&&O.invert?O.invert(S.chartX):null,R=F&&F.invert?F.invert(S.chartY):null;return ot(ot({},S),{},{xValue:I,yValue:R},_)}return _?ot(ot({},S),_):null}},{key:"inRange",value:function(v,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,S=v/j,C=N/j;if(k==="horizontal"||k==="vertical"){var A=this.state.offset,E=S>=A.left&&S<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return E?{x:S,y:C}:null}var D=this.state,P=D.angleAxisMap,T=D.radiusAxisMap;if(P&&T){var _=xh(P);return dU({x:S,y:C},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),j=Xo(v,_l),k={};j&&N==="axis"&&(j.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=$2(this.props,this.handleOuterEvent);return ot(ot({},S),k)}},{key:"addListener",value:function(){VP.on(zP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VP.removeListener(zP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,j){for(var k=this.state.formattedGraphicalItems,S=0,C=k.length;S<C;S++){var A=k[S];if(A.item===v||A.props.key===v.key||N===uu(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,j=N.left,k=N.top,S=N.height,C=N.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:v},ae.createElement("rect",{x:j,y:k,height:S,width:C})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,j){var k=R7(j,2),S=k[0],C=k[1];return ot(ot({},N),{},Er({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,j){var k=R7(j,2),S=k[0],C=k[1];return ot(ot({},N),{},Er({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,j=N.formattedGraphicalItems,k=N.activeItem;if(j&&j.length)for(var S=0,C=j.length;S<C;S++){var A=j[S],E=A.props,D=A.item,P=D.type.defaultProps!==void 0?ot(ot({},D.type.defaultProps),D.props):D.props,T=uu(D.type);if(T==="Bar"){var _=(E.data||[]).find(function(R){return r7e(v,R)});if(_)return{graphicalItem:A,payload:_}}else if(T==="RadialBar"){var O=(E.data||[]).find(function(R){return dU(v,R)});if(O)return{graphicalItem:A,payload:O}}else if(tA(A,k)||rA(A,k)||ew(A,k)){var F=WVe({graphicalItem:A,activeTooltipItem:k,itemData:P.data}),I=P.activeIndex===void 0?F:P.activeIndex;return{graphicalItem:ot(ot({},A),{},{childIndex:I}),payload:ew(A,k)?P.data[F]:A.props.data[F]}}}return null}},{key:"render",value:function(){var v=this;if(!eB(this))return null;var N=this.props,j=N.children,k=N.className,S=N.width,C=N.height,A=N.style,E=N.compact,D=N.title,P=N.desc,T=F7(N,sGe),_=wr(T,!1);if(E)return ae.createElement(v7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(M_,Dx({},_,{width:S,height:C,title:D,desc:P}),this.renderClipPath(),rB(j,this.renderMap)));if(this.props.accessibilityLayer){var O,F;_.tabIndex=(O=this.props.tabIndex)!==null&&O!==void 0?O:0,_.role=(F=this.props.role)!==null&&F!==void 0?F:"application",_.onKeyDown=function(R){v.accessibilityManager.keyboardEvent(R)},_.onFocus=function(){v.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return ae.createElement(v7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Dx({className:Xr("recharts-wrapper",k),style:ot({position:"relative",cursor:"default",width:S,height:C},A)},I,{ref:function(L){v.container=L}}),ae.createElement(M_,Dx({},_,{width:S,height:C,title:D,desc:P,style:bGe}),this.renderClipPath(),rB(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(f.Component);Er(g,"displayName",r),Er(g,"defaultProps",ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Er(g,"getDerivedStateFromProps",function(y,w){var b=y.dataKey,v=y.data,N=y.children,j=y.width,k=y.height,S=y.layout,C=y.stackOffset,A=y.margin,E=w.dataStartIndex,D=w.dataEndIndex;if(w.updateId===void 0){var P=$7(y);return ot(ot(ot({},P),{},{updateId:0},p(ot(ot({props:y},P),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:v,prevWidth:j,prevHeight:k,prevLayout:S,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(b!==w.prevDataKey||v!==w.prevData||j!==w.prevWidth||k!==w.prevHeight||S!==w.prevLayout||C!==w.prevStackOffset||!qx(A,w.prevMargin)){var T=$7(y),_={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},O=ot(ot({},L7(w,v,S)),{},{updateId:w.updateId+1}),F=ot(ot(ot({},T),_),O);return ot(ot(ot({},F),p(ot({props:y},F),w)),{},{prevDataKey:b,prevData:v,prevWidth:j,prevHeight:k,prevLayout:S,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(!R_(N,w.prevChildren)){var I,R,L,H,W=Xo(N,Kg),M=W&&(I=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&I!==void 0?I:E,G=W&&(L=(H=W.props)===null||H===void 0?void 0:H.endIndex)!==null&&L!==void 0?L:D,V=M!==E||G!==D,q=!Qr(v),Y=q&&!V?w.updateId:w.updateId+1;return ot(ot({updateId:Y},p(ot(ot({props:y},w),{},{updateId:Y,dataStartIndex:M,dataEndIndex:G}),w)),{},{prevChildren:N,dataStartIndex:M,dataEndIndex:G})}return null}),Er(g,"renderActiveDot",function(y,w,b){var v;return f.isValidElement(y)?v=f.cloneElement(y,w):Rr(y)?v=y(w):v=ae.createElement(XC,w),ae.createElement(Ss,{className:"recharts-active-dot",key:b},v)});var x=f.forwardRef(function(w,b){return ae.createElement(g,Dx({},w,{ref:b}))});return x.displayName=g.displayName,x},TGe=dre({chartName:"PieChart",GraphicalChild:$u,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eA},{axisType:"radiusAxis",AxisComp:JC}],formatAxisMap:xBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ure=dre({chartName:"AreaChart",GraphicalChild:Bu,axisComponents:[{axisType:"xAxis",AxisComp:ij},{axisType:"yAxis",AxisComp:oj}],formatAxisMap:jWe});const _Ge=g0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"border-transparent bg-success text-success-foreground hover:bg-success/90",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/90",outline:"text-foreground border-border","soft-primary":"border-transparent bg-primary/15 text-primary","soft-secondary":"border-transparent bg-secondary/15 text-secondary","soft-success":"border-transparent bg-success/15 text-success","soft-warning":"border-transparent bg-warning/15 text-warning dark:text-warning","soft-destructive":"border-transparent bg-destructive/15 text-destructive",glow:"border-transparent bg-primary text-primary-foreground shadow-glow"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return s.jsx("div",{className:be(_Ge({variant:t}),e),...r})}function DGe({stats:e}){var m,p;const{i18n:t}=Ct(),r=t.language==="ar",a=Kr(),[n,i]=f.useState(0),[o,l]=f.useState([]),[c,d]=f.useState(!0);f.useEffect(()=>{(async()=>{try{const[x,y]=await Promise.all([Ns.getBalance(),Ns.getTopUpRequests("PENDING")]);x&&i(x.balance),y&&l(y)}catch(x){console.error("Failed to fetch wallet data:",x)}finally{d(!1)}})()},[]);const u=[{label:r?" ":"Orders Count",value:((m=e==null?void 0:e.orderCount)==null?void 0:m.toString())||"0",suffix:r?"":"Orders",icon:s.jsx(Dr,{className:"h-7 w-7"}),gradient:"from-orange-500 to-amber-500",shadowColor:"shadow-orange-500/20"},{label:r?"  ":"Total Orders Value",value:((p=e==null?void 0:e.revenue)==null?void 0:p.toFixed(2))||"0.00",suffix:r?"":"SAR",icon:s.jsx(Wo,{className:"h-7 w-7"}),gradient:"from-emerald-500 to-teal-500",shadowColor:"shadow-emerald-500/20"},{label:r?" ":"Wallet Balance",value:Number(n).toFixed(2),suffix:r?"":"SAR",icon:s.jsx(ca,{className:"h-7 w-7"}),gradient:"from-violet-500 to-purple-500",shadowColor:"shadow-violet-500/20"}],h=[{label:r?"":"Reports",icon:s.jsx(Da,{className:"h-6 w-6"}),link:"/dashboard/reports",gradient:"from-blue-500 to-cyan-500"},{label:r?"":"Products",icon:s.jsx(Tt,{className:"h-6 w-6"}),link:"/dashboard/products",gradient:"from-orange-500 to-amber-500"},{label:r?"":"Carts",icon:s.jsx(Dr,{className:"h-6 w-6"}),link:"/dashboard/orders",gradient:"from-emerald-500 to-teal-500"},{label:r?"":"Employees",icon:s.jsx(mr,{className:"h-6 w-6"}),link:"/dashboard/settings/users",gradient:"from-violet-500 to-purple-500"},{label:r?"":"Favourites",icon:s.jsx(dn,{className:"h-6 w-6"}),link:"/dashboard/favorites",gradient:"from-pink-500 to-rose-500"}];return s.jsx("div",{className:"w-full max-w-7xl mx-auto p-4 md:p-6",dir:r?"rtl":"ltr",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((g,x)=>s.jsx(je,{className:be("overflow-hidden bg-card border-border/50 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300",g.shadowColor),children:s.jsx(Ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.label}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-4xl font-bold text-foreground",children:g.value}),g.suffix&&s.jsx("span",{className:"text-sm text-muted-foreground",children:g.suffix})]})]}),s.jsx("div",{className:be("p-3 rounded-xl bg-gradient-to-br text-white shadow-lg",g.gradient),children:g.icon})]})})},x))}),s.jsx(je,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:s.jsx(Ce,{className:"py-8",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:h.map((g,x)=>s.jsxs("button",{onClick:()=>a(g.link),className:"flex flex-col items-center gap-3 group",children:[s.jsx("div",{className:be("p-4 rounded-2xl bg-gradient-to-br text-white shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl",g.gradient),children:g.icon}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors",children:g.label})]},x))})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(je,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:[s.jsx(et,{className:"border-b border-border/50 bg-muted/30",children:s.jsxs(at,{className:"text-lg text-foreground flex items-center gap-2",children:[s.jsx(fo,{className:"w-5 h-5 text-orange-500"}),r?"    ()":"Pending Cash Balance Charges"]})}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?"":"Date"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?" ":"Transaction #"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?"":"Bank"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?" ":"Sender Name"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?"":"Amount"})]})}),s.jsx("tbody",{children:c?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:r?" ...":"Loading..."})]})})}):o.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"p-4 rounded-2xl bg-muted/30 mb-4",children:s.jsx(Tt,{className:"h-10 w-10 text-muted-foreground/50"})}),s.jsx("p",{className:"text-muted-foreground",children:r?"   ":"No pending transactions"})]})})}):o.map(g=>{var x;return s.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30 transition-colors",children:[s.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:new Date(g.createdAt).toLocaleDateString(r?"ar-SA":"en-US")}),s.jsxs("td",{className:"py-3 px-4 text-sm font-mono text-muted-foreground",children:["#",g.id.slice(0,8)]}),s.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:((x=g.bank)==null?void 0:x.name)||"-"}),s.jsx("td",{className:"py-3 px-4 text-sm text-foreground",children:g.senderName||"-"}),s.jsxs("td",{className:"py-3 px-4 text-sm font-bold text-emerald-600",children:["+",Number(g.amount).toFixed(2)," ",g.currency]})]},g.id)})})]})})})]}),s.jsxs(je,{className:"bg-card border-border/50 rounded-2xl overflow-hidden shadow-sm",children:[s.jsx(et,{className:"border-b border-border/50 bg-muted/30",children:s.jsxs(at,{className:"text-lg text-foreground flex items-center gap-2",children:[s.jsx(Us,{className:"w-5 h-5 text-red-500"}),r?" ":"Pending Complaints"]})}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border/50 bg-muted/30",children:[s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?" ":"Date Added"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?" ":"Ticket Title"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?" ":"Order #"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?"":"Status"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-muted-foreground",children:r?"":"Comment"})]})}),s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"p-4 rounded-2xl bg-muted/30 mb-4",children:s.jsx(Tt,{className:"h-10 w-10 text-muted-foreground/50"})}),s.jsx("p",{className:"text-muted-foreground",children:r?"   ":"No pending complaints"})]})})})})]})})})]})]})]})})}const Fs=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Fs.displayName="Textarea";var cA="Checkbox",[OGe,_gt]=qa(cA),[IGe,b3]=OGe(cA);function RGe(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,p]=mo({prop:r,defaultProp:n??!1,onChange:c,caller:cA}),[g,x]=f.useState(null),[y,w]=f.useState(null),b=f.useRef(!1),v=g?!!o||!!g.closest("form"):!0,N={checked:m,disabled:i,setChecked:p,control:g,setControl:x,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:Xh(n)?!1:n,isFormControl:v,bubbleInput:y,setBubbleInput:w};return s.jsx(IGe,{scope:t,...N,children:FGe(h)?h(N):a})}var hre="CheckboxTrigger",mre=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},n)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=b3(hre,e),x=xr(n,u),y=f.useRef(c);return f.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const b=()=>h(y.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[i,h]),s.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":Xh(c)?"mixed":c,"aria-required":d,"data-state":vre(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:x,onKeyDown:xt(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:xt(r,w=>{h(b=>Xh(b)?!0:!b),g&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});mre.displayName=hre;var w3=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(RGe,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(mre,{...h,ref:t,__scopeCheckbox:r}),m&&s.jsx(gre,{__scopeCheckbox:r})]})})});w3.displayName=cA;var fre="CheckboxIndicator",pre=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...n}=e,i=b3(fre,r);return s.jsx(Pn,{present:a||Xh(i.checked)||i.checked===!0,children:s.jsx(Lt.span,{"data-state":vre(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});pre.displayName=fre;var xre="CheckboxBubbleInput",gre=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:p}=b3(xre,e),g=xr(r,p),x=Xw(i),y=Bw(a);f.useEffect(()=>{const b=m;if(!b)return;const v=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(v,"checked").set,k=!n.current;if(x!==i&&j){const S=new Event("click",{bubbles:k});b.indeterminate=Xh(i),j.call(b,Xh(i)?!1:i),b.dispatchEvent(S)}},[m,x,i,n]);const w=f.useRef(Xh(i)?!1:i);return s.jsx(Lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gre.displayName=xre;function FGe(e){return typeof e=="function"}function Xh(e){return e==="indeterminate"}function vre(e){return Xh(e)?"indeterminate":e?"checked":"unchecked"}const Ki=f.forwardRef(({className:e,...t},r)=>s.jsx(w3,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(pre,{className:be("flex items-center justify-center text-current"),children:s.jsx(Ba,{className:"h-4 w-4"})})}));Ki.displayName=w3.displayName;var dA="Dialog",[yre,bre]=qa(dA),[MGe,Gc]=yre(dA),wre=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=mo({prop:a,defaultProp:n??!1,onChange:i,caller:dA});return s.jsx(MGe,{scope:t,triggerRef:l,contentRef:c,contentId:cl(),titleId:cl(),descriptionId:cl(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};wre.displayName=dA;var jre="DialogTrigger",Nre=f.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Gc(jre,r),i=xr(t,n.triggerRef);return s.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":S3(n.open),...a,ref:i,onClick:xt(e.onClick,n.onOpenToggle)})});Nre.displayName=jre;var j3="DialogPortal",[LGe,Sre]=yre(j3,{forceMount:void 0}),kre=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,i=Gc(j3,t);return s.jsx(LGe,{scope:t,forceMount:r,children:f.Children.map(a,o=>s.jsx(Pn,{present:r||i.open,children:s.jsx(x0,{asChild:!0,container:n,children:o})}))})};kre.displayName=j3;var LS="DialogOverlay",Cre=f.forwardRef((e,t)=>{const r=Sre(LS,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Gc(LS,e.__scopeDialog);return i.modal?s.jsx(Pn,{present:a||i.open,children:s.jsx(BGe,{...n,ref:t})}):null});Cre.displayName=LS;var $Ge=tm("DialogOverlay.RemoveScroll"),BGe=f.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Gc(LS,r);return s.jsx(Qw,{as:$Ge,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(Lt.div,{"data-state":S3(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ip="DialogContent",Are=f.forwardRef((e,t)=>{const r=Sre(ip,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Gc(ip,e.__scopeDialog);return s.jsx(Pn,{present:a||i.open,children:i.modal?s.jsx(UGe,{...n,ref:t}):s.jsx(VGe,{...n,ref:t})})});Are.displayName=ip;var UGe=f.forwardRef((e,t)=>{const r=Gc(ip,e.__scopeDialog),a=f.useRef(null),n=xr(t,r.contentRef,a);return f.useEffect(()=>{const i=a.current;if(i)return dC(i)},[]),s.jsx(Ere,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:xt(e.onFocusOutside,i=>i.preventDefault())})}),VGe=f.forwardRef((e,t)=>{const r=Gc(ip,e.__scopeDialog),a=f.useRef(!1),n=f.useRef(!1);return s.jsx(Ere,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Ere=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,l=Gc(ip,r),c=f.useRef(null),d=xr(t,c);return cC(),s.jsxs(s.Fragment,{children:[s.jsx(Yw,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(vp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":S3(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(WGe,{titleId:l.titleId}),s.jsx(qGe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),N3="DialogTitle",Pre=f.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Gc(N3,r);return s.jsx(Lt.h2,{id:n.titleId,...a,ref:t})});Pre.displayName=N3;var Tre="DialogDescription",_re=f.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Gc(Tre,r);return s.jsx(Lt.p,{id:n.descriptionId,...a,ref:t})});_re.displayName=Tre;var Dre="DialogClose",Ore=f.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Gc(Dre,r);return s.jsx(Lt.button,{type:"button",...a,ref:t,onClick:xt(e.onClick,()=>n.onOpenChange(!1))})});Ore.displayName=Dre;function S3(e){return e?"open":"closed"}var Ire="DialogTitleWarning",[zGe,Rre]=qhe(Ire,{contentName:ip,titleName:N3,docsSlug:"dialog"}),WGe=({titleId:e})=>{const t=Rre(Ire),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},HGe="DialogDescriptionWarning",qGe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rre(HGe).contentName}}.`;return f.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},k3=wre,C3=Nre,A3=kre,lj=Cre,cj=Are,dj=Pre,uj=_re,uA=Ore;const Qt=k3,Qx=C3,GGe=A3,Fre=f.forwardRef(({className:e,...t},r)=>s.jsx(lj,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fre.displayName=lj.displayName;const Yt=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(GGe,{children:[s.jsx(Fre,{}),s.jsxs(cj,{ref:a,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(uA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(hr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yt.displayName=cj.displayName;const tr=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tr.displayName="DialogHeader";const Vr=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vr.displayName="DialogFooter";const rr=f.forwardRef(({className:e,...t},r)=>s.jsx(dj,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));rr.displayName=dj.displayName;const ur=f.forwardRef(({className:e,...t},r)=>s.jsx(uj,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));ur.displayName=uj.displayName;function KGe(e,t){return f.useReducer((r,a)=>t[r][a]??r,e)}var E3="ScrollArea",[Mre,Dgt]=qa(E3),[YGe,sc]=Mre(E3),Lre=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(null),[x,y]=f.useState(null),[w,b]=f.useState(0),[v,N]=f.useState(0),[j,k]=f.useState(!1),[S,C]=f.useState(!1),A=xr(t,D=>c(D)),E=Cm(n);return s.jsx(YGe,{scope:r,type:a,dir:E,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:N,children:s.jsx(Lt.div,{dir:E,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});Lre.displayName=E3;var $re="ScrollAreaViewport",Bre=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:n,...i}=e,o=sc($re,r),l=f.useRef(null),c=xr(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Lt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Bre.displayName=$re;var Ud="ScrollAreaScrollbar",P3=f.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=sc(Ud,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?s.jsx(XGe,{...a,ref:t,forceMount:r}):n.type==="scroll"?s.jsx(QGe,{...a,ref:t,forceMount:r}):n.type==="auto"?s.jsx(Ure,{...a,ref:t,forceMount:r}):n.type==="always"?s.jsx(T3,{...a,ref:t}):null});P3.displayName=Ud;var XGe=f.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=sc(Ud,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),s.jsx(Pn,{present:r||i,children:s.jsx(Ure,{"data-state":i?"visible":"hidden",...a,ref:t})})}),QGe=f.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=sc(Ud,e.__scopeScrollArea),i=e.orientation==="horizontal",o=mA(()=>c("SCROLL_END"),100),[l,c]=KGe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),f.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[n.viewport,i,c,o]),s.jsx(Pn,{present:r||l!=="hidden",children:s.jsx(T3,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:xt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ure=f.forwardRef((e,t)=>{const r=sc(Ud,e.__scopeScrollArea),{forceMount:a,...n}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=mA(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return n0(r.viewport,c),n0(r.content,c),s.jsx(Pn,{present:a||i,children:s.jsx(T3,{"data-state":i?"visible":"hidden",...n,ref:t})})}),T3=f.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,n=sc(Ud,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=qre(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return sKe(m,o.current,l,p)}return r==="horizontal"?s.jsx(JGe,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollLeft,p=U7(m,l,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=h(m,n.dir))}}):r==="vertical"?s.jsx(ZGe,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const m=n.viewport.scrollTop,p=U7(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=h(m))}}):null}),JGe=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,i=sc(Ud,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=xr(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(zre,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hA(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Kre(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:BS(o.paddingLeft),paddingEnd:BS(o.paddingRight)}})}})}),ZGe=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...n}=e,i=sc(Ud,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=xr(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(zre,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hA(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Kre(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:BS(o.paddingTop),paddingEnd:BS(o.paddingBottom)}})}})}),[eKe,Vre]=Mre(Ud),zre=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=sc(Ud,r),[g,x]=f.useState(null),y=xr(t,A=>x(A)),w=f.useRef(null),b=f.useRef(""),v=p.viewport,N=a.content-a.viewport,j=Ma(u),k=Ma(c),S=mA(h,10);function C(A){if(w.current){const E=A.clientX-w.current.left,D=A.clientY-w.current.top;d({x:E,y:D})}}return f.useEffect(()=>{const A=E=>{const D=E.target;(g==null?void 0:g.contains(D))&&j(E,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[v,g,N,j]),f.useEffect(k,[a,k]),n0(g,S),n0(p.content,S),s.jsx(eKe,{scope:r,scrollbar:g,hasThumb:n,onThumbChange:Ma(i),onThumbPointerUp:Ma(o),onThumbPositionChange:k,onThumbPointerDown:Ma(l),children:s.jsx(Lt.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:xt(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:xt(e.onPointerMove,C),onPointerUp:xt(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),$S="ScrollAreaThumb",Wre=f.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=Vre($S,e.__scopeScrollArea);return s.jsx(Pn,{present:r||n.hasThumb,children:s.jsx(tKe,{ref:t,...a})})}),tKe=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...n}=e,i=sc($S,r),o=Vre($S,r),{onThumbPositionChange:l}=o,c=xr(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=mA(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=aKe(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Lt.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:xt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,x=h.clientY-p.top;o.onThumbPointerDown({x:g,y:x})}),onPointerUp:xt(e.onPointerUp,o.onThumbPointerUp)})});Wre.displayName=$S;var _3="ScrollAreaCorner",Hre=f.forwardRef((e,t)=>{const r=sc(_3,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?s.jsx(rKe,{...e,ref:t}):null});Hre.displayName=_3;var rKe=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,n=sc(_3,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return n0(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),n0(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?s.jsx(Lt.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function BS(e){return e?parseInt(e,10):0}function qre(e,t){const r=e/t;return isNaN(r)?0:r}function hA(e){const t=qre(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function sKe(e,t,r,a="ltr"){const n=hA(r),i=n/2,o=t||i,l=n-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return Gre([c,d],h)(e)}function U7(e,t,r="ltr"){const a=hA(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,l=i-a,c=r==="ltr"?[0,o]:[o*-1,0],d=kb(e,c);return Gre([0,o],[0,l])(d)}function Gre(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Kre(e,t){return e>0&&e<t}var aKe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function mA(e,t){const r=Ma(e),a=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),f.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function n0(e,t){const r=Ma(t);tn(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,r])}var Yre=Lre,nKe=Bre,iKe=Hre;const xn=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(Yre,{ref:a,className:be("relative overflow-hidden",e),...r,children:[s.jsx(nKe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Xre,{}),s.jsx(iKe,{})]}));xn.displayName=Yre.displayName;const Xre=f.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(P3,{ref:a,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(Wre,{className:"relative flex-1 rounded-full bg-border"})}));Xre.displayName=P3.displayName;const oKe=()=>{const{t:e}=Ct(),t=[{title:e("dashboard.sidebar.salesAndOrders"),items:[{name:e("dashboard.sidebar.products"),href:"/dashboard/products",icon:Tt,color:"text-blue-500",description:e("dashboard.sidebar.productsDesc")},{name:e("dashboard.sidebar.hierarchical"," "),href:"/dashboard/hierarchical",icon:vi,color:"text-indigo-500",description:e("dashboard.sidebar.hierarchicalDesc")},{name:e("dashboard.sidebar.priceManagement"),href:"/dashboard/prices",icon:pn,color:"text-green-500",description:e("dashboard.sidebar.priceManagementDesc")},{name:e("dashboard.sidebar.orders"),href:"/dashboard/orders",icon:Dr,color:"text-orange-500",description:e("dashboard.sidebar.ordersDesc")},{name:e("dashboard.sidebar.customers"),href:"/dashboard/customers",icon:mr,color:"text-purple-500",description:e("dashboard.sidebar.customersDesc")},{name:e("dashboard.sidebar.reports"),href:"/dashboard/reports",icon:Da,color:"text-red-500",description:e("dashboard.sidebar.reportsDesc")}]},{title:e("dashboard.sidebar.contentAndDesign"),items:[{name:e("dashboard.sidebar.categories"),href:"/dashboard/categories",icon:vi,color:"text-yellow-500",description:e("dashboard.sidebar.categoriesDesc")},{name:e("dashboard.sidebar.pages"),href:"/dashboard/pages",icon:ua,color:"text-teal-500",description:e("dashboard.sidebar.pagesDesc")},{name:e("dashboard.sidebar.storefront"),href:"/dashboard/storefront",icon:Gf,color:"text-cyan-500",description:e("dashboard.sidebar.storefrontDesc")},{name:e("dashboard.sidebar.storeDesign"),href:"/dashboard/design",icon:Bc,color:"text-pink-500",description:e("dashboard.sidebar.storeDesignDesc")},{name:e("dashboard.sidebar.templates"),href:"/dashboard/templates",icon:wg,color:"text-rose-500",description:e("dashboard.sidebar.templatesDesc")}]},{title:e("dashboard.sidebar.marketing"),items:[{name:e("dashboard.sidebar.potentialAndMarketing"),href:"/dashboard/marketing",icon:am,color:"text-red-500",description:e("dashboard.sidebar.marketingDesc")},{name:e("dashboard.sidebar.smartLine"),href:"/dashboard/smart-line",icon:Kf,color:"text-violet-500",description:e("dashboard.sidebar.smartLineDesc")}]},{title:e("dashboard.sidebar.storeSettings"),items:[{name:e("dashboard.sidebar.generalSettings"),href:"/dashboard/settings",icon:vs,color:"text-gray-500",description:e("dashboard.sidebar.generalSettingsDesc")},{name:e("dashboard.sidebar.notifications"),href:"/dashboard/settings/notifications",icon:zl,color:"text-yellow-600",description:e("dashboard.sidebar.notificationsDesc")},{name:e("dashboard.sidebar.payment"),href:"/dashboard/settings/payment",icon:Wr,color:"text-green-600",description:e("dashboard.sidebar.paymentDesc")},{name:e("dashboard.sidebar.domains"),href:"/dashboard/settings/domains",icon:Oa,color:"text-blue-600",description:e("dashboard.sidebar.domainsDesc")},{name:e("dashboard.sidebar.suppliers"),href:"/dashboard/settings/suppliers",icon:Do,color:"text-indigo-600",description:e("dashboard.sidebar.suppliersDesc")}]},{title:e("dashboard.sidebar.advanced"),items:[{name:e("dashboard.sidebar.usersAndPermissions"),href:"/dashboard/settings/users",icon:mr,color:"text-purple-600",description:e("dashboard.sidebar.usersAndPermissionsDesc")},{name:e("dashboard.sidebar.integrations"),href:"/dashboard/settings/integrations",icon:u2,color:"text-orange-600",description:e("dashboard.sidebar.integrationsDesc")},{name:e("dashboard.sidebar.identityVerification"),href:"/dashboard/settings/kyc",icon:Ux,color:"text-emerald-600",description:e("dashboard.sidebar.identityVerificationDesc")},{name:e("dashboard.sidebar.appStore"),href:"/dashboard/apps",icon:py,color:"text-blue-400",description:e("dashboard.sidebar.appStoreDesc")},{name:e("dashboard.sidebar.chat"),href:"/dashboard/chat",icon:un,color:"text-pink-600",description:e("dashboard.sidebar.chatDesc")}]}];return s.jsx("div",{className:"space-y-8 animate-fade-in",children:t.map((r,a)=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 border-b pb-2",children:[s.jsx("span",{className:"w-1 h-6 bg-primary rounded-full"}),r.title]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.items.map(n=>s.jsx(Qe,{to:n.href,children:s.jsx(je,{className:"h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1 border-transparent hover:border-primary/20 bg-card/50 backdrop-blur-sm group",children:s.jsxs(Ce,{className:"p-6 flex items-start gap-4",children:[s.jsx("div",{className:be("p-3 rounded-xl bg-muted group-hover:bg-primary/10 transition-colors",n.color),children:s.jsx(n.icon,{className:"w-6 h-6"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"font-semibold group-hover:text-primary transition-colors",children:n.name}),n.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:n.description})]})]})})},n.href))})]},r.title))})},Qp=({title:e,value:t,icon:r,trend:a,color:n})=>{const i={primary:"from-primary to-primary/70 bg-primary/10",success:"from-success to-success/70 bg-success/10",secondary:"from-secondary to-secondary/70 bg-secondary/10",accent:"from-accent to-accent/70 bg-accent/10"},o={primary:"text-primary",success:"text-success",secondary:"text-secondary",accent:"text-accent"};return s.jsxs(je,{className:"group hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden border-border/50",children:[s.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b ${i[n].split(" ")[0]} ${i[n].split(" ")[1]}`}),s.jsx(Ce,{className:"p-5 md:p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e}),s.jsx("p",{className:"text-2xl md:text-3xl font-heading font-bold text-foreground",children:t}),s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-success",children:[s.jsx(Wo,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:a})]})]}),s.jsx("div",{className:`p-3 rounded-xl ${i[n].split(" ")[2]} group-hover:scale-110 transition-transform duration-300`,children:s.jsx(r,{className:`h-6 w-6 ${o[n]}`})})]})})]})};function lKe(){var A;const{t:e,i18n:t}=Ct(),{user:r}=$s(),[a,n]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!0),[p,g]=f.useState("month"),[x,y]=f.useState("visual"),[w,b]=f.useState(localStorage.getItem("dashboardDisplayMode")||"normal"),v=Ho(),N=!!(r!=null&&r.tenantId),j=f.useCallback(async()=>{try{m(!0);const[E,D]=await Promise.all([he.get("/dashboard/stats"),he.getOrders()]);let P=null;E&&typeof E=="object"&&!("error"in E)&&!("statusCode"in E)?P={orderCount:Number(E.orderCount)||0,revenue:Number(E.revenue)||0,productCount:Number(E.productCount)||0,customerCount:Number(E.customerCount)||0,visits:Number(E.visits)||0,saved:Number(E.saved)||0}:P={orderCount:0,revenue:0,productCount:0,customerCount:0,visits:0,saved:0},n(P);let T=[];D&&typeof D=="object"&&(Array.isArray(D)?T=D.filter(F=>F&&typeof F=="object"&&!("error"in F)):D.orders&&Array.isArray(D.orders)&&(T=D.orders.filter(F=>F&&typeof F=="object"&&!("error"in F)))),o(T.slice(0,5));const _=k(T);u(_);const O=S(T,P);c(O)}catch(E){console.error("Failed to load dashboard data:",E),n({orderCount:0,revenue:0,productCount:0,customerCount:0,visits:0,saved:0}),o([]),u([]),c([])}finally{m(!1)}},[]);f.useEffect(()=>{j()},[j,p]);const k=E=>{const D=new Map,P=new Date;for(let T=6;T>=0;T--){const _=new Date(P);_.setDate(_.getDate()-T);const O=`${_.getDate()}/${_.getMonth()+1}`;D.set(O,{name:O,revenue:0,orders:0})}return E.forEach(T=>{if(T&&T.createdAt&&T.total!==void 0){const _=new Date(T.createdAt),O=`${_.getDate()}/${_.getMonth()+1}`;if(D.has(O)){const F=D.get(O);F.revenue+=Number(T.total)||0,F.orders+=1}}}),Array.from(D.values())},S=(E,D)=>{const P=[],T=E.filter(_=>_.status==="pending");return T.length>0&&P.push({id:"1",type:"order",title:e("dashboard.notifications.newOrders","New Orders"),message:e("dashboard.notifications.pendingOrdersMessage","You have {{count}} new order(s) pending",{count:T.length}),time:e("dashboard.notifications.justNow","Just now"),read:!1}),P},C=E=>{const D={pending:{labelKey:"dashboard.orders.pending",defaultLabel:"Pending",variant:"soft-warning"},processing:{labelKey:"dashboard.orders.processing",defaultLabel:"Processing",variant:"soft-primary"},shipped:{labelKey:"dashboard.orders.shipped",defaultLabel:"Shipped",variant:"soft-secondary"},delivered:{labelKey:"dashboard.orders.delivered",defaultLabel:"Delivered",variant:"soft-success"},cancelled:{labelKey:"dashboard.orders.cancelled",defaultLabel:"Cancelled",variant:"soft-destructive"}},{labelKey:P,defaultLabel:T,variant:_}=D[E]||D.pending;return s.jsx(Ze,{variant:_,children:e(P,T)})};return h?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"relative w-20 h-20 mx-auto rounded-xl overflow-hidden bg-card border border-border shadow-lg",children:s.jsx("img",{src:v,alt:Hn,className:"w-full h-full object-contain p-2"})})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Xl,{className:"h-5 w-5 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:e("common.loading","Loading data...")})]})})]})}):s.jsxs("div",{className:"space-y-6 pb-8",children:[!N&&s.jsxs(je,{className:"border-2 border-dashed border-primary/40 bg-gradient-to-r from-primary/5 via-accent/5 to-secondary/5 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),s.jsx(Ce,{className:"p-6 md:p-8 relative",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-3 bg-gradient-to-r from-primary to-secondary rounded-2xl blur-lg opacity-40"}),s.jsx("div",{className:"relative p-4 gradient-primary rounded-2xl shadow-xl",children:s.jsx(Vs,{className:"h-10 w-10 text-white"})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-right space-y-2",children:[s.jsx("h3",{className:"text-2xl font-heading font-bold",children:e("dashboard.setupPrompt.title","  ")}),s.jsx("p",{className:"text-muted-foreground text-base max-w-xl",children:e("dashboard.setupPrompt.description","             ")})]}),s.jsx(Qe,{to:"/dashboard/market-setup",children:s.jsxs(z,{size:"lg",className:"gradient-primary shadow-lg gap-2 font-semibold h-12 px-8",children:[s.jsx(ds,{className:"h-5 w-5"}),e("dashboard.setupPrompt.button"," "),s.jsx(ta,{className:"h-4 w-4 rtl:rotate-180"})]})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 pb-3 sm:pb-4 border-b",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-12 h-12 sm:w-20 sm:h-20 rounded-lg overflow-hidden bg-card border border-border shadow-sm flex-shrink-0",children:s.jsx("img",{src:v,alt:Hn,className:"w-full h-full object-contain p-1"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-heading font-bold gradient-text truncate",children:e("dashboard.sidebar.dashboard","Dashboard")}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm truncate",children:e("dashboard.main.subtitle","Overview of your store performance")})]})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2",children:[s.jsxs(nr,{value:p,onValueChange:g,children:[s.jsxs(Jt,{className:"w-full sm:w-[140px] md:w-[160px] h-9 sm:h-10 bg-card text-xs sm:text-sm",children:[s.jsx(ji,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 ml-2 text-muted-foreground"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"week",children:e("dashboard.main.lastWeek","Last Week")}),s.jsx(Oe,{value:"month",children:e("dashboard.main.lastMonth","Last Month")}),s.jsx(Oe,{value:"year",children:e("dashboard.main.lastYear","Last Year")})]})]}),s.jsx(z,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("common.refresh","Refresh"),onClick:()=>j(),children:s.jsx(Xl,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),s.jsx(z,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("dashboard.header.download","Download Report"),children:s.jsx(Za,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),s.jsx(z,{variant:"outline",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 flex-shrink-0",title:e("dashboard.header.filter","Filter"),children:s.jsx(wu,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})}),s.jsxs("div",{className:"flex items-center bg-muted/50 rounded-lg p-1 ml-1 border border-border/50",children:[s.jsx("span",{className:"text-[10px] font-bold px-2 text-muted-foreground hidden sm:inline-block uppercase tracking-wider",children:e("dashboard.main.viewMode","")}),s.jsxs(z,{variant:w==="normal"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{b("normal"),localStorage.setItem("dashboardDisplayMode","normal")},title:e("dashboard.main.normal"),children:[s.jsx(Mw,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.normal")})]}),s.jsxs(z,{variant:w==="cards"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{b("cards"),localStorage.setItem("dashboardDisplayMode","cards")},title:e("dashboard.main.cards"),children:[s.jsx(N4,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.cards")})]}),s.jsxs(z,{variant:w==="navigation"?"secondary":"ghost",size:"sm",className:"h-7 px-2 sm:h-8 sm:px-3 flex items-center gap-2 transition-all",onClick:()=>{b("navigation"),localStorage.setItem("dashboardDisplayMode","navigation")},title:e("dashboard.main.navigation",""),children:[s.jsx(Ume,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden md:inline text-xs font-medium",children:e("dashboard.main.navigation","")})]})]})]})]}),w==="normal"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-5",children:[s.jsx(Qp,{title:e("dashboard.main.totalSales"),value:`${((A=a==null?void 0:a.revenue)==null?void 0:A.toFixed(2))||"0.00"} ${e("common.currency")}`,icon:pn,trend:"+18.7%",color:"accent"}),s.jsx(Qp,{title:e("dashboard.main.totalOrders"),value:(a==null?void 0:a.orderCount)||0,icon:Dr,trend:"+8.2%",color:"secondary"}),s.jsx(Qp,{title:e("dashboard.main.avgOrderValue"),value:`${(a!=null&&a.revenue&&(a!=null&&a.orderCount)?a.revenue/a.orderCount:0).toFixed(2)} ${e("common.currency")}`,icon:Wo,trend:"+5.4%",color:"primary"}),s.jsx(Qp,{title:e("dashboard.main.totalCustomers"),value:(a==null?void 0:a.customerCount)||0,icon:mr,trend:"+12.5%",color:"success"}),s.jsx(Qp,{title:e("dashboard.main.visits"),value:(a==null?void 0:a.visits)||0,icon:fr,trend:"+22.4%",color:"secondary"}),s.jsx(Qp,{title:e("dashboard.main.totalProducts"),value:(a==null?void 0:a.productCount)||0,icon:Tt,trend:"+12.5%",color:"accent"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:[s.jsxs(je,{className:"lg:col-span-2 hover:shadow-lg transition-shadow border-border/50 overflow-hidden",children:[s.jsx(et,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs(at,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[s.jsx(Da,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e("dashboard.main.salesChart")})]}),s.jsx(Vt,{className:"mt-1 text-xs sm:text-sm",children:(()=>{const E=new Date,D=new Date(E.getFullYear(),E.getMonth(),1),P=new Date(E.getFullYear(),E.getMonth()+1,0),T=t.language==="ar"?"ar-SA":"en-US",_={year:"numeric",month:"long",day:"numeric"};return`${D.toLocaleDateString(T,_)} - ${P.toLocaleDateString(T,_)}`})()})]}),s.jsx(Yn,{value:x,onValueChange:y,children:s.jsxs(_n,{className:"h-8 sm:h-9 bg-muted/50",children:[s.jsx(Ar,{value:"visual",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.visual")}),s.jsx(Ar,{value:"summary",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.summary")}),s.jsx(Ar,{value:"detailed",className:"text-[10px] sm:text-xs px-2 sm:px-3",children:e("dashboard.main.detailed")})]})})]})}),s.jsxs(Ce,{className:"pt-4 sm:pt-6 px-3 sm:px-6",children:[x==="visual"&&s.jsx(a5,{width:"100%",height:280,className:"sm:h-[320px]",children:s.jsxs(ure,{data:d,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.25}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),s.jsx(y3,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",vertical:!1}),s.jsx(ij,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1}),s.jsx(oj,{stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1}),s.jsx(_l,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"var(--shadow-lg)",fontSize:"12px"}}),s.jsx(Bu,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})}),x==="summary"&&s.jsx("div",{className:"h-[320px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-muted/50 flex items-center justify-center",children:s.jsx(Da,{className:"h-8 w-8 opacity-50"})}),s.jsx("p",{className:"text-sm",children:e("dashboard.main.showSummary")})]})}),x==="detailed"&&s.jsx("div",{className:"h-[320px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-xl bg-muted/50 flex items-center justify-center",children:s.jsx(Da,{className:"h-8 w-8 opacity-50"})}),s.jsx("p",{className:"text-sm",children:e("dashboard.main.showDetailed")})]})})]})]}),s.jsxs(je,{className:"border-border/50 overflow-hidden",children:[s.jsx(et,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs(at,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-secondary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e("dashboard.main.notifications")})]}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-[10px] sm:text-xs h-7 sm:h-8 text-muted-foreground hover:text-foreground flex-shrink-0",children:e("dashboard.header.clearAll")})]})}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"divide-y max-h-[300px] sm:max-h-[380px] overflow-y-auto scrollbar-thin",children:l.length===0?s.jsxs("div",{className:"p-6 sm:p-10 text-center text-muted-foreground",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 mx-auto mb-3 sm:mb-4 rounded-xl bg-muted/50 flex items-center justify-center",children:s.jsx(zl,{className:"h-6 w-6 sm:h-7 sm:w-7 opacity-40"})}),s.jsx("p",{className:"text-xs sm:text-sm",children:e("dashboard.main.noNotifications")})]}):l.map(E=>s.jsx("div",{className:`p-3 sm:p-4 hover:bg-muted/30 transition-colors cursor-pointer ${E.read?"":"bg-primary/5"}`,children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsxs("div",{className:`p-2 sm:p-2.5 rounded-xl flex-shrink-0 ${E.type==="order"?"bg-success/10":E.type==="stock"?"bg-warning/10":E.type==="review"?"bg-primary/10":"bg-secondary/10"}`,children:[E.type==="order"&&s.jsx(Dr,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-success"}),E.type==="stock"&&s.jsx(Tt,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-warning"}),E.type==="payment"&&s.jsx(pn,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-secondary"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-semibold truncate",children:String(E.title||"")}),s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1 line-clamp-2",children:String(E.message||"")}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-[10px] sm:text-xs text-muted-foreground",children:[s.jsx(fo,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:String(E.time||"")})]})]}),!E.read&&s.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 bg-primary rounded-full flex-shrink-0 mt-1.5 animate-pulse"})]})},E.id))})})]})]}),s.jsxs(je,{className:"border-border/50 overflow-hidden",children:[s.jsx(et,{className:"border-b pb-3 sm:pb-4 px-3 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs(at,{className:"text-base sm:text-lg font-heading flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e("dashboard.main.recentOrders")})]}),s.jsx(Qe,{to:"/dashboard/orders",children:s.jsxs(z,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80 text-[10px] sm:text-xs h-7 sm:h-8 gap-1 flex-shrink-0",children:[e("dashboard.main.viewAll"),s.jsx(Ms,{className:"h-3 w-3 sm:h-4 sm:w-4 rtl:rotate-180"})]})})]})}),s.jsx(Ce,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"p-10 sm:p-16 text-center text-muted-foreground",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-xl bg-muted/50 flex items-center justify-center",children:s.jsx(Dr,{className:"h-6 w-6 sm:h-8 sm:w-8 opacity-40"})}),s.jsx("p",{className:"text-xs sm:text-sm",children:e("dashboard.main.noOrders")})]}):s.jsx("div",{className:"divide-y",children:i.map(E=>{var D,P;return s.jsx("div",{className:"p-3 sm:p-4 md:p-5 hover:bg-muted/30 transition-colors group",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"p-2 sm:p-3 bg-accent/10 rounded-xl flex-shrink-0 group-hover:bg-accent/20 transition-colors",children:s.jsx(Dr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"font-semibold text-sm",children:["#",String(E.orderNumber||((D=E.id)==null?void 0:D.slice(0,8))||"")]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:String(((P=E.customer)==null?void 0:P.name)||e("dashboard.sidebar.customers")||"")})]})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-shrink-0",children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-bold text-xs sm:text-sm",children:[Number(E.total||0).toFixed(2)," ",e("common.currency")]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5",children:E.createdAt?new Date(E.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US",{month:"short",day:"numeric"}):"-"})]}),s.jsx("div",{className:"flex-shrink-0",children:C(E.status)}),s.jsx(Qe,{to:`/dashboard/orders/${E.id}`,children:s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:s.jsx(fr,{className:"h-4 w-4"})})})]})]})},E.id)})})})]})]}):w==="cards"?s.jsx(DGe,{stats:a}):s.jsx(oKe,{})]})}const V7=[{id:"audio",title:"Create Audio",titleAr:" ",description:"Convert your product descriptions into professional audio recordings",descriptionAr:"      ",icon:gG,category:"media",color:"from-blue-500 to-cyan-500"},{id:"image",title:"Create Images",titleAr:" ",description:"Create professional product images in seconds",descriptionAr:"     ",icon:Ni,category:"media",color:"from-purple-500 to-pink-500"},{id:"video",title:"Create Video",titleAr:" ",description:"Create attractive promotional videos for your products",descriptionAr:"    ",icon:Lw,category:"media",color:"from-red-500 to-orange-500"},{id:"gpt",title:"Saeaa GPT",titleAr:" GPT",description:"Your smart assistant for professional store management and creation",descriptionAr:"     ",icon:ds,category:"all",color:"from-primary to-secondary"}];function cKe(){const{t:e,i18n:t}=Ct();$s();const{toast:r}=Rt(),a=t.language==="ar",[n,i]=f.useState("all"),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(290),g=f.useRef(null),x=n==="all"?V7:V7.filter(b=>b.category===n||b.category==="all"),y=b=>{var v;l(b),(v=g.current)==null||v.focus()},w=async()=>{if(!(!c.trim()||u)){h(!0);try{const b=await Gw.chat({message:c,context:{currentPage:"ai-dashboard",tool:o,action:"create_content"}});r({title:a?"  ":"Created Successfully",description:a?"   ":"Content created successfully"}),d(""),l(null)}catch(b){r({title:a?"":"Error",description:b instanceof Error?b.message:a?"   ":"An error occurred",variant:"destructive"})}finally{h(!1)}}};return s.jsx("div",{dir:a?"rtl":"ltr",className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 text-white",children:s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsxs(Je.div,{initial:{x:a?100:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:"w-64 bg-gray-900/50 border-l border-gray-800/50 p-6 flex flex-col",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:s.jsx(ds,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:" AI"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Saeaa AI"})]})]})}),s.jsx("nav",{className:"space-y-2 flex-1",children:[{id:"home",label:"",labelEn:"Home",icon:Gf},{id:"media",label:"",labelEn:"Media",icon:Bme},{id:"writing",label:"",labelEn:"Writing",icon:ua},{id:"programming",label:"",labelEn:"Programming",icon:Vh}].map(b=>s.jsxs("button",{className:be("w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all text-right",o===b.id?"bg-primary/20 text-primary border border-primary/30":"text-gray-400 hover:text-white hover:bg-gray-800/50"),onClick:()=>{b.id==="media"?i("media"):b.id==="writing"?i("writing"):i("all")},children:[s.jsx(b.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:a?b.label:b.labelEn})]},b.id))}),s.jsx("div",{className:"mt-auto pt-6 border-t border-gray-800/50",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg p-4 border border-primary/30",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:a?" GPT":"Saeaa GPT"}),s.jsxs(z,{className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90",size:"sm",children:[s.jsx(ds,{className:"w-4 h-4 mr-2"}),a?"":"Start"]})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"bg-gray-900/30 border-b border-gray-800/50 p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[a?" ":"Remaining Balance",": ",s.jsx("span",{className:"text-primary font-bold",children:m})]}),s.jsx("h1",{className:"text-2xl font-bold",children:a?"  ":"Store Control Panel"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(me,{placeholder:a?"   ":"Search for a specific tool",className:"w-64 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 pr-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-6 h-6 text-primary"}),s.jsx("span",{className:"font-bold text-lg",children:" AI"})]})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:a?"      ":"What do you want to create for your store today?"}),s.jsx("div",{className:"flex items-center justify-center gap-4 mb-8 flex-wrap",children:[{id:"all",label:"",labelEn:"All"},{id:"media",label:"",labelEn:"Media"},{id:"writing",label:" ",labelEn:"Content Writing"},{id:"gpt",label:" GPT",labelEn:"Saeaa GPT"}].map(b=>s.jsx("button",{onClick:()=>{b.id==="gpt"?(l("gpt"),i("all")):(i(b.id),l(null))},className:be("px-6 py-2 rounded-full font-semibold transition-all",b.id==="gpt"&&o==="gpt"||b.id!=="gpt"&&n===b.id?"bg-primary text-white shadow-lg shadow-primary/25":"bg-gray-800/50 text-gray-400 hover:text-white hover:bg-gray-800"),children:a?b.label:b.labelEn},b.id))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:x.map(b=>{const v=b.icon;return s.jsx(Je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},className:"group",children:s.jsxs(je,{className:be("bg-gray-800/50 border-gray-700 hover:border-primary/50 transition-all cursor-pointer h-full",o===b.id&&"border-primary bg-primary/10"),onClick:()=>y(b.id),children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:be("w-12 h-12 rounded-lg bg-gradient-to-br flex items-center justify-center",`bg-gradient-to-br ${b.color}`),children:s.jsx(v,{className:"w-6 h-6 text-white"})}),o===b.id&&s.jsx(Ze,{className:"bg-primary text-white",children:a?"":"Selected"})]}),s.jsx(at,{className:"text-xl mb-2",children:a?b.titleAr:b.title}),s.jsx(Vt,{className:"text-gray-400",children:a?b.descriptionAr:b.description})]}),s.jsx(Ce,{children:s.jsx(z,{className:be("w-full",o===b.id?"bg-primary hover:bg-primary/90":"bg-gray-700 hover:bg-gray-600"),onClick:N=>{N.stopPropagation(),y(b.id)},children:a?"":"Start"})})]})},b.id)})}),s.jsx(je,{className:"bg-gray-800/50 border-gray-700",children:s.jsx(Ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(me,{ref:g,value:c,onChange:b=>d(b.target.value),onKeyPress:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),w())},placeholder:a?" ...":"Create sh...",className:"bg-gray-900/50 border-gray-700 text-white placeholder:text-gray-500 h-12 pr-12"}),s.jsx("button",{onClick:w,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-lg bg-primary/20 hover:bg-primary/30 transition-colors",children:s.jsx(An,{className:"w-5 h-5 text-primary"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",className:"bg-gray-700/50 border-gray-600 text-white hover:bg-gray-600",onClick:()=>{d(a?"  ":"Create product image"),y("image")},children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"}),a?" ":"Product Image"]}),s.jsxs(z,{variant:"outline",className:"bg-gray-700/50 border-gray-600 text-white hover:bg-gray-600",onClick:()=>{d(a?"  ":"Convert image to video"),y("video")},children:[s.jsx(Lw,{className:"w-4 h-4 mr-2"}),a?" ":"Image to Video"]})]})]})})})]})})]})]})})}const dKe="modulepreload",uKe=function(e){return"/"+e},z7={},Zv=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=uKe(c),c in z7)return;z7[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":dKe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var US={};US.version="0.18.5";var Qre=1252,hKe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],D3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},O3=function(e){hKe.indexOf(e)!=-1&&(Qre=D3[0]=e)};function mKe(){O3(1252)}var _c=function(e){O3(e)};function I3(){_c(1200),mKe()}function W7(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function fKe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Jre(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var ey=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?fKe(e.slice(2)):t==254&&r==255?Jre(e.slice(2)):t==65279?e.slice(1):e},I1=function(t){return String.fromCharCode(t)},H7=function(t){return String.fromCharCode(t)},gh,_h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ow(e){for(var t="",r=0,a=0,n=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),o=(r&3)<<4|a>>4,n=e.charCodeAt(d++),l=(a&15)<<2|n>>6,c=n&63,isNaN(a)?l=c=64:isNaN(n)&&(c=64),t+=_h.charAt(i)+_h.charAt(o)+_h.charAt(l)+_h.charAt(c);return t}function pl(e){var t="",r=0,a=0,n=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=_h.indexOf(e.charAt(d++)),o=_h.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=_h.indexOf(e.charAt(d++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=_h.indexOf(e.charAt(d++)),n=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var ms=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Uu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function dm(e){return ms?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function q7(e){return ms?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var al=function(t){return ms?Uu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function fA(e){if(typeof ArrayBuffer>"u")return al(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Om(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function pKe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function R3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return R3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ai=ms?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Uu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function xKe(e){for(var t=[],r=0,a=e.length+250,n=dm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)n[r++]=o;else if(o<2048)n[r++]=192|o>>6&31,n[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;n[r++]=240|o>>8&7,n[r++]=128|o>>2&63,n[r++]=128|l>>6&15|(o&3)<<4,n[r++]=128|l&63}else n[r++]=224|o>>12&15,n[r++]=128|o>>6&63,n[r++]=128|o&63;r>a&&(t.push(n.slice(0,r)),r=0,n=dm(65535),a=65530)}return t.push(n.slice(0,r)),ai(t)}var ho=/\u0000/g,ty=/[\u0001-\u0006]/g;function Jx(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Dc(e,t){var r=""+e;return r.length>=t?r:Ja("0",t-r.length)+r}function F3(e,t){var r=""+e;return r.length>=t?r:Ja(" ",t-r.length)+r}function VS(e,t){var r=""+e;return r.length>=t?r:r+Ja(" ",t-r.length)}function gKe(e,t){var r=""+Math.round(e);return r.length>=t?r:Ja("0",t-r.length)+r}function vKe(e,t){var r=""+e;return r.length>=t?r:Ja("0",t-r.length)+r}var G7=Math.pow(2,32);function Jp(e,t){if(e>G7||e<-G7)return gKe(e,t);var r=Math.round(e);return vKe(r,t)}function zS(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var K7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],HP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yKe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Pr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Y7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bKe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function WS(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(n);d<t&&(h=Math.floor(n),l=h*o+i,u=h*d+c,!(n-h<5e-8));)n=1/(n-h),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,a*l,u];var m=Math.floor(a*l/u);return[m,a*l-m*u,u]}function jf(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++n==86400&&(l.T=n=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=CKe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=n%60,n=Math.floor(n/60),l.M=n%60,n=Math.floor(n/60),l.H=n,l.q=i,l}var Zre=new Date(1899,11,31,0,0,0),wKe=Zre.getTime(),jKe=new Date(1900,2,1,0,0,0);function ese(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=jKe&&(r+=24*60*60*1e3),(r-(wKe+(e.getTimezoneOffset()-Zre.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function M3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function NKe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SKe(e){var t=e<0?12:11,r=M3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function kKe(e){var t=M3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function lw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=SKe(e):t===10?r=e.toFixed(10).substr(0,12):r=kKe(e),M3(NKe(r.toUpperCase()))}function op(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):lw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Jl(14,ese(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function CKe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function AKe(e,t,r,a){var n="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return HP[r.m-1][1];case 5:return HP[r.m-1][0];default:return HP[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return K7[r.q][0];default:return K7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Dc(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(n=Dc(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Dc(c,d):"";return u}function Dh(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var tse=/%/g;function EKe(e,t,r){var a=t.replace(tse,""),n=t.length-a.length;return fu(e,a,r*Math.pow(10,2*n))+Ja("%",n)}function PKe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return fu(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function rse(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+rse(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sse=/# (\?+)( ?)\/( ?)(\d+)/;function TKe(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),o=n-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?Ja(" ",e[1].length+1+e[4].length):F3(o,e[1].length)+e[2]+"/"+e[3]+Dc(l,e[4].length))}function _Ke(e,t,r){return r+(t===0?"":""+t)+Ja(" ",e[1].length+2+e[4].length)}var ase=/^#*0*\.([0#]+)/,nse=/\).*[0#]/,ise=/\(###\) ###\\?-####/;function ro(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function X7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Q7(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function DKe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function OKe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Nl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nse)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nl("n",a,r):"("+Nl("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return PKe(e,t,r);if(t.indexOf("%")!==-1)return EKe(e,t,r);if(t.indexOf("E")!==-1)return rse(t,r);if(t.charCodeAt(0)===36)return"$"+Nl(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Jp(c,t.length);if(t.match(/^[#?]+$/))return n=Jp(r,0),n==="0"&&(n=""),n.length>t.length?n:ro(t.substr(0,t.length-n.length))+n;if(i=t.match(sse))return TKe(i,c,d);if(t.match(/^#+0+$/))return d+Jp(c,t.length-t.indexOf("0"));if(i=t.match(ase))return n=X7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ro(i[1])).replace(/\.$/,"."+ro(i[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+Ja("0",ro(i[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+X7(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Dh(Jp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nl(e,t,-r):Dh(""+(Math.floor(r)+DKe(r,i[1].length)))+"."+Dc(Q7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Nl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Jx(Nl(e,t.replace(/[\\-]/g,""),r)),o=0,Jx(Jx(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(ise))return n=Nl(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=WS(c,Math.pow(10,o)-1,!1),n=""+d,u=fu("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=VS(l[2],o),u.length<i[4].length&&(u=ro(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=WS(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?F3(l[1],o)+i[2]+"/"+i[3]+VS(l[2],o):Ja(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=Jp(r,0),t.length<=n.length?n:ro(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var h=t.indexOf(".")-o,m=t.length-n.length-h;return ro(t.substr(0,h)+n+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Q7(r,i[1].length),r<0?"-"+Nl(e,t,-r):Dh(OKe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Dc(0,3-g.length):"")+g})+"."+Dc(o,i[1].length);switch(t){case"###,##0.00":return Nl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Dh(Jp(c,0));return p!=="0"?d+p:"";case"###,###.00":return Nl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Nl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function IKe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return fu(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function RKe(e,t,r){var a=t.replace(tse,""),n=t.length-a.length;return fu(e,a,r*Math.pow(10,2*n))+Ja("%",n)}function ose(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ose(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Zc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(nse)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Zc("n",a,r):"("+Zc("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return IKe(e,t,r);if(t.indexOf("%")!==-1)return RKe(e,t,r);if(t.indexOf("E")!==-1)return ose(t,r);if(t.charCodeAt(0)===36)return"$"+Zc(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Dc(c,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:ro(t.substr(0,t.length-n.length))+n;if(i=t.match(sse))return _Ke(i,c,d);if(t.match(/^#+0+$/))return d+Dc(c,t.length-t.indexOf("0"));if(i=t.match(ase))return n=(""+r).replace(/^([^\.]+)$/,"$1."+ro(i[1])).replace(/\.$/,"."+ro(i[1])),n=n.replace(/\.(\d*)$/,function(g,x){return"."+x+Ja("0",ro(i[1]).length-x.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Dh(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Zc(e,t,-r):Dh(""+r)+"."+Ja("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Zc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Jx(Zc(e,t.replace(/[\\-]/g,""),r)),o=0,Jx(Jx(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(ise))return n=Zc(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=WS(c,Math.pow(10,o)-1,!1),n=""+d,u=fu("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=VS(l[2],o),u.length<i[4].length&&(u=ro(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=WS(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?F3(l[1],o)+i[2]+"/"+i[3]+VS(l[2],o):Ja(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:ro(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var h=t.indexOf(".")-o,m=t.length-n.length-h;return ro(t.substr(0,h)+n+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Zc(e,t,-r):Dh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Dc(0,3-g.length):"")+g})+"."+Dc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Dh(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return Zc(e,t.slice(0,t.lastIndexOf(".")),r)+ro(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function fu(e,t,r){return(r|0)===r?Zc(e,t,r):Nl(e,t,r)}function FKe(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var lse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function H0(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":zS(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(lse))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function MKe(e,t,r,a){for(var n=[],i="",o=0,l="",c="t",d,u,h,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!zS(e,o))throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);n[n.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";n[n.length]={t:g,v:p},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=jf(t,r,e.charAt(o+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=jf(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),n[n.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=jf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),d==null&&x.t==="T")return"";n[n.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(lse)){if(d==null&&(d=jf(t,r),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",H0(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;n[n.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;n[n.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:l,v:l},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);n[n.length]={t:"t",v:l},++o;break}var y=0,w=0,b;for(o=n.length-1,c="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=m,c="h",y<1&&(y=1);break;case"s":(b=n[o].v.match(/\.0+$/))&&(w=Math.max(w,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=n[o].t;break;case"m":c==="s"&&(n[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&n[o].v.match(/[Hh]/)&&(y=1),y<2&&n[o].v.match(/[Mm]/)&&(y=2),y<3&&n[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var v="",N;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=AKe(n[o].t.charCodeAt(0),n[o].v,d,w),n[o].t="t";break;case"n":case"?":for(N=o+1;n[N]!=null&&((l=n[N].t)==="?"||l==="D"||(l===" "||l==="t")&&n[N+1]!=null&&(n[N+1].t==="?"||n[N+1].t==="t"&&n[N+1].v==="/")||n[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(n[N].v==="/"||n[N].v===" "&&n[N+1]!=null&&n[N+1].t=="?"));)n[o].v+=n[N].v,n[N]={v:"",t:";"},++N;v+=n[o].v,o=N-1;break;case"G":n[o].t="t",n[o].v=op(t,r);break}var j="",k,S;if(v.length>0){v.charCodeAt(0)==40?(k=t<0&&v.charCodeAt(0)===45?-t:t,S=fu("n",v,k)):(k=t<0&&a>1?-t:t,S=fu("n",v,k),k<0&&n[0]&&n[0].t=="t"&&(S=S.substr(1),n[0].v="-"+n[0].v)),N=S.length-1;var C=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){C=o;break}var A=n.length;if(C===n.length&&S.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(N>=n[o].v.length-1?(N-=n[o].v.length,n[o].v=S.substr(N+1,n[o].v.length)):N<0?n[o].v="":(n[o].v=S.substr(0,N+1),N=-1),n[o].t="t",A=o);N>=0&&A<n.length&&(n[A].v=S.substr(0,N+1)+n[A].v)}else if(C!==n.length&&S.indexOf("E")===-1){for(N=S.indexOf(".")-1,o=C;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(u=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")-1:n[o].v.length-1,j=n[o].v.substr(u+1);u>=0;--u)N>=0&&(n[o].v.charAt(u)==="0"||n[o].v.charAt(u)==="#")&&(j=S.charAt(N--)+j);n[o].v=j,n[o].t="t",A=o}for(N>=0&&A<n.length&&(n[A].v=S.substr(0,N+1)+n[A].v),N=S.indexOf(".")+1,o=C;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==C)){for(u=n[o].v.indexOf(".")>-1&&o===C?n[o].v.indexOf(".")+1:0,j=n[o].v.substr(0,u);u<n[o].v.length;++u)N<S.length&&(j+=S.charAt(N++));n[o].v=j,n[o].t="t",A=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(k=a>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=fu(n[o].t,n[o].v,k),n[o].t="t");var E="";for(o=0;o!==n.length;++o)n[o]!=null&&(E+=n[o].v);return E}var J7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Z7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function LKe(e,t){var r=FKe(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(J7),l=r[1].match(J7);return Z7(t,o)?[a,r[0]]:Z7(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function Jl(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Pr)[e],a==null&&(a=r.table&&r.table[Y7[e]]||Pr[Y7[e]]),a==null&&(a=bKe[e]||"General");break}if(zS(a,0))return op(t,r);t instanceof Date&&(t=ese(t,r.date1904));var n=LKe(a,t);if(zS(n[1]))return op(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return MKe(n[1],t,r,n[0])}function pu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Pr[r]==null){t<0&&(t=r);continue}if(Pr[r]==e){t=r;break}}t<0&&(t=391)}return Pr[t]=e,t}function pA(e){for(var t=0;t!=392;++t)e[t]!==void 0&&pu(e[t],t)}function q0(){Pr=yKe()}var $Ke={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},cse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function BKe(e){var t=typeof e=="number"?Pr[e]:e;return t=t.replace(cse,"(\\d+)"),new RegExp("^"+t+"$")}function UKe(e,t,r){var a=-1,n=-1,i=-1,o=-1,l=-1,c=-1;(t.match(cse)||[]).forEach(function(h,m){var p=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:n=p;break}}),c>=0&&l==-1&&n>=0&&(l=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:a==-1&&n==-1&&i==-1?u:d+"T"+u}var VKe=function(){var e={};e.version="1.2.0";function t(){for(var S=0,C=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,C[A]=S;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function a(S){var C=0,A=0,E=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)D[E]=S[E];for(E=0;E!=256;++E)for(A=S[E],C=256+E;C<4096;C+=256)A=D[C]=A>>>8^S[A&255];var P=[];for(E=1;E!=16;++E)P[E-1]=typeof Int32Array<"u"?D.subarray(E*256,E*256+256):D.slice(E*256,E*256+256);return P}var n=a(r),i=n[0],o=n[1],l=n[2],c=n[3],d=n[4],u=n[5],h=n[6],m=n[7],p=n[8],g=n[9],x=n[10],y=n[11],w=n[12],b=n[13],v=n[14];function N(S,C){for(var A=C^-1,E=0,D=S.length;E<D;)A=A>>>8^r[(A^S.charCodeAt(E++))&255];return~A}function j(S,C){for(var A=C^-1,E=S.length-15,D=0;D<E;)A=v[S[D++]^A&255]^b[S[D++]^A>>8&255]^w[S[D++]^A>>16&255]^y[S[D++]^A>>>24]^x[S[D++]]^g[S[D++]]^p[S[D++]]^m[S[D++]]^h[S[D++]]^u[S[D++]]^d[S[D++]]^c[S[D++]]^l[S[D++]]^o[S[D++]]^i[S[D++]]^r[S[D++]];for(E+=15;D<E;)A=A>>>8^r[(A^S[D++])&255];return~A}function k(S,C){for(var A=C^-1,E=0,D=S.length,P=0,T=0;E<D;)P=S.charCodeAt(E++),P<128?A=A>>>8^r[(A^P)&255]:P<2048?(A=A>>>8^r[(A^(192|P>>6&31))&255],A=A>>>8^r[(A^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,T=S.charCodeAt(E++)&1023,A=A>>>8^r[(A^(240|P>>8&7))&255],A=A>>>8^r[(A^(128|P>>2&63))&255],A=A>>>8^r[(A^(128|T>>6&15|(P&3)<<4))&255],A=A>>>8^r[(A^(128|T&63))&255]):(A=A>>>8^r[(A^(224|P>>12&15))&255],A=A>>>8^r[(A^(128|P>>6&63))&255],A=A>>>8^r[(A^(128|P&63))&255]);return~A}return e.table=r,e.bstr=N,e.buf=j,e.str=k,e}(),gr=function(){var t={};t.version="1.2.1";function r(ee,ue){for(var oe=ee.split("/"),re=ue.split("/"),ne=0,ge=0,Me=Math.min(oe.length,re.length);ne<Me;++ne){if(ge=oe[ne].length-re[ne].length)return ge;if(oe[ne]!=re[ne])return oe[ne]<re[ne]?-1:1}return oe.length-re.length}function a(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:a(ee.slice(0,-1));var ue=ee.lastIndexOf("/");return ue===-1?ee:ee.slice(0,ue+1)}function n(ee){if(ee.charAt(ee.length-1)=="/")return n(ee.slice(0,-1));var ue=ee.lastIndexOf("/");return ue===-1?ee:ee.slice(ue+1)}function i(ee,ue){typeof ue=="string"&&(ue=new Date(ue));var oe=ue.getHours();oe=oe<<6|ue.getMinutes(),oe=oe<<5|ue.getSeconds()>>>1,ee.write_shift(2,oe);var re=ue.getFullYear()-1980;re=re<<4|ue.getMonth()+1,re=re<<5|ue.getDate(),ee.write_shift(2,re)}function o(ee){var ue=ee.read_shift(2)&65535,oe=ee.read_shift(2)&65535,re=new Date,ne=oe&31;oe>>>=5;var ge=oe&15;oe>>>=4,re.setMilliseconds(0),re.setFullYear(oe+1980),re.setMonth(ge-1),re.setDate(ne);var Me=ue&31;ue>>>=5;var $e=ue&63;return ue>>>=6,re.setHours(ue),re.setMinutes($e),re.setSeconds(Me<<1),re}function l(ee){pi(ee,0);for(var ue={},oe=0;ee.l<=ee.length-4;){var re=ee.read_shift(2),ne=ee.read_shift(2),ge=ee.l+ne,Me={};switch(re){case 21589:oe=ee.read_shift(1),oe&1&&(Me.mtime=ee.read_shift(4)),ne>5&&(oe&2&&(Me.atime=ee.read_shift(4)),oe&4&&(Me.ctime=ee.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}ee.l=ge,ue[re]=Me}return ue}var c;function d(){return c||(c={})}function u(ee,ue){if(ee[0]==80&&ee[1]==75)return Bs(ee,ue);if((ee[0]|32)==109&&(ee[1]|32)==105)return lt(ee,ue);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var oe=3,re=512,ne=0,ge=0,Me=0,$e=0,_e=0,De=[],Ae=ee.slice(0,512);pi(Ae,0);var pe=h(Ae);switch(oe=pe[0],oe){case 3:re=512;break;case 4:re=4096;break;case 0:if(pe[1]==0)return Bs(ee,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}re!==512&&(Ae=ee.slice(0,re),pi(Ae,28));var Fe=ee.slice(0,re);m(Ae,oe);var Ke=Ae.read_shift(4,"i");if(oe===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);Ae.l+=4,Me=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),$e=Ae.read_shift(4,"i"),ne=Ae.read_shift(4,"i"),_e=Ae.read_shift(4,"i"),ge=Ae.read_shift(4,"i");for(var nt=-1,mt=0;mt<109&&(nt=Ae.read_shift(4,"i"),!(nt<0));++mt)De[mt]=nt;var kt=p(ee,re);y(_e,ge,kt,re,De);var te=b(kt,Me,De,re);te[Me].name="!Directory",ne>0&&$e!==T&&(te[$e].name="!MiniFAT"),te[De[0]].name="!FAT",te.fat_addrs=De,te.ssz=re;var Ot={},Sr=[],js=[],yr=[];v(Me,te,kt,Sr,ne,Ot,js,$e),g(js,yr,Sr),Sr.shift();var us={FileIndex:js,FullPaths:yr};return ue&&ue.raw&&(us.raw={header:Fe,sectors:kt}),us}function h(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(_,"Header Signature: "),ee.l+=16;var ue=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ue]}function m(ee,ue){var oe=9;switch(ee.l+=2,oe=ee.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function p(ee,ue){for(var oe=Math.ceil(ee.length/ue)-1,re=[],ne=1;ne<oe;++ne)re[ne-1]=ee.slice(ne*ue,(ne+1)*ue);return re[oe-1]=ee.slice(oe*ue),re}function g(ee,ue,oe){for(var re=0,ne=0,ge=0,Me=0,$e=0,_e=oe.length,De=[],Ae=[];re<_e;++re)De[re]=Ae[re]=re,ue[re]=oe[re];for(;$e<Ae.length;++$e)re=Ae[$e],ne=ee[re].L,ge=ee[re].R,Me=ee[re].C,De[re]===re&&(ne!==-1&&De[ne]!==ne&&(De[re]=De[ne]),ge!==-1&&De[ge]!==ge&&(De[re]=De[ge])),Me!==-1&&(De[Me]=re),ne!==-1&&re!=De[re]&&(De[ne]=De[re],Ae.lastIndexOf(ne)<$e&&Ae.push(ne)),ge!==-1&&re!=De[re]&&(De[ge]=De[re],Ae.lastIndexOf(ge)<$e&&Ae.push(ge));for(re=1;re<_e;++re)De[re]===re&&(ge!==-1&&De[ge]!==ge?De[re]=De[ge]:ne!==-1&&De[ne]!==ne&&(De[re]=De[ne]));for(re=1;re<_e;++re)if(ee[re].type!==0){if($e=re,$e!=De[$e])do $e=De[$e],ue[re]=ue[$e]+"/"+ue[re];while($e!==0&&De[$e]!==-1&&$e!=De[$e]);De[re]=-1}for(ue[0]+="/",re=1;re<_e;++re)ee[re].type!==2&&(ue[re]+="/")}function x(ee,ue,oe){for(var re=ee.start,ne=ee.size,ge=[],Me=re;oe&&ne>0&&Me>=0;)ge.push(ue.slice(Me*P,Me*P+P)),ne-=P,Me=cf(oe,Me*4);return ge.length===0?it(0):ai(ge).slice(0,ee.size)}function y(ee,ue,oe,re,ne){var ge=T;if(ee===T){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Me=oe[ee],$e=(re>>>2)-1;if(!Me)return;for(var _e=0;_e<$e&&(ge=cf(Me,_e*4))!==T;++_e)ne.push(ge);y(cf(Me,re-4),ue-1,oe,re,ne)}}function w(ee,ue,oe,re,ne){var ge=[],Me=[];ne||(ne=[]);var $e=re-1,_e=0,De=0;for(_e=ue;_e>=0;){ne[_e]=!0,ge[ge.length]=_e,Me.push(ee[_e]);var Ae=oe[Math.floor(_e*4/re)];if(De=_e*4&$e,re<4+De)throw new Error("FAT boundary crossed: "+_e+" 4 "+re);if(!ee[Ae])break;_e=cf(ee[Ae],De)}return{nodes:ge,data:uV([Me])}}function b(ee,ue,oe,re){var ne=ee.length,ge=[],Me=[],$e=[],_e=[],De=re-1,Ae=0,pe=0,Fe=0,Ke=0;for(Ae=0;Ae<ne;++Ae)if($e=[],Fe=Ae+ue,Fe>=ne&&(Fe-=ne),!Me[Fe]){_e=[];var nt=[];for(pe=Fe;pe>=0;){nt[pe]=!0,Me[pe]=!0,$e[$e.length]=pe,_e.push(ee[pe]);var mt=oe[Math.floor(pe*4/re)];if(Ke=pe*4&De,re<4+Ke)throw new Error("FAT boundary crossed: "+pe+" 4 "+re);if(!ee[mt]||(pe=cf(ee[mt],Ke),nt[pe]))break}ge[Fe]={nodes:$e,data:uV([_e])}}return ge}function v(ee,ue,oe,re,ne,ge,Me,$e){for(var _e=0,De=re.length?2:0,Ae=ue[ee].data,pe=0,Fe=0,Ke;pe<Ae.length;pe+=128){var nt=Ae.slice(pe,pe+128);pi(nt,64),Fe=nt.read_shift(2),Ke=W3(nt,0,Fe-De),re.push(Ke);var mt={name:Ke,type:nt.read_shift(1),color:nt.read_shift(1),L:nt.read_shift(4,"i"),R:nt.read_shift(4,"i"),C:nt.read_shift(4,"i"),clsid:nt.read_shift(16),state:nt.read_shift(4,"i"),start:0,size:0},kt=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);kt!==0&&(mt.ct=N(nt,nt.l-8));var te=nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2)+nt.read_shift(2);te!==0&&(mt.mt=N(nt,nt.l-8)),mt.start=nt.read_shift(4,"i"),mt.size=nt.read_shift(4,"i"),mt.size<0&&mt.start<0&&(mt.size=mt.type=0,mt.start=T,mt.name=""),mt.type===5?(_e=mt.start,ne>0&&_e!==T&&(ue[_e].name="!StreamData")):mt.size>=4096?(mt.storage="fat",ue[mt.start]===void 0&&(ue[mt.start]=w(oe,mt.start,ue.fat_addrs,ue.ssz)),ue[mt.start].name=mt.name,mt.content=ue[mt.start].data.slice(0,mt.size)):(mt.storage="minifat",mt.size<0?mt.size=0:_e!==T&&mt.start!==T&&ue[_e]&&(mt.content=x(mt,ue[_e].data,(ue[$e]||{}).data))),mt.content&&pi(mt.content,0),ge[Ke]=mt,Me.push(mt)}}function N(ee,ue){return new Date((rl(ee,ue+4)/1e7*Math.pow(2,32)+rl(ee,ue)/1e7-11644473600)*1e3)}function j(ee,ue){return d(),u(c.readFileSync(ee),ue)}function k(ee,ue){var oe=ue&&ue.type;switch(oe||ms&&Buffer.isBuffer(ee)&&(oe="buffer"),oe||"base64"){case"file":return j(ee,ue);case"base64":return u(al(pl(ee)),ue);case"binary":return u(al(ee),ue)}return u(ee,ue)}function S(ee,ue){var oe=ue||{},re=oe.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=re+"/",ee.FileIndex[0]={name:re,type:5}),oe.CLSID&&(ee.FileIndex[0].clsid=oe.CLSID),C(ee)}function C(ee){var ue="Sh33tJ5";if(!gr.find(ee,"/"+ue)){var oe=it(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,ee.FileIndex.push({name:ue,type:2,content:oe,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ue),A(ee)}}function A(ee,ue){S(ee);for(var oe=!1,re=!1,ne=ee.FullPaths.length-1;ne>=0;--ne){var ge=ee.FileIndex[ne];switch(ge.type){case 0:re?oe=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(ge.R*ge.L*ge.C)&&(oe=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!ue)){var Me=new Date(1987,1,19),$e=0,_e=Object.create?Object.create(null):{},De=[];for(ne=0;ne<ee.FullPaths.length;++ne)_e[ee.FullPaths[ne]]=!0,ee.FileIndex[ne].type!==0&&De.push([ee.FullPaths[ne],ee.FileIndex[ne]]);for(ne=0;ne<De.length;++ne){var Ae=a(De[ne][0]);re=_e[Ae],re||(De.push([Ae,{name:n(Ae).replace("/",""),type:1,clsid:F,ct:Me,mt:Me,content:null}]),_e[Ae]=!0)}for(De.sort(function(Ke,nt){return r(Ke[0],nt[0])}),ee.FullPaths=[],ee.FileIndex=[],ne=0;ne<De.length;++ne)ee.FullPaths[ne]=De[ne][0],ee.FileIndex[ne]=De[ne][1];for(ne=0;ne<De.length;++ne){var pe=ee.FileIndex[ne],Fe=ee.FullPaths[ne];if(pe.name=n(Fe).replace("/",""),pe.L=pe.R=pe.C=-(pe.color=1),pe.size=pe.content?pe.content.length:0,pe.start=0,pe.clsid=pe.clsid||F,ne===0)pe.C=De.length>1?1:-1,pe.size=0,pe.type=5;else if(Fe.slice(-1)=="/"){for($e=ne+1;$e<De.length&&a(ee.FullPaths[$e])!=Fe;++$e);for(pe.C=$e>=De.length?-1:$e,$e=ne+1;$e<De.length&&a(ee.FullPaths[$e])!=a(Fe);++$e);pe.R=$e>=De.length?-1:$e,pe.type=1}else a(ee.FullPaths[ne+1]||"")==a(Fe)&&(pe.R=ne+1),pe.type=2}}}function E(ee,ue){var oe=ue||{};if(oe.fileType=="mad")return Xe(ee,oe);switch(A(ee),oe.fileType){case"zip":return Hr(ee,oe)}var re=function(Ke){for(var nt=0,mt=0,kt=0;kt<Ke.FileIndex.length;++kt){var te=Ke.FileIndex[kt];if(te.content){var Ot=te.content.length;Ot>0&&(Ot<4096?nt+=Ot+63>>6:mt+=Ot+511>>9)}}for(var Sr=Ke.FullPaths.length+3>>2,js=nt+7>>3,yr=nt+127>>7,us=js+mt+Sr+yr,ft=us+127>>7,sr=ft<=109?0:Math.ceil((ft-109)/127);us+ft+sr+127>>7>ft;)sr=++ft<=109?0:Math.ceil((ft-109)/127);var hs=[1,sr,ft,yr,Sr,mt,nt,0];return Ke.FileIndex[0].size=nt<<6,hs[7]=(Ke.FileIndex[0].start=hs[0]+hs[1]+hs[2]+hs[3]+hs[4]+hs[5])+(hs[6]+7>>3),hs}(ee),ne=it(re[7]<<9),ge=0,Me=0;{for(ge=0;ge<8;++ge)ne.write_shift(1,O[ge]);for(ge=0;ge<8;++ge)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),ge=0;ge<3;++ge)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,re[2]),ne.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:T),ne.write_shift(4,re[3]),ne.write_shift(-4,re[1]?re[0]-1:T),ne.write_shift(4,re[1]),ge=0;ge<109;++ge)ne.write_shift(-4,ge<re[2]?re[1]+ge:-1)}if(re[1])for(Me=0;Me<re[1];++Me){for(;ge<236+Me*127;++ge)ne.write_shift(-4,ge<re[2]?re[1]+ge:-1);ne.write_shift(-4,Me===re[1]-1?T:Me+1)}var $e=function(Ke){for(Me+=Ke;ge<Me-1;++ge)ne.write_shift(-4,ge+1);Ke&&(++ge,ne.write_shift(-4,T))};for(Me=ge=0,Me+=re[1];ge<Me;++ge)ne.write_shift(-4,I.DIFSECT);for(Me+=re[2];ge<Me;++ge)ne.write_shift(-4,I.FATSECT);$e(re[3]),$e(re[4]);for(var _e=0,De=0,Ae=ee.FileIndex[0];_e<ee.FileIndex.length;++_e)Ae=ee.FileIndex[_e],Ae.content&&(De=Ae.content.length,!(De<4096)&&(Ae.start=Me,$e(De+511>>9)));for($e(re[6]+7>>3);ne.l&511;)ne.write_shift(-4,I.ENDOFCHAIN);for(Me=ge=0,_e=0;_e<ee.FileIndex.length;++_e)Ae=ee.FileIndex[_e],Ae.content&&(De=Ae.content.length,!(!De||De>=4096)&&(Ae.start=Me,$e(De+63>>6)));for(;ne.l&511;)ne.write_shift(-4,I.ENDOFCHAIN);for(ge=0;ge<re[4]<<2;++ge){var pe=ee.FullPaths[ge];if(!pe||pe.length===0){for(_e=0;_e<17;++_e)ne.write_shift(4,0);for(_e=0;_e<3;++_e)ne.write_shift(4,-1);for(_e=0;_e<12;++_e)ne.write_shift(4,0);continue}Ae=ee.FileIndex[ge],ge===0&&(Ae.start=Ae.size?Ae.start-1:T);var Fe=ge===0&&oe.root||Ae.name;if(De=2*(Fe.length+1),ne.write_shift(64,Fe,"utf16le"),ne.write_shift(2,De),ne.write_shift(1,Ae.type),ne.write_shift(1,Ae.color),ne.write_shift(-4,Ae.L),ne.write_shift(-4,Ae.R),ne.write_shift(-4,Ae.C),Ae.clsid)ne.write_shift(16,Ae.clsid,"hex");else for(_e=0;_e<4;++_e)ne.write_shift(4,0);ne.write_shift(4,Ae.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Ae.start),ne.write_shift(4,Ae.size),ne.write_shift(4,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(Ae=ee.FileIndex[ge],Ae.size>=4096)if(ne.l=Ae.start+1<<9,ms&&Buffer.isBuffer(Ae.content))Ae.content.copy(ne,ne.l,0,Ae.size),ne.l+=Ae.size+511&-512;else{for(_e=0;_e<Ae.size;++_e)ne.write_shift(1,Ae.content[_e]);for(;_e&511;++_e)ne.write_shift(1,0)}for(ge=1;ge<ee.FileIndex.length;++ge)if(Ae=ee.FileIndex[ge],Ae.size>0&&Ae.size<4096)if(ms&&Buffer.isBuffer(Ae.content))Ae.content.copy(ne,ne.l,0,Ae.size),ne.l+=Ae.size+63&-64;else{for(_e=0;_e<Ae.size;++_e)ne.write_shift(1,Ae.content[_e]);for(;_e&63;++_e)ne.write_shift(1,0)}if(ms)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function D(ee,ue){var oe=ee.FullPaths.map(function(_e){return _e.toUpperCase()}),re=oe.map(function(_e){var De=_e.split("/");return De[De.length-(_e.slice(-1)=="/"?2:1)]}),ne=!1;ue.charCodeAt(0)===47?(ne=!0,ue=oe[0].slice(0,-1)+ue):ne=ue.indexOf("/")!==-1;var ge=ue.toUpperCase(),Me=ne===!0?oe.indexOf(ge):re.indexOf(ge);if(Me!==-1)return ee.FileIndex[Me];var $e=!ge.match(ty);for(ge=ge.replace(ho,""),$e&&(ge=ge.replace(ty,"!")),Me=0;Me<oe.length;++Me)if(($e?oe[Me].replace(ty,"!"):oe[Me]).replace(ho,"")==ge||($e?re[Me].replace(ty,"!"):re[Me]).replace(ho,"")==ge)return ee.FileIndex[Me];return null}var P=64,T=-2,_="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],F="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:T,FREESECT:-1,HEADER_SIGNATURE:_,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:F,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function R(ee,ue,oe){d();var re=E(ee,oe);c.writeFileSync(ue,re)}function L(ee){for(var ue=new Array(ee.length),oe=0;oe<ee.length;++oe)ue[oe]=String.fromCharCode(ee[oe]);return ue.join("")}function H(ee,ue){var oe=E(ee,ue);switch(ue&&ue.type||"buffer"){case"file":return d(),c.writeFileSync(ue.filename,oe),oe;case"binary":return typeof oe=="string"?oe:L(oe);case"base64":return ow(typeof oe=="string"?oe:L(oe));case"buffer":if(ms)return Buffer.isBuffer(oe)?oe:Uu(oe);case"array":return typeof oe=="string"?al(oe):oe}return oe}var W;function M(ee){try{var ue=ee.InflateRaw,oe=new ue;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)W=ee;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function G(ee,ue){if(!W)return Br(ee,ue);var oe=W.InflateRaw,re=new oe,ne=re._processChunk(ee.slice(ee.l),re._finishFlushFlag);return ee.l+=re.bytesRead,ne}function V(ee){return W?W.deflateRawSync(ee):tt(ee)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Z(ee){var ue=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var J=typeof Uint8Array<"u",K=J?new Uint8Array(256):[],se=0;se<256;++se)K[se]=Z(se);function B(ee,ue){var oe=K[ee&255];return ue<=8?oe>>>8-ue:(oe=oe<<8|K[ee>>8&255],ue<=16?oe>>>16-ue:(oe=oe<<8|K[ee>>16&255],oe>>>24-ue))}function Ne(ee,ue){var oe=ue&7,re=ue>>>3;return(ee[re]|(oe<=6?0:ee[re+1]<<8))>>>oe&3}function ye(ee,ue){var oe=ue&7,re=ue>>>3;return(ee[re]|(oe<=5?0:ee[re+1]<<8))>>>oe&7}function Re(ee,ue){var oe=ue&7,re=ue>>>3;return(ee[re]|(oe<=4?0:ee[re+1]<<8))>>>oe&15}function qe(ee,ue){var oe=ue&7,re=ue>>>3;return(ee[re]|(oe<=3?0:ee[re+1]<<8))>>>oe&31}function He(ee,ue){var oe=ue&7,re=ue>>>3;return(ee[re]|(oe<=1?0:ee[re+1]<<8))>>>oe&127}function fe(ee,ue,oe){var re=ue&7,ne=ue>>>3,ge=(1<<oe)-1,Me=ee[ne]>>>re;return oe<8-re||(Me|=ee[ne+1]<<8-re,oe<16-re)||(Me|=ee[ne+2]<<16-re,oe<24-re)||(Me|=ee[ne+3]<<24-re),Me&ge}function Ue(ee,ue,oe){var re=ue&7,ne=ue>>>3;return re<=5?ee[ne]|=(oe&7)<<re:(ee[ne]|=oe<<re&255,ee[ne+1]=(oe&7)>>8-re),ue+3}function ie(ee,ue,oe){var re=ue&7,ne=ue>>>3;return oe=(oe&1)<<re,ee[ne]|=oe,ue+1}function Pe(ee,ue,oe){var re=ue&7,ne=ue>>>3;return oe<<=re,ee[ne]|=oe&255,oe>>>=8,ee[ne+1]=oe,ue+8}function Te(ee,ue,oe){var re=ue&7,ne=ue>>>3;return oe<<=re,ee[ne]|=oe&255,oe>>>=8,ee[ne+1]=oe&255,ee[ne+2]=oe>>>8,ue+16}function Ve(ee,ue){var oe=ee.length,re=2*oe>ue?2*oe:ue+5,ne=0;if(oe>=ue)return ee;if(ms){var ge=q7(re);if(ee.copy)ee.copy(ge);else for(;ne<ee.length;++ne)ge[ne]=ee[ne];return ge}else if(J){var Me=new Uint8Array(re);if(Me.set)Me.set(ee);else for(;ne<oe;++ne)Me[ne]=ee[ne];return Me}return ee.length=re,ee}function Le(ee){for(var ue=new Array(ee),oe=0;oe<ee;++oe)ue[oe]=0;return ue}function de(ee,ue,oe){var re=1,ne=0,ge=0,Me=0,$e=0,_e=ee.length,De=J?new Uint16Array(32):Le(32);for(ge=0;ge<32;++ge)De[ge]=0;for(ge=_e;ge<oe;++ge)ee[ge]=0;_e=ee.length;var Ae=J?new Uint16Array(_e):Le(_e);for(ge=0;ge<_e;++ge)De[ne=ee[ge]]++,re<ne&&(re=ne),Ae[ge]=0;for(De[0]=0,ge=1;ge<=re;++ge)De[ge+16]=$e=$e+De[ge-1]<<1;for(ge=0;ge<_e;++ge)$e=ee[ge],$e!=0&&(Ae[ge]=De[$e+16]++);var pe=0;for(ge=0;ge<_e;++ge)if(pe=ee[ge],pe!=0)for($e=B(Ae[ge],re)>>re-pe,Me=(1<<re+4-pe)-1;Me>=0;--Me)ue[$e|Me<<pe]=pe&15|ge<<4;return re}var xe=J?new Uint16Array(512):Le(512),Ie=J?new Uint16Array(32):Le(32);if(!J){for(var st=0;st<512;++st)xe[st]=0;for(st=0;st<32;++st)Ie[st]=0}(function(){for(var ee=[],ue=0;ue<32;ue++)ee.push(5);de(ee,Ie,32);var oe=[];for(ue=0;ue<=143;ue++)oe.push(8);for(;ue<=255;ue++)oe.push(9);for(;ue<=279;ue++)oe.push(7);for(;ue<=287;ue++)oe.push(8);de(oe,xe,288)})();var wt=function(){for(var ue=J?new Uint8Array(32768):[],oe=0,re=0;oe<U.length-1;++oe)for(;re<U[oe+1];++re)ue[re]=oe;for(;re<32768;++re)ue[re]=29;var ne=J?new Uint8Array(259):[];for(oe=0,re=0;oe<Y.length-1;++oe)for(;re<Y[oe+1];++re)ne[re]=oe;function ge($e,_e){for(var De=0;De<$e.length;){var Ae=Math.min(65535,$e.length-De),pe=De+Ae==$e.length;for(_e.write_shift(1,+pe),_e.write_shift(2,Ae),_e.write_shift(2,~Ae&65535);Ae-- >0;)_e[_e.l++]=$e[De++]}return _e.l}function Me($e,_e){for(var De=0,Ae=0,pe=J?new Uint16Array(32768):[];Ae<$e.length;){var Fe=Math.min(65535,$e.length-Ae);if(Fe<10){for(De=Ue(_e,De,+(Ae+Fe==$e.length)),De&7&&(De+=8-(De&7)),_e.l=De/8|0,_e.write_shift(2,Fe),_e.write_shift(2,~Fe&65535);Fe-- >0;)_e[_e.l++]=$e[Ae++];De=_e.l*8;continue}De=Ue(_e,De,+(Ae+Fe==$e.length)+2);for(var Ke=0;Fe-- >0;){var nt=$e[Ae];Ke=(Ke<<5^nt)&32767;var mt=-1,kt=0;if((mt=pe[Ke])&&(mt|=Ae&-32768,mt>Ae&&(mt-=32768),mt<Ae))for(;$e[mt+kt]==$e[Ae+kt]&&kt<250;)++kt;if(kt>2){nt=ne[kt],nt<=22?De=Pe(_e,De,K[nt+1]>>1)-1:(Pe(_e,De,3),De+=5,Pe(_e,De,K[nt-23]>>5),De+=3);var te=nt<8?0:nt-4>>2;te>0&&(Te(_e,De,kt-Y[nt]),De+=te),nt=ue[Ae-mt],De=Pe(_e,De,K[nt]>>3),De-=3;var Ot=nt<4?0:nt-2>>1;Ot>0&&(Te(_e,De,Ae-mt-U[nt]),De+=Ot);for(var Sr=0;Sr<kt;++Sr)pe[Ke]=Ae&32767,Ke=(Ke<<5^$e[Ae])&32767,++Ae;Fe-=kt-1}else nt<=143?nt=nt+48:De=ie(_e,De,1),De=Pe(_e,De,K[nt]),pe[Ke]=Ae&32767,++Ae}De=Pe(_e,De,0)-1}return _e.l=(De+7)/8|0,_e.l}return function(_e,De){return _e.length<8?ge(_e,De):Me(_e,De)}}();function tt(ee){var ue=it(50+Math.floor(ee.length*1.1)),oe=wt(ee,ue);return ue.slice(0,oe)}var Bt=J?new Uint16Array(32768):Le(32768),pr=J?new Uint16Array(32768):Le(32768),$t=J?new Uint16Array(128):Le(128),_t=1,as=1;function Se(ee,ue){var oe=qe(ee,ue)+257;ue+=5;var re=qe(ee,ue)+1;ue+=5;var ne=Re(ee,ue)+4;ue+=4;for(var ge=0,Me=J?new Uint8Array(19):Le(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,De=J?new Uint8Array(8):Le(8),Ae=J?new Uint8Array(8):Le(8),pe=Me.length,Fe=0;Fe<ne;++Fe)Me[q[Fe]]=ge=ye(ee,ue),_e<ge&&(_e=ge),De[ge]++,ue+=3;var Ke=0;for(De[0]=0,Fe=1;Fe<=_e;++Fe)Ae[Fe]=Ke=Ke+De[Fe-1]<<1;for(Fe=0;Fe<pe;++Fe)(Ke=Me[Fe])!=0&&($e[Fe]=Ae[Ke]++);var nt=0;for(Fe=0;Fe<pe;++Fe)if(nt=Me[Fe],nt!=0){Ke=K[$e[Fe]]>>8-nt;for(var mt=(1<<7-nt)-1;mt>=0;--mt)$t[Ke|mt<<nt]=nt&7|Fe<<3}var kt=[];for(_e=1;kt.length<oe+re;)switch(Ke=$t[He(ee,ue)],ue+=Ke&7,Ke>>>=3){case 16:for(ge=3+Ne(ee,ue),ue+=2,Ke=kt[kt.length-1];ge-- >0;)kt.push(Ke);break;case 17:for(ge=3+ye(ee,ue),ue+=3;ge-- >0;)kt.push(0);break;case 18:for(ge=11+He(ee,ue),ue+=7;ge-- >0;)kt.push(0);break;default:kt.push(Ke),_e<Ke&&(_e=Ke);break}var te=kt.slice(0,oe),Ot=kt.slice(oe);for(Fe=oe;Fe<286;++Fe)te[Fe]=0;for(Fe=re;Fe<30;++Fe)Ot[Fe]=0;return _t=de(te,Bt,286),as=de(Ot,pr,30),ue}function vr(ee,ue){if(ee[0]==3&&!(ee[1]&3))return[dm(ue),2];for(var oe=0,re=0,ne=q7(ue||1<<18),ge=0,Me=ne.length>>>0,$e=0,_e=0;!(re&1);){if(re=ye(ee,oe),oe+=3,re>>>1)re>>1==1?($e=9,_e=5):(oe=Se(ee,oe),$e=_t,_e=as);else{oe&7&&(oe+=8-(oe&7));var De=ee[oe>>>3]|ee[(oe>>>3)+1]<<8;if(oe+=32,De>0)for(!ue&&Me<ge+De&&(ne=Ve(ne,ge+De),Me=ne.length);De-- >0;)ne[ge++]=ee[oe>>>3],oe+=8;continue}for(;;){!ue&&Me<ge+32767&&(ne=Ve(ne,ge+32767),Me=ne.length);var Ae=fe(ee,oe,$e),pe=re>>>1==1?xe[Ae]:Bt[Ae];if(oe+=pe&15,pe>>>=4,!(pe>>>8&255))ne[ge++]=pe;else{if(pe==256)break;pe-=257;var Fe=pe<8?0:pe-4>>2;Fe>5&&(Fe=0);var Ke=ge+Y[pe];Fe>0&&(Ke+=fe(ee,oe,Fe),oe+=Fe),Ae=fe(ee,oe,_e),pe=re>>>1==1?Ie[Ae]:pr[Ae],oe+=pe&15,pe>>>=4;var nt=pe<4?0:pe-2>>1,mt=U[pe];for(nt>0&&(mt+=fe(ee,oe,nt),oe+=nt),!ue&&Me<Ke&&(ne=Ve(ne,Ke+100),Me=ne.length);ge<Ke;)ne[ge]=ne[ge-mt],++ge}}}return ue?[ne,oe+7>>>3]:[ne.slice(0,ge),oe+7>>>3]}function Br(ee,ue){var oe=ee.slice(ee.l||0),re=vr(oe,ue);return ee.l+=re[1],re[0]}function Nr(ee,ue){if(ee)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function Bs(ee,ue){var oe=ee;pi(oe,0);var re=[],ne=[],ge={FileIndex:re,FullPaths:ne};S(ge,{root:ue.root});for(var Me=oe.length-4;(oe[Me]!=80||oe[Me+1]!=75||oe[Me+2]!=5||oe[Me+3]!=6)&&Me>=0;)--Me;oe.l=Me+4,oe.l+=4;var $e=oe.read_shift(2);oe.l+=6;var _e=oe.read_shift(4);for(oe.l=_e,Me=0;Me<$e;++Me){oe.l+=20;var De=oe.read_shift(4),Ae=oe.read_shift(4),pe=oe.read_shift(2),Fe=oe.read_shift(2),Ke=oe.read_shift(2);oe.l+=8;var nt=oe.read_shift(4),mt=l(oe.slice(oe.l+pe,oe.l+pe+Fe));oe.l+=pe+Fe+Ke;var kt=oe.l;oe.l=nt+4,Ia(oe,De,Ae,ge,mt),oe.l=kt}return ge}function Ia(ee,ue,oe,re,ne){ee.l+=2;var ge=ee.read_shift(2),Me=ee.read_shift(2),$e=o(ee);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var _e=ee.read_shift(4),De=ee.read_shift(4),Ae=ee.read_shift(4),pe=ee.read_shift(2),Fe=ee.read_shift(2),Ke="",nt=0;nt<pe;++nt)Ke+=String.fromCharCode(ee[ee.l++]);if(Fe){var mt=l(ee.slice(ee.l,ee.l+Fe));(mt[21589]||{}).mt&&($e=mt[21589].mt),((ne||{})[21589]||{}).mt&&($e=ne[21589].mt)}ee.l+=Fe;var kt=ee.slice(ee.l,ee.l+De);switch(Me){case 8:kt=G(ee,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var te=!1;ge&8&&(_e=ee.read_shift(4),_e==134695760&&(_e=ee.read_shift(4),te=!0),De=ee.read_shift(4),Ae=ee.read_shift(4)),De!=ue&&Nr(te,"Bad compressed size: "+ue+" != "+De),Ae!=oe&&Nr(te,"Bad uncompressed size: "+oe+" != "+Ae),Dt(re,Ke,kt,{unsafe:!0,mt:$e})}function Hr(ee,ue){var oe=ue||{},re=[],ne=[],ge=it(1),Me=oe.compression?8:0,$e=0,_e=0,De=0,Ae=0,pe=0,Fe=ee.FullPaths[0],Ke=Fe,nt=ee.FileIndex[0],mt=[],kt=0;for(_e=1;_e<ee.FullPaths.length;++_e)if(Ke=ee.FullPaths[_e].slice(Fe.length),nt=ee.FileIndex[_e],!(!nt.size||!nt.content||Ke=="Sh33tJ5")){var te=Ae,Ot=it(Ke.length);for(De=0;De<Ke.length;++De)Ot.write_shift(1,Ke.charCodeAt(De)&127);Ot=Ot.slice(0,Ot.l),mt[pe]=VKe.buf(nt.content,0);var Sr=nt.content;Me==8&&(Sr=V(Sr)),ge=it(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,$e),ge.write_shift(2,Me),nt.mt?i(ge,nt.mt):ge.write_shift(4,0),ge.write_shift(-4,mt[pe]),ge.write_shift(4,Sr.length),ge.write_shift(4,nt.content.length),ge.write_shift(2,Ot.length),ge.write_shift(2,0),Ae+=ge.length,re.push(ge),Ae+=Ot.length,re.push(Ot),Ae+=Sr.length,re.push(Sr),ge=it(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,$e),ge.write_shift(2,Me),ge.write_shift(4,0),ge.write_shift(-4,mt[pe]),ge.write_shift(4,Sr.length),ge.write_shift(4,nt.content.length),ge.write_shift(2,Ot.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,te),kt+=ge.l,ne.push(ge),kt+=Ot.length,ne.push(Ot),++pe}return ge=it(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,pe),ge.write_shift(2,pe),ge.write_shift(4,kt),ge.write_shift(4,Ae),ge.write_shift(2,0),ai([ai(re),ai(ne),ge])}var St={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gt(ee,ue){if(ee.ctype)return ee.ctype;var oe=ee.name||"",re=oe.match(/\.([^\.]+)$/);return re&&St[re[1]]||ue&&(re=(oe=ue).match(/[\.\\]([^\.\\])+$/),re&&St[re[1]])?St[re[1]]:"application/octet-stream"}function we(ee){for(var ue=ow(ee),oe=[],re=0;re<ue.length;re+=76)oe.push(ue.slice(re,re+76));return oe.join(`\r
`)+`\r
`}function le(ee){var ue=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Ae=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],re=ue.split(`\r
`),ne=0;ne<re.length;++ne){var ge=re[ne];if(ge.length==0){oe.push("");continue}for(var Me=0;Me<ge.length;){var $e=76,_e=ge.slice(Me,Me+$e);_e.charAt($e-1)=="="?$e--:_e.charAt($e-2)=="="?$e-=2:_e.charAt($e-3)=="="&&($e-=3),_e=ge.slice(Me,Me+$e),Me+=$e,Me<ge.length&&(_e+="="),oe.push(_e)}}return oe.join(`\r
`)}function Ye(ee){for(var ue=[],oe=0;oe<ee.length;++oe){for(var re=ee[oe];oe<=ee.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+ee[++oe];ue.push(re)}for(var ne=0;ne<ue.length;++ne)ue[ne]=ue[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return al(ue.join(`\r
`))}function ct(ee,ue,oe){for(var re="",ne="",ge="",Me,$e=0;$e<10;++$e){var _e=ue[$e];if(!_e||_e.match(/^\s*$/))break;var De=_e.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":re=De[2].trim();break;case"content-type":ge=De[2].trim();break;case"content-transfer-encoding":ne=De[2].trim();break}}switch(++$e,ne.toLowerCase()){case"base64":Me=al(pl(ue.slice($e).join("")));break;case"quoted-printable":Me=Ye(ue.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Ae=Dt(ee,re.slice(oe.length),Me,{unsafe:!0});ge&&(Ae.ctype=ge)}function lt(ee,ue){if(L(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=ue&&ue.root||"",re=(ms&&Buffer.isBuffer(ee)?ee.toString("binary"):L(ee)).split(`\r
`),ne=0,ge="";for(ne=0;ne<re.length;++ne)if(ge=re[ne],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),oe||(oe=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ge.slice(0,oe.length)!=oe););var Me=(re[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var $e="--"+(Me[1]||""),_e=[],De=[],Ae={FileIndex:_e,FullPaths:De};S(Ae);var pe,Fe=0;for(ne=0;ne<re.length;++ne){var Ke=re[ne];Ke!==$e&&Ke!==$e+"--"||(Fe++&&ct(Ae,re.slice(pe,ne),oe),pe=ne)}return Ae}function Xe(ee,ue){var oe=ue||{},re=oe.boundary||"SheetJS";re="------="+re;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],ge=ee.FullPaths[0],Me=ge,$e=ee.FileIndex[0],_e=1;_e<ee.FullPaths.length;++_e)if(Me=ee.FullPaths[_e].slice(ge.length),$e=ee.FileIndex[_e],!(!$e.size||!$e.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var De=$e.content,Ae=ms&&Buffer.isBuffer(De)?De.toString("binary"):L(De),pe=0,Fe=Math.min(1024,Ae.length),Ke=0,nt=0;nt<=Fe;++nt)(Ke=Ae.charCodeAt(nt))>=32&&Ke<128&&++pe;var mt=pe>=Fe*4/5;ne.push(re),ne.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Me),ne.push("Content-Transfer-Encoding: "+(mt?"quoted-printable":"base64")),ne.push("Content-Type: "+gt($e,Me)),ne.push(""),ne.push(mt?le(Ae):we(Ae))}return ne.push(re+`--\r
`),ne.join(`\r
`)}function At(ee){var ue={};return S(ue,ee),ue}function Dt(ee,ue,oe,re){var ne=re&&re.unsafe;ne||S(ee);var ge=!ne&&gr.find(ee,ue);if(!ge){var Me=ee.FullPaths[0];ue.slice(0,Me.length)==Me?Me=ue:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+ue).replace("//","/")),ge={name:n(ue),type:2},ee.FileIndex.push(ge),ee.FullPaths.push(Me),ne||gr.utils.cfb_gc(ee)}return ge.content=oe,ge.size=oe?oe.length:0,re&&(re.CLSID&&(ge.clsid=re.CLSID),re.mt&&(ge.mt=re.mt),re.ct&&(ge.ct=re.ct)),ge}function vt(ee,ue){S(ee);var oe=gr.find(ee,ue);if(oe){for(var re=0;re<ee.FileIndex.length;++re)if(ee.FileIndex[re]==oe)return ee.FileIndex.splice(re,1),ee.FullPaths.splice(re,1),!0}return!1}function or(ee,ue,oe){S(ee);var re=gr.find(ee,ue);if(re){for(var ne=0;ne<ee.FileIndex.length;++ne)if(ee.FileIndex[ne]==re)return ee.FileIndex[ne].name=n(oe),ee.FullPaths[ne]=oe,!0}return!1}function Cr(ee){A(ee,!0)}return t.find=D,t.read=k,t.parse=u,t.write=H,t.writeFile=R,t.utils={cfb_new:At,cfb_add:Dt,cfb_del:vt,cfb_mov:or,cfb_gc:Cr,ReadShift:Oy,CheckField:_se,prep_blob:pi,bconcat:ai,use_zlib:M,_deflateRaw:tt,_inflateRaw:Br,consts:I},t}();function zKe(e){return typeof e=="string"?fA(e):Array.isArray(e)?pKe(e):e}function hj(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=fA(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?yd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([zKe(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Om(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function WKe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function rn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function eV(e,t){for(var r=[],a=rn(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function xA(e){for(var t=[],r=rn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function gA(e){for(var t=[],r=rn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function HKe(e){for(var t=[],r=rn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var HS=new Date(1899,11,30,0,0,0);function Kn(e,t){var r=e.getTime(),a=HS.getTime()+(e.getTimezoneOffset()-HS.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var dse=new Date,qKe=HS.getTime()+(dse.getTimezoneOffset()-HS.getTimezoneOffset())*6e4,tV=dse.getTimezoneOffset();function vA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+qKe),t.getTimezoneOffset()!==tV&&t.setTime(t.getTime()+(t.getTimezoneOffset()-tV)*6e4),t}function GKe(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}var rV=new Date("2017-02-19T19:06:09.000Z"),use=isNaN(rV.getFullYear())?new Date("2/19/17"):rV,KKe=use.getFullYear()==2017;function Aa(e,t){var r=new Date(e);if(KKe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(use.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function lp(e,t){if(ms&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return yd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return yd(Jre(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return yd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return yd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function Ea(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ea(e[r]));return t}function Ja(e,t){for(var r="";r.length<t;)r+=e;return r}function Fc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var YKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function i0(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&YKe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var XKe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),o=[i[0]],l=1;l<i.length;++l)o.push(n),o.push(i[l]);return o}}();function hse(e){return e?e.content&&e.type?lp(e.content,!0):e.data?ey(e.data):e.asNodeBuffer&&ms?ey(e.asNodeBuffer().toString("binary")):e.asBinary?ey(e.asBinary()):e._data&&e._data.getContent?ey(lp(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function mse(e){if(!e)return null;if(e.data)return W7(e.data);if(e.asNodeBuffer&&ms)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?W7(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function QKe(e){return e&&e.name.slice(-4)===".bin"?mse(e):hse(e)}function El(e,t){for(var r=e.FullPaths||rn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||n==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function L3(e,t){var r=El(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function jn(e,t,r){if(!r)return QKe(L3(e,t));if(!t)return null;try{return jn(e,t)}catch{return null}}function nl(e,t,r){if(!r)return hse(L3(e,t));if(!t)return null;try{return nl(e,t)}catch{return null}}function JKe(e,t,r){return mse(L3(e,t))}function sV(e){for(var t=e.FullPaths||rn(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function os(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return ms?a=Uu(r):a=xKe(r),gr.utils.cfb_add(e,t,a)}gr.utils.cfb_add(e,t,r)}else e.file(t,r)}function $3(){return gr.utils.cfb_new()}function fse(e,t){switch(t.type){case"base64":return gr.read(e,{type:"base64"});case"binary":return gr.read(e,{type:"binary"});case"buffer":case"array":return gr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ry(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var gn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ZKe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,aV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,eYe=/<[^>]*>/g,Xi=gn.match(aV)?aV:eYe,tYe=/<\w*:/,rYe=/<(\/?)\w+:/;function Lr(e,t,r){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var o=e.match(ZKe),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(n=h.charCodeAt(i+1))==34||n==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),a[u]=c,a[u.toLowerCase()]=c;else{var p=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(a[p]&&u.slice(l-3,l)=="ext")continue;a[p]=c,a[p.toLowerCase()]=c}}return a}function Vd(e){return e.replace(rYe,"<$1")}var pse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},B3=xA(pse),Es=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(l,c){return pse[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,o)+r(n.slice(o+3))}}(),U3=/[&<>'"]/g,sYe=/[\u0000-\u0008\u000b-\u001f]/g;function Zs(e){var t=e+"";return t.replace(U3,function(r){return B3[r]}).replace(sYe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nV(e){return Zs(e).replace(/ /g,"_x0020_")}var xse=/[\u0000-\u001f]/g;function V3(e){var t=e+"";return t.replace(U3,function(r){return B3[r]}).replace(/\n/g,"<br/>").replace(xse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function aYe(e){var t=e+"";return t.replace(U3,function(r){return B3[r]}).replace(xse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var iV=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function nYe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Sa(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function qP(e){for(var t="",r=0,a=0,n=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(n&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function oV(e){var t=dm(2*e.length),r,a,n=1,i=0,o=0,l;for(a=0;a<e.length;a+=n)n=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),n=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function lV(e){return Uu(e,"binary").toString("utf8")}var R1="foo bar baz",oa=ms&&(lV(R1)==qP(R1)&&lV||oV(R1)==qP(R1)&&oV)||qP,yd=ms?function(e){return Uu(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},cw=function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),gse=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),iYe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),oYe=/<\/?(?:vt:)?variant>/g,lYe=/<(?:vt:)([^>]*)>([\s\S]*)</;function cV(e,t){var r=Lr(e),a=e.match(iYe(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var o=i.replace(oYe,"").match(lYe);o&&n.push({v:oa(o[2]),t:o[1]})}),n}var vse=/(^\s|\s$|\n)/;function xi(e,t){return"<"+e+(t.match(vse)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dw(e){return rn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Et(e,t,r){return"<"+e+(r!=null?dw(r):"")+(t!=null?(t.match(vse)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function oD(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function cYe(e,t){switch(typeof e){case"string":var r=Et("vt:lpwstr",Zs(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Et((e|0)==e?"vt:i4":"vt:r8",Zs(String(e)));case"boolean":return Et("vt:bool",e?"true":"false")}if(e instanceof Date)return Et("vt:filetime",oD(e));throw new Error("Unable to serialize "+e)}function z3(e){if(ms&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return oa(Om(R3(e)));throw new Error("Bad input format: expected Buffer or string")}var uw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,zn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Cp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function dYe(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function uYe(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,o=a?-t:t;isFinite(o)?o==0?n=i=0:(n=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(n&15)<<4|i&15,e[r+7]=n>>4|a}var dV=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},uV=ms?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Uu(t)})):dV(e)}:dV,hV=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(ou(e,n)));return a.join("").replace(ho,"")},W3=ms?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ho,""):hV(e,t,r)}:hV,mV=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},yse=ms?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):mV(e,t,r)}:mV,fV=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(nx(e,n)));return a.join("")},mj=ms?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):fV(t,r,a)}:fV,bse=function(e,t){var r=rl(e,t);return r>0?mj(e,t+4,t+4+r-1):""},wse=bse,jse=function(e,t){var r=rl(e,t);return r>0?mj(e,t+4,t+4+r-1):""},Nse=jse,Sse=function(e,t){var r=2*rl(e,t);return r>0?mj(e,t+4,t+4+r-1):""},kse=Sse,Cse=function(t,r){var a=rl(t,r);return a>0?W3(t,r+4,r+4+a):""},Ase=Cse,Ese=function(e,t){var r=rl(e,t);return r>0?mj(e,t+4,t+4+r):""},Pse=Ese,Tse=function(e,t){return dYe(e,t)},qS=Tse,H3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ms&&(wse=function(t,r){if(!Buffer.isBuffer(t))return bse(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Nse=function(t,r){if(!Buffer.isBuffer(t))return jse(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},kse=function(t,r){if(!Buffer.isBuffer(t))return Sse(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},Ase=function(t,r){if(!Buffer.isBuffer(t))return Cse(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},Pse=function(t,r){if(!Buffer.isBuffer(t))return Ese(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},qS=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Tse(t,r)},H3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var nx=function(e,t){return e[t]},ou=function(e,t){return e[t+1]*256+e[t]},hYe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},cf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mYe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Oy(e,t){var r="",a,n,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,ms&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ou(this,d)),d+=2;e*=2;break;case"utf8":r=mj(this,this.l,this.l+e);break;case"utf16le":e*=2,r=W3(this,this.l,this.l+e);break;case"wstr":return Oy.call(this,e,"dbcs");case"lpstr-ansi":r=wse(this,this.l),e=4+rl(this,this.l);break;case"lpstr-cp":r=Nse(this,this.l),e=4+rl(this,this.l);break;case"lpwstr":r=kse(this,this.l),e=4+2*rl(this,this.l);break;case"lpp4":e=4+rl(this,this.l),r=Ase(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rl(this,this.l),r=Pse(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=nx(this,this.l+e++))!==0;)i.push(I1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=ou(this,this.l+e))!==0;)i.push(I1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=nx(this,d),this.l=d+1,l=Oy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(I1(ou(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=nx(this,d),this.l=d+1,l=Oy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(I1(nx(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=nx(this,this.l),this.l++,a;case 2:return a=(t==="i"?hYe:ou)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?cf:mYe)(this,this.l),this.l+=4,a):(n=rl(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=qS(this,this.l):n=qS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=yse(this,this.l,e);break}}return this.l+=e,r}var fYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},pYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},xYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function gYe(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)xYe(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,fYe(this,t,this.l);break;case 8:if(a=8,r==="f"){uYe(this,t,this.l);break}case 16:break;case-4:a=4,pYe(this,t,this.l);break}return this.l+=a,this}function _se(e,t){var r=yse(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function pi(e,t){e.l=t,e.read_shift=Oy,e.chk=_se,e.write_shift=gYe}function Yi(e,t){e.l+=t}function it(e){var t=dm(e);return pi(t,0),t}function Vu(e,t,r){if(e){var a,n,i;pi(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=gw[l]||gw[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;c=e.l+i;var u=d.f&&d.f(e,i,r);if(e.l=c,t(u,d,l))return}}}function Vo(){var e=[],t=ms?256:2048,r=function(d){var u=it(d);return pi(u,0),u},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=r(Math.max(d+1,t)))},o=function(){return n(),ai(e)},l=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function pt(e,t,r,a){var n=+t,i;if(!isNaN(n)){a||(a=gw[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);n<=127?o.write_shift(1,n):(o.write_shift(1,(n&127)+128),o.write_shift(1,n>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&H3(r)&&e.push(r)}}function Iy(e,t,r){var a=Ea(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function pV(e,t,r){var a=Ea(e);return a.s=Iy(a.s,t.s,r),a.e=Iy(a.e,t.s,r),a}function Ry(e,t){if(e.cRel&&e.c<0)for(e=Ea(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ea(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Fr(e);return!e.cRel&&e.cRel!=null&&(r=bYe(r)),!e.rRel&&e.rRel!=null&&(r=vYe(r)),r}function GP(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ua(e.s.c)+":"+(e.e.cRel?"":"$")+Ua(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+fn(e.s.r)+":"+(e.e.rRel?"":"$")+fn(e.e.r):Ry(e.s,t.biff)+":"+Ry(e.e,t.biff)}function q3(e){return parseInt(yYe(e),10)-1}function fn(e){return""+(e+1)}function vYe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yYe(e){return e.replace(/\$(\d+)$/,"$1")}function G3(e){for(var t=wYe(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Ua(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function bYe(e){return e.replace(/^([A-Z])/,"$$$1")}function wYe(e){return e.replace(/^\$([A-Z])/,"$1")}function jYe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Va(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function Fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qo(e){var t=e.indexOf(":");return t==-1?{s:Va(e),e:Va(e)}:{s:Va(e.slice(0,t)),e:Va(e.slice(t+1))}}function es(e,t){return typeof t>"u"||typeof t=="number"?es(e.s,e.e):(typeof e!="string"&&(e=Fr(e)),typeof t!="string"&&(t=Fr(t)),e==t?e:e+":"+t)}function Ps(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function xV(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Jl(e.z,r?Kn(t):t)}catch{}try{return e.w=Jl((e.XF||{}).numFmtId||(r?14:0),r?Kn(t):t)}catch{return""+t}}function _u(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zu[e.v]||e.v:t==null?xV(e,e.v):xV(e,t))}function Im(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function Dse(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?Va(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Ps(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var p={v:t[h][m]},g=o+h,x=l+m;if(d.s.r>g&&(d.s.r=g),d.s.c>x&&(d.s.c=x),d.e.r<g&&(d.e.r=g),d.e.c<x&&(d.e.c=x),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))p=t[h][m];else if(Array.isArray(p.v)&&(p.f=t[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||Pr[14],a.cellDates?(p.t="d",p.w=Jl(p.z,Kn(p.v))):(p.t="n",p.v=Kn(p.v),p.w=Jl(p.z,p.v))):p.t="s";if(n)i[g]||(i[g]=[]),i[g][x]&&i[g][x].z&&(p.z=i[g][x].z),i[g][x]=p;else{var y=Fr({c:x,r:g});i[y]&&i[y].z&&(p.z=i[y].z),i[y]=p}}}return d.s.c<1e7&&(i["!ref"]=es(d)),i}function G0(e,t){return Dse(null,e,t)}function NYe(e){return e.read_shift(4,"i")}function Mc(e,t){return t||(t=it(4)),t.write_shift(4,e),t}function Hi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function oi(e,t){var r=!1;return t==null&&(r=!0,t=it(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function SYe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function kYe(e,t){return t||(t=it(4)),t.write_shift(2,0),t.write_shift(2,0),t}function K3(e,t){var r=e.l,a=e.read_shift(1),n=Hi(e),i=[],o={t:n,h:n};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(SYe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function CYe(e,t){var r=!1;return t==null&&(r=!0,t=it(15+4*e.t.length)),t.write_shift(1,0),oi(e.t,t),r?t.slice(0,t.l):t}var AYe=K3;function EYe(e,t){var r=!1;return t==null&&(r=!0,t=it(23+4*e.t.length)),t.write_shift(1,1),oi(e.t,t),t.write_shift(4,1),kYe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function ac(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ap(e,t){return t==null&&(t=it(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ep(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Pp(e,t){return t==null&&(t=it(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var PYe=Hi,Ose=oi;function Y3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function GS(e,t){var r=!1;return t==null&&(r=!0,t=it(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var TYe=Hi,lD=Y3,X3=GS;function Q3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?qS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cf(t,0)>>2;return r?n/100:n}function Ise(e,t){t==null&&(t=it(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?a=1:n==(n|0)&&n>=-(1<<29)&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Rse(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function _Ye(e,t){return t||(t=it(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Tp=Rse,K0=_Ye;function Ui(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cp(e,t){return(t||it(8)).write_shift(8,e,"f")}function DYe(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Ff[n];d&&(t.rgb=mw(d));break;case 2:t.rgb=mw([o,l,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function KS(e,t){if(t||(t=it(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function OYe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function IYe(e,t){t||(t=it(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Fse(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function RYe(e){return Fse(e,1)}function FYe(e){return Fse(e,2)}var J3=2,To=3,F1=11,gV=12,YS=19,M1=64,MYe=65,LYe=71,$Ye=4108,BYe=4126,Zn=80,Mse=81,UYe=[Zn,Mse],cD={1:{n:"CodePage",t:J3},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:To},5:{n:"LineCount",t:To},6:{n:"ParagraphCount",t:To},7:{n:"SlideCount",t:To},8:{n:"NoteCount",t:To},9:{n:"HiddenCount",t:To},10:{n:"MultimediaClipCount",t:To},11:{n:"ScaleCrop",t:F1},12:{n:"HeadingPairs",t:$Ye},13:{n:"TitlesOfParts",t:BYe},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksUpToDate",t:F1},17:{n:"CharacterCount",t:To},19:{n:"SharedDoc",t:F1},22:{n:"HyperlinksChanged",t:F1},23:{n:"AppVersion",t:To,p:"version"},24:{n:"DigSig",t:MYe},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},dD={1:{n:"CodePage",t:J3},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:M1},11:{n:"LastPrinted",t:M1},12:{n:"CreatedDate",t:M1},13:{n:"ModifiedDate",t:M1},14:{n:"PageCount",t:To},15:{n:"WordCount",t:To},16:{n:"CharCount",t:To},17:{n:"Thumbnail",t:LYe},18:{n:"Application",t:Zn},19:{n:"DocSecurity",t:To},255:{},2147483648:{n:"Locale",t:YS},2147483651:{n:"Behavior",t:YS},1919054434:{}},vV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},VYe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zYe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var WYe=zYe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ff=Ea(WYe),zu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Lse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},L1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Z3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function HYe(e){var t=Z3();if(!e||!e.match)return t;var r={};if((e.match(Xi)||[]).forEach(function(a){var n=Lr(a);switch(n[0].replace(tYe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[uD[n.ContentType]]!==void 0&&t[uD[n.ContentType]].push(n.PartName);break}}),t.xmlns!==zn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function $se(e,t){var r=HKe(uD),a=[],n;a[a.length]=gn,a[a.length]=Et("Types",null,{xmlns:zn.CT,"xmlns:xsd":zn.xsd,"xmlns:xsi":zn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Et("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=Et("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:L1[c][t.bookType]||L1[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:L1[c][t.bookType]||L1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ps={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Fy(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Xi)||[]).forEach(function(n){var i=Lr(n);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:ry(i.Target,t);r[l]=o,a[i.Id]=o}}),r["!id"]=a,r}function Zx(e){var t=[gn,Et("Relationships",null,{xmlns:zn.RELS})];return rn(e["!id"]).forEach(function(r){t[t.length]=Et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Xs(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[ps.HLINK,ps.XPATH,ps.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var qYe="application/vnd.oasis.opendocument.spreadsheet";function GYe(e,t){for(var r=z3(e),a,n;a=uw.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Lr(a[0],!1),n.path=="/"&&n.type!==qYe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function KYe(e){var t=[gn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function yV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function YYe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function XYe(e){var t=[gn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(yV(e[r][0],e[r][1])),t.push(YYe("",e[r][0]));return t.push(yV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Bse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+US.version+"</meta:generator></office:meta></office:document-meta>"}var ql=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],QYe=function(){for(var e=new Array(ql.length),t=0;t<ql.length;++t){var r=ql[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function Use(e){var t={};e=oa(e);for(var r=0;r<ql.length;++r){var a=ql[r],n=e.match(QYe[r]);n!=null&&n.length>0&&(t[a[1]]=Es(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Aa(t[a[1]]))}return t}function KP(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Zs(t),a[a.length]=r?Et(e,t,r):xi(e,t))}function Vse(e,t){var r=t||{},a=[gn,Et("cp:coreProperties",null,{"xmlns:cp":zn.CORE_PROPS,"xmlns:dc":zn.dc,"xmlns:dcterms":zn.dcterms,"xmlns:dcmitype":zn.dcmitype,"xmlns:xsi":zn.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&KP("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:oD(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&KP("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:oD(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=ql.length;++i){var o=ql[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&KP(o[0],l,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Mf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zse=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Wse(e,t,r,a){var n=[];if(typeof e=="string")n=cV(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?cV(t,a).map(function(u){return u.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function JYe(e,t,r){var a={};return t||(t={}),e=oa(e),Mf.forEach(function(n){var i=(e.match(cw(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Es(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(a[n[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Wse(a.HeadingPairs,a.TitlesOfParts,t,r),t}function Hse(e){var t=[],r=Et;return e||(e={}),e.Application="SheetJS",t[t.length]=gn,t[t.length]=Et("Properties",null,{xmlns:zn.EXT_PROPS,"xmlns:vt":zn.vt}),Mf.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Zs(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Zs(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ZYe=/<[^>]+>[^<]*/g;function eXe(e,t){var r={},a="",n=e.match(ZYe);if(n)for(var i=0;i!=n.length;++i){var o=n[i],l=Lr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Es(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=Es(u);break;case"bool":r[a]=Sa(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(u);break;case"filetime":case"date":r[a]=Aa(u);break;case"cy":case"error":r[a]=Es(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function qse(e){var t=[gn,Et("Properties",null,{xmlns:zn.CUST_PROPS,"xmlns:vt":zn.vt})];if(!e)return t.join("");var r=1;return rn(e).forEach(function(n){++r,t[t.length]=Et("property",cYe(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Zs(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var hD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},YP;function tXe(e,t,r){YP||(YP=xA(hD)),t=YP[t]||t,e[t]=r}function rXe(e,t){var r=[];return rn(hD).map(function(a){for(var n=0;n<ql.length;++n)if(ql[n][1]==a)return ql[n];for(n=0;n<Mf.length;++n)if(Mf[n][1]==a)return Mf[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(xi(hD[a[1]]||a[1],n))}}),Et("DocumentProperties",r.join(""),{xmlns:tl.o})}function sXe(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&rn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<ql.length;++o)if(i==ql[o][1])return;for(o=0;o<Mf.length;++o)if(i==Mf[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),n.push(Et(nV(i),l,{"dt:dt":c}))}}),t&&rn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),n.push(Et(nV(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+tl.o+'">'+n.join("")+"</"+a+">"}function eF(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function aXe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var o=it(8);return o.write_shift(4,a),o.write_shift(4,n),o}function Gse(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function Kse(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function Yse(e,t,r){return t===31?Kse(e):Gse(e,t,r)}function mD(e,t,r){return Yse(e,t,r===!1?0:4)}function nXe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Yse(e,t,0)}function iXe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(ho,""),e.l-n&2&&(e.l+=2)}return r}function oXe(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(ho,"");return r}function lXe(e){var t=e.l,r=XS(e,Mse);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=XS(e,To);return[r,a]}function cXe(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(lXe(e));return r}function bV(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ho,"").replace(ty,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function Xse(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function dXe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function XS(e,t,r){var a=e.read_shift(2),n,i=r||{};if(e.l+=2,t!==gV&&a!==t&&UYe.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===gV?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return Gse(e,a,4).replace(ho,"");case 31:return Kse(e);case 64:return eF(e);case 65:return Xse(e);case 71:return dXe(e);case 80:return mD(e,a,!i.raw).replace(ho,"");case 81:return nXe(e,a).replace(ho,"");case 4108:return cXe(e);case 4126:case 4127:return a==4127?iXe(e):oXe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function wV(e,t){var r=it(4),a=it(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=it(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=aXe(t);break;case 31:case 80:for(a=it(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ai([r,a])}function jV(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=n;++o){var u=e.read_shift(4),h=e.read_shift(4);i[o]=[u,h+r]}i.sort(function(b,v){return b[1]-v[1]});var m={};for(o=0;o!=n;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[i[o][0]];if(m[g.n]=XS(e,g.t,{raw:!0}),g.p==="version"&&(m[g.n]=String(m[g.n]>>16)+"."+("0000"+String(m[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(m[g.n]){case 0:m[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_c(l=m[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[g.n])}}else if(i[o][0]===1){if(l=m.CodePage=XS(e,J3),_c(l),c!==-1){var x=e.l;e.l=i[c][1],d=bV(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}d=bV(e,l)}else{var y=d[i[o][0]],w;switch(e[e.l]){case 65:e.l+=4,w=Xse(e);break;case 30:e.l+=4,w=mD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=mD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=nn(e,4);break;case 64:e.l+=4,w=Aa(eF(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[y]=w}}return e.l=r+a,m}var Qse=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uXe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function NV(e,t,r){var a=it(8),n=[],i=[],o=8,l=0,c=it(8),d=it(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),o+=8+c.length,!t){d=it(8),d.write_shift(4,0),n.unshift(d);var u=[it(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=it(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=ai(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Qse.indexOf(e[l][0])>-1||zse.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var g=r[p];if(g.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=wV(g.t,m)}else{var y=uXe(m);y==-1&&(y=31,m=String(m)),c=wV(y,m)}i.push(c),d=it(8),d.write_shift(4,t?p:2+l),n.push(d),o+=8+c.length}var w=8*(i.length+1);for(l=0;l<i.length;++l)n[l].write_shift(4,w),w+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),ai([a].concat(n).concat(i))}function SV(e,t,r){var a=e.content;if(!a)return{};pi(a,0);var n,i,o,l,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),u=a.read_shift(16);if(u!==gr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),l=a.read_shift(4),n===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);n===2&&(o=a.read_shift(16),c=a.read_shift(4));var h=jV(a,t),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=i,n===1)return m;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var g;try{g=jV(a,null)}catch{}for(p in g)m[p]=g[p];return m.FMTID=[i,o],m}function kV(e,t,r,a,n,i){var o=it(n?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,gr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,n?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,n?68:48);var c=NV(e,r,a);if(l.push(c),n){var d=NV(n,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return ai(l)}function th(e,t){return e.read_shift(t),null}function hXe(e,t){t||(t=it(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function mXe(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function nn(e,t){return e.read_shift(t)===1}function so(e,t){return t||(t=it(2)),t.write_shift(2,+!!e),t}function Nn(e){return e.read_shift(2,"u")}function Tl(e,t){return t||(t=it(2)),t.write_shift(2,e),t}function Jse(e,t){return mXe(e,t,Nn)}function fXe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Zse(e,t,r){return r||(r=it(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function fj(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var o=a?e.read_shift(a,n):"";return o}function pXe(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,i=1+(r&1),o=0,l,c={};n&&(o=e.read_shift(2)),a&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*o),a&&(e.l+=l),c.t=u,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xXe(e){var t=e.t||"",r=it(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=it(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return ai(n)}function dp(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function pj(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):dp(e,a,r)}function _p(e,t,r){if(r.biff>5)return pj(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function eae(e,t,r){return r||(r=it(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function gXe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function vXe(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(ho,"");return a&&(e.l+=24),n}function yXe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ho,"");return r+o}function bXe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return vXe(e);case"0303000000000000c000000000000046":return yXe(e);default:throw new Error("Unsupported Moniker "+r)}}function $1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ho,""):"";return r}function CV(e,t){t||(t=it(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function wXe(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,o,l,c,d="",u,h;n&16&&(i=$1(e,r-e.l)),n&128&&(o=$1(e,r-e.l)),(n&257)===257&&(l=$1(e,r-e.l)),(n&257)===1&&(c=bXe(e,r-e.l)),n&8&&(d=$1(e,r-e.l)),n&32&&(u=e.read_shift(16)),n&64&&(h=eF(e)),e.l=r;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),n&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return u&&(p.guid=u),h&&(p.time=h),i&&(p.Tooltip=i),p}function jXe(e){var t=it(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),CV(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&CV(n>-1?a.slice(n+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function tae(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function rae(e,t){var r=tae(e);return r[3]=0,r}function zd(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function up(e,t,r,a){return a||(a=it(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function NXe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function SXe(e,t,r){return t===0?"":_p(e,t,r)}function kXe(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[n,i,o]}function sae(e){var t=e.read_shift(2),r=Q3(e);return[t,r]}function CXe(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=fj(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function yA(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function aae(e,t){return t||(t=it(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function nae(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var AXe=nae;function iae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function EXe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function PXe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Di(e){e.l+=2,e.l+=e.read_shift(2)}var TXe={0:Di,4:Di,5:Di,6:Di,7:PXe,8:Di,9:Di,10:Di,11:Di,12:Di,13:EXe,14:Di,15:Di,16:Di,17:Di,18:Di,19:Di,20:Di,21:iae};function _Xe(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(TXe[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function B1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function tF(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=it(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function DXe(e,t){return t===0||e.read_shift(2),1200}function OXe(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=_p(e,0,r);return e.read_shift(t+a-e.l),n}function IXe(e,t){var r=!t||t.biff==8,a=it(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function RXe(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function FXe(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=fj(e,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:n,dt:i,name:o}}function MXe(e,t){var r=!t||t.biff>=8?2:1,a=it(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function LXe(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],o=0;o!=n&&e.l<r;++o)i.push(pXe(e));return i.Count=a,i.Unique=n,i}function $Xe(e,t){var r=it(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=xXe(e[n]);var i=ai([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function BXe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function UXe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function VXe(e){var t=NXe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function zXe(e){return e.read_shift(2),e.read_shift(4)}function AV(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function WXe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function HXe(){var e=it(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function qXe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function GXe(e){var t=it(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function KXe(){}function YXe(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=fj(e,0,r),a}function XXe(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,i=it(n);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function QXe(e){var t=zd(e);return t.isst=e.read_shift(4),t}function JXe(e,t,r,a){var n=it(10);return up(e,t,a,n),n.write_shift(4,r),n}function ZXe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=zd(e);r.biff==2&&e.l++;var i=pj(e,a-e.l,r);return n.val=i,n}function eQe(e,t,r,a,n){var i=!n||n.biff==8,o=it(8+ +i+(1+i)*r.length);return up(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function tQe(e,t,r){var a=e.read_shift(2),n=_p(e,0,r);return[a,n]}function rQe(e,t,r,a){var n=r&&r.biff==5;a||(a=it(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var sQe=_p;function EV(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:l},e:{r:o,c}}}function aQe(e,t){var r=t.biff==8||!t.biff?4:2,a=it(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function nQe(e){var t=e.read_shift(2),r=e.read_shift(2),a=sae(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function iQe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(sae(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:o,rkrec:i}}function oQe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:o,ixfe:i}}function lQe(e,t,r,a){var n={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return n.patternType=VYe[l>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=l&127,n.icvBottom=l>>7&127,n.icvDiag=l>>14&127,n.dgDiag=l>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function cQe(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=lQe(e,t,a.fStyle,r),a}function PV(e,t,r,a){var n=r&&r.biff==5;a||(a=it(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function dQe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function uQe(e){var t=it(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function TV(e,t,r){var a=zd(e);(r.biff==2||t==9)&&++e.l;var n=fXe(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function hQe(e,t,r,a,n,i){var o=it(8);return up(e,t,a,o),Zse(r,i,o),o}function mQe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=zd(e),n=Ui(e);return a.val=n,a}function fQe(e,t,r,a){var n=it(14);return up(e,t,a,n),cp(r,n),n}var _V=SXe;function pQe(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=dp(e,i),l=[];a>e.l;)l.push(pj(e));return[i,n,o,l]}function DV(e,t,r){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=CXe(e,t-2,r)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var xQe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function OV(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=dp(e,o,r);n&32&&(d=xQe[d.charCodeAt(0)]);var u=a-e.l;r&&r.biff==2&&--u;var h=a==e.l||l===0||!(u>0)?[]:Ott(e,u,r,l);return{chKey:i,Name:d,itab:c,rgce:h}}function oae(e,t,r){if(r.biff<8)return gQe(e,t,r);for(var a=[],n=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(kXe(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function gQe(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=fj(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function vQe(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=dp(e,a,r),o=dp(e,n,r);return[i,o]}function yQe(e,t,r){var a=nae(e);e.l++;var n=e.read_shift(1);return t-=8,[Itt(e,t,r),n,a]}function IV(e,t,r){var a=AXe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,_tt(e,t,r)]}function bQe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function wQe(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=_p(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},l,o,i]}}function jQe(e,t,r){return wQe(e,t,r)}function NQe(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(yA(e));return r}function SQe(e){var t=it(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)aae(e[r],t);return t}function kQe(e,t,r){if(r&&r.biff<8)return AQe(e,t,r);var a=iae(e),n=_Xe(e,t-22,a[1]);return{cmo:a,ft:n}}var CQe={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function AQe(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((CQe[a]||Yi)(e,t,r)),{cmo:[n,a,i],ft:o}}function EQe(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=gXe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Nn(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],h=dp(e,e.lens[d+1]-e.lens[d]-1);if(n+=h,n.length>=(u?l:2*l))break}if(n.length!==l&&n.length!==l*2)throw new Error("cchText: "+l+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function PQe(e,t){var r=yA(e);e.l+=16;var a=wXe(e,t-24);return[r,a]}function TQe(e){var t=it(24),r=Va(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return ai([t,jXe(e[1])])}function _Qe(e,t){e.read_shift(2);var r=yA(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(ho,""),[r,a]}function DQe(e){var t=e[1].Tooltip,r=it(10+2*(t.length+1));r.write_shift(2,2048);var a=Va(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function OQe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=vV[r]||r,r=e.read_shift(2),t[1]=vV[r]||r,t}function IQe(e){return e||(e=it(4)),e.write_shift(2,1),e.write_shift(2,1),e}function RQe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(rae(e));return r}function FQe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(rae(e));return r}function MQe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function lae(e,t,r){if(!r.cellStyles)return Yi(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function LQe(e,t){var r=it(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function $Qe(e,t){var r={};return t<32||(e.l+=16,r.header=Ui(e),r.footer=Ui(e),e.l+=2),r}function BQe(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function UQe(e){for(var t=it(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var VQe=zd,zQe=Jse,WQe=pj;function HQe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function qQe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=zd(e);++e.l;var n=_p(e,t-7,r);return a.t="str",a.val=n,a}function GQe(e){var t=zd(e);++e.l;var r=Ui(e);return t.t="n",t.val=r,t}function KQe(e,t,r){var a=it(15);return yj(a,e,t),a.write_shift(8,r,"f"),a}function YQe(e){var t=zd(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function XQe(e,t,r){var a=it(9);return yj(a,e,t),a.write_shift(2,r),a}function QQe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function JQe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function ZQe(e,t,r){var a=e.l+t,n=zd(e),i=e.read_shift(2),o=dp(e,i,r);return e.l=a,n.t="str",n.val=o,n}var eJe=[2,3,48,49,131,139,140,245],fD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=dm(1);switch(c.type){case"base64":u=al(pl(l));break;case"binary":u=al(l);break;case"buffer":case"array":u=l;break}pi(u,0);var h=u.read_shift(1),m=!!(h&136),p=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,y=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(y=u.read_shift(2));var w=u.read_shift(2),b=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var v=[],N={},j=Math.min(u.length,h==2?521:y-10-(p?264:0)),k=g?32:11;u.l<j&&u[u.l]!=13;)switch(N={},N.name=gh.utils.decode(b,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,N.type=String.fromCharCode(u.read_shift(1)),h!=2&&!g&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),h==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&v.push(N),h!=2&&(u.l+=g?13:14),N.type){case"B":(!p||N.len!=8)&&c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var S=0,C=0;for(d[0]=[],C=0;C!=v.length;++C)d[0][C]=v[C].name;for(;x-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,d[++S]=[],C=0,C=0;C!=v.length;++C){var A=u.slice(u.l,u.l+v[C].len);u.l+=v[C].len,pi(A,0);var E=gh.utils.decode(b,A);switch(v[C].type){case"C":E.trim().length&&(d[S][C]=E.replace(/\s+$/,""));break;case"D":E.length===8?d[S][C]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):d[S][C]=E;break;case"F":d[S][C]=parseFloat(E.trim());break;case"+":case"I":d[S][C]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":d[S][C]=!0;break;case"N":case"F":d[S][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[S][C]="##MEMO##"+(g?parseInt(E.trim(),10):A.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(d[S][C]=+E||0);break;case"@":d[S][C]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[S][C]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[S][C]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][C]=-A.read_shift(-8,"f");break;case"B":if(p&&v[C].len==8){d[S][C]=A.read_shift(8,"f");break}case"G":case"P":A.l+=v[C].len;break;case"0":if(v[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[C].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=v,d}function a(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=G0(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function n(l,c){try{return Im(a(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&_c(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Vo(),h=ZS(l,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),g=l["!cols"]||[],x=0,y=0,w=0,b=1;for(x=0;x<m.length;++x){if(((g[x]||{}).DBF||{}).name){m[x]=g[x].DBF.name,++w;continue}if(m[x]!=null){if(++w,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(y=0;y<1024;++y)if(m.indexOf(m[x]+"_"+y)==-1){m[x]+="_"+y;break}}}}var v=Ps(l["!ref"]),N=[],j=[],k=[];for(x=0;x<=v.e.c-v.s.c;++x){var S="",C="",A=0,E=[];for(y=0;y<p.length;++y)p[y][x]!=null&&E.push(p[y][x]);if(E.length==0||m[x]==null){N[x]="?";continue}for(y=0;y<E.length;++y){switch(typeof E[y]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=E[y]instanceof Date?"D":"C";break;default:C="C"}A=Math.max(A,String(E[y]).length),S=S&&S!=C?"C":C}A>250&&(A=250),C=((g[x]||{}).DBF||{}).type,C=="C"&&g[x].DBF.len>A&&(A=g[x].DBF.len),S=="B"&&C=="N"&&(S="N",k[x]=g[x].DBF.dec,A=g[x].DBF.len),j[x]=S=="C"||C=="N"?A:i[S]||0,b+=j[x],N[x]=S}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*w),D.write_shift(2,b),x=0;x<4;++x)D.write_shift(4,0);for(D.write_shift(4,0|(+t[Qre]||3)<<8),x=0,y=0;x<m.length;++x)if(m[x]!=null){var P=u.next(32),T=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,T,"sbcs"),P.write_shift(1,N[x]=="?"?"C":N[x],"sbcs"),P.write_shift(4,y),P.write_shift(1,j[x]||i[N[x]]||0),P.write_shift(1,k[x]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),y+=j[x]||i[N[x]]||0}var _=u.next(264);for(_.write_shift(4,13),x=0;x<65;++x)_.write_shift(4,0);for(x=0;x<p.length;++x){var O=u.next(b);for(O.write_shift(1,0),y=0;y<m.length;++y)if(m[y]!=null)switch(N[y]){case"L":O.write_shift(1,p[x][y]==null?63:p[x][y]?84:70);break;case"B":O.write_shift(8,p[x][y]||0,"f");break;case"N":var F="0";for(typeof p[x][y]=="number"&&(F=p[x][y].toFixed(k[y]||0)),w=0;w<j[y]-F.length;++w)O.write_shift(1,32);O.write_shift(1,F,"sbcs");break;case"D":p[x][y]?(O.write_shift(4,("0000"+p[x][y].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(p[x][y].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+p[x][y].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var I=String(p[x][y]!=null?p[x][y]:"").slice(0,j[y]);for(O.write_shift(1,I,"sbcs"),w=0;w<j[y]-I.length;++w)O.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:o}}(),cae=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+rn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var g=e[p];return typeof g=="number"?H7(g):g},a=function(m,p,g){var x=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return x==59?m:H7(x)};e["|"]=254;function n(m,p){switch(p.type){case"base64":return i(pl(m),p);case"binary":return i(m,p);case"buffer":return i(ms&&Buffer.isBuffer(m)?m.toString("binary"):Om(m),p);case"array":return i(lp(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var g=m.split(/[\n\r]+/),x=-1,y=-1,w=0,b=0,v=[],N=[],j=null,k={},S=[],C=[],A=[],E=0,D;for(+p.codepage>=0&&_c(+p.codepage);w!==g.length;++w){E=0;var P=g[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),T=P.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),_=T[0],O;if(P.length>0)switch(_){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":T[1].charAt(0)=="P"&&N.push(P.slice(3).replace(/;;/g,";"));break;case"C":var F=!1,I=!1,R=!1,L=!1,H=-1,W=-1;for(b=1;b<T.length;++b)switch(T[b].charAt(0)){case"A":break;case"X":y=parseInt(T[b].slice(1))-1,I=!0;break;case"Y":for(x=parseInt(T[b].slice(1))-1,I||(y=0),D=v.length;D<=x;++D)v[D]=[];break;case"K":O=T[b].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(Fc(O))?isNaN(i0(O).getDate())||(O=Aa(O)):(O=Fc(O),j!==null&&H0(j)&&(O=vA(O))),F=!0;break;case"E":L=!0;var M=eg(T[b].slice(1),{r:x,c:y});v[x][y]=[v[x][y],M];break;case"S":R=!0,v[x][y]=[v[x][y],"S5S"];break;case"G":break;case"R":H=parseInt(T[b].slice(1))-1;break;case"C":W=parseInt(T[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}if(F&&(v[x][y]&&v[x][y].length==2?v[x][y][0]=O:v[x][y]=O,j=null),R){if(L)throw new Error("SYLK shared formula cannot have own formula");var G=H>-1&&v[H][W];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");v[x][y][1]=Aae(G[1],{r:x-H,c:y-W})}break;case"F":var V=0;for(b=1;b<T.length;++b)switch(T[b].charAt(0)){case"X":y=parseInt(T[b].slice(1))-1,++V;break;case"Y":for(x=parseInt(T[b].slice(1))-1,D=v.length;D<=x;++D)v[D]=[];break;case"M":E=parseInt(T[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=N[parseInt(T[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=T[b].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)E=parseInt(A[2],10),C[D-1]=E===0?{hidden:!0}:{wch:E},um(C[D-1]);break;case"C":y=parseInt(T[b].slice(1))-1,C[y]||(C[y]={});break;case"R":x=parseInt(T[b].slice(1))-1,S[x]||(S[x]={}),E>0?(S[x].hpt=E,S[x].hpx=l0(E)):E===0&&(S[x].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}V<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}}return S.length>0&&(k["!rows"]=S),C.length>0&&(k["!cols"]=C),p&&p.sheetRows&&(v=v.slice(0,p.sheetRows)),[v,k]}function o(m,p){var g=n(m,p),x=g[0],y=g[1],w=G0(x,p);return rn(y).forEach(function(b){w[b]=y[b]}),w}function l(m,p){return Im(o(m,p),p)}function c(m,p,g,x){var y="C;Y"+(g+1)+";X"+(x+1)+";K";switch(m.t){case"n":y+=m.v||0,m.f&&!m.F&&(y+=";E"+oF(m.f,{r:g,c:x}));break;case"b":y+=m.v?"TRUE":"FALSE";break;case"e":y+=m.w||m.v;break;case"d":y+='"'+(m.w||m.v)+'"';break;case"s":y+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function d(m,p){p.forEach(function(g,x){var y="F;W"+(x+1)+" "+(x+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=fw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=pw(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&m.push(y)})}function u(m,p){p.forEach(function(g,x){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*xw(g.hpx)+";"),y.length>2&&m.push(y+"R"+(x+1))})}function h(m,p){var g=["ID;PWXL;N;E"],x=[],y=Ps(m["!ref"]),w,b=Array.isArray(m),v=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&d(g,m["!cols"]),m["!rows"]&&u(g,m["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var N=y.s.r;N<=y.e.r;++N)for(var j=y.s.c;j<=y.e.c;++j){var k=Fr({r:N,c:j});w=b?(m[N]||[])[j]:m[k],!(!w||w.v==null&&(!w.f||w.F))&&x.push(c(w,m,N,j))}return g.join(v)+v+x.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),dae=function(){function e(i,o){switch(o.type){case"base64":return t(pl(i),o);case"binary":return t(i,o);case"buffer":return t(ms&&Buffer.isBuffer(i)?i.toString("binary"):Om(i),o);case"array":return t(lp(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),p=m[0],g=m[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+p){case-1:if(x==="BOT"){h[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][d]=!0:x==="FALSE"?h[c][d]=!1:isNaN(Fc(g))?isNaN(i0(g).getDate())?h[c][d]=g:h[c][d]=Aa(g):h[c][d]=Fc(g),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return G0(e(i,o),o)}function a(i,o){return Im(r(i,o),o)}var n=function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Ps(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){o(d,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var x=Fr({r:p,c:g});if(h=m?(c[p]||[])[g]:c[x],!h){o(d,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,y,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Jl(h.z||Pr[14],Kn(Aa(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var w=`\r
`,b=d.join(w);return b}}();return{to_workbook:a,to_sheet:r,from_sheet:n}}(),uae=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var p=h.split(`
`),g=-1,x=-1,y=0,w=[];y!==p.length;++y){var b=p[y].trim().split(":");if(b[0]==="cell"){var v=Va(b[1]);if(w.length<=v.r)for(g=w.length;g<=v.r;++g)w[g]||(w[g]=[]);switch(g=v.r,x=v.c,b[2]){case"t":w[g][x]=e(b[3]);break;case"v":w[g][x]=+b[3];break;case"vtf":var N=b[b.length-1];case"vtc":switch(b[3]){case"nl":w[g][x]=!!+b[4];break;default:w[g][x]=+b[4];break}b[2]=="vtf"&&(w[g][x]=[w[g][x],N])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function a(h,m){return G0(r(h,m),m)}function n(h,m){return Im(a(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],g,x="",y=qo(h["!ref"]),w=Array.isArray(h),b=y.s.r;b<=y.e.r;++b)for(var v=y.s.c;v<=y.e.c;++v)if(x=Fr({r:b,c:v}),g=w?(h[b]||[])[v]:h[x],!(!g||g.v==null||g.t==="z")){switch(p=["cell",x,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var N=Kn(Aa(g.v));p[2]="vtc",p[3]="nd",p[4]=""+N,p[5]=g.w||Jl(g.z||Pr[14],N);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),o0=function(){function e(u,h,m,p,g){g.raw?h[m][p]=u:u===""||(u==="TRUE"?h[m][p]=!0:u==="FALSE"?h[m][p]=!1:isNaN(Fc(u))?isNaN(i0(u).getDate())?h[m][p]=u:h[m][p]=Aa(u):h[m][p]=Fc(u))}function t(u,h){var m=h||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var y=10,w=0,b=0;b<=x;++b)w=g[b].indexOf(" "),w==-1?w=g[b].length:w++,y=Math.max(y,w);for(b=0;b<=x;++b){p[b]=[];var v=0;for(e(g[b].slice(0,y).trim(),p,b,v,m),v=1;v<=(g[b].length-y)/10+1;++v)e(g[b].slice(y+(v-1)*10,y+v*10).trim(),p,b,v,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var h={},m=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?m=!m:!m&&g in r&&(h[g]=(h[g]||0)+1);g=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p]);if(!g.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p])}return g.sort(function(x,y){return x[0]-y[0]||a[x[1]]-a[y[1]]}),r[g.pop()[1]]||44}function i(u,h){var m=h||{},p="",g=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=n(u.slice(0,1024)):m&&m.FS?p=m.FS:p=n(u.slice(0,1024));var y=0,w=0,b=0,v=0,N=0,j=p.charCodeAt(0),k=!1,S=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?BKe(m.dateNF):null;function E(){var D=u.slice(v,N),P={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)P.t="z";else if(m.raw)P.t="s",P.v=D;else if(D.trim().length===0)P.t="s",P.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(P.t="s",P.v=D.slice(2,-1).replace(/""/g,'"')):xet(D)?(P.t="n",P.f=D.slice(1)):(P.t="s",P.v=D);else if(D=="TRUE")P.t="b",P.v=!0;else if(D=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=Fc(D)))P.t="n",m.cellText!==!1&&(P.w=D),P.v=b;else if(!isNaN(i0(D).getDate())||A&&D.match(A)){P.z=m.dateNF||Pr[14];var T=0;A&&D.match(A)&&(D=UKe(D,m.dateNF,D.match(A)||[]),T=1),m.cellDates?(P.t="d",P.v=Aa(D,T)):(P.t="n",P.v=Kn(Aa(D,T))),m.cellText!==!1&&(P.w=Jl(P.z,P.v instanceof Date?Kn(P.v):P.v)),m.cellNF||delete P.z}else P.t="s",P.v=D;if(P.t=="z"||(m.dense?(g[y]||(g[y]=[]),g[y][w]=P):g[Fr({c:w,r:y})]=P),v=N+1,C=u.charCodeAt(v),x.e.c<w&&(x.e.c=w),x.e.r<y&&(x.e.r=y),S==j)++w;else if(w=0,++y,m.sheetRows&&m.sheetRows<=y)return!0}e:for(;N<u.length;++N)switch(S=u.charCodeAt(N)){case 34:C===34&&(k=!k);break;case j:case 10:case 13:if(!k&&E())break e;break}return N-v>0&&E(),g["!ref"]=es(x),g}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):G0(t(u,h),h)}function l(u,h){var m="",p=h.type=="string"?[0,0,0,0]:pF(u,h);switch(h.type){case"base64":m=pl(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof gh<"u"?m=gh.utils.decode(h.codepage,u):m=ms&&Buffer.isBuffer(u)?u.toString("binary"):Om(u);break;case"array":m=lp(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=oa(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=oa(m):h.type=="binary"&&typeof gh<"u"&&h.codepage&&(m=gh.utils.decode(h.codepage,gh.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?uae.to_sheet(h.type=="string"?m:oa(m),h):o(m,h)}function c(u,h){return Im(l(u,h),h)}function d(u){for(var h=[],m=Ps(u["!ref"]),p,g=Array.isArray(u),x=m.s.r;x<=m.e.r;++x){for(var y=[],w=m.s.c;w<=m.e.c;++w){var b=Fr({r:x,c:w});if(p=g?(u[x]||[])[w]:u[b],!p||p.v==null){y.push("          ");continue}for(var v=(p.w||(_u(p),p.w)||"").slice(0,10);v.length<10;)v+=" ";y.push(v+(w===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function tJe(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=cae.to_workbook(e,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return o0.to_workbook(e,t)}}var Lf=function(){function e(M,G,V){if(M){pi(M,M.l||0);for(var q=V.Enum||H;M.l<M.length;){var Y=M.read_shift(2),U=q[Y]||q[65535],Z=M.read_shift(2),J=M.l+Z,K=U.f&&U.f(M,Z,V);if(M.l=J,G(K,U,Y))return}}}function t(M,G){switch(G.type){case"base64":return r(al(pl(M)),G);case"binary":return r(al(M),G);case"buffer":case"array":return r(M,G)}throw"Unsupported type "+G.type}function r(M,G){if(!M)return M;var V=G||{},q=V.dense?[]:{},Y="Sheet1",U="",Z=0,J={},K=[],se=[],B={s:{r:0,c:0},e:{r:0,c:0}},Ne=V.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)V.Enum=H,e(M,function(He,fe,Ue){switch(Ue){case 0:V.vers=He,He>=4096&&(V.qpro=!0);break;case 6:B=He;break;case 204:He&&(U=He);break;case 222:U=He;break;case 15:case 51:V.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=V.dateNF||Pr[14],V.cellDates&&(He[1].t="d",He[1].v=vA(He[1].v))),V.qpro&&He[3]>Z&&(q["!ref"]=es(B),J[Y]=q,K.push(Y),q=V.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},Z=He[3],Y=U||"Sheet"+(Z+1),U="");var ie=V.dense?(q[He[0].r]||[])[He[0].c]:q[Fr(He[0])];if(ie){ie.t=He[1].t,ie.v=He[1].v,He[1].z!=null&&(ie.z=He[1].z),He[1].f!=null&&(ie.f=He[1].f);break}V.dense?(q[He[0].r]||(q[He[0].r]=[]),q[He[0].r][He[0].c]=He[1]):q[Fr(He[0])]=He[1];break}},V);else if(M[2]==26||M[2]==14)V.Enum=W,M[2]==14&&(V.qpro=!0,M.l=0),e(M,function(He,fe,Ue){switch(Ue){case 204:Y=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Z&&(q["!ref"]=es(B),J[Y]=q,K.push(Y),q=V.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},Z=He[3],Y="Sheet"+(Z+1)),Ne>0&&He[0].r>=Ne)break;V.dense?(q[He[0].r]||(q[He[0].r]=[]),q[He[0].r][He[0].c]=He[1]):q[Fr(He[0])]=He[1],B.e.c<He[0].c&&(B.e.c=He[0].c),B.e.r<He[0].r&&(B.e.r=He[0].r);break;case 27:He[14e3]&&(se[He[14e3][0]]=He[14e3][1]);break;case 1537:se[He[0]]=He[1],He[0]==Z&&(Y=He[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(q["!ref"]=es(B),J[U||Y]=q,K.push(U||Y),!se.length)return{SheetNames:K,Sheets:J};for(var ye={},Re=[],qe=0;qe<se.length;++qe)J[K[qe]]?(Re.push(se[qe]||K[qe]),ye[se[qe]]=J[se[qe]]||J[K[qe]]):(Re.push(se[qe]),ye[se[qe]]={"!ref":"A1"});return{SheetNames:Re,Sheets:ye}}function a(M,G){var V=G||{};if(+V.codepage>=0&&_c(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Vo(),Y=Ps(M["!ref"]),U=Array.isArray(M),Z=[];Pt(q,0,i(1030)),Pt(q,6,c(Y));for(var J=Math.min(Y.e.r,8191),K=Y.s.r;K<=J;++K)for(var se=fn(K),B=Y.s.c;B<=Y.e.c;++B){K===Y.s.r&&(Z[B]=Ua(B));var Ne=Z[B]+se,ye=U?(M[K]||[])[B]:M[Ne];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?Pt(q,13,p(K,B,ye.v)):Pt(q,14,x(K,B,ye.v));else{var Re=_u(ye);Pt(q,15,h(K,B,Re.slice(0,239)))}}return Pt(q,1),q.end()}function n(M,G){var V=G||{};if(+V.codepage>=0&&_c(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Vo();Pt(q,0,o(M));for(var Y=0,U=0;Y<M.SheetNames.length;++Y)(M.Sheets[M.SheetNames[Y]]||{})["!ref"]&&Pt(q,27,L(M.SheetNames[Y],U++));var Z=0;for(Y=0;Y<M.SheetNames.length;++Y){var J=M.Sheets[M.SheetNames[Y]];if(!(!J||!J["!ref"])){for(var K=Ps(J["!ref"]),se=Array.isArray(J),B=[],Ne=Math.min(K.e.r,8191),ye=K.s.r;ye<=Ne;++ye)for(var Re=fn(ye),qe=K.s.c;qe<=K.e.c;++qe){ye===K.s.r&&(B[qe]=Ua(qe));var He=B[qe]+Re,fe=se?(J[ye]||[])[qe]:J[He];if(!(!fe||fe.t=="z"))if(fe.t=="n")Pt(q,23,E(ye,qe,Z,fe.v));else{var Ue=_u(fe);Pt(q,22,S(ye,qe,Z,Ue.slice(0,239)))}}++Z}}return Pt(q,1),q.end()}function i(M){var G=it(2);return G.write_shift(2,M),G}function o(M){var G=it(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var V=0,q=0,Y=0,U=0;U<M.SheetNames.length;++U){var Z=M.SheetNames[U],J=M.Sheets[Z];if(!(!J||!J["!ref"])){++Y;var K=qo(J["!ref"]);V<K.e.r&&(V=K.e.r),q<K.e.c&&(q=K.e.c)}}return V>8191&&(V=8191),G.write_shift(2,V),G.write_shift(1,Y),G.write_shift(1,q),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(M,G,V){var q={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&V.qpro?(q.s.c=M.read_shift(1),M.l++,q.s.r=M.read_shift(2),q.e.c=M.read_shift(1),M.l++,q.e.r=M.read_shift(2),q):(q.s.c=M.read_shift(2),q.s.r=M.read_shift(2),G==12&&V.qpro&&(M.l+=2),q.e.c=M.read_shift(2),q.e.r=M.read_shift(2),G==12&&V.qpro&&(M.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(M){var G=it(8);return G.write_shift(2,M.s.c),G.write_shift(2,M.s.r),G.write_shift(2,M.e.c),G.write_shift(2,M.e.r),G}function d(M,G,V){var q=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(q[0].c=M.read_shift(1),q[3]=M.read_shift(1),q[0].r=M.read_shift(2),M.l+=2):(q[2]=M.read_shift(1),q[0].c=M.read_shift(2),q[0].r=M.read_shift(2)),q}function u(M,G,V){var q=M.l+G,Y=d(M,G,V);if(Y[1].t="s",V.vers==20768){M.l++;var U=M.read_shift(1);return Y[1].v=M.read_shift(U,"utf8"),Y}return V.qpro&&M.l++,Y[1].v=M.read_shift(q-M.l,"cstr"),Y}function h(M,G,V){var q=it(7+V.length);q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,M),q.write_shift(1,39);for(var Y=0;Y<q.length;++Y){var U=V.charCodeAt(Y);q.write_shift(1,U>=128?95:U)}return q.write_shift(1,0),q}function m(M,G,V){var q=d(M,G,V);return q[1].v=M.read_shift(2,"i"),q}function p(M,G,V){var q=it(7);return q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,M),q.write_shift(2,V,"i"),q}function g(M,G,V){var q=d(M,G,V);return q[1].v=M.read_shift(8,"f"),q}function x(M,G,V){var q=it(13);return q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,M),q.write_shift(8,V,"f"),q}function y(M,G,V){var q=M.l+G,Y=d(M,G,V);if(Y[1].v=M.read_shift(8,"f"),V.qpro)M.l=q;else{var U=M.read_shift(2);N(M.slice(M.l,M.l+U),Y),M.l+=U}return Y}function w(M,G,V){var q=G&32768;return G&=-32769,G=(q?M:0)+(G>=8192?G-16384:G),(q?"":"$")+(V?Ua(G):fn(G))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(M,G){pi(M,0);for(var V=[],q=0,Y="",U="",Z="",J="";M.l<M.length;){var K=M[M.l++];switch(K){case 0:V.push(M.read_shift(8,"f"));break;case 1:U=w(G[0].c,M.read_shift(2),!0),Y=w(G[0].r,M.read_shift(2),!1),V.push(U+Y);break;case 2:{var se=w(G[0].c,M.read_shift(2),!0),B=w(G[0].r,M.read_shift(2),!1);U=w(G[0].c,M.read_shift(2),!0),Y=w(G[0].r,M.read_shift(2),!1),V.push(se+B+":"+U+Y)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(M.read_shift(2));break;case 6:{for(var Ne="";K=M[M.l++];)Ne+=String.fromCharCode(K);V.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:J=V.pop(),Z=V.pop(),V.push(["AND","OR"][K-20]+"("+Z+","+J+")");break;default:if(K<32&&v[K])J=V.pop(),Z=V.pop(),V.push(Z+v[K]+J);else if(b[K]){if(q=b[K][1],q==69&&(q=M[M.l++]),q>V.length){console.error("WK1 bad formula parse 0x"+K.toString(16)+":|"+V.join("|")+"|");return}var ye=V.slice(-q);V.length-=q,V.push(b[K][0]+"("+ye.join(",")+")")}else return K<=7?console.error("WK1 invalid opcode "+K.toString(16)):K<=24?console.error("WK1 unsupported op "+K.toString(16)):K<=30?console.error("WK1 invalid opcode "+K.toString(16)):K<=115?console.error("WK1 unsupported function opcode "+K.toString(16)):console.error("WK1 unrecognized opcode "+K.toString(16))}}V.length==1?G[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(M){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=M.read_shift(2),G[3]=M[M.l++],G[0].c=M[M.l++],G}function k(M,G){var V=j(M);return V[1].t="s",V[1].v=M.read_shift(G-4,"cstr"),V}function S(M,G,V,q){var Y=it(6+q.length);Y.write_shift(2,M),Y.write_shift(1,V),Y.write_shift(1,G),Y.write_shift(1,39);for(var U=0;U<q.length;++U){var Z=q.charCodeAt(U);Y.write_shift(1,Z>=128?95:Z)}return Y.write_shift(1,0),Y}function C(M,G){var V=j(M);V[1].v=M.read_shift(2);var q=V[1].v>>1;if(V[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return V[1].v=q,V}function A(M,G){var V=j(M),q=M.read_shift(4),Y=M.read_shift(4),U=M.read_shift(2);if(U==65535)return q===0&&Y===3221225472?(V[1].t="e",V[1].v=15):q===0&&Y===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Z=U&32768;return U=(U&32767)-16446,V[1].v=(1-Z*2)*(Y*Math.pow(2,U+32)+q*Math.pow(2,U)),V}function E(M,G,V,q){var Y=it(14);if(Y.write_shift(2,M),Y.write_shift(1,V),Y.write_shift(1,G),q==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var U=0,Z=0,J=0,K=0;return q<0&&(U=1,q=-q),Z=Math.log2(q)|0,q/=Math.pow(2,Z-31),K=q>>>0,K&2147483648||(q/=2,++Z,K=q>>>0),q-=K,K|=2147483648,K>>>=0,q*=Math.pow(2,32),J=q>>>0,Y.write_shift(4,J),Y.write_shift(4,K),Z+=16383+(U?32768:0),Y.write_shift(2,Z),Y}function D(M,G){var V=A(M);return M.l+=G-14,V}function P(M,G){var V=j(M),q=M.read_shift(4);return V[1].v=q>>6,V}function T(M,G){var V=j(M),q=M.read_shift(8,"f");return V[1].v=q,V}function _(M,G){var V=T(M);return M.l+=G-10,V}function O(M,G){return M[M.l+G-1]==0?M.read_shift(G,"cstr"):""}function F(M,G){var V=M[M.l++];V>G-1&&(V=G-1);for(var q="";q.length<V;)q+=String.fromCharCode(M[M.l++]);return q}function I(M,G,V){if(!(!V.qpro||G<21)){var q=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var Y=M.read_shift(G-21,"cstr");return[q,Y]}}function R(M,G){for(var V={},q=M.l+G;M.l<q;){var Y=M.read_shift(2);if(Y==14e3){for(V[Y]=[0,""],V[Y][0]=M.read_shift(2);M[M.l];)V[Y][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return V}function L(M,G){var V=it(5+M.length);V.write_shift(2,14e3),V.write_shift(2,G);for(var q=0;q<M.length;++q){var Y=M.charCodeAt(q);V[V.l++]=Y>127?95:Y}return V[V.l++]=0,V}var H={0:{n:"BOF",f:Nn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:F},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:R},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:T},40:{n:"FORMULA28",f:_},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:I},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}}();function rJe(e){var t={},r=e.match(Xi),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=Lr(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=D3[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var sJe=function(){var e=cw("t"),t=cw("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Es(o[1])},c=i.match(t);return c&&(l.s=rJe(c[1])),l}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(n).map(r).filter(function(l){return l.v})}}(),aJe=function(){var t=/(\r\n|\n)/g;function r(n,i,o){var l=[];n.u&&l.push("text-decoration: underline;"),n.uval&&l.push("text-underline-style:"+n.uval+";"),n.sz&&l.push("font-size:"+n.sz+"pt;"),n.outline&&l.push("text-effect: outline;"),n.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),n.b&&(i.push("<b>"),o.push("</b>")),n.i&&(i.push("<i>"),o.push("</i>")),n.strike&&(i.push("<s>"),o.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),nJe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,iJe=/<(?:\w+:)?r>/,oJe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function rF(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Es(oa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=oa(e),r&&(a.h=V3(a.t))):e.match(iJe)&&(a.r=oa(e),a.t=Es(oa((e.replace(oJe,"").match(nJe)||[]).join("").replace(Xi,""))),r&&(a.h=aJe(sJe(a.r)))),a):{t:""}}var lJe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,cJe=/<(?:\w+:)?(?:si|sstItem)>/g,dJe=/<\/(?:\w+:)?(?:si|sstItem)>/;function uJe(e,t){var r=[],a="";if(!e)return r;var n=e.match(lJe);if(n){a=n[2].replace(cJe,"").split(dJe);for(var i=0;i!=a.length;++i){var o=rF(a[i].trim(),t);o!=null&&(r[r.length]=o)}n=Lr(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var hJe=/^\s|\s$|[\t\n\r]/;function hae(e,t){if(!t.bookSST)return"";var r=[gn];r[r.length]=Et("sst",null,{xmlns:Cp[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(hJe)&&(i+=' xml:space="preserve"'),i+=">"+Zs(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function mJe(e){return[e.read_shift(4),e.read_shift(4)]}function fJe(e,t){var r=[],a=!1;return Vu(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function pJe(e,t){return t||(t=it(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var xJe=CYe;function gJe(e){var t=Vo();pt(t,159,pJe(e));for(var r=0;r<e.length;++r)pt(t,19,xJe(e[r]));return pt(t,160),t.end()}function mae(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function xu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function vJe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=xu(e,4),t.U=xu(e,4),t.W=xu(e,4),t}function yJe(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function bJe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(yJe(e));return t}function wJe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function jJe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=xu(e,4),t.U=xu(e,4),t.W=xu(e,4),t}function NJe(e){var t=jJe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function fae(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function pae(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function SJe(e){var t=xu(e);switch(t.Minor){case 2:return[t.Minor,kJe(e)];case 3:return[t.Minor,CJe()];case 4:return[t.Minor,AJe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function kJe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=fae(e,r),n=pae(e,e.length-e.l);return{t:"Std",h:a,v:n}}function CJe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function AJe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(Xi,function(i){var o=Lr(i);switch(Vd(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function EJe(e,t){var r={},a=r.EncryptionVersionInfo=xu(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=fae(e,n),t-=n,r.EncryptionVerifier=pae(e,t),r}function PJe(e){var t={},r=t.EncryptionVersionInfo=xu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function sF(e){var t=0,r,a=mae(e),n=a.length+1,i,o,l,c,d;for(r=dm(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var xae=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},n=function(o,l){return a(o^l)},i=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=mae(o),c=i(l),d=l.length,u=dm(16),h=0;h!=16;++h)u[h]=0;var m,p,g;for((d&1)===1&&(m=c>>8,u[d]=n(e[0],m),--d,m=c&255,p=l[l.length-1],u[d]=n(p,m));d>0;)--d,m=c>>8,u[d]=n(l[d],m),--d,m=c&255,u[d]=n(l[d],m);for(d=15,g=15-l.length;g>0;)m=c>>8,u[d]=n(e[g],m),--d,--g,m=c&255,u[d]=n(l[d],m),--d,--g;return u}}(),TJe=function(e,t,r,a,n){n||(n=t),a||(a=xae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=a[r],o=(o>>5|o<<3)&255,n[i]=o,++r;return[n,r,a]},_Je=function(e){var t=0,r=xae(e);return function(a){var n=TJe("",a,t,r);return t=n[1],n[0]}};function DJe(e,t,r,a){var n={key:Nn(e),verificationBytes:Nn(e)};return r.password&&(n.verifier=sF(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=_Je(r.password)),n}function OJe(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=PJe(e):a.Data=EJe(e,t),a}function IJe(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?OJe(e,t-2,a):DJe(e,r.biff>=8?t:t-2,r,a),a}var gae=function(){function e(n,i){switch(i.type){case"base64":return t(pl(n),i);case"binary":return t(n,i);case"buffer":return t(ms&&Buffer.isBuffer(n)?n.toString("binary"):Om(n),i);case"array":return t(lp(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var o=i||{},l=o.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,p=0,g,x=-1;g=m.exec(u);){switch(g[0]){case"\\cell":var y=u.slice(p,m.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var w={v:y,t:"s"};Array.isArray(l)?l[h][x]=w:l[Fr({r:h,c:x})]=w}break}p=m.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=es(d),l}function r(n,i){return Im(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],o=Ps(n["!ref"]),l,c=Array.isArray(n),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Fr({r:d,c:u});l=c?(n[d]||[])[u]:n[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(_u(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function RJe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function mw(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function FJe(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),o=n-i;if(o===0)return[0,0,t];var l=0,c=0,d=n+i;switch(c=o/(d>1?2-d:d),n){case t:l=((r-a)/o+6)%6;break;case r:l=(a-t)/o+2;break;case a:l=(t-r)/o+4;break}return[l/6,c,d/2]}function MJe(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),i=a-n/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=n*l,o[0]+=n,o[1]+=c;break;case 1:c=n*(2-l),o[0]+=c,o[1]+=n;break;case 2:c=n*(l-2),o[1]+=n,o[2]+=c;break;case 3:c=n*(4-l),o[1]+=c,o[2]+=n;break;case 4:c=n*(l-4),o[2]+=n,o[0]+=c;break;case 5:c=n*(6-l),o[2]+=c,o[0]+=n;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function QS(e,t){if(t===0)return e;var r=FJe(RJe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),mw(MJe(r))}var vae=6,LJe=15,$Je=1,Bi=vae;function fw(e){return Math.floor((e+Math.round(128/Bi)/256)*Bi)}function pw(e){return Math.floor((e-5)/Bi*100+.5)/100}function JS(e){return Math.round((e*Bi+5)/Bi*256)/256}function XP(e){return JS(pw(fw(e)))}function aF(e){var t=Math.abs(e-XP(e)),r=Bi;if(t>.005)for(Bi=$Je;Bi<LJe;++Bi)Math.abs(e-XP(e))<=t&&(t=Math.abs(e-XP(e)),r=Bi);Bi=r}function um(e){e.width?(e.wpx=fw(e.width),e.wch=pw(e.wpx),e.MDW=Bi):e.wpx?(e.wch=pw(e.wpx),e.width=JS(e.wch),e.MDW=Bi):typeof e.wch=="number"&&(e.width=JS(e.wch),e.wpx=fw(e.width),e.MDW=Bi),e.customWidth&&delete e.customWidth}var BJe=96,yae=BJe;function xw(e){return e*96/yae}function l0(e){return e*yae/96}var UJe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function VJe(e,t,r,a){t.Borders=[];var n={},i=!1;(e[0].match(Xi)||[]).forEach(function(o){var l=Lr(o);switch(Vd(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},l.diagonalUp&&(n.diagonalUp=Sa(l.diagonalUp)),l.diagonalDown&&(n.diagonalDown=Sa(l.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function zJe(e,t,r,a){t.Fills=[];var n={},i=!1;(e[0].match(Xi)||[]).forEach(function(o){var l=Lr(o);switch(Vd(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":l.patternType&&(n.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),l.indexed&&(n.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(n.bgColor.theme=parseInt(l.theme,10)),l.tint&&(n.bgColor.tint=parseFloat(l.tint)),l.rgb&&(n.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),l.theme&&(n.fgColor.theme=parseInt(l.theme,10)),l.tint&&(n.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(n.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function WJe(e,t,r,a){t.Fonts=[];var n={},i=!1;(e[0].match(Xi)||[]).forEach(function(o){var l=Lr(o);switch(Vd(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":l.val&&(n.name=oa(l.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=l.val?Sa(l.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=l.val?Sa(l.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(l.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=l.val?Sa(l.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=l.val?Sa(l.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=l.val?Sa(l.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=l.val?Sa(l.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=l.val?Sa(l.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":l.val&&(n.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(n.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(n.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(n.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=D3[parseInt(l.val,10)];break;case"<color":if(n.color||(n.color={}),l.auto&&(n.color.auto=Sa(l.auto)),l.rgb)n.color.rgb=l.rgb.slice(-6);else if(l.indexed){n.color.index=parseInt(l.indexed,10);var c=Ff[n.color.index];n.color.index==81&&(c=Ff[1]),c||(c=Ff[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(n.color.theme=parseInt(l.theme,10),l.tint&&(n.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=QS(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function HJe(e,t,r){t.NumberFmt=[];for(var a=rn(Pr),n=0;n<a.length;++n)t.NumberFmt[a[n]]=Pr[a[n]];var i=e[0].match(Xi);if(i)for(n=0;n<i.length;++n){var o=Lr(i[n]);switch(Vd(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Es(oa(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}pu(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function qJe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=Et("numFmt",null,{numFmtId:a,formatCode:Zs(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var U1=["numFmtId","fillId","fontId","borderId","xfId"],V1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function GJe(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(Xi)||[]).forEach(function(i){var o=Lr(i),l=0;switch(Vd(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<U1.length;++l)a[U1[l]]&&(a[U1[l]]=parseInt(a[U1[l]],10));for(l=0;l<V1.length;++l)a[V1[l]]&&(a[V1[l]]=Sa(a[V1[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Sa(o.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function KJe(e){var t=[];return t[t.length]=Et("cellXfs",null),e.forEach(function(r){t[t.length]=Et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var YJe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&HJe(h,u,d),(h=l.match(n))&&WJe(h,u,c,d),(h=l.match(a))&&zJe(h,u,c,d),(h=l.match(i))&&VJe(h,u,c,d),(h=l.match(r))&&GJe(h,u,d),u}}();function bae(e,t){var r=[gn,Et("styleSheet",null,{xmlns:Cp[0],"xmlns:vt":zn.vt})],a;return e.SSF&&(a=qJe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=KJe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function XJe(e,t){var r=e.read_shift(2),a=Hi(e);return[r,a]}function QJe(e,t,r){r||(r=it(6+4*t.length)),r.write_shift(2,e),oi(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function JJe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=OYe(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=DYe(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Hi(e),a}function ZJe(e,t){t||(t=it(25+4*32)),t.write_shift(2,e.sz*20),IYe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),KS(e.color,t);var a=0;return e.scheme=="major"&&(a=1),e.scheme=="minor"&&(a=2),t.write_shift(1,a),oi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var eZe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],QP,tZe=Yi;function RV(e,t){t||(t=it(4*3+8*7+16*1)),QP||(QP=xA(eZe));var r=QP[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(KS({auto:1},t),KS({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function rZe(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function wae(e,t,r){r||(r=it(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Dv(e,t){return t||(t=it(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var sZe=Yi;function aZe(e,t){return t||(t=it(51)),t.write_shift(1,0),Dv(null,t),Dv(null,t),Dv(null,t),Dv(null,t),Dv(null,t),t.length>t.l?t.slice(0,t.l):t}function nZe(e,t){return t||(t=it(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),GS(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function iZe(e,t,r){var a=it(2052);return a.write_shift(4,e),GS(t,a),GS(r,a),a.length>a.l?a.slice(0,a.l):a}function oZe(e,t,r){var a={};a.NumberFmt=[];for(var n in Pr)a.NumberFmt[n]=Pr[n];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return Vu(e,function(c,d,u){switch(u){case 44:a.NumberFmt[c[0]]=c[1],pu(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=QS(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),a}function lZe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(pt(e,615,Mc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&pt(e,44,QJe(n,t[n]))}),pt(e,616))}}function cZe(e){var t=1;pt(e,611,Mc(t)),pt(e,43,ZJe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),pt(e,612)}function dZe(e){var t=2;pt(e,603,Mc(t)),pt(e,45,RV({patternType:"none"})),pt(e,45,RV({patternType:"gray125"})),pt(e,604)}function uZe(e){var t=1;pt(e,613,Mc(t)),pt(e,46,aZe()),pt(e,614)}function hZe(e){var t=1;pt(e,626,Mc(t)),pt(e,47,wae({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),pt(e,627)}function mZe(e,t){pt(e,617,Mc(t.length)),t.forEach(function(r){pt(e,47,wae(r,0))}),pt(e,618)}function fZe(e){var t=1;pt(e,619,Mc(t)),pt(e,48,nZe({xfId:0,builtinId:0,name:"Normal"})),pt(e,620)}function pZe(e){var t=0;pt(e,505,Mc(t)),pt(e,506)}function xZe(e){var t=0;pt(e,508,iZe(t,"TableStyleMedium9","PivotStyleMedium4")),pt(e,509)}function gZe(e,t){var r=Vo();return pt(r,278),lZe(r,e.SSF),cZe(r),dZe(r),uZe(r),hZe(r),mZe(r,t.cellXfs),fZe(r),pZe(r),xZe(r),pt(r,279),r.end()}var vZe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function yZe(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(Xi)||[]).forEach(function(n){var i=Lr(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[vZe.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function bZe(){}function wZe(){}var jZe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,NZe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,SZe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kZe(e,t,r){t.themeElements={};var a;[["clrScheme",jZe,yZe],["fontScheme",NZe,bZe],["fmtScheme",SZe,wZe]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var CZe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function jae(e,t){(!e||e.length===0)&&(e=nF());var r,a={};if(!(r=e.match(CZe)))throw new Error("themeElements not found in theme");return kZe(r[0],a,t),a.raw=e,a}function nF(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[gn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function AZe(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=fse(i,{type:"array"})}catch{return}var l=nl(o,"theme/theme/theme1.xml",!0);if(l)return jae(l,r)}}function EZe(e){return e.read_shift(4)}function PZe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=TZe(e,4);break;case 2:t.xclrValue=tae(e);break;case 3:t.xclrValue=EZe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function TZe(e,t){return Yi(e,t)}function _Ze(e,t){return Yi(e,t)}function DZe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=PZe(e);break;case 6:a[1]=_Ze(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function OZe(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(DZe(e,r-e.l));return{ixfe:a,ext:i}}function IZe(e,t){t.forEach(function(r){switch(r[0]){}})}function RZe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Hi(e)}}function FZe(e){var t=it(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),oi(e.name,t),t.slice(0,t.l)}function MZe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function LZe(e){var t=it(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function $Ze(e,t){var r=it(8+2*t.length);return r.write_shift(4,e),oi(t,r),r.slice(0,r.l)}function BZe(e){return e.l+=4,e.read_shift(4)!=0}function UZe(e,t){var r=it(8);return r.write_shift(4,e),r.write_shift(4,1),r}function VZe(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],o=!1,l=2;return Vu(e,function(c,d,u){switch(u){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):l==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),a}function zZe(){var e=Vo();return pt(e,332),pt(e,334,Mc(1)),pt(e,335,FZe({name:"XLDAPR",version:12e4,flags:3496657072})),pt(e,336),pt(e,339,$Ze(1,"XLDAPR")),pt(e,52),pt(e,35,Mc(514)),pt(e,4096,Mc(0)),pt(e,4097,Tl(1)),pt(e,36),pt(e,53),pt(e,340),pt(e,337,UZe(1)),pt(e,51,LZe([[1,0]])),pt(e,338),pt(e,333),e.end()}function WZe(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,o;return e.replace(Xi,function(l){var c=Lr(l);switch(Vd(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),a}function Nae(){var e=[gn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function HZe(e){var t=[];if(!e)return t;var r=1;return(e.match(Xi)||[]).forEach(function(a){var n=Lr(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function qZe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Fr(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function GZe(e,t,r){var a=[];return Vu(e,function(i,o,l){switch(l){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function KZe(e,t,r,a){if(!e)return e;var n=a||{},i=!1;Vu(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function YZe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ox=1024;function Sae(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[Et("xml",null,{"xmlns:v":tl.v,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:mv":tl.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Ox<e*1e3;)Ox+=1e3;return t.forEach(function(i){var o=Va(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Et("v:fill",c,l),u={on:"t",obscured:"t"};++Ox,n=n.concat(["<v:shape"+dw({id:"_x0000_s"+Ox,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Et("v:shadow",null,u),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),xi("x:AutoFill","False"),xi("x:Row",String(o.r)),xi("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function FV(e,t,r,a){var n=Array.isArray(e),i;t.forEach(function(o){var l=Va(o.ref);if(n?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},n?e[l.r][l.c]=i:e[o.ref]=i;var c=Ps(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=es(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&a){for(h=0;h<a.length;++h)if(u.a==a[h].id){u.a=a[h].name||u.a;break}}i.c.push(u)})}function XZe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Lr(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Va(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&rF(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function kae(e){var t=[gn,Et("comments",null,{xmlns:Cp[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=Zs(n.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=r.indexOf(Zs(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(xi("t",Zs(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(xi("t",Zs(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function QZe(e,t){var r=[],a=!1,n={},i=0;return e.replace(Xi,function(l,c){var d=Lr(l);switch(Vd(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function JZe(e,t,r){var a=[gn,Et("ThreadedComments",null,{xmlns:zn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(Et("threadedComment",xi("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function ZZe(e,t){var r=[],a=!1;return e.replace(Xi,function(i){var o=Lr(i);switch(Vd(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function eet(e){var t=[gn,Et("personList",null,{xmlns:zn.TCMNT,"xmlns:x":Cp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(Et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function tet(e){var t={};t.iauthor=e.read_shift(4);var r=Tp(e);return t.rfx=r.s,t.ref=Fr(r.s),e.l+=16,t}function ret(e,t){return t==null&&(t=it(36)),t.write_shift(4,e[1].iauthor),K0(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var set=Hi;function aet(e){return oi(e.slice(0,54))}function net(e,t){var r=[],a=[],n={},i=!1;return Vu(e,function(l,c,d){switch(d){case 632:a.push(l);break;case 635:n=l;break;case 637:n.t=l.t,n.h=l.h,n.r=l.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function iet(e){var t=Vo(),r=[];return pt(t,628),pt(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),pt(t,632,aet(n.a)))})}),pt(t,631),pt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:Va(a[0]),e:Va(a[0])};pt(t,635,ret([i,n])),n.t&&n.t.length>0&&pt(t,637,EYe(n)),pt(t,636),delete n.iauthor})}),pt(t,634),pt(t,629),t.end()}var oet="application/vnd.ms-office.vbaProject";function cet(e){var t=gr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");gr.utils.cfb_add(t,n,e.FileIndex[a].content)}}),gr.write(t)}function det(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&gr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var Cae=["xlsb","xlsm","xlam","biff8","xla"];function uet(){return{"!type":"dialog"}}function het(){return{"!type":"dialog"}}function met(){return{"!type":"macro"}}function fet(){return{"!type":"macro"}}var eg=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,n+(l?"":"$")+Ua(u)+(c?"":"$")+fn(d)}return function(n,i){return t=i,n.replace(e,r)}}(),iF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,oF=function(){return function(t,r){return t.replace(iF,function(a,n,i,o,l,c){var d=G3(o)-(i?0:r.c),u=q3(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return n+"R"+h+"C"+m})}}();function Aae(e,t){return e.replace(iF,function(r,a,n,i,o,l){return a+(n=="$"?n+i:Ua(G3(i)+t.c))+(o=="$"?o+l:fn(q3(l)+t.r))})}function pet(e,t,r){var a=qo(t),n=a.s,i=Va(r),o={r:i.r-n.r,c:i.c-n.c};return Aae(e,o)}function xet(e){return e.length!=1}function MV(e){return e.replace(/_xlfn\./g,"")}function yn(e){e.l+=1}function hm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Eae(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return Pae(e);r.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),o=hm(e),l=hm(e);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Pae(e){var t=hm(e),r=hm(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function get(e,t,r){if(r.biff<8)return Pae(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),i=hm(e),o=hm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function Tae(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return vet(e);var a=e.read_shift(r&&r.biff==12?4:2),n=hm(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function vet(e){var t=hm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function yet(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bet(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return wet(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;n>524287;)n-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:o,rRel:l}}function wet(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function jet(e,t,r){var a=(e[e.l++]&96)>>5,n=Eae(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function Net(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Eae(e,i,r);return[a,n,o]}function ket(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function Cet(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function Aet(e,t,r){var a=(e[e.l++]&96)>>5,n=get(e,t-1,r);return[a,n]}function Eet(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function LV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Pet(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function Tet(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function _et(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function Det(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Oet(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function _ae(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Iet(e){return e.read_shift(2),_ae(e)}function Ret(e){return e.read_shift(2),_ae(e)}function Fet(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=Tae(e,0,r);return[a,n]}function Met(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=bet(e,0,r);return[a,n]}function Let(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Tae(e,0,r);return[a,n,i]}function $et(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[Vtt[n],Iae[n],a]}function Bet(e,t,r){var a=e[e.l++],n=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:Uet(e);return[n,(i[0]===0?Iae:Utt)[i[1]]]}function Uet(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Vet(e,t,r){e.l+=r&&r.biff==2?3:4}function zet(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Wet(e){return e.l++,zu[e.read_shift(1)]}function Het(e){return e.l++,e.read_shift(2)}function qet(e){return e.l++,e.read_shift(1)!==0}function Get(e){return e.l++,Ui(e)}function Ket(e,t,r){return e.l++,fj(e,t-1,r)}function Yet(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=nn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ui(e);break;case 2:r[1]=_p(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Xet(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?Tp:yA)(e));return n}function Qet(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=n;++l)o[i][l]=Yet(e,r.biff);return o}function Jet(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Zet(e,t,r){if(r.biff==5)return ett(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function ett(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function ttt(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function rtt(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function stt(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function att(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var ntt=Yi,itt=Yi,ott=Yi;function xj(e,t,r){return e.l+=2,[yet(e)]}function lF(e){return e.l+=6,[]}var ltt=xj,ctt=lF,dtt=lF,utt=xj;function Dae(e){return e.l+=2,[Nn(e),e.read_shift(2)&1]}var htt=xj,mtt=Dae,ftt=lF,ptt=xj,xtt=xj,gtt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vtt(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),o=gtt[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:n,C:i}}function ytt(e){return e.l+=2,[e.read_shift(4)]}function btt(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function wtt(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jtt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ntt(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Stt(e){return e.l+=4,[0,0]}var $V={1:{n:"PtgExp",f:zet},2:{n:"PtgTbl",f:ott},3:{n:"PtgAdd",f:yn},4:{n:"PtgSub",f:yn},5:{n:"PtgMul",f:yn},6:{n:"PtgDiv",f:yn},7:{n:"PtgPower",f:yn},8:{n:"PtgConcat",f:yn},9:{n:"PtgLt",f:yn},10:{n:"PtgLe",f:yn},11:{n:"PtgEq",f:yn},12:{n:"PtgGe",f:yn},13:{n:"PtgGt",f:yn},14:{n:"PtgNe",f:yn},15:{n:"PtgIsect",f:yn},16:{n:"PtgUnion",f:yn},17:{n:"PtgRange",f:yn},18:{n:"PtgUplus",f:yn},19:{n:"PtgUminus",f:yn},20:{n:"PtgPercent",f:yn},21:{n:"PtgParen",f:yn},22:{n:"PtgMissArg",f:yn},23:{n:"PtgStr",f:Ket},26:{n:"PtgSheet",f:btt},27:{n:"PtgEndSheet",f:wtt},28:{n:"PtgErr",f:Wet},29:{n:"PtgBool",f:qet},30:{n:"PtgInt",f:Het},31:{n:"PtgNum",f:Get},32:{n:"PtgArray",f:Eet},33:{n:"PtgFunc",f:$et},34:{n:"PtgFuncVar",f:Bet},35:{n:"PtgName",f:Jet},36:{n:"PtgRef",f:Fet},37:{n:"PtgArea",f:jet},38:{n:"PtgMemArea",f:ttt},39:{n:"PtgMemErr",f:ntt},40:{n:"PtgMemNoMem",f:itt},41:{n:"PtgMemFunc",f:rtt},42:{n:"PtgRefErr",f:stt},43:{n:"PtgAreaErr",f:ket},44:{n:"PtgRefN",f:Met},45:{n:"PtgAreaN",f:Aet},46:{n:"PtgMemAreaN",f:jtt},47:{n:"PtgMemNoMemN",f:Ntt},57:{n:"PtgNameX",f:Zet},58:{n:"PtgRef3d",f:Let},59:{n:"PtgArea3d",f:Net},60:{n:"PtgRefErr3d",f:att},61:{n:"PtgAreaErr3d",f:Cet},255:{}},ktt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ctt={1:{n:"PtgElfLel",f:Dae},2:{n:"PtgElfRw",f:ptt},3:{n:"PtgElfCol",f:ltt},6:{n:"PtgElfRwV",f:xtt},7:{n:"PtgElfColV",f:utt},10:{n:"PtgElfRadical",f:htt},11:{n:"PtgElfRadicalS",f:ftt},13:{n:"PtgElfColS",f:ctt},15:{n:"PtgElfColSV",f:dtt},16:{n:"PtgElfRadicalLel",f:mtt},25:{n:"PtgList",f:vtt},29:{n:"PtgSxName",f:ytt},255:{}},Att={0:{n:"PtgAttrNoop",f:Stt},1:{n:"PtgAttrSemi",f:Oet},2:{n:"PtgAttrIf",f:_et},4:{n:"PtgAttrChoose",f:Pet},8:{n:"PtgAttrGoto",f:Tet},16:{n:"PtgAttrSum",f:Vet},32:{n:"PtgAttrBaxcel",f:LV},33:{n:"PtgAttrBaxcel",f:LV},64:{n:"PtgAttrSpace",f:Iet},65:{n:"PtgAttrSpaceSemi",f:Ret},128:{n:"PtgAttrIfError",f:Det},255:{}};function gj(e,t,r,a){if(a.biff<8)return Yi(e,t);for(var n=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Qet(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Xet(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=n-e.l,t!==0&&i.push(Yi(e,t)),i}function vj(e,t,r){for(var a=e.l+t,n,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],n=$V[i]||$V[ktt[i]],(i===24||i===25)&&(n=(i===24?Ctt:Att)[e[e.l+1]]),!n||!n.f?Yi(e,t):o.push([n.n,n.f(e,t,r)]);return o}function Ett(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var Ptt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ttt(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Oae(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function BV(e,t,r){var a=Oae(e,t,r);return a=="#REF"?a:Ttt(a,r)}function Mi(e,t,r,a,n){var i=n&&n.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,h=0,m=0,p,g="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",w=0,b=e[0].length;w<b;++w){var v=e[0][w];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=Ja(" ",e[0][x][1][1]);break;case 1:y=Ja("\r",e[0][x][1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}d=d+y,x=-1}l.push(d+Ptt[v[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Iy(v[1][1],o,n),l.push(Ry(u,i));break;case"PtgRefN":u=r?Iy(v[1][1],r,n):v[1][1],l.push(Ry(u,i));break;case"PtgRef3d":h=v[1][1],u=Iy(v[1][2],o,n),g=BV(a,h,n),l.push(g+"!"+Ry(u,i));break;case"PtgFunc":case"PtgFuncVar":var N=v[1][0],j=v[1][1];N||(N=0),N&=127;var k=N==0?[]:l.slice(-N);l.length-=N,j==="User"&&(j=k.shift()),l.push(j+"("+k.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":p=pV(v[1][1],r?{s:r}:o,n),l.push(GP(p,n));break;case"PtgArea":p=pV(v[1][1],o,n),l.push(GP(p,n));break;case"PtgArea3d":h=v[1][1],p=v[1][2],g=BV(a,h,n),l.push(g+"!"+GP(p,n));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=v[1][2];var S=(a.names||[])[m-1]||(a[0]||[])[m],C=S?S.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!n.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var A=v[1][1];m=v[1][2];var E;if(n.biff<=5)A<0&&(A=-A),a[A]&&(E=a[A][m]);else{var D="";if(((a[A]||[])[0]||[])[0]==14849||(((a[A]||[])[0]||[])[0]==1025?a[A][m]&&a[A][m].itab>0&&(D=a.SheetNames[a[A][m].itab-1]+"!"):D=a.SheetNames[m-1]+"!"),a[A]&&a[A][m])D+=a[A][m].Name;else if(a[0]&&a[0][m])D+=a[0][m].Name;else{var P=(Oae(a,A,n)||"").split(";;");P[m-1]?D=P[m-1]:D+="SH33TJSERRX"}l.push(D);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var T="(",_=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:T=Ja(" ",e[0][x][1][1])+T;break;case 3:T=Ja("\r",e[0][x][1][1])+T;break;case 4:_=Ja(" ",e[0][x][1][1])+_;break;case 5:_=Ja("\r",e[0][x][1][1])+_;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(T+l.pop()+_);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:v[1][1],r:v[1][0]};var O={c:r.c,r:r.r};if(a.sharedf[Fr(u)]){var F=a.sharedf[Fr(u)];l.push(Mi(F,o,O,a,n))}else{var I=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Mi(d[1],o,O,a,n)),I=!0;break}I||l.push(v[1])}break;case"PtgArray":l.push("{"+Ett(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var R=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&x>=0&&R.indexOf(e[0][w][0])==-1){v=e[0][x];var L=!0;switch(v[1][0]){case 4:L=!1;case 0:y=Ja(" ",v[1][1]);break;case 5:L=!1;case 1:y=Ja("\r",v[1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((L?y:"")+l.pop()+(L?"":y)),x=-1}}if(l.length>1&&n.WTF)throw new Error("bad formula stack");return l[0]}function _tt(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,o=e.read_shift(n);if(o==65535)return[[],Yi(e,t-2)];var l=vj(e,o,r);return t!==o+n&&(i=gj(e,t-o-n,l,r)),e.l=a,[l,i]}function Dtt(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,o=e.read_shift(n);if(o==65535)return[[],Yi(e,t-2)];var l=vj(e,o,r);return t!==o+n&&(i=gj(e,t-o-n,l,r)),e.l=a,[l,i]}function Ott(e,t,r,a){var n=e.l+t,i=vj(e,a,r),o;return n!==e.l&&(o=gj(e,n-e.l,i,r)),[i,o]}function Itt(e,t,r){var a=e.l+t,n,i=e.read_shift(2),o=vj(e,i,r);return i==65535?[[],Yi(e,t-2)]:(t!==i+2&&(n=gj(e,a-i-2,o,r)),[o,n])}function Rtt(e){var t;if(ou(e,e.l+6)!==65535)return[Ui(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Ftt(e){if(e==null){var t=it(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return cp(e);return cp(0)}function JP(e,t,r){var a=e.l+t,n=zd(e);r.biff==2&&++e.l;var i=Rtt(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Dtt(e,a-e.l,r);return{cell:n,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Mtt(e,t,r,a,n){var i=up(t,r,n),o=Ftt(e.v),l=it(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=it(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var h=ai([i,o,l,d]);return h}function bA(e,t,r){var a=e.read_shift(4),n=vj(e,a,r),i=e.read_shift(4),o=i>0?gj(e,i,n,r):null;return[n,o]}var Ltt=bA,wA=bA,$tt=bA,Btt=bA,Utt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Iae={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Vtt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function ztt(e){var t="of:="+e.replace(iF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function ZP(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Wtt(e){return e.replace(/\./,"!")}var My={},tg={},Ly=typeof Map<"u";function cF(e,t,r){var a=0,n=e.length;if(r){if(Ly?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ly?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(Ly?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function jA(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Bi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=pw(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=JS(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function $f(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Rm(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){pu(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Rae(e,t,r,a,n,i){try{a.cellNF&&(e.z=Pr[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Aa(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Pr[t]==null&&pu($Ke[t]||"General",t),e.t==="e")e.w=e.w||zu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=lw(e.v);else if(e.t==="d"){var o=Kn(e.v);(o|0)===o?e.w=o.toString(10):e.w=lw(o)}else{if(e.v===void 0)return"";e.w=op(e.v,tg)}else e.t==="d"?e.w=Jl(t,Kn(e.v),tg):e.w=Jl(t,e.v,tg)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=QS(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=QS(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function Htt(e,t,r){if(e&&e["!ref"]){var a=Ps(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function qtt(e,t){var r=Ps(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=es(r))}var Gtt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Ktt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Ytt=/<(?:\w:)?hyperlink [^>]*>/mg,Xtt=/"(\w*:\w*)"/,Qtt=/<(?:\w:)?col\b[^>]*[\/]?>/g,Jtt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ztt=/<(?:\w:)?pageMargins[^>]*\/>/g,Fae=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ert=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,trt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function rrt(e,t,r,a,n,i,o){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=e.match(Ktt);h?(d=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):d=u=e;var m=d.match(Fae);m?dF(m[0],l,n,r):(m=d.match(ert))&&art(m[0],m[1]||"",l,n,r);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=d.slice(p,p+50).match(Xtt);g&&qtt(l,g[1])}var x=d.match(trt);x&&x[1]&&grt(x[1],n);var y=[];if(t.cellStyles){var w=d.match(Qtt);w&&hrt(y,w)}h&&brt(h[1],l,t,c,i,o);var b=u.match(Jtt);b&&(l["!autofilter"]=frt(b[0]));var v=[],N=u.match(Gtt);if(N)for(p=0;p!=N.length;++p)v[p]=Ps(N[p].slice(N[p].indexOf('"')+1));var j=u.match(Ytt);j&&crt(l,j,a);var k=u.match(Ztt);if(k&&(l["!margins"]=drt(Lr(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=es(c)),t.sheetRows>0&&l["!ref"]){var S=Ps(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=es(S))}return y.length>0&&(l["!cols"]=y),v.length>0&&(l["!merges"]=v),l}function srt(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+es(e[r])+'"/>';return t+"</mergeCells>"}function dF(e,t,r,a){var n=Lr(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=Es(oa(n.codeName)))}function art(e,t,r,a,n){dF(e.slice(0,e.indexOf(">")),r,a,n)}function nrt(e,t,r,a,n){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=yd(Zs(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Et("outlinePr",null,d)}!i&&!l||(n[n.length]=Et("sheetPr",l,o))}var irt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ort=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lrt(e){var t={sheet:1};return irt.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),ort.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=sF(e.password).toString(16).toUpperCase()),Et("sheetProtection",null,t)}function crt(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=Lr(oa(t[n]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Es(i.location))):(i.Target="#"+Es(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Ps(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Fr({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function drt(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function urt(e){return $f(e),Et("pageMargins",null,e)}function hrt(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=Lr(t[a],!0);n.hidden&&(n.hidden=Sa(n.hidden));var i=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,aF(n.width)),um(n);i<=o;)e[i++]=Ea(n)}}function mrt(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=Et("col",null,jA(n,a)));return r[r.length]="</cols>",r.join("")}function frt(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function prt(e,t,r,a){var n=typeof e.ref=="string"?e.ref:es(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=qo(n);o.s.r==o.e.r&&(o.e.r=qo(t["!ref"]).e.r,n=es(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),Et("autoFilter",null,{ref:n})}var xrt=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function grt(e,t){t.Views||(t.Views=[{}]),(e.match(xrt)||[]).forEach(function(r,a){var n=Lr(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),Sa(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function vrt(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,n),{})}function yrt(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=zu[e.v];break;case"d":a&&a.cellDates?n=Aa(e.v,-1).toISOString():(e=Ea(e),e.t="n",n=""+(e.v=Kn(Aa(e.v)))),typeof e.z>"u"&&(e.z=Pr[14]);break;default:n=e.v;break}var l=xi("v",Zs(n)),c={r:t},d=Rm(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=xi("v",""+cF(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Et("f",Zs(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Et("c",l,c)}var brt=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=cw("v"),o=cw("f");return function(c,d,u,h,m,p){for(var g=0,x="",y=[],w=[],b=0,v=0,N=0,j="",k,S,C=0,A=0,E,D,P=0,T=0,_=Array.isArray(p.CellXf),O,F=[],I=[],R=Array.isArray(d),L=[],H={},W=!1,M=!!u.sheetStubs,G=c.split(t),V=0,q=G.length;V!=q;++V){x=G[V].trim();var Y=x.length;if(Y!==0){var U=0;e:for(g=0;g<Y;++g)switch(x[g]){case">":if(x[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(S=Lr(x.slice(U,g),!0),C=S.r!=null?parseInt(S.r,10):C+1,A=-1,u.sheetRows&&u.sheetRows<C)continue;H={},W=!1,S.ht&&(W=!0,H.hpt=parseFloat(S.ht),H.hpx=l0(H.hpt)),S.hidden=="1"&&(W=!0,H.hidden=!0),S.outlineLevel!=null&&(W=!0,H.level=+S.outlineLevel),W&&(L[C-1]=H)}break;case"<":U=g;break}if(U>=g)break;if(S=Lr(x.slice(U,g),!0),C=S.r!=null?parseInt(S.r,10):C+1,A=-1,!(u.sheetRows&&u.sheetRows<C)){h.s.r>C-1&&(h.s.r=C-1),h.e.r<C-1&&(h.e.r=C-1),u&&u.cellStyles&&(H={},W=!1,S.ht&&(W=!0,H.hpt=parseFloat(S.ht),H.hpx=l0(H.hpt)),S.hidden=="1"&&(W=!0,H.hidden=!0),S.outlineLevel!=null&&(W=!0,H.level=+S.outlineLevel),W&&(L[C-1]=H)),y=x.slice(g).split(e);for(var Z=0;Z!=y.length&&y[Z].trim().charAt(0)=="<";++Z);for(y=y.slice(Z),g=0;g!=y.length;++g)if(x=y[g].trim(),x.length!==0){if(w=x.match(r),b=g,v=0,N=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,w!=null&&w.length===2){for(b=0,j=w[1],v=0;v!=j.length&&!((N=j.charCodeAt(v)-64)<1||N>26);++v)b=26*b+N;--b,A=b}else++A;for(v=0;v!=x.length&&x.charCodeAt(v)!==62;++v);if(++v,S=Lr(x.slice(0,v),!0),S.r||(S.r=Fr({r:C-1,c:A})),j=x.slice(v),k={t:""},(w=j.match(i))!=null&&w[1]!==""&&(k.v=Es(w[1])),u.cellFormula){if((w=j.match(o))!=null&&w[1]!==""){if(k.f=Es(oa(w[1])).replace(/\r\n/g,`
`),u.xlfn||(k.f=MV(k.f)),w[0].indexOf('t="array"')>-1)k.F=(j.match(n)||[])[1],k.F.indexOf(":")>-1&&F.push([Ps(k.F),k.F]);else if(w[0].indexOf('t="shared"')>-1){D=Lr(w[0]);var J=Es(oa(w[1]));u.xlfn||(J=MV(J)),I[parseInt(D.si,10)]=[D,J,S.r]}}else(w=j.match(/<f[^>]*\/>/))&&(D=Lr(w[0]),I[D.si]&&(k.f=pet(I[D.si][1],I[D.si][2],S.r)));var K=Va(S.r);for(v=0;v<F.length;++v)K.r>=F[v][0].s.r&&K.r<=F[v][0].e.r&&K.c>=F[v][0].s.c&&K.c<=F[v][0].e.c&&(k.F=F[v][1])}if(S.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(M)k.t="z";else continue;else k.t=S.t||"n";switch(h.s.c>A&&(h.s.c=A),h.e.c<A&&(h.e.c=A),k.t){case"n":if(k.v==""||k.v==null){if(!M)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!M)continue;k.t="z"}else E=My[parseInt(k.v,10)],k.v=E.t,k.r=E.r,u.cellHTML&&(k.h=E.h);break;case"str":k.t="s",k.v=k.v!=null?oa(k.v):"",u.cellHTML&&(k.h=V3(k.v));break;case"inlineStr":w=j.match(a),k.t="s",w!=null&&(E=rF(w[1]))?(k.v=E.t,u.cellHTML&&(k.h=E.h)):k.v="";break;case"b":k.v=Sa(k.v);break;case"d":u.cellDates?k.v=Aa(k.v,1):(k.v=Kn(Aa(k.v,1)),k.t="n");break;case"e":(!u||u.cellText!==!1)&&(k.w=k.v),k.v=Lse[k.v];break}if(P=T=0,O=null,_&&S.s!==void 0&&(O=p.CellXf[S.s],O!=null&&(O.numFmtId!=null&&(P=O.numFmtId),u.cellStyles&&O.fillId!=null&&(T=O.fillId))),Rae(k,P,T,u,m,p),u.cellDates&&_&&k.t=="n"&&H0(Pr[P])&&(k.t="d",k.v=vA(k.v)),S.cm&&u.xlmeta){var se=(u.xlmeta.Cell||[])[+S.cm-1];se&&se.type=="XLDAPR"&&(k.D=!0)}if(R){var B=Va(S.r);d[B.r]||(d[B.r]=[]),d[B.r][B.c]=k}else d[S.r]=k}}}}L.length>0&&(d["!rows"]=L)}}();function wrt(e,t,r,a){var n=[],i=[],o=Ps(e["!ref"]),l="",c,d="",u=[],h=0,m=0,p=e["!rows"],g=Array.isArray(e),x={r:d},y,w=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=Ua(m);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=fn(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var b=g?(e[h]||[])[m]:e[c];b!==void 0&&(l=yrt(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[h])&&(x={r:d},p&&p[h]&&(y=p[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=xw(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),n[n.length]=Et("row",i.join(""),x))}if(p)for(;h<p.length;++h)p&&p[h]&&(x={r:h+1},y=p[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=xw(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level),n[n.length]=Et("row","",x));return n.join("")}function Mae(e,t,r,a){var n=[gn,Et("worksheet",null,{xmlns:Cp[0],"xmlns:r":zn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Ps(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=es(u)}a||(a={}),c["!comments"]=[];var h=[];nrt(c,r,e,t,n),n[n.length]=Et("dimension",null,{ref:d}),n[n.length]=vrt(c,t,e,r),t.sheetFormat&&(n[n.length]=Et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=mrt(c,c["!cols"])),n[o=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=wrt(c,t),l.length>0&&(n[n.length]=l)),n.length>o+1&&(n[n.length]="</sheetData>",n[o]=n[o].replace("/>",">")),c["!protect"]&&(n[n.length]=lrt(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=prt(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=srt(c["!merges"]));var m=-1,p,g=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(p={ref:x[0]},x[1].Target.charAt(0)!="#"&&(g=Xs(a,-1,Zs(x[1].Target).replace(/#.*$/,""),ps.HLINK),p["r:id"]="rId"+g),(m=x[1].Target.indexOf("#"))>-1&&(p.location=Zs(x[1].Target.slice(m+1))),x[1].Tooltip&&(p.tooltip=Zs(x[1].Tooltip)),n[n.length]=Et("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=urt(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=xi("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(g=Xs(a,-1,"../drawings/drawing"+(e+1)+".xml",ps.DRAW),n[n.length]=Et("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=h),c["!comments"].length>0&&(g=Xs(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ps.VML),n[n.length]=Et("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function jrt(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}function Nrt(e,t,r){var a=it(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=xw(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;n.level&&(o|=n.level),n.hidden&&(o|=16),(n.hpx||n.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,m=-1,p=u<<10;p<u+1<<10;++p){d.c=p;var g=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Fr(d)];g&&(h<0&&(h=p),m=p)}h<0||(++l,a.write_shift(4,h),a.write_shift(4,m))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function Srt(e,t,r,a){var n=Nrt(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&pt(e,0,n)}var krt=Tp,Crt=K0;function Art(){}function Ert(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=PYe(e),r}function Prt(e,t,r){r==null&&(r=it(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return KS({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Ose(e,r),r.slice(0,r.l)}function Trt(e){var t=ac(e);return[t]}function _rt(e,t,r){return r==null&&(r=it(8)),Ap(t,r)}function Drt(e){var t=Ep(e);return[t]}function Ort(e,t,r){return r==null&&(r=it(4)),Pp(t,r)}function Irt(e){var t=ac(e),r=e.read_shift(1);return[t,r,"b"]}function Rrt(e,t,r){return r==null&&(r=it(9)),Ap(t,r),r.write_shift(1,e.v?1:0),r}function Frt(e){var t=Ep(e),r=e.read_shift(1);return[t,r,"b"]}function Mrt(e,t,r){return r==null&&(r=it(5)),Pp(t,r),r.write_shift(1,e.v?1:0),r}function Lrt(e){var t=ac(e),r=e.read_shift(1);return[t,r,"e"]}function $rt(e,t,r){return r==null&&(r=it(9)),Ap(t,r),r.write_shift(1,e.v),r}function Brt(e){var t=Ep(e),r=e.read_shift(1);return[t,r,"e"]}function Urt(e,t,r){return r==null&&(r=it(8)),Pp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Vrt(e){var t=ac(e),r=e.read_shift(4);return[t,r,"s"]}function zrt(e,t,r){return r==null&&(r=it(12)),Ap(t,r),r.write_shift(4,t.v),r}function Wrt(e){var t=Ep(e),r=e.read_shift(4);return[t,r,"s"]}function Hrt(e,t,r){return r==null&&(r=it(8)),Pp(t,r),r.write_shift(4,t.v),r}function qrt(e){var t=ac(e),r=Ui(e);return[t,r,"n"]}function Grt(e,t,r){return r==null&&(r=it(16)),Ap(t,r),cp(e.v,r),r}function Lae(e){var t=Ep(e),r=Ui(e);return[t,r,"n"]}function Krt(e,t,r){return r==null&&(r=it(12)),Pp(t,r),cp(e.v,r),r}function Yrt(e){var t=ac(e),r=Q3(e);return[t,r,"n"]}function Xrt(e,t,r){return r==null&&(r=it(12)),Ap(t,r),Ise(e.v,r),r}function Qrt(e){var t=Ep(e),r=Q3(e);return[t,r,"n"]}function Jrt(e,t,r){return r==null&&(r=it(8)),Pp(t,r),Ise(e.v,r),r}function Zrt(e){var t=ac(e),r=K3(e);return[t,r,"is"]}function est(e){var t=ac(e),r=Hi(e);return[t,r,"str"]}function tst(e,t,r){return r==null&&(r=it(12+4*e.v.length)),Ap(t,r),oi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function rst(e){var t=Ep(e),r=Hi(e);return[t,r,"str"]}function sst(e,t,r){return r==null&&(r=it(8+4*e.v.length)),Pp(t,r),oi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ast(e,t,r){var a=e.l+t,n=ac(e);n.r=r["!row"];var i=e.read_shift(1),o=[n,i,"b"];if(r.cellFormula){e.l+=2;var l=wA(e,a-e.l,r);o[3]=Mi(l,null,n,r.supbooks,r)}else e.l=a;return o}function nst(e,t,r){var a=e.l+t,n=ac(e);n.r=r["!row"];var i=e.read_shift(1),o=[n,i,"e"];if(r.cellFormula){e.l+=2;var l=wA(e,a-e.l,r);o[3]=Mi(l,null,n,r.supbooks,r)}else e.l=a;return o}function ist(e,t,r){var a=e.l+t,n=ac(e);n.r=r["!row"];var i=Ui(e),o=[n,i,"n"];if(r.cellFormula){e.l+=2;var l=wA(e,a-e.l,r);o[3]=Mi(l,null,n,r.supbooks,r)}else e.l=a;return o}function ost(e,t,r){var a=e.l+t,n=ac(e);n.r=r["!row"];var i=Hi(e),o=[n,i,"str"];if(r.cellFormula){e.l+=2;var l=wA(e,a-e.l,r);o[3]=Mi(l,null,n,r.supbooks,r)}else e.l=a;return o}var lst=Tp,cst=K0;function dst(e,t){return t==null&&(t=it(4)),t.write_shift(4,e),t}function ust(e,t){var r=e.l+t,a=Tp(e),n=Y3(e),i=Hi(e),o=Hi(e),l=Hi(e);e.l=r;var c={rfx:a,relId:n,loc:i,display:l};return o&&(c.Tooltip=o),c}function hst(e,t){var r=it(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));K0({s:Va(e[0]),e:Va(e[0])},r),X3("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return oi(n||"",r),oi(e[1].Tooltip||"",r),oi("",r),r.slice(0,r.l)}function mst(){}function fst(e,t,r){var a=e.l+t,n=Rse(e),i=e.read_shift(1),o=[n];if(o[2]=i,r.cellFormula){var l=Ltt(e,a-e.l,r);o[1]=l}else e.l=a;return o}function pst(e,t,r){var a=e.l+t,n=Tp(e),i=[n];if(r.cellFormula){var o=Btt(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function xst(e,t,r){r==null&&(r=it(18));var a=jA(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var $ae=["left","right","top","bottom","header","footer"];function gst(e){var t={};return $ae.forEach(function(r){t[r]=Ui(e)}),t}function vst(e,t){return t==null&&(t=it(6*8)),$f(e),$ae.forEach(function(r){cp(e[r],t)}),t}function yst(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function bst(e,t,r){r==null&&(r=it(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function wst(e){var t=it(24);return t.write_shift(4,4),t.write_shift(4,1),K0(e,t),t}function jst(e,t){return t==null&&(t=it(16*4+2)),t.write_shift(2,e.password?sF(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Nst(){}function Sst(){}function kst(e,t,r,a,n,i,o){if(!e)return e;var l=t||{};a||(a={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,g,x,y,w,b,v,N,j,k=[];l.biff=12,l["!row"]=0;var S=0,C=!1,A=[],E={},D=l.supbooks||n.supbooks||[[]];if(D.sharedf=E,D.arrayf=A,D.SheetNames=n.SheetNames||n.Sheets.map(function(R){return R.name}),!l.supbooks&&(l.supbooks=D,n.Names))for(var P=0;P<n.Names.length;++P)D[0][P+1]=n.Names[P];var T=[],_=[],O=!1;gw[16]={n:"BrtShortReal",f:Lae};var F;if(Vu(e,function(L,H,W){if(!m)switch(W){case 148:d=L;break;case 0:p=L,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),N=fn(y=p.r),l["!row"]=p.r,(L.hidden||L.hpt||L.level!=null)&&(L.hpt&&(L.hpx=l0(L.hpt)),_[L.r]=L);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:L[2]},L[2]){case"n":g.v=L[1];break;case"s":v=My[L[1]],g.v=v.t,g.r=v.r;break;case"b":g.v=!!L[1];break;case"e":g.v=L[1],l.cellText!==!1&&(g.w=zu[g.v]);break;case"str":g.t="s",g.v=L[1];break;case"is":g.t="s",g.v=L[1].t;break}if((x=o.CellXf[L[0].iStyleRef])&&Rae(g,x.numFmtId,null,l,i,o),w=L[0].c==-1?w+1:L[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=g):c[Ua(w)+N]=g,l.cellFormula){for(C=!1,S=0;S<A.length;++S){var M=A[S];p.r>=M[0].s.r&&p.r<=M[0].e.r&&w>=M[0].s.c&&w<=M[0].e.c&&(g.F=es(M[0]),C=!0)}!C&&L.length>3&&(g.f=L[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>w&&(u.s.c=w),u.e.r<p.r&&(u.e.r=p.r),u.e.c<w&&(u.e.c=w),l.cellDates&&x&&g.t=="n"&&H0(Pr[x.numFmtId])){var G=jf(g.v);G&&(g.t="d",g.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;g={t:"z",v:void 0},w=L[0].c==-1?w+1:L[0].c,l.dense?(c[y]||(c[y]=[]),c[y][w]=g):c[Ua(w)+N]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>w&&(u.s.c=w),u.e.r<p.r&&(u.e.r=p.r),u.e.c<w&&(u.e.c=w),F&&(F.type=="XLDAPR"&&(g.D=!0),F=void 0);break;case 176:k.push(L);break;case 49:F=((l.xlmeta||{}).Cell||[])[L-1];break;case 494:var V=a["!id"][L.relId];for(V?(L.Target=V.Target,L.loc&&(L.Target+="#"+L.loc),L.Rel=V):L.relId==""&&(L.Target="#"+L.loc),y=L.rfx.s.r;y<=L.rfx.e.r;++y)for(w=L.rfx.s.c;w<=L.rfx.e.c;++w)l.dense?(c[y]||(c[y]=[]),c[y][w]||(c[y][w]={t:"z",v:void 0}),c[y][w].l=L):(b=Fr({c:w,r:y}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=L);break;case 426:if(!l.cellFormula)break;A.push(L),j=l.dense?c[y][w]:c[Ua(w)+N],j.f=Mi(L[1],u,{r:p.r,c:w},D,l),j.F=es(L[0]);break;case 427:if(!l.cellFormula)break;E[Fr(L[0].s)]=L[1],j=l.dense?c[y][w]:c[Ua(w)+N],j.f=Mi(L[1],u,{r:p.r,c:w},D,l);break;case 60:if(!l.cellStyles)break;for(;L.e>=L.s;)T[L.e--]={width:L.w/256,hidden:!!(L.flags&1),level:L.level},O||(O=!0,aF(L.w/256)),um(T[L.e+1]);break;case 161:c["!autofilter"]={ref:es(L)};break;case 476:c["!margins"]=L;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),L.name&&(n.Sheets[r].CodeName=L.name),(L.above||L.left)&&(c["!outline"]={above:L.above,left:L.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),L.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!H.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=es(d||u)),l.sheetRows&&c["!ref"]){var I=Ps(c["!ref"]);l.sheetRows<=+I.e.r&&(I.e.r=l.sheetRows-1,I.e.r>u.e.r&&(I.e.r=u.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>u.e.c&&(I.e.c=u.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=es(I))}return k.length>0&&(c["!merges"]=k),T.length>0&&(c["!cols"]=T),_.length>0&&(c["!rows"]=_),c}function Cst(e,t,r,a,n,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ea(t),t.z=t.z||Pr[14],t.v=Kn(Aa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=Rm(n.cellXfs,t,n),t.l&&i["!links"].push([Fr(c),t.l]),t.c&&i["!comments"].push([Fr(c),t.c]),t.t){case"s":case"str":return n.bookSST?(l=cF(n.Strings,t.v,n.revStrings),c.t="s",c.v=l,o?pt(e,18,Hrt(t,c)):pt(e,7,zrt(t,c))):(c.t="str",o?pt(e,17,sst(t,c)):pt(e,6,tst(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?pt(e,13,Jrt(t,c)):pt(e,2,Xrt(t,c)):o?pt(e,16,Krt(t,c)):pt(e,5,Grt(t,c)),!0;case"b":return c.t="b",o?pt(e,15,Mrt(t,c)):pt(e,4,Rrt(t,c)),!0;case"e":return c.t="e",o?pt(e,14,Urt(t,c)):pt(e,3,$rt(t,c)),!0}return o?pt(e,12,Ort(t,c)):pt(e,1,_rt(t,c)),!0}function Ast(e,t,r,a){var n=Ps(t["!ref"]||"A1"),i,o="",l=[];pt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){o=fn(u),Srt(e,t,n,u);var h=!1;if(u<=n.e.r)for(var m=n.s.c;m<=n.e.c;++m){u===n.s.r&&(l[m]=Ua(m)),i=l[m]+o;var p=c?(t[u]||[])[m]:t[i];if(!p){h=!1;continue}h=Cst(e,p,u,m,a,t,h)}}pt(e,146)}function Est(e,t){!t||!t["!merges"]||(pt(e,177,dst(t["!merges"].length)),t["!merges"].forEach(function(r){pt(e,176,cst(r))}),pt(e,178))}function Pst(e,t){!t||!t["!cols"]||(pt(e,390),t["!cols"].forEach(function(r,a){r&&pt(e,60,xst(a,r))}),pt(e,391))}function Tst(e,t){!t||!t["!ref"]||(pt(e,648),pt(e,649,wst(Ps(t["!ref"]))),pt(e,650))}function _st(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=Xs(r,-1,a[1].Target.replace(/#.*$/,""),ps.HLINK);pt(e,494,hst(a,n))}}),delete t["!links"]}function Dst(e,t,r,a){if(t["!comments"].length>0){var n=Xs(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ps.VML);pt(e,551,X3("rId"+n)),t["!legacy"]=n}}function Ost(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:es(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=qo(i);l.s.r==l.e.r&&(l.e.r=qo(t["!ref"]).e.r,i=es(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),pt(e,161,K0(Ps(i))),pt(e,162)}}function Ist(e,t,r){pt(e,133),pt(e,137,bst(t,r)),pt(e,138),pt(e,134)}function Rst(e,t){t["!protect"]&&pt(e,535,jst(t["!protect"]))}function Fst(e,t,r,a){var n=Vo(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ps(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],pt(n,129),(r.vbaraw||o["!outline"])&&pt(n,147,Prt(l,o["!outline"])),pt(n,148,Crt(c)),Ist(n,o,r.Workbook),Pst(n,o),Ast(n,o,e,t),Rst(n,o),Ost(n,o,r,e),Est(n,o),_st(n,o,a),o["!margins"]&&pt(n,476,vst(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Tst(n,o),Dst(n,o,e,a),pt(n,130),n.end()}function Mst(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var n=Es((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function Lst(e,t,r,a,n,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=Mst(h);u.s.r=u.s.c=0,u.e.c=l,d=Ua(l),m[0].forEach(function(p,g){o[d+fn(g)]={t:"n",v:p,z:m[1]},c=g}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=es(u)),o}function $st(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(Fae);return l&&dF(l[0],i,n,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function Bst(e,t){e.l+=10;var r=Hi(e);return{name:r}}function Ust(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Vu(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),c.name&&(n.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var uF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Vst=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zst=[],Wst=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function VV(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Sa(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function zV(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Sa(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function Bae(e){zV(e.WBProps,uF),zV(e.CalcPr,Wst),VV(e.WBView,Vst),VV(e.Sheets,zst),tg.date1904=Sa(e.WBProps.date1904)}function Hst(e){return!e.Workbook||!e.Workbook.WBProps?"false":Sa(e.Workbook.WBProps.date1904)?"true":"false"}var qst="][*?/\\".split("");function Uae(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qst.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Gst(e,t,r){e.forEach(function(a,n){Uae(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[n]&&t[n].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Kst(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Gst(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Htt(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Yst=/<\w+:workbook/;function Xst(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},o=0;if(e.replace(Xi,function(c,d){var u=Lr(c);switch(Vd(u[0])){case"<?xml":break;case"<workbook":c.match(Yst)&&(n="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":uF.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Sa(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=oa(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Es(oa(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=oa(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Sa(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Es(oa(e.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Cp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Bae(r),r}function Vae(e){var t=[gn];t[t.length]=Et("workbook",null,{xmlns:Cp[0],"xmlns:r":zn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(uF.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Et("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Zs(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Et("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Et("definedName",Zs(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Qst(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=lD(e),r.name=Hi(e),r}function Jst(e,t){return t||(t=it(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),X3(e.strRelID,t),oi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Zst(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Hi(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function eat(e,t){t||(t=it(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Ose(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function tat(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function rat(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=TYe(e),o=$tt(e,0,r),l=Y3(e);e.l=a;var c={Name:i,Ptg:o};return n<268435455&&(c.Sheet=n),l&&(c.Comment=l),c}function sat(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],gw[16]={n:"BrtFRTArchID$",f:tat},Vu(e,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Mi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(u),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(u),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Bae(r),r.Names=i,r.supbooks=o,r}function aat(e,t){pt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};pt(e,156,Jst(n))}pt(e,144)}function nat(e,t){t||(t=it(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return oi("SheetJS",t),oi(US.version,t),oi(US.version,t),oi("7262",t),t.length>t.l?t.slice(0,t.l):t}function iat(e,t){t||(t=it(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function oat(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&i==-1&&(i=a);i>n||(pt(e,135),pt(e,158,iat(n)),pt(e,136))}}function lat(e,t){var r=Vo();return pt(r,131),pt(r,128,nat()),pt(r,153,eat(e.Workbook&&e.Workbook.WBProps||null)),oat(r,e),aat(r,e),pt(r,132),r.end()}function cat(e,t,r){return t.slice(-4)===".bin"?sat(e,r):Xst(e,r)}function dat(e,t,r,a,n,i,o,l){return t.slice(-4)===".bin"?kst(e,a,r,n,i,o,l):rrt(e,a,r,n,i,o,l)}function uat(e,t,r,a,n,i,o,l){return t.slice(-4)===".bin"?Ust(e,a,r,n,i):$st(e,a,r,n,i)}function hat(e,t,r,a,n,i,o,l){return t.slice(-4)===".bin"?met():fet()}function mat(e,t,r,a,n,i,o,l){return t.slice(-4)===".bin"?uet():het()}function fat(e,t,r,a){return t.slice(-4)===".bin"?oZe(e,r,a):YJe(e,r,a)}function pat(e,t,r){return jae(e,r)}function xat(e,t,r){return t.slice(-4)===".bin"?fJe(e,r):uJe(e,r)}function gat(e,t,r){return t.slice(-4)===".bin"?net(e,r):XZe(e,r)}function vat(e,t,r){return t.slice(-4)===".bin"?GZe(e):HZe(e)}function yat(e,t,r,a){return r.slice(-4)===".bin"?KZe(e,t,r,a):void 0}function bat(e,t,r){return t.slice(-4)===".bin"?VZe(e,t,r):WZe(e,t,r)}function wat(e,t,r){return(t.slice(-4)===".bin"?lat:Vae)(e)}function jat(e,t,r,a,n){return(t.slice(-4)===".bin"?Fst:Mae)(e,r,a,n)}function Nat(e,t,r){return(t.slice(-4)===".bin"?gZe:bae)(e,r)}function Sat(e,t,r){return(t.slice(-4)===".bin"?gJe:hae)(e,r)}function kat(e,t,r){return(t.slice(-4)===".bin"?iet:kae)(e)}function Cat(e){return(e.slice(-4)===".bin"?zZe:Nae)()}var zae=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Wae=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function mc(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(zae),i,o,l,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(Wae),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),a[l]=i[2].slice(1,i[2].length-1));return a}function Aat(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(zae),n,i,o,l;if(a)for(l=0;l!=a.length;++l)n=a[l].match(Wae),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(i+1),r[o]=n[2].slice(1,n[2].length-1));return r}var $y;function Eat(e,t){var r=$y[e]||Es(e);return r==="General"?op(t):Jl(r,t)}function Pat(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Sa(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Aa(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Es(t)]=n}function Tat(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||zu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=lw(e.v):e.w=op(e.v):e.w=Eat(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=$y[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&H0(a)){var n=jf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function _at(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=UJe[a.Pattern]||a.Pattern)}e[t.ID]=t}function Dat(e,t,r,a,n,i,o,l,c,d){var u="General",h=a.StyleID,m={};d=d||{};var p=[],g=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Sa(e);break;case"String":a.t="s",a.r=iV(Es(e)),a.v=e.indexOf("<")>-1?Es(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Aa(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Es(e):a.v<60&&(a.v=a.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=Lse[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=iV(t||e));break}if(Tat(a,u,d),d.cellFormula!==!1)if(a.Formula){var x=Es(a.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),a.f=eg(x,n),delete a.Formula,a.ArrayRange=="RC"?a.F=eg("RC:RC",n):a.ArrayRange&&(a.F=eg(a.ArrayRange,n),c.push([Ps(a.F),a.F]))}else for(g=0;g<c.length;++g)n.r>=c[g][0].s.r&&n.r<=c[g][0].e.r&&n.c>=c[g][0].s.c&&n.c<=c[g][0].e.c&&(a.F=c[g][1]);d.cellStyles&&(p.forEach(function(y){!m.patternType&&y.patternType&&(m.patternType=y.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function Oat(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function eT(e,t){var r=t||{};q0();var a=ey(z3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=oa(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=Ea(r);return o.type="string",o0.to_workbook(a,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(fe){n.indexOf("<"+fe)>=0&&(i=!0)}),i)return vnt(a,r);$y={"General Number":"General","General Date":Pr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Pr[15],"Short Date":Pr[14],"Long Time":Pr[19],"Medium Time":Pr[18],"Short Time":Pr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Pr[2],Standard:Pr[4],Percent:Pr[10],Scientific:Pr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=r.dense?[]:{},p="",g={},x={},y=mc('<Data ss:Type="String">'),w=0,b=0,v=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},k={},S="",C=0,A=[],E={},D={},P=0,T=[],_=[],O={},F=[],I,R=!1,L=[],H=[],W={},M=0,G=0,V={Sheets:[],WBProps:{date1904:!1}},q={};uw.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";l=uw.exec(a);)switch(l[3]=(Y=l[3]).toLowerCase()){case"data":if(Y=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Dat(a.slice(w,l.index),S,y,c[c.length-1][0]=="comment"?O:g,{c:b,r:v},j,F[b],x,L,r):(S="",y=mc(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(_.length>0&&(g.c=_),(!r.sheetRows||r.sheetRows>v)&&g.v!==void 0&&(r.dense?(m[v]||(m[v]=[]),m[v][b]=g):m[Ua(b)+fn(v)]=g),g.HRef&&(g.l={Target:Es(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(M=b+(parseInt(g.MergeAcross,10)|0),G=v+(parseInt(g.MergeDown,10)|0),A.push({s:{c:b,r:v},e:{c:M,r:G}})),!r.sheetStubs)g.MergeAcross?b=M+1:++b;else if(g.MergeAcross||g.MergeDown){for(var U=b;U<=M;++U)for(var Z=v;Z<=G;++Z)(U>b||Z>v)&&(r.dense?(m[Z]||(m[Z]=[]),m[Z][U]={t:"z"}):m[Ua(U)+fn(Z)]={t:"z"});b=M+1}else++b;else g=Aat(l[0]),g.Index&&(b=+g.Index-1),b<N.s.c&&(N.s.c=b),b>N.e.c&&(N.e.c=b),l[0].slice(-2)==="/>"&&++b,_=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(v<N.s.r&&(N.s.r=v),v>N.e.r&&(N.e.r=v),l[0].slice(-2)==="/>"&&(x=mc(l[0]),x.Index&&(v=+x.Index-1)),b=0,++v):(x=mc(l[0]),x.Index&&(v=+x.Index-1),W={},(x.AutoFitHeight=="0"||x.Height)&&(W.hpx=parseInt(x.Height,10),W.hpt=xw(W.hpx),H[v]=W),x.Hidden=="1"&&(W.hidden=!0,H[v]=W));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(p),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(m["!ref"]=es(N),r.sheetRows&&r.sheetRows<=N.e.r&&(m["!fullref"]=m["!ref"],N.e.r=r.sheetRows-1,m["!ref"]=es(N))),A.length&&(m["!merges"]=A),F.length>0&&(m["!cols"]=F),H.length>0&&(m["!rows"]=H),u[p]=m}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=b=0,c.push([l[3],!1]),d=mc(l[0]),p=Es(d.Name),m=r.dense?[]:{},A=[],L=[],H=[],q={name:p,Hidden:0},V.Sheets.push(q);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),F=[],R=!1}break;case"style":l[1]==="/"?_at(j,k,r):k=mc(l[0]);break;case"numberformat":k.nf=Es(mc(l[0]).Format||"General"),$y[k.nf]&&(k.nf=$y[k.nf]);for(var J=0;J!=392&&Pr[J]!=k.nf;++J);if(J==392){for(J=57;J!=392;++J)if(Pr[J]==null){pu(k.nf,J);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(I=mc(l[0]),I.Hidden&&(I.hidden=!0,delete I.Hidden),I.Width&&(I.wpx=parseInt(I.Width,10)),!R&&I.wpx>10){R=!0,Bi=vae;for(var K=0;K<F.length;++K)F[K]&&um(F[K])}R&&um(I),F[I.Index-1||F.length]=I;for(var se=0;se<+I.Span;++se)F[F.length]=Ea(I);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var B=Lr(l[0]),Ne={Name:B.Name,Ref:eg(B.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Ne.Sheet=V.Sheets.length-1),V.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=a.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=mc(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?tXe(E,Y,a.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));Oat(O),_.push(O)}else c.push([l[3],!1]),d=mc(l[0]),O={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ye=mc(l[0]);m["!autofilter"]={ref:eg(ye.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return KV(a,r);var Re=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Re=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Re=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Re=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Re=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(P,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else P=l.index+l[0].length;break;case"header":m["!margins"]||$f(m["!margins"]={},"xlml"),isNaN(+Lr(l[0]).Margin)||(m["!margins"].header=+Lr(l[0]).Margin);break;case"footer":m["!margins"]||$f(m["!margins"]={},"xlml"),isNaN(+Lr(l[0]).Margin)||(m["!margins"].footer=+Lr(l[0]).Margin);break;case"pagemargins":var qe=Lr(l[0]);m["!margins"]||$f(m["!margins"]={},"xlml"),isNaN(+qe.Top)||(m["!margins"].top=+qe.Top),isNaN(+qe.Left)||(m["!margins"].left=+qe.Left),isNaN(+qe.Right)||(m["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(m["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Re=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Re=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Re=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Re=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Re=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Re=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Re=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Re=!1}break;case"smarttags":break;default:Re=!1;break}if(Re||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Pat(D,Y,T,a.slice(P,l.index)):(T=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var He={};return!r.bookSheets&&!r.bookProps&&(He.Sheets=u),He.SheetNames=h,He.Workbook=V,He.SSF=Ea(Pr),He.Props=E,He.Custprops=D,He}function pD(e,t){switch(mF(t=t||{}),t.type||"base64"){case"base64":return eT(pl(e),t);case"binary":case"buffer":case"file":return eT(e,t);case"array":return eT(Om(e),t)}}function Iat(e,t){var r=[];return e.Props&&r.push(rXe(e.Props,t)),e.Custprops&&r.push(sXe(e.Props,e.Custprops)),r.join("")}function Rat(){return""}function Fat(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Et("NumberFormat",null,{"ss:Format":Zs(Pr[a.numFmtId])}));var o={"ss:ID":"s"+(21+n)};r.push(Et("Style",i.join(""),o))}),Et("Styles",r.join(""))}function Hae(e){return Et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+oF(e.Ref,{r:0,c:0})})}function Mat(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(Hae(n)))}return Et("Names",r.join(""))}function Lat(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],o=0;o<n.length;++o){var l=n[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Hae(l)))}return i.join("")}function $at(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Et("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(Et("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(xi("ProtectContents","True")),e["!protect"].objects&&n.push(xi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(xi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(xi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(xi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&n.push("<"+o[1]+"/>")})),n.length==0?"":Et("WorksheetOptions",n.join(""),{xmlns:tl.x})}function Bat(e){return e.map(function(t){var r=nYe(t.t||""),a=Et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",a,{"ss:Author":t.a})}).join("")}function Uat(e,t,r,a,n,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Zs(oF(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Va(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Zs(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Zs(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=zu[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Pr[14]);break;case"s":h="String",m=aYe(e.v||"");break}var p=Rm(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var g=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+h+'">'+g+"</Data>";return(e.c||[]).length>0&&(x+=Bat(e.c)),Et("Cell",x,l)}function Vat(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=l0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function zat(e,t,r,a){if(!e["!ref"])return"";var n=Ps(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,w){um(y);var b=!!y.width,v=jA(w,y),N={"ss:Index":w+1};b&&(N["ss:Width"]=fw(v.width)),y.hidden&&(N["ss:Hidden"]="1"),l.push(Et("Column",null,N))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[Vat(d,(e["!rows"]||[])[d])],h=n.s.c;h<=n.e.c;++h){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(m=!0);break}if(!m){var p={r:d,c:h},g=Fr(p),x=c?(e[d]||[])[h]:e[g];u.push(Uat(x,g,e,t,r,a,p))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Wat(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],o=i?Lat(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?zat(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push($at(i,t,e,r)),a.join("")}function Hat(e,t){t||(t={}),e.SSF||(e.SSF=Ea(Pr)),e.SSF&&(q0(),pA(e.SSF),t.revssf=gA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Rm(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Iat(e,t)),r.push(Rat()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(Et("Worksheet",Wat(a,t,e),{"ss:Name":Zs(e.SheetNames[a])}));return r[2]=Fat(e,t),r[3]=Mat(e),gn+Et("Workbook",r.join(""),{xmlns:tl.ss,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:ss":tl.ss,"xmlns:dt":tl.dt,"xmlns:html":tl.html})}function qat(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=RYe(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=FYe(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Gat=[60,1084,2066,2165,2175];function Kat(e,t,r,a,n){var i=a,o=[],l=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(l)}o.push(l),r.l+=i;for(var c=ou(r,r.l),d=xD[c],u=0;d!=null&&Gat.indexOf(c)>-1;)i=ou(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=xD[c=ou(r,r.l)];var h=ai(o);pi(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return t.f(h,h.length,n)}function Jc(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Pr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||zu[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=lw(e.v):e.w=op(e.v):e.w=Jl(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&H0(Pr[a]||String(a))){var n=jf(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function z1(e,t,r){return{v:e,ixfe:t,t:r}}function Yat(e,t){var r={opts:{}},a={},n=t.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,m="",p,g,x,y,w={},b=[],v,N,j=[],k=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},A=function(tt){return tt<8?Ff[tt]:tt<64&&k[tt-8]||Ff[tt]},E=function(tt,Bt,pr){var $t=Bt.XF.data;if(!(!$t||!$t.patternType||!pr||!pr.cellStyles)){Bt.s={},Bt.s.patternType=$t.patternType;var _t;(_t=mw(A($t.icvFore)))&&(Bt.s.fgColor={rgb:_t}),(_t=mw(A($t.icvBack)))&&(Bt.s.bgColor={rgb:_t})}},D=function(tt,Bt,pr){if(!(W>1)&&!(pr.sheetRows&&tt.r>=pr.sheetRows)){if(pr.cellStyles&&Bt.XF&&Bt.XF.data&&E(tt,Bt,pr),delete Bt.ixfe,delete Bt.XF,h=tt,m=Fr(tt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),tt.r<o.s.r&&(o.s.r=tt.r),tt.c<o.s.c&&(o.s.c=tt.c),tt.r+1>o.e.r&&(o.e.r=tt.r+1),tt.c+1>o.e.c&&(o.e.c=tt.c+1),pr.cellFormula&&Bt.f){for(var $t=0;$t<b.length;++$t)if(!(b[$t][0].s.c>tt.c||b[$t][0].s.r>tt.r)&&!(b[$t][0].e.c<tt.c||b[$t][0].e.r<tt.r)){Bt.F=es(b[$t][0]),(b[$t][0].s.c!=tt.c||b[$t][0].s.r!=tt.r)&&delete Bt.f,Bt.f&&(Bt.f=""+Mi(b[$t][1],o,tt,L,P));break}}pr.dense?(n[tt.r]||(n[tt.r]=[]),n[tt.r][tt.c]=Bt):n[m]=Bt}},P={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var T,_=[],O=[],F=[],I=[],R=!1,L=[];L.SheetNames=P.snames,L.sharedf=P.sharedf,L.arrayf=P.arrayf,L.names=[],L.XTI=[];var H=0,W=0,M=0,G=[],V=[],q;P.codepage=1200,_c(1200);for(var Y=!1;e.l<e.length-1;){var U=e.l,Z=e.read_shift(2);if(Z===0&&H===10)break;var J=e.l===e.length?0:e.read_shift(2),K=xD[Z];if(K&&K.f){if(t.bookSheets&&H===133&&Z!==133)break;if(H=Z,K.r===2||K.r==12){var se=e.read_shift(2);if(J-=2,!P.enc&&se!==Z&&((se&255)<<8|se>>8)!==Z)throw new Error("rt mismatch: "+se+"!="+Z);K.r==12&&(e.l+=10,J-=10)}var B={};if(Z===10?B=K.f(e,J,P):B=Kat(Z,K,e,J,P),W==0&&[9,521,1033,2057].indexOf(H)===-1)continue;switch(Z){case 34:r.opts.Date1904=S.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=B;break;case 66:var Ne=Number(B);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}_c(P.codepage=Ne),Y=!0;break;case 317:P.rrtabid=B;break;case 25:P.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:P.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(n["!type"]="dialog"),B.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),B.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:j.push(B);break;case 430:L.push([B]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(B);break;case 24:case 536:q={Name:B.Name,Ref:Mi(B.rgce,o,null,L,P)},B.itab>0&&(q.Sheet=B.itab-1),L.names.push(q),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(V[B.itab-1]={ref:es(B.rgce[0][0][1][2])});break;case 22:P.ExternCount=B;break;case 23:L.length==0&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(B),L.XTI=L.XTI.concat(B);break;case 2196:if(P.biff<8)break;q!=null&&(q.Comment=B[1]);break;case 18:n["!protect"]=B;break;case 19:B!==0&&P.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,P.snames.push(B.name);break;case 10:{if(--W)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=es(o),t.sheetRows&&t.sheetRows<=o.e.r){var ye=o.e.r;o.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=es(o),o.e.r=ye}o.e.r++,o.e.c++}_.length>0&&(n["!merges"]=_),O.length>0&&(n["!objects"]=O),F.length>0&&(n["!cols"]=F),I.length>0&&(n["!rows"]=I),S.Sheets.push(C)}d===""?u=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[Z]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),P.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(P.biff=5,Y=!0,_c(P.codepage=28591)),P.biff==8&&B.BIFFVer==0&&B.dt==16&&(P.biff=2),W++)break;if(n=t.dense?[]:{},P.biff<8&&!Y&&(Y=!0,_c(P.codepage=t.codepage||1252)),P.biff<5||B.BIFFVer==0&&B.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Re={pos:e.l-J,name:d};i[Re.pos]=Re,P.snames.push(d)}else d=(i[U]||{name:""}).name;B.dt==32&&(n["!type"]="chart"),B.dt==64&&(n["!type"]="macro"),_=[],O=[],P.arrayf=b=[],F=[],I=[],R=!1,C={Hidden:(i[U]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[B.r]||[])[B.c]:n[Fr({c:B.c,r:B.r})])&&++B.c,v={ixfe:B.ixfe,XF:j[B.ixfe]||{},v:B.val,t:"n"},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 5:case 517:v={ixfe:B.ixfe,XF:j[B.ixfe],v:B.val,t:B.t},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 638:v={ixfe:B.ixfe,XF:j[B.ixfe],v:B.rknum,t:"n"},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 189:for(var qe=B.c;qe<=B.C;++qe){var He=B.rkrec[qe-B.c][0];v={ixfe:He,XF:j[He],v:B.rkrec[qe-B.c][1],t:"n"},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:qe,r:B.r},v,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){l=B;break}if(v=z1(B.val,B.cell.ixfe,B.tt),v.XF=j[v.ixfe],t.cellFormula){var fe=B.formula;if(fe&&fe[0]&&fe[0][0]&&fe[0][0][0]=="PtgExp"){var Ue=fe[0][0][1][0],ie=fe[0][0][1][1],Pe=Fr({r:Ue,c:ie});w[Pe]?v.f=""+Mi(B.formula,o,B.cell,L,P):v.F=((t.dense?(n[Ue]||[])[ie]:n[Pe])||{}).F}else v.f=""+Mi(B.formula,o,B.cell,L,P)}M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D(B.cell,v,t),l=B}break;case 7:case 519:if(l)l.val=B,v=z1(B,l.cell.ixfe,"s"),v.XF=j[v.ixfe],t.cellFormula&&(v.f=""+Mi(l.formula,o,l.cell,L,P)),M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D(l.cell,v,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(B);var Te=Fr(B[0].s);if(p=t.dense?(n[B[0].s.r]||[])[B[0].s.c]:n[Te],t.cellFormula&&p){if(!l||!Te||!p)break;p.f=""+Mi(B[1],o,B[0],L,P),p.F=es(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;w[Fr(l.cell)]=B[0],p=t.dense?(n[l.cell.r]||[])[l.cell.c]:n[Fr(l.cell)],(p||{}).f=""+Mi(B[0],o,h,L,P)}}break;case 253:v=z1(c[B.isst].t,B.ixfe,"s"),c[B.isst].h&&(v.h=c[B.isst].h),v.XF=j[v.ixfe],M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 513:t.sheetStubs&&(v={ixfe:B.ixfe,XF:j[B.ixfe],t:"z"},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t));break;case 190:if(t.sheetStubs)for(var Ve=B.c;Ve<=B.C;++Ve){var Le=B.ixfe[Ve-B.c];v={ixfe:Le,XF:j[Le],t:"z"},M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:Ve,r:B.r},v,t)}break;case 214:case 516:case 4:v=z1(B.val,B.ixfe,"s"),v.XF=j[v.ixfe],M>0&&(v.z=G[v.ixfe>>8&63]),Jc(v,t,r.opts.Date1904),D({c:B.c,r:B.r},v,t);break;case 0:case 512:W===1&&(o=B);break;case 252:c=B;break;case 1054:if(P.biff==4){G[M++]=B[1];for(var de=0;de<M+163&&Pr[de]!=B[1];++de);de>=163&&pu(B[1],M+163)}else pu(B[1],B[0]);break;case 30:{G[M++]=B;for(var xe=0;xe<M+163&&Pr[xe]!=B;++xe);xe>=163&&pu(B,M+163)}break;case 229:_=_.concat(B);break;case 93:O[B.cmo[0]]=P.lastobj=B;break;case 438:P.lastobj.TxO=B;break;case 127:P.lastobj.ImData=B;break;case 440:for(y=B[0].s.r;y<=B[0].e.r;++y)for(x=B[0].s.c;x<=B[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Fr({c:x,r:y})],p&&(p.l=B[1]);break;case 2048:for(y=B[0].s.r;y<=B[0].e.r;++y)for(x=B[0].s.c;x<=B[0].e.c;++x)p=t.dense?(n[y]||[])[x]:n[Fr({c:x,r:y})],p&&p.l&&(p.l.Tooltip=B[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;p=t.dense?(n[B[0].r]||[])[B[0].c]:n[Fr(B[0])];var Ie=O[B[2]];p||(t.dense?(n[B[0].r]||(n[B[0].r]=[]),p=n[B[0].r][B[0].c]={t:"z"}):p=n[Fr(B[0])]={t:"z"},o.e.r=Math.max(o.e.r,B[0].r),o.s.r=Math.min(o.s.r,B[0].r),o.e.c=Math.max(o.e.c,B[0].c),o.s.c=Math.min(o.s.c,B[0].c)),p.c||(p.c=[]),g={a:B[1],t:Ie.TxO.t},p.c.push(g)}break;case 2173:IZe(j[B.ixfe],B.ext);break;case 125:{if(!P.cellStyles)break;for(;B.e>=B.s;)F[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},R||(R=!0,aF(B.w/256)),um(F[B.e+1])}break;case 520:{var st={};B.level!=null&&(I[B.r]=st,st.level=B.level),B.hidden&&(I[B.r]=st,st.hidden=!0),B.hpt&&(I[B.r]=st,st.hpt=B.hpt,st.hpx=l0(B.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||$f(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Z]]=B;break;case 161:n["!margins"]||$f(n["!margins"]={}),n["!margins"].header=B.header,n["!margins"].footer=B.footer;break;case 574:B.RTL&&(S.Views[0].RTL=!0);break;case 146:k=B;break;case 2198:T=B;break;case 140:N=B;break;case 442:d?C.CodeName=B||C.name:S.WBProps.CodeName=B||"ThisWorkbook";break}}else K||console.error("Missing Info for XLS Record 0x"+Z.toString(16)),e.l+=J}return r.SheetNames=rn(i).sort(function(wt,tt){return Number(wt)-Number(tt)}).map(function(wt){return i[wt].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(wt,tt){r.Sheets[r.SheetNames[tt]]["!autofilter"]=wt}),r.Strings=c,r.SSF=Ea(Pr),P.enc&&(r.Encryption=P.enc),T&&(r.Themes=T),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),L.names.length>0&&(S.Names=L.names),r.Workbook=S,r}var By={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Xat(e,t,r){var a=gr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=SV(a,cD,By.DSI);for(var i in n)t[i]=n[i]}catch(d){if(r.WTF)throw d}var o=gr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=SV(o,dD,By.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Wse(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Qat(e,t){var r=[],a=[],n=[],i=0,o,l=eV(cD,"n"),c=eV(dD,"n");if(e.Props)for(o=rn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:n).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=rn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:n).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<n.length;++i)Qse.indexOf(n[i][0])>-1||zse.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&gr.utils.cfb_add(t,"/SummaryInformation",kV(a,By.SI,c,dD)),(r.length||d.length)&&gr.utils.cfb_add(t,"/DocumentSummaryInformation",kV(r,By.DSI,l,cD,d.length?d:null,By.UDI))}function qae(e,t){t||(t={}),mF(t),I3(),t.codepage&&O3(t.codepage);var r,a;if(e.FullPaths){if(gr.find(e,"/encryption"))throw new Error("File is password-protected");r=gr.find(e,"!CompObj"),a=gr.find(e,"/Workbook")||gr.find(e,"/Book")}else{switch(t.type){case"base64":e=al(pl(e));break;case"binary":e=al(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}pi(e,0),a={content:e}}var n,i;if(r&&qat(r),t.bookProps&&!t.bookSheets)n={};else{var o=ms?"buffer":"array";if(a&&a.content)n=Yat(a.content,t);else if((i=gr.find(e,"PerfectOffice_MAIN"))&&i.content)n=Lf.to_workbook(i.content,(t.type=o,t));else if((i=gr.find(e,"NativeContent_MAIN"))&&i.content)n=Lf.to_workbook(i.content,(t.type=o,t));else throw(i=gr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&gr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=cet(e))}var l={};return e.FullPaths&&Xat(e,l,t),n.Props=n.Custprops=l,t.bookFiles&&(n.cfb=e),n}function Jat(e,t){var r=t||{},a=gr.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return gr.utils.cfb_add(a,n,Gae(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Qat(e,a),r.biff==8&&e.vbaraw&&det(a,gr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var gw={0:{f:jrt},1:{f:Trt},2:{f:Yrt},3:{f:Lrt},4:{f:Irt},5:{f:qrt},6:{f:est},7:{f:Vrt},8:{f:ost},9:{f:ist},10:{f:ast},11:{f:nst},12:{f:Drt},13:{f:Qrt},14:{f:Brt},15:{f:Frt},16:{f:Lae},17:{f:rst},18:{f:Wrt},19:{f:K3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:rat},40:{},42:{},43:{f:JJe},44:{f:XJe},45:{f:tZe},46:{f:sZe},47:{f:rZe},48:{},49:{f:NYe},50:{},51:{f:MZe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:lae},62:{f:Zrt},63:{f:qZe},64:{f:Nst},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Yi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yst},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ert},148:{f:krt,p:16},151:{f:mst},152:{},153:{f:Zst},154:{},155:{},156:{f:Qst},157:{},158:{},159:{T:1,f:mJe},160:{T:-1},161:{T:1,f:Tp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:lst},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:RZe},336:{T:-1},337:{f:BZe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fst},427:{f:pst},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gst},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Art},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ust},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:set},633:{T:1},634:{T:-1},635:{T:1,f:tet},636:{T:-1},637:{f:AYe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Bst},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Sst},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},xD={6:{f:JP},10:{f:th},12:{f:Nn},13:{f:Nn},14:{f:nn},15:{f:nn},16:{f:Ui},17:{f:nn},18:{f:nn},19:{f:Nn},20:{f:_V},21:{f:_V},23:{f:oae},24:{f:OV},25:{f:nn},26:{},27:{},28:{f:jQe},29:{},34:{f:nn},35:{f:DV},38:{f:Ui},39:{f:Ui},40:{f:Ui},41:{f:Ui},42:{f:nn},43:{f:nn},47:{f:IJe},49:{f:YXe},51:{f:Nn},60:{},61:{f:WXe},64:{f:nn},65:{f:KXe},66:{f:Nn},77:{},80:{},81:{},82:{},85:{f:Nn},89:{},90:{},91:{},92:{f:OXe},93:{f:kQe},94:{},95:{f:nn},96:{},97:{},99:{f:nn},125:{f:lae},128:{f:dQe},129:{f:RXe},130:{f:Nn},131:{f:nn},132:{f:nn},133:{f:FXe},134:{},140:{f:OQe},141:{f:Nn},144:{},146:{f:FQe},151:{},152:{},153:{},154:{},155:{},156:{f:Nn},157:{},158:{},160:{f:zQe},161:{f:$Qe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:iQe},190:{f:oQe},193:{f:th},197:{},198:{},199:{},200:{},201:{},202:{f:nn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Nn},220:{},221:{f:nn},222:{},224:{f:cQe},225:{f:DXe},226:{f:th},227:{},229:{f:NQe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:LXe},253:{f:QXe},255:{f:BXe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Jse},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:nn},353:{f:th},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pQe},431:{f:nn},432:{},433:{},434:{},437:{},438:{f:EQe},439:{f:nn},440:{f:PQe},441:{},442:{f:pj},443:{},444:{f:Nn},445:{},446:{},448:{f:th},449:{f:zXe,r:2},450:{f:th},512:{f:EV},513:{f:VQe},515:{f:mQe},516:{f:ZXe},517:{f:TV},519:{f:WQe},520:{f:UXe},523:{},545:{f:IV},549:{f:AV},566:{},574:{f:qXe},638:{f:nQe},659:{},1048:{},1054:{f:tQe},1084:{},1212:{f:yQe},2048:{f:_Qe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:B1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:th},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:MQe,r:12},2173:{f:OZe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:nn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vQe,r:12},2197:{},2198:{f:AZe,r:12},2199:{},2200:{},2201:{},2202:{f:bQe,r:12},2203:{f:th},2204:{},2205:{},2206:{},2207:{},2211:{f:VXe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Nn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:BQe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:RQe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:EV},1:{},2:{f:YQe},3:{f:GQe},4:{f:qQe},5:{f:TV},7:{f:QQe},8:{},9:{f:B1},11:{},22:{f:Nn},30:{f:sQe},31:{},32:{},33:{f:IV},36:{},37:{f:AV},50:{f:JQe},62:{},52:{},67:{},68:{f:Nn},69:{},86:{},126:{},127:{f:HQe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ZQe},223:{},234:{},354:{},421:{},518:{f:JP},521:{f:B1},536:{f:OV},547:{f:DV},561:{},579:{},1030:{f:JP},1033:{f:B1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Pt(e,t,r,a){var n=t;if(!isNaN(n)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,n),o.write_shift(2,i),i>0&&H3(r)&&e.push(r)}}function Zat(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return Pt(e,t,r,n);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function yj(e,t,r){return e||(e=it(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function ent(e,t,r,a){var n=it(9);return yj(n,e,t),Zse(r,a||"b",n),n}function tnt(e,t,r){var a=it(8+2*r.length);return yj(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function rnt(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Kn(Aa(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Pt(e,2,XQe(r,a,n)):Pt(e,3,KQe(r,a,n));return;case"b":case"e":Pt(e,5,ent(r,a,t.v,t.t));return;case"s":case"str":Pt(e,4,tnt(r,a,(t.v||"").slice(0,255)));return}Pt(e,1,yj(null,r,a))}function snt(e,t,r,a){var n=Array.isArray(t),i=Ps(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=es(i)}for(var d=i.s.r;d<=i.e.r;++d){l=fn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Ua(u)),o=c[u]+l;var h=n?(t[d]||[])[u]:t[o];h&&rnt(e,h,d,u)}}}function ant(e,t){for(var r=t||{},a=Vo(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(n=i);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Pt(a,r.biff==4?1033:r.biff==3?521:9,tF(e,16,r)),snt(a,e.Sheets[e.SheetNames[n]],n,r),Pt(a,10),a.end()}function nnt(e,t,r){Pt(e,49,XXe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function int(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Pt(e,1054,rQe(n,t[n],r))})}function ont(e,t){var r=it(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Pt(e,2151,r),r=it(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),aae(Ps(t["!ref"]||"A1"),r),r.write_shift(4,4),Pt(e,2152,r)}function lnt(e,t){for(var r=0;r<16;++r)Pt(e,224,PV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Pt(e,224,PV(a,0,t))})}function cnt(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];Pt(e,440,TQe(a)),a[1].Tooltip&&Pt(e,2048,DQe(a))}delete t["!links"]}function dnt(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&Pt(e,125,LQe(jA(n,a),n))})}}function unt(e,t,r,a,n){var i=16+Rm(n.cellXfs,t,n);if(t.v==null&&!t.bf){Pt(e,513,up(r,a,i));return}if(t.bf)Pt(e,6,Mtt(t,r,a,n,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Kn(Aa(t.v)):t.v;Pt(e,515,fQe(r,a,o,i));break;case"b":case"e":Pt(e,517,hQe(r,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var l=cF(n.Strings,t.v,n.revStrings);Pt(e,253,JXe(r,a,l,i))}else Pt(e,516,eQe(r,a,(t.v||"").slice(0,255),i,n));break;default:Pt(e,513,up(r,a,i))}}function hnt(e,t,r){var a=Vo(),n=r.SheetNames[e],i=r.Sheets[n]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,h="",m=[],p=Ps(i["!ref"]||"A1"),g=d?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}Pt(a,2057,tF(r,16,t)),Pt(a,13,Tl(1)),Pt(a,12,Tl(100)),Pt(a,15,so(!0)),Pt(a,17,so(!1)),Pt(a,16,cp(.001)),Pt(a,95,so(!0)),Pt(a,42,so(!1)),Pt(a,43,so(!1)),Pt(a,130,Tl(1)),Pt(a,128,uQe()),Pt(a,131,so(!1)),Pt(a,132,so(!1)),d&&dnt(a,i["!cols"]),Pt(a,512,aQe(p,t)),d&&(i["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){h=fn(x);for(var y=p.s.c;y<=p.e.c;++y){x===p.s.r&&(m[y]=Ua(y)),u=m[y]+h;var w=c?(i[x]||[])[y]:i[u];w&&(unt(a,w,x,y,t),d&&w.l&&i["!links"].push([u,w.l]))}}var b=l.CodeName||l.name||n;return d&&Pt(a,574,GXe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Pt(a,229,SQe(i["!merges"])),d&&cnt(a,i),Pt(a,442,eae(b)),d&&ont(a,i),Pt(a,10),a.end()}function mnt(e,t,r){var a=Vo(),n=(e||{}).Workbook||{},i=n.Sheets||[],o=n.WBProps||{},l=r.biff==8,c=r.biff==5;if(Pt(a,2057,tF(e,5,r)),r.bookType=="xla"&&Pt(a,135),Pt(a,225,l?Tl(1200):null),Pt(a,193,hXe(2)),c&&Pt(a,191),c&&Pt(a,192),Pt(a,226),Pt(a,92,IXe("SheetJS",r)),Pt(a,66,Tl(l?1200:1252)),l&&Pt(a,353,Tl(0)),l&&Pt(a,448),Pt(a,317,UQe(e.SheetNames.length)),l&&e.vbaraw&&Pt(a,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";Pt(a,442,eae(d))}Pt(a,156,Tl(17)),Pt(a,25,so(!1)),Pt(a,18,so(!1)),Pt(a,19,Tl(0)),l&&Pt(a,431,so(!1)),l&&Pt(a,444,Tl(0)),Pt(a,61,HXe()),Pt(a,64,so(!1)),Pt(a,141,Tl(0)),Pt(a,34,so(Hst(e)=="true")),Pt(a,14,so(!0)),l&&Pt(a,439,so(!1)),Pt(a,218,Tl(0)),nnt(a,e,r),int(a,e.SSF,r),lnt(a,r),l&&Pt(a,352,so(!1));var u=a.end(),h=Vo();l&&Pt(h,140,IQe()),l&&r.Strings&&Zat(h,252,$Xe(r.Strings)),Pt(h,10);var m=h.end(),p=Vo(),g=0,x=0;for(x=0;x<e.SheetNames.length;++x)g+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var y=u.length+g+m.length;for(x=0;x<e.SheetNames.length;++x){var w=i[x]||{};Pt(p,133,MXe({pos:y,hs:w.Hidden||0,dt:0,name:e.SheetNames[x]},r)),y+=t[x].length}var b=p.end();if(g!=b.length)throw new Error("BS8 "+g+" != "+b.length);var v=[];return u.length&&v.push(u),b.length&&v.push(b),m.length&&v.push(m),ai(v)}function fnt(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Ea(Pr)),e&&e.SSF&&(q0(),pA(e.SSF),r.revssf=gA(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,fF(r),r.cellXfs=[],Rm(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=hnt(n,r,e);return a.unshift(mnt(e,a,r)),ai(a)}function Gae(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=qo(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return fnt(e,t);case 4:case 3:case 2:return ant(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function WV(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=n.index,l=i&&i.index||e.length,c=XKe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var x=c[o].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var w=x.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var b=w[l].trim();if(b.match(/<t[dh]/i)){for(var v=b,N=0;v.charAt(0)=="<"&&(N=v.indexOf(">"))>-1;)v=v.slice(N+1);for(var j=0;j<g.length;++j){var k=g[j];k.s.c==u&&k.s.r<d&&d<=k.e.r&&(u=k.e.c+1,j=-1)}var S=Lr(b.slice(0,b.indexOf(">")));m=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||m>1)&&g.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var C=S.t||S["data-t"]||"";if(!v.length){u+=m;continue}if(v=gse(v),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!v.length){u+=m;continue}var A={t:"s",v};r.raw||!v.trim().length||C=="s"||(v==="TRUE"?A={t:"b",v:!0}:v==="FALSE"?A={t:"b",v:!1}:isNaN(Fc(v))?isNaN(i0(v).getDate())||(A={t:"d",v:Aa(v)},r.cellDates||(A={t:"n",v:Kn(A.v)}),A.z=r.dateNF||Pr[14]):A={t:"n",v:Fc(v)}),r.dense?(a[d]||(a[d]=[]),a[d][u]=A):a[Fr({r:d,c:u})]=A,u+=m}}}}return a["!ref"]=es(p),g.length&&(a["!merges"]=g),a}function pnt(e,t,r,a){for(var n=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>o)&&!(n[d].e.r<r||n[d].e.c<o)){if(n[d].s.r<r||n[d].s.c<o){l=-1;break}l=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(l<0)){var u=Fr({r,c:o}),h=a.dense?(e[r]||[])[o]:e[u],m=h&&h.v!=null&&(h.h||V3(h.w||(_u(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),a.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+u,i.push(Et("td",m,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var xnt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gnt="</body></html>";function vnt(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Im(WV(r[0],t),t);var a=gF();return r.forEach(function(n,i){vF(a,WV(n,t),"Sheet"+(i+1))}),a}function ynt(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Kae(e,t){var r=t||{},a=r.header!=null?r.header:xnt,n=r.footer!=null?r.footer:gnt,i=[a],o=qo(e["!ref"]);r.dense=Array.isArray(e),i.push(ynt(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(pnt(e,o,l,r));return i.push("</table>"+n),i.join("")}function Yae(e,t,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var o=typeof a.origin=="string"?Va(a.origin):a.origin;n=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=qo(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),g=0,x=0,y=0,w=0,b=0,v=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&x<c;++g){var N=l[g];if(HV(N)){if(a.display)continue;p[x]={hidden:!0}}var j=N.children;for(y=w=0;y<j.length;++y){var k=j[y];if(!(a.display&&HV(k))){var S=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):gse(k.innerHTML),C=k.getAttribute("data-z")||k.getAttribute("z");for(m=0;m<h.length;++m){var A=h[m];A.s.c==w+i&&A.s.r<x+n&&x+n<=A.e.r&&(w=A.e.c+1-i,m=-1)}v=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||v>1)&&h.push({s:{r:x+n,c:w+i},e:{r:x+n+(b||1)-1,c:w+i+(v||1)-1}});var E={t:"s",v:S},D=k.getAttribute("data-t")||k.getAttribute("t")||"";S!=null&&(S.length==0?E.t=D||"z":a.raw||S.trim().length==0||D=="s"||(S==="TRUE"?E={t:"b",v:!0}:S==="FALSE"?E={t:"b",v:!1}:isNaN(Fc(S))?isNaN(i0(S).getDate())||(E={t:"d",v:Aa(S)},a.cellDates||(E={t:"n",v:Kn(E.v)}),E.z=a.dateNF||Pr[14]):E={t:"n",v:Fc(S)})),E.z===void 0&&C!=null&&(E.z=C);var P="",T=k.getElementsByTagName("A");if(T&&T.length)for(var _=0;_<T.length&&!(T[_].hasAttribute("href")&&(P=T[_].getAttribute("href"),P.charAt(0)!="#"));++_);P&&P.charAt(0)!="#"&&(E.l={Target:P}),a.dense?(e[x+n]||(e[x+n]=[]),e[x+n][w+i]=E):e[Fr({c:w+i,r:x+n})]=E,d.e.c<w+i&&(d.e.c=w+i),w+=v}}++x}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,x-1+n),e["!ref"]=es(d),x>=c&&(e["!fullref"]=es((d.e.r=l.length-g+x-1+n,d))),e}function Xae(e,t){var r=t||{},a=r.dense?[]:{};return Yae(a,e,t)}function bnt(e,t){return Im(Xae(e,t),t)}function HV(e){var t="",r=wnt(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function wnt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function jnt(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Es(t.replace(/<[^>]*>/g,""));return[r]}var qV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Qae(e,t){var r=t||{},a=z3(e),n=[],i,o,l={name:""},c="",d=0,u,h,m={},p=[],g=r.dense?[]:{},x,y,w={value:""},b="",v=0,N=[],j=-1,k=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,A={},E=[],D={},P=0,T=0,_=[],O=1,F=1,I=[],R={Names:[]},L={},H=["",""],W=[],M={},G="",V=0,q=!1,Y=!1,U=0;for(uw.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=uw.exec(a);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?g["!ref"]=es(S):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(g["!fullref"]=g["!ref"],S.e.r=r.sheetRows-1,g["!ref"]=es(S)),E.length&&(g["!merges"]=E),_.length&&(g["!rows"]=_),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),m[u.name]=g,Y=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=Lr(x[0],!1),j=k=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,g=r.dense?[]:{},E=[],_=[],Y=!0);break;case"table-row-group":x[1]==="/"?--C:++C;break;case"table-row":case"":if(x[1]==="/"){j+=O,O=1;break}if(h=Lr(x[0],!1),h.?j=h.-1:j==-1&&(j=0),O=+h["number-rows-repeated"]||1,O<10)for(U=0;U<O;++U)C>0&&(_[j+U]={level:C});k=-1;break;case"covered-table-cell":x[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(g[j]||(g[j]=[]),g[j][k]={t:"z"}):g[Fr({r:j,c:k})]={t:"z"}),b="",N=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++k,w=Lr(x[0],!1),F=parseInt(w["number-columns-repeated"]||"1",10),y={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(y.f=UV(Es(w.formula))),(w.||w["value-type"])=="string"&&(y.t="s",y.v=Es(w["string-value"]||""),r.dense?(g[j]||(g[j]=[]),g[j][k]=y):g[Fr({r:j,c:k})]=y),k+=F-1;else if(x[1]!=="/"){++k,b="",v=0,N=[],F=1;var Z=O?j+O-1:j;if(k>S.e.c&&(S.e.c=k),k<S.s.c&&(S.s.c=k),j<S.s.r&&(S.s.r=j),Z>S.e.r&&(S.e.r=Z),w=Lr(x[0],!1),W=[],M={},y={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=Es(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(P=parseInt(w["number-matrix-rows-spanned"],10)||0,T=parseInt(w["number-matrix-columns-spanned"],10)||0,D={s:{r:j,c:k},e:{r:j+P-1,c:k+T-1}},y.F=es(D),I.push([D,y.F])),w.formula)y.f=UV(w.formula);else for(U=0;U<I.length;++U)j>=I[U][0].s.r&&j<=I[U][0].e.r&&k>=I[U][0].s.c&&k<=I[U][0].e.c&&(y.F=I[U][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(P=parseInt(w["number-rows-spanned"],10)||0,T=parseInt(w["number-columns-spanned"],10)||0,D={s:{r:j,c:k},e:{r:j+P-1,c:k+T-1}},E.push(D)),w["number-columns-repeated"]&&(F=parseInt(w["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Sa(w["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(w.value);break;case"percentage":y.t="n",y.v=parseFloat(w.value);break;case"currency":y.t="n",y.v=parseFloat(w.value);break;case"date":y.t="d",y.v=Aa(w["date-value"]),r.cellDates||(y.t="n",y.v=Kn(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=GKe(w["time-value"])/86400,r.cellDates&&(y.t="d",y.v=vA(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(w.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",w["string-value"]!=null&&(b=Es(w["string-value"]),N=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(q=!1,y.t==="s"&&(y.v=b||"",N.length&&(y.R=N),q=v==0),L.Target&&(y.l=L),W.length>0&&(y.c=W,W=[]),b&&r.cellText!==!1&&(y.w=b),q&&(y.t="z",delete y.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var J=0;J<O;++J){if(F=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(g[j+J]||(g[j+J]=[]),g[j+J][k]=J==0?y:Ea(y);--F>0;)g[j+J][k+F]=Ea(y);else for(g[Fr({r:j+J,c:k})]=y;--F>0;)g[Fr({r:j+J,c:k+F})]=Ea(y);S.e.c<=k&&(S.e.c=k)}F=parseInt(w["number-columns-repeated"]||"1",10),k+=F-1,F=0,y={},b="",N=[]}L={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i;M.t=b,N.length&&(M.R=N),M.a=G,W.push(M)}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);G="",V=0,b="",v=0,N=[];break;case"creator":x[1]==="/"?G=a.slice(V,x.index):V=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&n.push([x[3],!1]);b="",v=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(A[l.name]=c,(i=n.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Lr(x[0],!1),n.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Lr(x[0],!1),c+=qV[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Lr(x[0],!1),c+=qV[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,x.index);break}else d=x.index+x[0].length;break;case"named-range":o=Lr(x[0],!1),H=ZP(o["cell-range-address"]);var K={Name:o.name,Ref:H[0]+"!"+H[1]};Y&&(K.Sheet=p.length),R.Names.push(K);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(x[1]==="/"&&(!w||!w["string-value"])){var se=jnt(a.slice(v,x.index));b=(b.length>0?b+`
`:"")+se[0]}else Lr(x[0],!1),v=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{H=ZP(Lr(x[0])["target-range-address"]),m[H[0]]["!autofilter"]={ref:H[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(L=Lr(x[0],!1),!L.href)break;L.Target=Es(L.href),delete L.href,L.Target.charAt(0)=="#"&&L.Target.indexOf(".")>-1?(H=ZP(L.Target.slice(1)),L.Target="#"+H[0]+"!"+H[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var B={Sheets:m,SheetNames:p,Workbook:R};return r.bookSheets&&delete B.Sheets,B}function GV(e,t){t=t||{},El(e,"META-INF/manifest.xml")&&GYe(jn(e,"META-INF/manifest.xml"),t);var r=nl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=Qae(oa(r),t);return El(e,"meta.xml")&&(a.Props=Use(jn(e,"meta.xml"))),a}function KV(e,t){return Qae(e,t)}var Nnt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gn+t}}(),YV=function(){var e=function(i){return Zs(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Zs(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=qo(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",y=i["!rows"]||[];for(d=0;d<h.s.r;++d)x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=h.e.r;++d){for(x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)c.push(t);for(;u<=h.e.c;++u){var w=!1,b={},v="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>u)&&!(m[p].s.r>d)&&!(m[p].e.c<u)&&!(m[p].e.r<d)){(m[p].s.c!=u||m[p].s.r!=d)&&(w=!0),b["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,b["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(w){c.push(r);continue}var N=Fr({r:d,c:u}),j=g?(i[d]||[])[u]:i[N];if(j&&j.f&&(b["table:formula"]=Zs(ztt(j.f)),j.F&&j.F.slice(0,N.length)==N)){var k=qo(j.F);b["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,b["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":v=j.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=j.v?"true":"false";break;case"n":v=j.w||String(j.v||0),b["office:value-type"]="float",b["office:value"]=j.v||0;break;case"s":case"str":v=j.v==null?"":j.v,b["office:value-type"]="string";break;case"d":v=j.w||Aa(j.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=Aa(j.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(v);if(j.l&&j.l.Target){var C=j.l.Target;C=C.charAt(0)=="#"?"#"+Wtt(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),S=Et("text:a",S,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+Et("table:table-cell",Et("text:p",S,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;um(h),h.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[gn],d=dw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=dw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(Bse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(a(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Jae(e,t){if(t.bookType=="fods")return YV(e,t);var r=$3(),a="",n=[],i=[];return a="mimetype",os(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",os(r,a,YV(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",os(r,a,Nnt(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",os(r,a,gn+Bse()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",os(r,a,XYe(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",os(r,a,KYe(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function hp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function gD(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):oa(Om(e))}function Snt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):al(yd(e))}function knt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function mm(e){var t=e.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function XV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Cnt(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function Ant(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=r>=0?0:128}function vw(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Ks(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function en(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Is(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=vw(e,r),i=n&7;n=Math.floor(n/8);var o=0,l;if(n==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=vw(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:l,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function hi(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Ks(a*8+n.type)),n.type==2&&t.push(Ks(n.data.length)),t.push(n.data))})}),mm(t)}function hF(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Sl(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=vw(e,a),i=Is(e.slice(a[0],a[0]+n));a[0]+=n;var o={id:en(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Is(l.data),d=en(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=en(i[3][0].data)>>>0>0),r.push(o)}return r}function Zp(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Ks(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Ks(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(o){n.push(o.data),o.meta[3]=[{type:0,data:Ks(o.data.length)}],a[2].push({data:hi(o.meta),type:2})});var i=hi(a);t.push(Ks(i.length)),t.push(i),n.forEach(function(o){return t.push(o)})}),mm(t)}function Ent(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=vw(t,r),n=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}n.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[mm(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=mm(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function kl(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Ent(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return mm(t)}function ex(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var i=Ks(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,n[0]=0,n[1]=o&255,n[2]=o>>8&255,n[3]=o>>16&255,r+=a}return mm(t)}function Pnt(e,t,r,a){var n=hp(e),i=n.getUint32(4,!0),o=(a>1?12:8)+XV(i&(a>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=n.getUint32(o,!0),o+=4),o+=XV(i&(a>1?12288:4096))*4,i&16&&(c=n.getUint32(o,!0),o+=4),i&32&&(d=n.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function Tnt(e,t,r){var a=hp(e),n=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);n&1&&(c=Cnt(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(l=a.getUint32(i,!0),i+=4),n&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return h}function tT(e,t){var r=new Uint8Array(32),a=hp(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Ant(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function rT(e,t){var r=new Uint8Array(32),a=hp(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function _nt(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Pnt(e,t,r,e[0]);case 5:return Tnt(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Fi(e){var t=Is(e);return vw(t[1][0].data)}function QV(e,t){var r=Is(t.data),a=en(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(o){var l=Is(o.data),c=en(l[1][0].data)>>>0;switch(a){case 1:i[c]=gD(l[3][0].data);break;case 8:{var d=e[Fi(l[9][0].data)][0],u=Is(d.data),h=e[Fi(u[1][0].data)][0],m=en(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=Is(h.data);i[c]=p[3].map(function(g){return gD(g.data)}).join("")}break}}),i}function Dnt(e,t){var r,a,n,i,o,l,c,d,u,h,m,p,g,x,y=Is(e),w=en(y[1][0].data)>>>0,b=en(y[2][0].data)>>>0,v=((a=(r=y[8])==null?void 0:r[0])==null?void 0:a.data)&&en(y[8][0].data)>0||!1,N,j;if((i=(n=y[7])==null?void 0:n[0])!=null&&i.data&&t!=0)N=(l=(o=y[7])==null?void 0:o[0])==null?void 0:l.data,j=(d=(c=y[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=y[4])==null?void 0:u[0])!=null&&h.data&&t!=1)N=(p=(m=y[4])==null?void 0:m[0])==null?void 0:p.data,j=(x=(g=y[3])==null?void 0:g[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=v?4:1,S=hp(N),C=[],A=0;A<N.length/2;++A){var E=S.getUint16(A*2,!0);E<65535&&C.push([A,E])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var D=[];for(A=0;A<C.length-1;++A)D[C[A][0]]=j.subarray(C[A][1]*k,C[A+1][1]*k);return C.length>=1&&(D[C[C.length-1][0]]=j.subarray(C[C.length-1][1]*k)),{R:w,cells:D}}function Ont(e,t){var r,a=Is(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?en(a[7][0].data)>>>0>0?1:0:-1,i=hF(a[5],function(o){return Dnt(o,n)});return{nrows:en(a[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function Int(e,t,r){var a,n=Is(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(en(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(en(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=es(i);var o=Is(n[4][0].data),l=QV(e,e[Fi(o[4][0].data)][0]),c=(a=o[17])!=null&&a[0]?QV(e,e[Fi(o[17][0].data)][0]):[],d=Is(o[3][0].data),u=0;d[1].forEach(function(h){var m=Is(h.data),p=e[Fi(m[2][0].data)][0],g=en(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var x=Ont(e,p);x.data.forEach(function(y,w){y.forEach(function(b,v){var N=Fr({r:u+w,c:v}),j=_nt(b,l,c);j&&(r[N]=j)})}),u+=x.nrows})}function Rnt(e,t){var r=Is(t.data),a={"!ref":"A1"},n=e[Fi(r[2][0].data)],i=en(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Int(e,n[0],a),a}function Fnt(e,t){var r,a=Is(t.data),n={name:(r=a[1])!=null&&r[0]?gD(a[1][0].data):"",sheets:[]},i=hF(a[2],Fi);return i.forEach(function(o){e[o].forEach(function(l){var c=en(l.meta[1][0].data);c==6e3&&n.sheets.push(Rnt(e,l))})}),n}function Mnt(e,t){var r=gF(),a=Is(t.data),n=hF(a[1],Fi);if(n.forEach(function(i){e[i].forEach(function(o){var l=en(o.meta[1][0].data);if(l==2){var c=Fnt(e,o);c.sheets.forEach(function(d,u){vF(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function sT(e){var t,r,a,n,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=kl(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=Sl(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((n=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&en(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=en(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Mnt(i,l)}function Lnt(e,t,r){var a,n,i,o;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&en(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=hp(e[7][0].data),u=0,h=[],m=hp(e[4][0].data),p=0,g=[],x=0;x<t.length;++x){if(t[x]==null){d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),m.setUint16(x*2,p,!0);var y,w;switch(typeof t[x]){case"string":y=tT({t:"s",v:t[x]},r),w=rT({t:"s",v:t[x]},r);break;case"number":y=tT({t:"n",v:t[x]},r),w=rT({t:"n",v:t[x]},r);break;case"boolean":y=tT({t:"b",v:t[x]},r),w=rT({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}h.push(y),u+=y.length,g.push(w),p+=w.length,++c}for(e[2][0].data=Ks(c);x<e[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=mm(h),e[3][0].data=mm(g),c}function $nt(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=qo(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(es(a)));var i=ZS(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(V){typeof V=="string"&&o.push(V)})});var l={},c=[],d=gr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(G,V){return[G,d.FullPaths[V]]}).forEach(function(G){var V=G[0],q=G[1];if(V.type==2&&V.name.match(/\.iwa/)){var Y=V.content,U=kl(Y),Z=Sl(U);Z.forEach(function(J){c.push(J.id),l[J.id]={deps:[],location:q,type:en(J.messages[0].meta[1][0].data)}})}}),c.sort(function(G,V){return G-V});var u=c.filter(function(G){return G>1}).map(function(G){return[G,Ks(G)]});d.FileIndex.map(function(G,V){return[G,d.FullPaths[V]]}).forEach(function(G){var V=G[0];if(G[1],!!V.name.match(/\.iwa/)){var q=Sl(kl(V.content));q.forEach(function(Y){Y.messages.forEach(function(U){u.forEach(function(Z){Y.messages.some(function(J){return en(J.meta[1][0].data)!=11006&&knt(J.data,Z[1])})&&l[Z[0]].deps.push(Y.id)})})})}});for(var h=gr.find(d,l[1].location),m=Sl(kl(h.content)),p,g=0;g<m.length;++g){var x=m[g];x.id==1&&(p=x)}var y=Fi(Is(p.messages[0].data)[1][0].data);for(h=gr.find(d,l[y].location),m=Sl(kl(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);for(y=Fi(Is(p.messages[0].data)[2][0].data),h=gr.find(d,l[y].location),m=Sl(kl(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);for(y=Fi(Is(p.messages[0].data)[2][0].data),h=gr.find(d,l[y].location),m=Sl(kl(h.content)),g=0;g<m.length;++g)x=m[g],x.id==y&&(p=x);var w=Is(p.messages[0].data);{w[6][0].data=Ks(a.e.r+1),w[7][0].data=Ks(a.e.c+1);var b=Fi(w[46][0].data),v=gr.find(d,l[b].location),N=Sl(kl(v.content));{for(var j=0;j<N.length&&N[j].id!=b;++j);if(N[j].id!=b)throw"Bad ColumnRowUIDMapArchive";var k=Is(N[j].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var S=0;S<=a.e.c;++S){var C=[];C[1]=C[2]=[{type:0,data:Ks(S+420690)}],k[1].push({type:2,data:hi(C)}),k[2].push({type:0,data:Ks(S)}),k[3].push({type:0,data:Ks(S)})}k[4]=[],k[5]=[],k[6]=[];for(var A=0;A<=a.e.r;++A)C=[],C[1]=C[2]=[{type:0,data:Ks(A+726270)}],k[4].push({type:2,data:hi(C)}),k[5].push({type:0,data:Ks(A)}),k[6].push({type:0,data:Ks(A)});N[j].messages[0].data=hi(k)}v.content=ex(Zp(N)),v.size=v.content.length,delete w[46];var E=Is(w[4][0].data);{E[7][0].data=Ks(a.e.r+1);var D=Is(E[1][0].data),P=Fi(D[2][0].data);v=gr.find(d,l[P].location),N=Sl(kl(v.content));{if(N[0].id!=P)throw"Bad HeaderStorageBucket";var T=Is(N[0].messages[0].data);for(A=0;A<i.length;++A){var _=Is(T[2][0].data);_[1][0].data=Ks(A),_[4][0].data=Ks(i[A].length),T[2][A]={type:T[2][0].type,data:hi(_)}}N[0].messages[0].data=hi(T)}v.content=ex(Zp(N)),v.size=v.content.length;var O=Fi(E[2][0].data);v=gr.find(d,l[O].location),N=Sl(kl(v.content));{if(N[0].id!=O)throw"Bad HeaderStorageBucket";for(T=Is(N[0].messages[0].data),S=0;S<=a.e.c;++S)_=Is(T[2][0].data),_[1][0].data=Ks(S),_[4][0].data=Ks(a.e.r+1),T[2][S]={type:T[2][0].type,data:hi(_)};N[0].messages[0].data=hi(T)}v.content=ex(Zp(N)),v.size=v.content.length;var F=Fi(E[4][0].data);(function(){for(var G=gr.find(d,l[F].location),V=Sl(kl(G.content)),q,Y=0;Y<V.length;++Y){var U=V[Y];U.id==F&&(q=U)}var Z=Is(q.messages[0].data);{Z[3]=[];var J=[];o.forEach(function(B,Ne){J[1]=[{type:0,data:Ks(Ne)}],J[2]=[{type:0,data:Ks(1)}],J[3]=[{type:2,data:Snt(B)}],Z[3].push({type:2,data:hi(J)})})}q.messages[0].data=hi(Z);var K=Zp(V),se=ex(K);G.content=se,G.size=G.content.length})();var I=Is(E[3][0].data);{var R=I[1][0];delete I[2];var L=Is(R.data);{var H=Fi(L[2][0].data);(function(){for(var G=gr.find(d,l[H].location),V=Sl(kl(G.content)),q,Y=0;Y<V.length;++Y){var U=V[Y];U.id==H&&(q=U)}var Z=Is(q.messages[0].data);{delete Z[6],delete I[7];var J=new Uint8Array(Z[5][0].data);Z[5]=[];for(var K=0,se=0;se<=a.e.r;++se){var B=Is(J);K+=Lnt(B,i[se],o),B[1][0].data=Ks(se),Z[5].push({data:hi(B),type:2})}Z[1]=[{type:0,data:Ks(a.e.c+1)}],Z[2]=[{type:0,data:Ks(a.e.r+1)}],Z[3]=[{type:0,data:Ks(K)}],Z[4]=[{type:0,data:Ks(a.e.r+1)}]}q.messages[0].data=hi(Z);var Ne=Zp(V),ye=ex(Ne);G.content=ye,G.size=G.content.length})()}R.data=hi(L)}E[3][0].data=hi(I)}w[4][0].data=hi(E)}p.messages[0].data=hi(w);var W=Zp(m),M=ex(W);return h.content=M,h.size=h.content.length,d}function Zae(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function mF(e){Zae([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function fF(e){Zae([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Bnt(e){return ps.WS.indexOf(e)>-1?"sheet":e==ps.CS?"chart":e==ps.DS?"dialog":e==ps.MS?"macro":e&&e.length?e:"sheet"}function Unt(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,Bnt(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Vnt(e,t,r,a,n,i,o,l,c,d,u,h){try{i[a]=Fy(nl(e,r,!0),t);var m=jn(e,t),p;switch(l){case"sheet":p=dat(m,t,n,c,i[a],d,u,h);break;case"chart":if(p=uat(m,t,n,c,i[a],d,u,h),!p||!p["!drawel"])break;var g=ry(p["!drawel"].Target,t),x=hw(g),y=YZe(nl(e,g,!0),Fy(nl(e,x,!0),g)),w=ry(y,g),b=hw(w);p=Lst(nl(e,w,!0),w,c,Fy(nl(e,b,!0),w),d,p);break;case"macro":p=hat(m,t,n,c,i[a],d,u,h);break;case"dialog":p=mat(m,t,n,c,i[a],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=p;var v=[];i&&i[a]&&rn(i[a]).forEach(function(N){var j="";if(i[a][N].Type==ps.CMNT){j=ry(i[a][N].Target,t);var k=gat(jn(e,j,!0),j,c);if(!k||!k.length)return;FV(p,k,!1)}i[a][N].Type==ps.TCMNT&&(j=ry(i[a][N].Target,t),v=v.concat(QZe(jn(e,j,!0),c)))}),v&&v.length&&FV(p,v,!0,c.people||[])}catch(N){if(c.WTF)throw N}}function jl(e){return e.charAt(0)=="/"?e.slice(1):e}function znt(e,t){if(q0(),t=t||{},mF(t),El(e,"META-INF/manifest.xml")||El(e,"objectdata.xml"))return GV(e,t);if(El(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof sT<"u"){if(e.FileIndex)return sT(e);var r=gr.utils.cfb_new();return sV(e).forEach(function(_){os(r,_,JKe(e,_))}),sT(r)}throw new Error("Unsupported NUMBERS file")}if(!El(e,"[Content_Types].xml"))throw El(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):El(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=sV(e),n=HYe(nl(e,"[Content_Types].xml")),i=!1,o,l;if(n.workbooks.length===0&&(l="xl/workbook.xml",jn(e,l,!0)&&n.workbooks.push(l)),n.workbooks.length===0){if(l="xl/workbook.bin",!jn(e,l,!0))throw new Error("Could not find workbook");n.workbooks.push(l),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(My=[],n.sst)try{My=xat(jn(e,jl(n.sst)),n.sst,t)}catch(_){if(t.WTF)throw _}t.cellStyles&&n.themes.length&&(c=pat(nl(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=fat(jn(e,jl(n.style)),n.style,c,t))}n.links.map(function(_){try{var O=Fy(nl(e,hw(jl(_))),_);return yat(jn(e,jl(_)),O,_,t)}catch{}});var u=cat(jn(e,jl(n.workbooks[0])),n.workbooks[0],t),h={},m="";n.coreprops.length&&(m=jn(e,jl(n.coreprops[0]),!0),m&&(h=Use(m)),n.extprops.length!==0&&(m=jn(e,jl(n.extprops[0]),!0),m&&JYe(m,h,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(m=nl(e,jl(n.custprops[0]),!0),m&&(p=eXe(m,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(O){return O.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(g.Props=h,g.Custprops=p),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var x={};t.bookDeps&&n.calcchain&&(x=vat(jn(e,jl(n.calcchain)),n.calcchain));var y=0,w={},b,v;{var N=u.Sheets;h.Worksheets=N.length,h.SheetNames=[];for(var j=0;j!=N.length;++j)h.SheetNames[j]=N[j].name}var k=i?"bin":"xml",S=n.workbooks[0].lastIndexOf("/"),C=(n.workbooks[0].slice(0,S+1)+"_rels/"+n.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");El(e,C)||(C="xl/_rels/workbook."+k+".rels");var A=Fy(nl(e,C,!0),C.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=bat(jn(e,jl(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=ZZe(jn(e,jl(n.people[0])),t)),A&&(A=Unt(A,u.Sheets));var E=jn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var D="sheet";if(A&&A[y]?(b="xl/"+A[y][1].replace(/[\/]?xl\//,""),El(e,b)||(b=A[y][1]),El(e,b)||(b=C.replace(/_rels\/.*$/,"")+A[y][1]),D=A[y][2]):(b="xl/worksheets/sheet"+(y+1-E)+"."+k,b=b.replace(/sheet0\./,"sheet.")),v=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,T=0;T!=t.sheets.length;++T)typeof t.sheets[T]=="number"&&t.sheets[T]==y&&(P=1),typeof t.sheets[T]=="string"&&t.sheets[T].toLowerCase()==h.SheetNames[y].toLowerCase()&&(P=1);if(!P)continue e}}Vnt(e,b,v,h.SheetNames[y],y,w,o,D,t,u,c,d)}return g={Directory:n,Workbook:u,Props:h,Custprops:p,Deps:x,Sheets:o,SheetNames:h.SheetNames,Strings:My,Styles:d,Themes:c,SSF:Ea(Pr)},t&&t.bookFiles&&(e.files?(g.keys=a,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(_,O){_=_.replace(/^Root Entry[\/]/,""),g.keys.push(_),g.files[_]=e.FileIndex[O]}))),t&&t.bookVBA&&(n.vba.length>0?g.vbaraw=jn(e,jl(n.vba[0]),!0):n.defaults&&n.defaults.bin===oet&&(g.vbaraw=jn(e,"xl/vbaProject.bin",!0))),g}function Wnt(e,t){var r=t||{},a="Workbook",n=gr.find(e,a);try{if(a="/!DataSpaces/Version",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(vJe(n.content),a="/!DataSpaces/DataSpaceMap",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=bJe(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=wJe(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);NJe(n.content)}catch{}if(a="/EncryptionInfo",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=SJe(n.content);if(a="/EncryptedPackage",n=gr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],n.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function Hnt(e,t){return t.bookType=="ods"?Jae(e,t):t.bookType=="numbers"?$nt(e,t):t.bookType=="xlsb"?qnt(e,t):Gnt(e,t)}function qnt(e,t){Ox=1024,e&&!e.SSF&&(e.SSF=Ea(Pr)),e&&e.SSF&&(q0(),pA(e.SSF),t.revssf=gA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ly?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=Cae.indexOf(t.bookType)>-1,n=Z3();fF(t=t||{});var i=$3(),o="",l=0;if(t.cellXfs=[],Rm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",os(i,o,Vse(e.Props,t)),n.coreprops.push(o),Xs(t.rels,2,o,ps.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,os(i,o,Hse(e.Props)),n.extprops.push(o),Xs(t.rels,3,o,ps.EXT_PROPS),e.Custprops!==e.Props&&rn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",os(i,o,qse(e.Custprops)),n.custprops.push(o),Xs(t.rels,4,o,ps.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,os(i,o,jat(l-1,o,t,e,u)),n.sheets.push(o),Xs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ps.WS[0])}if(h){var p=h["!comments"],g=!1,x="";p&&p.length>0&&(x="xl/comments"+l+"."+r,os(i,x,kat(p,x)),n.comments.push(x),Xs(u,-1,"../comments"+l+"."+r,ps.CMNT),g=!0),h["!legacy"]&&g&&os(i,"xl/drawings/vmlDrawing"+l+".vml",Sae(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&os(i,hw(o),Zx(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,os(i,o,Sat(t.Strings,o,t)),n.strs.push(o),Xs(t.wbrels,-1,"sharedStrings."+r,ps.SST)),o="xl/workbook."+r,os(i,o,wat(e,o)),n.workbooks.push(o),Xs(t.rels,1,o,ps.WB),o="xl/theme/theme1.xml",os(i,o,nF(e.Themes,t)),n.themes.push(o),Xs(t.wbrels,-1,"theme/theme1.xml",ps.THEME),o="xl/styles."+r,os(i,o,Nat(e,o,t)),n.styles.push(o),Xs(t.wbrels,-1,"styles."+r,ps.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",os(i,o,e.vbaraw),n.vba.push(o),Xs(t.wbrels,-1,"vbaProject.bin",ps.VBA)),o="xl/metadata."+r,os(i,o,Cat(o)),n.metadata.push(o),Xs(t.wbrels,-1,"metadata."+r,ps.XLMETA),os(i,"[Content_Types].xml",$se(n,t)),os(i,"_rels/.rels",Zx(t.rels)),os(i,"xl/_rels/workbook."+r+".rels",Zx(t.wbrels)),delete t.revssf,delete t.ssf,i}function Gnt(e,t){Ox=1024,e&&!e.SSF&&(e.SSF=Ea(Pr)),e&&e.SSF&&(q0(),pA(e.SSF),t.revssf=gA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ly?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=Cae.indexOf(t.bookType)>-1,n=Z3();fF(t=t||{});var i=$3(),o="",l=0;if(t.cellXfs=[],Rm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",os(i,o,Vse(e.Props,t)),n.coreprops.push(o),Xs(t.rels,2,o,ps.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,os(i,o,Hse(e.Props)),n.extprops.push(o),Xs(t.rels,3,o,ps.EXT_PROPS),e.Custprops!==e.Props&&rn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",os(i,o,qse(e.Custprops)),n.custprops.push(o),Xs(t.rels,4,o,ps.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,os(i,o,Mae(l-1,t,e,h)),n.sheets.push(o),Xs(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ps.WS[0])}if(m){var g=m["!comments"],x=!1,y="";if(g&&g.length>0){var w=!1;g.forEach(function(b){b[1].forEach(function(v){v.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+l+"."+r,os(i,y,JZe(g,u,t)),n.threadedcomments.push(y),Xs(h,-1,"../threadedComments/threadedComment"+l+"."+r,ps.TCMNT)),y="xl/comments"+l+"."+r,os(i,y,kae(g)),n.comments.push(y),Xs(h,-1,"../comments"+l+"."+r,ps.CMNT),x=!0}m["!legacy"]&&x&&os(i,"xl/drawings/vmlDrawing"+l+".vml",Sae(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&os(i,hw(o),Zx(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,os(i,o,hae(t.Strings,t)),n.strs.push(o),Xs(t.wbrels,-1,"sharedStrings."+r,ps.SST)),o="xl/workbook."+r,os(i,o,Vae(e)),n.workbooks.push(o),Xs(t.rels,1,o,ps.WB),o="xl/theme/theme1.xml",os(i,o,nF(e.Themes,t)),n.themes.push(o),Xs(t.wbrels,-1,"theme/theme1.xml",ps.THEME),o="xl/styles."+r,os(i,o,bae(e,t)),n.styles.push(o),Xs(t.wbrels,-1,"styles."+r,ps.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",os(i,o,e.vbaraw),n.vba.push(o),Xs(t.wbrels,-1,"vbaProject.bin",ps.VBA)),o="xl/metadata."+r,os(i,o,Nae()),n.metadata.push(o),Xs(t.wbrels,-1,"metadata."+r,ps.XLMETA),u.length>1&&(o="xl/persons/person.xml",os(i,o,eet(u)),n.people.push(o),Xs(t.wbrels,-1,"persons/person.xml",ps.PEOPLE)),os(i,"[Content_Types].xml",$se(n,t)),os(i,"_rels/.rels",Zx(t.rels)),os(i,"xl/_rels/workbook."+r+".rels",Zx(t.wbrels)),delete t.revssf,delete t.ssf,i}function pF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=pl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Knt(e,t){return gr.find(e,"EncryptedPackage")?Wnt(e,t):qae(e,t)}function Ynt(e,t){var r,a=e,n=t||{};return n.type||(n.type=ms&&Buffer.isBuffer(e)?"buffer":"base64"),r=fse(a,n),znt(r,n)}function ene(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return pD(e.slice(r),t);default:break e}return o0.to_workbook(e,t)}function Xnt(e,t){var r="",a=pF(e,t);switch(t.type){case"base64":r=pl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=lp(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=oa(r)),t.type="binary",ene(r,t)}function Qnt(e,t){var r=e;return t.type=="base64"&&(r=pl(r)),r=gh.utils.decode(1200,r.slice(2),"str"),t.type="binary",ene(r,t)}function Jnt(e){return e.match(/[^\x00-\x7F]/)?yd(e):e}function aT(e,t,r,a){return a?(r.type="string",o0.to_workbook(e,r)):o0.to_workbook(t,r)}function fm(e,t){I3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return fm(new Uint8Array(e),(r=Ea(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),tg={},r.dateNF&&(tg.dateNF=r.dateNF),r.type||(r.type=ms&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=ms?"buffer":"binary",a=WKe(e),typeof Uint8Array<"u"&&!ms&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=Jnt(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ea(r),r.type="array",fm(R3(a),r)}switch((n=pF(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Knt(gr.read(a,r),r);break;case 9:if(n[1]<=8)return qae(a,r);break;case 60:return pD(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return tJe(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return dae.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Ynt(a,r):aT(e,a,r,i);case 239:return n[3]===60?pD(a,r):aT(e,a,r,i);case 255:if(n[1]===254)return Qnt(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Lf.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Lf.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return fD.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return gae.to_workbook(a,r);break;case 10:case 13:case 32:return Xnt(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return eJe.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?fD.to_workbook(a,r):aT(e,a,r,i)}function tne(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return hj(t.file,gr.write(e,{type:ms?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return gr.write(e,t)}function Znt(e,t){var r=Ea(t||{}),a=Hnt(e,r);return eit(a,r)}function eit(e,t){var r={},a=ms?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?gr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(fA(n))}return t.password&&typeof encrypt_agile<"u"?tne(encrypt_agile(n,t.password),t):t.type==="file"?hj(t.file,n):t.type=="string"?oa(n):n}function tit(e,t){var r=t||{},a=Jat(e,r);return tne(a,r)}function ed(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return ow(yd(a));case"binary":return yd(a);case"string":return e;case"file":return hj(t.file,a,"utf8");case"buffer":return ms?Uu(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):ed(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function rit(e,t){switch(t.type){case"base64":return ow(e);case"binary":return e;case"string":return e;case"file":return hj(t.file,e,"binary");case"buffer":return ms?Uu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function W1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?ow(r):t.type=="string"?oa(r):r;case"file":return hj(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function rne(e,t){I3(),Kst(e);var r=Ea(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=rne(e,r);return r.type="array",fA(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ed(Hat(e,r),r);case"slk":case"sylk":return ed(cae.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return ed(Kae(e.Sheets[e.SheetNames[n]],r),r);case"txt":return rit(sne(e.Sheets[e.SheetNames[n]],r),r);case"csv":return ed(xF(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return ed(dae.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return W1(fD.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return ed(o0.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return ed(gae.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return ed(uae.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return ed(Jae(e,r),r);case"wk1":return W1(Lf.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return W1(Lf.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),W1(Gae(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),tit(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Znt(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function sit(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Du(e,t,r){var a={};return a.type="file",a.file=t,sit(a),rne(e,a)}function ait(e,t,r,a,n,i,o,l){var c=fn(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=o?e[r][p]:e[a[p]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;i[p]!=null&&(m[i[p]]=d);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(x==null)if(g.t=="e"&&x===null)m[i[p]]=null;else if(d!==void 0)m[i[p]]=d;else if(u&&x===null)m[i[p]]=null;else continue;else m[i[p]]=u&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?x:_u(g,x,l);x!=null&&(h=!1)}}return{row:m,isempty:h}}function ZS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=Ps(u);break;case"number":c=Ps(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(n=0);var h=fn(c.s.r),m=[],p=[],g=0,x=0,y=Array.isArray(e),w=c.s.r,b=0,v={};y&&!e[w]&&(e[w]=[]);var N=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(N[b]||{}).hidden)switch(m[b]=Ua(b),r=y?e[w][b]:e[m[b]+h],a){case 1:i[b]=b-c.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=d.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=_u(r,null,d),x=v[o]||0,!x)v[o]=1;else{do l=o+"_"+x++;while(v[l]);v[o]=x,v[l]=1}i[b]=l}for(w=c.s.r+n;w<=c.e.r;++w)if(!(j[w]||{}).hidden){var k=ait(e,c,w,m,a,i,y,d);(k.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[g++]=k.row)}return p.length=g,p}var JV=/"/g;function nit(e,t,r,a,n,i,o,l){for(var c=!0,d=[],u="",h=fn(r),m=t.s.c;m<=t.e.c;++m)if(a[m]){var p=l.dense?(e[r]||[])[m]:e[a[m]+h];if(p==null)u="";else if(p.v!=null){c=!1,u=""+(l.rawNumbers&&p.t=="n"?p.v:_u(p,null,l));for(var g=0,x=0;g!==u.length;++g)if((x=u.charCodeAt(g))===n||x===i||x===34||l.forceQuotes){u='"'+u.replace(JV,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(c=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(JV,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function xF(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=Ps(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(m[g]||{}).hidden||(h[g]=Ua(g));for(var x=0,y=n.s.r;y<=n.e.r;++y)(p[y]||{}).hidden||(u=nit(e,n,y,h,o,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&r.push((x++?l:"")+u)));return delete a.dense,r.join("")}function sne(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=xF(e,t);return r}function iit(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=Ps(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=n.s.c;l<=n.e.c;++l)o[l]=Ua(l);for(var u=n.s.r;u<=n.e.r;++u)for(i=fn(u),l=n.s.c;l<=n.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function ane(e,t,r){var a=r||{},n=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?Va(a.origin):a.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+n}};if(i["!ref"]){var h=Ps(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+n)}else o==-1&&(o=0,u.e.r=t.length-1+n);var m=a.header||[],p=0;t.forEach(function(x,y){rn(x).forEach(function(w){(p=m.indexOf(w))==-1&&(m[p=m.length]=w);var b=x[w],v="z",N="",j=Fr({c:l+p,r:o+y+n});d=yw(i,j),b&&typeof b=="object"&&!(b instanceof Date)?i[j]=b:(typeof b=="number"?v="n":typeof b=="boolean"?v="b":typeof b=="string"?v="s":b instanceof Date?(v="d",a.cellDates||(v="n",b=Kn(b)),N=a.dateNF||Pr[14]):b===null&&a.nullError&&(v="e",b=0),d?(d.t=v,d.v=b,delete d.w,delete d.R,N&&(d.z=N)):i[j]=d={t:v,v:b},N&&(d.z=N))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var g=fn(o);if(n)for(p=0;p<m.length;++p)i[Ua(p+l)+g]={t:"s",v:m[p]};return i["!ref"]=es(u),i}function oit(e,t){return ane(null,e,t)}function yw(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Va(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?yw(e,Fr(t)):yw(e,Fr({r:t,c:r||0}))}function lit(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function gF(){return{SheetNames:[],Sheets:{}}}function vF(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var o=i&&i[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=o+n)!=-1;++n);}if(Uae(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function cit(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=lit(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function dit(e,t){return e.z=t,e}function nne(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function uit(e,t,r){return nne(e,"#"+t,r)}function hit(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function mit(e,t,r,a){for(var n=typeof t!="string"?t:Ps(t),i=typeof t=="string"?t:es(t),o=n.s.r;o<=n.e.r;++o)for(var l=n.s.c;l<=n.e.c;++l){var c=yw(e,o,l);c.t="n",c.F=i,delete c.v,o==n.s.r&&l==n.s.c&&(c.f=r,a&&(c.D=!0))}return e}var $r={encode_col:Ua,encode_row:fn,encode_cell:Fr,encode_range:es,decode_col:G3,decode_row:q3,split_cell:jYe,decode_cell:Va,decode_range:qo,format_cell:_u,sheet_add_aoa:Dse,sheet_add_json:ane,sheet_add_dom:Yae,aoa_to_sheet:G0,json_to_sheet:oit,table_to_sheet:Xae,table_to_book:bnt,sheet_to_csv:xF,sheet_to_txt:sne,sheet_to_json:ZS,sheet_to_html:Kae,sheet_to_formulae:iit,sheet_to_row_object_array:ZS,sheet_get_cell:yw,book_new:gF,book_append_sheet:vF,book_set_sheet_visibility:cit,cell_set_number_format:dit,cell_set_hyperlink:nne,cell_set_internal_link:uit,cell_add_comment:hit,sheet_set_array_formula:mit,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const ts=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto table-container",style:{WebkitOverflowScrolling:"touch",maxWidth:"100%"},children:s.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));ts.displayName="Table";const rs=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));rs.displayName="TableHeader";const ss=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));ss.displayName="TableBody";const fit=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fit.displayName="TableFooter";const jt=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));jt.displayName="TableRow";const Ee=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:be("h-12 px-4 align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableHead";const ke=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ke.displayName="TableCell";const pit=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));pit.displayName="TableCaption";var yF="Progress",bF=100,[xit,Ogt]=qa(yF),[git,vit]=xit(yF),ine=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:n,getValueLabel:i=yit,...o}=e;(n||n===0)&&!ZV(n)&&console.error(bit(`${n}`,"Progress"));const l=ZV(n)?n:bF;a!==null&&!ez(a,l)&&console.error(wit(`${a}`,"Progress"));const c=ez(a,l)?a:null,d=ek(c)?i(c,l):void 0;return s.jsx(git,{scope:r,value:c,max:l,children:s.jsx(Lt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ek(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":cne(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});ine.displayName=yF;var one="ProgressIndicator",lne=f.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,n=vit(one,r);return s.jsx(Lt.div,{"data-state":cne(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});lne.displayName=one;function yit(e,t){return`${Math.round(e/t*100)}%`}function cne(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ek(e){return typeof e=="number"}function ZV(e){return ek(e)&&!isNaN(e)&&e>0}function ez(e,t){return ek(e)&&!isNaN(e)&&e<=t&&e>=0}function bit(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bF}\`.`}function wit(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bF} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dne=ine,jit=lne;const wF=f.forwardRef(({className:e,value:t,...r},a)=>s.jsx(dne,{ref:a,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(jit,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wF.displayName=dne.displayName;function une({open:e,onOpenChange:t,progress:r,title:a=" ",description:n="       Excel...",className:i}){const o=r.total>0?Math.round(r.current/r.total*100):0,l=r.current>0&&r.current>=r.total,c=r.total>0&&r.current<r.total,d=r.total===0;return s.jsx(Qt,{open:e,onOpenChange:t,children:s.jsxs(Yt,{className:be("sm:max-w-lg",i),children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2 text-lg",children:[l?s.jsx(Js,{className:"h-5 w-5 text-green-500"}):s.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"}),a]}),s.jsx(ur,{children:n})]}),s.jsxs("div",{className:"py-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium text-foreground",children:l?" ":c?" ...":"  ..."}),r.total>0?s.jsxs("span",{className:"text-muted-foreground font-semibold",dir:"ltr",children:[r.current.toLocaleString()," / ",r.total.toLocaleString()," (",o,"%)"]}):s.jsx("span",{className:"text-muted-foreground",children:" ..."})]}),s.jsx("div",{className:"relative h-6 w-full overflow-hidden rounded-full bg-secondary border border-border",children:r.total>0?s.jsxs(s.Fragment,{children:[s.jsx(wF,{value:o,className:"h-full transition-all duration-500 ease-out"}),c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%",animation:"shimmer 2s linear infinite"}}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-bold text-foreground drop-shadow-sm",children:[o,"%"]})})]}):s.jsx("div",{className:"h-full w-full bg-primary/20 animate-pulse"})})]}),r.currentItem&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[l?s.jsx(Js,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):s.jsx(Ge,{className:"h-4 w-4 animate-spin text-primary flex-shrink-0"}),s.jsx("span",{className:"truncate",children:r.currentItem})]}),!r.currentItem&&d&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground py-4",children:[s.jsx(mG,{className:"h-5 w-5 text-primary animate-pulse"}),s.jsx("span",{children:"   Excel..."})]}),l&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 animate-in fade-in zoom-in duration-300 pt-4",children:[s.jsx(Js,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"  !"})]})]})]})})}var vD=["Enter"," "],Nit=["ArrowDown","PageUp","Home"],hne=["ArrowUp","PageDown","End"],Sit=[...Nit,...hne],kit={ltr:[...vD,"ArrowRight"],rtl:[...vD,"ArrowLeft"]},Cit={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bj="Menu",[bw,Ait,Eit]=p0(bj),[Dp,NA]=qa(bj,[Eit,bm,T0]),SA=bm(),mne=T0(),[Pit,Op]=Dp(bj),[Tit,wj]=Dp(bj),fne=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,l=SA(t),[c,d]=f.useState(null),u=f.useRef(!1),h=Ma(i),m=Cm(n);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(eI,{...l,children:s.jsx(Pit,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(Tit,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:a})})})};fne.displayName=bj;var _it="MenuAnchor",jF=f.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=SA(r);return s.jsx(Uw,{...n,...a,ref:t})});jF.displayName=_it;var NF="MenuPortal",[Dit,pne]=Dp(NF,{forceMount:void 0}),xne=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:n}=e,i=Op(NF,t);return s.jsx(Dit,{scope:t,forceMount:r,children:s.jsx(Pn,{present:r||i.open,children:s.jsx(x0,{asChild:!0,container:n,children:a})})})};xne.displayName=NF;var Gl="MenuContent",[Oit,SF]=Dp(Gl),gne=f.forwardRef((e,t)=>{const r=pne(Gl,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,i=Op(Gl,e.__scopeMenu),o=wj(Gl,e.__scopeMenu);return s.jsx(bw.Provider,{scope:e.__scopeMenu,children:s.jsx(Pn,{present:a||i.open,children:s.jsx(bw.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Iit,{...n,ref:t}):s.jsx(Rit,{...n,ref:t})})})})}),Iit=f.forwardRef((e,t)=>{const r=Op(Gl,e.__scopeMenu),a=f.useRef(null),n=xr(t,a);return f.useEffect(()=>{const i=a.current;if(i)return dC(i)},[]),s.jsx(kF,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:xt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Rit=f.forwardRef((e,t)=>{const r=Op(Gl,e.__scopeMenu);return s.jsx(kF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Fit=tm("MenuContent.ScrollLock"),kF=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=e,y=Op(Gl,r),w=wj(Gl,r),b=SA(r),v=mne(r),N=Ait(r),[j,k]=f.useState(null),S=f.useRef(null),C=xr(t,S,y.onContentChange),A=f.useRef(0),E=f.useRef(""),D=f.useRef(0),P=f.useRef(null),T=f.useRef("right"),_=f.useRef(0),O=g?Qw:f.Fragment,F=g?{as:Fit,allowPinchZoom:!0}:void 0,I=L=>{var U,Z;const H=E.current+L,W=N().filter(J=>!J.disabled),M=document.activeElement,G=(U=W.find(J=>J.ref.current===M))==null?void 0:U.textValue,V=W.map(J=>J.textValue),q=Kit(V,H,G),Y=(Z=W.find(J=>J.textValue===q))==null?void 0:Z.ref.current;(function J(K){E.current=K,window.clearTimeout(A.current),K!==""&&(A.current=window.setTimeout(()=>J(""),1e3))})(H),Y&&setTimeout(()=>Y.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),cC();const R=f.useCallback(L=>{var W,M;return T.current===((W=P.current)==null?void 0:W.side)&&Xit(L,(M=P.current)==null?void 0:M.area)},[]);return s.jsx(Oit,{scope:r,searchRef:E,onItemEnter:f.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:f.useCallback(L=>{var H;R(L)||((H=S.current)==null||H.focus(),k(null))},[R]),onTriggerLeave:f.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(L=>{P.current=L},[]),children:s.jsx(O,{...F,children:s.jsx(Yw,{asChild:!0,trapped:n,onMountAutoFocus:xt(i,L=>{var H;L.preventDefault(),(H=S.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(vp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(dR,{asChild:!0,...v,dir:w.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:xt(c,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($k,{role:"menu","aria-orientation":"vertical","data-state":One(y.open),"data-radix-menu-content":"",dir:w.dir,...b,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:xt(x.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,M=L.ctrlKey||L.altKey||L.metaKey,G=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!M&&G&&I(L.key));const V=S.current;if(L.target!==V||!Sit.includes(L.key))return;L.preventDefault();const Y=N().filter(U=>!U.disabled).map(U=>U.ref.current);hne.includes(L.key)&&Y.reverse(),qit(Y)}),onBlur:xt(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:xt(e.onPointerMove,ww(L=>{const H=L.target,W=_.current!==L.clientX;if(L.currentTarget.contains(H)&&W){const M=L.clientX>_.current?"right":"left";T.current=M,_.current=L.clientX}}))})})})})})})});gne.displayName=Gl;var Mit="MenuGroup",CF=f.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Lt.div,{role:"group",...a,ref:t})});CF.displayName=Mit;var Lit="MenuLabel",vne=f.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Lt.div,{...a,ref:t})});vne.displayName=Lit;var tk="MenuItem",tz="menu.itemSelect",kA=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...n}=e,i=f.useRef(null),o=wj(tk,e.__scopeMenu),l=SF(tk,e.__scopeMenu),c=xr(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(tz,{bubbles:!0,cancelable:!0});h.addEventListener(tz,p=>a==null?void 0:a(p),{once:!0}),EO(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(yne,{...n,ref:c,disabled:r,onClick:xt(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:xt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:xt(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||vD.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});kA.displayName=tk;var yne=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:n,...i}=e,o=SF(tk,r),l=mne(r),c=f.useRef(null),d=xr(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),s.jsx(bw.ItemSlot,{scope:r,disabled:a,textValue:n??m,children:s.jsx(uR,{asChild:!0,...l,focusable:!a,children:s.jsx(Lt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:xt(e.onPointerMove,ww(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xt(e.onPointerLeave,ww(g=>o.onItemLeave(g))),onFocus:xt(e.onFocus,()=>h(!0)),onBlur:xt(e.onBlur,()=>h(!1))})})})}),$it="MenuCheckboxItem",bne=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...n}=e;return s.jsx(kne,{scope:e.__scopeMenu,checked:r,children:s.jsx(kA,{role:"menuitemcheckbox","aria-checked":rk(r)?"mixed":r,...n,ref:t,"data-state":EF(r),onSelect:xt(n.onSelect,()=>a==null?void 0:a(rk(r)?!0:!r),{checkForDefaultPrevented:!1})})})});bne.displayName=$it;var wne="MenuRadioGroup",[Bit,Uit]=Dp(wne,{value:void 0,onValueChange:()=>{}}),jne=f.forwardRef((e,t)=>{const{value:r,onValueChange:a,...n}=e,i=Ma(a);return s.jsx(Bit,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(CF,{...n,ref:t})})});jne.displayName=wne;var Nne="MenuRadioItem",Sne=f.forwardRef((e,t)=>{const{value:r,...a}=e,n=Uit(Nne,e.__scopeMenu),i=r===n.value;return s.jsx(kne,{scope:e.__scopeMenu,checked:i,children:s.jsx(kA,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":EF(i),onSelect:xt(a.onSelect,()=>{var o;return(o=n.onValueChange)==null?void 0:o.call(n,r)},{checkForDefaultPrevented:!1})})})});Sne.displayName=Nne;var AF="MenuItemIndicator",[kne,Vit]=Dp(AF,{checked:!1}),Cne=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...n}=e,i=Vit(AF,r);return s.jsx(Pn,{present:a||rk(i.checked)||i.checked===!0,children:s.jsx(Lt.span,{...n,ref:t,"data-state":EF(i.checked)})})});Cne.displayName=AF;var zit="MenuSeparator",Ane=f.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return s.jsx(Lt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});Ane.displayName=zit;var Wit="MenuArrow",Ene=f.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,n=SA(r);return s.jsx(Bk,{...n,...a,ref:t})});Ene.displayName=Wit;var Hit="MenuSub",[Igt,Pne]=Dp(Hit),sy="MenuSubTrigger",Tne=f.forwardRef((e,t)=>{const r=Op(sy,e.__scopeMenu),a=wj(sy,e.__scopeMenu),n=Pne(sy,e.__scopeMenu),i=SF(sy,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(jF,{asChild:!0,...d,children:s.jsx(yne,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":One(r.open),...e,ref:Tk(t,n.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:xt(e.onPointerMove,ww(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:xt(e.onPointerLeave,ww(h=>{var p,g;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=r.content)==null?void 0:g.dataset.side,y=x==="right",w=y?-5:5,b=m[y?"left":"right"],v=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:b,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:b,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:xt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||kit[a.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});Tne.displayName=sy;var _ne="MenuSubContent",Dne=f.forwardRef((e,t)=>{const r=pne(Gl,e.__scopeMenu),{forceMount:a=r.forceMount,...n}=e,i=Op(Gl,e.__scopeMenu),o=wj(Gl,e.__scopeMenu),l=Pne(_ne,e.__scopeMenu),c=f.useRef(null),d=xr(t,c);return s.jsx(bw.Provider,{scope:e.__scopeMenu,children:s.jsx(Pn,{present:a||i.open,children:s.jsx(bw.Slot,{scope:e.__scopeMenu,children:s.jsx(kF,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:xt(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:xt(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:xt(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=Cit[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});Dne.displayName=_ne;function One(e){return e?"open":"closed"}function rk(e){return e==="indeterminate"}function EF(e){return rk(e)?"indeterminate":e?"checked":"unchecked"}function qit(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Git(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function Kit(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Git(e,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Yit(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>a!=m>a&&r<(h-d)*(a-u)/(m-u)+d&&(n=!n)}return n}function Xit(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Yit(r,t)}function ww(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ine=fne,Rne=jF,Fne=xne,Mne=gne,Lne=CF,$ne=vne,Bne=kA,Une=bne,Vne=jne,zne=Sne,Wne=Cne,Hne=Ane,qne=Ene,Gne=Tne,Kne=Dne,CA="DropdownMenu",[Qit,Rgt]=qa(CA,[NA]),yo=NA(),[Jit,Yne]=Qit(CA),Xne=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=yo(t),d=f.useRef(null),[u,h]=mo({prop:n,defaultProp:i??!1,onChange:o,caller:CA});return s.jsx(Jit,{scope:t,triggerId:cl(),triggerRef:d,contentId:cl(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(Ine,{...c,open:u,onOpenChange:h,dir:a,modal:l,children:r})})};Xne.displayName=CA;var Qne="DropdownMenuTrigger",Jne=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...n}=e,i=Yne(Qne,r),o=yo(r);return s.jsx(Rne,{asChild:!0,...o,children:s.jsx(Lt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Tk(t,i.triggerRef),onPointerDown:xt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:xt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Jne.displayName=Qne;var Zit="DropdownMenuPortal",Zne=e=>{const{__scopeDropdownMenu:t,...r}=e,a=yo(t);return s.jsx(Fne,{...a,...r})};Zne.displayName=Zit;var eie="DropdownMenuContent",tie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=Yne(eie,r),i=yo(r),o=f.useRef(!1);return s.jsx(Mne,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:t,onCloseAutoFocus:xt(e.onCloseAutoFocus,l=>{var c;o.current||(c=n.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:xt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!n.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tie.displayName=eie;var eot="DropdownMenuGroup",tot=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Lne,{...n,...a,ref:t})});tot.displayName=eot;var rot="DropdownMenuLabel",rie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx($ne,{...n,...a,ref:t})});rie.displayName=rot;var sot="DropdownMenuItem",sie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Bne,{...n,...a,ref:t})});sie.displayName=sot;var aot="DropdownMenuCheckboxItem",aie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Une,{...n,...a,ref:t})});aie.displayName=aot;var not="DropdownMenuRadioGroup",iot=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Vne,{...n,...a,ref:t})});iot.displayName=not;var oot="DropdownMenuRadioItem",nie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(zne,{...n,...a,ref:t})});nie.displayName=oot;var lot="DropdownMenuItemIndicator",iie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Wne,{...n,...a,ref:t})});iie.displayName=lot;var cot="DropdownMenuSeparator",oie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Hne,{...n,...a,ref:t})});oie.displayName=cot;var dot="DropdownMenuArrow",uot=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(qne,{...n,...a,ref:t})});uot.displayName=dot;var hot="DropdownMenuSubTrigger",lie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Gne,{...n,...a,ref:t})});lie.displayName=hot;var mot="DropdownMenuSubContent",cie=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,n=yo(r);return s.jsx(Kne,{...n,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cie.displayName=mot;var fot=Xne,pot=Jne,xot=Zne,die=tie,uie=rie,hie=sie,mie=aie,fie=nie,pie=iie,xie=oie,gie=lie,vie=cie;const AA=fot,EA=pot,got=f.forwardRef(({className:e,inset:t,children:r,...a},n)=>s.jsxs(gie,{ref:n,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...a,children:[r,s.jsx(Ms,{className:"ml-auto h-4 w-4"})]}));got.displayName=gie.displayName;const vot=f.forwardRef(({className:e,...t},r)=>s.jsx(vie,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vot.displayName=vie.displayName;const jj=f.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(xot,{children:s.jsx(die,{ref:a,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jj.displayName=die.displayName;const ol=f.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(hie,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ol.displayName=hie.displayName;const yot=f.forwardRef(({className:e,children:t,checked:r,...a},n)=>s.jsxs(mie,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pie,{children:s.jsx(Ba,{className:"h-4 w-4"})})}),t]}));yot.displayName=mie.displayName;const bot=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(fie,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pie,{children:s.jsx(OO,{className:"h-2 w-2 fill-current"})})}),t]}));bot.displayName=fie.displayName;const PF=f.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(uie,{ref:a,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));PF.displayName=uie.displayName;const c0=f.forwardRef(({className:e,...t},r)=>s.jsx(xie,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));c0.displayName=xie.displayName;function TF(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState({limit:1,currentCount:0}),{user:u,refreshUser:h}=$s(),{toast:m}=Rt(),p=Kr();f.useEffect(()=>{g(),x()},[]);const g=async()=>{try{a(!0);const v=await Vi.getUserMarkets();t(v||[])}catch(v){console.error("Failed to load markets:",v),t([])}finally{a(!1)}},x=async()=>{try{const v=await Vi.canCreateMarket();l(v.allowed),d({limit:v.limit,currentCount:v.currentCount})}catch(v){console.error("Failed to check market limit:",v),l(!1)}},y=async v=>{if(!n)try{i(!0);const N=await Vi.switchStore(v);N.accessToken&&localStorage.setItem("accessToken",N.accessToken),N.refreshToken&&localStorage.setItem("refreshToken",N.refreshToken),await h(),m({title:"  ",description:`   ${N.tenantName||""}`}),await g(),p("/dashboard",{replace:!0}),window.location.reload()}catch(N){m({title:" ",description:N.message||"    ",variant:"destructive"})}finally{i(!1)}};return!r&&e.length===0?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs(je,{className:"max-w-2xl w-full",children:[s.jsxs(et,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vs,{className:"h-8 w-8 text-primary"})}),s.jsx(at,{className:"text-2xl",children:"    !"}),s.jsx(Vt,{className:"text-base",children:"    .     "})]}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs(yi,{children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx(Dg,{children:"  !"}),s.jsx(bi,{children:"         "})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"   :"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:"    "})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:"     "})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:"   "})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:"  "})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsx(Qe,{to:"/setup",className:"flex-1",children:s.jsxs(z,{size:"lg",className:"w-full",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"  "]})})})]})]})}):!(e.find(v=>v.isActive)&&(u==null?void 0:u.tenantId)&&u.tenantId!=="default"&&u.tenantId!=="system")&&e.length>0?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs(je,{className:"max-w-2xl w-full",children:[s.jsxs(et,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vs,{className:"h-8 w-8 text-primary"})}),s.jsx(at,{className:"text-2xl",children:" "}),s.jsxs(Vt,{className:"text-base",children:[" ",e.length," .      "]})]}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsx(xn,{className:"h-[300px] rounded-md border p-4",children:s.jsx("div",{className:"space-y-2",children:e.map(v=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors hover:bg-accent ${v.isActive?"border-primary bg-primary/5":"border-border"}`,onClick:()=>y(v.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:v.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.subdomain,".saeaa.com"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:v.status==="ACTIVE"?"default":"secondary",children:v.status==="ACTIVE"?"":" "}),v.isActive&&s.jsx(Ba,{className:"h-5 w-5 text-primary"}),n&&s.jsx(Ge,{className:"h-4 w-4 animate-spin"})]})]},v.id))})}),o&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:[": ",c.currentCount," / ",c.limit]})}),s.jsx(Qe,{to:"/setup",children:s.jsxs(z,{className:"w-full",variant:"outline",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"  "]})})]}),!o&&s.jsxs(yi,{children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx(Dg,{children:"   "}),s.jsxs(bi,{children:[" ",c.currentCount,"  ",c.limit," .       ."]})]})]})]})}):null}const _F=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:be("mx-auto flex w-full justify-center",e),...t});_F.displayName="Pagination";const DF=f.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:be("flex flex-row items-center gap-1",e),...t}));DF.displayName="PaginationContent";const Bf=f.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:be("",e),...t}));Bf.displayName="PaginationItem";const Nj=({className:e,isActive:t,size:r="icon",...a})=>s.jsx("a",{"aria-current":t?"page":void 0,className:be(sC({variant:t?"outline":"ghost",size:r}),e),...a});Nj.displayName="PaginationLink";const yie=({className:e,children:t,...r})=>s.jsxs(Nj,{"aria-label":"Go to previous page",size:"default",className:be("gap-1 pl-2.5",e),...r,children:[s.jsx($c,{className:"h-4 w-4"}),s.jsx("span",{children:t||"Previous"})]});yie.displayName="PaginationPrevious";const bie=({className:e,children:t,...r})=>s.jsxs(Nj,{"aria-label":"Go to next page",size:"default",className:be("gap-1 pr-2.5",e),...r,children:[s.jsx("span",{children:t||"Next"}),s.jsx(Ms,{className:"h-4 w-4"})]});bie.displayName="PaginationNext";const wie=({className:e,...t})=>s.jsxs("span",{"aria-hidden":!0,className:be("flex h-9 w-9 items-center justify-center",e),...t,children:[s.jsx(Wme,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More pages"})]});wie.displayName="PaginationEllipsis";function Qh({currentPage:e,totalPages:t,totalItems:r,itemsPerPage:a,onPageChange:n,onItemsPerPageChange:i,itemsPerPageOptions:o=[10,20,50,100],showItemsPerPage:l=!0,className:c=""}){const{t:d,i18n:u}=Ct(),h=u.language==="ar",m=r===0?0:(e-1)*a+1,p=Math.min(e*a,r),g=()=>{const x=[];if(t<=7)for(let w=1;w<=t;w++)x.push(w);else if(x.push(1),e<=3){for(let w=2;w<=4;w++)x.push(w);x.push("ellipsis"),x.push(t)}else if(e>=t-2){x.push("ellipsis");for(let w=t-3;w<=t;w++)x.push(w)}else{x.push("ellipsis");for(let w=e-1;w<=e+1;w++)x.push(w);x.push("ellipsis"),x.push(t)}return x};return t<=1&&!l?null:s.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between gap-4 px-2 py-4 ${c}`,dir:h?"rtl":"ltr",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-4 sm:gap-6",children:[l&&i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:d("common.itemsPerPage")}),s.jsxs(nr,{value:a.toString(),onValueChange:x=>{i(Number(x)),n(1)},children:[s.jsx(Jt,{className:"h-8 w-[70px]",children:s.jsx(cr,{})}),s.jsx(Zt,{children:o.map(x=>s.jsx(Oe,{value:x.toString(),children:x},x))})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:d("common.showingResults",{start:m,end:p,total:r})})]}),t>1&&s.jsx(_F,{children:s.jsxs(DF,{children:[s.jsx(Bf,{children:s.jsx(yie,{onClick:()=>n(Math.max(1,e-1)),className:e===1?"pointer-events-none opacity-50":"cursor-pointer",children:d("common.previous")})}),g().map((x,y)=>s.jsx(Bf,{children:x==="ellipsis"?s.jsx(wie,{}):s.jsx(Nj,{onClick:()=>n(x),isActive:e===x,className:"cursor-pointer",children:x})},y)),s.jsx(Bf,{children:s.jsx(bie,{onClick:()=>n(Math.min(t,e+1)),className:e===t?"pointer-events-none opacity-50":"cursor-pointer",children:d("common.next")})})]})})]})}var PA="Switch",[wot,Fgt]=qa(PA),[jot,Not]=wot(PA),jie=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),g=xr(t,v=>p(v)),x=f.useRef(!1),y=m?u||!!m.closest("form"):!0,[w,b]=mo({prop:n,defaultProp:i??!1,onChange:d,caller:PA});return s.jsxs(jot,{scope:r,checked:w,disabled:l,children:[s.jsx(Lt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Cie(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:xt(e.onClick,v=>{b(N=>!N),y&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),y&&s.jsx(kie,{control:m,bubbles:!x.current,name:a,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});jie.displayName=PA;var Nie="SwitchThumb",Sie=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,n=Not(Nie,r);return s.jsx(Lt.span,{"data-state":Cie(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});Sie.displayName=Nie;var Sot="SwitchBubbleInput",kie=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=xr(o,i),c=Xw(r),d=Bw(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:a});p.call(u,r),u.dispatchEvent(g)}},[c,r,a]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kie.displayName=Sot;function Cie(e){return e?"checked":"unchecked"}var Aie=jie,kot=Sie;const ir=f.forwardRef(({className:e,...t},r)=>s.jsx(Aie,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(kot,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ir.displayName=Aie.displayName;const rz={async getImages(e){const t=new URLSearchParams;e.folder?t.append("folder",e.folder):e.folders&&e.folders.length>0&&t.append("folders",e.folders.join(",")),e.resource_type&&t.append("resource_type",e.resource_type),e.limit&&t.append("limit",e.limit.toString()),e.next_cursor&&t.append("next_cursor",e.next_cursor),e.next_cursors&&t.append("next_cursors",encodeURIComponent(JSON.stringify(e.next_cursors))),e.sort&&t.append("sort",e.sort),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(","));const r=`${Q.coreUrl}/media/images?${t.toString()}`;return Q.fetch(r,{requireAuth:!0})},async listFolders(e){const t=new URLSearchParams;e&&t.append("root",e);const r=`${Q.coreUrl}/media/folders${t.toString()?`?${t.toString()}`:""}`;return Q.fetch(r,{requireAuth:!0})},async getImagesFromFolder(e,t){return this.getImages({folder:e,next_cursor:t==null?void 0:t.nextCursor,limit:t==null?void 0:t.limit,sort:t==null?void 0:t.sort})},async getImagesFromFolders(e,t){return this.getImages({folders:e,next_cursors:t==null?void 0:t.nextCursors,limit:t==null?void 0:t.limit,sort:t==null?void 0:t.sort})}};function TN({open:e,onOpenChange:t,onSelect:r,multiple:a=!0}){const{t:n}=Ct(),{toast:i}=Rt(),[o,l]=f.useState([]),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(new Set),[g,x]=f.useState(0),[y,w]=f.useState(!1),[b,v]=f.useState(!1),[N,j]=f.useState(),[k,S]=f.useState(!1),[C,A]=f.useState(""),E=f.useRef(!1),D=f.useRef(!1),P=f.useRef(!1),T=f.useRef(""),_=f.useCallback(async()=>{if(!E.current){E.current=!0,v(!0);try{const H=await rz.listFolders();l(H.folders||[])}catch(H){const W=H instanceof Error?H.message:n("storefront.cloudinary.toasts.loadFoldersError");console.error(" Failed to load folders:",H),i({title:n("storefront.cloudinary.toasts.loadFoldersError"),description:W,variant:"destructive"})}finally{v(!1),E.current=!1}}},[i,n]),O=f.useCallback(async(H,W)=>{if(!(D.current&&!W)){D.current=!0,w(!0);try{const M=await rz.getImagesFromFolder(H,{limit:50,nextCursor:W,sort:"desc"});h(W?G=>[...G,...M.data]:M.data),j(M.next_cursor),S(!!M.next_cursor)}catch(M){const G=M instanceof Error?M.message:n("storefront.cloudinary.toasts.loadImagesError");console.error(" Failed to load images:",M),i({title:n("storefront.cloudinary.toasts.loadImagesError"),description:G,variant:"destructive"})}finally{w(!1),D.current=!1}}},[i,n]);f.useEffect(()=>{e&&!P.current&&(d(""),h([]),p(new Set),x(0),j(void 0),A(""),T.current="",_()),P.current=e},[e,_]),f.useEffect(()=>{e&&o.length>0&&!c&&d(o[0])},[e,o,c]),f.useEffect(()=>{e&&c&&c!==T.current&&(T.current=c,O(c))},[e,c,O]);const F=()=>{c&&N&&!y&&O(c,N)},I=H=>{p(W=>{const M=new Set(W);M.has(H)?M.delete(H):(!a&&M.size>0&&M.clear(),M.add(H));const G=M.size;if(x(G),console.log(" [CloudinaryImagePicker] Selection changed:",Array.from(M),"Count:",G),!a&&M.size>0){const V=Array.from(M);console.log(" [CloudinaryImagePicker] Auto-selecting in single mode:",V),setTimeout(()=>{r(V),p(new Set),x(0),t(!1)},100)}return M})},R=()=>{try{console.log(" [CloudinaryImagePicker] handleSelect called");const H=Array.from(m);if(console.log(" [CloudinaryImagePicker] Selected URLs:",H),H.length===0){console.warn(" [CloudinaryImagePicker] No images selected"),i({title:n("storefront.cloudinary.toasts.noSelection"),description:n("storefront.cloudinary.toasts.noSelectionDesc"),variant:"destructive"});return}console.log(" [CloudinaryImagePicker] Calling onSelect prop"),r(H),console.log(" [CloudinaryImagePicker] onSelect returned"),p(new Set),t(!1)}catch(H){console.error(" [CloudinaryImagePicker] Error in handleSelect:",H),i({title:n("common.error"),description:n("storefront.cloudinary.toasts.selectError"),variant:"destructive"})}},L=C?u.filter(H=>H.public_id.toLowerCase().includes(C.toLowerCase())):u;return s.jsx(Qt,{open:e,onOpenChange:H=>{t(H)},children:s.jsxs(Yt,{className:"max-w-6xl max-h-[90vh]",style:{zIndex:9999},children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Ni,{className:"h-5 w-5"}),n("storefront.cloudinary.title")]}),s.jsx(ur,{children:n("storefront.cloudinary.desc",{selectionText:n(a?"storefront.cloudinary.multiple":"storefront.cloudinary.single")})})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",style:{height:"600px",maxHeight:"calc(90vh - 200px)"},children:[s.jsx("div",{className:"col-span-3 border-r pr-4 flex flex-col",children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[s.jsx(qv,{className:"h-4 w-4"}),n("storefront.cloudinary.folders")]}),b?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ge,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):s.jsx(xn,{className:"flex-1 min-h-0",children:s.jsx("div",{className:"space-y-1",children:o.map(H=>s.jsxs("button",{onClick:()=>{d(H),h([]),j(void 0),p(new Set),x(0)},className:`w-full text-right px-3 py-2 rounded-md text-sm transition-colors flex items-center justify-between ${c===H?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[s.jsx("span",{className:"truncate",children:H}),c===H&&s.jsx(Ms,{className:"h-4 w-4"})]},H))})})]})}),s.jsxs("div",{className:"col-span-9 flex flex-col min-h-0",children:[s.jsx("div",{className:"mb-4 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:n("storefront.cloudinary.search"),value:C,onChange:H=>A(H.target.value),className:"pr-10"})]})}),g>0&&s.jsx("div",{className:"mb-4 flex-shrink-0",children:s.jsx(Ze,{variant:"secondary",children:a?n("storefront.cloudinary.selectedCount",{count:g}):n("storefront.cloudinary.selectedCountSingle")})}),s.jsx(xn,{className:"flex-1 min-h-0",children:y&&u.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):L.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[s.jsx(Ni,{className:"h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:n("storefront.cloudinary.noImages")})]}):s.jsx("div",{className:"grid grid-cols-4 gap-4 pb-4",children:L.map((H,W)=>{const M=m.has(H.secure_url);return s.jsx("div",{className:`relative group cursor-pointer rounded-lg border-2 overflow-hidden transition-all aspect-square ${M?"border-primary ring-2 ring-primary ring-offset-2":"border-border hover:border-primary/50"}`,onClick:()=>I(H.secure_url),children:s.jsxs("div",{className:"relative w-full h-full bg-muted",children:[s.jsx("img",{src:H.secure_url,alt:H.public_id,className:"w-full h-full object-cover",loading:"lazy",onError:G=>{console.error("Failed to load image:",H.secure_url);const V=G.target;V.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23ddd" width="200" height="200"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="14" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EImage%3C/text%3E%3C/svg%3E'}}),M&&s.jsx("div",{className:"absolute inset-0 bg-primary/30 flex items-center justify-center backdrop-blur-sm",children:s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full p-2 shadow-lg",children:s.jsx(hr,{className:"h-5 w-5"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent text-white text-xs p-2",children:s.jsx("p",{className:"truncate font-medium",children:H.public_id.split("/").pop()})}),!M&&s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]})},`${H.public_id}-${W}`)})})}),k&&s.jsx("div",{className:"mt-4 flex justify-center flex-shrink-0",children:s.jsx(z,{variant:"outline",onClick:F,disabled:y,className:"w-full",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),n("storefront.cloudinary.loading")]}):n("storefront.cloudinary.loadMore")})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>t(!1),children:n("storefront.cloudinary.cancel")}),s.jsxs(z,{onClick:R,disabled:g===0,className:g>0?"":"opacity-50 cursor-not-allowed",children:[n("storefront.cloudinary.save")," ",g>0&&`(${g})`]})]})]})})}function sz({value:e,onChange:t,placeholder:r,className:a,dir:n="ltr"}){const i=f.useRef(null),[o,l]=f.useState({bold:!1,italic:!1,underline:!1,strikeThrough:!1,justifyLeft:!1,justifyCenter:!1,justifyRight:!1});f.useEffect(()=>{i.current&&i.current.innerHTML!==e&&(i.current.innerHTML=e||"")},[e]);const c=()=>{l({bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),underline:document.queryCommandState("underline"),strikeThrough:document.queryCommandState("strikeThrough"),justifyLeft:document.queryCommandState("justifyLeft"),justifyCenter:document.queryCommandState("justifyCenter"),justifyRight:document.queryCommandState("justifyRight")})},d=(m,p)=>{document.execCommand(m,!1,p),c(),i.current&&t(i.current.innerHTML)},u=()=>{i.current&&t(i.current.innerHTML)},h=({onClick:m,icon:p,label:g,title:x,isActive:y})=>s.jsx(z,{type:"button",variant:"ghost",size:"icon",className:be("h-8 w-8 text-white/80 hover:bg-white/10 hover:text-white transition-colors",y&&"bg-white/20 text-white"),onClick:m,title:x,children:p?s.jsx(p,{className:"h-4 w-4"}):g});return s.jsxs("div",{className:be("border rounded-md overflow-hidden bg-background flex flex-col",a),children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-1.5 bg-[#0f172a] border-b border-slate-800",children:[s.jsx(h,{onClick:()=>d("undo"),icon:ofe,title:"Undo"}),s.jsx(h,{onClick:()=>d("redo"),icon:afe,title:"Redo"}),s.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),s.jsx(h,{onClick:()=>d("insertImage",prompt("Enter image URL")||""),icon:Ni,title:"Insert Image"}),s.jsx(h,{onClick:()=>d("createLink",prompt("Enter URL")||""),icon:_f,title:"Insert Link"}),s.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),s.jsx(h,{onClick:()=>d("justifyLeft"),icon:dG,title:"Align Left",isActive:o.justifyLeft}),s.jsx(h,{onClick:()=>d("justifyCenter"),icon:cG,title:"Align Center",isActive:o.justifyCenter}),s.jsx(h,{onClick:()=>d("justifyRight"),icon:uG,title:"Align Right",isActive:o.justifyRight}),s.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),s.jsx(h,{onClick:()=>d("insertOrderedList"),icon:Qme,title:"Ordered List"}),s.jsx(h,{onClick:()=>d("insertUnorderedList"),icon:Mw,title:"Unordered List"}),s.jsx("div",{className:"w-px h-4 bg-slate-700 mx-1"}),s.jsx(h,{onClick:()=>d("strikeThrough"),label:s.jsx("span",{className:"line-through font-serif text-lg",children:"S"}),title:"Strikethrough",isActive:o.strikeThrough}),s.jsx(h,{onClick:()=>d("underline"),label:s.jsx("span",{className:"underline font-serif text-lg",children:"U"}),title:"Underline",isActive:o.underline}),s.jsx(h,{onClick:()=>d("italic"),label:s.jsx("span",{className:"italic font-serif text-lg",children:"I"}),title:"Italic",isActive:o.italic}),s.jsx(h,{onClick:()=>d("bold"),label:s.jsx("span",{className:"font-bold font-serif text-lg",children:"B"}),title:"Bold",isActive:o.bold})]}),s.jsx("div",{ref:i,contentEditable:!0,onInput:u,onMouseUp:c,onKeyUp:c,className:be("min-h-[200px] p-4 focus:outline-none prose prose-sm max-w-none dark:prose-invert relative overflow-y-auto",n==="rtl"?"text-right":"text-left",!e&&"before:content-[attr(data-placeholder)] before:absolute before:text-muted-foreground before:pointer-events-none"),dir:n,"data-placeholder":r})]})}function yD({initialData:e,initialImages:t=[],categories:r,brands:a,units:n,suppliers:i,onSave:o,onCancel:l,isEditing:c=!1}){const{t:d}=Ct(),{toast:u}=Rt(),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(!1),[w,b]=f.useState(t),[v,N]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:"",compareAtPrice:"",cost:"",sku:"",barcode:"",stock:"",lowStockThreshold:"10",categoryId:"",status:"ACTIVE",featured:!1,tags:"",metaTitle:"",metaDescription:"",weight:"",dimensions:"",unitId:"",productCode:"",odooProductId:"",path:"",categoryIds:[],brandId:"",supplierIds:[],suppliers:[],minQuantity:"",maxQuantity:"",enableSlider:!1,...e});f.useEffect(()=>{if(v.suppliers&&v.suppliers.length>0){const C=v.suppliers.map(A=>parseFloat(A.price)).filter(A=>!isNaN(A)&&A>0);if(C.length>0){const A=Math.min(...C);N(E=>({...E,cost:A.toFixed(2)}))}}},[v.suppliers]);const j=f.useRef(v.name);f.useEffect(()=>{if(v.name!==j.current){const C=v.name!==j.current,A=!v.path||v.path===j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,"")||v.path.endsWith("-")&&!v.path.includes(j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,""));if(C&&A){const E=v.name.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""),D=v.path||"";if(D.includes("-")&&!D.startsWith(j.current.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,""))){const T=D.lastIndexOf("-"),_=D.substring(0,T+1);N(O=>({...O,path:_+E}))}else N(T=>({...T,path:E}))}j.current=v.name}},[v.name,v.path]);const k=async C=>{const A=C.target.files;if(!(!A||A.length===0)){for(const E of Array.from(A)){const{isValid:D,reason:P}=await Rk(E);if(!D){u({title:"  ",description:`   ${E.name}: ${P}`,variant:"destructive"});return}}g(!0);try{const E=new FormData;for(let P=0;P<A.length;P++)E.append("images",A[P]);const D=await he.post("/upload/product-images",E,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(D.images&&D.images.length>0){const P=D.images.map(T=>T.secureUrl||T.url||"");b(T=>[...T,...P]),u({title:"  ",description:"   "})}}catch(E){console.error("Failed to upload images:",E),u({title:"  ",description:"    .    .",variant:"destructive"})}finally{g(!1)}}},S=async()=>{var C,A;if(!((C=v.name)!=null&&C.trim())){u({title:" ",description:"  ",variant:"destructive"});return}if(!((A=v.price)!=null&&A.trim())){u({title:" ",description:"  ",variant:"destructive"});return}if(isNaN(parseFloat(v.price))||parseFloat(v.price)<0){u({title:"  ",description:"     ",variant:"destructive"});return}m(!0);try{await o(v,w)}catch(E){console.error(E)}finally{m(!1)}};return s.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-1 py-2 min-h-0",children:s.jsxs("div",{className:"space-y-8 pb-12",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),d("dashboard.products.form.basicInfo")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"text-lg font-semibold",children:d("dashboard.products.form.media")}),s.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 mb-4",children:[w.map((C,A)=>s.jsxs("div",{className:"relative group aspect-square",children:[s.jsx("img",{src:C,alt:`Product ${A+1}`,className:"w-full h-full object-cover rounded-md border shadow-sm"}),s.jsx(z,{type:"button",variant:"destructive",size:"icon",className:"absolute top-0.5 right-0.5 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(E=>E.filter((D,P)=>P!==A)),children:s.jsx(_r,{className:"h-3 w-3"})})]},A)),s.jsxs("div",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed rounded-md hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{var C;return(C=document.getElementById("wizard-image-upload"))==null?void 0:C.click()},children:[s.jsx(Gn,{className:"h-6 w-6 text-muted-foreground mb-1"}),s.jsx("span",{className:"text-xs text-muted-foreground text-center px-1",children:d("dashboard.products.form.uploadImages","")})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{id:"wizard-image-upload",type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden"}),s.jsxs(z,{type:"button",variant:"secondary",onClick:()=>{var C;return(C=document.getElementById("wizard-image-upload"))==null?void 0:C.click()},disabled:p,className:"flex-1",children:[s.jsx(Ni,{className:"ml-2 h-4 w-4"}),p?d("dashboard.products.form.saving"," ..."):d("dashboard.products.form.orClickToUpload","  ")]}),s.jsxs(z,{type:"button",variant:"outline",onClick:()=>y(!0),className:"flex-1",children:[s.jsx(Ik,{className:"ml-2 h-4 w-4"}),d("dashboard.products.form.browseCloudinary"," ")]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"name",children:["  (English) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(me,{id:"name",value:v.name,onChange:C=>N({...v,name:C.target.value}),placeholder:d("dashboard.products.form.name"),className:"text-left",dir:"ltr"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"nameAr",children:d("dashboard.products.form.nameAr")}),s.jsx(me,{id:"nameAr",value:v.nameAr,onChange:C=>N({...v,nameAr:C.target.value}),placeholder:d("dashboard.products.form.nameAr"),className:"text-right",dir:"rtl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"sku",children:d("dashboard.products.form.sku")}),s.jsx(me,{id:"sku",value:v.sku,onChange:C=>N({...v,sku:C.target.value}),placeholder:"SKU-001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:d("dashboard.products.form.categories")}),s.jsxs(nr,{value:"",onValueChange:C=>{C&&!v.categoryIds.includes(C)&&N({...v,categoryIds:[...v.categoryIds,C]})},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:d("dashboard.products.form.selectCategories")})}),s.jsx(Zt,{children:r.filter(C=>!v.categoryIds.includes(C.id)).map(C=>s.jsx(Oe,{value:C.id,children:C.nameAr||C.name},C.id))})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.categoryIds.map(C=>{const A=r.find(E=>E.id===C);return A?s.jsxs(Ze,{variant:"secondary",className:"flex items-center gap-1 py-1 px-3",children:[A.nameAr||A.name,s.jsx(hr,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>N({...v,categoryIds:v.categoryIds.filter(E=>E!==C)})})]},C):null})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"path",children:d("dashboard.products.form.path")}),s.jsx(me,{id:"path",value:v.path,onChange:C=>N({...v,path:C.target.value}),placeholder:d("dashboard.products.form.pathPlaceholder"),className:"text-left",dir:"ltr"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"description",children:d("dashboard.products.form.description")}),s.jsx(sz,{value:v.description,onChange:C=>N({...v,description:C}),placeholder:d("dashboard.products.form.description"),dir:"ltr"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"descriptionAr",children:d("dashboard.products.form.descriptionAr")}),s.jsx(sz,{value:v.descriptionAr,onChange:C=>N({...v,descriptionAr:C}),placeholder:d("dashboard.products.form.descriptionAr"),dir:"rtl"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"tags",children:d("dashboard.products.form.tags")}),s.jsx(me,{id:"tags",value:v.tags,onChange:C=>N({...v,tags:C.target.value}),placeholder:d("dashboard.products.form.tagsPlaceholder")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"productCode",children:d("dashboard.products.form.productCode")}),s.jsx(me,{id:"productCode",value:v.productCode,onChange:C=>N({...v,productCode:C.target.value}),placeholder:d("dashboard.products.form.optional")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"odooProductId",children:d("dashboard.products.form.odooId")}),s.jsx(me,{id:"odooProductId",value:v.odooProductId,onChange:C=>N({...v,odooProductId:C.target.value}),placeholder:d("dashboard.products.form.optional")})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[s.jsx(pn,{className:"w-5 h-5"}),d("dashboard.products.form.pricingInventory")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(pn,{className:"w-4 h-4"})," ",d("dashboard.products.form.pricing")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"price",children:[d("dashboard.products.form.price")," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(me,{id:"price",type:"number",step:"0.01",min:"0",value:v.price,onChange:C=>N({...v,price:C.target.value}),placeholder:"0.00",className:"text-lg font-medium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"compareAtPrice",children:d("dashboard.products.form.compareAtPrice")}),s.jsx(me,{id:"compareAtPrice",type:"number",step:"0.01",value:v.compareAtPrice,onChange:C=>N({...v,compareAtPrice:C.target.value}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"cost",children:d("dashboard.products.form.cost")}),s.jsx(me,{id:"cost",type:"number",step:"0.01",value:v.cost,onChange:C=>N({...v,cost:C.target.value}),placeholder:"0.00",disabled:v.suppliers.length>0,className:v.suppliers.length>0?"bg-muted cursor-not-allowed":""})]})]})}),s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4"})," ",d("dashboard.products.form.inventory")]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"barcode",children:d("dashboard.products.form.barcode")}),s.jsx(me,{id:"barcode",value:v.barcode,onChange:C=>N({...v,barcode:C.target.value}),placeholder:"123456789"})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"stock",children:d("dashboard.products.form.quantity")}),s.jsx(me,{id:"stock",type:"number",value:v.stock,onChange:C=>N({...v,stock:C.target.value}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"lowStockThreshold",children:d("dashboard.products.form.lowStockThreshold")}),s.jsx(me,{id:"lowStockThreshold",type:"number",value:v.lowStockThreshold,onChange:C=>N({...v,lowStockThreshold:C.target.value}),placeholder:"10"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(X,{className:"text-base font-semibold",children:d("dashboard.products.form.advanced"," ")}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"unitId",children:d("dashboard.products.form.unit")}),s.jsxs(nr,{value:v.unitId,onValueChange:C=>N({...v,unitId:C}),children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:d("dashboard.products.form.selectUnit")})}),s.jsx(Zt,{children:n.map(C=>s.jsxs(Oe,{value:C.id,children:[C.nameAr||C.name," (",C.code,")"]},C.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"weight",children:d("dashboard.products.form.weight")}),s.jsx(me,{id:"weight",type:"number",step:"0.01",value:v.weight,onChange:C=>N({...v,weight:C.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"dimensions",children:d("dashboard.products.form.dimensions")}),s.jsx(me,{id:"dimensions",value:v.dimensions,onChange:C=>N({...v,dimensions:C.target.value}),placeholder:d("dashboard.products.form.dimensionsPlaceholder")})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(X,{className:"text-base font-semibold",children:d("dashboard.products.form.suppliers"," ")}),s.jsxs(nr,{value:"",onValueChange:C=>{if(C){const A=i.find(E=>E.id===C);A&&!v.suppliers.some(E=>E.supplierId===C)&&N({...v,suppliers:[...v.suppliers,{supplierId:C,price:"",discountRate:A.discountRate,isPrimary:v.suppliers.length===0}]})}},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:d("dashboard.products.form.addSupplier")})}),s.jsx(Zt,{children:i.filter(C=>!v.suppliers.some(A=>A.supplierId===C.id)).map(C=>s.jsx(Oe,{value:C.id,children:C.nameAr||C.name},C.id))})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:v.suppliers.map((C,A)=>{const E=i.find(D=>D.id===C.supplierId);return E?s.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg bg-muted/30 gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:E.nameAr||E.name}),C.isPrimary&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full",children:d("dashboard.products.form.setAsPrimary","")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(X,{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.price","")}),s.jsx(me,{type:"number",step:"0.01",value:C.price,onChange:D=>{const P=[...v.suppliers];P[A].price=D.target.value,N({...v,suppliers:P})},placeholder:"0.00",className:"h-8 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(X,{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.discountRate","  %")}),s.jsx(me,{type:"number",step:"0.01",min:"0",max:"100",value:C.discountRate||E.discountRate||"",onChange:D=>{const P=[...v.suppliers];P[A].discountRate=parseFloat(D.target.value)||0,N({...v,suppliers:P})},placeholder:"0",className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ki,{id:`primary-${C.supplierId}`,checked:C.isPrimary||!1,onCheckedChange:D=>{const P=v.suppliers.map((T,_)=>({...T,isPrimary:_===A?D===!0:!1}));N({...v,suppliers:P})}}),s.jsx(X,{htmlFor:`primary-${C.supplierId}`,className:"text-xs cursor-pointer",children:d("dashboard.products.form.setAsPrimary","  ")})]})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive flex-shrink-0",onClick:()=>N({...v,suppliers:v.suppliers.filter((D,P)=>P!==A)}),children:s.jsx(hr,{className:"h-4 w-4"})})]},C.supplierId):null})})]})]}),s.jsx(je,{className:"bg-muted/20 border-dashed",children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(X,{htmlFor:"enableSlider",className:"font-semibold",children:d("dashboard.products.form.quantitySlider")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.quantitySliderDesc")})]}),s.jsx(ir,{id:"enableSlider",checked:v.enableSlider,onCheckedChange:C=>N({...v,enableSlider:C})})]}),v.enableSlider&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"minQuantity",children:d("dashboard.products.form.minQuantity")}),s.jsx(me,{id:"minQuantity",type:"number",min:"1",value:v.minQuantity,onChange:C=>N({...v,minQuantity:C.target.value}),placeholder:"1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"maxQuantity",children:d("dashboard.products.form.maxQuantity")}),s.jsx(me,{id:"maxQuantity",type:"number",min:"1",value:v.maxQuantity,onChange:C=>N({...v,maxQuantity:C.target.value}),placeholder:"100"})]})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-bold border-b pb-2 flex items-center gap-2",children:[s.jsx(vs,{className:"w-5 h-5"}),d("dashboard.products.form.seoSettings")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Oa,{className:"w-4 h-4"})," ",d("dashboard.products.form.seo")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"metaTitle",children:d("dashboard.products.form.metaTitle")}),s.jsx(me,{id:"metaTitle",value:v.metaTitle,onChange:C=>N({...v,metaTitle:C.target.value}),placeholder:d("dashboard.products.form.metaTitlePlaceholder"),maxLength:60})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"metaDescription",children:d("dashboard.products.form.metaDescription")}),s.jsx(Fs,{id:"metaDescription",value:v.metaDescription,onChange:C=>N({...v,metaDescription:C.target.value}),placeholder:d("dashboard.products.form.metaDescriptionPlaceholder"),rows:5,maxLength:160})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(vs,{className:"w-4 h-4"})," ",d("dashboard.products.form.publishSettings")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"status",children:d("dashboard.products.form.productStatus")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.productStatusDesc")})]}),s.jsxs(nr,{value:v.status,onValueChange:C=>N({...v,status:C}),children:[s.jsx(Jt,{className:"w-[140px]",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"ACTIVE",children:d("dashboard.products.statusBadges.active")}),s.jsx(Oe,{value:"DRAFT",children:d("dashboard.products.statusBadges.draft")}),s.jsx(Oe,{value:"ARCHIVED",children:d("dashboard.products.statusBadges.archived")})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"featured",children:d("dashboard.products.form.featuredProduct")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d("dashboard.products.form.featuredProductDesc")})]}),s.jsx(ir,{id:"featured",checked:v.featured,onCheckedChange:C=>N({...v,featured:C})})]})]})]})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 pb-2 border-t bg-background flex-shrink-0 relative z-10",children:[s.jsx(z,{variant:"outline",onClick:l,children:d("dashboard.products.form.cancel")}),s.jsx(z,{onClick:S,disabled:h,children:h?s.jsx(s.Fragment,{children:d("dashboard.products.form.saving")}):s.jsxs(s.Fragment,{children:[d(c?"dashboard.products.form.updateProduct":"dashboard.products.form.addProduct"),s.jsx(Ba,{className:"w-4 h-4 mr-2"})]})})]}),x&&s.jsx(TN,{open:x,onOpenChange:y,onSelect:C=>{b(A=>[...A,...C]),y(!1)},multiple:!0})]})}function Cot({open:e,onOpenChange:t,categories:r,brands:a,units:n,suppliers:i,onSuccess:o}){const{toast:l}=Rt(),[c,d]=f.useState("upload"),[u,h]=f.useState(null),[m,p]=f.useState([]),[g,x]=f.useState([]),[y,w]=f.useState({current:0,total:0,message:""}),[b,v]=f.useState([]),[N,j]=f.useState(0),k=f.useRef(!1),S=()=>{d("upload"),h(null),p([]),x([]),w({current:0,total:0,message:""}),v([]),j(0),k.current=!1},C=async D=>{var T;const P=(T=D.target.files)==null?void 0:T[0];if(P){h(P);try{const _=await P.arrayBuffer(),O=fm(_),F=O.Sheets[O.SheetNames[0]],I=$r.sheet_to_json(F);if(I.length===0){l({title:" ",description:"     ",variant:"destructive"});return}x(I),p(I.slice(0,5)),d("preview")}catch(_){console.error("Error reading file:",_),l({title:"   ",description:"     Excel  (.xlsx, .xls)",variant:"destructive"})}}},A=D=>D==null?"":String(D).trim(),E=async()=>{d("importing"),w({current:0,total:g.length,message:" ..."}),k.current=!1;let D=0;const P=[],T=5;for(let _=0;_<g.length&&!k.current;_+=T){const O=g.slice(_,_+T);await Promise.all(O.map(async(F,I)=>{var L,H;const R=_+I+2;try{const W=A(F.Name),M=A(F.NameAr),G=F.Price,V=A(F.SKU),q=A(F.ProductId);if(!W&&!M)throw new Error("   (Name or NameAr)");if(!G)throw new Error("  (Price)");let Y;if(F.Category){const J=r.find(K=>{var se;return K.name.toLowerCase()===F.Category.toLowerCase()||((se=K.nameAr)==null?void 0:se.toLowerCase())===F.Category.toLowerCase()});Y=J==null?void 0:J.id}let U;if(F.Brand||F.BrandCode){const J=a.find(K=>{var se,B;return F.Brand&&K.name.toLowerCase()===F.Brand.toLowerCase()||F.Brand&&((se=K.nameAr)==null?void 0:se.toLowerCase())===F.Brand.toLowerCase()||F.BrandCode&&((B=K.code)==null?void 0:B.toLowerCase())===F.BrandCode.toLowerCase()});U=J==null?void 0:J.id}const Z={name:W||M||"Product",nameAr:M||W,description:A(F.Description),descriptionAr:A(F.DescriptionAr),price:Number(G),sku:V||void 0,productId:q||void 0,barcode:A(F.Barcode)||void 0,stock:Number(F.Stock)||0,categoryId:Y,brandId:U,isAvailable:!0,isPublished:!0,variants:[{name:"Default",price:Number(G),inventoryQuantity:Number(F.Stock)||0,sku:V||void 0}]};await he.createProduct(Z,!0),D++}catch(W){console.error(`Error row ${R}:`,W);const M=W;let G=M.message||"  ";(H=(L=M.response)==null?void 0:L.data)!=null&&H.message&&(G=Array.isArray(M.response.data.message)?M.response.data.message.join(", "):M.response.data.message),P.push({row:R,product:F.Name||F.NameAr||"Unknown",error:G})}})),w({current:Math.min(_+T,g.length),total:g.length,message:`  ${Math.min(_+T,g.length)}  ${g.length}`})}j(D),v(P),d("result"),D>0&&o()};return s.jsx(Qt,{open:e,onOpenChange:D=>{!D&&c==="importing"?confirm("     ")&&(k.current=!0,t(!1)):(t(D),D||setTimeout(S,300))},children:s.jsxs(Yt,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:" "}),s.jsx(ur,{children:"    Excel  "})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:s.jsxs(Wi,{mode:"wait",children:[c==="upload"&&s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center h-64 border-2 border-dashed rounded-lg bg-muted/30 gap-4",children:[s.jsx("div",{className:"p-4 rounded-full bg-primary/10",children:s.jsx(mG,{className:"w-10 h-10 text-primary"})}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"  Excel"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(me,{type:"file",accept:".xlsx, .xls",className:"hidden",id:"import-file",onChange:C}),s.jsxs(z,{onClick:()=>{var D;return(D=document.getElementById("import-file"))==null?void 0:D.click()},children:[s.jsx(Gn,{className:"w-4 h-4 ml-2"})," "]}),s.jsx("a",{href:"/template.xlsx",className:"text-xs text-primary hover:underline mt-2",children:"  "})]},"upload"),c==="preview"&&s.jsxs(Je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[s.jsxs(yi,{children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx(Dg,{children:"   "}),s.jsxs(bi,{children:["   ",g.length," .    5 ."]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsx(jt,{children:m.length>0&&Object.keys(m[0]).slice(0,5).map(D=>s.jsx(Ee,{children:D},D))})}),s.jsx(ss,{children:m.map((D,P)=>s.jsx(jt,{children:Object.values(D).slice(0,5).map((T,_)=>s.jsx(ke,{children:String(T)},_))},P))})]})})]},"preview"),c==="importing"&&s.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-12 space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{className:"w-16 h-16 text-primary animate-spin"}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold",children:[Math.round(y.current/y.total*100),"%"]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:" ..."}),s.jsx("p",{className:"text-muted-foreground",children:y.message})]}),s.jsx(wF,{value:y.current/y.total*100,className:"w-full max-w-md"})]},"importing"),c==="result"&&s.jsxs(Je.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:N}),s.jsx("div",{className:"text-sm text-green-800",children:" "})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:b.length}),s.jsx("div",{className:"text-sm text-red-800",children:""})]})]}),b.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Us,{className:"w-4 h-4 text-destructive"})," "]}),s.jsx(xn,{className:"h-48 border rounded-lg p-2 bg-muted/20",children:s.jsx("div",{className:"space-y-2",children:b.map((D,P)=>s.jsxs("div",{className:"text-sm p-2 bg-white rounded border flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold",children:[" ",D.row,":"]})," ",D.product]}),s.jsx("div",{className:"text-destructive text-xs",children:D.error})]},P))})})]})]},"result")]})}),s.jsxs(Vr,{className:"mt-4",children:[c==="upload"&&s.jsx(z,{variant:"outline",onClick:()=>t(!1),children:""}),c==="preview"&&s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",onClick:()=>{d("upload"),h(null)},children:[s.jsx(Ms,{className:"w-4 h-4 ml-2"}),""]}),s.jsxs(z,{onClick:E,children:[" ",s.jsx($c,{className:"w-4 h-4 mr-2"})]})]}),c==="result"&&s.jsx(z,{onClick:()=>t(!1),children:""})]})]})})}function Aot(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",{toast:a}=Rt(),n=Kr(),{user:i}=$s(),[o,l]=Nm(),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState([]),[y,w]=f.useState([]),[b,v]=f.useState(!0),[N,j]=f.useState(""),[k,S]=f.useState("all"),[C,A]=f.useState("all"),[E,D]=f.useState(!1),[P,T]=f.useState(null),[_,O]=f.useState(null),[F,I]=f.useState(!1),[R,L]=f.useState(!1),[H,W]=f.useState({current:0,total:0,currentItem:""}),[M,G]=f.useState(new Set),[V,q]=f.useState(!1),[Y,U]=f.useState([]),[Z,J]=f.useState(!1),K=f.useRef(!1),[se,B]=f.useState(1),[Ne,ye]=f.useState(20),[Re,qe]=f.useState(0),[He,fe]=f.useState(1),[Ue,ie]=f.useState({}),[Pe,Te]=f.useState([]),[Ve,Le]=f.useState(!1),[de,xe]=f.useState("all");f.useEffect(()=>{st()},[]),f.useEffect(()=>{if(Y.length>0&&!R&&(console.log(" useEffect: Checking error dialog state",{errorsCount:Y.length,isImporting:R,showImportErrorDialog:Z}),!Z)){console.log(" Auto-showing error dialog with",Y.length,"errors");const le=setTimeout(()=>{J(!0),console.log(" useEffect: Set error dialog to true")},100);return()=>clearTimeout(le)}},[Y.length,R,Z]),f.useEffect(()=>{const le=o.get("openAdd"),Ye=o.get("editId"),ct=o.get("brandId"),lt=o.get("categoryIds");if(le==="true"&&!b){const Xe=lt?lt.split(","):[];ie(At=>({...At,brandId:ct||"",categoryIds:Xe,categoryId:Xe.length>0?Xe[Xe.length-1]:""})),T(null),Te([]),D(!0),l({})}if(Ye&&!b&&c.length>0){const Xe=c.find(At=>At.id===Ye);Xe&&(as(Xe),l({}))}},[o,b,l,c]);const Ie=!!(i!=null&&i.tenantId&&i.tenantId!=="default"&&i.tenantId!=="system");if(f.useEffect(()=>{B(1)},[N,k,C,de]),f.useEffect(()=>{st()},[se,Ne]),!Ie)return s.jsx(TF,{});const st=async()=>{try{v(!0),console.log(" Calling coreApi.getProducts()...");const le=localStorage.getItem("user");console.log(" Current user from localStorage:",le?JSON.parse(le):"null");const Ye={page:se,limit:Ne};N&&(Ye.search=N),C!=="all"&&(Ye.categoryId=C),k!=="all"&&(Ye.isActive=k==="active"?"true":"false");const[ct,lt,Xe,At,Dt]=await Promise.all([he.getProducts(Ye,!0),he.getCategories(),he.get("/units",{requireAuth:!0}).catch(()=>[]),he.getBrands(!0).catch(()=>[]),he.get("/suppliers",{requireAuth:!0}).catch(()=>[])]);let vt=[];if(ct&&typeof ct=="object"&&"data"in ct&&"meta"in ct){const re=ct;vt=re.data,qe(re.meta.total),fe(re.meta.totalPages),B(re.meta.page)}else vt=Array.isArray(ct)?ct:[],qe(vt.length),fe(1);let or=[];if(lt&&typeof lt=="object")if(Array.isArray(lt))or=lt.filter(re=>re&&typeof re=="object"&&"id"in re&&!("error"in re)&&!("statusCode"in re));else{const re=lt;re.categories&&Array.isArray(re.categories)&&(or=re.categories.filter(ne=>ne&&typeof ne=="object"&&"id"in ne&&!("error"in ne)&&!("statusCode"in ne)))}const Cr=or.map(re=>({id:re.id,name:re.name,nameAr:re.nameAr||re.name,parentId:re.parentId||void 0}));h(Cr);const ee=re=>Array.isArray(re)?re.filter(ne=>ne&&typeof ne=="object"&&!("error"in ne)&&!("statusCode"in ne)):[];p(ee(Xe)),x(ee(At)),w(ee(Dt)),console.log(" Raw productsData received:",{type:typeof vt,isArray:Array.isArray(vt),length:Array.isArray(vt)?vt.length:"N/A",sample:Array.isArray(vt)?vt.slice(0,2):vt});let ue=[];if(vt&&typeof vt=="object")if(Array.isArray(vt))ue=vt.filter(re=>re&&typeof re=="object"&&"id"in re&&!("error"in re)&&!("statusCode"in re));else{const re=vt;re.products&&Array.isArray(re.products)?ue=re.products.filter(ne=>ne&&typeof ne=="object"&&"id"in ne&&!("error"in ne)&&!("statusCode"in ne)):!("error"in vt)&&!("statusCode"in vt)&&(ue=[vt])}console.log(" Raw products count:",ue.length),ue.length>0&&(console.log(" First product RAW:",JSON.stringify(ue[0],null,2)),console.log(" First product fields:",{id:ue[0].id,name:ue[0].name,nameAr:ue[0].nameAr,price:ue[0].price,priceType:typeof ue[0].price,images:ue[0].images,variants:ue[0].variants,categories:ue[0].categories,categoryId:ue[0].categoryId,isAvailable:ue[0].isAvailable,isPublished:ue[0].isPublished}),ue.forEach((re,ne)=>{re.categories&&Array.isArray(re.categories)&&re.categories.length>0?console.log(` Product ${ne+1} (${re.name}) has ${re.categories.length} categories:`,re.categories):console.log(` Product ${ne+1} (${re.name}) has NO categories`)}));const oe=ue.map(re=>{var ge,Me,$e;let ne;if(re.categories&&Array.isArray(re.categories)&&re.categories.length>0){const _e=re.categories[0];if(_e&&typeof _e=="object"&&"category"in _e)ne=_e.category;else if(_e&&typeof _e=="object"&&"id"in _e&&"name"in _e)ne=_e;else if(_e&&typeof _e=="object"&&"categoryId"in _e){const De=_e.categoryId;if(De){const Ae=Cr.find(pe=>pe.id===De);Ae?ne=Ae:console.log("Product has categoryId but category not found in list:",De)}}}if(!ne&&"categoryId"in re){const _e=re.categoryId;if(_e){const De=Cr.find(Ae=>Ae.id===_e);De?ne=De:console.log("Product has direct categoryId but category not found:",_e)}}return!ne&&re.categories&&re.categories.length>0?console.log(" Could not extract category from product:",re.id,re.name,"categories structure:",JSON.stringify(re.categories)):ne&&console.log(" Product category found:",re.id,"->",ne.nameAr||ne.name),{id:re.id,name:re.name,nameAr:re.nameAr||"",description:re.description||"",descriptionAr:re.descriptionAr||"",price:typeof re.price=="string"?parseFloat(re.price):re.price||0,compareAtPrice:re.compareAtPrice,cost:re.costPerItem,sku:re.sku||"",barcode:re.barcode,stock:((Me=(ge=re.variants)==null?void 0:ge[0])==null?void 0:Me.inventoryQuantity)||0,lowStockThreshold:re.lowStockThreshold||10,images:(($e=re.images)==null?void 0:$e.map(_e=>typeof _e=="string"?_e:_e.url))||[],category:ne,status:re.isAvailable?"ACTIVE":"DRAFT",featured:re.featured||!1,createdAt:re.createdAt||new Date().toISOString(),metaTitle:re.seoTitle||"",metaDescription:re.seoDescription||"",weight:re.weight||"",dimensions:re.dimensions||"",path:re.slug||""}});console.log(" Mapped products count:",oe.length),oe.length>0&&(console.log(" First MAPPED product:",JSON.stringify(oe[0],null,2)),console.log(" First mapped product fields:",{id:oe[0].id,name:oe[0].name,nameAr:oe[0].nameAr,price:oe[0].price,priceType:typeof oe[0].price,images:oe[0].images,stock:oe[0].stock,category:oe[0].category})),d(oe),console.log(" loadData complete: Set",oe.length,"products in state")}catch(le){console.error("Failed to load data:",le),a({title:e("dashboard.products.loadDataError"),description:e("dashboard.products.loadDataErrorDesc"),variant:"destructive"})}finally{v(!1)}},wt=(le,Ye,ct,lt)=>{if(!le||!Ye)return null;const Xe=le.toLowerCase(),At=Ye.toLowerCase(),Dt=ct.toLowerCase(),vt=(lt==null?void 0:lt.toLowerCase())||"",or=[new RegExp(`(\\d+)\\s*${At}\\b`,"i"),new RegExp(`(\\d+)\\s*${Dt}\\b`,"i"),vt?new RegExp(`(\\d+)\\s*${vt}\\b`,"i"):null].filter(Boolean);for(const Cr of or){const ee=Xe.match(Cr);if(ee&&ee[1]){const ue=parseInt(ee[1],10);if(!isNaN(ue)&&ue>0)return ue}}return null},tt=async(le,Ye)=>{var ct;try{if(!le.name||le.name.trim()===""){a({title:e("dashboard.products.messages.requiredField"),description:e("dashboard.products.messages.nameRequired"),variant:"destructive"});return}if(!le.price||le.price.trim()===""){a({title:e("dashboard.products.messages.requiredField"),description:e("dashboard.products.messages.priceRequired"),variant:"destructive"});return}const lt=parseFloat(le.price);if(isNaN(lt)||lt<0){a({title:e("dashboard.products.messages.priceError"),description:e("dashboard.products.messages.priceInvalid"),variant:"destructive"});return}if(le.unitId&&le.price){const vt=m.find(or=>or.id===le.unitId);if(vt){const or=Number(vt.cost)||0,Cr=wt(le.name||le.nameAr||"",vt.code,vt.name,vt.nameAr);if(Cr!==null&&Cr>0&&or>0){const ee=Cr*or;if(lt<ee){a({title:e("dashboard.products.messages.priceError"),description:e("dashboard.products.messages.priceTooLow",{minPrice:ee.toFixed(2),quantity:Cr,unit:vt.code,cost:or.toFixed(2)}),variant:"destructive"});return}}}}const Xe=le.categoryIds.length>0?le.categoryIds:le.categoryId?[le.categoryId]:[];console.log(" Saving product with categoryIds:",Xe),console.log(" Form data categoryIds:",le.categoryIds),console.log(" Form data categoryId:",le.categoryId);const At={name:le.name,nameAr:le.nameAr||void 0,description:le.description||void 0,descriptionAr:le.descriptionAr||void 0,sku:le.sku||void 0,barcode:le.barcode||void 0,price:parseFloat(le.price),compareAtPrice:le.compareAtPrice?parseFloat(le.compareAtPrice):void 0,costPerItem:le.cost?parseFloat(le.cost):void 0,stockCount:le.stock?parseInt(le.stock):void 0,isAvailable:le.status==="ACTIVE",isPublished:le.status==="ACTIVE",seoTitle:le.metaTitle||void 0,seoDescription:le.metaDescription||void 0,categoryIds:Xe,images:Ye.map((vt,or)=>({url:vt,altText:le.name,sortOrder:or})),featured:!!le.featured,weight:le.weight?parseFloat(le.weight):void 0,dimensions:le.dimensions||void 0,unitId:le.unitId||void 0,brandId:le.brandId||void 0,productCode:le.productCode||void 0,odooProductId:le.odooProductId||void 0,min:le.minQuantity?parseInt(le.minQuantity):void 0,max:le.maxQuantity?parseInt(le.maxQuantity):void 0,enableSlider:!!le.enableSlider,tags:le.tags?le.tags.split(",").map(vt=>vt.trim()).filter(Boolean):[],variants:[{name:"Default",sku:le.sku||void 0,price:parseFloat(le.price),compareAtPrice:le.compareAtPrice?parseFloat(le.compareAtPrice):void 0,inventoryQuantity:Math.max(parseInt(le.stock)||0,0)}]};console.log(" Sending productData to API:",JSON.stringify(At,null,2));let Dt;P?(Dt=await he.updateProduct(P.id,At),console.log(" Product updated:",Dt),console.log(" Updated product categories:",Dt.categories),a({title:e("common.success"),description:e("dashboard.products.editProduct")+" "+e("common.success")})):(Dt=await he.createProduct(At),console.log(" Product created:",Dt),console.log(" Created product categories:",Dt.categories),a({title:e("common.success"),description:e("dashboard.products.addProduct")+" "+e("common.success")})),Dt&&(console.log(" Verifying saved product:",{productId:Dt.id,productName:Dt.name,expectedCategoryIds:Xe,savedCategories:Dt.categories,categoriesCount:((ct=Dt.categories)==null?void 0:ct.length)||0,isAvailable:Dt.isAvailable,isPublished:Dt.isPublished}),Xe.length>0&&(!Dt.categories||Dt.categories.length===0?(console.error(" ERROR: Product was saved but categories are missing!",{productId:Dt.id,expectedCategoryIds:Xe,savedCategories:Dt.categories}),a({title:e("dashboard.products.messages.categoriesWarning"),description:e("dashboard.products.messages.categoriesWarningDesc"),variant:"destructive"})):console.log(" Categories verified:",Dt.categories.length,"categories attached"))),D(!1),T(null),_t(),await st(),window.dispatchEvent(new CustomEvent("productsUpdated")),window.dispatchEvent(new CustomEvent("productSaved",{detail:{product:Dt,categoryIds:Xe}}))}catch(lt){console.error("Failed to save product:",lt),a({title:e("dashboard.products.messages.saveError"),description:e("dashboard.products.messages.saveErrorDesc"),variant:"destructive"})}},Bt=async le=>{if(confirm(e("dashboard.products.delete")+"?"))try{await he.deleteProduct(le),a({title:e("common.success"),description:e("dashboard.products.delete")+" "+e("common.success")}),st(),G(new Set)}catch(Ye){console.error("Failed to delete product:",Ye);const ct=(Ye==null?void 0:Ye.message)||e("dashboard.products.messages.deleteErrorDesc");ct.includes("not found")||ct.includes("404")?(a({title:e("dashboard.products.messages.deleted"),description:e("dashboard.products.messages.notFound")}),st()):a({title:e("dashboard.products.messages.deleteError"),description:ct,variant:"destructive"})}},pr=async()=>{var Ye,ct;if(M.size===0){a({title:e("dashboard.products.messages.noSelection"),description:e("dashboard.products.messages.noSelectionDesc"),variant:"destructive"});return}const le=M.size;if(confirm(e("dashboard.products.messages.confirmDelete",{count:le})))try{q(!0);const lt=Array.from(M),Xe=100;let At=0,Dt=0;for(let vt=0;vt<lt.length;vt+=Xe){const or=lt.slice(vt,vt+Xe);try{const Cr=await he.deleteProducts(or);At+=Cr.deleted||or.length,Dt+=Cr.failed||0}catch(Cr){console.error(`Failed to delete chunk ${vt/Xe+1}:`,Cr),Dt+=or.length}}Dt>0?a({title:e("dashboard.products.messages.categoriesWarning"),description:e("dashboard.products.messages.deletePartial",{deleted:At,total:le,failed:Dt}),variant:"destructive"}):a({title:e("common.success"),description:e("dashboard.products.messages.deleteSuccess",{count:le})}),G(new Set),st()}catch(lt){console.error("Failed to delete products:",lt);const Xe=((ct=(Ye=lt==null?void 0:lt.response)==null?void 0:Ye.data)==null?void 0:ct.message)||e("dashboard.products.messages.deleteErrorDesc");a({title:e("common.error"),description:Xe,variant:"destructive"})}finally{q(!1)}},$t=(le,Ye)=>{const ct=new Set(M);Ye?ct.add(le):ct.delete(le),G(ct)},_t=()=>{ie({}),Te([])},as=le=>{var lt,Xe,At,Dt,vt,or,Cr,ee,ue,oe,re;T(le);const Ye=le,ct=((lt=Ye.suppliers)==null?void 0:lt.map(ne=>{var ge,Me;return{supplierId:ne.supplierId||((ge=ne.supplier)==null?void 0:ge.id)||"",price:ne.lastPrice?typeof ne.lastPrice=="string"?ne.lastPrice:ne.lastPrice.toString():"",discountRate:ne.discountRate||((Me=ne.supplier)==null?void 0:Me.discountRate)||0,isPrimary:ne.isPrimary||!1}}).filter(ne=>ne.supplierId))||[];ie({name:le.name,nameAr:le.nameAr,description:le.description,descriptionAr:le.descriptionAr,price:(le.price||0).toString(),compareAtPrice:((Xe=le.compareAtPrice)==null?void 0:Xe.toString())||"",cost:((At=le.cost)==null?void 0:At.toString())||((Dt=le.costPerItem)==null?void 0:Dt.toString())||"",sku:le.sku,barcode:le.barcode||"",stock:(le.stock||0).toString(),lowStockThreshold:(le.lowStockThreshold||0).toString(),categoryId:((vt=le.category)==null?void 0:vt.id)||"",categoryIds:((or=Ye.categories)==null?void 0:or.map(ne=>{var ge;return((ge=ne.category)==null?void 0:ge.id)||ne.id||""}).filter(Boolean))||((Cr=le.category)!=null&&Cr.id?[le.category.id]:[]),status:le.status,featured:le.featured,tags:"",metaTitle:le.metaTitle||"",metaDescription:le.metaDescription||"",weight:le.weight||"",dimensions:le.dimensions||"",unitId:((ee=Ye.unit)==null?void 0:ee.id)||"",brandId:((ue=Ye.brand)==null?void 0:ue.id)||le.brandId||"",productCode:Ye.productCode||"",odooProductId:Ye.odooProductId||"",path:("slug"in Ye?Ye.slug:void 0)||le.path||"",supplierIds:ct.length>0?ct.map(ne=>ne.supplierId):[],suppliers:ct,minQuantity:((oe=le.min)==null?void 0:oe.toString())||"",maxQuantity:((re=le.max)==null?void 0:re.toString())||"",enableSlider:"enableSlider"in le&&typeof le.enableSlider=="boolean"?le.enableSlider:!1}),Te(le.images||[]),D(!0)},Se=le=>{const Ye={ACTIVE:{label:e("dashboard.products.statusBadges.active"),className:"bg-green-500/10 text-green-700 border-green-500/20"},DRAFT:{label:e("dashboard.products.statusBadges.draft"),className:"bg-gray-500/10 text-gray-700 border-gray-500/20"},ARCHIVED:{label:e("dashboard.products.statusBadges.archived"),className:"bg-red-500/10 text-red-700 border-red-500/20"}},{label:ct,className:lt}=Ye[le]||Ye.DRAFT;return s.jsx(Ze,{variant:"outline",className:lt,children:ct})},vr=(le,Ye)=>le===0?s.jsx(Ze,{variant:"outline",className:"bg-red-500/10 text-red-700 border-red-500/20",children:e("dashboard.products.depleted")}):le<=Ye?s.jsx(Ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:e("dashboard.products.statusBadges.low")}):s.jsx(Ze,{variant:"outline",className:"bg-green-500/10 text-green-700 border-green-500/20",children:e("dashboard.products.statusBadges.available")}),Br=c.filter(le=>{var At;const Ye=(le.name||"").toLowerCase().includes(N.toLowerCase())||(le.nameAr||"").toLowerCase().includes(N.toLowerCase())||(le.sku||"").toLowerCase().includes(N.toLowerCase()),ct=k==="all"||le.status===k,lt=C==="all"||((At=le.category)==null?void 0:At.id)===C;let Xe=!0;return de==="low-stock"?Xe=le.stock<=le.lowStockThreshold&&le.stock>0:de==="out-of-stock"&&(Xe=le.stock===0),Ye&&ct&&lt&&Xe}),Nr=Br,Bs=le=>{G(le?new Set(Nr.map(Ye=>Ye.id)):new Set)},Ia=async()=>{try{const le=await he.getProducts({limit:1e4}),ct=(Array.isArray(le)?le:(le==null?void 0:le.data)||[]).map(lt=>lt.id);G(new Set(ct)),a({title:e("dashboard.products.messages.selectAllSuccess",{count:ct.length}),description:e("dashboard.products.messages.selectAllSuccess",{count:ct.length})})}catch(le){const Ye=le instanceof Error?le.message:e("dashboard.products.messages.selectAllError");console.error("Failed to select all products:",le),a({title:e("common.error"),description:Ye,variant:"destructive"})}},Hr=Nr.length>0&&Nr.every(le=>M.has(le.id));M.size>0&&M.size<Nr.length;const St=async()=>{try{const le=["product_id","sku","price","cost","coins_number","notify","min","max","web_status","mobile_status","purple_cards_product_name_ar","purple_cards_product_name_en","purple_cards_slug_ar","purple_cards_slug_en","purple_cards_desc_ar","purple_cards_desc_en","purple_cards_long_desc_ar","purple_cards_long_desc_en","purple_cards_meta_title_ar","purple_cards_meta_title_en","purple_cards_meta_keyword_ar","purple_cards_meta_keyword_en","purple_cards_meta_description_ar","purple_cards_meta_description_en","ish7en_product_name_ar","ish7en_product_name_en","ish7en_slug_ar","ish7en_slug_en","ish7en_desc_ar","ish7en_desc_en","ish7en_long_desc_ar","ish7en_long_desc_en","ish7en_meta_title_ar","ish7en_meta_title_en","ish7en_meta_keyword_ar","ish7en_meta_keyword_en","ish7en_meta_description_ar","ish7en_meta_description_en"],Ye=c.map(Xe=>({product_id:Xe.productId||Xe.id||"",sku:Xe.sku||"",price:Xe.price||0,cost:Xe.costPerItem||Xe.cost||0,coins_number:Xe.coinsNumber||"",notify:Xe.notify?"true":"false",min:Xe.min||"",max:Xe.max||"",web_status:Xe.webStatus!==!1?"true":"false",mobile_status:Xe.mobileStatus!==!1?"true":"false",purple_cards_product_name_ar:Xe.purpleCardsProductNameAr||"",purple_cards_product_name_en:Xe.purpleCardsProductNameEn||"",purple_cards_slug_ar:Xe.purpleCardsSlugAr||"",purple_cards_slug_en:Xe.purpleCardsSlugEn||"",purple_cards_desc_ar:Xe.purpleCardsDescAr||"",purple_cards_desc_en:Xe.purpleCardsDescEn||"",purple_cards_long_desc_ar:Xe.purpleCardsLongDescAr||"",purple_cards_long_desc_en:Xe.purpleCardsLongDescEn||"",purple_cards_meta_title_ar:Xe.purpleCardsMetaTitleAr||"",purple_cards_meta_title_en:Xe.purpleCardsMetaTitleEn||"",purple_cards_meta_keyword_ar:Xe.purpleCardsMetaKeywordAr||"",purple_cards_meta_keyword_en:Xe.purpleCardsMetaKeywordEn||"",purple_cards_meta_description_ar:Xe.purpleCardsMetaDescriptionAr||"",purple_cards_meta_description_en:Xe.purpleCardsMetaDescriptionEn||"",ish7en_product_name_ar:Xe.ish7enProductNameAr||"",ish7en_product_name_en:Xe.ish7enProductNameEn||"",ish7en_slug_ar:Xe.ish7enSlugAr||"",ish7en_slug_en:Xe.ish7enSlugEn||"",ish7en_desc_ar:Xe.ish7enDescAr||"",ish7en_desc_en:Xe.ish7enDescEn||"",ish7en_long_desc_ar:Xe.ish7enLongDescAr||"",ish7en_long_desc_en:Xe.ish7enLongDescEn||"",ish7en_meta_title_ar:Xe.ish7enMetaTitleAr||"",ish7en_meta_title_en:Xe.ish7enMetaTitleEn||"",ish7en_meta_keyword_ar:Xe.ish7enMetaKeywordAr||"",ish7en_meta_keyword_en:Xe.ish7enMetaKeywordEn||"",ish7en_meta_description_ar:Xe.ish7enMetaDescriptionAr||"",ish7en_meta_description_en:Xe.ish7enMetaDescriptionEn||""})),ct=$r.json_to_sheet(Ye,{header:le}),lt=$r.book_new();$r.book_append_sheet(lt,ct,"Products"),Du(lt,"products_export.xlsx"),a({title:e("common.success"),description:e("dashboard.products.exportSuccess")})}catch(le){console.error("Failed to export products:",le),a({title:e("common.error"),description:e("dashboard.products.messages.exportErrorDesc"),variant:"destructive"})}},gt=async le=>{var ct,lt,Xe,At;const Ye=(ct=le.target.files)==null?void 0:ct[0];if(Ye){try{const{ensureFreshToken:Dt}=await Zv(async()=>{const{ensureFreshToken:or}=await Promise.resolve().then(()=>o1);return{ensureFreshToken:or}},void 0);if(!await Dt()&&!(localStorage.getItem("accessToken")||((lt=document.cookie.split("; ").find(Cr=>Cr.startsWith("accessToken=")))==null?void 0:lt.split("=")[1]))){a({title:e("common.unauthorized"),description:e("common.pleaseLogin"),variant:"destructive"});return}}catch(Dt){console.warn(" Token refresh check failed:",Dt)}if(!(i!=null&&i.tenantId)||i.tenantId==="default"||i.tenantId==="system"){a({title:e("dashboard.products.messages.settingsError"),description:e("dashboard.products.messages.settingsErrorDesc"),variant:"destructive"});return}try{L(!0),U([]),J(!1),W({current:0,total:100,currentItem:e("common.refreshingSession")});try{const{ensureFreshToken:$e}=await Zv(async()=>{const{ensureFreshToken:De}=await Promise.resolve().then(()=>o1);return{ensureFreshToken:De}},void 0);await $e()?console.log(" Token refreshed before import"):console.warn(" Token refresh failed or not available, proceeding anyway...")}catch($e){console.warn(" Token refresh check failed:",$e)}W({current:0,total:100,currentItem:e("dashboard.products.messages.readingFile")}),await new Promise($e=>setTimeout($e,200));const Dt=await Ye.arrayBuffer();W({current:10,total:100,currentItem:e("dashboard.products.messages.analyzingData")});const vt=fm(Dt),or=vt.Sheets[vt.SheetNames[0]];W({current:20,total:100,currentItem:e("dashboard.products.messages.processingData")});const Cr=$r.sheet_to_json(or,{defval:""}),ee=Cr.length;if(console.log(` Total items to import: ${ee}`),console.log(` Excel file contains ${Cr.length} rows (excluding header)`),ee>0){const $e=Cr[0],_e=Object.keys($e);console.log(" Excel column names detected:",_e),console.log(" First row data sample:",JSON.stringify($e,null,2)),console.log(" Column mapping check:"),console.log("  - Name columns:",_e.filter(De=>De.toLowerCase().includes("name")||De.includes("")||De.includes(""))),console.log("  - Price columns:",_e.filter(De=>De.toLowerCase().includes("price")||De.toLowerCase().includes("cost")||De.includes("")||De.includes(""))),console.log("  - SKU columns:",_e.filter(De=>De.toLowerCase().includes("sku")||De.toLowerCase().includes("product_id")||De.toLowerCase().includes("isku"))),console.log("  - Category columns:",_e.filter(De=>De.toLowerCase().includes("category")||De.includes("")||De.includes("")||De.includes("")))}if(ee===0){L(!1),a({title:e("common.error"),description:e("dashboard.products.messages.noDataError"),variant:"destructive"}),le.target.value="";return}console.log(" PHASE 1: Scanning and validating all rows..."),console.log(" Total rows to validate:",ee),console.log(" Categories available:",u.length,u.map($e=>$e.name).slice(0,5)),console.log(" Brands available:",g.length),W({current:0,total:ee,currentItem:e("dashboard.products.messages.validatingRows",{count:ee})});const ue=()=>new Promise($e=>setTimeout($e,0)),oe=[],re=[];for(let $e=0;$e<ee;$e++){if(K.current){console.log(" Import stopped by user during validation");break}const _e=Cr[$e],De=$e+2;$e%100===0&&(W({current:$e+1,total:ee,currentItem:e("dashboard.products.messages.validatingRow",{current:$e+1,total:ee})}),await ue(),console.log(` Validating row ${$e+1}/${ee}...`));const Ae=_e,pe=Object.keys(Ae),Fe=us=>{for(const ft of us){if(Ae[ft]!==void 0&&Ae[ft]!==null&&Ae[ft]!=="")return String(Ae[ft]).trim();const sr=pe.find(hs=>hs.toLowerCase()===ft.toLowerCase());if(sr&&Ae[sr]!==void 0&&Ae[sr]!==null&&Ae[sr]!=="")return String(Ae[sr]).trim()}for(const ft of us){const sr=pe.find(hs=>hs.toLowerCase().includes(ft.toLowerCase()));if(sr&&Ae[sr]!==void 0&&Ae[sr]!==null&&Ae[sr]!=="")return String(Ae[sr]).trim()}return""},Ke=Fe(["product_id","product_isku","productid","id","_",""]),nt=Fe(["sku","SKU","product_isku","",""]);let mt=Fe(["Name","name","ProductName","product_name","title","Title","","","_"," ","","purple_cards_product_name_ar","purple_cards_product_name_en","ish7en_product_name_ar","ish7en_product_name_en","NameAr","nameAr"]);if(!mt&&_e.min&&typeof _e.min=="string"&&_e.min.trim().length>0&&isNaN(Number(_e.min))&&(mt=_e.min.toString().trim()),!mt)for(const us of pe){const ft=Ae[us];if(typeof ft=="string"&&ft.trim().length>3&&ft.trim().length<200&&isNaN(Number(ft))){mt=ft.trim(),console.log(` Row ${De}: Using column "${us}" as name: ${mt.substring(0,50)}`);break}}const kt=mt||Ke||nt||`${e("dashboard.products.messages.row")} ${De}`;let Ot=Fe(["price","Price","PRICE","","","_","sale_price","SalePrice","retail_price","unit_price"]);if(!Ot||Ot===""||Ot.trim()===""){const us=Fe(["web_statu","web_status","webstatus"]),ft=Fe(["mobile_st","mobile_status","mobilestatus"]);us&&!isNaN(Number(us))&&Number(us)>0?Ot=us:ft&&!isNaN(Number(ft))&&Number(ft)>0&&(Ot=ft);const sr=Fe(["cost","Cost","COST","",""]);(!Ot||Ot==="")&&sr&&!isNaN(Number(sr))&&Number(sr)>0&&(Ot=sr)}if(!Ot||Ot==="")for(const us of pe){const ft=Ae[us];if(ft!=null&&ft!==""){const sr=Number(ft);if(!isNaN(sr)&&sr>0&&sr<1e6){Ot=String(ft),console.log(` Row ${De}: Using column "${us}" as price: ${Ot}`);break}}}let Sr=!1,js="General",yr="";if(!mt&&!Ke&&!nt)Sr=!0,js="General",yr=e("dashboard.products.messages.nameRequiredImport");else if(!Ot||Ot===""||typeof Ot=="string"&&Ot.trim()==="")Sr=!0,js="Price",yr="  -         price  Price  web_statu  mobile_st  cost";else{const us=typeof Ot=="string"?parseFloat(Ot.toString().replace(/[^\d.-]/g,"")):Ot;(isNaN(us)||us<0)&&(Sr=!0,js="Price",yr=e("dashboard.products.messages.priceInvalidImport"))}if(!Sr&&_e.Category&&typeof _e.Category=="string"){const us=_e.Category.split(",").map(sr=>sr.trim()).filter(Boolean),ft=[];for(const sr of us){let hs=!1;if(sr.includes(">")){const sa=sr.split(/\s*>\s*/).map(zr=>zr.trim()).filter(Boolean),ha=sa[sa.length-1];hs=!!u.find(zr=>{var _s,Ra;return((_s=zr.name)==null?void 0:_s.toLowerCase())===ha.toLowerCase()||((Ra=zr.nameAr)==null?void 0:Ra.toLowerCase())===ha.toLowerCase()})}else hs=!!u.find(ha=>{var Pa,zr;return((Pa=ha.name)==null?void 0:Pa.toLowerCase())===sr.toLowerCase()||((zr=ha.nameAr)==null?void 0:zr.toLowerCase())===sr.toLowerCase()});hs||ft.push(sr)}ft.length>0&&(Sr=!0,js="Category",yr=e("dashboard.products.messages.categoryNotFound",{category:ft.join(", ")}))}!Sr&&(_e.Brand||_e.BrandCode)&&!g.find(ft=>{var sr,hs,sa,ha,Pa,zr;return((sr=ft.name)==null?void 0:sr.toLowerCase())===((hs=_e.Brand)==null?void 0:hs.toLowerCase())||((sa=ft.nameAr)==null?void 0:sa.toLowerCase())===((ha=_e.Brand)==null?void 0:ha.toLowerCase())||((Pa=ft.code)==null?void 0:Pa.toLowerCase())===((zr=_e.BrandCode)==null?void 0:zr.toLowerCase())})&&((Xe=_e.Brand)!=null&&Xe.trim()||(At=_e.BrandCode)!=null&&At.trim())&&(Sr=!0,js=_e.Brand?"Brand":"BrandCode",yr=e("dashboard.products.messages.brandNotFound",{brand:_e.Brand||_e.BrandCode})),Sr?oe.push({row:De,column:js,productName:kt.toString(),error:yr}):re.push({index:$e,row:_e,productData:null})}if(console.log(` PHASE 1 COMPLETE: ${re.length} valid rows, ${oe.length} invalid rows`),re.length===0&&oe.length>0){console.error(" ALL rows failed validation! First 5 errors:",oe.slice(0,5)),U(oe),L(!1),J(!0),le.target.value="";return}let ne=0;const ge=[];if(K.current=!1,re.length>0){console.log(` PHASE 2: Starting upload of ${re.length} valid rows...`),console.log(` Batch size: 10, Total batches: ${Math.ceil(re.length/10)}`),W({current:0,total:re.length,currentItem:e("dashboard.products.messages.uploadingValid",{count:re.length})}),await new Promise(Ae=>setTimeout(Ae,300));const $e=10;let _e=Math.ceil(re.length/$e),De=0;for(let Ae=0;Ae<re.length;Ae+=$e){if(De++,console.log(` Starting batch ${De}/${_e} (rows ${Ae+1} to ${Math.min(Ae+$e,re.length)})`),K.current){console.log(" Import stopped by user");break}const pe=re.slice(Ae,Ae+$e),Fe=await Promise.allSettled(pe.map(async(kt,te)=>{var Mm,Lm,$m,Gu,ve,ht,zt,cs,Mt;te>0&&await new Promise(jr=>setTimeout(jr,100*te));const{index:Ot,row:Sr}=kt,js=Ot+2;if(K.current){console.log(" Import stopped by user - skipping item");return}const yr=Sr,us=Object.keys(yr),ft=jr=>{for(const It of jr){if(yr[It]!==void 0&&yr[It]!==null&&yr[It]!=="")return String(yr[It]).trim();const Xt=us.find(Jr=>Jr.toLowerCase()===It.toLowerCase());if(Xt&&yr[Xt]!==void 0&&yr[Xt]!==null&&yr[Xt]!=="")return String(yr[Xt]).trim()}for(const It of jr){const Xt=us.find(Jr=>Jr.toLowerCase().includes(It.toLowerCase()));if(Xt&&yr[Xt]!==void 0&&yr[Xt]!==null&&yr[Xt]!=="")return String(yr[Xt]).trim()}return""},sr=ft(["product_id","product_isku","productid","id","_",""]),hs=ft(["sku","SKU","product_isku","",""]);let sa=ft(["Name","name","ProductName","product_name","title","Title","","","_"," ","","purple_cards_product_name_ar","purple_cards_product_name_en","ish7en_product_name_ar","ish7en_product_name_en","NameAr","nameAr"]);if(!sa&&Sr.min&&typeof Sr.min=="string"&&Sr.min.trim().length>0&&isNaN(Number(Sr.min))&&(sa=Sr.min.toString().trim()),!sa)for(const jr of us){const It=yr[jr];if(typeof It=="string"&&It.trim().length>3&&It.trim().length<200&&isNaN(Number(It))){sa=It.trim();break}}const ha=sa||sr||hs||` ${js}`;let zr=ft(["price","Price","PRICE","","","_","sale_price","SalePrice","retail_price","unit_price"]);if(!zr||zr===""){const jr=ft(["web_statu","web_status","webstatus"]),It=ft(["mobile_st","mobile_status","mobilestatus"]);jr&&!isNaN(Number(jr))&&Number(jr)>0?zr=jr:It&&!isNaN(Number(It))&&Number(It)>0&&(zr=It);const Xt=ft(["cost","Cost","COST","",""]);(!zr||zr==="")&&Xt&&!isNaN(Number(Xt))&&Number(Xt)>0&&(zr=Xt)}if(!zr||zr==="")for(const jr of us){const It=yr[jr];if(It!=null&&It!==""){const Xt=Number(It);if(!isNaN(Xt)&&Xt>0&&Xt<1e6){zr=String(It);break}}}if(!zr||zr==="")throw new Error("  -      ");const _s=ft(["cost","Cost",""]),Ra=ft(["coins_number","coins_nun","_"]),Yc=ft(["notify","Notify",""]),jo=ft(["min","Min","_"]),Hu=ft(["max","Max","_"]),qu=ft(["web_status","web_statu","WebStatus"]),Qi=ft(["mobile_status","mobile_st","MobileStatus"]);try{let jr;if(typeof zr=="string"?jr=parseFloat(zr.toString().replace(/[^\d.-]/g,"")):typeof zr=="number"?jr=zr:jr=0,isNaN(jr)||jr<0)throw new Error(`Invalid price: ${zr}. Price must be a valid number >= 0.`);const It=_s?parseFloat(_s.toString().replace(/[^\d.-]/g,"")):void 0,Xt=Ra&&parseFloat(Ra.toString().replace(/[^\d.-]/g,""))||void 0,Jr=Yc?Yc.toLowerCase()==="true"||Yc==="1":void 0,ys=jo&&parseInt(jo.toString().replace(/[^\d]/g,""))||void 0,Dn=Hu&&parseInt(Hu.toString().replace(/[^\d]/g,""))||void 0,On=qu?qu.toLowerCase()==="true"||qu==="1":void 0,ki=Qi?Qi.toLowerCase()==="true"||Qi==="1":void 0,No=ft(["CompareAtPrice","compare_at_price","_"]),ui=No?parseFloat(No.replace(/[^\d.-]/g,"")):void 0,ic=ft(["Stock","stock","","","quantity"]),Fp=ic&&parseInt(ic.replace(/[^\d]/g,""))||0,Bm=ft(["Tags","tags","",""]),Um=Bm?Bm.split(",").map(vn=>vn.trim()).filter(Boolean):[],Wd=hs||void 0,oc={name:"Default",price:jr,inventoryQuantity:Number(Fp)||0};Wd&&(oc.sku=Wd),ui!=null&&!isNaN(Number(ui))&&Number(ui)>0&&(oc.compareAtPrice=Number(ui));const ns=vn=>{if(vn==null||vn==="")return;const ga=String(vn).trim();return ga.length>0?ga:void 0},Ku=ft(["Category","category","","",""]),lc=[];if(Ku){const vn=Ku.split(",").map(ga=>ga.trim()).filter(Boolean);for(const ga of vn)if(ga.includes(">")){const Xc=ga.split(/\s*>\s*/).map(ze=>ze.trim()).filter(Boolean),ce=Xc[Xc.length-1],Be=u.find(ze=>{var dt,Ft;return((dt=ze.name)==null?void 0:dt.toLowerCase())===ce.toLowerCase()||((Ft=ze.nameAr)==null?void 0:Ft.toLowerCase())===ce.toLowerCase()});Be&&lc.push(Be.id)}else{const Xc=u.find(ce=>{var Be,ze;return((Be=ce.name)==null?void 0:Be.toLowerCase())===ga.toLowerCase()||((ze=ce.nameAr)==null?void 0:ze.toLowerCase())===ga.toLowerCase()});Xc&&lc.push(Xc.id)}}const Ci=lc.length>0?lc[0]:void 0,Yu=ft(["Brand","brand","",""]),Mp=ft(["BrandCode","brand_code","_"]);let cc;if(Yu||Mp){const vn=g.find(ga=>{var Xc,ce,Be;return Yu&&((Xc=ga.name)==null?void 0:Xc.toLowerCase())===Yu.toLowerCase()||Yu&&((ce=ga.nameAr)==null?void 0:ce.toLowerCase())===Yu.toLowerCase()||Mp&&((Be=ga.code)==null?void 0:Be.toLowerCase())===Mp.toLowerCase()});cc=vn==null?void 0:vn.id}const XA=ft(["NameAr","nameAr","name_ar","_","_"]),In=ft(["Description","description","",""]),_j=ft(["DescriptionAr","descriptionAr","description_ar","_"]),Vm=ft(["Barcode","barcode","","_"]),Hd=ft(["Weight","weight",""]),zm=ft(["Dimensions","dimensions",""]),Lp=ft(["Status","status",""]),$p=ft(["Featured","featured",""]),So={name:sa||sr||hs||e("dashboard.products.messages.defaultProductName"),nameAr:ns(XA),description:ns(In),descriptionAr:ns(_j),price:jr,costPerItem:It!=null&&!isNaN(Number(It))&&Number(It)>0?Number(It):void 0,coinsNumber:Xt!=null?Number(Xt):void 0,notify:Jr!=null?!!Jr:void 0,min:ys!=null?Number(ys):void 0,max:Dn!=null?Number(Dn):void 0,webStatus:On!=null?!!On:void 0,mobileStatus:ki!=null?!!ki:void 0,purpleCardsProductNameAr:ns(ft(["purple_cards_product_name_ar"])),purpleCardsProductNameEn:ns(ft(["purple_cards_product_name_en"])),purpleCardsSlugAr:ns(ft(["purple_cards_slug_ar"])),purpleCardsSlugEn:ns(ft(["purple_cards_slug_en"])),purpleCardsDescAr:ns(ft(["purple_cards_desc_ar"])),purpleCardsDescEn:ns(ft(["purple_cards_desc_en"])),purpleCardsLongDescAr:ns(ft(["purple_cards_long_desc_ar"])),purpleCardsLongDescEn:ns(ft(["purple_cards_long_desc_en"])),purpleCardsMetaTitleAr:ns(ft(["purple_cards_meta_title_ar"])),purpleCardsMetaTitleEn:ns(ft(["purple_cards_meta_title_en"])),purpleCardsMetaKeywordAr:ns(ft(["purple_cards_meta_keyword_ar"])),purpleCardsMetaKeywordEn:ns(ft(["purple_cards_meta_keyword_en"])),purpleCardsMetaDescriptionAr:ns(ft(["purple_cards_meta_description_ar"])),purpleCardsMetaDescriptionEn:ns(ft(["purple_cards_meta_description_en"])),ish7enProductNameAr:ns(ft(["ish7en_product_name_ar"])),ish7enProductNameEn:ns(ft(["ish7en_product_name_en"])),ish7enSlugAr:ns(ft(["ish7en_slug_ar"])),ish7enSlugEn:ns(ft(["ish7en_slug_en"])),ish7enDescAr:ns(ft(["ish7en_desc_ar"])),ish7enDescEn:ns(ft(["ish7en_desc_en"])),ish7enLongDescAr:ns(ft(["ish7en_long_desc_ar"])),ish7enLongDescEn:ns(ft(["ish7en_long_desc_en"])),ish7enMetaTitleAr:ns(ft(["ish7en_meta_title_ar"])),ish7enMetaTitleEn:ns(ft(["ish7en_meta_title_en"])),ish7enMetaKeywordAr:ns(ft(["ish7en_meta_keyword_ar"])),ish7enMetaKeywordEn:ns(ft(["ish7en_meta_keyword_en"])),ish7enMetaDescriptionAr:ns(ft(["ish7en_meta_description_ar"])),ish7enMetaDescriptionEn:ns(ft(["ish7en_meta_description_en"])),compareAtPrice:ui!=null&&!isNaN(Number(ui))&&Number(ui)>0?Number(ui):void 0,...Wd?{sku:Wd}:{},...sr?{productId:sr}:{},barcode:ns(Vm),weight:Hd&&parseFloat(Hd.replace(/[^\d.-]/g,""))||void 0,dimensions:ns(zm),tags:Um.length>0?Um:void 0,brandId:cc||void 0,categoryIds:lc.length>0?lc:Ci?[Ci]:void 0,isAvailable:Lp!=="DRAFT"&&Lp!=="ARCHIVED"&&Lp!=="draft"&&Lp!=="archived",featured:$p==="Yes"||$p==="true"||$p==="TRUE"||$p==="1",variants:[oc]};Object.keys(So).forEach(vn=>{So[vn]===void 0&&delete So[vn]}),(ne<1||ne%10===0||re.length<=5)&&console.log(` Creating product at row ${js} (${ne+1}/${re.length}):`,{name:So.name,price:So.price,sku:So.sku,categoryIds:((Mm=So.categoryIds)==null?void 0:Mm.length)||0,variants:((Lm=So.variants)==null?void 0:Lm.length)||0,fullData:So}),W({current:ne,total:re.length,currentItem:`   ${ne+1}  ${re.length}: ${So.name}...`});const Oj=he.createProduct(So,!0),rv=new Promise((vn,ga)=>setTimeout(()=>ga(new Error("Product creation timeout after 30 seconds")),3e4)),sn=await Promise.race([Oj,rv]),Ij=(sn==null?void 0:sn.id)||(($m=sn==null?void 0:sn.product)==null?void 0:$m.id)||((Gu=sn==null?void 0:sn.data)==null?void 0:Gu.id);if(!Ij)throw console.error(` Product creation failed validation at row ${js}:`,{response:sn,hasId:!!(sn!=null&&sn.id),hasProductId:!!((ve=sn==null?void 0:sn.product)!=null&&ve.id),hasDataId:!!((ht=sn==null?void 0:sn.data)!=null&&ht.id)}),new Error("Product creation returned no ID - product may not have been created");(ne<1||ne%10===0||re.length<=5)&&console.log(` Product created successfully at row ${js}: ID=${Ij}, Name="${So.name}" (Total success: ${ne+1})`),ne++,W({current:ne,total:re.length,currentItem:`  ${ne}   ${re.length}...`})}catch(jr){console.error(` Error uploading product at row ${js}:`,jr),console.error(" Full error details:",{error:jr,errorType:jr instanceof Error?jr.constructor.name:typeof jr,errorMessage:jr instanceof Error?jr.message:String(jr),stack:jr instanceof Error?jr.stack:void 0}),console.error(" Product data that failed:",{name:sa||sr||hs,productName:ha,price:zr,rowNum:js});let It=e("dashboard.products.messages.unknownError"),Xt="General";const Jr=jr,ys=(zt=Jr==null?void 0:Jr.response)==null?void 0:zt.data,Dn=(ys==null?void 0:ys.message)||((cs=Jr==null?void 0:Jr.data)==null?void 0:cs.message)||(Jr==null?void 0:Jr.message)||"";Dn&&(Array.isArray(Dn)?It=Dn.join(", "):It=String(Dn));const On=(Jr==null?void 0:Jr.status)||((Mt=Jr==null?void 0:Jr.response)==null?void 0:Mt.status);if(On===401||It.includes("sessionExpired")||It.includes("Session expired")||It.includes("Authentication required")){console.log(" Authentication required during upload, attempting token refresh...");try{const{ensureFreshToken:No}=await Zv(async()=>{const{ensureFreshToken:ic}=await Promise.resolve().then(()=>o1);return{ensureFreshToken:ic}},void 0);await No()?(console.log(" Token refreshed - continuing with import"),It=e("common.sessionRefreshed"),Xt="General"):(It=e("common.sessionRefreshFailed"),Xt="General")}catch(No){console.error(" Token refresh failed:",No),It=e("common.authError"),Xt="General"}}else if(On===403){console.log(" 403 Forbidden, attempting token refresh...");try{const{ensureFreshToken:No}=await Zv(async()=>{const{ensureFreshToken:ic}=await Promise.resolve().then(()=>o1);return{ensureFreshToken:ic}},void 0);await No()?(console.log(" Token refreshed after 403 - continuing"),It=e("common.sessionRefreshed")):(!It||It===e("dashboard.products.messages.unknownError"))&&(It=e("common.forbiddenRetry"))}catch(No){console.error(" Token refresh failed after 403:",No),(!It||It===e("dashboard.products.messages.unknownError"))&&(It=e("common.forbiddenRetry"))}Xt="General",K.current=!0,It=e("dashboard.products.messages.storeSetupRequired"),Xt="General"}else On===404?ys!=null&&ys.message||(It=e("dashboard.products.messages.categoryOrBrandNotFound"),Xt="Category"):On===409?(It=e("dashboard.products.messages.productExists"),Xt="SKU"):On===429||It.includes("ThrottlerException")||It.includes("Too Many Requests")?(It="   .         ",Xt="General"):On===400&&((!It||It===e("dashboard.products.messages.unknownError"))&&(It=(ys==null?void 0:ys.error)||"Validation error: Please check all required fields are filled correctly."),Xt="General");const ki=It.toLowerCase();throw ki.includes("price")?Xt="Price":ki.includes("name")?Xt="Name":ki.includes("category")?Xt="Category":ki.includes("brand")?Xt="Brand":ki.includes("sku")?Xt="SKU":ki.includes("variant")&&(Xt="Variants"),ge.push({row:js,column:Xt,productName:ha.toString(),error:It}),jr}}));let Ke=0,nt=0;Fe.forEach((kt,te)=>{kt.status==="fulfilled"?Ke++:(nt++,console.error(` Batch item ${Ae+te+1} failed:`,kt.reason))}),console.log(` Batch ${Math.floor(Ae/$e)+1} complete: ${Ke} succeeded, ${nt} failed. Total success so far: ${ne}`);const mt=Math.min(Ae+$e,re.length);W({current:mt,total:re.length,currentItem:`  ${ne}    ${re.length}... (  ${mt})`}),Ae+$e<re.length&&await new Promise(kt=>setTimeout(kt,1e3))}}const Me=[...oe,...ge];if(K.current)L(!1),W({current:0,total:0,currentItem:""}),K.current=!1;else{const $e=ee,_e=Me.length>0?e("dashboard.products.messages.importCompleteWithErrors",{success:ne,errors:Me.length,total:$e}):e("dashboard.products.messages.importComplete",{success:ne,total:$e});W({current:$e,total:$e,currentItem:_e}),await new Promise(De=>setTimeout(De,1500)),Me.length>0?(console.group("  :"),console.log(` : ${Me.length}`),Me.forEach((De,Ae)=>{console.error(` ${Ae+1}:  ${De.row} - : ${De.column} - : ${De.productName} - : ${De.error}`)}),console.groupEnd(),U(Me),L(!1),await new Promise(De=>setTimeout(De,300)),J(!0),console.log(" Error dialog should now be visible with",Me.length,"errors")):(L(!1),W({current:0,total:0,currentItem:""})),a({title:ne>0?e("dashboard.products.messages.importSuccess"):e("dashboard.products.messages.importFailed"),description:Me.length>0?e("dashboard.products.messages.importSuccessDescWithErrors",{success:ne,errors:Me.length}):e("dashboard.products.messages.importSuccessDesc",{success:ne}),variant:Me.length>ne?"destructive":ne>0?"default":"destructive",duration:5e3}),console.log(` Import Summary: ${ne} succeeded, ${Me.length} failed out of ${ee} total rows`),ne>0?(console.log(` Reloading product data after import (${ne} products should be created)...`),v(!0),await st(),v(!1),console.log(` Data reloaded. Current product count: ${c.length}`),c.length===0&&ne>0&&(console.warn(` WARNING: ${ne} products reported as created but product list is still empty!`),a({title:"",description:`  ${ne}    .        .`,variant:"destructive",duration:1e4}))):await st()}le.target.value=""}catch(Dt){K.current=!1,L(!1),W({current:0,total:0,currentItem:""}),a({title:e("dashboard.products.messages.importErrorTitle"),description:Dt instanceof Error?Dt.message:e("dashboard.products.messages.importErrorDesc"),variant:"destructive"})}finally{!Z&&!R&&W({current:0,total:0,currentItem:""})}}},we={total:Re,active:c.filter(le=>le.status==="ACTIVE").length,lowStock:c.filter(le=>le.stock<=le.lowStockThreshold).length,outOfStock:c.filter(le=>le.stock===0).length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.products.title")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.products.subtitle")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",className:"gap-2",onClick:()=>n("/dashboard/hierarchical"),children:[s.jsx(fG,{className:"h-4 w-4"}),e("dashboard.products.messages.productsAndCollections")]}),s.jsxs(z,{variant:"outline",className:"gap-2",onClick:()=>Le(!0),id:"tour-products-import-btn",children:[s.jsx(Gn,{className:"h-4 w-4"}),e("dashboard.products.messages.importBtn")]}),s.jsxs(z,{className:"gap-2",onClick:()=>{T(null),_t(),D(!0)},id:"tour-products-add-btn",children:[s.jsx(Gt,{className:"h-4 w-4"}),e("dashboard.products.addProduct")]}),s.jsx(Qt,{open:E,onOpenChange:D,children:s.jsxs(Yt,{className:"max-w-4xl h-[90vh] flex flex-col p-0 overflow-hidden",children:[s.jsxs(tr,{className:"px-6 pt-6 pb-2 flex-shrink-0",children:[s.jsx(rr,{children:e(P?"dashboard.products.editProduct":"dashboard.products.addNewProduct")}),s.jsx(ur,{children:e("dashboard.products.enterProductDetails")})]}),s.jsx("div",{className:"flex-1 min-h-0 flex flex-col px-6 pb-6",children:s.jsx(yD,{initialData:Ue,initialImages:Pe,categories:u,brands:[],units:m,suppliers:y,onSave:tt,onCancel:()=>D(!1),isEditing:!!P})})]})}),s.jsx(Cot,{open:Ve,onOpenChange:Le,categories:u,brands:g,units:m,suppliers:y,onSuccess:()=>{st()}})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(je,{className:"border-r-4 border-r-blue-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.totalProducts")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:we.total})]}),s.jsx(Tt,{className:"h-8 w-8 text-blue-500 opacity-50"})]})})}),s.jsx(je,{className:"border-r-4 border-r-green-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.activeProducts")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:we.active})]}),s.jsx(Tt,{className:"h-8 w-8 text-green-500 opacity-50"})]})})}),s.jsx(je,{className:"border-r-4 border-r-yellow-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.lowStock")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:we.lowStock})]}),s.jsx(Us,{className:"h-8 w-8 text-yellow-500 opacity-50"})]})})}),s.jsx(je,{className:"border-r-4 border-r-red-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.products.outOfStock")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:we.outOfStock})]}),s.jsx(Us,{className:"h-8 w-8 text-red-500 opacity-50"})]})})})]}),s.jsxs(Yn,{value:de,onValueChange:le=>{xe(le)},className:"w-full",children:[s.jsxs(_n,{className:"mb-4",children:[s.jsx(Ar,{value:"all",children:e("dashboard.products.allProducts")}),s.jsxs(Ar,{value:"low-stock",className:"gap-2",children:[e("dashboard.products.nearDepletion"),de!=="low-stock"&&we.lowStock>0&&s.jsx(Ze,{variant:"secondary",className:"h-5 px-1.5 min-w-[1.25rem]",children:we.lowStock})]}),s.jsxs(Ar,{value:"out-of-stock",className:"gap-2",children:[e("dashboard.products.quantityDepleted"),de!=="out-of-stock"&&we.outOfStock>0&&s.jsx(Ze,{variant:"secondary",className:"h-5 px-1.5 min-w-[1.25rem]",children:we.outOfStock})]})]}),s.jsxs(je,{children:[s.jsx(et,{className:"border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",id:"tour-products-search",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{placeholder:e("dashboard.products.searchPlaceholder"),value:N,onChange:le=>j(le.target.value),className:"pr-10"})]}),s.jsxs(nr,{value:k,onValueChange:S,children:[s.jsxs(Jt,{className:"w-[180px]",children:[s.jsx(wu,{className:"h-4 w-4 ml-2"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("dashboard.products.allStatuses")}),s.jsx(Oe,{value:"ACTIVE",children:e("dashboard.products.active")}),s.jsx(Oe,{value:"DRAFT",children:e("dashboard.products.draft")}),s.jsx(Oe,{value:"ARCHIVED",children:e("dashboard.products.archived")})]})]}),s.jsxs(nr,{value:C,onValueChange:A,children:[s.jsxs(Jt,{className:"w-[180px]",children:[s.jsx(wu,{className:"h-4 w-4 ml-2"}),s.jsx(cr,{placeholder:e("dashboard.products.category")})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("dashboard.products.allCategories")}),u.map(le=>s.jsx(Oe,{value:le.id,children:le.nameAr||le.name},le.id))]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",className:"gap-2",onClick:Ia,disabled:b,children:[s.jsx(Tt,{className:"h-4 w-4"}),e("dashboard.products.messages.selectAll")]}),M.size>0&&s.jsxs(z,{variant:"destructive",className:"gap-2",onClick:pr,disabled:V,children:[s.jsx(_r,{className:"h-4 w-4"}),V?e("dashboard.products.messages.deleting"):e("dashboard.products.messages.deleteSelected",{count:M.size})]}),s.jsxs(z,{variant:"outline",className:"gap-2",onClick:St,id:"tour-products-export-btn",children:[s.jsx(Za,{className:"h-4 w-4"}),e("dashboard.products.export")]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:gt}),s.jsxs(z,{variant:"outline",className:"gap-2",children:[s.jsx(Gn,{className:"h-4 w-4"}),e("dashboard.products.import")]})]})]})]})}),s.jsxs(Ce,{className:"p-0",children:[b?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):Br.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.products.noProducts")}),s.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.products.startAddingFirst")}),s.jsxs(z,{onClick:()=>{T(null),_t(),D(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 ml-2"}),e("dashboard.products.addProduct")]})]}):s.jsx("div",{className:"w-full max-w-full overflow-x-auto",dir:t.language==="ar"?"rtl":"ltr",children:s.jsxs(ts,{className:"w-full table-auto",style:{minWidth:"900px"},children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:`w-12 sticky ${r?"right-0":"left-0"} bg-background z-20 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:s.jsx(Ki,{checked:Hr,onCheckedChange:Bs,"aria-label":"Select all"})}),s.jsx(Ee,{className:"font-semibold text-start min-w-[200px]",children:e("dashboard.products.product")}),s.jsx(Ee,{className:"font-semibold text-start w-32 whitespace-nowrap",children:"SKU"}),s.jsx(Ee,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.messages.path")}),s.jsx(Ee,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.price")}),s.jsx(Ee,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.stock")}),s.jsx(Ee,{className:"font-semibold text-start w-32 whitespace-nowrap",children:e("dashboard.products.status")}),s.jsx(Ee,{className:`font-semibold text-center w-32 whitespace-nowrap sticky ${r?"left-0":"right-0"} bg-background z-20 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.products.actions")})]})}),s.jsx(ss,{children:Nr.map((le,Ye)=>{var ct,lt,Xe;return s.jsxs(jt,{className:"group hover:bg-gradient-to-r hover:from-gray-50 hover:to-transparent dark:hover:from-gray-800 dark:hover:to-transparent transition-all duration-300 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${Ye*50}ms`,animationDuration:"500ms"},children:[s.jsx(ke,{className:`sticky ${r?"right-0":"left-0"} bg-background z-10 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)]`,onClick:At=>At.stopPropagation(),children:s.jsx(Ki,{checked:M.has(le.id),onCheckedChange:At=>$t(le.id,At),onClick:At=>At.stopPropagation(),"aria-label":`Select ${le.nameAr||le.name}`})}),s.jsx(ke,{className:"cursor-pointer text-start",onClick:()=>{O(le),I(!0)},children:s.jsxs("div",{className:`flex items-center gap-3 ${r?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-xl flex items-center justify-center overflow-hidden border-2 border-transparent transition-all duration-300 group-hover:border-primary group-hover:shadow-lg group-hover:scale-110",children:(ct=le.images)!=null&&ct[0]?s.jsx("img",{src:le.images[0],alt:le.nameAr,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):s.jsx(Ni,{className:"h-7 w-7 text-gray-400 transition-all duration-300 group-hover:text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0 text-start",children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-primary transition-colors duration-300 break-words",children:le.nameAr||le.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 break-words",children:((lt=le.category)==null?void 0:lt.nameAr)||((Xe=le.category)==null?void 0:Xe.name)||" "})]})]})}),s.jsx(ke,{className:"font-mono text-sm text-gray-600 dark:text-gray-300 text-start break-all",children:le.sku}),s.jsx(ke,{className:"font-mono text-sm text-gray-600 dark:text-gray-300 text-start break-all",children:le.path||"-"}),s.jsx(ke,{className:"text-start",children:s.jsxs("div",{className:"text-start",children:[s.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[Number(le.price||0).toFixed(2)," "]}),le.compareAtPrice&&s.jsxs("p",{className:"text-xs text-gray-500 line-through",children:[Number(le.compareAtPrice).toFixed(2)," "]})]})}),s.jsx(ke,{className:"text-start",children:s.jsxs("div",{className:`flex items-center gap-2 ${r?"justify-end":"justify-start"}`,children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:le.stock}),vr(le.stock,le.lowStockThreshold)]})}),s.jsx(ke,{className:"text-start",children:Se(le.status)}),s.jsx(ke,{className:`sticky ${r?"left-0":"right-0"} bg-background z-10 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:s.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:At=>{At.stopPropagation(),as(le)},className:"hover:bg-blue-100 dark:hover:bg-blue-900 hover:text-blue-600",children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",asChild:!0,onClick:At=>At.stopPropagation(),className:"hover:bg-green-100 dark:hover:bg-green-900 hover:text-green-600",children:s.jsx(Qe,{to:`/products/${le.id}`,target:"_blank",children:s.jsx(fr,{className:"h-4 w-4"})})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:At=>{At.stopPropagation(),Bt(le.id)},className:"hover:bg-red-100 dark:hover:bg-red-900 hover:text-red-600",children:s.jsx(_r,{className:"h-4 w-4"})})]})})]},le.id)})})]})}),!b&&Re>0&&s.jsx(Qh,{currentPage:se,totalPages:He,totalItems:Re,itemsPerPage:Ne,onPageChange:B,onItemsPerPageChange:ye,itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t"})]})]})]}),s.jsx(Qt,{open:F,onOpenChange:I,children:s.jsx(Yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:_&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(tr,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(rr,{className:"text-2xl font-bold mb-2",children:_.nameAr||_.name}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Se(_.status),_.featured&&s.jsx(Ze,{className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:" "}),s.jsx(Ze,{variant:"outline",className:"font-mono text-xs",children:_.sku})]})]}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>I(!1),className:"rounded-full",children:s.jsx(hr,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-gray-200 dark:border-gray-700",children:_.images&&_.images.length>0?s.jsx("img",{src:_.images[0],alt:_.nameAr,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Ni,{className:"h-24 w-24 text-gray-400"})})}),_.images&&_.images.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:_.images.slice(1,5).map((le,Ye)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 border cursor-pointer hover:border-primary transition-all",children:s.jsx("img",{src:le,alt:`${_.nameAr} ${Ye+2}`,className:"w-full h-full object-cover"})},Ye))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(je,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsx("span",{className:"text-4xl font-bold text-primary",children:Number(_.price||0).toFixed(2)}),s.jsx("span",{className:"text-xl text-gray-600 dark:text-gray-400",children:""})]}),_.compareAtPrice&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[Number(_.compareAtPrice).toFixed(2)," "]}),s.jsxs(Ze,{className:"bg-red-500 text-white",children:[" ",Math.round((1-_.price/_.compareAtPrice)*100),"%"]})]}),_.cost&&s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[": ",Number(_.cost).toFixed(2)," "]})]})}),s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:""}),vr(_.stock,_.lowStockThreshold)]}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl font-bold",children:_.stock}),s.jsx("span",{className:"text-gray-500",children:" "})]}),s.jsx("div",{className:"mt-3 pt-3 border-t",children:s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" : ",_.lowStockThreshold," "]})})]})}),_.category&&s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:""}),s.jsx("p",{className:"text-lg font-semibold",children:_.category.nameAr||_.category.name})]})})]})]}),(_.description||_.descriptionAr)&&s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{className:"text-lg",children:""})}),s.jsx(Ce,{children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:_.descriptionAr||_.description})})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{className:"text-lg",children:" "})}),s.jsx(Ce,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.barcode&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:""}),s.jsx("p",{className:"font-mono font-semibold",children:_.barcode})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:" "}),s.jsx("p",{className:"font-semibold",children:new Date(_.createdAt).toLocaleDateString("ar-SA")})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(z,{className:"flex-1 gap-2",onClick:()=>{I(!1),as(_)},children:[s.jsx(La,{className:"h-4 w-4"}),e("dashboard.products.editProduct")]}),s.jsx(z,{variant:"outline",className:"flex-1 gap-2",asChild:!0,children:s.jsxs(Qe,{to:`/products/${_.id}`,target:"_blank",children:[s.jsx(fr,{className:"h-4 w-4"}),e("dashboard.products.viewInStore")]})})]})]})})}),s.jsx(Qt,{open:Z,onOpenChange:le=>{console.log(" Error dialog onOpenChange:",le,"Current errors:",Y.length),J(le),le||U([])},children:s.jsxs(Yt,{className:"max-w-6xl max-h-[90vh]",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-red-600"}),"   "]}),s.jsx(ur,{children:"    .          Excel."})]}),s.jsx("div",{className:"py-4 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 border-2 border-red-200 dark:border-red-800 rounded-lg p-5",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full",children:s.jsx(Us,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg text-red-900 dark:text-red-300",children:["   : ",Y.length]}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:"       Excel    "})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Y.length})]})})]})}),Y.length>0&&s.jsxs(je,{className:"border-2 border-red-200 dark:border-red-800",children:[s.jsxs(et,{className:"bg-red-50 dark:bg-red-950/30",children:[s.jsxs(at,{className:"text-lg flex items-center gap-2",children:[s.jsx(hr,{className:"h-5 w-5 text-red-600"}),"    "]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"          "})]}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsx(Ee,{className:"w-24 font-bold text-center",children:"#   Excel"}),s.jsx(Ee,{className:"font-bold min-w-[150px]",children:"  / SKU"}),s.jsx(Ee,{className:"font-bold min-w-[120px]",children:"  "}),s.jsx(Ee,{className:"font-bold",children:" "})]})}),s.jsx(ss,{children:Y.map((le,Ye)=>s.jsxs(jt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[s.jsx(ke,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:le.row}),s.jsx(ke,{className:"font-medium",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-semibold",children:le.productName||"(  )"}),le.productName&&le.productName!==le.productName&&s.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",le.productName]})]})}),s.jsx(ke,{children:s.jsx(Ze,{variant:"outline",className:"font-semibold text-blue-700 dark:text-blue-400 border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-950/30",children:le.column||""})}),s.jsx(ke,{className:"text-red-700 dark:text-red-400 font-medium",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:le.error})]})})]},Ye))})]})})})]})]})}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>{J(!1),U([])},className:"min-w-[100px]",children:""}),s.jsxs(z,{onClick:()=>{const le=Y.map(lt=>({row:lt.row,productName:lt.productName||"",column:lt.column||"",error:lt.error})),Ye=$r.json_to_sheet(le),ct=$r.book_new();$r.book_append_sheet(ct,Ye,"Import Errors"),Du(ct,`import_errors_${new Date().toISOString().split("T")[0]}.xlsx`),a({title:" ",description:"    "})},variant:"secondary",className:"min-w-[150px]",children:[s.jsx(Za,{className:"h-4 w-4 ml-2"}),"  "]})]})]})}),s.jsx(une,{open:R,onOpenChange:le=>{L(le),le?K.current=!1:(K.current=!0,W({current:0,total:0,currentItem:""}),H.total>0&&H.current<H.total&&a({title:e("dashboard.products.importStopped"),description:e("dashboard.products.importStoppedDesc")}))},progress:H,title:e("dashboard.products.importingProducts"),description:e("dashboard.products.importingProductsDesc")})]})}function Eot({open:e,onOpenChange:t,errors:r,title:a="  ",description:n="    .          Excel.",itemLabel:i="",className:o}){const[l,c]=f.useState(new Set),[d,u]=f.useState({}),h=w=>w.includes("Unique constraint failed")&&(w.includes("slug")||w.includes("productTag"))?"         (Slug)  .":w.includes("Unique constraint failed")&&w.includes("sku")?"  (SKU)  .      .":w.includes("Unique constraint failed")&&w.includes("barcode")?"  .    .":w.includes("Foreign key constraint failed")?"    .          .":w.includes("is missing")?"      .":w.includes("Invalid value")||w.includes("must be")?"   .      (    ).":w.includes("prisma")||w.includes("invocation")||w.includes("constraint")?"     .       .":w,m=w=>{u(b=>({...b,[w]:!b[w]}))},p=f.useMemo(()=>{const w={};return r.forEach(b=>{const v=b.column||"";w[v]||(w[v]=[]),w[v].push(b)}),w},[r]),g=w=>{c(b=>{const v=new Set(b);return v.has(w)?v.delete(w):v.add(w),v})},x=()=>{const w=r.map(N=>({" ":N.row," ":N.productName||N.itemName||"",:N.column||""," ":N.error})),b=$r.json_to_sheet(w),v=$r.book_new();$r.book_append_sheet(v,b," "),Du(v,`import_errors_${new Date().toISOString().split("T")[0]}.xlsx`)},y=w=>({Price:"text-orange-700 border-orange-300 bg-orange-50 dark:text-orange-400 dark:border-orange-700 dark:bg-orange-950/30",:"text-orange-700 border-orange-300 bg-orange-50 dark:text-orange-400 dark:border-orange-700 dark:bg-orange-950/30",Category:"text-purple-700 border-purple-300 bg-purple-50 dark:text-purple-400 dark:border-purple-700 dark:bg-purple-950/30",:"text-purple-700 border-purple-300 bg-purple-50 dark:text-purple-400 dark:border-purple-700 dark:bg-purple-950/30",Brand:"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30",:"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30",SKU:"text-cyan-700 border-cyan-300 bg-cyan-50 dark:text-cyan-400 dark:border-cyan-700 dark:bg-cyan-950/30",Name:"text-green-700 border-green-300 bg-green-50 dark:text-green-400 dark:border-green-700 dark:bg-green-950/30",:"text-green-700 border-green-300 bg-green-50 dark:text-green-400 dark:border-green-700 dark:bg-green-950/30",General:"text-gray-700 border-gray-300 bg-gray-50 dark:text-gray-400 dark:border-gray-700 dark:bg-gray-950/30",:"text-gray-700 border-gray-300 bg-gray-50 dark:text-gray-400 dark:border-gray-700 dark:bg-gray-950/30"})[w]||"text-blue-700 border-blue-300 bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:bg-blue-950/30";return s.jsx(Qt,{open:e,onOpenChange:t,children:s.jsxs(Yt,{className:be("max-w-6xl max-h-[90vh]",o),children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-red-600"}),a]}),s.jsx(ur,{children:n})]}),s.jsxs("div",{className:"py-4 max-h-[70vh] overflow-y-auto space-y-4 text-right",dir:"rtl",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 border-2 border-red-200 dark:border-red-800 rounded-lg p-5",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-full",children:s.jsx(Hme,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg text-red-900 dark:text-red-300",children:["   : ",r.length]}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:"       Excel    "})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(p).slice(0,3).map(([w,b])=>s.jsxs(Ze,{variant:"outline",className:be("cursor-pointer",y(w)),onClick:()=>g(w),children:[w,": ",b.length]},w)),Object.keys(p).length>3&&s.jsxs(Ze,{variant:"outline",className:"text-gray-500",children:["+",Object.keys(p).length-3,"  "]})]})})]})}),Object.entries(p).map(([w,b])=>s.jsxs(je,{className:"border-2 border-red-200 dark:border-red-800",children:[s.jsx(et,{className:"bg-red-50 dark:bg-red-950/30 cursor-pointer hover:bg-red-100 dark:hover:bg-red-950/50 transition-colors",onClick:()=>g(w),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(at,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ze,{variant:"outline",className:be("font-semibold",y(w)),children:w}),s.jsxs("span",{className:"text-sm font-normal text-gray-600 dark:text-gray-400",children:[b.length," ",b.length===1?"":""]})]}),l.has(w)?s.jsx(Ok,{className:"h-5 w-5 text-gray-500"}):s.jsx(zi,{className:"h-5 w-5 text-gray-500"})]})}),l.has(w)&&s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsx(Ee,{className:"w-24 font-bold text-center",children:"# "}),s.jsx(Ee,{className:"font-bold min-w-[150px]",children:i}),s.jsx(Ee,{className:"font-bold",children:" "})]})}),s.jsx(ss,{children:b.map((v,N)=>{const j=`${w}-${N}`,k=v.error.includes("prisma")||v.error.includes("invocation")||v.error.includes("constraint");return s.jsxs(jt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[s.jsx(ke,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:v.row}),s.jsx(ke,{className:"font-medium",children:s.jsx("span",{className:"font-semibold",children:v.productName||v.itemName||"(  )"})}),s.jsx(ke,{className:"text-red-700 dark:text-red-400 font-medium",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:h(v.error)})]}),k&&s.jsxs("div",{className:"mt-1",children:[s.jsx(z,{variant:"ghost",size:"sm",className:"h-7 text-[10px] px-2 bg-red-100/50 hover:bg-red-200/50 dark:bg-red-900/30 dark:hover:bg-red-800/30 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800",onClick:()=>m(j),children:d[j]?"  ":"Dev ( )"}),d[j]&&s.jsx("div",{className:"mt-2 p-3 bg-gray-900 text-gray-100 rounded text-[10px] font-mono whitespace-pre-wrap border border-gray-700 overflow-x-auto text-left",dir:"ltr",children:v.error})]})]})})]},N)})})]})})})]},w)),r.length>0&&Object.keys(p).length===0&&s.jsxs(je,{className:"border-2 border-red-200 dark:border-red-800",children:[s.jsx(et,{className:"bg-red-50 dark:bg-red-950/30",children:s.jsxs(at,{className:"text-lg flex items-center gap-2",children:[s.jsx(hr,{className:"h-5 w-5 text-red-600"}),"    "]})}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-gray-50 dark:bg-gray-900",children:[s.jsx(Ee,{className:"w-24 font-bold text-center",children:"# "}),s.jsx(Ee,{className:"font-bold min-w-[150px]",children:i}),s.jsx(Ee,{className:"font-bold min-w-[120px]",children:""}),s.jsx(Ee,{className:"font-bold",children:" "})]})}),s.jsx(ss,{children:r.map((w,b)=>{const v=`full-${b}`,N=w.error.includes("prisma")||w.error.includes("invocation")||w.error.includes("constraint");return s.jsxs(jt,{className:"hover:bg-red-50/50 dark:hover:bg-red-950/20 border-b border-red-100 dark:border-red-900/50",children:[s.jsx(ke,{className:"font-mono font-bold text-center text-lg bg-red-50 dark:bg-red-950/30",children:w.row}),s.jsx(ke,{className:"font-medium",children:s.jsx("span",{className:"font-semibold",children:w.productName||w.itemName||"(  )"})}),s.jsx(ke,{children:s.jsx(Ze,{variant:"outline",className:be("font-semibold",y(w.column||"")),children:w.column||""})}),s.jsx(ke,{className:"text-red-700 dark:text-red-400 font-medium",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Us,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:h(w.error)})]}),N&&s.jsxs("div",{className:"mt-1",children:[s.jsx(z,{variant:"ghost",size:"sm",className:"h-7 text-[10px] px-2 bg-red-100/50 hover:bg-red-200/50 dark:bg-red-900/30 dark:hover:bg-red-800/30 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800",onClick:()=>m(v),children:d[v]?"  ":"Dev ( )"}),d[v]&&s.jsx("div",{className:"mt-2 p-3 bg-gray-900 text-gray-100 rounded text-[10px] font-mono whitespace-pre-wrap border border-gray-700 overflow-x-auto text-left",dir:"ltr",children:w.error})]})]})})]},b)})})]})})})]})]}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>t(!1),className:"min-w-[100px]",children:""}),s.jsxs(z,{onClick:x,variant:"secondary",className:"min-w-[150px]",children:[s.jsx(Za,{className:"h-4 w-4 ml-2"}),"  "]})]})]})})}function bD({categories:e,initialData:t,parentId:r,onSave:a,onCancel:n,saving:i=!1}){const[o,l]=f.useState({name:(t==null?void 0:t.name)||"",nameAr:(t==null?void 0:t.nameAr)||"",description:(t==null?void 0:t.description)||"",descriptionAr:(t==null?void 0:t.descriptionAr)||"",slug:(t==null?void 0:t.slug)||"",parentId:(t==null?void 0:t.parentId)||r||"",image:(t==null?void 0:t.image)||"",icon:(t==null?void 0:t.icon)||"",isActive:(t==null?void 0:t.isActive)!==void 0?t.isActive:!0});f.useEffect(()=>{t?l({name:t.name||"",nameAr:t.nameAr||"",description:t.description||"",descriptionAr:t.descriptionAr||"",slug:t.slug||"",parentId:t.parentId||r||"",image:t.image||"",icon:t.icon||"",isActive:t.isActive!==void 0?t.isActive:!0}):r&&l(d=>({...d,parentId:r}))},[t,r]);const c=async d=>{d.preventDefault(),o.name.trim()&&await a(o)};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:s.jsxs("form",{id:"category-form",onSubmit:c,className:"space-y-4 pb-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" *"}),s.jsx(me,{value:o.name,onChange:d=>l({...o,name:d.target.value}),placeholder:" ",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" ()"}),s.jsx(me,{value:o.nameAr,onChange:d=>l({...o,nameAr:d.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:""}),s.jsx(Fs,{value:o.description,onChange:d=>l({...o,description:d.target.value}),placeholder:" ",rows:3})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" ()"}),s.jsx(Fs,{value:o.descriptionAr,onChange:d=>l({...o,descriptionAr:d.target.value}),placeholder:"  ",rows:3})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" (Slug)"}),s.jsx(me,{value:o.slug,onChange:d=>l({...o,slug:d.target.value}),placeholder:"     "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" "}),s.jsxs(nr,{value:o.parentId||"none",onValueChange:d=>l({...o,parentId:d==="none"?"":d}),children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:"   ()"})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"  ( )"}),e.filter(d=>{if(t&&d.id===t.id)return!1;if(t){let u=d.parentId;for(;u;){if(u===t.id)return!1;const h=e.find(m=>m.id===u);u=h==null?void 0:h.parentId}}return!0}).map(d=>s.jsx(Oe,{value:d.id,children:d.nameAr||d.name},d.id))]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{value:o.image,onChange:d=>l({...o,image:d.target.value}),placeholder:"  "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:""}),s.jsx(me,{value:o.icon,onChange:d=>l({...o,icon:d.target.value}),placeholder:"    "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:d=>l({...o,isActive:d.target.checked}),className:"h-4 w-4"}),s.jsx(X,{htmlFor:"isActive",className:"cursor-pointer",children:""})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-2 bg-background sticky bottom-0 z-10",children:[s.jsx(z,{type:"button",variant:"outline",onClick:n,disabled:i,children:""}),s.jsx(z,{type:"submit",form:"category-form",disabled:i||!o.name.trim(),children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin ml-2"})," ..."]}):t?"":""})]})]})}function Pot(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",{toast:a}=Rt(),{user:n}=$s(),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!0);f.useState([]);const[p,g]=f.useState(!1),[x,y]=f.useState(!1),[w,b]=f.useState(!1),[v,N]=f.useState({current:0,total:0,currentItem:""}),[j,k]=f.useState([]),[S,C]=f.useState(!1),[A,E]=f.useState("categories"),[D,P]=f.useState([]),[T,_]=f.useState(!1),[O,F]=f.useState([{id:"1",name:"VIP Tier",description:"VIP customers",color:"#FFD700",discountPercent:15,productCategories:[],assignedCustomers:[]},{id:"2",name:"Gold Tier",description:"Gold customers",color:"#C0C0C0",discountPercent:10,productCategories:[],assignedCustomers:[]},{id:"3",name:"Regular Tier",description:"Regular customers",color:"#CD7F32",discountPercent:5,productCategories:[],assignedCustomers:[]}]),[I,R]=f.useState(!1),[L,H]=f.useState(null),[W,M]=f.useState({name:"",description:"",color:"#3B82F6",discountPercent:10,productCategories:[],assignedCustomers:[]}),[G,V]=f.useState([]),[q,Y]=f.useState(!1),[U,Z]=f.useState(null),[J,K]=f.useState({name:"",tierId:"",productCategoryIds:[],assignedCustomers:[],discountPercent:13,isActive:!0}),se=f.useCallback(async()=>{try{m(!0);const[de,xe,Ie]=await Promise.all([he.getBrands().catch(()=>[]),he.getCategories({limit:1e3}),he.getProducts({limit:"1000"}).catch(()=>[])]);o(Array.isArray(de)?de:[]);let st=[];if(xe&&"meta"in xe)st=xe.categories;else{const tt=xe;st=Array.isArray(tt)?tt:tt.categories||[]}c(st.map(tt=>{var Bt;return{...tt,parentId:typeof tt.parentId=="object"?(Bt=tt.parentId)==null?void 0:Bt.id:tt.parentId}}));const wt=Array.isArray(Ie)?Ie:Ie.products||[];u(wt.map(tt=>{var pr;let Bt=[];return tt.categories&&Array.isArray(tt.categories)&&(Bt=tt.categories.map($t=>{var _t;return typeof $t=="string"?{categoryId:$t}:{categoryId:$t.categoryId||$t.id||((_t=$t.category)==null?void 0:_t.id),category:$t.category,id:$t.id}})),{id:tt.id,name:tt.name,nameAr:tt.nameAr||tt.name,brandId:tt.brandId||((pr=tt.brand)==null?void 0:pr.id),categories:Bt,price:tt.price,description:tt.description,status:tt.status,images:tt.images,stock:tt.stock,sku:tt.sku,barcode:tt.barcode,cost:tt.cost,compareAtPrice:tt.compareAtPrice}}))}catch(de){console.error("Failed to load data:",de),a({title:e("common.error"),description:e("dashboard.categories.productCategories.loadError"),variant:"destructive"}),c([])}finally{m(!1)}},[e,a]);if(f.useEffect(()=>{se()},[se]),!!!(n!=null&&n.tenantId&&n.tenantId!=="default"&&n.tenantId!=="system"))return s.jsx(TF,{});const Ne=async()=>{try{m(!0);const de=await he.get("/categories?limit=10000&allFields=true");let xe=[];if(de&&"categories"in de?xe=de.categories:xe=Array.isArray(de)?de:[],de&&"meta"in de&&de.meta.totalPages>1){const Se=de.meta.totalPages;(await Promise.all(Array.from({length:Se-1},(Br,Nr)=>he.get(`/categories?limit=10000&page=${Nr+2}&allFields=true`)))).forEach(Br=>{Br&&"categories"in Br&&(xe=[...xe,...Br.categories])})}let Ie=[];try{const Se=await he.getProducts({limit:1e4});if(Se&&typeof Se=="object"&&"data"in Se){if(Ie=Se.data||[],Se.meta&&Se.meta.totalPages>1){const vr=Se.meta.totalPages;(await Promise.all(Array.from({length:vr-1},(Nr,Bs)=>he.getProducts({limit:1e4,page:Bs+2})))).forEach(Nr=>{Nr&&typeof Nr=="object"&&"data"in Nr?Ie=[...Ie,...Nr.data||[]]:Array.isArray(Nr)&&(Ie=[...Ie,...Nr])})}}else Array.isArray(Se)?Ie=Se:Se&&"products"in Se&&(Ie=Se.products||[])}catch(Se){console.warn("Could not fetch all products for export:",Se),Ie=d}const st=new Map;Ie.forEach(Se=>{Se.categories&&Array.isArray(Se.categories)&&Se.categories.forEach(vr=>{var Nr;const Br=vr.categoryId||vr.id||((Nr=vr.category)==null?void 0:Nr.id);Br&&Se.sku&&(st.has(Br)||st.set(Br,[]),st.get(Br).push(Se.sku))})});const wt=new Map;xe.forEach(Se=>{Se.id&&wt.set(Se.id,Se)});const tt=(Se,vr=!1)=>{const Br=[];let Nr=Se;for(;Nr;){const Bs=vr?Nr.nameAr||Nr.name||"":Nr.name||"";if(Bs&&Br.unshift(Bs),Nr.parentId&&wt.has(Nr.parentId))Nr=wt.get(Nr.parentId);else break}return Br.join(" > ")},Bt=[" ",""," ()",""," ()","","","",""," ","  ","  "," ","    "," "," "],pr=xe.map(Se=>{const vr=Se.id,Br=st.get(vr)||[],Nr=Br.join(", ");return{" ":tt(Se,!0),:Se.name||""," ()":Se.nameAr||"",:Se.description||""," ()":Se.descriptionAr||"",:Se.slug||"",:Se.image||"",:Se.icon||"",:Se.isActive!==void 0?Se.isActive?"":"":""," ":Se.sortOrder||0,"  ":Se.minQuantity||"","  ":Se.maxQuantity||""," ":Se.enableSlider!==void 0&&Se.enableSlider?"":"","    ":Se.applySliderToAllProducts!==void 0&&Se.applySliderToAllProducts?"":""," ":Se.productCount||Br.length||0," ":Nr}}),$t=$r.json_to_sheet(pr,{header:Bt}),_t=[{wch:50},{wch:25},{wch:25},{wch:40},{wch:40},{wch:25},{wch:50},{wch:20},{wch:10},{wch:12},{wch:15},{wch:15},{wch:15},{wch:30},{wch:12},{wch:100}];$t["!cols"]=_t;const as=$r.book_new();$r.book_append_sheet(as,$t,"Categories"),Du(as,`categories_export_${new Date().toISOString().split("T")[0]}.xlsx`),a({title:e("common.success"),description:`${xe.length} categories exported successfully with product SKUs`})}catch(de){console.error("Export error:",de),a({variant:"destructive",title:e("common.error"),description:de.message||"Failed to export categories"})}finally{m(!1)}},ye=async de=>{var Ie,st,wt,tt,Bt,pr,$t,_t,as,Se,vr,Br,Nr,Bs,Ia,Hr,St,gt;const xe=(Ie=de.target.files)==null?void 0:Ie[0];if(xe)try{b(!0),k([]),C(!1),N({current:0,total:0,currentItem:"  ..."});const we=await xe.arrayBuffer();N({current:10,total:100,currentItem:"  ..."});const le=fm(we),Ye=le.Sheets[le.SheetNames[0]],ct=$r.sheet_to_json(Ye,{defval:""}),lt=ct.length;if(lt===0){b(!1),a({title:e("common.error"),description:"        Excel",variant:"destructive"}),de.target.value="";return}N({current:0,total:lt,currentItem:`  ${lt} ...`});let Xe=0;const At=[],Dt=ee=>ee.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),vt=(ee,ue,oe)=>ee[ue]||ee[oe],or=new Map;for(let ee=0;ee<ct.length;ee++){const ue=ct[ee],oe=ee+2,re=(st=vt(ue,"","Name"))==null?void 0:st.trim(),ne=re||` ${oe}`;if(N({current:ee+1,total:lt,currentItem:` : ${ne}...`}),!re){At.push({row:oe,column:" / Name",itemName:ne,error:"  "});continue}try{let ge;const Me=(wt=vt(ue," ","Category Path"))==null?void 0:wt.trim();if(Me){const sr=Me.split(/\s*>\s*/).map(hs=>hs.trim()).filter(hs=>hs);if(sr.length>1){const hs=sr[sr.length-1];let sa;for(let ha=0;ha<sr.length-1;ha++){const Pa=sr[ha];let zr=or.get(Pa);if(!zr){const _s=l.find(Ra=>{var Yc,jo;return((Yc=Ra.name)==null?void 0:Yc.toLowerCase())===Pa.toLowerCase()||((jo=Ra.nameAr)==null?void 0:jo.toLowerCase())===Pa.toLowerCase()});zr=_s==null?void 0:_s.id}if(!zr)try{const _s=Dt(Pa);zr=(tt=(await he.createCategory({name:Pa,slug:_s,parentId:sa||void 0,isActive:!0})).category)==null?void 0:tt.id,zr&&or.set(Pa,zr)}catch(_s){let Ra=((pr=(Bt=_s==null?void 0:_s.response)==null?void 0:Bt.data)==null?void 0:pr.message)||(($t=_s==null?void 0:_s.data)==null?void 0:$t.message)||(_s==null?void 0:_s.message)||"  ";Array.isArray(Ra)&&(Ra=Ra.join(", ")),At.push({row:oe,column:"  / Category Path",itemName:ne,error:`    "${Pa}": ${Ra}`}),ge=void 0;break}sa=zr}ge=sa}}else{const sr=(_t=ue.Parent)==null?void 0:_t.trim();if(sr){let hs=or.get(sr);if(!hs){const sa=l.find(ha=>{var Pa,zr,_s;return((Pa=ha.name)==null?void 0:Pa.toLowerCase())===sr.toLowerCase()||((zr=ha.nameAr)==null?void 0:zr.toLowerCase())===sr.toLowerCase()||((_s=ha.slug)==null?void 0:_s.toLowerCase())===sr.toLowerCase()});hs=sa==null?void 0:sa.id}if(ge=hs,!ge){At.push({row:oe,column:"Parent",itemName:ne,error:`  "${sr}"  .           .`});continue}}}const $e=(as=vt(ue," ()","NameAr"))==null?void 0:as.trim(),_e=((Se=vt(ue,"","Description"))==null?void 0:Se.trim())||"",De=(vr=vt(ue," ()","DescriptionAr"))==null?void 0:vr.trim(),Ae=((Br=vt(ue,"","Slug"))==null?void 0:Br.trim())||Dt(re),pe=(Nr=vt(ue,"","Image"))==null?void 0:Nr.trim(),Fe=(Bs=vt(ue,"","Icon"))==null?void 0:Bs.trim(),Ke=vt(ue,"","IsActive"),nt=vt(ue," ","SortOrder")||ue.SortOrder,mt=vt(ue,"  ","MinQuantity")||ue.MinQuantity,kt=vt(ue,"  ","MaxQuantity")||ue.MaxQuantity,te=vt(ue," ","EnableSlider"),Ot=vt(ue,"    ","ApplySliderToAllProducts"),Sr=Ke?Ke.toString().toLowerCase()==="yes"||Ke.toString().toLowerCase()==="true"||Ke.toString()==="1"||Ke.toString()==="":!0,js=te?te.toString().toLowerCase()==="yes"||te.toString().toLowerCase()==="true"||te.toString()==="1"||te.toString()==="":!1,yr=Ot?Ot.toString().toLowerCase()==="yes"||Ot.toString().toLowerCase()==="true"||Ot.toString()==="1"||Ot.toString()==="":!1,ft=(Ia=(await he.createCategory({name:re.trim(),nameAr:$e||void 0,description:_e,descriptionAr:De||void 0,slug:Ae,parentId:ge||void 0,image:pe||void 0,icon:Fe||void 0,isActive:Sr,sortOrder:nt?Number(nt):void 0,minQuantity:mt?Number(mt):void 0,maxQuantity:kt?Number(kt):void 0,enableSlider:js,applySliderToAllProducts:yr})).category)==null?void 0:Ia.id;or.set(re,ft),Xe++,ee<ct.length-1&&await new Promise(sr=>setTimeout(sr,100))}catch(ge){let Me="  ";if((St=(Hr=ge==null?void 0:ge.response)==null?void 0:Hr.data)!=null&&St.message){const De=ge.response.data.message;Me=Array.isArray(De)?De.join(", "):De}else if((gt=ge==null?void 0:ge.data)!=null&&gt.message){const De=ge.data.message;Me=Array.isArray(De)?De.join(", "):De}else ge!=null&&ge.message&&(Me=ge.message);let $e="General";const _e=Me.toLowerCase();_e.includes("name")||_e.includes("")?$e="Name":_e.includes("slug")?$e="Slug":_e.includes("parent")||_e.includes("")?$e="Parent":(_e.includes("tenant")||_e.includes("market"))&&($e="General"),At.push({row:oe,column:$e,itemName:ne,error:Me})}}const Cr=At.length>0?` !   ${Xe}   ${At.length}`:` !   ${Xe}  `;N({current:lt,total:lt,currentItem:Cr}),await new Promise(ee=>setTimeout(ee,1500)),At.length>0?(k(At),b(!1),await new Promise(ee=>setTimeout(ee,300)),C(!0)):b(!1),a({title:Xe>0?e("common.success"):e("common.error"),description:At.length>0?`  ${Xe}    ${At.length} `:`  ${Xe}  `,variant:At.length>Xe?"destructive":"default",duration:5e3}),se(),de.target.value=""}catch(we){b(!1),a({title:e("common.error"),description:(we==null?void 0:we.message)||e("dashboard.categories.productCategories.importError"),variant:"destructive"})}finally{S||N({current:0,total:0,currentItem:""})}},Re=de=>{qe(),de?(H(de),M({name:de.name,description:de.description,color:de.color,discountPercent:de.discountPercent,productCategories:de.productCategories||[],assignedCustomers:de.assignedCustomers||[]})):(H(null),M({name:"",description:"",color:"#3B82F6",discountPercent:10,productCategories:[],assignedCustomers:[]})),R(!0)},qe=async()=>{try{_(!0);const de=await he.get("/customers",{requireAuth:!0});P(Array.isArray(de)?de:de.customers||[])}catch(de){console.error("Failed to load customers:",de),P([])}finally{_(!1)}},He=()=>{if(!W.name){a({title:e("common.error"),description:e("dashboard.categories.customerTiers.tierNameRequired"),variant:"destructive"});return}if(L)F(de=>de.map(xe=>xe.id===L.id?{...xe,...W}:xe)),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.updateSuccess")});else{const de={id:Date.now().toString(),...W};F(xe=>[...xe,de]),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.addSuccess")})}R(!1)},fe=de=>{confirm(e("dashboard.categories.customerTiers.deleteConfirm"))&&(F(xe=>xe.filter(Ie=>Ie.id!==de)),a({title:e("common.success"),description:e("dashboard.categories.customerTiers.deleteSuccess")}))},Ue=de=>{qe(),de?(Z(de),K({name:de.name,tierId:de.tierId,productCategoryIds:de.productCategoryIds,assignedCustomers:de.assignedCustomers||[],discountPercent:de.discountPercent,isActive:de.isActive})):(Z(null),K({name:"",tierId:"",productCategoryIds:[],assignedCustomers:[],discountPercent:13,isActive:!0})),Y(!0)},ie=()=>{if(!J.name||!J.tierId){a({title:e("common.error"),description:e("dashboard.categories.offers.nameAndTierRequired"),variant:"destructive"});return}const de=O.find(xe=>xe.id===J.tierId);if(U)V(xe=>xe.map(Ie=>Ie.id===U.id?{...Ie,...J,tierName:(de==null?void 0:de.name)||""}:Ie)),a({title:e("common.success"),description:e("dashboard.categories.offers.updateSuccess")});else{const xe={id:Date.now().toString(),...J,tierName:(de==null?void 0:de.name)||""};V(Ie=>[...Ie,xe]),a({title:e("common.success"),description:e("dashboard.categories.offers.addSuccess")})}Y(!1)},Pe=de=>{confirm(e("dashboard.categories.offers.deleteConfirm"))&&(V(xe=>xe.filter(Ie=>Ie.id!==de)),a({title:e("common.success"),description:e("dashboard.categories.offers.deleteSuccess")}))},Te=(de,xe)=>(de*(1-xe/100)).toFixed(2),Ve=()=>{g(!0)},Le=async de=>{try{y(!0);const xe=de.slug.trim()||de.name.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");await he.createCategory({name:de.name.trim(),nameAr:de.nameAr.trim()||void 0,description:de.description.trim()||void 0,descriptionAr:de.descriptionAr.trim()||void 0,slug:xe,parentId:de.parentId||void 0,image:de.image.trim()||void 0,icon:de.icon.trim()||void 0,isActive:de.isActive}),a({title:e("common.success"),description:"   "}),g(!1),se()}catch(xe){throw console.error("Failed to create category:",xe),a({title:e("common.error"),description:(xe==null?void 0:xe.message)||"  ",variant:"destructive"}),xe}finally{y(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("dashboard.categories.title")}),s.jsx("p",{className:"text-muted-foreground text-lg",children:e("dashboard.categories.subtitle")})]})}),s.jsxs(Yn,{value:A,onValueChange:E,className:"w-full",children:[s.jsxs(_n,{className:"grid w-full grid-cols-3 mb-6",children:[s.jsxs(Ar,{value:"categories",className:"gap-2",children:[s.jsx(vi,{className:"h-4 w-4"}),e("dashboard.categories.tabs.productCategories")]}),s.jsxs(Ar,{value:"tiers",className:"gap-2",children:[s.jsx(mr,{className:"h-4 w-4"}),e("dashboard.categories.tabs.customerTiers")]}),s.jsxs(Ar,{value:"offers",className:"gap-2",children:[s.jsx(kh,{className:"h-4 w-4"}),e("dashboard.categories.tabs.offers")]})]}),s.jsxs(ls,{value:"categories",children:[s.jsxs("div",{className:"flex justify-between items-center gap-2 mb-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("h2",{className:"text-xl font-semibold",children:e("dashboard.categories.productCategories.allCategories")})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{onClick:Ve,className:"gap-2",children:[s.jsx(Gt,{className:"h-4 w-4"})," "]}),s.jsxs(z,{variant:"outline",onClick:Ne,className:"gap-2",children:[s.jsx(Za,{className:"h-4 w-4"}),e("dashboard.categories.productCategories.export")]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:ye}),s.jsxs(z,{variant:"outline",className:"gap-2",children:[s.jsx(Gn,{className:"h-4 w-4"}),e("dashboard.categories.productCategories.import")]})]})]})]}),h?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx(je,{children:s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"w-full max-w-full overflow-x-auto",dir:r?"rtl":"ltr",children:s.jsxs(ts,{style:{minWidth:"700px"},children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-muted/50",children:[s.jsx(Ee,{className:`font-semibold sticky ${r?"right-0":"left-0"} bg-background z-20 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:""}),s.jsx(Ee,{className:"font-semibold text-start",children:" ()"}),s.jsx(Ee,{className:"font-semibold text-start",children:""}),s.jsx(Ee,{className:"font-semibold text-center",children:" "}),s.jsx(Ee,{className:`font-semibold text-center sticky ${r?"left-0":"right-0"} bg-background z-20 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:""})]})}),s.jsx(ss,{children:l.length===0?s.jsx(jt,{children:s.jsx(ke,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(vi,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("p",{className:"text-lg",children:"  "}),s.jsx("p",{className:"text-sm",children:"   "})]})})}):l.map(de=>s.jsxs(jt,{className:"hover:bg-muted/30 transition-colors",children:[s.jsx(ke,{className:`font-medium py-4 sticky ${r?"right-0":"left-0"} bg-background z-10 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:s.jsxs("div",{className:`flex items-center gap-2 ${r?"flex-row-reverse":"flex-row"}`,children:[s.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-start",children:de.name||"-"})]})}),s.jsx(ke,{className:"py-4 text-start",children:s.jsx("span",{className:"text-muted-foreground text-start",children:de.nameAr||"-"})}),s.jsx(ke,{className:"py-4 text-start max-w-md",children:s.jsx("div",{className:"truncate text-start",title:de.description||void 0,children:de.description||"-"})}),s.jsx(ke,{className:"py-4 text-center",children:s.jsx(Ze,{variant:"secondary",className:"font-semibold",children:de.productCount||0})}),s.jsx(ke,{className:`py-4 sticky ${r?"left-0":"right-0"} bg-background z-10 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:s.jsx("div",{className:`flex items-center gap-2 ${r?"justify-start":"justify-end"}`,children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{window.location.href="/dashboard/hierarchical"},className:"h-8 w-8 p-0",children:s.jsx(TE,{className:"h-4 w-4"})})})})]},de.id))})]})})})})]}),s.jsxs(ls,{value:"tiers",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(z,{onClick:()=>Re(),size:"lg",children:[s.jsx(Gt,{className:`h-5 w-5 ${r?"ml-2":"mr-2"}`}),e("dashboard.categories.customerTiers.addTier")]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:O.map(de=>s.jsxs(je,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2",style:{backgroundColor:de.color}}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),de.name]}),s.jsx(Vt,{children:de.description})]}),s.jsxs(Ze,{variant:"secondary",className:"text-lg font-bold",style:{backgroundColor:`${de.color}20`,color:de.color},children:[de.discountPercent,"%"]})]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.linkedCategories")}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:de.productCategories.length>0?de.productCategories.map(xe=>{const Ie=l.find(st=>st.id===xe);return Ie?s.jsx(Ze,{variant:"outline",className:"text-xs",children:Ie.name},xe):null}):s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.allCategories")})})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCustomers")}),s.jsx("div",{className:"mt-1",children:de.assignedCustomers&&de.assignedCustomers.length>0?s.jsx(Ze,{variant:"default",className:"text-xs",children:e("dashboard.categories.customerTiers.customerCount",{count:de.assignedCustomers.length})}):s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAssigned")})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Re(de),children:[s.jsx(TE,{className:"h-3 w-3 ml-1"}),e("common.edit")]}),s.jsx(z,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>fe(de.id),children:s.jsx(_r,{className:"h-3 w-3"})})]})]})})]},de.id))}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(am,{className:"h-5 w-5"}),e("dashboard.categories.customerTiers.howItWorks")]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc1")}),s.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc2")}),s.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc3")}),s.jsx("p",{children:e("dashboard.categories.customerTiers.howItWorksDesc4")}),s.jsx("p",{className:"text-muted-foreground",children:e("dashboard.categories.customerTiers.howItWorksDesc5")})]})})]})]}),s.jsxs(ls,{value:"offers",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(z,{onClick:()=>Ue(),size:"lg",children:[s.jsx(Gt,{className:`h-5 w-5 ${r?"ml-2":"mr-2"}`}),e("dashboard.categories.offers.addOffer")]})}),G.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"text-center py-16",children:[s.jsx(kh,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.categories.offers.noOffers")}),s.jsx("p",{className:"text-muted-foreground mb-6",children:e("dashboard.categories.offers.noOffersDesc")}),s.jsxs(z,{onClick:()=>Ue(),children:[s.jsx(Gt,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("dashboard.categories.offers.addNewOffer")]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(de=>s.jsxs(je,{className:`${de.isActive?"border-green-500/50":"border-gray-300"}`,children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(MO,{className:"h-5 w-5 text-primary"}),de.name]}),s.jsx(Vt,{children:e("dashboard.categories.offers.forTier",{tierName:de.tierName})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:de.isActive?"default":"secondary",children:de.isActive?e("dashboard.categories.offers.active"):e("dashboard.categories.offers.inactive")}),s.jsxs(Ze,{variant:"outline",className:"text-lg font-bold text-green-600",children:[de.discountPercent,"%"]})]})]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-sm text-muted-foreground",children:e("dashboard.categories.offers.includedCategories")}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:de.productCategoryIds.length>0?de.productCategoryIds.map(xe=>{const Ie=l.find(st=>st.id===xe);return Ie?s.jsx(Ze,{variant:"outline",className:"text-xs",children:Ie.name},xe):null}):s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.offers.allCategories")})})]}),s.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:e("dashboard.categories.offers.example")})," ",e("dashboard.categories.offers.exampleDesc",{price:Te(100,de.discountPercent)})]})}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Ue(de),children:[s.jsx(TE,{className:"h-3 w-3 ml-1"}),e("common.edit")]}),s.jsx(z,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Pe(de.id),children:s.jsx(_r,{className:"h-3 w-3"})})]})]})})]},de.id))})]})]}),s.jsx(Qt,{open:I,onOpenChange:R,children:s.jsxs(Yt,{className:"sm:max-w-[600px]",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e(L?"dashboard.categories.customerTiers.editTier":"dashboard.categories.customerTiers.addNewTier")}),s.jsx(ur,{children:e("dashboard.categories.customerTiers.tierDesc")})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{children:[e("dashboard.categories.customerTiers.tierName")," *"]}),s.jsx(me,{value:W.name,onChange:de=>M({...W,name:de.target.value}),placeholder:e("dashboard.categories.customerTiers.tierNamePlaceholder")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.customerTiers.description")}),s.jsx(me,{value:W.description,onChange:de=>M({...W,description:de.target.value}),placeholder:e("dashboard.categories.customerTiers.descriptionPlaceholder")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.customerTiers.color")}),s.jsx(me,{type:"color",value:W.color,onChange:de=>M({...W,color:de.target.value}),className:"h-10"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.customerTiers.discountPercent")}),s.jsx(me,{type:"number",min:"0",max:"100",value:W.discountPercent,onChange:de=>M({...W,discountPercent:parseInt(de.target.value)||0})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.customerTiers.linkedProductCategories")}),s.jsxs(nr,{value:W.productCategories[0]||"",onValueChange:de=>{de&&!W.productCategories.includes(de)&&M({...W,productCategories:[...W.productCategories,de]})},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:e("dashboard.categories.customerTiers.selectProductCategory")})}),s.jsx(Zt,{children:l.map(de=>s.jsx(Oe,{value:de.id,children:de.name},de.id))})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:W.productCategories.map(de=>{const xe=l.find(Ie=>Ie.id===de);return xe?s.jsxs(Ze,{variant:"secondary",className:"cursor-pointer",onClick:()=>M({...W,productCategories:W.productCategories.filter(Ie=>Ie!==de)}),children:[xe.name," "]},de):null})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-4 w-4"}),e("dashboard.categories.customerTiers.assignCustomers")]}),T?s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"}),s.jsx("span",{className:`text-sm text-muted-foreground ${r?"mr-2":"ml-2"}`,children:e("dashboard.categories.customerTiers.loadingCustomers")})]}):D.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAvailable")}):s.jsxs(s.Fragment,{children:[s.jsxs(nr,{value:"",onValueChange:de=>{de&&!W.assignedCustomers.includes(de)&&M({...W,assignedCustomers:[...W.assignedCustomers,de]})},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:e("dashboard.categories.customerTiers.selectCustomer")})}),s.jsx(Zt,{children:D.filter(de=>!W.assignedCustomers.includes(de.id)).map(de=>s.jsx(Oe,{value:de.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:de.name||e("dashboard.categories.customerTiers.customer")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:de.email})]})},de.id))})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:W.assignedCustomers.map(de=>{const xe=D.find(Ie=>Ie.id===de);return xe?s.jsxs(Ze,{variant:"default",className:"cursor-pointer bg-primary/80 hover:bg-primary",onClick:()=>M({...W,assignedCustomers:W.assignedCustomers.filter(Ie=>Ie!==de)}),children:[xe.name||xe.email," "]},de):null})}),W.assignedCustomers.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCount",{count:W.assignedCustomers.length})})]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>R(!1),children:e("common.cancel")}),s.jsx(z,{onClick:He,children:e(L?"dashboard.categories.productCategories.update":"dashboard.categories.productCategories.add")})]})]})}),s.jsx(Qt,{open:q,onOpenChange:Y,children:s.jsxs(Yt,{className:"sm:max-w-[600px]",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e(U?"dashboard.categories.offers.editOffer":"dashboard.categories.offers.addNewOffer")}),s.jsx(ur,{children:e("dashboard.categories.offers.offerDesc")})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{children:[e("dashboard.categories.offers.offerName")," *"]}),s.jsx(me,{value:J.name,onChange:de=>K({...J,name:de.target.value}),placeholder:e("dashboard.categories.offers.offerNamePlaceholder")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{children:[e("dashboard.categories.offers.customerTier")," *"]}),s.jsxs(nr,{value:J.tierId,onValueChange:de=>K({...J,tierId:de}),children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:e("dashboard.categories.offers.selectCustomerTier")})}),s.jsx(Zt,{children:O.map(de=>s.jsx(Oe,{value:de.id,children:de.name},de.id))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.offers.discountPercent")}),s.jsx(me,{type:"number",min:"0",max:"100",value:J.discountPercent,onChange:de=>K({...J,discountPercent:parseInt(de.target.value)||0})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:e("dashboard.categories.offers.productCategories")}),s.jsxs(nr,{value:J.productCategoryIds[0]||"",onValueChange:de=>{de&&!J.productCategoryIds.includes(de)&&K({...J,productCategoryIds:[...J.productCategoryIds,de]})},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:e("dashboard.categories.offers.selectProductCategories")})}),s.jsx(Zt,{children:l.map(de=>s.jsx(Oe,{value:de.id,children:de.name},de.id))})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:J.productCategoryIds.map(de=>{const xe=l.find(Ie=>Ie.id===de);return xe?s.jsxs(Ze,{variant:"secondary",className:"cursor-pointer",onClick:()=>K({...J,productCategoryIds:J.productCategoryIds.filter(Ie=>Ie!==de)}),children:[xe.name," "]},de):null})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-4 w-4"}),e("dashboard.categories.customerTiers.assignCustomers")]}),T?s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"}),s.jsx("span",{className:`text-sm text-muted-foreground ${r?"mr-2":"ml-2"}`,children:e("dashboard.categories.customerTiers.loadingCustomers")})]}):D.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.categories.customerTiers.noCustomersAvailable")}):s.jsxs(s.Fragment,{children:[s.jsxs(nr,{value:"",onValueChange:de=>{de&&!J.assignedCustomers.includes(de)&&K({...J,assignedCustomers:[...J.assignedCustomers,de]})},children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:e("dashboard.categories.customerTiers.selectCustomer")})}),s.jsx(Zt,{children:D.filter(de=>!J.assignedCustomers.includes(de.id)).map(de=>s.jsx(Oe,{value:de.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:de.name||e("dashboard.categories.customerTiers.customer")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:de.email})]})},de.id))})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:J.assignedCustomers.map(de=>{const xe=D.find(Ie=>Ie.id===de);return xe?s.jsxs(Ze,{variant:"default",className:"cursor-pointer bg-green-600 hover:bg-green-700",onClick:()=>K({...J,assignedCustomers:J.assignedCustomers.filter(Ie=>Ie!==de)}),children:[xe.name||xe.email," "]},de):null})}),J.assignedCustomers.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.categories.customerTiers.assignedCount",{count:J.assignedCustomers.length})})]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>Y(!1),children:e("common.cancel")}),s.jsx(z,{onClick:ie,children:e(U?"dashboard.categories.productCategories.update":"dashboard.categories.productCategories.add")})]})]})}),s.jsx(une,{open:w,onOpenChange:de=>{!de&&v.current<v.total&&v.total>0||b(de)},progress:v,title:e("dashboard.categories.productCategories.importingCategories"),description:e("dashboard.categories.productCategories.importingCategoriesDesc")}),s.jsx(Eot,{open:S,onOpenChange:C,errors:j,title:e("dashboard.categories.productCategories.importErrorTitle"),description:e("dashboard.categories.productCategories.importErrorDesc"),itemLabel:e("dashboard.categories.productCategories.categoryName")}),s.jsx(Qt,{open:p,onOpenChange:g,children:s.jsxs(Yt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e("dashboard.categories.productCategories.addNewCategory")}),s.jsx(ur,{children:e("dashboard.categories.productCategories.addCategoryDesc")})]}),s.jsx(bD,{categories:l,initialData:null,parentId:void 0,onSave:Le,onCancel:()=>g(!1),saving:x})]})})]})}function Tot(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.useMemo(()=>a=>{t.forEach(n=>n(a))},t)}const TA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function OF(e){return"nodeType"in e}function bo(e){var t,r;return e?Y0(e)?e:OF(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function IF(e){const{Document:t}=bo(e);return e instanceof t}function Sj(e){return Y0(e)?!1:e instanceof bo(e).HTMLElement}function Eie(e){return e instanceof bo(e).SVGElement}function X0(e){return e?Y0(e)?e.document:OF(e)?IF(e)?e:Sj(e)||Eie(e)?e.ownerDocument:document:document:document}const Wc=TA?f.useLayoutEffect:f.useEffect;function _A(e){const t=f.useRef(e);return Wc(()=>{t.current=e}),f.useCallback(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t.current==null?void 0:t.current(...a)},[])}function _ot(){const e=f.useRef(null),t=f.useCallback((a,n)=>{e.current=setInterval(a,n)},[]),r=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function jw(e,t){t===void 0&&(t=[e]);const r=f.useRef(e);return Wc(()=>{r.current!==e&&(r.current=e)},t),r}function kj(e,t){const r=f.useRef();return f.useMemo(()=>{const a=e(r.current);return r.current=a,a},[...t])}function sk(e){const t=_A(e),r=f.useRef(null),a=f.useCallback(n=>{n!==r.current&&(t==null||t(n,r.current)),r.current=n},[]);return[r,a]}function ak(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let nT={};function Cj(e,t){return f.useMemo(()=>{if(t)return t;const r=nT[e]==null?0:nT[e]+1;return nT[e]=r,e+"-"+r},[e,t])}function Pie(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const rg=Pie(1),Nw=Pie(-1);function Dot(e){return"clientX"in e&&"clientY"in e}function DA(e){if(!e)return!1;const{KeyboardEvent:t}=bo(e.target);return t&&e instanceof t}function Oot(e){if(!e)return!1;const{TouchEvent:t}=bo(e.target);return t&&e instanceof t}function nk(e){if(Oot(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return Dot(e)?{x:e.clientX,y:e.clientY}:null}const Ou=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ou.Translate.toString(e),Ou.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),az="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Iot(e){return e.matches(az)?e:e.querySelector(az)}const Rot={display:"none"};function Fot(e){let{id:t,value:r}=e;return ae.createElement("div",{id:t,style:Rot},r)}function Mot(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;const n={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ae.createElement("div",{id:t,style:n,role:"status","aria-live":a,"aria-atomic":!0},r)}function Lot(){const[e,t]=f.useState("");return{announce:f.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Tie=f.createContext(null);function $ot(e){const t=f.useContext(Tie);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Bot(){const[e]=f.useState(()=>new Set),t=f.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[f.useCallback(a=>{let{type:n,event:i}=a;e.forEach(o=>{var l;return(l=o[n])==null?void 0:l.call(o,i)})},[e]),t]}const Uot={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Vot={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function zot(e){let{announcements:t=Vot,container:r,hiddenTextDescribedById:a,screenReaderInstructions:n=Uot}=e;const{announce:i,announcement:o}=Lot(),l=Cj("DndLiveRegion"),[c,d]=f.useState(!1);if(f.useEffect(()=>{d(!0)},[]),$ot(f.useMemo(()=>({onDragStart(h){let{active:m}=h;i(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:p}=h;t.onDragMove&&i(t.onDragMove({active:m,over:p}))},onDragOver(h){let{active:m,over:p}=h;i(t.onDragOver({active:m,over:p}))},onDragEnd(h){let{active:m,over:p}=h;i(t.onDragEnd({active:m,over:p}))},onDragCancel(h){let{active:m,over:p}=h;i(t.onDragCancel({active:m,over:p}))}}),[i,t])),!c)return null;const u=ae.createElement(ae.Fragment,null,ae.createElement(Fot,{id:a,value:n.draggable}),ae.createElement(Mot,{id:l,announcement:o}));return r?Ll.createPortal(u,r):u}var Un;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Un||(Un={}));function ik(){}function wD(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function _ie(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Hc=Object.freeze({x:0,y:0});function Die(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Wot(e,t){const r=nk(e);if(!r)return"0 0";const a={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Oie(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function Hot(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function nz(e){let{left:t,top:r,height:a,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+a},{x:t+n,y:r+a}]}function Iie(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function iz(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const qot=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=iz(t,t.left,t.top),i=[];for(const o of a){const{id:l}=o,c=r.get(l);if(c){const d=Die(iz(c),n);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(Oie)},Got=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=nz(t),i=[];for(const o of a){const{id:l}=o,c=r.get(l);if(c){const d=nz(c),u=n.reduce((m,p,g)=>m+Die(d[g],p),0),h=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:h}})}}return i.sort(Oie)};function Kot(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=n-a,l=i-r;if(a<n&&r<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const Yot=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=[];for(const i of a){const{id:o}=i,l=r.get(o);if(l){const c=Kot(l,t);c>0&&n.push({id:o,data:{droppableContainer:i,value:c}})}}return n.sort(Hot)};function Xot(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Rie(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Hc}function Qot(e){return function(r){for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return n.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const Jot=Qot(1);function Fie(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Zot(e,t,r){const a=Fie(t);if(!a)return e;const{scaleX:n,scaleY:i,x:o,y:l}=a,c=e.left-o-(1-n)*parseFloat(r),d=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=n?e.width/n:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const elt={ignoreTransform:!1};function Q0(e,t){t===void 0&&(t=elt);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=bo(e).getComputedStyle(e);d&&(r=Zot(r,d,u))}const{top:a,left:n,width:i,height:o,bottom:l,right:c}=r;return{top:a,left:n,width:i,height:o,bottom:l,right:c}}function oz(e){return Q0(e,{ignoreTransform:!0})}function tlt(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function rlt(e,t){return t===void 0&&(t=bo(e).getComputedStyle(e)),t.position==="fixed"}function slt(e,t){t===void 0&&(t=bo(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{const i=t[n];return typeof i=="string"?r.test(i):!1})}function OA(e,t){const r=[];function a(n){if(t!=null&&r.length>=t||!n)return r;if(IF(n)&&n.scrollingElement!=null&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!Sj(n)||Eie(n)||r.includes(n))return r;const i=bo(e).getComputedStyle(n);return n!==e&&slt(n,i)&&r.push(n),rlt(n,i)?r:a(n.parentNode)}return e?a(e):r}function Mie(e){const[t]=OA(e,1);return t??null}function iT(e){return!TA||!e?null:Y0(e)?e:OF(e)?IF(e)||e===X0(e).scrollingElement?window:Sj(e)?e:null:null}function Lie(e){return Y0(e)?e.scrollX:e.scrollLeft}function $ie(e){return Y0(e)?e.scrollY:e.scrollTop}function jD(e){return{x:Lie(e),y:$ie(e)}}var ti;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ti||(ti={}));function Bie(e){return!TA||!e?!1:e===document.scrollingElement}function Uie(e){const t={x:0,y:0},r=Bie(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},n=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:n,isLeft:i,isBottom:o,isRight:l,maxScroll:a,minScroll:t}}const alt={x:.2,y:.2};function nlt(e,t,r,a,n){let{top:i,left:o,right:l,bottom:c}=r;a===void 0&&(a=10),n===void 0&&(n=alt);const{isTop:d,isBottom:u,isLeft:h,isRight:m}=Uie(e),p={x:0,y:0},g={x:0,y:0},x={height:t.height*n.y,width:t.width*n.x};return!d&&i<=t.top+x.height?(p.y=ti.Backward,g.y=a*Math.abs((t.top+x.height-i)/x.height)):!u&&c>=t.bottom-x.height&&(p.y=ti.Forward,g.y=a*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(p.x=ti.Forward,g.x=a*Math.abs((t.right-x.width-l)/x.width)):!h&&o<=t.left+x.width&&(p.x=ti.Backward,g.x=a*Math.abs((t.left+x.width-o)/x.width)),{direction:p,speed:g}}function ilt(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}function Vie(e){return e.reduce((t,r)=>rg(t,jD(r)),Hc)}function olt(e){return e.reduce((t,r)=>t+Lie(r),0)}function llt(e){return e.reduce((t,r)=>t+$ie(r),0)}function zie(e,t){if(t===void 0&&(t=Q0),!e)return;const{top:r,left:a,bottom:n,right:i}=t(e);Mie(e)&&(n<=0||i<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const clt=[["x",["left","right"],olt],["y",["top","bottom"],llt]];class RF{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=OA(r),n=Vie(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of clt)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(a),u=n[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uy{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var n;(n=this.target)==null||n.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function dlt(e){const{EventTarget:t}=bo(e);return e instanceof t?e:X0(e)}function oT(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Dl;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Dl||(Dl={}));function lz(e){e.preventDefault()}function ult(e){e.stopPropagation()}var ws;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ws||(ws={}));const Wie={start:[ws.Space,ws.Enter],cancel:[ws.Esc],end:[ws.Space,ws.Enter,ws.Tab]},hlt=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case ws.Right:return{...r,x:r.x+25};case ws.Left:return{...r,x:r.x-25};case ws.Down:return{...r,y:r.y+25};case ws.Up:return{...r,y:r.y-25}}};class FF{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Uy(X0(r)),this.windowListeners=new Uy(bo(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Dl.Resize,this.handleCancel),this.windowListeners.add(Dl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Dl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&zie(a),r(Hc)}handleKeyDown(t){if(DA(t)){const{active:r,context:a,options:n}=this.props,{keyboardCodes:i=Wie,coordinateGetter:o=hlt,scrollBehavior:l="smooth"}=n,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=a.current,u=d?{x:d.left,y:d.top}:Hc;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:r,context:a.current,currentCoordinates:u});if(h){const m=Nw(h,u),p={x:0,y:0},{scrollableAncestors:g}=a.current;for(const x of g){const y=t.code,{isTop:w,isRight:b,isLeft:v,isBottom:N,maxScroll:j,minScroll:k}=Uie(x),S=ilt(x),C={x:Math.min(y===ws.Right?S.right-S.width/2:S.right,Math.max(y===ws.Right?S.left:S.left+S.width/2,h.x)),y:Math.min(y===ws.Down?S.bottom-S.height/2:S.bottom,Math.max(y===ws.Down?S.top:S.top+S.height/2,h.y))},A=y===ws.Right&&!b||y===ws.Left&&!v,E=y===ws.Down&&!N||y===ws.Up&&!w;if(A&&C.x!==h.x){const D=x.scrollLeft+m.x,P=y===ws.Right&&D<=j.x||y===ws.Left&&D>=k.x;if(P&&!m.y){x.scrollTo({left:D,behavior:l});return}P?p.x=x.scrollLeft-D:p.x=y===ws.Right?x.scrollLeft-j.x:x.scrollLeft-k.x,p.x&&x.scrollBy({left:-p.x,behavior:l});break}else if(E&&C.y!==h.y){const D=x.scrollTop+m.y,P=y===ws.Down&&D<=j.y||y===ws.Up&&D>=k.y;if(P&&!m.x){x.scrollTo({top:D,behavior:l});return}P?p.y=x.scrollTop-D:p.y=y===ws.Down?x.scrollTop-j.y:x.scrollTop-k.y,p.y&&x.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,rg(Nw(h,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FF.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=Wie,onActivation:n}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(a.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0)}return!1}}];function cz(e){return!!(e&&"distance"in e)}function dz(e){return!!(e&&"delay"in e)}class MF{constructor(t,r,a){var n;a===void 0&&(a=dlt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=X0(o),this.documentListeners=new Uy(this.document),this.listeners=new Uy(a),this.windowListeners=new Uy(bo(o)),this.initialCoordinates=(n=nk(i))!=null?n:Hc,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Dl.Resize,this.handleCancel),this.windowListeners.add(Dl.DragStart,lz),this.windowListeners.add(Dl.VisibilityChange,this.handleCancel),this.windowListeners.add(Dl.ContextMenu,lz),this.documentListeners.add(Dl.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dz(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(cz(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:n}=this.props;n(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Dl.Click,ult,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Dl.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:n,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!n)return;const c=(r=nk(t))!=null?r:Hc,d=Nw(n,c);if(!a&&l){if(cz(l)){if(l.tolerance!=null&&oT(d,l.tolerance))return this.handleCancel();if(oT(d,l.distance))return this.handleStart()}if(dz(l)&&oT(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===ws.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const mlt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class IA extends MF{constructor(t){const{event:r}=t,a=X0(r.target);super(t,mlt,a)}}IA.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a==null||a({event:r}),!0)}}];const flt={move:{name:"mousemove"},end:{name:"mouseup"}};var ND;(function(e){e[e.RightClick=2]="RightClick"})(ND||(ND={}));class plt extends MF{constructor(t){super(t,flt,X0(t.event.target))}}plt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button===ND.RightClick?!1:(a==null||a({event:r}),!0)}}];const lT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xlt extends MF{constructor(t){super(t,lT)}static setup(){return window.addEventListener(lT.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lT.move.name,t)};function t(){}}}xlt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:n}=r;return n.length>1?!1:(a==null||a({event:r}),!0)}}];var Vy;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Vy||(Vy={}));var ok;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ok||(ok={}));function glt(e){let{acceleration:t,activator:r=Vy.Pointer,canScroll:a,draggingRect:n,enabled:i,interval:o=5,order:l=ok.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:m}=e;const p=ylt({delta:h,disabled:!i}),[g,x]=_ot(),y=f.useRef({x:0,y:0}),w=f.useRef({x:0,y:0}),b=f.useMemo(()=>{switch(r){case Vy.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vy.DraggableRect:return n}},[r,n,c]),v=f.useRef(null),N=f.useCallback(()=>{const k=v.current;if(!k)return;const S=y.current.x*w.current.x,C=y.current.y*w.current.y;k.scrollBy(S,C)},[]),j=f.useMemo(()=>l===ok.TreeOrder?[...d].reverse():d,[l,d]);f.useEffect(()=>{if(!i||!d.length||!b){x();return}for(const k of j){if((a==null?void 0:a(k))===!1)continue;const S=d.indexOf(k),C=u[S];if(!C)continue;const{direction:A,speed:E}=nlt(k,C,b,t,m);for(const D of["x","y"])p[D][A[D]]||(E[D]=0,A[D]=0);if(E.x>0||E.y>0){x(),v.current=k,g(N,o),y.current=E,w.current=A;return}}y.current={x:0,y:0},w.current={x:0,y:0},x()},[t,N,a,x,i,o,JSON.stringify(b),JSON.stringify(p),g,d,j,u,JSON.stringify(m)])}const vlt={x:{[ti.Backward]:!1,[ti.Forward]:!1},y:{[ti.Backward]:!1,[ti.Forward]:!1}};function ylt(e){let{delta:t,disabled:r}=e;const a=ak(t);return kj(n=>{if(r||!a||!n)return vlt;const i={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[ti.Backward]:n.x[ti.Backward]||i.x===-1,[ti.Forward]:n.x[ti.Forward]||i.x===1},y:{[ti.Backward]:n.y[ti.Backward]||i.y===-1,[ti.Forward]:n.y[ti.Forward]||i.y===1}}},[r,t,a])}function blt(e,t){const r=t!=null?e.get(t):void 0,a=r?r.node.current:null;return kj(n=>{var i;return t==null?null:(i=a??n)!=null?i:null},[a,t])}function wlt(e,t){return f.useMemo(()=>e.reduce((r,a)=>{const{sensor:n}=a,i=n.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,a)}));return[...r,...i]},[]),[e,t])}var Sw;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Sw||(Sw={}));var SD;(function(e){e.Optimized="optimized"})(SD||(SD={}));const uz=new Map;function jlt(e,t){let{dragging:r,dependencies:a,config:n}=t;const[i,o]=f.useState(null),{frequency:l,measure:c,strategy:d}=n,u=f.useRef(e),h=y(),m=jw(h),p=f.useCallback(function(w){w===void 0&&(w=[]),!m.current&&o(b=>b===null?w:b.concat(w.filter(v=>!b.includes(v))))},[m]),g=f.useRef(null),x=kj(w=>{if(h&&!r)return uz;if(!w||w===uz||u.current!==e||i!=null){const b=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){b.set(v.id,v.rect.current);continue}const N=v.node.current,j=N?new RF(c(N),N):null;v.rect.current=j,j&&b.set(v.id,j)}return b}return w},[e,i,r,h,c]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{h||p()},[r,h]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},l))},[l,h,p,...a]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:i!=null};function y(){switch(d){case Sw.Always:return!1;case Sw.BeforeDragging:return r;default:return!r}}}function LF(e,t){return kj(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Nlt(e,t){return LF(e,t)}function Slt(e){let{callback:t,disabled:r}=e;const a=_A(t),n=f.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(a)},[a,r]);return f.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function RA(e){let{callback:t,disabled:r}=e;const a=_A(t),n=f.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(a)},[r]);return f.useEffect(()=>()=>n==null?void 0:n.disconnect(),[n]),n}function klt(e){return new RF(Q0(e),e)}function hz(e,t,r){t===void 0&&(t=klt);const[a,n]=f.useState(null);function i(){n(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=Slt({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=RA({callback:i});return Wc(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),a}function Clt(e){const t=LF(e);return Rie(e,t)}const mz=[];function Alt(e){const t=f.useRef(e),r=kj(a=>e?a&&a!==mz&&e&&t.current&&e.parentNode===t.current.parentNode?a:OA(e):mz,[e]);return f.useEffect(()=>{t.current=e},[e]),r}function Elt(e){const[t,r]=f.useState(null),a=f.useRef(e),n=f.useCallback(i=>{const o=iT(i.target);o&&r(l=>l?(l.set(o,jD(o)),new Map(l)):null)},[]);return f.useEffect(()=>{const i=a.current;if(e!==i){o(i);const l=e.map(c=>{const d=iT(c);return d?(d.addEventListener("scroll",n,{passive:!0}),[d,jD(d)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),a.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=iT(c);d==null||d.removeEventListener("scroll",n)})}},[n,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>rg(i,o),Hc):Vie(e):Hc,[e,t])}function fz(e,t){t===void 0&&(t=[]);const r=f.useRef(null);return f.useEffect(()=>{r.current=null},t),f.useEffect(()=>{const a=e!==Hc;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?Nw(e,r.current):Hc}function Plt(e){f.useEffect(()=>{if(!TA)return;const t=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Tlt(e,t){return f.useMemo(()=>e.reduce((r,a)=>{let{eventName:n,handler:i}=a;return r[n]=o=>{i(o,t)},r},{}),[e,t])}function Hie(e){return f.useMemo(()=>e?tlt(e):null,[e])}const pz=[];function _lt(e,t){t===void 0&&(t=Q0);const[r]=e,a=Hie(r?bo(r):null),[n,i]=f.useState(pz);function o(){i(()=>e.length?e.map(c=>Bie(c)?a:new RF(t(c),c)):pz)}const l=RA({callback:o});return Wc(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),n}function qie(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Sj(t)?t:e}function Dlt(e){let{measure:t}=e;const[r,a]=f.useState(null),n=f.useCallback(d=>{for(const{target:u}of d)if(Sj(u)){a(h=>{const m=t(u);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),i=RA({callback:n}),o=f.useCallback(d=>{const u=qie(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),a(u?t(u):null)},[t,i]),[l,c]=sk(o);return f.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const Olt=[{sensor:IA,options:{}},{sensor:FF,options:{}}],Ilt={current:{}},_N={draggable:{measure:oz},droppable:{measure:oz,strategy:Sw.WhileDragging,frequency:SD.Optimized},dragOverlay:{measure:Q0}};class zy extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const Rlt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zy,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ik},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_N,measureDroppableContainers:ik,windowRect:null,measuringScheduled:!1},Gie={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ik,draggableNodes:new Map,over:null,measureDroppableContainers:ik},Aj=f.createContext(Gie),Kie=f.createContext(Rlt);function Flt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zy}}}function Mlt(e,t){switch(t.type){case Un.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Un.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Un.DragEnd:case Un.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Un.RegisterDroppable:{const{element:r}=t,{id:a}=r,n=new zy(e.droppable.containers);return n.set(a,r),{...e,droppable:{...e.droppable,containers:n}}}case Un.SetDroppableDisabled:{const{id:r,key:a,disabled:n}=t,i=e.droppable.containers.get(r);if(!i||a!==i.key)return e;const o=new zy(e.droppable.containers);return o.set(r,{...i,disabled:n}),{...e,droppable:{...e.droppable,containers:o}}}case Un.UnregisterDroppable:{const{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;const i=new zy(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Llt(e){let{disabled:t}=e;const{active:r,activatorEvent:a,draggableNodes:n}=f.useContext(Aj),i=ak(a),o=ak(r==null?void 0:r.id);return f.useEffect(()=>{if(!t&&!a&&i&&o!=null){if(!DA(i)||document.activeElement===i.target)return;const l=n.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=Iot(u);if(h){h.focus();break}}})}},[a,t,n,o,i]),null}function Yie(e,t){let{transform:r,...a}=t;return e!=null&&e.length?e.reduce((n,i)=>i({transform:n,...a}),r):r}function $lt(e){return f.useMemo(()=>({draggable:{..._N.draggable,...e==null?void 0:e.draggable},droppable:{..._N.droppable,...e==null?void 0:e.droppable},dragOverlay:{..._N.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Blt(e){let{activeNode:t,measure:r,initialRect:a,config:n=!0}=e;const i=f.useRef(!1),{x:o,y:l}=typeof n=="boolean"?{x:n,y:n}:n;Wc(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!a)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=r(d),h=Rie(u,a);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=Mie(d);m&&m.scrollBy({top:h.y,left:h.x})}},[t,o,l,a,r])}const FA=f.createContext({...Hc,scaleX:1,scaleY:1});var mh;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(mh||(mh={}));const Xie=f.memo(function(t){var r,a,n,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=Olt,collisionDetection:h=Yot,measuring:m,modifiers:p,...g}=t;const x=f.useReducer(Mlt,void 0,Flt),[y,w]=x,[b,v]=Bot(),[N,j]=f.useState(mh.Uninitialized),k=N===mh.Initialized,{draggable:{active:S,nodes:C,translate:A},droppable:{containers:E}}=y,D=S!=null?C.get(S):null,P=f.useRef({initial:null,translated:null}),T=f.useMemo(()=>{var Hr;return S!=null?{id:S,data:(Hr=D==null?void 0:D.data)!=null?Hr:Ilt,rect:P}:null},[S,D]),_=f.useRef(null),[O,F]=f.useState(null),[I,R]=f.useState(null),L=jw(g,Object.values(g)),H=Cj("DndDescribedBy",o),W=f.useMemo(()=>E.getEnabled(),[E]),M=$lt(m),{droppableRects:G,measureDroppableContainers:V,measuringScheduled:q}=jlt(W,{dragging:k,dependencies:[A.x,A.y],config:M.droppable}),Y=blt(C,S),U=f.useMemo(()=>I?nk(I):null,[I]),Z=Ia(),J=Nlt(Y,M.draggable.measure);Blt({activeNode:S!=null?C.get(S):null,config:Z.layoutShiftCompensation,initialRect:J,measure:M.draggable.measure});const K=hz(Y,M.draggable.measure,J),se=hz(Y?Y.parentElement:null),B=f.useRef({activatorEvent:null,active:null,activeNode:Y,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ne=E.getNodeFor((r=B.current.over)==null?void 0:r.id),ye=Dlt({measure:M.dragOverlay.measure}),Re=(a=ye.nodeRef.current)!=null?a:Y,qe=k?(n=ye.rect)!=null?n:K:null,He=!!(ye.nodeRef.current&&ye.rect),fe=Clt(He?null:K),Ue=Hie(Re?bo(Re):null),ie=Alt(k?Ne??Y:null),Pe=_lt(ie),Te=Yie(p,{transform:{x:A.x-fe.x,y:A.y-fe.y,scaleX:1,scaleY:1},activatorEvent:I,active:T,activeNodeRect:K,containerNodeRect:se,draggingNodeRect:qe,over:B.current.over,overlayNodeRect:ye.rect,scrollableAncestors:ie,scrollableAncestorRects:Pe,windowRect:Ue}),Ve=U?rg(U,A):null,Le=Elt(ie),de=fz(Le),xe=fz(Le,[K]),Ie=rg(Te,de),st=qe?Jot(qe,Te):null,wt=T&&st?h({active:T,collisionRect:st,droppableRects:G,droppableContainers:W,pointerCoordinates:Ve}):null,tt=Iie(wt,"id"),[Bt,pr]=f.useState(null),$t=He?Te:rg(Te,xe),_t=Xot($t,(i=Bt==null?void 0:Bt.rect)!=null?i:null,K),as=f.useRef(null),Se=f.useCallback((Hr,St)=>{let{sensor:gt,options:we}=St;if(_.current==null)return;const le=C.get(_.current);if(!le)return;const Ye=Hr.nativeEvent,ct=new gt({active:_.current,activeNode:le,event:Ye,options:we,context:B,onAbort(Xe){if(!C.get(Xe))return;const{onDragAbort:Dt}=L.current,vt={id:Xe};Dt==null||Dt(vt),b({type:"onDragAbort",event:vt})},onPending(Xe,At,Dt,vt){if(!C.get(Xe))return;const{onDragPending:Cr}=L.current,ee={id:Xe,constraint:At,initialCoordinates:Dt,offset:vt};Cr==null||Cr(ee),b({type:"onDragPending",event:ee})},onStart(Xe){const At=_.current;if(At==null)return;const Dt=C.get(At);if(!Dt)return;const{onDragStart:vt}=L.current,or={activatorEvent:Ye,active:{id:At,data:Dt.data,rect:P}};Ll.unstable_batchedUpdates(()=>{vt==null||vt(or),j(mh.Initializing),w({type:Un.DragStart,initialCoordinates:Xe,active:At}),b({type:"onDragStart",event:or}),F(as.current),R(Ye)})},onMove(Xe){w({type:Un.DragMove,coordinates:Xe})},onEnd:lt(Un.DragEnd),onCancel:lt(Un.DragCancel)});as.current=ct;function lt(Xe){return async function(){const{active:Dt,collisions:vt,over:or,scrollAdjustedTranslate:Cr}=B.current;let ee=null;if(Dt&&Cr){const{cancelDrop:ue}=L.current;ee={activatorEvent:Ye,active:Dt,collisions:vt,delta:Cr,over:or},Xe===Un.DragEnd&&typeof ue=="function"&&await Promise.resolve(ue(ee))&&(Xe=Un.DragCancel)}_.current=null,Ll.unstable_batchedUpdates(()=>{w({type:Xe}),j(mh.Uninitialized),pr(null),F(null),R(null),as.current=null;const ue=Xe===Un.DragEnd?"onDragEnd":"onDragCancel";if(ee){const oe=L.current[ue];oe==null||oe(ee),b({type:ue,event:ee})}})}}},[C]),vr=f.useCallback((Hr,St)=>(gt,we)=>{const le=gt.nativeEvent,Ye=C.get(we);if(_.current!==null||!Ye||le.dndKit||le.defaultPrevented)return;const ct={active:Ye};Hr(gt,St.options,ct)===!0&&(le.dndKit={capturedBy:St.sensor},_.current=we,Se(gt,St))},[C,Se]),Br=wlt(u,vr);Plt(u),Wc(()=>{K&&N===mh.Initializing&&j(mh.Initialized)},[K,N]),f.useEffect(()=>{const{onDragMove:Hr}=L.current,{active:St,activatorEvent:gt,collisions:we,over:le}=B.current;if(!St||!gt)return;const Ye={active:St,activatorEvent:gt,collisions:we,delta:{x:Ie.x,y:Ie.y},over:le};Ll.unstable_batchedUpdates(()=>{Hr==null||Hr(Ye),b({type:"onDragMove",event:Ye})})},[Ie.x,Ie.y]),f.useEffect(()=>{const{active:Hr,activatorEvent:St,collisions:gt,droppableContainers:we,scrollAdjustedTranslate:le}=B.current;if(!Hr||_.current==null||!St||!le)return;const{onDragOver:Ye}=L.current,ct=we.get(tt),lt=ct&&ct.rect.current?{id:ct.id,rect:ct.rect.current,data:ct.data,disabled:ct.disabled}:null,Xe={active:Hr,activatorEvent:St,collisions:gt,delta:{x:le.x,y:le.y},over:lt};Ll.unstable_batchedUpdates(()=>{pr(lt),Ye==null||Ye(Xe),b({type:"onDragOver",event:Xe})})},[tt]),Wc(()=>{B.current={activatorEvent:I,active:T,activeNode:Y,collisionRect:st,collisions:wt,droppableRects:G,draggableNodes:C,draggingNode:Re,draggingNodeRect:qe,droppableContainers:E,over:Bt,scrollableAncestors:ie,scrollAdjustedTranslate:Ie},P.current={initial:qe,translated:st}},[T,Y,wt,st,C,Re,qe,G,E,Bt,ie,Ie]),glt({...Z,delta:A,draggingRect:st,pointerCoordinates:Ve,scrollableAncestors:ie,scrollableAncestorRects:Pe});const Nr=f.useMemo(()=>({active:T,activeNode:Y,activeNodeRect:K,activatorEvent:I,collisions:wt,containerNodeRect:se,dragOverlay:ye,draggableNodes:C,droppableContainers:E,droppableRects:G,over:Bt,measureDroppableContainers:V,scrollableAncestors:ie,scrollableAncestorRects:Pe,measuringConfiguration:M,measuringScheduled:q,windowRect:Ue}),[T,Y,K,I,wt,se,ye,C,E,G,Bt,V,ie,Pe,M,q,Ue]),Bs=f.useMemo(()=>({activatorEvent:I,activators:Br,active:T,activeNodeRect:K,ariaDescribedById:{draggable:H},dispatch:w,draggableNodes:C,over:Bt,measureDroppableContainers:V}),[I,Br,T,K,w,H,C,Bt,V]);return ae.createElement(Tie.Provider,{value:v},ae.createElement(Aj.Provider,{value:Bs},ae.createElement(Kie.Provider,{value:Nr},ae.createElement(FA.Provider,{value:_t},d)),ae.createElement(Llt,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ae.createElement(zot,{...l,hiddenTextDescribedById:H}));function Ia(){const Hr=(O==null?void 0:O.autoScrollEnabled)===!1,St=typeof c=="object"?c.enabled===!1:c===!1,gt=k&&!Hr&&!St;return typeof c=="object"?{...c,enabled:gt}:{enabled:gt}}}),Ult=f.createContext(null),xz="button",Vlt="Draggable";function Qie(e){let{id:t,data:r,disabled:a=!1,attributes:n}=e;const i=Cj(Vlt),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:m}=f.useContext(Aj),{role:p=xz,roleDescription:g="draggable",tabIndex:x=0}=n??{},y=(c==null?void 0:c.id)===t,w=f.useContext(y?FA:Ult),[b,v]=sk(),[N,j]=sk(),k=Tlt(o,t),S=jw(r);Wc(()=>(h.set(t,{id:t,key:i,node:b,activatorNode:N,data:S}),()=>{const A=h.get(t);A&&A.key===i&&h.delete(t)}),[h,t]);const C=f.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":a,"aria-pressed":y&&p===xz?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[a,p,x,y,g,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:C,isDragging:y,listeners:a?void 0:k,node:b,over:m,setNodeRef:v,setActivatorNodeRef:j,transform:w}}function Jie(){return f.useContext(Kie)}const zlt="Droppable",Wlt={timeout:25};function DN(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:n}=e;const i=Cj(zlt),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=f.useContext(Aj),u=f.useRef({disabled:r}),h=f.useRef(!1),m=f.useRef(null),p=f.useRef(null),{disabled:g,updateMeasurementsFor:x,timeout:y}={...Wlt,...n},w=jw(x??a),b=f.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(w.current)?w.current:[w.current]),p.current=null},y)},[y]),v=RA({callback:b,disabled:g||!o}),N=f.useCallback((C,A)=>{v&&(A&&(v.unobserve(A),h.current=!1),C&&v.observe(C))},[v]),[j,k]=sk(N),S=jw(t);return f.useEffect(()=>{!v||!j.current||(v.disconnect(),h.current=!1,v.observe(j.current))},[j,v]),f.useEffect(()=>(l({type:Un.RegisterDroppable,element:{id:a,key:i,disabled:r,node:j,rect:m,data:S}}),()=>l({type:Un.UnregisterDroppable,key:i,id:a})),[a]),f.useEffect(()=>{r!==u.current.disabled&&(l({type:Un.SetDroppableDisabled,id:a,key:i,disabled:r}),u.current.disabled=r)},[a,i,r,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===a,node:j,over:c,setNodeRef:k}}function Hlt(e){let{animation:t,children:r}=e;const[a,n]=f.useState(null),[i,o]=f.useState(null),l=ak(r);return!r&&!a&&l&&n(l),Wc(()=>{if(!i)return;const c=a==null?void 0:a.key,d=a==null?void 0:a.props.id;if(c==null||d==null){n(null);return}Promise.resolve(t(d,i)).then(()=>{n(null)})},[t,a,i]),ae.createElement(ae.Fragment,null,r,a?f.cloneElement(a,{ref:o}):null)}const qlt={x:0,y:0,scaleX:1,scaleY:1};function Glt(e){let{children:t}=e;return ae.createElement(Aj.Provider,{value:Gie},ae.createElement(FA.Provider,{value:qlt},t))}const Klt={position:"fixed",touchAction:"none"},Ylt=e=>DA(e)?"transform 250ms ease":void 0,Xlt=f.forwardRef((e,t)=>{let{as:r,activatorEvent:a,adjustScale:n,children:i,className:o,rect:l,style:c,transform:d,transition:u=Ylt}=e;if(!l)return null;const h=n?d:{...d,scaleX:1,scaleY:1},m={...Klt,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ou.Transform.toString(h),transformOrigin:n&&a?Wot(a,l):void 0,transition:typeof u=="function"?u(a):u,...c};return ae.createElement(r,{className:o,style:m,ref:t},i)}),Zie=e=>t=>{let{active:r,dragOverlay:a}=t;const n={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(n[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&a.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&a.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(n))r.node.style.setProperty(c,d);o!=null&&o.active&&r.node.classList.remove(o.active)}},Qlt=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Ou.Transform.toString(t)},{transform:Ou.Transform.toString(r)}]},Jlt={duration:250,easing:"ease",keyframes:Qlt,sideEffects:Zie({styles:{active:{opacity:"0"}}})};function Zlt(e){let{config:t,draggableNodes:r,droppableContainers:a,measuringConfiguration:n}=e;return _A((i,o)=>{if(t===null)return;const l=r.get(i);if(!l)return;const c=l.node.current;if(!c)return;const d=qie(o);if(!d)return;const{transform:u}=bo(o).getComputedStyle(o),h=Fie(u);if(!h)return;const m=typeof t=="function"?t:ect(t);return zie(c,n.draggable.measure),m({active:{id:i,data:l.data,node:c,rect:n.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:n.dragOverlay.measure(d)},droppableContainers:a,measuringConfiguration:n,transform:h})})}function ect(e){const{duration:t,easing:r,sideEffects:a,keyframes:n}={...Jlt,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...d}=i;if(!t)return;const u={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-u.x,y:c.y-u.y,...h},p=n({...d,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[g]=p,x=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(x))return;const y=a==null?void 0:a({active:o,dragOverlay:l,...d}),w=l.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{w.onfinish=()=>{y==null||y(),b()}})}}let gz=0;function tct(e){return f.useMemo(()=>{if(e!=null)return gz++,gz},[e])}const rct=ae.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:a,style:n,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:p,draggableNodes:g,droppableContainers:x,dragOverlay:y,over:w,measuringConfiguration:b,scrollableAncestors:v,scrollableAncestorRects:N,windowRect:j}=Jie(),k=f.useContext(FA),S=tct(h==null?void 0:h.id),C=Yie(o,{activatorEvent:u,active:h,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:y.rect,over:w,overlayNodeRect:y.rect,scrollableAncestors:v,scrollableAncestorRects:N,transform:k,windowRect:j}),A=LF(m),E=Zlt({config:a,draggableNodes:g,droppableContainers:x,measuringConfiguration:b}),D=A?y.setRef:void 0;return ae.createElement(Glt,null,ae.createElement(Hlt,{animation:E},h&&S?ae.createElement(Xlt,{key:S,id:h.id,ref:D,as:l,activatorEvent:u,adjustScale:t,className:c,transition:i,rect:A,style:{zIndex:d,...n},transform:C},r):null))});var $F="ContextMenu",[sct,Mgt]=qa($F,[NA]),wo=NA(),[act,eoe]=sct($F),toe=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:a,dir:n,modal:i=!0}=e,[o,l]=f.useState(!1),c=wo(t),d=Ma(a),u=f.useCallback(h=>{l(h),d(h)},[d]);return s.jsx(act,{scope:t,open:o,onOpenChange:u,modal:i,children:s.jsx(Ine,{...c,dir:n,open:o,onOpenChange:u,modal:i,children:r})})};toe.displayName=$F;var roe="ContextMenuTrigger",soe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:a=!1,...n}=e,i=eoe(roe,r),o=wo(r),l=f.useRef({x:0,y:0}),c=f.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=f.useRef(0),u=f.useCallback(()=>window.clearTimeout(d.current),[]),h=m=>{l.current={x:m.clientX,y:m.clientY},i.onOpenChange(!0)};return f.useEffect(()=>u,[u]),f.useEffect(()=>void(a&&u()),[a,u]),s.jsxs(s.Fragment,{children:[s.jsx(Rne,{...o,virtualRef:c}),s.jsx(Lt.span,{"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,...n,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:a?e.onContextMenu:xt(e.onContextMenu,m=>{u(),h(m),m.preventDefault()}),onPointerDown:a?e.onPointerDown:xt(e.onPointerDown,H1(m=>{u(),d.current=window.setTimeout(()=>h(m),700)})),onPointerMove:a?e.onPointerMove:xt(e.onPointerMove,H1(u)),onPointerCancel:a?e.onPointerCancel:xt(e.onPointerCancel,H1(u)),onPointerUp:a?e.onPointerUp:xt(e.onPointerUp,H1(u))})]})});soe.displayName=roe;var nct="ContextMenuPortal",aoe=e=>{const{__scopeContextMenu:t,...r}=e,a=wo(t);return s.jsx(Fne,{...a,...r})};aoe.displayName=nct;var noe="ContextMenuContent",ioe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=eoe(noe,r),i=wo(r),o=f.useRef(!1);return s.jsx(Mne,{...i,...a,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&o.current&&l.preventDefault(),o.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!n.modal&&(o.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ioe.displayName=noe;var ict="ContextMenuGroup",oct=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Lne,{...n,...a,ref:t})});oct.displayName=ict;var lct="ContextMenuLabel",ooe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx($ne,{...n,...a,ref:t})});ooe.displayName=lct;var cct="ContextMenuItem",loe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Bne,{...n,...a,ref:t})});loe.displayName=cct;var dct="ContextMenuCheckboxItem",coe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Une,{...n,...a,ref:t})});coe.displayName=dct;var uct="ContextMenuRadioGroup",hct=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Vne,{...n,...a,ref:t})});hct.displayName=uct;var mct="ContextMenuRadioItem",doe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(zne,{...n,...a,ref:t})});doe.displayName=mct;var fct="ContextMenuItemIndicator",uoe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Wne,{...n,...a,ref:t})});uoe.displayName=fct;var pct="ContextMenuSeparator",hoe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Hne,{...n,...a,ref:t})});hoe.displayName=pct;var xct="ContextMenuArrow",gct=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(qne,{...n,...a,ref:t})});gct.displayName=xct;var vct="ContextMenuSubTrigger",moe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Gne,{...n,...a,ref:t})});moe.displayName=vct;var yct="ContextMenuSubContent",foe=f.forwardRef((e,t)=>{const{__scopeContextMenu:r,...a}=e,n=wo(r);return s.jsx(Kne,{...n,...a,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});foe.displayName=yct;function H1(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var bct=toe,wct=soe,jct=aoe,poe=ioe,xoe=ooe,goe=loe,voe=coe,yoe=doe,boe=uoe,woe=hoe,joe=moe,Noe=foe;const cT=bct,dT=wct,Nct=f.forwardRef(({className:e,inset:t,children:r,...a},n)=>s.jsxs(joe,{ref:n,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...a,children:[r,s.jsx(Ms,{className:"ml-auto h-4 w-4"})]}));Nct.displayName=joe.displayName;const Sct=f.forwardRef(({className:e,...t},r)=>s.jsx(Noe,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Sct.displayName=Noe.displayName;const ON=f.forwardRef(({className:e,...t},r)=>s.jsx(jct,{children:s.jsx(poe,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));ON.displayName=poe.displayName;const Cl=f.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(goe,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Cl.displayName=goe.displayName;const kct=f.forwardRef(({className:e,children:t,checked:r,...a},n)=>s.jsxs(voe,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(boe,{children:s.jsx(Ba,{className:"h-4 w-4"})})}),t]}));kct.displayName=voe.displayName;const Cct=f.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(yoe,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(boe,{children:s.jsx(OO,{className:"h-2 w-2 fill-current"})})}),t]}));Cct.displayName=yoe.displayName;const Act=f.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(xoe,{ref:a,className:be("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));Act.displayName=xoe.displayName;const Soe=f.forwardRef(({className:e,...t},r)=>s.jsx(woe,{ref:r,className:be("-mx-1 my-1 h-px bg-border",e),...t}));Soe.displayName=woe.displayName;const koe={async uploadImage(e){const t=new FormData;t.append("files",e);const r=await Q.fetch(`${Q.coreUrl}/upload/images`,{method:"POST",body:t,requireAuth:!0}),a=r.data||r,i=a.files||(Array.isArray(a)?a:[]);if(!i||i.length===0)throw new Error("Invalid upload response: No files returned");return i[0]},async uploadImages(e){const t=new FormData;e.forEach(i=>{t.append("files",i)});const r=await Q.fetch(`${Q.coreUrl}/upload/images`,{method:"POST",body:t,requireAuth:!0}),a=r.data||r;return a.files||(Array.isArray(a)?a:[])}};function IN({value:e,onChange:t,className:r,placeholder:a="Upload image"}){const[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=f.useRef(null),{toast:d}=Rt(),u=async y=>{var b;const w=(b=y.target.files)==null?void 0:b[0];w&&await g(w)},h=y=>{y.preventDefault(),l(!0)},m=y=>{y.preventDefault(),l(!1)},p=async y=>{var b;y.preventDefault(),l(!1);const w=(b=y.dataTransfer.files)==null?void 0:b[0];w&&await g(w)},g=async y=>{if(!y.type.startsWith("image/")){d({title:"   ",description:"    (JPEG, PNG, WEBP)",variant:"destructive"});return}if(y.size>5*1024*1024){d({title:"   ",description:"       5 ",variant:"destructive"});return}const{isValid:w,reason:b}=await Rk(y);if(!w){d({title:"  ",description:b||"    ",variant:"destructive"});return}i(!0);try{const v=await koe.uploadImage(y);t(v.secureUrl||v.url),d({title:" ",description:"   "})}catch(v){console.error("Upload failed:",v),d({title:" ",description:"  .    .",variant:"destructive"})}finally{i(!1),c.current&&(c.current.value="")}},x=()=>{t("")};return s.jsxs("div",{className:be("w-full",r),children:[e?s.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 aspect-video",children:[s.jsx("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},disabled:n,children:"Change"}),s.jsx(z,{variant:"destructive",size:"sm",onClick:x,disabled:n,children:s.jsx(hr,{className:"w-4 h-4"})})]})]}):s.jsx("div",{className:be("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer transition-colors aspect-video",o?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 bg-gray-50 dark:bg-gray-900"),onDragOver:h,onDragLeave:m,onDrop:p,onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},children:n?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:s.jsx(Gn,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),s.jsx("p",{className:"font-medium text-sm mb-1",children:a}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag & drop or click to upload"})]})}),s.jsx("input",{type:"file",ref:c,onChange:u,accept:"image/*",className:"hidden"})]})}const Ect={async checkUserAccess(e){try{return(await he.get(`/admin/master/users/${e}/cloudinary-access`,{requireAuth:!0})).hasAccess||!1}catch(t){return console.error("Failed to check Cloudinary access:",t),!1}}};function Pct({brands:e,categories:t,products:r,selectedBrandId:a,selectedCategoryIds:n,onBrandSelect:i,onCategorySelect:o,onProductSelect:l,loadProductsByCategory:c,loadProductsByBrand:d,onCreateCategory:u,onCreateBrand:h,onCreateProduct:m,onCategoriesUpdate:p,onBrandsUpdate:g,onProductsUpdate:x,isFullScreen:y=!1}){const{toast:w}=Rt();Kr();const{user:b}=$s(),{t:v,i18n:N}=Ct(),[j,k]=f.useState(null),[S,C]=f.useState(null),A=_ie(wD(IA,{activationConstraint:{distance:8}})),E=ce=>{var ze;const{active:Be}=ce;k(Be.id),C((ze=Be.data.current)==null?void 0:ze.node)},D=async ce=>{var Zr,aa,Ht,na,ar;const{active:Be,over:ze}=ce;if(k(null),C(null),!ze||Be.id===ze.id)return;const dt=(Zr=Be.data.current)==null?void 0:Zr.node,Ft=(aa=ze.data.current)==null?void 0:aa.node;if(Ft&&Ft.type!=="category")return;const br=ze.id==="root"?null:(Ft==null?void 0:Ft.id)||null;try{if(dt.type==="category"){const Rn=dt.data;if(br===dt.id){w({title:v("common.error"),description:v("dashboard.hierarchical.errors.cannotMoveToSelf"),variant:"destructive"});return}if(br){const Ai=(ko,Co)=>{if(!Co)return!1;const an=t.find(Xu=>Xu.id===Co);return an?an.id===ko?!0:Ai(ko,an.parentId||null):!1};if(Ai(dt.id,br)){w({title:v("common.error"),description:v("dashboard.hierarchical.errors.cannotMoveToDescendant"),variant:"destructive"});return}}await he.patch(`/categories/${dt.id}`,{parentId:br},{requireAuth:!0}),w({title:v("dashboard.hierarchical.moved"),description:br?v("dashboard.hierarchical.categoryMoved",{name:dt.name}):v("dashboard.hierarchical.categoryMovedToRoot",{name:dt.name})}),p&&await p()}else if(dt.type==="product"){const Rn=dt.data;if(!br){w({title:v("common.warning"),description:v("dashboard.hierarchical.errors.productMustHaveCategory"),variant:"destructive"});return}const Ai=((Ht=Rn.categories)==null?void 0:Ht.map(Co=>{var an;return Co.categoryId||((an=Co.category)==null?void 0:an.id)||Co.id}).filter(Boolean))||[];if(Ai.includes(br)){w({title:v("common.warning"),description:v("dashboard.hierarchical.errors.productAlreadyInCategory"),variant:"default"});return}const ko=[...Ai,br];await he.patch(`/products/${dt.id}`,{categoryIds:ko},{requireAuth:!0}),w({title:v("dashboard.hierarchical.moved"),description:v("dashboard.hierarchical.productMoved",{productName:dt.name,categoryName:Ft.name})}),x&&await x()}}catch(Rn){console.error("Failed to move item:",Rn);const Ai=((ar=(na=Rn==null?void 0:Rn.response)==null?void 0:na.data)==null?void 0:ar.message)||(Rn==null?void 0:Rn.message)||v("common.unknownError");w({title:v("dashboard.hierarchical.errors.moveFailed"),description:v("dashboard.hierarchical.errors.moveFailedDesc",{error:Ai}),variant:"destructive"})}},P=N.language==="ar",[T,_]=f.useState(!1),[O,F]=f.useState("categories"),[I,R]=f.useState(null),[L,H]=f.useState(null),[W,M]=f.useState([]),[G,V]=f.useState([]),[q,Y]=f.useState(!1);f.useState(new Set);const[U,Z]=f.useState(new Set),[J,K]=f.useState(!1),[se,B]=f.useState(!1),[Ne,ye]=f.useState(null),[Re,qe]=f.useState(null),[He,fe]=f.useState(null),[Ue,ie]=f.useState(null),[Pe,Te]=f.useState({name:"",nameAr:"",description:"",image:""}),[Ve,Le]=f.useState({name:"",nameAr:"",code:"",logo:""}),[de,xe]=f.useState(!1),[Ie,st]=f.useState(!1),[wt,tt]=f.useState(!1),Bt=()=>{try{const ce=localStorage.getItem("hierarchical_categoryBrandMap");if(ce){const Be=JSON.parse(ce),ze=new Map(Object.entries(Be));return console.log("[loadCategoryBrandMap] Loaded from localStorage:",Array.from(ze.entries())),ze}}catch(ce){console.error("Failed to load categoryBrandMap from localStorage:",ce)}return new Map},pr=ce=>{try{const Be=Object.fromEntries(ce);localStorage.setItem("hierarchical_categoryBrandMap",JSON.stringify(Be)),console.log("[saveCategoryBrandMap] Saved to localStorage:",Array.from(ce.entries()))}catch(Be){console.error("Failed to save categoryBrandMap to localStorage:",Be)}},[$t,_t]=f.useState(()=>Bt()),[as,Se]=f.useState(!1),[vr,Br]=f.useState(null),[Nr,Bs]=f.useState(!1),[Ia,Hr]=f.useState(!1),[St,gt]=f.useState(null),[we,le]=f.useState(!1),[Ye,ct]=f.useState(!1),[lt,Xe]=f.useState(null),[At,Dt]=f.useState(!1),[vt,or]=f.useState(null),[Cr,ee]=f.useState(!1);f.useState(!1);const[ue,oe]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:"",compareAtPrice:"",sku:"",barcode:"",stock:"",images:[]});f.useState(!1);const[re,ne]=f.useState(!1),[ge,Me]=f.useState(!1),[$e,_e]=f.useState(!1),[De,Ae]=f.useState(!1),[pe,Fe]=f.useState(null),[Ke,nt]=f.useState(null),[mt,kt]=f.useState(null),[te,Ot]=f.useState(null),[Sr,js]=f.useState(null),[yr,us]=f.useState([]),[ft,sr]=f.useState([]),[hs,sa]=f.useState(!1);f.useEffect(()=>{const ce=async()=>{if(b!=null&&b.id)try{const Be=await Ect.checkUserAccess(b.id);_(Be)}catch(Be){console.error("Failed to check Cloudinary access (non-critical):",Be),_(!1)}};b!=null&&b.id&&localStorage.getItem("accessToken")&&ce()},[b==null?void 0:b.id]),f.useEffect(()=>{(async()=>{try{const[Be,ze]=await Promise.all([he.get("/units").catch(()=>[]),he.get("/suppliers").catch(()=>[])]);us(Array.isArray(Be)?Be:[]),sr(Array.isArray(ze)?ze:[])}catch(Be){console.error("Failed to load units/suppliers:",Be)}})()},[]);const ha=async ce=>{var Be,ze,dt,Ft,br,Zr,aa,Ht,na,ar,Rn,Ai,ko,Co,an,Xu,Wm,va;try{ee(!0),nt(ce),F("products");const Ir=await he.get(`/products/${ce}`,{requireAuth:!0}),Ds={id:Ir.id,name:Ir.name,nameAr:Ir.nameAr,description:Ir.description,descriptionAr:Ir.descriptionAr,price:typeof Ir.price=="string"?parseFloat(Ir.price):Ir.price,compareAtPrice:Ir.compareAtPrice,cost:Ir.costPerItem||Ir.cost||((ze=(Be=Ir.variants)==null?void 0:Be[0])==null?void 0:ze.cost),sku:Ir.sku,barcode:Ir.barcode,stock:((Ft=(dt=Ir.variants)==null?void 0:dt[0])==null?void 0:Ft.inventoryQuantity)||0,images:((br=Ir.images)==null?void 0:br.map(ya=>typeof ya=="string"?ya:ya.url))||[],status:Ir.isAvailable?"ACTIVE":"DRAFT",featured:Ir.featured,categories:((Zr=Ir.categories)==null?void 0:Zr.map(ya=>{var Qu,sv,av;return{id:((Qu=ya.category)==null?void 0:Qu.id)||ya.id,name:((sv=ya.category)==null?void 0:sv.name)||ya.name,nameAr:((av=ya.category)==null?void 0:av.nameAr)||ya.nameAr}}))||[],brand:Ir.brand?{id:Ir.brand.id,name:Ir.brand.name,nameAr:Ir.brand.nameAr}:void 0,variants:Ir.variants||[],suppliers:((aa=Ir.suppliers)==null?void 0:aa.map(ya=>{var Qu,sv,av;return{id:((Qu=ya.supplier)==null?void 0:Qu.id)||ya.id,name:((sv=ya.supplier)==null?void 0:sv.name)||ya.name,nameAr:((av=ya.supplier)==null?void 0:av.nameAr)||ya.nameAr,cost:ya.cost}}))||[]};or(Ds),oe({name:Ds.name||"",nameAr:Ds.nameAr||"",description:Ds.description||"",descriptionAr:Ds.descriptionAr||"",price:((Ht=Ds.price)==null?void 0:Ht.toString())||"",compareAtPrice:((na=Ds.compareAtPrice)==null?void 0:na.toString())||"",sku:Ds.sku||"",barcode:Ds.barcode||"",stock:((ar=Ds.stock)==null?void 0:ar.toString())||"0",images:Ds.images||[]});const aM=((Rn=Ds.categories)==null?void 0:Rn.map(ya=>ya.id).filter(Boolean))||[],pde=Ds.images||[];kt({name:Ds.name||"",nameAr:Ds.nameAr||"",description:Ds.description||"",descriptionAr:Ds.descriptionAr||"",price:((Ai=Ds.price)==null?void 0:Ai.toString())||"",compareAtPrice:((ko=Ds.compareAtPrice)==null?void 0:ko.toString())||"",cost:((Co=Ds.cost)==null?void 0:Co.toString())||"",sku:Ds.sku||"",barcode:Ds.barcode||"",stock:((an=Ds.stock)==null?void 0:an.toString())||"0",lowStockThreshold:"10",categoryId:aM[0]||"",categoryIds:aM,brandId:((Xu=Ds.brand)==null?void 0:Xu.id)||Ds.brandId||"",status:Ds.status||"ACTIVE",featured:Ds.featured||!1,tags:"",metaTitle:"",metaDescription:"",weight:"",dimensions:"",unitId:"",productCode:"",odooProductId:"",path:Ir.slug||"",supplierIds:((Wm=Ds.suppliers)==null?void 0:Wm.map(ya=>ya.id).filter(Boolean))||[],suppliers:((va=Ds.suppliers)==null?void 0:va.map(ya=>{var Qu;return{supplierId:ya.id,price:((Qu=ya.cost)==null?void 0:Qu.toString())||"",discountRate:0,isPrimary:!1}}))||[],minQuantity:"",maxQuantity:"",enableSlider:!1,images:pde})}catch(Ir){console.error("Failed to load product details:",Ir),w({title:"  ",description:"     .    .",variant:"destructive"})}finally{ee(!1)}},Pa=f.useCallback(ce=>{if(!ce)return new Set;const Be=new Set;$t.forEach((dt,Ft)=>{dt===ce&&Be.add(Ft)}),r.forEach(dt=>{dt.brandId===ce&&dt.categories&&dt.categories.forEach(Ft=>{var Zr;const br=Ft.categoryId||((Zr=Ft.category)==null?void 0:Zr.id)||Ft.id;br&&Be.add(br)})});let ze=!0;for(;ze;)ze=!1,t.forEach(dt=>{dt.parentId&&Be.has(dt.id)&&!Be.has(dt.parentId)&&(Be.add(dt.parentId),ze=!0)});for(ze=!0;ze;)ze=!1,t.forEach(dt=>{dt.parentId&&Be.has(dt.parentId)&&!Be.has(dt.id)&&(Be.add(dt.id),ze=!0)});return Be},[t,r,$t]),zr=f.useMemo(()=>Pa(I),[Pa,I]),_s=f.useCallback(()=>t.filter(ce=>!ce.parentId),[t]),Ra=f.useCallback(ce=>t.filter(Be=>Be.parentId===ce),[t]),[Yc,jo]=f.useState([]),[Hu,qu]=f.useState(!1),Qi=async ce=>{if(c)try{Y(!0);const dt=await c(ce);return Array.from(new Map(dt.map(Ft=>[Ft.id,Ft])).values())}finally{Y(!1)}const Be=r.filter(dt=>{var Ft;return((Ft=dt.categories)==null?void 0:Ft.some(br=>{var Zr;return(br.categoryId||((Zr=br.category)==null?void 0:Zr.id)||br.id)===ce}))||!1}),ze=Array.from(new Map(Be.map(dt=>[dt.id,dt])).values());return Array.from(new Map(ze.map(dt=>[(dt.nameAr||dt.name||"").toString().trim().toLowerCase(),dt])).values())},Mm=async()=>{if(vr){Bs(!0);try{const ce=Array.from($t.entries()).filter(([ze,dt])=>dt===vr.id).map(([ze])=>ze),Be=r.filter(ze=>ze.brandId===vr.id);await he.deleteBrand(vr.id),ce.length>0&&_t(ze=>{const dt=new Map(ze);return ce.forEach(Ft=>dt.delete(Ft)),pr(dt),dt}),g&&g(),p&&p(),x&&x(),I===vr.id&&(R(null),F("categories"),M([]),H(null),i==null||i(null)),w({title:v("common.success"),description:v("dashboard.hierarchical.brandDeleted",{name:vr.nameAr||vr.name,categories:ce.length,products:Be.length})}),Se(!1),Br(null)}catch(ce){const Be=ce instanceof Error?ce.message:v("dashboard.hierarchical.errors.deleteBrandFailed");w({title:v("common.error"),description:Be,variant:"destructive"})}finally{Bs(!1)}}},Lm=async()=>{if(St){le(!0);try{const ce=t.filter(ze=>ze.parentId===St.id),Be=await Qi(St.id);if(await he.deleteCategory(St.id),_t(ze=>{const dt=new Map(ze);return dt.delete(St.id),pr(dt),dt}),p&&p(),x&&x(),L===St.id||W.some(ze=>ze.id===St.id)){const ze=St.parentId;if(ze){const dt=t.find(Ft=>Ft.id===ze);if(dt){const Ft=[];let br=dt;for(;br&&(Ft.unshift(br),br.parentId);){const Zr=t.find(aa=>aa.id===br.parentId);if(Zr)br=Zr;else break}M(Ft),H(ze),F("subcategories")}else M([]),H(null),F("categories")}else M([]),H(null),F("categories")}w({title:v("common.success"),description:v("dashboard.hierarchical.categoryDeleted",{name:St.nameAr||St.name})}),Hr(!1),gt(null)}catch(ce){console.error("Failed to delete category:",ce),w({title:v("common.error"),description:v("dashboard.hierarchical.errors.deleteCategoryFailed"),variant:"destructive"})}finally{le(!1)}}},$m=async()=>{if(lt){Dt(!0);try{await he.deleteProduct(lt.id),w({title:v("common.success"),description:v("dashboard.hierarchical.productDeleted")}),x&&x(),Ke===lt.id&&(nt(null),or(null),kt(null),F(L?"products":"categories")),ct(!1),Xe(null)}catch(ce){console.error("Failed to delete product:",ce),w({title:v("common.error"),description:v("dashboard.hierarchical.errors.deleteProductFailed"),variant:"destructive"})}finally{Dt(!1)}}},Gu=(ce,Be=!1)=>{if(Be){Ot(ce),nt(null),kt(null),js(null);return}H(ce.id),M([...W,ce]),F("subcategories"),qu(!1),Qi(ce.id).then(ze=>{console.log("Products loaded for category:",ce.id,ze.length,"products"),jo(ze),V(I?ze.filter(dt=>dt.brandId===I):ze)}).catch(ze=>{console.error("Failed to load products:",ze),V([]),jo([])}),o(ce.id)},ve=()=>{var ce,Be;if(O==="products")if(W.length>0){const ze=[...W];ze.pop(),M(ze),ze.length===0?(F("categories"),H(null)):(F("subcategories"),H(((ce=ze[ze.length-1])==null?void 0:ce.id)||null))}else F("categories"),H(null);else if(O==="subcategories")if(W.length>0){const ze=[...W];ze.pop(),M(ze),ze.length===0?(F("categories"),H(null)):H(((Be=ze[ze.length-1])==null?void 0:Be.id)||null)}else M([]),F("categories"),H(null);else O==="categories"&&(M([]),H(null),Hd(1))},ht=f.useMemo(()=>O==="categories"?_s():O==="subcategories"&&L?Ra(L):[],[O,L,_s,Ra]),zt=f.useMemo(()=>(O==="products"||O==="subcategories")&&L?G:[],[O,L,G]);f.useEffect(()=>{(O==="products"||O==="subcategories")&&L?Qi(L).then(ce=>{console.log("Loaded products for category:",L,ce),jo(ce),V(I&&!Hu?ce.filter(Be=>Be.brandId===I):ce)}).catch(ce=>{console.error("Failed to load products:",ce),V([]),jo([])}):O!=="products"&&(V([]),jo([]))},[O,L,I,Hu]),f.useEffect(()=>{if(x){const ce=()=>{O==="products"&&L&&Qi(L).then(V).catch(()=>V([]))};return window.addEventListener("productsUpdated",ce),()=>{window.removeEventListener("productsUpdated",ce)}}},[O,L,I,x]),f.useEffect(()=>{},[]),f.useEffect(()=>{const ce=new Map;if(t.forEach(Be=>{const ze=new Map;if(r.forEach(dt=>{if(dt.brandId&&dt.categories&&Array.isArray(dt.categories)&&dt.categories.some(br=>{var aa;return(br.categoryId||((aa=br.category)==null?void 0:aa.id)||br.id)===Be.id})){const br=ze.get(dt.brandId)||0;ze.set(dt.brandId,br+1)}}),ze.size===1){const dt=Array.from(ze.keys())[0];ce.set(Be.id,dt)}}),_t(Be=>{const ze=new Map(Be);return ce.forEach((dt,Ft)=>{ze.has(Ft)||(ze.set(Ft,dt),console.log(`[useEffect] Auto-mapped category ${Ft} to brand ${dt} from products`))}),pr(ze),ze}),O==="subcategories"&&L&&I){const Be=`${I}-${L}`,ze=new Set(U);ze.has(Be)||(ze.add(Be),Z(ze))}},[t,r]),(()=>{const ce=(O==="subcategories"||O==="products")&&L?L:W.length>0?W[W.length-1].id:void 0;return ce?t.filter(Be=>Be.parentId===ce).length:0})();const Mt=()=>{if(O==="categories"&&I||O==="subcategories")return ht.length>0;const ce=L||(W.length>0?W[W.length-1].id:void 0);return ce?t.some(Be=>Be.parentId===ce):!1},jr=()=>O==="products"?zt.length>0:!1,It=Mt();jr();const Xt=!It,Jr=f.useCallback(ce=>{if(!ce)return 0;let Be=0,ze=ce;for(;ze;){const dt=t.find(Ft=>Ft.id===ze);if(dt!=null&&dt.parentId)Be++,ze=dt.parentId;else break}return Be+1},[t]),ys=10,Dn=Jr(L),On=ce=>ce.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""),ki=ce=>{const Be=[];let ze=ce;for(;ze;){Be.unshift(ze);const dt=t.find(Ft=>Ft.id===ze);ze=dt==null?void 0:dt.parentId}return Be},No=ce=>ki(ce).map(ze=>{const dt=t.find(Ft=>Ft.id===ze);return dt?On(dt.name):""}).filter(Boolean).join("-")+"-",ui=async ce=>{const Be=ce.parentId||Ue||((O==="subcategories"||O==="products")&&L?L:W.length>0?W[W.length-1].id:void 0);if(Ne)try{st(!0),await he.updateCategory(Ne.id,{name:ce.name,nameAr:ce.nameAr||void 0,description:ce.description||void 0,descriptionAr:ce.descriptionAr||void 0,slug:ce.slug?On(ce.slug):void 0,parentId:Be||void 0,image:ce.image||void 0,icon:ce.icon||void 0,isActive:ce.isActive}),w({title:v("common.success"),description:v("categories.productCategories.updateSuccess")}),p&&p(),ye(null),ie(null),K(!1)}catch(ze){throw console.error("Failed to update category:",ze),w({title:v("common.error"),description:v("categories.productCategories.saveError"),variant:"destructive"}),ze}finally{st(!1)}else try{xe(!0);const ze=ce.slug?On(ce.slug):On(ce.name);u?await u({name:ce.name,nameAr:ce.nameAr||ce.name,description:ce.description,parentId:Be,image:ce.image||void 0}):await he.createCategory({name:ce.name,nameAr:ce.nameAr||void 0,description:ce.description||void 0,descriptionAr:ce.descriptionAr||void 0,slug:ze,parentId:Be||void 0,image:ce.image||void 0,icon:ce.icon||void 0,isActive:ce.isActive}),w({title:v("common.success"),description:v("categories.productCategories.addSuccess")}),p&&p(),ie(null),K(!1)}catch(ze){throw console.error("Failed to create category:",ze),w({title:v("common.error"),description:v("categories.productCategories.saveError"),variant:"destructive"}),ze}finally{xe(!1)}},ic=()=>{Fe(null),Ae(!0)},Fp=(ce,Be)=>{const ze={name:ce.name,nameAr:ce.nameAr||void 0,description:ce.description||void 0,descriptionAr:ce.descriptionAr||void 0,sku:ce.sku||void 0,barcode:ce.barcode||void 0,price:parseFloat(ce.price)||0,compareAtPrice:ce.compareAtPrice?parseFloat(ce.compareAtPrice):void 0,costPerItem:ce.cost?parseFloat(ce.cost):void 0,stockCount:ce.stock?parseInt(ce.stock):void 0,weight:ce.weight?parseFloat(ce.weight):void 0,dimensions:ce.dimensions||void 0,seoTitle:ce.metaTitle||void 0,seoDescription:ce.metaDescription||void 0,featured:!!ce.featured,categoryIds:ce.categoryIds||(ce.categoryId?[ce.categoryId]:[]),unitId:ce.unitId||void 0,productCode:ce.productCode||void 0,odooProductId:ce.odooProductId||void 0,min:ce.minQuantity?parseInt(ce.minQuantity):void 0,max:ce.maxQuantity?parseInt(ce.maxQuantity):void 0,enableSlider:!!ce.enableSlider,tags:Array.isArray(ce.tags)?ce.tags:ce.tags?ce.tags.split(",").map(dt=>dt.trim()).filter(Boolean):[]};return Be&&Be.length>0&&(ze.images=Be.map((dt,Ft)=>({url:dt,altText:ce.name||`Product image ${Ft+1}`,sortOrder:Ft}))),Object.keys(ze).forEach(dt=>ze[dt]===void 0&&delete ze[dt]),ze},Bm=async(ce,Be)=>{if(!hs){sa(!0);try{const ze=Fp(ce,Be);let dt=!1;if(pe?(await he.patch(`/products/${pe}`,ze),w({title:v("common.success"),description:v("dashboard.products.messages.productUpdated")})):(m?(await m(ze),dt=!0):await he.post("/products",ze),w({title:v("common.success"),description:v("dashboard.products.messages.productCreated")})),Ae(!1),Fe(null),!dt&&x&&x(),L){const Ft=await Qi(L);V(Ft)}}catch(ze){console.error("Failed to save product:",ze),w({title:v("common.error"),description:v("dashboard.products.messages.saveError"),variant:"destructive"})}finally{sa(!1)}}},Um=async()=>{if(!Ve.name.trim()){w({title:"   ",description:"    ",variant:"destructive"});return}try{tt(!0),Re?(await he.updateBrand(Re.id,{name:Ve.name,nameAr:Ve.nameAr||void 0,code:Ve.code||void 0,logo:Ve.logo||void 0}),w({title:"",description:"    "})):(h?await h({name:Ve.name,nameAr:Ve.nameAr||Ve.name,code:Ve.code||void 0,logo:Ve.logo||void 0}):await he.createBrand({name:Ve.name,nameAr:Ve.nameAr||void 0,code:Ve.code||void 0,logo:Ve.logo||void 0}),w({title:"",description:"    "})),g&&g(),Le({name:"",nameAr:"",code:"",logo:""}),qe(null),B(!1)}catch(ce){console.error("Failed to save brand:",ce),w({title:"",description:"     .    .",variant:"destructive"})}finally{tt(!1)}},[Wd,oc]=f.useState(!1),[ns,Ku]=f.useState(""),lc=()=>{!ns||!I||(_t(ce=>{const Be=new Map(ce);return Be.set(ns,I),pr(Be),Be}),w({title:"  ",description:"     "}),oc(!1),Ku(""))},Ci=f.useRef(null),Yu=()=>{const ce=Ht=>{const na=t.find(Rn=>Rn.id===Ht);if(!na)return"";const ar=na.parentId?ce(na.parentId):"";return ar?`${ar} > ${na.name}`:na.name},Be=t.map(Ht=>{const na=t.find(ar=>ar.id===Ht.parentId);return{ID:Ht.id,Name:Ht.name,NameAr:Ht.nameAr||"",ParentID:Ht.parentId||"",ParentName:(na==null?void 0:na.name)||"",Path:ce(Ht.id),Description:Ht.description||"",Image:Ht.image||""}}),ze=r.map(Ht=>{var ko,Co;const na=(ko=Ht.categories)==null?void 0:ko.map(an=>{var Wm;const Xu=an.categoryId||((Wm=an.category)==null?void 0:Wm.id)||an.id;return t.find(va=>va.id===Xu)}).filter(Boolean),ar=na.map(an=>an.id).join(","),Rn=na.map(an=>ce(an.id)).join(" | "),Ai=e.find(an=>an.id===(Ht.brandId||""));return{ID:Ht.id,Name:Ht.name,NameAr:Ht.nameAr||"",Description:Ht.description||"",DescriptionAr:Ht.descriptionAr||"",Price:Ht.price||0,Cost:Ht.cost||0,SKU:Ht.sku||"",Barcode:Ht.barcode||"",Stock:Ht.stock||0,BrandID:Ht.brandId||"",BrandName:(Ai==null?void 0:Ai.name)||"",CategoryIDs:ar,CategoryPaths:Rn,Status:Ht.status||"ACTIVE",Images:((Co=Ht.images)==null?void 0:Co.join(","))||"",Featured:Ht.featured?"Yes":"No"}}),dt=e.map(Ht=>({ID:Ht.id,Name:Ht.name,NameAr:Ht.nameAr||"",Code:Ht.code||"",Logo:Ht.logo||""})),Ft=$r.book_new(),br=$r.json_to_sheet(Be);$r.book_append_sheet(Ft,br,"Categories");const Zr=$r.json_to_sheet(ze);$r.book_append_sheet(Ft,Zr,"Products");const aa=$r.json_to_sheet(dt);$r.book_append_sheet(Ft,aa,"Brands"),Du(Ft,`hierarchical-data-${new Date().toISOString().split("T")[0]}.xlsx`),w({title:" ",description:"     Excel "})},Mp=ce=>{var dt;const Be=(dt=ce.target.files)==null?void 0:dt[0];if(!Be)return;const ze=new FileReader;ze.onload=Ft=>{var br;try{const Zr=(br=Ft.target)==null?void 0:br.result,aa=fm(Zr,{type:"binary"}),Ht={categories:[],products:[],brands:[]};if(aa.Sheets.Categories){const na=$r.sheet_to_json(aa.Sheets.Categories);Ht.categories=na.map(ar=>({id:String(ar.ID||""),name:String(ar.Name||""),nameAr:String(ar.NameAr||""),parentId:ar.ParentID?String(ar.ParentID):void 0,description:ar.Description?String(ar.Description):void 0,image:ar.Image?String(ar.Image):void 0}))}if(aa.Sheets.Products){const na=$r.sheet_to_json(aa.Sheets.Products);Ht.products=na.map(ar=>({id:String(ar.ID||""),name:String(ar.Name||""),nameAr:String(ar.NameAr||""),description:ar.Description?String(ar.Description):void 0,descriptionAr:ar.DescriptionAr?String(ar.DescriptionAr):void 0,price:Number(ar.Price||0),cost:ar.Cost?Number(ar.Cost):void 0,sku:ar.SKU?String(ar.SKU):void 0,barcode:ar.Barcode?String(ar.Barcode):void 0,stock:ar.Stock?Number(ar.Stock):void 0,brandId:ar.BrandID?String(ar.BrandID):void 0,categoryIds:ar.CategoryIDs?ar.CategoryIDs.toString().split(","):[],status:ar.Status,images:ar.Images?ar.Images.toString().split(","):[],featured:ar.Featured==="Yes"}))}if(aa.Sheets.Brands){const na=$r.sheet_to_json(aa.Sheets.Brands);Ht.brands=na.map(ar=>({id:String(ar.ID||""),name:String(ar.Name||""),nameAr:String(ar.NameAr||""),code:ar.Code?String(ar.Code):void 0,logo:ar.Logo?String(ar.Logo):void 0}))}console.log("Imported Excel data:",Ht),w({title:" ",description:`   Excel  (${Ht.categories.length} , ${Ht.products.length} , ${Ht.brands.length}  ).    .`})}catch(Zr){console.error("Import error:",Zr),w({title:"  ",description:"   Excel.    .",variant:"destructive"})}},ze.readAsBinaryString(Be),Ci.current&&(Ci.current.value="")},[cc,XA]=f.useState(""),[In,_j]=f.useState("grid"),[Vm,Hd]=f.useState(1),[zm,Lp]=f.useState(20),[$p,So]=f.useState(new Set),Dj=ce=>{So(Be=>{const ze=new Set(Be);return ze.has(ce)?ze.delete(ce):ze.add(ce),ze})},Oj=f.useCallback(ce=>{const Be=r.filter(Ft=>{var br;return((br=Ft.categories)==null?void 0:br.some(Zr=>{var aa;return(Zr.categoryId||((aa=Zr.category)==null?void 0:aa.id)||Zr.id)===ce}))||!1}),ze=Array.from(new Map(Be.map(Ft=>[Ft.id,Ft])).values());return Array.from(new Map(ze.map(Ft=>[(Ft.nameAr||Ft.name||"").toString().trim().toLowerCase(),Ft])).values())},[r]),rv=f.useCallback(ce=>ce.map(Be=>{const ze=Ra(Be.id),dt=Oj(Be.id),Ft=[],br=new Set;if(ze.length>0){Ft.push(...rv(ze));const Zr=aa=>{aa.forEach(Ht=>{Ht.type==="product"&&br.add(Ht.id),Ht.children&&Zr(Ht.children)})};Zr(Ft)}return dt.forEach(Zr=>{br.has(Zr.id)||(Ft.push({id:Zr.id,type:"product",data:Zr,name:Zr.nameAr||Zr.name,children:[]}),br.add(Zr.id))}),{id:Be.id,type:"category",data:Be,name:Be.nameAr||Be.name,children:Ft}}),[Ra,Oj]),sn=f.useMemo(()=>{const ce=_s();return rv(ce)},[_s,rv]),Ij=({children:ce})=>{const{setNodeRef:Be,isOver:ze}=DN({id:"root",data:{type:"root",node:{id:"root",type:"category",name:"Root",children:[]}}});return s.jsx("div",{ref:Be,className:`min-h-[200px] ${ze?"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg":""}`,children:ce})},QA=({node:ce,level:Be})=>{const ze=ce.children&&ce.children.length>0,dt=$p.has(ce.id),Ft=ce.type==="product",br=ce.type==="brand",Zr=Ft?Ke===ce.id:br?I===ce.id||(Sr==null?void 0:Sr.id)===ce.id:L===ce.id||(te==null?void 0:te.id)===ce.id,[aa,Ht]=f.useState(!1),{attributes:na,listeners:ar,setNodeRef:Rn,transform:Ai,isDragging:ko}=Qie({id:ce.id,data:{type:ce.type,node:ce}}),{setNodeRef:Co,isOver:an}=DN({id:ce.id,disabled:Ft||br});f.useEffect(()=>{Ht(ko)},[ko]);const Xu={transform:Ou.Translate.toString(Ai),opacity:ko?.4:1},Wm=va=>{if(aa){va.stopPropagation();return}if(va.stopPropagation(),Ft)ha(ce.id),Ot(null),js(null);else if(ce.type==="category"){const Ir=ce.data;Gu(Ir,!0),Dj(ce.id)}else ce.type==="brand"&&(js(ce.data),nt(null),kt(null),Ot(null),ze&&!dt&&Dj(ce.id))};return s.jsxs("div",{ref:va=>{Rn(va),Co(va)},style:Xu,className:"select-none",children:[s.jsxs(cT,{children:[s.jsx(dT,{children:s.jsxs("div",{...na,...ar,className:`flex items-center gap-2 py-2 px-3 rounded-lg cursor-grab active:cursor-grabbing transition-all duration-200 ${Zr?"bg-gradient-to-r from-primary/20 to-primary/10 text-primary font-semibold shadow-sm border border-primary/20":an?"bg-primary/10 border border-primary/30 text-primary shadow-sm":"text-muted-foreground hover:bg-muted/60 hover:text-foreground hover:shadow-sm border border-transparent hover:border-border/30"}`,style:{[P?"paddingRight":"paddingLeft"]:`${Be*12+8}px`},onClick:Wm,children:[!Ft&&s.jsx("div",{className:`p-0.5 rounded-sm hover:bg-muted/80 transition-colors ${ze?"visible":"invisible"}`,onClick:va=>{va.stopPropagation(),Dj(ce.id)},children:dt?s.jsx(zi,{className:"h-3.5 w-3.5"}):P?s.jsx($c,{className:"h-3.5 w-3.5"}):s.jsx(Ms,{className:"h-3.5 w-3.5"})}),Ft?s.jsx(Tt,{className:`h-4 w-4 ${Zr?"text-primary":"text-blue-500/80"}`}):dt?s.jsx(vi,{className:`h-4 w-4 ${Zr?"text-primary":"text-amber-500/80"}`}):s.jsx(qv,{className:`h-4 w-4 ${Zr?"text-primary":"text-amber-500/80"}`}),s.jsx("span",{className:"truncate text-sm",children:ce.name})]})}),s.jsx(ON,{className:"w-56",children:Ft?s.jsxs(Cl,{onClick:va=>{va.stopPropagation(),Xe(ce.data),ct(!0)},className:"text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),v("common.delete")," ",v("nav.products")]}):s.jsxs(s.Fragment,{children:[s.jsxs(Cl,{onClick:va=>{if(va.stopPropagation(),br)fe(ce.id),ie(null);else{const Ir=ce.data;if(Jr(Ir.id)>=ys){w({title:v("common.error"),description:v("dashboard.hierarchical.errors.maxDepthReached",{max:ys}),variant:"destructive"});return}ie(Ir.id);const Ds=$t.get(Ir.id);Ds&&fe(Ds)}ye(null),Te({name:"",nameAr:"",description:"",image:""}),K(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),v("categories.productCategories.addCategory")]}),s.jsxs(Cl,{onClick:va=>{if(va.stopPropagation(),br)R(ce.id),H(null);else{const Ir=ce.data;H(Ir.id)}ic()},children:[s.jsx(Tt,{className:"h-4 w-4 mr-2"}),v("dashboard.products.addProduct")]}),s.jsxs(Cl,{onClick:va=>{if(va.stopPropagation(),br){const Ir=ce.data;qe(Ir),Le({name:Ir.name,nameAr:Ir.nameAr||"",code:Ir.code||"",logo:Ir.logo||""}),B(!0)}else{const Ir=ce.data;ye(Ir),Te({name:Ir.name,nameAr:Ir.nameAr||"",description:Ir.description||"",image:Ir.image||""}),ie(Ir.parentId||null),K(!0)}},children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),v("common.edit")]}),s.jsx(Soe,{}),s.jsxs(Cl,{onClick:va=>{va.stopPropagation(),br?(Br(ce.data),Se(!0)):(gt(ce.data),Hr(!0))},className:"text-red-500 focus:text-red-500 focus:bg-red-500/10",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),v("common.delete")," ",v(br?"dashboard.brands.brand":"nav.categories")]})]})})]}),dt&&ze&&!Ft&&s.jsx("div",{className:"border-r border-border/40 mr-[15px]",children:ce.children.map(va=>s.jsx(QA,{node:va,level:Be+1},va.id))})]})},vn=f.useMemo(()=>{const ce=cc.toLowerCase();return{categories:ht.filter(Be=>(Be.name||"").toLowerCase().includes(ce)||(Be.nameAr||"").toLowerCase().includes(ce)),products:zt.filter(Be=>(Be.name||"").toLowerCase().includes(ce)||(Be.nameAr||"").toLowerCase().includes(ce)||(Be.sku||"").toLowerCase().includes(ce))}},[ht,zt,cc]),ga=f.useMemo(()=>{const ce=[...vn.categories.map(Ht=>({...Ht,type:"category"})),...vn.products.map(Ht=>({...Ht,type:"product"}))],Be=ce.length,ze=Be>0?Math.ceil(Be/zm):1,dt=(Vm-1)*zm,Ft=dt+zm,br=ce.slice(dt,Ft),Zr=br.filter(Ht=>Ht.type==="category").map(Ht=>{const{type:na,...ar}=Ht;return ar}),aa=br.filter(Ht=>Ht.type==="product").map(Ht=>{const{type:na,...ar}=Ht;return ar});return{categories:Zr,products:aa,totalItems:Be,totalPages:ze}},[vn,Vm,zm]);f.useEffect(()=>{Hd(1)},[O,I,L,cc]),f.useEffect(()=>{ga.totalPages>0&&Vm>ga.totalPages&&Hd(1)},[ga.totalPages,Vm]);const Xc=()=>{const{setNodeRef:ce,isOver:Be}=DN({id:"root",data:{type:"category",node:{id:null,type:"category",name:"Root"}}});return s.jsxs("button",{ref:ce,onClick:()=>{R(null),F("categories"),M([]),H(null),nt(null),kt(null)},className:`w-full flex items-center gap-2.5 py-2.5 px-3 rounded-lg cursor-pointer transition-all duration-200 ${O==="categories"&&W.length===0?"bg-gradient-to-r from-primary/20 to-primary/10 text-primary font-semibold shadow-sm border border-primary/20":Be?"bg-primary/10 border border-primary/30 text-primary shadow-sm":"text-muted-foreground hover:bg-muted/60 hover:text-foreground hover:shadow-sm border border-transparent hover:border-border/30"}`,children:[s.jsx("div",{className:"w-5 flex justify-center",children:s.jsx(N4,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium",children:v("dashboard.categories.productCategories.allCategories")})]})};return s.jsxs("div",{className:`flex overflow-hidden rounded-2xl border border-border bg-background/40 backdrop-blur-2xl shadow-2xl ${y?"h-full":"h-[calc(100vh-140px)] min-h-[600px]"}`,children:[s.jsxs("div",{className:"w-72 bg-gradient-to-b from-card/40 to-card/20 border-l border-border/50 flex flex-col backdrop-blur-xl shadow-lg",children:[s.jsxs("div",{className:"p-4 border-b border-border/50 flex items-center justify-between bg-gradient-to-r from-primary/5 to-transparent",children:[s.jsx("div",{className:"flex items-center gap-2.5",children:s.jsx("img",{src:Ho(),alt:"Saeaa Logo",className:"h-7 w-auto object-contain drop-shadow-sm"})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>{g&&g(),p&&p(),x&&x();const ce=Bt();_t(ce),w({description:v("dashboard.hierarchical.dataUpdated")})},title:"",children:s.jsx(Xl,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[s.jsx("input",{type:"file",ref:Ci,onChange:Mp,className:"hidden",accept:".xlsx, .xls"}),s.jsx(z,{variant:"ghost",size:"icon",onClick:Yu,className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{var ce;return(ce=Ci.current)==null?void 0:ce.click()},className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:s.jsx(Gn,{className:"h-4 w-4"})}),s.jsx(Qs,{orientation:"vertical",className:"h-4 bg-border"}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>window.open("/hierarchical-fullscreen","_blank"),className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"    ( )",children:s.jsx(zh,{className:"h-4 w-4"})})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg hover:bg-primary/10 hover:text-primary",onClick:()=>{R(null),F("categories"),M([]),H(null)},title:"",children:s.jsx(Gf,{className:"h-4 w-4"})})]})]}),s.jsx(xn,{className:"flex-1 p-3",dir:P?"rtl":"ltr",children:s.jsx("div",{className:"space-y-2",children:s.jsxs(Xie,{sensors:A,onDragStart:E,onDragEnd:D,children:[s.jsx(Ij,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xc,{}),s.jsx("div",{className:"pt-1 pb-1",children:s.jsx(Qs,{className:"bg-border/30"})}),s.jsx("div",{className:"space-y-1",children:sn.map(ce=>s.jsx(QA,{node:ce,level:0},ce.id))})]})}),s.jsx(rct,{dropAnimation:{sideEffects:Zie({styles:{active:{opacity:"0.4"}}})},children:j&&S?s.jsxs("div",{className:"flex items-center gap-1.5 py-1.5 px-2 rounded-md bg-primary/20 text-primary border border-primary/30 shadow-xl backdrop-blur-md opacity-90 cursor-grabbing",children:[S.type==="product"?s.jsx(Tt,{className:"h-4 w-4 text-blue-500"}):s.jsx(qv,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"text-sm font-medium",children:S.name})]}):null})]})})}),s.jsx("div",{className:"p-4 border-t border-border/50 bg-gradient-to-t from-card/30 to-transparent",children:s.jsxs(z,{className:"w-full gap-2 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/20 hover:shadow-xl transition-all duration-200 font-semibold",onClick:()=>{ie(null),K(!0)},id:"tour-categories-add-btn",children:[s.jsx(Gt,{className:"h-4 w-4"}),s.jsx("span",{children:v("categories.productCategories.addCategory"," ")})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-background/30 to-background/10",children:[s.jsxs("div",{className:"h-20 border-b border-border/50 flex items-center justify-between px-6 md:px-8 bg-gradient-to-r from-card/20 via-card/10 to-transparent backdrop-blur-md shadow-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2 bg-muted/60 p-1 rounded-xl border border-border/50 flex-shrink-0 shadow-sm",children:[s.jsx("button",{onClick:()=>ve(),disabled:O==="categories"&&W.length===0,className:"p-2 rounded-lg hover:bg-muted/80 text-muted-foreground hover:text-foreground disabled:opacity-30 transition-all duration-200",title:v("common.back",""),children:s.jsx(ml,{className:"h-4 w-4"})}),s.jsx(Qs,{orientation:"vertical",className:"h-4 bg-border/50"}),s.jsx("button",{onClick:()=>{R(null),F("categories"),M([]),H(null),V([]),Hd(1)},className:"p-2 rounded-lg hover:bg-muted/80 text-muted-foreground hover:text-foreground transition-all duration-200",title:v("common.home",""),children:s.jsx(Gf,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s.jsxs("div",{className:"relative w-40 md:w-64 hidden sm:block",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),s.jsx(me,{placeholder:v("common.search"),value:cc,onChange:ce=>XA(ce.target.value),className:"pr-10 h-10 bg-muted/60 border-border/50 text-sm focus:ring-2 focus:ring-primary/30 focus:border-primary/50 rounded-xl transition-all duration-200"})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-muted/60 p-1 rounded-xl border border-border/50 hidden sm:flex shadow-sm",children:[s.jsx("button",{onClick:()=>_j("grid"),className:`p-2 rounded-lg transition-all duration-200 ${In==="grid"?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:v("common.gridView"),children:s.jsx(N4,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>_j("list"),className:`p-2 rounded-lg transition-all duration-200 ${In==="list"?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,title:v("common.listView"),children:s.jsx(Mw,{className:"h-4 w-4"})})]}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{p&&p(),g&&g(),x&&x()},className:"h-10 w-10 rounded-xl hover:bg-primary/10 hover:text-primary transition-all duration-200",title:v("common.refresh"," "),children:s.jsx(Xl,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[s.jsx("input",{type:"file",ref:Ci,onChange:Mp,className:"hidden",accept:".xlsx, .xls"}),s.jsx(z,{variant:"ghost",size:"icon",onClick:Yu,className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"  Excel",children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{var ce;return(ce=Ci.current)==null?void 0:ce.click()},className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:" ",children:s.jsx(Gn,{className:"h-4 w-4"})}),s.jsx(Qs,{orientation:"vertical",className:"h-4 bg-border"}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>window.open(window.location.href,"_blank"),className:"h-8 w-8 rounded-lg hover:bg-background hover:text-primary",title:"   ",children:s.jsx(zh,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[O!=="products"&&s.jsxs(z,{onClick:()=>{L&&!Ue&&O==="subcategories"&&ie(L),K(!0)},className:"h-10 px-4 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white border-none shadow-lg shadow-primary/20 hover:shadow-xl rounded-xl gap-2 hidden sm:flex transition-all duration-200 font-semibold",id:"tour-categories-add-btn",children:[s.jsx(Gt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden lg:inline",children:v(O==="categories"?"dashboard.categories.productCategories.addCategory":"dashboard.categories.productCategories.addSubcategory")})]}),Xt&&s.jsxs(z,{onClick:ic,className:"h-10 px-4 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-600 text-white border-none shadow-lg shadow-blue-500/20 hover:shadow-xl rounded-xl gap-2 transition-all duration-200 font-semibold",children:[s.jsx(Tt,{className:"h-4 w-4"}),s.jsx("span",{children:v("dashboard.products.addProduct")})]})]})]})]}),Ke&&mt?s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"h-full p-6",children:Cr?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsx(yD,{initialData:mt,initialImages:mt.images||(vt==null?void 0:vt.images)||[],categories:t,brands:e,units:yr,suppliers:ft,onSave:async(ce,Be)=>{try{const ze=Fp(ce);if(await he.updateProduct(Ke,{...ze,images:Be.map((dt,Ft)=>({url:dt,altText:ce.name,sortOrder:Ft}))}),w({title:v("common.success"),description:v("dashboard.products.messages.productUpdated")}),x&&x(),L){const dt=await Qi(L);V(dt)}await ha(Ke)}catch(ze){throw console.error("Failed to save product:",ze),w({title:"  ",description:"    .    .",variant:"destructive"}),ze}},onCancel:()=>{nt(null),kt(null)},isEditing:!0})})}):te?s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"h-full p-6",children:s.jsx(bD,{categories:t,initialData:te,parentId:te.parentId||void 0,onSave:async ce=>{try{await he.updateCategory(te.id,{name:ce.name,nameAr:ce.nameAr,description:ce.description,descriptionAr:ce.descriptionAr,slug:ce.slug?On(ce.slug):On(ce.name),image:ce.image,icon:ce.icon,parentId:ce.parentId||void 0,isActive:ce.isActive}),w({title:"",description:"   "}),p&&p();const Be=await he.getCategory(te.id);Ot(Be)}catch(Be){throw console.error("Failed to save category:",Be),w({title:"  ",description:"    .    .",variant:"destructive"}),Be}},onCancel:()=>{Ot(null)}})})}):Sr?s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"h-full p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"  "}),s.jsx(z,{variant:"outline",onClick:()=>js(null),children:""})]}),s.jsx(je,{children:s.jsxs(Ce,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"  "}),s.jsx(me,{value:Sr.name,readOnly:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{value:Sr.nameAr||"",readOnly:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:""}),s.jsx(me,{value:Sr.code||"",readOnly:!0})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]})})]})})}):O==="products"?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg",children:"    "})]})}):s.jsx(xn,{className:"flex-1 p-8",children:s.jsx(Wi,{mode:"wait",children:s.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[s.jsxs("div",{className:In==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-2",children:[ga.categories.map(ce=>s.jsxs(Je.div,{whileHover:{scale:1.02},className:In==="grid"?"group relative bg-card/40 backdrop-blur-md border border-border/50 rounded-2xl p-5 cursor-pointer hover:border-secondary/50 transition-all duration-300 shadow-xl hover:shadow-secondary/5":"group flex items-center gap-4 bg-card/40 backdrop-blur-md border border-border/50 rounded-xl p-3 cursor-pointer hover:border-secondary/50 transition-all duration-300",onClick:()=>Gu(ce,!0),children:[s.jsxs("div",{className:In==="grid"?"flex items-start justify-between mb-4":"flex-shrink-0",children:[s.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border group-hover:bg-secondary/10 group-hover:border-secondary/30 transition-all duration-300",children:s.jsx(qv,{className:"h-6 w-6 text-secondary"})}),In==="grid"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-500/20 text-muted-foreground hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:Be=>{Be.stopPropagation(),ye(ce),Te({name:ce.name,nameAr:ce.nameAr||"",description:ce.description||"",image:ce.image||""}),ie(ce.parentId||null),K(!0)},title:" ",children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:Be=>{Be.stopPropagation(),gt(ce),Hr(!0)},title:" ",children:s.jsx(_r,{className:"h-4 w-4"})}),s.jsxs(cT,{children:[s.jsx(dT,{asChild:!0,children:s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",onClick:Be=>Be.stopPropagation(),children:s.jsx(j4,{className:"h-4 w-4"})})}),s.jsxs(ON,{children:[s.jsxs(Cl,{onClick:Be=>{if(Be.stopPropagation(),Jr(ce.id)>=ys){w({title:"    ",description:`     .    ${ys} .`,variant:"destructive"});return}ye(null),Te({name:"",nameAr:"",description:"",image:""}),ie(ce.id);const ze=$t.get(ce.id);ze?fe(ze):I&&fe(I),K(!0)},disabled:Jr(ce.id)>=ys,children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"  "]}),s.jsxs(Cl,{onClick:Be=>{Be.stopPropagation(),ye(ce),Te({name:ce.name,nameAr:ce.nameAr||"",description:ce.description||"",image:ce.image||""}),ie(ce.parentId||null),K(!0)},children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(Cl,{onClick:Be=>{Be.stopPropagation(),gt(ce),Hr(!0)},className:"text-red-500 focus:text-red-500",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:In==="grid"?"font-bold text-foreground group-hover:text-primary transition-colors truncate":"text-lg font-bold text-foreground mb-1 group-hover:text-primary transition-colors truncate",children:ce.nameAr||ce.name}),s.jsxs("div",{className:In==="grid"?"text-xs text-muted-foreground mt-1":"text-sm text-muted-foreground",children:[s.jsxs("p",{className:"truncate",children:[Ra(ce.id).length,"  "]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[": ",Jr(ce.id),"/",ys]})]})]}),In==="list"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-500/20 text-muted-foreground hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:Be=>{Be.stopPropagation(),ye(ce),Te({name:ce.name,nameAr:ce.nameAr||"",description:ce.description||"",image:ce.image||""}),ie(ce.parentId||null),K(!0)},title:" ",children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:Be=>{Be.stopPropagation(),gt(ce),Hr(!0)},title:" ",children:s.jsx(_r,{className:"h-4 w-4"})}),s.jsxs(cT,{children:[s.jsx(dT,{asChild:!0,children:s.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-800 text-slate-500 hover:text-white transition-colors",onClick:Be=>Be.stopPropagation(),children:s.jsx(j4,{className:"h-4 w-4"})})}),s.jsxs(ON,{children:[s.jsxs(Cl,{onClick:Be=>{if(Be.stopPropagation(),Jr(ce.id)>=ys){w({title:"    ",description:`     .    ${ys} .`,variant:"destructive"});return}ye(null),Te({name:"",nameAr:"",description:"",image:""}),ie(ce.id);const ze=$t.get(ce.id);ze?fe(ze):I&&fe(I),K(!0)},disabled:Jr(ce.id)>=ys,children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"  "]}),s.jsxs(Cl,{onClick:Be=>{Be.stopPropagation(),ye(ce),Te({name:ce.name,nameAr:ce.nameAr||"",description:ce.description||"",image:ce.image||""}),ie(ce.parentId||null),K(!0)},children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(Cl,{onClick:Be=>{Be.stopPropagation(),gt(ce),Hr(!0)},className:"text-red-500 focus:text-red-500",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"})," "]})]})]})]})]},ce.id)),(O==="categories"||O==="subcategories")&&ga.products.map(ce=>s.jsxs(Je.div,{whileHover:{scale:1.02},className:In==="grid"?"group relative bg-card/40 backdrop-blur-md border border-border/50 rounded-2xl p-5 cursor-pointer hover:border-primary/50 transition-all duration-300 shadow-xl hover:shadow-primary/5":"group flex items-center gap-4 bg-card/40 backdrop-blur-md border border-border/50 rounded-xl p-3 cursor-pointer hover:border-primary/50 transition-all duration-300",onClick:()=>ha(ce.id),children:[s.jsxs("div",{className:In==="grid"?"flex items-start justify-between mb-4":"flex-shrink-0",children:[s.jsx("div",{className:"p-3 rounded-xl bg-muted/50 border border-border group-hover:bg-primary/10 group-hover:border-primary/30 transition-all duration-300",children:s.jsx(Tt,{className:"h-6 w-6 text-primary"})}),In==="grid"&&s.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:async Be=>{if(Be.stopPropagation(),confirm(`      "${ce.nameAr||ce.name}"`))try{if(await he.delete(`/products/${ce.id}`,{requireAuth:!0}),w({title:" ",description:`   "${ce.nameAr||ce.name}" `}),x&&x(),L){const ze=await Qi(L);V(ze)}}catch(ze){const dt=ze instanceof Error?ze.message:"  ";w({title:"",description:dt,variant:"destructive"})}},title:" ",children:s.jsx(_r,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:In==="grid"?"font-bold text-foreground group-hover:text-primary transition-colors truncate":"text-lg font-bold text-foreground mb-1 group-hover:text-primary transition-colors truncate",children:ce.nameAr||ce.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:In==="grid"?"text-[10px] bg-muted text-muted-foreground px-2 py-0.5 rounded uppercase font-mono":"text-xs bg-muted text-muted-foreground px-2 py-0.5 rounded uppercase font-mono",children:ce.sku||"NO SKU"}),ce.path&&s.jsx("span",{className:In==="grid"?"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded font-mono truncate max-w-[100px]":"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded font-mono",children:ce.path}),In==="list"&&ce.price&&s.jsxs("span",{className:"text-sm font-semibold text-primary",children:[ce.price.toFixed(2)," ."]})]})]}),In==="list"&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"p-2 rounded-lg hover:bg-red-500/20 text-muted-foreground hover:text-red-500 transition-colors",onClick:async Be=>{if(Be.stopPropagation(),confirm(`      "${ce.nameAr||ce.name}"`))try{if(await he.delete(`/products/${ce.id}`,{requireAuth:!0}),w({title:" ",description:`   "${ce.nameAr||ce.name}" `}),x&&x(),L){const ze=await Qi(L);V(ze)}}catch(ze){const dt=ze instanceof Error?ze.message:"  ";w({title:"",description:dt,variant:"destructive"})}},title:" ",children:s.jsx(_r,{className:"h-4 w-4"})})})]},ce.id)),ga.totalItems===0&&s.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-slate-900/50 rounded-full flex items-center justify-center mb-6 border border-slate-800",children:s.jsx(qv,{className:"h-10 w-10 text-muted-foreground"})}),s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:cc?"  ":"  "}),s.jsx("p",{className:"text-muted-foreground max-w-xs",children:cc?`     "${cc}"`:"   .    ."}),!cc&&s.jsxs("div",{className:"mt-8 flex flex-wrap gap-3 justify-center",children:[I&&O==="categories"&&s.jsxs(z,{variant:"outline",className:"border-border text-muted-foreground hover:bg-muted rounded-xl gap-2",onClick:()=>oc(!0),children:[s.jsx(_f,{className:"h-4 w-4"})," "]}),s.jsxs(z,{variant:"outline",className:"border-border text-muted-foreground hover:bg-muted rounded-xl gap-2",disabled:Dn>=ys,onClick:()=>{I&&!He&&fe(I),O==="subcategories"&&L&&!Ue&&ie(L),K(!0)},title:Dn>=ys?`       (${ys})`:"",children:[s.jsx(Gt,{className:"h-4 w-4"}),O==="subcategories"?"  ":" "]}),Dn>=ys&&s.jsx("p",{className:"text-xs text-amber-500 text-center mt-2",children:v("dashboard.categories.productCategories.maxDepthWarning",{max:ys})})]})]})]}),ga.totalItems>0&&s.jsx("div",{className:"mt-6 border-t border-border/50 pt-4",children:s.jsx(Qh,{currentPage:Vm,totalPages:ga.totalPages,totalItems:ga.totalItems,itemsPerPage:zm,onPageChange:Hd,onItemsPerPageChange:ce=>{Lp(ce),Hd(1)},itemsPerPageOptions:[12,20,50,100],showItemsPerPage:!0})})]},`${O}-${I}-${L}`)})})]}),s.jsx(Qt,{open:se,onOpenChange:B,children:s.jsxs(Yt,{className:"max-w-lg",children:[s.jsx(tr,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Vs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(rr,{className:"text-xl",children:"   "}),s.jsx(ur,{className:"mt-1",children:"        (Brand  Category  Subcategory  Product)"})]})]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(X,{className:"text-sm font-semibold flex items-center gap-2",children:[s.jsx(Ni,{className:"h-4 w-4 text-primary"}),"  "]}),Ve.logo&&s.jsxs("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border-2 border-primary/20 bg-muted/50 group mx-auto",children:[s.jsx("img",{src:Ve.logo,alt:"Brand Logo",className:"w-full h-full object-contain"}),s.jsx("button",{onClick:()=>Le({...Ve,logo:""}),className:"absolute top-2 right-2 p-1.5 rounded-full bg-red-500/90 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(hr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx(IN,{value:"",onChange:ce=>Le({...Ve,logo:ce}),placeholder:"  ",className:"h-24"})}),T&&s.jsxs(z,{type:"button",variant:"outline",className:"h-24 flex flex-col gap-2 border-dashed border-2 hover:border-primary hover:bg-primary/5",onClick:()=>Me(!0),children:[s.jsx(Ik,{className:"h-6 w-6 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"  Cloudinary"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"          Cloudinary"})]}),s.jsx(Qs,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"brandName",className:"text-sm font-semibold",children:"   (English) *"}),s.jsx(me,{id:"brandName",value:Ve.name,onChange:ce=>Le({...Ve,name:ce.target.value}),placeholder:"Brand Name",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"brandNameAr",className:"text-sm font-semibold",children:"   ()"}),s.jsx(me,{id:"brandNameAr",value:Ve.nameAr,onChange:ce=>Le({...Ve,nameAr:ce.target.value}),placeholder:"  ",dir:P?"rtl":"ltr",className:"h-11"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"brandCode",className:"text-sm font-semibold",children:"   ()"}),s.jsx(me,{id:"brandCode",value:Ve.code,onChange:ce=>Le({...Ve,code:ce.target.value}),placeholder:"BRAND-001",className:"h-11"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"        "})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>{B(!1),Le({name:"",nameAr:"",code:"",logo:""})},children:""}),s.jsx(z,{onClick:Um,disabled:wt||!Ve.name.trim(),children:wt?" ...":""})]})]})}),s.jsx(Qt,{open:as,onOpenChange:Se,children:s.jsxs(Yt,{className:"max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-red-500",children:"  "}),s.jsxs(ur,{className:"space-y-2",children:[s.jsxs("p",{children:["       ",s.jsxs("strong",{children:['"',(vr==null?void 0:vr.nameAr)||(vr==null?void 0:vr.name),'"']}),""]}),vr&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:[s.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium mb-2",children:" :"}),s.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"  "}),s.jsxs("li",{children:[Array.from($t.entries()).filter(([ce,Be])=>Be===vr.id).length," /"]}),s.jsxs("li",{children:[r.filter(ce=>ce.brandId===vr.id).length," /"]})]})]}),s.jsx("p",{className:"text-red-400 font-medium mt-3",children:"      ."})]})]}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>{Se(!1),Br(null)},disabled:Nr,children:""}),s.jsx(z,{variant:"destructive",onClick:Mm,disabled:Nr,children:Nr?" ...":""})]})]})}),s.jsx(Qt,{open:Ia,onOpenChange:Hr,children:s.jsxs(Yt,{className:"max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-red-500",children:" "}),s.jsxs(ur,{className:"space-y-2",children:[s.jsxs("p",{children:["      ",s.jsxs("strong",{children:['"',(St==null?void 0:St.nameAr)||(St==null?void 0:St.name),'"']}),""]}),St&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:[s.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium mb-2",children:" :"}),s.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:" "}),s.jsxs("li",{children:[t.filter(ce=>ce.parentId===St.id).length,"  "]}),s.jsx("li",{children:"     "})]})]}),s.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium mt-3",children:"      ."})]})]}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>{Hr(!1),gt(null)},disabled:we,children:""}),s.jsx(z,{variant:"destructive",onClick:Lm,disabled:we,children:we?" ...":""})]})]})}),s.jsx(Qt,{open:Ye,onOpenChange:ct,children:s.jsxs(Yt,{className:"max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-red-500",children:" "}),s.jsxs(ur,{className:"space-y-2",children:[s.jsxs("p",{children:["      ",s.jsxs("strong",{children:['"',(lt==null?void 0:lt.nameAr)||(lt==null?void 0:lt.name),'"']}),""]}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-3 mt-3",children:s.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium",children:"      ."})}),s.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium mt-3",children:"      ."})]})]}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>{ct(!1),Xe(null)},disabled:At,children:""}),s.jsx(z,{variant:"destructive",onClick:$m,disabled:At,children:At?" ...":""})]})]})}),s.jsx(Qt,{open:J,onOpenChange:ce=>{K(ce),ce||(ye(null),ie(null))},children:s.jsxs(Yt,{className:"sm:max-w-[600px] h-[98vh] max-h-[98vh] overflow-hidden p-0 flex flex-col",children:[s.jsx("div",{className:"p-6 pb-0",children:s.jsxs(tr,{children:[s.jsx(rr,{children:Ne?" ":Ue||O==="subcategories"||O==="products"?"   ":"  "}),s.jsx(ur,{children:Ne?` : ${Ne.nameAr||Ne.name}`:Ue?"     ":W.length>0?`   : ${W.map(ce=>ce.nameAr||ce.name).join(" > ")}`:"  "})]})}),s.jsx("div",{className:"flex-1 overflow-hidden p-6 pt-2",children:s.jsx(bD,{categories:t,initialData:Ne,parentId:Ue||(W.length>0?W[W.length-1].id:void 0)||void 0,onSave:ui,onCancel:()=>{K(!1),ye(null),ie(null)},saving:de||Ie})})]})}),s.jsx(TN,{open:re,onOpenChange:ne,multiple:!0,onSelect:ce=>{oe(Be=>{const dt=[...[...Be.images],...ce].slice(0,4);return{...Be,images:dt}}),ne(!1),w({title:"  ",description:`  ${ce.length}  `})}}),s.jsx(TN,{open:ge,onOpenChange:Me,multiple:!1,onSelect:ce=>{ce.length>0&&(Le(Be=>({...Be,logo:ce[0]})),w({title:"  ",description:"      Cloudinary"})),Me(!1)}}),s.jsx(TN,{open:$e,onOpenChange:_e,multiple:!1,onSelect:ce=>{ce.length>0&&(Te(Be=>({...Be,image:ce[0]})),w({title:"  ",description:"     Cloudinary"})),_e(!1)}}),s.jsx(Qt,{open:Wd,onOpenChange:oc,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"  "}),s.jsx(ur,{children:"       ."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(X,{className:"mb-2 block",children:""}),s.jsxs(nr,{value:ns,onValueChange:Ku,children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:" ..."})}),s.jsx(Zt,{children:t.filter(ce=>!zr.has(ce.id)).map(ce=>s.jsx(Oe,{value:ce.id,children:ce.nameAr||ce.name},ce.id))})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>oc(!1),children:""}),s.jsx(z,{onClick:lc,disabled:!ns,children:""})]})]})}),s.jsx(Qt,{open:De,onOpenChange:ce=>{Ae(ce),ce||Fe(null)},children:s.jsx(Yt,{className:"max-w-[98vw] w-[98vw] h-[98vh] max-h-[98vh] overflow-hidden p-0 flex flex-col",children:s.jsx("div",{className:"flex-1 overflow-hidden p-6 h-full",children:s.jsx(yD,{initialData:pe?void 0:{categoryId:L||"",categoryIds:L?ki(L):[],path:L?No(L):""},initialImages:[],categories:t,brands:e,units:yr,suppliers:ft,onSave:Bm,onCancel:()=>{Ae(!1),Fe(null)},isEditing:!!pe})})})})]})}function Coe({isFullScreen:e=!1}){const{t}=Ct(),{toast:r}=Rt(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[h,m]=f.useState([]),p=f.useCallback(async()=>{try{u(!0);const[g,x,y]=await Promise.all([he.getBrands(!0).catch(()=>[]),he.getCategories(void 0,!0).catch(()=>[]),he.getProducts({limit:"10000"},!0).catch(()=>[])]);n(Array.isArray(g)?g:[]);const w=Array.isArray(x)?x:x.categories||[];o(w.map(k=>{var S;return{id:k.id,name:k.name,nameAr:k.nameAr||k.name,parentId:typeof k.parentId=="object"?(S=k.parentId)==null?void 0:S.id:k.parentId}}));const v=(Array.isArray(y)?y:y.data||y.products||[]).map(k=>{var C,A,E,D,P,T;let S=[];if(k.categories&&Array.isArray(k.categories)){const _=new Map;k.categories.forEach(O=>{var I,R;const F=typeof O=="string"?O:O.categoryId||O.id||((I=O.category)==null?void 0:I.id);F&&!_.has(F)&&(typeof O=="string"?_.set(F,{categoryId:O}):_.set(F,{categoryId:O.categoryId||O.id||((R=O.category)==null?void 0:R.id),category:O.category,id:O.id}))}),S=Array.from(_.values())}return{id:k.id,name:k.name,nameAr:k.nameAr||k.name,brandId:k.brandId||((C=k.brand)==null?void 0:C.id),categories:S,description:k.description,descriptionAr:k.descriptionAr,price:typeof k.price=="string"?parseFloat(k.price):k.price,cost:k.costPerItem||k.cost||((E=(A=k.variants)==null?void 0:A[0])==null?void 0:E.cost),sku:k.sku,barcode:k.barcode,stock:((P=(D=k.variants)==null?void 0:D[0])==null?void 0:P.inventoryQuantity)||0,status:k.isAvailable?"ACTIVE":"DRAFT",images:((T=k.images)==null?void 0:T.map(_=>typeof _=="string"?_:_.url))||[],featured:k.featured,path:k.slug||k.path}}),N=Array.from(new Map(v.map(k=>[k.id,k])).values()),j=Array.from(new Map(N.map(k=>[(k.nameAr||k.name||"").toString().trim().toLowerCase(),k])).values());c(j)}catch(g){console.error("Failed to load data:",g),r({title:t("common.error"),description:t("dashboard.products.hierarchical.loadError"),variant:"destructive"})}finally{u(!1)}},[r,t]);return f.useEffect(()=>{p();const g=()=>{p()},x=()=>{document.hidden||p()};return window.addEventListener("productsUpdated",g),document.addEventListener("visibilitychange",x),()=>{window.removeEventListener("productsUpdated",g),document.removeEventListener("visibilitychange",x)}},[p]),s.jsxs("div",{className:e?"flex flex-col h-full":"space-y-6",children:[s.jsxs("div",{className:e?"flex-none mb-2 px-2":"",children:[s.jsx("h1",{className:e?"text-xl font-bold text-gray-900 dark:text-white":"text-3xl font-bold text-gray-900 dark:text-white",children:t("dashboard.products.hierarchical.title")}),s.jsx("p",{className:e?"text-xs text-gray-500 mt-0.5":"text-sm text-gray-500 mt-1",children:t("dashboard.products.hierarchical.description")})]}),s.jsx("div",{className:e?"flex-1 min-h-0":"mt-6",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsx(Pct,{brands:a,categories:i,products:l,selectedCategoryIds:h,isFullScreen:e,onCategorySelect:g=>{h.includes(g)||m([...h,g])},loadProductsByCategory:async g=>{try{console.log(" Loading products for category:",g);const x=await he.getProducts({limit:"1000"});return(Array.isArray(x)?x:(x==null?void 0:x.data)||(x==null?void 0:x.products)||[]).map(v=>{var j;let N=[];return v.categories&&Array.isArray(v.categories)&&(N=v.categories.map(k=>{var S;return typeof k=="string"?{categoryId:k}:{categoryId:k.categoryId||k.id||((S=k.category)==null?void 0:S.id),category:k.category,id:k.id}})),{id:v.id,name:v.name,nameAr:v.nameAr||v.name,brandId:v.brandId||((j=v.brand)==null?void 0:j.id),categories:N,path:v.slug||v.path,isAvailable:v.isAvailable!==!1&&v.isAvailable!==void 0,isPublished:v.isPublished!==!1&&v.isPublished!==void 0}}).filter(v=>{var N;return(N=v.categories)==null?void 0:N.some(j=>{var S;return(j.categoryId||j.id||((S=j.category)==null?void 0:S.id))===g})})}catch(x){return console.error(" Failed to load products by category:",x),[]}},onCreateCategory:async g=>{var x,y,w,b,v,N,j,k;try{const S=await he.createCategory({name:g.name,nameAr:g.nameAr,description:g.description,parentId:g.parentId,image:g.image}),C={id:((x=S.category)==null?void 0:x.id)||S.id,name:((y=S.category)==null?void 0:y.name)||S.name,nameAr:((w=S.category)==null?void 0:w.nameAr)||S.nameAr||((b=S.category)==null?void 0:b.name)||S.name,parentId:typeof((v=S.category)==null?void 0:v.parentId)=="object"?(j=(N=S.category)==null?void 0:N.parentId)==null?void 0:j.id:((k=S.category)==null?void 0:k.parentId)||S.parentId};return o(A=>[...A,C]),p().catch(A=>{console.error("Failed to reload data after creating category:",A)}),C}catch(S){throw console.error("Failed to create category:",S),S}},onCreateBrand:async g=>{try{const x=await he.createBrand(g);return await p(),{id:x.id,name:x.name,nameAr:g.nameAr,code:g.code}}catch(x){throw console.error("Failed to create brand:",x),x}},onCreateProduct:async g=>{try{const x=await he.createProduct({...g,isAvailable:!0,isPublished:!0,variants:g.variants||[{name:"Default",price:g.price||0,inventoryQuantity:g.stockCount||0}]});return await p(),{id:x.id,name:x.name,nameAr:x.nameAr}}catch(x){throw console.error("Failed to create product:",x),x}},onCategoriesUpdate:p,onBrandsUpdate:p,onProductsUpdate:p})})]})}function Tct(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[h,m]=f.useState(""),[p,g]=f.useState("all"),[x,y]=f.useState("all"),[w,b]=f.useState({min:"",max:""}),[v,N]=f.useState("all"),[j,k]=f.useState(null),[S,C]=f.useState({price:"",compareAtPrice:"",costPerItem:""}),[A,E]=f.useState(!1),[D,P]=f.useState("percentage"),[T,_]=f.useState(""),[O,F]=f.useState("increase"),[I,R]=f.useState(new Set);f.useEffect(()=>{L()},[]);const L=async()=>{try{c(!0);const[U,Z,J]=await Promise.all([he.getProducts({limit:1e4}),he.getCategories(),he.get("/brands").catch(()=>[])]);let K=[];if(Array.isArray(U))K=U;else if(U&&typeof U=="object"){if("data"in U&&"meta"in U){const Ne=U;K=Array.isArray(Ne.data)?Ne.data:[]}else if("data"in U){const Ne=U;K=Array.isArray(Ne.data)?Ne.data:[]}}Array.isArray(K)||(K=[]);const se=K.map(Ne=>{var ye,Re,qe,He;return{id:Ne.id,name:Ne.name,nameAr:Ne.nameAr,sku:Ne.sku,price:typeof Ne.price=="string"?parseFloat(Ne.price):Ne.price||0,compareAtPrice:Ne.compareAtPrice?typeof Ne.compareAtPrice=="string"?parseFloat(Ne.compareAtPrice):Ne.compareAtPrice:void 0,costPerItem:Ne.costPerItem?typeof Ne.costPerItem=="string"?parseFloat(Ne.costPerItem):Ne.costPerItem:void 0,category:((Re=(ye=Ne.categories)==null?void 0:ye[0])==null?void 0:Re.category)||((He=(qe=Ne.categories)==null?void 0:qe[0])!=null&&He.id?{id:Ne.categories[0].id,name:Ne.categories[0].name||""}:void 0),brand:Ne.brand,isAvailable:Ne.isAvailable!==!1}});r(se);const B=Array.isArray(Z)?Z:Z.categories||[];n(B.map(Ne=>({id:Ne.id,name:Ne.name}))),o(Array.isArray(J)?J:[])}catch(U){console.error("Failed to load data:",U),e({title:"  ",description:"     .   .",variant:"destructive"})}finally{c(!1)}},H=f.useMemo(()=>t.filter(U=>{var Z,J;if(h){const K=h.toLowerCase();if(!(U.name.toLowerCase().includes(K)||U.nameAr&&U.nameAr.toLowerCase().includes(K)||U.sku&&U.sku.toLowerCase().includes(K)))return!1}return!(p!=="all"&&((Z=U.category)==null?void 0:Z.id)!==p||x!=="all"&&((J=U.brand)==null?void 0:J.id)!==x||w.min&&U.price<parseFloat(w.min)||w.max&&U.price>parseFloat(w.max)||v==="available"&&!U.isAvailable||v==="unavailable"&&U.isAvailable)}),[t,h,p,x,w,v]),W=U=>{var Z,J;k(U.id),C({price:U.price.toString(),compareAtPrice:((Z=U.compareAtPrice)==null?void 0:Z.toString())||"",costPerItem:((J=U.costPerItem)==null?void 0:J.toString())||""})},M=()=>{k(null),C({price:"",compareAtPrice:"",costPerItem:""})},G=async U=>{try{u(!0);const Z={price:parseFloat(S.price)};if(S.compareAtPrice&&(Z.compareAtPrice=parseFloat(S.compareAtPrice)),S.costPerItem&&(Z.costPerItem=parseFloat(S.costPerItem)),isNaN(Z.price)||Z.price<0){e({title:"  ",description:"          ",variant:"destructive"});return}const J=encodeURIComponent(U);await he.updateProduct(J,Z),await L(),e({title:"",description:"   "}),M()}catch(Z){console.error("Failed to update price:",Z),e({title:"  ",description:"    .    .",variant:"destructive"})}finally{u(!1)}},V=async()=>{if(!T||H.length===0){e({title:"  ",description:"    ",variant:"destructive"});return}try{u(!0);const U=parseFloat(T),J=(I.size>0?H.filter(se=>I.has(se.id)):H).map(se=>{let B=se.price;if(D==="percentage"){const Ne=O==="increase"?1+U/100:1-U/100;B=se.price*Ne}else if(D==="fixed"){const Ne=O==="increase"?U:-U;B=se.price+Ne}else D==="replace"&&(B=U);return{productId:se.id,price:Math.max(0,B),compareAtPrice:se.compareAtPrice,costPerItem:se.costPerItem}}),K=10;for(let se=0;se<J.length;se+=K){const B=J.slice(se,se+K);await Promise.all(B.map(Ne=>{const ye=encodeURIComponent(Ne.productId);return he.updateProduct(ye,{price:Ne.price,compareAtPrice:Ne.compareAtPrice,costPerItem:Ne.costPerItem})}))}await L(),e({title:"",description:`  ${J.length}  `}),E(!1),_(""),F("increase"),R(new Set)}catch(U){console.error("Failed to bulk update:",U),e({title:"  ",description:"    .    .",variant:"destructive"})}finally{u(!1)}},q=U=>{const Z=new Set(I);Z.has(U)?Z.delete(U):Z.add(U),R(Z)},Y=()=>{I.size===H.length?R(new Set):R(new Set(H.map(U=>U.id)))};return s.jsxs("div",{className:"space-y-5 w-full",style:{maxWidth:"100%",overflowX:"hidden"},children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:" "}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"      "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",onClick:L,disabled:l,children:[s.jsx(Xl,{className:`h-4 w-4 ml-2 ${l?"animate-spin":""}`}),""]}),s.jsxs(z,{onClick:()=>E(!0),children:[s.jsx(Wo,{className:"h-4 w-4 ml-2"})," "]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(wu,{className:"h-5 w-5"})," "]})}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:"  SKU...",value:h,onChange:U=>m(U.target.value),className:"pr-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:""}),s.jsxs(nr,{value:p,onValueChange:g,children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:" "})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:" "}),a.map(U=>s.jsx(Oe,{value:U.id,children:U.name},U.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsxs(nr,{value:x,onValueChange:y,children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:" "})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:" "}),i.map(U=>s.jsx(Oe,{value:U.id,children:U.name},U.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsxs(nr,{value:v,onValueChange:N,children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:""}),s.jsx(Oe,{value:"available",children:""}),s.jsx(Oe,{value:"unavailable",children:" "})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{type:"number",placeholder:"0",value:w.min,onChange:U=>b({...w,min:U.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{type:"number",placeholder:"  ",value:w.max,onChange:U=>b({...w,max:U.target.value})})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",H.length,"  ",t.length," "]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>{m(""),g("all"),y("all"),b({min:"",max:""}),N("all"),R(new Set)},children:"  "})]})]})]}),s.jsxs(je,{className:"overflow-hidden",children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-"})," (",H.length,")"]}),H.length>0&&s.jsx(z,{variant:"outline",size:"sm",onClick:Y,children:I.size===H.length?" ":" "})]})}),s.jsx(Ce,{className:"p-0",children:l?s.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary"})}):H.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),s.jsx("p",{className:"text-muted-foreground",children:t.length===0?"    ":"     "})]}):s.jsx("div",{className:"w-full",children:s.jsxs(ts,{style:{minWidth:"800px"},children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"w-12",children:s.jsx("input",{type:"checkbox",checked:I.size===H.length&&H.length>0,onChange:Y,className:"rounded"})}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:"SKU"}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:H.map(U=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsx("input",{type:"checkbox",checked:I.has(U.id),onChange:()=>q(U.id),className:"rounded"})}),s.jsx(ke,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:U.name}),U.nameAr&&s.jsx("p",{className:"text-sm text-muted-foreground",children:U.nameAr})]})}),s.jsx(ke,{className:"font-mono text-sm",children:U.sku||"-"}),s.jsx(ke,{children:U.category?s.jsx(Ze,{variant:"outline",children:U.category.name}):"-"}),s.jsx(ke,{children:U.brand?s.jsx(Ze,{variant:"secondary",children:U.brand.name}):"-"}),s.jsx(ke,{children:j===U.id?s.jsx(me,{type:"number",step:"0.01",value:S.price,onChange:Z=>C({...S,price:Z.target.value}),className:"w-24"}):s.jsxs("span",{className:"font-semibold text-lg",children:[U.price.toFixed(2)," ."]})}),s.jsx(ke,{children:j===U.id?s.jsx(me,{type:"number",step:"0.01",value:S.compareAtPrice,onChange:Z=>C({...S,compareAtPrice:Z.target.value}),className:"w-24",placeholder:""}):s.jsx("span",{className:"text-muted-foreground",children:U.compareAtPrice?`${U.compareAtPrice.toFixed(2)} .`:"-"})}),s.jsx(ke,{children:j===U.id?s.jsx(me,{type:"number",step:"0.01",value:S.costPerItem,onChange:Z=>C({...S,costPerItem:Z.target.value}),className:"w-24",placeholder:""}):s.jsx("span",{className:"text-muted-foreground",children:U.costPerItem?`${U.costPerItem.toFixed(2)} .`:"-"})}),s.jsx(ke,{children:j===U.id?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{size:"sm",variant:"default",onClick:()=>G(U.id),disabled:d,children:[s.jsx(Ha,{className:"h-4 w-4 ml-1"}),""]}),s.jsx(z,{size:"sm",variant:"outline",onClick:M,disabled:d,children:s.jsx(hr,{className:"h-4 w-4"})})]}):s.jsxs(z,{size:"sm",variant:"outline",onClick:()=>W(U),children:[s.jsx(sfe,{className:"h-4 w-4 ml-1"}),""]})})]},U.id))})]})})})]}),s.jsx(Qt,{open:A,onOpenChange:E,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"  "}),s.jsx(ur,{children:I.size>0?` ${I.size}  `:`    (${H.length} )`})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" "}),s.jsxs(nr,{value:D,onValueChange:U=>P(U),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"percentage",children:"  (%)"}),s.jsx(Oe,{value:"fixed",children:"  (.)"}),s.jsx(Oe,{value:"replace",children:"  "})]})]})]}),D!=="replace"&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{type:"button",variant:O==="increase"?"default":"outline",className:"flex-1",onClick:()=>F("increase"),children:[s.jsx(Gt,{className:"h-4 w-4 ml-2"}),""]}),s.jsxs(z,{type:"button",variant:O==="decrease"?"default":"outline",className:"flex-1",onClick:()=>F("decrease"),children:[s.jsx(sm,{className:"h-4 w-3 ml-2"}),""]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{children:D==="percentage"?"  (%)":D==="fixed"?" (.)":"  (.)"}),s.jsx(me,{type:"number",step:"0.01",min:"0",value:T,onChange:U=>{const Z=U.target.value;(Z===""||!isNaN(parseFloat(Z))&&parseFloat(Z)>=0)&&_(Z)},placeholder:D==="percentage"?": 10":D==="fixed"?": 50":": 100"}),D==="percentage"&&T&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[":   100 .  ",O==="increase"?(100*(1+parseFloat(T)/100)||0).toFixed(2):(100*(1-parseFloat(T)/100)||0).toFixed(2)," ."]}),D==="fixed"&&T&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[":   100 .  ",O==="increase"?(100+(parseFloat(T)||0)).toFixed(2):(100-(parseFloat(T)||0)).toFixed(2)," ."]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>E(!1),children:""}),s.jsx(z,{onClick:V,disabled:d||!T,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 ml-2 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"h-4 w-4 ml-2"}),""]})})]})]})})]})}function _ct(){var Nr,Bs,Ia,Hr,St,gt;const{t:e,i18n:t}=Ct(),r=t.language==="ar",{toast:a}=Rt(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),[m,p]=f.useState(null),[g,x]=f.useState(!1),[y,w]=f.useState("orders"),[b,v]=f.useState(1),[N,j]=f.useState(20),[k,S]=f.useState(0),[C,A]=f.useState(1),[E,D]=f.useState([]),[P,T]=f.useState(!1),[_,O]=f.useState(null),[F,I]=f.useState(!1),[R,L]=f.useState(null),[H,W]=f.useState(""),[M,G]=f.useState(!1),[V,q]=f.useState(null),[Y,U]=f.useState(!1),[Z,J]=f.useState(""),[K,se]=f.useState(null),[B,Ne]=f.useState(!1),[ye,Re]=f.useState(null),[qe,He]=f.useState(""),[fe,Ue]=f.useState(null),ie=f.useCallback(async()=>{try{const we=await he.get("/site-config",{requireAuth:!0});we&&we.settings&&se(we.settings)}catch(we){console.error("Failed to load store settings:",we)}},[]);f.useEffect(()=>{ie()},[ie]);const Pe=we=>{var le;return{...we,id:we.id||we._id,customer:we.customer||{name:we.customerName,email:we.customerEmail,phone:we.customerPhone},items:we.items||((le=we.orderItems)==null?void 0:le.map(Ye=>({...Ye,product:Ye.product||{name:Ye.productName,nameAr:Ye.productName}}))),total:we.total||we.totalAmount,subtotal:we.subtotal||we.subtotalAmount,tax:we.tax||we.taxAmount,shipping:we.shipping||we.shippingAmount,discount:we.discount||we.discountAmount}},Te=f.useCallback(async()=>{try{l(!0);const we=await he.getOrders({page:b,limit:N,status:u!=="all"?u:void 0});if(we&&typeof we=="object"&&"data"in we&&"meta"in we){const le=we,Ye=le.data.map(Pe);i(Ye),S(le.meta.total),A(le.meta.totalPages)}else{const le=we,ct=(Array.isArray(we)?we:(le==null?void 0:le.orders)||(le==null?void 0:le.items)||[]).map(Pe);i(ct),S(ct.length),A(Math.ceil(ct.length/N))}}catch(we){console.error("Failed to load orders:",we),a({title:e("dashboard.orders.loadOrdersError"),variant:"destructive"})}finally{l(!1)}},[a,e,b,N,u]);f.useEffect(()=>{Te()},[Te]);const Ve=async(we,le)=>{var Ye,ct;try{await he.updateOrderStatus(we,le),a({title:e("dashboard.orders.updateStatusSuccess")}),Te()}catch(lt){const Xe=lt;(Xe==null?void 0:Xe.status)===401||(Ye=Xe==null?void 0:Xe.message)!=null&&Ye.includes("sessionExpired")||(ct=Xe==null?void 0:Xe.message)!=null&&ct.includes("Unauthorized")?(a({title:e("common.sessionExpired")||" ",description:e("common.sessionExpiredDesc")||"   .    (F5)     .",variant:"destructive"}),setTimeout(()=>{window.location.reload()},3e3)):a({title:e("dashboard.orders.updateStatusError"),description:(Xe==null?void 0:Xe.message)||"     ",variant:"destructive"})}},Le=async we=>{var le,Ye;try{Ue(we),await he.updateOrderStatus(we,"APPROVED"),a({title:e("dashboard.orders.approveSuccess")||"    ",description:e("dashboard.orders.orderApproved")||"      "}),Te()}catch(ct){const lt=ct;(lt==null?void 0:lt.status)===401||(le=lt==null?void 0:lt.message)!=null&&le.includes("sessionExpired")||(Ye=lt==null?void 0:lt.message)!=null&&Ye.includes("Unauthorized")?(a({title:e("common.sessionExpired")||" ",description:e("common.sessionExpiredDesc")||"   .    (F5)     .",variant:"destructive"}),setTimeout(()=>{window.location.reload()},3e3)):a({title:e("dashboard.orders.approveError")||"   ",description:(lt==null?void 0:lt.message)||e("dashboard.orders.updateStatusError"),variant:"destructive"})}finally{Ue(null)}},de=async()=>{if(!(!ye||!qe.trim()))try{Ue(ye.id),await he.rejectOrder(ye.id,qe),a({title:e("dashboard.orders.rejectSuccess")||"   ",description:e("dashboard.orders.orderRejected")||"     "}),Ne(!1),He(""),Re(null),Te()}catch(we){const le=we;a({title:e("dashboard.orders.rejectError")||"  ",description:(le==null?void 0:le.message)||e("dashboard.orders.updateStatusError"),variant:"destructive"})}finally{Ue(null)}},xe=()=>{a({title:e("common.success"),description:e("dashboard.header.exportingOrders")})},Ie=we=>{a({title:e("common.success"),description:e("dashboard.orders.import")})},st=we=>{const le={PENDING:{label:e("dashboard.orders.pending"),className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20",icon:fo},PROCESSING:{label:e("dashboard.orders.processing"),className:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20",icon:Tt},SHIPPED:{label:e("dashboard.orders.shipped"),className:"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-500/20",icon:Wh},DELIVERED:{label:e("dashboard.orders.delivered"),className:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",icon:ks},APPROVED:{label:e("dashboard.orders.approved"),className:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border-emerald-500/20",icon:ks},REJECTED:{label:e("dashboard.orders.rejected"),className:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/20",icon:Cs},CANCELLED:{label:e("dashboard.orders.cancelled"),className:"bg-gray-500/10 text-gray-700 dark:text-gray-400 border-gray-500/20",icon:Cs}},Ye=le[we]||le.PENDING,ct=Ye.icon;return s.jsxs(Ze,{variant:"outline",className:`${Ye.className} gap-1 whitespace-nowrap`,children:[s.jsx(ct,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:Ye.label})]})},wt=we=>{const le={PENDING:{label:e("dashboard.orders.paymentPending"),variant:"outline"},PAID:{label:e("dashboard.orders.paid"),variant:"default"},FAILED:{label:e("dashboard.orders.failed"),variant:"destructive"},REFUNDED:{label:e("dashboard.orders.refunded"),variant:"secondary"}},Ye=le[we]||le.PENDING;return s.jsx(Ze,{variant:Ye.variant,children:Ye.label})},tt=n.filter(we=>{var Ye,ct,lt,Xe,At;return c?((Ye=we.orderNumber)==null?void 0:Ye.toLowerCase().includes(c.toLowerCase()))||((lt=(ct=we.customer)==null?void 0:ct.name)==null?void 0:lt.toLowerCase().includes(c.toLowerCase()))||((At=(Xe=we.customer)==null?void 0:Xe.email)==null?void 0:At.toLowerCase().includes(c.toLowerCase())):!0}),Bt=tt,pr={total:k,pending:n.filter(we=>we.status==="PENDING").length,processing:n.filter(we=>we.status==="PROCESSING").length,shipped:n.filter(we=>we.status==="SHIPPED").length,delivered:n.filter(we=>we.status==="DELIVERED").length},$t=we=>{p(we),x(!0)},_t=f.useCallback(async()=>{try{T(!0);const we=await he.get("/wallet/admin/topups",{requireAuth:!0}),Ye=(Array.isArray(we)?we:(we==null?void 0:we.data)||(we==null?void 0:we.requests)||[]).filter(ct=>ct.status==="PENDING");D(Ye)}catch(we){console.error("Failed to load top-up requests:",we),a({title:e("dashboard.orders.loadTopupsError"),variant:"destructive"}),D([])}finally{T(!1)}},[a,e]);f.useEffect(()=>{y==="topups"&&_t()},[y,_t]);const as=async we=>{try{O(we),await he.post(`/wallet/admin/topup/${we}/approve`,{},{requireAuth:!0}),a({title:e("dashboard.orders.approveSuccess")}),_t(),Te()}catch(le){const Ye=le;console.error("Failed to approve top-up:",le),a({title:e("dashboard.orders.approveError"),description:Ye==null?void 0:Ye.message,variant:"destructive"})}finally{O(null)}},Se=async()=>{if(!R||!H.trim()){a({title:e("dashboard.orders.error"),description:e("dashboard.orders.enterRejectReason"),variant:"destructive"});return}try{O(R.id),await he.post(`/wallet/admin/topup/${R.id}/reject`,{reason:H},{requireAuth:!0}),a({title:e("dashboard.orders.rejectSuccess")}),I(!1),W(""),L(null),_t()}catch(we){console.error("Failed to reject top-up:",we),a({title:e("dashboard.orders.rejectError"),description:we==null?void 0:we.message,variant:"destructive"})}finally{O(null)}},vr=we=>{try{return new Date(we).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return we}},Br=we=>{var ee,ue,oe;const le=window.open("","_blank");if(!le)return;const Ye=(K==null?void 0:K.storeNameAr)||(K==null?void 0:K.storeName)||e("common.ourStore"),ct=(K==null?void 0:K.vatNumber)||e("common.notAvailable"),lt=(K==null?void 0:K.currency)||e("common.currency"),Xe=we.subtotal||0,At=we.tax||0,Dt=we.total||0,vt=we.discount||0,or=we.shipping||0,Cr=((ee=we.items)==null?void 0:ee.map(re=>{var ne,ge;return`
      <tr>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: right;">${((ne=re.product)==null?void 0:ne.nameAr)||((ge=re.product)==null?void 0:ge.name)||""}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${re.quantity}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${(re.price||0).toFixed(2)}</td>
        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">${((re.price||0)*(re.quantity||1)).toFixed(2)}</td>
      </tr>
    `}).join(""))||"";le.document.write(`
      <html dir="rtl" lang="ar">
        <head>
          <title>  - ${we.orderNumber}</title>
          <style>
            body { font-family: 'Arial', sans-serif; padding: 40px; color: #333; }
            .header { display: flex; justify-content: space-between; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .store-info h1 { margin: 0; color: #000; }
            .invoice-title { text-align: center; margin-bottom: 30px; }
            .invoice-title h2 { border: 1px solid #333; display: inline-block; padding: 5px 20px; background: #f9f9f9; }
            .details-grid { display: grid; grid-template-cols: 1fr 1fr; gap: 40px; margin-bottom: 40px; }
            .details-box h3 { border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 10px; font-size: 16px; }
            .details-box p { margin: 5px 0; font-size: 14px; }
            table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
            th { background: #f5f5f5; padding: 10px; border-bottom: 2px solid #ddd; text-align: right; }
            .totals { width: 300px; margin-right: auto; }
            .total-row { display: flex; justify-content: space-between; padding: 5px 0; }
            .total-row.grand-total { border-top: 2px solid #333; margin-top: 10px; padding-top: 10px; font-weight: bold; font-size: 18px; }
            .footer { margin-top: 50px; text-align: center; font-size: 12px; color: #777; border-top: 1px solid #eee; padding-top: 20px; }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="store-info">
              <h1>${Ye}</h1>
              <p>${e("dashboard.orders.invoice.vatNumber")}: ${ct}</p>
              <p>${(K==null?void 0:K.address)||""}, ${(K==null?void 0:K.city)||""}</p>
              <p>${(K==null?void 0:K.phone)||""}</p>
            </div>
            <div class="qr-placeholder" style="width: 100px; height: 100px; border: 1px solid #eee; display: flex; align-items: center; justify-content: center; font-size: 10px; text-align: center;">
              QR Code<br>ZATCA Compliant
            </div>
          </div>

          <div class="invoice-title">
            <h2>${e("dashboard.orders.invoice.simplifiedTaxInvoice")}</h2>
            <p>Simplified Tax Invoice</p>
          </div>

          <div class="details-grid">
            <div class="details-box">
              <h3>${e("dashboard.orders.invoice.invoiceInfo")}</h3>
              <p><strong>${e("dashboard.orders.invoice.orderNumber")}:</strong> ${we.orderNumber||we.id}</p>
              <p><strong>${e("dashboard.orders.invoice.date")}:</strong> ${vr(we.createdAt)}</p>
              <p><strong>${e("dashboard.orders.invoice.paymentStatus")}:</strong> ${we.paymentStatus==="PAID"?e("dashboard.orders.invoice.paid"):e("dashboard.orders.invoice.unpaid")}</p>
            </div>
            <div class="details-box">
              <h3>${e("dashboard.orders.invoice.customerInfo")}</h3>
              <p><strong>${e("dashboard.orders.invoice.name")}:</strong> ${((ue=we.customer)==null?void 0:ue.name)||e("dashboard.orders.customer")}</p>
              <p><strong>${e("dashboard.orders.invoice.phone")}:</strong> ${((oe=we.customer)==null?void 0:oe.phone)||"-"}</p>
              <p><strong>${e("dashboard.orders.invoice.address")}:</strong> ${we.shippingAddress?we.shippingAddress.street+", "+we.shippingAddress.city:"-"}</p>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="text-align: right;">${e("dashboard.orders.invoice.product")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.quantity")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.unitPrice")}</th>
                <th style="text-align: center;">${e("dashboard.orders.invoice.total")}</th>
              </tr>
            </thead>
            <tbody>
              ${Cr}
            </tbody>
          </table>

          <div class="totals">
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.subtotal")}:</span>
              <span>${Xe.toFixed(2)} ${lt}</span>
            </div>
            ${At>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.vat")}:</span>
              <span>${At.toFixed(2)} ${lt}</span>
            </div>
            `:""}
            ${or>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.shipping")}:</span>
              <span>${or.toFixed(2)} ${lt}</span>
            </div>
            `:""}
            ${vt>0?`
            <div class="total-row">
              <span>${e("dashboard.orders.invoice.discount")}:</span>
              <span>-${vt.toFixed(2)} ${lt}</span>
            </div>
            `:""}
            <div class="total-row grand-total">
              <span>${e("dashboard.orders.invoice.grandTotal")}:</span>
              <span>${Dt.toFixed(2)} ${lt}</span>
            </div>
          </div>

          <div class="footer">
            <p>${e("dashboard.orders.invoice.thankYou",{storeName:Ye})}</p>
            <p>${e("dashboard.orders.invoice.footer")}</p>
          </div>

          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() { window.close(); }, 500);
            };
          <\/script>
        </body>
      </html>
    `),le.document.close()};return s.jsxs("div",{className:"space-y-6 w-full",style:{maxWidth:"100%",overflowX:"hidden"},children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.orders.title")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.orders.subtitle")})]})}),s.jsxs(Yn,{value:y,onValueChange:w,children:[s.jsxs(_n,{className:"grid w-full grid-cols-2 max-w-md",children:[s.jsxs(Ar,{value:"orders",className:"gap-2",children:[s.jsx(Tt,{className:"h-4 w-4"}),e("dashboard.orders.orders")]}),s.jsxs(Ar,{value:"topups",className:"gap-2 relative",children:[s.jsx(ca,{className:"h-4 w-4"}),e("dashboard.orders.topups"),E.length>0&&s.jsx(Ze,{variant:"destructive",className:"mr-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:E.length})]})]}),s.jsxs(ls,{value:"orders",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4",children:[s.jsx(je,{className:"border-s-4 border-s-blue-500 min-w-0",children:s.jsx(Ce,{className:"p-4 md:pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.totalOrders")}),s.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:pr.total})]})})}),s.jsx(je,{className:"border-s-4 border-s-yellow-500 min-w-0",children:s.jsx(Ce,{className:"p-4 md:pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.pending")}),s.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:pr.pending})]})})}),s.jsx(je,{className:"border-s-4 border-s-blue-600 min-w-0",children:s.jsx(Ce,{className:"p-4 md:pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.processing")}),s.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:pr.processing})]})})}),s.jsx(je,{className:"border-s-4 border-s-purple-500 min-w-0",children:s.jsx(Ce,{className:"p-4 md:pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.shipped")}),s.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:pr.shipped})]})})}),s.jsx(je,{className:"border-s-4 border-s-green-500 min-w-0 col-span-2 sm:col-span-1",children:s.jsx(Ce,{className:"p-4 md:pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400 truncate",children:e("dashboard.orders.delivered")}),s.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-1 md:mt-2",children:pr.delivered})]})})})]}),s.jsxs(je,{className:"overflow-hidden",children:[s.jsx(et,{className:"border-b p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:"absolute end-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{placeholder:e("dashboard.orders.searchPlaceholder"),value:c,onChange:we=>{d(we.target.value),v(1)},className:"pe-10"})]}),s.jsxs(nr,{value:u,onValueChange:we=>{h(we),v(1)},children:[s.jsxs(Jt,{className:"w-full sm:w-[180px]",children:[s.jsx(wu,{className:"h-4 w-4 me-2"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("dashboard.orders.allStatuses")}),s.jsx(Oe,{value:"PENDING",children:e("dashboard.orders.pending")}),s.jsx(Oe,{value:"PROCESSING",children:e("dashboard.orders.processing")}),s.jsx(Oe,{value:"SHIPPED",children:e("dashboard.orders.shipped")}),s.jsx(Oe,{value:"DELIVERED",children:e("dashboard.orders.delivered")}),s.jsx(Oe,{value:"APPROVED",children:e("dashboard.orders.approved")}),s.jsx(Oe,{value:"REJECTED",children:e("dashboard.orders.rejected")}),s.jsx(Oe,{value:"CANCELLED",children:e("dashboard.orders.cancelled")})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s.jsxs(z,{variant:"outline",className:"gap-2",onClick:xe,size:"sm",children:[s.jsx(Za,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("dashboard.orders.export")})]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:Ie}),s.jsxs(z,{variant:"outline",className:"gap-2",size:"sm",children:[s.jsx(Gn,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("dashboard.orders.import")})]})]})]})]})}),s.jsx(Ce,{className:"p-0",children:o?s.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):tt.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.orders.noOrders")}),s.jsx("p",{className:"text-gray-500",children:e("dashboard.orders.noMatchingOrders")})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full",dir:r?"rtl":"ltr",children:s.jsxs(ts,{className:"w-full",style:{minWidth:"900px",tableLayout:"auto"},children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:`font-semibold min-w-[140px] max-w-[180px] whitespace-nowrap sticky ${r?"right-0":"left-0"} bg-background z-20 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:e("dashboard.orders.orderNumber")}),s.jsx(Ee,{className:"font-semibold min-w-[180px] max-w-[250px] text-start",children:e("dashboard.orders.customer")}),s.jsx(Ee,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.products")}),s.jsx(Ee,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.amount")}),s.jsx(Ee,{className:"font-semibold min-w-[120px] max-w-[160px] whitespace-nowrap text-start",children:e("dashboard.orders.status")}),s.jsx(Ee,{className:"font-semibold min-w-[120px] max-w-[160px] whitespace-nowrap text-start",children:e("dashboard.orders.paymentStatus")}),s.jsx(Ee,{className:"font-semibold min-w-[100px] max-w-[140px] whitespace-nowrap text-start",children:e("dashboard.orders.date")}),s.jsx(Ee,{className:`font-semibold text-center min-w-[80px] max-w-[120px] whitespace-nowrap sticky ${r?"left-0":"right-0"} bg-background z-20 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.orders.actions")})]})}),s.jsx(ss,{children:Bt.map((we,le)=>{var Ye,ct,lt,Xe,At;return s.jsxs(jt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsxs(ke,{className:`font-mono font-semibold sticky ${r?"right-0":"left-0"} bg-background z-10 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] text-start`,children:["#",we.orderNumber||((Ye=we.id)==null?void 0:Ye.slice(0,8))||"N/A"]}),s.jsx(ke,{className:"text-start",children:s.jsxs("div",{className:"min-w-0 text-start",children:[s.jsx("p",{className:"font-medium break-words",children:((ct=we.customer)==null?void 0:ct.name)||e("dashboard.orders.customer")}),s.jsx("p",{className:"text-sm text-gray-500 break-words",children:(lt=we.customer)==null?void 0:lt.email})]})}),s.jsx(ke,{className:"text-start",children:s.jsx("div",{className:`flex ${r?"justify-end":"justify-start"}`,children:s.jsxs(Ze,{variant:"secondary",children:[((Xe=we.items)==null?void 0:Xe.length)||0," ",e("dashboard.orders.products")]})})}),s.jsxs(ke,{className:"font-semibold text-start",children:[((At=we.total)==null?void 0:At.toFixed(2))||"0.00"," ",e("common.currency")]}),s.jsx(ke,{className:"text-start",children:s.jsxs(nr,{value:we.status,onValueChange:Dt=>Ve(we.id,Dt),children:[s.jsx(Jt,{className:"w-[140px] md:w-[160px]",children:st(we.status)}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"PENDING",children:e("dashboard.orders.pending")}),s.jsx(Oe,{value:"PROCESSING",children:e("dashboard.orders.processing")}),s.jsx(Oe,{value:"SHIPPED",children:e("dashboard.orders.shipped")}),s.jsx(Oe,{value:"DELIVERED",children:e("dashboard.orders.delivered")}),s.jsx(Oe,{value:"APPROVED",children:e("dashboard.orders.approved")}),s.jsx(Oe,{value:"REJECTED",children:e("dashboard.orders.rejected")}),s.jsx(Oe,{value:"CANCELLED",children:e("dashboard.orders.cancelled")})]})]})}),s.jsx(ke,{className:"text-start",children:wt(we.paymentStatus)}),s.jsx(ke,{className:"text-sm text-gray-500 text-start",children:new Date(we.createdAt).toLocaleDateString(r?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"})}),s.jsx(ke,{className:`sticky ${r?"left-0":"right-0"} bg-background z-10 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>$t(we),title:e("dashboard.orders.viewDetails")||" ","aria-label":e("dashboard.orders.viewDetails")||" ",children:s.jsx(fr,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>Br(we),title:e("dashboard.orders.printInvoice")||" ","aria-label":e("dashboard.orders.printInvoice")||" ",children:s.jsx(_L,{className:"h-4 w-4"})}),we.status!=="APPROVED"&&we.status!=="REJECTED"&&s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",size:"sm",className:"text-green-600 dark:text-green-500 border-green-200 dark:border-green-800 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>Le(we.id),disabled:fe===we.id,title:e("dashboard.orders.approve")||"",children:[fe===we.id?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsx(Ba,{className:"h-4 w-4 me-1"}),e("dashboard.orders.approve")||""]}),s.jsxs(z,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-500 border-red-200 dark:border-red-800 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{Re(we),Ne(!0)},disabled:fe===we.id,title:e("dashboard.orders.reject")||"",children:[s.jsx(hr,{className:"h-4 w-4 me-1"}),e("dashboard.orders.reject")||""]})]})]})})]},we.id||`order-${le}`)})})]})}),C>1&&s.jsx("div",{className:"py-4 border-t",children:s.jsx(_F,{children:s.jsxs(DF,{children:[s.jsx(Bf,{children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(we=>Math.max(1,we-1)),disabled:b===1,title:e("common.previous")||"","aria-label":e("common.previous")||"",children:e("dashboard.orders.previous")})}),Array.from({length:C},(we,le)=>le+1).map(we=>s.jsx(Bf,{children:s.jsx(Nj,{isActive:b===we,onClick:()=>v(we),children:we})},we)),s.jsx(Bf,{children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(we=>Math.min(C,we+1)),disabled:b===C,title:e("common.next")||"","aria-label":e("common.next")||"",children:e("dashboard.orders.next")})})]})})})]})})]})]}),s.jsx(ls,{value:"topups",className:"space-y-6 mt-6",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"h-5 w-5"}),e("dashboard.orders.topupRequests"),E.length>0&&s.jsxs(Ze,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",children:[E.length," ",e("dashboard.orders.pending")]})]})}),s.jsx(Ce,{children:P?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):E.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ca,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.orders.noTopups")}),s.jsx("p",{className:"text-gray-500",children:e("dashboard.orders.noPendingTopups")})]}):s.jsx("div",{className:"w-full",dir:r?"rtl":"ltr",children:s.jsxs(ts,{className:"w-full",style:{minWidth:"700px",tableLayout:"auto"},children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:`font-semibold min-w-[200px] sticky ${r?"right-0":"left-0"} bg-background z-20 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] ${r?"text-right":"text-left"}`,children:e("dashboard.orders.user")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${r?"text-right":"text-left"}`,children:e("dashboard.orders.amount")}),s.jsx(Ee,{className:`font-semibold min-w-[200px] ${r?"text-right":"text-left"}`,children:e("dashboard.orders.bank")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${r?"text-right":"text-left"}`,children:e("dashboard.orders.receiptImage")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${r?"text-right":"text-left"}`,children:e("dashboard.orders.requestDate")}),s.jsx(Ee,{className:`font-semibold text-center w-32 whitespace-nowrap sticky ${r?"left-0":"right-0"} bg-background z-20 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:e("dashboard.orders.actions")})]})}),s.jsx(ss,{children:E.map(we=>s.jsxs(jt,{children:[s.jsx(ke,{className:`sticky ${r?"right-0":"left-0"} bg-background z-10 ${r?"border-l":"border-r"} shadow-[2px_0_4px_-2px_rgba(0,0,0,0.1)] ${r?"text-right":"text-left"}`,children:s.jsxs("div",{className:`min-w-0 ${r?"text-right":"text-left"}`,children:[s.jsx("p",{className:"font-medium break-words",children:we.user.name||we.user.email}),s.jsx("p",{className:"text-sm text-gray-500 break-words",children:we.user.email})]})}),s.jsx(ke,{className:r?"text-right":"text-left",children:s.jsxs("span",{className:"font-semibold text-green-600",children:[Number(we.amount).toFixed(2)," ",we.currency||e("common.currency")]})}),s.jsx(ke,{className:r?"text-right":"text-left",children:we.bank?s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium break-words",children:we.bank.nameAr||we.bank.name}),s.jsxs("p",{className:"text-xs text-gray-500 break-words",children:[e("dashboard.orders.accountNumber"),": ",we.bank.accountNumber]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx(ke,{className:r?"text-right":"text-left",children:we.proofImage?s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>window.open(we.proofImage,"_blank"),className:"gap-2",title:e("dashboard.orders.viewProof")||"  ","aria-label":e("dashboard.orders.viewProof")||"  ",children:[s.jsx(fr,{className:"h-4 w-4"}),e("dashboard.orders.view")||""]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx(ke,{className:`text-sm text-gray-500 ${r?"text-right":"text-left"}`,children:new Date(we.createdAt).toLocaleDateString(r?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric"})}),s.jsx(ke,{className:`sticky ${r?"left-0":"right-0"} bg-background z-10 ${r?"border-r":"border-l"} shadow-[-2px_0_4px_-2px_rgba(0,0,0,0.1)]`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[we.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",size:"sm",className:"text-green-600 dark:text-green-500 border-green-200 dark:border-green-800 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>as(we.id),disabled:_===we.id,title:e("dashboard.orders.approve")||"",children:[_===we.id?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsx(Ba,{className:"h-4 w-4 me-1"}),e("dashboard.orders.approve")||""]}),s.jsxs(z,{variant:"outline",size:"sm",className:"text-red-600 dark:text-red-500 border-red-200 dark:border-red-800 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{L(we),I(!0)},disabled:_===we.id,title:e("dashboard.orders.reject")||"",children:[s.jsx(hr,{className:"h-4 w-4 me-1"}),e("dashboard.orders.reject")||""]})]}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{q(we),G(!0)},title:e("dashboard.orders.viewDetails")||" ",children:s.jsx(fr,{className:"h-4 w-4"})})]})})]},we.id))})]})})})]})})]}),s.jsx(Qt,{open:g,onOpenChange:x,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(tr,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(rr,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Tt,{className:"h-6 w-6 text-primary"}),e("dashboard.orders.viewDetails")," #",(m==null?void 0:m.orderNumber)||((Nr=m==null?void 0:m.id)==null?void 0:Nr.slice(0,8))]}),s.jsx(ur,{className:"mt-1",children:m&&vr(m.createdAt)})]}),s.jsxs("div",{className:"flex gap-2",children:[m&&st(m.status),m&&wt(m.paymentStatus||"PENDING")]})]})}),m&&s.jsxs("div",{className:"space-y-8 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(je,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[s.jsx(lb,{className:"h-4 w-4"}),e("dashboard.orders.customer")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.customerName")}),s.jsx("p",{className:"font-medium",children:((Bs=m.customer)==null?void 0:Bs.name)||e("common.notAvailable")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.email")}),s.jsx("p",{className:"font-medium break-all",children:((Ia=m.customer)==null?void 0:Ia.email)||e("common.notAvailable")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.phone")}),s.jsx("p",{className:"font-medium",children:((Hr=m.customer)==null?void 0:Hr.phone)||e("common.notAvailable")})]})]})]})}),s.jsx(je,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[s.jsx(Wh,{className:"h-4 w-4"}),e("dashboard.orders.shippingAddress")]}),m.shippingAddress?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.address")}),s.jsx("p",{className:"font-medium",children:m.shippingAddress.street||m.shippingAddress.address||e("common.notAvailable")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.city")}),s.jsx("p",{className:"font-medium",children:m.shippingAddress.city||e("common.notAvailable")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.state")}),s.jsx("p",{className:"font-medium",children:m.shippingAddress.state||e("common.notAvailable")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.postalCode")}),s.jsx("p",{className:"font-medium",children:m.shippingAddress.postalCode||e("common.notAvailable")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.country")}),s.jsx("p",{className:"font-medium",children:m.shippingAddress.country||e("common.notAvailable")})]})]})]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:e("dashboard.orders.noShippingInfo")})]})}),s.jsx(je,{className:"bg-gray-50/50 dark:bg-gray-900/50 border-none",children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-primary",children:[s.jsx(ca,{className:"h-4 w-4"}),e("dashboard.orders.paymentDetails")]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.paymentMethod")}),s.jsx("p",{className:"font-medium",children:m.paymentMethod||e("common.notAvailable")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e("dashboard.orders.paymentStatus")}),s.jsx("p",{className:"font-medium",children:m.paymentStatus||e("common.notAvailable")})]}),m.ipAddress&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"IP Address"}),s.jsx("p",{className:"font-mono text-xs",children:m.ipAddress})]})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-primary"}),e("dashboard.orders.products")]}),s.jsxs(Ze,{variant:"outline",children:[((St=m.items)==null?void 0:St.length)||0," ",e("dashboard.orders.items")]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(ts,{children:[s.jsx(rs,{className:"bg-gray-50 dark:bg-gray-900",children:s.jsxs(jt,{children:[s.jsx(Ee,{className:`w-[40%] ${r?"text-right":"text-left"}`,children:e("dashboard.orders.productName")}),s.jsx(Ee,{className:"text-center",children:e("dashboard.reports.quantity")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("dashboard.products.price")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("dashboard.reports.itemTotal")})]})}),s.jsx(ss,{children:(gt=m.items)==null?void 0:gt.map((we,le)=>{var Ye,ct;return s.jsxs(jt,{children:[s.jsxs(ke,{className:r?"text-right":"text-left",children:[s.jsx("div",{className:"font-medium",children:((Ye=we.product)==null?void 0:Ye.nameAr)||((ct=we.product)==null?void 0:ct.name)}),we.variantName&&s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[e("dashboard.products.variant"),": ",we.variantName]})]}),s.jsx(ke,{className:"text-center font-mono",children:we.quantity}),s.jsxs(ke,{className:`font-mono ${r?"text-right":"text-left"}`,children:[(we.price??0).toFixed(2)," ",e("common.currency")]}),s.jsxs(ke,{className:`font-mono font-semibold ${r?"text-right":"text-left"}`,children:[((we.price??0)*(we.quantity??0)).toFixed(2)," ",e("common.currency")]})]},le)})})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(je,{className:"w-full max-w-sm border-none bg-gray-50/50 dark:bg-gray-900/50",children:s.jsxs(Ce,{className:"pt-6 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:e("dashboard.reports.subtotal")}),s.jsxs("span",{className:"font-mono",children:[(m.subtotal??0).toFixed(2)," ",e("common.currency")]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:e("dashboard.reports.tax")}),s.jsxs("span",{className:"font-mono",children:[(m.tax??0).toFixed(2)," ",e("common.currency")]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:e("dashboard.orders.shipping")}),s.jsxs("span",{className:"font-mono",children:[(m.shipping??0).toFixed(2)," ",e("common.currency")]})]}),(m.discount??0)>0&&s.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[s.jsx("span",{children:e("categories.offers.discountPercent")}),s.jsxs("span",{className:"font-mono",children:["-",(m.discount??0).toFixed(2)," ",e("common.currency")]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-3 mt-3",children:[s.jsx("span",{children:e("dashboard.reports.total")}),s.jsxs("span",{className:"text-primary font-mono",children:[(m.total??0).toFixed(2)," ",e("common.currency")]})]})]})})})]}),s.jsxs(Vr,{className:"border-t pt-4 gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>x(!1),children:e("common.close")}),s.jsxs(z,{className:"gap-2",onClick:()=>m&&Br(m),children:[s.jsx(_L,{className:"h-4 w-4"}),e("dashboard.orders.printInvoice")]})]})]})}),s.jsx(Qt,{open:Y,onOpenChange:U,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-destructive"}),e("dashboard.orders.rejectionReason","Rejection Reason")]}),s.jsx(ur,{children:e("dashboard.orders.rejectionReasonDescription","The reason why this top-up request was rejected")})]}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:Z||e("dashboard.orders.noReasonProvided","No reason provided")})})}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>U(!1),children:e("common.close","Close")})})]})}),s.jsx(Qt,{open:M,onOpenChange:G,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"text-2xl flex items-center gap-2",children:[s.jsx(ca,{className:"h-6 w-6 text-primary"}),e("dashboard.orders.topupDetails")]}),s.jsx(ur,{children:V&&vr(V.createdAt)})]}),V&&s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.user")}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:V.user.name||e("dashboard.orders.customer")}),s.jsx("p",{className:"text-sm text-gray-500",children:V.user.email})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.amount")}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Number(V.amount).toFixed(2)," ",V.currency||e("common.currency")]}),s.jsx("p",{className:"text-sm text-gray-500",children:e("dashboard.orders.requestAmount")})]})]})]}),V.bank&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.bank")}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("dashboard.orders.bankName")}),s.jsx("p",{className:"font-medium",children:V.bank.nameAr||V.bank.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("dashboard.orders.accountNumber")}),s.jsx("p",{className:"font-medium font-mono",children:V.bank.accountNumber})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.receiptImage")}),V.proofImage?s.jsxs("div",{className:"space-y-2",children:[s.jsx("img",{src:V.proofImage,alt:e("dashboard.orders.receiptImage"),className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700",onError:we=>{we.target.style.display="none"}}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>window.open(V.proofImage,"_blank"),className:"gap-2",children:[s.jsx(Ni,{className:"h-4 w-4"}),e("dashboard.orders.viewFullImage")]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(Ni,{className:"h-5 w-5"}),s.jsx("span",{children:e("dashboard.orders.noImage")})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.status")}),s.jsx("div",{children:st(V.status)})]}),V.status==="REJECTED"&&V.rejectionReason&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.rejectionReason","Rejection Reason")}),s.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:V.rejectionReason})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold border-b pb-2",children:e("dashboard.orders.requestDate")}),s.jsx("p",{className:"text-sm",children:vr(V.createdAt)})]})]}),s.jsxs(Vr,{className:"border-t pt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>G(!1),children:e("common.close")}),V&&s.jsx(s.Fragment,{children:V.status==="REJECTED"&&V.rejectionReason?s.jsxs(z,{variant:"outline",className:"text-orange-600 dark:text-orange-500 border-orange-600 dark:border-orange-500 hover:text-orange-700 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-950",onClick:()=>{G(!1),J(V.rejectionReason||""),U(!0)},children:[s.jsx(lb,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.viewRejectionReason","View Rejection Reason")]}):V.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"outline",className:"text-green-600 dark:text-green-500 border-green-600 dark:border-green-500 hover:text-green-700 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-950",onClick:()=>{G(!1),as(V.id)},disabled:_===V.id,children:[_===V.id?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsx(Ba,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.approve")]}),s.jsxs(z,{variant:"outline",className:"text-red-600 dark:text-red-500 border-red-600 dark:border-red-500 hover:text-red-700 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",onClick:()=>{G(!1),L(V),I(!0)},disabled:_===V.id,children:[s.jsx(hr,{className:"h-4 w-4 ml-1"}),e("dashboard.orders.reject")]})]}):null})]})]})}),s.jsx(Qt,{open:F,onOpenChange:I,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e("dashboard.orders.rejectReason")}),s.jsxs(ur,{children:[e("dashboard.orders.enterRejectReason")," ",R==null?void 0:R.user.email]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(X,{htmlFor:"reject-reason",className:"mb-2 block",children:e("dashboard.orders.rejectReason")}),s.jsx(Fs,{id:"reject-reason",placeholder:e("dashboard.orders.enterRejectReason"),value:H,onChange:we=>W(we.target.value),rows:4})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>I(!1),children:e("dashboard.orders.cancel")}),s.jsx(z,{variant:"destructive",onClick:Se,disabled:!H.trim()||_===(R==null?void 0:R.id),children:_===(R==null?void 0:R.id)?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):e("dashboard.orders.reject")})]})]})}),s.jsx(Qt,{open:B,onOpenChange:Ne,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e("dashboard.orders.rejectOrder")||" "}),s.jsxs(ur,{children:[e("dashboard.orders.enterRejectReasonOrder")||"    "," #",(ye==null?void 0:ye.orderNumber)||(ye==null?void 0:ye.id)]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(X,{htmlFor:"order-reject-reason",className:"mb-2 block",children:e("dashboard.orders.rejectReason")||" "}),s.jsx(Fs,{id:"order-reject-reason",placeholder:e("dashboard.orders.enterRejectReason")||"  ...",value:qe,onChange:we=>He(we.target.value),rows:4})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>{Ne(!1),He(""),Re(null)},children:e("dashboard.orders.cancel")||""}),s.jsx(z,{variant:"destructive",onClick:de,disabled:!qe.trim()||fe===(ye==null?void 0:ye.id),children:fe===(ye==null?void 0:ye.id)?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):e("dashboard.orders.reject")||""})]})]})}),s.jsx(Qt,{open:Y,onOpenChange:U,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-destructive"}),e("dashboard.orders.rejectionReason","Rejection Reason")]}),s.jsx(ur,{children:e("dashboard.orders.rejectionReasonDescription","The reason why this top-up request was rejected")})]}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:Z||e("dashboard.orders.noReasonProvided","No reason provided")})})}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>U(!1),children:e("common.close","Close")})})]})})]})}const J0=k3,MA=C3,Dct=A3,Aoe=f.forwardRef(({className:e,...t},r)=>s.jsx(lj,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Aoe.displayName=lj.displayName;const Oct=g0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ip=f.forwardRef(({side:e="right",className:t,children:r,...a},n)=>s.jsxs(Dct,{children:[s.jsx(Aoe,{}),s.jsxs(cj,{ref:n,className:be(Oct({side:e}),t),...a,children:[r,s.jsxs(uA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(hr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ip.displayName=cj.displayName;const Z0=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Z0.displayName="SheetHeader";const Eoe=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Eoe.displayName="SheetFooter";const ev=f.forwardRef(({className:e,...t},r)=>s.jsx(dj,{ref:r,className:be("text-lg font-semibold text-foreground",e),...t}));ev.displayName=dj.displayName;const LA=f.forwardRef(({className:e,...t},r)=>s.jsx(uj,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));LA.displayName=uj.displayName;function Ict(){return DK.useSyncExternalStore(Rct,()=>!0,()=>!1)}function Rct(){return()=>{}}var BF="Avatar",[Fct,Lgt]=qa(BF),[Mct,Poe]=Fct(BF),Toe=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[n,i]=f.useState("idle");return s.jsx(Mct,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:s.jsx(Lt.span,{...a,ref:t})})});Toe.displayName=BF;var _oe="AvatarImage",Doe=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{},...i}=e,o=Poe(_oe,r),l=Lct(a,i),c=Ma(d=>{n(d),o.onImageLoadingStatusChange(d)});return tn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Lt.img,{...i,ref:t,src:a}):null});Doe.displayName=_oe;var Ooe="AvatarFallback",Ioe=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...n}=e,i=Poe(Ooe,r),[o,l]=f.useState(a===void 0);return f.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Lt.span,{...n,ref:t}):null});Ioe.displayName=Ooe;function vz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lct(e,{referrerPolicy:t,crossOrigin:r}){const a=Ict(),n=f.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=f.useState(()=>vz(i,e));return tn(()=>{l(vz(i,e))},[i,e]),tn(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var Roe=Toe,Foe=Doe,Moe=Ioe;const mp=f.forwardRef(({className:e,...t},r)=>s.jsx(Roe,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));mp.displayName=Roe.displayName;const fp=f.forwardRef(({className:e,...t},r)=>s.jsx(Foe,{ref:r,className:be("aspect-square h-full w-full",e),...t}));fp.displayName=Foe.displayName;const pp=f.forwardRef(({className:e,...t},r)=>s.jsx(Moe,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pp.displayName=Moe.displayName;function $ct(){const{t:e,i18n:t}=Ct(),{toast:r}=Rt(),a=t.language==="ar",[n,i]=f.useState(t.language);f.useEffect(()=>{const se=()=>{i(t.language)};t.on("languageChanged",se);const B=()=>{i(t.language)};return window.addEventListener("languagechange",B),window.addEventListener("i18n:languageChanged",B),()=>{t.off("languageChanged",se),window.removeEventListener("languagechange",B),window.removeEventListener("i18n:languageChanged",B)}},[t]),f.useEffect(()=>{console.log(" CustomersManager - Language:",t.language),console.log(" CustomersManager - Title translation:",e("dashboard.customers.title")),console.log(" CustomersManager - isRTL:",a)},[t.language,e,a]);const[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,p]=f.useState(""),[g,x]=f.useState("all"),[y,w]=f.useState(!1),[b,v]=f.useState(!1),[N,j]=f.useState(null),[k,S]=f.useState({name:"",description:"",minPoints:0,benefits:""}),[C,A]=f.useState({name:"",email:"",phone:""}),[E,D]=f.useState(1),[P,T]=f.useState(20),[_,O]=f.useState(0),[F,I]=f.useState(1),R=()=>{A({name:"",email:"",phone:""}),v(!0)},L=()=>{j(null),S({name:"",description:"",minPoints:0,benefits:""}),w(!0)},H=se=>{j(se),S({name:se.name,description:se.description,minPoints:se.minPoints,benefits:se.benefits.join(", ")}),w(!0)},W=(se,B)=>{S(Ne=>({...Ne,[se]:B}))},M=async()=>{try{r({title:e("dashboard.customers.addCustomer"),description:e("dashboard.customers.addCustomerSuccess"),variant:"default"}),v(!1)}catch(se){console.error("Customer submit error",se),r({title:e("dashboard.customers.addCustomerError"),description:e("common.errorOccurred"),variant:"destructive"})}},G=async()=>{try{const se={name:k.name,description:k.description,minPoints:Number(k.minPoints),benefits:k.benefits.split(",").map(B=>B.trim()).filter(Boolean)};N?(await he.put(`/dashboard/loyalty-programs/${N.id}`,se),r({title:e("dashboard.customers.saveProgramSuccess"),variant:"default"})):(await he.post("/dashboard/loyalty-programs",se),r({title:e("dashboard.customers.saveProgramSuccess"),variant:"default"})),w(!1),q()}catch(se){console.error("Program submit error",se),r({title:e("dashboard.customers.saveProgramError"),description:e("common.errorOccurred"),variant:"destructive"})}},V=f.useCallback(async()=>{try{h(!0);const se=await he.get(`/dashboard/customers?page=${E}&limit=${P}`,{requireAuth:!0});if(se&&"data"in se&&"meta"in se)l(se.data),O(se.meta.total),I(se.meta.totalPages);else{const B=Array.isArray(se)?se:se.customers||[];l(B),O(B.length),I(1)}}catch(se){console.error("Failed to load customers:",se),r({title:e("dashboard.customers.loadCustomersError"),description:e("common.errorOccurred"),variant:"destructive"}),l([])}finally{h(!1)}},[r,e,E,P]),q=f.useCallback(async()=>{try{const se=await he.get("/dashboard/loyalty-programs",{requireAuth:!0});d(Array.isArray(se)?se:se.programs||[])}catch(se){console.error("Failed to load loyalty programs:",se),d([])}},[]);f.useEffect(()=>{V(),q()},[V,q]);const Y=se=>{const B={gold:{label:e("dashboard.customers.gold"),className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20"},silver:{label:e("dashboard.customers.silver"),className:"bg-gray-500/10 text-gray-700 border-gray-500/20"},bronze:{label:e("dashboard.customers.bronze"),className:"bg-orange-500/10 text-orange-700 border-orange-500/20"}},Ne=B[se]||B.bronze;return s.jsxs(Ze,{variant:"outline",className:Ne.className,children:[s.jsx(ef,{className:`h-3 w-3 ${t.language==="ar"?"ml-1":"mr-1"}`}),Ne.label]})},U=se=>se.split(" ").map(B=>B[0]).join("").toUpperCase().slice(0,2),Z=o.filter(se=>{const B=se.name.toLowerCase().includes(m.toLowerCase())||se.email.toLowerCase().includes(m.toLowerCase()),Ne=g==="all"||se.loyaltyTier===g;return B&&Ne}),J=()=>{e("dashboard.customers.exportHeaders.id"),e("dashboard.customers.exportHeaders.name"),e("dashboard.customers.exportHeaders.email"),e("dashboard.customers.exportHeaders.phone"),e("dashboard.customers.exportHeaders.totalOrders"),e("dashboard.customers.exportHeaders.totalSpent"),e("dashboard.customers.exportHeaders.loyaltyPoints"),e("dashboard.customers.exportHeaders.loyaltyTier"),e("dashboard.customers.exportHeaders.createdAt"),e("dashboard.customers.exportHeaders.lastOrderDate");const se=o.map(ye=>({[e("dashboard.customers.exportHeaders.id")]:ye.id,[e("dashboard.customers.exportHeaders.name")]:ye.name,[e("dashboard.customers.exportHeaders.email")]:ye.email,[e("dashboard.customers.exportHeaders.phone")]:ye.phone||"",[e("dashboard.customers.exportHeaders.totalOrders")]:ye.totalOrders||0,[e("dashboard.customers.exportHeaders.totalSpent")]:ye.totalSpent||0,[e("dashboard.customers.exportHeaders.loyaltyPoints")]:ye.loyaltyPoints||0,[e("dashboard.customers.exportHeaders.loyaltyTier")]:ye.loyaltyTier||"",[e("dashboard.customers.exportHeaders.createdAt")]:ye.createdAt||"",[e("dashboard.customers.exportHeaders.lastOrderDate")]:ye.lastOrderDate||""})),B=$r.json_to_sheet(se),Ne=$r.book_new();$r.book_append_sheet(Ne,B,e("dashboard.customers.title")),Du(Ne,`${e("dashboard.customers.title")}_export.xlsx`)},K=async se=>{var Ne;const B=(Ne=se.target.files)==null?void 0:Ne[0];if(B)try{const ye=await B.arrayBuffer(),Re=fm(ye),qe=Re.Sheets[Re.SheetNames[0]],He=$r.sheet_to_json(qe);r({title:e("dashboard.customers.importProcessed"),description:e("dashboard.customers.importProcessedDesc",{count:He.length})}),se.target.value=""}catch(ye){const Re=ye instanceof Error?ye.message:e("common.errorOccurred");r({title:e("common.error"),description:Re,variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.customers.title")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.customers.subtitle")})]}),s.jsxs(z,{className:"gap-2",onClick:R,children:[s.jsx(jd,{className:"h-4 w-4"}),e("dashboard.customers.addCustomer")]})]}),s.jsxs(Yn,{defaultValue:"customers",className:"w-full",children:[s.jsxs(_n,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(Ar,{value:"customers",children:[e("dashboard.customers.tabs.customers")," (",o.length,")"]}),s.jsxs(Ar,{value:"loyalty",children:[e("dashboard.customers.tabs.loyalty")," (",c.length,")"]})]}),s.jsxs(ls,{value:"customers",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(je,{className:"border-l-4 border-l-blue-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.totalCustomers")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:o.length})]}),s.jsx(mr,{className:"h-8 w-8 text-blue-500 opacity-50"})]})})}),s.jsx(je,{className:"border-l-4 border-l-yellow-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.goldCustomers")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:o.filter(se=>se.loyaltyTier==="gold").length})]}),s.jsx(ef,{className:"h-8 w-8 text-yellow-500 opacity-50"})]})})}),s.jsx(je,{className:"border-l-4 border-l-green-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.averageSpending")}),s.jsxs("p",{className:"text-2xl font-bold mt-1",children:[(o.reduce((se,B)=>se+B.totalSpent,0)/o.length||0).toFixed(0)," ",e("common.currency")]})]}),s.jsx(Wo,{className:"h-8 w-8 text-green-500 opacity-50"})]})})}),s.jsx(je,{className:"border-l-4 border-l-purple-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("dashboard.customers.totalPoints")}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:o.reduce((se,B)=>se+B.loyaltyPoints,0)})]}),s.jsx(ef,{className:"h-8 w-8 text-purple-500 opacity-50"})]})})})]}),s.jsxs(je,{children:[s.jsx(et,{className:"border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:`absolute ${t.language==="ar"?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400`}),s.jsx(me,{placeholder:e("dashboard.customers.searchPlaceholder"),value:m,onChange:se=>p(se.target.value),className:t.language==="ar"?"pr-10":"pl-10"})]}),s.jsxs(nr,{value:g,onValueChange:x,children:[s.jsxs(Jt,{className:"w-[180px]",children:[s.jsx(wu,{className:`h-4 w-4 ${t.language==="ar"?"ml-2":"mr-2"}`}),s.jsx(cr,{placeholder:e("dashboard.customers.filterTier")})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("dashboard.customers.allTiers")}),s.jsx(Oe,{value:"gold",children:e("dashboard.customers.gold")}),s.jsx(Oe,{value:"silver",children:e("dashboard.customers.silver")}),s.jsx(Oe,{value:"bronze",children:e("dashboard.customers.bronze")})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",className:"gap-2",onClick:J,children:[s.jsx(Za,{className:"h-4 w-4"}),e("dashboard.customers.export")]}),s.jsxs("div",{className:"relative",children:[s.jsx(me,{type:"file",accept:".xlsx, .xls",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:K}),s.jsxs(z,{variant:"outline",className:"gap-2",children:[s.jsx(Gn,{className:"h-4 w-4"}),e("dashboard.customers.import")]})]})]})]})}),s.jsxs(Ce,{className:"p-0",children:[u?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):Z.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.customers.noResults")}),s.jsx("p",{className:"text-gray-500",children:e("dashboard.customers.noResultsDesc")})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{className:"w-full table-auto",children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.customer")}),s.jsx(Ee,{className:`font-semibold min-w-[200px] ${a?"text-right":"text-left"}`,children:e("dashboard.customers.contactInfo")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.orders")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.totalSpent")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.loyaltyPoints")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.tier")}),s.jsx(Ee,{className:`font-semibold w-32 whitespace-nowrap ${a?"text-right":"text-left"}`,children:e("dashboard.customers.lastOrder")})]})}),s.jsx(ss,{children:Z.map(se=>s.jsxs(jt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx(ke,{className:a?"text-right":"text-left",children:s.jsxs("div",{className:`flex items-center gap-3 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[s.jsxs(mp,{children:[s.jsx(fp,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${se.name}`}),s.jsx(pp,{children:U(se.name)})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium break-words",children:se.name}),s.jsxs("p",{className:"text-sm text-gray-500 break-words",children:[e("dashboard.customers.memberSince")," ",new Date(se.createdAt).toLocaleDateString(a?"ar-SA":"en-US")]})]})]})}),s.jsx(ke,{className:a?"text-right":"text-left",children:s.jsxs("div",{className:"space-y-1 min-w-0",children:[s.jsxs("div",{className:`flex items-center gap-2 text-sm ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[s.jsx(la,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"break-words",children:se.email})]}),se.phone&&s.jsxs("div",{className:`flex items-center gap-2 text-sm text-gray-500 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[s.jsx(Si,{className:"h-3 w-3"}),s.jsx("span",{className:"break-words",children:se.phone})]})]})}),s.jsx(ke,{className:a?"text-right":"text-left",children:s.jsxs(Ze,{variant:"secondary",children:[se.totalOrders," ",e("dashboard.customers.orders")]})}),s.jsxs(ke,{className:`font-semibold ${a?"text-right":"text-left"}`,children:[se.totalSpent.toFixed(2)," ",e("common.currency")]}),s.jsx(ke,{className:a?"text-right":"text-left",children:s.jsxs("div",{className:`flex items-center gap-2 ${a?"flex-row-reverse justify-end":"justify-start"}`,children:[s.jsx(ef,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:se.loyaltyPoints})]})}),s.jsx(ke,{className:a?"text-right":"text-left",children:Y(se.loyaltyTier)}),s.jsx(ke,{className:`text-sm text-gray-500 ${a?"text-right":"text-left"}`,children:se.lastOrderDate?new Date(se.lastOrderDate).toLocaleDateString(a?"ar-SA":"en-US"):"-"})]},se.id))})]})}),!u&&_>0&&s.jsx(Qh,{currentPage:E,totalPages:F,totalItems:_,itemsPerPage:P,onPageChange:D,onItemsPerPageChange:T,itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]})]})]}),s.jsxs(ls,{value:"loyalty",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-gray-500",children:e("dashboard.customers.loyaltyDesc")}),s.jsxs(z,{className:"gap-2",onClick:L,children:[s.jsx(jd,{className:"h-4 w-4"}),e("dashboard.customers.createProgram")]})]}),c.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"py-12 text-center",children:[s.jsx(ef,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.customers.noPrograms")}),s.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.customers.noProgramsDesc")}),s.jsxs(z,{onClick:L,children:[s.jsx(jd,{className:`h-4 w-4 ${t.language==="ar"?"ml-2":"mr-2"}`}),e("dashboard.customers.createProgram")]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(se=>s.jsxs(je,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(ef,{className:"h-6 w-6 text-primary"})}),s.jsxs(Ze,{variant:"secondary",children:[se.members," ",e("dashboard.customers.members")]})]}),s.jsx(at,{className:"mt-4",children:se.name}),s.jsx(Vt,{children:se.description})]}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:[e("dashboard.customers.minPoints"),":"]}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:se.minPoints})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:[e("dashboard.customers.benefits"),":"]}),s.jsx("ul",{className:"space-y-1",children:se.benefits.map((B,Ne)=>s.jsxs("li",{className:"text-sm text-gray-500 flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),B]},Ne))})]}),s.jsx(z,{variant:"outline",className:"w-full",onClick:()=>H(se),children:e("dashboard.customers.editProgram")})]})})]},se.id))})]})]}),s.jsx(J0,{open:y,onOpenChange:w,children:s.jsxs(Ip,{className:"sm:max-w-[540px]",children:[s.jsxs(Z0,{children:[s.jsx(ev,{children:e(N?"dashboard.customers.editProgramTitle":"dashboard.customers.createProgramTitle")}),s.jsx(LA,{children:e(N?"dashboard.customers.editProgramTitle":"dashboard.customers.createProgramTitle")})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"program-name",children:e("dashboard.customers.programName")}),s.jsx(me,{id:"program-name",value:k.name,onChange:se=>W("name",se.target.value),placeholder:e("dashboard.customers.gold")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"program-description",children:e("dashboard.customers.description")}),s.jsx(Fs,{id:"program-description",value:k.description,onChange:se=>W("description",se.target.value),placeholder:e("dashboard.customers.description"),rows:3})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"program-min-points",children:e("dashboard.customers.minPoints")}),s.jsx(me,{id:"program-min-points",type:"number",value:k.minPoints,onChange:se=>W("minPoints",parseInt(se.target.value)||0),placeholder:"0"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{htmlFor:"program-benefits",children:[e("dashboard.customers.benefits")," (",e("dashboard.customers.benefitsHint"),")"]}),s.jsx(Fs,{id:"program-benefits",value:k.benefits,onChange:se=>W("benefits",se.target.value),placeholder:e("dashboard.customers.benefitsPlaceholder"),rows:4}),s.jsx("p",{className:"text-xs text-gray-500",children:e("dashboard.customers.benefitsHint")})]})]}),s.jsxs(Eoe,{children:[s.jsx(z,{variant:"outline",onClick:()=>w(!1),children:e("common.cancel")}),s.jsx(z,{onClick:G,children:e(N?"common.saveChanges":"dashboard.customers.createProgram")})]})]})}),s.jsx(Qt,{open:b,onOpenChange:v,children:s.jsxs(Yt,{className:"sm:max-w-[425px]",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e("dashboard.customers.addNewCustomer")}),s.jsx(ur,{children:e("dashboard.customers.addCustomerDesc")})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"customer-name",children:e("dashboard.customers.name")}),s.jsx(me,{id:"customer-name",value:C.name,onChange:se=>A(B=>({...B,name:se.target.value})),placeholder:e("dashboard.customers.name")})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"customer-email",children:e("dashboard.customers.email")}),s.jsx(me,{id:"customer-email",type:"email",value:C.email,onChange:se=>A(B=>({...B,email:se.target.value})),placeholder:"example@email.com"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"customer-phone",children:e("dashboard.customers.phone")}),s.jsx(me,{id:"customer-phone",type:"tel",value:C.phone,onChange:se=>A(B=>({...B,phone:se.target.value})),placeholder:"+966500000000"})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>v(!1),children:e("common.cancel")}),s.jsx(z,{onClick:M,disabled:!C.name||!C.email,children:e("dashboard.customers.addCustomer")})]})]})})]},n)}function Bct(e){return{SAR:".",AED:".",USD:"$",EUR:"",GBP:"",JPY:"",KWD:".",BHD:"..",OMR:"..",QAR:".",EGP:".",JOD:".",LBP:".",TND:".",DZD:".",MAD:"."}[e]||e}function $n(e,t,r){const a=typeof e=="string"?parseFloat(e):e,n=Bct(t);return`${a.toLocaleString("ar-SA",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n}`}const yz=["#06b6d4","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function Uct(){const{t:e,i18n:t}=Ct(),[r,a]=f.useState("30days"),[n,i]=f.useState("sales"),[o,l]=f.useState(!0),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,w]=f.useState([]),[b,v]=f.useState([]),[N,j]=f.useState("revenue"),[k,S]=f.useState([]),[C,A]=f.useState(1),[E,D]=f.useState(20),[P,T]=f.useState(0),[_,O]=f.useState(1),[F,I]=f.useState(!1),R=Y=>{const U=new Date;let Z;const J=new Date(U);let K,se;switch(Y){case"7days":Z=new Date(U),Z.setDate(Z.getDate()-7),se=new Date(Z),K=new Date(se),K.setDate(K.getDate()-7);break;case"30days":Z=new Date(U),Z.setDate(Z.getDate()-30),se=new Date(Z),K=new Date(se),K.setDate(K.getDate()-30);break;case"90days":Z=new Date(U),Z.setDate(Z.getDate()-90),se=new Date(Z),K=new Date(se),K.setDate(K.getDate()-90);break;case"year":Z=new Date(U.getFullYear(),0,1),se=new Date(Z),K=new Date(U.getFullYear()-1,0,1),se=new Date(U.getFullYear()-1,11,31,23,59,59);break;default:Z=new Date(U),Z.setDate(Z.getDate()-30),se=new Date(Z),K=new Date(se),K.setDate(K.getDate()-30)}return{currentStart:Z,currentEnd:J,previousStart:K,previousEnd:se}},L=f.useCallback(async()=>{var Y,U;try{l(!0);const{currentStart:Z,currentEnd:J,previousStart:K,previousEnd:se}=R(r),[B,Ne,ye,Re,qe]=await Promise.all([he.getOrders(),he.get("/dashboard/stats"),Ah.getProductReport({page:C,limit:E}),Ah.getCustomerReport(),Ah.getPaymentReport()]),He=Array.isArray(B)?B:(B==null?void 0:B.orders)||[],fe=He.filter(xe=>{const Ie=new Date(xe.createdAt);return Ie>=Z&&Ie<=J}),Ue=fe.reduce((xe,Ie)=>xe+Number(Ie.total||0),0),ie=fe.length,Pe=He.filter(xe=>{const Ie=new Date(xe.createdAt);return Ie>=K&&Ie<=se}),Te=Pe.reduce((xe,Ie)=>xe+Number(Ie.total||0),0),Ve=Pe.length;h({...Ne,revenue:Ue,orderCount:ie}),p({revenue:Te,orderCount:Ve,productCount:Ne.productCount,customerCount:Ne.customerCount});const Le=ye&&"data"in ye?ye:{data:Array.isArray(ye)?ye:[],meta:{total:0,totalPages:1}};x(Le.data),T(((Y=Le.meta)==null?void 0:Y.total)||Le.data.length),O(((U=Le.meta)==null?void 0:U.totalPages)||1),w(Re),v(qe);const de=M(fe);S(de),d(de)}catch(Z){console.error("Failed to load report data:",Z),h({orderCount:0,revenue:0,productCount:0,customerCount:0}),p({orderCount:0,revenue:0,productCount:0,customerCount:0}),d([])}finally{l(!1)}},[r,C,E]),H=f.useCallback(async()=>{var Y,U;try{I(!0);const Z=await Ah.getProductReport({page:C,limit:E}),J=Z&&"data"in Z?Z:{data:Array.isArray(Z)?Z:[],meta:{total:0,totalPages:1}};x(J.data),T(((Y=J.meta)==null?void 0:Y.total)||J.data.length),O(((U=J.meta)==null?void 0:U.totalPages)||1)}catch(Z){console.error("Failed to load products:",Z)}finally{I(!1)}},[C,E]);f.useEffect(()=>{o||H()},[C,E,H,o]),f.useEffect(()=>{L()},[L,r]);const W=()=>{const{currentStart:Y,currentEnd:U}=R(r),Z=t.language==="ar"?"ar-SA":"en-US",J={year:"numeric",month:"long",day:"numeric"};return`${Y.toLocaleDateString(Z,J)} - ${U.toLocaleDateString(Z,J)}`},M=Y=>{const U=new Map,Z=new Date;for(let J=6;J>=0;J--){const K=new Date(Z);K.setDate(K.getDate()-J);const se=`${K.getDate()}/${K.getMonth()+1}`;U.set(se,{name:se,revenue:0,orders:0})}return Y.forEach(J=>{const K=new Date(J.createdAt),se=`${K.getDate()}/${K.getMonth()+1}`;if(U.has(se)){const B=U.get(se);B.revenue+=Number(J.total||0),B.orders+=1}}),Array.from(U.values())},G=(Y,U)=>{if(U===0)return Y>0?{change:100,trend:"up"}:{change:0,trend:"up"};const Z=(Y-U)/U*100;return{change:Math.abs(Z),trend:Z>=0?"up":"down"}},V=f.useCallback(()=>{const Y=$r.book_new(),Z=(k.length>0?k:c).map((Ue,ie)=>({Date:Ue.name,Revenue:Ue.revenue,Orders:Ue.orders})),J=$r.json_to_sheet(Z);$r.book_append_sheet(Y,J,"Sales Report");const K=g.map(Ue=>({Product:Ue.name,Sales:Ue.salesCount,Revenue:Ue.revenue})),se=$r.json_to_sheet(K);$r.book_append_sheet(Y,se,"Products Report");const B=y.map(Ue=>({Name:Ue.name,Email:Ue.email,Orders:Ue.orders,TotalSpent:Ue.totalSpent})),Ne=$r.json_to_sheet(B);$r.book_append_sheet(Y,Ne,"Customers Report");const ye=b.map(Ue=>({Provider:Ue.provider,Volume:Ue.volume,Net:Ue.net,Fees:Ue.fees,Currency:Ue.currency||"SAR"})),Re=$r.json_to_sheet(ye);$r.book_append_sheet(Y,Re,"Payments Report");const{currentStart:qe,currentEnd:He}=R(r),fe=`reports_${qe.toISOString().split("T")[0]}_to_${He.toISOString().split("T")[0]}.xlsx`;Du(Y,fe)},[r,k,c,g,y,b]);f.useEffect(()=>{const Y=()=>{V()};return window.addEventListener("exportReports",Y),()=>{window.removeEventListener("exportReports",Y)}},[V]);const q=({title:Y,value:U,change:Z,trend:J,icon:K})=>s.jsx(je,{className:"border-l-4 border-l-cyan-500",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:Y}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("h3",{className:"text-2xl font-bold",children:U}),Z!==void 0&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${J==="up"?"text-green-600":"text-red-600"}`,children:[J==="up"?s.jsx(o2,{className:"h-4 w-4"}):s.jsx(hG,{className:"h-4 w-4"}),Math.abs(Z),"%"]})]})]}),s.jsx("div",{className:"p-3 rounded-lg bg-cyan-500/10",children:s.jsx(K,{className:"h-5 w-5 text-cyan-600"})})]})})});return o?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:e("dashboard.reports.loading")})]})}):s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("dashboard.reports.title")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:W()})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(nr,{value:r,onValueChange:a,children:[s.jsxs(Jt,{className:"w-[200px]",children:[s.jsx(ji,{className:"h-4 w-4 ml-2"}),s.jsx(cr,{placeholder:e("dashboard.reports.selectDateRange"," ")})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"7days",children:e("dashboard.reports.last7Days")}),s.jsx(Oe,{value:"30days",children:e("dashboard.reports.last30Days")}),s.jsx(Oe,{value:"90days",children:e("dashboard.reports.last90Days")}),s.jsx(Oe,{value:"year",children:e("dashboard.reports.thisYear")})]})]}),s.jsxs(z,{variant:"outline",className:"gap-2",onClick:V,children:[s.jsx(Za,{className:"h-4 w-4"}),e("dashboard.reports.export")]})]})]}),s.jsxs(Yn,{value:n,onValueChange:i,className:"w-full",children:[s.jsxs(_n,{className:"grid w-full max-w-2xl grid-cols-4",children:[s.jsx(Ar,{value:"sales",children:e("dashboard.reports.sales")}),s.jsx(Ar,{value:"products",children:e("dashboard.reports.products")}),s.jsx(Ar,{value:"customers",children:e("dashboard.reports.customers")}),s.jsx(Ar,{value:"payments",children:e("dashboard.reports.payments")})]}),s.jsxs(ls,{value:"sales",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(q,{title:e("dashboard.reports.totalSales"),value:`${(u==null?void 0:u.revenue.toFixed(2))||"0.00"} ${e("common.currency","SAR")}`,...m?G((u==null?void 0:u.revenue)||0,m.revenue):{},icon:pn}),s.jsx(q,{title:e("dashboard.reports.orders"),value:(u==null?void 0:u.orderCount)||0,...m?G((u==null?void 0:u.orderCount)||0,m.orderCount):{},icon:Dr}),s.jsx(q,{title:e("dashboard.reports.products"),value:(u==null?void 0:u.productCount)||0,icon:Tt}),s.jsx(q,{title:e("dashboard.reports.customers"),value:(u==null?void 0:u.customerCount)||0,icon:mr})]}),s.jsxs(je,{children:[s.jsx(et,{className:"border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(at,{children:e("dashboard.reports.salesAnalysis")}),s.jsx(Vt,{children:e("dashboard.reports.salesAndRevenueTrends")})]}),s.jsxs(nr,{value:N,onValueChange:Y=>{if(j(Y),Y==="orders"){const U=k.map(Z=>({...Z,revenue:Z.orders}));d(U)}else d(k)},children:[s.jsx(Jt,{className:"w-[180px]",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"revenue",children:e("dashboard.reports.revenue")}),s.jsx(Oe,{value:"orders",children:e("dashboard.reports.orders")})]})]})]})}),s.jsx(Ce,{className:"pt-6",children:s.jsx(a5,{width:"100%",height:400,children:s.jsxs(ure,{data:c,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.1}),s.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:0})]})}),s.jsx(y3,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(ij,{dataKey:"name",stroke:"#888",fontSize:12}),s.jsx(oj,{stroke:"#888",fontSize:12}),s.jsx(_l,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),s.jsx(Bu,{type:"monotone",dataKey:"revenue",stroke:"#06b6d4",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})]}),s.jsx(ls,{value:"products",className:"space-y-6",children:s.jsxs(je,{children:[s.jsx(et,{className:"border-b",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(at,{children:[e("dashboard.reports.productPerformance")," (",P,")"]}),s.jsx(Vt,{children:e("dashboard.reports.topSellingProducts")})]})})}),s.jsxs(Ce,{className:"pt-6",children:[s.jsx("div",{className:`space-y-4 ${F?"opacity-50":""} transition-opacity`,children:F&&g.length===0?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[g.map(Y=>s.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:Y.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Y.salesCount," ",e("dashboard.reports.sales")," | SKU: ",Y.sku||"N/A"]})]}),s.jsxs("div",{className:"text-left font-medium",children:[Y.revenue.toFixed(2)," ",e("common.currency")]})]},Y.id)),g.length===0&&!F&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noProductData")})]})}),P>0&&s.jsx(Qh,{currentPage:C,totalPages:_,totalItems:P,itemsPerPage:E,onPageChange:A,onItemsPerPageChange:Y=>{D(Y),A(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4 pt-4"})]})]})}),s.jsx(ls,{value:"customers",className:"space-y-6",children:s.jsxs(je,{children:[s.jsxs(et,{className:"border-b",children:[s.jsx(at,{children:e("dashboard.reports.topCustomers")}),s.jsx(Vt,{children:e("dashboard.reports.topBuyers")})]}),s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"space-y-8",children:[y.map(Y=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold mr-4 ml-4",children:Y.name.charAt(0)}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:Y.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.email})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"font-medium",children:[Y.totalSpent.toFixed(2)," ",e("common.currency")]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Y.orders," ",e("dashboard.reports.orders")]})]})]},Y.email)),y.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noCustomerData")})]})})]})}),s.jsx(ls,{value:"payments",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:e("dashboard.reports.paymentDistribution")}),s.jsx(Vt,{children:e("dashboard.reports.transactionVolumeByMethod")})]}),s.jsx(Ce,{className:"flex justify-center",children:s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(a5,{width:"100%",height:"100%",children:s.jsxs(TGe,{children:[s.jsx($u,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"volume",nameKey:"provider",children:b.map((Y,U)=>s.jsx(LC,{fill:yz[U%yz.length]},`cell-${U}`))}),s.jsx(_l,{})]})})})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:e("dashboard.reports.paymentSummary")}),s.jsx(Vt,{children:e("dashboard.reports.feesAndNet")})]}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-8",children:[b.map(Y=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:Y.provider})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-bold",children:$n(Y.volume,Y.currency||"SAR")}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.reports.net"),": ",$n(Y.net,Y.currency||"SAR")," | ",e("dashboard.reports.fees"),": ",$n(Y.fees,Y.currency||"SAR")]})]})]},Y.provider)),b.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:e("dashboard.reports.noPaymentData")})]})})]})]})})]})]})}var $A="Collapsible",[Vct,Loe]=qa($A),[zct,UF]=Vct($A),$oe=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:n,disabled:i,onOpenChange:o,...l}=e,[c,d]=mo({prop:a,defaultProp:n??!1,onChange:o,caller:$A});return s.jsx(zct,{scope:r,disabled:i,contentId:cl(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Lt.div,{"data-state":zF(c),"data-disabled":i?"":void 0,...l,ref:t})})});$oe.displayName=$A;var Boe="CollapsibleTrigger",Uoe=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,n=UF(Boe,r);return s.jsx(Lt.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":zF(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:t,onClick:xt(e.onClick,n.onOpenToggle)})});Uoe.displayName=Boe;var VF="CollapsibleContent",Voe=f.forwardRef((e,t)=>{const{forceMount:r,...a}=e,n=UF(VF,e.__scopeCollapsible);return s.jsx(Pn,{present:r||n.open,children:({present:i})=>s.jsx(Wct,{...a,ref:t,present:i})})});Voe.displayName=VF;var Wct=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:n,...i}=e,o=UF(VF,r),[l,c]=f.useState(a),d=f.useRef(null),u=xr(t,d),h=f.useRef(0),m=h.current,p=f.useRef(0),g=p.current,x=o.open||l,y=f.useRef(x),w=f.useRef(void 0);return f.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),tn(()=>{const b=d.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const v=b.getBoundingClientRect();h.current=v.height,p.current=v.width,y.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),c(a)}},[o.open,a]),s.jsx(Lt.div,{"data-state":zF(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:x&&n})});function zF(e){return e?"open":"closed"}var Hct=$oe,qct=Uoe,Gct=Voe,Kc="Accordion",Kct=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[WF,Yct,Xct]=p0(Kc),[BA,$gt]=qa(Kc,[Xct,Loe]),HF=Loe(),zoe=ae.forwardRef((e,t)=>{const{type:r,...a}=e,n=a,i=a;return s.jsx(WF.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(edt,{...i,ref:t}):s.jsx(Zct,{...n,ref:t})})});zoe.displayName=Kc;var[Woe,Qct]=BA(Kc),[Hoe,Jct]=BA(Kc,{collapsible:!1}),Zct=ae.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},collapsible:i=!1,...o}=e,[l,c]=mo({prop:r,defaultProp:a??"",onChange:n,caller:Kc});return s.jsx(Woe,{scope:e.__scopeAccordion,value:ae.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ae.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(Hoe,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(qoe,{...o,ref:t})})})}),edt=ae.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...i}=e,[o,l]=mo({prop:r,defaultProp:a??[],onChange:n,caller:Kc}),c=ae.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=ae.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(Woe,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(Hoe,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(qoe,{...i,ref:t})})})}),[tdt,UA]=BA(Kc),qoe=ae.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:n,orientation:i="vertical",...o}=e,l=ae.useRef(null),c=xr(l,t),d=Yct(r),h=Cm(n)==="ltr",m=xt(e.onKeyDown,p=>{var C;if(!Kct.includes(p.key))return;const g=p.target,x=d().filter(A=>{var E;return!((E=A.ref.current)!=null&&E.disabled)}),y=x.findIndex(A=>A.ref.current===g),w=x.length;if(y===-1)return;p.preventDefault();let b=y;const v=0,N=w-1,j=()=>{b=y+1,b>N&&(b=v)},k=()=>{b=y-1,b<v&&(b=N)};switch(p.key){case"Home":b=v;break;case"End":b=N;break;case"ArrowRight":i==="horizontal"&&(h?j():k());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(h?k():j());break;case"ArrowUp":i==="vertical"&&k();break}const S=b%w;(C=x[S].ref.current)==null||C.focus()});return s.jsx(tdt,{scope:r,disabled:a,direction:n,orientation:i,children:s.jsx(WF.Slot,{scope:r,children:s.jsx(Lt.div,{...o,"data-orientation":i,ref:c,onKeyDown:a?void 0:m})})})}),lk="AccordionItem",[rdt,qF]=BA(lk),Goe=ae.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...n}=e,i=UA(lk,r),o=Qct(lk,r),l=HF(r),c=cl(),d=a&&o.value.includes(a)||!1,u=i.disabled||e.disabled;return s.jsx(rdt,{scope:r,open:d,disabled:u,triggerId:c,children:s.jsx(Hct,{"data-orientation":i.orientation,"data-state":Zoe(d),...l,...n,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(a):o.onItemClose(a)}})})});Goe.displayName=lk;var Koe="AccordionHeader",Yoe=ae.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,n=UA(Kc,r),i=qF(Koe,r);return s.jsx(Lt.h3,{"data-orientation":n.orientation,"data-state":Zoe(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:t})});Yoe.displayName=Koe;var kD="AccordionTrigger",Xoe=ae.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,n=UA(Kc,r),i=qF(kD,r),o=Jct(kD,r),l=HF(r);return s.jsx(WF.ItemSlot,{scope:r,children:s.jsx(qct,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":n.orientation,id:i.triggerId,...l,...a,ref:t})})});Xoe.displayName=kD;var Qoe="AccordionContent",Joe=ae.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,n=UA(Kc,r),i=qF(Qoe,r),o=HF(r);return s.jsx(Gct,{role:"region","aria-labelledby":i.triggerId,"data-orientation":n.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Joe.displayName=Qoe;function Zoe(e){return e?"open":"closed"}var sdt=zoe,adt=Goe,ndt=Yoe,ele=Xoe,tle=Joe;const rle=sdt,GF=f.forwardRef(({className:e,...t},r)=>s.jsx(adt,{ref:r,className:be("border-b",e),...t}));GF.displayName="AccordionItem";const KF=f.forwardRef(({className:e,children:t,...r},a)=>s.jsx(ndt,{className:"flex",children:s.jsxs(ele,{ref:a,className:be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(zi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));KF.displayName=ele.displayName;const YF=f.forwardRef(({className:e,children:t,...r},a)=>s.jsx(tle,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:be("pb-4 pt-0",e),children:t})}));YF.displayName=tle.displayName;const Ov={storeName:"",storeNameAr:"",storeDescription:"",storeDescriptionAr:"",email:"",phone:"",address:"",city:"",country:"SA",postalCode:"",currency:"SAR",timezone:"Asia/Riyadh",language:"ar",taxEnabled:!0,taxRate:15,shippingEnabled:!0,inventoryTracking:!0,lowStockThreshold:10,allowGuestCheckout:!0,requireEmailVerification:!1,maintenanceMode:!1,storeType:"GENERAL",storeLogoUrl:"",googlePlayUrl:"",appStoreUrl:"",vatNumber:"",paymentMethods:["CASH_ON_DELIVERY"],hyperpayConfig:{entityId:"",accessToken:"",testMode:!0},taxMode:"ALL",taxableCategories:[],taxableProducts:[],taxes:[]};function bz(){var A,E,D;const{toast:e}=Rt(),t=Kr(),[r,a]=f.useState(Ov),[n,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,w]=f.useState({}),b=f.useCallback(async()=>{try{const P=await he.get("/categories?limit=1000",{requireAuth:!0});Array.isArray(P)?h(P):P&&Array.isArray(P.categories)?h(P.categories):P&&Array.isArray(P.data)&&h(P.data)}catch(P){console.error("Failed to load categories:",P)}},[]),v=f.useCallback(async()=>{try{const P=await he.get("/products?limit=1000",{requireAuth:!0});Array.isArray(P)?p(P):P&&Array.isArray(P.data)&&p(P.data)}catch(P){console.error("Failed to load products:",P)}},[]),N=f.useCallback(async()=>{try{const P=await he.get("/currencies",{requireAuth:!0});if(Array.isArray(P)){const T=P.filter(_=>_&&typeof _=="object"&&_.code&&typeof _.code=="string"&&_.isActive===!0);d(T)}else d([{id:"1",code:"SAR",name:"Saudi Riyal",nameAr:" ",symbol:".",isActive:!0},{id:"2",code:"AED",name:"UAE Dirham",nameAr:" ",symbol:".",isActive:!0},{id:"3",code:"USD",name:"US Dollar",nameAr:" ",symbol:"$",isActive:!0},{id:"4",code:"EUR",name:"Euro",nameAr:"",symbol:"",isActive:!0}])}catch(P){console.error("Failed to load currencies:",P),d([{id:"1",code:"SAR",name:"Saudi Riyal",nameAr:" ",symbol:".",isActive:!0},{id:"2",code:"AED",name:"UAE Dirham",nameAr:" ",symbol:".",isActive:!0},{id:"3",code:"USD",name:"US Dollar",nameAr:" ",symbol:"$",isActive:!0},{id:"4",code:"EUR",name:"Euro",nameAr:"",symbol:"",isActive:!0}])}},[]),j=f.useCallback(async()=>{var P,T;try{i(!0),await Promise.all([N(),b(),v()]);const[_,O]=await Promise.all([he.get("/site-config",{requireAuth:!0}),he.get("/currencies/settings",{requireAuth:!0}).catch(()=>null)]);if(_&&_.settings){const F=(O==null?void 0:O.baseCurrency)||_.settings.currency||"SAR";let I=Ov.paymentMethods;Array.isArray((P=_.settings)==null?void 0:P.paymentMethods)?I=_.settings.paymentMethods:Array.isArray(_.paymentMethods)&&(I=_.paymentMethods);const R={...Ov,..._.settings,paymentMethods:I,currency:F};(!R.taxes||R.taxes.length===0)&&(R.taxes=[{id:"default",name:" ",rate:R.taxRate||15,enabled:R.taxEnabled??!0,mode:R.taxMode||"ALL",categories:R.taxableCategories||[],products:R.taxableProducts||[]}]),a(R)}else a(Ov)}catch(_){console.error("Failed to load settings:",_);const O=_,I=((O==null?void 0:O.message)||((T=O==null?void 0:O.data)==null?void 0:T.message)||"").toLowerCase();I.includes("does not exist")||I.includes("set up your market")||I.includes("set up a market")||(O==null?void 0:O.status)===400&&I.includes("tenant")?(e({title:"   ",description:"      .     .",variant:"destructive"}),setTimeout(()=>{t("/setup",{replace:!0})},1500)):(e({title:"",description:"         ",variant:"default"}),a(Ov))}finally{i(!1)}},[e,N,b,v,t]);f.useEffect(()=>{j()},[j]);const k=(P,T)=>{a(_=>({..._,[P]:T}))},S=async(P,T)=>{var O;const _=T?[...r.paymentMethods,P]:r.paymentMethods.filter(F=>F!==P);k("paymentMethods",_);try{l(!0);const F={...r,paymentMethods:_},I=Object.fromEntries(Object.entries(F).filter(([R,L])=>L!==void 0));await he.post("/site-config",{settings:{...I,paymentMethods:_,payment_methods:_},paymentMethods:_,payment_methods:_},{requireAuth:!0}),e({title:"",description:"    "})}catch(F){console.error("Failed to save payment method:",F);const I=F,R=(I==null?void 0:I.message)||((O=I==null?void 0:I.data)==null?void 0:O.message)||"     .    .";e({title:"   ",description:R,variant:"destructive"}),k("paymentMethods",r.paymentMethods)}finally{l(!1)}},C=async()=>{var P;l(!0);try{if(!r||typeof r!="object")throw new Error("Invalid settings data");const T=Object.fromEntries(Object.entries(r).filter(([_,O])=>O!==void 0));if(await he.post("/site-config",{settings:{...T,paymentMethods:r.paymentMethods,payment_methods:r.paymentMethods},paymentMethods:r.paymentMethods,payment_methods:r.paymentMethods},{requireAuth:!0}),r.currency)try{c.some(O=>O.code===r.currency)&&await he.put("/currencies/settings",{baseCurrency:r.currency,autoUpdateRates:!1},{requireAuth:!0})}catch(_){console.warn("Failed to sync currency to CurrencySettings:",_)}e({title:"",description:"   "}),await j()}catch(T){console.error("Failed to save settings:",T);const _=T,O=(_==null?void 0:_.message)||((P=_==null?void 0:_.data)==null?void 0:P.message)||"    .    .",F=O.toLowerCase();F.includes("does not exist")||F.includes("set up your market")||F.includes("set up a market")||(_==null?void 0:_.status)===400&&F.includes("tenant")?(e({title:"   ",description:"     .     .",variant:"destructive"}),setTimeout(()=>{t("/setup",{replace:!0})},1500)):e({title:"  ",description:O,variant:"destructive"})}finally{l(!1)}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ge,{className:"animate-spin w-12 h-12 text-primary"})}):s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),s.jsx(z,{onClick:C,disabled:o,size:"lg",className:"gap-2",id:"tour-settings-save-btn",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4"})," "]})})]}),s.jsxs(Yn,{defaultValue:"general",className:"w-full",children:[s.jsxs(_n,{className:"grid w-full max-w-5xl grid-cols-5",children:[s.jsx(Ar,{value:"general",children:""}),s.jsx(Ar,{value:"contact",children:" "}),s.jsx(Ar,{value:"business",children:" "}),s.jsx(Ar,{value:"payment",children:" "}),s.jsx(Ar,{value:"advanced",children:""})]}),s.jsx(ls,{value:"general",className:"space-y-4",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"w-5 h-5"}),s.jsx(at,{children:"  "})]}),s.jsx(Vt,{children:"    "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-muted/20",children:[r.storeLogoUrl?s.jsx("img",{src:r.storeLogoUrl,alt:" ",className:"h-20 w-20 object-contain rounded-lg border bg-white"}):s.jsx("div",{className:"h-20 w-20 rounded-lg border border-dashed flex items-center justify-center bg-muted/50",children:s.jsx(Vs,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{type:"file",accept:"image/*",className:"max-w-xs",onChange:async P=>{var O;const T=(O=P.target.files)==null?void 0:O[0];if(!T)return;const _=new FormData;_.append("files",T);try{const F=await he.post("/upload/images",_,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(F.files&&F.files.length>0){const I=F.files[0].secureUrl||F.files[0].url;k("storeLogoUrl",I),e({title:"",description:"  "})}}catch(F){console.error(F),e({title:"  ",description:"    .    .",variant:"destructive"})}}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"     500x500 "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeName",children:"  (English)"}),s.jsx(me,{id:"storeName",value:r.storeName,onChange:P=>k("storeName",P.target.value),placeholder:"My Store"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeNameAr",children:"  ()"}),s.jsx(me,{id:"storeNameAr",value:r.storeNameAr,onChange:P=>k("storeNameAr",P.target.value),placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeDescription",children:"  (English)"}),s.jsx(Fs,{id:"storeDescription",value:r.storeDescription,onChange:P=>k("storeDescription",P.target.value),placeholder:"Store description...",rows:3})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeDescriptionAr",children:"  ()"}),s.jsx(Fs,{id:"storeDescriptionAr",value:r.storeDescriptionAr,onChange:P=>k("storeDescriptionAr",P.target.value),placeholder:" ...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"googlePlayUrl",children:" Google Play"}),s.jsx(me,{id:"googlePlayUrl",value:r.googlePlayUrl||"",onChange:P=>k("googlePlayUrl",P.target.value),placeholder:"https://play.google.com/..."})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"appStoreUrl",children:" App Store"}),s.jsx(me,{id:"appStoreUrl",value:r.appStoreUrl||"",onChange:P=>k("appStoreUrl",P.target.value),placeholder:"https://apps.apple.com/..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"language",children:" "}),s.jsxs(nr,{value:r.language,onValueChange:P=>k("language",P),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"ar",children:""}),s.jsx(Oe,{value:"en",children:"English"}),s.jsx(Oe,{value:"fr",children:"Franais"})]})]})]}),s.jsxs("div",{children:[s.jsxs(X,{htmlFor:"currency",className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"})," "]}),s.jsxs(nr,{value:r.currency,onValueChange:P=>{k("currency",P),e({title:"  ",description:`     ${P}`})},children:[s.jsx(Jt,{className:"w-full",children:s.jsx(cr,{placeholder:" "})}),s.jsx(Zt,{children:c.length>0?c.map(P=>s.jsxs(Oe,{value:P.code,children:[P.symbol," ",P.nameAr||P.name," (",P.code,")"]},P.id)):s.jsxs(s.Fragment,{children:[s.jsx(Oe,{value:"SAR",children:".   (SAR)"}),s.jsx(Oe,{value:"AED",children:".   (AED)"}),s.jsx(Oe,{value:"USD",children:"$   (USD)"}),s.jsx(Oe,{value:"EUR",children:"  (EUR)"})]})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"     -      "})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"timezone",children:" "}),s.jsxs(nr,{value:r.timezone,onValueChange:P=>k("timezone",P),children:[s.jsxs(Jt,{children:[s.jsx(fo,{className:"h-4 w-4 ml-2"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"Asia/Riyadh",children:" (GMT+3)"}),s.jsx(Oe,{value:"Asia/Dubai",children:" (GMT+4)"}),s.jsx(Oe,{value:"Africa/Cairo",children:" (GMT+2)"}),s.jsx(Oe,{value:"Europe/London",children:" (GMT+0)"})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeType",children:" "}),s.jsxs(nr,{value:r.storeType,onValueChange:P=>k("storeType",P),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"GENERAL",children:"  ( )"}),s.jsx(Oe,{value:"DIGITAL_CARDS",children:"   "})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"         ."})]})]})]})}),s.jsx(ls,{value:"contact",className:"space-y-4",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Si,{className:"w-5 h-5"}),s.jsx(at,{children:" "})]}),s.jsx(Vt,{children:"  "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"email",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{id:"email",type:"email",value:r.email,onChange:P=>k("email",P.target.value),placeholder:"store@example.com",className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"phone",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Si,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{id:"phone",type:"tel",value:r.phone,onChange:P=>k("phone",P.target.value),placeholder:"+966 50 123 4567",className:"pr-10"})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"address",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ju,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Fs,{id:"address",value:r.address,onChange:P=>k("address",P.target.value),placeholder:"    ",rows:2,className:"pr-10"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"city",children:""}),s.jsx(me,{id:"city",value:r.city,onChange:P=>k("city",P.target.value),placeholder:""})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"country",children:""}),s.jsxs(nr,{value:r.country,onValueChange:P=>k("country",P),children:[s.jsxs(Jt,{children:[s.jsx(Oa,{className:"h-4 w-4 ml-2"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"SA",children:""}),s.jsx(Oe,{value:"AE",children:""}),s.jsx(Oe,{value:"EG",children:""}),s.jsx(Oe,{value:"JO",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"postalCode",children:" "}),s.jsx(me,{id:"postalCode",value:r.postalCode,onChange:P=>k("postalCode",P.target.value),placeholder:"12345"})]})]})]})]})}),s.jsxs(ls,{value:"business",className:"space-y-4",children:[s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:r.taxEnabled,onCheckedChange:P=>k("taxEnabled",P)})]}),r.taxEnabled&&s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20",children:[s.jsx(X,{htmlFor:"vatNumber",children:"  (VAT Number)"}),s.jsx(me,{id:"vatNumber",value:r.vatNumber||"",onChange:P=>k("vatNumber",P.target.value),placeholder:": 300000000000003",className:"mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"      "})]}),r.taxEnabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{const P={id:Math.random().toString(36).substr(2,9),name:" ",rate:15,enabled:!0,mode:"ALL",categories:[],products:[]};k("taxes",[...r.taxes||[],P])},children:[s.jsx(Gt,{className:"w-4 h-4 ml-2"})," "]})}),s.jsx(rle,{type:"single",collapsible:!0,className:"w-full space-y-2",children:(r.taxes||[]).map((P,T)=>{var _;return s.jsxs(GF,{value:P.id,className:"border rounded-lg px-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsx(KF,{className:"hover:no-underline py-0 flex-1",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-medium",children:P.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",P.rate,"%)"]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${P.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.enabled?"":""})]})}),s.jsx(z,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50 mr-2",onClick:O=>{O.stopPropagation();const F=[...r.taxes||[]];F.splice(T,1),k("taxes",F)},children:s.jsx(_r,{className:"w-4 h-4"})})]}),s.jsxs(YF,{className:"pt-4 pb-4 space-y-4 border-t",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx(me,{value:P.name,onChange:O=>{const F=[...r.taxes||[]];F[T]={...P,name:O.target.value},k("taxes",F)}})]}),s.jsxs("div",{children:[s.jsx(X,{children:"  (%)"}),s.jsx(me,{type:"number",step:"0.01",value:P.rate,onChange:O=>{const F=[...r.taxes||[]];F[T]={...P,rate:parseFloat(O.target.value)},k("taxes",F)}})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[s.jsx(X,{children:"  "}),s.jsx(ir,{checked:P.enabled,onCheckedChange:O=>{const F=[...r.taxes||[]];F[T]={...P,enabled:O},k("taxes",F)}})]}),s.jsxs("div",{children:[s.jsx(X,{children:"  "}),s.jsxs(nr,{value:P.mode,onValueChange:O=>{const F=[...r.taxes||[]];F[T]={...P,mode:O},k("taxes",F)},children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"ALL",children:" "}),s.jsx(Oe,{value:"CATEGORY",children:" "}),s.jsx(Oe,{value:"PRODUCT",children:" "})]})]})]}),P.mode==="CATEGORY"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:" "}),(P.categories||[]).length>0&&s.jsx(z,{variant:"link",size:"sm",className:"h-auto p-0 text-primary",onClick:()=>{const O=m.filter(I=>{var R;return(R=I.categories)==null?void 0:R.some(L=>(P.categories||[]).includes(L.id))}).map(I=>I.id),F=[...r.taxes||[]];F[T]={...P,mode:"PRODUCT",products:O,categories:[]},k("taxes",F),w(I=>({...I,[P.id]:P.categories||[]})),e({title:" ",description:"     .     ."})},children:"    "})]}),s.jsxs("div",{className:"border rounded-md p-4 max-h-60 overflow-y-auto space-y-2",children:[u.map(O=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx("input",{type:"checkbox",id:`tax-${P.id}-cat-${O.id}`,checked:(P.categories||[]).includes(O.id),onChange:F=>{const I=P.categories||[],R=F.target.checked?[...I,O.id]:I.filter(H=>H!==O.id),L=[...r.taxes||[]];L[T]={...P,categories:R},k("taxes",L)},className:"h-4 w-4 rounded border-gray-300"}),s.jsx(X,{htmlFor:`tax-${P.id}-cat-${O.id}`,className:"cursor-pointer font-normal",children:O.nameAr||O.name})]},O.id)),u.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"  "})]})]}),P.mode==="PRODUCT"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{placeholder:"    ...",value:g,onChange:O=>x(O.target.value),className:"pr-10"})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>{var I;const O=u.map(R=>R.id),F=((I=y[P.id])==null?void 0:I.length)===O.length;w(R=>({...R,[P.id]:F?[]:O}))},children:((_=y[P.id])==null?void 0:_.length)===u.length?" ":" "})]}),s.jsxs("div",{className:"border rounded-md p-4 max-h-96 overflow-y-auto space-y-4",children:[u.filter(O=>{const F=O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()),I=m.some(R=>{var L;return((L=R.categories)==null?void 0:L.some(H=>H.id===O.id))&&(R.name.toLowerCase().includes(g.toLowerCase())||(R.nameAr||"").toLowerCase().includes(g.toLowerCase()))});return F||I}).map(O=>{var W;const F=m.filter(M=>{var G;return(G=M.categories)==null?void 0:G.some(V=>V.id===O.id)});if(F.length===0)return null;const I=F.filter(M=>M.name.toLowerCase().includes(g.toLowerCase())||(M.nameAr||"").toLowerCase().includes(g.toLowerCase())||O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase())),R=F.every(M=>(P.products||[]).includes(M.id)),L=F.some(M=>(P.products||[]).includes(M.id)),H=((W=y[P.id])==null?void 0:W.includes(O.id))||g!=="";return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between font-medium bg-gray-50 dark:bg-gray-900 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx("input",{type:"checkbox",id:`tax-${P.id}-group-${O.id}`,checked:R,ref:M=>{M&&(M.indeterminate=L&&!R)},onChange:M=>{const G=P.products||[],V=F.map(U=>U.id);let q;if(M.target.checked){const U=V.filter(Z=>!G.includes(Z));q=[...G,...U]}else q=G.filter(U=>!V.includes(U));const Y=[...r.taxes||[]];Y[T]={...P,products:q},k("taxes",Y)},className:"h-4 w-4 rounded border-gray-300"}),s.jsx(X,{htmlFor:`tax-${P.id}-group-${O.id}`,className:"cursor-pointer",children:O.nameAr||O.name})]}),s.jsx(z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{w(M=>{const G=M[P.id]||[],V=G.includes(O.id)?G.filter(q=>q!==O.id):[...G,O.id];return{...M,[P.id]:V}})},children:H?s.jsx(Ok,{className:"h-4 w-4"}):s.jsx(zi,{className:"h-4 w-4"})})]}),H&&s.jsx("div",{className:"mr-6 space-y-1 animate-in slide-in-from-top-1 duration-200",children:I.map(M=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx("input",{type:"checkbox",id:`tax-${P.id}-prod-${M.id}`,checked:(P.products||[]).includes(M.id),onChange:G=>{const V=P.products||[],q=G.target.checked?[...V,M.id]:V.filter(U=>U!==M.id),Y=[...r.taxes||[]];Y[T]={...P,products:q},k("taxes",Y)},className:"h-4 w-4 rounded border-gray-300"}),s.jsx(X,{htmlFor:`tax-${P.id}-prod-${M.id}`,className:"cursor-pointer font-normal text-sm",children:M.nameAr||M.name})]},M.id))})]},O.id)}),(()=>{const O=m.filter(I=>!I.categories||I.categories.length===0);if(O.length===0)return null;const F=O.filter(I=>I.name.toLowerCase().includes(g.toLowerCase())||(I.nameAr||"").toLowerCase().includes(g.toLowerCase()));return F.length===0&&g!==""?null:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium bg-gray-50 dark:bg-gray-900 p-2 rounded",children:"  "}),s.jsx("div",{className:"mr-6 space-y-1",children:F.map(I=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx("input",{type:"checkbox",id:`tax-${P.id}-prod-${I.id}`,checked:(P.products||[]).includes(I.id),onChange:R=>{const L=P.products||[],H=R.target.checked?[...L,I.id]:L.filter(M=>M!==I.id),W=[...r.taxes||[]];W[T]={...P,products:H},k("taxes",W)},className:"h-4 w-4 rounded border-gray-300"}),s.jsx(X,{htmlFor:`tax-${P.id}-prod-${I.id}`,className:"cursor-pointer font-normal text-sm",children:I.nameAr||I.name})]},I.id))})]})})(),m.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"  "}),g!==""&&u.length>0&&m.length>0&&!u.some(O=>O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()))&&!m.some(O=>O.name.toLowerCase().includes(g.toLowerCase())||(O.nameAr||"").toLowerCase().includes(g.toLowerCase()))&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"    "})]})]})]})]},P.id)})})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:r.inventoryTracking,onCheckedChange:P=>k("inventoryTracking",P)})]}),r.inventoryTracking&&s.jsxs("div",{children:[s.jsx(X,{htmlFor:"lowStockThreshold",children:"   "}),s.jsx(me,{id:"lowStockThreshold",type:"number",value:r.lowStockThreshold,onChange:P=>k("lowStockThreshold",parseInt(P.target.value)),placeholder:"10"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:r.shippingEnabled,onCheckedChange:P=>k("shippingEnabled",P)})]})})]})]}),s.jsxs(ls,{value:"payment",className:"space-y-4",children:[s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5"}),s.jsx(at,{children:" "})]}),s.jsx(Vt,{children:"    "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:s.jsx(Wr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    "})]})]}),s.jsx(ir,{checked:r.paymentMethods.includes("CASH_ON_DELIVERY"),onCheckedChange:P=>S("CASH_ON_DELIVERY",P),disabled:o})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:s.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx(X,{children:"HyperPay (Visa/Mastercard/Mada)"}),s.jsx("p",{className:"text-sm text-gray-500",children:"   HyperPay"})]})]}),s.jsx(ir,{checked:r.paymentMethods.includes("HYPERPAY"),onCheckedChange:P=>S("HYPERPAY",P),disabled:o})]}),r.paymentMethods.includes("HYPERPAY")&&s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20 space-y-4",children:[s.jsx("h3",{className:"font-medium",children:" HyperPay"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Entity ID"}),s.jsx(me,{value:((A=r.hyperpayConfig)==null?void 0:A.entityId)||"",onChange:P=>k("hyperpayConfig",{...r.hyperpayConfig,entityId:P.target.value}),placeholder:"Enter Entity ID"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Access Token"}),s.jsx(me,{type:"password",value:((E=r.hyperpayConfig)==null?void 0:E.accessToken)||"",onChange:P=>k("hyperpayConfig",{...r.hyperpayConfig,accessToken:P.target.value}),placeholder:"Enter Access Token"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{checked:((D=r.hyperpayConfig)==null?void 0:D.testMode)??!0,onCheckedChange:P=>k("hyperpayConfig",{...r.hyperpayConfig,testMode:P})}),s.jsx(X,{children:"  (Test Mode)"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:s.jsx(pn,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]})]}),s.jsx(ir,{checked:r.paymentMethods.includes("BANK_TRANSFER"),onCheckedChange:P=>S("BANK_TRANSFER",P),disabled:o})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg",children:s.jsx(ca,{className:"w-5 h-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]})]}),s.jsx(ir,{checked:r.paymentMethods.includes("WALLET_PAYMENT"),onCheckedChange:P=>S("WALLET_PAYMENT",P),disabled:o})]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wh,{className:"w-5 h-5"}),s.jsx(at,{children:" "})]}),s.jsx(Vt,{children:"   "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:r.shippingEnabled,onCheckedChange:P=>k("shippingEnabled",P)})]}),r.shippingEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{children:" "}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wh,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:" "})]}),s.jsx(ir,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wh,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:" "})]}),s.jsx(ir,{defaultChecked:!0})]})]})]}),s.jsx(z,{variant:"outline",className:"w-full",children:"  "})]})]})]})]}),s.jsxs(ls,{value:"advanced",className:"space-y-4",children:[s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}),s.jsx(ir,{checked:r.allowGuestCheckout,onCheckedChange:P=>k("allowGuestCheckout",P)})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(X,{children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:r.requireEmailVerification,onCheckedChange:P=>k("requireEmailVerification",P)})]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"   "})]}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-red-200 bg-red-50 dark:bg-red-900/10",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-red-900 dark:text-red-100",children:"  "}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"    "})]}),s.jsx(ir,{checked:r.maintenanceMode,onCheckedChange:P=>k("maintenanceMode",P)})]})})]})]})]}),s.jsx("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:s.jsx(z,{onClick:C,disabled:o,size:"lg",className:"gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4"})," "]})})})]})}function idt(){return Tn(),s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),s.jsx("div",{children:s.jsx(qk,{})})]})})}const Xm=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const r=e.response;if((t=r==null?void 0:r.data)!=null&&t.message)return r.data.message}return"   "};function wz(){var M,G,V,q,Y;const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState(""),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(null),[w,b]=f.useState(!1),[v,N]=f.useState(!1),[j,k]=f.useState(!1),[S,C]=f.useState(1),[A,E]=f.useState({name:"",nameAr:"",email:"",phone:"",contactPerson:"",address:"",discountRate:0,notes:"",isActive:!0,apiEndpoint:"",apiKey:"",autoPurchaseEnabled:!1,priceCheckInterval:60});f.useEffect(()=>{D(),O(),F()},[]);const D=async()=>{try{const U=await he.get("/suppliers",{requireAuth:!0});if(Array.isArray(U)){const Z=U.filter(J=>J!==null&&typeof J=="object"&&"id"in J&&!("error"in J));r(Z)}else r([])}catch(U){console.error("Failed to load suppliers:",U),r([]);const Z=Xm(U);e({title:"  ",description:Z||"    .   .",variant:"destructive"})}},P=async U=>{U.preventDefault(),b(!0);try{x?(await he.put(`/suppliers/${encodeURIComponent(x.id)}`,{...A,discountRate:parseFloat(A.discountRate.toString()),isActive:A.isActive??!0},{requireAuth:!0}),e({title:"",description:"   "})):(await he.post("/suppliers",{...A,discountRate:parseFloat(A.discountRate.toString()),isActive:A.isActive??!0},{requireAuth:!0}),e({title:"",description:"   "})),m(!1),W(),D()}catch(Z){e({title:"  ",description:Xm(Z)||"    .    .",variant:"destructive"})}finally{b(!1)}},T=U=>{y(U),E({name:U.name,nameAr:U.nameAr||"",email:U.email||"",phone:U.phone||"",contactPerson:U.contactPerson||"",address:U.address||"",discountRate:Number(U.discountRate),notes:U.notes||"",isActive:U.isActive??!0,apiEndpoint:U.apiEndpoint||"",apiKey:U.apiKey||"",autoPurchaseEnabled:U.autoPurchaseEnabled||!1,priceCheckInterval:U.priceCheckInterval||60}),m(!0)},_=async U=>{if(confirm("      "))try{const Z=await he.delete(`/suppliers/${encodeURIComponent(U)}`,{requireAuth:!0});e({title:"",description:(Z==null?void 0:Z.isActive)===!1?"   (  )":"   "}),await D()}catch(Z){console.error("Failed to delete supplier:",Z);const J=Xm(Z);e({title:"  ",description:J||"    .    .",variant:"destructive"})}},O=async()=>{try{const U=await he.get("/products?limit=1000",{requireAuth:!0}).catch(()=>[]);Array.isArray(U)&&n(U.filter(Z=>Z!==null&&typeof Z=="object"&&"id"in Z))}catch(U){console.error("Failed to load products:",U)}},F=async()=>{try{const U=await he.get("/supplier-api/purchases",{requireAuth:!0});if(Array.isArray(U)){const Z=U.map(J=>{var K,se,B,Ne;return{id:J.id,productId:J.productId,productName:((K=J.product)==null?void 0:K.nameAr)||((se=J.product)==null?void 0:se.name)||"Unknown Product",supplierId:J.supplierId,supplierName:((B=J.supplier)==null?void 0:B.nameAr)||((Ne=J.supplier)==null?void 0:Ne.name)||"Unknown Supplier",quantity:Number(J.quantity),unitPrice:Number(J.unitPrice),totalAmount:Number(J.totalAmount),status:J.status,purchaseDate:J.purchaseDate,reason:J.reason}});u(Z)}else u([])}catch(U){console.error("Failed to load purchases:",U),u([])}},I=async U=>{if(U){k(!0);try{const Z=await he.get(`/supplier-api/prices/${U}`,{requireAuth:!0});c(Array.isArray(Z)?Z:[]),Z.length===0&&e({title:"  ",description:"         API "})}catch(Z){e({title:"  ",description:Xm(Z)||"      ",variant:"destructive"}),c([])}finally{k(!1)}}},R=async U=>{if(U){k(!0);try{const Z=await he.get(`/supplier-api/best/${U}`,{requireAuth:!0});Z&&Z.shouldPurchase?(c([{supplierId:Z.supplierId,supplierName:Z.supplierName,price:Z.price,available:!0}]),e({title:"    ",description:`${Z.supplierName}: ${Z.price} - ${Z.reason}`})):e({title:"   ",description:(Z==null?void 0:Z.reason)||"     ",variant:"destructive"})}catch(Z){e({title:"    ",description:Xm(Z)||"      ",variant:"destructive"})}finally{k(!1)}}},L=async(U,Z,J)=>{N(!0);try{const K=await he.post(`/supplier-api/purchase/${U}/${Z}`,{quantity:J},{requireAuth:!0});e({title:" ",description:`    . : ${J}`}),g(!1),o(""),c([]),F(),O()}catch(K){e({title:" ",description:Xm(K)||"     ",variant:"destructive"})}finally{N(!1)}},H=async(U,Z)=>{N(!0);try{const J=await he.post(`/supplier-api/auto-purchase/${U}`,{quantity:Z},{requireAuth:!0});e({title:"  ",description:`     . : ${Z}`}),g(!1),o(""),c([]),F(),O()}catch(J){e({title:"  ",description:Xm(J)||"    ",variant:"destructive"})}finally{N(!1)}},W=()=>{E({name:"",nameAr:"",email:"",phone:"",contactPerson:"",address:"",discountRate:0,notes:"",isActive:!0,apiEndpoint:"",apiKey:"",autoPurchaseEnabled:!1,priceCheckInterval:60}),y(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]})}),s.jsxs(Yn,{defaultValue:"suppliers",className:"space-y-4",children:[s.jsxs(_n,{children:[s.jsx(Ar,{value:"suppliers",children:" "}),s.jsx(Ar,{value:"purchase",children:"  "}),s.jsx(Ar,{value:"history",children:" "})]}),s.jsxs(ls,{value:"suppliers",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(z,{onClick:()=>{W(),m(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"})," "]})}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:s.jsx("div",{className:"w-full max-w-full overflow-x-auto",children:s.jsxs(ts,{style:{minWidth:"800px"},children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:"API"}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:t.map(U=>s.jsxs(jt,{children:[s.jsx(ke,{children:String(U.name||"")}),s.jsx(ke,{children:String(U.email||"-")}),s.jsx(ke,{children:String(U.phone||"-")}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(MO,{className:"h-4 w-4"}),Number(U.discountRate).toFixed(2),"%"]})}),s.jsx(ke,{children:U.apiEndpoint?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_f,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:U.autoPurchaseEnabled?"":""})]}):s.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),s.jsx(ke,{children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${U.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:U.isActive?"":" "})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>T(U),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(U.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})})]},U.id))})]})})})]})]}),s.jsx(ls,{value:"purchase",className:"space-y-4",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-5 w-5"}),"  "]}),s.jsx(Vt,{children:"    .        "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"product-select",children:" "}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("select",{id:"product-select",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:i,onChange:U=>{o(U.target.value),U.target.value?I(U.target.value):c([])},children:[s.jsx("option",{value:"",children:"--   --"}),a.map(U=>s.jsxs("option",{value:U.id,children:[U.nameAr||U.name," - ",U.sku||U.id]},U.id))]}),i&&s.jsxs(z,{variant:"outline",onClick:()=>R(i),disabled:j,children:[s.jsx(bG,{className:"h-4 w-4 mr-2"}),j?" ...":" "]})]})]}),l.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"  :"}),s.jsx("div",{className:"space-y-2",children:l.map((U,Z)=>{const J=a.find(Ne=>Ne.id===i),K=(J==null?void 0:J.costPerItem)||0,se=(J==null?void 0:J.price)||0,B=U.price>K&&U.price<se;return s.jsx(je,{className:B?"border-green-500":"",children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:U.supplierName}),s.jsxs("div",{className:"text-sm text-gray-500",children:[": ",U.price," ",U.available?" ":"  "]}),J&&s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[": ",K," |  : ",se," | : ",se-U.price]})]}),s.jsxs("div",{className:"flex gap-2",children:[B&&U.available&&s.jsxs(z,{size:"sm",onClick:()=>{C(1),g(!0),window.selectedSupplierForPurchase=U.supplierId},children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),""]}),!B&&s.jsx(Ze,{variant:"destructive",children:"  "})]})]})})},Z)})}),l.some(U=>{const Z=a.find(J=>J.id===i);return U.available&&Z&&U.price>(Z.costPerItem||0)&&U.price<Z.price})&&s.jsxs(z,{className:"w-full",onClick:()=>{C(1),g(!0),window.selectedSupplierForPurchase=null},children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"    "]})]}),i&&l.length===0&&!j&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"       "})]})]})}),s.jsx(ls,{value:"history",className:"space-y-4",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-5 w-5"}),"   "]}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:d.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"    "}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:d.map(U=>s.jsxs(jt,{children:[s.jsx(ke,{children:U.productName}),s.jsx(ke,{children:U.supplierName}),s.jsx(ke,{children:U.quantity}),s.jsx(ke,{children:U.unitPrice}),s.jsx(ke,{children:U.totalAmount}),s.jsx(ke,{children:s.jsx(Ze,{variant:U.status==="COMPLETED"?"default":U.status==="REFUNDED"?"destructive":"secondary",children:U.status==="COMPLETED"?"":U.status==="REFUNDED"?"":U.status==="CANCELLED"?"":U.status})}),s.jsx(ke,{children:new Date(U.purchaseDate).toLocaleDateString("ar-SA")})]},U.id))})]})})]})})]}),s.jsx(Qt,{open:h,onOpenChange:m,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:x?" ":"  "}),s.jsx(ur,{children:"     "})]}),s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"name",children:"  *"}),s.jsx(me,{id:"name",value:A.name,onChange:U=>E({...A,name:U.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"nameAr",children:"  ()"}),s.jsx(me,{id:"nameAr",value:A.nameAr,onChange:U=>E({...A,nameAr:U.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"email",children:" "}),s.jsx(me,{id:"email",type:"email",value:A.email,onChange:U=>E({...A,email:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"phone",children:""}),s.jsx(me,{id:"phone",value:A.phone,onChange:U=>E({...A,phone:U.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"contactPerson",children:" "}),s.jsx(me,{id:"contactPerson",value:A.contactPerson,onChange:U=>E({...A,contactPerson:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"address",children:""}),s.jsx(Fs,{id:"address",value:A.address,onChange:U=>E({...A,address:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"discountRate",children:"  (%) *"}),s.jsx(me,{id:"discountRate",type:"number",min:"0",max:"100",step:"0.01",value:A.discountRate,onChange:U=>E({...A,discountRate:parseFloat(U.target.value)||0}),required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"isActive",children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{id:"isActive",checked:A.isActive,onCheckedChange:U=>E({...A,isActive:U})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"notes",children:""}),s.jsx(Fs,{id:"notes",value:A.notes,onChange:U=>E({...A,notes:U.target.value})})]}),s.jsx(Qs,{className:"my-4"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(X,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(_f,{className:"h-4 w-4"})," API "]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" API     "})]})}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"apiEndpoint",children:" API "}),s.jsx(me,{id:"apiEndpoint",type:"url",placeholder:"https://api.supplier.com/v1",value:A.apiEndpoint,onChange:U=>E({...A,apiEndpoint:U.target.value})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   API   (: https://api.supplier.com/v1)"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"apiKey",children:" API"}),s.jsx(me,{id:"apiKey",type:"password",placeholder:"  API",value:A.apiKey,onChange:U=>E({...A,apiKey:U.target.value})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"    API  "})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(X,{htmlFor:"autoPurchaseEnabled",className:"flex items-center gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),"  "]}),s.jsx("p",{className:"text-sm text-gray-500",children:"          "})]}),s.jsx(ir,{id:"autoPurchaseEnabled",checked:A.autoPurchaseEnabled,onCheckedChange:U=>E({...A,autoPurchaseEnabled:U})})]}),A.autoPurchaseEnabled&&s.jsxs("div",{children:[s.jsx(X,{htmlFor:"priceCheckInterval",children:"   ()"}),s.jsx(me,{id:"priceCheckInterval",type:"number",min:"1",max:"1440",value:A.priceCheckInterval,onChange:U=>E({...A,priceCheckInterval:parseInt(U.target.value)||60})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        (: 60 )"})]})]}),s.jsxs(Vr,{children:[s.jsxs(z,{type:"button",variant:"outline",onClick:()=>{m(!1),W()},children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(z,{type:"submit",disabled:w,children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),w?" ...":""]})]})]})]})}),s.jsx(Qt,{open:p,onOpenChange:g,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:" "}),s.jsx(ur,{children:((M=a.find(U=>U.id===i))==null?void 0:M.nameAr)||((G=a.find(U=>U.id===i))==null?void 0:G.name)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"quantity",children:""}),s.jsx(me,{id:"quantity",type:"number",min:"1",value:S,onChange:U=>C(parseInt(U.target.value)||1)})]}),l.length>0&&s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[": ",(V=l[0])==null?void 0:V.supplierName]}),s.jsxs("div",{children:[" : ",(q=l[0])==null?void 0:q.price]}),s.jsxs("div",{className:"font-semibold mt-2",children:[": ",((Y=l[0])==null?void 0:Y.price)*S]})]})})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>g(!1),children:""}),s.jsx(z,{onClick:()=>{const U=window.selectedSupplierForPurchase;U?L(i,U,S):H(i,S)},disabled:v||!i,children:v?" ...":" "})]})]})})]})}function jz(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState({name:"",nameAr:"",code:"",symbol:"",cost:0,description:""});f.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await he.get("/units",{requireAuth:!0});if(Array.isArray(y)){const w=y.filter(b=>b&&typeof b=="object"&&b.id&&!("error"in b));r(w)}else r([])}catch{r([]),e({title:"  ",description:"    .   .",variant:"destructive"})}},m=async y=>{var w,b;y.preventDefault(),c(!0);try{if(i){const v=encodeURIComponent(i.id);await he.put(`/units/${v}`,{...d,cost:parseFloat(d.cost.toString())},{requireAuth:!0}),e({title:"",description:"   "})}else await he.post("/units",{...d,cost:parseFloat(d.cost.toString())},{requireAuth:!0}),e({title:"",description:"   "});n(!1),x(),h()}catch(v){const N=((b=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:b.message)||(v==null?void 0:v.message)||"    .    .";e({title:"  ",description:N,variant:"destructive"})}finally{c(!1)}},p=y=>{o(y),u({name:y.name,nameAr:y.nameAr||"",code:y.code,symbol:y.symbol||"",cost:Number(y.cost),description:y.description||""}),n(!0)},g=async y=>{var w,b;if(confirm("      "))try{const v=encodeURIComponent(y);await he.delete(`/units/${v}`,{requireAuth:!0}),e({title:"",description:"   "}),h()}catch(v){const N=((b=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:b.message)||(v==null?void 0:v.message)||"    .    .";e({title:"  ",description:N,variant:"destructive"})}},x=()=>{u({name:"",nameAr:"",code:"",symbol:"",cost:0,description:""}),o(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"       "})]}),s.jsxs(z,{onClick:()=>{x(),n(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"})," "]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"     "})]}),s.jsx(Ce,{children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" ( )"}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:t.map(y=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:String(y.name||"")}),y.nameAr&&typeof y.nameAr=="string"&&s.jsx("div",{className:"text-sm text-gray-500",children:y.nameAr})]})}),s.jsx(ke,{children:s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:String(y.code||"")})}),s.jsx(ke,{children:String(y.symbol||"-")}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),Number(y.cost).toFixed(2)]})}),s.jsx(ke,{children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:y.isActive?"":" "})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>p(y),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(y.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})})]},y.id))})]})})]}),s.jsx(Qt,{open:a,onOpenChange:n,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:i?" ":"  "}),s.jsx(ur,{children:"      "})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"name",children:"  *"}),s.jsx(me,{id:"name",value:d.name,onChange:y=>u({...d,name:y.target.value}),required:!0,placeholder:": "})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"nameAr",children:"  ()"}),s.jsx(me,{id:"nameAr",value:d.nameAr,onChange:y=>u({...d,nameAr:y.target.value}),placeholder:": "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"code",children:"  *"}),s.jsx(me,{id:"code",value:d.code,onChange:y=>u({...d,code:y.target.value.toUpperCase()}),required:!0,placeholder:": PC",className:"font-mono"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"   "})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"symbol",children:""}),s.jsx(me,{id:"symbol",value:d.symbol,onChange:y=>u({...d,symbol:y.target.value}),placeholder:": pcs"})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"cost",children:" ( ) *"}),s.jsx(me,{id:"cost",type:"number",min:"0",step:"0.01",value:d.cost,onChange:y=>u({...d,cost:parseFloat(y.target.value)||0}),required:!0,placeholder:"0.00"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"description",children:""}),s.jsx(Fs,{id:"description",value:d.description,onChange:y=>u({...d,description:y.target.value}),rows:3})]}),s.jsxs(Vr,{children:[s.jsxs(z,{type:"button",variant:"outline",onClick:()=>{n(!1),x()},children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(z,{type:"submit",disabled:l,children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),l?" ...":""]})]})]})]})})]})}function Nz(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(null),[l,c]=f.useState(!1),[d,u]=f.useState({name:"",nameAr:"",code:"",shortName:"",brandType:"",status:"Active",rechargeUsdValue:0,usdValueForCoins:0,safetyStock:0,leadTime:0,reorderPoint:0,averageConsumptionPerMonth:0,averageConsumptionPerDay:0,abcAnalysis:"C - Low Value",odooCategoryId:"",minQuantity:"",maxQuantity:"",enableSlider:!1,applySliderToAllProducts:!1});f.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await he.getBrands();if(Array.isArray(b)){const v=b.filter(N=>N&&typeof N=="object"&&N.id&&!("error"in N));r(v)}else r([])}catch{r([]),e({title:"   ",description:"     .   .",variant:"destructive"})}},m=async b=>{b.preventDefault(),c(!0);try{i?(await he.put(`/brands/${i.id}`,{...d,rechargeUsdValue:parseFloat(d.rechargeUsdValue.toString()),usdValueForCoins:parseFloat(d.usdValueForCoins.toString()),safetyStock:parseFloat(d.safetyStock.toString()),reorderPoint:parseFloat(d.reorderPoint.toString()),averageConsumptionPerMonth:parseFloat(d.averageConsumptionPerMonth.toString()),averageConsumptionPerDay:parseFloat(d.averageConsumptionPerDay.toString()),minQuantity:d.minQuantity?parseInt(d.minQuantity):void 0,maxQuantity:d.maxQuantity?parseInt(d.maxQuantity):void 0,enableSlider:d.enableSlider,applySliderToAllProducts:d.applySliderToAllProducts}),e({title:"",description:"    "})):(await he.createBrand({...d,rechargeUsdValue:parseFloat(d.rechargeUsdValue.toString()),usdValueForCoins:parseFloat(d.usdValueForCoins.toString()),safetyStock:parseFloat(d.safetyStock.toString()),reorderPoint:parseFloat(d.reorderPoint.toString()),averageConsumptionPerMonth:parseFloat(d.averageConsumptionPerMonth.toString()),averageConsumptionPerDay:parseFloat(d.averageConsumptionPerDay.toString()),minQuantity:d.minQuantity?parseInt(d.minQuantity):void 0,maxQuantity:d.maxQuantity?parseInt(d.maxQuantity):void 0,enableSlider:d.enableSlider,applySliderToAllProducts:d.applySliderToAllProducts}),e({title:"",description:"    "})),n(!1),x(),h()}catch{e({title:"   ",description:"     .    .",variant:"destructive"})}finally{c(!1)}},p=b=>{var v,N;o(b),u({name:b.name,nameAr:b.nameAr||"",code:b.code||"",shortName:b.shortName||"",brandType:b.brandType||"",status:b.status||"Active",rechargeUsdValue:Number(b.rechargeUsdValue)||0,usdValueForCoins:Number(b.usdValueForCoins)||0,safetyStock:Number(b.safetyStock)||0,leadTime:Number(b.leadTime)||0,reorderPoint:Number(b.reorderPoint)||0,averageConsumptionPerMonth:Number(b.averageConsumptionPerMonth)||0,averageConsumptionPerDay:Number(b.averageConsumptionPerDay)||0,abcAnalysis:b.abcAnalysis||"C - Low Value",odooCategoryId:b.odooCategoryId||"",minQuantity:((v=b.minQuantity)==null?void 0:v.toString())||"",maxQuantity:((N=b.maxQuantity)==null?void 0:N.toString())||"",enableSlider:b.enableSlider||!1,applySliderToAllProducts:b.applySliderToAllProducts||!1}),n(!0)},g=async b=>{if(confirm("       "))try{await he.delete(`/brands/${b}`),e({title:"",description:"    "}),h()}catch{e({title:"   ",description:"     .    .",variant:"destructive"})}},x=()=>{u({name:"",nameAr:"",code:"",shortName:"",brandType:"",status:"Active",rechargeUsdValue:0,usdValueForCoins:0,safetyStock:0,leadTime:0,reorderPoint:0,averageConsumptionPerMonth:0,averageConsumptionPerDay:0,abcAnalysis:"C - Low Value",odooCategoryId:"",minQuantity:"",maxQuantity:"",enableSlider:!1,applySliderToAllProducts:!1}),o(null)},y=()=>{const b=["ID","Name","NameAr","Code","ShortName","BrandType","Status","RechargeUsdValue","UsdValueForCoins","SafetyStock","LeadTime","ReorderPoint","AverageConsumptionPerMonth","AverageConsumptionPerDay","AbcAnalysis","OdooCategoryId","CreatedAt"],v=t.map(k=>({ID:k.id||"",Name:k.name||"",NameAr:k.nameAr||"",Code:k.code||"",ShortName:k.shortName||"",BrandType:k.brandType||"",Status:k.status||"",RechargeUsdValue:k.rechargeUsdValue||0,UsdValueForCoins:k.usdValueForCoins||0,SafetyStock:k.safetyStock||0,LeadTime:k.leadTime||0,ReorderPoint:k.reorderPoint||0,AverageConsumptionPerMonth:k.averageConsumptionPerMonth||0,AverageConsumptionPerDay:k.averageConsumptionPerDay||0,AbcAnalysis:k.abcAnalysis||"",OdooCategoryId:k.odooCategoryId||"",CreatedAt:k.createdAt||""})),N=$r.json_to_sheet(v,{header:b}),j=$r.book_new();$r.book_append_sheet(j,N,"Brands"),Du(j,"brands_export.xlsx"),e({title:"",description:"    "})},w=async b=>{var N,j,k,S,C,A,E,D;const v=(N=b.target.files)==null?void 0:N[0];if(v)try{c(!0);const P=await v.arrayBuffer(),T=fm(P),_=T.Sheets[T.SheetNames[0]],O=$r.sheet_to_json(_,{defval:""});let F=0,I=0;const R=[];for(let H=0;H<O.length;H++){const W=O[H],M=H+2;if(!W.Name||!W.Name.trim()){R.push(`Row ${M}: Name is required`),I++;continue}try{await he.createBrand({name:W.Name.trim(),nameAr:((j=W.NameAr)==null?void 0:j.trim())||void 0,code:((k=W.Code)==null?void 0:k.trim())||void 0,shortName:((S=W.ShortName)==null?void 0:S.trim())||void 0,brandType:((C=W.BrandType)==null?void 0:C.trim())||void 0,status:((A=W.Status)==null?void 0:A.trim())||"Active",rechargeUsdValue:W.RechargeUsdValue?typeof W.RechargeUsdValue=="string"?parseFloat(W.RechargeUsdValue.replace(/[^\d.-]/g,""))||0:W.RechargeUsdValue:0,usdValueForCoins:W.UsdValueForCoins?typeof W.UsdValueForCoins=="string"?parseFloat(W.UsdValueForCoins.replace(/[^\d.-]/g,""))||0:W.UsdValueForCoins:0,safetyStock:W.SafetyStock?typeof W.SafetyStock=="string"?parseInt(W.SafetyStock.replace(/[^\d]/g,""))||0:W.SafetyStock:0,leadTime:W.LeadTime?typeof W.LeadTime=="string"?parseInt(W.LeadTime.replace(/[^\d]/g,""))||0:W.LeadTime:0,reorderPoint:W.ReorderPoint?typeof W.ReorderPoint=="string"?parseInt(W.ReorderPoint.replace(/[^\d]/g,""))||0:W.ReorderPoint:0,averageConsumptionPerMonth:W.AverageConsumptionPerMonth?typeof W.AverageConsumptionPerMonth=="string"?parseFloat(W.AverageConsumptionPerMonth.replace(/[^\d.-]/g,""))||0:W.AverageConsumptionPerMonth:0,averageConsumptionPerDay:W.AverageConsumptionPerDay?typeof W.AverageConsumptionPerDay=="string"?parseFloat(W.AverageConsumptionPerDay.replace(/[^\d.-]/g,""))||0:W.AverageConsumptionPerDay:0,abcAnalysis:((E=W.AbcAnalysis)==null?void 0:E.trim())||void 0,odooCategoryId:((D=W.OdooCategoryId)==null?void 0:D.trim())||void 0}),F++}catch(G){const V=(G==null?void 0:G.message)||"Unknown error";R.push(`Row ${M} (${W.Name}): ${V}`),I++}}const L=R.length>0?`

Errors:
${R.slice(0,10).join(`
`)}${R.length>10?`
... and ${R.length-10} more errors`:""}`:"";e({title:F>0?" ":" ",description:`  ${F}  ${I>0?`  ${I}`:""}${L}`,variant:I>F?"destructive":"default"}),h(),b.target.value=""}catch(P){e({title:"   ",description:(P==null?void 0:P.message)||"     .     .",variant:"destructive"})}finally{c(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",onClick:y,children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs("label",{children:[s.jsx(z,{variant:"outline",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Gn,{className:"h-4 w-4 mr-2"}),""]})}),s.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:w,className:"hidden"})]}),s.jsxs(z,{onClick:()=>{x(),n(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:"  "}),s.jsx(Vt,{children:"     "})]}),s.jsx(Ce,{children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:t.map(b=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:String(b.name||"")}),b.nameAr&&s.jsx("div",{className:"text-sm text-gray-500",children:b.nameAr})]})}),s.jsx(ke,{children:s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:b.code||"-"})}),s.jsx(ke,{children:b.brandType||"-"}),s.jsx(ke,{children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${b.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:b.status})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>p(b),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(b.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})})]},b.id))})]})})]}),s.jsx(Qt,{open:a,onOpenChange:n,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:i?"  ":"   "}),s.jsx(ur,{children:"      "})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"name",children:"   *"}),s.jsx(me,{id:"name",value:d.name,onChange:b=>u({...d,name:b.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"nameAr",children:"   ()"}),s.jsx(me,{id:"nameAr",value:d.nameAr,onChange:b=>u({...d,nameAr:b.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"code",children:"  "}),s.jsx(me,{id:"code",value:d.code,onChange:b=>u({...d,code:b.target.value}),placeholder:": E01006"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"shortName",children:" "}),s.jsx(me,{id:"shortName",value:d.shortName,onChange:b=>u({...d,shortName:b.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"brandType",children:"  "}),s.jsx(me,{id:"brandType",value:d.brandType,onChange:b=>u({...d,brandType:b.target.value}),placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"status",children:""}),s.jsxs(nr,{value:d.status,onValueChange:b=>u({...d,status:b}),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"Active",children:""}),s.jsx(Oe,{value:"Inactive",children:" "})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"rechargeUsdValue",children:"   (USD)"}),s.jsx(me,{id:"rechargeUsdValue",type:"number",step:"0.01",value:d.rechargeUsdValue,onChange:b=>u({...d,rechargeUsdValue:parseFloat(b.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"usdValueForCoins",children:"  (USD)"}),s.jsx(me,{id:"usdValueForCoins",type:"number",step:"0.01",value:d.usdValueForCoins,onChange:b=>u({...d,usdValueForCoins:parseFloat(b.target.value)||0})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"safetyStock",children:" "}),s.jsx(me,{id:"safetyStock",type:"number",step:"0.01",value:d.safetyStock,onChange:b=>u({...d,safetyStock:parseFloat(b.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"leadTime",children:"  ()"}),s.jsx(me,{id:"leadTime",type:"number",value:d.leadTime,onChange:b=>u({...d,leadTime:parseInt(b.target.value)||0})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"reorderPoint",children:"  "}),s.jsx(me,{id:"reorderPoint",type:"number",step:"0.01",value:d.reorderPoint,onChange:b=>u({...d,reorderPoint:parseFloat(b.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"abcAnalysis",children:" ABC"}),s.jsxs(nr,{value:d.abcAnalysis,onValueChange:b=>u({...d,abcAnalysis:b}),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"A - High Value",children:"A -  "}),s.jsx(Oe,{value:"B - Medium Value",children:"B -  "}),s.jsx(Oe,{value:"C - Low Value",children:"C -  "})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"averageConsumptionPerMonth",children:"  "}),s.jsx(me,{id:"averageConsumptionPerMonth",type:"number",step:"0.01",value:d.averageConsumptionPerMonth,onChange:b=>u({...d,averageConsumptionPerMonth:parseFloat(b.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"averageConsumptionPerDay",children:"  "}),s.jsx(me,{id:"averageConsumptionPerDay",type:"number",step:"0.01",value:d.averageConsumptionPerDay,onChange:b=>u({...d,averageConsumptionPerDay:parseFloat(b.target.value)||0})})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"odooCategoryId",children:"  Odoo"}),s.jsx(me,{id:"odooCategoryId",value:d.odooCategoryId,onChange:b=>u({...d,odooCategoryId:b.target.value}),placeholder:"     Odoo"})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"enableSlider",className:"text-base font-semibold",children:"   (Slider)"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"      -        "})]}),s.jsx(ir,{id:"enableSlider",checked:d.enableSlider,onCheckedChange:b=>u({...d,enableSlider:b})})]}),d.enableSlider&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"minQuantity",children:"  "}),s.jsx(me,{id:"minQuantity",type:"number",min:"1",value:d.minQuantity,onChange:b=>u({...d,minQuantity:b.target.value}),placeholder:"1"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"maxQuantity",children:"  "}),s.jsx(me,{id:"maxQuantity",type:"number",min:"1",value:d.maxQuantity,onChange:b=>u({...d,maxQuantity:b.target.value}),placeholder:"100"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(ir,{id:"applySliderToAllProducts",checked:d.applySliderToAllProducts,onCheckedChange:b=>u({...d,applySliderToAllProducts:b})}),s.jsx(X,{htmlFor:"applySliderToAllProducts",className:"text-sm",children:"      "})]})]})]}),s.jsxs(Vr,{children:[s.jsxs(z,{type:"button",variant:"outline",onClick:()=>{n(!1),x()},children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(z,{type:"submit",disabled:l,children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),l?" ...":""]})]})]})]})})]})}function Sz(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(null),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(null),[h,m]=f.useState(!1),[p,g]=f.useState({code:"",name:"",nameAr:"",symbol:"",exchangeRate:1}),[x,y]=f.useState({baseCurrency:"SAR",autoUpdateRates:!1});f.useEffect(()=>{w(),b()},[]);const w=async()=>{try{const C=await he.get("/currencies");if(Array.isArray(C)){const A=C.filter(E=>E&&typeof E=="object"&&E.id&&E.code&&!("error"in E));r(A)}else r([])}catch{r([]),e({title:"  ",description:"    .   .",variant:"destructive"})}},b=async()=>{try{const C=await he.get("/currencies/settings");C&&typeof C=="object"&&!("error"in C)&&C.baseCurrency&&(n(C),y({baseCurrency:String(C.baseCurrency||"SAR"),autoUpdateRates:!!C.autoUpdateRates}))}catch{}},v=async C=>{C.preventDefault(),m(!0);try{d?(await he.put(`/currencies/${d.code}`,{...p,exchangeRate:parseFloat(p.exchangeRate.toString())}),e({title:"",description:"   "})):(await he.post("/currencies",{...p,exchangeRate:parseFloat(p.exchangeRate.toString())}),e({title:"",description:"   "})),o(!1),S(),w()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{m(!1)}},N=async()=>{m(!0);try{await he.put("/currencies/settings",x),e({title:"",description:"    "}),c(!1),b(),w()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{m(!1)}},j=C=>{u(C),g({code:C.code,name:C.name,nameAr:C.nameAr||"",symbol:C.symbol,exchangeRate:Number(C.exchangeRate)}),o(!0)},k=async C=>{if(confirm("      "))try{await he.delete(`/currencies/${C}`),e({title:"",description:"   "}),w()}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}},S=()=>{g({code:"",name:"",nameAr:"",symbol:"",exchangeRate:1}),u(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(z,{variant:"outline",onClick:()=>c(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"})," "]}),s.jsxs(z,{onClick:()=>{S(),o(!0)},children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"})," "]})]})]}),a&&s.jsx(je,{children:s.jsxs(et,{children:[s.jsx(at,{children:"  "}),s.jsxs(Vt,{children:[" : ",String(a.baseCurrency||"")]})]})}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:t.map(C=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:String(C.code||"")})}),s.jsx(ke,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:String(C.name||"")}),C.nameAr&&typeof C.nameAr=="string"&&s.jsx("div",{className:"text-sm text-gray-500",children:C.nameAr})]})}),s.jsx(ke,{children:String(C.symbol||"")}),s.jsxs(ke,{children:[Number(C.exchangeRate).toFixed(4),C.code===(a==null?void 0:a.baseCurrency)&&s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"()"})]}),s.jsx(ke,{children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:C.isActive?"":" "})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>j(C),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>k(C.code),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})})]},C.id))})]})})]}),s.jsx(Qt,{open:i,onOpenChange:o,children:s.jsxs(Yt,{className:"max-w-2xl",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:d?" ":"  "}),s.jsx(ur,{children:"     "})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"code",children:"  (ISO) *"}),s.jsx(me,{id:"code",value:p.code,onChange:C=>g({...p,code:C.target.value.toUpperCase()}),required:!0,placeholder:": USD, SAR, EUR",className:"font-mono",disabled:!!d}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" ISO 4217 (3 )"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"symbol",children:""}),s.jsx(me,{id:"symbol",value:p.symbol,onChange:C=>g({...p,symbol:C.target.value}),required:!0,placeholder:": $, SAR, "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"name",children:"  *"}),s.jsx(me,{id:"name",value:p.name,onChange:C=>g({...p,name:C.target.value}),required:!0,placeholder:": US Dollar"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"nameAr",children:"  ()"}),s.jsx(me,{id:"nameAr",value:p.nameAr,onChange:C=>g({...p,nameAr:C.target.value}),placeholder:":  "})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"exchangeRate",children:"  *"}),s.jsx(me,{id:"exchangeRate",type:"number",min:"0",step:"0.0001",value:p.exchangeRate,onChange:C=>g({...p,exchangeRate:parseFloat(C.target.value)||0}),required:!0,placeholder:"1.0000"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     (  = 1.0000)"})]}),s.jsxs(Vr,{children:[s.jsxs(z,{type:"button",variant:"outline",onClick:()=>{o(!1),S()},children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(z,{type:"submit",disabled:h,children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),h?" ...":""]})]})]})]})}),s.jsx(Qt,{open:l,onOpenChange:c,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:" "}),s.jsx(ur,{children:"     "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"baseCurrency",children:"  *"}),s.jsxs(nr,{value:x.baseCurrency,onValueChange:C=>y({...x,baseCurrency:C}),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsx(Zt,{children:t.map(C=>s.jsxs(Oe,{value:C.code,children:[C.code," - ",C.name]},C.code))})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"         "})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"autoUpdateRates",children:"   "}),s.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),s.jsx(ir,{id:"autoUpdateRates",checked:x.autoUpdateRates,onCheckedChange:C=>y({...x,autoUpdateRates:C})})]}),s.jsxs(Vr,{children:[s.jsxs(z,{type:"button",variant:"outline",onClick:()=>c(!1),children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),""]}),s.jsxs(z,{onClick:N,disabled:h,children:[s.jsx(Ha,{className:"h-4 w-4 mr-2"}),h?" ...":""]})]})]})]})})]})}const odt={HYPERPAY:{name:"HyperPay",nameAr:" ",description:"  ",descriptionAr:"  ",icon:Wr,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-600"},STRIPE:{name:"Stripe",nameAr:"",description:"  ",descriptionAr:"  ",icon:Wr,color:"bg-purple-100 dark:bg-purple-900/30 text-purple-600"},PAYPAL:{name:"PayPal",nameAr:" ",description:"Global Payment Gateway",descriptionAr:"  ",icon:Wr,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-600"},NEOLEAP:{name:"Neoleap",nameAr:"",description:"Saudi Payment Gateway",descriptionAr:"  ",icon:Wr,color:"bg-green-100 dark:bg-green-900/30 text-green-600"},CASH_ON_DELIVERY:{name:"Cash on Delivery",nameAr:"  ",description:"    ",descriptionAr:"    ",icon:pn,color:"bg-green-100 dark:bg-green-900/30 text-green-600"}};function ldt(){const{toast:e}=Rt(),[t,r]=f.useState(!1),[a,n]=f.useState(!0),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState({});f.useEffect(()=>{(async()=>{try{await Promise.all([g(),p(),x()])}finally{n(!1)}})()},[]);const p=async()=>{try{const S=await Kk.getCurrentUserTenant();c(S)}catch{}},g=async()=>{try{const S=await he.get("/payment/methods",{requireAuth:!0}),C=Array.isArray(S)?S:(S==null?void 0:S.methods)||[];u(C)}catch(S){console.error("Failed to load payment gateways:",S),e({title:"   ",description:"     .   .",variant:"destructive"})}},x=async()=>{try{const S=await he.get("/payment/settings",{requireAuth:!0}).catch(()=>null);if(S){const C={};S.hyperPayEnabled&&(C.HYPERPAY={enabled:!0,entityId:S.hyperPayEntityId||"",accessToken:S.hyperPayAccessToken||"",testMode:S.hyperPayTestMode??!0,currency:S.hyperPayCurrency||"SAR"}),S.stripeEnabled&&(C.STRIPE={enabled:!0,publishableKey:S.stripePublishableKey||"",secretKey:S.stripeSecretKey||""}),S.payPalEnabled&&(C.PAYPAL={enabled:!0,clientId:S.payPalClientId||"",secret:S.payPalSecret||"",mode:S.payPalMode||"sandbox"}),S.neoleapEnabled&&(C.NEOLEAP={enabled:!0,clientId:S.neoleapClientId||"",clientSecret:S.neoleapClientSecret||"",terminalId:S.neoleapTerminalId||"",mode:S.neoleapMode||"test"}),S.codEnabled!==!1&&(C.CASH_ON_DELIVERY={enabled:!0}),m(C)}}catch{}},y=async()=>{var S,C,A,E,D,P,T,_,O,F,I,R,L,H,W,M,G,V;r(!0);try{const q={hyperPayEnabled:((S=h.HYPERPAY)==null?void 0:S.enabled)||!1,hyperPayEntityId:((C=h.HYPERPAY)==null?void 0:C.entityId)||"",hyperPayAccessToken:((A=h.HYPERPAY)==null?void 0:A.accessToken)||"",hyperPayTestMode:((E=h.HYPERPAY)==null?void 0:E.testMode)??!0,hyperPayCurrency:((D=h.HYPERPAY)==null?void 0:D.currency)||"SAR",stripeEnabled:((P=h.STRIPE)==null?void 0:P.enabled)||!1,stripePublishableKey:((T=h.STRIPE)==null?void 0:T.publishableKey)||"",stripeSecretKey:((_=h.STRIPE)==null?void 0:_.secretKey)||"",payPalEnabled:((O=h.PAYPAL)==null?void 0:O.enabled)||!1,payPalClientId:((F=h.PAYPAL)==null?void 0:F.clientId)||"",payPalSecret:((I=h.PAYPAL)==null?void 0:I.secret)||"",payPalMode:((R=h.PAYPAL)==null?void 0:R.mode)||"sandbox",neoleapEnabled:((L=h.NEOLEAP)==null?void 0:L.enabled)||!1,neoleapClientId:((H=h.NEOLEAP)==null?void 0:H.clientId)||"",neoleapClientSecret:((W=h.NEOLEAP)==null?void 0:W.clientSecret)||"",neoleapTerminalId:((M=h.NEOLEAP)==null?void 0:M.terminalId)||"",neoleapMode:((G=h.NEOLEAP)==null?void 0:G.mode)||"test",codEnabled:((V=h.CASH_ON_DELIVERY)==null?void 0:V.enabled)!==!1};await he.put("/payment/settings",q,{requireAuth:!0}),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{r(!1)}},w=async()=>{var S,C,A;o(!0);try{await he.post("/payment/hyperpay/test",{entityId:(S=h.HYPERPAY)==null?void 0:S.entityId,accessToken:(C=h.HYPERPAY)==null?void 0:C.accessToken,testMode:(A=h.HYPERPAY)==null?void 0:A.testMode},{requireAuth:!0}),e({title:" ",description:"   HyperPay "})}catch(E){e({title:" ",description:(E==null?void 0:E.message)||"   ",variant:"destructive"})}finally{o(!1)}},b=S=>l!=null&&l.subscriptionPlan?l.subscriptionPlan.features.includes(S):!1,v=S=>s.jsx("div",{className:"absolute inset-0 bg-gray-100/50 dark:bg-gray-900/50 backdrop-blur-[1px] z-10 flex items-center justify-center rounded-xl",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg flex flex-col items-center gap-2 border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full",children:s.jsx(ci,{className:"w-5 h-5 text-gray-500"})}),s.jsxs("p",{className:"font-medium text-sm",children:["Upgrade to use ",S]}),s.jsx(z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/dashboard/subscription",children:"View Plans"})]})}),N=(S,C,A)=>{m(E=>({...E,[S]:{...E[S],[C]:A}}))},j=(S,C)=>{m(A=>({...A,[S]:{...A[S],enabled:C}}))},k=S=>{var T,_,O,F,I,R,L,H,W,M,G,V,q,Y,U,Z;const C=odt[S.provider]||{name:S.name,nameAr:S.name,description:"",descriptionAr:"",icon:Wr,color:"bg-gray-100 dark:bg-gray-900/30 text-gray-600"},A=C.icon,E=((T=h[S.provider])==null?void 0:T.enabled)||!1,D=`payment_gateway_${S.provider.toLowerCase()}`,P=b(D);return s.jsxs(je,{className:"relative",children:[!P&&v(C.name),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${C.color}`,children:s.jsx(A,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(at,{children:C.name}),s.jsx(Vt,{children:C.descriptionAr||C.description})]})]}),s.jsx(ir,{checked:E,onCheckedChange:J=>j(S.provider,J),disabled:!P})]})}),E&&P&&s.jsxs(Ce,{className:"space-y-4",children:[S.provider==="HYPERPAY"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-entityId`,children:"Entity ID *"}),s.jsx(me,{id:`${S.id}-entityId`,value:((_=h.HYPERPAY)==null?void 0:_.entityId)||"",onChange:J=>N("HYPERPAY","entityId",J.target.value),placeholder:"8a8294174b7ecb28014b9699220015ca"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-accessToken`,children:"Access Token *"}),s.jsx(me,{id:`${S.id}-accessToken`,type:"password",value:((O=h.HYPERPAY)==null?void 0:O.accessToken)||"",onChange:J=>N("HYPERPAY","accessToken",J.target.value),placeholder:"OGE4Mjk0MTc0YjdlY2IyODE0Yjk2OTkyMjAwMTVjYXxzeXpBN3p2UVE="})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-currency`,children:""}),s.jsxs("select",{id:`${S.id}-currency`,value:((F=h.HYPERPAY)==null?void 0:F.currency)||"SAR",onChange:J=>N("HYPERPAY","currency",J.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"SAR",children:"  (SAR)"}),s.jsx("option",{value:"AED",children:"  (AED)"}),s.jsx("option",{value:"KWD",children:"  (KWD)"}),s.jsx("option",{value:"USD",children:"  (USD)"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(ir,{id:`${S.id}-testMode`,checked:((I=h.HYPERPAY)==null?void 0:I.testMode)??!0,onCheckedChange:J=>N("HYPERPAY","testMode",J)}),s.jsx(X,{htmlFor:`${S.id}-testMode`,className:"cursor-pointer",children:" "})]})]}),s.jsx(z,{variant:"outline",onClick:w,disabled:i||!((R=h.HYPERPAY)!=null&&R.entityId)||!((L=h.HYPERPAY)!=null&&L.accessToken),children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"mr-2 h-4 w-4"})," "]})})]}),S.provider==="STRIPE"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-publishableKey`,children:"Publishable Key"}),s.jsx(me,{id:`${S.id}-publishableKey`,value:((H=h.STRIPE)==null?void 0:H.publishableKey)||"",onChange:J=>N("STRIPE","publishableKey",J.target.value),placeholder:"pk_test_..."})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-secretKey`,children:"Secret Key"}),s.jsx(me,{id:`${S.id}-secretKey`,type:"password",value:((W=h.STRIPE)==null?void 0:W.secretKey)||"",onChange:J=>N("STRIPE","secretKey",J.target.value),placeholder:"sk_test_..."})]})]}),S.provider==="PAYPAL"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-clientId`,children:"Client ID"}),s.jsx(me,{id:`${S.id}-clientId`,value:((M=h.PAYPAL)==null?void 0:M.clientId)||"",onChange:J=>N("PAYPAL","clientId",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-secret`,children:"Secret"}),s.jsx(me,{id:`${S.id}-secret`,type:"password",value:((G=h.PAYPAL)==null?void 0:G.secret)||"",onChange:J=>N("PAYPAL","secret",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-mode`,children:"Mode"}),s.jsxs("select",{id:`${S.id}-mode`,value:((V=h.PAYPAL)==null?void 0:V.mode)||"sandbox",onChange:J=>N("PAYPAL","mode",J.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"sandbox",children:"Sandbox"}),s.jsx("option",{value:"live",children:"Live"})]})]})]}),S.provider==="NEOLEAP"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-clientId`,children:"Client ID"}),s.jsx(me,{id:`${S.id}-clientId`,value:((q=h.NEOLEAP)==null?void 0:q.clientId)||"",onChange:J=>N("NEOLEAP","clientId",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-clientSecret`,children:"Client Secret"}),s.jsx(me,{id:`${S.id}-clientSecret`,type:"password",value:((Y=h.NEOLEAP)==null?void 0:Y.clientSecret)||"",onChange:J=>N("NEOLEAP","clientSecret",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-terminalId`,children:"Terminal ID"}),s.jsx(me,{id:`${S.id}-terminalId`,value:((U=h.NEOLEAP)==null?void 0:U.terminalId)||"",onChange:J=>N("NEOLEAP","terminalId",J.target.value)})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:`${S.id}-mode`,children:"Mode"}),s.jsxs("select",{id:`${S.id}-mode`,value:((Z=h.NEOLEAP)==null?void 0:Z.mode)||"test",onChange:J=>N("NEOLEAP","mode",J.target.value),className:"w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"test",children:"Test"}),s.jsx("option",{value:"live",children:"Live"})]})]})]}),S.provider==="CASH_ON_DELIVERY"&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"      "})]})]},S.id)};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),d.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"py-12 text-center",children:[s.jsx(Wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     .       ."})]})}):s.jsx("div",{className:"space-y-4",children:d.map(k)}),d.length>0&&s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{size:"lg",onClick:y,disabled:t,className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"mr-2 h-5 w-5"})," "]})})})]})}function cdt(){const{toast:e}=Rt(),[t,r]=f.useState(!0),[a,n]=f.useState(!1),[i,o]=f.useState([]),l=f.useCallback(async()=>{try{r(!0);const h=await he.get("/payment-options",{requireAuth:!0});o(Array.isArray(h)?h:[])}catch(h){console.error("Failed to load payment options:",h),e({title:"   ",description:"     .   .",variant:"destructive"})}finally{r(!1)}},[e]);f.useEffect(()=>{l()},[l]);const c=async h=>{var m,p;try{const g=i.find(y=>y.paymentMethodId===h),x=!(g!=null&&g.isEnabled);o(y=>y.map(w=>w.paymentMethodId===h?{...w,isEnabled:x}:w)),await he.put(`/payment-options/${h}`,{isEnabled:x,displayOrder:(g==null?void 0:g.displayOrder)||0},{requireAuth:!0}),e({title:"",description:x?"   ":"    "})}catch(g){console.error("Failed to toggle payment option:",g),l(),e({title:"",description:((p=(m=g==null?void 0:g.response)==null?void 0:m.data)==null?void 0:p.message)||"   ",variant:"destructive"})}},d=async()=>{try{n(!0);const h=i.map(m=>({paymentMethodId:m.paymentMethodId,isEnabled:m.isEnabled,displayOrder:m.displayOrder}));await he.put("/payment-options/bulk",h,{requireAuth:!0}),e({title:"",description:"     "})}catch(h){console.error("Failed to save payment options:",h),e({title:"",description:"   ",variant:"destructive"})}finally{n(!1)}},u=h=>({HYPERPAY:{label:"HyperPay",variant:"default"},NEOLEAP:{label:"Neoleap",variant:"secondary"},STRIPE:{label:"Stripe",variant:"outline"},PAYPAL:{label:"PayPal",variant:"outline"},CASH_ON_DELIVERY:{label:"COD",variant:"secondary"}})[h]||{label:h,variant:"outline"};return t?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-indigo-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:" "}),s.jsx("p",{className:"text-gray-400",children:"      .        ."})]}),s.jsx(z,{onClick:d,disabled:a,className:"gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4"})," "]})})]}),s.jsxs(yi,{className:"bg-blue-500/10 border-blue-500/20",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsx(bi,{className:"text-gray-300",children:"            .        ."})]}),i.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"py-12 text-center",children:[s.jsx(Wr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-400",children:"    "}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"        "})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(h=>{const m=u(h.provider);return s.jsxs(je,{className:`transition-all ${h.isEnabled?"border-green-500/50 bg-green-500/5":"border-gray-700 bg-gray-800/30"}`,children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(at,{className:"text-lg",children:h.name}),h.isGlobal&&s.jsxs(Ze,{variant:"outline",className:"text-xs",children:[s.jsx(Oa,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsxs(Vt,{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:m.variant,children:m.label}),h.isEnabled?s.jsxs("span",{className:"text-green-400 text-xs flex items-center gap-1",children:[s.jsx(ks,{className:"w-3 h-3"}),""]}):s.jsxs("span",{className:"text-gray-500 text-xs flex items-center gap-1",children:[s.jsx(Cs,{className:"w-3 h-3"}),""]})]})]}),s.jsx(ir,{checked:h.isEnabled,onCheckedChange:()=>c(h.paymentMethodId)})]})}),h.isEnabled&&s.jsx(Ce,{children:s.jsx("div",{className:"text-xs text-gray-400",children:"      "})})]},h.id)})})]})}function ddt(){const{toast:e}=Rt(),[t,r]=f.useState(!1),[a,n]=f.useState({allowGuestCheckout:!0,requireEmailForGuests:!0,requirePhoneForGuests:!0,forceAccountCreation:!1,requireEmailVerification:!1,requirePhoneVerification:!1,requireIdVerification:!1,idVerificationThreshold:1e3});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await he.get("/checkout/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{r(!0);try{await he.put("/checkout/settings",a),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"      "})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:s.jsx(Dr,{className:"h-6 w-6 text-indigo-600"})}),s.jsxs("div",{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"     "})]})]})}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"allowGuestCheckout",className:"text-base font-medium",children:"  "}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ir,{id:"allowGuestCheckout",checked:a.allowGuestCheckout,onCheckedChange:l=>n({...a,allowGuestCheckout:l})})]}),a.allowGuestCheckout&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(X,{htmlFor:"requireEmailForGuests",className:"text-base font-medium flex items-center gap-2",children:[s.jsx(la,{className:"h-4 w-4"}),"  "]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ir,{id:"requireEmailForGuests",checked:a.requireEmailForGuests,onCheckedChange:l=>n({...a,requireEmailForGuests:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(X,{htmlFor:"requirePhoneForGuests",className:"text-base font-medium flex items-center gap-2",children:[s.jsx(Si,{className:"h-4 w-4"}),"  "]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ir,{id:"requirePhoneForGuests",checked:a.requirePhoneForGuests,onCheckedChange:l=>n({...a,requirePhoneForGuests:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(X,{htmlFor:"forceAccountCreation",className:"text-base font-medium flex items-center gap-2",children:[s.jsx(jd,{className:"h-4 w-4"}),"  "]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"      "})]}),s.jsx(ir,{id:"forceAccountCreation",checked:a.forceAccountCreation,onCheckedChange:l=>n({...a,forceAccountCreation:l})})]})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(Ux,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx(at,{children:"   (KYC)"}),s.jsx(Vt,{children:"    "})]})]})}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"requireEmailVerification",className:"text-base font-medium",children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ir,{id:"requireEmailVerification",checked:a.requireEmailVerification,onCheckedChange:l=>n({...a,requireEmailVerification:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"requirePhoneVerification",className:"text-base font-medium",children:"   "}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"       SMS"})]}),s.jsx(ir,{id:"requirePhoneVerification",checked:a.requirePhoneVerification,onCheckedChange:l=>n({...a,requirePhoneVerification:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{htmlFor:"requireIdVerification",className:"text-base font-medium",children:"  "}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx(ir,{id:"requireIdVerification",checked:a.requireIdVerification,onCheckedChange:l=>n({...a,requireIdVerification:l})})]}),a.requireIdVerification&&s.jsxs("div",{children:[s.jsx(X,{htmlFor:"idVerificationThreshold",children:"    (.)"}),s.jsx(me,{id:"idVerificationThreshold",type:"number",value:a.idVerificationThreshold,onChange:l=>n({...a,idVerificationThreshold:parseFloat(l.target.value)}),placeholder:"1000"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"         "})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{size:"lg",onClick:o,disabled:t,className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"mr-2 h-5 w-5"})," "]})})})]})}function udt(){const{toast:e}=Rt(),[t,r]=f.useState(!1),[a,n]=f.useState({emailNotifications:!0,orderNotifications:!0,customerNotifications:!0,inventoryNotifications:!0,marketingNotifications:!1,pushNotifications:!1});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await he.get("/notifications/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{r(!0);try{await he.put("/notifications/settings",a),e({title:" ",description:"    "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"        "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:a.emailNotifications,onCheckedChange:l=>n({...a,emailNotifications:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:a.orderNotifications,onCheckedChange:l=>n({...a,orderNotifications:l}),disabled:!a.emailNotifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}),s.jsx(ir,{checked:a.customerNotifications,onCheckedChange:l=>n({...a,customerNotifications:l}),disabled:!a.emailNotifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:a.inventoryNotifications,onCheckedChange:l=>n({...a,inventoryNotifications:l}),disabled:!a.emailNotifications})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:a.marketingNotifications,onCheckedChange:l=>n({...a,marketingNotifications:l}),disabled:!a.emailNotifications})]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"   "})]}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:a.pushNotifications,onCheckedChange:l=>n({...a,pushNotifications:l})})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(z,{onClick:o,disabled:t,children:[s.jsx(Ha,{className:"mr-2 h-4 w-4"}),t?" ...":""]})})]})}function hdt(){const{toast:e}=Rt(),[t,r]=f.useState(!1),[a,n]=f.useState(null),[i,o]=f.useState("");f.useEffect(()=>{l()},[]);const l=async()=>{try{const v=await he.getDomain();n(v)}catch{}},c=async v=>{v.preventDefault(),r(!0);try{await he.addCustomDomain(i),e({title:" ",description:"   .   DNS."}),l(),o("")}catch{e({variant:"destructive",title:"  ",description:"    .    ."})}finally{r(!1)}},d=v=>{navigator.clipboard.writeText(v),e({title:" ",description:"    "})},u=window.location.hostname.includes("saeaa.net")?"saeaa.net":"saeaa.com",h=(a==null?void 0:a.subdomain)||`mystore.${u}`,m=(a==null?void 0:a.customDomain)||"",p=(a==null?void 0:a.verified)||!1,[g,x]=f.useState(!1),[y,w]=f.useState("");f.useEffect(()=>{a!=null&&a.subdomain&&w(a.subdomain)},[a]);const b=async()=>{r(!0);try{await he.updateCurrentUserTenant({subdomain:y}),e({title:" ",description:"    "}),x(!1),l()}catch{e({variant:"destructive",title:"   ",description:"     .    ."})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:" "}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"   "})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"  "})]}),s.jsx(Ce,{className:"space-y-4",children:s.jsx("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:g?s.jsxs("div",{className:"flex items-center gap-2 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(me,{value:y,onChange:v=>w(v.target.value),placeholder:"subdomain",className:"max-w-[200px]",dir:"ltr"}),s.jsxs("span",{className:"text-muted-foreground text-sm",dir:"ltr",children:[".",u]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{size:"sm",onClick:b,disabled:t,children:""}),s.jsx(z,{size:"sm",variant:"ghost",onClick:()=>x(!1),children:""})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oa,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-lg",dir:"ltr",children:h}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{w((a==null?void 0:a.subdomain)||""),x(!0)},children:""}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>d(`https://${h}`),children:[s.jsx($l,{className:"h-4 w-4 ml-2"}),""]}),s.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:`https://${h}`,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(zh,{className:"h-4 w-4 ml-2"}),""]})})]})]})})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"   "})]}),s.jsxs(Ce,{className:"space-y-6",children:[m?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oa,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-lg",children:m}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx(Us,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm text-orange-600",children:"  "})]})})]})]}),s.jsx(Ze,{variant:p?"default":"secondary",children:p?"":""})]}),!p&&s.jsxs(yi,{children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx(bi,{children:"   DNS  .     48 ."})]})]}):s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"customDomain",children:" "}),s.jsx(me,{id:"customDomain",type:"text",placeholder:"www.mystore.com",value:i,onChange:v=>o(v.target.value),required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"     "})]}),s.jsx(z,{type:"submit",disabled:t,children:t?" ...":" "})]}),s.jsx(Qs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"  DNS"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"     "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" GoDaddy Namecheap    "})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"2"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium mb-2",children:"  CNAME"}),s.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-mono",children:"Type: CNAME"}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d("CNAME"),children:s.jsx($l,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-mono",children:"Name: www"}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d("www"),children:s.jsx($l,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm font-mono",children:["Value: cname.",u]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d(`cname.${u}`),children:s.jsx($l,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"  DNS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"       48 "})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})]})]})]})]})]})]})]})}const kz=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const r=e.response;if((t=r==null?void 0:r.data)!=null&&t.message)return r.data.message}return"   "};function mdt(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({email:"",name:"",role:"STAFF",password:""});f.useEffect(()=>{m()},[]);const h=()=>{u({email:"",name:"",role:"STAFF",password:""}),c(null)},m=async()=>{try{n(!0);const w=await he.get("/user/list",{requireAuth:!0});let b=[];w&&typeof w=="object"&&(Array.isArray(w)?b=w:w.data&&Array.isArray(w.data)?b=w.data:w.users&&Array.isArray(w.users)&&(b=w.users)),Array.isArray(b)?r(b):r([])}catch(w){console.error("Failed to load users:",w),r([]),e({title:"  ",description:(w==null?void 0:w.message)||"    .   .",variant:"destructive"})}finally{n(!1)}},p=async w=>{w.preventDefault(),n(!0);try{l?(await he.put(`/users/${encodeURIComponent(l.id)}`,{email:d.email,name:d.name,role:d.role},{requireAuth:!0}),e({title:"",description:"   "})):(await he.post("/staff",{email:d.email,name:d.name,password:d.password||void 0,role:d.role},{requireAuth:!0}),e({title:"",description:"   "})),o(!1),h(),await m()}catch(b){e({title:"  ",description:kz(b)||"    .    .",variant:"destructive"})}finally{n(!1)}},g=w=>{c(w),u({email:w.email,name:w.name||"",role:w.role,password:""}),o(!0)},x=async w=>{if(confirm("      "))try{await he.delete(`/users/${encodeURIComponent(w)}`,{requireAuth:!0}),e({title:"",description:"   "}),await m()}catch(b){console.error("Failed to delete user:",b),e({title:"  ",description:kz(b)||"    .    .",variant:"destructive"})}},y=w=>{const v={SHOP_OWNER:{label:" ",variant:"default"},ADMIN:{label:"",variant:"secondary"},STAFF:{label:"",variant:"outline"}}[w]||{label:w,variant:"outline"};return s.jsx(Ze,{variant:v.variant,children:v.label})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),s.jsxs(z,{onClick:()=>{h(),o(!0)},children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"})," "]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:a&&t.length===0?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(Ge,{className:"h-6 w-6 animate-spin"})}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:t.length===0?s.jsx(jt,{children:s.jsx(ke,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"  "})}):t.map(w=>s.jsxs(jt,{children:[s.jsx(ke,{children:String(w.name||"-")}),s.jsx(ke,{children:String(w.email||"")}),s.jsx(ke,{children:y(String(w.role||""))}),s.jsx(ke,{children:w.createdAt?new Date(w.createdAt).toLocaleDateString("ar-SA"):"-"}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(w),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x(w.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})})]},w.id))})]})})]}),s.jsx(Qt,{open:i,onOpenChange:o,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:l?" ":"  "}),s.jsx(ur,{children:l?"   ":"   "})]}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"name",children:""}),s.jsx(me,{id:"name",value:d.name,onChange:w=>u({...d,name:w.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"email",children:"  *"}),s.jsx(me,{id:"email",type:"email",value:d.email,onChange:w=>u({...d,email:w.target.value}),placeholder:"example@email.com",required:!0})]}),!l&&s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{htmlFor:"password",children:["  ",!l&&"()"]}),s.jsx(me,{id:"password",type:"password",value:d.password,onChange:w=>u({...d,password:w.target.value}),placeholder:l?"      ":"       "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"role",children:" *"}),s.jsxs(nr,{value:d.role,onValueChange:w=>u({...d,role:w}),children:[s.jsx(Jt,{id:"role",children:s.jsx(cr,{placeholder:" "})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"STAFF",children:""}),s.jsx(Oe,{value:"ADMIN",children:""}),s.jsx(Oe,{value:"SHOP_OWNER",children:" "})]})]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>{o(!1),h()},children:""}),s.jsxs(z,{type:"submit",disabled:a,children:[a&&s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),l?" ":" "]})]})]})]})})]})}const Cz=[{value:"ANALYTICS",label:""},{value:"SHIPPING",label:""},{value:"EMAIL",label:" "},{value:"SMS",label:" SMS"},{value:"PAYMENT",label:""},{value:"SOCIAL",label:" "},{value:"ACCOUNTING",label:""},{value:"SUPPLIER",label:""}],q1=e=>{var t;if(e&&typeof e=="object"&&"message"in e)return String(e.message);if(e&&typeof e=="object"&&"response"in e){const r=e.response;if((t=r==null?void 0:r.data)!=null&&t.message)return r.data.message}return"   "};function fdt(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState({name:"",type:"ANALYTICS",provider:"",config:"",isActive:!0});f.useEffect(()=>{m()},[]);const h=()=>{u({name:"",type:"ANALYTICS",provider:"",config:"",isActive:!0}),c(null)},m=async()=>{try{n(!0);const w=await he.get("/integrations",{requireAuth:!0}).catch(()=>[]);if(Array.isArray(w)){const b=w.filter(v=>v&&typeof v=="object"&&v.id&&!("error"in v));r(b)}else r([])}catch(w){r([]),e({title:"  ",description:q1(w)||"    .   .",variant:"destructive"})}finally{n(!1)}},p=async w=>{w.preventDefault(),n(!0);try{let b={};if(d.config.trim())try{b=JSON.parse(d.config)}catch{e({title:"  ",description:"     JSON ",variant:"destructive"}),n(!1);return}l?(await he.put(`/integrations/${encodeURIComponent(l.id)}`,{name:d.name,isActive:d.isActive,config:b},{requireAuth:!0}),e({title:"",description:"   "})):(await he.post("/integrations",{name:d.name,type:d.type,provider:d.provider,config:b},{requireAuth:!0}),e({title:"",description:"   "})),o(!1),h(),await m()}catch(b){e({title:"  ",description:q1(b)||"    .    .",variant:"destructive"})}finally{n(!1)}},g=w=>{c(w),u({name:w.name,type:w.type,provider:w.provider,config:w.config?JSON.stringify(w.config,null,2):"",isActive:w.isActive}),o(!0)},x=async w=>{if(confirm("      "))try{await he.delete(`/integrations/${encodeURIComponent(w)}`,{requireAuth:!0}),e({title:"",description:"   "}),await m()}catch(b){console.error("Failed to delete integration:",b),e({title:"  ",description:q1(b)||"    .    .",variant:"destructive"})}},y=async w=>{try{await he.put(`/integrations/${encodeURIComponent(w.id)}`,{isActive:!w.isActive},{requireAuth:!0}),e({title:"",description:` ${w.isActive?"":""}  `}),await m()}catch(b){e({title:"   ",description:q1(b)||"     .",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),s.jsxs(z,{onClick:()=>{h(),o(!0)},children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"})," "]})]}),a&&t.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"py-12 text-center",children:[s.jsx(Ge,{className:"h-8 w-8 mx-auto animate-spin text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500",children:" ..."})]})}):t.length===0?s.jsx(je,{children:s.jsxs(Ce,{className:"py-12 text-center",children:[s.jsx(u2,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"   "}),s.jsxs(z,{onClick:()=>{h(),o(!0)},children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"  "]})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(w=>{var b;return s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:s.jsx(u2,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{children:[s.jsx(at,{children:String(w.name||"")}),s.jsx(Vt,{children:String(w.provider||"")})]})]}),s.jsx(ir,{checked:w.isActive,onCheckedChange:()=>y(w)})]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Ze,{variant:w.isActive?"default":"secondary",children:w.isActive?"":" "}),s.jsx(Ze,{variant:"outline",children:((b=Cz.find(v=>v.value===w.type))==null?void 0:b.label)||w.type})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(w),children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x(w.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-500"})})]})]})})]},w.id)})}),s.jsx(Qt,{open:i,onOpenChange:o,children:s.jsxs(Yt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:l?" ":"  "}),s.jsx(ur,{children:l?"   ":"   "})]}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"name",children:"  *"}),s.jsx(me,{id:"name",value:d.name,onChange:w=>u({...d,name:w.target.value}),placeholder:": Google Analytics",required:!0})]}),!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"type",children:"  *"}),s.jsxs(nr,{value:d.type,onValueChange:w=>u({...d,type:w}),children:[s.jsx(Jt,{id:"type",children:s.jsx(cr,{placeholder:"  "})}),s.jsx(Zt,{children:Cz.map(w=>s.jsx(Oe,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"provider",children:"  *"}),s.jsx(me,{id:"provider",value:d.provider,onChange:w=>u({...d,provider:w.target.value}),placeholder:": google_analytics, twilio",required:!l})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"config",children:" (JSON)"}),s.jsx(Fs,{id:"config",value:d.config,onChange:w=>u({...d,config:w.target.value}),placeholder:'{"apiKey": "your-key", "apiSecret": "your-secret"}',rows:6,className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    JSON ()"})]}),l&&s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(ir,{id:"isActive",checked:d.isActive,onCheckedChange:w=>u({...d,isActive:w})}),s.jsx(X,{htmlFor:"isActive",children:" "})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>{o(!1),h()},children:""}),s.jsxs(z,{type:"submit",disabled:a,children:[a&&s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),l?" ":" "]})]})]})]})})]})}function pdt(){const{toast:e}=Rt(),[t,r]=f.useState(!1),[a,n]=f.useState({kycEnabled:!1,requireKycForOrders:!1,requireKycForLargePayments:!0,kycThreshold:1e4,requireIdVerification:!1,requireAddressVerification:!1,autoApproveKyc:!1});f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await he.get("/kyc/settings").catch(()=>null);l&&n(l)}catch{}},o=async()=>{r(!0);try{await he.put("/kyc/settings",a),e({title:" ",description:"      "})}catch{e({title:"  ",description:"    .    .",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   (KYC)"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Ux,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"    "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:a.kycEnabled,onCheckedChange:l=>n({...a,kycEnabled:l})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:a.requireKycForOrders,onCheckedChange:l=>n({...a,requireKycForOrders:l}),disabled:!a.kycEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),s.jsx(ir,{checked:a.requireKycForLargePayments,onCheckedChange:l=>n({...a,requireKycForLargePayments:l}),disabled:!a.kycEnabled})]}),a.requireKycForLargePayments&&s.jsxs("div",{children:[s.jsx(X,{htmlFor:"threshold",children:"  ()"}),s.jsx(me,{id:"threshold",type:"number",value:a.kycThreshold,onChange:l=>n({...a,kycThreshold:parseFloat(l.target.value)||0}),disabled:!a.kycEnabled})]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(zO,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"    "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(ir,{checked:a.requireIdVerification,onCheckedChange:l=>n({...a,requireIdVerification:l}),disabled:!a.kycEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:"  "}),s.jsx("p",{className:"text-sm text-gray-500",children:"  "})]}),s.jsx(ir,{checked:a.requireAddressVerification,onCheckedChange:l=>n({...a,requireAddressVerification:l}),disabled:!a.kycEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-sm text-gray-500",children:"    (  )"})]}),s.jsx(ir,{checked:a.autoApproveKyc,onCheckedChange:l=>n({...a,autoApproveKyc:l}),disabled:!a.kycEnabled})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(z,{onClick:o,disabled:t,children:[s.jsx(Ha,{className:"mr-2 h-4 w-4"}),t?" ...":""]})})]})}const xdt=e=>{const t=e.toLowerCase();return t.includes("enterprise")||t.includes("business")?s.jsx(Do,{className:"h-8 w-8"}):t.includes("pro")||t.includes("professional")?s.jsx(An,{className:"h-8 w-8"}):s.jsx(v0,{className:"h-8 w-8"})},gdt=(e,t)=>{if(t)return"from-primary to-primary/80";const r=e.toLowerCase();return r.includes("enterprise")||r.includes("business")?"from-purple-500 to-purple-600":r.includes("pro")||r.includes("professional")?"from-blue-500 to-blue-600":"from-slate-500 to-slate-600"},uT=e=>e===void 0||e===-1?" ":e.toLocaleString(),vdt=(e,t)=>{var a;return((a={MONTHLY:{en:"/month",ar:"/"},YEARLY:{en:"/year",ar:"/"},LIFETIME:{en:"one-time",ar:" "}}[e])==null?void 0:a[t?"ar":"en"])||e},hT=e=>(typeof e.price=="string"?parseFloat(e.price):e.price)===0;function ydt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",{user:a}=$s(),{toast:n}=Rt(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState("MONTHLY"),[h,m]=f.useState(null);f.useEffect(()=>{p()},[]);const p=async()=>{var y;try{c(!0);const w=await he.get("/public/plans",{requireAuth:!1}),v=((w==null?void 0:w.plans)||((y=w==null?void 0:w.data)==null?void 0:y.plans)||(Array.isArray(w)?w:[])).sort((N,j)=>(N.sortOrder||0)-(j.sortOrder||0));o(v)}catch(w){console.error("Failed to load plans:",w),o([])}finally{c(!1)}},g=async y=>{m(y);try{n({title:r?"":"Coming Soon",description:r?"    .   .":"Payment system coming soon. Contact us to upgrade."})}catch(w){n({title:r?"":"Error",description:(w==null?void 0:w.message)||(r?"  ":"Failed to upgrade"),variant:"destructive"})}finally{m(null)}},x=i.filter(y=>y.billingCycle===d||y.billingCycle==="LIFETIME");return l?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:r?" ":"Subscription Plans"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:r?"    .        .":"Choose the plan that fits your business needs. You can upgrade or change plans anytime."})]}),(a==null?void 0:a.tenantId)&&s.jsxs(yi,{className:"bg-primary/5 border-primary/20",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs(bi,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:[r?" : ":"Your current plan: ",s.jsx("strong",{className:"text-primary",children:"STARTER"})]}),s.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:r?"":"Active"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Yn,{value:d,onValueChange:y=>u(y),children:s.jsxs(_n,{className:"grid w-[300px] grid-cols-2",children:[s.jsxs(Ar,{value:"MONTHLY",className:"gap-2",children:[s.jsx(ji,{className:"h-4 w-4"}),r?"":"Monthly"]}),s.jsxs(Ar,{value:"YEARLY",className:"gap-2",children:[s.jsx(Bo,{className:"h-4 w-4"}),r?"":"Yearly",s.jsx(Ze,{className:"bg-green-500 text-white text-xs",children:"-20%"})]})]})})}),x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:r?"   ":"No Plans Available"}),s.jsx("p",{className:"text-muted-foreground",children:r?"     .   .":"No subscription plans have been added yet. Contact admin."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:x.map(y=>{var w,b,v,N,j,k;return s.jsxs(je,{className:`relative overflow-hidden transition-all hover:shadow-lg ${y.isPopular?"border-primary shadow-primary/20 shadow-lg scale-105":""}`,children:[y.isPopular&&s.jsx("div",{className:"absolute top-0 right-0",children:s.jsxs(Ze,{className:"rounded-none rounded-bl-lg bg-primary",children:[s.jsx(Bo,{className:"h-3 w-3 mr-1 fill-current"}),r?" ":"Most Popular"]})}),s.jsxs(et,{className:"text-center pb-2",children:[s.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br ${gdt(y.name,y.isPopular)} flex items-center justify-center text-white mb-4`,children:xdt(y.name)}),s.jsx(at,{className:"text-xl",children:r&&y.nameAr||y.name}),s.jsx(Vt,{children:r&&y.descriptionAr||y.description})]}),s.jsxs(Ce,{className:"text-center space-y-6",children:[s.jsx("div",{children:hT(y)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-4xl font-bold text-green-500",children:r?"":"Free"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:r?"":"Forever"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[s.jsx("span",{className:"text-4xl font-bold",children:y.price}),s.jsx("span",{className:"text-lg text-muted-foreground",children:y.currency})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:vdt(y.billingCycle,r)})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Tt,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:uT((w=y.limits)==null?void 0:w.products)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:r?"":"Products"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(mr,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:uT((b=y.limits)==null?void 0:b.staff)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:r?"":"Staff"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Kme,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[((v=y.limits)==null?void 0:v.storage)||10," GB"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:r?"":"Storage"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[s.jsx(Oa,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:uT((N=y.limits)==null?void 0:N.customDomains)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:r?"":"Domains"})]})]})]}),s.jsxs("div",{className:"space-y-2 text-right",children:[(j=r&&y.featuresAr||y.features)==null?void 0:j.slice(0,5).map((S,C)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ba,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),s.jsx("span",{children:S})]},C)),((k=y.features)==null?void 0:k.length)>5&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",y.features.length-5," ",r?" ":"more features"]})]})]}),s.jsx(Ru,{children:s.jsx(z,{className:`w-full gap-2 ${hT(y)?"bg-green-600 hover:bg-green-700":""}`,variant:y.isPopular?"default":"outline",onClick:()=>g(y.id),disabled:h===y.id,children:h===y.id?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[hT(y)?r?" ":"Start Free":r?"  ":"Choose Plan",s.jsx(ta,{className:"h-4 w-4"})]})})})]},y.id)})}),s.jsxs("div",{className:"mt-12 max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:r?" ":"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(je,{children:[s.jsx(et,{className:"py-4",children:s.jsx(at,{className:"text-base",children:r?"    ":"Can I change my plan later?"})}),s.jsx(Ce,{className:"pt-0 text-sm text-muted-foreground",children:r?"        .     .":"Yes, you can upgrade or downgrade your plan at any time. The difference will be prorated."})]}),s.jsxs(je,{children:[s.jsx(et,{className:"py-4",children:s.jsx(at,{className:"text-base",children:r?"    ":"What payment methods are available?"})}),s.jsx(Ce,{className:"pt-0 text-sm text-muted-foreground",children:r?"     Apple Pay  STC Pay.":"We accept all major credit cards, Apple Pay, Mada, and STC Pay."})]}),s.jsxs(je,{children:[s.jsx(et,{className:"py-4",children:s.jsx(at,{className:"text-base",children:r?"    ":"Is there a free trial?"})}),s.jsx(Ce,{className:"pt-0 text-sm text-muted-foreground",children:r?"      14    .":"Yes, we offer a 14-day free trial for all paid plans."})]})]})]})]})}function bdt(){const{toast:e}=Rt(),{t}=Ct(),[r,a]=f.useState(!0),[n,i]=f.useState(!1),[o,l]=f.useState({tenantId:"",defaultLimitAmount:1e3,tierLimits:{},customerLimitTracking:{},creditCardTracking:{},enableCreditCardTracking:!0,enablePurchaseCountIncrease:!0}),[c,d]=f.useState([]),[u,h]=f.useState({tierId:"",tierName:"",baseLimit:5e3,increasePerPurchase:100}),m=f.useCallback(async()=>{try{a(!0);const b=await he.get("/dashboard/purchase-limits",{requireAuth:!0});l(b);const v=Object.entries(b.tierLimits||{}).map(([N,j])=>({tierId:N,tierName:N,baseLimit:j.baseLimit,increasePerPurchase:j.increasePerPurchase}));d(v)}catch(b){console.error("Failed to load limits:",b),e({title:t("common.error","Error"),description:t("dashboard.limits.loadError","Failed to load limit settings"),variant:"destructive"})}finally{a(!1)}},[t,e]),p=f.useCallback(async()=>{try{await he.get("/dashboard/customer-tiers",{requireAuth:!0}).catch(()=>[])}catch(b){console.error("Failed to load customer tiers:",b)}},[]);f.useEffect(()=>{m(),p()},[m,p]);const g=async()=>{try{i(!0);const b={};c.forEach(N=>{N.tierId&&(b[N.tierId]={baseLimit:N.baseLimit,increasePerPurchase:N.increasePerPurchase})});const v={...o,tierLimits:b};await he.put("/dashboard/purchase-limits",v,{requireAuth:!0}),e({title:t("common.success","Success"),description:t("dashboard.limits.saveSuccess","Limits saved successfully"),variant:"default"}),await m()}catch(b){console.error("Failed to save limits:",b),e({title:t("common.error","Error"),description:t("dashboard.limits.saveError","Failed to save limit settings"),variant:"destructive"})}finally{i(!1)}},x=()=>{if(!u.tierId||!u.tierName){e({title:"",description:"     ",variant:"destructive"});return}if(c.find(v=>v.tierId===u.tierId)){e({title:"",description:"   ",variant:"destructive"});return}d([...c,{tierId:u.tierId,tierName:u.tierName,baseLimit:u.baseLimit||5e3,increasePerPurchase:u.increasePerPurchase||100}]),h({tierId:"",tierName:"",baseLimit:5e3,increasePerPurchase:100})},y=b=>{d(c.filter(v=>v.tierId!==b))},w=(b,v,N)=>{d(c.map(j=>j.tierId===b?{...j,[v]:N}:j))};return r?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"        "})]}),s.jsxs(yi,{children:[s.jsx(lb,{className:"h-4 w-4"}),s.jsx(Dg,{children:"  "}),s.jsx(bi,{children:s.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[s.jsx("li",{children:"  /  verified   "}),s.jsx("li",{children:"  verified    "}),s.jsx("li",{children:"         "}),s.jsx("li",{children:"             "})]})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"        verified"})]}),s.jsx(Ce,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"defaultLimit",children:"  (.)"}),s.jsx(me,{id:"defaultLimit",type:"number",value:o.defaultLimitAmount,onChange:b=>l({...o,defaultLimitAmount:Number(b.target.value)}),min:"0",step:"0.01"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"       /  verified "})]})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:"  (Tiers)"}),s.jsx(Vt,{children:"        "})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-4",children:c.map(b=>s.jsxs("div",{className:"flex gap-4 items-end p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx(X,{children:t("dashboard.limits.tierId","Tier ID")}),s.jsx(me,{value:b.tierId,onChange:v=>w(b.tierId,"tierId",v.target.value),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(X,{children:t("dashboard.limits.tierName","Tier Name")}),s.jsx(me,{value:b.tierName,onChange:v=>w(b.tierId,"tierName",v.target.value)})]})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx(X,{children:t("dashboard.limits.baseLimit","Base Limit (SAR)")}),s.jsx(me,{type:"number",value:b.baseLimit,onChange:v=>w(b.tierId,"baseLimit",Number(v.target.value)),min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx(X,{children:t("dashboard.limits.increasePerPurchase","Increase Per Purchase (SAR)")}),s.jsx(me,{type:"number",value:b.increasePerPurchase,onChange:v=>w(b.tierId,"increasePerPurchase",Number(v.target.value)),min:"0",step:"0.01"})]})]}),s.jsx(z,{variant:"destructive",size:"icon",onClick:()=>y(b.tierId),children:s.jsx(_r,{className:"h-4 w-4"})})]},b.tierId))}),s.jsx(Qs,{}),s.jsxs("div",{className:"space-y-4 p-4 border border-dashed rounded-lg",children:[s.jsx("h3",{className:"font-semibold",children:t("dashboard.limits.addNewTier","Add New Tier")}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"newTierId",children:t("dashboard.limits.tierId","Tier ID")}),s.jsx(me,{id:"newTierId",value:u.tierId,onChange:b=>h({...u,tierId:b.target.value}),placeholder:"tier-1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"newTierName",children:t("dashboard.limits.tierName","Tier Name")}),s.jsx(me,{id:"newTierName",value:u.tierName,onChange:b=>h({...u,tierName:b.target.value}),placeholder:"VIP"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"newBaseLimit",children:t("dashboard.limits.baseLimit","Base Limit (SAR)")}),s.jsx(me,{id:"newBaseLimit",type:"number",value:u.baseLimit,onChange:b=>h({...u,baseLimit:Number(b.target.value)}),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"newIncrease",children:t("dashboard.limits.increasePerPurchase","Increase Per Purchase (SAR)")}),s.jsx(me,{id:"newIncrease",type:"number",value:u.increasePerPurchase,onChange:b=>h({...u,increasePerPurchase:Number(b.target.value)}),min:"0",step:"0.01"})]})]}),s.jsxs(z,{onClick:x,variant:"outline",children:[s.jsx(Gt,{className:"h-4 w-4 ml-2"}),t("dashboard.limits.addTier","Add Tier")]})]})]})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:t("dashboard.limits.advancedSettings","Advanced Settings")}),s.jsx(Vt,{children:t("dashboard.limits.advancedSettingsDesc","Enable or disable limit tracking features")})]}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:t("dashboard.limits.enablePurchaseCountIncrease","Enable Limit Increase Based on Purchase Count")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.limits.enablePurchaseCountIncreaseDesc","When enabled, the customer limit will automatically increase with each successful purchase")})]}),s.jsx(ir,{checked:o.enablePurchaseCountIncrease,onCheckedChange:b=>l({...o,enablePurchaseCountIncrease:b})})]}),s.jsx(Qs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(X,{children:t("dashboard.limits.enableCreditCardTracking","Enable Credit Card Tracking")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t("dashboard.limits.enableCreditCardTrackingDesc","When enabled, if the same credit card is used by another customer, the default limit will be applied")})]}),s.jsx(ir,{checked:o.enableCreditCardTracking,onCheckedChange:b=>l({...o,enableCreditCardTracking:b})})]})]})]}),s.jsx("div",{className:"flex justify-end gap-4",children:s.jsx(z,{onClick:g,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 ml-2 animate-spin"}),t("dashboard.limits.saving","Saving...")]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"h-4 w-4 ml-2"}),t("dashboard.limits.save","Save Changes")]})})})]})}const VA={async getTemplates(e){const t=new URLSearchParams;return e!=null&&e.category&&t.append("category",e.category),(e==null?void 0:e.isDefault)!==void 0&&t.append("isDefault",e.isDefault.toString()),e!=null&&e.search&&t.append("search",e.search),Q.fetch(`${Q.coreUrl}/templates?${t.toString()}`)},async getTemplateById(e){return Q.fetch(`${Q.coreUrl}/templates/${encodeURIComponent(e)}`)},async applyTemplate(e,t){return Q.fetch(`${Q.coreUrl}/templates/apply/${encodeURIComponent(t)}/to-page/${encodeURIComponent(e)}`,{method:"POST",requireAuth:!0})}},wdt={fashion:"bg-gradient-to-br from-pink-500 to-rose-500",electronics:"bg-gradient-to-br from-blue-500 to-indigo-500",food:"bg-gradient-to-br from-orange-500 to-red-500",beauty:"bg-gradient-to-br from-purple-500 to-pink-500",home:"bg-gradient-to-br from-green-500 to-emerald-500",digital:"bg-gradient-to-br from-indigo-500 to-purple-500"},Az={fashion:"",electronics:"",food:"",beauty:"",home:"",digital:""};function jdt(){const{t:e,i18n:t}=Ct(),[r,a]=f.useState([]),n={"Restaurant & Cafe":"restaurantAndCafe","Services Business":"servicesBusiness","Digital Cards":"digitalCards","Simple Store":"simpleStore","Blank Template":"blankTemplate","Landing Page":"landingPage",Vibrant:"vibrant",Minimal:"minimal","Modern Store":"modernStore",Classic:"classic","Dark Mode":"darkMode","Light Mode":"lightMode","Beauty & Cosmetics":"beautyAndCosmetics","Home & Furniture":"homeAndFurniture","Fashion Store":"fashionStore","Electronics Shop":"electronicsShop","Food & Beverage":"foodAndBeverage"},i={"Elegant template for restaurants and cafes":"restaurantDesc","Professional template for service-based businesses":"servicesDesc","Complete digital cards marketplace template with instant delivery features":"digitalCardsDesc","Clean and simple store template":"simpleStoreDesc","Start from scratch":"blankDesc","High conversion landing page":"landingPageDesc","A colorful and energetic theme perfect for creative brands":"vibrantDesc","A minimalist theme focusing on simplicity and elegance":"minimalDesc","A clean and modern e-commerce theme with a professional look":"modernStoreDesc","Elegant, minimalist design for beauty products":"beautyDesc","Clean, spacious layout for furniture and home decor":"homeDesc","Modern, image-heavy design perfect for fashion retailers":"fashionDesc","Tech-focused design with product grid layout":"electronicsDesc","Warm, appetizing design for restaurants and food businesses":"foodDesc","Complete digital cards store with instant delivery":"digitalCardsShortDesc"},o={"Restaurant & Cafe":" ","Services Business":" ","Digital Cards":" ","Simple Store":" ","Blank Template":" ","Landing Page":" ",Vibrant:"",Minimal:"","Modern Store":" ",Classic:"","Dark Mode":" ","Light Mode":" ","Beauty & Cosmetics":"  ","Home & Furniture":" ","Fashion Store":" ","Electronics Shop":" ","Food & Beverage":" "},l={"Elegant template for restaurants and cafes":"   ","Professional template for service-based businesses":"     ","Complete digital cards marketplace template with instant delivery features":"        ","Clean and simple store template":"   ","Start from scratch":"  ","High conversion landing page":"   ","A colorful and energetic theme perfect for creative brands":"      ","A minimalist theme focusing on simplicity and elegance":"     ","A clean and modern e-commerce theme with a professional look":"      ","Elegant, minimalist design for beauty products":"    ","Clean, spacious layout for furniture and home decor":"     ","Modern, image-heavy design perfect for fashion retailers":"          ","Tech-focused design with product grid layout":"       ","Warm, appetizing design for restaurants and food businesses":"      ","Complete digital cards store with instant delivery":"      "},c=k=>{if(!k)return"";const S=k.trim();if(t.language.startsWith("ar")){if(o[S])return o[S];const A=S.toLowerCase(),E=Object.keys(o).find(D=>D.toLowerCase()===A);if(E)return o[E];if(S.includes("&")){const D=S.replace(/&amp;/g,"&");if(o[D])return o[D]}}let C=n[S];if(!C){const A=S.toLowerCase(),E=Object.keys(n).find(D=>D.toLowerCase()===A);E&&(C=n[E])}if(!C&&S.includes("&")){const A=S.replace(/&amp;/g,"&");C=n[A]}return C?e(`dashboard.design.themes.${C}`):e(`dashboard.design.themes.${k}`,{defaultValue:k})},d=k=>{if(!k)return"";const S=k.trim();if(t.language.startsWith("ar")){if(l[S])return l[S];const A=S.toLowerCase(),E=Object.keys(l).find(D=>D.toLowerCase()===A);if(E)return l[E]}let C=i[S];if(!C){const A=S.toLowerCase(),E=Object.keys(i).find(D=>D.toLowerCase()===A);E&&(C=i[E])}return C?e(`dashboard.design.themeDescriptions.${C}`):e(`dashboard.design.themeDescriptions.${k}`,{defaultValue:k})},[u,h]=f.useState(!0),[m,p]=f.useState(""),[g,x]=f.useState(null),y=Kr(),{toast:w}=Rt(),b=k=>{const C=`dashboard.templates.categories.${(k==null?void 0:k.toLowerCase())||"general"}`,A=e(C);return A===C||A.includes("dashboard.templates.categories")?k:A},v=f.useCallback(async()=>{h(!0);try{const k=await VA.getTemplates({category:g||void 0,search:m||void 0});console.log("Templates loaded:",k),a(Array.isArray(k)?k:[])}catch(k){console.error("Failed to load templates:",k),w({title:e("common.error"),description:e("dashboard.templates.loadError"),variant:"destructive"}),a([])}finally{h(!1)}},[g,m,w,e]);f.useEffect(()=>{v()},[v]);const N=[{value:"fashion",label:e("dashboard.templates.categories.fashion"),icon:""},{value:"electronics",label:e("dashboard.templates.categories.electronics"),icon:""},{value:"food",label:e("dashboard.templates.categories.food"),icon:""},{value:"beauty",label:e("dashboard.templates.categories.beauty"),icon:""},{value:"home",label:e("dashboard.templates.categories.home"),icon:""},{value:"digital",label:e("dashboard.templates.categories.digital"),icon:""}],j=k=>{y(`/builder/new?templateId=${encodeURIComponent(k.id)}`)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:e("dashboard.templates.title")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.templates.subtitle")})]}),s.jsxs(z,{size:"lg",onClick:()=>y("/builder/new"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all",children:[s.jsx(Gt,{className:"w-5 h-5 mr-2"}),e("dashboard.templates.createNew")]})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Or,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(me,{type:"text",placeholder:e("dashboard.templates.searchPlaceholder"),value:m,onChange:k=>p(k.target.value),className:"pl-12 h-12 text-lg border-2 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-700"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(z,{variant:g===null?"default":"outline",size:"lg",onClick:()=>x(null),className:g===null?"bg-gradient-to-r from-blue-600 to-purple-600":"",children:e("dashboard.templates.allTemplates")}),N.map(k=>s.jsxs(z,{variant:g===k.value?"default":"outline",size:"lg",onClick:()=>x(k.value),className:g===k.value?"bg-gradient-to-r from-blue-600 to-purple-600":"",children:[s.jsx("span",{className:"mr-2",children:k.icon}),k.label]},k.value))]})]}),u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.templates.loading")})]})}):r.length===0?s.jsx(je,{className:"text-center py-16",children:s.jsxs(Ce,{children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:e("dashboard.templates.noTemplates")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e(m||g?"dashboard.templates.adjustSearch":"dashboard.templates.noTemplatesAvailable")}),s.jsxs(z,{onClick:()=>y("/builder/new"),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),e("dashboard.templates.createCustom")]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(k=>{var S;return s.jsxs(je,{className:"group overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 hover:border-blue-500 dark:hover:border-blue-400",onClick:()=>j(k),children:[s.jsxs("div",{className:`h-48 relative ${wdt[k.category]||"bg-gradient-to-br from-gray-400 to-gray-600"} overflow-hidden`,children:[k.thumbnail?s.jsx("img",{src:k.thumbnail,alt:k.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-7xl mb-2",children:Az[k.category]||""}),s.jsx("p",{className:"text-sm font-medium opacity-90",children:k.category})]})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all duration-300 flex items-center justify-center",children:s.jsxs(z,{size:"lg",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white text-gray-900 hover:bg-gray-100",children:[s.jsx(ds,{className:"w-5 h-5 mr-2"}),e("dashboard.templates.useTemplate")]})}),k.isDefault&&s.jsx(Ze,{variant:"default",className:"absolute top-3 right-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg z-10",children:e("dashboard.templates.official")})]}),s.jsx(et,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(at,{className:"text-xl group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:c(k.name)}),s.jsx(Vt,{className:"mt-2 line-clamp-2",children:d(k.description)||e("dashboard.templates.professionalDesc")})]})})}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ze,{variant:"outline",className:"capitalize",children:[Az[(S=k.category)==null?void 0:S.toLowerCase()]||""," ",b(k.category)]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(k.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US")})]})})]},k.id)})})]})})}function Ez(){const e=Kr(),{toast:t}=Rt(),{t:r,i18n:a}=Ct(),n=a.language==="ar",{user:i,loading:o,refreshUser:l}=$s(),[c,d]=f.useState(null),[u,h]=f.useState(!0),[m,p]=f.useState(!1),[g,x]=f.useState({name:"",description:"",subdomain:""}),[y,w]=f.useState([]),[b,v]=f.useState(!1),[N,j]=f.useState(null),[k,S]=f.useState(!1);f.useEffect(()=>{(async()=>{if(!o&&i)try{h(!0);const T=await Vi.canCreateMarket();d(T),!i.tenantId&&!T.allowed&&(t({title:n?"":"Error",description:n?"   .   .":"Cannot create store. Please contact support.",variant:"destructive"}),setTimeout(()=>{e("/dashboard",{replace:!0})},2e3))}catch(T){console.error("Failed to check market limit:",T),d({allowed:!1,currentCount:0,limit:2})}finally{h(!1)}})()},[i,o,e,t,n]);const C=P=>{if(!P||!P.trim())return`store-${Date.now().toString().slice(-6)}`;let T=P.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-+|-+$/g,"");if(!T||T.length<3){const _=P.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,5),O=Date.now().toString().slice(-6);T=_&&_.length>=2?`${_}-${O}`:`store-${O}`}return T.length>63&&(T=T.substring(0,63),T=T.replace(/-+$/,"")),(!/^[a-z0-9-]+$/.test(T)||T.length<3)&&(T=`store${Date.now().toString().slice(-8)}`),T};f.useEffect(()=>{if(!g.name||g.name.trim().length<3){x(T=>({...T,subdomain:""})),j(null),w([]),S(!1);return}const P=setTimeout(async()=>{const T=C(g.name);if(!(T.length<3)){v(!0);try{const _=await Q.get(`/public/check-subdomain?subdomain=${encodeURIComponent(T)}`);_.available?(j(!0),x(O=>({...O,subdomain:T})),w([]),S(!1)):(j(!1),w(_.suggestions||[]),S(!0),x(O=>({...O,subdomain:""})))}catch(_){console.error("Failed to check subdomain:",_),j(!0),x(O=>({...O,subdomain:T})),w([]),S(!1)}finally{v(!1)}}},600);return()=>clearTimeout(P)},[g.name]);const A=(P,T)=>{x(_=>({..._,[P]:T}))},E=P=>{x(T=>({...T,subdomain:P})),j(!0),S(!1)},D=async()=>{var P;if(!g.name.trim()){t({title:n?"":"Error",description:n?"   ":"Please enter store name",variant:"destructive"});return}if(!g.subdomain||!g.subdomain.trim()){t({title:n?"":"Error",description:n?"    (Subdomain)":"Please select a store subdomain",variant:"destructive"});return}if(!/^[a-z0-9-]+$/.test(g.subdomain)||g.subdomain.length<3){t({title:n?"":"Error",description:n?"   ":"Invalid subdomain format",variant:"destructive"});return}p(!0);try{await Kk.setupMarket({name:g.name.trim(),description:g.description.trim()||void 0,subdomain:g.subdomain.trim()}),await l(),t({title:n?"!":"Success!",description:n?"   !":"Store created successfully!"}),setTimeout(()=>{e("/dashboard")},1500)}catch(T){console.error("Error creating market:",T);let _="";if(typeof(T==null?void 0:T.message)=="string"&&(_=T.message),(P=T==null?void 0:T.data)!=null&&P.message){const O=T.data.message;Array.isArray(O)?_=O.join(", "):typeof O=="object"&&O!==null?_=O.message||JSON.stringify(O):O&&(_=String(O))}else typeof(T==null?void 0:T.data)=="string"&&(_=T.data);(!_||_==="An error occurred"||_==="[object Object]")&&(_=n?"  .       .":"Failed to create store. Please check the data and try again."),typeof _!="string"&&(_=JSON.stringify(_)),t({title:n?"":"Failed",description:_,variant:"destructive"})}finally{p(!1)}};return o||u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center",children:s.jsx(je,{className:"w-full max-w-md",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:n?" ...":"Loading..."})]})})})}):c&&!c.allowed?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:s.jsxs(je,{className:"w-full max-w-md",children:[s.jsxs(et,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-amber-100 dark:bg-amber-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Us,{className:"h-8 w-8 text-amber-600 dark:text-amber-400"})}),s.jsx(at,{className:"text-2xl",children:n?"   ":"Market Limit Reached"}),s.jsx(Vt,{className:"text-base",children:n?` ${c.currentCount}  ${c.limit} .    .`:`You have ${c.currentCount} of ${c.limit} markets. To upgrade, please contact support.`})]}),s.jsx(Ce,{children:s.jsx(z,{onClick:()=>e("/dashboard",{replace:!0}),className:"w-full",children:n?"   ":"Back to Dashboard"})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:s.jsxs(je,{className:"w-full max-w-2xl",children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Vs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(at,{className:"text-2xl",children:n?"  ":"Create New Store"}),s.jsx(Vt,{children:c?n?` ${c.currentCount}  ${c.limit} `:`You have ${c.currentCount} of ${c.limit} stores`:""})]})]})}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"name",children:[n?" ":"Store Name"," *"]}),s.jsx(me,{id:"name",placeholder:n?":  ":"e.g. Electronics Store",value:g.name,onChange:P=>A("name",P.target.value),disabled:m})]}),g.name.trim()&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(X,{className:"text-sm font-semibold",children:[n?"  (Subdomain)":"Store Subdomain"," *"]}),b?s.jsx(Ge,{className:"h-4 w-4 animate-spin text-primary"}):N?s.jsx(Js,{className:"h-4 w-4 text-success"}):N===!1?s.jsx(Us,{className:"h-4 w-4 text-destructive"}):null]}),g.subdomain&&N&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-background rounded-lg border border-success/20",children:[s.jsxs("span",{className:"font-mono text-sm font-semibold text-foreground",children:[g.subdomain,".saeaa.com"]}),s.jsx(Js,{className:"h-4 w-4 text-success flex-shrink-0"})]}),k&&y.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-destructive font-medium",children:n?"       :":"This subdomain is taken, please choose one of the following:"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.slice(0,3).map(P=>s.jsx(z,{type:"button",variant:g.subdomain===P?"default":"outline",className:"h-auto py-3 justify-start",onClick:()=>E(P),disabled:m,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("span",{className:"font-mono text-sm",children:[P,".saeaa.com"]}),g.subdomain===P&&s.jsx(Js,{className:"h-4 w-4 text-success"})]})},P))})]}),b&&s.jsx("p",{className:"text-xs text-muted-foreground",children:n?"    ...":"Checking availability..."}),!g.subdomain&&!b&&!k&&s.jsx("p",{className:"text-xs text-muted-foreground",children:n?"      ":"Subdomain will be automatically generated from store name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"description",children:n?" ":"Store Description"}),s.jsx(Fs,{id:"description",placeholder:n?"    ...":"Write a brief description about your store...",value:g.description,onChange:P=>A("description",P.target.value),disabled:m,className:"min-h-[100px]"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>e("/dashboard"),disabled:m,children:n?"":"Cancel"}),s.jsx(z,{onClick:D,disabled:m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),n?" ...":"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),n?" ":"Create Store"]})})]})]})]})})}function Pz(){const{toast:e}=Rt(),[t,r]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(!1),l=f.useCallback(async()=>{var b,v,N,j,k,S;try{const C=await he.get("/site-config",{requireAuth:!0}),A={header:{links:[]},footer:{links:[],socialMedia:{},copyrightText:" 2025 All rights reserved",copyrightTextAr:" 2025   "}};r({header:{links:((b=C==null?void 0:C.header)==null?void 0:b.links)||A.header.links,logo:(v=C==null?void 0:C.header)==null?void 0:v.logo},footer:{links:((N=C==null?void 0:C.footer)==null?void 0:N.links)||A.footer.links,socialMedia:((j=C==null?void 0:C.footer)==null?void 0:j.socialMedia)||A.footer.socialMedia,copyrightText:((k=C==null?void 0:C.footer)==null?void 0:k.copyrightText)||A.footer.copyrightText,copyrightTextAr:((S=C==null?void 0:C.footer)==null?void 0:S.copyrightTextAr)||A.footer.copyrightTextAr}})}catch(C){console.error("Failed to load navigation config:",C),e({title:"   ",description:"     .   .",variant:"destructive"})}finally{n(!1)}},[e]);f.useEffect(()=>{l()},[l]);const c=()=>{if(!t)return;const b={id:Date.now().toString(),label:"New Link",labelAr:" ",url:"/",openInNewTab:!1,order:t.header.links.length,type:"link",children:[]};r({...t,header:{...t.header,links:[...t.header.links,b]}})},d=(b,v,N)=>{t&&r({...t,header:{...t.header,links:t.header.links.map(j=>j.id===b?{...j,[v]:N}:j)}})},u=b=>{t&&r({...t,header:{...t.header,links:t.header.links.filter(v=>v.id!==b)}})},h=(b,v)=>{if(!t)return;const N=[...t.header.links],j=N.findIndex(k=>k.id===b);j!==-1&&(v==="up"&&j>0?[N[j],N[j-1]]=[N[j-1],N[j]]:v==="down"&&j<N.length-1&&([N[j],N[j+1]]=[N[j+1],N[j]]),N.forEach((k,S)=>{k.order=S}),r({...t,header:{...t.header,links:N}}))},m=()=>{if(!t)return;const b={id:Date.now().toString(),label:"New Link",labelAr:" ",url:"/",openInNewTab:!1,order:t.footer.links.length};r({...t,footer:{...t.footer,links:[...t.footer.links,b]}})},p=(b,v,N)=>{t&&r({...t,footer:{...t.footer,links:t.footer.links.map(j=>j.id===b?{...j,[v]:N}:j)}})},g=b=>{t&&r({...t,footer:{...t.footer,links:t.footer.links.filter(v=>v.id!==b)}})},x=(b,v)=>{if(!t)return;const N=[...t.footer.links],j=N.findIndex(k=>k.id===b);j!==-1&&(v==="up"&&j>0?[N[j],N[j-1]]=[N[j-1],N[j]]:v==="down"&&j<N.length-1&&([N[j],N[j+1]]=[N[j+1],N[j]]),N.forEach((k,S)=>{k.order=S}),r({...t,footer:{...t.footer,links:N}}))},y=(b,v)=>{t&&r({...t,footer:{...t.footer,socialMedia:{...t.footer.socialMedia,[b]:v}}})},w=async()=>{var b;if(t){o(!0);try{const v={header:t.header||{links:[]},footer:t.footer||{links:[],socialMedia:{}}};await he.post("/site-config",v,{requireAuth:!0}),e({title:"",description:"    "})}catch(v){console.error("Failed to save navigation config:",v);const N=(v==null?void 0:v.message)||((b=v==null?void 0:v.data)==null?void 0:b.message)||"     .    .";e({title:"   ",description:N,variant:"destructive"})}finally{o(!1)}}};return a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ge,{className:"animate-spin w-12 h-12 text-primary"})}):s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]}),s.jsx(z,{onClick:w,disabled:i,size:"lg",className:"gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4"})," "]})})]}),s.jsxs(Yn,{defaultValue:"header",className:"w-full",children:[s.jsxs(_n,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(Ar,{value:"header",children:" "}),s.jsx(Ar,{value:"footer",children:" "})]}),s.jsx(ls,{value:"header",className:"space-y-4",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ym,{className:"w-5 h-5"}),s.jsx(at,{children:" "})]}),s.jsx(Vt,{className:"mt-1",children:"     "})]}),s.jsxs(z,{onClick:c,className:"gap-2",children:[s.jsx(Gt,{className:"h-4 w-4"})," "]})]})}),s.jsx(Ce,{className:"space-y-4",children:(t==null?void 0:t.header.links.length)===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(_f,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "}),s.jsxs(z,{onClick:c,variant:"outline",className:"mt-4",children:[s.jsx(Gt,{className:"h-4 w-4 ml-2"}),"  "]})]}):t==null?void 0:t.header.links.map((b,v)=>{var N;return s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(X,{className:"font-semibold",children:[" #",v+1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>h(b.id,"up"),disabled:v===0,children:s.jsx(TL,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>h(b.id,"down"),disabled:v===t.header.links.length-1,children:s.jsx(PL,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>u(b.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-xs",children:" (English)"}),s.jsx(me,{value:b.label,onChange:j=>d(b.id,"label",j.target.value),placeholder:"Home"})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs",children:" ()"}),s.jsx(me,{value:b.labelAr,onChange:j=>d(b.id,"labelAr",j.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{className:"text-xs",children:""}),s.jsxs(nr,{value:b.type||"link",onValueChange:j=>d(b.id,"type",j),children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"link",children:" "}),s.jsx(Oe,{value:"dropdown",children:" "})]})]})]}),b.type!=="dropdown"&&s.jsxs("div",{className:"flex-[2]",children:[s.jsx(X,{className:"text-xs",children:" (URL)"}),s.jsx(me,{value:b.url,onChange:j=>d(b.id,"url",j.target.value),placeholder:"/about"})]})]}),b.type==="dropdown"&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(X,{className:"text-xs font-semibold",children:" "}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{var S;const j={id:Date.now().toString(),label:"New Item",labelAr:" ",url:"/",openInNewTab:!1,order:((S=b.children)==null?void 0:S.length)||0,type:"link"},k=[...b.children||[],j];d(b.id,"children",k)},children:[s.jsx(Gt,{className:"h-3 w-3 mr-1"})," "]})]}),s.jsxs("div",{className:"space-y-2",children:[(N=b.children)==null?void 0:N.map((j,k)=>s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1",children:[s.jsx(me,{value:j.label,onChange:S=>{const C=[...b.children||[]];C[k]={...j,label:S.target.value},d(b.id,"children",C)},placeholder:"Name",className:"h-8 text-xs"}),s.jsx(me,{value:j.labelAr,onChange:S=>{const C=[...b.children||[]];C[k]={...j,labelAr:S.target.value},d(b.id,"children",C)},placeholder:"",className:"h-8 text-xs"}),s.jsx(me,{value:j.url,onChange:S=>{const C=[...b.children||[]];C[k]={...j,url:S.target.value},d(b.id,"children",C)},placeholder:"URL",className:"col-span-2 h-8 text-xs"})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{const S=(b.children||[]).filter((C,A)=>A!==k);d(b.id,"children",S)},children:s.jsx(_r,{className:"h-3 w-3 text-red-500"})})]},j.id)),(!b.children||b.children.length===0)&&s.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"  "})]})]})]},b.id)})})]})}),s.jsxs(ls,{value:"footer",className:"space-y-4",children:[s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_f,{className:"w-5 h-5"}),s.jsx(at,{children:" "})]}),s.jsx(Vt,{className:"mt-1",children:"     "})]}),s.jsxs(z,{onClick:m,className:"gap-2",children:[s.jsx(Gt,{className:"h-4 w-4"})," "]})]})}),s.jsx(Ce,{className:"space-y-4",children:(t==null?void 0:t.footer.links.length)===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(_f,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"    "}),s.jsxs(z,{onClick:m,variant:"outline",className:"mt-4",children:[s.jsx(Gt,{className:"h-4 w-4 ml-2"}),"  "]})]}):t==null?void 0:t.footer.links.map((b,v)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(X,{className:"font-semibold",children:[" #",v+1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>x(b.id,"up"),disabled:v===0,children:s.jsx(TL,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>x(b.id,"down"),disabled:v===t.footer.links.length-1,children:s.jsx(PL,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>g(b.id),children:s.jsx(_r,{className:"h-4 w-4 text-red-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-xs",children:" (English)"}),s.jsx(me,{value:b.label,onChange:N=>p(b.id,"label",N.target.value),placeholder:"About Us"})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs",children:" ()"}),s.jsx(me,{value:b.labelAr,onChange:N=>p(b.id,"labelAr",N.target.value),placeholder:" "})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs",children:" (URL)"}),s.jsx(me,{value:b.url,onChange:N=>p(b.id,"url",N.target.value),placeholder:"/about"})]})]},b.id))})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:"  "}),s.jsx(Vt,{children:"     "})]}),s.jsxs(Ce,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(X,{children:"Facebook"}),s.jsx(me,{value:(t==null?void 0:t.footer.socialMedia.facebook)||"",onChange:b=>y("facebook",b.target.value),placeholder:"https://facebook.com/yourpage"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Twitter / X"}),s.jsx(me,{value:(t==null?void 0:t.footer.socialMedia.twitter)||"",onChange:b=>y("twitter",b.target.value),placeholder:"https://twitter.com/yourhandle"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"Instagram"}),s.jsx(me,{value:(t==null?void 0:t.footer.socialMedia.instagram)||"",onChange:b=>y("instagram",b.target.value),placeholder:"https://instagram.com/yourhandle"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"YouTube"}),s.jsx(me,{value:(t==null?void 0:t.footer.socialMedia.youtube)||"",onChange:b=>y("youtube",b.target.value),placeholder:"https://youtube.com/@yourchannel"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"TikTok"}),s.jsx(me,{value:(t==null?void 0:t.footer.socialMedia.tiktok)||"",onChange:b=>y("tiktok",b.target.value),placeholder:"https://tiktok.com/@yourhandle"})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:"  "})}),s.jsxs(Ce,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(X,{children:"Copyright Text (English)"}),s.jsx(me,{value:(t==null?void 0:t.footer.copyrightText)||"",onChange:b=>r(t?{...t,footer:{...t.footer,copyrightText:b.target.value}}:null),placeholder:" 2025 All rights reserved"})]}),s.jsxs("div",{children:[s.jsx(X,{children:"   ()"}),s.jsx(me,{value:(t==null?void 0:t.footer.copyrightTextAr)||"",onChange:b=>r(t?{...t,footer:{...t.footer,copyrightTextAr:b.target.value}}:null),placeholder:" 2025   "})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end sticky bottom-0 bg-background py-4 border-t",children:s.jsx(z,{onClick:w,disabled:i,size:"lg",className:"gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4"})," "]})})})]})}function Ndt(){const{user:e}=$s(),{toast:t}=Rt(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!0),[m,p]=f.useState(null),g=f.useRef(null),[x,y]=f.useState("");f.useEffect(()=>{if(!e)return;const A=localStorage.getItem("token"),D="https://saeaa.net/api".replace(/\/api$/,"")||"http://localhost:3002",P=vy(`${D}/chat`,{auth:{token:A},transports:["websocket","polling"]});return P.on("connect",()=>{console.log(" Connected to chat server")}),P.on("message",T=>{a(_=>[..._,T]),j()}),P.on("connect_error",T=>{console.error(" Socket connection error:",T),t({variant:"destructive",title:" ",description:"    .    ."})}),p(P),()=>{P.disconnect()}},[e,t]);const w=f.useCallback(async()=>{try{h(!0);const A=await he.get("/chat",{requireAuth:!0});a(A||[]),j()}catch(A){console.error("Failed to load messages:",A),t({variant:"destructive",title:"  ",description:"    .   ."})}finally{h(!1)}},[t]),b=f.useCallback(async()=>{try{const A=await he.get("/user/list",{requireAuth:!0});let E=[];A&&typeof A=="object"&&(Array.isArray(A)?E=A:A.data&&Array.isArray(A.data)?E=A.data:A.users&&Array.isArray(A.users)&&(E=A.users));const D=E.filter(P=>P&&typeof P=="object"&&P.id&&P.email).map(P=>({id:String(P.id),name:P.name||P.email,email:String(P.email),avatar:P.avatar||void 0,online:!1,unread:0,role:String(P.role||"")}));i(D)}catch(A){console.error("Failed to load users:",A),i([])}},[]);f.useEffect(()=>{w(),b()},[w,b]);const v=async()=>{if(!c.trim()||!m)return;const A=c.trim();d("");try{m.emit("message",{content:A}),await he.post("/chat",{content:A},{requireAuth:!0})}catch(E){console.error("Failed to send message:",E),t({variant:"destructive",title:"  ",description:"    .    ."})}},N=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),v())},j=()=>{setTimeout(()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})},100)},k=n.filter(A=>A.name.toLowerCase().includes(x.toLowerCase())||A.email.toLowerCase().includes(x.toLowerCase())),C=o?n.find(A=>A.id===o):null;return s.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-4",children:[s.jsxs(je,{className:"w-80 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b space-y-4",children:[s.jsx("h2",{className:"font-semibold text-lg",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:"...",className:"pr-9",value:x,onChange:A=>y(A.target.value)})]})]}),s.jsx(xn,{className:"flex-1",children:s.jsx("div",{className:"divide-y",children:k.map(A=>s.jsx("div",{className:`p-4 cursor-pointer hover:bg-muted/50 transition-colors ${o===A.id?"bg-muted/50":""}`,onClick:()=>l(A.id),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(mp,{children:[s.jsx(fp,{src:A.avatar}),s.jsx(pp,{children:A.name.charAt(0).toUpperCase()})]}),A.online&&s.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-background rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium truncate block",children:A.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:A.role})]}),A.time&&s.jsx("span",{className:"text-xs text-muted-foreground",children:A.time})]}),A.lastMessage&&s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:A.lastMessage})]}),A.unread>0&&s.jsx(Ze,{className:"bg-primary hover:bg-primary",children:A.unread})]})},A.id))})})]}),s.jsx(je,{className:"flex-1 flex flex-col",children:C?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(mp,{children:[s.jsx(fp,{src:C.avatar}),s.jsx(pp,{children:C.name.charAt(0).toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:C.name}),s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[C.online&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})," "]}),!C.online&&" "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon","aria-label":" ",children:s.jsx(Si,{className:"h-5 w-5"})}),s.jsx(z,{variant:"ghost",size:"icon","aria-label":" ",children:s.jsx(Lw,{className:"h-5 w-5"})}),s.jsx(z,{variant:"ghost",size:"icon","aria-label":"  ",children:s.jsx(j4,{className:"h-5 w-5"})})]})]}),s.jsx(xn,{className:"flex-1 p-4",children:u?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("p",{className:"text-muted-foreground",children:" ..."})}):s.jsxs("div",{className:"space-y-4",children:[r.map(A=>{const E=A.senderId===(e==null?void 0:e.id);return s.jsx("div",{className:`flex ${E?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-2xl p-3 ${E?"bg-primary text-primary-foreground rounded-tl-none":"bg-muted rounded-tr-none"}`,children:[!E&&A.sender&&s.jsx("p",{className:"text-xs font-semibold mb-1",children:A.sender.name||A.sender.email}),s.jsx("p",{className:"whitespace-pre-wrap break-words",children:A.content}),s.jsx("span",{className:`text-xs mt-1 block ${E?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(A.createdAt).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})},A.id)}),s.jsx("div",{ref:g})]})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon","aria-label":" ",children:s.jsx(tfe,{className:"h-5 w-5"})}),s.jsx(z,{variant:"ghost",size:"icon","aria-label":" ",children:s.jsx(Ni,{className:"h-5 w-5"})}),s.jsx(me,{placeholder:" ...",value:c,onChange:A=>d(A.target.value),onKeyPress:N,className:"flex-1"}),s.jsx(z,{variant:"ghost",size:"icon","aria-label":" ",children:s.jsx(gG,{className:"h-5 w-5"})}),s.jsx(z,{size:"icon",onClick:v,disabled:!c.trim(),"aria-label":" ",children:s.jsx(yp,{className:"h-5 w-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"  "}),s.jsx("p",{className:"text-sm",children:"      "})]})})})]})}function zA({title:e,description:t,icon:r,actionLabel:a,onAction:n}){return s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs(je,{className:"w-full max-w-md text-center",children:[s.jsxs(et,{children:[s.jsx("div",{className:"mx-auto p-4 bg-primary/10 rounded-full w-fit mb-4",children:s.jsx(r,{className:"w-8 h-8 text-primary"})}),s.jsx(at,{className:"text-2xl",children:e}),s.jsx(Vt,{className:"text-lg mt-2",children:t})]}),s.jsxs(Ce,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:"      ."}),a&&s.jsx(z,{onClick:n,className:"w-full",children:a})]})]})})}const Tz=[{id:"manage_products",labelKey:"employeesPage.permissions.manageProducts"},{id:"manage_orders",labelKey:"employeesPage.permissions.manageOrders"},{id:"manage_customers",labelKey:"employeesPage.permissions.manageCustomers"},{id:"manage_settings",labelKey:"employeesPage.permissions.manageSettings"},{id:"view_analytics",labelKey:"employeesPage.permissions.viewAnalytics"}];function sle(){const{toast:e}=Rt(),{t}=Ct(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,w]=f.useState([]),[b,v]=f.useState([]),[N,j]=f.useState([]),[k,S]=f.useState(!1),[C,A]=f.useState(!1),[E,D]=f.useState(!1),[P,T]=f.useState(""),[_,O]=f.useState(""),[F,I]=f.useState(!1),R=f.useCallback(async()=>{try{i(!0);const Y=await qh.getStaffUsers();a(Y.data||[])}catch(Y){console.error("Failed to load staff:",Y),e({title:t("employeesPage.messages.loadError"),description:t("employeesPage.messages.loadErrorDesc"),variant:"destructive"})}finally{i(!1)}},[e]);f.useEffect(()=>{R()},[R]),f.useEffect(()=>{c&&L()},[c]);const L=async()=>{var Y;try{S(!0);let U=[];try{const J=await he.get("/dashboard/customers",{requireAuth:!0});console.log(" EmployeesManager: Dashboard customers response:",J),Array.isArray(J)?U=J:J&&typeof J=="object"&&(Array.isArray(J.customers)?U=J.customers:Array.isArray(J.data)?U=J.data:J.data&&Array.isArray(J.data.customers)&&(U=J.data.customers))}catch(J){console.warn(" EmployeesManager: Dashboard endpoint failed, trying auth service directly:",J);try{const K="https://saeaa.net",se=localStorage.getItem("accessToken")||((Y=document.cookie.split("accessToken=")[1])==null?void 0:Y.split(";")[0])||"",B=await fetch(`${K}/customers?page=1&limit=1000`,{headers:{Authorization:se?`Bearer ${se}`:"","Content-Type":"application/json"},credentials:"include"});if(B.ok){const Ne=await B.json();console.log(" EmployeesManager: Auth service customers response:",Ne),Array.isArray(Ne)?U=Ne:Ne.data&&Array.isArray(Ne.data)?U=Ne.data:Ne.customers&&Array.isArray(Ne.customers)&&(U=Ne.customers)}else console.error(" EmployeesManager: Auth service returned error:",B.status,B.statusText)}catch(K){console.error(" EmployeesManager: Auth service fallback also failed:",K)}}console.log(" EmployeesManager: Extracted customers data:",U);const Z=U.reduce((J,K)=>{if(!K||!K.email)return console.warn(" EmployeesManager: Skipping invalid customer:",K),J;const se=K.email.toLowerCase().trim();return J.find(B=>B.email.toLowerCase()===se)||J.push({id:K.id||K.email||`customer-${J.length}`,email:K.email,firstName:K.firstName||K.name||K.customerName||"",lastName:K.lastName||"",phone:K.phone||K.customerPhone||""}),J},[]);console.log(" EmployeesManager: Unique customers:",Z),j(Z),Z.length===0&&(console.warn(" EmployeesManager: No customers found. Make sure customers are created in the market."),e({title:"  ",description:"    .       .",variant:"default"}))}catch(U){console.error(" EmployeesManager: Failed to load customers:",U);const Z=U instanceof Error?U.message:"     ";e({title:"  ",description:Z,variant:"destructive"}),j([])}finally{S(!1)}},H=async()=>{if(!u){e({title:"  ",description:"    ",variant:"destructive"});return}if(g==="STORE_MANAGER"&&b.length===0){e({title:" ",description:"    ",variant:"destructive"});return}try{A(!0);const U=await qh.createStaff({email:u,phone:m,role:g,permissions:y,assignedCustomers:b});U.password?(T(U.password),O(u),D(!0),console.log(`Employee Password for ${u}: ${U.password}`)):e({title:" ",description:"   "}),d(!1),h(""),p(""),x(""),w([]),v([]),R()}catch(Y){console.error("Failed to create staff:",Y),e({title:t("employeesPage.messages.createError"),description:t("employeesPage.employeeError"),variant:"destructive"})}finally{A(!1)}},W=async Y=>{if(confirm(t("employeesPage.deleteConfirm")))try{await qh.deleteStaff(Y),e({title:t("common.success"),description:t("employeesPage.employeeDeleted")}),R()}catch(U){console.error("Failed to delete staff:",U),e({title:t("employeesPage.messages.deleteError"),description:t("employeesPage.messages.deleteErrorDesc"),variant:"destructive"})}},M=Y=>{w(U=>U.includes(Y)?U.filter(Z=>Z!==Y):[...U,Y])},G=Y=>Y.substring(0,2).toUpperCase(),V=async()=>{try{await navigator.clipboard.writeText(P),I(!0),e({title:" ",description:"     "}),setTimeout(()=>I(!1),2e3)}catch(Y){console.error("Failed to copy password:",Y),e({title:" ",description:"   .   .",variant:"destructive"})}},q=r.filter(Y=>Y.email.toLowerCase().includes(o.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:""}),s.jsx("p",{className:"text-muted-foreground",children:"   "})]}),s.jsxs(Qt,{open:c,onOpenChange:d,children:[s.jsx(Qx,{asChild:!0,children:s.jsxs(z,{className:"gap-2",children:[s.jsx(jd,{className:"h-4 w-4"})," "]})}),s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"  "}),s.jsx(ur,{children:"       ."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:"  *"}),s.jsx(me,{id:"email",placeholder:"employee@example.com",value:u,onChange:Y=>h(Y.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"phone",children:" "}),s.jsx(me,{id:"phone",placeholder:"+966 5XX XXX XXX",value:m,onChange:Y=>p(Y.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"role",children:""}),s.jsxs(nr,{value:g||"__none__",onValueChange:Y=>x(Y==="__none__"?"":Y),children:[s.jsx(Jt,{id:"role",children:s.jsx(cr,{placeholder:" "})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"__none__",children:"  "}),s.jsx(Oe,{value:"STORE_MANAGER",children:" "})]})]})]}),g==="STORE_MANAGER"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"  *"}),k?s.jsxs("div",{className:"text-sm text-gray-500 p-3 border rounded-lg flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"  ..."]}):N.length===0?s.jsxs("div",{className:"text-sm text-gray-500 p-3 border rounded-lg bg-gray-50 dark:bg-gray-900",children:[s.jsx("p",{className:"mb-2",children:"     "}),s.jsx("p",{className:"text-xs",children:"         "})]}):s.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg p-4 space-y-2 bg-gray-50 dark:bg-gray-900",children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["   ",N.length," "]}),N.map(Y=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:[s.jsx(Ki,{id:`customer-${Y.id}`,checked:b.includes(Y.id),onCheckedChange:U=>{v(U?[...b,Y.id]:b.filter(Z=>Z!==Y.id))}}),s.jsx("label",{htmlFor:`customer-${Y.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:Y.firstName||Y.email}),Y.lastName&&s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:Y.lastName})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx("span",{children:Y.email}),Y.phone&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:Y.phone})]})]})]})})]},Y.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2 border rounded-lg p-4",children:Tz.map(Y=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(Ki,{id:Y.id,checked:y.includes(Y.id),onCheckedChange:()=>M(Y.id)}),s.jsx("label",{htmlFor:Y.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:Y.label})]},Y.id))})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>d(!1),children:""}),s.jsx(z,{onClick:H,disabled:C,children:C?" ...":" "})]})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{className:"border-b",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{placeholder:"  ...",value:o,onChange:Y=>l(Y.target.value),className:"pr-10"})]})})}),s.jsx(Ce,{className:"p-0",children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):q.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500",children:"      "})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:" "}),s.jsx(Ee,{className:"w-[100px]",children:""})]})}),s.jsx(ss,{children:q.map(Y=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(mp,{children:[s.jsx(fp,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${Y.email}`}),s.jsx(pp,{children:G(Y.email)})]}),s.jsx("div",{children:s.jsx("p",{className:"font-medium",children:Y.email})})]})}),s.jsx(ke,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:Y.staffPermissions.length>0?Y.staffPermissions.map((U,Z)=>{var J;return s.jsx(Ze,{variant:"secondary",className:"text-xs",children:((J=Tz.find(K=>K.id===U.permission))==null?void 0:J.label)||U.permission},Z)}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"  "})}),Y.role==="STORE_MANAGER"&&s.jsx(Ze,{variant:"outline",className:"text-xs mt-1",children:" "}),Y.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[s.jsx(Si,{className:"h-3 w-3"}),Y.phone]})]})}),s.jsx(ke,{children:new Date(Y.createdAt).toLocaleDateString("ar-SA")}),s.jsx(ke,{children:s.jsx(z,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>W(Y.id),children:s.jsx(_r,{className:"h-4 w-4"})})})]},Y.id))})]})})]}),s.jsx(Qt,{open:E,onOpenChange:D,children:s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"   "}),s.jsx(ur,{children:"   .       ."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:" "}),s.jsx(me,{value:_,readOnly:!0,className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"  "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{value:P,readOnly:!0,className:"font-mono text-lg font-bold",type:"text"}),s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:V,className:"shrink-0",children:F?s.jsx(Js,{className:"h-4 w-4 text-green-600"}):s.jsx($l,{className:"h-4 w-4"})})]})]}),s.jsx(yi,{children:s.jsxs(bi,{children:[s.jsx("strong",{children:":"}),"           ."]})})]}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>D(!1),children:""})})]})})]})}const _z=[{category:"",dashboardAccess:["/dashboard/products","/dashboard/categories","/dashboard/prices"],permissions:[{id:"product:create",label:" ",description:"     -    ",icon:Tt,category:""},{id:"product:read",label:" ",description:"     -    ",icon:fr,category:""},{id:"product:update",label:" ",description:"     -   ",icon:vs,category:""},{id:"product:delete",label:" ",description:"    -    ",icon:Cs,category:""},{id:"product:manage",label:" ",description:"    -     ",icon:Tt,category:""}]},{category:"",dashboardAccess:["/dashboard/orders"],permissions:[{id:"order:create",label:" ",description:"     -   ",icon:Dr,category:""},{id:"order:read",label:" ",description:"     -    ",icon:fr,category:""},{id:"order:update",label:" ",description:"     -   ",icon:vs,category:""},{id:"order:delete",label:" ",description:"    -    ",icon:Cs,category:""},{id:"order:manage",label:" ",description:"    -    ",icon:Dr,category:""}]},{category:"",dashboardAccess:["/dashboard/customers"],permissions:[{id:"customer:create",label:" ",description:"      -   ",icon:mr,category:""},{id:"customer:read",label:" ",description:"     -    ",icon:fr,category:""},{id:"customer:update",label:" ",description:"     -   ",icon:vs,category:""},{id:"customer:delete",label:" ",description:"    -   ",icon:Cs,category:""},{id:"customer:manage",label:" ",description:"    -    ",icon:mr,category:""}]},{category:"",dashboardAccess:["/dashboard/products"],permissions:[{id:"inventory:read",label:" ",description:"     -   ",icon:fr,category:""},{id:"inventory:update",label:" ",description:"     -   ",icon:vs,category:""},{id:"inventory:manage",label:" ",description:"     -   ",icon:Tt,category:""}]},{category:"",dashboardAccess:["/dashboard/reports"],permissions:[{id:"analytics:read",label:" ",description:"     -    ",icon:Da,category:""},{id:"analytics:manage",label:" ",description:"     -   ",icon:Da,category:""}]},{category:"",dashboardAccess:["/dashboard/settings"],permissions:[{id:"settings:read",label:" ",description:"     -   ",icon:fr,category:""},{id:"settings:update",label:" ",description:"     -   ",icon:vs,category:""}]}];function ale(){const{toast:e}=Rt(),{user:t}=$s();Kr();const[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,p]=f.useState(!1),[g,x]=f.useState(!1),y=t&&t.role==="STAFF",w=f.useCallback(async()=>{try{if(i(!0),y&&t){const E=await qh.getStaffUser(t.id),D={id:E.id,email:E.email,name:E.name,phone:E.phone,role:E.role,createdAt:E.createdAt,updatedAt:E.updatedAt,staffPermissions:E.staffPermissions||[]};a([D]),i(!1);return}console.log("Loading staff users...");const S=await qh.getStaffUsers(1,100);console.log("Staff users response:",S);const C=(S==null?void 0:S.data)||S||[];console.log("Staff data:",C);const A=Array.isArray(C)?C.map(E=>({id:E.id,email:E.email,name:E.name,phone:E.phone,role:E.role,createdAt:E.createdAt,updatedAt:E.updatedAt,staffPermissions:E.staffPermissions||[]})):[];console.log("Normalized staff:",A),a(A)}catch(S){console.error("Failed to load staff:",S),e({title:"",description:(S==null?void 0:S.message)||"   ",variant:"destructive"})}finally{i(!1)}},[e,y,t]);f.useEffect(()=>{w()},[w]);const b=S=>{d(S);const A=(S.staffPermissions||[]).map(E=>typeof E=="string"?E:E.permission).filter(E=>E&&!E.startsWith("employee:"))||[];console.log("Editing permissions for:",S.email,A),h(A),p(!0)},v=S=>{u.includes(S)?h(u.filter(C=>C!==S)):h([...u,S])},N=async()=>{if(c){if(y||t&&t.role!=="SHOP_OWNER"&&t.role!=="SUPER_ADMIN"){e({variant:"destructive",title:" ",description:"      .          ."});return}try{x(!0),console.log("Saving permissions for staff:",c.id,u);const S=await qh.updatePermissions(c.id,u);console.log("Permissions update result:",S),e({title:"",description:"   "}),await w(),p(!1),d(null),h([])}catch(S){console.error("Failed to save permissions:",S),e({title:"",description:(S==null?void 0:S.message)||"  ",variant:"destructive"})}finally{x(!1)}}},j=r.filter(S=>S.email.toLowerCase().includes(o.toLowerCase())),k=S=>{for(const C of _z){const A=C.permissions.find(E=>E.id===S);if(A)return A.label}return S};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ws,{className:"h-6 w-6 text-purple-600"}),y?"":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:y?"    -          ":"          "})]}),s.jsxs(z,{variant:"outline",onClick:w,disabled:n,className:"gap-2",children:[s.jsx(Xl,{className:`h-4 w-4 ${n?"animate-spin":""}`}),""]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(me,{placeholder:"  ...",value:o,onChange:S=>l(S.target.value),className:"pr-10"})]})}),s.jsx(Ce,{className:"p-0",children:n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mr,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500",children:"      "})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:y?"":""}),s.jsxs(Ee,{children:[" ",y?" ":""]}),!y&&s.jsx(Ee,{className:"w-[150px]",children:""})]})}),s.jsx(ss,{children:j.map(S=>{const A=(S.staffPermissions||[]).map(E=>typeof E=="string"?E:E.permission).filter(E=>E&&!E.startsWith("employee:"))||[];return s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(zO,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.email}),S.name&&s.jsx("p",{className:"text-sm text-gray-500",children:S.name})]})]})}),s.jsx(ke,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:A.length>0?A.map((E,D)=>s.jsx(Ze,{variant:"secondary",className:"text-xs",children:k(E)},`${E}-${D}`)):s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-muted-foreground text-sm block",children:"   "}),y&&s.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 block",children:"        "})]})})}),!y&&s.jsx(ke,{children:s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>b(S),className:"gap-2",children:[s.jsx(La,{className:"h-4 w-4"})," "]})})]},S.id)})})]})})]}),s.jsx(Qt,{open:m,onOpenChange:p,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"h-5 w-5"}),"  ",c==null?void 0:c.email]}),s.jsx(ur,{children:"       "})]}),s.jsx("div",{className:"space-y-6 py-4",children:_z.map(S=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[s.jsx(Ws,{className:"h-5 w-5 text-purple-600"}),S.category]}),S.dashboardAccess&&S.dashboardAccess.length>0&&s.jsxs("div",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium",children:"  :"}),S.dashboardAccess.map((C,A)=>s.jsx(Ze,{variant:"outline",className:"text-xs",children:C},A))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.permissions.map(C=>{const A=u.includes(C.id),E=C.icon;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${A?"bg-purple-50 border-purple-500 dark:bg-purple-900/20":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700 hover:border-gray-300"}`,children:[s.jsx(Ki,{checked:A,onCheckedChange:()=>v(C.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(E,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-sm",children:C.label})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:C.description})]})]},C.id)})})]},S.category))}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>p(!1),children:""}),s.jsx(z,{onClick:N,disabled:g,className:"gap-2",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"h-4 w-4"})," "]})})]})]})})]})}function Sdt(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"    "})]}),s.jsxs(Yn,{defaultValue:"employees",className:"w-full",children:[s.jsxs(_n,{children:[s.jsx(Ar,{value:"employees",children:""}),s.jsx(Ar,{value:"roles",children:" "}),s.jsx(Ar,{value:"logs",children:" "})]}),s.jsx(ls,{value:"employees",className:"mt-6",children:s.jsx(sle,{})}),s.jsx(ls,{value:"roles",className:"mt-6",children:s.jsx(ale,{})}),s.jsx(ls,{value:"logs",className:"mt-6",children:s.jsx(zA,{title:" ",description:"       .",icon:ad})})]})]})}function kdt(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),s.jsx(zA,{title:"   ",description:"             .",icon:py,actionLabel:" "})]})}function Cdt(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"    "})]}),s.jsx(zA,{title:"   ",description:"        .",icon:Tt,actionLabel:"  "})]})}function Adt(){const{t:e}=Ct(),[t,r]=f.useState(null),a=[{id:"basic",name:e("dashboard.marketing.packages.basic.name"),nameEn:e("dashboard.marketing.packages.basic.nameEn"),price:999,duration:e("dashboard.marketing.packages.monthly"),icon:ds,color:"from-primary to-primary/80",features:e("dashboard.marketing.packages.basic.features",{returnObjects:!0}),recommended:!1},{id:"professional",name:e("dashboard.marketing.packages.professional.name"),nameEn:e("dashboard.marketing.packages.professional.nameEn"),price:1999,duration:e("dashboard.marketing.packages.monthly"),icon:An,color:"from-secondary to-secondary/80",features:e("dashboard.marketing.packages.professional.features",{returnObjects:!0}),recommended:!0},{id:"enterprise",name:e("dashboard.marketing.packages.enterprise.name"),nameEn:e("dashboard.marketing.packages.enterprise.nameEn"),price:3999,duration:e("dashboard.marketing.packages.monthly"),icon:v0,color:"from-accent to-accent/80",features:e("dashboard.marketing.packages.enterprise.features",{returnObjects:!0}),recommended:!1}],n=[{label:e("dashboard.marketing.stats.totalFollowers"),value:"12.5K",change:"+12%",icon:mr,color:"text-primary"},{label:e("dashboard.marketing.stats.engagementRate"),value:"8.3%",change:"+5%",icon:Wo,color:"text-success"},{label:e("dashboard.marketing.stats.postsThisMonth"),value:"24",change:"+8",icon:un,color:"text-secondary"},{label:e("dashboard.marketing.stats.totalReach"),value:"45.2K",change:"+18%",icon:Da,color:"text-accent"}],i=[{platform:"Instagram",followers:"5.2K",icon:FO,color:"bg-gradient-to-br from-purple-500 to-pink-500"},{platform:"Facebook",followers:"3.8K",icon:IO,color:"bg-blue-600"},{platform:"Twitter",followers:"2.1K",icon:VO,color:"bg-sky-500"},{platform:"LinkedIn",followers:"1.4K",icon:xG,color:"bg-blue-700"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("dashboard.marketing.title")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard.marketing.subtitle")})]}),s.jsx(je,{className:"relative overflow-hidden border-0 bg-gradient-primary",children:s.jsx(Ce,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx("img",{src:"/partners/smartline-logo.png",alt:"Smart Line",className:"w-12 h-12"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:e("dashboard.marketing.partnerTitle")}),s.jsx("p",{className:"text-white/90 text-sm",children:e("dashboard.marketing.partnerDesc")})]})]})})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((o,l)=>s.jsx(je,{children:s.jsx(Ce,{className:"p-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:o.label}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:o.value}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-medium mt-2",children:[s.jsx(Wo,{className:"h-3 w-3"}),s.jsx("span",{children:o.change})]})]}),s.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-xl",children:s.jsx(o.icon,{className:`h-7 w-7 ${o.color}`})})]})})},l))}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:e("dashboard.marketing.socialAccounts.title")}),s.jsx(Vt,{children:e("dashboard.marketing.socialAccounts.subtitle")})]}),s.jsx(Ce,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map((o,l)=>s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg hover:shadow-md transition-shadow",children:[s.jsx("div",{className:`w-12 h-12 ${o.color} rounded-full flex items-center justify-center mb-3`,children:s.jsx(o.icon,{className:"h-6 w-6 text-white"})}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:o.platform}),s.jsxs("p",{className:"text-sm text-gray-500",children:[o.followers," ",e("dashboard.marketing.socialAccounts.followers")]})]},l))})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e("dashboard.marketing.packages.title")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("dashboard.marketing.packages.subtitle")})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:a.map(o=>{const l=o.icon;return s.jsxs(je,{className:`relative overflow-hidden transition-all hover:shadow-xl ${o.recommended?"ring-2 ring-secondary scale-105":""} ${t===o.id?"ring-2 ring-primary":""}`,children:[o.recommended&&s.jsx("div",{className:"absolute top-0 right-0 bg-gradient-secondary text-white px-4 py-1 text-xs font-semibold rounded-bl-lg",children:e("dashboard.marketing.packages.mostPopular")}),s.jsxs(et,{className:"text-center pb-4",children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 bg-gradient-to-br ${o.color} rounded-2xl flex items-center justify-center`,children:s.jsx(l,{className:"h-8 w-8 text-white"})}),s.jsx(at,{className:"text-2xl",children:o.name}),o.nameEn&&s.jsx(Vt,{className:"text-sm",children:o.nameEn}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:o.price}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400 mr-2",children:e("common.currency")}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.duration})]})]}),s.jsxs(Ce,{children:[s.jsx("ul",{className:"space-y-3 mb-6",children:Array.isArray(o.features)&&o.features.map((c,d)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ba,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:c})]},d))}),s.jsx(z,{className:`w-full ${o.recommended?"bg-gradient-secondary hover:opacity-90":""}`,variant:o.recommended?"default":"outline",onClick:()=>r(o.id),children:t===o.id?e("dashboard.marketing.packages.selected"):e("dashboard.marketing.packages.select")})]})]},o.id)})})]}),s.jsx(je,{className:"bg-card border-border",children:s.jsxs(Ce,{className:"p-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:e("dashboard.marketing.customPackage.title")}),s.jsx("p",{className:"text-gray-300 mb-6",children:e("dashboard.marketing.customPackage.desc")}),s.jsxs(z,{size:"lg",className:"bg-primary hover:bg-primary/90",children:[e("dashboard.marketing.customPackage.contact"),s.jsx(un,{className:"mr-2 h-5 w-5"})]})]})})]})}function Edt(){const{t:e}=Ct(),[t,r]=f.useState("all"),[a,n]=f.useState(""),i=[{id:"social-media-management",title:e("dashboard.smartLineMarket.services.socialMedia.title"),description:e("dashboard.smartLineMarket.services.socialMedia.description"),price:999,category:"social",rating:4.8,reviews:124,icon:un,color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/20",features:e("dashboard.smartLineMarket.services.socialMedia.features",{returnObjects:!0})},{id:"seo-optimization",title:e("dashboard.smartLineMarket.services.seo.title"),description:e("dashboard.smartLineMarket.services.seo.description"),price:1499,category:"seo",rating:4.9,reviews:85,icon:Or,color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/20",features:e("dashboard.smartLineMarket.services.seo.features",{returnObjects:!0})},{id:"content-creation",title:e("dashboard.smartLineMarket.services.content.title"),description:e("dashboard.smartLineMarket.services.content.description"),price:799,category:"content",rating:4.7,reviews:210,icon:rfe,color:"text-pink-500",bgColor:"bg-pink-100 dark:bg-pink-900/20",features:e("dashboard.smartLineMarket.services.content.features",{returnObjects:!0})},{id:"paid-ads",title:e("dashboard.smartLineMarket.services.ads.title"),description:e("dashboard.smartLineMarket.services.ads.description"),price:1200,category:"ads",rating:4.9,reviews:156,icon:Da,color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/20",features:e("dashboard.smartLineMarket.services.ads.features",{returnObjects:!0})},{id:"video-production",title:e("dashboard.smartLineMarket.services.video.title"),description:e("dashboard.smartLineMarket.services.video.description"),price:2500,category:"content",rating:5,reviews:42,icon:Lw,color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20",features:e("dashboard.smartLineMarket.services.video.features",{returnObjects:!0})},{id:"web-development",title:e("dashboard.smartLineMarket.services.dev.title"),description:e("dashboard.smartLineMarket.services.dev.description"),price:1800,category:"dev",rating:4.6,reviews:98,icon:Oa,color:"text-cyan-500",bgColor:"bg-cyan-100 dark:bg-cyan-900/20",features:e("dashboard.smartLineMarket.services.dev.features",{returnObjects:!0})}],o=[{id:"all",name:e("dashboard.smartLineMarket.categories.all")},{id:"social",name:e("dashboard.smartLineMarket.categories.social")},{id:"seo",name:e("dashboard.smartLineMarket.categories.seo")},{id:"content",name:e("dashboard.smartLineMarket.categories.content")},{id:"ads",name:e("dashboard.smartLineMarket.categories.ads")},{id:"dev",name:e("dashboard.smartLineMarket.categories.dev")}],l=i.filter(c=>{const d=t==="all"||c.category===t,u=c.title.toLowerCase().includes(a.toLowerCase())||c.description.toLowerCase().includes(a.toLowerCase());return d&&u});return s.jsxs("div",{className:"space-y-8 pb-10",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 text-white p-8 md:p-12",children:[s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8",children:[s.jsxs("div",{className:"space-y-4 max-w-2xl",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 text-sm font-medium",children:[s.jsx(ds,{className:"w-4 h-4 text-yellow-300"}),s.jsx("span",{children:e("dashboard.smartLineMarket.badge")})]}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:e("dashboard.smartLineMarket.title")}),s.jsx("p",{className:"text-lg text-white/90 leading-relaxed",children:e("dashboard.smartLineMarket.description")}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[s.jsxs(z,{size:"lg",className:"bg-white text-purple-600 hover:bg-gray-100 border-0 font-bold",children:[e("dashboard.smartLineMarket.browseServices"),s.jsx(ta,{className:"mr-2 h-5 w-5 rtl:rotate-180"})]}),s.jsx(z,{size:"lg",variant:"outline",className:"bg-transparent border-white text-white hover:bg-white/10",children:e("dashboard.smartLineMarket.contactExpert")})]})]}),s.jsx("div",{className:"hidden md:flex items-center justify-center",children:s.jsx("div",{className:"relative w-48 h-48 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/20 shadow-2xl animate-pulse-slow",children:s.jsx(Kf,{className:"w-24 h-24 text-white drop-shadow-lg"})})})]}),s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-64 h-64 bg-pink-500 rounded-full blur-3xl"})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between sticky top-0 z-30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 py-4 border-b",children:[s.jsx(Yn,{defaultValue:"all",value:t,onValueChange:r,className:"w-full md:w-auto",children:s.jsx(_n,{className:"bg-muted/50 p-1",children:o.map(c=>s.jsx(Ar,{value:c.id,className:"px-4",children:c.name},c.id))})}),s.jsxs("div",{className:"relative w-full md:w-72",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:e("dashboard.smartLineMarket.searchPlaceholder"),className:"pr-9",value:a,onChange:c=>n(c.target.value)})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>{const d=c.icon;return s.jsxs(je,{className:"group hover:shadow-xl transition-all duration-300 border-muted/60 overflow-hidden flex flex-col",children:[s.jsxs(et,{className:"pb-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:`p-3 rounded-2xl ${c.bgColor} transition-transform group-hover:scale-110 duration-300`,children:s.jsx(d,{className:`w-8 h-8 ${c.color}`})}),s.jsxs(Ze,{variant:"secondary",className:"font-normal flex items-center gap-1",children:[s.jsx(Bo,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),c.rating," (",c.reviews,")"]})]}),s.jsx(at,{className:"text-xl group-hover:text-primary transition-colors",children:c.title}),s.jsx(Vt,{className:"line-clamp-2 mt-2 text-base",children:c.description})]}),s.jsx(Ce,{className:"flex-1",children:s.jsx("div",{className:"space-y-3",children:Array.isArray(c.features)&&c.features.map((u,h)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:s.jsx(Ba,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),u]},h))})}),s.jsxs(Ru,{className:"pt-4 border-t bg-muted/20 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:c.price}),s.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:e("dashboard.smartLineMarket.service.pricePerMonth")})]}),s.jsx(z,{className:"bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 shadow-md hover:shadow-lg transition-all",children:e("dashboard.smartLineMarket.service.subscribeNow")})]})]},c.id)})}),l.length===0&&s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Or,{className:"w-10 h-10 text-muted-foreground"})}),s.jsx("h3",{className:"text-xl font-semibold",children:e("dashboard.smartLineMarket.emptyState.title")}),s.jsx("p",{className:"text-muted-foreground mt-2",children:e("dashboard.smartLineMarket.emptyState.desc")}),s.jsx(z,{variant:"link",onClick:()=>{n(""),r("all")},className:"mt-4",children:e("dashboard.smartLineMarket.emptyState.showAll")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(An,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.speed.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.speed.desc")})]}),s.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ba,{className:"w-6 h-6 text-green-600"})}),s.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.results.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.results.desc")})]}),s.jsxs("div",{className:"bg-card border rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(un,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h3",{className:"font-bold mb-2",children:e("dashboard.smartLineMarket.trust.support.title")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.smartLineMarket.trust.support.desc")})]})]})]})}function Pdt(){const[e,t]=f.useState(null),[r,a]=f.useState(!0),[n,i]=f.useState([{id:"1",role:"assistant",content:"!   .    ",timestamp:new Date}]),[o,l]=f.useState(""),[c,d]=f.useState(!1),{toast:u}=Rt();f.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await he.get("/partner/status",{requireAuth:!0});t(x)}catch(x){console.error("Failed to fetch partner status:",x)}finally{a(!1)}},m=async()=>{if(!o.trim())return;const x={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};i(y=>[...y,x]),l(""),d(!0),setTimeout(()=>{const y={id:(Date.now()+1).toString(),role:"assistant",content:" !     .           .",timestamp:new Date};i(w=>[...w,y]),d(!1)},1e3)},p=(x,y)=>{u({title:"   ",description:`   ${y} ASUS`})};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});const g=e==null?void 0:e.asusPartnerCompleted;return g?s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600",children:"       "})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(je,{className:"h-[600px] flex flex-col",children:[s.jsx(et,{className:"border-b",children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(cu,{className:"w-5 h-5 text-purple-600"})," ",s.jsxs(Ze,{variant:"secondary",className:"mr-auto",children:[s.jsx(ds,{className:"w-3 h-3 mr-1"}),"AI"]})]})}),s.jsxs(Ce,{className:"flex-1 flex flex-col p-0",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map(x=>s.jsxs("div",{className:`flex gap-3 ${x.role==="user"?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-purple-600":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:x.role==="user"?s.jsx(Gi,{className:"w-4 h-4 text-white"}):s.jsx(cu,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:`flex-1 ${x.role==="user"?"text-right":""}`,children:[s.jsx("div",{className:`inline-block px-4 py-2 rounded-2xl ${x.role==="user"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"}`,children:x.content}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:x.timestamp.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})]},x.id)),c&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:s.jsx(cu,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-2xl",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),s.jsx("div",{className:"border-t p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&m(),placeholder:"  ...",className:"flex-1",disabled:c}),s.jsx(z,{onClick:m,disabled:c||!o.trim(),size:"icon",children:s.jsx(yp,{className:"w-4 h-4"})})]})})]})]})}),s.jsxs("div",{className:"space-y-6",children:[g&&s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:"w-6 h-6"})," ASUS"]})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(z,{variant:"outline",className:"w-full justify-start",onClick:()=>p("asus",""),children:[s.jsx(Si,{className:"w-4 h-4 ml-2"}),"+966 XX XXX XXXX"]}),s.jsxs(z,{variant:"outline",className:"w-full justify-start",onClick:()=>p("asus",""),children:[s.jsx(la,{className:"w-4 h-4 ml-2"}),"support@asus.com"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsx(fo,{className:"w-4 h-4"}),s.jsx("span",{children:" 24/7"})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"font-semibold mb-2 text-sm",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[s.jsx("span",{children:" "}),s.jsx(zh,{className:"w-3 h-3"})]}),s.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[s.jsx("span",{children:" "}),s.jsx(zh,{className:"w-3 h-3"})]}),s.jsxs("a",{href:"#",className:"flex items-center justify-between text-sm text-purple-600 hover:text-purple-700",children:[s.jsx("span",{children:" "}),s.jsx(zh,{className:"w-3 h-3"})]})]})]})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{className:"text-base",children:" "})}),s.jsxs(Ce,{className:"space-y-2",children:[s.jsxs(z,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(ua,{className:"w-4 h-4 ml-2"}),"  "]}),s.jsxs(z,{variant:"outline",className:"w-full justify-start",size:"sm",children:[s.jsx(un,{className:"w-4 h-4 ml-2"}),"  "]})]})]})]})]})]}):s.jsx("div",{className:"p-8",children:s.jsx(je,{children:s.jsxs(Ce,{className:"p-12 text-center",children:[s.jsx(l2,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" ASUS"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"    ASUS    "}),s.jsx(z,{asChild:!0,children:s.jsx("a",{href:"/partner",children:"   ASUS"})})]})})})}function Tdt(){const{t:e,i18n:t}=Ct(),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),{toast:c}=Rt(),[d,u]=f.useState(!1),[h,m]=f.useState(""),[p,g]=f.useState(!1),x={"Restaurant & Cafe":"restaurantAndCafe","Services Business":"servicesBusiness","Digital Cards":"digitalCards","Simple Store":"simpleStore","Blank Template":"blankTemplate","Landing Page":"landingPage",Vibrant:"vibrant",Minimal:"minimal","Modern Store":"modernStore",Classic:"classic","Dark Mode":"darkMode","Light Mode":"lightMode","Beauty & Cosmetics":"beautyAndCosmetics","Home & Furniture":"homeAndFurniture","Fashion Store":"fashionStore","Electronics Shop":"electronicsShop","Food & Beverage":"foodAndBeverage"},y={"Elegant template for restaurants and cafes":"restaurantDesc","Professional template for service-based businesses":"servicesDesc","Complete digital cards marketplace template with instant delivery features":"digitalCardsDesc","Clean and simple store template":"simpleStoreDesc","Start from scratch":"blankDesc","High conversion landing page":"landingPageDesc","A colorful and energetic theme perfect for creative brands":"vibrantDesc","A minimalist theme focusing on simplicity and elegance":"minimalDesc","A clean and modern e-commerce theme with a professional look":"modernStoreDesc","Elegant, minimalist design for beauty products":"beautyDesc","Clean, spacious layout for furniture and home decor":"homeDesc","Modern, image-heavy design perfect for fashion retailers":"fashionDesc","Tech-focused design with product grid layout":"electronicsDesc","Warm, appetizing design for restaurants and food businesses":"foodDesc","Complete digital cards store with instant delivery":"digitalCardsShortDesc"},w={"Restaurant & Cafe":" ","Services Business":" ","Digital Cards":" ","Simple Store":" ","Blank Template":" ","Landing Page":" ",Vibrant:"",Minimal:"","Modern Store":" ",Classic:"","Dark Mode":" ","Light Mode":" ","Beauty & Cosmetics":"  ","Home & Furniture":" ","Fashion Store":" ","Electronics Shop":" ","Food & Beverage":" "},b={"Elegant template for restaurants and cafes":"   ","Professional template for service-based businesses":"     ","Complete digital cards marketplace template with instant delivery features":"        ","Clean and simple store template":"   ","Start from scratch":"  ","High conversion landing page":"   ","A colorful and energetic theme perfect for creative brands":"      ","A minimalist theme focusing on simplicity and elegance":"     ","A clean and modern e-commerce theme with a professional look":"      ","Elegant, minimalist design for beauty products":"    ","Clean, spacious layout for furniture and home decor":"     ","Modern, image-heavy design perfect for fashion retailers":"          ","Tech-focused design with product grid layout":"       ","Warm, appetizing design for restaurants and food businesses":"      ","Complete digital cards store with instant delivery":"      "},v=A=>{if(!A)return"";const E=A.trim();if(t.language.startsWith("ar")){if(w[E])return w[E];const P=E.toLowerCase(),T=Object.keys(w).find(_=>_.toLowerCase()===P);if(T)return w[T];if(E.includes("&")){const _=E.replace(/&amp;/g,"&");if(w[_])return w[_]}}let D=x[E];if(!D){const P=E.toLowerCase(),T=Object.keys(x).find(_=>_.toLowerCase()===P);T&&(D=x[T])}if(!D&&E.includes("&")){const P=E.replace(/&amp;/g,"&");D=x[P]}return D?e(`dashboard.design.themes.${D}`):e(`dashboard.design.themes.${A}`,{defaultValue:A})},N=A=>{if(!A)return"";const E=A.trim();if(t.language.startsWith("ar")){if(b[E])return b[E];const P=E.toLowerCase(),T=Object.keys(b).find(_=>_.toLowerCase()===P);if(T)return b[T]}let D=y[E];if(!D){const P=E.toLowerCase(),T=Object.keys(y).find(_=>_.toLowerCase()===P);T&&(D=y[T])}return D?e(`dashboard.design.themeDescriptions.${D}`):e(`dashboard.design.themeDescriptions.${A}`,{defaultValue:A})},j=f.useCallback(async()=>{try{const A=await he.getDomain();if(A){const E=A.customDomain||`${A.subdomain}.localhost:8080`;console.log(" Storefront domain:",E),l(E)}}catch(A){console.error("Failed to fetch domain:",A)}},[]),k=f.useCallback(async()=>{try{console.log("Loading themes...");const A=await xb.getThemes();console.log("Themes received:",A),a(Array.isArray(A)?A:[])}catch(A){console.error("Failed to load themes:",A),a([]),c({title:e("dashboard.design.error"),description:e("dashboard.design.loadError"),variant:"destructive"})}finally{i(!1)}},[c,e]);f.useEffect(()=>{k(),j()},[k,j]);const S=async A=>{try{await xb.activateTheme(A),c({title:e("dashboard.design.activateSuccess"),description:e("dashboard.design.activateSuccessDesc")}),a(r.map(E=>({...E,isActive:E.id===A}))),k()}catch{c({title:e("dashboard.design.error"),description:e("dashboard.design.activateError"),variant:"destructive"})}},C=async()=>{if(!h.trim()){c({title:e("dashboard.design.error"),description:e("dashboard.design.enterPrompt"),variant:"destructive"});return}g(!0);try{await he.post("/themes/ai/generate",{prompt:h,style:"professional and modern"},{requireAuth:!0}),c({title:e("dashboard.design.themeGenerated"),description:e("dashboard.design.themeGeneratedDesc")}),u(!1),m(""),k()}catch(A){console.error("Failed to generate AI theme:",A),c({title:e("dashboard.design.error"),description:e("dashboard.design.generateError"),variant:"destructive"})}finally{g(!1)}};return n?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Ge,{className:"animate-spin h-8 w-8"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e("dashboard.design.title")}),s.jsx("p",{className:"text-gray-500",children:e("dashboard.design.subtitle")})]}),s.jsxs(z,{onClick:()=>u(!0),className:"gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),e("dashboard.design.generateAI")]})]}),r.length===0&&!n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bc,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e("dashboard.design.noThemes")}),s.jsx("p",{className:"text-gray-500 mb-4",children:e("dashboard.design.seedHint")}),s.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded",children:"node prisma/seed-theme.js"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>s.jsxs(je,{className:`transition-all ${A.isActive?"border-primary border-2 shadow-md":"hover:shadow-md"}`,children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex justify-between items-center",children:[v(A.name),A.isActive&&s.jsx(Ze,{className:"bg-green-500",children:e("dashboard.design.active")})]}),s.jsx(Vt,{children:N(A.description||"")})]}),s.jsx(Ce,{children:s.jsx("div",{className:"h-40 bg-gray-100 dark:bg-gray-800 rounded-md flex items-center justify-center",children:s.jsx(Bc,{className:"h-10 w-10 text-gray-400"})})}),s.jsxs(Ru,{className:"flex flex-col gap-2",children:[A.isActive?s.jsxs(z,{disabled:!0,className:"w-full variant-secondary",children:[s.jsx(Ba,{className:"mr-2 h-4 w-4"})," ",e("dashboard.design.active")]}):s.jsx(z,{onClick:()=>S(A.id),className:"w-full",children:e("dashboard.design.activate")}),s.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>{let E="";o?E=`http://${o}/?theme_preview=${A.id}`:E=`${window.location.origin}/?theme_preview=${A.id}`,console.log(" Opening theme preview:",E),window.open(E,"_blank")},children:[s.jsx(fr,{className:"mr-2 h-4 w-4"})," ",e("dashboard.design.preview")]})]})]},A.id))}),s.jsx(Qt,{open:d,onOpenChange:u,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5"}),e("dashboard.design.aiDialogTitle")]}),s.jsx(ur,{children:e("dashboard.design.aiDialogDesc")})]}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"ai-prompt",children:e("dashboard.design.themeDesc")}),s.jsx(Fs,{id:"ai-prompt",placeholder:e("dashboard.design.themeDescPlaceholder"),value:h,onChange:A=>m(A.target.value),rows:6,className:"mt-2"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>u(!1),disabled:p,children:e("common.cancel")}),s.jsx(z,{onClick:C,disabled:p,className:"gap-2",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),e("dashboard.design.generating")]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"w-4 h-4"}),e("dashboard.design.generateTheme")]})})]})]})]})})]})}function _dt(){return s.jsx(zA,{title:" ",description:"   ",icon:Vs,actionLabel:" "})}function d0({src:e,alt:t,className:r,width:a,height:n,priority:i=!1,placeholder:o="blur",onLoad:l,onError:c}){const[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(i),x=f.useRef(null);f.useEffect(()=>{if(i||!x.current)return;const N=new IntersectionObserver(j=>{j.forEach(k=>{k.isIntersecting&&(g(!0),N.disconnect())})},{rootMargin:"200px",threshold:.01});return N.observe(x.current),()=>N.disconnect()},[i]);const y=()=>{u(!0),l==null||l()},w=()=>{m(!0),c==null||c()},v=(N=>{if(!N)return"";if(N.includes("cloudinary.com")){const j=["f_auto","q_auto",a?`w_${a}`:"w_800","c_limit"].join(",");return N.replace("/upload/",`/upload/${j}/`)}return N})(e);return s.jsxs("div",{ref:x,className:be("relative overflow-hidden bg-muted/30",r),style:{width:a,height:n},children:[o==="blur"&&!d&&!h&&s.jsx("div",{className:be("absolute inset-0 bg-gradient-to-br from-muted/50 to-muted/30","animate-pulse")}),p&&!h&&s.jsx("img",{src:v,alt:t,width:a,height:n,loading:i?"eager":"lazy",decoding:"async",onLoad:y,onError:w,className:be("w-full h-full object-cover transition-opacity duration-300",d?"opacity-100":"opacity-0")}),h&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 text-muted-foreground",children:s.jsx("span",{className:"text-sm",children:"No Image"})})]})}const Ej=({product:e,viewMode:t="grid",index:r=0})=>{var b,v;const{addToCart:a}=bp(),{addToWishlist:n,removeFromWishlist:i,isInWishlist:o}=hI(),l=o(e.id),[c,d]=f.useState(!1),[u,h]=f.useState(!1),m=async N=>{if(N.preventDefault(),N.stopPropagation(),!c){if(!e.id){console.error("Product ID is missing:",e),dr({title:"",description:"   ",variant:"destructive"});return}d(!0);try{let j;if(e.variants&&Array.isArray(e.variants)&&e.variants.length>0){const k=e.variants[0];k&&k.id&&(j=k.id)}await a(e.id,1,j),dr({title:"  !",description:`  ${String(e.name||"")}  `})}catch(j){const k=j;console.error("Failed to add to cart:",k),dr({title:" ",description:(k==null?void 0:k.message)||"      ",variant:"destructive"})}finally{d(!1)}}},p=N=>{N.preventDefault(),N.stopPropagation(),l?i(e.id):n(e)},g=((v=(b=e.images)==null?void 0:b[0])==null?void 0:v.url)||"/placeholder.svg",x=Number(e.price)||0,y=e.compareAtPrice?Number(e.compareAtPrice):0,w=y>x?Math.round((y-x)/y*100):0;return t==="list"?s.jsx(Qe,{to:`/products/${e.id}`,className:"block group animate-slide-up",style:{animationDelay:`${r*100}ms`},children:s.jsx("div",{className:"relative overflow-hidden rounded-xl border border-border/50 hover:border-primary/50 bg-card transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 group",children:s.jsxs("div",{className:"flex gap-4 p-4 relative",children:[s.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 overflow-hidden bg-muted/30 rounded-lg",children:[w>0&&s.jsxs(Ze,{className:"absolute top-2 right-2 z-10 gradient-accent text-white px-2 py-0.5 text-xs font-bold shadow-sm",children:[w,"%"]}),s.jsx(d0,{src:g,alt:String(e.name||""),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})]}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 text-foreground group-hover:text-primary transition-colors line-clamp-1",children:String(e.name||"")}),e.description&&typeof e.description=="string"&&s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-2",children:e.description})]}),s.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-xl font-bold text-foreground",children:[x.toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"."})]}),y>x&&s.jsx("span",{className:"text-sm text-muted-foreground line-through",children:y.toFixed(2)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{size:"icon",variant:"ghost",onClick:p,className:be("h-9 w-9 rounded-lg transition-colors",l?"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30":"text-muted-foreground hover:text-foreground"),children:s.jsx(dn,{className:be("h-5 w-5",l&&"fill-current")})}),s.jsxs(z,{size:"sm",onClick:m,disabled:c,className:"gap-2 gradient-primary hover:shadow-md transition-all duration-300 rounded-lg font-medium h-9 px-4",children:[s.jsx(Dr,{className:"h-4 w-4"}),c?"...":""]})]})]})]})]})})}):s.jsx(Qe,{to:`/products/${e.id}`,className:"block group animate-scale-in",style:{animationDelay:`${r*75}ms`},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:s.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-border/40 hover:border-primary/40 bg-card transition-all duration-300 h-full flex flex-col hover:shadow-lg hover:-translate-y-1 group",children:[s.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted/20",children:[w>0&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsxs(Ze,{className:"gradient-accent text-white px-2 py-0.5 text-xs font-bold shadow-sm flex items-center gap-1",children:[s.jsx(An,{className:"w-3 h-3"}),w,"%"]})}),s.jsx("button",{onClick:p,className:be("absolute top-2 left-2 z-10 p-2 rounded-lg backdrop-blur-sm transition-all duration-200 shadow-sm",l?"bg-white/90 text-red-500 shadow-sm":"bg-black/20 text-white hover:bg-white/90 hover:text-red-500"),children:s.jsx(dn,{className:be("h-4 w-4",l&&"fill-current")})}),s.jsx("div",{className:be("absolute inset-0 bg-black/40 flex items-center justify-center transition-all duration-300",u?"opacity-100":"opacity-0"),children:s.jsxs(z,{size:"sm",variant:"secondary",className:"gap-2 bg-white/95 hover:bg-white shadow-lg rounded-lg backdrop-blur-sm transform transition-all duration-300 translate-y-2 group-hover:translate-y-0",children:[s.jsx(fr,{className:"h-4 w-4"}),""]})}),s.jsx(d0,{src:g,alt:String(e.name||""),className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})]}),s.jsxs("div",{className:"p-4 flex flex-col flex-1 relative",children:[s.jsxs("div",{className:"flex items-center gap-0.5 mb-1.5",children:[[1,2,3,4,5].map(N=>s.jsx(Bo,{className:be("h-3 w-3",N<=4?"fill-amber-400 text-amber-400":"fill-muted text-muted")},N)),s.jsx("span",{className:"text-[10px] text-muted-foreground mr-1",children:"(24)"})]}),s.jsx("h3",{className:"font-semibold text-base mb-1.5 line-clamp-1 text-foreground group-hover:text-primary transition-colors",children:String(e.name||"")}),s.jsxs("div",{className:"mt-auto pt-2 flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-lg font-bold text-foreground",children:x.toFixed(2)}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"."})]}),y>x&&s.jsx("span",{className:"text-xs text-muted-foreground line-through",children:y.toFixed(2)})]}),s.jsxs(z,{size:"sm",onClick:m,disabled:c,className:be("h-9 px-4 rounded-lg font-medium transition-all duration-300","gradient-primary text-white hover:shadow-md hover:scale-105","active:scale-95"),children:[s.jsx(Dr,{className:"h-4 w-4 ml-1.5"}),c?"...":""]})]})]})]})})},Dz={getCart:()=>Q.fetch(`${Q.coreUrl}/merchant/cart`,{requireAuth:!0}),addItem:(e,t,r)=>Q.fetch(`${Q.coreUrl}/merchant/cart/items`,{method:"POST",body:JSON.stringify({productId:e,qty:t,metadata:r}),requireAuth:!0}),updateItem:(e,t)=>Q.fetch(`${Q.coreUrl}/merchant/cart/items/${e}`,{method:"PATCH",body:JSON.stringify({qty:t}),requireAuth:!0}),removeItem:e=>Q.fetch(`${Q.coreUrl}/merchant/cart/items/${e}`,{method:"DELETE",requireAuth:!0}),clearCart:()=>Q.fetch(`${Q.coreUrl}/merchant/cart`,{method:"DELETE",requireAuth:!0})};function Ddt({props:e}){Kr();const{t}=Ct(),[r]=Nm(),{user:a}=$s(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,p]=f.useState({title:"",description:"",orderId:"",priority:"MEDIUM"}),[g,x]=f.useState(!1),[y,w]=f.useState(!1),[b,v]=f.useState({name:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"",email:(a==null?void 0:a.email)||"",subject:"",message:""}),[N,j]=f.useState(""),k=r.get("customerId")||localStorage.getItem("selectedCustomerId"),S=r.get("customerName")||localStorage.getItem("selectedCustomerName"),A=((a==null?void 0:a.role)==="SUPER_ADMIN"||(a==null?void 0:a.role)==="ADMIN")&&k,E=f.useCallback(async()=>{try{l(!0);try{const O=await he.get("/support-tickets",{requireAuth:!1});if(Array.isArray(O))i(O);else if(O&&"tickets"in O&&Array.isArray(O.tickets))i(O.tickets);else throw new Error("Support tickets endpoint not available")}catch{console.log("Support tickets endpoint not available, using orders as fallback");const O=await Q.fetch(`${Q.coreUrl}/merchant/orders?status=PENDING`,{requireAuth:!1}).catch(()=>({items:[]})),F=((O==null?void 0:O.items)||[]).map(I=>({id:I.id,dateAdded:I.createdAt,createdAt:I.createdAt,updatedAt:I.createdAt,title:t("sections.supportTickets.orderTicketTitle","Order {{number}}",{number:I.orderNumber}),ticketNumber:I.orderNumber,orderNumber:I.orderNumber,status:I.status,description:""}));i(F)}}catch(_){console.error("Failed to load tickets:",_),i([])}finally{l(!1)}},[t]),D=f.useCallback(async()=>{var _;try{const O=await he.get("/site-config",{requireAuth:!1}),F=((_=O==null?void 0:O.settings)==null?void 0:_.email)||"";j(F)}catch(O){console.error("Failed to load store email:",O)}},[]);f.useEffect(()=>{E(),D()},[E,D]);const P=async()=>{if(!m.title.trim()||!m.description.trim()){dr({variant:"destructive",title:"",description:"    "});return}try{h(!0);const _={title:m.title,description:m.description,orderId:m.orderId||void 0,priority:m.priority};try{await he.post("/support-tickets",_,{requireAuth:!0}),dr({title:"  ",description:"    "}),d(!1),p({title:"",description:"",orderId:"",priority:"MEDIUM"}),E()}catch{console.log("Support ticket creation endpoint not available yet"),dr({title:"  ",description:"   "}),d(!1),p({title:"",description:"",orderId:"",priority:"MEDIUM"})}}catch(_){console.error("Failed to create ticket:",_),dr({title:t("common.error","Error"),description:(_==null?void 0:_.message)||t("sections.supportTickets.createError","Failed to create ticket"),variant:"destructive"})}finally{h(!1)}},T=async()=>{if(!b.name.trim()||!b.email.trim()||!b.message.trim()){dr({variant:"destructive",title:"",description:"     "});return}if(!N){dr({variant:"destructive",title:"",description:"    .    ."});return}try{w(!0);const _=await Q.fetch(`${Q.coreUrl}/site-config/contact`,{method:"POST",body:JSON.stringify({name:b.name,email:b.email,subject:b.subject||t("sections.supportTickets.contactSubject","Message from {{name}}",{name:b.name}),message:b.message}),requireAuth:!1});_!=null&&_.success&&(dr({title:"  ",description:"     .   ."}),x(!1),v({name:(a==null?void 0:a.name)||(a==null?void 0:a.email)||"",email:(a==null?void 0:a.email)||"",subject:"",message:""}))}catch(_){console.error("Failed to send contact email:",_),dr({variant:"destructive",title:"",description:(_==null?void 0:_.message)||"   .    ."})}finally{w(!1)}};return o?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.supportTickets.title","Support Tickets")}),A&&s.jsx(Ze,{variant:"outline",className:"text-sm px-3 py-1",children:t("sections.supportTickets.managerBadge","Store Manager: {{name}}",{name:S||t("common.selectedCustomer","Selected Customer")})})]}),s.jsxs(z,{className:"bg-green-600 hover:bg-green-700",onClick:()=>d(!0),children:[s.jsx(Gt,{className:"ml-2 h-5 w-5"}),t("sections.supportTickets.addTicket","Add Ticket")]})]}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:n.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.ticketNumber","Ticket Number")}),s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.dateAdded","Date Added")}),s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.ticketTitle","Title")}),s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.orderNumber","Order Number")}),s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.status","Status")}),s.jsx(Ee,{className:"text-right",children:t("sections.supportTickets.description","Description")})]})}),s.jsx(ss,{children:n.map(_=>s.jsxs(jt,{children:[s.jsx(ke,{className:"font-mono text-sm",children:_.ticketNumber||_.id.slice(0,8)}),s.jsx(ke,{children:new Date(_.dateAdded||_.createdAt).toLocaleDateString("ar-SA")}),s.jsx(ke,{children:_.title}),s.jsx(ke,{children:_.orderNumber||_.orderId||"-"}),s.jsx(ke,{children:s.jsx(Ze,{variant:_.status==="OPEN"||_.status==="PENDING"?"secondary":_.status==="RESOLVED"?"default":"outline",children:_.status==="OPEN"?t("common.status.open","Open"):_.status==="PENDING"?t("common.status.pending","Pending"):_.status==="RESOLVED"?t("common.status.resolved","Resolved"):_.status==="IN_PROGRESS"?t("common.status.inProgress","In Progress"):_.status})}),s.jsx(ke,{children:_.description})]},_.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(ua,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("sections.supportTickets.noTickets","No tickets found")})]})})}),s.jsxs(je,{className:"border-0 shadow-md",children:[s.jsx(et,{children:s.jsx(at,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("sections.supportTickets.contactUs","Contact Us")})}),s.jsxs(Ce,{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t("sections.supportTickets.contactDesc","Have a question or need help? Send us a message and we'll get back to you as soon as possible.")}),N&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-4",children:[t("sections.supportTickets.storeEmail","Store Email:")," ",s.jsx("span",{className:"font-mono",children:N})]}),s.jsxs(z,{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(un,{className:"ml-2 h-5 w-5"}),t("sections.supportTickets.sendMessage","Send Message")]})]})]}),s.jsx(Qt,{open:c,onOpenChange:d,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:t("sections.supportTickets.createTitle","Create New Ticket")}),s.jsx(ur,{children:t("sections.supportTickets.createDesc","Please provide details about your issue")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.supportTickets.form.title","Title")}),s.jsx(me,{value:m.title,onChange:_=>p({...m,title:_.target.value}),placeholder:t("sections.supportTickets.form.titlePlaceholder","Issue Title")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.supportTickets.form.description","Description")}),s.jsx(Fs,{value:m.description,onChange:_=>p({...m,description:_.target.value}),placeholder:t("sections.supportTickets.form.descriptionPlaceholder","Describe your issue...")})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>d(!1),disabled:u,children:t("common.cancel","Cancel")}),s.jsx(z,{onClick:P,disabled:u||!m.title.trim()||!m.description.trim(),className:"bg-green-600 hover:bg-green-700",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),t("sections.supportTickets.creating","Creating...")]}):t("sections.supportTickets.createButton","Create Ticket")})]})]})}),s.jsx(Qt,{open:g,onOpenChange:x,children:s.jsxs(Yt,{className:"max-w-2xl",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:t("sections.supportTickets.contactUs","Contact Us")}),s.jsx(ur,{children:t("sections.supportTickets.contactDialogDesc","Send a message to the store support team")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.supportTickets.contactForm.name","Name")}),s.jsx(me,{value:b.name,onChange:_=>v({...b,name:_.target.value}),placeholder:t("sections.supportTickets.contactForm.namePlaceholder","Your name")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.supportTickets.contactForm.email","Email")}),s.jsx(me,{type:"email",value:b.email,onChange:_=>v({...b,email:_.target.value}),placeholder:t("sections.supportTickets.contactForm.emailPlaceholder","your.email@example.com")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[t("sections.supportTickets.contactForm.subject","Subject")," (",t("common.optional","Optional"),")"]}),s.jsx(me,{value:b.subject,onChange:_=>v({...b,subject:_.target.value}),placeholder:t("sections.supportTickets.contactForm.subjectPlaceholder","Message subject")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.supportTickets.contactForm.message","Message")}),s.jsx(Fs,{value:b.message,onChange:_=>v({...b,message:_.target.value}),placeholder:t("sections.supportTickets.contactForm.messagePlaceholder","Your message..."),rows:6})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>x(!1),disabled:y,children:t("common.cancel","Cancel")}),s.jsx(z,{onClick:T,disabled:y||!b.name.trim()||!b.email.trim()||!b.message.trim(),className:"bg-blue-600 hover:bg-blue-700",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),t("sections.supportTickets.sending","Sending...")]}):s.jsxs(s.Fragment,{children:[s.jsx(un,{className:"ml-2 h-4 w-4"}),t("sections.supportTickets.sendButton","Send Message")]})})]})]})})]})})}function Odt({props:e}){const t=Kr(),{t:r}=Ct(),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState({});f.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const[N,j]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/favorites?type=product`,{requireAuth:!0}).catch(()=>[]),Q.fetch(`${Q.coreUrl}/merchant/cart`,{requireAuth:!0}).catch(()=>({items:[]}))]),k=Array.isArray(N)&&!no(N)?N.filter(C=>!no(C)):[];n(k);let S=j;j&&typeof j=="object"&&"data"in j&&"success"in j&&(S=j.data),S&&typeof S=="object"&&!no(S)&&Array.isArray(S.items)?o(j.items):o([])}catch(N){console.error("Failed to load favorites:",N),n([]),o([])}finally{c(!1)}},g=(N,j,k=1,S=100)=>{m(C=>{const A=C[N]||1,E=Math.max(k,Math.min(S,A+j));return{...C,[N]:E}})},x=async N=>{try{const j=h[N]||1,k=await Dz.addItem(N,j);let S=k;k&&typeof k=="object"&&"data"in k&&"success"in k&&(S=k.data),S&&Array.isArray(S.items)&&o(S.items),dr({title:r("common.success"),description:r("sections.favoritesPage.addedToCart","Added to cart successfully")})}catch(j){console.error("Failed to add to cart:",j),dr({title:r("common.error"),description:r("sections.favoritesPage.failedToAddToCart","Failed to add to cart"),variant:"destructive"})}},y=async N=>{try{const j=await Dz.removeItem(N);let k=j;j&&typeof j=="object"&&"data"in j&&"success"in j&&(k=j.data),k&&Array.isArray(k.items)&&o(k.items)}catch(j){console.error("Failed to remove from cart:",j)}},w=a.filter(N=>{var k,S;const j=N.snapshot||N;return!d||((k=j.name)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((S=j.nameAr)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))}),b=i.reduce((N,j)=>N+(j.lineTotal||j.effectiveUnitPrice*j.qty||0),0),v=i.reduce((N,j)=>N+(j.qty||0),0);return l?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||r("sections.favoritesPage.title","Favorite Cards")}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:r("sections.favoritesPage.searchPlaceholder","Search for a card..."),value:d,onChange:N=>u(N.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),s.jsx(Or,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("sections.favoritesPage.selectCard","Select Card")}),s.jsx("div",{className:"space-y-4",children:w.map(N=>{var C;const j=N.snapshot||N,k=j.wholesalePrice||j.costPerItem||0,S=j.price||j.retailPrice||0;return s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[j.image&&s.jsx("img",{src:j.image,alt:j.name,className:"w-24 h-24 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:j.nameAr||j.name}),s.jsx("p",{className:"text-sm text-gray-500",children:j.brandName||((C=j.brand)==null?void 0:C.name)})]}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:s.jsx(dn,{className:"h-5 w-5 fill-current"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[r("sections.favoritesPage.wholesalePrice","Wholesale Price"),":"]}),s.jsxs("p",{className:"font-semibold",children:["$",k.toFixed(6)]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500",children:[r("sections.favoritesPage.retailPrice","Retail Price"),":"]}),s.jsxs("p",{className:"font-semibold",children:["$",S.toFixed(6)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(j.id,-1,j.minQuantity||1,j.maxQuantity||100),children:"-"}),s.jsx("span",{className:"w-12 text-center",children:h[j.id]||1}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(j.id,1,j.minQuantity||1,j.maxQuantity||100),children:"+"})]}),s.jsx(z,{className:"bg-green-600 hover:bg-green-700",onClick:()=>x(j.id),children:r("sections.favoritesPage.addToCart","Add to Cart")})]})]})]})})},N.id||j.id)})}),w.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dn,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500",children:r("sections.favoritesPage.noFavorites","No favorite cards")})]}),w.length>0&&s.jsx("div",{className:"text-sm text-gray-500 text-center",children:r("sections.favoritesPage.paginationInfo","Showing 1 to {{count}} of {{total}} cards",{count:w.length,total:w.length})})]})}),s.jsxs("div",{className:"w-80 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:r("sections.favoritesPage.cartTitle","Shopping Cart")}),i.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4 mb-6 max-h-[60vh] overflow-y-auto",children:i.map(N=>{var j;return s.jsxs("div",{className:"flex gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[N.productImage&&s.jsx("img",{src:N.productImage,alt:N.productName,className:"w-16 h-16 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:N.productNameAr||N.productName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r("common.quantity","Qty"),": ",N.qty]}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["$",((j=N.lineTotal)==null?void 0:j.toFixed(6))||(N.effectiveUnitPrice*N.qty).toFixed(6)]})]}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>y(N.id),children:s.jsx(hr,{className:"h-4 w-4"})})]},N.id)})}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r("sections.favoritesPage.cartCount","Card Count")}),s.jsxs("span",{className:"font-medium",children:[v," ",r("common.cards","Cards")]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsxs("span",{className:"text-gray-900 dark:text-white",children:[r("sections.favoritesPage.total","Total"),":"]}),s.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",b.toFixed(6)]})]}),s.jsx(z,{className:"w-full mt-4 bg-green-600 hover:bg-green-700",onClick:()=>t("/store"),children:r("sections.favoritesPage.checkout","Checkout")})]})]}):s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Dr,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{children:r("sections.favoritesPage.cartEmpty","Cart is empty")})]})]})]})})}function Idt({props:e}){const{t}=Ct(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(""),m=async()=>{try{l(!0);const p=await Ns.getTransactions(1,50).catch(()=>({data:[],items:[],transactions:[]}));let g=[];const x=p;Array.isArray(x.data)?g=x.data:Array.isArray(x.items)?g=x.items:Array.isArray(x.transactions)&&(g=x.transactions);const y=await Ns.getTopUpRequests().catch(()=>[]);let w=[];Array.isArray(y)?w=y:y&&typeof y=="object"&&"data"in y&&Array.isArray(y.data)?w=y.data:y&&typeof y=="object"&&"items"in y&&Array.isArray(y.items)&&(w=y.items),a(g),i(w)}catch(p){console.error("Failed to load balance operations:",p),a([]),i([])}finally{l(!1)}};return f.useEffect(()=>{m();const p=()=>m();return window.addEventListener("wallet-recharge-success",p),()=>window.removeEventListener("wallet-recharge-success",p)},[]),o&&r.length===0&&n.length===0?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-gray-500",children:t("common.loading","Loading...")})]})}):s.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.balanceOperations.title","Balance Operations")}),s.jsxs(z,{variant:"outline",size:"sm",onClick:m,disabled:o,className:"gap-2",children:[s.jsx(Xl,{className:`h-4 w-4 ${o?"animate-spin":""}`}),t("common.refresh","Refresh")]})]}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:r.length>0||n.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.id","ID")}),s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.date","Date")}),s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.description","Description")}),s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.action","Action")}),s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.status","Status")}),s.jsx(Ee,{className:"text-right",children:t("sections.balanceOperations.amount","Amount")})]})}),s.jsxs(ss,{children:[n.map(p=>{var g;return s.jsxs(jt,{children:[s.jsx(ke,{className:"font-mono text-sm",children:((g=p.id)==null?void 0:g.slice(0,8))||"N/A"}),s.jsx(ke,{children:new Date(p.createdAt||p.date).toLocaleDateString("ar-SA")}),s.jsx(ke,{children:p.notes||(p.paymentMethod==="BANK_TRANSFER"?t("sections.chargeWallet.methods.bankTransfer","Bank Transfer"):p.paymentMethod)||t("sections.balanceOperations.topupRequest","Top-up Request")}),s.jsx(ke,{children:s.jsx(Ze,{variant:"default",children:t("sections.balanceOperations.deposit","Deposit")})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:p.status==="APPROVED"?"default":p.status==="REJECTED"?"destructive":"secondary",children:p.status==="PENDING"?t("common.status.pending","Pending"):p.status==="APPROVED"?t("common.status.approved","Approved"):p.status==="REJECTED"?t("common.status.rejected","Rejected"):p.status||t("common.status.pending","Pending")}),p.status==="REJECTED"&&p.rejectionReason&&s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{h(p.rejectionReason),d(!0)},className:"h-8 w-8 p-0",title:t("sections.balanceOperations.viewRejectionReason","View rejection reason"),children:s.jsx(lb,{className:"h-4 w-4 text-destructive"})})]})}),s.jsxs(ke,{className:"font-semibold",children:["+",Math.abs(Number(p.amount)||0).toFixed(2)," ",p.currency||"SAR"]})]},`request-${p.id}`)}),r.map(p=>{var g;return s.jsxs(jt,{children:[s.jsx(ke,{className:"font-mono text-sm",children:((g=p.id)==null?void 0:g.slice(0,8))||"N/A"}),s.jsx(ke,{children:new Date(p.createdAt||p.date).toLocaleDateString("ar-SA")}),s.jsx(ke,{children:p.description||p.type||"N/A"}),s.jsx(ke,{children:s.jsx(Ze,{variant:p.type==="TOPUP"||p.type==="DEPOSIT"?"default":"secondary",children:p.type==="TOPUP"||p.type==="DEPOSIT"?t("sections.balanceOperations.deposit","Deposit"):t("sections.balanceOperations.withdraw","Withdraw")})}),s.jsx(ke,{children:s.jsx(Ze,{variant:p.status==="COMPLETED"?"default":"secondary",children:p.status==="COMPLETED"?t("common.status.completed","Completed"):p.status||t("common.status.pending","Pending")})}),s.jsxs(ke,{className:"font-semibold",children:[p.type==="TOPUP"||p.type==="DEPOSIT"?"+":"-",Math.abs(Number(p.amount)||Number(p.value)||0).toFixed(2)," ",p.currency||"SAR"]})]},`tx-${p.id}`)})]})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(ua,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("common.noData","No data")})]})})})]}),s.jsx(Qt,{open:c,onOpenChange:d,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-destructive"}),t("sections.balanceOperations.rejectionReason","Rejection Reason")]}),s.jsx(ur,{children:t("sections.balanceOperations.rejectionReasonDescription","The reason why your top-up request was rejected")})]}),s.jsx("div",{className:"py-4",children:s.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:u||t("sections.balanceOperations.noReasonProvided","No reason provided")})})}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>d(!1),children:t("common.close","Close")})})]})})]})}function Rdt({props:e}){Kr();const{t}=Ct(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("employees"),[m,p]=f.useState(!1),[g,x]=f.useState(!1),[y,w]=f.useState(!1),[b,v]=f.useState(null),[N,j]=f.useState(""),[k,S]=f.useState([]),[C,A]=f.useState([]),[E,D]=f.useState(!1),[P,T]=f.useState({name:"",description:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),[_,O]=f.useState({email:"",phone:"",groupId:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),[F,I]=f.useState(!1),[R,L]=f.useState(null),[H,W]=f.useState(!1),[M,G]=f.useState(""),[V,q]=f.useState(""),[Y,U]=f.useState(!1),Z=fe=>{var Ue,ie,Pe,Te,Ve,Le,de,xe,Ie,st,wt,tt,Bt;L(fe),O({email:fe.email||fe.username||"",phone:fe.phone||"",groupId:fe.groupId||"",permissions:{ordersCreate:((Ue=fe.permissions)==null?void 0:Ue.includes("store:orders:create"))||!1,ordersRead:((ie=fe.permissions)==null?void 0:ie.includes("store:orders:view"))||!1,reportsRead:((Pe=fe.permissions)==null?void 0:Pe.includes("store:analytics:view"))||!1,walletRead:((Te=fe.permissions)==null?void 0:Te.includes("store:wallet:view"))||!1,playersWrite:((Ve=fe.permissions)==null?void 0:Ve.includes("store:customers:edit"))||!1,employeesManage:((Le=fe.permissions)==null?void 0:Le.includes("store:employees:manage"))||!1,settingsWrite:((de=fe.permissions)==null?void 0:de.includes("store:settings:update"))||!1,invoicesRead:((xe=fe.permissions)==null?void 0:xe.includes("store:invoices:view"))||!1,mobileAccess:((Ie=fe.permissions)==null?void 0:Ie.includes("mobile:merchant:access"))||!1,mobileOrders:((st=fe.permissions)==null?void 0:st.includes("mobile:merchant:orders"))||!1,mobileProducts:((wt=fe.permissions)==null?void 0:wt.includes("mobile:merchant:products"))||!1,mobileCustomers:((tt=fe.permissions)==null?void 0:tt.includes("mobile:merchant:customers"))||!1,mobileAnalytics:((Bt=fe.permissions)==null?void 0:Bt.includes("mobile:merchant:analytics"))||!1}}),p(!0)};f.useEffect(()=>{se(),J()},[]),f.useEffect(()=>{m&&K()},[m]);const J=async()=>{try{S([{id:"1",name:" ",description:"  ",permissions:{ordersCreate:!0,ordersRead:!0,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}},{id:"2",name:" ",description:"   ",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!0,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!0,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}},{id:"3",name:" ",description:"  ",permissions:{ordersCreate:!0,ordersRead:!0,reportsRead:!0,walletRead:!0,playersWrite:!0,employeesManage:!0,settingsWrite:!0,invoicesRead:!0,mobileAccess:!0,mobileOrders:!0,mobileProducts:!0,mobileCustomers:!0,mobileAnalytics:!0}}])}catch(fe){console.error("Failed to load groups:",fe),S([])}},K=async()=>{try{D(!0);const fe=await he.get("/dashboard/customers",{requireAuth:!1});console.log(" EmployeesPageSection: Customers response:",fe);let Ue=[];Array.isArray(fe)?Ue=fe:fe&&typeof fe=="object"&&(Array.isArray(fe.customers)?Ue=fe.customers:Array.isArray(fe.data)?Ue=fe.data:fe.data&&Array.isArray(fe.data.customers)&&(Ue=fe.data.customers)),console.log(" EmployeesPageSection: Extracted customers data:",Ue),A(Ue),Ue.length===0&&console.warn(" EmployeesPageSection: No customers found in response")}catch(fe){console.error(" EmployeesPageSection: Failed to load customers:",fe),A([])}finally{D(!1)}};f.useEffect(()=>{if(c){const fe=n.filter(Ue=>{var ie,Pe,Te;return((ie=Ue.name)==null?void 0:ie.toLowerCase().includes(c.toLowerCase()))||((Pe=Ue.username)==null?void 0:Pe.toLowerCase().includes(c.toLowerCase()))||((Te=Ue.phone)==null?void 0:Te.includes(c))});a(fe)}else a(n)},[c,n]);const se=async()=>{try{l(!0);const fe=await Q.fetch(`${Q.coreUrl}/merchant/employees`,{requireAuth:!0}).catch(()=>[]),Ue=Array.isArray(fe)?fe:(fe==null?void 0:fe.data)||[];i(Ue),a(Ue)}catch(fe){console.error("Failed to load employees:",fe),i([]),a([])}finally{l(!1)}},B=async()=>{try{await navigator.clipboard.writeText(M),U(!0),dr({title:t("common.copied","Copied"),description:t("common.passwordCopied","Password copied to clipboard")}),setTimeout(()=>U(!1),2e3)}catch(fe){console.error("Failed to copy password:",fe),dr({title:t("common.error","Error"),description:t("common.copyFailed","Failed to copy password. Please copy manually."),variant:"destructive"})}},Ne=async fe=>{var Ue;if(fe&&fe.preventDefault(),!_.email||!_.email.trim()){dr({title:t("common.error","Error"),description:t("sections.employeesPage.form.emailRequired","Email is required"),variant:"destructive"});return}try{I(!0);let ie=_.permissions;if(_.groupId){const Te=k.find(Ve=>Ve.id===_.groupId);Te&&(ie=Te.permissions)}const Pe={email:_.email.trim(),phone:((Ue=_.phone)==null?void 0:Ue.trim())||void 0,permissions:ie};if(R)await Q.fetch(`${Q.coreUrl}/merchant/employees/${R.id}`,{method:"PUT",body:JSON.stringify(Pe),requireAuth:!0}),dr({title:t("common.success","Success"),description:t("sections.employeesPage.employeeUpdated","Employee updated successfully"),variant:"default"});else{const Ve=await Q.fetch(`${Q.coreUrl}/merchant/employees`,{method:"POST",body:JSON.stringify(Pe),requireAuth:!0});Ve.password?(G(Ve.password),q(_.email),W(!0),console.log(`Employee Password for ${_.email}: ${Ve.password}`)):dr({title:t("common.success","Success"),description:t("sections.employeesPage.employeeCreated","Employee created successfully")})}p(!1),L(null),O({email:"",phone:"",groupId:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}}),se()}catch(ie){console.error("Failed to create/update employee:",ie),dr({title:t("common.error","Error"),description:(ie==null?void 0:ie.message)||t("sections.employeesPage.employeeError","Failed to save employee. Please try again."),variant:"destructive"})}finally{I(!1)}},ye=async()=>{if(!b||!N||isNaN(Number(N))||Number(N)<=0){dr({title:"",description:"   ",variant:"destructive"});return}try{I(!0),await Q.fetch(`${Q.coreUrl}/merchant/employees/${b.id}/balance`,{method:"POST",body:JSON.stringify({amount:Number(N)}),requireAuth:!0}),dr({title:" ",description:"    ",variant:"default"}),w(!1),v(null),j(""),se()}catch(fe){console.error("Failed to add balance:",fe),dr({title:"",description:(fe==null?void 0:fe.message)||"  ",variant:"destructive"})}finally{I(!1)}},Re=async fe=>{if(confirm("      "))try{await Q.fetch(`${Q.coreUrl}/merchant/employees/${fe}`,{method:"DELETE",requireAuth:!0}),dr({title:" ",description:"   ",variant:"default"}),se()}catch(Ue){console.error("Failed to delete employee:",Ue),dr({title:"",description:"  .    .",variant:"destructive"})}},qe=async()=>{if(!P.name){dr({title:"  ",description:"   ",variant:"destructive"});return}try{I(!0);const fe={id:Date.now().toString(),...P,employeeCount:0};S([...k,fe]),dr({title:" ",description:"   ",variant:"default"}),x(!1),T({name:"",description:"",permissions:{ordersCreate:!1,ordersRead:!1,reportsRead:!1,walletRead:!1,playersWrite:!1,employeesManage:!1,settingsWrite:!1,invoicesRead:!1,mobileAccess:!1,mobileOrders:!1,mobileProducts:!1,mobileCustomers:!1,mobileAnalytics:!1}})}catch(fe){console.error("Failed to create group:",fe),dr({title:"",description:"  .    .",variant:"destructive"})}finally{I(!1)}},He=async fe=>{if(confirm("      "))try{S(k.filter(Ue=>Ue.id!==fe)),dr({title:" ",description:"   ",variant:"default"})}catch(Ue){console.error("Failed to delete group:",Ue),dr({title:t("dashboard.orders.rejectError"),description:Ue==null?void 0:Ue.message,variant:"destructive"})}};return o?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(z,{variant:"ghost",className:u==="employees"?"border-b-2 border-primary font-semibold":"",onClick:()=>h("employees"),children:t("sections.employeesPage.tabs.employees","Employees List")}),s.jsx(z,{variant:"ghost",className:u==="groups"?"border-b-2 border-primary font-semibold":"",onClick:()=>h("groups"),children:t("sections.employeesPage.tabs.groups","Employee Groups")})]}),s.jsxs("div",{className:"flex gap-4",children:[u==="employees"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:t("sections.employeesPage.searchPlaceholder","Search for employee"),value:c,onChange:fe=>d(fe.target.value),className:"px-4 py-2 pr-10 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"})]}),s.jsxs(z,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>p(!0),children:[s.jsx(Gt,{className:"ml-2 h-5 w-5"}),t("sections.employeesPage.addEmployee","Add New Employee")]})]}),u==="groups"&&s.jsxs(z,{className:"bg-green-600 hover:bg-green-700",onClick:()=>x(!0),children:[s.jsx(Gt,{className:"ml-2 h-5 w-5"}),t("sections.employeesPage.addGroup","Add New Group")]})]})]}),u==="employees"?s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.name","Name")}),s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.username","Username")}),s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.phone","Phone")}),s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.balance","Balance")}),s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.status","Status")}),s.jsx(Ee,{className:"text-right",children:t("sections.employeesPage.table.actions","Actions")})]})}),s.jsx(ss,{children:r.map(fe=>s.jsxs(jt,{children:[s.jsx(ke,{children:fe.name}),s.jsx(ke,{children:fe.username}),s.jsx(ke,{children:fe.phone}),s.jsxs(ke,{children:[Number(fe.balance||0).toFixed(2)," SAR"]}),s.jsx(ke,{children:s.jsx(Ze,{variant:fe.status==="ACTIVE"?"default":"secondary",children:fe.status})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Z(fe),children:t("common.edit","Edit")}),s.jsxs(z,{variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>{v(fe),w(!0)},children:[s.jsx(ca,{className:"h-4 w-4 ml-2"}),t("sections.employeesPage.addBalance","Add Balance")]}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>Re(fe.id),children:t("common.delete","Delete")})]})})]},fe.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(mr,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("sections.employeesPage.noEmployees","No employees found")})]})})}):s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:k.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:k.map(fe=>{const Ue=r.filter(ie=>ie.groupId===fe.id);return s.jsxs(je,{className:"border-2 hover:border-primary/50 transition-colors",children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(at,{className:"text-lg mb-1",children:fe.name}),s.jsx("p",{className:"text-sm text-gray-500",children:fe.description})]}),s.jsx(z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>He(fe.id),children:s.jsx(hr,{className:"h-4 w-4"})})]})}),s.jsx(Ce,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t("sections.employeesPage.group.employeeCount","Employee Count:")}),s.jsx("span",{className:"font-semibold",children:Ue.length})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:t("sections.employeesPage.group.permissions","Permissions:")}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(fe.permissions).map(([ie,Pe])=>Pe&&s.jsx(Ze,{variant:"secondary",className:"text-xs",children:t(`sections.employeesPage.permissions.${ie}`,ie)},ie))})]}),s.jsx(z,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>{h("employees"),d("")},children:t("sections.employeesPage.group.viewEmployees","View Employees")})]})})]},fe.id)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(mr,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("sections.employeesPage.noGroups","No groups found")}),s.jsx("p",{className:"text-sm mt-2",children:t("sections.employeesPage.dialog.addGroupDesc","Start by creating a new group")})]})})}),s.jsx(Qt,{open:m,onOpenChange:fe=>{p(fe),fe||L(null)},children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-2xl font-bold",children:R?t("sections.employeesPage.dialog.editEmployeeTitle","Edit Employee"):t("sections.employeesPage.dialog.addEmployeeTitle","Add New Employee")}),s.jsx(ur,{className:"text-base",children:R?t("sections.employeesPage.dialog.editEmployeeDesc","Update employee information"):t("sections.employeesPage.dialog.addEmployeeDesc","Fill in the information below to add a new employee to your store")})]}),s.jsxs("form",{onSubmit:Ne,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"empEmail",children:[t("sections.employeesPage.form.email","Email")," *"]}),s.jsx(me,{id:"empEmail",type:"email",value:_.email,onChange:fe=>O({..._,email:fe.target.value}),placeholder:t("sections.employeesPage.form.emailPlaceholder","employee@example.com"),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"empPhone",children:t("sections.employeesPage.form.phone","Phone")}),s.jsx(me,{id:"empPhone",value:_.phone,onChange:fe=>O({..._,phone:fe.target.value}),placeholder:t("sections.employeesPage.form.phonePlaceholder","+966 5XX XXX XXX")})]})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"empGroup",children:t("sections.employeesPage.form.group","Group")}),s.jsxs("select",{id:"empGroup",value:_.groupId,onChange:fe=>O({..._,groupId:fe.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white mt-1",children:[s.jsx("option",{value:"",children:t("sections.employeesPage.form.selectGroup","Select Group (Optional)")}),k.map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("sections.employeesPage.form.groupHint","Selecting a group will apply its default permissions")})]}),!_.groupId&&s.jsxs("div",{children:[s.jsx(X,{className:"mb-3 block",children:t("sections.employeesPage.form.permissions","Permissions")}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(_.permissions).map(([fe,Ue])=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(Ki,{id:`perm-${fe}`,checked:Ue,onCheckedChange:ie=>O({..._,permissions:{..._.permissions,[fe]:ie}})}),s.jsx(X,{htmlFor:`perm-${fe}`,className:"text-sm font-normal cursor-pointer",children:t(`sections.employeesPage.permissions.${fe}`,fe)})]},fe))})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>p(!1),children:t("common.cancel","Cancel")}),s.jsx(z,{onClick:()=>Ne(),disabled:F,children:F?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.saving","Saving...")]}):R?t("common.saveChanges","Save Changes"):t("sections.employeesPage.dialog.add","Add Employee")})]})]})}),s.jsx(Qt,{open:H,onOpenChange:W,children:s.jsxs(Yt,{className:"sm:max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:t("sections.employeesPage.passwordDialog.title","Employee Created Successfully")}),s.jsx(ur,{children:t("sections.employeesPage.passwordDialog.description","The employee account has been created. Please copy the password below and share it with the employee.")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.employeesPage.passwordDialog.email","Email")}),s.jsx(me,{value:V,readOnly:!0,className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:t("sections.employeesPage.passwordDialog.temporaryPassword","Temporary Password")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{value:M,readOnly:!0,className:"font-mono text-lg font-bold",type:"text"}),s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:B,className:"shrink-0",children:Y?s.jsx(Js,{className:"h-4 w-4 text-green-600"}):s.jsx($l,{className:"h-4 w-4"})})]})]}),s.jsx(yi,{children:s.jsxs(bi,{children:[s.jsxs("strong",{children:[t("sections.employeesPage.passwordDialog.important","Important"),":"]})," ",t("sections.employeesPage.passwordDialog.mustChangePassword","The employee will be required to change the password on first login.")]})})]}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>W(!1),children:t("common.understood","Understood")})})]})}),s.jsx(Qt,{open:g,onOpenChange:x,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:t("sections.employeesPage.dialog.addGroupTitle","Add New Group")}),s.jsx(ur,{children:t("sections.employeesPage.dialog.addGroupDesc","Create a new group and define its default permissions")})]}),s.jsxs("form",{onSubmit:fe=>{fe.preventDefault(),qe()},className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsxs(X,{htmlFor:"groupName",children:[t("sections.employeesPage.form.groupName","Group Name")," *"]}),s.jsx(me,{id:"groupName",value:P.name,onChange:fe=>T({...P,name:fe.target.value}),placeholder:t("sections.employeesPage.form.groupName","Group Name")})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"groupDescription",children:t("sections.employeesPage.form.groupDesc","Description")}),s.jsx(me,{id:"groupDescription",value:P.description,onChange:fe=>T({...P,description:fe.target.value}),placeholder:t("sections.employeesPage.form.groupDesc","Description")})]}),s.jsxs("div",{children:[s.jsx(X,{className:"mb-3 block",children:t("sections.employeesPage.form.defaultPermissions","Default Permissions")}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(P.permissions).map(([fe,Ue])=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx(Ki,{id:`group-${fe}`,checked:Ue,onCheckedChange:ie=>T({...P,permissions:{...P.permissions,[fe]:ie}})}),s.jsx(X,{htmlFor:`group-${fe}`,className:"text-sm font-normal cursor-pointer",children:t(`sections.employeesPage.permissions.${fe}`,fe)})]},fe))})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>x(!1),children:t("common.cancel","Cancel")}),s.jsx(z,{onClick:qe,disabled:F,children:F?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.loading","Loading...")]}):t("sections.employeesPage.addGroup","Create Group")})]})]})}),s.jsx(Qt,{open:y,onOpenChange:w,children:s.jsxs(Yt,{className:"max-w-md",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:t("sections.employeesPage.addBalance","Add Balance")}),s.jsx(ur,{children:t("sections.employeesPage.addBalanceDesc","Add balance to employee wallet from your wallet")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:t("sections.employeesPage.form.employee","Employee")}),s.jsx(me,{value:(b==null?void 0:b.name)||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsxs(X,{htmlFor:"balanceAmount",children:[t("sections.employeesPage.form.amount","Amount")," (SAR)"]}),s.jsx(me,{id:"balanceAmount",type:"number",min:"1",value:N,onChange:fe=>j(fe.target.value),placeholder:"0.00"})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>w(!1),children:t("common.cancel","Cancel")}),s.jsx(z,{onClick:ye,disabled:F,children:F?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),t("common.loading","Loading...")]}):t("common.confirm","Confirm")})]})]})})]})})}function Fdt({props:e}){const t=Kr(),{t:r,i18n:a}=Ct(),[n,i]=f.useState("cash"),[o,l]=f.useState(""),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,w]=f.useState("SAR"),[b,v]=f.useState(""),[N,j]=f.useState(!1),[k,S]=f.useState(null),C=f.useRef(null);f.useEffect(()=>{A(),E()},[]);const A=async()=>{try{const T=await Ns.getBanks().catch(()=>[]);d(Array.isArray(T)?T:[])}catch(T){console.error("Failed to load banks:",T),d([])}},E=async()=>{try{const T=await Ns.getBankAccounts().catch(()=>[]);h(Array.isArray(T)?T:[])}catch(T){console.error("Failed to load customer bank accounts:",T),h([])}},D=async T=>{var _;if(T.preventDefault(),!g||parseFloat(g)<=0){dr({title:r("common.error","Error"),description:r("sections.chargeWallet.amountRequired","Please enter a valid amount greater than 0"),variant:"destructive"});return}if(!o){dr({title:r("common.error","Error"),description:r("sections.chargeWallet.bankRequired","Please select a bank account"),variant:"destructive"});return}j(!0);try{const O=new FormData;O.append("paymentMethod",n),O.append("bankId",o),O.append("amount",g),O.append("currency",y),b&&O.append("transferrerName",b),m&&O.append("senderAccountId",m),k&&O.append("receiptImage",k);const F=await Q.post("/merchant/wallet/recharge",O,{requireAuth:!0});console.log("Recharge response:",F),dr({title:r("sections.chargeWallet.successTitle","Request Sent"),description:r("sections.chargeWallet.successDesc","Balance charge request sent successfully"),variant:"default"}),window.dispatchEvent(new CustomEvent("wallet-recharge-success")),x(""),l(""),p(""),v(""),S(null),C.current&&(C.current.value=""),window.location.pathname!=="/balance-operations"&&t("/balance-operations")}catch(O){console.error("Recharge error:",O);const F=O,I=(F==null?void 0:F.message)||((_=F==null?void 0:F.data)==null?void 0:_.message)||r("sections.chargeWallet.submitError","Failed to send balance charge request");dr({title:r("common.error","Error"),description:I,variant:"destructive"})}finally{j(!1)}},P=T=>{var O;const _=(O=T.target.files)==null?void 0:O[0];if(_){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(_.type)){dr({title:r("common.error","Error"),description:r("sections.chargeWallet.fileTypeError","File must be jpeg, png, jpg, or pdf"),variant:"destructive"});return}if(_.size>10*1024*1024){dr({title:r("common.error","Error"),description:r("sections.chargeWallet.fileSizeError","File size must be less than 10MB"),variant:"destructive"});return}S(_)}};return s.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("sections.chargeWallet.title","Charge Balance")}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(z,{type:"button",variant:n==="cash"?"default":"outline",onClick:()=>i("cash"),className:n==="cash"?"border-b-2 border-primary":"",children:r("sections.chargeWallet.methods.cash","Cash")}),s.jsx(z,{type:"button",variant:n==="visa"?"default":"outline",onClick:()=>i("visa"),className:n==="visa"?"border-b-2 border-primary":"",children:r("sections.chargeWallet.methods.visa","Visa")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.bank","Bank")}),s.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"",children:r("sections.chargeWallet.selectBank","Select Bank")}),c.map(T=>s.jsx("option",{value:T.id,children:a.language==="ar"&&T.nameAr||T.name},T.id))]})]}),o&&(()=>{const T=c.find(_=>_.id===o);return T?s.jsxs(je,{className:"border-0 shadow-md",children:[s.jsx(et,{children:s.jsx(at,{children:r("sections.chargeWallet.bankDetails","Bank Account Details")})}),s.jsxs(Ce,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r("sections.chargeWallet.accountName","Account Name:")}),s.jsx("span",{className:"font-medium",children:T.accountHolderName||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r("sections.chargeWallet.accountNumber","Account Number:")}),s.jsx("span",{className:"font-medium font-mono",children:T.accountNumber||"-"})]}),T.iban&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r("sections.chargeWallet.iban","IBAN:")}),s.jsx("span",{className:"font-medium font-mono text-xs",children:T.iban})]})]})]}):null})(),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.transferrerAccount","Transferrer Account")}),s.jsxs("select",{value:m,onChange:T=>p(T.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"",children:r("sections.chargeWallet.selectTransferrerAccount","Select Bank Account")}),u.map(T=>s.jsxs("option",{value:T.id,children:[T.bankName," - ",T.accountHolderName," (",T.accountNumber,")"]},T.id))]}),u.length===0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:r("sections.chargeWallet.noBankAccounts","No bank accounts found. Please add a bank account first.")}),s.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>t("/bank-accounts"),children:r("sections.chargeWallet.addBankAccount","Add Bank Account")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.transferrerName","Transferrer Name")}),s.jsx("input",{type:"text",value:b,onChange:T=>v(T.target.value),placeholder:r("sections.chargeWallet.transferrerNamePlaceholder","Enter transferrer name"),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.amount","Amount")}),s.jsx("input",{type:"number",value:g,onChange:T=>x(T.target.value),placeholder:"1-",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.currency","Currency")}),s.jsxs("select",{value:y,onChange:T=>w(T.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"SAR",children:r("common.currencies.SAR","SAR")}),s.jsx("option",{value:"AED",children:r("common.currencies.AED","AED")}),s.jsx("option",{value:"KWD",children:r("common.currencies.KWD","KWD")}),s.jsx("option",{value:"USD",children:r("common.currencies.USD","USD")}),s.jsx("option",{value:"QAR",children:r("common.currencies.QAR","QAR")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:r("sections.chargeWallet.receipt","Receipt Image")}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center",children:[k?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ua,{className:"h-8 w-8 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:k.name}),s.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{S(null),C.current&&(C.current.value="")},children:s.jsx(hr,{className:"h-4 w-4"})})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(k.size/1024/1024).toFixed(2)," MB"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:r("sections.chargeWallet.receiptHint","Receipt image must be jpeg, png, jpg, or pdf")}),s.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>{var T;return(T=C.current)==null?void 0:T.click()},children:[s.jsx(Gt,{className:"ml-2 h-4 w-4"}),r("sections.chargeWallet.uploadReceipt","Upload File")]})]}),s.jsx("input",{ref:C,type:"file",accept:"image/jpeg,image/jpg,image/png,application/pdf",onChange:P,className:"hidden"})]})]}),s.jsxs(z,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:N,children:[N?s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}):null,N?r("sections.chargeWallet.submitting","Sending..."):r("sections.chargeWallet.submit","Submit")]})]})]})})}function Mdt({props:e}){const{t}=Ct(),[r,a]=f.useState("products"),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(""),[g,x]=f.useState(""),[y,w]=f.useState(""),[b,v]=f.useState({totalAfterTax:0,totalTax:0,totalPrice:0});f.useEffect(()=>{N()},[N]),f.useEffect(()=>{j()},[j]);const N=f.useCallback(async()=>{try{const C=await Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:!1}).catch(()=>[]);h(Array.isArray(C)?C:[])}catch(C){console.error("Failed to load brands:",C)}},[]),j=f.useCallback(async()=>{try{l(!0);let C=[];const A=new URLSearchParams;if(m&&A.append("startDate",m),g&&A.append("endDate",g),c&&A.append("brandId",c),r==="products"){const E=await Q.fetch(`${Q.coreUrl}/merchant/dashboard/reports/top-profitable-products?${A.toString()}`,{requireAuth:!1}).catch(()=>({products:[]}));C=(E==null?void 0:E.products)||[];const D=C.reduce((T,_)=>T+(_.revenue||0),0),P=D*.15;v({totalPrice:D,totalTax:P,totalAfterTax:D+P})}else if(r==="orders"){const E=await Q.fetch(`${Q.coreUrl}/merchant/orders?${A.toString()}`,{requireAuth:!0}).catch(()=>({items:[]}));C=(E==null?void 0:E.items)||[];const D=C.reduce((T,_)=>T+(_.total||0),0),P=C.reduce((T,_)=>T+(_.tax||0),0);v({totalPrice:D-P,totalTax:P,totalAfterTax:D})}else C=[],v({totalAfterTax:0,totalTax:0,totalPrice:0});i(C)}catch(C){console.error("Failed to load report data:",C),i([]),v({totalAfterTax:0,totalTax:0,totalPrice:0})}finally{l(!1)}},[r,m,g,c]),k=C=>{dr({title:t("common.exporting","Exporting..."),description:t("common.exportStarted","Your {{type}} export has started.",{type:C.toUpperCase()})}),setTimeout(()=>{dr({title:t("common.success","Success"),description:t("common.exportComplete","Export completed successfully."),variant:"default"})},1500)},S=n.filter(C=>{var D,P,T,_;if(!y)return!0;const A=y.toLowerCase(),E=C;return r==="products"?((D=E.name)==null?void 0:D.toLowerCase().includes(A))||((P=E.nameAr)==null?void 0:P.toLowerCase().includes(A)):r==="orders"?((T=E.orderNumber)==null?void 0:T.toLowerCase().includes(A))||((_=E.customerName)==null?void 0:_.toLowerCase().includes(A)):!0});return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.title||t("sections.reportsPage.title","Reports")}),s.jsxs("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx(z,{variant:"ghost",className:r==="products"?"border-b-2 border-primary text-primary":"",onClick:()=>a("products"),children:t("sections.reportsPage.tabs.products","Products")}),s.jsx(z,{variant:"ghost",className:r==="orders"?"border-b-2 border-primary text-primary":"",onClick:()=>a("orders"),children:t("sections.reportsPage.tabs.orders","Orders")}),s.jsx(z,{variant:"ghost",className:r==="details"?"border-b-2 border-primary text-primary":"",onClick:()=>a("details"),children:t("sections.reportsPage.tabs.orderDetails","Order Details")})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 self-center",children:t("sections.reportsPage.export","Export:")}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>k("excel"),children:"Excel"}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>k("pdf"),children:"PDF"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"",children:t("sections.reportsPage.selectBrand","Select Brand")}),u.map(C=>s.jsx("option",{value:C.id,children:C.nameAr||C.name},C.id))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:m,onChange:C=>p(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"}),s.jsx("input",{type:"date",value:g,onChange:C=>x(C.target.value),className:"px-4 py-2 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:t("sections.reportsPage.searchPlaceholder","Search..."),value:y,onChange:C=>w(C.target.value),className:"px-4 py-2 pr-10 border-2 border-gray-300 dark:border-gray-700 rounded-lg dark:bg-gray-800 dark:text-white"}),s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalAfterTax","Total After Tax")}),s.jsx("p",{className:"text-2xl font-bold",children:b.totalAfterTax.toFixed(2)})]}),s.jsx(Wr,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalTax","Total Tax")}),s.jsx("p",{className:"text-2xl font-bold",children:b.totalTax.toFixed(2)})]}),s.jsx(pn,{className:"h-8 w-8 text-green-600"})]})})}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.reportsPage.summary.totalPrice","Total Price")}),s.jsx("p",{className:"text-2xl font-bold",children:b.totalPrice.toFixed(2)})]}),s.jsx(Wo,{className:"h-8 w-8 text-purple-600"})]})})})]}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:o?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[200px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):S.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsx(jt,{children:r==="products"?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{className:"text-right",children:"#"}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.productName","Product Name")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.brandName","Brand Name")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.type","Type")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.quantity","Quantity")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.unitPrice","Unit Price")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.totalPrice","Total Price")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.unitTax","Unit Tax")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.totalAfterTax","Total After Tax")})]}):r==="orders"?s.jsxs(s.Fragment,{children:[s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.orderNumber","Order #")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.date","Date")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.customer","Customer")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.status","Status")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.items","Items")}),s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.total","Total")})]}):s.jsx(Ee,{className:"text-right",children:t("sections.reportsPage.table.details","Details")})})}),s.jsx(ss,{children:S.map((C,A)=>{var D,P,T,_;const E=C;return s.jsx(jt,{children:r==="products"?s.jsxs(s.Fragment,{children:[s.jsx(ke,{children:A+1}),s.jsx(ke,{children:E.nameAr||E.name}),s.jsx(ke,{children:E.brandName||"N/A"}),s.jsx(ke,{children:" "}),s.jsx(ke,{children:E.qty||0}),s.jsxs(ke,{children:["$",((E.revenue||0)/(E.qty||1)).toFixed(6)]}),s.jsxs(ke,{children:["$",((D=E.revenue)==null?void 0:D.toFixed(6))||"0.00"]}),s.jsxs(ke,{children:["$",((E.revenue||0)/(E.qty||1)*.15).toFixed(6)]}),s.jsxs(ke,{children:["$",((E.revenue||0)*1.15).toFixed(6)]})]}):r==="orders"?s.jsxs(s.Fragment,{children:[s.jsx(ke,{className:"font-mono",children:E.orderNumber}),s.jsx(ke,{children:E.createdAt?new Date(E.createdAt).toLocaleDateString("ar-SA"):"-"}),s.jsx(ke,{children:E.customerName||((P=E.customer)==null?void 0:P.name)||"Guest"}),s.jsx(ke,{children:s.jsx(Ze,{variant:E.status==="COMPLETED"?"default":"secondary",children:E.status})}),s.jsx(ke,{children:((T=E.items)==null?void 0:T.length)||0}),s.jsxs(ke,{children:["$",(_=E.total)==null?void 0:_.toFixed(6)]})]}):s.jsx(ke,{colSpan:9,className:"text-center",children:t("common.noData","No details available")})},E.id||A)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Da,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("sections.reportsPage.noData","No data")})]})})})]})})}function Ldt({props:e}){const{t}=Ct(),[r,a]=f.useState(null),[n,i]=f.useState(0),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState("documents");f.useEffect(()=>{m()},[m]);const m=f.useCallback(async()=>{try{d(!0);const[p,g,x]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/profile`,{requireAuth:!1}).catch(()=>null),Q.fetch(`${Q.coreUrl}/transactions/balance`,{requireAuth:!1}).catch(()=>({balance:0})),Q.fetch(`${Q.coreUrl}/merchant/profile/documents`,{requireAuth:!1}).catch(()=>[])]);a(p),i((g==null?void 0:g.balance)||0),l(Array.isArray(x)?x:[])}catch(p){console.error("Failed to load profile:",p)}finally{d(!1)}},[]);return c?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsx(je,{className:"border-0 shadow-md",children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Gi,{className:"h-10 w-10 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold",children:(r==null?void 0:r.businessName)||"abanoub"}),s.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.businessNameAr)||"abanoub"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t("sections.profilePage.balance","Balance")}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",n.toFixed(2)]})]}),s.jsxs(z,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[s.jsx(Gt,{className:"ml-2 h-4 w-4"}),t("sections.profilePage.addBalance","Add Balance")]})]})]})}),s.jsxs(je,{className:"border-0 shadow-md",children:[s.jsx(et,{children:s.jsx(at,{children:t("sections.profilePage.documents","Documents")})}),s.jsx(Ce,{children:o.length>0?s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:t("sections.profilePage.table.fileName","File Name")}),s.jsx(Ee,{children:t("sections.profilePage.table.type","Type")}),s.jsx(Ee,{children:t("sections.profilePage.table.size","Size")}),s.jsx(Ee,{children:t("sections.profilePage.table.uploadDate","Upload Date")}),s.jsx(Ee,{children:t("sections.profilePage.table.action","Action")})]})}),s.jsx(ss,{children:o.map(p=>s.jsxs(jt,{children:[s.jsx(ke,{children:p.fileName}),s.jsx(ke,{children:p.type}),s.jsx(ke,{children:p.size}),s.jsx(ke,{children:new Date(p.uploadedAt).toLocaleDateString("ar-SA")}),s.jsx(ke,{children:s.jsx(z,{variant:"ghost",size:"sm",children:t("sections.profilePage.download","Download")})})]},p.id))})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[s.jsx(ua,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:t("sections.reportsPage.noData","No data")})]})})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(je,{className:"border-0 shadow-md",children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:(r==null?void 0:r.businessName)||"abanoub"}),s.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),s.jsx(Ze,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:t("sections.profilePage.verified","Verified")})]}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsx(z,{variant:u==="documents"?"default":"ghost",onClick:()=>h("documents"),children:t("sections.profilePage.tabs.documents","Documents")}),s.jsx(z,{variant:u==="edit"?"default":"ghost",onClick:()=>h("edit"),children:t("sections.profilePage.tabs.edit","Edit Profile")})]})]}),s.jsx(Ce,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.companyName","Company Name :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.businessName)||"abanoub"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.manager","Manager :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.businessName)||"abanoub"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.phone","Phone :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.phone)||"201029009237"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.email","Email :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.email)||"ai.dev@asuscard.com"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.commercialRecord","Commercial Record :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.taxId)||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.taxCard","Tax Card :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.taxCardNumber)||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.country","Country :")}),s.jsx("p",{className:"font-medium",children:"  "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.city","City :")}),s.jsx("p",{className:"font-medium",children:""})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.address","Address :")}),s.jsx("p",{className:"font-medium",children:(r==null?void 0:r.address)||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("sections.profilePage.fields.joinDate","Join Date :")}),s.jsx("p",{className:"font-medium",children:r!=null&&r.createdAt?new Date(r.createdAt).toLocaleString("ar-SA"):"AM 12:00 10/12/2025"})]})]})})})]})})]})})}function $dt({props:e}){const[t,r]=f.useState(null);return f.useEffect(()=>{Zv(()=>import("./CardsBankAccounts-Dh7QPJHQ.js"),[]).then(a=>{r(()=>a.default)})},[]),t?s.jsx(t,{}):s.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})})}function Bdt({props:e}){var A;const{t,i18n:r}=Ct(),a=r.language==="ar",{user:n}=$s(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState("all"),[p,g]=f.useState(null),[x,y]=f.useState(!1),w=a?e.titleAr||e.title||t("sections.customerOrders.title"):e.titleEn||e.title||t("sections.customerOrders.title"),b=a?e.subtitleAr||e.subtitle||t("sections.customerOrders.subtitle"):e.subtitleEn||e.subtitle||t("sections.customerOrders.subtitle"),v=e.showSearch!==!1,N=e.showFilters!==!1,j=e.showStatusBadge!==!1,k=f.useCallback(async()=>{try{c(!0);const E=localStorage.getItem("customerToken"),D=(n==null?void 0:n.email)||localStorage.getItem("lastOrderEmail")||sessionStorage.getItem("guestOrderEmail");if(!E&&!n&&!D)return;let P={data:[]};E||n?P=await Q.fetch(`${Q.coreUrl}/orders`,{headers:E?{Authorization:`Bearer ${E}`}:{},requireAuth:!!n}).catch(()=>({data:[]})):D&&(P=await Q.fetch(`${Q.coreUrl}/guest-checkout/orders-by-email?email=${encodeURIComponent(D)}`,{requireAuth:!1}).catch(()=>[]));const T=E||n?await Q.fetch(`${Q.coreUrl}/card-orders/my-orders`,{headers:E?{Authorization:`Bearer ${E}`}:{},requireAuth:!!n}).catch(()=>({data:[]})):{data:[]},_=Array.isArray(P)?P:(P==null?void 0:P.data)||[],O=Array.isArray(T)?T:(T==null?void 0:T.data)||[],F=[..._,...O.map(I=>({...I,isCardOrder:!0}))].sort((I,R)=>new Date(R.createdAt||R.created_at||0).getTime()-new Date(I.createdAt||I.created_at||0).getTime());o(F)}catch(E){console.error("Failed to load orders:",E),dr({title:t("sections.customerOrders.loadError","  "),description:t("sections.customerOrders.loadErrorDesc","    .    ."),variant:"destructive"})}finally{c(!1)}},[n,t]);f.useEffect(()=>{k()},[k]);const S=E=>{const D={PENDING:{label:t("sections.customerOrders.status.pending"," "),className:"bg-yellow-500/10 text-yellow-700 border-yellow-500/20",icon:ji},PROCESSING:{label:t("sections.customerOrders.status.processing"," "),className:"bg-blue-500/10 text-blue-700 border-blue-500/20",icon:Ge},SHIPPED:{label:t("sections.customerOrders.status.shipped"," "),className:"bg-purple-500/10 text-purple-700 border-purple-500/20",icon:Dr},DELIVERED:{label:t("sections.customerOrders.status.delivered"," "),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:Js},APPROVED:{label:t("sections.customerOrders.status.approved"," "),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:Js},REJECTED:{label:t("sections.customerOrders.status.rejected",""),className:"bg-red-500/10 text-red-700 border-red-500/20",icon:hr},CANCELLED:{label:t("sections.customerOrders.status.cancelled",""),className:"bg-red-500/10 text-red-700 border-red-500/20",icon:hr},COMPLETED:{label:t("sections.customerOrders.status.completed",""),className:"bg-green-500/10 text-green-700 border-green-500/20",icon:Js}},P=D[E]||D.PENDING,T=P.icon;return s.jsxs(Ze,{variant:"outline",className:`${P.className} gap-1`,children:[s.jsx(T,{className:"h-3 w-3"}),P.label]})},C=i.filter(E=>{var T;const D=(E.orderNumber||E.id||"").toLowerCase().includes(d.toLowerCase())||((T=E.status)==null?void 0:T.toLowerCase().includes(d.toLowerCase())),P=h==="all"||E.status===h;return D&&P});return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:w}),b&&s.jsx("p",{className:"text-muted-foreground",children:b})]}),(v||N)&&s.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[v&&s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Or,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${a?"right-3":"left-3"}`}),s.jsx(me,{placeholder:t("sections.customerOrders.searchPlaceholder","    ..."),className:a?"pr-9":"pl-9",value:d,onChange:E=>u(E.target.value)})]}),N&&s.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"px-4 py-2 border rounded-md bg-background",children:[s.jsx("option",{value:"all",children:t("sections.customerOrders.allStatuses"," ")}),s.jsx("option",{value:"PENDING",children:t("sections.customerOrders.status.pending"," ")}),s.jsx("option",{value:"PROCESSING",children:t("sections.customerOrders.status.processing"," ")}),s.jsx("option",{value:"SHIPPED",children:t("sections.customerOrders.status.shipped"," ")}),s.jsx("option",{value:"DELIVERED",children:t("sections.customerOrders.status.delivered"," ")}),s.jsx("option",{value:"APPROVED",children:t("sections.customerOrders.status.approved"," ")}),s.jsx("option",{value:"REJECTED",children:t("sections.customerOrders.status.rejected","")}),s.jsx("option",{value:"CANCELLED",children:t("sections.customerOrders.status.cancelled","")}),s.jsx("option",{value:"COMPLETED",children:t("sections.customerOrders.status.completed","")})]})]}),s.jsx(je,{children:s.jsx(Ce,{className:"p-0",children:l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):C.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-40"}),s.jsx("p",{className:"text-muted-foreground",children:t("sections.customerOrders.noOrders","  ")})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:t("sections.customerOrders.orderNumber"," ")}),s.jsx(Ee,{children:t("sections.customerOrders.date","")}),s.jsx(Ee,{children:t("sections.customerOrders.status","")}),s.jsx(Ee,{children:t("sections.customerOrders.total","")}),s.jsx(Ee,{children:t("sections.customerOrders.actions","")})]})}),s.jsx(ss,{children:C.map(E=>{var D;return s.jsxs(jt,{className:"hover:bg-muted/50",children:[s.jsxs(ke,{className:"font-mono font-semibold",children:["#",E.orderNumber||((D=E.id)==null?void 0:D.slice(0,8))||"N/A"]}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ji,{className:"h-4 w-4"}),new Date(E.createdAt).toLocaleDateString(a?"ar-SA":"en-US")]})}),s.jsx(ke,{children:j&&S(E.status)}),s.jsx(ke,{className:"font-semibold",children:E.totalAmount?`${Number(E.totalAmount).toFixed(2)} ${t("common.currency")}`:E.total?`${Number(E.total).toFixed(2)} ${t("common.currency")}`:"-"}),s.jsx(ke,{children:s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>{g(E),y(!0)},title:t("sections.customerOrders.view"),"aria-label":t("sections.customerOrders.view"),children:[s.jsx(fr,{className:`h-4 w-4 ${a?"ml-2":"mr-2"}`}),t("sections.customerOrders.view")]})})]},E.id)})})]})})}),s.jsx(Qt,{open:x,onOpenChange:y,children:s.jsxs(Yt,{className:"max-w-2xl",children:[s.jsx(tr,{children:s.jsxs(rr,{children:[t("sections.customerOrders.orderDetails"," ")," #",(p==null?void 0:p.orderNumber)||((A=p==null?void 0:p.id)==null?void 0:A.slice(0,8))]})}),p&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:t("sections.customerOrders.status","")}),s.jsx("div",{className:"mt-1",children:j&&S(p.status)})]}),s.jsxs("div",{children:[s.jsx(X,{children:t("sections.customerOrders.date")}),s.jsx("p",{className:"mt-1 text-sm",children:new Date(p.createdAt).toLocaleDateString(a?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx(X,{children:t("sections.customerOrders.total")}),s.jsx("p",{className:"mt-1 font-semibold",children:p.totalAmount?`${Number(p.totalAmount).toFixed(2)} ${t("common.currency")}`:p.total?`${Number(p.total).toFixed(2)} ${t("common.currency")}`:"-"})]})]})})]})})]})}const Oz={getCustomerEmployees:(e=1,t=50)=>Q.fetch(`${Q.authUrl}/customer-employees?page=${e}&limit=${t}`,{requireAuth:!0}),getCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees/${e}`,{requireAuth:!0}),getAvailablePermissions:()=>Q.fetch(`${Q.authUrl}/customer-employees/permissions`,{requireAuth:!0}),createCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees`,{method:"POST",body:JSON.stringify(e),requireAuth:!0}),updatePermissions:(e,t)=>Q.fetch(`${Q.authUrl}/customer-employees/${e}/permissions`,{method:"PUT",body:JSON.stringify({permissions:t}),requireAuth:!0}),deleteCustomerEmployee:e=>Q.fetch(`${Q.authUrl}/customer-employees/${e}`,{method:"DELETE",requireAuth:!0})},Iz={"product:create":{id:"product:create",label:"Create Products",description:"Can create new products",icon:Tt,category:"Products"},"product:read":{id:"product:read",label:"View Products",description:"Can view product information",icon:fr,category:"Products"},"product:update":{id:"product:update",label:"Edit Products",description:"Can modify existing products",icon:vs,category:"Products"},"product:delete":{id:"product:delete",label:"Delete Products",description:"Can remove products",icon:Cs,category:"Products"},"product:manage":{id:"product:manage",label:"Manage Products",description:"Full product management access",icon:Tt,category:"Products"},"order:create":{id:"order:create",label:"Create Orders",description:"Can create new orders",icon:Dr,category:"Orders"},"order:read":{id:"order:read",label:"View Orders",description:"Can view order information",icon:fr,category:"Orders"},"order:update":{id:"order:update",label:"Update Orders",description:"Can modify existing orders",icon:vs,category:"Orders"},"order:delete":{id:"order:delete",label:"Delete Orders",description:"Can remove orders",icon:Cs,category:"Orders"},"order:manage":{id:"order:manage",label:"Manage Orders",description:"Full order management access",icon:Dr,category:"Orders"},"customer:create":{id:"customer:create",label:"Create Customers",description:"Can create new customer accounts",icon:mr,category:"Customers"},"customer:read":{id:"customer:read",label:"View Customers",description:"Can view customer information",icon:fr,category:"Customers"},"customer:update":{id:"customer:update",label:"Update Customers",description:"Can modify customer data",icon:vs,category:"Customers"},"customer:delete":{id:"customer:delete",label:"Delete Customers",description:"Can remove customers",icon:Cs,category:"Customers"},"customer:manage":{id:"customer:manage",label:"Manage Customers",description:"Full customer management access",icon:mr,category:"Customers"},"inventory:read":{id:"inventory:read",label:"View Inventory",description:"Can view stock levels",icon:fr,category:"Inventory"},"inventory:update":{id:"inventory:update",label:"Update Inventory",description:"Can modify stock levels",icon:vs,category:"Inventory"},"inventory:manage":{id:"inventory:manage",label:"Manage Inventory",description:"Full inventory control",icon:Tt,category:"Inventory"},"analytics:read":{id:"analytics:read",label:"View Analytics",description:"Can view reports and analytics",icon:Da,category:"Analytics"},"analytics:manage":{id:"analytics:manage",label:"Manage Analytics",description:"Full analytics access",icon:Da,category:"Analytics"},"settings:read":{id:"settings:read",label:"View Settings",description:"Can view store settings",icon:fr,category:"Settings"},"settings:update":{id:"settings:update",label:"Update Settings",description:"Can modify store settings",icon:vs,category:"Settings"},"mobile:merchant:access":{id:"mobile:merchant:access",label:"Mobile App Access",description:"Can access merchant features in mobile app",icon:Ws,category:"Mobile App"},"mobile:merchant:orders":{id:"mobile:merchant:orders",label:"Mobile Orders Management",description:"Can manage orders via mobile app",icon:Dr,category:"Mobile App"},"mobile:merchant:products":{id:"mobile:merchant:products",label:"Mobile Products Management",description:"Can manage products via mobile app",icon:Tt,category:"Mobile App"},"mobile:merchant:customers":{id:"mobile:merchant:customers",label:"Mobile Customers View",description:"Can view customers via mobile app",icon:mr,category:"Mobile App"},"mobile:merchant:analytics":{id:"mobile:merchant:analytics",label:"Mobile Analytics View",description:"Can view analytics via mobile app",icon:Da,category:"Mobile App"}},Rz=[{category:"",pageAccess:["/store/products","/products"],permissions:[{id:"store:products:view",label:" ",description:"     ",icon:fr,category:""},{id:"store:products:create",label:" ",description:"    ",icon:Tt,category:""},{id:"store:products:edit",label:" ",description:"   ",icon:vs,category:""},{id:"store:products:delete",label:" ",description:"   ",icon:Cs,category:""}]},{category:"",pageAccess:["/store/orders","/orders"],permissions:[{id:"store:orders:view",label:" ",description:"   ",icon:fr,category:""},{id:"store:orders:create",label:" ",description:"    ",icon:Dr,category:""},{id:"store:orders:edit",label:" ",description:"   ",icon:vs,category:""},{id:"store:orders:cancel",label:" ",description:"   ",icon:Cs,category:""}]},{category:"",pageAccess:["/store/customers"],permissions:[{id:"store:customers:view",label:" ",description:"    ",icon:fr,category:""},{id:"store:customers:edit",label:" ",description:"    ",icon:vs,category:""}]},{category:"",pageAccess:["/store","/"],permissions:[{id:"store:home:view",label:"  ",description:"     ",icon:fr,category:""},{id:"store:cart:view",label:" ",description:"    ",icon:Dr,category:""},{id:"store:cart:manage",label:" ",description:"  /  ",icon:vs,category:""},{id:"store:checkout:access",label:" ",description:"    ",icon:Dr,category:""}]},{category:"",pageAccess:["/store/wallet","/account/recharge"],permissions:[{id:"store:wallet:view",label:" ",description:"    ",icon:fr,category:""},{id:"store:wallet:recharge",label:" ",description:"   ",icon:vs,category:""}]},{category:" ",pageAccess:["/store/profile","/account"],permissions:[{id:"store:profile:view",label:"  ",description:"    ",icon:fr,category:" "},{id:"store:profile:edit",label:"  ",description:"    ",icon:vs,category:" "}]},{category:"  ()",pageAccess:["/mobile/merchant"],permissions:[{id:"mobile:merchant:access",label:"  ",description:"      ",icon:Ws,category:" "},{id:"mobile:merchant:orders",label:"  ()",description:"     ",icon:Dr,category:" "},{id:"mobile:merchant:products",label:"  ()",description:"     ",icon:Tt,category:" "},{id:"mobile:merchant:customers",label:"  ()",description:"     ",icon:mr,category:" "},{id:"mobile:merchant:analytics",label:"  ()",description:"     ",icon:Da,category:" "}]}];function Udt(){const{user:e}=$s(),[t,r]=f.useState(null),[a,n]=f.useState(!0),{toast:i}=Rt(),[o,l]=f.useState([]),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,w]=f.useState(!1),[b,v]=f.useState(!1),N=f.useCallback(async()=>{var O;try{d(!0);const F=await Oz.getCustomerEmployees(1,100);l(F.data||[])}catch(F){console.error("Failed to load employees:",F),((O=F==null?void 0:F.response)==null?void 0:O.status)===400||(F==null?void 0:F.status)===400?i({title:"",description:"   .     .",variant:"default"}):i({title:"",description:"   ",variant:"destructive"})}finally{d(!1)}},[i]);f.useEffect(()=>{(async()=>{if(!e){n(!1);return}if(e.role==="STAFF"){n(!1);return}n(!1)})();const F=localStorage.getItem("customerToken"),I=localStorage.getItem("customerData");!!(F&&I)&&N()},[e,i,N]);const j=O=>{p(O);const F=O.permissions||[];x([...F]),w(!0)},k=O=>{x(F=>F.includes(O)?F.filter(I=>I!==O):[...F,O])},S=async()=>{if(m)try{v(!0),await Oz.updatePermissions(m.id,g),i({title:"",description:"   "}),w(!1),p(null),N()}catch(O){console.error("Failed to update permissions:",O),i({title:"",description:(O==null?void 0:O.message)||"  ",variant:"destructive"})}finally{v(!1)}},C=o.filter(O=>{var F,I;return((F=O.email)==null?void 0:F.toLowerCase().includes(u.toLowerCase()))||((I=O.name)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))});if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})});if(e&&e.role==="STAFF")return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Ws,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Restricted"}),s.jsx("p",{className:"text-gray-600",children:"This page is not accessible to store employees."})]})});const A=localStorage.getItem("customerToken"),E=localStorage.getItem("customerData"),D=!!(A&&E),T=((t==null?void 0:t.staffPermissions)||[]).map(O=>typeof O=="string"?O:O.permission).filter(O=>O&&!O.startsWith("employee:"))||[],_={};return T.forEach(O=>{const F=Iz[O];F&&(_[F.category]||(_[F.category]=[]),_[F.category].push(O))}),s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mb-4",children:s.jsx(Ws,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:D?" ":"My Permissions"}),s.jsx("p",{className:"text-lg text-gray-600",children:D?"       ":"View what you can see and access in the store dashboard"})]}),D&&T.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(ks,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Customer Permissions"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"As a customer, you have access to the following:"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Dr,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ks,{className:"w-4 h-4 text-green-500"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"View Orders"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"View your order history and track orders"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(mr,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ks,{className:"w-4 h-4 text-green-500"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Manage Profile"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Update your personal information and preferences"})]})]})]})]}):T.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[s.jsx(Cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Permissions Assigned"}),s.jsx("p",{className:"text-gray-600",children:"You don't have any specific permissions assigned. Please contact your store owner."})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(_).map(([O,F])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ws,{className:"w-5 h-5 text-purple-600"}),O]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(I=>{const R=Iz[I];if(!R)return null;const L=R.icon;return s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(L,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ks,{className:"w-4 h-4 text-green-500"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:R.label})]}),s.jsx("p",{className:"text-sm text-gray-600",children:R.description})]})]},I)})})]},O))}),D&&s.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-sm p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(mr,{className:"w-6 h-6 text-purple-600"}),D?"  ":"Manage Employee Permissions"]}),s.jsx("p",{className:"text-gray-600",children:D?"       ":"Manage what your employees can see and access"})]})}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:D?"  ...":"Search employee...",value:u,onChange:O=>h(O.target.value),className:"pr-10"})]})}),c?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ge,{className:"h-6 w-6 animate-spin"})}):C.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:u?D?"  ":"No results":D?"  ":"No employees"}):s.jsx("div",{className:"space-y-3",children:C.map(O=>{const F=O.permissions||[];return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:s.jsx(mr,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:O.name||O.email}),s.jsx("p",{className:"text-sm text-gray-600",children:O.email}),F.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[F.slice(0,3).map(I=>{const R=Rz.flatMap(L=>L.permissions).find(L=>L.id===I);return R?s.jsx(Ze,{variant:"secondary",className:"text-xs",children:R.label},I):s.jsx(Ze,{variant:"secondary",className:"text-xs",children:I},I)}),F.length>3&&s.jsxs(Ze,{variant:"secondary",className:"text-xs",children:["+",F.length-3]})]})]})]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>j(O),children:[s.jsx(La,{className:"h-4 w-4 ml-2"}),D?" ":"Edit Permissions"]})]},O.id)})})]}),s.jsx(Qt,{open:y,onOpenChange:w,children:s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:D?"  ":"Edit Employee Permissions"}),s.jsx(ur,{children:(m==null?void 0:m.name)||(m==null?void 0:m.email)})]}),s.jsx("div",{className:"space-y-6 py-4",children:Rz.map(O=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:O.category}),s.jsx("div",{className:"space-y-2",children:O.permissions.map(F=>{const I=F.icon,R=g.includes(F.id);return s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg hover:bg-gray-50",children:[s.jsx(Ki,{checked:R,onCheckedChange:()=>k(F.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(I,{className:"w-4 h-4 text-purple-600"}),s.jsx(X,{className:"font-medium cursor-pointer",children:F.label})]}),s.jsx("p",{className:"text-sm text-gray-600",children:F.description}),O.pageAccess&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[D?" :":"Access to:"," ",O.pageAccess.join(", ")]})]})]},F.id)})})]},O.category))}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>w(!1),children:D?"":"Cancel"}),s.jsx(z,{onClick:S,disabled:b,children:b?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),D?" ...":"Saving..."]}):D?" ":"Save Permissions"})]})]})})]})})}function Vdt({images:e,autoPlay:t=!0,interval:r=5e3,showDots:a=!0,showArrows:n=!0,height:i="500px",animationType:o="slide"}){const[l,c]=f.useState(0);f.useEffect(()=>{if(!t||e.length<=1)return;const g=setInterval(()=>{c(x=>(x+1)%e.length)},r);return()=>clearInterval(g)},[t,r,e.length]);const d=g=>{c(g)},u=()=>{c(g=>(g-1+e.length)%e.length)},h=()=>{c(g=>(g+1)%e.length)};if(!e||e.length===0)return s.jsx("div",{className:"flex items-center justify-center bg-gray-200 dark:bg-gray-800 rounded-lg",style:{height:i},children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No images to display"})});const p={fade:{enter:{opacity:0},center:{opacity:1},exit:{opacity:0}},slide:{enter:g=>({x:g>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:g=>({x:g<0?1e3:-1e3,opacity:0})},zoom:{enter:{scale:.8,opacity:0},center:{scale:1,opacity:1},exit:{scale:1.2,opacity:0}}}[o];return s.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg shadow-2xl group",style:{height:i},children:[s.jsx(Wi,{initial:!1,custom:1,children:s.jsxs(Je.div,{custom:1,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.5},scale:{duration:.5}},className:"absolute inset-0",children:[s.jsx("img",{src:e[l],alt:`Slide ${l+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]},l)}),n&&e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100 hover:scale-110","aria-label":"Previous image",children:s.jsx($c,{className:"w-6 h-6"})}),s.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-700 text-gray-800 dark:text-white p-3 rounded-full shadow-lg transition-all opacity-0 group-hover:opacity-100 hover:scale-110","aria-label":"Next image",children:s.jsx(Ms,{className:"w-6 h-6"})})]}),a&&e.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:e.map((g,x)=>s.jsx("button",{onClick:()=>d(x),className:`transition-all rounded-full ${x===l?"w-8 h-3 bg-white":"w-3 h-3 bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${x+1}`},x))}),s.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium",children:[l+1," / ",e.length]})]})}function zdt({items:e,direction:t="horizontal",speed:r=20,pauseOnHover:a=!0,itemWidth:n="300px",itemHeight:i="auto",gap:o="2rem",backgroundColor:l="transparent",textColor:c="inherit"}){if(!e||e.length===0)return s.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-100 dark:bg-gray-800 rounded-lg",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No content to display"})});const d=[...e,...e,...e],u=t==="horizontal";return s.jsxs("div",{className:"overflow-hidden relative",style:{backgroundColor:l,color:c},children:[s.jsx(Je.div,{className:`flex ${u?"flex-row":"flex-col"}`,style:{gap:o},animate:u?{x:[0,`-${100/3}%`]}:{y:[0,`-${100/3}%`]},transition:{duration:r,repeat:1/0,ease:"linear"},whileHover:a?{animationPlayState:"paused"}:{},children:d.map((h,m)=>s.jsxs(Je.div,{className:"flex-shrink-0 p-6 rounded-lg bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-all duration-300",style:{width:u?n:"100%",height:i},whileHover:{scale:1.05},children:[h.icon&&s.jsx("div",{className:"text-4xl mb-3 text-center",children:h.icon}),h.title&&s.jsx("h3",{className:"font-bold text-lg mb-2 text-center",children:h.title}),h.description&&s.jsx("p",{className:"text-sm opacity-90 text-center",children:h.description}),h.content&&s.jsx("div",{className:"mt-2",children:h.content})]},`${h.id}-${m}`))}),u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-current to-transparent opacity-10 pointer-events-none"}),s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-current to-transparent opacity-10 pointer-events-none"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-current to-transparent opacity-10 pointer-events-none"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-current to-transparent opacity-10 pointer-events-none"})]})]})}const Wdt=({product:e,index:t=0})=>{var b;const{addToCart:r}=bp(),{addToWishlist:a,removeFromWishlist:n,isInWishlist:i}=hI(),o=i(e.id),[l,c]=f.useState(!1),[d,u]=f.useState(!1),h=async v=>{if(v.preventDefault(),v.stopPropagation(),!l){c(!0);try{await r(e.id,1),dr({title:"  !",description:`  ${e.nameAr||e.name||""}  `})}catch(N){const j=N;dr({title:" ",description:(j==null?void 0:j.message)||"      ",variant:"destructive"})}finally{c(!1)}}},m=v=>{v.preventDefault(),v.stopPropagation(),o?n(e.id):a(e)},p=(b=e.images)==null?void 0:b[0],g=typeof p=="object"&&(p==null?void 0:p.url)||(typeof p=="string"?p:"")||e.image||"/placeholder.svg",x=Number(e.price)||0,y=e.compareAtPrice?Number(e.compareAtPrice):0,w=y>x?Math.round((y-x)/y*100):0;return s.jsx(Qe,{to:`/products/${e.id}`,className:"block group animate-scale-in",style:{animationDelay:`${t*75}ms`},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:s.jsxs("div",{className:"gaming-card h-full flex flex-col group",children:[s.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[w>0&&s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsxs(Ze,{className:"bg-red-500 text-white px-2 py-1 text-xs font-bold shadow-[0_0_10px_rgba(239,68,68,0.5)] flex items-center gap-1 border-none",children:[s.jsx(An,{className:"w-3 h-3 fill-current"}),w,"%"]})}),s.jsx("button",{onClick:m,className:be("absolute top-3 left-3 z-10 p-2 rounded-xl backdrop-blur-md transition-all duration-300",o?"bg-red-500 text-white shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-black/40 text-white hover:bg-white hover:text-red-500"),children:s.jsx(dn,{className:be("h-4 w-4",o&&"fill-current")})}),s.jsx("div",{className:be("absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-500 backdrop-blur-[2px]",d?"opacity-100":"opacity-0"),children:s.jsxs("div",{className:"transform transition-all duration-500 translate-y-4 group-hover:translate-y-0 flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/20",children:s.jsx(fr,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-white font-bold text-sm tracking-widest uppercase",children:" "})]})}),s.jsx(d0,{src:g,alt:e.nameAr||e.name||"",className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/80 to-transparent"})]}),s.jsxs("div",{className:"p-5 flex flex-col flex-1 relative bg-gradient-to-b from-transparent to-black/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-[10px] font-bold text-primary tracking-widest uppercase opacity-80",children:" "}),s.jsx("div",{className:"h-[1px] flex-1 bg-primary/20"})]}),s.jsx("h3",{className:"font-bold text-lg mb-3 line-clamp-2 text-white group-hover:text-primary transition-colors leading-tight",children:e.nameAr||e.name||""}),s.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[1,2,3,4,5].map(v=>s.jsx(Bo,{className:be("h-3 w-3",v<=(e.rating||4)?"fill-yellow-400 text-yellow-400":"fill-white/10 text-white/10")},v)),s.jsxs("span",{className:"text-[10px] text-white/40 mr-2 font-medium",children:["(",(e.rating||4).toFixed(1),")"]})]}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-2xl font-black text-white tracking-tighter",children:x.toFixed(2)}),s.jsx("span",{className:"text-[10px] font-bold text-white/60 uppercase",children:"."})]}),y>x&&s.jsx("span",{className:"text-xs text-white/40 line-through font-medium",children:y.toFixed(2)})]}),s.jsxs(z,{size:"sm",onClick:h,disabled:l,className:be("h-11 px-5 rounded-xl font-bold transition-all duration-300","bg-primary text-white hover:shadow-[0_0_20px_rgba(var(--primary),0.4)] hover:scale-105","active:scale-95 border-none"),children:[s.jsx(Dr,{className:"h-4 w-4 ml-2"}),l?"...":""]})]})]}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-primary/10 rounded-tl-3xl border-t border-l border-primary/20 pointer-events-none"})]})})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:nle,setPrototypeOf:Fz,isFrozen:Hdt,getPrototypeOf:qdt,getOwnPropertyDescriptor:Gdt}=Object;let{freeze:po,seal:Zl,create:CD}=Object,{apply:AD,construct:ED}=typeof Reflect<"u"&&Reflect;po||(po=function(t){return t});Zl||(Zl=function(t){return t});AD||(AD=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return t.apply(r,n)});ED||(ED=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return new t(...a)});const G1=xo(Array.prototype.forEach),Kdt=xo(Array.prototype.lastIndexOf),Mz=xo(Array.prototype.pop),Iv=xo(Array.prototype.push),Ydt=xo(Array.prototype.splice),RN=xo(String.prototype.toLowerCase),mT=xo(String.prototype.toString),fT=xo(String.prototype.match),Rv=xo(String.prototype.replace),Xdt=xo(String.prototype.indexOf),Qdt=xo(String.prototype.trim),xc=xo(Object.prototype.hasOwnProperty),Ji=xo(RegExp.prototype.test),Fv=Jdt(TypeError);function xo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return AD(e,t,a)}}function Jdt(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return ED(e,r)}}function fs(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:RN;Fz&&Fz(e,null);let a=t.length;for(;a--;){let n=t[a];if(typeof n=="string"){const i=r(n);i!==n&&(Hdt(t)||(t[a]=i),n=i)}e[n]=!0}return e}function Zdt(e){for(let t=0;t<e.length;t++)xc(e,t)||(e[t]=null);return e}function td(e){const t=CD(null);for(const[r,a]of nle(e))xc(e,r)&&(Array.isArray(a)?t[r]=Zdt(a):a&&typeof a=="object"&&a.constructor===Object?t[r]=td(a):t[r]=a);return t}function Mv(e,t){for(;e!==null;){const a=Gdt(e,t);if(a){if(a.get)return xo(a.get);if(typeof a.value=="function")return xo(a.value)}e=qdt(e)}function r(){return null}return r}const Lz=po(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),pT=po(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xT=po(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eut=po(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gT=po(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tut=po(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$z=po(["#text"]),Bz=po(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vT=po(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Uz=po(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),K1=po(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rut=Zl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sut=Zl(/<%[\w\W]*|[\w\W]*%>/gm),aut=Zl(/\$\{[\w\W]*/gm),nut=Zl(/^data-[\-\w.\u00B7-\uFFFF]+$/),iut=Zl(/^aria-[\-\w]+$/),ile=Zl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),out=Zl(/^(?:\w+script|data):/i),lut=Zl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ole=Zl(/^html$/i),cut=Zl(/^[a-z][.\w]*(-[.\w]+)+$/i);var Vz=Object.freeze({__proto__:null,ARIA_ATTR:iut,ATTR_WHITESPACE:lut,CUSTOM_ELEMENT:cut,DATA_ATTR:nut,DOCTYPE_NAME:ole,ERB_EXPR:sut,IS_ALLOWED_URI:ile,IS_SCRIPT_OR_DATA:out,MUSTACHE_EXPR:rut,TMPLIT_EXPR:aut});const Lv={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},dut=function(){return typeof window>"u"?null:window},uut=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(a=r.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},zz=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function lle(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dut();const t=Ae=>lle(Ae);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Lv.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const a=r,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:p}=e,g=c.prototype,x=Mv(g,"cloneNode"),y=Mv(g,"remove"),w=Mv(g,"nextSibling"),b=Mv(g,"childNodes"),v=Mv(g,"parentNode");if(typeof o=="function"){const Ae=r.createElement("template");Ae.content&&Ae.content.ownerDocument&&(r=Ae.content.ownerDocument)}let N,j="";const{implementation:k,createNodeIterator:S,createDocumentFragment:C,getElementsByTagName:A}=r,{importNode:E}=a;let D=zz();t.isSupported=typeof nle=="function"&&typeof v=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:T,TMPLIT_EXPR:_,DATA_ATTR:O,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:L}=Vz;let{IS_ALLOWED_URI:H}=Vz,W=null;const M=fs({},[...Lz,...pT,...xT,...gT,...$z]);let G=null;const V=fs({},[...Bz,...vT,...Uz,...K1]);let q=Object.seal(CD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,U=null;const Z=Object.seal(CD(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let J=!0,K=!0,se=!1,B=!0,Ne=!1,ye=!0,Re=!1,qe=!1,He=!1,fe=!1,Ue=!1,ie=!1,Pe=!0,Te=!1;const Ve="user-content-";let Le=!0,de=!1,xe={},Ie=null;const st=fs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wt=null;const tt=fs({},["audio","video","img","source","image","track"]);let Bt=null;const pr=fs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$t="http://www.w3.org/1998/Math/MathML",_t="http://www.w3.org/2000/svg",as="http://www.w3.org/1999/xhtml";let Se=as,vr=!1,Br=null;const Nr=fs({},[$t,_t,as],mT);let Bs=fs({},["mi","mo","mn","ms","mtext"]),Ia=fs({},["annotation-xml"]);const Hr=fs({},["title","style","font","a","script"]);let St=null;const gt=["application/xhtml+xml","text/html"],we="text/html";let le=null,Ye=null;const ct=r.createElement("form"),lt=function(pe){return pe instanceof RegExp||pe instanceof Function},Xe=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ye&&Ye===pe)){if((!pe||typeof pe!="object")&&(pe={}),pe=td(pe),St=gt.indexOf(pe.PARSER_MEDIA_TYPE)===-1?we:pe.PARSER_MEDIA_TYPE,le=St==="application/xhtml+xml"?mT:RN,W=xc(pe,"ALLOWED_TAGS")?fs({},pe.ALLOWED_TAGS,le):M,G=xc(pe,"ALLOWED_ATTR")?fs({},pe.ALLOWED_ATTR,le):V,Br=xc(pe,"ALLOWED_NAMESPACES")?fs({},pe.ALLOWED_NAMESPACES,mT):Nr,Bt=xc(pe,"ADD_URI_SAFE_ATTR")?fs(td(pr),pe.ADD_URI_SAFE_ATTR,le):pr,wt=xc(pe,"ADD_DATA_URI_TAGS")?fs(td(tt),pe.ADD_DATA_URI_TAGS,le):tt,Ie=xc(pe,"FORBID_CONTENTS")?fs({},pe.FORBID_CONTENTS,le):st,Y=xc(pe,"FORBID_TAGS")?fs({},pe.FORBID_TAGS,le):td({}),U=xc(pe,"FORBID_ATTR")?fs({},pe.FORBID_ATTR,le):td({}),xe=xc(pe,"USE_PROFILES")?pe.USE_PROFILES:!1,J=pe.ALLOW_ARIA_ATTR!==!1,K=pe.ALLOW_DATA_ATTR!==!1,se=pe.ALLOW_UNKNOWN_PROTOCOLS||!1,B=pe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=pe.SAFE_FOR_TEMPLATES||!1,ye=pe.SAFE_FOR_XML!==!1,Re=pe.WHOLE_DOCUMENT||!1,fe=pe.RETURN_DOM||!1,Ue=pe.RETURN_DOM_FRAGMENT||!1,ie=pe.RETURN_TRUSTED_TYPE||!1,He=pe.FORCE_BODY||!1,Pe=pe.SANITIZE_DOM!==!1,Te=pe.SANITIZE_NAMED_PROPS||!1,Le=pe.KEEP_CONTENT!==!1,de=pe.IN_PLACE||!1,H=pe.ALLOWED_URI_REGEXP||ile,Se=pe.NAMESPACE||as,Bs=pe.MATHML_TEXT_INTEGRATION_POINTS||Bs,Ia=pe.HTML_INTEGRATION_POINTS||Ia,q=pe.CUSTOM_ELEMENT_HANDLING||{},pe.CUSTOM_ELEMENT_HANDLING&&lt(pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=pe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),pe.CUSTOM_ELEMENT_HANDLING&&lt(pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=pe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),pe.CUSTOM_ELEMENT_HANDLING&&typeof pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(q.allowCustomizedBuiltInElements=pe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(K=!1),Ue&&(fe=!0),xe&&(W=fs({},$z),G=[],xe.html===!0&&(fs(W,Lz),fs(G,Bz)),xe.svg===!0&&(fs(W,pT),fs(G,vT),fs(G,K1)),xe.svgFilters===!0&&(fs(W,xT),fs(G,vT),fs(G,K1)),xe.mathMl===!0&&(fs(W,gT),fs(G,Uz),fs(G,K1))),pe.ADD_TAGS&&(typeof pe.ADD_TAGS=="function"?Z.tagCheck=pe.ADD_TAGS:(W===M&&(W=td(W)),fs(W,pe.ADD_TAGS,le))),pe.ADD_ATTR&&(typeof pe.ADD_ATTR=="function"?Z.attributeCheck=pe.ADD_ATTR:(G===V&&(G=td(G)),fs(G,pe.ADD_ATTR,le))),pe.ADD_URI_SAFE_ATTR&&fs(Bt,pe.ADD_URI_SAFE_ATTR,le),pe.FORBID_CONTENTS&&(Ie===st&&(Ie=td(Ie)),fs(Ie,pe.FORBID_CONTENTS,le)),pe.ADD_FORBID_CONTENTS&&(Ie===st&&(Ie=td(Ie)),fs(Ie,pe.ADD_FORBID_CONTENTS,le)),Le&&(W["#text"]=!0),Re&&fs(W,["html","head","body"]),W.table&&(fs(W,["tbody"]),delete Y.tbody),pe.TRUSTED_TYPES_POLICY){if(typeof pe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Fv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof pe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Fv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=pe.TRUSTED_TYPES_POLICY,j=N.createHTML("")}else N===void 0&&(N=uut(p,n)),N!==null&&typeof j=="string"&&(j=N.createHTML(""));po&&po(pe),Ye=pe}},At=fs({},[...pT,...xT,...eut]),Dt=fs({},[...gT,...tut]),vt=function(pe){let Fe=v(pe);(!Fe||!Fe.tagName)&&(Fe={namespaceURI:Se,tagName:"template"});const Ke=RN(pe.tagName),nt=RN(Fe.tagName);return Br[pe.namespaceURI]?pe.namespaceURI===_t?Fe.namespaceURI===as?Ke==="svg":Fe.namespaceURI===$t?Ke==="svg"&&(nt==="annotation-xml"||Bs[nt]):!!At[Ke]:pe.namespaceURI===$t?Fe.namespaceURI===as?Ke==="math":Fe.namespaceURI===_t?Ke==="math"&&Ia[nt]:!!Dt[Ke]:pe.namespaceURI===as?Fe.namespaceURI===_t&&!Ia[nt]||Fe.namespaceURI===$t&&!Bs[nt]?!1:!Dt[Ke]&&(Hr[Ke]||!At[Ke]):!!(St==="application/xhtml+xml"&&Br[pe.namespaceURI]):!1},or=function(pe){Iv(t.removed,{element:pe});try{v(pe).removeChild(pe)}catch{y(pe)}},Cr=function(pe,Fe){try{Iv(t.removed,{attribute:Fe.getAttributeNode(pe),from:Fe})}catch{Iv(t.removed,{attribute:null,from:Fe})}if(Fe.removeAttribute(pe),pe==="is")if(fe||Ue)try{or(Fe)}catch{}else try{Fe.setAttribute(pe,"")}catch{}},ee=function(pe){let Fe=null,Ke=null;if(He)pe="<remove></remove>"+pe;else{const kt=fT(pe,/^[\r\n\t ]+/);Ke=kt&&kt[0]}St==="application/xhtml+xml"&&Se===as&&(pe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+pe+"</body></html>");const nt=N?N.createHTML(pe):pe;if(Se===as)try{Fe=new m().parseFromString(nt,St)}catch{}if(!Fe||!Fe.documentElement){Fe=k.createDocument(Se,"template",null);try{Fe.documentElement.innerHTML=vr?j:nt}catch{}}const mt=Fe.body||Fe.documentElement;return pe&&Ke&&mt.insertBefore(r.createTextNode(Ke),mt.childNodes[0]||null),Se===as?A.call(Fe,Re?"html":"body")[0]:Re?Fe.documentElement:mt},ue=function(pe){return S.call(pe.ownerDocument||pe,pe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},oe=function(pe){return pe instanceof h&&(typeof pe.nodeName!="string"||typeof pe.textContent!="string"||typeof pe.removeChild!="function"||!(pe.attributes instanceof u)||typeof pe.removeAttribute!="function"||typeof pe.setAttribute!="function"||typeof pe.namespaceURI!="string"||typeof pe.insertBefore!="function"||typeof pe.hasChildNodes!="function")},re=function(pe){return typeof l=="function"&&pe instanceof l};function ne(Ae,pe,Fe){G1(Ae,Ke=>{Ke.call(t,pe,Fe,Ye)})}const ge=function(pe){let Fe=null;if(ne(D.beforeSanitizeElements,pe,null),oe(pe))return or(pe),!0;const Ke=le(pe.nodeName);if(ne(D.uponSanitizeElement,pe,{tagName:Ke,allowedTags:W}),ye&&pe.hasChildNodes()&&!re(pe.firstElementChild)&&Ji(/<[/\w!]/g,pe.innerHTML)&&Ji(/<[/\w!]/g,pe.textContent)||pe.nodeType===Lv.progressingInstruction||ye&&pe.nodeType===Lv.comment&&Ji(/<[/\w]/g,pe.data))return or(pe),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(Ke))&&(!W[Ke]||Y[Ke])){if(!Y[Ke]&&$e(Ke)&&(q.tagNameCheck instanceof RegExp&&Ji(q.tagNameCheck,Ke)||q.tagNameCheck instanceof Function&&q.tagNameCheck(Ke)))return!1;if(Le&&!Ie[Ke]){const nt=v(pe)||pe.parentNode,mt=b(pe)||pe.childNodes;if(mt&&nt){const kt=mt.length;for(let te=kt-1;te>=0;--te){const Ot=x(mt[te],!0);Ot.__removalCount=(pe.__removalCount||0)+1,nt.insertBefore(Ot,w(pe))}}}return or(pe),!0}return pe instanceof c&&!vt(pe)||(Ke==="noscript"||Ke==="noembed"||Ke==="noframes")&&Ji(/<\/no(script|embed|frames)/i,pe.innerHTML)?(or(pe),!0):(Ne&&pe.nodeType===Lv.text&&(Fe=pe.textContent,G1([P,T,_],nt=>{Fe=Rv(Fe,nt," ")}),pe.textContent!==Fe&&(Iv(t.removed,{element:pe.cloneNode()}),pe.textContent=Fe)),ne(D.afterSanitizeElements,pe,null),!1)},Me=function(pe,Fe,Ke){if(Pe&&(Fe==="id"||Fe==="name")&&(Ke in r||Ke in ct))return!1;if(!(K&&!U[Fe]&&Ji(O,Fe))){if(!(J&&Ji(F,Fe))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(Fe,pe))){if(!G[Fe]||U[Fe]){if(!($e(pe)&&(q.tagNameCheck instanceof RegExp&&Ji(q.tagNameCheck,pe)||q.tagNameCheck instanceof Function&&q.tagNameCheck(pe))&&(q.attributeNameCheck instanceof RegExp&&Ji(q.attributeNameCheck,Fe)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(Fe,pe))||Fe==="is"&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&Ji(q.tagNameCheck,Ke)||q.tagNameCheck instanceof Function&&q.tagNameCheck(Ke))))return!1}else if(!Bt[Fe]){if(!Ji(H,Rv(Ke,R,""))){if(!((Fe==="src"||Fe==="xlink:href"||Fe==="href")&&pe!=="script"&&Xdt(Ke,"data:")===0&&wt[pe])){if(!(se&&!Ji(I,Rv(Ke,R,"")))){if(Ke)return!1}}}}}}}return!0},$e=function(pe){return pe!=="annotation-xml"&&fT(pe,L)},_e=function(pe){ne(D.beforeSanitizeAttributes,pe,null);const{attributes:Fe}=pe;if(!Fe||oe(pe))return;const Ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let nt=Fe.length;for(;nt--;){const mt=Fe[nt],{name:kt,namespaceURI:te,value:Ot}=mt,Sr=le(kt),js=Ot;let yr=kt==="value"?js:Qdt(js);if(Ke.attrName=Sr,Ke.attrValue=yr,Ke.keepAttr=!0,Ke.forceKeepAttr=void 0,ne(D.uponSanitizeAttribute,pe,Ke),yr=Ke.attrValue,Te&&(Sr==="id"||Sr==="name")&&(Cr(kt,pe),yr=Ve+yr),ye&&Ji(/((--!?|])>)|<\/(style|title|textarea)/i,yr)){Cr(kt,pe);continue}if(Sr==="attributename"&&fT(yr,"href")){Cr(kt,pe);continue}if(Ke.forceKeepAttr)continue;if(!Ke.keepAttr){Cr(kt,pe);continue}if(!B&&Ji(/\/>/i,yr)){Cr(kt,pe);continue}Ne&&G1([P,T,_],ft=>{yr=Rv(yr,ft," ")});const us=le(pe.nodeName);if(!Me(us,Sr,yr)){Cr(kt,pe);continue}if(N&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!te)switch(p.getAttributeType(us,Sr)){case"TrustedHTML":{yr=N.createHTML(yr);break}case"TrustedScriptURL":{yr=N.createScriptURL(yr);break}}if(yr!==js)try{te?pe.setAttributeNS(te,kt,yr):pe.setAttribute(kt,yr),oe(pe)?or(pe):Mz(t.removed)}catch{Cr(kt,pe)}}ne(D.afterSanitizeAttributes,pe,null)},De=function Ae(pe){let Fe=null;const Ke=ue(pe);for(ne(D.beforeSanitizeShadowDOM,pe,null);Fe=Ke.nextNode();)ne(D.uponSanitizeShadowNode,Fe,null),ge(Fe),_e(Fe),Fe.content instanceof i&&Ae(Fe.content);ne(D.afterSanitizeShadowDOM,pe,null)};return t.sanitize=function(Ae){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=null,Ke=null,nt=null,mt=null;if(vr=!Ae,vr&&(Ae="<!-->"),typeof Ae!="string"&&!re(Ae))if(typeof Ae.toString=="function"){if(Ae=Ae.toString(),typeof Ae!="string")throw Fv("dirty is not a string, aborting")}else throw Fv("toString is not a function");if(!t.isSupported)return Ae;if(qe||Xe(pe),t.removed=[],typeof Ae=="string"&&(de=!1),de){if(Ae.nodeName){const Ot=le(Ae.nodeName);if(!W[Ot]||Y[Ot])throw Fv("root node is forbidden and cannot be sanitized in-place")}}else if(Ae instanceof l)Fe=ee("<!---->"),Ke=Fe.ownerDocument.importNode(Ae,!0),Ke.nodeType===Lv.element&&Ke.nodeName==="BODY"||Ke.nodeName==="HTML"?Fe=Ke:Fe.appendChild(Ke);else{if(!fe&&!Ne&&!Re&&Ae.indexOf("<")===-1)return N&&ie?N.createHTML(Ae):Ae;if(Fe=ee(Ae),!Fe)return fe?null:ie?j:""}Fe&&He&&or(Fe.firstChild);const kt=ue(de?Ae:Fe);for(;nt=kt.nextNode();)ge(nt),_e(nt),nt.content instanceof i&&De(nt.content);if(de)return Ae;if(fe){if(Ue)for(mt=C.call(Fe.ownerDocument);Fe.firstChild;)mt.appendChild(Fe.firstChild);else mt=Fe;return(G.shadowroot||G.shadowrootmode)&&(mt=E.call(a,mt,!0)),mt}let te=Re?Fe.outerHTML:Fe.innerHTML;return Re&&W["!doctype"]&&Fe.ownerDocument&&Fe.ownerDocument.doctype&&Fe.ownerDocument.doctype.name&&Ji(ole,Fe.ownerDocument.doctype.name)&&(te="<!DOCTYPE "+Fe.ownerDocument.doctype.name+`>
`+te),Ne&&G1([P,T,_],Ot=>{te=Rv(te,Ot," ")}),N&&ie?N.createHTML(te):te},t.setConfig=function(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xe(Ae),qe=!0},t.clearConfig=function(){Ye=null,qe=!1},t.isValidAttribute=function(Ae,pe,Fe){Ye||Xe({});const Ke=le(Ae),nt=le(pe);return Me(Ke,nt,Fe)},t.addHook=function(Ae,pe){typeof pe=="function"&&Iv(D[Ae],pe)},t.removeHook=function(Ae,pe){if(pe!==void 0){const Fe=Kdt(D[Ae],pe);return Fe===-1?void 0:Ydt(D[Ae],Fe,1)[0]}return Mz(D[Ae])},t.removeHooks=function(Ae){D[Ae]=[]},t.removeAllHooks=function(){D=zz()},t}var hut=lle();function cle({html:e,className:t="",dir:r,style:a,allowedTags:n,allowedAttributes:i}){const o=f.useRef(null);return f.useEffect(()=>{if(!o.current||!e)return;const l=["p","br","strong","em","u","b","i","h1","h2","h3","h4","h5","h6","ul","ol","li","a","img","blockquote","pre","code","div","span","table","thead","tbody","tr","th","td","hr"],c=["href","src","alt","title","class","id","width","height","style","target","rel","colspan","rowspan","align"],d=hut.sanitize(e,{ALLOWED_TAGS:n||l,ALLOWED_ATTR:i||c,ALLOW_DATA_ATTR:!1,ALLOW_UNKNOWN_PROTOCOLS:!1,FORBID_TAGS:["script","iframe","object","embed","form","input","button"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur"],SAFE_FOR_TEMPLATES:!1,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i});o.current.innerHTML=d},[e,n,i]),s.jsx("div",{ref:o,className:t,dir:r,style:a})}const XF=()=>{try{return bp()}catch{return null}};function mut({props:e}){const[t,r]=f.useState([]),[a,n]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{n(!0);const c=((await qh.getStaffUsers(1,100)).data||[]).filter(d=>d.role==="STORE_MANAGER");r(c)}catch(o){console.error("Failed to load store managers:",o),r([])}finally{n(!1)}})()},[]),a?s.jsxs("div",{className:"py-16 px-8 text-center",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"   ..."})]}):t.length===0?s.jsxs("div",{className:"py-16 px-8 text-center",children:[s.jsx(mr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"     "})]}):s.jsxs("div",{className:"py-16 px-8",children:[e.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:e.title}),s.jsx("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>s.jsxs(je,{className:"text-center",children:[s.jsxs(et,{children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gi,{className:"h-8 w-8 text-primary"})}),s.jsx(at,{className:"text-lg",children:i.name||i.email})]}),s.jsxs(Ce,{className:"space-y-2",children:[s.jsx(Ze,{variant:"outline",className:"w-full justify-center",children:" "}),i.phone&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(Si,{className:"h-4 w-4"}),s.jsx("a",{href:`tel:${i.phone}`,className:"hover:text-primary",children:i.phone})]}),s.jsx("p",{className:"text-xs text-gray-500",children:i.email})]})]},i.id))})]})}function kw({section:e,onToggleTheme:t}){const{type:r,props:a}=e,n=a,[i,o]=f.useState([]),[l,c]=f.useState(!1),[d,u]=f.useState(!1),h=XF();h!=null&&h.addToCart,f.useEffect(()=>{r==="products"&&(async()=>{c(!0);try{const x=await he.getProducts({limit:n.limit||8,...n.categoryId&&n.categoryId!=="all"?{categoryId:n.categoryId}:{}});if(x&&typeof x=="object")if(Array.isArray(x)){const y=x.filter(w=>w!==null&&typeof w=="object"&&"id"in w&&!("error"in w)&&!("statusCode"in w));o(y)}else if("products"in x&&Array.isArray(x.products)){const w=x.products.filter(b=>b!==null&&typeof b=="object"&&"id"in b&&!("error"in b)&&!("statusCode"in b));o(w)}else!("error"in x)&&!("statusCode"in x)?o([x]):o([]);else o([])}catch(x){console.error("Failed to fetch products for section:",x),o([])}finally{c(!1)}})()},[r,n.limit,n.categoryId]);const m={animationName:n.animationType!=="none"?n.animationType:void 0,animationDuration:n.animationDuration?`${n.animationDuration}s`:void 0,animationFillMode:"both"},p=(()=>{switch(r){case"header":return s.jsxs("header",{className:"py-4 px-6 shadow-sm relative z-50",style:{backgroundColor:n.backgroundColor||"#ffffff",color:n.textColor||"#000000"},children:[s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.companyName,className:"h-10 w-auto object-contain"}):s.jsx("span",{className:"text-xl font-bold",children:n.companyName})}),s.jsx("nav",{className:"hidden md:flex items-center gap-6",children:(n.links||[]).map((g,x)=>s.jsx("a",{href:g.url,className:"hover:opacity-70 transition-opacity font-medium",style:{color:n.textColor},children:g.label},x))}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[n.showLanguageToggle&&s.jsx(z,{variant:"ghost",size:"icon",className:"rounded-full",children:s.jsx(Oa,{className:"w-5 h-5"})}),n.showThemeToggle&&s.jsxs(z,{variant:"ghost",size:"icon",className:"rounded-full",onClick:t,children:[s.jsx(Nu,{className:"w-5 h-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(_d,{className:"absolute w-5 h-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})]}),s.jsx("button",{className:"md:hidden p-2",onClick:()=>u(!d),children:d?s.jsx(hr,{className:"w-6 h-6"}):s.jsx(ym,{className:"w-6 h-6"})})]}),d&&s.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white dark:bg-gray-900 border-t p-4 shadow-lg",children:s.jsxs("nav",{className:"flex flex-col gap-4",children:[(n.links||[]).map((g,x)=>s.jsx("a",{href:g.url,className:"block py-2 font-medium",style:{color:n.textColor},children:g.label},x)),s.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t mt-2",children:[n.showLanguageToggle&&s.jsxs(z,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(Oa,{className:"w-4 h-4"})," Language"]}),n.showThemeToggle&&s.jsxs(z,{variant:"ghost",size:"sm",className:"gap-2",onClick:t,children:[s.jsx(_d,{className:"w-4 h-4"})," Theme"]})]})]})})]});case"hero":{const g=n.textAlign||"center",x=n.contentPosition||"center",y=n.minHeight||"400px",w=n.titleSize||48,b=n.subtitleSize||20,v=n.overlayOpacity||.3,N=n.buttonStyle||"primary",j={top:"items-start pt-20",center:"items-center",bottom:"items-end pb-20"},k={left:"text-left items-start",center:"text-center items-center",right:"text-right items-end"},S={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",outline:"border-2 border-white text-white hover:bg-white hover:text-gray-900",ghost:"text-white hover:bg-white/10"};return s.jsxs("div",{className:`relative flex ${j[x]} justify-center p-12 overflow-hidden`,style:{minHeight:y,backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff",backgroundImage:n.backgroundImage?`url(${n.backgroundImage})`:void 0,backgroundSize:"cover",backgroundPosition:"center",...m},children:[n.backgroundImage&&s.jsx("div",{className:"absolute inset-0 bg-black transition-opacity duration-300",style:{opacity:v}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-pink-600/20 to-blue-600/20 animate-gradient-shift"}),s.jsxs("div",{className:`relative max-w-4xl w-full flex flex-col ${k[g]} gap-6 z-10`,children:[n.title&&s.jsx("h1",{className:"font-bold leading-tight animate-fade-in-up",style:{fontSize:`${w}px`,animationDelay:"0.1s"},children:n.title}),n.subtitle&&s.jsx("p",{className:"leading-relaxed animate-fade-in-up",style:{fontSize:`${b}px`,animationDelay:"0.2s"},children:n.subtitle}),n.buttonText&&s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:s.jsx(z,{size:"lg",className:`${S[N]} transition-all duration-300 transform hover:scale-105 shadow-lg`,children:n.buttonText})})]}),s.jsx("div",{className:"absolute top-10 right-10 w-20 h-20 bg-white/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 bg-white/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("style",{children:`
              @keyframes fade-in-up {
                from {
                  opacity: 0;
                  transform: translateY(20px);
                }
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }
              @keyframes gradient-shift {
                0%, 100% { opacity: 0.5; }
                50% { opacity: 0.8; }
              }
              .animate-fade-in-up {
                animation: fade-in-up 0.6s ease-out forwards;
                opacity: 0;
              }
              .animate-gradient-shift {
                animation: gradient-shift 8s ease-in-out infinite;
              }
            `})]})}case"features":return s.jsxs("div",{className:"py-16 px-8",style:{backgroundColor:n.backgroundColor,color:n.textColor},children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-12 animate-fade-in",children:n.title}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>s.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${x*.1}s`},children:[s.jsxs("div",{className:"relative",children:[g.icon&&s.jsx("div",{className:"text-6xl mb-4 transform group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:g.icon}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/0 to-purple-500/0 group-hover:from-blue-500/20 group-hover:to-purple-500/20 rounded-full blur-2xl transition-all duration-300"})]}),g.title&&s.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:g.title}),g.description&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:g.description})]},x))})]});case"products":return s.jsxs("div",{className:"py-20 px-8 bg-[#0a0a0f] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[120px] animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-600/5 rounded-full blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[n.title&&s.jsxs("div",{className:"flex flex-col items-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight text-center",children:n.title}),s.jsx("div",{className:"h-1.5 w-24 bg-gradient-to-r from-primary to-purple-600 rounded-full shadow-[0_0_15px_rgba(var(--primary),0.5)]"})]}),l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-24 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ge,{className:"w-12 h-12 animate-spin text-primary"}),s.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/20 animate-pulse"})]}),s.jsx("p",{className:"text-white/40 font-medium tracking-widest uppercase text-xs",children:"  ..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-24 bg-white/5 rounded-3xl border border-white/10 backdrop-blur-sm",children:[s.jsx(Tt,{className:"w-16 h-16 mx-auto mb-4 text-white/20"}),s.jsx("p",{className:"text-white/60 text-lg font-medium",children:"    "})]}):s.jsxs("div",{className:`${n.layout==="carousel"?"relative":""}`,children:[s.jsx("div",{className:`${n.layout==="list"?"grid grid-cols-1 gap-8":n.layout==="carousel"?"flex overflow-x-auto gap-8 pb-8 snap-x snap-mandatory scroll-smooth scrollbar-hide":`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${n.columns||4} gap-8`}`,style:n.layout==="carousel"?{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}:{},children:i.map((g,x)=>s.jsx(Wdt,{product:g,index:x},g.id||x))}),n.layout==="carousel"&&i.length>(n.columns||4)&&s.jsx("div",{className:"flex justify-center gap-3 mt-10",children:Array.from({length:Math.ceil(i.length/(n.columns||4))}).map((g,x)=>s.jsx("div",{className:"w-10 h-1.5 rounded-full bg-white/10 hover:bg-primary/50 transition-all cursor-pointer"},x))})]})]}),s.jsx("style",{children:`
              .scrollbar-hide::-webkit-scrollbar {
                display: none;
              }
              .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
              }
            `})]});case"cta":return s.jsx("div",{className:"py-20 px-8 text-center",style:{backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff"},children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.title&&s.jsx("h2",{className:"text-4xl font-bold mb-4",children:String(n.title)}),n.description&&s.jsx("p",{className:"text-xl mb-8",children:String(n.description)}),n.buttonText&&s.jsx(z,{size:"lg",variant:"secondary",children:String(n.buttonText)})]})});case"text":return n.content&&(n.content.includes(" ")||n.content.includes("will appear here"))?null:s.jsx("div",{className:"py-12 px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto prose prose-lg dark:prose-invert",children:[n.title&&s.jsx("h2",{className:"text-2xl font-bold mb-4",children:n.title}),n.content&&s.jsx(cle,{html:n.content,className:"prose prose-lg dark:prose-invert max-w-none"})]})});case"image":return s.jsx("div",{className:"py-8",children:n.imageUrl&&s.jsx("img",{src:n.imageUrl,alt:n.alt||"",className:"w-full h-auto"})});case"footer":return s.jsx("footer",{className:"bg-gray-900 text-white py-12 px-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsx("div",{children:n.companyName&&s.jsx("h3",{className:"font-bold text-lg mb-4",children:n.companyName})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Links"}),s.jsx("ul",{className:"space-y-2",children:(n.links||[]).map((g,x)=>s.jsx("li",{children:s.jsx("a",{href:g.url,className:"hover:underline",children:g.label})},x))})]}),s.jsx("div",{children:s.jsx("h4",{className:"font-semibold mb-4",children:"Follow Us"})})]})});case"gallery":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:n.title}),s.jsx("div",{className:"grid gap-4 max-w-6xl mx-auto",style:{gridTemplateColumns:`repeat(${n.columns||3}, 1fr)`},children:(n.images||[]).map((g,x)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",children:s.jsx("img",{src:g,alt:`Gallery item ${x+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},x))})]});case"slider":return s.jsxs("div",{className:"py-8 px-4",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n.title}),s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(Vdt,{images:n.images||[],autoPlay:n.autoPlay!==!1,interval:n.interval||5e3,showDots:n.showDots!==!1,showArrows:n.showArrows!==!1,height:n.height||"500px",animationType:n.animationType||"slide"})}),n.description&&s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-4 max-w-2xl mx-auto",children:String(n.description)})]});case"content-slider":return s.jsxs("div",{className:"py-12 px-4",style:{backgroundColor:n.backgroundColor||"transparent"},children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n.title}),s.jsx(zdt,{items:n.items||[],direction:n.direction||"horizontal",speed:n.speed||20,pauseOnHover:n.pauseOnHover!==!1,itemWidth:n.itemWidth||"300px",itemHeight:n.itemHeight||"auto",gap:n.gap||"2rem",backgroundColor:n.sliderBackgroundColor||"transparent",textColor:n.textColor||"inherit"})]});case"testimonials":return s.jsxs("div",{className:"py-16 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:n.title}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:[s.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((y,w)=>s.jsx("span",{className:`text-lg ${w<(g.rating||5)?"text-yellow-400":"text-gray-300"}`,children:""},w))}),g.text&&s.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4 italic",children:['"',g.text,'"']}),s.jsxs("div",{className:"flex items-center gap-3",children:[g.image&&s.jsx("img",{src:g.image,alt:g.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[g.name&&s.jsx("p",{className:"font-semibold dark:text-white",children:g.name}),g.role&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:g.role})]})]})]},x))})]});case"pricing":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:(n.plans||[]).map((g,x)=>s.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-8 shadow-md ${g.highlighted?"ring-2 ring-blue-500 scale-105":""}`,children:[g.name&&s.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:g.name}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-bold dark:text-white",children:g.price}),g.currency&&s.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2",children:g.currency}),g.period&&s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["/",g.period]})]}),g.features&&s.jsx("ul",{className:"space-y-3 mb-6",children:g.features.map((y,w)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[s.jsx("span",{className:"text-green-500",children:""}),y]},w))}),s.jsx(z,{className:"w-full",variant:g.highlighted?"default":"outline",children:"Choose Plan"})]},x))})]});case"team":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:(n.members||[]).map((g,x)=>s.jsxs("div",{className:"text-center",children:[g.image&&s.jsx("img",{src:g.image,alt:g.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover"}),g.name&&s.jsx("h3",{className:"text-xl font-semibold mb-1 dark:text-white",children:g.name}),g.role&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:g.role}),g.bio&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:g.bio})]},x))})]});case"stats":return s.jsxs("div",{className:"py-16 px-8 bg-gray-900 text-white",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:n.title}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:(n.items||[]).map((g,x)=>s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold mb-2",children:[g.number,g.suffix]}),g.label&&s.jsx("p",{className:"text-gray-300",children:g.label})]},x))})]});case"merchant-dashboard":return s.jsx(fut,{props:n});case"product-list":return s.jsx(put,{props:n});case"store-page":return s.jsx(xut,{props:n});case"support-tickets":return s.jsx(Ddt,{props:n});case"favorites-page":return s.jsx(Odt,{props:n});case"balance-operations":return s.jsx(Idt,{props:n});case"employees-page":return s.jsx(Rdt,{props:n});case"charge-wallet":return s.jsx(Fdt,{props:n});case"reports-page":return s.jsx(Mdt,{props:n});case"profile-page":return s.jsx(Ldt,{props:n});case"bank-accounts":return s.jsx($dt,{props:n});case"permissions-page":return s.jsx(Udt,{});case"customer-orders":return s.jsx(Bdt,{props:n});case"store-managers":case"custom":return n.component==="StoreManagersList"||r==="store-managers"?s.jsx(mut,{props:n}):null;case"faq":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),s.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:(n.items||[]).map((g,x)=>s.jsxs("details",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:[s.jsx("summary",{className:"font-semibold cursor-pointer dark:text-white",children:g.question}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:g.answer})]},x))})]});case"newsletter":return s.jsx("div",{className:"py-16 px-8 text-center",style:{backgroundColor:n.backgroundColor||"#6366f1",color:n.textColor||"#fff"},children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold mb-4",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-lg mb-8",children:n.subtitle}),s.jsxs("div",{className:"flex gap-2 max-w-md mx-auto",children:[s.jsx("input",{type:"email",placeholder:String(n.placeholder||"Enter your email"),className:"flex-1 px-4 py-3 rounded-lg text-gray-900"}),s.jsx(z,{size:"lg",variant:"secondary",children:String(n.buttonText||"Subscribe")})]})]})});case"video":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-8 dark:text-white",children:n.title}),s.jsx("div",{className:"max-w-4xl mx-auto",children:n.videoUrl?s.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden",children:s.jsx("video",{src:String(n.videoUrl),controls:n.controls!==!1,autoPlay:n.autoPlay===!0,loop:n.loop===!0,poster:n.thumbnail?String(n.thumbnail):void 0,className:"w-full h-full",onPlay:g=>{const y=g.currentTarget.play();y!==void 0&&y.catch(()=>{})}})}):s.jsx("div",{className:"aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"No video URL provided"})})})]});case"countdown":return s.jsxs("div",{className:"py-16 px-8 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center",children:[n.title&&s.jsx("h2",{className:"text-4xl font-bold mb-4",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-xl mb-8",children:n.subtitle}),s.jsxs("div",{className:"flex justify-center gap-4 max-w-2xl mx-auto",children:[n.showDays&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[s.jsx("div",{className:"text-4xl font-bold",children:"00"}),s.jsx("div",{className:"text-sm",children:"Days"})]}),n.showHours&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[s.jsx("div",{className:"text-4xl font-bold",children:"00"}),s.jsx("div",{className:"text-sm",children:"Hours"})]}),n.showMinutes&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[s.jsx("div",{className:"text-4xl font-bold",children:"00"}),s.jsx("div",{className:"text-sm",children:"Minutes"})]}),n.showSeconds&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 min-w-[100px]",children:[s.jsx("div",{className:"text-4xl font-bold",children:"00"}),s.jsx("div",{className:"text-sm",children:"Seconds"})]})]})]});case"brands":return s.jsxs("div",{className:"py-16 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-12 dark:text-white",children:n.title}),s.jsx("div",{className:"grid gap-8 max-w-6xl mx-auto items-center",style:{gridTemplateColumns:`repeat(${n.columns||6}, 1fr)`},children:(n.logos||[]).map((g,x)=>s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:g,alt:`Brand ${x+1}`,className:`max-h-12 w-auto object-contain ${n.grayscale?"grayscale hover:grayscale-0":""} transition-all`})},x))})]});case"contact":return s.jsxs("div",{className:"py-16 px-8",children:[n.title&&s.jsx("h2",{className:"text-3xl font-bold text-center mb-4 dark:text-white",children:n.title}),n.subtitle&&s.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-12",children:n.subtitle}),s.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[n.email&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Email"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.email)})]}),n.phone&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Phone"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.phone)})]}),n.address&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Address"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:String(n.address)})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md",children:s.jsxs("form",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Name",className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),s.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),s.jsx("textarea",{placeholder:"Message",rows:4,className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),s.jsx(z,{className:"w-full",children:"Send Message"})]})})]})]});case"payments":return s.jsxs("div",{className:"py-12 px-8 bg-gray-50 dark:bg-gray-900",children:[n.title&&s.jsx("h2",{className:"text-2xl font-bold text-center mb-8 dark:text-white",children:n.title}),s.jsx("div",{className:"flex flex-wrap justify-center items-center gap-6 max-w-4xl mx-auto",children:(n.methods||["Visa","Mastercard","PayPal","Apple Pay"]).map((g,x)=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg px-6 py-3 shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:g})},x))})]});case"categories-hierarchy":return s.jsx(gut,{props:n});default:return console.warn(`Unknown section type: ${r}`),null}})();return s.jsxs("div",{style:m,children:[s.jsx("style",{children:`
          @keyframes fade { from { opacity: 0; } to { opacity: 1; } }
          @keyframes slide-up { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
          @keyframes slide-down { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
          @keyframes slide-left { from { transform: translateX(20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
          @keyframes slide-right { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
          @keyframes zoom { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
          @keyframes bounce { 
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 
            40% {transform: translateY(-20px);} 
            60% {transform: translateY(-10px);} 
          }
        `}),p]})}function fut({props:e}){const t=Kr(),[r,a]=f.useState(null),[n,i]=f.useState(!0),[o,l]=f.useState([]),[c,d]=f.useState([]);f.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[y,w]=await Promise.all([Q.fetch(`${Q.coreUrl}/merchant/dashboard/home`,{requireAuth:!0}).catch(()=>null),Q.fetch(`${Q.coreUrl}/merchant/orders?limit=10&status=PENDING`,{requireAuth:!0}).catch(()=>({items:[]}))]);if(y)a(y);else{const[b,v]=await Promise.all([Q.fetch(`${Q.coreUrl}/transactions/balance`,{requireAuth:!0}).catch(()=>({balance:0})),Q.fetch(`${Q.coreUrl}/dashboard/stats`,{requireAuth:!0}).catch(()=>({orderCount:0,revenue:0}))]);a({walletBalance:(b==null?void 0:b.balance)||0,currency:"SAR",todayOrdersCount:(v==null?void 0:v.orderCount)||0,todayProfit:0,pendingOrdersCount:0,totalOrderValue:(v==null?void 0:v.revenue)||0})}w!=null&&w.items&&l(w.items);try{const b=await Q.fetch(`${Q.coreUrl}/merchant/wallet/recharges?status=PENDING`,{requireAuth:!0}).catch(()=>({items:[]}));d((b==null?void 0:b.items)||[])}catch{d([])}}catch(y){console.error("Failed to load dashboard data:",y),a({walletBalance:0,currency:"SAR",todayOrdersCount:0,todayProfit:0,pendingOrdersCount:0,totalOrderValue:0})}finally{i(!1)}};if(n)return s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})});const h=(r==null?void 0:r.walletBalance)||0,m=(r==null?void 0:r.currency)||"SAR",p=(r==null?void 0:r.totalOrderValue)||(r==null?void 0:r.revenueTotal)||0,g=(r==null?void 0:r.todayOrdersCount)||(r==null?void 0:r.ordersCount)||0,x=[{icon:ca,label:" ",link:"/charge-wallet",color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{icon:Dr,label:" ",link:"/store",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{icon:dn,label:"",link:"/favorites",color:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400"},{icon:mr,label:" ",link:"/employees",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{icon:ua,label:" ",link:"/support",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:e.title||" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.subtitle||"    "})]}),s.jsxs(z,{onClick:u,variant:"outline",className:"gap-2 shadow-sm hover:shadow-md transition-all",children:[s.jsx(Xl,{className:"h-4 w-4"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(je,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:" "}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:h.toFixed(2)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m==="SAR"?" ":m==="USD"?" ":m})]}),s.jsx("div",{className:"p-4 bg-yellow-200 dark:bg-yellow-800/40 rounded-2xl shadow-inner",children:s.jsx(ca,{className:"h-8 w-8 text-yellow-700 dark:text-yellow-300"})})]})})}),s.jsx(je,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"  "}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:p.toFixed(2)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m==="SAR"?" ":m==="USD"?" ":m})]}),s.jsx("div",{className:"p-4 bg-blue-200 dark:bg-blue-800/40 rounded-2xl shadow-inner",children:s.jsx(pn,{className:"h-8 w-8 text-blue-700 dark:text-blue-300"})})]})})}),s.jsx(je,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:" "}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:g}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" "})]}),s.jsx("div",{className:"p-4 bg-green-200 dark:bg-green-800/40 rounded-2xl shadow-inner",children:s.jsx(Dr,{className:"h-8 w-8 text-green-700 dark:text-green-300"})})]})})})]}),s.jsxs(je,{className:"border-0 shadow-lg",children:[s.jsxs(et,{className:"pb-4",children:[s.jsx(at,{className:"text-xl font-semibold",children:" "}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"    "})]}),s.jsx(Ce,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:x.map((y,w)=>{const b=y.icon;return s.jsxs(z,{variant:"outline",className:"h-auto py-6 flex flex-col items-center gap-3 hover:shadow-lg hover:scale-105 transition-all duration-200 border-2 hover:border-primary/50",onClick:()=>t(y.link),children:[s.jsx("div",{className:`p-4 rounded-xl ${y.color} shadow-sm`,children:s.jsx(b,{className:"h-6 w-6"})}),s.jsx("span",{className:"text-sm font-semibold",children:y.label})]},w)})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(je,{className:"border-0 shadow-lg",children:[s.jsxs(et,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsxs("div",{children:[s.jsx(at,{className:"text-xl font-semibold",children:" "}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"  "})]}),o.length>0&&s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>t("/support"),className:"text-primary hover:text-primary/80",children:[" ",s.jsx(ta,{className:"h-4 w-4 mr-1"})]})]}),s.jsx(Ce,{children:o.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx(Ee,{className:"font-semibold",children:" "}),s.jsx(Ee,{className:"font-semibold",children:" "}),s.jsx(Ee,{className:"font-semibold",children:" "}),s.jsx(Ee,{className:"font-semibold",children:""})]})}),s.jsx(ss,{children:o.slice(0,5).map(y=>s.jsxs(jt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors",children:[s.jsx(ke,{className:"text-sm",children:new Date(y.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})}),s.jsxs(ke,{className:"font-medium",children:[" #",y.orderNumber]}),s.jsx(ke,{className:"font-mono text-xs",children:y.orderNumber}),s.jsx(ke,{children:s.jsx(Ze,{variant:y.status==="PENDING"?"secondary":"default",className:"font-medium",children:y.status==="PENDING"?"":y.status})})]},y.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[s.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:s.jsx(ua,{className:"h-8 w-8"})}),s.jsx("p",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm mt-1",children:"   "})]})})]}),s.jsxs(je,{className:"border-0 shadow-lg",children:[s.jsxs(et,{className:"flex flex-row items-center justify-between pb-4",children:[s.jsxs("div",{children:[s.jsx(at,{className:"text-xl font-semibold",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:" "})]}),c.length>0&&s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>t("/balance-operations"),className:"text-primary hover:text-primary/80",children:[" ",s.jsx(ta,{className:"h-4 w-4 mr-1"})]})]}),s.jsx(Ce,{children:c.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"bg-gray-50 dark:bg-gray-800/50",children:[s.jsx(Ee,{className:"font-semibold",children:""}),s.jsx(Ee,{className:"font-semibold",children:" "}),s.jsx(Ee,{className:"font-semibold",children:""}),s.jsx(Ee,{className:"font-semibold",children:""}),s.jsx(Ee,{className:"font-semibold",children:""})]})}),s.jsx(ss,{children:c.slice(0,5).map(y=>s.jsxs(jt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/30 transition-colors",children:[s.jsx(ke,{className:"text-sm",children:new Date(y.createdAt||y.date).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"})}),s.jsx(ke,{className:"font-mono text-xs",children:y.referenceId||y.id.slice(0,8)}),s.jsx(ke,{className:"text-sm",children:y.description||y.type||" "}),s.jsxs(ke,{className:"font-semibold",children:[Math.abs(y.amount||y.value||0).toFixed(2)," ",m]}),s.jsx(ke,{children:s.jsx(Ze,{variant:y.status==="PENDING"?"secondary":"default",className:"font-medium",children:y.status==="PENDING"?"":y.status==="COMPLETED"?"":y.status})})]},y.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[s.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:s.jsx(ca,{className:"h-8 w-8"})}),s.jsx("p",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm mt-1",children:"   "})]})})]})]})]})})}function put({props:e}){const[t,r]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState([]);f.useEffect(()=>{d()},[]),f.useEffect(()=>{if(i){const u=t.filter(h=>{var m,p,g;return((m=h.name)==null?void 0:m.toLowerCase().includes(i.toLowerCase()))||((p=h.nameAr)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))||((g=h.sku)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))});c(u)}else c(t)},[i,t]);const d=async()=>{try{n(!0);const u=await Q.fetch(`${Q.coreUrl}/merchant/products?limit=100`,{requireAuth:!0}).catch(()=>he.getProducts({limit:100})),h=(u==null?void 0:u.data)||(Array.isArray(u)?u:[]);r(h),c(h)}catch(u){console.error("Failed to load products:",u),r([]),c([])}finally{n(!1)}};return a?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "})}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"  ...",value:i,onChange:u=>o(u.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),s.jsx(Or,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),s.jsx(je,{className:"border-0 shadow-md",children:s.jsx(Ce,{className:"p-0",children:l.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"text-right",children:" "}),s.jsx(Ee,{className:"text-right",children:""}),s.jsx(Ee,{className:"text-right",children:" "}),s.jsx(Ee,{className:"text-right",children:" "}),s.jsx(Ee,{className:"text-right",children:" "}),s.jsx(Ee,{className:"text-right",children:"  "}),s.jsx(Ee,{className:"text-right",children:""}),s.jsx(Ee,{className:"text-right",children:"  "})]})}),s.jsx(ss,{children:l.map(u=>{var x,y;const h=u.wholesalePrice||u.costPerItem||0,m=u.price||u.retailPrice||0,p=h>0?((m-h)/h*100).toFixed(2):"0.00",g=u.currency||"SAR";return s.jsxs(jt,{children:[s.jsx(ke,{className:"font-mono text-sm",children:u.id.slice(0,8)}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[(()=>{var v;const w=(v=u.images)==null?void 0:v[0],b=typeof w=="object"&&(w==null?void 0:w.url)||(typeof w=="string"?w:"")||u.image||"";return b?s.jsx("img",{src:b,alt:u.name||"",className:"w-12 h-12 rounded object-cover"}):null})()||s.jsx("div",{className:"w-12 h-12 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(Tt,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.nameAr||u.name}),u.description&&s.jsxs("p",{className:"text-sm text-gray-500",children:[u.description.slice(0,50),"..."]})]})]})}),s.jsx(ke,{children:((x=u.brand)==null?void 0:x.name)||((y=u.brand)==null?void 0:y.nameAr)||"N/A"}),s.jsx(ke,{children:h.toFixed(6)}),s.jsxs(ke,{children:[p,"%"]}),s.jsx(ke,{children:m.toFixed(6)}),s.jsx(ke,{children:g==="SAR"?"":g==="USD"?"$":g}),s.jsx(ke,{children:m.toFixed(6)})]},u.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Tt,{className:"h-12 w-12 mb-4"}),s.jsx("p",{children:"  "})]})})})]})})}function xut({props:e}){const t=Kr(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),m=XF(),p=m==null?void 0:m.cart,g=p&&"items"in p&&Array.isArray(p.items)?p.items:p&&"cartItems"in p&&Array.isArray(p.cartItems)?p.cartItems:[];f.useEffect(()=>{console.log(" StorePageSection: Cart state updated",{hasCart:!!p,cartId:p==null?void 0:p.id,itemsCount:g.length,items:g.map(j=>{var k,S;return{id:j.id,productId:j.productId,productName:((k=j.product)==null?void 0:k.name)||((S=j.product)==null?void 0:S.nameAr)||"Unknown",hasProduct:!!j.product,quantity:j.quantity}})}),m!=null&&m.refreshCart&&m.refreshCart().catch(console.error)},[m,p==null?void 0:p.id,g.length]),f.useEffect(()=>{x()},[]);const x=async()=>{try{l(!0);const[j,k]=await Promise.all([Q.fetch(`${Q.coreUrl}/brands`,{requireAuth:!1}).catch(()=>[]),he.getCategories().catch(()=>[])]);a(Array.isArray(j)?j:[]),i(Array.isArray(k)?k:[])}catch(j){console.error("Failed to load store data:",j),a([]),i([])}finally{l(!1)}},y=async j=>{if(!m||!("removeItem"in m)){dr({title:"",description:"   ",variant:"destructive"});return}try{await m.removeItem(j),dr({title:" ",description:"    ",variant:"default"})}catch(k){console.error("Failed to remove from cart:",k),dr({title:"",description:"    ",variant:"destructive"})}},w=async(j,k)=>{if(!(!m||!("updateQuantity"in m)))try{await m.updateQuantity(j,k)}catch(S){console.error("Failed to update quantity:",S),dr({title:"",description:"  ",variant:"destructive"})}},b=r.filter(j=>{var S,C;return!c||((S=j.name)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||((C=j.nameAr)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}),v=g.reduce((j,k)=>{var A,E;const S=Number(((A=k.productVariant)==null?void 0:A.price)??((E=k.product)==null?void 0:E.price)??0),C=Number(k.quantity??0);return j+S*C},0),N=g.reduce((j,k)=>j+Number(k.quantity??0),0);return o?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-3",children:"  "}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"    "})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",placeholder:"      ...",value:c,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 pr-12 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white"}),s.jsx(Or,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"px-4 py-3 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[s.jsx("option",{value:"all",children:" "}),n.map(j=>s.jsx("option",{value:j.id,children:j.nameAr||j.name},j.id))]})]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.length,"  "]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:b.map(j=>{var k,S;return s.jsx(je,{className:"cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 border-0 shadow-lg group overflow-hidden",onClick:()=>t(`/products?brandId=${j.id}`),children:s.jsxs(Ce,{className:"p-0",children:[s.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:j.logo?s.jsx("img",{src:j.logo,alt:j.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Vs,{className:"h-16 w-16 text-gray-400"})})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.nameAr||j.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:((k=j.category)==null?void 0:k.nameAr)||((S=j.category)==null?void 0:S.name)||" "})]})]})},j.id)})}),b.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vs,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"   "})]})]})}),s.jsxs("div",{className:"w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-xl",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Number(N)," "]})]}),s.jsx("div",{className:"p-6",children:g.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-6 max-h-[55vh] overflow-y-auto",children:g.map(j=>{var P,T,_,O,F,I;if(!j.product)return console.error(" Cart item missing product:",j),null;const k=((P=j.product)==null?void 0:P.nameAr)||((T=j.product)==null?void 0:T.name)||"  ",S=Number(((_=j.productVariant)==null?void 0:_.price)??((O=j.product)==null?void 0:O.price)??0),C=Number(j.quantity??0),A=S*C,E=(I=(F=j.product)==null?void 0:F.images)==null?void 0:I[0],D=typeof E=="object"&&(E==null?void 0:E.url)||(typeof E=="string"?E:null);return s.jsxs("div",{className:"flex gap-3 p-4 border-2 border-gray-200 dark:border-gray-700 rounded-xl hover:border-primary/50 transition-colors bg-gray-50 dark:bg-gray-800/50",children:[D&&s.jsx("img",{src:D,alt:k,className:"w-20 h-20 rounded-lg object-cover shadow-sm",onError:R=>{console.error("Failed to load product image:",D),R.target.style.display="none"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-white mb-1 truncate",title:k,children:k}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>w(j.id,Math.max(1,C-1)),className:"p-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:s.jsx(sm,{className:"h-3 w-3"})}),s.jsxs("span",{className:"text-xs text-gray-500",children:[": ",C]}),s.jsx("button",{onClick:()=>w(j.id,C+1),className:"p-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:s.jsx(Gt,{className:"h-3 w-3"})})]}),s.jsxs("p",{className:"text-sm font-bold text-primary",children:[A.toFixed(2)," ."]})]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>y(j.id||""),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 shrink-0",children:s.jsx(hr,{className:"h-4 w-4"})})]},j.id)}).filter(j=>j!==null)}),s.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-700 pt-6 space-y-4 sticky bottom-0 bg-white dark:bg-gray-900",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:" "}),s.jsx("span",{className:"font-bold text-lg",children:Number(N)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-900 dark:text-white font-bold text-lg",children:""}),s.jsxs("span",{className:"text-primary font-bold text-xl",children:[Number(v).toFixed(2)," ."]})]}),s.jsxs(z,{className:"w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-semibold py-6 text-lg shadow-lg hover:shadow-xl transition-all",onClick:()=>t("/cart"),children:[s.jsx(Dr,{className:"ml-2 h-5 w-5"})," "]})]})]}):s.jsxs("div",{className:"text-center py-16 text-gray-400",children:[s.jsx("div",{className:"p-6 bg-gray-100 dark:bg-gray-800 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Dr,{className:"h-12 w-12"})}),s.jsx("p",{className:"font-medium text-lg mb-2",children:" "}),s.jsx("p",{className:"text-sm",children:"    "})]})})]})]})})}function gut({props:e}){const t=Kr(),[r,a]=f.useState([]),[n,i]=f.useState({}),[o,l]=f.useState({}),[c,d]=f.useState(new Set),[u,h]=f.useState(new Set),[m,p]=f.useState(!0),[g,x]=f.useState(null),[y,w]=f.useState(null),b=async()=>{try{p(!0);const S=await he.getCategories(),C=Array.isArray(S)?S:(S==null?void 0:S.categories)||[],A=C.filter(T=>!T.parentId||T.parentId===null);a(A);const E={};C.forEach(T=>{T.parentId&&(E[T.parentId]||(E[T.parentId]=[]),E[T.parentId].push(T))}),i(E);const D={},P=C.map(T=>T.id);for(const T of P)try{const _=await he.getProducts({categoryId:T,limit:e.productsPerCategory||12}),O=Array.isArray(_)?_:(_==null?void 0:_.products)||[];D[T]=O}catch(_){console.error(`Failed to load products for category ${T}:`,_),D[T]=[]}l(D)}catch(S){console.error("Failed to load categories:",S),a([])}finally{p(!1)}};f.useEffect(()=>{b()},[e.productsPerCategory]);const v=S=>{const C=new Set(c);C.has(S)?(C.delete(S),x(null)):(C.add(S),x(S)),d(C),h(new Set)},N=S=>{const C=new Set(u);C.has(S)?(C.delete(S),w(null)):(C.add(S),w(S)),h(C)},j=XF(),k=(j==null?void 0:j.addToCart)||null;return m?s.jsx("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-3",children:e.title||" "}),e.subtitle&&s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e.subtitle})]}),r.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]}):s.jsx("div",{className:"space-y-6",children:r.map(S=>{const C=n[S.id]||[],A=o[S.id]||[],E=c.has(S.id),D=C.length>0,P=A.length>0;return s.jsxs(je,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[s.jsx(et,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>v(S.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.image&&s.jsx("img",{src:S.image,alt:S.nameAr||S.name,className:"w-16 h-16 rounded-lg object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(at,{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:S.nameAr||S.name}),S.descriptionAr||S.description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:S.descriptionAr||S.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[D&&s.jsxs(Ze,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[C.length,"  "]}),P&&s.jsxs(Ze,{variant:"secondary",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[A.length," "]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:(D||P)&&s.jsx(z,{variant:"ghost",size:"icon",children:E?s.jsx(zi,{className:"h-5 w-5"}):s.jsx(ta,{className:"h-5 w-5"})})})]})}),E&&s.jsxs(Ce,{className:"pt-0 pb-6",children:[D&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(vi,{className:"h-5 w-5"})," "]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(T=>{const _=o[T.id]||[],O=u.has(T.id);return s.jsx(je,{className:"border-2 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>N(T.id),children:s.jsxs(Ce,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:T.nameAr||T.name}),_.length>0&&s.jsx(Ze,{variant:"secondary",className:"text-xs",children:_.length})]}),O&&_.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.slice(0,4).map(F=>s.jsxs("div",{className:"text-xs p-2 bg-gray-50 dark:bg-gray-800 rounded hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:I=>{I.stopPropagation(),t(`/products/${F.id}`)},children:[s.jsx("p",{className:"font-medium truncate",children:F.nameAr||F.name}),s.jsxs("p",{className:"text-primary font-bold",children:["$",Number(F.price??0).toFixed(2)]})]},F.id))}),_.length>4&&s.jsxs(z,{variant:"link",size:"sm",className:"mt-2 w-full",onClick:F=>{F.stopPropagation(),t(`/collections/${T.slug||T.id}`)},children:["   (",_.length,")"]})]})]})},T.id)})})]}),P&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5"}),""]}),s.jsx("div",{className:`grid gap-6 ${e.productsLayout==="list"||e.productsLayout==="carousel"?"grid-cols-1":`grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-${e.productsColumns||4}`}`,children:A.map(T=>{var M;const _=String((T==null?void 0:T.name)||""),O=String((T==null?void 0:T.nameAr)||_),F=(M=T==null?void 0:T.images)==null?void 0:M[0],I=typeof F=="object"&&(F==null?void 0:F.url)||(typeof F=="string"?F:"")||(T==null?void 0:T.image)||"",R=Number((T==null?void 0:T.price)||0),L=T!=null&&T.compareAtPrice?Number(T.compareAtPrice):null,H=L&&L>R,W=Number((T==null?void 0:T.inventoryQuantity)||0);return s.jsxs(je,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 group cursor-pointer overflow-hidden",onClick:()=>t(`/products/${T.id}`),children:[I&&s.jsxs("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:[s.jsx("img",{src:String(I),alt:O,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),H&&L&&s.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:[Math.round((1-R/L)*100),"% OFF"]}),W<=0&&s.jsx("div",{className:"absolute top-3 right-3 bg-gray-800 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" "})]}),s.jsxs(Ce,{className:"p-5",children:[s.jsx("h4",{className:"font-bold text-lg mb-2 truncate dark:text-white group-hover:text-primary transition-colors",children:O}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",R.toFixed(2)]}),H&&s.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["$",L.toFixed(2)]})]}),e.showAddToCart!==!1&&k&&W>0&&s.jsxs(z,{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold",size:"sm",onClick:async G=>{G.stopPropagation();try{await k(T.id,1),dr({title:" ",description:`  ${O}  `})}catch(V){console.error("Failed to add to cart:",V)}},children:[s.jsx(Dr,{className:"h-4 w-4 mr-2"}),"  "]})]})]},T.id)})})]}),!D&&!P&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:s.jsx("p",{children:"        "})})]})]},S.id)})})]})})}const Rp=()=>{const[e,t]=f.useState(null),[r,a]=f.useState(""),n=nC();f.useEffect(()=>{(async()=>{var c,d;if(!n)try{const u=await he.get("/site-config",{requireAuth:!1});(c=u==null?void 0:u.settings)!=null&&c.storeLogoUrl&&t(u.settings.storeLogoUrl),(d=u==null?void 0:u.settings)!=null&&d.storeName&&a(u.settings.storeName)}catch{console.warn("Loading screen: Could not fetch store logo, using default.")}})()},[n]);const i=e||Ho(),o=r||Hn;return s.jsx("div",{className:"fixed inset-0 z-[9999] bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-full gradient-primary blur-3xl opacity-30 animate-pulse"}),s.jsx("div",{className:"relative w-28 h-28 mx-auto rounded-2xl overflow-hidden bg-card border border-border shadow-2xl animate-float flex items-center justify-center",children:s.jsx("img",{src:i,alt:o,className:"max-w-[80%] max-h-[80%] object-contain p-2"})})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ge,{className:"w-6 h-6 animate-spin text-primary"}),s.jsx("span",{className:"text-lg font-medium text-foreground",children:n?" ...":"  ..."})]}),s.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(l=>s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-bounce",style:{animationDelay:`${l*150}ms`}},l))})]})]})})};function dle(){var k;const{t:e}=Ct(),{settings:t}=Sm(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(!0),[g,x]=f.useState(0),[y,w]=f.useState(null),[b,v]=f.useState(null);f.useEffect(()=>{j();const S=localStorage.getItem("customerToken"),C=localStorage.getItem("customerData");S&&C&&(w(JSON.parse(C)),N());const A=()=>{j()};return window.addEventListener("productsUpdated",A),()=>{window.removeEventListener("productsUpdated",A)}},[]);const N=async()=>{try{const S=await Ns.getBalance();x(Number(S.balance)||0)}catch{}},j=async()=>{try{try{const R=await he.getPageBySlug("home");R&&R.isPublished&&h(R)}catch(R){const L=R;L!=null&&L.status&&L.status}const[S,C,A,E,D]=await Promise.all([he.getProducts({limit:1e3}),he.getPages(),he.getCategories().catch(()=>[]),he.getBrands().catch(()=>[]),he.get("/site-config").catch(()=>null)]);D&&v(D);const P=Array.isArray(C)?C.filter(R=>R&&typeof R=="object"&&!("error"in R)&&R.isPublished):[];let T=[];if(S&&typeof S=="object"&&!("error"in S)&&!("statusCode"in S))if(Array.isArray(S))T=S.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R));else{const R=S;R.data&&Array.isArray(R.data)?T=R.data.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)):R.products&&Array.isArray(R.products)&&(T=R.products.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)))}const _=T.map(R=>{let L=[];R.categories&&Array.isArray(R.categories)&&(L=R.categories.map(W=>{var M;return typeof W=="string"?{categoryId:W}:{categoryId:W.categoryId||W.id||((M=W.category)==null?void 0:M.id),category:W.category,id:W.id}}));let H=[];return R.images&&Array.isArray(R.images)&&(H=R.images.map(W=>typeof W=="string"?{url:W,id:W}:{url:W.url,id:W.id,altText:W.altText})),{...R,name:R.name||R.title||R.productName||"",nameAr:R.nameAr||R.titleAr||R.productNameAr||"",images:H,price:Number(R.price)||Number(R.cost)||0,compareAtPrice:R.compareAtPrice?Number(R.compareAtPrice):void 0,isAvailable:R.isAvailable!==!1&&R.isAvailable!==void 0,isPublished:R.isPublished!==!1&&R.isPublished!==void 0}}).filter(R=>R.isAvailable&&R.isPublished).slice(0,8);let O=[];if(A&&typeof A=="object"&&!("error"in A)&&!("statusCode"in A))if(Array.isArray(A))O=A.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R));else{const R=A;R.categories&&Array.isArray(R.categories)&&(O=R.categories.filter(L=>L&&typeof L=="object"&&L.id&&!("error"in L)&&!("statusCode"in L)))}const F=O.filter(R=>!R.parentId);let I=[];E&&typeof E=="object"&&!("error"in E)&&!("statusCode"in E)&&Array.isArray(E)&&(I=E.filter(R=>R&&typeof R=="object"&&R.id&&!("error"in R)&&!("statusCode"in R))),a(_),d(P),i(F.slice(0,6)),l(I.slice(0,8))}catch{a([]),d([]),i([]),l([])}finally{p(!1)}};return m?s.jsx(Rp,{}):t!=null&&t.maintenanceMode?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsxs("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:[t.storeName||"","  "]}),s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"   .  !"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:t.storeDescription||"  .       ."})]})}):u&&u.content&&Array.isArray(u.content.sections)?s.jsx("div",{className:"min-h-screen bg-background",children:u.content.sections.map(S=>s.jsx(kw,{section:S},S.id))}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 gradient-primary"}),s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),s.jsx("div",{className:"absolute top-20 right-20 w-96 h-96 rounded-full bg-white/10 blur-3xl animate-blob"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 rounded-full bg-white/10 blur-3xl animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-white/5 blur-3xl animate-pulse-slow"}),s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((S,C)=>s.jsx("div",{className:"absolute w-2 h-2 rounded-full bg-white/30",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float ${5+Math.random()*5}s ease-in-out infinite`,animationDelay:`${Math.random()*5}s`}},C))}),s.jsx("div",{className:"container relative py-24 md:py-36",children:s.jsx("div",{className:"mx-auto max-w-4xl text-center",children:(c.length>0||r.length>0)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/15 backdrop-blur-sm border border-white/20 mb-8 animate-slide-down",children:[s.jsx(ds,{className:"w-4 h-4 text-warning"}),s.jsx("span",{className:"text-white/90 text-sm font-medium",children:"   "})]}),y&&((k=b==null?void 0:b.settings)==null?void 0:k.storeType)==="DIGITAL_CARDS"&&s.jsx("div",{className:"mb-6 animate-slide-down animation-delay-100",children:s.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2.5 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 shadow-lg",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/20 text-white",children:s.jsx(ca,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-white/70 font-medium",children:" "}),s.jsxs("p",{className:"text-xl font-bold text-white tracking-tight",children:[g.toFixed(2)," ",s.jsx("span",{className:"text-sm font-normal opacity-80",children:""})]})]})]})}),s.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-heading font-bold tracking-tight mb-6 text-white leading-tight animate-slide-up",children:["  ",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-white via-white/90 to-white/70 bg-clip-text text-transparent",children:" "})]}),s.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-10 max-w-2xl mx-auto animate-slide-up animation-delay-200",children:"        "}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up animation-delay-400",children:[r.length>0&&s.jsx(Qe,{to:"/products",children:s.jsxs(z,{size:"lg",className:"bg-white text-primary hover:bg-white/90 shadow-2xl h-14 px-8 text-lg font-semibold rounded-xl group",children:[s.jsx(zo,{className:"ml-2 h-5 w-5 group-hover:animate-wiggle"})," ",s.jsx(Ms,{className:"mr-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),c.length>0&&s.jsx(Qe,{to:`/${c[0].slug}`,children:s.jsxs(z,{size:"lg",variant:"outline",className:"border-2 border-white/50 bg-transparent text-white hover:bg-white/10 h-14 px-8 text-lg font-semibold rounded-xl backdrop-blur-sm",children:[s.jsx(ua,{className:"ml-2 h-5 w-5"})," "]})})]}),s.jsx("div",{className:"mt-16 grid grid-cols-3 gap-8 max-w-xl mx-auto animate-slide-up animation-delay-500",children:[{label:"",value:r.length+"+",icon:Tt},{label:"",value:n.length+"+",icon:vi},{label:" ",value:o.length+"+",icon:am}].map((S,C)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:S.value}),s.jsxs("div",{className:"text-sm text-white/70 flex items-center justify-center gap-1",children:[s.jsx(S.icon,{className:"w-3.5 h-3.5"}),S.label]})]},C))})]})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",className:"w-full h-auto",children:s.jsx("path",{d:"M0,60 C480,120 960,0 1440,60 L1440,120 L0,120 Z",className:"fill-background"})})})]}),s.jsxs("div",{className:"container py-20 space-y-24",children:[o.length>0&&s.jsxs("section",{className:"animate-slide-up",children:[s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl gradient-primary shadow-glow",children:s.jsx(am,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text",children:" "}),s.jsx(Ze,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-primary/30 text-primary",children:o.length})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"     "})]}),s.jsx(Qe,{to:"/categories",children:s.jsxs(z,{variant:"outline",size:"lg",className:"border-2 hidden sm:flex rounded-xl hover:bg-primary/5 group",children:[" ",s.jsx(ta,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:o.map((S,C)=>s.jsx(Qe,{to:`/products?brandId=${S.id}`,className:"animate-scale-in",style:{animationDelay:`${C*50}ms`},children:s.jsx(je,{className:"px-5 py-3 hover:shadow-lg hover:border-primary/50 hover:-translate-y-1 transition-all duration-300 cursor-pointer group rounded-xl",children:s.jsxs("span",{className:"font-semibold text-base group-hover:text-primary transition-colors inline-flex items-center gap-2",children:[S.name,S.nameAr&&S.nameAr!==S.name&&s.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",S.nameAr,")"]}),s.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})})},S.id))})]}),n.length>0&&s.jsxs("section",{className:"animate-slide-up animation-delay-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl gradient-secondary shadow-glow-secondary",children:s.jsx(vi,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text-secondary",children:""}),s.jsx(Ze,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-secondary/30 text-secondary",children:n.length})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]}),s.jsx(Qe,{to:"/categories",children:s.jsxs(z,{variant:"outline",size:"lg",className:"border-2 hidden sm:flex rounded-xl hover:bg-secondary/5 group",children:[" ",s.jsx(ta,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map((S,C)=>s.jsx(Qe,{to:`/categories/${S.id}`,className:"animate-scale-in",style:{animationDelay:`${C*75}ms`},children:s.jsx(je,{className:"h-full overflow-hidden group cursor-pointer rounded-2xl border-2 border-border/50 hover:border-secondary/50 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"w-28 h-28 relative overflow-hidden bg-gradient-mesh flex items-center justify-center shrink-0",children:[s.jsx("div",{className:"absolute inset-0 gradient-secondary opacity-0 group-hover:opacity-20 transition-opacity duration-500"}),S.image?s.jsx(d0,{src:S.image,alt:S.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):s.jsx(vi,{className:"h-12 w-12 text-secondary/40 group-hover:text-secondary group-hover:scale-110 transition-all duration-300"})]}),s.jsxs(Ce,{className:"flex-1 p-5 flex flex-col justify-center",children:[s.jsxs(at,{className:"text-lg group-hover:text-secondary transition-colors flex items-center gap-2",children:[S.name,s.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),S.description&&s.jsx(Vt,{className:"line-clamp-2 mt-1",children:S.description})]})]})})},S.id))})]}),c.length>0&&s.jsxs("section",{className:"animate-slide-up animation-delay-400",children:[s.jsx("div",{className:"flex items-center justify-between mb-10",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl gradient-accent shadow-glow-accent",children:s.jsx(ua,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold",children:s.jsx("span",{className:"bg-gradient-to-r from-accent via-primary to-secondary bg-clip-text text-transparent",children:""})}),s.jsxs(Ze,{variant:"outline",className:"text-sm px-3 py-1 rounded-full border-accent/30 text-accent",children:[c.length," ",c.length===1?"":c.length===2?"":""]})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map((S,C)=>s.jsx(Qe,{to:`/${S.slug}`,className:"animate-scale-in",style:{animationDelay:`${C*75}ms`},children:s.jsxs(je,{className:"h-full group cursor-pointer rounded-2xl border-2 border-border/50 hover:border-accent/50 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2",children:[s.jsxs(et,{children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"p-3.5 rounded-xl bg-accent/10 group-hover:bg-accent/20 group-hover:scale-110 transition-all duration-300",children:s.jsx(ua,{className:"h-6 w-6 text-accent"})}),s.jsxs(Ze,{variant:"outline",className:"text-xs border-border/50 text-muted-foreground",children:[s.jsx(ji,{className:"h-3 w-3 ml-1"}),new Date(S.createdAt).toLocaleDateString("ar-SA")]})]}),s.jsxs(at,{className:"text-xl group-hover:text-accent transition-colors flex items-center gap-2",children:[S.title,s.jsx(Ms,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground font-mono bg-muted/50 px-2 py-1 rounded-md",children:["/",S.slug]}),s.jsxs(z,{variant:"ghost",size:"sm",className:"group-hover:bg-accent/10 rounded-lg",children:[s.jsx(fr,{className:"h-4 w-4 ml-2"}),""]})]})})]})},S.id))})]}),r.length>0&&s.jsxs("section",{className:"animate-slide-up animation-delay-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-r from-success to-primary shadow-lg",children:s.jsx(zo,{className:"h-5 w-5 text-white"})}),s.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold gradient-text",children:" "}),s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-warning/10 text-warning text-sm font-medium",children:[s.jsx(Wo,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:" "})]})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"  "})]}),s.jsx(Qe,{to:"/products",children:s.jsxs(z,{variant:"outline",size:"lg",className:"border-2 rounded-xl hover:bg-primary/5 group",children:[" ",s.jsx(ta,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((S,C)=>s.jsx(Ej,{product:S,index:C},S.id))})]}),c.length===0&&r.length===0&&s.jsx("section",{className:"py-20 animate-fade-in",children:s.jsx(je,{className:"shadow-2xl rounded-3xl border-2 border-dashed border-border",children:s.jsxs(Ce,{className:"py-20 text-center",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),s.jsx("div",{className:"relative p-6 rounded-full bg-muted/50",children:s.jsx(Tt,{className:"h-20 w-20 text-muted-foreground/30"})})]}),s.jsx("h3",{className:"text-2xl font-heading font-bold mb-3",children:e("common.noContentYet")}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:e("common.noContentDescription")}),s.jsxs(z,{size:"lg",className:"gradient-primary text-white rounded-xl hover:shadow-glow transition-shadow",children:[s.jsx(ds,{className:"ml-2 h-5 w-5"}),e("common.exploreMore")]})]})})})]}),s.jsxs("section",{className:"relative overflow-hidden py-20",children:[s.jsx("div",{className:"absolute inset-0 gradient-mesh"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-secondary/5"})]})]})}function ule(){const{t:e}=Ct(),[t,r]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState("newest"),[d,u]=f.useState("grid"),[h,m]=f.useState([0,1e4]),[p,g]=f.useState([]),[x,y]=f.useState([]),[w,b]=f.useState(!1),[v,N]=f.useState(1),[j,k]=f.useState(12);f.useEffect(()=>{S(),C();const _=()=>{S(),C()};return window.addEventListener("productsUpdated",_),()=>{window.removeEventListener("productsUpdated",_)}},[]),f.useEffect(()=>{N(1)},[i,h,p]);const S=async()=>{try{console.log(" [Storefront Products] Loading all products");const _=await he.getProducts({limit:1e3});console.log(" [Storefront Products] Products response:",_);const O=Array.isArray(_)?_:(_==null?void 0:_.data)||(_==null?void 0:_.products)||[];console.log(" [Storefront Products] Raw products:",O.length,"products");const F=O.map(I=>{let R=[];return I.categories&&Array.isArray(I.categories)&&(R=I.categories.map(L=>{var H;return typeof L=="string"?{categoryId:L}:{categoryId:L.categoryId||L.id||((H=L.category)==null?void 0:H.id),category:L.category,id:L.id}})),{...I,categories:R,price:Number(I.price)||0,compareAtPrice:I.compareAtPrice?Number(I.compareAtPrice):void 0,isAvailable:I.isAvailable!==!1&&I.isAvailable!==void 0,isPublished:I.isPublished!==!1&&I.isPublished!==void 0}}).filter(I=>I.isAvailable&&I.isPublished);console.log(" [Storefront Products] Valid products (available & published):",F.length,"products"),r(F)}catch(_){console.error(" [Storefront Products] Failed to load products:",_),r([])}finally{n(!1)}},C=async()=>{try{console.log(" [Storefront Products] Loading categories");const _=await he.getCategories();console.log(" [Storefront Products] Categories response:",_);let O=[];Array.isArray(_)?O=_:_&&typeof _=="object"&&"categories"in _&&(O=Array.isArray(_.categories)?_.categories:[]),console.log(" [Storefront Products] Categories list:",O.length,"categories"),y(O)}catch(_){console.error(" [Storefront Products] Failed to load categories:",_),y([])}};if(a)return s.jsx(Rp,{});let A=t.filter(_=>{var R;const O=!i||((R=_.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase())),F=_.price>=h[0]&&_.price<=h[1];let I=!0;return p.length>0&&(I=(_.categories||[]).some(W=>{var G;const M=W.categoryId||W.id||((G=W.category)==null?void 0:G.id);return p.includes(M)})||_.categoryId&&p.includes(_.categoryId)),O&&F&&I});A=[...A].sort((_,O)=>{switch(l){case"price-asc":return(_.price||0)-(O.price||0);case"price-desc":return(O.price||0)-(_.price||0);case"name-asc":return(_.name||"").localeCompare(O.name||"");case"name-desc":return(O.name||"").localeCompare(_.name||"");default:return 0}});const E=A.length,D=Math.ceil(E/j),P=A.slice((v-1)*j,v*j),T=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg gradient-primary",children:s.jsx(wu,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"gradient-text",children:e("storefront.products.categories")})]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(x)&&x.length>0?x.map((_,O)=>s.jsxs("div",{className:"flex items-center justify-between group animate-slide-up",style:{animationDelay:`${O*50}ms`},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ki,{id:_.id,checked:p.includes(_.id),onCheckedChange:F=>{g(F?[...p,_.id]:p.filter(I=>I!==_.id))},className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),s.jsx(X,{htmlFor:_.id,className:"cursor-pointer group-hover:text-primary transition-colors font-medium",children:_.name})]}),_.count!==void 0&&s.jsx(Ze,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:_.count})]},_.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:e("storefront.products.noCategories","  ")})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg gradient-secondary",children:s.jsx(Wo,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"gradient-text-secondary",children:e("storefront.products.priceRange")})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{className:"text-xs text-muted-foreground mb-1 block",children:e("storefront.products.from")}),s.jsx(me,{type:"number",placeholder:"0",value:h[0],onChange:_=>m([Number(_.target.value),h[1]]),className:"border-2 focus:border-primary/50 rounded-xl"})]}),s.jsx("span",{className:"text-muted-foreground font-bold mt-5",children:"-"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{className:"text-xs text-muted-foreground mb-1 block",children:e("storefront.products.to")}),s.jsx(me,{type:"number",placeholder:"10000",value:h[1],onChange:_=>m([h[0],Number(_.target.value)]),className:"border-2 focus:border-primary/50 rounded-xl"})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"px-2 py-1 rounded-lg bg-primary/10 text-primary font-semibold",children:[h[0]," ",e("common.currency")]}),s.jsx(Ms,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"px-2 py-1 rounded-lg bg-secondary/10 text-secondary font-semibold",children:[h[1]," ",e("common.currency")]})]})]})]}),(p.length>0||h[0]>0||h[1]<1e4)&&s.jsxs(z,{variant:"outline",className:"w-full rounded-xl border-2 border-destructive/50 text-destructive hover:bg-destructive/10 hover:border-destructive transition-all",onClick:()=>{g([]),m([0,1e4])},children:[s.jsx(hr,{className:"ml-2 h-4 w-4"}),e("storefront.products.clearFilters")]})]});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),s.jsxs("div",{className:"container relative py-12",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4 animate-fade-in",children:[s.jsx("span",{children:e("storefront.products.home")}),s.jsx(Ms,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground font-medium",children:e("storefront.products.title")})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-2 animate-slide-up",children:[s.jsx("div",{className:"p-3 rounded-xl gradient-primary shadow-glow",children:s.jsx(Tt,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold gradient-text",children:e("storefront.products.title")})]}),s.jsx("p",{className:"text-muted-foreground text-lg animate-slide-up animation-delay-200",children:e("storefront.products.subtitle")})]})]}),s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-8 flex flex-col lg:flex-row gap-4 animate-slide-up animation-delay-400",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Or,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(me,{placeholder:e("storefront.products.searchPlaceholder"),value:i,onChange:_=>o(_.target.value),className:"pr-12 h-14 border-2 border-border/50 focus:border-primary/50 rounded-xl shadow-sm text-lg bg-card"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(nr,{value:l,onValueChange:c,children:[s.jsx(Jt,{className:"w-[200px] h-14 border-2 border-border/50 rounded-xl shadow-sm bg-card",children:s.jsx(cr,{placeholder:e("storefront.products.sortBy")})}),s.jsxs(Zt,{className:"rounded-xl",children:[s.jsx(Oe,{value:"newest",children:e("storefront.products.newest")}),s.jsx(Oe,{value:"price-asc",children:e("storefront.products.priceAsc")}),s.jsx(Oe,{value:"price-desc",children:e("storefront.products.priceDesc")}),s.jsx(Oe,{value:"name-asc",children:e("storefront.products.nameAsc")}),s.jsx(Oe,{value:"name-desc",children:e("storefront.products.nameDesc")})]})]}),s.jsxs("div",{className:"hidden md:flex border-2 border-border/50 rounded-xl overflow-hidden shadow-sm bg-card",children:[s.jsx(z,{variant:d==="grid"?"default":"ghost",size:"icon",className:be("rounded-none h-14 w-14 transition-all",d==="grid"&&"gradient-primary text-white"),onClick:()=>u("grid"),children:s.jsx(pG,{className:"h-5 w-5"})}),s.jsx(z,{variant:d==="list"?"default":"ghost",size:"icon",className:be("rounded-none h-14 w-14 transition-all",d==="list"&&"gradient-primary text-white"),onClick:()=>u("list"),children:s.jsx(Mw,{className:"h-5 w-5"})})]}),s.jsxs(J0,{open:w,onOpenChange:b,children:[s.jsx(MA,{asChild:!0,children:s.jsxs(z,{variant:"outline",className:"lg:hidden h-14 border-2 rounded-xl shadow-sm",children:[s.jsx(yG,{className:"ml-2 h-5 w-5"}),e("storefront.products.filter"),p.length>0&&s.jsx(Ze,{className:"mr-2 gradient-primary text-white",children:p.length})]})}),s.jsxs(Ip,{side:"right",className:"w-[320px] glass-effect-strong",children:[s.jsxs(Z0,{children:[s.jsx(ev,{className:"text-2xl gradient-text",children:e("storefront.products.filters")}),s.jsx(LA,{children:e("storefront.products.filterDesc")})]}),s.jsx("div",{className:"mt-8",children:s.jsx(T,{})})]})]})]})]}),s.jsxs("div",{className:"flex gap-8",children:[s.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:s.jsx(je,{className:"p-6 sticky top-24 border-2 border-border/30 shadow-xl rounded-2xl glass-effect",children:s.jsx(T,{})})}),s.jsx("div",{className:"flex-1",children:A.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between p-5 glass-card rounded-2xl animate-slide-up",children:[s.jsxs("p",{className:"text-muted-foreground text-lg flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-bold text-2xl gradient-text",children:E}),e("storefront.products.availableProducts")]}),(p.length>0||i)&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i&&s.jsxs(Ze,{variant:"outline",className:"gap-2 px-3 py-1.5 text-sm rounded-lg border-primary/30 bg-primary/5 cursor-pointer hover:bg-primary/10 transition-colors",onClick:()=>o(""),children:[e("storefront.products.search"),": ",i,s.jsx(hr,{className:"h-3 w-3 hover:text-destructive"})]}),p.length>0&&s.jsxs(Ze,{variant:"outline",className:"px-3 py-1.5 text-sm rounded-lg border-secondary/30 bg-secondary/5",children:[p.length," ",e("storefront.products.selectedCategories")]})]})]}),s.jsx("div",{className:d==="grid"?"grid sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6":"space-y-6",children:P.map((_,O)=>s.jsx(Ej,{product:_,viewMode:d,index:O},_.id))}),s.jsx("div",{className:"mt-8",children:s.jsx(Qh,{currentPage:v,totalPages:D,totalItems:E,itemsPerPage:j,onPageChange:N,onItemsPerPageChange:k,itemsPerPageOptions:[12,24,48,96]})})]}):s.jsxs(je,{className:"p-16 text-center border-2 border-dashed border-border shadow-xl rounded-3xl glass-card animate-scale-in",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),s.jsx("div",{className:"relative p-6 rounded-full bg-muted/50",children:s.jsx(Tt,{className:"h-20 w-20 text-muted-foreground/30"})})]}),s.jsx("h3",{className:"text-2xl font-bold mb-3",children:e("storefront.products.noProducts")}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto text-lg",children:e(i?"storefront.products.noProductsDesc":"storefront.products.noProductsEmpty")}),(i||p.length>0)&&s.jsxs(z,{size:"lg",className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow",onClick:()=>{o(""),g([]),m([0,1e4])},children:[s.jsx(hr,{className:"ml-2 h-5 w-5"}),e("storefront.products.clearFilters")]})]})})]})]})]})}var hle=["PageUp","PageDown"],mle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fle={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},tv="Slider",[PD,vut,yut]=p0(tv),[ple,Bgt]=qa(tv,[yut]),[but,WA]=ple(tv),xle=f.forwardRef((e,t)=>{const{name:r,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:g,...x}=e,y=f.useRef(new Set),w=f.useRef(0),v=o==="horizontal"?wut:jut,[N=[],j]=mo({prop:u,defaultProp:d,onChange:D=>{var T;(T=[...y.current][w.current])==null||T.focus(),h(D)}}),k=f.useRef(N);function S(D){const P=Aut(N,D);E(D,P)}function C(D){E(D,w.current)}function A(){const D=k.current[w.current];N[w.current]!==D&&m(N)}function E(D,P,{commit:T}={commit:!1}){const _=_ut(i),O=Dut(Math.round((D-a)/i)*i+a,_),F=kb(O,[a,n]);j((I=[])=>{const R=kut(I,F,P);if(Tut(R,c*i)){w.current=R.indexOf(F);const L=String(R)!==String(I);return L&&T&&m(R),L?R:I}else return I})}return s.jsx(but,{scope:e.__scopeSlider,name:r,disabled:l,min:a,max:n,valueIndexToChangeRef:w,thumbs:y.current,values:N,orientation:o,form:g,children:s.jsx(PD.Provider,{scope:e.__scopeSlider,children:s.jsx(PD.Slot,{scope:e.__scopeSlider,children:s.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:xt(x.onPointerDown,()=>{l||(k.current=N)}),min:a,max:n,inverted:p,onSlideStart:l?void 0:S,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&E(a,0,{commit:!0}),onEndKeyDown:()=>!l&&E(n,N.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:P})=>{if(!l){const O=hle.includes(D.key)||D.shiftKey&&mle.includes(D.key)?10:1,F=w.current,I=N[F],R=i*O*P;E(I+R,F,{commit:!0})}}})})})})});xle.displayName=tv;var[gle,vle]=ple(tv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wut=f.forwardRef((e,t)=>{const{min:r,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,m]=f.useState(null),p=xr(t,v=>m(v)),g=f.useRef(void 0),x=Cm(n),y=x==="ltr",w=y&&!i||!y&&i;function b(v){const N=g.current||h.getBoundingClientRect(),j=[0,N.width],S=QF(j,w?[r,a]:[a,r]);return g.current=N,S(v-N.left)}return s.jsx(gle,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(yle,{dir:x,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const N=b(v.clientX);o==null||o(N)},onSlideMove:v=>{const N=b(v.clientX);l==null||l(N)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const j=fle[w?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:j?-1:1})}})})}),jut=f.forwardRef((e,t)=>{const{min:r,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=f.useRef(null),h=xr(t,u),m=f.useRef(void 0),p=!n;function g(x){const y=m.current||u.current.getBoundingClientRect(),w=[0,y.height],v=QF(w,p?[a,r]:[r,a]);return m.current=y,v(x-y.top)}return s.jsx(gle,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(yle,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const y=g(x.clientY);i==null||i(y)},onSlideMove:x=>{const y=g(x.clientY);o==null||o(y)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const w=fle[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:w?-1:1})}})})}),yle=f.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=WA(tv,r);return s.jsx(Lt.span,{...d,ref:t,onKeyDown:xt(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):hle.concat(mle).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:xt(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():a(h)}),onPointerMove:xt(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:xt(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),ble="SliderTrack",wle=f.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,n=WA(ble,r);return s.jsx(Lt.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:t})});wle.displayName=ble;var TD="SliderRange",jle=f.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,n=WA(TD,r),i=vle(TD,r),o=f.useRef(null),l=xr(t,o),c=n.values.length,d=n.values.map(m=>kle(m,n.min,n.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return s.jsx(Lt.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});jle.displayName=TD;var _D="SliderThumb",Nle=f.forwardRef((e,t)=>{const r=vut(e.__scopeSlider),[a,n]=f.useState(null),i=xr(t,l=>n(l)),o=f.useMemo(()=>a?r().findIndex(l=>l.ref.current===a):-1,[r,a]);return s.jsx(Nut,{...e,ref:i,index:o})}),Nut=f.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:n,...i}=e,o=WA(_D,r),l=vle(_D,r),[c,d]=f.useState(null),u=xr(t,b=>d(b)),h=c?o.form||!!c.closest("form"):!0,m=Bw(c),p=o.values[a],g=p===void 0?0:kle(p,o.min,o.max),x=Cut(a,o.values.length),y=m==null?void 0:m[l.size],w=y?Eut(y,g,l.direction):0;return f.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${w}px)`},children:[s.jsx(PD.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Lt.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:xt(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),h&&s.jsx(Sle,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},a)]})});Nle.displayName=_D;var Sut="RadioBubbleInput",Sle=f.forwardRef(({__scopeSlider:e,value:t,...r},a)=>{const n=f.useRef(null),i=xr(n,a),o=Xw(t);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Lt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});Sle.displayName=Sut;function kut(e=[],t,r){const a=[...e];return a[r]=t,a.sort((n,i)=>n-i)}function kle(e,t,r){const i=100/(r-t)*(e-t);return kb(i,[0,100])}function Cut(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Aut(e,t){if(e.length===1)return 0;const r=e.map(n=>Math.abs(n-t)),a=Math.min(...r);return r.indexOf(a)}function Eut(e,t,r){const a=e/2,i=QF([0,50],[0,a]);return(a-i(t)*r)*r}function Put(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Tut(e,t){if(t>0){const r=Put(e);return Math.min(...r)>=t}return!0}function QF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function _ut(e){return(String(e).split(".")[1]||"").length}function Dut(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Cle=xle,Out=wle,Iut=jle,Rut=Nle;const nd=f.forwardRef(({className:e,...t},r)=>s.jsxs(Cle,{ref:r,className:be("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(Out,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(Iut,{className:"absolute h-full bg-primary"})}),s.jsx(Rut,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));nd.displayName=Cle.displayName;function ck(){var V,q,Y;const{t:e,i18n:t}=Ct(),{settings:r}=Sm(),{id:a,productId:n}=jm(),i=n||a,[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(null),[m,p]=f.useState(1),[g,x]=f.useState(!0),[y,w]=f.useState(0),[b,v]=f.useState(!1),[N,j]=f.useState([]),[k,S]=f.useState(!1),[C,A]=f.useState(!1),E=t.language==="ar",{addToCart:D}=bp();f.useEffect(()=>{T(),P()},[i]);const P=async()=>{try{const U=await he.getCategories(),Z=Array.isArray(U)?U:U.categories||[];j(Z)}catch(U){console.error("Failed to load categories:",U)}},T=async()=>{try{x(!0);const U=await he.getProduct(i);if(console.log("Loaded product data:",U),console.log("Product variants from API:",U.variants),l(U),U.variants&&Array.isArray(U.variants)&&U.variants.length>0?(console.log("Setting selected variant to:",U.variants[0]),h(U.variants[0])):(console.log("No variants found for this product"),h(null)),U.categoryId){const Z=await he.getProducts({categoryId:U.categoryId,limit:4});d(Z.filter(J=>J.id!==U.id).slice(0,4))}}catch(U){console.error("Failed to load product:",U),dr({title:E?"  ":"Failed to Load Product",description:E?"     .    .":"An error occurred while loading product data. Please try again.",variant:"destructive"})}finally{x(!1)}},_=async()=>{if(o)try{let U=u==null?void 0:u.id;o.variants&&o.variants.length>0&&!U&&(U=o.variants[0].id,h(o.variants[0])),await D(o.id,m,U),dr({title:E?" !":"Added!",description:E?`  ${o.name}  `:`${o.name} added to cart`})}catch(U){console.error("Failed to add to cart:",U),dr({title:E?"  ":"Failed to Add to Cart",description:E?"     .    .":"An error occurred while adding the product to cart. Please try again.",variant:"destructive"})}},O=()=>{if(!o||!o.categoryId)return[];const U=[];let Z=o.categoryId,J=0;for(;Z&&J<10;){const K=N.find(se=>se.id===Z);if(K)U.unshift(K),Z=K.parentId;else break;J++}return U};if(g)return s.jsx(Rp,{});if(!o)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-20",children:s.jsxs(je,{className:"p-12 text-center border-0 shadow-lg",children:[s.jsx(Tt,{className:"h-20 w-20 mx-auto text-gray-400 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:E?"  ":"Product Not Found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:E?"       ":"Sorry, we couldn't find this product"}),s.jsx(Qe,{to:"/products",children:s.jsx(z,{children:E?"  ":"Back to Products"})})]})})});const F=Number((u==null?void 0:u.price)||o.price)||0,I=o.compareAtPrice?Number(o.compareAtPrice):0,R=I>F?Math.round((I-F)/I*100):0,L=((V=o.images)==null?void 0:V.length)>0?o.images:[{url:"/placeholder.svg"}],H=[{icon:Wh,text:"    200 ."},{icon:Ws,text:"    30 "},{icon:BO,text:"   14 "}],W=O(),M=E?$c:Ms,G=async()=>{const U={title:o.nameAr||o.name,text:o.descriptionAr||o.description,url:window.location.href};try{navigator.share?await navigator.share(U):(await navigator.clipboard.writeText(window.location.href),dr({title:E?"  ":"Link Copied",description:E?"     ":"Product link copied to clipboard"}))}catch(Z){console.error("Error sharing:",Z)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in",children:[s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center flex-wrap gap-2 text-sm",children:[s.jsx(Qe,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors font-medium",children:E?(r==null?void 0:r.storeNameAr)||(r==null?void 0:r.storeName)||Hn:(r==null?void 0:r.storeName)||si}),s.jsx(M,{className:"h-4 w-4 text-gray-400"}),W.map(U=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{to:`/categories/${U.id}`,className:"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:E?U.nameAr||U.name:U.name||U.nameAr}),s.jsx(M,{className:"h-4 w-4 text-gray-400"})]},U.id)),s.jsx("span",{className:"text-indigo-600 font-medium truncate max-w-[200px]",children:E?o.nameAr||o.name:o.name||o.nameAr})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 mb-16",children:[s.jsxs("div",{className:"space-y-4 animate-slide-in-left",children:[s.jsxs(je,{className:"overflow-hidden border-0 shadow-xl relative group",children:[R>0&&s.jsxs(Ze,{className:"absolute top-4 right-4 z-10 bg-red-500 text-white px-3 py-1 text-sm font-bold animate-pulse",children:[" ",R,"%"]}),s.jsx("img",{src:(q=L[y])==null?void 0:q.url,alt:o.name,className:"w-full h-[500px] object-cover transition-transform duration-500 group-hover:scale-105"}),L.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(z,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-gray-800/90 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w((y-1+L.length)%L.length),children:s.jsx($c,{className:"h-6 w-6"})}),s.jsx(z,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 dark:bg-gray-800/90 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w((y+1)%L.length),children:s.jsx(Ms,{className:"h-6 w-6"})})]})]}),L.length>1&&s.jsx("div",{className:"grid grid-cols-5 gap-3",children:L.map((U,Z)=>s.jsx(je,{className:`overflow-hidden cursor-pointer transition-all border-2 ${y===Z?"border-indigo-600 shadow-lg scale-105":"border-transparent hover:border-gray-300"}`,onClick:()=>w(Z),children:s.jsx("img",{src:U.url,alt:`${o.name} ${Z+1}`,className:"w-full h-20 object-cover"})},Z))})]}),s.jsxs("div",{className:"space-y-8 animate-slide-in-right",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:E?o.nameAr||o.name:o.name||o.nameAr}),s.jsxs("div",{className:"flex items-baseline gap-4 mb-4",children:[s.jsxs("span",{className:"text-4xl font-bold text-indigo-600",children:[Number(F||0).toFixed(2)," ",E?".":(r==null?void 0:r.currency)||"SAR"]}),I>0&&Number(I)>Number(F)&&s.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:[Number(I).toFixed(2)," ",E?".":(r==null?void 0:r.currency)||"SAR"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((U,Z)=>s.jsx(Bo,{className:`h-5 w-5 ${Z<4?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Z))}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["4.5 (128 ",E?"":"reviews",")"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:o.isAvailable?s.jsxs(s.Fragment,{children:[s.jsx(Ba,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-600 font-medium",children:E?"  ":"In Stock"})]}):s.jsx(Ze,{variant:"destructive",children:E?" ":"Out of Stock"})})]}),s.jsx(Qs,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:E?"":"Description"}),s.jsx(cle,{html:E?o.descriptionAr||o.description||"     .":o.description||o.descriptionAr||"No description available for this product.",className:"text-gray-600 dark:text-gray-400 leading-relaxed prose dark:prose-invert max-w-none"})]}),(o.weight||o.dimensions||o.tags&&o.tags.length>0)&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:E?" ":"Additional Information"}),o.weight&&s.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-700 pb-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E?"":"Weight"}),s.jsxs("span",{className:"font-medium",children:[o.weight," ",E?"":"kg"]})]}),o.dimensions&&s.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-700 pb-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:E?"":"Dimensions"}),s.jsx("span",{className:"font-medium",children:o.dimensions})]}),o.tags&&o.tags.length>0&&s.jsxs("div",{className:"pt-2",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400 block mb-2",children:E?"":"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((U,Z)=>s.jsxs(Ze,{variant:"secondary",className:"bg-white dark:bg-gray-700",children:[s.jsx(am,{className:"w-3 h-3 mr-1"}),U]},Z))})]})]}),((Y=o.variants)==null?void 0:Y.length)>0&&o.variants.some(U=>{var Z,J;return((Z=U.name)==null?void 0:Z.toLowerCase())!=="default"&&((J=U.name)==null?void 0:J.toLowerCase())!==""})&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-semibold text-lg mb-3",children:E?"":"Options"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.variants.filter(U=>{var Z,J;return((Z=U.name)==null?void 0:Z.toLowerCase())!=="default"&&((J=U.name)==null?void 0:J.toLowerCase())!==""}).map(U=>s.jsx(z,{variant:(u==null?void 0:u.id)===U.id?"default":"outline",onClick:()=>h(U),className:`h-12 border-2 ${(u==null?void 0:u.id)===U.id?"border-indigo-600":""}`,children:U.name},U.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("label",{className:"font-semibold text-lg",children:E?"":"Quantity"}),s.jsx("span",{className:"text-xl font-bold text-indigo-600",children:m})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(nd,{defaultValue:[1],value:[m],min:1,max:o.stock||50,step:1,disabled:!o.isActive,onValueChange:U=>p(U[0]),className:`py-4 ${o.isActive?"":"opacity-50 cursor-not-allowed"}`}),!o.isActive&&s.jsx("p",{className:"text-sm text-red-500 mt-2",children:E?"      ( )":"Cannot change quantity for this product (fixed value)"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{size:"lg",className:"flex-1 h-14 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg transition-all transform hover:scale-[1.02]",onClick:async()=>{S(!0);try{await _(),S(!1),A(!0),setTimeout(()=>{A(!1)},2e3)}catch{S(!1)}},disabled:!o.isAvailable||k,children:[s.jsx(Dr,{className:"ml-2 h-5 w-5"}),o.isAvailable?E?"  ":"Add to Cart":E?" ":"Out of Stock"]}),s.jsx(z,{size:"lg",variant:"outline",className:`h-14 w-14 border-2 ${b?"text-red-500 border-red-500":""}`,onClick:()=>v(!b),children:s.jsx(dn,{className:`h-6 w-6 ${b?"fill-current":""}`})}),s.jsx(z,{size:"lg",variant:"outline",className:"h-14 w-14 border-2",onClick:G,children:s.jsx(UO,{className:"h-6 w-6"})})]}),(r==null?void 0:r.storeType)!=="DIGITAL_CARDS"&&s.jsx(je,{className:"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 border-0",children:s.jsx("div",{className:"space-y-4",children:H.map((U,Z)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:s.jsx(U.icon,{className:"h-5 w-5 text-indigo-600"})}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:U.text})]},Z))})}),o.sku&&s.jsxs("p",{className:"text-sm text-gray-500",children:[E?" :":"Product Code:"," ",s.jsx("span",{className:"font-mono",children:o.sku})]})]})]}),c.length>0&&s.jsxs("div",{className:"mt-20 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[s.jsx("h2",{className:"text-2xl font-bold mb-8",children:E?"  ":"You May Also Like"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(U=>s.jsx(Ej,{product:U},U.id))})]})]}),s.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slide-in-left {
          from { opacity: 0; transform: translateX(-20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slide-in-right {
          from { opacity: 0; transform: translateX(20px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fade-in 0.6s ease-out; }
        .animate-slide-in-left { animation: slide-in-left 0.6s ease-out; }
        .animate-slide-in-right { animation: slide-in-right 0.6s ease-out; }
        .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
      `})]})}function Ale(){const{t:e,i18n:t}=Ct(),{toast:r}=Rt(),{cart:a,loading:n,updateQuantity:i,removeItem:o,refreshCart:l}=bp(),{settings:c}=Sm(),[d,u]=f.useState(""),h=()=>{d&&r({title:e("cart.couponCode","Coupon Code"),description:e("cart.couponApplied","Coupon code applied successfully")})};if(n)return s.jsx(Rp,{});const p=(Array.isArray(a==null?void 0:a.cartItems)?a.cartItems:Array.isArray(a==null?void 0:a.items)?a.items:[]).filter(k=>!k||!k.id?!1:k.product?!0:(k.productId&&setTimeout(()=>l(),1e3),!1)),g=!p||p.length===0,x=p.reduce((k,S)=>{var A,E,D,P;const C=S.unitPriceSnapshot??((A=S.productVariant)==null?void 0:A.price)??((E=S.product)==null?void 0:E.retailPrice)??((D=S.product)==null?void 0:D.wholesalePrice)??((P=S.product)==null?void 0:P.price)??0;return k+Number(C)*(S.quantity||1)},0)??0,y=(c==null?void 0:c.shippingEnabled)===!0&&(c==null?void 0:c.storeType)!=="DIGITAL_CARDS",w=y?x>200?0:25:0,b=(c==null?void 0:c.taxEnabled)!==!1,v=(c==null?void 0:c.taxRate)??15,N=b?x*v/100:0,j=x+w+N;return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:e("nav.cart","Shopping Cart")}),!g&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:e("cart.itemsCount",{count:p.length})})]}),g?s.jsxs(je,{className:"p-16 text-center border-0 shadow-lg",children:[s.jsx(zo,{className:"h-24 w-24 mx-auto text-gray-400 mb-6"}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:e("cart.emptyTitle","Your cart is empty")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 text-lg max-w-md mx-auto",children:e("cart.emptyDesc","Start shopping now and discover our amazing products")}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(Qe,{to:"/products",children:s.jsxs(z,{size:"lg",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 px-8",children:[e("cart.browseProducts","Browse Products"),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})}),s.jsx(z,{size:"lg",variant:"outline",onClick:async()=>{console.log(" DEBUG: Manual cart refresh triggered"),await l(),r({title:"Debug",description:"Cart refreshed. Check console for details."})},className:"px-8",children:" Debug Cart"})]})]}):s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[p.map(k=>{var D,P,T,_,O,F,I,R,L;if(!k.product)return console.error(" Cart item missing product:",k),null;const S=((D=k.product)==null?void 0:D.nameAr)||((P=k.product)==null?void 0:P.name)||"  ";let C=null;if((T=k.product)!=null&&T.images&&k.product.images.length>0){const H=k.product.images[0];if(typeof H=="string")C=H;else if(H!=null&&H.url)C=H.url;else if(H!=null&&H.imageUrl)C=H.imageUrl;else if(typeof H=="object"&&H!==null){const W=["url","imageUrl","src","image","path"];for(const M of W)if(H[M]&&typeof H[M]=="string"){C=H[M];break}}}!C&&((_=k.product)!=null&&_.image)&&(C=typeof k.product.image=="string"?k.product.image:((O=k.product.image)==null?void 0:O.url)||((F=k.product.image)==null?void 0:F.imageUrl));const A=Number(((I=k.productVariant)==null?void 0:I.price)??((R=k.product)==null?void 0:R.price)??0),E=Number(k.quantity??0);return s.jsx(je,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:C?s.jsx("img",{src:C,alt:S,className:"w-full h-full object-cover",onError:H=>{console.error("Failed to load product image:",C,"for product:",k.productId),H.target.style.display="none"}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(zo,{className:"h-12 w-12 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg mb-1 text-gray-900 dark:text-white",title:S,children:S}),((L=k.product)==null?void 0:L.sku)&&s.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:["SKU: ",k.product.sku]})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30 flex-shrink-0",onClick:()=>o(k.id),children:s.jsx(_r,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(z,{variant:"outline",size:"icon",className:"h-10 w-10 border-2",onClick:()=>i(k.id,E-1),disabled:E<=1,children:s.jsx(sm,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-12 text-center font-bold text-lg",children:E}),s.jsx(z,{variant:"outline",size:"icon",className:"h-10 w-10 border-2",onClick:()=>i(k.id,E+1),children:s.jsx(Gt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-bold text-2xl text-indigo-600",children:[(A*E).toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[A.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR","  ",E]})]})]})]})]})})},k.id)}).filter(Boolean),s.jsx(Qe,{to:"/products",children:s.jsxs(z,{variant:"outline",size:"lg",className:"w-full border-2",children:[s.jsx(Dr,{className:"ml-2 h-5 w-5"}),e("cart.continueShopping","Continue Shopping")]})})]}),s.jsx("div",{children:s.jsx(je,{className:"sticky top-4 border-0 shadow-lg",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:e("checkout.orderSummary","Order Summary")}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:e("cart.couponCode","Coupon Code")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(me,{placeholder:e("cart.enterCode","Enter code"),value:d,onChange:k=>u(k.target.value),className:"flex-1"}),s.jsx(z,{onClick:h,variant:"outline",children:e("common.apply","Apply")})]})]}),s.jsx(Qs,{className:"my-6"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.subtotal","Subtotal")}),s.jsxs("span",{className:"font-semibold",children:[x.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.shipping","Shipping")}),s.jsx("span",{className:"font-semibold",children:w===0?s.jsx(Ze,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:e("common.free","Free")}):`${w.toFixed(2)} ${t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"}`})]}),w>0&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("cart.freeShippingHint",{amount:(200-x).toFixed(2),currency:t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"})})]}),b&&N>0&&s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[e("cart.tax","Tax")," (",v,"%)"]}),s.jsxs("span",{className:"font-semibold",children:[N.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]})]}),s.jsx(Qs,{className:"my-6"}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("span",{className:"text-xl font-bold",children:e("cart.total","Total")}),s.jsxs("span",{className:"text-3xl font-bold text-indigo-600",children:[j.toFixed(2)," ",t.language==="ar"?".":(c==null?void 0:c.currency)||"SAR"]})]}),s.jsx(Qe,{to:"/checkout",children:s.jsxs(z,{size:"lg",className:"w-full h-14 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg mb-4",children:[e("cart.checkout","Checkout"),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})}),s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Ws,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("span",{children:e("checkout.securePayment","Secure and encrypted payment")})]}),y&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Wh,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsx("span",{children:e("checkout.fastShipping","Fast and reliable shipping")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(am,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),s.jsx("span",{children:e("checkout.bestPrices","Best prices guaranteed")})]})]})]})})})]})]})})}var JF="Radio",[Fut,Ele]=qa(JF),[Mut,Lut]=Fut(JF),Ple=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=f.useState(null),p=xr(t,y=>m(y)),g=f.useRef(!1),x=h?d||!!h.closest("form"):!0;return s.jsxs(Mut,{scope:r,checked:n,disabled:o,children:[s.jsx(Lt.button,{type:"button",role:"radio","aria-checked":n,"data-state":Ole(n),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:xt(e.onClick,y=>{n||c==null||c(),x&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),x&&s.jsx(Dle,{control:h,bubbles:!g.current,name:a,value:l,checked:n,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Ple.displayName=JF;var Tle="RadioIndicator",_le=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:a,...n}=e,i=Lut(Tle,r);return s.jsx(Pn,{present:a||i.checked,children:s.jsx(Lt.span,{"data-state":Ole(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});_le.displayName=Tle;var $ut="RadioBubbleInput",Dle=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=xr(o,i),c=Xw(r),d=Bw(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:a});p.call(u,r),u.dispatchEvent(g)}},[c,r,a]),s.jsx(Lt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dle.displayName=$ut;function Ole(e){return e?"checked":"unchecked"}var But=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HA="RadioGroup",[Uut,Ugt]=qa(HA,[T0,Ele]),Ile=T0(),Rle=Ele(),[Vut,zut]=Uut(HA),Fle=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,p=Ile(r),g=Cm(d),[x,y]=mo({prop:i,defaultProp:n??null,onChange:h,caller:HA});return s.jsx(Vut,{scope:r,name:a,required:o,disabled:l,value:x,onValueChange:y,children:s.jsx(dR,{asChild:!0,...p,orientation:c,dir:g,loop:u,children:s.jsx(Lt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...m,ref:t})})})});Fle.displayName=HA;var Mle="RadioGroupItem",Lle=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:a,...n}=e,i=zut(Mle,r),o=i.disabled||a,l=Ile(r),c=Rle(r),d=f.useRef(null),u=xr(t,d),h=i.value===n.value,m=f.useRef(!1);return f.useEffect(()=>{const p=x=>{But.includes(x.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),s.jsx(uR,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(Ple,{disabled:o,required:i.required,checked:h,...c,...n,name:i.name,ref:u,onCheck:()=>i.onValueChange(n.value),onKeyDown:xt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:xt(n.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});Lle.displayName=Mle;var Wut="RadioGroupIndicator",$le=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...a}=e,n=Rle(r);return s.jsx(_le,{...n,...a,ref:t})});$le.displayName=Wut;var Ble=Fle,Ule=Lle,Hut=$le;const Cw=f.forwardRef(({className:e,...t},r)=>s.jsx(Ble,{className:be("grid gap-2",e),...t,ref:r}));Cw.displayName=Ble.displayName;const Oh=f.forwardRef(({className:e,...t},r)=>s.jsx(Ule,{ref:r,className:be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Hut,{className:"flex items-center justify-center",children:s.jsx(OO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Oh.displayName=Ule.displayName;const qut={WALLET_BALANCE:{nameKey:"payment.wallet.name",defaultName:"Wallet Balance",descKey:"payment.wallet.desc",defaultDesc:"Use your wallet balance for payment"},HYPERPAY:{nameKey:"payment.hyperpay.name",defaultName:"Credit Card (HyperPay)",descKey:"payment.hyperpay.desc",defaultDesc:"Visa, Mastercard, Mada"},STRIPE:{nameKey:"payment.stripe.name",defaultName:"Credit Card (Stripe)",descKey:"payment.stripe.desc",defaultDesc:"Visa, Mastercard"},PAYPAL:{nameKey:"payment.paypal.name",defaultName:"PayPal",descKey:"payment.paypal.desc",defaultDesc:"Pay via PayPal"},CASH_ON_DELIVERY:{nameKey:"payment.cod.name",defaultName:"Cash on Delivery",descKey:"payment.cod.desc",defaultDesc:"Pay cash upon delivery"},BANK_TRANSFER:{nameKey:"payment.bank.name",defaultName:"Bank Transfer",descKey:"payment.bank.desc",defaultDesc:"Pay via direct bank transfer"}};function Vle(){const{t:e,i18n:t}=Ct(),r=Kr(),{toast:a}=Rt(),{cart:n,loading:i,refreshCart:o,clearCart:l}=bp(),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,p]=f.useState(0),{settings:g}=Sm(),[x,y]=f.useState([]),[w,b]=f.useState(0),[v,N]=f.useState(!1),[j,k]=f.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",country:"SA",postalCode:"",shippingMethod:"",paymentMethod:""}),S=f.useCallback(async()=>{try{const M=await MK.getPaymentMethods();if(y(M),M.length>0){const G=M.find(q=>q.provider==="CASH_ON_DELIVERY"),V=(g==null?void 0:g.storeType)==="DIGITAL_CARDS";k(q=>{var Y,U;return{...q,paymentMethod:q.paymentMethod||(V?(Y=M.find(Z=>Z.provider!=="CASH_ON_DELIVERY"))==null?void 0:Y.provider:G==null?void 0:G.provider)||((U=M[0])==null?void 0:U.provider)||"WALLET_BALANCE"}})}}catch(M){console.error("Failed to load payment methods:",M),(g==null?void 0:g.storeType)==="DIGITAL_CARDS"||y([{id:"fallback-cod",provider:"CASH_ON_DELIVERY",name:"  ",isActive:!0}])}},[g==null?void 0:g.storeType]),C=f.useCallback(async()=>{try{if(localStorage.getItem("customerToken")){const G=await Ns.getBalance(),V=Number(G.balance)||0;b(V)}}catch(M){console.error("Failed to load wallet balance:",M)}},[]);f.useEffect(()=>{const M=localStorage.getItem("customerToken");N(!!M),o(),S(),C()},[o,S,C]);const E=(g==null?void 0:g.shippingEnabled)===!0&&(g==null?void 0:g.storeType)!=="DIGITAL_CARDS",D=f.useCallback(async()=>{if(!E||!n){h([]);return}try{const M=await he.calculateShipping({destination:{country:j.country,city:j.city,postalCode:j.postalCode},items:n.items||[]});h(Array.isArray(M)?M:[M])}catch(M){console.error("Failed to calculate shipping:",M),h([])}},[E,n,j.country,j.city,j.postalCode]),P=f.useCallback(async()=>{if((g==null?void 0:g.taxEnabled)===!1||!n){p(0);return}try{const M=await he.calculateTax({amount:n.total||0,country:j.country,state:j.state});p(M.amount||0)}catch(M){console.error("Failed to calculate tax:",M),p(0)}},[g==null?void 0:g.taxEnabled,n,j.country,j.state]);f.useEffect(()=>{j.country&&j.city&&n&&(E&&D(),(g==null?void 0:g.taxEnabled)!==!1&&P())},[j.country,j.city,n,g==null?void 0:g.taxEnabled,E,D,P]);const T=()=>{var q;const M=[],G=(q=g==null?void 0:g.paymentMethods)==null?void 0:q.includes("WALLET_PAYMENT"),V=(g==null?void 0:g.storeType)==="DIGITAL_CARDS";if(v&&G&&M.push({id:"wallet-balance",provider:"WALLET_BALANCE",name:"  ",isActive:!0}),g!=null&&g.paymentMethods&&g.paymentMethods.length>0){const Y=x.filter(U=>{var Z;return V&&U.provider==="CASH_ON_DELIVERY"?!1:(Z=g.paymentMethods)==null?void 0:Z.includes(U.provider)});M.push(...Y)}else{const Y=V?x.filter(U=>U.provider!=="CASH_ON_DELIVERY"):x;M.push(...Y)}return M},_=u.find(M=>M.id===j.shippingMethod),F=(Array.isArray(n==null?void 0:n.cartItems)?n.cartItems:Array.isArray(n==null?void 0:n.items)?n.items:[]).filter(M=>M&&(M.product||M.unitPriceSnapshot)),I=F.reduce((M,G)=>{var q,Y,U,Z;const V=G.unitPriceSnapshot??((q=G.productVariant)==null?void 0:q.price)??((Y=G.product)==null?void 0:Y.retailPrice)??((U=G.product)==null?void 0:U.wholesalePrice)??((Z=G.product)==null?void 0:Z.price)??0;return M+Number(V)*(G.quantity||1)},0),R=E&&(_==null?void 0:_.cost)||0,L=(g==null?void 0:g.taxEnabled)!==!1?m:0,H=I+R+L,W=async M=>{var G;M.preventDefault(),d(!0);try{if(j.paymentMethod==="WALLET_BALANCE"&&w<H){a({variant:"destructive",title:e("common.error"),description:e("checkout.insufficientWalletDesc")}),d(!1);return}const V=E?{fullName:j.fullName,street:j.address,city:j.city,state:j.state,country:j.country,postalCode:j.postalCode}:{fullName:j.fullName,street:"Digital Delivery",city:"Digital",state:"Digital",country:j.country||"SA",postalCode:"00000"};if(!(n!=null&&n.id)){a({variant:"destructive",title:e("common.error"),description:"  .      ."}),d(!1);return}let q;if(v)q=await he.createOrder({cartId:n.id,shippingAddress:V,customerEmail:j.email,customerName:j.fullName,customerPhone:j.phone,contact:{email:j.email,phone:j.phone},shippingMethod:E?j.shippingMethod:"digital_delivery",paymentMethod:j.paymentMethod,useWalletBalance:j.paymentMethod==="WALLET_BALANCE"});else{const Y={guestEmail:j.email,guestName:j.fullName,guestPhone:j.phone,totalAmount:H,subtotalAmount:I,taxAmount:L,shippingAmount:R,discountAmount:0,items:F.map(U=>{var Z,J,K,se,B,Ne,ye,Re,qe,He;return{productId:((Z=U.product)==null?void 0:Z.id)||U.productId,productVariantId:((J=U.productVariant)==null?void 0:J.id)||U.variantId,quantity:U.quantity||1,price:U.unitPriceSnapshot??((K=U.productVariant)==null?void 0:K.price)??((se=U.product)==null?void 0:se.retailPrice)??((B=U.product)==null?void 0:B.wholesalePrice)??((Ne=U.product)==null?void 0:Ne.price)??0,productName:((ye=U.product)==null?void 0:ye.name)||"Product",variantName:(Re=U.productVariant)==null?void 0:Re.name,sku:((qe=U.productVariant)==null?void 0:qe.sku)||((He=U.product)==null?void 0:He.sku)}}),shippingAddress:V,billingAddress:V,ipAddress:"0.0.0.0"};q=await he.post("/guest-checkout/order",Y,{requireAuth:!1})}if(j.paymentMethod!=="CASH_ON_DELIVERY"&&j.paymentMethod!=="WALLET_BALANCE")try{const Y=await he.initializePayment({orderId:q.id,method:j.paymentMethod,amount:q.total||q.totalAmount||H});if(Y.redirectUrl){window.location.href=Y.redirectUrl;return}}catch(Y){console.error("Payment initialization error:",Y)}a({title:e("common.success"),description:j.paymentMethod==="WALLET_BALANCE"?"     ":v?"   ":"   .       "}),await l(),!v&&j.email&&(localStorage.setItem("lastOrderEmail",j.email),sessionStorage.setItem("guestOrderEmail",j.email)),!v&&q.orderNumber?r(`/order-confirmation/${q.orderNumber}?email=${encodeURIComponent(j.email)}`):r(`/orders/${q.id}`)}catch(V){console.error("Order creation error:",V);const q=V;let Y="  ";(G=q==null?void 0:q.data)!=null&&G.message?Y=q.data.message:q!=null&&q.message&&(Y=q.message),a({variant:"destructive",title:e("common.error"),description:Y})}finally{d(!1)}};return i&&!n?s.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container max-w-6xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("checkout.title","Checkout")}),s.jsx("form",{onSubmit:W,children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Wh,{className:"h-5 w-5"}),E?e("checkout.shippingInfo","Shipping Information"):e("checkout.customerInfo","Customer Information")]})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"fullName",children:[e("common.fullName","Full Name")," *"]}),s.jsx(me,{id:"fullName",value:j.fullName,onChange:M=>k({...j,fullName:M.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"phone",children:[e("common.phone","Phone Number")," *"]}),s.jsx(me,{id:"phone",type:"tel",value:j.phone,onChange:M=>k({...j,phone:M.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"email",children:[e("common.email","Email")," *"]}),s.jsx(me,{id:"email",type:"email",value:j.email,onChange:M=>k({...j,email:M.target.value}),required:!0})]}),E&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"address",children:[e("common.address","Address")," *"]}),s.jsx(me,{id:"address",value:j.address,onChange:M=>k({...j,address:M.target.value}),required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"city",children:[e("common.city","City")," *"]}),s.jsx(me,{id:"city",value:j.city,onChange:M=>k({...j,city:M.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"state",children:e("common.state","State/Region")}),s.jsx(me,{id:"state",value:j.state,onChange:M=>k({...j,state:M.target.value})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"country",children:[e("common.country","Country")," *"]}),s.jsx(me,{id:"country",value:j.country,onChange:M=>k({...j,country:M.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"postalCode",children:e("common.postalCode","Postal Code")}),s.jsx(me,{id:"postalCode",value:j.postalCode,onChange:M=>k({...j,postalCode:M.target.value})})]})]})]})]})]}),E&&u.length>0&&s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:e("checkout.shippingMethod","Shipping Method")})}),s.jsx(Ce,{children:s.jsx(Cw,{value:j.shippingMethod,onValueChange:M=>k({...j,shippingMethod:M}),children:u.map(M=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oh,{value:M.id,id:M.id}),s.jsxs(X,{htmlFor:M.id,className:"cursor-pointer",children:[s.jsx("p",{className:"font-medium",children:M.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.estimatedDays," ",e("common.days","days")]})]})]}),s.jsxs("span",{className:"font-semibold",children:[M.cost.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]},M.id))})})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),e("checkout.paymentMethod","Payment Method")]})}),s.jsxs(Ce,{className:"space-y-4",children:[v&&s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 ${w>0?"border-primary/30 bg-primary/5":"border-border bg-muted/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2.5 rounded-xl ${w>0?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:s.jsx(ca,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e("checkout.walletBalance","Wallet Balance")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("checkout.availableBalance","Available balance for payment")})]})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:`text-2xl font-bold ${w>=H?"text-primary":"text-muted-foreground"}`,children:[w.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]}),w>0&&w>=H?s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(ks,{className:"h-3 w-3"}),e("checkout.sufficientBalance","Sufficient balance")]}):s.jsxs("p",{className:"text-xs text-orange-600 flex items-center gap-1",children:[s.jsx(Us,{className:"h-3 w-3"}),e("checkout.insufficientBalance","Insufficient balance")]})]})]}),s.jsx(Cw,{value:j.paymentMethod,onValueChange:M=>k({...j,paymentMethod:M}),className:"space-y-3",children:g?T().length===0?s.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-xl bg-muted/20",children:[s.jsx(Us,{className:"h-8 w-8 mx-auto mb-2 text-orange-500"}),s.jsx("p",{className:"font-medium",children:e("checkout.noPaymentMethods","No payment methods available")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("checkout.noPaymentMethodsDesc","Please recharge your balance or contact support")})]}):T().map(M=>{const G=qut[M.provider],V=G?e(G.nameKey,G.defaultName):M.name,q=G?e(G.descKey,G.defaultDesc):"",Y=M.provider==="WALLET_BALANCE",U=Y&&(!v||w<H);return s.jsxs("div",{className:`flex items-center gap-3 p-4 border-2 rounded-xl transition-all ${j.paymentMethod===M.provider?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/30"} ${U?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>!U&&k({...j,paymentMethod:M.provider}),children:[s.jsx(Oh,{value:M.provider,id:M.provider,disabled:U}),s.jsxs(X,{htmlFor:M.provider,className:`flex-1 ${U?"":"cursor-pointer"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Y&&s.jsx(ca,{className:"h-4 w-4 text-primary"}),s.jsx("p",{className:"font-medium",children:V}),Y&&v&&j.paymentMethod==="WALLET_BALANCE"&&s.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full",children:e("common.preferred","Preferred")})]}),Y&&v&&s.jsxs("span",{className:`text-sm font-bold ${w>=H?"text-green-600":"text-red-600"}`,children:[w.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]}),Y&&!v&&s.jsx("span",{className:"text-xs text-muted-foreground",children:e("common.loginRequired","Login required")})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:q})]})]},M.id)}):s.jsxs("div",{className:"text-center py-4 text-muted-foreground flex items-center justify-center gap-2",children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),e("checkout.loadingPaymentMethods","Loading payment methods...")]})})]})]})]}),s.jsx("div",{children:s.jsxs(je,{className:"sticky top-4",children:[s.jsx(et,{children:s.jsx(at,{children:e("checkout.orderSummary","Order Summary")})}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:e("cart.subtotal","Subtotal")}),s.jsxs("span",{className:"font-semibold",children:[I.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),E&&_&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:e("cart.shipping","Shipping")}),s.jsxs("span",{className:"font-semibold",children:[R.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),(g==null?void 0:g.taxEnabled)!==!1&&L>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx($me,{className:"h-4 w-4"}),e("cart.tax","Tax")]}),s.jsxs("span",{className:"font-semibold",children:[L.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),s.jsx(Qs,{}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:e("cart.total","Total")}),s.jsxs("span",{className:"text-primary",children:[H.toFixed(2)," ",t.language==="ar"?".":(g==null?void 0:g.currency)||"SAR"]})]}),s.jsx(z,{type:"submit",className:"w-full",size:"lg",disabled:c||E&&!j.shippingMethod||!j.paymentMethod||j.paymentMethod==="WALLET_BALANCE"&&w<H,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"}),e("common.processing","Processing...")]}):s.jsxs(s.Fragment,{children:[s.jsx(Wr,{className:"ml-2 h-4 w-4"}),e("checkout.placeOrder","Place Order")]})}),j.paymentMethod==="WALLET_BALANCE"&&w<H&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("p",{className:"text-sm text-red-600 text-center font-medium",children:e("checkout.insufficientWalletDesc","Sorry, your wallet balance is insufficient for this order. Please recharge or choose another payment method.")}),s.jsxs(z,{type:"button",variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/5 gap-2",onClick:()=>r("/profile?tab=wallet"),children:[s.jsx(ca,{className:"h-4 w-4"}),e("checkout.rechargeNow","Recharge Now"),s.jsx(zh,{className:"h-3 w-3"})]})]})]})]})})]})})]})})}function Gut(){const[e,t]=f.useState(null),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(!1),g=Kr(),{toast:x}=Rt(),y=f.useCallback(async()=>{try{const v=await el.me();if(t(v),v)try{const N=await he.getOrders();a(Array.isArray(N)?N:[])}catch(N){console.error("Failed to load orders:",N)}}catch(v){console.error("Failed to load profile:",v),g("/auth/login")}finally{i(!1)}},[g]);f.useEffect(()=>{y()},[y]);function w(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),g("/auth/login"),x({title:"Logged out",description:"You have been successfully logged out."})}const b=async()=>{if(c!==u){x({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}try{p(!0);const v=localStorage.getItem("customerToken");v?await Q.post(`${Q.authUrl}/auth/customers/change-password`,{currentPassword:o,newPassword:c},{headers:{Authorization:`Bearer ${v}`}}):await el.changePassword(o,c),x({title:"Success",description:"Password updated successfully."}),l(""),d(""),h("")}catch(v){console.error("Failed to change password:",v);const N=v instanceof Error?v.message:"Unknown error occurred";x({title:"Error",description:N||"Failed to update password.",variant:"destructive"})}finally{p(!1)}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):e?s.jsxs("div",{className:"container py-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Account"}),s.jsxs(z,{variant:"outline",onClick:w,children:[s.jsx(rm,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),s.jsxs(Yn,{defaultValue:"orders",className:"w-full",children:[s.jsxs(_n,{className:"mb-8",children:[s.jsxs(Ar,{value:"orders",children:[s.jsx(Tt,{className:"mr-2 h-4 w-4"}),"Orders"]}),s.jsxs(Ar,{value:"profile",children:[s.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Profile Details"]})]}),s.jsx(ls,{value:"orders",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:"Order History"}),s.jsx(Vt,{children:"View and track your recent orders."})]}),s.jsx(Ce,{children:r.length===0?s.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"No orders found."}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:"Order ID"}),s.jsx(Ee,{children:"Date"}),s.jsx(Ee,{children:"Status"}),s.jsx(Ee,{children:"Total"}),s.jsx(Ee,{children:"Action"})]})}),s.jsx(ss,{children:r.map(v=>s.jsxs(jt,{children:[s.jsxs(ke,{className:"font-medium",children:["#",v.orderNumber||v.id.slice(0,8)]}),s.jsx(ke,{children:new Date(v.createdAt).toLocaleDateString()}),s.jsx(ke,{children:s.jsx(Ze,{variant:v.status==="COMPLETED"?"default":v.status==="PENDING"?"secondary":v.status==="CANCELLED"?"destructive":"outline",children:v.status})}),s.jsxs(ke,{children:["$",Number(v.totalAmount).toFixed(2)]}),s.jsx(ke,{children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(`/orders/${v.id}`),children:"View Details"})})]},v.id))})]})})]})}),s.jsx(ls,{value:"profile",children:s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:"Profile Information"}),s.jsx(Vt,{children:"Update your personal details."})]}),s.jsxs(Ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"email",children:"Email"}),s.jsx(me,{id:"email",value:e.email,disabled:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"role",children:"Role"}),s.jsx(me,{id:"role",value:e.role,disabled:!0})]}),s.jsxs("div",{className:"grid gap-2 mt-6",children:[s.jsx(X,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(me,{id:"currentPassword",type:"password",value:o,onChange:v=>l(v.target.value)})]}),s.jsxs("div",{className:"grid gap-2 mt-4",children:[s.jsx(X,{htmlFor:"newPassword",children:"New Password"}),s.jsx(me,{id:"newPassword",type:"password",value:c,onChange:v=>d(v.target.value)})]}),s.jsxs("div",{className:"grid gap-2 mt-4",children:[s.jsx(X,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(me,{id:"confirmPassword",type:"password",value:u,onChange:v=>h(v.target.value)})]}),s.jsxs(z,{className:"mt-4",onClick:b,disabled:m,children:[m?s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(ci,{className:"mr-2 h-4 w-4"}),"Change Password"]})]})]})})]})]}):null}function DD(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",[a,n]=f.useState([]),[i,o]=f.useState(!0),l=Kr(),{toast:c}=Rt(),d=f.useCallback(async()=>{try{const m=localStorage.getItem("customerToken"),p=localStorage.getItem("lastOrderEmail")||sessionStorage.getItem("guestOrderEmail");if(!m&&!p){l("/");return}let g={data:[]};m?g=await Q.fetch(`${Q.coreUrl}/orders`,{headers:{Authorization:`Bearer ${m}`}}).catch(()=>({data:[]})):p&&(g=await Q.fetch(`${Q.coreUrl}/guest-checkout/orders-by-email?email=${encodeURIComponent(p)}`,{requireAuth:!1}).catch(()=>[]));const x=m?await Q.fetch(`${Q.coreUrl}/card-orders/my-orders`,{headers:{Authorization:`Bearer ${m}`}}).catch(()=>({data:[]})):{data:[]},y=Array.isArray(g)?g:(g==null?void 0:g.data)||[],w=Array.isArray(x)?x:(x==null?void 0:x.data)||[],b=[...y,...w.map(v=>({...v,isCardOrder:!0}))].sort((v,N)=>new Date(N.createdAt||N.created_at||0).getTime()-new Date(v.createdAt||v.created_at||0).getTime());n(b)}catch(m){console.error("Failed to load orders:",m),c({title:e("sections.customerOrders.loadError"),description:e("sections.customerOrders.loadErrorDesc"),variant:"destructive"})}finally{o(!1)}},[c,l]);f.useEffect(()=>{d()},[d]);const u=m=>{switch(m==null?void 0:m.toUpperCase()){case"COMPLETED":case"DELIVERED":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"PENDING":case"PROCESSING":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"CANCELLED":case"REFUNDED":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"SHIPPED":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},h=m=>{const g=`sections.customerOrders.orderStatus.${m==null?void 0:m.toLowerCase()}`;return e(g,m)};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-indigo-600"})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:e("sections.customerOrders.title")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:e("sections.customerOrders.subtitle")})]}),a.length===0?s.jsx(je,{className:"border-0 shadow-lg",children:s.jsxs(Ce,{className:"p-16 text-center",children:[s.jsx(Tt,{className:"h-24 w-24 mx-auto text-gray-400 mb-6"}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:e("sections.customerOrders.noOrders")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 text-lg max-w-md mx-auto",children:r?"     .   !":"You haven't placed any orders yet. Start shopping now!"}),s.jsx(Qe,{to:"/products",children:s.jsxs(z,{size:"lg",className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 px-8",children:[e("sections.customerOrders.continueShopping"),s.jsx(ta,{className:`${r?"mr-2":"ml-2"} h-5 w-5 ${r?"rotate-180":""}`})]})})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(je,{className:"border-0 shadow-lg hidden md:block",children:[s.jsxs(et,{children:[s.jsx(at,{className:"text-2xl",children:e("sections.customerOrders.title")}),s.jsx(Vt,{children:e("sections.customerOrders.subtitle")})]}),s.jsx(Ce,{children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:r?"text-right":"text-left",children:e("sections.customerOrders.orderNumber")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("sections.customerOrders.date")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("sections.customerOrders.status")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("sections.customerOrders.total")}),s.jsx(Ee,{className:r?"text-right":"text-left",children:r?"":"Items"}),s.jsx(Ee,{className:r?"text-right":"text-left",children:e("sections.customerOrders.actions")})]})}),s.jsx(ss,{children:a.map(m=>{var p;return s.jsxs(jt,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[s.jsxs(ke,{className:"font-medium font-mono",children:["#",m.orderNumber||m.id.slice(0,8).toUpperCase()]}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-gray-400"}),new Date(m.createdAt).toLocaleDateString(r?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})]})}),s.jsx(ke,{children:s.jsx(Ze,{className:u(m.status),children:h(m.status)})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-600",children:[s.jsx(pn,{className:"h-4 w-4"}),Number(m.totalAmount||m.total||0).toFixed(2)," ",e("common.currency")]})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zo,{className:"h-4 w-4 text-gray-400"}),((p=m.orderItems)==null?void 0:p.length)||0," ",r?"":"items"]})}),s.jsx(ke,{children:s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(`/orders/${m.id}`),className:"border-2",title:e("sections.customerOrders.viewDetails"),children:[e("sections.customerOrders.viewDetails"),s.jsx(ta,{className:`${r?"mr-2":"ml-2"} h-4 w-4 ${r?"rotate-180":""}`})]})})]},m.id)})})]})})]}),s.jsx("div",{className:"md:hidden space-y-4",children:a.map(m=>{var p;return s.jsx(je,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsxs(Ce,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:e("sections.customerOrders.orderNumber")}),s.jsxs("p",{className:"font-bold font-mono",children:["#",m.orderNumber||m.id.slice(0,8).toUpperCase()]})]}),s.jsx(Ze,{className:u(m.status),children:h(m.status)})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4"}),e("sections.customerOrders.date")]}),s.jsx("span",{className:"font-medium",children:new Date(m.createdAt).toLocaleDateString(r?"ar-SA":"en-US")})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[s.jsx(zo,{className:"h-4 w-4"}),r?"":"Items"]}),s.jsxs("span",{className:"font-medium",children:[((p=m.orderItems)==null?void 0:p.length)||0," ",r?"":"items"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),e("sections.customerOrders.total")]}),s.jsxs("span",{className:"font-bold text-lg text-indigo-600",children:[Number(m.totalAmount||m.total||0).toFixed(2)," ",e("common.currency")]})]})]}),s.jsxs(z,{variant:"outline",className:"w-full border-2",onClick:()=>l(`/orders/${m.id}`),title:e("sections.customerOrders.viewDetails"),children:[e("sections.customerOrders.viewDetails"),s.jsx(ta,{className:`${r?"mr-2":"ml-2"} h-4 w-4 ${r?"rotate-180":""}`})]})]})},m.id)})})]})]})})}function FN(){const[e,t]=f.useState(null),[r,a]=f.useState(!0),[n,i]=f.useState(!1),o=Kr(),{toast:l}=Rt(),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(""),g=f.useCallback(async()=>{try{const b=localStorage.getItem("customerData"),v=localStorage.getItem("customerToken");if(!b||!v){o("/");return}const N=JSON.parse(b);t(N),d(N.firstName||""),h(N.lastName||""),p(N.phone||"")}catch(b){console.error("Failed to load profile:",b),o("/")}finally{a(!1)}},[o]);f.useEffect(()=>{g()},[g]);async function x(){if(e){i(!0);try{const b=localStorage.getItem("customerToken"),v=await Q.fetch(`${Q.authUrl}/customers/profile`,{method:"PUT",headers:{Authorization:`Bearer ${b}`},body:JSON.stringify({firstName:c,lastName:u,phone:m})});localStorage.setItem("customerData",JSON.stringify(v)),t(v),l({title:" ",description:"     "})}catch(b){console.error("Failed to update profile:",b),l({title:"   ",description:"     .    .",variant:"destructive"})}finally{i(!1)}}}function y(){localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),o("/"),window.location.reload()}if(r)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-indigo-600"})})})});if(!e)return null;const w=`${(c==null?void 0:c[0])||""}${(u==null?void 0:u[0])||e.email[0]}`.toUpperCase();return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"  "})]}),s.jsxs(z,{variant:"outline",onClick:y,className:"border-2",children:[s.jsx(rm,{className:"ml-2 h-4 w-4"})," "]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(je,{className:"border-0 shadow-lg lg:col-span-1",children:s.jsxs(Ce,{className:"p-8 text-center",children:[s.jsxs(mp,{className:"h-32 w-32 mx-auto mb-6 border-4 border-indigo-100 dark:border-indigo-900",children:[s.jsx(fp,{src:e.avatar,alt:e.email}),s.jsx(pp,{className:"text-3xl bg-gradient-to-br from-indigo-600 to-purple-600 text-white",children:w})]}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:c&&u?`${c} ${u}`:e.email.split("@")[0]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e.email}),e.createdAt&&s.jsx("div",{className:"space-y-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4"})," "]}),s.jsx("span",{className:"font-medium",children:new Date(e.createdAt).toLocaleDateString("ar-SA",{year:"numeric",month:"long"})})]})})]})}),s.jsxs(je,{className:"border-0 shadow-lg lg:col-span-2",children:[s.jsxs(et,{children:[s.jsxs(at,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Gi,{className:"h-6 w-6"})," "]}),s.jsx(Vt,{children:"  "})]}),s.jsxs(Ce,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(X,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(la,{className:"h-4 w-4"})," "]}),s.jsx(me,{id:"email",type:"email",value:e.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),s.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"firstName",children:" "}),s.jsx(me,{id:"firstName",type:"text",value:c,onChange:b=>d(b.target.value),placeholder:"  "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"lastName",children:" "}),s.jsx(me,{id:"lastName",type:"text",value:u,onChange:b=>h(b.target.value),placeholder:"  "})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(X,{htmlFor:"phone",children:" "}),s.jsx(me,{id:"phone",type:"tel",value:m,onChange:b=>p(b.target.value),placeholder:"05xxxxxxxx",dir:"ltr"})]}),s.jsx("div",{className:"pt-4",children:s.jsx(z,{onClick:x,disabled:n,className:"w-full h-12 text-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 shadow-lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"ml-2 h-5 w-5"})," "]})})})]})]})]})]})})}function zle(){var m;const{id:e}=jm(),[t,r]=f.useState(null),[a,n]=f.useState(!0),{settings:i}=Sm(),[o,l]=f.useState(!1),[c,d]=f.useState(!1);f.useEffect(()=>{e&&u(e)},[e]);async function u(p){try{n(!0);try{const g=await he.getOrder(p);r(g),l((i==null?void 0:i.storeType)==="DIGITAL_CARDS")}catch(g){try{const x=await he.getCardOrder(p);r(x),l(!0)}catch(x){throw console.error("Failed to load card order:",x),g}}}catch(g){console.error("Failed to load order:",g)}finally{n(!1)}}const h=async p=>{if(!(!e||c)){d(!0);try{const g=localStorage.getItem("customerToken"),y=`http://localhost:3000/api/orders/${e}/download/${p}`,w=await fetch(y,{headers:{Authorization:g?`Bearer ${g}`:""}});if(!w.ok)throw new Error("Failed to download file");const b=await w.blob(),v=window.URL.createObjectURL(b),N=document.createElement("a");N.href=v,N.download=`order-${(t==null?void 0:t.orderNumber)||e}-${p==="excel"?"serial-numbers.xlsx":"serial-numbers.txt"}`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(v)}catch(g){console.error("Failed to download file:",g),alert("  .    .")}finally{d(!1)}}};return a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):t?s.jsxs("div",{className:"container py-10 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(z,{variant:"ghost",asChild:!0,className:"mb-4 pl-0",children:s.jsxs(Qe,{to:"/profile",children:[s.jsx(ml,{className:"mr-2 h-4 w-4"})," Back to Orders"]})}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",t.orderNumber||t.id.slice(0,8)]}),s.jsxs("p",{className:"text-muted-foreground",children:["Placed on ",new Date(t.createdAt).toLocaleDateString()," at ",new Date(t.createdAt).toLocaleTimeString()]})]}),s.jsx(Ze,{className:"text-lg px-4 py-1",variant:t.status==="COMPLETED"||t.status==="PAID"?"default":t.status==="PENDING"?"secondary":t.status==="CANCELLED"?"destructive":"outline",children:t.status==="PAID"?" ":t.status==="COMPLETED"?"":t.status==="PENDING"?" ":t.status==="CANCELLED"?"":t.status})]}),o&&(t.status==="PAID"||t.status==="COMPLETED")&&s.jsxs("div",{className:"mt-6 p-4 bg-primary/10 border border-primary/20 rounded-xl flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary text-white rounded-lg",children:s.jsx(ua,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:"  "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    Excel (  )  "})]})]}),s.jsxs(z,{onClick:handleDownloadFiles,disabled:c,className:"w-full md:w-auto gap-2",children:[c?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsx(Za,{className:"h-4 w-4"})," "]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx("div",{className:"md:col-span-2 space-y-6",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:"Order Items"})}),s.jsxs(Ce,{children:[s.jsx("div",{className:"space-y-4",children:(m=t.items)==null?void 0:m.map(p=>{var g,x,y,w;return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[((x=(g=p.product)==null?void 0:g.images)==null?void 0:x[0])&&s.jsx("img",{src:p.product.images[0],alt:p.product.name,className:"h-16 w-16 object-cover rounded-md"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((y=p.product)==null?void 0:y.nameAr)||((w=p.product)==null?void 0:w.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",p.quantity]})]})]}),s.jsxs("p",{className:"font-medium",children:[Number(p.price).toFixed(2)," ."]})]}),o&&p.deliveries&&p.deliveries.length>0&&s.jsxs("div",{className:"mt-2 p-3 bg-muted/50 rounded-lg space-y-2",children:[s.jsxs("p",{className:"text-xs font-bold text-muted-foreground flex items-center gap-1",children:[s.jsx(ks,{className:"h-3 w-3 text-green-500"})," :"]}),p.deliveries.map((b,v)=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-1 text-sm font-mono bg-background p-2 rounded border border-border/50",children:[s.jsx("span",{className:"text-primary font-bold",children:b.cardCode}),b.cardPin&&s.jsxs("span",{className:"text-muted-foreground",children:["PIN: ",b.cardPin]})]},v))]})]})})}),s.jsx(Qs,{className:"my-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:" "}),s.jsxs("span",{children:[Number(t.subtotal||t.totalAmount||t.total||0).toFixed(2)," ."]})]}),Number(t.shippingCost||0)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[Number(t.shippingCost).toFixed(2)," ."]})]}),Number(t.tax||0)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[Number(t.tax).toFixed(2)," ."]})]}),s.jsx(Qs,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[Number(t.totalAmount||t.total||0).toFixed(2)," ."]})]})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[t.shippingAddress&&t.shippingAddress.street!=="Digital Delivery"&&s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ju,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:" "}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.shippingAddress.fullName&&s.jsxs(s.Fragment,{children:[t.shippingAddress.fullName,s.jsx("br",{})]}),t.shippingAddress.street,s.jsx("br",{}),t.shippingAddress.city,", ",t.shippingAddress.state," ",t.shippingAddress.zipCode,s.jsx("br",{}),t.shippingAddress.country]})]})]})})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsx(Ce,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.paymentMethod==="WALLET_BALANCE"?"  ":t.paymentMethod==="HYPERPAY"?"  (HyperPay)":t.paymentMethod==="STRIPE"?"  (Stripe)":t.paymentMethod==="PAYPAL"?"PayPal":t.paymentMethod==="CASH_ON_DELIVERY"?"  ":t.paymentMethod||" "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.paymentStatus==="SUCCEEDED"||t.paymentStatus==="PAID"?s.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"  "}):t.paymentStatus==="PENDING"?t.paymentMethod==="CASH_ON_DELIVERY"?s.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"   "}):t.paymentMethod==="WALLET_BALANCE"?s.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"    "}):s.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:"  "}):t.paymentStatus==="FAILED"?s.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:" "}):s.jsx("span",{className:"text-orange-600 dark:text-orange-400",children:" "})})]})]})})]}),(i==null?void 0:i.storeType)==="DIGITAL_CARDS"&&t.deliveryFiles&&(t.deliveryFiles.excelFileUrl||t.deliveryFiles.textFileUrl)&&s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"   Excel  TXT        "})]}),s.jsxs(Ce,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.deliveryFiles.excelFileUrl&&s.jsxs(z,{onClick:()=>h("excel"),disabled:c,className:"flex items-center gap-2",variant:"outline",children:[s.jsx(Za,{className:"h-4 w-4"}),c?" ...":"  Excel"]}),t.deliveryFiles.textFileUrl&&s.jsxs(z,{onClick:()=>h("text"),disabled:c,className:"flex items-center gap-2",variant:"outline",children:[s.jsx(Za,{className:"h-4 w-4"}),c?" ...":"  TXT"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"             ."})]})]})]})]})]}):s.jsxs("div",{className:"container py-10 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order not found"}),s.jsx(z,{asChild:!0,children:s.jsx(Qe,{to:"/profile",children:"Back to Orders"})})]})}const Kut=e=>{if(!e)return"";const[t,r]=e.split("@");return r?`${t.slice(0,2)}***@${r}`:"***"},Yut=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length<=4?"****":`${t.slice(0,2)}***${t.slice(-2)}`},Xut=e=>e?[e.city,e.state,e.country].filter(Boolean).join(", "):"";function Qut(){var h;const{t:e,i18n:t}=Ct(),{settings:r}=Sm(),{orderNumber:a}=jm(),[n]=Nm(),i=n.get("email"),[o,l]=f.useState(null),[c,d]=f.useState(!0),u=f.useCallback(async()=>{if(!a||!i){d(!1);return}try{const m=await Q.fetch(`${Q.coreUrl}/guest-checkout/track?orderNumber=${encodeURIComponent(a)}&email=${encodeURIComponent(i)}`,{requireAuth:!1});l(m)}catch(m){console.error("Failed to load order:",m)}finally{d(!1)}},[a,i]);return f.useEffect(()=>{a&&i&&u()},[a,i,u]),c?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:s.jsxs("div",{className:"container max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:s.jsx(ks,{className:"h-10 w-10 text-green-600"})}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e("order.successTitle","Your order has been received!")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("order.successDesc","Thank you for your order. We will send you a confirmation email soon.")})]}),s.jsxs(je,{className:"mb-6",children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5"}),e("order.details","Order Details")]})}),s.jsx(Ce,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("order.number","Order Number")}),s.jsx("p",{className:"font-semibold",children:o.orderNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("common.date","Date")}),s.jsx("p",{className:"font-semibold",children:new Date(o.createdAt).toLocaleDateString(t.language==="ar"?"ar-SA":"en-US")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("common.status","Status")}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:e("order.status.processing","Processing")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("cart.total","Total Amount")}),s.jsxs("p",{className:"font-semibold text-lg text-indigo-600",children:[o.totalAmount," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]})]})})]}),s.jsxs(je,{className:"mb-6",children:[s.jsx(et,{children:s.jsx(at,{children:e("checkout.contactInfo","Contact Information")})}),s.jsxs(Ce,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(la,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{children:Kut(o.guestEmail)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Si,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{children:Yut(o.guestPhone)})]})]})]}),o.shippingAddress&&s.jsxs(je,{className:"mb-6",children:[s.jsx(et,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(ju,{className:"h-5 w-5"}),e("checkout.shippingAddress","Shipping Address")]})}),s.jsxs(Ce,{children:[s.jsx("p",{children:o.guestName}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:Xut(o.shippingAddress)})]})]}),s.jsxs(je,{className:"mb-6",children:[s.jsx(et,{children:s.jsx(at,{children:e("common.products","Products")})}),s.jsxs(Ce,{children:[s.jsx("div",{className:"space-y-4",children:(h=o.orderItems)==null?void 0:h.map(m=>s.jsxs("div",{className:"flex justify-between items-start border-b pb-4 last:border-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:m.productName}),m.variantName&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.variantName}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e("common.quantity","Quantity"),": ",m.quantity]})]}),s.jsxs("p",{className:"font-semibold",children:[m.price*m.quantity," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]},m.id))}),s.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.subtotal","Subtotal")}),s.jsxs("span",{children:[o.subtotalAmount," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.shipping","Shipping")}),s.jsxs("span",{children:[o.shippingAmount," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e("cart.tax","Tax")}),s.jsxs("span",{children:[o.taxAmount," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:e("cart.total","Total")}),s.jsxs("span",{className:"text-indigo-600",children:[o.totalAmount," ",t.language==="ar"?".":(r==null?void 0:r.currency)||"SAR"]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Qe,{to:"/",children:s.jsxs(z,{variant:"outline",size:"lg",children:[s.jsx(ta,{className:"mr-2 h-5 w-5"}),e("cart.continueShopping","Continue Shopping")]})}),s.jsx(z,{size:"lg",onClick:()=>window.print(),className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:e("order.print","Print Order")})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("order.confirmationSent",{email:o.guestEmail})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:e("order.trackHint","You can track your order using the order number and email")})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsx(je,{className:"max-w-md",children:s.jsxs(Ce,{className:"pt-6 text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e("order.notFound","Order not found")}),s.jsx(Qe,{to:"/",children:s.jsx(z,{className:"mt-4",children:e("common.backToHome","Back to Home")})})]})})})}function Wle(){const{id:e}=jm(),[t,r]=f.useState(null),[a,n]=f.useState([]),[i,o]=f.useState(!0),{toast:l}=Rt();f.useEffect(()=>{e&&c(e)},[e]);async function c(u){try{const h=await he.get(`/collections/${u}`);r(h),h.products&&n(h.products)}catch(h){console.error("Failed to load collection:",h)}finally{o(!1)}}async function d(u){try{await he.addToCart({productId:u,quantity:1}),l({title:"Added to cart",description:"Product has been added to your cart."})}catch{l({variant:"destructive",title:"Error",description:"Failed to add product to cart."})}}return i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):t?s.jsxs("div",{className:"container py-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(z,{variant:"ghost",asChild:!0,className:"mb-4 pl-0",children:s.jsxs(Qe,{to:"/",children:[s.jsx(ml,{className:"mr-2 h-4 w-4"})," Back to Home"]})}),s.jsx("h1",{className:"text-4xl font-bold mb-2",children:t.name}),t.description&&s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:t.description})]}),a.length===0?s.jsx("div",{className:"text-center py-20 bg-muted/20 rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-lg",children:"No products found in this collection."})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(u=>{var h;return s.jsxs(je,{className:"flex flex-col",children:[s.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted",children:(h=u.images)!=null&&h[0]?s.jsx("img",{src:u.images[0],alt:u.name,className:"object-cover w-full h-full hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No Image"})}),s.jsx(et,{children:s.jsx(at,{className:"line-clamp-1",children:s.jsx(Qe,{to:`/products/${u.id}`,className:"hover:underline",children:u.name})})}),s.jsx(Ce,{className:"flex-1",children:s.jsxs("p",{className:"font-bold text-lg",children:["$",Number(u.price).toFixed(2)]})}),s.jsx(Ru,{children:s.jsxs(z,{className:"w-full",onClick:()=>d(u.id),children:[s.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})})]},u.id)})})]}):s.jsxs("div",{className:"container py-10 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Collection not found"}),s.jsx(z,{asChild:!0,children:s.jsx(Qe,{to:"/",children:"Back to Home"})})]})}function Hle(){const{t:e}=Ct(),{toast:t}=Rt(),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(new Set);f.useEffect(()=>{u()},[]);const u=async()=>{try{const[p,g]=await Promise.all([he.getCategories(),he.getBrands().catch(()=>[])]),x=Array.isArray(p)?p:(p==null?void 0:p.categories)||[],y=new Map;x.forEach(b=>{y.set(b.id,{...b,children:[]})}),x.forEach(b=>{if(b.parentId&&y.has(b.parentId)){const v=y.get(b.parentId);v.children=v.children||[],v.children.push(y.get(b.id))}});const w=Array.from(y.values()).filter(b=>!b.parentId);a(w),i(Array.isArray(g)?g:[])}catch(p){console.error("Failed to load data:",p),t({title:e("common.error"),description:"  ",variant:"destructive"}),a([]),i([])}finally{l(!1)}},h=p=>{d(g=>{const x=new Set(g);return x.has(p)?x.delete(p):x.add(p),x})},m=(p,g=0)=>{const x=p.children&&p.children.length>0,y=c.has(p.id);return s.jsxs("div",{className:g>0?"mr-4 border-r-2 border-primary/20 pr-4":"",children:[s.jsx("div",{className:"group",children:s.jsx(je,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 mb-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary/20 via-primary/10 to-primary/5 flex items-center justify-center relative overflow-hidden shrink-0",children:p.image?s.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):s.jsx(vi,{className:"h-12 w-12 text-primary/40"})}),s.jsxs(Ce,{className:"flex-1 p-4 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Qe,{to:`/categories/${p.id}`,className:"flex-1",children:s.jsx("h2",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:p.name})}),s.jsxs("div",{className:"flex items-center gap-2",children:[p.productCount!==void 0&&p.productCount>0&&s.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[p.productCount," "]}),x&&s.jsx(z,{variant:"ghost",size:"sm",onClick:w=>{w.preventDefault(),h(p.id)},className:"p-1 h-8 w-8",children:y?s.jsx(zi,{className:"h-4 w-4"}):s.jsx(Ms,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:p.description||" "})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[x&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.children.length,"  "]}),s.jsx(Qe,{to:`/categories/${p.id}`,children:s.jsx(z,{variant:"ghost",size:"sm",className:"p-2",children:s.jsx(ta,{className:"h-4 w-4"})})})]})]})]})})}),x&&y&&s.jsx("div",{className:"mr-6 mb-4",children:p.children.map(w=>m(w,g+1))})]},p.id)};return s.jsx("div",{className:"min-h-screen",children:s.jsxs("div",{className:"container py-8",children:[n.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(am,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-2xl font-bold",children:" "}),s.jsx(Ze,{variant:"outline",children:n.length})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(p=>s.jsx(Qe,{to:`/products?brandId=${p.id}`,className:"group",children:s.jsx(je,{className:"px-4 py-2 hover:shadow-md hover:border-primary/50 transition-all",children:s.jsxs("span",{className:"font-medium group-hover:text-primary transition-colors",children:[p.name,p.nameAr&&p.nameAr!==p.name&&s.jsxs("span",{className:"text-muted-foreground mr-2",children:["(",p.nameAr,")"]})]})})},p.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(vi,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e("categories.title","")}),r.length>0&&s.jsx(Ze,{variant:"outline",children:r.length})]}),s.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"  "})]}),o?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-primary"})}):r.length===0?s.jsx(je,{className:"text-center py-16",children:s.jsxs(Ce,{children:[s.jsx(vi,{className:"h-20 w-20 mx-auto text-muted-foreground/50 mb-6"}),s.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"  "}),s.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"    "}),s.jsx(Qe,{to:"/products",children:s.jsx(z,{children:"  "})})]})}):s.jsx("div",{className:"space-y-2",children:r.map(p=>m(p))})]})})}function qle(){const{id:e}=jm(),{toast:t}=Rt(),{t:r,i18n:a}=Ct(),[n,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(!0);f.useEffect(()=>{g();const v=()=>{g()};return window.addEventListener("productsUpdated",v),()=>{window.removeEventListener("productsUpdated",v)}},[e]);const g=async()=>{try{p(!0);const[v,N]=await Promise.all([he.get(`/categories/${e}`),he.getCategories()]);i(v);const j=Array.isArray(N)?N:(N==null?void 0:N.categories)||[];l(j);const k=j.filter(T=>T.parentId===e);d(k),console.log(" [Storefront] Loading products for category:",e);const S=await he.getProducts({limit:1e3});console.log(" [Storefront] All products response:",S);const C=Array.isArray(S)?S:(S==null?void 0:S.data)||(S==null?void 0:S.products)||[];console.log(" [Storefront] All products list:",C.length,"products"),C.length>0&&console.log(" [Storefront] First product sample:",{id:C[0].id,name:C[0].name,categories:C[0].categories,categoriesType:typeof C[0].categories,isArray:Array.isArray(C[0].categories),categoryId:C[0].categoryId,isAvailable:C[0].isAvailable,isPublished:C[0].isPublished});const A=await he.getProducts({categoryId:e,limit:1e3});console.log(" [Storefront] Filtered products response (categoryId):",A);const E=Array.isArray(A)?A:(A==null?void 0:A.data)||(A==null?void 0:A.products)||[];console.log(" [Storefront] Filtered products list:",E.length,"products");const P=C.map(T=>{let _=[];return T.categories&&Array.isArray(T.categories)&&(_=T.categories.map(O=>{var F;return typeof O=="string"?{categoryId:O}:{categoryId:O.categoryId||O.id||((F=O.category)==null?void 0:F.id),category:O.category,id:O.id}})),{...T,categories:_,price:Number(T.price)||0,compareAtPrice:T.compareAtPrice?Number(T.compareAtPrice):void 0,isAvailable:T.isAvailable!==!1&&T.isAvailable!==void 0,isPublished:T.isPublished!==!1&&T.isPublished!==void 0}}).filter(T=>{var O;if(!T.isAvailable||!T.isPublished)return!1;const _=((O=T.categories)==null?void 0:O.some(F=>{var R;return(F.categoryId||F.id||((R=F.category)==null?void 0:R.id))===e}))||T.categoryId===e;return _&&console.log(" [Storefront] Product belongs to category:",T.name,"categories:",T.categories),_});console.log(" [Storefront] Final filtered products for category",e,":",P.length,"products"),h(P)}catch(v){console.error("Failed to load category:",v),t({title:"  ",description:"     .    .",variant:"destructive"})}finally{p(!1)}},x=()=>{if(!n)return[];const v=[];let N=n.parentId,j=0;for(;N&&j<10;){const k=o.find(S=>S.id===N);if(k)v.unshift(k),N=k.parentId;else break;j++}return v};if(m)return s.jsx(Rp,{});if(!n)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-20",children:s.jsxs(je,{className:"p-12 text-center border-0 shadow-lg",children:[s.jsx(Tt,{className:"h-20 w-20 mx-auto text-gray-400 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"       "}),s.jsx(Qe,{to:"/categories",children:s.jsx(z,{children:"  "})})]})})});const y=x(),w=a.language==="ar",b=w?$c:Ms;return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"mb-6 flex items-center flex-wrap gap-2 text-sm",children:[s.jsx(Qe,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors font-medium",children:w?Hn:si}),s.jsx(b,{className:"h-4 w-4 text-gray-400"}),s.jsx(Qe,{to:"/categories",className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:r("nav.categories","")}),s.jsx(b,{className:"h-4 w-4 text-gray-400"}),y.map(v=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{to:`/categories/${v.id}`,className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors",children:v.name}),s.jsx(b,{className:"h-4 w-4 text-gray-400"})]},v.id)),s.jsx("span",{className:"text-primary font-medium",children:n.name})]}),s.jsxs("div",{className:"mb-12",children:[n.image&&s.jsx("div",{className:"w-full h-64 mb-6 rounded-2xl overflow-hidden",children:s.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:n.name}),n.description&&s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl",children:n.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[u.length," ",u.length===1?"":""]}),c.length>0&&s.jsxs(Ze,{variant:"outline",children:[c.length,"  "]})]})]}),c.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[s.jsx(vi,{className:"h-6 w-6 text-primary"})," "]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(v=>s.jsx(Qe,{to:`/categories/${v.id}`,className:"group",children:s.jsx(je,{className:"overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center p-4 gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center shrink-0 overflow-hidden",children:v.image?s.jsx("img",{src:v.image,alt:v.name,className:"w-full h-full object-cover"}):s.jsx(vi,{className:"h-8 w-8 text-primary/40"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold group-hover:text-primary transition-colors truncate",children:v.name}),v.productCount!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.productCount," "]})]}),s.jsx(ta,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all shrink-0"})]})})},v.id))})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[s.jsx(Tt,{className:"h-6 w-6 text-primary"}),""]}),u.length===0?s.jsx(je,{className:"p-12 text-center",children:s.jsxs(Ce,{children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c.length>0?"     ":"      "}),s.jsx(Qe,{to:"/products",children:s.jsx(z,{children:"  "})})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(v=>s.jsx(Ej,{product:v},v.id))})]})]})})}function rd(){const{slug:e}=jm(),t=Tn(),[r]=Nm(),a=r.get("preview")==="true",[n,i]=f.useState(null),[o,l]=f.useState(!0),c=f.useMemo(()=>{if(e)return e;let y=t.pathname.replace(/^\//,"").replace(/\/$/,"");return y.startsWith("page/")&&(y=y.replace("page/","")),y},[e,t.pathname]);if(f.useEffect(()=>{l(!0),i(null),c?(async()=>{try{const w=await he.getPageBySlug(c);w&&(a||w.isPublished)?i(w):i(null)}catch{i(null)}finally{l(!1)}})():l(!1)},[c,a]),o)return s.jsx(Rp,{});if(!n)return s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page not found"}),s.jsx("p",{className:"text-gray-600",children:"The requested page does not exist."})]});const u=a&&n.draftContent?n.draftContent:n.content,h=(u==null?void 0:u.sections)??[],m=["merchant-dashboard","product-list","store-page","support-tickets","favorites-page","balance-operations","employees-page","permissions-page","charge-wallet","reports-page","profile-page","categories-hierarchy","bank-accounts"],p=h.some(y=>m.includes(y.type)),g=p?"transparent":(u==null?void 0:u.backgroundColor)||"#ffffff",x=p?!1:(u==null?void 0:u.isDarkMode)||!1;return s.jsxs(Je.div,{className:`min-h-screen p-6 ${x?"dark":""}`,style:{backgroundColor:g},initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100",children:n.title})}),h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"This page has no content yet."})}):s.jsx("div",{className:"space-y-8",children:h.map((y,w)=>s.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1,duration:.3},children:s.jsx(kw,{section:y})},y.id))})]})}function Jut(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(""),[h,m]=f.useState(new Set),[p,g]=f.useState(!1),[x,y]=f.useState(!1),[w,b]=f.useState(""),[v,N]=f.useState(null),{toast:j}=Rt(),k=Kr(),{user:S}=$s(),C=V=>{const q=V.split(":")[0];if(q.includes(".localhost")){const Y=q.split(".localhost");return Y[0]&&Y[0]!=="localhost"&&Y[0]!=="127"?Y[0]:null}if(q==="localhost"||q==="127.0.0.1")return null;if(q.endsWith(".saeaa.com")&&q!=="saeaa.com"&&q!=="www.saeaa.com"){const Y=q.split(".");if(Y.length>=3&&Y[0]!=="www"&&Y[0]!=="app")return Y[0]}if(q.endsWith(".saeaa.net")&&q!=="saeaa.net"&&q!=="www.saeaa.net"){const Y=q.split(".");if(Y.length>=3&&Y[0]!=="www"&&Y[0]!=="app")return Y[0]}return null},A=V=>{const q=window.location.protocol,Y=window.location.hostname,U=window.location.port,Z=U?`:${U}`:"",J=C(Y);let K;v?K=v:S!=null&&S.tenantSubdomain?K=S.tenantSubdomain:J&&!J.startsWith("tenant-")?K=J:(console.warn("No valid subdomain found for preview URL. Using default."),K="default"),console.log(" Generating preview URL:",{slug:V,tenantSubdomain:v,userTenantSubdomain:S==null?void 0:S.tenantSubdomain,extractedSubdomain:J,finalSubdomain:K,hostname:Y});let se="saeaa.com";return Y.includes("saeaa.net")?se="saeaa.net":Y.includes("saeaa.com")&&(se="saeaa.com"),Y==="localhost"||Y==="127.0.0.1"||Y.includes(".localhost")?`${q}//${K}.localhost${Z}/${V}`:`${q}//${K}.${se}/${V}`};f.useEffect(()=>{P(),T(),D()},[]);const E=!!(S!=null&&S.tenantId&&S.tenantId!=="default"&&S.tenantId!=="system"),D=async()=>{var V;try{console.log(" Loading tenant info for preview URLs...");const q=await Kk.getCurrentUserTenant();if(console.log(" Tenant API response:",q),q!=null&&q.subdomain){console.log(" Using subdomain from tenant API:",q.subdomain),N(q.subdomain);return}try{const Z=await he.get("/site-config",{requireAuth:!0});if(console.log(" Site-config response:",Z),(V=Z==null?void 0:Z.settings)!=null&&V.subdomain){console.log(" Using subdomain from site-config:",Z.settings.subdomain),N(Z.settings.subdomain);return}}catch(Z){console.warn(" Failed to load subdomain from site-config:",Z)}if(S!=null&&S.tenantSubdomain){console.log(" Using subdomain from user context:",S.tenantSubdomain),N(S.tenantSubdomain);return}const Y=window.location.hostname,U=C(Y);U&&!U.startsWith("tenant-")?(console.log(" Using extracted subdomain from hostname:",U),N(U)):console.warn(" Could not determine subdomain. Preview URLs may not work correctly.")}catch(q){console.error(" Failed to load tenant info:",q);const Y=window.location.hostname,U=C(Y);U&&!U.startsWith("tenant-")?(console.log(" Using extracted subdomain as fallback:",U),N(U)):S!=null&&S.tenantSubdomain&&(console.log(" Using user tenantSubdomain as last resort:",S.tenantSubdomain),N(S.tenantSubdomain))}},P=async()=>{try{c(!0);const V=S==null?void 0:S.tenantId,q=await FK.getPages(!0);let Y=Array.isArray(q)?q:[];Y=Y.filter(U=>U&&typeof U=="object"&&U.id&&!("error"in U)&&!("statusCode"in U)),n(Y)}catch(V){console.error("Failed to load pages:",V),j({title:"  ",description:"  .    .",variant:"destructive"})}finally{c(!1)}},T=async()=>{try{const V=await VA.getTemplates();o(V)}catch(V){console.error("Failed to load templates:",V)}},_=async()=>{if(w.trim())try{c(!0);const V=w.toLowerCase().replace(/\s+/g,"-");await he.createPage({title:w,slug:V,content:{sections:[]},isPublished:!1}),j({title:"  ",description:"   ."}),b(""),g(!1),P()}catch{j({title:"",description:"  .",variant:"destructive"})}finally{c(!1)}},O=async V=>{if(confirm(e("pages.manager.deleteConfirm")))try{c(!0),await he.deletePage(V),j({title:e("common.success"),description:e("pages.manager.deleteSuccess")}),P()}catch{j({title:e("common.error"),description:e("pages.manager.deleteError"),variant:"destructive"})}finally{c(!1)}},F=async()=>{if(h.size!==0&&confirm(e("pages.manager.bulkDeleteConfirm",{count:h.size})))try{c(!0),await Promise.all(Array.from(h).map(V=>he.deletePage(V))),j({title:e("common.success"),description:e("pages.manager.bulkDeleteSuccess",{count:h.size})}),m(new Set),P()}catch{j({title:e("common.error"),description:e("pages.manager.bulkDeleteError"),variant:"destructive"})}finally{c(!1)}},I=async V=>{try{c(!0),await he.createPage({title:`${V.title} ()`,slug:`${V.slug}-copy-${Date.now()}`,content:V.content,isPublished:!1}),j({title:" ",description:"   ."}),P()}catch{j({title:"",description:"  .",variant:"destructive"})}finally{c(!1)}},R=async V=>{try{c(!0);const q=V.name.toLowerCase().replace(/\s+/g,"-");await he.createPage({title:V.name,slug:`${q}-${Date.now()}`,content:V.content,isPublished:!1}),j({title:" ",description:"     ."}),y(!1),P()}catch{j({title:"",description:"    .",variant:"destructive"})}finally{c(!1)}},L=V=>{const q=new Set(h);q.has(V)?q.delete(V):q.add(V),m(q)},H=()=>{h.size===a.length?m(new Set):m(new Set(a.map(V=>V.id)))},W=async()=>{try{if(c(!0),!(S!=null&&S.tenantId)||S.tenantId==="default"||S.tenantId==="system"){j({title:"  ",description:"      .     .",variant:"destructive"}),k("/dashboard/market-setup");return}const V=await he.getPages().catch(()=>[]),q=new Set((Array.isArray(V)?V:[]).map(Re=>Re.slug)),Ne=[{slug:"store",content:{sections:[{type:"hero",props:{title:"Digital Cards Store",titleAr:"  ",titleEn:"Digital Cards Store",subtitle:"Best digital cards at the best prices",subtitleAr:"    ",subtitleEn:"Best digital cards at the best prices",buttonText:"Browse Now",buttonTextAr:" ",buttonTextEn:"Browse Now",backgroundImage:"https://images.unsplash.com/photo-1614850523296-d8c1af93d400?q=80&w=2070&auto=format&fit=crop",overlayOpacity:.6,textAlign:"center",contentPosition:"center",minHeight:"400px",animationType:"animate-aurora"}},{type:"store-page",props:{title:"Store",titleAr:"",titleEn:"Store",showCart:!0,showBrands:!0,layout:"grid"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Store",titleAr:" -   ",titleEn:"Store - Digital Cards Store",seoTitle:"Store",seoTitleAr:" -   ",seoTitleEn:"Store - Digital Cards Store",seoDescription:"Digital cards store with shopping cart and brand selection",seoDescAr:"        ",seoDescEn:"Digital cards store with shopping cart and brand selection"},{slug:"customer-orders",content:{sections:[{type:"customer-orders",props:{title:"My Orders",titleAr:"",titleEn:"My Orders",subtitle:"View all your orders with the status of each order",subtitleAr:"      ",subtitleEn:"View all your orders with the status of each order",showSearch:!0,showFilters:!0,showStatusBadge:!0,itemsPerPage:10,layout:"table"}}],backgroundColor:"transparent",isDarkMode:!1},title:"My Orders",titleAr:"",titleEn:"My Orders",seoTitle:"My Orders",seoTitleAr:"",seoTitleEn:"My Orders",seoDescription:"View all your orders with status",seoDescAr:"      ",seoDescEn:"View all your orders with status"},{slug:"categories",content:{sections:[{type:"categories-hierarchy",props:{title:"Browse Categories & Products",titleAr:"  ",titleEn:"Browse Categories & Products",subtitle:"Discover our wide range of digital cards",subtitleAr:"     ",subtitleEn:"Discover our wide range of digital cards",productsPerCategory:12,productsColumns:4,productsLayout:"grid",showAddToCart:!0,theme:"aurora"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Categories & Products",titleAr:" ",titleEn:"Categories & Products",seoTitle:"Categories & Products",seoTitleAr:" ",seoTitleEn:"Categories & Products",seoDescription:"Browse categories, subcategories and products",seoDescAr:"    ",seoDescEn:"Browse categories, subcategories and products"},{slug:"profile",content:{sections:[{type:"profile-page",props:{title:"Account Settings",titleAr:" ",titleEn:"Account Settings",showSecuritySettings:!0,showNotificationSettings:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Profile",titleAr:" ",titleEn:"Profile",seoTitle:"Profile",seoTitleAr:" ",seoTitleEn:"Profile",seoDescription:"Customer profile",seoDescAr:"  ",seoDescEn:"Customer profile"},{slug:"charge-wallet",content:{sections:[{type:"charge-wallet",props:{title:"Charge Wallet",titleAr:"  ",titleEn:"Charge Wallet",showBankTransfer:!0,showOnlinePayment:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Charge Wallet",titleAr:" ",titleEn:"Charge Wallet",seoTitle:"Charge Wallet",seoTitleAr:" ",seoTitleEn:"Charge Wallet",seoDescription:"Charge wallet balance",seoDescAr:"  ",seoDescEn:"Charge wallet balance"},{slug:"favorites",content:{sections:[{type:"favorites-page",props:{title:"Favorite Cards",titleAr:" ",titleEn:"Favorite Cards",showCart:!0,layout:"grid"}}],backgroundColor:"transparent",isDarkMode:!1},title:"Favorite Cards",titleAr:" ",titleEn:"Favorite Cards",seoTitle:"Favorite Cards",seoTitleAr:" ",seoTitleEn:"Favorite Cards",seoDescription:"Favorite cards with shopping cart",seoDescAr:"    ",seoDescEn:"Favorite cards with shopping cart"},{slug:"support",content:{sections:[{type:"support-tickets",props:{title:"Support Tickets",titleAr:"  ",titleEn:"Support Tickets",showCreateButton:!0,showStatusFilter:!0}}],backgroundColor:"transparent",isDarkMode:!1},title:"Support",titleAr:"",titleEn:"Support",seoTitle:"Support",seoTitleAr:"",seoTitleEn:"Support",seoDescription:"Support page and ticket management",seoDescAr:"   ",seoDescEn:"Support page and ticket management"}].filter(Re=>!q.has(Re.slug));if(Ne.length===0){j({title:e("pages.allPagesExist","All pages exist"),description:e("pages.allDigitalCardsPagesExist","All digital cards store pages already exist"),variant:"default"});return}const ye=await Promise.all(Ne.map(Re=>he.createPage({title:Re.title,titleAr:Re.titleAr,titleEn:Re.titleEn,slug:Re.slug,content:Re.content,isPublished:!0,seoTitle:Re.seoTitle,seoTitleAr:Re.seoTitleAr,seoTitleEn:Re.seoTitleEn,seoDescription:Re.seoDescription,seoDescAr:Re.seoDescAr,seoDescEn:Re.seoDescEn})));j({title:e("pages.createdSuccessfully","Created Successfully"),description:e("pages.digitalCardsCreated",`Successfully created ${ye.length} pages for digital cards store`,{count:ye.length}),variant:"default"}),setTimeout(()=>{P()},500)}catch(V){const q=V;console.error("Failed to create digital cards store pages:",q),j({title:e("pages.creationError","Creation Error"),description:(q==null?void 0:q.message)||e("pages.digitalCardsCreationError","An error occurred while creating digital cards store pages. Please try again."),variant:"destructive"})}finally{c(!1)}},M=a.filter(V=>{var q,Y;return((q=V.title)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||((Y=V.slug)==null?void 0:Y.toLowerCase().includes(d.toLowerCase()))});f.useEffect(()=>{m(new Set)},[d]);const G={total:a.length,published:a.filter(V=>V.isPublished).length,drafts:a.filter(V=>!V.isPublished).length};return E?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-orange-500 to-teal-500 bg-clip-text text-transparent",children:e("dashboard.pages.title"," ")}),s.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:e("dashboard.pages.description","    ")})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{variant:"outline",size:"lg",className:"border-2",onClick:P,disabled:l,children:[s.jsx(Xl,{className:`h-5 w-5 ml-2 ${l?"animate-spin":""}`}),""]}),s.jsxs(z,{variant:"outline",size:"lg",className:"border-2 border-teal-500/20 hover:border-teal-500/40 text-teal-600 dark:text-teal-400",onClick:W,disabled:l,children:[s.jsx(Vs,{className:"h-5 w-5 ml-2"}),"  "]}),s.jsxs(Qt,{open:p,onOpenChange:g,children:[s.jsx(Qx,{asChild:!0,children:s.jsxs(z,{size:"lg",className:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20",id:"tour-pages-add-btn",children:[s.jsx(Gt,{className:"h-5 w-5 ml-2"})," "]})}),s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"  "}),s.jsx(ur,{children:"     ."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" "}),s.jsx(me,{placeholder:":    ...",value:w,onChange:V=>b(V.target.value)})]}),s.jsx(z,{className:"w-full",onClick:_,disabled:l,children:l?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):" "})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(je,{className:"bg-card border-2 border-border",children:[s.jsx(et,{className:"pb-2",children:s.jsxs(at,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})," "]})}),s.jsx(Ce,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:G.total})})]}),s.jsxs(je,{className:"bg-card border-2 border-border",children:[s.jsx(et,{className:"pb-2",children:s.jsxs(at,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-success"}),e("pages.manager.status.published")]})}),s.jsx(Ce,{children:s.jsx("div",{className:"text-3xl font-bold text-success",children:G.published})})]}),s.jsxs(je,{className:"bg-card border-2 border-border",children:[s.jsx(et,{className:"pb-2",children:s.jsxs(at,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),e("pages.manager.filters.draft")]})}),s.jsx(Ce,{children:s.jsx("div",{className:"text-3xl font-bold text-accent",children:G.drafts})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-card p-4 rounded-xl border-2 border-border shadow-sm",children:[s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Or,{className:`absolute ${r?"right-3":"left-3"} top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground`}),s.jsx(me,{placeholder:e("pages.manager.searchPlaceholder"),className:`${r?"pr-10":"pl-10"} h-11 border-border focus:border-primary`,value:d,onChange:V=>u(V.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[h.size>0&&s.jsxs(z,{variant:"destructive",onClick:F,className:"shadow-lg shadow-red-100",children:[s.jsx(_r,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.bulkDelete")," (",h.size,")"]}),s.jsxs(Qt,{open:x,onOpenChange:y,children:[s.jsx(Qx,{asChild:!0,children:s.jsxs(z,{variant:"outline",className:"border-2",children:[s.jsx(AL,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.templates")]})}),s.jsxs(Yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"   "}),s.jsx(ur,{children:"      ."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 py-4",children:i.map(V=>s.jsxs(je,{className:"overflow-hidden hover:border-primary transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"aspect-video bg-muted flex items-center justify-center relative overflow-hidden",children:[V.thumbnail?s.jsx("img",{src:V.thumbnail,alt:V.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):s.jsx(AL,{className:"h-12 w-12 text-muted-foreground"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(z,{onClick:()=>R(V),children:"  "})})]}),s.jsxs(et,{className:"p-4",children:[s.jsx(at,{className:"text-lg",children:V.name}),s.jsx(Vt,{children:V.description})]})]},V.id))})]})]})]})]}),s.jsx("div",{className:"bg-card rounded-xl border-2 border-border shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto table-responsive",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50 border-b-2 border-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-12",children:s.jsx(Ki,{checked:h.size===a.length&&a.length>0,onCheckedChange:H})}),s.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.page")}),s.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.slug")}),s.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.status")}),s.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.lastUpdated")}),s.jsx("th",{className:"p-4 font-bold text-foreground",children:e("pages.manager.table.actions")})]})}),s.jsx("tbody",{className:"divide-y",children:l&&a.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"p-12 text-center",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:e("pages.manager.loading")})]})}):M.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"p-12 text-center",children:[s.jsx("div",{className:"bg-muted w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ua,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:e("pages.manager.noPages")}),s.jsx(z,{variant:"link",className:"text-primary mt-2",onClick:()=>g(!0),children:e("pages.manager.createFirst")})]})}):M.map(V=>s.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group border-b border-border last:border-0",children:[s.jsx("td",{className:"p-4",children:s.jsx(Ki,{checked:h.has(V.id),onCheckedChange:()=>L(V.id)})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary",children:s.jsx(ua,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-foreground",children:V.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",V.id.substring(0,8),"..."]})]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("code",{className:"bg-muted px-2 py-1 rounded text-sm text-muted-foreground",children:["/",V.slug]})}),s.jsx("td",{className:"p-4",children:V.isPublished?s.jsx(Ze,{className:"bg-success/10 text-success border-success/20 hover:bg-success/20",children:e("pages.manager.status.published")}):s.jsx(Ze,{variant:"outline",className:"text-accent border-accent/30 bg-accent/5",children:e("pages.manager.status.draft")})}),s.jsx("td",{className:"p-4 text-muted-foreground text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4"}),new Date(V.updatedAt).toLocaleDateString(r?"ar-SA":"en-US")]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:`flex items-center gap-2 ${r?"justify-start":"justify-end"}`,children:[s.jsxs(z,{variant:"ghost",size:"sm",className:"hover:bg-primary/10 hover:text-primary",onClick:()=>k(`/builder/${V.id}`),children:[s.jsx(La,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.actions.edit")]}),s.jsx(z,{variant:"ghost",size:"sm",className:"hover:bg-[hsl(var(--teal)/0.1)] hover:text-[hsl(var(--teal))]",asChild:!0,children:s.jsxs("a",{href:A(V.slug),target:"_blank",rel:"noopener noreferrer",children:[s.jsx(fr,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.actions.preview")]})}),s.jsxs(Qt,{children:[s.jsx(Qx,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",className:"hover:bg-gray-100",children:s.jsx(Gt,{className:"h-4 w-4"})})}),s.jsx(Yt,{className:"w-48 p-2",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs(z,{variant:"ghost",size:"sm",className:"justify-start font-normal",onClick:()=>I(V),children:[s.jsx($l,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.actions.duplicate")]}),s.jsxs(z,{variant:"ghost",size:"sm",className:"justify-start font-normal text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>O(V.id),children:[s.jsx(_r,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("pages.manager.actions.delete")]})]})})]})]})})]},V.id))})]})})})]}):s.jsx(TF,{})}function ZF(e,t,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function Zut(e,t){return e.reduce((r,a,n)=>{const i=t.get(a);return i&&(r[n]=i),r},Array(e.length))}function Y1(e){return e!==null&&e>=0}function eht(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function tht(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Gle=e=>{let{rects:t,activeIndex:r,overIndex:a,index:n}=e;const i=ZF(t,a,r),o=t[n],l=i[n];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},X1={scaleX:1,scaleY:1},rht=e=>{var t;let{activeIndex:r,activeNodeRect:a,index:n,rects:i,overIndex:o}=e;const l=(t=i[r])!=null?t:a;if(!l)return null;if(n===r){const d=i[o];return d?{x:0,y:r<o?d.top+d.height-(l.top+l.height):d.top-l.top,...X1}:null}const c=sht(i,n,r);return n>r&&n<=o?{x:0,y:-l.height-c,...X1}:n<r&&n>=o?{x:0,y:l.height+c,...X1}:{x:0,y:0,...X1}};function sht(e,t,r){const a=e[t],n=e[t-1],i=e[t+1];return a?r<t?n?a.top-(n.top+n.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):n?a.top-(n.top+n.height):0:0}const Kle="Sortable",Yle=ae.createContext({activeIndex:-1,containerId:Kle,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gle,disabled:{draggable:!1,droppable:!1}});function aht(e){let{children:t,id:r,items:a,strategy:n=Gle,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=Jie(),h=Cj(Kle,r),m=l.rect!==null,p=f.useMemo(()=>a.map(k=>typeof k=="object"&&"id"in k?k.id:k),[a]),g=o!=null,x=o?p.indexOf(o.id):-1,y=d?p.indexOf(d.id):-1,w=f.useRef(p),b=!eht(p,w.current),v=y!==-1&&x===-1||b,N=tht(i);Wc(()=>{b&&g&&u(p)},[b,p,g,u]),f.useEffect(()=>{w.current=p},[p]);const j=f.useMemo(()=>({activeIndex:x,containerId:h,disabled:N,disableTransforms:v,items:p,overIndex:y,useDragOverlay:m,sortedRects:Zut(p,c),strategy:n}),[x,h,N.draggable,N.droppable,v,p,y,c,m,n]);return ae.createElement(Yle.Provider,{value:j},t)}const nht=e=>{let{id:t,items:r,activeIndex:a,overIndex:n}=e;return ZF(r,a,n).indexOf(t)},iht=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:n,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!a||l!==i&&n===o?!1:r?!0:o!==n&&t===c},oht={duration:200,easing:"ease"},Xle="transform",lht=Ou.Transition.toString({property:Xle,duration:0,easing:"linear"}),cht={roleDescription:"sortable"};function dht(e){let{disabled:t,index:r,node:a,rect:n}=e;const[i,o]=f.useState(null),l=f.useRef(r);return Wc(()=>{if(!t&&r!==l.current&&a.current){const c=n.current;if(c){const d=Q0(a.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}r!==l.current&&(l.current=r)},[t,r,a,n]),f.useEffect(()=>{i&&o(null)},[i]),i}function uht(e){let{animateLayoutChanges:t=iht,attributes:r,disabled:a,data:n,getNewIndex:i=nht,id:o,strategy:l,resizeObserverConfig:c,transition:d=oht}=e;const{items:u,containerId:h,activeIndex:m,disabled:p,disableTransforms:g,sortedRects:x,overIndex:y,useDragOverlay:w,strategy:b}=f.useContext(Yle),v=hht(a,p),N=u.indexOf(o),j=f.useMemo(()=>({sortable:{containerId:h,index:N,items:u},...n}),[h,n,N,u]),k=f.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:S,node:C,isOver:A,setNodeRef:E}=DN({id:o,data:j,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:D,activatorEvent:P,activeNodeRect:T,attributes:_,setNodeRef:O,listeners:F,isDragging:I,over:R,setActivatorNodeRef:L,transform:H}=Qie({id:o,data:j,attributes:{...cht,...r},disabled:v.draggable}),W=Tot(E,O),M=!!D,G=M&&!g&&Y1(m)&&Y1(y),V=!w&&I,q=V&&G?H:null,U=G?q??(l??b)({rects:x,activeNodeRect:T,activeIndex:m,overIndex:y,index:N}):null,Z=Y1(m)&&Y1(y)?i({id:o,items:u,activeIndex:m,overIndex:y}):N,J=D==null?void 0:D.id,K=f.useRef({activeId:J,items:u,newIndex:Z,containerId:h}),se=u!==K.current.items,B=t({active:D,containerId:h,isDragging:I,isSorting:M,id:o,index:N,items:u,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:d,wasDragging:K.current.activeId!=null}),Ne=dht({disabled:!B,index:N,node:C,rect:S});return f.useEffect(()=>{M&&K.current.newIndex!==Z&&(K.current.newIndex=Z),h!==K.current.containerId&&(K.current.containerId=h),u!==K.current.items&&(K.current.items=u)},[M,Z,h,u]),f.useEffect(()=>{if(J===K.current.activeId)return;if(J!=null&&K.current.activeId==null){K.current.activeId=J;return}const Re=setTimeout(()=>{K.current.activeId=J},50);return()=>clearTimeout(Re)},[J]),{active:D,activeIndex:m,attributes:_,data:j,rect:S,index:N,newIndex:Z,items:u,isOver:A,isSorting:M,isDragging:I,listeners:F,node:C,overIndex:y,over:R,setNodeRef:W,setActivatorNodeRef:L,setDroppableNodeRef:E,setDraggableNodeRef:O,transform:Ne??U,transition:ye()};function ye(){if(Ne||se&&K.current.newIndex===N)return lht;if(!(V&&!DA(P)||!d)&&(M||B))return Ou.Transition.toString({...d,property:Xle})}}function hht(e,t){var r,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}function dk(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const mht=[ws.Down,ws.Right,ws.Up,ws.Left],fht=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:n,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(mht.includes(e.code)){if(e.preventDefault(),!r||!a)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=n.get(h.id);if(m)switch(e.code){case ws.Down:a.top<m.top&&c.push(h);break;case ws.Up:a.top>m.top&&c.push(h);break;case ws.Left:a.left>m.left&&c.push(h);break;case ws.Right:a.left<m.left&&c.push(h);break}});const d=Got({active:r,collisionRect:a,droppableRects:n,droppableContainers:c,pointerCoordinates:null});let u=Iie(d,"id");if(u===(o==null?void 0:o.id)&&d.length>1&&(u=d[1].id),u!=null){const h=i.get(r.id),m=i.get(u),p=m?n.get(m.id):null,g=m==null?void 0:m.node.current;if(g&&p&&h&&m){const y=OA(g).some((k,S)=>l[S]!==k),w=Qle(h,m),b=pht(h,m),v=y||!w?{x:0,y:0}:{x:b?a.width-p.width:0,y:b?a.height-p.height:0},N={x:p.left,y:p.top};return v.x&&v.y?N:Nw(N,v)}}}};function Qle(e,t){return!dk(e)||!dk(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function pht(e,t){return!dk(e)||!dk(t)||!Qle(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function xht({onAddSection:e}){const{t}=Ct(),r=[{type:"hero",label:t("sections.hero.label","Hero"),icon:d2,description:t("sections.hero.desc","Full-width hero banner")},{type:"features",label:t("sections.features.label","Features"),icon:Bo,description:t("sections.features.desc","Feature grid")},{type:"products",label:t("sections.products.label","Products"),icon:Dr,description:t("sections.products.desc","Product showcase")},{type:"categories-hierarchy",label:t("sections.categoriesHierarchy.label","Categories Hierarchy"),icon:fG,description:t("sections.categoriesHierarchy.desc","Categories with subcategories and products")},{type:"testimonials",label:t("sections.testimonials.label","Testimonials"),icon:Bo,description:t("sections.testimonials.desc","Customer reviews")},{type:"pricing",label:t("sections.pricing.label","Pricing"),icon:Wr,description:t("sections.pricing.desc","Pricing tables")},{type:"team",label:t("sections.team.label","Team"),icon:sx,description:t("sections.team.desc","Team members")},{type:"stats",label:t("sections.stats.label","Statistics"),icon:Bo,description:t("sections.stats.desc","Number counters")},{type:"faq",label:t("sections.faq.label","FAQ"),icon:sx,description:t("sections.faq.desc","Questions & answers")},{type:"newsletter",label:t("sections.newsletter.label","Newsletter"),icon:sx,description:t("sections.newsletter.desc","Email subscription")},{type:"video",label:t("sections.video.label","Video"),icon:Ni,description:t("sections.video.desc","Embedded video")},{type:"countdown",label:t("sections.countdown.label","Countdown"),icon:sx,description:t("sections.countdown.desc","Timer countdown")},{type:"brands",label:t("sections.brands.label","Brands"),icon:EE,description:t("sections.brands.desc","Partner logos")},{type:"contact",label:t("sections.contact.label","Contact"),icon:Si,description:t("sections.contact.desc","Contact form")},{type:"slider",label:t("sections.slider.label","Image Slider"),icon:EE,description:t("sections.slider.desc","Animated image carousel")},{type:"content-slider",label:t("sections.contentSlider.label","Content Slider"),icon:nfe,description:t("sections.contentSlider.desc","Infinite scrolling content")},{type:"payments",label:t("sections.payments.label","Payment Methods"),icon:Wr,description:t("sections.payments.desc","Display accepted payment methods")},{type:"cta",label:t("sections.cta.label","Call to Action"),icon:Si,description:t("sections.cta.desc","CTA banner")},{type:"text",label:t("sections.text.label","Text Block"),icon:sx,description:t("sections.text.desc","Rich text content")},{type:"image",label:t("sections.image.label","Image"),icon:Ni,description:t("sections.image.desc","Image block")},{type:"gallery",label:t("sections.gallery.label","Gallery"),icon:EE,description:t("sections.gallery.desc","Image gallery")},{type:"merchant-dashboard",label:t("sections.merchantDashboard.label","Merchant Dashboard"),icon:Da,description:t("sections.merchantDashboard.desc","Live merchant dashboard with real data")},{type:"product-list",label:t("sections.productList.label","Product List"),icon:Dr,description:t("sections.productList.desc","Product list with search and table view")},{type:"store-page",label:t("sections.storePage.label","Store Page"),icon:d2,description:t("sections.storePage.desc","Store with shopping cart and brand cards")},{type:"support-tickets",label:t("sections.supportTickets.label","Support Tickets"),icon:un,description:t("sections.supportTickets.desc","Support tickets management page")},{type:"favorites-page",label:t("sections.favoritesPage.label","Favorites Page"),icon:dn,description:t("sections.favoritesPage.desc","Favorite cards with shopping cart")},{type:"balance-operations",label:t("sections.balanceOperations.label","Balance Operations"),icon:ca,description:t("sections.balanceOperations.desc","Wallet recharge operations list")},{type:"employees-page",label:t("sections.employeesPage.label","Employees Page"),icon:mr,description:t("sections.employeesPage.desc","Employee management page")},{type:"charge-wallet",label:t("sections.chargeWallet.label","Charge Wallet"),icon:Wr,description:t("sections.chargeWallet.desc","Wallet recharge form")},{type:"reports-page",label:t("sections.reportsPage.label","Reports Page"),icon:Da,description:t("sections.reportsPage.desc","Product and order reports")},{type:"profile-page",label:t("sections.profilePage.label","Profile Page"),icon:Gi,description:t("sections.profilePage.desc","Merchant profile page")},{type:"bank-accounts",label:t("sections.bankAccounts.label","Bank Accounts"),icon:Do,description:t("sections.bankAccounts.desc","Customer bank accounts management")}];return s.jsx("div",{className:"p-4 space-y-2",children:r.map(({type:a,label:n,icon:i,description:o})=>s.jsx(z,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",onClick:()=>e(a),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(i,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:n}),s.jsx("div",{className:"text-xs text-gray-500",children:o})]})]})},a))})}function ght({section:e,isSelected:t,isPreview:r,onSelect:a,onDelete:n,onDuplicate:i,onToggleTheme:o}){const{attributes:l,listeners:c,setNodeRef:d,transform:u,transition:h,isDragging:m}=uht({id:e.id}),p={transform:Ou.Transform.toString(u),transition:h,opacity:m?.5:1};return r?s.jsx("div",{ref:d,style:p,children:s.jsx(kw,{section:e,onToggleTheme:o})}):s.jsxs("div",{ref:d,style:p,className:`relative group ${t?"ring-2 ring-blue-500":""}`,onClick:a,children:[s.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[s.jsx(z,{size:"sm",variant:"secondary",className:"cursor-grab active:cursor-grabbing",...l,...c,children:s.jsx(Gme,{className:"w-4 h-4"})}),s.jsx(z,{size:"sm",variant:"secondary",onClick:g=>{g.stopPropagation(),i()},title:"Duplicate",children:s.jsx($l,{className:"w-4 h-4"})}),s.jsx(z,{size:"sm",variant:"destructive",onClick:g=>{g.stopPropagation(),n()},children:s.jsx(_r,{className:"w-4 h-4"})})]}),s.jsx(kw,{section:e,onToggleTheme:o})]})}function Wz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function vht(e){if(Array.isArray(e))return e}function yht(e,t,r){return(t=Cht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bht(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function wht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function qz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hz(Object(r),!0).forEach(function(a){yht(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hz(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jht(e,t){if(e==null)return{};var r,a,n=Nht(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nht(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Sht(e,t){return vht(e)||bht(e,t)||Aht(e,t)||wht()}function kht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cht(e){var t=kht(e,"string");return typeof t=="symbol"?t:t+""}function Aht(e,t){if(e){if(typeof e=="string")return Wz(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wz(e,t):void 0}}function Eht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Kz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gz(Object(r),!0).forEach(function(a){Eht(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){return t.reduceRight(function(n,i){return i(n)},a)}}function ay(e){return function t(){for(var r=this,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.length>=e.length?e.apply(this,n):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(n,l))}}}function uk(e){return{}.toString.call(e).includes("Object")}function Tht(e){return!Object.keys(e).length}function Aw(e){return typeof e=="function"}function _ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dht(e,t){return uk(t)||Jh("changeType"),Object.keys(t).some(function(r){return!_ht(e,r)})&&Jh("changeField"),t}function Oht(e){Aw(e)||Jh("selectorType")}function Iht(e){Aw(e)||uk(e)||Jh("handlerType"),uk(e)&&Object.values(e).some(function(t){return!Aw(t)})&&Jh("handlersType")}function Rht(e){e||Jh("initialIsRequired"),uk(e)||Jh("initialType"),Tht(e)&&Jh("initialContent")}function Fht(e,t){throw new Error(e[t]||e.default)}var Mht={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Jh=ay(Fht)(Mht),Q1={changes:Dht,selector:Oht,handler:Iht,initial:Rht};function Lht(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Q1.initial(e),Q1.handler(t);var r={current:e},a=ay(Uht)(r,t),n=ay(Bht)(r),i=ay(Q1.changes)(e),o=ay($ht)(r);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Q1.selector(d),d(r.current)}function c(d){Pht(a,n,i,o)(d)}return[l,c]}function $ht(e,t){return Aw(t)?t(e.current):t}function Bht(e,t){return e.current=Kz(Kz({},e.current),t),t}function Uht(e,t,r){return Aw(t)?t(e.current):Object.keys(r).forEach(function(a){var n;return(n=t[a])===null||n===void 0?void 0:n.call(t,e.current[a])}),r}var Vht={create:Lht},zht={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Wht(e){return function t(){for(var r=this,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return n.length>=e.length?e.apply(this,n):function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return t.apply(r,[].concat(n,l))}}}function Hht(e){return{}.toString.call(e).includes("Object")}function qht(e){return e||Yz("configIsRequired"),Hht(e)||Yz("configType"),e.urls?(Ght(),{paths:{vs:e.urls.monacoBase}}):e}function Ght(){console.warn(Jle.deprecation)}function Kht(e,t){throw new Error(e[t]||e.default)}var Jle={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Yz=Wht(Kht)(Jle),Yht={config:qht},Xht=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return function(n){return r.reduceRight(function(i,o){return o(i)},n)}};function Zle(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Zle(e[r],t[r]))}),qz(qz({},e),t)}var Qht={type:"cancelation",msg:"operation is manually canceled"};function yT(e){var t=!1,r=new Promise(function(a,n){e.then(function(i){return t?n(Qht):a(i)}),e.catch(n)});return r.cancel=function(){return t=!0},r}var Jht=["monaco"],Zht=Vht.create({config:zht,isInitialized:!1,resolve:null,reject:null,monaco:null}),ece=Sht(Zht,2),Pj=ece[0],qA=ece[1];function emt(e){var t=Yht.config(e),r=t.monaco,a=jht(t,Jht);qA(function(n){return{config:Zle(n.config,a),monaco:r}})}function tmt(){var e=Pj(function(t){var r=t.monaco,a=t.isInitialized,n=t.resolve;return{monaco:r,isInitialized:a,resolve:n}});if(!e.isInitialized){if(qA({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),yT(bT);if(window.monaco&&window.monaco.editor)return tce(window.monaco),e.resolve(window.monaco),yT(bT);Xht(rmt,amt)(nmt)}return yT(bT)}function rmt(e){return document.body.appendChild(e)}function smt(e){var t=document.createElement("script");return e&&(t.src=e),t}function amt(e){var t=Pj(function(a){var n=a.config,i=a.reject;return{config:n,reject:i}}),r=smt("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function nmt(){var e=Pj(function(r){var a=r.config,n=r.resolve,i=r.reject;return{config:a,resolve:n,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var a=r.m||r;tce(a),e.resolve(a)},function(r){e.reject(r)})}function tce(e){Pj().monaco||qA({monaco:e})}function imt(){return Pj(function(e){var t=e.monaco;return t})}var bT=new Promise(function(e,t){return qA({resolve:e,reject:t})}),rce={config:emt,init:tmt,__getMonacoInstance:imt},omt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},wT=omt,lmt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},cmt=lmt;function dmt({children:e}){return ae.createElement("div",{style:cmt.container},e)}var umt=dmt,hmt=umt;function mmt({width:e,height:t,isEditorReady:r,loading:a,_ref:n,className:i,wrapperProps:o}){return ae.createElement("section",{style:{...wT.wrapper,width:e,height:t},...o},!r&&ae.createElement(hmt,null,a),ae.createElement("div",{ref:n,style:{...wT.fullWidth,...!r&&wT.hide},className:i}))}var fmt=mmt,sce=f.memo(fmt);function pmt(e){f.useEffect(e,[])}var ace=pmt;function xmt(e,t,r=!0){let a=f.useRef(!0);f.useEffect(a.current||!r?()=>{a.current=!1}:e,t)}var Jo=xmt;function Wy(){}function Ix(e,t,r,a){return gmt(e,a)||vmt(e,t,r,a)}function gmt(e,t){return e.editor.getModel(nce(e,t))}function vmt(e,t,r,a){return e.editor.createModel(t,r,a?nce(e,a):void 0)}function nce(e,t){return e.Uri.parse(t)}function ymt({original:e,modified:t,language:r,originalLanguage:a,modifiedLanguage:n,originalModelPath:i,modifiedModelPath:o,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:h={},height:m="100%",width:p="100%",className:g,wrapperProps:x={},beforeMount:y=Wy,onMount:w=Wy}){let[b,v]=f.useState(!1),[N,j]=f.useState(!0),k=f.useRef(null),S=f.useRef(null),C=f.useRef(null),A=f.useRef(w),E=f.useRef(y),D=f.useRef(!1);ace(()=>{let O=rce.init();return O.then(F=>(S.current=F)&&j(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>k.current?_():O.cancel()}),Jo(()=>{if(k.current&&S.current){let O=k.current.getOriginalEditor(),F=Ix(S.current,e||"",a||r||"text",i||"");F!==O.getModel()&&O.setModel(F)}},[i],b),Jo(()=>{if(k.current&&S.current){let O=k.current.getModifiedEditor(),F=Ix(S.current,t||"",n||r||"text",o||"");F!==O.getModel()&&O.setModel(F)}},[o],b),Jo(()=>{let O=k.current.getModifiedEditor();O.getOption(S.current.editor.EditorOption.readOnly)?O.setValue(t||""):t!==O.getValue()&&(O.executeEdits("",[{range:O.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),O.pushUndoStop())},[t],b),Jo(()=>{var O,F;(F=(O=k.current)==null?void 0:O.getModel())==null||F.original.setValue(e||"")},[e],b),Jo(()=>{let{original:O,modified:F}=k.current.getModel();S.current.editor.setModelLanguage(O,a||r||"text"),S.current.editor.setModelLanguage(F,n||r||"text")},[r,a,n],b),Jo(()=>{var O;(O=S.current)==null||O.editor.setTheme(d)},[d],b),Jo(()=>{var O;(O=k.current)==null||O.updateOptions(h)},[h],b);let P=f.useCallback(()=>{var I;if(!S.current)return;E.current(S.current);let O=Ix(S.current,e||"",a||r||"text",i||""),F=Ix(S.current,t||"",n||r||"text",o||"");(I=k.current)==null||I.setModel({original:O,modified:F})},[r,t,n,e,a,i,o]),T=f.useCallback(()=>{var O;!D.current&&C.current&&(k.current=S.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...h}),P(),(O=S.current)==null||O.editor.setTheme(d),v(!0),D.current=!0)},[h,d,P]);f.useEffect(()=>{b&&A.current(k.current,S.current)},[b]),f.useEffect(()=>{!N&&!b&&T()},[N,b,T]);function _(){var F,I,R,L;let O=(F=k.current)==null?void 0:F.getModel();l||((I=O==null?void 0:O.original)==null||I.dispose()),c||((R=O==null?void 0:O.modified)==null||R.dispose()),(L=k.current)==null||L.dispose()}return ae.createElement(sce,{width:p,height:m,isEditorReady:b,loading:u,_ref:C,className:g,wrapperProps:x})}var bmt=ymt;f.memo(bmt);function wmt(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var jmt=wmt,J1=new Map;function Nmt({defaultValue:e,defaultLanguage:t,defaultPath:r,value:a,language:n,path:i,theme:o="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:h=!0,keepCurrentModel:m=!1,width:p="100%",height:g="100%",className:x,wrapperProps:y={},beforeMount:w=Wy,onMount:b=Wy,onChange:v,onValidate:N=Wy}){let[j,k]=f.useState(!1),[S,C]=f.useState(!0),A=f.useRef(null),E=f.useRef(null),D=f.useRef(null),P=f.useRef(b),T=f.useRef(w),_=f.useRef(),O=f.useRef(a),F=jmt(i),I=f.useRef(!1),R=f.useRef(!1);ace(()=>{let W=rce.init();return W.then(M=>(A.current=M)&&C(!1)).catch(M=>(M==null?void 0:M.type)!=="cancelation"&&console.error("Monaco initialization: error:",M)),()=>E.current?H():W.cancel()}),Jo(()=>{var M,G,V,q;let W=Ix(A.current,e||a||"",t||n||"",i||r||"");W!==((M=E.current)==null?void 0:M.getModel())&&(h&&J1.set(F,(G=E.current)==null?void 0:G.saveViewState()),(V=E.current)==null||V.setModel(W),h&&((q=E.current)==null||q.restoreViewState(J1.get(i))))},[i],j),Jo(()=>{var W;(W=E.current)==null||W.updateOptions(d)},[d],j),Jo(()=>{!E.current||a===void 0||(E.current.getOption(A.current.editor.EditorOption.readOnly)?E.current.setValue(a):a!==E.current.getValue()&&(R.current=!0,E.current.executeEdits("",[{range:E.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),E.current.pushUndoStop(),R.current=!1))},[a],j),Jo(()=>{var M,G;let W=(M=E.current)==null?void 0:M.getModel();W&&n&&((G=A.current)==null||G.editor.setModelLanguage(W,n))},[n],j),Jo(()=>{var W;l!==void 0&&((W=E.current)==null||W.revealLine(l))},[l],j),Jo(()=>{var W;(W=A.current)==null||W.editor.setTheme(o)},[o],j);let L=f.useCallback(()=>{var W;if(!(!D.current||!A.current)&&!I.current){T.current(A.current);let M=i||r,G=Ix(A.current,a||e||"",t||n||"",M||"");E.current=(W=A.current)==null?void 0:W.editor.create(D.current,{model:G,automaticLayout:!0,...d},u),h&&E.current.restoreViewState(J1.get(M)),A.current.editor.setTheme(o),l!==void 0&&E.current.revealLine(l),k(!0),I.current=!0}},[e,t,r,a,n,i,d,u,h,o,l]);f.useEffect(()=>{j&&P.current(E.current,A.current)},[j]),f.useEffect(()=>{!S&&!j&&L()},[S,j,L]),O.current=a,f.useEffect(()=>{var W,M;j&&v&&((W=_.current)==null||W.dispose(),_.current=(M=E.current)==null?void 0:M.onDidChangeModelContent(G=>{R.current||v(E.current.getValue(),G)}))},[j,v]),f.useEffect(()=>{if(j){let W=A.current.editor.onDidChangeMarkers(M=>{var V;let G=(V=E.current.getModel())==null?void 0:V.uri;if(G&&M.find(q=>q.path===G.path)){let q=A.current.editor.getModelMarkers({resource:G});N==null||N(q)}});return()=>{W==null||W.dispose()}}return()=>{}},[j,N]);function H(){var W,M;(W=_.current)==null||W.dispose(),m?h&&J1.set(i,E.current.saveViewState()):(M=E.current.getModel())==null||M.dispose(),E.current.dispose()}return ae.createElement(sce,{width:p,height:g,isEditorReady:j,loading:c,_ref:D,className:x,wrapperProps:y})}var Smt=Nmt,kmt=f.memo(Smt),ice=kmt;function Xz({value:e=[],onChange:t,className:r,placeholder:a="Upload images"}){const[n,i]=f.useState(!1),[o,l]=f.useState(!1),c=f.useRef(null),{toast:d}=Rt(),u=async y=>{const w=Array.from(y.target.files||[]);w.length>0&&await g(w)},h=y=>{y.preventDefault(),l(!0)},m=y=>{y.preventDefault(),l(!1)},p=async y=>{y.preventDefault(),l(!1);const w=Array.from(y.dataTransfer.files);w.length>0&&await g(w)},g=async y=>{const w=[];for(const b of y){if(!b.type.startsWith("image/")){d({title:"   ",description:` ${b.name}  `,variant:"destructive"});continue}if(b.size>5*1024*1024){d({title:"   ",description:` ${b.name}   5 `,variant:"destructive"});continue}const{isValid:v,reason:N}=await Rk(b);if(!v){d({title:"  ",description:`   ${b.name}: ${N||" "}`,variant:"destructive"});continue}w.push(b)}if(w.length!==0){i(!0);try{const v=(await koe.uploadImages(w)).map(N=>N.secureUrl||N.url);t([...e,...v]),d({title:" ",description:`  ${v.length}  `})}catch(b){console.error("Upload failed:",b),d({title:" ",description:"   .    .",variant:"destructive"})}finally{i(!1),c.current&&(c.current.value="")}}},x=y=>{const w=[...e];w.splice(y,1),t(w)};return s.jsxs("div",{className:be("w-full space-y-4",r),children:[s.jsx("div",{className:be("border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center cursor-pointer transition-colors min-h-[150px]",o?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 bg-gray-50 dark:bg-gray-900"),onDragOver:h,onDragLeave:m,onDrop:p,onClick:()=>{var y;return(y=c.current)==null?void 0:y.click()},children:n?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin text-blue-500 mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Uploading..."})]}):s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:s.jsx(Gn,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),s.jsx("p",{className:"font-medium text-sm mb-1",children:a}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Drag & drop or click to upload multiple images"})]})}),s.jsx("input",{type:"file",ref:c,onChange:u,accept:"image/*",multiple:!0,className:"hidden"}),e.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.map((y,w)=>s.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 aspect-square",children:[s.jsx("img",{src:y,alt:`Uploaded ${w+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(z,{variant:"destructive",size:"sm",onClick:()=>x(w),className:"h-8 w-8 p-0",children:s.jsx(hr,{className:"w-4 h-4"})})})]},w))})]})}const Cmt=({section:e,onUpdate:t,onClose:r})=>{const{type:a,props:n}=e,{t:i}=Ct(),[o,l]=f.useState(""),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,p]=f.useState(!1),[g,x]=f.useState(null),y=async(D,P,T)=>{x(D);try{const _=T||`Write a ${P} for my website`,O=await Gw.generateText(_,P);O.text&&N(D,O.text)}catch(_){console.error("Failed to generate AI text:",_)}finally{x(null)}},w=({fieldKey:D,fieldType:P,currentVal:T})=>s.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-purple-600 hover:text-purple-700 hover:bg-purple-50 shrink-0",onClick:()=>y(D,P,T),disabled:g===D,title:i("properties.generateAI","Generate with AI"),children:g===D?s.jsx(Ge,{className:"w-3 h-3 animate-spin"}):s.jsx(Sparkles,{className:"w-3 h-3"})}),b=()=>{l(JSON.stringify(n,null,2)),d(!0),p(!1)},v=()=>{try{const D=JSON.parse(o);t(D),d(!1)}catch(D){console.error("Invalid JSON:",D)}};f.useEffect(()=>{a==="products"&&(async()=>{try{const P=await he.getCategories();if(P&&typeof P=="object")if(Array.isArray(P)){const T=P.filter(_=>_&&typeof _=="object"&&"id"in _&&!("error"in _)&&!("statusCode"in _));h(T)}else if(P.categories&&Array.isArray(P.categories)){const T=P.categories.filter(_=>_&&typeof _=="object"&&"id"in _&&!("error"in _)&&!("statusCode"in _));h(T)}else h([]);else h([])}catch(P){console.error("Failed to fetch categories:",P),h([])}})()},[a]);const N=(D,P)=>{t({...n,[D]:P})},j=(D,P,T,_)=>{const O=[...n[D]];O[P]={...O[P],[T]:_},N(D,O)},k=(D,P)=>{const T=[...n[D]||[]];T.push(P),N(D,T)},S=(D,P)=>{const T=[...n[D]];T.splice(P,1),N(D,T)},C=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[s.jsx(Bc,{className:"w-4 h-4"}),i("properties.colors","Colors")]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.background","Background")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:s.jsx("input",{type:"color",value:n.backgroundColor||"#ffffff",onChange:D=>N("backgroundColor",D.target.value),className:"w-[150%] h-[150%] -m-[25%] cursor-pointer"})}),s.jsx(me,{value:n.backgroundColor||"#ffffff",onChange:D=>N("backgroundColor",D.target.value),className:"flex-1 h-8 text-xs"})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.text","Text")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:s.jsx("input",{type:"color",value:n.textColor||"#000000",onChange:D=>N("textColor",D.target.value),className:"w-[150%] h-[150%] -m-[25%] cursor-pointer"})}),s.jsx(me,{value:n.textColor||"#000000",onChange:D=>N("textColor",D.target.value),className:"flex-1 h-8 text-xs"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[s.jsx(d2,{className:"w-4 h-4"}),i("properties.spacing","Spacing")]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.paddingTopBottom","Vertical Padding")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.paddingY||4,"rem"]})]}),s.jsx(nd,{value:[n.paddingY||4],min:0,max:10,step:.5,onValueChange:([D])=>N("paddingY",D)})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[s.jsx(sx,{className:"w-4 h-4"}),i("properties.typography","Typography")]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.textAlignment","Text Alignment")}),s.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-md p-1 w-fit",children:[s.jsx(z,{variant:n.textAlign==="left"?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>N("textAlign","left"),children:s.jsx(dG,{className:"w-4 h-4"})}),s.jsx(z,{variant:n.textAlign==="center"||!n.textAlign?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>N("textAlign","center"),children:s.jsx(cG,{className:"w-4 h-4"})}),s.jsx(z,{variant:n.textAlign==="right"?"secondary":"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>N("textAlign","right"),children:s.jsx(uG,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.contentPosition","Content Position")}),s.jsxs(nr,{value:n.contentPosition||"center",onValueChange:D=>N("contentPosition",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"top",children:i("properties.position.top","Top")}),s.jsx(Oe,{value:"center",children:i("properties.position.center","Center")}),s.jsx(Oe,{value:"bottom",children:i("properties.position.bottom","Bottom")})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.fontSize","Font Size")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.fontSize||16,"px"]})]}),s.jsx(nd,{value:[n.fontSize||16],min:12,max:72,step:1,onValueChange:([D])=>N("fontSize",D)})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.fontWeight","Font Weight")}),s.jsxs(nr,{value:n.fontWeight||"normal",onValueChange:D=>N("fontWeight",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"light",children:i("properties.weight.light","Light")}),s.jsx(Oe,{value:"normal",children:i("properties.weight.normal","Normal")}),s.jsx(Oe,{value:"medium",children:i("properties.weight.medium","Medium")}),s.jsx(Oe,{value:"semibold",children:i("properties.weight.semibold","Semi Bold")}),s.jsx(Oe,{value:"bold",children:i("properties.weight.bold","Bold")})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.lineHeight","Line Height")}),s.jsx("span",{className:"text-xs text-gray-500",children:n.lineHeight||1.5})]}),s.jsx(nd,{value:[n.lineHeight||1.5],min:1,max:3,step:.1,onValueChange:([D])=>N("lineHeight",D)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"text-xs",children:i("properties.backgroundImage","Background Image")}),s.jsx(IN,{value:n.backgroundImage,onChange:D=>N("backgroundImage",D),placeholder:i("properties.uploadBackground","Upload background")})]})]}),A=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[s.jsx(vs,{className:"w-4 h-4"}),i("properties.animation","Animation")]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.animationType","Type")}),s.jsxs(nr,{value:n.animationType||"none",onValueChange:D=>N("animationType",D),children:[s.jsx(Jt,{children:s.jsx(cr,{placeholder:i("common.none","None")})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:i("common.none","None")}),s.jsx(Oe,{value:"fade",children:i("properties.animations.fade","Fade In")}),s.jsx(Oe,{value:"slide-up",children:i("properties.animations.slideUp","Slide Up")}),s.jsx(Oe,{value:"slide-down",children:i("properties.animations.slideDown","Slide Down")}),s.jsx(Oe,{value:"slide-left",children:i("properties.animations.slideLeft","Slide Left")}),s.jsx(Oe,{value:"slide-right",children:i("properties.animations.slideRight","Slide Right")}),s.jsx(Oe,{value:"zoom",children:i("properties.animations.zoom","Zoom In")}),s.jsx(Oe,{value:"bounce",children:i("properties.animations.bounce","Bounce")})]})]})]}),n.animationType&&n.animationType!=="none"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.duration","Duration")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.animationDuration||1,"s"]})]}),s.jsx(nd,{value:[n.animationDuration||1],min:.1,max:3,step:.1,onValueChange:([D])=>N("animationDuration",D)})]})]})]})}),E=()=>{var D,P,T;switch(a){case"header":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.companyName","Company Name")}),s.jsx(w,{fieldKey:"companyName",fieldType:"company name",currentVal:n.companyName})]}),s.jsx(me,{value:n.companyName||"",onChange:_=>N("companyName",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.logoUrl","Logo URL")}),s.jsx("div",{className:"mt-1.5",children:s.jsx(IN,{value:n.logoUrl,onChange:_=>N("logoUrl",_)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{children:i("properties.links","Navigation Links")}),(D=n.links)==null?void 0:D.map((_,O)=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(me,{value:_.label,onChange:F=>j("links",O,"label",F.target.value),placeholder:i("properties.label","Label"),className:"flex-1"}),s.jsx(me,{value:_.url,onChange:F=>j("links",O,"url",F.target.value),placeholder:i("properties.url","URL"),className:"flex-1"}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-500 hover:text-red-600",onClick:()=>S("links",O),children:s.jsx(_r,{className:"w-4 h-4"})})]},O)),s.jsxs(z,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("links",{label:i("properties.newLink","New Link"),url:"#"}),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),i("properties.addLink","Add Link")]})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showThemeToggle","Show Theme Toggle")}),s.jsx(ir,{checked:n.showThemeToggle!==!1,onCheckedChange:_=>N("showThemeToggle",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showLanguageToggle","Show Language Toggle")}),s.jsx(ir,{checked:n.showLanguageToggle!==!1,onCheckedChange:_=>N("showLanguageToggle",_)})]})]})]});case"hero":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(w,{fieldKey:"title",fieldType:"hero title",currentVal:n.title})]}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.titleSize","Title Size")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.titleSize||48,"px"]})]}),s.jsx(nd,{value:[n.titleSize||48],min:24,max:96,step:2,onValueChange:([_])=>N("titleSize",_)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.subtitle","Subtitle")}),s.jsx(w,{fieldKey:"subtitle",fieldType:"hero subtitle",currentVal:n.subtitle})]}),s.jsx(Fs,{value:n.subtitle||"",onChange:_=>N("subtitle",_.target.value),className:"mt-1.5",rows:3})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.subtitleSize","Subtitle Size")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.subtitleSize||20,"px"]})]}),s.jsx(nd,{value:[n.subtitleSize||20],min:14,max:48,step:1,onValueChange:([_])=>N("subtitleSize",_)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.buttonText","Button Text")}),s.jsx(me,{value:n.buttonText||"",onChange:_=>N("buttonText",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.buttonLink","Button Link")}),s.jsx(me,{value:n.buttonLink||"",onChange:_=>N("buttonLink",_.target.value),className:"mt-1.5"})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.buttonStyle","Button Style")}),s.jsxs(nr,{value:n.buttonStyle||"primary",onValueChange:_=>N("buttonStyle",_),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"primary",children:i("properties.styles.primary","Primary")}),s.jsx(Oe,{value:"secondary",children:i("properties.styles.secondary","Secondary")}),s.jsx(Oe,{value:"outline",children:i("properties.styles.outline","Outline")}),s.jsx(Oe,{value:"ghost",children:i("properties.styles.ghost","Ghost")})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.overlayOpacity","Overlay Opacity")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[(n.overlayOpacity||.3)*100,"%"]})]}),s.jsx(nd,{value:[n.overlayOpacity||.3],min:0,max:1,step:.1,onValueChange:([_])=>N("overlayOpacity",_)})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.minHeight","Minimum Height")}),s.jsxs(nr,{value:n.minHeight||"400px",onValueChange:_=>N("minHeight",_),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"300px",children:"300px"}),s.jsx(Oe,{value:"400px",children:"400px"}),s.jsx(Oe,{value:"500px",children:"500px"}),s.jsx(Oe,{value:"600px",children:"600px"}),s.jsx(Oe,{value:"100vh",children:i("properties.fullScreen","Full Screen")})]})]})]})]});case"features":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.sectionTitle","Section Title")}),s.jsx(w,{fieldKey:"title",fieldType:"section title",currentVal:n.title})]}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{children:i("properties.features","Features")}),(P=n.items)==null?void 0:P.map((_,O)=>s.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50 dark:bg-gray-900/50 space-y-3 relative group",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>S("items",O),children:s.jsx(_r,{className:"w-3 h-3"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"w-12",children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.icon","Icon")}),s.jsx(me,{value:_.icon||"",onChange:F=>j("items",O,"icon",F.target.value),className:"text-center"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.title","Title")}),s.jsx(me,{value:_.title||"",onChange:F=>j("items",O,"title",F.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.description","Description")}),s.jsx(Fs,{value:_.description||"",onChange:F=>j("items",O,"description",F.target.value),className:"h-16 text-xs"})]})]},O)),s.jsxs(z,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("items",{icon:"",title:i("properties.newFeature","New Feature"),description:i("properties.featureDesc","Feature description")}),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),i("properties.addFeature","Add Feature")]})]})]});case"text":return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.content","Content")}),s.jsx(w,{fieldKey:"content",fieldType:"long text content",currentVal:n.content})]}),s.jsx(Fs,{rows:12,value:n.content||"",onChange:_=>N("content",_.target.value),className:"mt-1.5 font-mono text-sm",placeholder:"Enter your text content here..."})]})});case"image":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.image","Image")}),s.jsx("div",{className:"mt-1.5",children:s.jsx(IN,{value:n.imageUrl,onChange:_=>N("imageUrl",_)})})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.altText","Alt Text")}),s.jsx(me,{value:n.altText||"",onChange:_=>N("altText",_.target.value),className:"mt-1.5"})]})]});case"products":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.category","Category")}),s.jsxs(nr,{value:n.categoryId||"all",onValueChange:_=>N("categoryId",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{placeholder:i("properties.allCategories","All Categories")})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:i("properties.allCategories","All Categories")}),u.map(_=>s.jsx(Oe,{value:_.id,children:_.nameAr||_.name},_.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.numberOfProducts","Limit")}),s.jsx(me,{type:"number",value:n.limit||8,onChange:_=>N("limit",parseInt(_.target.value)),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.layout","Layout")}),s.jsxs(nr,{value:n.layout||"grid",onValueChange:_=>N("layout",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"grid",children:i("properties.layouts.grid","Grid")}),s.jsx(Oe,{value:"carousel",children:i("properties.layouts.carousel","Carousel")}),s.jsx(Oe,{value:"list",children:i("properties.layouts.list","List")})]})]})]})]}),n.layout==="grid"&&s.jsxs("div",{children:[s.jsx(X,{children:i("properties.columns","Columns")}),s.jsxs(nr,{value:n.columns||"4",onValueChange:_=>N("columns",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"2",children:"2"}),s.jsx(Oe,{value:"3",children:"3"}),s.jsx(Oe,{value:"4",children:"4"}),s.jsx(Oe,{value:"5",children:"5"})]})]})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("h4",{className:"font-medium text-sm",children:i("properties.displayOptions","Display Options")}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showPrice","Show Price")}),s.jsx(ir,{checked:n.showPrice!==!1,onCheckedChange:_=>N("showPrice",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showAddToCart","Show Add to Cart")}),s.jsx(ir,{checked:n.showAddToCart!==!1,onCheckedChange:_=>N("showAddToCart",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showName","Show Name")}),s.jsx(ir,{checked:n.showName!==!1,onCheckedChange:_=>N("showName",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showDescription","Show Description")}),s.jsx(ir,{checked:n.showDescription||!1,onCheckedChange:_=>N("showDescription",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showImage","Show Image")}),s.jsx(ir,{checked:n.showImage!==!1,onCheckedChange:_=>N("showImage",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showRating","Show Rating")}),s.jsx(ir,{checked:n.showRating||!1,onCheckedChange:_=>N("showRating",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showStock","Show Stock Status")}),s.jsx(ir,{checked:n.showStock||!1,onCheckedChange:_=>N("showStock",_)})]})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("h4",{className:"font-medium text-sm",children:i("properties.sortingOptions","Sorting & Filtering")}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.sortBy","Sort By")}),s.jsxs(nr,{value:n.sortBy||"default",onValueChange:_=>N("sortBy",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"default",children:i("properties.sort.default","Default")}),s.jsx(Oe,{value:"price-asc",children:i("properties.sort.priceAsc","Price: Low to High")}),s.jsx(Oe,{value:"price-desc",children:i("properties.sort.priceDesc","Price: High to Low")}),s.jsx(Oe,{value:"name-asc",children:i("properties.sort.nameAsc","Name: A-Z")}),s.jsx(Oe,{value:"name-desc",children:i("properties.sort.nameDesc","Name: Z-A")}),s.jsx(Oe,{value:"newest",children:i("properties.sort.newest","Newest First")}),s.jsx(Oe,{value:"oldest",children:i("properties.sort.oldest","Oldest First")})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showOnlyAvailable","Show Only Available")}),s.jsx(ir,{checked:n.showOnlyAvailable||!1,onCheckedChange:_=>N("showOnlyAvailable",_)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{children:i("properties.showOnlyFeatured","Show Only Featured")}),s.jsx(ir,{checked:n.showOnlyFeatured||!1,onCheckedChange:_=>N("showOnlyFeatured",_)})]})]})]});case"gallery":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.images","Images")}),s.jsx("div",{className:"mt-1.5",children:s.jsx(Xz,{value:n.images||[],onChange:_=>N("images",_)})})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.columns","Columns")}),s.jsxs(nr,{value:n.columns||"3",onValueChange:_=>N("columns",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"2",children:i("properties.columnOptions.2","2 Columns")}),s.jsx(Oe,{value:"3",children:i("properties.columnOptions.3","3 Columns")}),s.jsx(Oe,{value:"4",children:i("properties.columnOptions.4","4 Columns")})]})]})]})]});case"slider":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.description","Description")}),s.jsx(Fs,{value:n.description||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.images","Images")}),s.jsx("div",{className:"mt-1.5",children:s.jsx(Xz,{value:n.images||[],onChange:_=>N("images",_)})})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.height","Height")}),s.jsx(me,{value:n.height||"500px",onChange:_=>N("height",_.target.value),className:"mt-1.5",placeholder:"500px"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.autoPlay!==!1,onChange:_=>N("autoPlay",_.target.checked),className:"rounded"}),i("properties.autoPlay","Auto Play")]})}),s.jsx("div",{children:s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.showDots!==!1,onChange:_=>N("showDots",_.target.checked),className:"rounded"}),i("properties.showDots","Show Dots")]})}),s.jsx("div",{children:s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.showArrows!==!1,onChange:_=>N("showArrows",_.target.checked),className:"rounded"}),i("properties.showArrows","Show Arrows")]})})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.interval","Interval (ms)")}),s.jsx(me,{type:"number",value:n.interval||5e3,onChange:_=>N("interval",parseInt(_.target.value)),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.animationType","Animation Type")}),s.jsxs(nr,{value:n.animationType||"slide",onValueChange:_=>N("animationType",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"slide",children:i("properties.animations.slide","Slide")}),s.jsx(Oe,{value:"fade",children:i("properties.animations.fade","Fade")})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{children:i("properties.items","Content Items")}),(n.items||[]).map((_,O)=>s.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50 dark:bg-gray-900/50 space-y-3 relative group",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>S("items",O),children:s.jsx(_r,{className:"w-3 h-3"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"w-16",children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.icon","Icon")}),s.jsx(me,{value:_.icon||"",onChange:F=>j("items",O,"icon",F.target.value),className:"text-center text-2xl",placeholder:""})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.title","Title")}),s.jsx(me,{value:_.title||"",onChange:F=>j("items",O,"title",F.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1 block",children:i("properties.description","Description")}),s.jsx(Fs,{value:_.description||"",onChange:F=>j("items",O,"description",F.target.value),className:"h-16 text-xs"})]})]},O)),s.jsxs(z,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("items",{id:`item-${Date.now()}`,icon:"",title:i("properties.newItem","New Item"),description:i("properties.itemDesc","Item description")}),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),i("properties.addItem","Add Item")]})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.direction","Direction")}),s.jsxs(nr,{value:n.direction||"horizontal",onValueChange:_=>N("direction",_),children:[s.jsx(Jt,{className:"mt-1.5",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"horizontal",children:i("properties.horizontal","Horizontal")}),s.jsx(Oe,{value:"vertical",children:i("properties.vertical","Vertical")})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.speed","Speed (seconds)")}),s.jsx(me,{type:"number",value:n.speed||20,onChange:_=>N("speed",parseInt(_.target.value)),className:"mt-1.5",min:"5",max:"60"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.itemWidth","Item Width")}),s.jsx(me,{value:n.itemWidth||"300px",onChange:_=>N("itemWidth",_.target.value),className:"mt-1.5",placeholder:"300px"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.gap","Gap")}),s.jsx(me,{value:n.gap||"2rem",onChange:_=>N("gap",_.target.value),className:"mt-1.5",placeholder:"2rem"})]})]}),s.jsx("div",{children:s.jsxs(X,{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.pauseOnHover!==!1,onChange:_=>N("pauseOnHover",_.target.checked),className:"rounded"}),i("properties.pauseOnHover","Pause on Hover")]})})]});case"cta":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.description","Description")}),s.jsx(Fs,{value:n.description||"",onChange:_=>N("description",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.buttonText","Button Text")}),s.jsx(me,{value:n.buttonText||"",onChange:_=>N("buttonText",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.buttonLink","Button Link")}),s.jsx(me,{value:n.buttonLink||"",onChange:_=>N("buttonLink",_.target.value),className:"mt-1.5"})]})]})]});case"footer":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.companyName","Company Name")}),s.jsx(me,{value:n.companyName||"",onChange:_=>N("companyName",_.target.value),className:"mt-1.5"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{children:i("properties.links","Links")}),(T=n.links)==null?void 0:T.map((_,O)=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(me,{value:_.label,onChange:F=>j("links",O,"label",F.target.value),placeholder:i("properties.label","Label"),className:"flex-1"}),s.jsx(me,{value:_.url,onChange:F=>j("links",O,"url",F.target.value),placeholder:i("properties.url","URL"),className:"flex-1"}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-9 w-9 text-red-500 hover:text-red-600",onClick:()=>S("links",O),children:s.jsx(_r,{className:"w-4 h-4"})})]},O)),s.jsxs(z,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>k("links",{label:i("properties.newLink","New Link"),url:"#"}),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),i("properties.addLink","Add Link")]})]})]});case"merchant-dashboard":case"product-list":case"store-page":case"support-tickets":case"favorites-page":case"balance-operations":case"employees-page":case"charge-wallet":case"reports-page":case"profile-page":case"categories-hierarchy":case"testimonials":case"pricing":case"team":case"stats":case"faq":case"newsletter":case"video":case"countdown":case"brands":case"contact":case"payments":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{children:i("properties.title","Title")}),s.jsx(me,{value:n.title||"",onChange:_=>N("title",_.target.value),className:"mt-1.5",placeholder:i("properties.titlePlaceholder","Enter section title")})]}),s.jsxs("div",{children:[s.jsx(X,{children:i("properties.subtitle","Subtitle")}),s.jsx(me,{value:n.subtitle||"",onChange:_=>N("subtitle",_.target.value),className:"mt-1.5",placeholder:i("properties.subtitlePlaceholder","Enter section subtitle")})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx(X,{children:i("properties.showTitle","Show Title")}),s.jsx(ir,{checked:n.showTitle!==!1,onCheckedChange:_=>N("showTitle",_)})]})]});default:return s.jsx("p",{className:"text-gray-500 text-sm",children:i("properties.noProperties","No properties available.")})}};return s.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[s.jsx("h3",{className:"font-semibold text-sm uppercase tracking-wider text-gray-500 dark:text-gray-400",children:i("properties.editSection","Edit Section")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:b,className:"h-8 w-8 p-0",title:i("properties.editCode","Edit Code"),children:s.jsx(Vh,{className:"w-4 h-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:s.jsx(hr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs(Yn,{defaultValue:"content",className:"h-full flex flex-col",children:[s.jsx("div",{className:"px-4 pt-4",children:s.jsxs(_n,{className:"w-full grid grid-cols-3",children:[s.jsx(Ar,{value:"content",children:i("properties.content","Content")}),s.jsx(Ar,{value:"style",children:i("properties.style","Style")}),s.jsx(Ar,{value:"settings",children:i("properties.settings","Settings")})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.jsx(ls,{value:"content",className:"m-0 space-y-6",children:E()}),s.jsxs(ls,{value:"style",className:"m-0",children:[C(),(a==="image"||a==="gallery"||a==="hero")&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-500 flex items-center gap-2",children:[s.jsx(d2,{className:"w-4 h-4"}),i("properties.imageEffects","Image Effects")]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.frameStyle","Frame Style")}),s.jsxs(nr,{value:n.frameStyle||"none",onValueChange:D=>N("frameStyle",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"None"}),s.jsx(Oe,{value:"rounded",children:"Rounded Corners"}),s.jsx(Oe,{value:"circle",children:"Circle"}),s.jsx(Oe,{value:"polaroid",children:"Polaroid"}),s.jsx(Oe,{value:"shadow",children:"Shadow Frame"}),s.jsx(Oe,{value:"border",children:"Border Frame"}),s.jsx(Oe,{value:"double",children:"Double Border"}),s.jsx(Oe,{value:"vintage",children:"Vintage"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx(X,{className:"text-xs",children:i("properties.borderWidth","Border Width")}),s.jsxs("span",{className:"text-xs text-gray-500",children:[n.borderWidth||0,"px"]})]}),s.jsx(nd,{value:[n.borderWidth||0],min:0,max:20,step:1,onValueChange:([D])=>N("borderWidth",D)})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.borderColor","Border Color")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border overflow-hidden shrink-0",children:s.jsx("input",{type:"color",value:n.borderColor||"#000000",onChange:D=>N("borderColor",D.target.value),className:"w-full h-full cursor-pointer"})}),s.jsx(me,{value:n.borderColor||"#000000",onChange:D=>N("borderColor",D.target.value),className:"flex-1 h-8 text-xs",placeholder:"#000000"})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.imageShadow","Shadow")}),s.jsxs(nr,{value:n.imageShadow||"none",onValueChange:D=>N("imageShadow",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"None"}),s.jsx(Oe,{value:"sm",children:"Small"}),s.jsx(Oe,{value:"md",children:"Medium"}),s.jsx(Oe,{value:"lg",children:"Large"}),s.jsx(Oe,{value:"xl",children:"Extra Large"}),s.jsx(Oe,{value:"2xl",children:"2X Large"}),s.jsx(Oe,{value:"inner",children:"Inner Shadow"})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.imageFilter","Filter")}),s.jsxs(nr,{value:n.imageFilter||"none",onValueChange:D=>N("imageFilter",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"None"}),s.jsx(Oe,{value:"grayscale",children:"Grayscale"}),s.jsx(Oe,{value:"sepia",children:"Sepia"}),s.jsx(Oe,{value:"blur",children:"Blur"}),s.jsx(Oe,{value:"brightness",children:"Bright"}),s.jsx(Oe,{value:"contrast",children:"High Contrast"}),s.jsx(Oe,{value:"saturate",children:"Saturated"}),s.jsx(Oe,{value:"hue",children:"Hue Rotate"}),s.jsx(Oe,{value:"invert",children:"Invert"})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.imageAnimation","Display Animation")}),s.jsxs(nr,{value:n.imageAnimation||"none",onValueChange:D=>N("imageAnimation",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"None"}),s.jsx(Oe,{value:"fade",children:"Fade In"}),s.jsx(Oe,{value:"slide-up",children:"Slide Up"}),s.jsx(Oe,{value:"slide-down",children:"Slide Down"}),s.jsx(Oe,{value:"slide-left",children:"Slide Left"}),s.jsx(Oe,{value:"slide-right",children:"Slide Right"}),s.jsx(Oe,{value:"zoom",children:"Zoom In"}),s.jsx(Oe,{value:"zoom-out",children:"Zoom Out"}),s.jsx(Oe,{value:"rotate",children:"Rotate In"}),s.jsx(Oe,{value:"flip",children:"Flip"}),s.jsx(Oe,{value:"parallax",children:"Parallax Scroll"}),s.jsx(Oe,{value:"ken-burns",children:"Ken Burns Effect"})]})]})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-xs mb-1.5 block",children:i("properties.hoverEffect","Hover Effect")}),s.jsxs(nr,{value:n.hoverEffect||"none",onValueChange:D=>N("hoverEffect",D),children:[s.jsx(Jt,{className:"h-8 text-xs",children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"none",children:"None"}),s.jsx(Oe,{value:"scale",children:"Scale Up"}),s.jsx(Oe,{value:"scale-down",children:"Scale Down"}),s.jsx(Oe,{value:"rotate",children:"Rotate"}),s.jsx(Oe,{value:"brightness",children:"Brighten"}),s.jsx(Oe,{value:"grayscale",children:"Remove Grayscale"}),s.jsx(Oe,{value:"blur",children:"Remove Blur"}),s.jsx(Oe,{value:"lift",children:"Lift (Shadow)"})]})]})]})]})]}),s.jsx(ls,{value:"settings",className:"m-0",children:A()})]})]})}),s.jsx(Qt,{open:c,onOpenChange:d,children:s.jsxs(Yt,{className:"max-w-4xl h-[80vh] dark:bg-gray-900 dark:border-gray-700",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2 dark:text-gray-100",children:[s.jsx(Vh,{className:"w-5 h-5"}),i("properties.editSectionCode","Edit Section Code")]}),s.jsx(ur,{className:"dark:text-gray-400",children:i("properties.editCodeDesc","Edit the section properties directly in JSON format.")})]}),s.jsx("div",{className:"flex-1 border dark:border-gray-700 rounded-lg overflow-hidden mt-4 relative",style:{backgroundColor:"#1e1e1e",height:"calc(80vh - 250px)",minHeight:"400px"},children:s.jsx("div",{style:{color:"#d4d4d4",height:"100%",width:"100%"},children:s.jsx(ice,{height:"100%",defaultLanguage:"json",value:o,onChange:D=>l(D||""),theme:"vs-dark",onMount:D=>{p(!0),setTimeout(()=>{D.layout()},100),setTimeout(()=>{D.layout()},300)},loading:s.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-300",children:[s.jsx(Ge,{className:"w-6 h-6 animate-spin mr-2"})," Loading Editor..."]}),options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,formatOnPaste:!0,formatOnType:!0,wordWrap:"on",readOnly:!1,cursorStyle:"line",renderLineHighlight:"all",scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10}}})})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>d(!1),className:"dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 dark:hover:bg-gray-700",children:i("common.cancel","Cancel")}),s.jsxs(z,{onClick:v,className:"gap-2 dark:bg-blue-600 dark:hover:bg-blue-700",children:[s.jsx(Vh,{className:"w-4 h-4"}),i("common.apply","Apply Changes")]})]})]})})]})},Amt={fashion:"bg-pink-500",electronics:"bg-blue-500",food:"bg-orange-500",beauty:"bg-purple-500",home:"bg-green-500",digital:"bg-indigo-500"};function Emt({onSelectTemplate:e,onClose:t}){const{t:r}=Ct(),[a,n]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(null),h=f.useCallback(async()=>{o(!0);try{const p=await VA.getTemplates({category:d||void 0,search:l||void 0});n(Array.isArray(p)?p:[])}catch(p){console.error("Failed to load templates:",p),p instanceof Error&&console.error("Error message:",p.message),n([])}finally{o(!1)}},[d,l]);f.useEffect(()=>{h()},[h]);const m=[{value:"fashion",label:r("templates.categories.fashion","Fashion")},{value:"electronics",label:r("templates.categories.electronics","Electronics")},{value:"food",label:r("templates.categories.food","Food & Beverage")},{value:"beauty",label:r("templates.categories.beauty","Beauty")},{value:"home",label:r("templates.categories.home","Home & Furniture")},{value:"digital",label:r("templates.categories.digital","Digital Products")}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r("templates.title","Choose a Template")}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(hr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 rtl:right-3 rtl:left-auto"}),s.jsx(me,{type:"text",placeholder:r("templates.searchPlaceholder","Search templates..."),value:l,onChange:p=>c(p.target.value),className:"pl-10 rtl:pr-10 rtl:pl-3"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[s.jsx(z,{variant:d===null?"default":"outline",size:"sm",onClick:()=>u(null),children:r("common.all","All")}),m.map(p=>s.jsx(z,{variant:d===p.value?"default":"outline",size:"sm",onClick:()=>u(p.value),children:p.label},p.value))]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:r("templates.noTemplates","No templates found")})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>s.jsxs("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>e(p),children:[s.jsxs("div",{className:`h-48 relative ${Amt[p.category]||"bg-gray-300"}`,children:[p.thumbnail?s.jsx("img",{src:p.thumbnail,alt:p.name,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white text-5xl",children:[p.category==="fashion"&&"",p.category==="electronics"&&"",p.category==="food"&&"",p.category==="beauty"&&"",p.category==="home"&&"",p.category==="digital"&&""]}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-center justify-center",children:s.jsx(z,{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:r("templates.useTemplate","Use This Template")})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:p.name}),p.isDefault&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:r("templates.official","Official")})]}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:p.description||r("templates.noDescription","No description")}),s.jsx("div",{className:"mt-3",children:s.jsx("span",{className:"text-xs text-gray-500 capitalize",children:p.category})})]})]},p.id))})})]})})}function Pmt({initialSections:e=[],onSave:t,domain:r,slug:a,initialBackgroundColor:n="#ffffff",initialDarkMode:i=!1,onBackgroundColorChange:o,onDarkModeChange:l,onPublish:c,onHistory:d,onCodeEditor:u}){const{t:h,i18n:m}=Ct(),[p,g]=f.useState(e),{toast:x}=Rt();m.language,f.useEffect(()=>{g(e)},[e]);const[y,w]=f.useState(null),[b,v]=f.useState(!1),[N,j]=f.useState(!1),[k,S]=f.useState(""),[C,A]=f.useState(n),[E,D]=f.useState(i),[P,T]=f.useState(!1),[_,O]=f.useState(""),[F,I]=f.useState(!1),R=async()=>{if(_.trim()){I(!0);try{const B=await Gw.generateDesign(_);if(B.section)g([...p,B.section]),w(B.section.id),T(!1),O(""),x({title:h("builder.aiDesignSuccess","Design Generated"),description:h("builder.aiDesignSuccessDesc","AI has created a new section for you.")});else throw new Error("Failed to generate section")}catch(B){console.error("AI Design Error:",B),x({title:h("common.error"),description:h("builder.aiDesignError","Failed to generate design. Please try again."),variant:"destructive"})}finally{I(!1)}}};f.useEffect(()=>{A(n)},[n]),f.useEffect(()=>{D(i)},[i]);const L=p.find(B=>B.id===y)||null,H=_ie(wD(IA),wD(FF,{coordinateGetter:fht})),W=B=>{const{active:Ne,over:ye}=B;ye&&Ne.id!==ye.id&&g(Re=>{const qe=Re.findIndex(fe=>fe.id===Ne.id),He=Re.findIndex(fe=>fe.id===ye.id);return ZF(Re,qe,He)})},M=B=>{const Ne={id:`section-${Date.now()}`,type:B,props:Tmt(B,h)};g([...p,Ne]),w(Ne.id)},G=(B,Ne)=>{g(ye=>ye.map(Re=>Re.id===B?{...Re,props:Ne}:Re))},V=B=>{g(Ne=>Ne.filter(ye=>ye.id!==B)),y===B&&w(null)},q=B=>{const Ne=p.findIndex(He=>He.id===B);if(Ne===-1)return;const ye=p[Ne],Re={...ye,id:`section-${Date.now()}`,props:JSON.parse(JSON.stringify(ye.props))},qe=[...p];qe.splice(Ne+1,0,Re),g(qe),w(Re.id)},Y=()=>{t==null||t(p)},U=B=>{if(B.content&&B.content.sections){const Ne=B.content.sections;g(Ne),j(!1),w(null);const ye=B.content;ye!=null&&ye.backgroundColor&&J(ye.backgroundColor),typeof(ye==null?void 0:ye.isDarkMode)=="boolean"&&ye.isDarkMode!==E&&(D(ye.isDarkMode),l==null||l(ye.isDarkMode)),t==null||t(Ne),x({title:h("builder.templateApplied"),description:h("builder.templateAppliedDesc",{name:B.name})})}else x({title:h("common.error"),description:h("builder.templateError"),variant:"destructive"})},Z=()=>{if(r&&a){const B=window.location.protocol,Ne=a==="/"?"":a.startsWith("/")?a:`/${a}`,ye=`${B}//${r}${Ne}?preview=true`;window.open(ye,"_blank")}else x({title:h("common.error"),description:h("builder.domainMissing"),variant:"destructive"})},J=B=>{A(B),o==null||o(B)},K=()=>{const B=!E;D(B),l==null||l(B)},se=p.filter(B=>{if(!k)return!0;const Ne=k.toLowerCase();return B.type.toLowerCase().includes(Ne)||JSON.stringify(B.props).toLowerCase().includes(Ne)});return s.jsxs("div",{className:"h-full flex bg-gray-50 dark:bg-gray-950",children:[s.jsxs("div",{className:"w-64 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 overflow-y-auto",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:s.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100",children:h("builder.addSections")})}),s.jsx(xht,{onAddSection:M})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs(z,{onClick:Y,className:"gap-2",children:[s.jsx(Ha,{className:"w-4 h-4"}),h("common.save")]}),c&&s.jsxs(z,{onClick:()=>c(p),className:"gap-2 bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Oa,{className:"w-4 h-4"}),h("common.publish","Publish")]}),d&&s.jsxs(z,{variant:"outline",onClick:d,className:"gap-2",children:[s.jsx(BO,{className:"w-4 h-4"}),h("common.history","History")]}),u&&s.jsxs(z,{variant:"outline",onClick:u,className:"gap-2",title:"Edit page code",children:[s.jsx(Vh,{className:"w-4 h-4"}),h("builder.codeEditor","Code")]}),s.jsxs(z,{variant:b?"default":"outline",onClick:()=>v(!b),className:"gap-2",children:[s.jsx(fr,{className:"w-4 h-4"}),h(b?"builder.editMode":"builder.preview")]}),r&&a&&s.jsxs(z,{variant:"outline",onClick:Z,className:"gap-2 text-blue-600 border-blue-200 hover:bg-blue-50 dark:text-blue-400 dark:border-blue-800 dark:hover:bg-blue-900/20",children:[s.jsx(zh,{className:"w-4 h-4"}),h("builder.livePreview","Live Site")]}),s.jsxs(z,{variant:"outline",onClick:()=>T(!0),className:"gap-2 ml-auto text-purple-600 border-purple-200 hover:bg-purple-50 dark:text-purple-400 dark:border-purple-800 dark:hover:bg-purple-900/20",children:[s.jsx(ds,{className:"w-4 h-4"}),h("builder.magicDesign","Magic Design")]}),s.jsxs(z,{variant:"outline",onClick:()=>j(!0),className:"gap-2",children:[s.jsx(Layout,{className:"w-4 h-4"}),h("builder.chooseTemplate")]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(me,{type:"text",placeholder:h("builder.searchSections","Search sections..."),value:k,onChange:B=>S(B.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{htmlFor:"bg-color",className:"text-sm whitespace-nowrap flex items-center gap-1",children:[s.jsx(Bc,{className:"w-4 h-4"}),h("builder.backgroundColor","Background")]}),s.jsx(me,{id:"bg-color",type:"color",value:C,onChange:B=>J(B.target.value),className:"w-16 h-9 cursor-pointer"})]}),s.jsx(z,{variant:"outline",size:"icon",onClick:K,className:"gap-2",title:E?h("builder.lightMode","Light Mode"):h("builder.darkMode","Dark Mode"),children:E?s.jsx(Nu,{className:"w-4 h-4"}):s.jsx(_d,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-950 p-4",children:s.jsxs("div",{className:`max-w-6xl mx-auto shadow-lg ${E?"dark":""}`,style:{backgroundColor:C},children:[s.jsx(Xie,{sensors:H,collisionDetection:qot,onDragEnd:W,children:s.jsx(aht,{items:se.map(B=>B.id),strategy:rht,children:se.map(B=>s.jsx(ght,{section:B,isSelected:y===B.id,isPreview:b,onSelect:()=>w(B.id),onDelete:()=>V(B.id),onDuplicate:()=>q(B.id),onToggleTheme:K},B.id))})}),p.length===0&&s.jsxs("div",{className:"py-20 text-center text-gray-500 dark:text-gray-400",children:[s.jsx("p",{className:"mb-4",children:h("builder.noSections")}),s.jsxs(z,{variant:"outline",onClick:()=>j(!0),className:"gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),h("builder.browseTemplates")]})]})]})})]}),L&&!b&&s.jsx("div",{className:"w-80 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 overflow-y-auto",children:s.jsx(Cmt,{section:L,onUpdate:B=>G(L.id,B),onClose:()=>w(null)})}),N&&s.jsx(Emt,{onSelectTemplate:U,onClose:()=>j(!1)}),s.jsx(Qt,{open:P,onOpenChange:T,children:s.jsxs(Yt,{className:"sm:max-w-[500px]",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5 text-purple-600"}),h("builder.aiDesignTitle","AI Magic Design")]}),s.jsx(ur,{children:h("builder.aiDesignDesc","Describe the section you want to create, and our AI will design it for you.")})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(X,{htmlFor:"ai-prompt",className:"mb-2 block",children:h("builder.aiPromptLabel","What should this section contain?")}),s.jsx(Fs,{id:"ai-prompt",placeholder:h("builder.aiPromptPlaceholder",'e.g., A hero section for a luxury watch store with a dark theme and a "Shop Now" button.'),value:_,onChange:B=>O(B.target.value),rows:4,className:"resize-none"})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>T(!1),children:h("common.cancel")}),s.jsx(z,{onClick:R,disabled:F||!_.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),h("common.generating","Generating...")]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"w-4 h-4"}),h("builder.generateDesign","Generate Design")]})})]})]})})]})}function Tmt(e,t){return{header:{companyName:t("builder.defaults.header.companyName","My Store"),logoUrl:"",links:[{label:t("builder.defaults.header.home","Home"),url:"/"},{label:t("builder.defaults.header.products","Products"),url:"/products"},{label:t("builder.defaults.header.about","About"),url:"/about"}],showThemeToggle:!0,showLanguageToggle:!0,backgroundColor:"#ffffff",textColor:"#000000"},hero:{title:t("builder.defaults.hero.title","Welcome to Our Store"),subtitle:t("builder.defaults.hero.subtitle","Discover amazing products"),buttonText:t("builder.defaults.hero.buttonText","Shop Now"),buttonLink:"/products",backgroundImage:"",textColor:"#ffffff",backgroundColor:"#000000"},features:{title:t("builder.defaults.features.title","Features"),items:[{icon:"",title:t("builder.defaults.features.fastShipping","Fast Shipping"),description:t("builder.defaults.features.fastShippingDesc","Get your orders quickly")},{icon:"",title:t("builder.defaults.features.securePayment","Secure Payment"),description:t("builder.defaults.features.securePaymentDesc","Your data is safe")},{icon:"",title:t("builder.defaults.features.giftCards","Gift Cards"),description:t("builder.defaults.features.giftCardsDesc","Perfect for any occasion")}]},products:{title:t("builder.defaults.products.title","Featured Products"),limit:8,layout:"grid",columns:"4",categoryId:"all",showPrice:!0,showAddToCart:!0,showName:!0,showDescription:!1,showImage:!0,showRating:!1,showStock:!1,sortBy:"default",showOnlyAvailable:!1,showOnlyFeatured:!1},gallery:{title:t("builder.defaults.gallery.title","Our Gallery"),images:[],columns:"3"},slider:{title:t("builder.defaults.slider.title","Image Showcase"),description:t("builder.defaults.slider.description","Browse through our collection"),images:[],autoPlay:!0,interval:5e3,showDots:!0,showArrows:!0,height:"500px",animationType:"slide"},"content-slider":{title:t("builder.defaults.contentSlider.title","Featured Content"),items:[{id:"1",icon:"",title:t("builder.defaults.contentSlider.item1","Quality Products"),description:t("builder.defaults.contentSlider.item1Desc","Top-notch quality guaranteed")},{id:"2",icon:"",title:t("builder.defaults.contentSlider.item2","Fast Delivery"),description:t("builder.defaults.contentSlider.item2Desc","Quick shipping worldwide")},{id:"3",icon:"",title:t("builder.defaults.contentSlider.item3","Premium Support"),description:t("builder.defaults.contentSlider.item3Desc","24/7 customer service")},{id:"4",icon:"",title:t("builder.defaults.contentSlider.item4","Special Offers"),description:t("builder.defaults.contentSlider.item4Desc","Exclusive deals daily")},{id:"5",icon:"",title:t("builder.defaults.contentSlider.item5","Secure Payment"),description:t("builder.defaults.contentSlider.item5Desc","Safe transactions")}],direction:"horizontal",speed:20,pauseOnHover:!0,itemWidth:"300px",itemHeight:"auto",gap:"2rem",backgroundColor:"transparent",sliderBackgroundColor:"transparent",textColor:"inherit"},cta:{title:t("builder.defaults.cta.title","Ready to get started?"),description:t("builder.defaults.cta.description","Join thousands of happy customers"),buttonText:t("builder.defaults.cta.buttonText","Get Started"),buttonLink:"/auth/signup",backgroundColor:"#3b82f6",textColor:"#ffffff"},testimonials:{title:t("builder.defaults.testimonials.title","What Our Customers Say"),items:[{id:"1",name:t("builder.defaults.testimonials.customer1","Ahmed Ali"),role:t("builder.defaults.testimonials.role1","Customer"),image:"",rating:5,text:t("builder.defaults.testimonials.text1","Excellent service and quality products!")},{id:"2",name:t("builder.defaults.testimonials.customer2","Sara Mohamed"),role:t("builder.defaults.testimonials.role2","Customer"),image:"",rating:5,text:t("builder.defaults.testimonials.text2","Fast delivery and great support!")}]},pricing:{title:t("builder.defaults.pricing.title","Choose Your Plan"),subtitle:t("builder.defaults.pricing.subtitle","Simple, transparent pricing"),plans:[{id:"1",name:t("builder.defaults.pricing.basic","Basic"),price:"99",currency:"SAR",period:t("builder.defaults.pricing.month","month"),features:[t("builder.defaults.pricing.feature1","10 Products"),t("builder.defaults.pricing.feature2","Basic Support"),t("builder.defaults.pricing.feature3","1 GB Storage")],highlighted:!1},{id:"2",name:t("builder.defaults.pricing.pro","Pro"),price:"299",currency:"SAR",period:t("builder.defaults.pricing.month","month"),features:[t("builder.defaults.pricing.feature4","Unlimited Products"),t("builder.defaults.pricing.feature5","Priority Support"),t("builder.defaults.pricing.feature6","10 GB Storage")],highlighted:!0}]},team:{title:t("builder.defaults.team.title","Meet Our Team"),subtitle:t("builder.defaults.team.subtitle","The people behind our success"),members:[{id:"1",name:t("builder.defaults.team.member1","John Doe"),role:t("builder.defaults.team.role1","CEO & Founder"),image:"",bio:t("builder.defaults.team.bio1","Leading the company vision"),social:{linkedin:"",twitter:""}}]},stats:{title:t("builder.defaults.stats.title","Our Achievements"),items:[{id:"1",number:"1000",suffix:"+",label:t("builder.defaults.stats.customers","Happy Customers")},{id:"2",number:"500",suffix:"+",label:t("builder.defaults.stats.products","Products")},{id:"3",number:"50",suffix:"+",label:t("builder.defaults.stats.countries","Countries")},{id:"4",number:"99",suffix:"%",label:t("builder.defaults.stats.satisfaction","Satisfaction")}]},faq:{title:t("builder.defaults.faq.title","Frequently Asked Questions"),subtitle:t("builder.defaults.faq.subtitle","Find answers to common questions"),items:[{id:"1",question:t("builder.defaults.faq.q1","How do I place an order?"),answer:t("builder.defaults.faq.a1","Simply browse our products and add items to your cart.")},{id:"2",question:t("builder.defaults.faq.q2","What payment methods do you accept?"),answer:t("builder.defaults.faq.a2","We accept all major credit cards and online payment methods.")}]},newsletter:{title:t("builder.defaults.newsletter.title","Subscribe to Our Newsletter"),subtitle:t("builder.defaults.newsletter.subtitle","Get the latest updates and offers"),placeholder:t("builder.defaults.newsletter.placeholder","Enter your email"),buttonText:t("builder.defaults.newsletter.button","Subscribe"),backgroundColor:"#6366f1",textColor:"#ffffff"},video:{title:t("builder.defaults.video.title","Watch Our Story"),videoUrl:"",thumbnail:"",autoPlay:!1,controls:!1,loop:!1},countdown:{title:t("builder.defaults.countdown.title","Limited Time Offer"),subtitle:t("builder.defaults.countdown.subtitle","Hurry up! Offer ends soon"),targetDate:new Date(Date.now()+6048e5).toISOString(),showDays:!0,showHours:!0,showMinutes:!0,showSeconds:!0},brands:{title:t("builder.defaults.brands.title","Trusted By Leading Brands"),logos:[],grayscale:!0,columns:"6"},contact:{title:t("builder.defaults.contact.title","Get In Touch"),subtitle:t("builder.defaults.contact.subtitle","We'd love to hear from you"),email:"info@example.com",phone:"+966 XX XXX XXXX",address:t("builder.defaults.contact.address","Riyadh, Saudi Arabia"),showMap:!0,mapUrl:""},footer:{companyName:t("builder.defaults.footer.companyName","Your Company"),links:[{label:t("builder.defaults.footer.about","About"),url:"/about"},{label:t("builder.defaults.footer.contact","Contact"),url:"/contact"},{label:t("builder.defaults.footer.privacy","Privacy"),url:"/privacy"}],socialLinks:{facebook:"",twitter:"",instagram:""}},"categories-hierarchy":{title:t("builder.defaults.categoriesHierarchy.title"," "),subtitle:t("builder.defaults.categoriesHierarchy.subtitle","    "),productsPerCategory:12,productsColumns:4,productsLayout:"grid",showAddToCart:!0}}[e]||{}}function Qz(){const{id:e}=jm(),[t]=Nm(),r=Kr(),{toast:a}=Rt(),{t:n}=Ct(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,y]=f.useState(""),[w,b]=f.useState("#ffffff"),[v,N]=f.useState(!1),[j,k]=f.useState([]),[S,C]=f.useState(!1),[A,E]=f.useState(!1),[D,P]=f.useState(""),[T,_]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const q=await he.getDomain();if(q){const Y=window.location.hostname;if(q.customDomain)g(q.customDomain);else if(Y==="saeaa.com"||Y==="www.saeaa.com")g("saeaa.com");else if(Y==="saeaa.net"||Y==="www.saeaa.net")g("saeaa.net");else{const U=Y.includes("saeaa.net")?"saeaa.net":"saeaa.com";g(`${q.subdomain}.${U}`)}}}catch(q){console.error("Failed to fetch domain:",q)}})(),e||u([{id:`section-${Date.now()}`,type:"hero",props:{title:"Welcome to Our Store",subtitle:"Discover amazing products",buttonText:"Shop Now",buttonLink:"/products",backgroundImage:"",textColor:"#ffffff",backgroundColor:"#000000"}}])},[e]);const O=f.useCallback(async()=>{if(e)try{const V=await he.getPage(e);o(V.title),c(V.slug);const q=V.draftContent||V.content;u((q==null?void 0:q.sections)||[]),b((q==null?void 0:q.backgroundColor)||"#ffffff"),N((q==null?void 0:q.isDarkMode)||!1)}catch{a({title:"Error",description:"Failed to load page",variant:"destructive"})}},[e,a]);f.useEffect(()=>{if(A){const q=JSON.stringify({sections:d||[],backgroundColor:w||"#ffffff",isDarkMode:v||!1},null,2);D!==q&&P(q)}},[A,d,w,v]);const F=V=>{V&&P(V)},I=()=>{try{const V=JSON.parse(D);if(V.sections&&Array.isArray(V.sections))u(V.sections),V.backgroundColor&&b(V.backgroundColor),typeof V.isDarkMode=="boolean"&&N(V.isDarkMode),a({title:"Success",description:"Code changes applied successfully"}),E(!1);else throw new Error("Invalid structure: sections array is required")}catch(V){a({title:"Error",description:V instanceof Error?V.message:`Invalid JSON: ${String(V)}`,variant:"destructive"})}},R=f.useCallback(async V=>{try{const q=await VA.getTemplateById(V),Y=q.content;u((Y==null?void 0:Y.sections)||[]),Y!=null&&Y.backgroundColor&&b(Y.backgroundColor),typeof(Y==null?void 0:Y.isDarkMode)=="boolean"&&N(Y.isDarkMode),y(q.name),a({title:"Template Loaded",description:`Using "${q.name}" template`})}catch(q){console.error("Failed to load template:",q),a({title:"Error",description:"Failed to load template",variant:"destructive"})}},[a]);f.useEffect(()=>{const V=t.get("templateId");e?O():V&&R(V)},[e,t,O,R]);const L=async V=>{if(!i||i.trim().length===0){a({title:"Validation Error",description:"Page title is required. Please enter a title before saving.",variant:"destructive"});return}m(!0);try{const q={sections:V,backgroundColor:w,isDarkMode:v},Y=l.trim()===""||l.trim()==="/"?"":l.trim().replace(/^\/+/,"");e?(await he.updatePage(e,{title:i.trim(),slug:Y,draftContent:q}),a({title:"Draft Saved",description:"Changes saved to draft"})):(await he.createPage({title:i.trim(),slug:Y,content:q,draftContent:q,isPublished:!1}),a({title:"Success",description:"Page created successfully"}),r("/dashboard/pages"))}catch(q){G(q)}finally{m(!1)}},H=async V=>{if(!i||i.trim().length===0){a({title:"Validation Error",description:"Page title is required. Please enter a title before publishing.",variant:"destructive"});return}m(!0);try{const q={sections:V,backgroundColor:w,isDarkMode:v},Y=l.trim()===""||l.trim()==="/"?"":l.trim().replace(/^\/+/,"");e?(await he.updatePage(e,{title:i.trim(),slug:Y,content:q,draftContent:q,isPublished:!0}),a({title:"Published",description:"Page published successfully"})):(await he.createPage({title:i.trim(),slug:Y,content:q,draftContent:q,isPublished:!0}),a({title:"Published",description:"Page created and published"}),r("/dashboard/pages"))}catch(q){G(q)}finally{m(!1)}},W=async()=>{if(e)try{const V=await he.getHistory(e);k(V),C(!0)}catch{a({title:"Error",description:"Failed to load history",variant:"destructive"})}},M=async V=>{if(e)try{await he.restoreVersion(e,V),a({title:"Restored",description:"Version restored to draft"}),O(),C(!1)}catch{a({title:"Error",description:"Failed to restore version",variant:"destructive"})}},G=V=>{let q="Failed to save page";V instanceof Error&&(q=V.message,(q.includes("slug already exists")||q.includes("Conflict"))&&(q=`A page with the slug "${l}" already exists. Please use a different URL slug.`)),a({title:"Error",description:q,variant:"destructive"})};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 dark:bg-gray-950",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-6 py-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>r("/dashboard/pages"),className:"dark:hover:bg-gray-800",children:[s.jsx(ml,{className:"w-4 h-4 mr-2"}),n("builder.backToPages")]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:["/ ",n(e?"builder.editPage":"builder.newPage"),x&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[s.jsx(ds,{className:"w-4 h-4"}),n("builder.usingTemplate",{name:x})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-2xl",children:[s.jsxs("div",{children:[s.jsx(X,{className:"text-gray-700 dark:text-gray-300",children:n("builder.pageTitle")}),s.jsx(me,{value:i,onChange:V=>o(V.target.value),placeholder:"About Us",className:"dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})]}),s.jsxs("div",{children:[s.jsx(X,{className:"text-gray-700 dark:text-gray-300",children:n("builder.urlSlug")}),s.jsx(me,{value:l,onChange:V=>c(V.target.value.toLowerCase().replace(/\s+/g,"-")),placeholder:"about-us",className:"dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(Pmt,{initialSections:d,onSave:L,onPublish:H,onHistory:e?W:void 0,onCodeEditor:()=>{const q=JSON.stringify({sections:d||[],backgroundColor:w||"#ffffff",isDarkMode:v||!1},null,2);P(q),_(!1),E(!0)},domain:p,slug:l,initialBackgroundColor:w,initialDarkMode:v,onBackgroundColorChange:b,onDarkModeChange:N})}),s.jsx(Qt,{open:S,onOpenChange:C,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:n("builder.pageHistory")}),s.jsx(ur,{children:n("builder.restoreVersion")})]}),s.jsx(xn,{className:"h-[300px] mt-4",children:s.jsx("div",{className:"space-y-4",children:j.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:n("builder.noHistory")}):j.map(V=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[n("builder.version")," ",V.version]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(fo,{className:"w-3 h-3"}),new Date(V.createdAt).toLocaleString()]})]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>M(V.id),children:n("builder.restore")})]},V.id))})})]})}),s.jsx(Qt,{open:A,onOpenChange:E,children:s.jsxs(Yt,{className:"max-w-4xl h-[80vh] dark:bg-gray-900 dark:border-gray-700",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2 dark:text-gray-100",children:[s.jsx(Vh,{className:"w-5 h-5"}),n("builder.codeEditorTitle")]}),s.jsx(ur,{className:"dark:text-gray-400",children:n("builder.codeEditorDesc")})]}),s.jsx("div",{className:"flex-1 border dark:border-gray-700 rounded-lg overflow-hidden mt-4 relative text-left",style:{backgroundColor:"#1e1e1e",height:"calc(80vh - 250px)",minHeight:"400px"},dir:"ltr",children:s.jsx("div",{style:{color:"#d4d4d4",height:"100%",width:"100%"},children:s.jsx(ice,{height:"100%",defaultLanguage:"json",value:D||JSON.stringify({sections:d||[],backgroundColor:w||"#ffffff",isDarkMode:v||!1},null,2),onChange:F,theme:"vs-dark",onMount:V=>{_(!0);const q=D||JSON.stringify({sections:d||[],backgroundColor:w||"#ffffff",isDarkMode:v||!1},null,2);V.getValue()!==q&&V.setValue(q),setTimeout(()=>{V.layout()},100),setTimeout(()=>{V.layout()},300)},loading:s.jsxs("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-300",children:[s.jsx(Ge,{className:"w-6 h-6 animate-spin mr-2"})," ",n("builder.loadingEditor")]}),options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,formatOnPaste:!0,formatOnType:!0,wordWrap:"on",readOnly:!1,cursorStyle:"line",renderLineHighlight:"all",scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10}}},A?"code-editor-open":"code-editor-closed")})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(z,{variant:"outline",onClick:()=>E(!1),className:"dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700 dark:hover:bg-gray-700",children:n("common.cancel")}),s.jsxs(z,{onClick:I,className:"gap-2 dark:bg-blue-600 dark:hover:bg-blue-700",children:[s.jsx(Vh,{className:"w-4 h-4"}),n("builder.applyChanges")]})]})]})}),s.jsx(aC,{context:{currentPage:i||"New Page",userAction:e?"editing a page":"creating a new page"}})]})}function _mt(){const{user:e,refreshUser:t,loading:r}=$s(),{toast:a}=Rt(),[n,i]=f.useState(!1),[o,l]=f.useState({email:"",avatar:""});f.useEffect(()=>{e&&l({email:e.email||"",avatar:e.avatar||""})},[e]);const c=async u=>{var g;const h=(g=u.target.files)==null?void 0:g[0];if(!h)return;const m=URL.createObjectURL(h);l(x=>({...x,avatar:m}));const p=new FormData;p.append("files",h);try{const x=await he.post("/upload/images",p,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});if(x.files&&x.files.length>0){const y=x.files[0].secureUrl||x.files[0].url;l(w=>({...w,avatar:y})),a({title:"   "})}}catch(x){console.error("Upload failed",x),a({title:"  ",description:"   ",variant:"destructive"})}},d=async u=>{u.preventDefault(),i(!0);try{await Vi.updateProfile(o),await t(),a({title:" ",description:"    "})}catch(h){console.error(h),a({title:"   ",description:"     .    .",variant:"destructive"})}finally{i(!1)}};return r?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"   "})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{children:" "}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative h-20 w-20 rounded-full border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-muted",children:[o.avatar?s.jsx("img",{src:o.avatar,alt:"Avatar",className:"h-full w-full object-cover"}):s.jsx(Gi,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:c})]}),s.jsxs("div",{children:[s.jsx(X,{children:" "}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"  .    ."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(me,{id:"email",type:"email",value:o.email,disabled:!0,className:"pr-10 bg-muted"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(z,{type:"submit",disabled:n,children:[n&&s.jsx(Ge,{className:"ml-2 h-4 w-4 animate-spin"})," "]})})]})})]})]})}function oce(){const{toast:e}=Rt(),[t,r]=f.useState({name:"",email:"",subject:"",message:""}),a=i=>{i.preventDefault(),e({title:"  ",description:"     "}),r({name:"",email:"",subject:"",message:""})},n=[{question:"   ",answer:'           " ".           .'},{question:"   ",answer:'  " "   .      :        .'},{question:"  ",answer:"       .         ."},{question:"  ",answer:'  " "   ""    " ".     .'},{question:"   ",answer:'   ""   .     DNS     .'},{question:"   ",answer:' " "   " ".          .'}];return s.jsxs("div",{className:"space-y-6 pb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:s.jsx(Lme,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h3",{className:"font-semibold",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:s.jsx(Lw,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"font-semibold",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:s.jsx(ua,{className:"h-6 w-6 text-purple-600"})}),s.jsx("h3",{className:"font-semibold",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})})}),s.jsx(je,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{localStorage.removeItem("tour_completed"),window.location.href="/dashboard"},children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-full",children:s.jsx(vG,{className:"h-6 w-6 text-yellow-600"})}),s.jsx("h3",{className:"font-semibold",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(DO,{className:"h-5 w-5"})," "]}),s.jsx(Vt,{children:"    "})]}),s.jsx(Ce,{children:s.jsx(rle,{type:"single",collapsible:!0,className:"w-full",children:n.map((i,o)=>s.jsxs(GF,{value:`item-${o}`,children:[s.jsx(KF,{className:"text-right",children:i.question}),s.jsx(YF,{className:"text-muted-foreground",children:i.answer})]},o))})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsxs(at,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5"}),"  "]}),s.jsx(Vt,{children:"     "})]}),s.jsxs(Ce,{children:[s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"name",children:""}),s.jsx(me,{id:"name",value:t.name,onChange:i=>r({...t,name:i.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:" "}),s.jsx(me,{id:"email",type:"email",value:t.email,onChange:i=>r({...t,email:i.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"subject",children:""}),s.jsx(me,{id:"subject",value:t.subject,onChange:i=>r({...t,subject:i.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"message",children:""}),s.jsx(Fs,{id:"message",value:t.message,onChange:i=>r({...t,message:i.target.value}),rows:5,required:!0})]}),s.jsx(z,{type:"submit",className:"w-full md:w-auto",children:" "})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"  "}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(la,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"support@saeaa.com"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Si,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"+966 50 123 4567"})]})]})]})]})]}),s.jsx(aC,{context:{currentPage:"Help & Support",userAction:"Seeking help or documentation"}})]})}function nc(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pm(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Dmt(e,t){const r=nc(e);return isNaN(t)?pm(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const lce=6048e5,Omt=864e5;let Imt={};function GA(){return Imt}function Ew(e,t){var l,c,d,u;const r=GA(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=nc(e),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function hk(e){return Ew(e,{weekStartsOn:1})}function cce(e){const t=nc(e),r=t.getFullYear(),a=pm(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=hk(a),i=pm(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=hk(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Jz(e){const t=nc(e);return t.setHours(0,0,0,0),t}function Zz(e){const t=nc(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Rmt(e,t){const r=Jz(e),a=Jz(t),n=+r-Zz(r),i=+a-Zz(a);return Math.round((n-i)/Omt)}function Fmt(e){const t=cce(e),r=pm(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hk(r)}function Mmt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lmt(e){if(!Mmt(e)&&typeof e!="number")return!1;const t=nc(e);return!isNaN(Number(t))}function $mt(e){const t=nc(e),r=pm(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Bmt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Umt=(e,t,r)=>{let a;const n=Bmt[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function sg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Vmt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zmt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wmt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hmt={date:sg({formats:Vmt,defaultWidth:"full"}),time:sg({formats:zmt,defaultWidth:"full"}),dateTime:sg({formats:Wmt,defaultWidth:"full"})},qmt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gmt=(e,t,r,a)=>qmt[e];function hd(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const Kmt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ymt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xmt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qmt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jmt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zmt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eft=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tft={ordinalNumber:eft,era:hd({values:Kmt,defaultWidth:"wide"}),quarter:hd({values:Ymt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hd({values:Xmt,defaultWidth:"wide"}),day:hd({values:Qmt,defaultWidth:"wide"}),dayPeriod:hd({values:Jmt,defaultWidth:"wide",formattingValues:Zmt,defaultFormattingWidth:"wide"})};function md(e){return(t,r={})=>{const a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?sft(l,h=>h.test(o)):rft(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function rft(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function sft(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function dce(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const aft=/^(\d+)(th|st|nd|rd)?/i,nft=/\d+/i,ift={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oft={any:[/^b/i,/^(a|c)/i]},lft={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cft={any:[/1/i,/2/i,/3/i,/4/i]},dft={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uft={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hft={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mft={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fft={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pft={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xft={ordinalNumber:dce({matchPattern:aft,parsePattern:nft,valueCallback:e=>parseInt(e,10)}),era:md({matchPatterns:ift,defaultMatchWidth:"wide",parsePatterns:oft,defaultParseWidth:"any"}),quarter:md({matchPatterns:lft,defaultMatchWidth:"wide",parsePatterns:cft,defaultParseWidth:"any",valueCallback:e=>e+1}),month:md({matchPatterns:dft,defaultMatchWidth:"wide",parsePatterns:uft,defaultParseWidth:"any"}),day:md({matchPatterns:hft,defaultMatchWidth:"wide",parsePatterns:mft,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:fft,defaultMatchWidth:"any",parsePatterns:pft,defaultParseWidth:"any"})},uce={code:"en-US",formatDistance:Umt,formatLong:Hmt,formatRelative:Gmt,localize:tft,match:xft,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gft(e){const t=nc(e);return Rmt(t,$mt(t))+1}function vft(e){const t=nc(e),r=+hk(t)-+Fmt(t);return Math.round(r/lce)+1}function hce(e,t){var u,h,m,p;const r=nc(e),a=r.getFullYear(),n=GA(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=pm(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Ew(o,t),c=pm(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=Ew(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function yft(e,t){var l,c,d,u;const r=GA(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=hce(e,t),i=pm(e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Ew(i,t)}function bft(e,t){const r=nc(e),a=+Ew(r,t)-+yft(r,t);return Math.round(a/lce)+1}function Ys(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const rh={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Ys(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ys(r+1,2)},d(e,t){return Ys(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ys(e.getHours()%12||12,t.length)},H(e,t){return Ys(e.getHours(),t.length)},m(e,t){return Ys(e.getMinutes(),t.length)},s(e,t){return Ys(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return Ys(n,t.length)}},tx={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eW={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return rh.y(e,t)},Y:function(e,t,r,a){const n=hce(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return Ys(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ys(i,t.length)},R:function(e,t){const r=cce(e);return Ys(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ys(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ys(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ys(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return rh.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ys(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const n=bft(e,a);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):Ys(n,t.length)},I:function(e,t,r){const a=vft(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Ys(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):rh.d(e,t)},D:function(e,t,r){const a=gft(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ys(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ys(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ys(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return Ys(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let n;switch(a===12?n=tx.noon:a===0?n=tx.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let n;switch(a>=17?n=tx.evening:a>=12?n=tx.afternoon:a>=4?n=tx.morning:n=tx.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return rh.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):rh.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ys(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ys(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):rh.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):rh.s(e,t)},S:function(e,t){return rh.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return rW(a);case"XXXX":case"XX":return nf(a);case"XXXXX":case"XXX":default:return nf(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return rW(a);case"xxxx":case"xx":return nf(a);case"xxxxx":case"xxx":default:return nf(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tW(a,":");case"OOOO":default:return"GMT"+nf(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tW(a,":");case"zzzz":default:return"GMT"+nf(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Ys(a,t.length)},T:function(e,t,r){const a=e.getTime();return Ys(a,t.length)}};function tW(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?r+String(n):r+String(n)+t+Ys(i,2)}function rW(e,t){return e%60===0?(e>0?"-":"+")+Ys(Math.abs(e)/60,2):nf(e,t)}function nf(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),n=Ys(Math.trunc(a/60),2),i=Ys(a%60,2);return r+n+t+i}const sW=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mce=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wft=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return sW(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sW(a,t)).replace("{{time}}",mce(n,t))},jft={p:mce,P:wft},Nft=/^D+$/,Sft=/^Y+$/,kft=["D","DD","YY","YYYY"];function Cft(e){return Nft.test(e)}function Aft(e){return Sft.test(e)}function Eft(e,t,r){const a=Pft(e,t,r);if(console.warn(a),kft.includes(e))throw new RangeError(a)}function Pft(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tft=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ft=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dft=/^'([^]*?)'?$/,Oft=/''/g,Ift=/[a-zA-Z]/;function KA(e,t,r){var u,h,m,p,g,x,y,w;const a=GA(),n=(r==null?void 0:r.locale)??a.locale??uce,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??a.weekStartsOn??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,l=nc(e);if(!Lmt(l))throw new RangeError("Invalid time value");let c=t.match(_ft).map(b=>{const v=b[0];if(v==="p"||v==="P"){const N=jft[v];return N(b,n.formatLong)}return b}).join("").match(Tft).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:Rft(b)};if(eW[v])return{isToken:!0,value:b};if(v.match(Ift))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(b=>{if(!b.isToken)return b.value;const v=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Aft(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Cft(v))&&Eft(v,t,String(e));const N=eW[v[0]];return N(l,v,n.localize,d)}).join("")}function Rft(e){const t=e.match(Dft);return t?t[1].replace(Oft,"'"):e}function Z1(e,t){return Dmt(e,-t)}const Fft={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Mft=(e,t,r)=>{const a=Fft[e];let n;return typeof a=="string"?n=a:t===1?n=a.one:t===2?n=a.two:t<=10?n=a.threeToTen.replace("{{count}}",String(t)):n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+n:" "+n:n},Lft={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},$ft={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Bft={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uft={date:sg({formats:Lft,defaultWidth:"full"}),time:sg({formats:$ft,defaultWidth:"full"}),dateTime:sg({formats:Bft,defaultWidth:"full"})},Vft={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},zft=e=>Vft[e],Wft={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Hft={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},qft={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Gft={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Kft={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Yft={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Xft=e=>String(e),Qft={ordinalNumber:Xft,era:hd({values:Wft,defaultWidth:"wide"}),quarter:hd({values:Hft,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hd({values:qft,defaultWidth:"wide"}),day:hd({values:Gft,defaultWidth:"wide"}),dayPeriod:hd({values:Kft,defaultWidth:"wide",formattingValues:Yft,defaultFormattingWidth:"wide"})},Jft=/^(\d+)(th|st|nd|rd)?/i,Zft=/\d+/i,ept={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},tpt={any:[//,//]},rpt={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},spt={any:[/1/i,/2/i,/3/i,/4/i]},apt={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},npt={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},ipt={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},opt={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},lpt={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},cpt={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},dpt={ordinalNumber:dce({matchPattern:Jft,parsePattern:Zft,valueCallback:e=>parseInt(e,10)}),era:md({matchPatterns:ept,defaultMatchWidth:"wide",parsePatterns:tpt,defaultParseWidth:"any"}),quarter:md({matchPatterns:rpt,defaultMatchWidth:"wide",parsePatterns:spt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:md({matchPatterns:apt,defaultMatchWidth:"wide",parsePatterns:npt,defaultParseWidth:"any"}),day:md({matchPatterns:ipt,defaultMatchWidth:"wide",parsePatterns:opt,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:lpt,defaultMatchWidth:"any",parsePatterns:cpt,defaultParseWidth:"any"})},eM={code:"ar",formatDistance:Mft,formatLong:Uft,formatRelative:zft,localize:Qft,match:dpt,options:{weekStartsOn:6,firstWeekContainsDate:1}},aW={TOPUP:{labelKey:"dashboard.wallet.transactionTypes.TOPUP",icon:b4,color:"text-green-500"},PURCHASE:{labelKey:"dashboard.wallet.transactionTypes.PURCHASE",icon:o2,color:"text-red-500"},REFUND:{labelKey:"dashboard.wallet.transactionTypes.REFUND",icon:b4,color:"text-green-500"},BONUS:{labelKey:"dashboard.wallet.transactionTypes.BONUS",icon:Gt,color:"text-green-500"},WITHDRAWAL:{labelKey:"dashboard.wallet.transactionTypes.WITHDRAWAL",icon:o2,color:"text-red-500"},ADJUSTMENT:{labelKey:"dashboard.wallet.transactionTypes.ADJUSTMENT",icon:Xl,color:"text-blue-500"}},rx={PENDING:{labelKey:"dashboard.wallet.status.PENDING",variant:"secondary",icon:fo},APPROVED:{labelKey:"dashboard.wallet.status.APPROVED",variant:"default",icon:ks},COMPLETED:{labelKey:"dashboard.wallet.status.COMPLETED",variant:"default",icon:ks},REJECTED:{labelKey:"dashboard.wallet.status.REJECTED",variant:"destructive",icon:Cs},FAILED:{labelKey:"dashboard.wallet.status.FAILED",variant:"destructive",icon:Cs}};function upt(){var Z,J;const{t:e,i18n:t}=Ct(),r=t.language==="ar",{user:a,loading:n}=$s(),[i,o]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState([]),[x,y]=f.useState(!0),[w,b]=f.useState(!1),[v,N]=f.useState(null),[j,k]=f.useState(!1),[S,C]=f.useState(null),[A,E]=f.useState(!1),[D,P]=f.useState(!1),[T,_]=f.useState(""),[O,F]=f.useState(!1),[I,R]=f.useState({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),[L,H]=f.useState(null);f.useEffect(()=>{(async()=>{if(!n){if(!(a!=null&&a.tenantId)){y(!1);return}try{y(!0);const[se,B,Ne,ye,Re]=await Promise.all([Ns.getBalance().catch(()=>({id:"",balance:0,currency:"SAR",updatedAt:new Date().toISOString()})),Ns.getTransactions(1,50).catch(()=>({data:[],total:0,page:1,limit:50,totalPages:0})),Ns.getTopUpRequests().catch(()=>[]),Ns.getBanks().catch(()=>[]),Ns.getAllBanks().catch(()=>[])]);o({id:se.id||"",balance:typeof se.balance=="string"?parseFloat(se.balance):se.balance||0,currency:se.currency||"SAR",lastUpdated:se.updatedAt||new Date().toISOString()}),c(B.data||[]),u(Array.isArray(Ne)?Ne:[]),m(Array.isArray(ye)?ye:[]),g(Array.isArray(Re)?Re:[])}catch(se){console.error("Error fetching wallet data:",se),Tr.error(e("common.error"))}finally{y(!1)}}})()},[e,n,a==null?void 0:a.tenantId]);const W=K=>{try{const se=new Date(K);return KA(se,"dd/MM/yyyy HH:mm",{locale:r?eM:void 0})}catch{return K}},M=async()=>{if(!I.name||!I.code||!I.accountName||!I.accountNumber||!I.iban){Tr.error(e("dashboard.wallet.banksTab.fillRequired"));return}try{k(!0),v?(await Ns.updateBank(v.id,I,L||void 0),Tr.success(e("dashboard.wallet.banksTab.updateSuccess"))):(await Ns.createBank(I,L||void 0),Tr.success(e("dashboard.wallet.banksTab.saveSuccess"))),b(!1),N(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),H(null);const[K,se]=await Promise.all([Ns.getBanks().catch(()=>[]),Ns.getAllBanks().catch(()=>[])]);m(Array.isArray(K)?K:[]),g(Array.isArray(se)?se:[])}catch(K){console.error("Error saving bank:",K);const se=K instanceof Error?K.message:e("dashboard.wallet.banksTab.saveError");Tr.error(se)}finally{k(!1)}},G=async K=>{if(confirm(e("dashboard.wallet.banksTab.deleteConfirm")))try{await Ns.deleteBank(K),Tr.success(e("dashboard.wallet.banksTab.deleteSuccess"));const[se,B]=await Promise.all([Ns.getBanks().catch(()=>[]),Ns.getAllBanks().catch(()=>[])]);m(Array.isArray(se)?se:[]),g(Array.isArray(B)?B:[])}catch(se){console.error("Error deleting bank:",se);const B=se instanceof Error?se.message:e("dashboard.wallet.banksTab.deleteError");Tr.error(B)}},V=K=>{N(K),R({name:K.name,nameAr:K.nameAr||"",code:K.code,accountName:K.accountName,accountNumber:K.accountNumber,iban:K.iban,swiftCode:K.swiftCode||"",isActive:K.isActive,sortOrder:K.sortOrder}),H(null),b(!0)},q=K=>{C(K),E(!0)},Y=async()=>{if(S&&confirm(e("dashboard.wallet.requestsTab.approveConfirm",{amount:S.amount,currency:S.currency})))try{P(!0),await Ns.approveTopUp(S.id),Tr.success(e("dashboard.wallet.requestsTab.approveSuccess"));const[K,se,B]=await Promise.all([Ns.getBalance().catch(()=>({id:"",balance:0,currency:"SAR",updatedAt:new Date().toISOString()})),Ns.getTransactions(1,50).catch(()=>({data:[],total:0,page:1,limit:50,totalPages:0})),Ns.getTopUpRequests().catch(()=>[])]);o({id:K.id||"",balance:typeof K.balance=="string"?parseFloat(K.balance):K.balance||0,currency:K.currency||"SAR",lastUpdated:K.updatedAt||new Date().toISOString()}),c(se.data||[]),u(Array.isArray(B)?B:[]),E(!1),C(null)}catch(K){console.error("Error approving request:",K);const se=K instanceof Error?K.message:e("dashboard.wallet.requestsTab.approveError");Tr.error(se)}finally{P(!1)}},U=async()=>{if(!S||!T.trim()){Tr.error(e("dashboard.wallet.requestsTab.rejectConfirm"));return}try{P(!0),await Ns.rejectTopUp(S.id,T),Tr.success(e("dashboard.wallet.requestsTab.rejectSuccess"));const K=await Ns.getTopUpRequests().catch(()=>[]);u(Array.isArray(K)?K:[]),E(!1),F(!1),C(null),_("")}catch(K){console.error("Error rejecting request:",K);const se=K instanceof Error?K.message:e("dashboard.wallet.requestsTab.rejectError");Tr.error(se)}finally{P(!1)}};return x?s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(ca,{className:"h-6 w-6"}),e("dashboard.wallet.pageTitle")]})}),s.jsx(je,{className:"bg-gradient-to-br from-blue-500/10 via-indigo-500/5 to-background border-blue-500/20",children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:s.jsx(Do,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:e("dashboard.wallet.pageTitle")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.pageDesc")})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("dashboard.wallet.totalBanks")}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:h.length})]}),s.jsx("div",{className:"h-12 w-px bg-border"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("dashboard.wallet.totalTransactions")}),s.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:l.length})]})]})]})})}),s.jsxs(Yn,{defaultValue:"transactions",children:[s.jsxs(_n,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ar,{value:"transactions",className:"gap-2",children:[s.jsx(kL,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.transactions")]}),s.jsxs(Ar,{value:"requests",className:"gap-2",children:[s.jsx(fo,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.requests")]}),s.jsxs(Ar,{value:"bank-accounts",className:"gap-2",children:[s.jsx(Do,{className:"h-4 w-4"}),e("dashboard.wallet.tabs.banks")]})]}),s.jsx(ls,{value:"transactions",children:s.jsx(je,{children:s.jsx(Ce,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kL,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.noTransactions","No transactions yet")})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:r?"text-right":"",children:e("common.type","Type")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.amount")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.description")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.status")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.date")})]})}),s.jsx(ss,{children:l.map(K=>{const se=aW[K.type]||aW.ADJUSTMENT,B=rx[K.status]||rx.PENDING,Ne=se.icon,ye=["TOPUP","REFUND","BONUS"].includes(K.type);return s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ne,{className:be("h-4 w-4",se.color)}),e(se.labelKey)]})}),s.jsxs(ke,{className:be("font-semibold",ye?"text-green-600":"text-red-600"),children:[ye?"+":"-"," ",typeof K.amount=="string"?parseFloat(K.amount).toFixed(2):K.amount.toFixed(2)," ",K.currency]}),s.jsx(ke,{className:"text-muted-foreground",children:r?K.descriptionAr||K.description||"-":K.description||"-"}),s.jsx(ke,{children:s.jsx(Ze,{variant:B.variant,children:e(B.labelKey)})}),s.jsx(ke,{className:"text-muted-foreground",children:W(K.createdAt)})]},K.id)})})]})})})}),s.jsx(ls,{value:"requests",children:s.jsx(je,{children:s.jsx(Ce,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(fo,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.requestsTab.noRequests")})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.amount")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.requestsTab.method")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.status")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.date")}),s.jsx(Ee,{className:r?"text-right":"",children:e("dashboard.wallet.actions")})]})}),s.jsx(ss,{children:d.map(K=>{const se=rx[K.status]||rx.PENDING,B=se.icon;return s.jsxs(jt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>q(K),children:[s.jsxs(ke,{className:"font-semibold",children:[typeof K.amount=="string"?parseFloat(K.amount).toFixed(2):K.amount.toFixed(2)," ",K.currency]}),s.jsx(ke,{children:K.paymentMethod}),s.jsx(ke,{children:s.jsxs(Ze,{variant:se.variant,className:"gap-1",children:[s.jsx(B,{className:"h-3 w-3"}),e(se.labelKey)]})}),s.jsx(ke,{className:"text-muted-foreground",children:W(K.createdAt)}),s.jsx(ke,{children:s.jsxs(z,{variant:"ghost",size:"sm",onClick:Ne=>{Ne.stopPropagation(),q(K)},className:"gap-2",children:[s.jsx(fr,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.viewDetails")]})})]},K.id)})})]})})})}),s.jsx(ls,{value:"bank-accounts",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(at,{children:e("dashboard.wallet.banksTab.title")}),s.jsx(Vt,{children:e("dashboard.wallet.banksTab.desc")})]}),s.jsxs(Qt,{open:w,onOpenChange:K=>{b(K),K||(N(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),H(null))},children:[s.jsx(Qx,{asChild:!0,children:s.jsxs(z,{className:"gap-2",onClick:()=>{N(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),H(null)},children:[s.jsx(Gt,{className:"h-4 w-4"}),e("dashboard.wallet.banksTab.addBank")]})}),s.jsxs(Yt,{className:"max-w-lg",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(Do,{className:"h-5 w-5"}),e(v?"dashboard.wallet.banksTab.editBankTitle":"dashboard.wallet.banksTab.addBankTitle")]}),s.jsx(ur,{children:e("dashboard.wallet.banksTab.dialogDesc")})]}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[e("dashboard.wallet.banksTab.bankName")," *"]}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.bankName"),value:I.name,onChange:K=>R({...I,name:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:e("dashboard.wallet.banksTab.bankNameAr")}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.bankNameAr"),value:I.nameAr||"",onChange:K=>R({...I,nameAr:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[e("dashboard.wallet.banksTab.bankCode")," *"]}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.bankCode"),value:I.code,onChange:K=>R({...I,code:K.target.value}),disabled:!!v}),v&&s.jsx("p",{className:"text-xs text-muted-foreground",children:e("dashboard.wallet.banksTab.bankCodeHint")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:e("dashboard.wallet.banksTab.bankLogo")}),s.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:L?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("img",{src:URL.createObjectURL(L),alt:"Logo preview",className:"h-16 w-16 object-contain"}),s.jsx("span",{className:"text-sm",children:L.name}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>H(null),children:s.jsx(Cs,{className:"h-4 w-4"})})]}):v&&v.logo?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("img",{src:v.logo,alt:"Current logo",className:"h-16 w-16 object-contain"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.banksTab.currentLogo")})]}):s.jsxs("label",{className:"cursor-pointer",children:[s.jsx(Gn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.banksTab.uploadLogo")}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:K=>{var se;return H(((se=K.target.files)==null?void 0:se[0])||null)}})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[e("dashboard.wallet.banksTab.accountName")," *"]}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.accountName"),value:I.accountName,onChange:K=>R({...I,accountName:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[e("dashboard.wallet.banksTab.accountNumber")," *"]}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.accountNumber"),value:I.accountNumber,onChange:K=>R({...I,accountNumber:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{children:[e("dashboard.wallet.banksTab.iban")," *"]}),s.jsx(me,{placeholder:"SA1234567890123456789012",value:I.iban,onChange:K=>R({...I,iban:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:e("dashboard.wallet.banksTab.swiftCode")}),s.jsx(me,{placeholder:e("dashboard.wallet.banksTab.swiftCode"),value:I.swiftCode||"",onChange:K=>R({...I,swiftCode:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:e("dashboard.wallet.banksTab.sortOrder")}),s.jsx(me,{type:"number",placeholder:"0",value:I.sortOrder,onChange:K=>R({...I,sortOrder:parseInt(K.target.value)||0})})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:I.isActive,onChange:K=>R({...I,isActive:K.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),s.jsx(X,{htmlFor:"isActive",className:"cursor-pointer",children:e("dashboard.wallet.banksTab.active")})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>{b(!1),N(null),R({name:"",nameAr:"",code:"",accountName:"",accountNumber:"",iban:"",swiftCode:"",isActive:!0,sortOrder:0}),H(null)},children:e("common.cancel","Cancel")}),s.jsxs(z,{onClick:M,disabled:j||!I.name||!I.code||!I.accountName||!I.accountNumber||!I.iban,children:[j&&s.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),e(v?"dashboard.wallet.banksTab.saveChanges":"dashboard.wallet.banksTab.addBank")]})]})]})]})]})}),s.jsx(Ce,{children:p.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Do,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("dashboard.wallet.banksTab.noBanks")}),s.jsx("p",{className:"text-sm mb-4",children:e("dashboard.wallet.banksTab.noBanksDesc")}),s.jsxs(z,{onClick:()=>b(!0),children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.banksTab.addBank")]})]}):s.jsx("div",{className:"space-y-4",children:p.map(K=>s.jsx(je,{className:be(!K.isActive&&"opacity-60"),children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[K.logo?s.jsx("img",{src:K.logo,alt:K.name,className:"h-8 w-8 object-contain"}):s.jsx(Do,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("h3",{className:"font-semibold text-lg",children:r&&K.nameAr||K.name}),K.isActive?s.jsx(Ze,{variant:"default",className:"text-xs",children:e("common.active","Active")}):s.jsx(Ze,{variant:"secondary",className:"text-xs",children:e("common.inactive","Inactive")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.bankCode"),": "]}),s.jsx("span",{className:"font-medium",children:K.code})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountName"),": "]}),s.jsx("span",{className:"font-medium",children:K.accountName})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountNumber"),": "]}),s.jsx("span",{className:"font-mono font-medium",children:K.accountNumber})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.iban"),": "]}),s.jsx("span",{className:"font-mono font-medium text-xs",children:K.iban})]}),K.swiftCode&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.swiftCode"),": "]}),s.jsx("span",{className:"font-mono font-medium text-xs",children:K.swiftCode})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.wallet.banksTab.sortOrder"),": ",K.sortOrder]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>V(K),children:e("common.edit","Edit")}),s.jsx(z,{variant:"destructive",size:"sm",onClick:()=>G(K.id),children:e("common.delete","Delete")})]})]})})},K.id))})})]})})]}),s.jsx(Qt,{open:A,onOpenChange:E,children:s.jsxs(Yt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(ua,{className:"h-5 w-5"}),e("dashboard.wallet.requestsTab.detailsTitle")]}),s.jsx(ur,{children:e("dashboard.wallet.requestsTab.detailsDesc")})]}),S&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.amount")}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:[typeof S.amount=="string"?parseFloat(S.amount).toFixed(2):S.amount.toFixed(2)," ",S.currency]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.requestsTab.method")}),s.jsx(Ze,{variant:"outline",children:S.paymentMethod})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e("dashboard.wallet.status")}),s.jsx(Ze,{variant:((Z=rx[S.status])==null?void 0:Z.variant)||"default",children:e(((J=rx[S.status])==null?void 0:J.labelKey)||"dashboard.wallet.status.PENDING")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(ji,{className:"h-3 w-3"}),e("dashboard.wallet.date")]}),s.jsx("span",{className:"text-sm",children:W(S.createdAt)})]})]})})}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[S.bank&&s.jsxs(s.Fragment,{children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Do,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.bankInfo")]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.bankName"),": "]}),s.jsx("span",{className:"font-medium",children:r&&S.bank.nameAr||S.bank.name})]}),S.bank.accountName&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountName"),": "]}),s.jsx("span",{className:"font-medium",children:S.bank.accountName})]}),S.bank.accountNumber&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.banksTab.accountNumber"),": "]}),s.jsx("span",{className:"font-mono font-medium",children:S.bank.accountNumber})]})]})]}),S.senderName&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Gi,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.senderInfo")]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.requestsTab.senderName"),": "]}),s.jsx("span",{className:"font-medium",children:S.senderName})]}),S.transferReference&&s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[e("dashboard.wallet.requestsTab.referenceNumber"),": "]}),s.jsx("span",{className:"font-mono font-medium",children:S.transferReference})]})]})]})]})})})]}),S.notes&&s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(ua,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.notes")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.notes})]})}),S.receiptImage&&s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ni,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.receiptImage")]}),s.jsx("div",{className:"relative border rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:S.receiptImage,alt:e("dashboard.wallet.requestsTab.receipt"),className:"w-full h-auto max-h-[500px] object-contain cursor-pointer",onClick:()=>window.open(S.receiptImage,"_blank")})}),s.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.open(S.receiptImage,"_blank"),children:e("common.openInNewWindow","Open in New Window")})]})}),S.status==="REJECTED"&&S.rejectionReason&&s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 text-destructive flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4"}),e("dashboard.wallet.requestsTab.rejectionReason")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.rejectionReason})]})}),S.status==="PENDING"&&s.jsxs("div",{className:"flex gap-4 justify-end pt-4 border-t",children:[s.jsxs(z,{variant:"outline",onClick:()=>{F(!0)},disabled:D,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.reject")]}),s.jsx(z,{onClick:Y,disabled:D,className:"bg-green-600 hover:bg-green-700",children:D?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),e("dashboard.wallet.requestsTab.processing")]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.approve")]})})]})]})]})}),s.jsx(Qt,{open:O,onOpenChange:F,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:e("dashboard.wallet.requestsTab.rejectTitle")}),s.jsx(ur,{children:e("dashboard.wallet.requestsTab.rejectDesc")})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(X,{htmlFor:"rejectReason",children:e("dashboard.wallet.requestsTab.rejectionReason")}),s.jsx(Fs,{id:"rejectReason",value:T,onChange:K=>_(K.target.value),placeholder:e("dashboard.wallet.requestsTab.rejectPlaceholder"),rows:4,className:"mt-2"})]})}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>{F(!1),_("")},children:e("common.cancel","Cancel")}),s.jsx(z,{variant:"destructive",onClick:U,disabled:!T.trim()||D,children:D?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),e("dashboard.wallet.requestsTab.processing")]}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),e("dashboard.wallet.requestsTab.reject")]})})]})]})})]})}function hpt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(1),[o,l]=f.useState(1);return f.useEffect(()=>{(async()=>{var c,d,u;a(!0);try{const h=await he.get("/activity-log",{params:{page:n,limit:20}});t(h.logs||((c=h.data)==null?void 0:c.logs)||[]),l(((d=h.pagination)==null?void 0:d.totalPages)||Math.ceil((((u=h.pagination)==null?void 0:u.total)||0)/20))}catch(h){console.error("Failed to fetch activity logs:",h)}finally{a(!1)}})()},[n]),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{children:" "})}),s.jsx(Ce,{children:r?s.jsx("div",{className:"text-center py-8",children:" "}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""}),s.jsx(Ee,{children:""})]})}),s.jsx(ss,{children:e.length>0?e.map(c=>s.jsxs(jt,{children:[s.jsx(ke,{children:c.action}),s.jsx(ke,{children:c.actorId}),s.jsx(ke,{children:c.details?(()=>{var d;try{return((d=JSON.parse(c.details).permissions)==null?void 0:d.join(", "))||"-"}catch{return"-"}})():"-"}),s.jsx(ke,{children:new Date(c.createdAt).toLocaleString("ar-EG")})]},c.id)):s.jsx(jt,{children:s.jsx(ke,{colSpan:4,className:"text-center",children:"  "})})})]})})]})}function mpt(){const[e,t]=f.useState([]),[r,a]=f.useState(""),{user:n}=$s(),i=f.useCallback(async()=>{try{const l=await he.get("/chat");t(l.data)}catch(l){console.error("Failed to load messages:",l)}},[]);f.useEffect(()=>{i();const l=setInterval(i,3e3);return()=>clearInterval(l)},[i]);const o=async()=>{if(r.trim())try{await he.post("/chat",{content:r}),a(""),await i()}catch(l){console.error("Failed to send message:",l)}};return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)]",children:[s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 flex flex-col-reverse",children:e.map(l=>{var c,d;return s.jsxs("div",{className:`rounded p-2 max-w-[70%] ${l.senderId===(n==null?void 0:n.id)?"bg-blue-100 self-start":"bg-gray-100 self-end"}`,children:[s.jsx("div",{className:"font-bold text-xs mb-1",children:((c=l.sender)==null?void 0:c.name)||((d=l.sender)==null?void 0:d.email)||l.senderId}),s.jsx("div",{children:l.content}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(l.createdAt).toLocaleTimeString()})]},l.id)})}),s.jsxs("div",{className:"flex p-4 border-t gap-2",children:[s.jsx(me,{value:r,onChange:l=>a(l.target.value),placeholder:" ",onKeyDown:l=>l.key==="Enter"&&o()}),s.jsx(z,{onClick:o,children:""})]})]})}function fpt(){const{t:e,i18n:t}=Ct(),[r,a]=f.useState("products"),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState("all"),[g,x]=f.useState([]),[y,w]=f.useState([]),[b,v]=f.useState([]),[N,j]=f.useState(0),[k,S]=f.useState(0),[C,A]=f.useState(0),[E,D]=f.useState(1),[P,T]=f.useState(20),[_,O]=f.useState(0),[F,I]=f.useState(1),[R,L]=f.useState(""),[H,W]=f.useState(1),[M,G]=f.useState(20),[V,q]=f.useState(1),[Y,U]=f.useState(10),Z=f.useCallback(async()=>{try{const fe=await he.get("/brands");v(Array.isArray(fe)?fe:(fe==null?void 0:fe.brands)||[])}catch(fe){console.error("Failed to load brands:",fe),v([])}},[]),J=f.useCallback(async()=>{try{const fe=await Ah.getProductReport({page:E,limit:P,search:R||void 0});if(fe&&"data"in fe&&"meta"in fe)x(fe.data),O(fe.meta.total),I(fe.meta.totalPages);else{const Ue=Array.isArray(fe)?fe:[];x(Ue),O(Ue.length),I(1)}}catch(fe){console.error("Failed to load products report:",fe),x([]),O(0),I(1)}},[E,P,R]),K=f.useCallback(async()=>{try{const fe=await he.getOrders(),Ue=Array.isArray(fe)?fe:(fe==null?void 0:fe.orders)||[];let ie=Ue;(c||u)&&(ie=Ue.filter(Le=>{const de=new Date(Le.createdAt);return!(c&&de<new Date(c)||u&&de>new Date(u))})),o&&(ie=ie.filter(Le=>Le.orderNumber.toLowerCase().includes(o.toLowerCase())||Le.customerEmail.toLowerCase().includes(o.toLowerCase())||Le.customerName&&Le.customerName.toLowerCase().includes(o.toLowerCase()))),w(ie);const Pe=ie.reduce((Le,de)=>Le+(de.subtotal||0),0),Te=ie.reduce((Le,de)=>Le+(de.taxAmount||0),0),Ve=ie.reduce((Le,de)=>Le+(de.totalAmount||0),0);j(Pe),S(Te),A(Ve)}catch(fe){console.error("Failed to load orders:",fe),w([])}},[c,u,o]);f.useEffect(()=>{(async()=>{i(!0),await Promise.all([Z(),J(),K()]),i(!1)})()},[Z,J,K]),f.useEffect(()=>{(r==="orders"||r==="orderDetails")&&K()},[r,c,u,o,K]);const se=g;f.useEffect(()=>{const fe=setTimeout(()=>{o!==R&&(L(o),D(1))},500);return()=>clearTimeout(fe)},[o,R]),f.useEffect(()=>{r==="products"&&J()},[E,P,R,r,J]);const B=f.useMemo(()=>{const fe=(H-1)*M;return y.slice(fe,fe+M)},[y,H,M]),Ne=Math.ceil(y.length/M),ye=f.useMemo(()=>{const fe=(V-1)*Y;return y.slice(fe,fe+Y)},[y,V,Y]),Re=Math.ceil(y.length/Y),qe=async()=>{try{const fe=$r.book_new();if(r==="products"){const ie=await Ah.getProductReport({page:1,limit:1e4,search:R||void 0});let Pe=[];ie&&"data"in ie?Pe=ie.data:Array.isArray(ie)&&(Pe=ie);const Te=Pe.map(Le=>({[e("dashboard.reports.productName")]:Le.name,[e("dashboard.reports.sku")]:Le.sku||"",[e("dashboard.reports.stock")]:Le.stock,[e("dashboard.reports.salesCount")]:Le.salesCount,[e("dashboard.reports.revenue")]:Le.revenue})),Ve=$r.json_to_sheet(Te);$r.book_append_sheet(fe,Ve,e("dashboard.reports.productReport"))}else if(r==="orders"||r==="orderDetails"){const ie=y.map(Te=>({[e("dashboard.reports.orderNo")]:Te.orderNumber,[e("dashboard.orders.customer")]:Te.customerName||Te.customerEmail,[e("dashboard.reports.email")]:Te.customerEmail,[e("dashboard.reports.subtotal")]:Te.subtotal||0,[e("dashboard.reports.tax")]:Te.taxAmount||0,[e("dashboard.reports.total")]:Te.totalAmount,[e("dashboard.orders.status")]:Te.status,[e("dashboard.orders.paymentStatus")]:Te.paymentStatus,[e("dashboard.reports.orderDate")]:new Date(Te.createdAt).toLocaleDateString()})),Pe=$r.json_to_sheet(ie);$r.book_append_sheet(fe,Pe,e("dashboard.reports.orderReport"))}const Ue=`reports_${r}_${new Date().toISOString().split("T")[0]}.xlsx`;Du(fe,Ue)}catch(fe){console.error("Export failed:",fe)}},He=async()=>{try{let fe="",Ue=[],ie=[];if(r==="products"){fe=e("dashboard.reports.productReport"),Ue=[e("dashboard.reports.productName"),e("dashboard.reports.sku"),e("dashboard.reports.stock"),e("dashboard.reports.salesCount"),e("dashboard.reports.revenue")];const Te=await Ah.getProductReport({page:1,limit:1e3,search:R||void 0});let Ve=[];Te&&"data"in Te?Ve=Te.data:Array.isArray(Te)&&(Ve=Te),ie=Ve.map(Le=>[Le.name,Le.sku||"",Le.stock,Le.salesCount,$n(Le.revenue,"SAR")])}else fe=e("dashboard.reports.orderReport"),Ue=[e("dashboard.reports.orderNo"),e("dashboard.orders.customer"),e("dashboard.reports.total"),e("dashboard.orders.status"),e("dashboard.reports.orderDate")],ie=y.map(Te=>[Te.orderNumber,Te.customerName||Te.customerEmail,$n(Te.totalAmount,"SAR"),Te.status,new Date(Te.createdAt).toLocaleDateString()]);const Pe=window.open("","_blank");Pe&&(Pe.document.write(`
          <html>
            <head>
              <title>${fe}</title>
              <style>
                body { font-family: Arial, sans-serif; direction: ${t.language==="ar"?"rtl":"ltr"}; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: ${t.language==="ar"?"right":"left"}; }
                th { background-color: #f2f2f2; }
                h1 { text-align: center; }
                .footer { margin-top: 20px; text-align: center; font-size: 12px; color: #666; }
              </style>
            </head>
            <body>
              <h1>${fe}</h1>
              <p>${e("dashboard.reports.generatedOn")}: ${new Date().toLocaleDateString()}</p>
              <table>
                <thead>
                  <tr>
                    ${Ue.map(Te=>`<th>${Te}</th>`).join("")}
                  </tr>
                </thead>
                <tbody>
                  ${ie.map(Te=>`<tr>${Te.map(Ve=>`<td>${Ve}</td>`).join("")}</tr>`).join("")}
                </tbody>
              </table>
              <div class="footer">
                BlackBox E-Commerce Platform
              </div>
            </body>
          </html>
        `),Pe.document.close(),Pe.print())}catch(fe){console.error("PDF export failed:",fe)}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:e("dashboard.reports.loading")})]})}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e("dashboard.reports.title")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:[e("dashboard.reports.export"),":"]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:He,children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),e("dashboard.reports.pdf")]}),s.jsxs(z,{variant:"outline",size:"sm",onClick:qe,children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),e("dashboard.reports.excel")]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-card rounded-lg border",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:e("dashboard.reports.search"),value:o,onChange:fe=>l(fe.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(me,{type:"date",value:c,onChange:fe=>d(fe.target.value),className:"w-[150px]"}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsx(me,{type:"date",value:u,onChange:fe=>h(fe.target.value),className:"w-[150px]"})]}),s.jsxs(nr,{value:m,onValueChange:p,children:[s.jsx(Jt,{className:"w-[200px]",children:s.jsx(cr,{placeholder:e("dashboard.reports.selectBrand")})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("dashboard.reports.allBrands")}),b.map(fe=>s.jsx(Oe,{value:fe.id,children:fe.nameAr||fe.name},fe.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(je,{children:[s.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(at,{className:"text-sm font-medium",children:e("dashboard.reports.totalPrice")}),s.jsx(Wo,{className:"h-4 w-4 text-purple-500"})]}),s.jsx(Ce,{children:s.jsx("div",{className:"text-2xl font-bold",children:$n(N,"SAR")})})]}),s.jsxs(je,{children:[s.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(at,{className:"text-sm font-medium",children:e("dashboard.reports.totalTax")}),s.jsx(pn,{className:"h-4 w-4 text-green-500"})]}),s.jsx(Ce,{children:s.jsx("div",{className:"text-2xl font-bold",children:$n(k,"SAR")})})]}),s.jsxs(je,{children:[s.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(at,{className:"text-sm font-medium",children:e("dashboard.reports.totalAfterTax")}),s.jsx(h2,{className:"h-4 w-4 text-blue-500"})]}),s.jsx(Ce,{children:s.jsx("div",{className:"text-2xl font-bold",children:$n(C,"SAR")})})]})]}),s.jsxs(Yn,{value:r,onValueChange:fe=>a(fe),children:[s.jsxs(_n,{children:[s.jsx(Ar,{value:"products",children:e("dashboard.reports.products")}),s.jsx(Ar,{value:"orders",children:e("dashboard.reports.orders")}),s.jsx(Ar,{value:"orderDetails",children:e("dashboard.reports.orderDetails")})]}),s.jsx(ls,{value:"products",className:"mt-6",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{children:[e("dashboard.reports.productReport")," (",_,")"]})}),s.jsx(Ce,{children:_>0?s.jsxs(s.Fragment,{children:[s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:e("dashboard.reports.productName")}),s.jsx(Ee,{children:e("dashboard.reports.sku")}),s.jsx(Ee,{children:e("dashboard.reports.stock")}),s.jsx(Ee,{children:e("dashboard.reports.salesCount")}),s.jsx(Ee,{children:e("dashboard.reports.revenue")})]})}),s.jsx(ss,{children:se.map(fe=>s.jsxs(jt,{children:[s.jsx(ke,{children:fe.name}),s.jsx(ke,{children:fe.sku||"-"}),s.jsx(ke,{children:fe.stock}),s.jsx(ke,{children:fe.salesCount}),s.jsx(ke,{children:$n(fe.revenue,"SAR")})]},fe.id))})]}),s.jsx(Qh,{currentPage:E,totalPages:F,totalItems:_,itemsPerPage:P,onPageChange:D,onItemsPerPageChange:fe=>{T(fe),D(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:e("dashboard.reports.noData")})})})]})}),s.jsx(ls,{value:"orders",className:"mt-6",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{children:[e("dashboard.reports.orderReport")," (",y.length,")"]})}),s.jsx(Ce,{children:y.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:e("dashboard.reports.orderNo")}),s.jsx(Ee,{children:e("dashboard.orders.customer")}),s.jsx(Ee,{children:e("dashboard.reports.email")}),s.jsx(Ee,{children:e("dashboard.reports.subtotal")}),s.jsx(Ee,{children:e("dashboard.reports.tax")}),s.jsx(Ee,{children:e("dashboard.reports.total")}),s.jsx(Ee,{children:e("dashboard.orders.status")}),s.jsx(Ee,{children:e("dashboard.reports.orderDate")})]})}),s.jsx(ss,{children:B.map(fe=>s.jsxs(jt,{children:[s.jsx(ke,{children:fe.orderNumber}),s.jsx(ke,{children:fe.customerName||"-"}),s.jsx(ke,{children:fe.customerEmail}),s.jsx(ke,{children:$n(fe.subtotal||0,"SAR")}),s.jsx(ke,{children:$n(fe.taxAmount||0,"SAR")}),s.jsx(ke,{children:$n(fe.totalAmount,"SAR")}),s.jsx(ke,{children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${fe.status==="COMPLETED"?"bg-green-100 text-green-800":fe.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:fe.status})}),s.jsx(ke,{children:new Date(fe.createdAt).toLocaleDateString()})]},fe.id))})]}),s.jsx(Qh,{currentPage:H,totalPages:Ne,totalItems:y.length,itemsPerPage:M,onPageChange:W,onItemsPerPageChange:fe=>{G(fe),W(1)},itemsPerPageOptions:[10,20,50,100],showItemsPerPage:!0,className:"border-t mt-4"})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:e("dashboard.reports.noData")})})})]})}),s.jsx(ls,{value:"orderDetails",className:"mt-6",children:s.jsxs(je,{children:[s.jsx(et,{children:s.jsxs(at,{children:[e("dashboard.reports.orderDetails")," (",y.length,")"]})}),s.jsx(Ce,{children:y.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:ye.map(fe=>s.jsxs(je,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold",children:[e("dashboard.reports.orderNo"),": ",fe.orderNumber]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:fe.customerName||fe.customerEmail}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(fe.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:$n(fe.totalAmount,"SAR")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("dashboard.orders.status"),": ",fe.status]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("dashboard.reports.payment"),": ",fe.paymentStatus]})]})]}),fe.items&&fe.items.length>0&&s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:e("dashboard.reports.products")}),s.jsx(Ee,{children:e("dashboard.reports.quantity")}),s.jsx(Ee,{children:e("dashboard.products.price")}),s.jsx(Ee,{children:e("dashboard.reports.itemTotal")})]})}),s.jsx(ss,{children:fe.items.map((Ue,ie)=>{var Pe,Te;return s.jsxs(jt,{children:[s.jsx(ke,{children:((Pe=Ue.product)==null?void 0:Pe.nameAr)||((Te=Ue.product)==null?void 0:Te.name)||"-"}),s.jsx(ke,{children:Ue.quantity}),s.jsx(ke,{children:$n(Ue.price,"SAR")}),s.jsx(ke,{children:$n(Ue.price*Ue.quantity,"SAR")})]},ie)})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t flex justify-end gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm",children:[e("dashboard.reports.subtotal"),": ",$n(fe.subtotal||0,"SAR")]}),s.jsxs("p",{className:"text-sm",children:[e("dashboard.reports.tax"),": ",$n(fe.taxAmount||0,"SAR")]}),s.jsxs("p",{className:"font-bold",children:[e("dashboard.reports.total"),": ",$n(fe.totalAmount,"SAR")]})]})})]},fe.id))}),s.jsx(Qh,{currentPage:V,totalPages:Re,totalItems:y.length,itemsPerPage:Y,onPageChange:q,onItemsPerPageChange:fe=>{U(fe),q(1)},itemsPerPageOptions:[5,10,20,50],showItemsPerPage:!0,className:"border-t mt-4"})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:e("dashboard.reports.noData")})})})]})})]})]})}const ag=()=>{const e=window.location.hostname;if(e.includes(".localhost")){const t=e.split(".localhost")[0];return{domain:e,subdomain:t}}if(e.endsWith(".saeaa.com")||e.endsWith(".saeaa.net")){const r=e.split(".")[0];return{domain:e,subdomain:r}}try{const t=localStorage.getItem("user");if(t){const r=JSON.parse(t);if(r.tenantSubdomain)return{domain:e,subdomain:r.tenantSubdomain}}}catch{}return{domain:e}};function ppt({onClose:e,onSwitchToSignup:t,onLoginSuccess:r}){const{toast:a}=Rt(),{i18n:n}=Ct(),i=n.language==="ar",{settings:o}=Sm(),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(!1),[p,g]=f.useState(!1),x=async y=>{if(y.preventDefault(),!l||!d){a({variant:"destructive",title:i?" ":"Required Information",description:i?"     ":"Please enter your email and password"});return}m(!0);try{const w=ag(),b={};w.subdomain&&(b["X-Tenant-Domain"]=w.domain);const v=await Q.post(`${Q.authUrl}/customers/login`,{email:l,password:d},{requireAuth:!1,headers:b});if(no(v))throw new Error(kc(v));if(!v||typeof v!="object"||!("token"in v))throw new Error("Invalid response from server");if(!v.token)throw new Error("No token received from server");if(localStorage.setItem("customerToken",String(v.token)),v.customer){const N={...v.customer,...v.isEmployee&&{isEmployee:!0},...v.employerEmail&&{employerEmail:v.employerEmail},...v.permissions&&{permissions:v.permissions}};localStorage.setItem("customerData",JSON.stringify(N))}window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:v.token,customer:v.customer,isEmployee:v.isEmployee,employerEmail:v.employerEmail,permissions:v.permissions}})),a({title:i?"   ":"Login successful",description:i?"   ":"Welcome back!"}),r==null||r(),setTimeout(()=>{e()},100)}catch(w){console.error("Login error:",w);const{title:b,description:v}=ii(w,{operation:i?" ":"login",resource:i?"":"as customer"},i);a({variant:"destructive",title:b,description:v})}finally{m(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:s.jsx("div",{className:"w-full max-w-md relative animate-scale-in",children:s.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),s.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-primary/10 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 rounded-full bg-secondary/10 blur-3xl"}),s.jsx("button",{onClick:e,className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:s.jsx(hr,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-white shadow-xl border-2 border-primary/10 p-2",children:s.jsx(d0,{src:o.storeLogoUrl||o.logoUrl||"",alt:i&&o.storeNameAr||o.storeName,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text",children:i&&o.storeNameAr||o.storeName}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 max-w-[250px] mx-auto",children:i&&o.storeDescriptionAr||o.storeDescription})]})]}),s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-4 rounded-xl bg-primary/10 text-primary",children:s.jsx(zo,{className:"h-6 w-6"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:i?" ":"Welcome Back"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:i?"    ":"Sign in to continue with your order"})]}),s.jsxs("div",{className:"relative px-8 pb-8",children:[s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"customer-email",className:"text-sm font-medium",children:i?" ":"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx(la,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-4":"left-4")}),s.jsx(me,{id:"customer-email",type:"email",placeholder:"name@example.com",value:l,onChange:y=>c(y.target.value),required:!0,className:be("h-12 text-base rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-12":"pl-12")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"customer-password",className:"text-sm font-medium",children:i?" ":"Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-4":"left-4")}),s.jsx(me,{id:"customer-password",type:p?"text":"password",placeholder:"",value:d,onChange:y=>u(y.target.value),required:!0,className:be("h-12 text-base rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-12 pl-12":"pl-12 pr-12")}),s.jsx("button",{type:"button",onClick:()=>g(!p),className:be("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",i?"left-4":"right-4"),children:p?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsx(z,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:i?"  ...":"Signing in..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(c2,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:i?" ":"Sign In"})]})})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:s.jsxs("p",{className:"text-sm text-center text-muted-foreground flex items-center justify-center gap-1 flex-wrap",children:[i?"  ":"Don't have an account?",s.jsxs("button",{onClick:t,className:"text-primary hover:text-primary/80 font-semibold inline-flex items-center gap-1 hover:underline transition-colors",children:[s.jsx(ds,{className:"h-4 w-4"}),i?"  ":"Create one"]})]})})]})]})})})}function xpt({onClose:e,onSwitchToLogin:t,onSignupSuccess:r}){const{toast:a}=Rt(),{i18n:n}=Ct(),i=n.language==="ar",{settings:o}=Sm(),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,g]=f.useState(""),[x,y]=f.useState(""),[w,b]=f.useState(""),[v,N]=f.useState(!1),[j,k]=f.useState(!1),[S,C]=f.useState(0),[A,E]=f.useState(null),[D,P]=f.useState(!1),[T,_]=f.useState(!1),[O,F]=f.useState(!1),[I,R]=f.useState(""),[L,H]=f.useState(!1),[W,M]=f.useState("");f.useEffect(()=>{if(!x){C(0);return}let se=0;x.length>=6&&(se+=25),x.length>=10&&(se+=25),/[a-z]/.test(x)&&/[A-Z]/.test(x)&&(se+=25),/[0-9]/.test(x)&&(se+=15),/[^a-zA-Z0-9]/.test(x)&&(se+=10),C(Math.min(se,100))},[x]);const G=()=>S<40?"bg-red-500":S<70?"bg-yellow-500":"bg-green-500",V=()=>S<40?i?"":"Weak":S<70?i?"":"Medium":i?"":"Strong",q=()=>{A&&(navigator.clipboard.writeText(A),_(!0),a({title:i?" !":"Copied!",description:i?"     ":"Recovery ID copied to clipboard"}),setTimeout(()=>_(!1),2e3))},Y=()=>{if(A){const se=`Recovery ID |  

${A}

Please keep this ID in a safe place. You can use it to recover your account if you forget your email or it gets compromised.

      .           .

Generated: ${new Date().toLocaleString("en-US",{dateStyle:"full",timeStyle:"long"})}`,B=new Blob([se],{type:"text/plain;charset=utf-8"}),Ne=URL.createObjectURL(B),ye=document.createElement("a");ye.href=Ne,ye.download=`recovery-id-${A.substring(0,8)}.txt`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(Ne),a({title:i?" !":"Downloaded!",description:i?"   ":"Recovery ID downloaded"}),_(!0)}},U=()=>{r==null||r(),e()},Z=async se=>{if(se.preventDefault(),x!==w){a({variant:"destructive",title:i?" ":"Mismatch",description:i?"   .         ":"Passwords do not match. Please ensure both passwords are identical and try again"});return}N(!0);try{const B=ag(),Ne={};B.subdomain&&(Ne["X-Tenant-Domain"]=B.domain);const ye=await Q.post(`${Q.authUrl}/customers/signup`,{email:h,password:x,firstName:l,lastName:d,phone:p},{requireAuth:!1,headers:Ne});ye.verificationCodeSent||ye.verificationCode?(M(h),F(!0)):ye.token&&ye.customer&&(localStorage.setItem("customerToken",ye.token),localStorage.setItem("customerData",JSON.stringify(ye.customer)),ye.recoveryId?(E(ye.recoveryId),P(!0)):(a({title:i?"   ":"Account created successfully",description:i?"   ":"Welcome to our store!"}),r==null||r(),e()))}catch(B){const{title:Ne,description:ye}=ii(B,{operation:i?"":"create",resource:i?"":"account"},i);a({variant:"destructive",title:Ne,description:ye})}finally{N(!1)}},J=async()=>{if(!I||I.length!==6){a({variant:"destructive",title:i?"":"Error",description:i?"      6 ":"Please enter a 6-digit verification code"});return}H(!0);try{const se=ag(),B={};se.subdomain&&(B["X-Tenant-Domain"]=se.domain);const Ne=await Q.post(`${Q.authUrl}/customers/verify-email`,{email:W,code:I},{requireAuth:!1,headers:B});Ne.valid&&Ne.token?(localStorage.setItem("customerToken",Ne.token),localStorage.setItem("customerData",JSON.stringify(Ne.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:Ne.token,customer:Ne.customer}})),F(!1),Ne.recoveryId?(E(Ne.recoveryId),P(!0)):(a({title:i?"  !":"Verification successful!",description:i?"   .  !":"Your account has been created successfully. Welcome!"}),r==null||r(),e())):a({variant:"destructive",title:i?"":"Error",description:Ne.message||(i?"   ":"Invalid verification code")})}catch(se){const{title:B,description:Ne}=ii(se,{operation:i?"":"verify",resource:i?" ":"email"},i);a({variant:"destructive",title:B,description:Ne})}finally{H(!1)}},K=async()=>{H(!0);try{const se=ag(),B={};se.subdomain&&(B["X-Tenant-Domain"]=se.domain),await Q.post(`${Q.authUrl}/customers/resend-verification-code`,{email:W},{requireAuth:!1,headers:B}),a({title:i?" !":"Sent!",description:i?"       ":"A new verification code has been sent to your email"}),R("")}catch(se){const{title:B,description:Ne}=ii(se,{operation:i?" ":"resend",resource:i?" ":"verification code"},i);a({variant:"destructive",title:B,description:Ne})}finally{H(!1)}};return s.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto animate-fade-in",children:[O&&s.jsx("div",{className:"w-full max-w-md relative animate-scale-in z-50",onClick:se=>{se.target===se.currentTarget&&F(!1)},children:s.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),s.jsx("button",{onClick:()=>F(!1),className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:s.jsx(hr,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-white shadow-xl border-2 border-primary/10 p-2",children:s.jsx(d0,{src:o.storeLogoUrl||o.logoUrl||"",alt:i&&o.storeNameAr||o.storeName,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-bold gradient-text",children:i&&o.storeNameAr||o.storeName}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 max-w-[250px] mx-auto",children:i&&o.storeDescriptionAr||o.storeDescription})]})]}),s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 mb-4 rounded-xl bg-primary/10 text-primary",children:s.jsx(un,{className:"h-6 w-6"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:i?"   ":"Verify Your Email"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:i?`     ${W}`:`We've sent a verification code to ${W}`})]}),s.jsxs("div",{className:"relative px-8 pb-8",children:[s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(la,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-primary",children:[s.jsx("p",{className:"font-semibold mb-1",children:i?"   ":"Check your email"}),s.jsx("p",{children:i?"      6  :":"A 6-digit verification code has been sent to:"}),s.jsx("p",{className:"font-mono font-bold mt-1",children:W})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"otp",className:"text-sm font-medium",children:i?" ":"Verification Code"}),s.jsx(me,{id:"otp",type:"text",placeholder:"123456",value:I,onChange:se=>{const B=se.target.value.replace(/\D/g,"").slice(0,6);R(B)},className:"h-12 text-center text-2xl font-mono tracking-widest rounded-xl",maxLength:6,disabled:L}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:i?"     6 ":"Please enter the 6-digit code"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{onClick:J,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:L||I.length!==6,children:L?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:be("h-5 w-5 animate-spin",i?"ml-2":"mr-2")}),i?" ...":"Verifying..."]}):s.jsxs(s.Fragment,{children:[i?"":"Verify",s.jsx(ta,{className:be("w-4 h-4",i?"mr-2":"ml-2")})]})}),s.jsx(z,{onClick:K,variant:"outline",className:"w-full h-12 rounded-xl",disabled:L,children:L?s.jsx(Ge,{className:be("h-5 w-5 animate-spin",i?"ml-2":"mr-2")}):s.jsxs(s.Fragment,{children:[s.jsx(la,{className:be("w-4 h-4",i?"ml-2":"mr-2")}),i?"  ":"Resend Code"]})}),s.jsxs(z,{onClick:()=>{F(!1),R("")},variant:"ghost",className:"w-full h-12 rounded-xl text-muted-foreground hover:text-foreground",disabled:L,children:[s.jsx(hr,{className:be("w-4 h-4",i?"ml-2":"mr-2")}),i?"":"Cancel"]})]})]})]})]})}),D&&A?s.jsx("div",{className:"w-full max-w-md relative animate-scale-in",children:s.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 to-emerald-600"}),s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-green-500/10 rounded-2xl flex items-center justify-center mb-6",children:s.jsx(Ws,{className:"w-10 h-10 text-green-500"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:i?"  ":"Secret Recovery ID"}),s.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:i?" !      .":"Very important! Save this ID in a safe place."}),s.jsx("div",{className:"bg-muted/50 rounded-2xl p-6 mb-8 border border-border/50",children:s.jsx("p",{className:"text-2xl font-mono font-bold text-primary tracking-wider select-all",children:A})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsx(z,{onClick:q,variant:"outline",className:"h-12 rounded-xl border-2",children:T?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-4 h-4 ml-2 text-green-500"}),i?" ":"Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"w-4 h-4 ml-2"}),i?" ":"Copy ID"]})}),s.jsxs(z,{onClick:Y,variant:"outline",className:"h-12 rounded-xl border-2",children:[s.jsx(Za,{className:"w-4 h-4 ml-2"}),i?" ":"Download"]})]}),s.jsxs(z,{onClick:U,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:!T,children:[i?"":"Continue",s.jsx(ta,{className:be("w-4 h-4",i?"mr-2":"ml-2")})]}),!T&&s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:i?"      ":"Please copy or download the ID before continuing"})]})]})}):s.jsx("div",{className:"w-full max-w-md relative my-8 animate-scale-in",children:s.jsxs("div",{className:"relative overflow-hidden rounded-3xl glass-effect-strong border border-border/50 shadow-2xl",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),s.jsx("button",{onClick:e,className:"absolute left-4 top-4 p-2.5 rounded-xl bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-all z-10",children:s.jsx(hr,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative pt-10 pb-6 px-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-2xl gradient-primary shadow-lg",children:s.jsx(jd,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:i?"  ":"Create Account"}),s.jsx("p",{className:"text-muted-foreground",children:i?"    ":"Join us and start shopping now"})]}),s.jsxs("div",{className:"relative px-8 pb-8",children:[s.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"firstName",className:"text-sm font-medium",children:i?" ":"First Name"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Gi,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),s.jsx(me,{id:"firstName",placeholder:i?"":"John",value:l,onChange:se=>c(se.target.value),required:!0,className:be("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"lastName",className:"text-sm font-medium",children:i?" ":"Last Name"}),s.jsx(me,{id:"lastName",placeholder:i?"":"Doe",value:d,onChange:se=>u(se.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"signup-email",className:"text-sm font-medium",children:i?" ":"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx(la,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),s.jsx(me,{id:"signup-email",type:"email",placeholder:"name@example.com",value:h,onChange:se=>m(se.target.value),required:!0,className:be("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"phone",className:"text-sm font-medium",children:i?"  ()":"Phone (Optional)"}),s.jsxs("div",{className:"relative group",children:[s.jsx(Si,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),s.jsx(me,{id:"phone",type:"tel",placeholder:"+966 50 123 4567",value:p,onChange:se=>g(se.target.value),className:be("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"signup-password",className:"text-sm font-medium",children:i?" ":"Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),s.jsx(me,{id:"signup-password",type:j?"text":"password",value:x,onChange:se=>y(se.target.value),required:!0,minLength:6,className:be("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10 pl-10":"pl-10 pr-10")}),s.jsx("button",{type:"button",onClick:()=>k(!j),className:be("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",i?"left-3":"right-3"),children:j?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]}),x&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:i?"  :":"Strength:"}),s.jsx("span",{className:be("font-semibold",S<40?"text-red-500":S<70?"text-yellow-500":"text-green-500"),children:V()})]}),s.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:be("h-full transition-all duration-500",G()),style:{width:`${S}%`}})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:i?"  ":"Confirm Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",i?"right-3":"left-3")}),s.jsx(me,{id:"confirmPassword",type:j?"text":"password",value:w,onChange:se=>b(se.target.value),required:!0,minLength:6,className:be("h-11 rounded-xl border-2 border-border/50 bg-background focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",i?"pr-10":"pl-10")})]})]}),s.jsx(z,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-4",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:i?" ...":"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(jd,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:i?" ":"Create Account"})]})})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-border/50",children:s.jsxs("p",{className:"text-sm text-center text-muted-foreground flex items-center justify-center gap-1",children:[i?"  ":"Already have an account?",s.jsx("button",{onClick:t,className:"text-primary hover:text-primary/80 font-semibold hover:underline transition-colors",children:i?" ":"Sign In"})]})})]})]})})]})}function gpt({isOpen:e,onClose:t,logoUrl:r,storeName:a}){const{i18n:n}=Ct(),i=n.language,o=i==="ar",l=Tn(),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState(!0);f.useEffect(()=>{e&&(async()=>{try{h(!0);const w=await he.get("/public/navigation-pages",{requireAuth:!1});w&&w.pages&&Array.isArray(w.pages)&&d(w.pages)}catch(w){console.error("Failed to load navigation pages:",w),d([])}finally{h(!1)}})()},[e]),f.useEffect(()=>{t()},[l.pathname]);const g=y=>l.pathname===y,x=y=>{const w=(y.title||"").toLowerCase(),b=(y.titleAr||"").toLowerCase();(y.titleEn||"").toLowerCase();const v=(y.slug||"").toLowerCase();return w.includes("employee")||w.includes("staff")||b.includes("")||v.includes("employee")?mr:w.includes("wallet")||w.includes("balance")||b.includes("")||b.includes("")||v.includes("wallet")||v.includes("balance")?ca:w.includes("report")||b.includes("")||v.includes("report")?Da:w.includes("profile")||b.includes("")||v.includes("profile")?Gi:w.includes("order")||b.includes("")||v.includes("order")?zo:w.includes("favorite")||b.includes("")||v.includes("favorite")?Vs:w.includes("support")||b.includes("")||v.includes("support")?ua:w.includes("categor")||b.includes("")||v.includes("categor")||w.includes("store")||b.includes("")||v.includes("store")?Vs:ua};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:be("fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] transition-all duration-500",e?"opacity-100":"opacity-0 pointer-events-none"),onClick:t}),s.jsxs("div",{className:be("fixed top-0 bottom-0 w-[320px] max-w-[90vw] z-[101] transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) flex flex-col","bg-[#0f172a] border-r border-white/5 shadow-2xl",o?"right-0 border-l border-r-0 rounded-l-3xl":"left-0 rounded-r-3xl",e?"translate-x-0":o?"translate-x-full":"-translate-x-full"),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-slate-400 hover:text-white",children:s.jsx(hr,{className:"h-5 w-5"})}),s.jsx("span",{className:"text-base font-medium text-slate-200",children:i==="ar"?"  ":"Browse Store Pages"})]}),s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border border-white/10 flex items-center justify-center overflow-hidden shadow-inner",children:r?s.jsx("img",{src:r,alt:a||"Store Logo",className:"w-full h-full object-contain p-1.5"}):s.jsx(Vs,{className:"h-5 w-5 text-indigo-400"})})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent w-full mb-4"}),s.jsxs("div",{className:"px-5 space-y-3 mb-6",children:[s.jsxs(Qe,{to:"/",onClick:t,className:be("group flex items-center justify-between p-4 rounded-2xl transition-all duration-300 border",l.pathname==="/"?"bg-slate-800/80 border-indigo-500/30 shadow-lg shadow-indigo-500/10":"bg-slate-900/50 border-white/5 hover:bg-slate-800 hover:border-white/10"),children:[s.jsx("div",{className:be("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300",l.pathname==="/"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30":"bg-slate-800 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:s.jsx(Gf,{className:"h-6 w-6"})}),s.jsx("span",{className:be("flex-1 px-4 text-lg font-medium transition-colors",l.pathname==="/"?"text-white":"text-slate-400 group-hover:text-white"),children:i==="ar"?"":"Home"})]}),s.jsxs(Qe,{to:"/products",onClick:t,className:be("group flex items-center justify-between p-4 rounded-2xl transition-all duration-300 border",l.pathname==="/products"?"bg-slate-800/80 border-indigo-500/30 shadow-lg shadow-indigo-500/10":"bg-slate-900/50 border-white/5 hover:bg-slate-800 hover:border-white/10"),children:[s.jsx("div",{className:be("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300",l.pathname==="/products"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/30":"bg-slate-800 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:s.jsx(zo,{className:"h-6 w-6"})}),s.jsx("span",{className:be("flex-1 px-4 text-lg font-medium transition-colors",l.pathname==="/products"?"text-white":"text-slate-400 group-hover:text-white"),children:i==="ar"?"":"Products"})]})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col px-5",children:[s.jsxs("button",{onClick:()=>p(!m),className:"flex items-center justify-between w-full py-3 text-amber-500 hover:text-amber-400 transition-colors group",children:[s.jsx("span",{className:"text-sm font-bold tracking-wide uppercase",children:i==="ar"?" ":"Store Pages"}),s.jsx(zi,{className:be("h-4 w-4 transition-transform duration-300",!m&&"rotate-180")})]}),m&&s.jsx(xn,{className:"flex-1 -mx-2 px-2",children:s.jsx("div",{className:"space-y-2 pb-6 pt-2",children:u?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>s.jsx("div",{className:"h-16 rounded-2xl bg-slate-800/30 animate-pulse"},y))}):c.length>0?c.map((y,w)=>{const b=x(y),v=g(`/page/${y.slug}`);return s.jsxs(Qe,{to:`/page/${y.slug}`,className:be("group flex items-center justify-between p-3 rounded-2xl transition-all duration-300 border",v?"bg-amber-500/10 border-amber-500/20":"bg-transparent border-transparent hover:bg-slate-800/50 hover:border-white/5"),style:{animationDelay:`${w*50}ms`},onClick:t,children:[s.jsx("div",{className:be("w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300",v?"bg-amber-500 text-white shadow-lg shadow-amber-500/20":"bg-slate-800/50 text-slate-400 group-hover:bg-slate-700 group-hover:text-white"),children:s.jsx(b,{className:"h-5 w-5"})}),s.jsx("span",{className:be("flex-1 px-3 text-base font-medium transition-colors",v?"text-amber-500":"text-slate-400 group-hover:text-slate-200"),children:o?y.titleAr||y.title:y.titleEn||y.title}),s.jsx(Ms,{className:be("h-4 w-4 transition-all duration-300",o&&"rotate-180",v?"text-amber-500 translate-x-1 rtl:-translate-x-1":"text-slate-600 group-hover:text-slate-400")})]},y.id)}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center opacity-50",children:[s.jsx(ua,{className:"h-10 w-10 text-slate-500 mb-3"}),s.jsx("p",{className:"text-sm text-slate-400",children:i==="ar"?"   ":"No additional pages"})]})})})]}),s.jsx("div",{className:"p-5 mt-auto",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-slate-900 border border-white/5 p-4 group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-amber-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(ds,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium",children:i==="ar"?`${c.length}  `:`${c.length} page${c.length!==1?"s":""} available`})]}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})})]})]})})]})]})}function vpt({cartItemCount:e=0,onSearch:t}){var ye,Re,qe,He,fe,Ue,ie,Pe,Te,Ve,Le,de;const{cart:r}=bp(),{i18n:a}=Ct(),n=((ye=r==null?void 0:r.items)==null?void 0:ye.reduce((xe,Ie)=>xe+(Ie.quantity||1),0))||e,[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(""),[x,y]=f.useState(!1),[w,b]=f.useState(a.language||"ar"),[v,N]=f.useState(null),[j,k]=f.useState(null),[S,C]=f.useState([]),[A,E]=f.useState([]),[D,P]=f.useState(!1),[T,_]=f.useState(!1),[O,F]=f.useState(!1),[I,R]=f.useState(0),[L,H]=f.useState([]),[W,M]=f.useState(!1),[G,V]=f.useState(!1),q=Tn(),Y=Kr();f.useEffect(()=>{const xe=()=>F(window.scrollY>20);return window.addEventListener("scroll",xe),()=>window.removeEventListener("scroll",xe)},[]),f.useEffect(()=>{if(!G)return;const xe=Ie=>{const st=Ie.target,wt=st.closest("[data-user-menu-button]"),tt=st.closest("[data-user-menu-dropdown]");!wt&&!tt&&V(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[G]),f.useEffect(()=>{if(!W)return;const xe=Ie=>{var pr,$t;const st=Ie.target,wt=st.closest("[data-notifications-dropdown]"),tt=(pr=st.closest("button"))==null?void 0:pr.querySelector("svg"),Bt=tt&&(($t=tt.getAttribute("class"))==null?void 0:$t.includes("Bell"));!wt&&!Bt&&M(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[W]),f.useEffect(()=>{const xe=nC();q.state&&q.state.showLogin&&xe&&(o(!0),Y(q.pathname,{replace:!0,state:{}}))},[q,Y]),f.useEffect(()=>{const xe=localStorage.getItem("customerToken"),Ie=localStorage.getItem("customerData");xe&&Ie&&N(JSON.parse(Ie))},[]),f.useEffect(()=>{(async()=>{if(v)try{const Ie=await Ns.getBalance(),st=Ie!=null&&Ie.balance?Number(Ie.balance):0;R(st)}catch(Ie){console.error("Failed to load wallet balance:",Ie),R(0)}else R(0)})()},[v]),f.useEffect(()=>{(async()=>{try{let Ie=[];if(v)try{const st=await he.get("/notifications",{requireAuth:!0}).catch(()=>null);st&&Array.isArray(st)&&(Ie=st.map(wt=>{var tt;return{id:wt.id,type:wt.type||"info",title:wt.titleEn||"Notification",titleAr:wt.titleAr||"",message:wt.bodyEn||"",messageAr:wt.bodyAr||"",timestamp:new Date(wt.createdAt||Date.now()),read:!!wt.readAt,link:typeof((tt=wt.data)==null?void 0:tt.link)=="string"?wt.data.link:void 0}}))}catch(st){console.warn("Failed to fetch notifications API",st)}H(Ie)}catch(Ie){console.error("Failed to load notifications:",Ie),H([])}})()},[v]),f.useEffect(()=>{(async()=>{var Ie,st;try{const tt=new URLSearchParams(window.location.search).get("theme_preview");let Bt="/site-config";tt&&(Bt+=`?themeId=${tt}`);const pr=await he.get(Bt,{requireAuth:!1});k(pr),(Ie=pr.settings)!=null&&Ie.language&&b(pr.settings.language),(st=pr.settings)!=null&&st.colors&&Object.entries(pr.settings.colors).forEach(([$t,_t])=>{document.documentElement.style.setProperty($t,_t)})}catch(wt){console.error("Failed to load site config:",wt)}})()},[]),f.useEffect(()=>{(async()=>{try{const Ie=await he.get("/categories",{requireAuth:!1});if(Ie&&typeof Ie=="object"&&!("error"in Ie)&&!("statusCode"in Ie)){let st=[];Array.isArray(Ie)?st=Ie.filter(tt=>tt&&typeof tt=="object"&&tt.id&&!("error"in tt)&&!("statusCode"in tt)):Ie.categories&&Array.isArray(Ie.categories)&&(st=Ie.categories.filter(tt=>tt&&typeof tt=="object"&&tt.id&&!("error"in tt)&&!("statusCode"in tt)));const wt=st.filter(tt=>!tt.parentId||tt.parentId===null||tt.parentId==="");C(wt)}}catch(Ie){console.error("Failed to load categories:",Ie),C([])}})()},[]),f.useEffect(()=>{(async()=>{try{const Ie=await he.get("/public/navigation-pages",{requireAuth:!1});Ie&&Ie.pages&&Array.isArray(Ie.pages)&&E(Ie.pages)}catch(Ie){console.error("Failed to load navigation pages:",Ie),E([])}})()},[]),f.useEffect(()=>{x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]);const U=xe=>{xe.preventDefault(),t&&t(p)},Z=xe=>{xe&&(xe.preventDefault(),xe.stopPropagation());try{localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),document.cookie="accessToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="refreshToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="customerToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",N(null),R(0),V(!1),Y("/",{replace:!0}),setTimeout(()=>{window.location.reload()},100)}catch(Ie){console.error("Logout error:",Ie),window.location.href="/"}};f.useEffect(()=>{const xe=a.language;(xe==="ar"||xe==="en")&&b(xe)},[a.language]);const J=()=>{const xe=w==="ar"?"en":"ar";dI(xe),b(xe)},K=String(w==="ar"?((Re=j==null?void 0:j.settings)==null?void 0:Re.storeNameAr)||"":((qe=j==null?void 0:j.settings)==null?void 0:qe.storeName)||"My Store"),se=[{label:w==="ar"?"":"Home",labelAr:"",url:"/"},{label:w==="ar"?"":"Products",labelAr:"",url:"/products"}],B=((He=j==null?void 0:j.header)==null?void 0:He.links)||se;(fe=j==null?void 0:j.header)!=null&&fe.buttons;const Ne=xe=>q.pathname===xe||xe!=="/"&&q.pathname.startsWith(xe);return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:be("sticky top-0 z-50 w-full transition-all duration-300",O?"shadow-lg glass-effect-strong border-b border-border/30":"bg-background/95 backdrop-blur-sm border-b border-border/20"),children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] gradient-aurora animate-gradient bg-[length:300%_auto]"}),s.jsxs("div",{className:"container mx-auto px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[A.length>0&&s.jsx("button",{onClick:()=>_(!0),className:be("flex items-center justify-center w-9 h-9 rounded-xl transition-all duration-300 shrink-0","bg-muted/50 hover:bg-primary/10 text-muted-foreground hover:text-primary","border border-border/50 hover:border-primary/30 hover:shadow-md"),title:w==="ar"?"":"Pages",children:s.jsx(Ms,{className:be("h-5 w-5 transition-transform",w==="ar"?"rotate-180":"")})}),s.jsxs(Qe,{to:"/",className:"flex items-center gap-3 group shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-xl gradient-primary blur-lg opacity-0 group-hover:opacity-40 transition-opacity duration-500"}),(Ue=j==null?void 0:j.settings)!=null&&Ue.storeLogoUrl?s.jsx("img",{src:String(j.settings.storeLogoUrl),alt:K,className:"relative h-10 w-10 object-contain rounded-xl transition-transform duration-300 group-hover:scale-110"}):s.jsx("div",{className:"relative h-10 w-10 gradient-primary rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg transition-transform duration-300 group-hover:scale-110 group-hover:shadow-glow",children:K.charAt(0)})]}),s.jsx("span",{className:"text-lg font-bold hidden sm:block gradient-text",children:K})]}),s.jsxs("nav",{className:"hidden lg:flex items-center gap-1 flex-1 justify-center",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>P(!D),onMouseEnter:()=>P(!0),className:be("flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all duration-300",D?"gradient-primary text-white shadow-glow":"hover:bg-muted/50 text-foreground"),children:[s.jsx(zi,{className:be("h-4 w-4 transition-transform duration-300",D&&"rotate-180")}),s.jsx("span",{children:w==="ar"?"":"Categories"})]}),D&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>P(!1)}),s.jsx("div",{className:be("absolute top-full mt-2 rounded-2xl shadow-2xl border border-border/50 z-50 overflow-hidden animate-scale-in glass-effect-strong",w==="ar"?"right-0":"left-0","w-64 sm:w-72 max-w-[calc(100vw-2rem)]"),onMouseLeave:()=>P(!1),children:s.jsx("div",{className:"py-2 max-h-[60vh] sm:max-h-80 overflow-y-auto scrollbar-thin",children:S.length>0?S.map((xe,Ie)=>s.jsxs(Qe,{to:`/categories/${xe.id}`,className:"flex items-center gap-3 px-4 py-2.5 hover:bg-primary/5 transition-all duration-300 group animate-slide-up",style:{animationDelay:`${Ie*50}ms`},onClick:()=>P(!1),children:[xe.image?s.jsx("img",{src:xe.image,alt:xe.name,className:"w-8 h-8 rounded-lg object-cover ring-2 ring-border/50 group-hover:ring-primary/50 transition-all shrink-0"}):s.jsx("div",{className:"w-8 h-8 rounded-lg gradient-mesh flex items-center justify-center shrink-0",children:s.jsx(Tt,{className:"w-4 h-4 text-primary"})}),s.jsx("span",{className:"font-medium group-hover:text-primary transition-colors truncate",children:String(xe.name||"")})]},xe.id)):s.jsxs("div",{className:"px-4 py-6 text-center text-muted-foreground",children:[s.jsx(Tt,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:w==="ar"?"  ":"No categories"})]})})})]})]}),B.map((xe,Ie)=>{const st=String(w==="ar"?(xe==null?void 0:xe.labelAr)||(xe==null?void 0:xe.label)||"":(xe==null?void 0:xe.label)||""),wt=String((xe==null?void 0:xe.url)||"#"),tt=Ne(wt);return s.jsx(Qe,{to:wt,className:be("relative px-4 py-2 rounded-xl font-medium transition-all duration-300 group",tt?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:st},Ie)})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[A.length>0&&s.jsx("button",{onClick:()=>_(!0),className:be("lg:hidden flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300","bg-muted/50 hover:bg-primary/10 text-muted-foreground hover:text-primary","border border-border/50 hover:border-primary/30"),title:w==="ar"?"":"Pages",children:s.jsx(Ms,{className:be("h-4 w-4",w==="ar"?"rotate-180":"")})}),s.jsxs("button",{onClick:J,className:"flex items-center gap-1 px-2 sm:px-3 py-2 rounded-xl text-muted-foreground hover:text-primary hover:bg-primary/5 transition-all duration-300",title:w==="ar"?"Switch to English":"  ",children:[s.jsx(Oa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-semibold hidden sm:inline",children:w==="ar"?"EN":""})]}),s.jsx("button",{onClick:()=>y(!x),className:"p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group","aria-label":x?"Light mode":"Dark mode",title:x?w==="ar"?" ":"Light mode":w==="ar"?" ":"Dark mode",children:x?s.jsx(Nu,{className:"h-4 w-4 text-warning group-hover:rotate-180 transition-transform duration-500"}):s.jsx(_d,{className:"h-4 w-4 text-muted-foreground group-hover:rotate-12 transition-transform duration-300"})}),s.jsx("button",{onClick:()=>m(!h),className:be("p-2 rounded-xl transition-all duration-300",h?"bg-primary/10 text-primary":"hover:bg-muted/50"),"aria-label":"Search",children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>M(!W),className:be("relative p-2 rounded-xl transition-all duration-300 group",W?"bg-primary/10 text-primary":"hover:bg-muted/50"),children:[s.jsx(zl,{className:"h-4 w-4 group-hover:text-primary transition-colors"}),L.filter(xe=>!xe.read).length>0&&s.jsx(Ze,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] font-bold bg-red-500 text-white border-2 border-background animate-bounce-in",children:L.filter(xe=>!xe.read).length})]}),W&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>M(!1)}),s.jsxs("div",{"data-notifications-dropdown":!0,className:be("absolute top-full mt-2 rounded-2xl shadow-2xl border border-border/50 z-50 overflow-hidden glass-effect-strong animate-scale-in",w==="ar"?"right-0":"left-0","w-80 sm:w-96 max-w-[calc(100vw-2rem)]"),children:[s.jsxs("div",{className:"p-3 border-b border-border/50 flex items-center justify-between bg-muted/30",children:[s.jsx("h3",{className:"font-semibold text-sm",children:w==="ar"?"":"Notifications"}),L.length>0&&s.jsx("button",{onClick:async xe=>{xe.stopPropagation();try{await he.put("/notifications/read-all",{}),H(Ie=>Ie.map(st=>({...st,read:!0})))}catch(Ie){console.error("Failed to mark all as read",Ie)}},className:"text-xs text-primary hover:underline whitespace-nowrap ml-2",children:w==="ar"?"  ":"Mark all read"})]}),s.jsx("div",{className:"max-h-[60vh] sm:max-h-80 overflow-y-auto scrollbar-thin",children:L.length===0?s.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[s.jsx(zl,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm",children:w==="ar"?"  ":"No notifications"})]}):s.jsx("div",{className:"divide-y divide-border/30",children:L.map(xe=>s.jsxs("div",{onClick:async Ie=>{Ie.stopPropagation();try{xe.read||(await he.put(`/notifications/${xe.id}/read`,{}),H(st=>st.map(wt=>wt.id===xe.id?{...wt,read:!0}:wt))),xe.link&&Y(xe.link),M(!1)}catch(st){console.error("Failed to mark notification as read",st)}},className:be("flex items-start gap-3 p-3 cursor-pointer transition-colors",xe.read?"bg-transparent hover:bg-muted/30":"bg-primary/5 hover:bg-primary/10"),children:[s.jsxs("div",{className:be("p-2 rounded-lg shrink-0 flex-shrink-0",xe.type==="order"&&"bg-blue-500/10 text-blue-500",xe.type==="product"&&"bg-green-500/10 text-green-500",xe.type==="promo"&&"bg-orange-500/10 text-orange-500",xe.type==="wallet"&&"bg-purple-500/10 text-purple-500",xe.type==="info"&&"bg-gray-500/10 text-gray-500"),children:[xe.type==="order"&&s.jsx(zo,{className:"h-4 w-4"}),xe.type==="product"&&s.jsx(Tt,{className:"h-4 w-4"}),xe.type==="promo"&&s.jsx(ds,{className:"h-4 w-4"}),xe.type==="wallet"&&s.jsx(ca,{className:"h-4 w-4"}),xe.type==="info"&&s.jsx(lb,{className:"h-4 w-4"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"font-medium text-sm line-clamp-1 flex-1",children:w==="ar"?xe.titleAr:xe.title}),!xe.read&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1.5"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:w==="ar"?xe.messageAr:xe.message}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:new Date(xe.timestamp).toLocaleDateString(w==="ar"?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},xe.id))})})]})]})]}),v&&j&&j.settings&&j.settings.storeType==="DIGITAL_CARDS"&&s.jsxs(Qe,{to:"/charge-wallet",className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-primary/10 text-primary text-sm font-medium hover:bg-primary/20 transition-colors cursor-pointer",title:w==="ar"?" -  ":"Balance - Click to recharge",children:[s.jsx(ca,{className:"h-4 w-4"}),s.jsxs("span",{children:[I.toFixed(2)," ",((ie=j==null?void 0:j.settings)==null?void 0:ie.currency)==="SAR"?".":((Pe=j==null?void 0:j.settings)==null?void 0:Pe.currency)||"."]})]}),s.jsx(Qe,{to:"/wishlist",className:"hidden sm:flex p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group",children:s.jsx(dn,{className:"h-4 w-4 group-hover:text-accent transition-colors"})}),s.jsxs(Qe,{to:"/cart",className:"relative p-2 rounded-xl hover:bg-muted/50 transition-all duration-300 group",children:[s.jsx(Dr,{className:"h-4 w-4 group-hover:text-primary transition-colors"}),n>0&&s.jsx(Ze,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px] font-bold gradient-accent text-white border-2 border-background animate-bounce-in shadow-glow-accent",children:n})]}),v?s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{"data-user-menu-button":!0,onClick:()=>V(!G),className:"flex items-center gap-2 p-2 rounded-xl hover:bg-muted/50 transition-all duration-300",children:[s.jsx("div",{className:"w-7 h-7 rounded-full gradient-primary flex items-center justify-center text-white text-xs font-bold",children:String(((Te=v==null?void 0:v.firstName)==null?void 0:Te.charAt(0))||"U")}),s.jsx(zi,{className:be("h-4 w-4 hidden md:block transition-transform duration-300",G&&"rotate-180")})]}),G&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:()=>V(!1)}),s.jsx("div",{"data-user-menu-dropdown":!0,className:be("absolute top-full pt-2 transition-all duration-300 z-50",w==="ar"?"left-0":"right-0"),children:s.jsxs("div",{className:be("rounded-2xl shadow-2xl border border-border/50 overflow-hidden glass-effect-strong animate-scale-in","w-52 sm:w-56 max-w-[calc(100vw-2rem)]"),children:[s.jsxs("div",{className:"p-3 border-b border-border/50 gradient-mesh",children:[s.jsxs("p",{className:"font-semibold text-sm truncate",children:[v==null?void 0:v.firstName," ",v==null?void 0:v.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:v==null?void 0:v.email}),(v==null?void 0:v.isEmployee)&&(v==null?void 0:v.employerEmail)&&s.jsxs("p",{className:"text-xs text-primary truncate mt-1",children:[w==="ar"?" : ":"Employee of: ",v.employerEmail]})]}),s.jsxs("div",{className:"py-1",children:[s.jsxs(Qe,{to:"/account/orders",onClick:()=>V(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{children:w==="ar"?"":"My Orders"})]}),s.jsxs(Qe,{to:"/account/profile",onClick:()=>V(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[s.jsx(vs,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{children:w==="ar"?"":"Settings"})]})]}),s.jsx("div",{className:"py-1 border-t border-border/50",children:s.jsxs("button",{type:"button",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),V(!1),Z(xe)},className:"w-full flex items-center gap-3 px-4 py-2 text-destructive hover:bg-destructive/5 transition-colors text-sm",children:[s.jsx(rm,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{children:w==="ar"?" ":"Logout"})]})})]})})]}),!G&&s.jsx("div",{className:be("absolute top-full pt-2 opacity-0 invisible lg:group-hover:opacity-100 lg:group-hover:visible transition-all duration-300 z-50 hidden lg:block",w==="ar"?"left-0":"right-0"),children:s.jsxs("div",{className:be("rounded-2xl shadow-2xl border border-border/50 overflow-hidden glass-effect-strong","w-52 sm:w-56"),children:[s.jsxs("div",{className:"p-3 border-b border-border/50 gradient-mesh",children:[s.jsxs("p",{className:"font-semibold text-sm truncate",children:[v==null?void 0:v.firstName," ",v==null?void 0:v.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:v==null?void 0:v.email}),(v==null?void 0:v.isEmployee)&&(v==null?void 0:v.employerEmail)&&s.jsxs("p",{className:"text-xs text-primary truncate mt-1",children:[w==="ar"?" : ":"Employee of: ",v.employerEmail]})]}),s.jsxs("div",{className:"py-1",children:[s.jsxs(Qe,{to:"/account/orders",className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{children:w==="ar"?"":"My Orders"})]}),s.jsxs(Qe,{to:"/account/profile",className:"flex items-center gap-3 px-4 py-2 hover:bg-primary/5 transition-colors text-sm",children:[s.jsx(vs,{className:"h-4 w-4 text-muted-foreground shrink-0"}),s.jsx("span",{children:w==="ar"?"":"Settings"})]})]}),s.jsx("div",{className:"py-1 border-t border-border/50",children:s.jsxs("button",{type:"button",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),Z(xe)},className:"w-full flex items-center gap-3 px-4 py-2 text-destructive hover:bg-destructive/5 transition-colors text-sm",children:[s.jsx(rm,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{children:w==="ar"?" ":"Logout"})]})})]})})]}):s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"rounded-xl hover:bg-muted/50 h-8 px-3 text-sm",children:w==="ar"?"":"Login"}),s.jsx(z,{size:"sm",onClick:()=>c(!0),className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow h-8 px-3 text-sm",children:w==="ar"?"":"Sign Up"})]}),s.jsx("button",{onClick:()=>u(!d),className:"lg:hidden p-2 rounded-xl hover:bg-muted/50 transition-all duration-300",children:d?s.jsx(hr,{className:"h-5 w-5"}):s.jsx(ym,{className:"h-5 w-5"})})]})]}),h&&s.jsx("form",{onSubmit:U,className:"mt-3 animate-slide-down",children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{type:"search",placeholder:w==="ar"?"  ...":"Search products...",value:p,onChange:xe=>g(xe.target.value),className:"pl-12 h-10 rounded-xl border-2 border-border/50 focus:border-primary/50 bg-muted/30",autoFocus:!0}),s.jsx(z,{type:"submit",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-lg gradient-primary text-white h-7",children:w==="ar"?"":"Search"})]})})]}),d&&s.jsx("div",{className:"lg:hidden border-t border-border/30 glass-effect-strong animate-slide-down",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium bg-muted/30",children:[s.jsx(zi,{className:"h-4 w-4"}),s.jsx("span",{children:w==="ar"?"":"Categories"})]}),s.jsx("div",{className:"pl-4 border-l-2 border-primary/30 ml-4 space-y-1",children:S.slice(0,5).map(xe=>s.jsx(Qe,{to:`/categories/${xe.id}`,className:"block px-4 py-2 text-sm text-muted-foreground hover:text-primary transition-colors rounded-lg hover:bg-primary/5",onClick:()=>u(!1),children:String(xe.name||"")},xe.id))})]}),B.map((xe,Ie)=>{const st=String(w==="ar"?(xe==null?void 0:xe.labelAr)||(xe==null?void 0:xe.label)||"":(xe==null?void 0:xe.label)||""),wt=String((xe==null?void 0:xe.url)||"#"),tt=Ne(wt);return s.jsx(Qe,{to:wt,className:be("px-4 py-2 rounded-xl font-medium transition-all duration-300",tt?"bg-primary/10 text-primary":"hover:bg-muted/50"),onClick:()=>u(!1),children:st},Ie)}),A.length>0&&s.jsxs("button",{onClick:()=>{u(!1),_(!0)},className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all duration-300 hover:bg-muted/50 text-left",children:[s.jsx(efe,{className:"h-4 w-4"}),s.jsx("span",{children:w==="ar"?"":"Pages"}),s.jsx(Ze,{variant:"secondary",className:"ml-auto text-xs",children:A.length})]}),v&&j&&j.settings&&j.settings.storeType==="DIGITAL_CARDS"&&s.jsxs(Qe,{to:"/charge-wallet",className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-primary/10 text-primary font-medium hover:bg-primary/20 transition-colors",onClick:()=>u(!1),children:[s.jsx(ca,{className:"h-4 w-4"}),s.jsxs("span",{children:[w==="ar"?"":"Balance",": ",I.toFixed(2)," ",((Ve=j==null?void 0:j.settings)==null?void 0:Ve.currency)==="SAR"?".":((Le=j==null?void 0:j.settings)==null?void 0:Le.currency)||"."]})]}),!v&&s.jsxs("div",{className:"pt-4 border-t border-border/30 space-y-2",children:[s.jsx(z,{variant:"outline",className:"w-full rounded-xl h-10",onClick:()=>{o(!0),u(!1)},children:w==="ar"?" ":"Login"}),s.jsx(z,{className:"w-full rounded-xl h-10 gradient-primary text-white hover:shadow-glow",onClick:()=>{c(!0),u(!1)},children:w==="ar"?" ":"Sign Up"})]})]})})]}),s.jsx(gpt,{isOpen:T,onClose:()=>_(!1),logoUrl:(de=j==null?void 0:j.settings)!=null&&de.storeLogoUrl?String(j.settings.storeLogoUrl):void 0,storeName:K}),i&&s.jsx(ppt,{onClose:()=>o(!1),onSwitchToSignup:()=>{o(!1),c(!0)},onLoginSuccess:async()=>{o(!1);const xe=localStorage.getItem("customerData");if(xe)try{const Ie=JSON.parse(xe);N(Ie);try{const st=await Ns.getBalance(),wt=st!=null&&st.balance?Number(st.balance):0;R(wt)}catch(st){console.error("Failed to load wallet balance after login:",st),R(0)}}catch(Ie){console.error("Failed to parse customer data",Ie)}}}),l&&s.jsx(xpt,{onClose:()=>c(!1),onSwitchToLogin:()=>{c(!1),o(!0)},onSignupSuccess:()=>{c(!1),window.location.reload()}})]})}function ypt(){var h,m,p,g,x,y,w,b,v,N,j,k,S,C,A;const{i18n:e}=Ct(),[t,r]=f.useState(null),[a,n]=f.useState(e.language||"ar");f.useEffect(()=>{const E=e.language;(E==="ar"||E==="en")&&n(E)},[e.language]),f.useEffect(()=>{(async()=>{try{const D=!!localStorage.getItem("accessToken"),P=await he.get("/site-config",{requireAuth:!1});r(P)}catch(D){console.error("Failed to load site config:",D)}})()},[]);const i=a==="ar"?((h=t==null?void 0:t.settings)==null?void 0:h.storeNameAr)||"":((m=t==null?void 0:t.settings)==null?void 0:m.storeName)||"My Store",o=a==="ar"?((p=t==null?void 0:t.settings)==null?void 0:p.storeDescriptionAr)||"  ":((g=t==null?void 0:t.settings)==null?void 0:g.storeDescription)||"Your complete online store",l=((x=t==null?void 0:t.footer)==null?void 0:x.links)||[{label:a==="ar"?" ":"About Us",url:"/about"},{label:a==="ar"?" ":"Privacy Policy",url:"/privacy"},{label:a==="ar"?" ":"Terms & Conditions",url:"/terms"},{label:a==="ar"?" ":"Return Policy",url:"/returns"},{label:a==="ar"?" ":"Contact Us",url:"/contact"},{label:a==="ar"?" ":"FAQ",url:"/faq"}],c=[{label:a==="ar"?"":"My Account",url:"/account"},{label:a==="ar"?"":"My Orders",url:"/account/orders"},{label:a==="ar"?" ":"Wishlist",url:"/wishlist"}],d=((y=t==null?void 0:t.footer)==null?void 0:y.socialLinks)||[],u=((w=t==null?void 0:t.footer)==null?void 0:w.buttons)||[];return s.jsxs("footer",{className:"relative overflow-hidden",children:[s.jsxs("div",{className:"relative bg-card border-t border-border/50",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-muted/20"}),s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full bg-primary/5 blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 rounded-full bg-secondary/5 blur-3xl"}),s.jsx("div",{className:"container relative mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 md:gap-12",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 rounded-xl gradient-primary blur-lg opacity-0 group-hover:opacity-40 transition-opacity duration-500"}),(b=t==null?void 0:t.settings)!=null&&b.storeLogoUrl?s.jsx("img",{src:t.settings.storeLogoUrl,alt:i,className:"relative h-12 w-12 object-contain rounded-xl transition-transform duration-300 group-hover:scale-110"}):s.jsx("div",{className:"relative h-12 w-12 gradient-primary rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg transition-transform duration-300 group-hover:scale-110",children:i.charAt(0)})]}),s.jsx("h3",{className:"text-xl font-bold gradient-text",children:i})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o}),(((v=t==null?void 0:t.settings)==null?void 0:v.googlePlayUrl)||((N=t==null?void 0:t.settings)==null?void 0:N.appStoreUrl))&&s.jsxs("div",{className:"flex flex-col gap-2",children:[((j=t==null?void 0:t.settings)==null?void 0:j.googlePlayUrl)&&s.jsxs("a",{href:t.settings.googlePlayUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-4 py-2.5 bg-muted/50 hover:bg-muted rounded-xl transition-all duration-300 border border-border/50 group",children:[s.jsx("svg",{className:"h-6 w-6 text-primary",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:a==="ar"?" ":"Get it on"}),s.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Google Play"})]})]}),((k=t==null?void 0:t.settings)==null?void 0:k.appStoreUrl)&&s.jsxs("a",{href:t.settings.appStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-4 py-2.5 bg-muted/50 hover:bg-muted rounded-xl transition-all duration-300 border border-border/50 group",children:[s.jsx("svg",{className:"h-6 w-6 text-primary",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:a==="ar"?" ":"Download on"}),s.jsx("div",{className:"text-sm font-semibold text-foreground",children:"App Store"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 rounded-full gradient-primary"}),a==="ar"?" ":"Quick Links"]}),s.jsx("ul",{className:"space-y-3",children:c.map((E,D)=>s.jsx("li",{children:s.jsxs(Qe,{to:E.url,className:"text-muted-foreground hover:text-primary transition-colors text-sm flex items-center gap-2 group",children:[s.jsx(Ms,{className:"w-4 h-4 opacity-0 -mr-4 group-hover:opacity-100 group-hover:mr-0 transition-all"}),E.label]})},D))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 rounded-full gradient-secondary"}),a==="ar"?" ":"Information"]}),s.jsx("ul",{className:"space-y-3",children:l.map((E,D)=>s.jsx("li",{children:s.jsxs(Qe,{to:E.url,className:"text-muted-foreground hover:text-secondary transition-colors text-sm flex items-center gap-2 group",children:[s.jsx(Ms,{className:"w-4 h-4 opacity-0 -mr-4 group-hover:opacity-100 group-hover:mr-0 transition-all"}),E.label]})},D))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-foreground mb-6 flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-5 rounded-full gradient-accent"}),a==="ar"?" ":"Contact Us"]}),s.jsxs("ul",{className:"space-y-4",children:[((S=t==null?void 0:t.settings)==null?void 0:S.email)&&s.jsx("li",{children:s.jsxs("a",{href:`mailto:${t.settings.email}`,className:"flex items-center gap-3 text-muted-foreground hover:text-accent transition-colors group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-accent/10 group-hover:bg-accent/20 transition-colors",children:s.jsx(la,{className:"h-4 w-4 text-accent"})}),s.jsx("span",{className:"text-sm",children:t.settings.email})]})}),((C=t==null?void 0:t.settings)==null?void 0:C.phone)&&s.jsx("li",{children:s.jsxs("a",{href:`tel:${t.settings.phone}`,className:"flex items-center gap-3 text-muted-foreground hover:text-accent transition-colors group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-accent/10 group-hover:bg-accent/20 transition-colors",children:s.jsx(Si,{className:"h-4 w-4 text-accent"})}),s.jsx("span",{className:"text-sm",children:t.settings.phone})]})}),((A=t==null?void 0:t.settings)==null?void 0:A.address)&&s.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground",children:[s.jsx("div",{className:"p-2 rounded-lg bg-accent/10",children:s.jsx(ju,{className:"h-4 w-4 text-accent"})}),s.jsxs("span",{className:"text-sm",children:[t.settings.address,t.settings.city&&`, ${t.settings.city}`]})]})]}),d.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h5",{className:"text-sm font-semibold text-foreground mb-4",children:a==="ar"?"":"Follow Us"}),s.jsx("div",{className:"flex items-center gap-3",children:d.map((E,D)=>s.jsxs("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl bg-muted/50 hover:bg-primary hover:text-white border border-border/50 hover:border-primary transition-all duration-300 hover:scale-110 hover:shadow-glow","aria-label":E.platform,children:[E.platform==="facebook"&&s.jsx(IO,{className:"h-5 w-5"}),E.platform==="twitter"&&s.jsx(VO,{className:"h-5 w-5"}),E.platform==="instagram"&&s.jsx(FO,{className:"h-5 w-5"}),E.platform==="youtube"&&s.jsx(wG,{className:"h-5 w-5"})]},D))})]}),u.length>0&&s.jsx("div",{className:"mt-6 flex flex-col gap-2",children:u.map((E,D)=>{const P=E.variant==="primary";return E.url.startsWith("http")?s.jsx("a",{href:E.url,target:E.openInNewTab?"_blank":"_self",rel:E.openInNewTab?"noopener noreferrer":void 0,className:be("px-4 py-2.5 rounded-xl font-medium transition-all duration-300 text-center text-sm",P?"gradient-primary text-white hover:shadow-glow":"bg-muted/50 hover:bg-muted border border-border/50"),children:E.label},`footer-btn-${D}`):s.jsx(Qe,{to:E.url,className:be("px-4 py-2.5 rounded-xl font-medium transition-all duration-300 text-center text-sm",P?"gradient-primary text-white hover:shadow-glow":"bg-muted/50 hover:bg-muted border border-border/50"),children:E.label},`footer-btn-${D}`)})})]})]})})]}),s.jsxs("div",{className:"relative border-t border-border/50 bg-muted/20",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-secondary/5"}),s.jsx("div",{className:"container relative mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[" ",new Date().getFullYear()," ",i,".",s.jsx("span",{children:a==="ar"?"  ":"All rights reserved"}),s.jsx(dn,{className:"h-3 w-3 text-accent fill-accent mx-1"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:a==="ar"?" :":"Payment Methods:"}),s.jsx("div",{className:"flex items-center gap-2",children:["MADA"].map(E=>s.jsx("div",{className:"px-3 py-1.5 bg-card rounded-lg border border-border/50 text-xs font-bold text-muted-foreground hover:border-primary/50 hover:text-primary transition-colors cursor-default",children:E},E))})]})]})})]}),s.jsx(wp,{className:"bg-muted/10 text-muted-foreground py-3 border-t border-border/30"})]})}const fce=f.createContext(void 0),pce=()=>{const e=f.useContext(fce);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},bpt=({children:e})=>{const[t,r]=f.useState(null),[a,n]=f.useState(!0),i=f.useCallback(l=>{if(!l.settings){console.log(" Theme has no settings, using defaults");return}const c=l.settings,d=document.documentElement;console.log(" Applying theme:",l.name),c.colors&&Object.entries(c.colors).forEach(([u,h])=>{h&&(d.style.setProperty(`--theme-${u}`,h),console.log(`   --theme-${u}: ${h}`))}),c.typography&&(c.typography.fontFamily&&d.style.setProperty("--theme-font-family",c.typography.fontFamily),c.typography.headingFamily&&d.style.setProperty("--theme-heading-family",c.typography.headingFamily),c.typography.fontSize&&Object.entries(c.typography.fontSize).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-font-size-${u}`,h)}),c.typography.fontWeight&&Object.entries(c.typography.fontWeight).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-font-weight-${u}`,h)})),c.spacing&&Object.entries(c.spacing).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-spacing-${u}`,h)}),c.borderRadius&&Object.entries(c.borderRadius).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-radius-${u}`,h)}),c.shadows&&Object.entries(c.shadows).forEach(([u,h])=>{h&&d.style.setProperty(`--theme-shadow-${u}`,h)}),console.log(" Theme applied successfully")},[]),o=f.useCallback(l=>{r(l),i(l)},[i]);return f.useEffect(()=>{(async()=>{try{const d=new URLSearchParams(window.location.search).get("theme_preview");if(d){console.log(" Loading theme preview:",d);const u=await xb.getThemes(),h=u.find(m=>m.id===d);if(h)console.log(" Preview theme found:",h.name),o(h);else{console.warn(" Preview theme not found, loading active theme");const m=u.find(p=>p.isActive);m&&o(m)}}else{const h=(await xb.getThemes()).find(m=>m.isActive);h?(console.log(" Active theme loaded:",h.name),o(h)):console.log(" No active theme found, using defaults")}}catch(c){console.error(" Failed to load theme:",c)}finally{n(!1)}})()},[o]),s.jsx(fce.Provider,{value:{currentTheme:t,loading:a,applyTheme:o},children:e})};function wpt(){const{currentTheme:e}=pce(),[t,r]=f.useState(!1);if(!t)return s.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 p-3 bg-black text-white rounded-full shadow-lg hover:scale-110 transition-transform z-50",title:"Show Theme Debug",children:s.jsx(Bc,{className:"w-5 h-5"})});const a=i=>getComputedStyle(document.documentElement).getPropertyValue(i).trim(),n=[{name:"Primary",var:"--theme-primary"},{name:"Secondary",var:"--theme-secondary"},{name:"Accent",var:"--theme-accent"},{name:"Background",var:"--theme-background"},{name:"Surface",var:"--theme-surface"},{name:"Text",var:"--theme-text"},{name:"Border",var:"--theme-border"}];return s.jsxs("div",{className:"theme-debug",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[s.jsx(Bc,{className:"w-4 h-4"}),"Theme Debug"]}),s.jsx("button",{onClick:()=>r(!1),className:"hover:opacity-70",children:s.jsx(hr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("strong",{children:"Active Theme:"})," ",(e==null?void 0:e.name)||"None"]}),s.jsx("div",{className:"space-y-1",children:n.map(({name:i,var:o})=>{const l=a(o);return s.jsxs("div",{className:"theme-debug-item",children:[s.jsxs("span",{children:[i,":"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"theme-debug-color",style:{backgroundColor:l}}),s.jsx("span",{className:"text-xs opacity-75",children:l})]})]},o)})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/10 text-xs opacity-75",children:"Press F12  Console for detailed logs"})]})}const jpt=()=>{const{loading:e}=pce();return e?s.jsx(Rp,{}):s.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--theme-background)",color:"var(--theme-text)"},children:[s.jsx(vpt,{}),s.jsx("main",{className:"flex-1",children:s.jsx(qk,{})}),s.jsx(ypt,{}),s.jsx(wpt,{})]})},xce=()=>s.jsx(bpt,{children:s.jsx(jpt,{})});var YA="Popover",[gce,Vgt]=qa(YA,[bm]),Tj=bm(),[Npt,Fm]=gce(YA),vce=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=e,l=Tj(t),c=f.useRef(null),[d,u]=f.useState(!1),[h,m]=mo({prop:a,defaultProp:n??!1,onChange:i,caller:YA});return s.jsx(eI,{...l,children:s.jsx(Npt,{scope:t,contentId:cl(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:r})})};vce.displayName=YA;var yce="PopoverAnchor",Spt=f.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fm(yce,r),i=Tj(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return f.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Uw,{...i,...a,ref:t})});Spt.displayName=yce;var bce="PopoverTrigger",wce=f.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fm(bce,r),i=Tj(r),o=xr(t,n.triggerRef),l=s.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Cce(n.open),...a,ref:o,onClick:xt(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:s.jsx(Uw,{asChild:!0,...i,children:l})});wce.displayName=bce;var tM="PopoverPortal",[kpt,Cpt]=gce(tM,{forceMount:void 0}),jce=e=>{const{__scopePopover:t,forceMount:r,children:a,container:n}=e,i=Fm(tM,t);return s.jsx(kpt,{scope:t,forceMount:r,children:s.jsx(Pn,{present:r||i.open,children:s.jsx(x0,{asChild:!0,container:n,children:a})})})};jce.displayName=tM;var u0="PopoverContent",Nce=f.forwardRef((e,t)=>{const r=Cpt(u0,e.__scopePopover),{forceMount:a=r.forceMount,...n}=e,i=Fm(u0,e.__scopePopover);return s.jsx(Pn,{present:a||i.open,children:i.modal?s.jsx(Ept,{...n,ref:t}):s.jsx(Ppt,{...n,ref:t})})});Nce.displayName=u0;var Apt=tm("PopoverContent.RemoveScroll"),Ept=f.forwardRef((e,t)=>{const r=Fm(u0,e.__scopePopover),a=f.useRef(null),n=xr(t,a),i=f.useRef(!1);return f.useEffect(()=>{const o=a.current;if(o)return dC(o)},[]),s.jsx(Qw,{as:Apt,allowPinchZoom:!0,children:s.jsx(Sce,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:xt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ppt=f.forwardRef((e,t)=>{const r=Fm(u0,e.__scopePopover),a=f.useRef(!1),n=f.useRef(!1);return s.jsx(Sce,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Sce=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=Fm(u0,r),p=Tj(r);return cC(),s.jsx(Yw,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(vp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx($k,{"data-state":Cce(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kce="PopoverClose",Tpt=f.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Fm(kce,r);return s.jsx(Lt.button,{type:"button",...a,ref:t,onClick:xt(e.onClick,()=>n.onOpenChange(!1))})});Tpt.displayName=kce;var _pt="PopoverArrow",Dpt=f.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=Tj(r);return s.jsx(Bk,{...n,...a,ref:t})});Dpt.displayName=_pt;function Cce(e){return e?"open":"closed"}var Opt=vce,Ipt=wce,Rpt=jce,Ace=Nce;const Ece=Opt,Pce=Ipt,rM=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>s.jsx(Rpt,{children:s.jsx(Ace,{ref:n,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));rM.displayName=Ace.displayName;const nW=({className:e,collapsed:t=!1,onToggleCollapse:r})=>{const{t:a,i18n:n}=Ct(),i=n.language==="ar",o=Tn(),l=Kr(),{canAccessRoute:c,isStaff:d}=hQ(),[u,h]=f.useState(null),[m,p]=f.useState({}),[g,x]=f.useState(0),[y,w]=f.useState("SAR"),{hasUnreadUpdates:b,getUnreadUpdates:v,markAsWatched:N}=Gve(),[j,k]=f.useState(null),[S,C]=f.useState({home:!0,salesAndOrders:!0,contentAndDesign:!0,marketing:!0,storeSettings:!1,advanced:!1});f.useEffect(()=>{E.flatMap(_=>_.items).filter(_=>_.badge===a("dashboard.sidebar.new")).map(_=>_.href).forEach(_=>{(_==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===_||o.pathname.startsWith(_+"/"))&&N(_)})},[o.pathname,n.language]),f.useEffect(()=>{(async()=>{var _;try{const O=await he.get("/site-config",{requireAuth:!0});h(O.settings),(_=O.settings)!=null&&_.currency&&w(O.settings.currency)}catch{}})()},[]),f.useEffect(()=>{(async()=>{try{const _=await he.get("/partner/status",{requireAuth:!0});p(_)}catch{}})()},[]),f.useEffect(()=>{(async()=>{try{const _=await he.get("/transactions/balance",{requireAuth:!0});x(_.availableBalance||_.balance||0),_.currency}catch{x(0)}})()},[]);const A=T=>T.filter(_=>_.href==="/dashboard"?!0:c(_.href)),E=f.useMemo(()=>[{key:"home",title:a("dashboard.sidebar.home"),items:A([{name:a("dashboard.sidebar.dashboard"),href:"/dashboard",icon:Gf,badge:null}])},{key:"salesAndOrders",title:a("dashboard.sidebar.salesAndOrders"),items:A([{name:a("dashboard.sidebar.products"),href:"/dashboard/products",icon:Tt,badge:null},{name:a("dashboard.sidebar.hierarchical"),href:"/dashboard/hierarchical",icon:vi,badge:null},{name:a("dashboard.sidebar.priceManagement"),href:"/dashboard/prices",icon:pn,badge:null},{name:a("dashboard.sidebar.orders"),href:"/dashboard/orders",icon:Dr,badge:null},{name:a("dashboard.sidebar.customers"),href:"/dashboard/customers",icon:mr,badge:null},{name:a("dashboard.sidebar.reports"),href:"/dashboard/reports",icon:Da,badge:null}])},{key:"contentAndDesign",title:a("dashboard.sidebar.contentAndDesign"),items:A([{name:a("dashboard.sidebar.categories"),href:"/dashboard/categories",icon:vi,badge:null},{name:a("dashboard.sidebar.pages"),href:"/dashboard/pages",icon:ua,badge:null},{name:a("dashboard.sidebar.storefront"),href:"/dashboard/storefront",icon:Vs,badge:null},{name:a("dashboard.sidebar.storeDesign"),href:"/dashboard/design",icon:Bc,badge:null},{name:a("dashboard.sidebar.templates"),href:"/dashboard/templates",icon:wg,badge:null}])},{key:"marketing",title:a("dashboard.sidebar.marketing"),items:A([{name:a("dashboard.sidebar.potentialAndMarketing"),href:"/dashboard/marketing",icon:am,badge:null},{name:a("dashboard.sidebar.smartLine"),href:"/dashboard/smart-line",icon:Kf,badge:null}])},{key:"storeSettings",title:a("dashboard.sidebar.storeSettings"),items:A([{name:a("dashboard.sidebar.generalSettings"),href:"/dashboard/settings",icon:vs,badge:null},{name:a("dashboard.sidebar.notifications"),href:"/dashboard/settings/notifications",icon:zl,badge:null},{name:a("dashboard.sidebar.payment"),href:"/dashboard/settings/payment",icon:Wr,badge:null},{name:a("dashboard.sidebar.checkoutSettings"),href:"/dashboard/settings/checkout",icon:Dr,badge:null},{name:a("dashboard.sidebar.limits"),href:"/dashboard/settings/limits",icon:Ux,badge:null},{name:a("dashboard.sidebar.domains"),href:"/dashboard/settings/domains",icon:Oa,badge:null},{name:a("dashboard.sidebar.suppliers"),href:"/dashboard/settings/suppliers",icon:Do,badge:null},{name:a("dashboard.sidebar.brands"),href:"/dashboard/settings/brands",icon:Tt,badge:null},{name:a("dashboard.sidebar.units"),href:"/dashboard/settings/units",icon:Tt,badge:null},{name:a("dashboard.sidebar.currencies"),href:"/dashboard/settings/currencies",icon:pn,badge:null}])},{key:"advanced",title:a("dashboard.sidebar.advanced"),items:A([{name:a("dashboard.sidebar.usersAndPermissions"),href:"/dashboard/settings/users",icon:mr,badge:null},...d?[]:[{name:a("dashboard.sidebar.employees"),href:"/dashboard/employees",icon:mr,badge:null},{name:a("dashboard.sidebar.permissions"),href:"/dashboard/permissions",icon:Ux,badge:null}],{name:a("dashboard.sidebar.integrations"),href:"/dashboard/settings/integrations",icon:u2,badge:null},{name:a("dashboard.sidebar.identityVerification"),href:"/dashboard/settings/kyc",icon:Ux,badge:null},{name:a("dashboard.sidebar.appStore"),href:"/dashboard/apps",icon:py,badge:null},{name:a("dashboard.sidebar.storeManagement"),href:"/dashboard/management",icon:vs,badge:null},{name:a("dashboard.sidebar.chat"),href:"/dashboard/chat",icon:un,badge:null}])}],[a,c,d]),D=T=>{C(_=>({..._,[T]:!_[T]}))},P=T=>T.items.some(_=>_.href==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===_.href||o.pathname.startsWith(_.href+"/"));return s.jsxs("div",{className:be("flex flex-col h-full bg-card relative",i?"border-l":"border-r",e),children:[s.jsxs("div",{className:be("flex items-center h-16 border-b transition-all",t?"justify-center px-2":"justify-between px-6"),children:[s.jsxs(Qe,{to:"/dashboard",className:be("flex items-center gap-3",t&&"flex-col gap-1"),children:[u!=null&&u.storeLogoUrl||u!=null&&u.logo?s.jsx("img",{src:u.storeLogoUrl||u.logo,alt:u.storeNameAr||u.storeName||u.tenantName||"Store Logo",className:be("rounded-xl object-cover shadow-sm border",t?"h-8 w-8":"h-12 w-12")}):s.jsx("div",{className:be("rounded-xl bg-gradient-primary flex items-center justify-center shadow-lg",t?"h-8 w-8":"h-12 w-12"),children:s.jsx(Vs,{className:be("text-white",t?"h-4 w-4":"h-6 w-6")})}),!t&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-lg font-bold gradient-text truncate max-w-[140px]",children:(u==null?void 0:u.storeNameAr)||(u==null?void 0:u.storeName)||(u==null?void 0:u.tenantName)||"Saeaa"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:a("dashboard.sidebar.controlPanel")})]})]}),r&&s.jsx(z,{variant:"ghost",size:"icon",onClick:r,className:be("h-8 w-8 hidden lg:flex",t&&"absolute left-2 top-4"),children:t?s.jsx($c,{className:"h-4 w-4"}):s.jsx(Ms,{className:"h-4 w-4"})})]}),s.jsx("div",{className:be("border-b transition-all",t?"px-2 py-3":"px-4 py-3"),children:s.jsx("div",{onClick:()=>l("/dashboard/wallet"),className:be("rounded-xl bg-green-50 dark:bg-green-950/20 p-4 cursor-pointer hover:bg-green-100 dark:hover:bg-green-950/30 transition-all shadow-sm",t&&"p-2"),title:a("dashboard.sidebar.clickToViewWallet"),children:s.jsxs("div",{className:be("flex items-center justify-between",t&&"flex-col gap-2 justify-center"),children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:a("dashboard.sidebar.transactions")}),s.jsx("div",{className:be("rounded-full bg-green-100 dark:bg-green-900/40 p-2.5 flex items-center justify-center",t&&"mt-1"),children:s.jsx(h2,{className:"h-5 w-5 text-green-600 dark:text-green-500"})})]})})}),s.jsx(xn,{className:"flex-1 px-4 py-4",children:s.jsxs("nav",{className:"space-y-2",children:[E.map(T=>{const _=t?!1:S[T.key]??!0,O=P(T);return s.jsxs("div",{className:"space-y-1",children:[!t&&s.jsxs("button",{onClick:()=>D(T.key),className:be("w-full flex items-center justify-between px-2 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors rounded-md",O&&"text-primary bg-primary/5"),children:[s.jsx("span",{children:T.title}),_?s.jsx(Ok,{className:"h-3 w-3"}):s.jsx(zi,{className:"h-3 w-3"})]}),(_||t)&&s.jsx("div",{className:be("space-y-1",!t&&(i?"mr-2":"ml-2")),children:T.items.map(F=>{const I=F.href==="/dashboard/settings"?o.pathname==="/dashboard/settings"||o.pathname.startsWith("/dashboard/settings/"):o.pathname===F.href||o.pathname.startsWith(F.href+"/"),R=F.badge===a("dashboard.sidebar.new")&&b(F.href),L=R?v(F.href):[],H=L.length;return s.jsx("div",{className:"relative",children:s.jsxs(Qe,{id:`tour-sidebar-${F.href.split("/").pop()}`,to:F.href,title:t?F.name:void 0,className:be("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-2.5":"justify-between px-3 py-2.5",I?`bg-primary/10 text-primary ${i?"border-r-2":"border-l-2"} border-primary shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>{F.badge===a("dashboard.sidebar.new")&&b(F.href)&&N(F.href)},children:[s.jsxs("div",{className:be("flex items-center gap-3",t&&"justify-center"),children:[s.jsx(F.icon,{className:be("h-4 w-4 transition-transform group-hover:scale-110 flex-shrink-0",I&&"text-primary")}),!t&&s.jsx("span",{className:"text-xs",children:F.name})]}),!t&&F.badge&&s.jsxs(Ece,{open:j===F.href,onOpenChange:W=>k(W?F.href:null),children:[s.jsx(Pce,{asChild:!0,children:s.jsx("button",{onClick:W=>{W.preventDefault(),W.stopPropagation(),k(j===F.href?null:F.href)},className:"relative",children:s.jsxs(Ze,{variant:"secondary",className:be("text-white text-[10px] px-1.5 py-0 cursor-pointer",R?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-gray-500 hover:bg-gray-600"),children:[F.badge,R&&H>0&&s.jsx("span",{className:`${i?"ml-1":"mr-1"} bg-white text-red-500 rounded-full px-1 text-[9px] font-bold`,children:H})]})})}),s.jsxs(rM,{className:"w-80 p-0",align:"end",onClick:W=>W.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"font-semibold",children:a("dashboard.header.notifications")}),s.jsx(z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{N(F.href),k(null)},children:s.jsx(hr,{className:"h-4 w-4"})})]}),s.jsx(xn,{className:"h-[300px]",children:L.length>0?s.jsx("div",{className:"p-2 space-y-2",children:L.map(W=>s.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-muted transition-colors",children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ze,{variant:W.type==="added"?"default":"secondary",className:"text-xs",children:W.type==="added"?a("dashboard.sidebar.new"):a("dashboard.header.status")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(W.timestamp).toLocaleTimeString(n.language==="ar"?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm",children:String(W.message||"")})]})})},W.id))}):s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:s.jsx("p",{children:a("dashboard.header.noNotifications")})})}),L.length>0&&s.jsx("div",{className:"p-3 border-t",children:s.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{N(F.href),k(null)},children:a("common.confirm")})})]})]})]})},F.name)})})]},T.key)}),(m.asusPartnerCompleted||m.smartLinePartnerCompleted)&&s.jsxs(s.Fragment,{children:[s.jsx(Qs,{className:"my-4"}),s.jsxs("div",{className:be("space-y-1",t&&"space-y-2"),children:[m.asusPartnerCompleted&&s.jsx(Qe,{to:"/dashboard/support",title:t?" ASUS":void 0,className:be("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-3":"justify-between px-4 py-3",o.pathname==="/dashboard/support"?`bg-gradient-to-r from-purple-500/10 to-blue-500/10 text-purple-700 dark:text-purple-400 ${i?"border-r-4":"border-l-4"} border-purple-500 shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),children:s.jsxs("div",{className:be("flex items-center gap-3",t&&"justify-center"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(l2,{className:be("h-5 w-5 transition-transform group-hover:scale-110 flex-shrink-0",o.pathname==="/dashboard/support"&&"text-purple-600 dark:text-purple-400")}),!t&&s.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:`absolute -top-1 w-3 h-3 rounded-full bg-white ${i?"-right-1":"-left-1"}`})]}),!t&&s.jsxs("span",{children:[a("dashboard.sidebar.support")," ASUS"]})]})}),m.smartLinePartnerCompleted&&s.jsx(Qe,{to:"/dashboard/support",title:t?a("dashboard.sidebar.support")+" Smart Line":void 0,className:be("flex items-center gap-3 rounded-lg text-sm font-medium transition-all group",t?"justify-center px-3 py-3":"justify-between px-4 py-3",o.pathname==="/dashboard/support"?`bg-gradient-to-r from-cyan-500/10 to-blue-500/10 text-cyan-700 dark:text-cyan-400 ${i?"border-r-4":"border-l-4"} border-cyan-500 shadow-sm`:"text-muted-foreground hover:bg-muted hover:text-foreground"),children:s.jsxs("div",{className:be("flex items-center gap-3",t&&"justify-center"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(l2,{className:be("h-5 w-5 transition-transform group-hover:scale-110 flex-shrink-0",o.pathname==="/dashboard/support"&&"text-cyan-600 dark:text-cyan-400")}),!t&&s.jsx("img",{src:"/partners/smartline-logo.png",alt:"Smart Line",className:`absolute -top-1 w-3 h-3 rounded-full bg-white ${i?"-right-1":"-left-1"}`})]}),!t&&s.jsxs("span",{children:[a("dashboard.sidebar.support")," Smart Line"]})]})})]})]})]})}),s.jsx(Qs,{}),!t&&((u==null?void 0:u.googlePlayUrl)||(u==null?void 0:u.appStoreUrl))&&s.jsx("div",{className:be("p-4",t&&"p-2"),children:s.jsxs("div",{className:"flex gap-2",children:[(u==null?void 0:u.googlePlayUrl)&&s.jsxs("a",{href:u.googlePlayUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-black rounded-lg p-2 flex items-center justify-center gap-1 cursor-pointer hover:bg-gray-800 transition-colors",children:[s.jsx(py,{className:"h-4 w-4 text-white"}),s.jsx("div",{className:"text-xs text-white font-medium",children:"Google Play"})]}),(u==null?void 0:u.appStoreUrl)&&s.jsxs("a",{href:u.appStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-black rounded-lg p-2 flex items-center justify-center gap-1 cursor-pointer hover:bg-gray-800 transition-colors",children:[s.jsx(py,{className:"h-4 w-4 text-white"}),s.jsx("div",{className:"text-xs text-white font-medium",children:"App Store"})]})]})}),!t&&s.jsx("div",{className:"px-4 py-2 border-t border-border",children:s.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[s.jsxs("div",{children:["v",ZI]}),y_!=="dev"]})})]})},Fpt=()=>{const[e,t]=f.useState("light");f.useEffect(()=>{const a=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches,i=a||(n?"dark":"light");t(i),document.documentElement.classList.toggle("dark",i==="dark")},[]);const r=()=>{const a=e==="light"?"dark":"light";t(a),localStorage.setItem("theme",a),document.documentElement.classList.toggle("dark",a==="dark")};return s.jsx(z,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Toggle theme",children:e==="light"?s.jsx(_d,{className:"h-5 w-5"}):s.jsx(Nu,{className:"h-5 w-5"})})},Mpt=()=>{const{i18n:e}=Ct(),t=async r=>{dI(r),await e.changeLanguage(r),window.dispatchEvent(new Event("languagechange"));const a=new CustomEvent("i18n:languageChanged",{detail:{language:r}});window.dispatchEvent(a);const n=r==="ar"?"rtl":"ltr";document.documentElement.dir=n,document.documentElement.lang=r,document.documentElement.setAttribute("dir",n),document.documentElement.setAttribute("lang",r),document.body&&(document.body.dir=n,document.body.setAttribute("dir",n),document.body.style.setProperty("direction",n,"important"),document.body.style.direction=n),n==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl")))};return s.jsxs(AA,{children:[s.jsx(EA,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"icon","aria-label":"Change language",children:s.jsx(Xme,{className:"h-5 w-5"})})}),s.jsxs(jj,{align:"end",children:[s.jsx(ol,{onClick:()=>t("ar"),children:""}),s.jsx(ol,{onClick:()=>t("en"),children:"English"})]})]})};var Tce="AlertDialog",[Lpt,zgt]=qa(Tce,[bre]),Wu=bre(),_ce=e=>{const{__scopeAlertDialog:t,...r}=e,a=Wu(t);return s.jsx(k3,{...a,...r,modal:!0})};_ce.displayName=Tce;var $pt="AlertDialogTrigger",Bpt=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=Wu(r);return s.jsx(C3,{...n,...a,ref:t})});Bpt.displayName=$pt;var Upt="AlertDialogPortal",Dce=e=>{const{__scopeAlertDialog:t,...r}=e,a=Wu(t);return s.jsx(A3,{...a,...r})};Dce.displayName=Upt;var Vpt="AlertDialogOverlay",Oce=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=Wu(r);return s.jsx(lj,{...n,...a,ref:t})});Oce.displayName=Vpt;var ng="AlertDialogContent",[zpt,Wpt]=Lpt(ng),Hpt=Mq("AlertDialogContent"),Ice=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...n}=e,i=Wu(r),o=f.useRef(null),l=xr(t,o),c=f.useRef(null);return s.jsx(zGe,{contentName:ng,titleName:Rce,docsSlug:"alert-dialog",children:s.jsx(zpt,{scope:r,cancelRef:c,children:s.jsxs(cj,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:xt(n.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(Hpt,{children:a}),s.jsx(Gpt,{contentRef:o})]})})})});Ice.displayName=ng;var Rce="AlertDialogTitle",Fce=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=Wu(r);return s.jsx(dj,{...n,...a,ref:t})});Fce.displayName=Rce;var Mce="AlertDialogDescription",Lce=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=Wu(r);return s.jsx(uj,{...n,...a,ref:t})});Lce.displayName=Mce;var qpt="AlertDialogAction",$ce=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,n=Wu(r);return s.jsx(uA,{...n,...a,ref:t})});$ce.displayName=qpt;var Bce="AlertDialogCancel",Uce=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:n}=Wpt(Bce,r),i=Wu(r),o=xr(t,n);return s.jsx(uA,{...i,...a,ref:o})});Uce.displayName=Bce;var Gpt=({contentRef:e})=>{const t=`\`${ng}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ng}\` by passing a \`${Mce}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ng}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Kpt=_ce,Ypt=Dce,Vce=Oce,zce=Ice,Wce=$ce,Hce=Uce,qce=Fce,Gce=Lce;const Xpt=Kpt,Qpt=Ypt,Kce=f.forwardRef(({className:e,...t},r)=>s.jsx(Vce,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Kce.displayName=Vce.displayName;const Yce=f.forwardRef(({className:e,...t},r)=>s.jsxs(Qpt,{children:[s.jsx(Kce,{}),s.jsx(zce,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Yce.displayName=zce.displayName;const Xce=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xce.displayName="AlertDialogHeader";const Qce=({className:e,...t})=>s.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qce.displayName="AlertDialogFooter";const Jce=f.forwardRef(({className:e,...t},r)=>s.jsx(qce,{ref:r,className:be("text-lg font-semibold",e),...t}));Jce.displayName=qce.displayName;const Zce=f.forwardRef(({className:e,...t},r)=>s.jsx(Gce,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Zce.displayName=Gce.displayName;const ede=f.forwardRef(({className:e,...t},r)=>s.jsx(Wce,{ref:r,className:be(sC(),e),...t}));ede.displayName=Wce.displayName;const tde=f.forwardRef(({className:e,...t},r)=>s.jsx(Hce,{ref:r,className:be(sC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));tde.displayName=Hce.displayName;function Jpt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",{user:a,refreshUser:n}=$s(),i=Kr(),{toast:o}=Rt(),[l,c]=f.useState([]),[d,u]=f.useState(!0),[h,m]=f.useState(!1),[p,g]=f.useState({allowed:!1,currentCount:0,limit:1}),[x,y]=f.useState(!1),[w,b]=f.useState(!1),[v,N]=f.useState(null);f.useEffect(()=>{j()},[]);const j=async()=>{try{u(!0);const[P,T]=await Promise.all([Vi.getUserMarkets(),Vi.canCreateMarket()]);c(P||[]),g(T)}catch(P){console.error("Failed to load markets:",P),c([])}finally{u(!1)}},k=async P=>{if(!(h||P===(a==null?void 0:a.tenantId)))try{m(!0);const T=await Vi.switchStore(P);T.accessToken&&localStorage.setItem("accessToken",T.accessToken),T.refreshToken&&localStorage.setItem("refreshToken",T.refreshToken),await n(),o({title:e("common.success"),description:`${e("dashboard.storeSwitched","Switched to")} ${T.tenantName||"store"}`}),window.location.reload()}catch(T){console.error("Failed to switch store:",T),o({title:e("common.error"),description:T.message||e("dashboard.switchFailed","Failed to switch store"),variant:"destructive"})}finally{m(!1)}},S=()=>{i("/setup")},C=(P,T)=>{P.stopPropagation(),N(T),b(!0)},A=async()=>{if(v){if(v.id===(a==null?void 0:a.tenantId)){o({title:e("common.error"),description:r?"    .      .":"Cannot delete the active market. Please switch to another market first.",variant:"destructive"}),b(!1),N(null);return}try{y(!0),await Vi.deleteMarket(v.id),o({title:e("common.success"),description:r?`   "${v.name}" `:`Market "${v.name}" deleted successfully`}),await j(),await n()}catch(P){console.error("Failed to delete market:",P),o({title:e("common.error"),description:P.message||(r?"  ":"Failed to delete market"),variant:"destructive"})}finally{y(!1),b(!1),N(null)}}},E=l.find(P=>P.id===(a==null?void 0:a.tenantId));if(d)return s.jsxs(z,{variant:"ghost",size:"sm",disabled:!0,className:"gap-2",children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:e("common.loading")})]});if(l.length===0)return s.jsxs(z,{variant:"default",size:"sm",onClick:S,className:"gap-2 bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(Gt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("marketSetup.createStore"," ")})]});const D=P=>{const T={STARTER:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",PROFESSIONAL:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",ENTERPRISE:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"};return T[P]||T.STARTER};return s.jsxs(AA,{children:[s.jsx(EA,{asChild:!0,children:s.jsx(z,{variant:"outline",size:"sm",disabled:h,className:"gap-2 min-w-[140px] justify-between",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:e("common.switching"," ...")})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Vs,{className:"h-3.5 w-3.5 text-primary"})}),s.jsx("span",{className:"max-w-[100px] truncate font-medium",children:(E==null?void 0:E.name)||e("dashboard.selectStore"," ")})]}),s.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]})})}),s.jsxs(jj,{align:r?"start":"end",className:"w-[280px]",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[s.jsx(PF,{className:"p-0 font-semibold",children:e("dashboard.stores","")}),s.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[p.currentCount,"/",p.limit]})]}),s.jsx(xn,{className:"max-h-[240px]",children:s.jsx("div",{className:"py-1",children:l.map(P=>{const T=P.id===(a==null?void 0:a.tenantId),_=P.isOwner&&!T;return s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2.5 mx-1 my-0.5 rounded-md transition-colors ${T?"bg-primary/10 border border-primary/20":"hover:bg-muted"}`,children:[s.jsxs(ol,{onClick:()=>k(P.id),className:`flex items-center gap-3 flex-1 p-0 cursor-pointer ${T?"bg-transparent":""}`,disabled:h,children:[s.jsx("div",{className:`h-9 w-9 rounded-lg flex items-center justify-center ${T?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(Vs,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium truncate",children:P.name}),P.isOwner&&s.jsx(v0,{className:"h-3 w-3 text-amber-500 flex-shrink-0","aria-label":""})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:P.subdomain}),s.jsx(Ze,{className:`text-[10px] px-1.5 py-0 h-4 ${D(P.plan)}`,children:P.plan})]})]}),T&&s.jsx(Ba,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),_&&s.jsx(z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:O=>C(O,P),disabled:x,children:s.jsx(_r,{className:"h-4 w-4"})})]},P.id)})})}),s.jsx(c0,{}),p.allowed?s.jsx(ol,{onClick:S,className:"cursor-pointer mx-1 my-1 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg border-2 border-dashed border-primary/50 flex items-center justify-center",children:s.jsx(Gt,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:e("marketSetup.createStore","  ")})]})}):s.jsxs("div",{className:"px-3 py-2 text-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 text-xs",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx("span",{children:e("dashboard.storeLimitReached","   ")})]}),s.jsx(Qe,{to:"/dashboard/settings/billing",className:"text-xs text-primary hover:underline mt-1 block",children:e("dashboard.upgradePlan"," ")})]})]}),s.jsx(Xpt,{open:w,onOpenChange:b,children:s.jsxs(Yce,{children:[s.jsxs(Xce,{children:[s.jsx(Jce,{children:r?" ":"Delete Market"}),s.jsx(Zce,{children:r?`      "${v==null?void 0:v.name}"            .`:`Are you sure you want to delete the market "${v==null?void 0:v.name}"? This action cannot be undone and will delete all associated data.`})]}),s.jsxs(Qce,{children:[s.jsx(tde,{disabled:x,children:r?"":"Cancel"}),s.jsx(ede,{onClick:A,disabled:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),r?" ...":"Deleting..."]}):r?"":"Delete"})]})]})})]})}const rde=f.createContext({startTour:()=>{},isRunning:!1}),sde=()=>f.useContext(rde),Zpt=({step:e,onClose:t})=>{const{t:r,i18n:a}=Ct(),n=a.language==="ar",[i,o]=f.useState([{role:"assistant",content:n?`!   .     "${e.title}".    `:`Hi! I'm your AI assistant. I can tell you more about "${e.title}". What would you like to know?`}]),[l,c]=f.useState(""),[d,u]=f.useState(!1),h=f.useRef(null);f.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[i]);const m=async()=>{if(!l.trim()||d)return;const p=l.trim();c(""),o(g=>[...g,{role:"user",content:p}]),u(!0);try{const g=await Gw.chat({message:p,context:{currentSection:e.title,currentPage:e.navigateTo||"dashboard",userAction:"tour_guide_question"}});o(x=>[...x,{role:"assistant",content:g.response}])}catch{o(x=>[...x,{role:"assistant",content:n?"    .   .":"Sorry, connection error. Please try again."}])}finally{u(!1)}};return s.jsx(Je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-border/50 bg-muted/30",children:s.jsxs("div",{className:"p-4 h-[300px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-teal-600",children:[s.jsx(cu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:n?" ":"AI Assistant"})]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:s.jsx(hr,{className:"w-3 h-3"})})]}),s.jsx(xn,{className:"flex-1 pr-3 mb-3",ref:h,children:s.jsxs("div",{className:"space-y-3",children:[i.map((p,g)=>s.jsxs("div",{className:be("flex gap-2",p.role==="user"?"flex-row-reverse":""),children:[s.jsx("div",{className:be("w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-1",p.role==="user"?"bg-primary text-primary-foreground":"bg-teal-100 text-teal-600"),children:p.role==="user"?s.jsx(mr,{className:"w-3 h-3"}):s.jsx(cu,{className:"w-3 h-3"})}),s.jsx("div",{className:be("p-2.5 rounded-2xl text-sm max-w-[85%]",p.role==="user"?"bg-primary text-primary-foreground rounded-tr-none":"bg-white dark:bg-gray-800 border shadow-sm rounded-tl-none"),children:p.content})]},g)),d&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx(cu,{className:"w-3 h-3"})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border shadow-sm rounded-2xl rounded-tl-none p-3 flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-auto pt-2 border-t border-border/50",children:[s.jsx(me,{value:l,onChange:p=>c(p.target.value),onKeyDown:p=>p.key==="Enter"&&m(),placeholder:n?"  ...":"Type your question...",className:"h-9 text-sm bg-background"}),s.jsx(z,{size:"sm",onClick:m,disabled:d||!l.trim(),className:"h-9 w-9 p-0 bg-teal-600 hover:bg-teal-700",children:d?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsx(yp,{className:"w-4 h-4"})})]})]})})},ext=({children:e})=>{const[t,r]=f.useState(!1),a=f.useCallback(()=>{localStorage.removeItem("tour_completed"),r(!0)},[]),n=f.useCallback(()=>{r(!1),localStorage.setItem("tour_completed","true"),document.querySelectorAll(".tour-highlight-active").forEach(i=>{i.classList.remove("tour-highlight-active")})},[]);return s.jsxs(rde.Provider,{value:{startTour:a,isRunning:t},children:[e,s.jsx(txt,{isRunning:t,onClose:n})]})},txt=({isRunning:e,onClose:t})=>{const{t:r,i18n:a}=Ct(),n=Kr(),i=Tn(),[o,l]=f.useState(0),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(!1),g=f.useRef(0),x=a.language==="ar",y=[{id:"welcome",title:"   ! ",description:"           .",icon:s.jsx(ds,{className:"w-8 h-8 text-white"}),position:"center"},{id:"settings-nav",title:"  ",description:'    .   " "  .',icon:s.jsx(vs,{className:"w-6 h-6"}),target:"#tour-sidebar-settings",navigateTo:"/dashboard/settings"},{id:"settings-save",title:"  ",description:'       ""  .',icon:s.jsx(Ha,{className:"w-6 h-6"}),target:"#tour-settings-save-btn",waitForElement:!0},{id:"settings-info",title:"  ",description:`   
  
   ( )
  
  `,icon:s.jsx(vs,{className:"w-6 h-6"}),position:"center"},{id:"hierarchical-nav",title:"  ",description:"     .  .",icon:s.jsx(Vs,{className:"w-6 h-6"}),target:"#tour-sidebar-hierarchical",navigateTo:"/dashboard/hierarchical"},{id:"hierarchical-add-brand",title:"  ",description:'  "  "     Nike  Apple.',icon:s.jsx(Gt,{className:"w-6 h-6"}),target:"#tour-brands-add-btn",waitForElement:!0},{id:"hierarchical-add-category",title:" ",description:'     .  " ".',icon:s.jsx(Gt,{className:"w-6 h-6"}),target:"#tour-categories-add-btn",waitForElement:!0},{id:"hierarchical-info",title:"  ",description:`  =   !

:
 Nike
    
      
    `,icon:s.jsx(Vs,{className:"w-6 h-6"}),position:"center"},{id:"products-nav",title:"  ",description:'  .   "".',icon:s.jsx(Tt,{className:"w-6 h-6"}),target:"#tour-sidebar-products",navigateTo:"/dashboard/products"},{id:"products-add",title:"   ",description:"    .    .",icon:s.jsx(Gt,{className:"w-6 h-6"}),target:"#tour-products-add-btn",waitForElement:!0},{id:"products-import",title:"  Excel ",description:'    ""   Excel.',icon:s.jsx(Gn,{className:"w-6 h-6"}),target:"#tour-products-import-btn",waitForElement:!0},{id:"products-export",title:"  ",description:"    Excel  .",icon:s.jsx(Za,{className:"w-6 h-6"}),target:"#tour-products-export-btn",waitForElement:!0},{id:"products-search",title:"  ",description:"    .      .",icon:s.jsx(Or,{className:"w-6 h-6"}),target:"#tour-products-search",waitForElement:!0},{id:"pages-nav",title:"  ",description:'  .   "".',icon:s.jsx(ua,{className:"w-6 h-6"}),target:"#tour-sidebar-pages",navigateTo:"/dashboard/pages"},{id:"pages-add",title:"  ",description:'    " "  " ".',icon:s.jsx(Gt,{className:"w-6 h-6"}),target:"#tour-pages-add-btn",waitForElement:!0},{id:"pages-info",title:"  ",description:`     :
   
   
  `,icon:s.jsx(fr,{className:"w-6 h-6"}),position:"center"},{id:"customers-nav",title:"  ",description:'  .   "".',icon:s.jsx(mr,{className:"w-6 h-6"}),target:"#tour-sidebar-customers",navigateTo:"/dashboard/customers"},{id:"customers-info",title:"  ",description:`   
  
  
  
   `,icon:s.jsx(mr,{className:"w-6 h-6"}),position:"center"},{id:"design-nav",title:"  ",description:'  .   " ".',icon:s.jsx(Bc,{className:"w-6 h-6"}),target:"#tour-sidebar-design",navigateTo:"/dashboard/design"},{id:"design-info",title:" ",description:`  
 
  
   
  `,icon:s.jsx(Bc,{className:"w-6 h-6"}),position:"center"},{id:"orders-nav",title:"  ",description:'   .   "".',icon:s.jsx(Tt,{className:"w-6 h-6"}),target:"#tour-sidebar-orders",navigateTo:"/dashboard/orders"},{id:"orders-info",title:"   ",description:`    
   
  
   
   `,icon:s.jsx(Tt,{className:"w-6 h-6"}),position:"center"},{id:"reports-nav",title:"  ",description:'   .   "".',icon:s.jsx(wg,{className:"w-6 h-6"}),target:"#tour-sidebar-reports",navigateTo:"/dashboard/reports"},{id:"reports-info",title:" ",description:`  
  
  
  
   Excel`,icon:s.jsx(wg,{className:"w-6 h-6"}),position:"center"},{id:"users-nav",title:"  ",description:'   .   " ".',icon:s.jsx(mr,{className:"w-6 h-6"}),target:"#tour-sidebar-users",navigateTo:"/dashboard/settings/users"},{id:"users-info",title:" ",description:`   
    
    
   
   `,icon:s.jsx(mr,{className:"w-6 h-6"}),position:"center"},{id:"management-nav",title:"  ",description:'       .   " ".',icon:s.jsx(Vs,{className:"w-6 h-6"}),target:"#tour-sidebar-management",navigateTo:"/dashboard/management"},{id:"management-info",title:"  ",description:`   
   
    
  
   `,icon:s.jsx(Vs,{className:"w-6 h-6"}),position:"center"},{id:"notifications",title:" ",description:"  :      .",icon:s.jsx(zl,{className:"w-6 h-6"}),target:"#tour-header-notifications"},{id:"complete",title:"! ",description:"    !",icon:s.jsx(ds,{className:"w-8 h-8 text-white"}),position:"center"},{id:"next-steps",title:"  ",description:`1   
2   
3  
4  
5   !

  ! `,icon:s.jsx(ds,{className:"w-8 h-8 text-white"}),position:"center"}],w=f.useCallback(P=>{const T=document.querySelector(P);return T?(T.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const _=T.getBoundingClientRect();d(_),T.classList.add("tour-highlight-active")},300),!0):!1},[]);f.useEffect(()=>{if(!e)return;const P=y[o];if(g.current=0,document.querySelectorAll(".tour-highlight-active").forEach(_=>{_.classList.remove("tour-highlight-active")}),d(null),P.navigateTo&&i.pathname!==P.navigateTo){h(!0),n(P.navigateTo);return}if(h(!1),P.target){const _=()=>{const O=w(P.target);!O&&g.current<10?(g.current++,setTimeout(_,300)):O||d(null)};P.waitForElement?setTimeout(_,500):_()}const T=()=>{if(P.target){const _=document.querySelector(P.target);if(_){const O=_.getBoundingClientRect();d(O)}}};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[o,e,i.pathname]),f.useEffect(()=>{if(!e||!u)return;const P=y[o];P.navigateTo&&i.pathname===P.navigateTo&&(h(!1),P.target&&setTimeout(()=>{w(P.target)},500))},[i.pathname,u,e]);const b=()=>{o<y.length-1?(document.querySelectorAll(".tour-highlight-active").forEach(P=>{P.classList.remove("tour-highlight-active")}),d(null),setTimeout(()=>{l(P=>P+1)},150)):t()},v=()=>{o>0&&(document.querySelectorAll(".tour-highlight-active").forEach(P=>{P.classList.remove("tour-highlight-active")}),d(null),setTimeout(()=>{l(P=>P-1)},150))},N=()=>{document.querySelectorAll(".tour-highlight-active").forEach(P=>{P.classList.remove("tour-highlight-active")}),t()},j=()=>{const P=y[o];P.navigateTo?(n(P.navigateTo),setTimeout(()=>{l(T=>T+1)},300)):b()};if(!e)return null;const k=y[o],S=(o+1)/y.length*100,C=k.position==="center"||!k.target&&!c,A=k.target&&c,D=C?{className:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{}}:{className:"",style:{bottom:"24px",left:"50%",transform:"translateX(-50%)"}};return s.jsx(Wi,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"fixed inset-0 z-[9998] pointer-events-none",style:{background:"radial-gradient(circle at center, transparent 0%, rgba(0, 0, 0, 0.4) 100%)"}}),A&&c&&s.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9997] pointer-events-none",style:{background:`radial-gradient(ellipse ${c.width+100}px ${c.height+100}px at ${c.left+c.width/2}px ${c.top+c.height/2}px, transparent 40%, rgba(0, 0, 0, 0.5) 70%)`}}),A&&c&&s.jsxs(Je.div,{initial:{opacity:0,scale:.8,rotate:-5},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:25,mass:.8},className:"fixed cursor-pointer z-[9999]",style:{left:c.left-16,top:c.top-16,width:c.width+32,height:c.height+32},onClick:j,children:[s.jsx(Je.div,{animate:{scale:[1,1.05,1],opacity:[.6,.9,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-3xl",style:{background:"radial-gradient(circle, rgba(0, 169, 157, 0.4) 0%, transparent 70%)",filter:"blur(8px)"}}),s.jsx(Je.div,{animate:{boxShadow:["0 0 20px rgba(0, 169, 157, 0.6), 0 0 40px rgba(0, 169, 157, 0.4), inset 0 0 20px rgba(0, 169, 157, 0.2)","0 0 40px rgba(0, 169, 157, 0.8), 0 0 60px rgba(0, 169, 157, 0.5), inset 0 0 30px rgba(0, 169, 157, 0.3)","0 0 20px rgba(0, 169, 157, 0.6), 0 0 40px rgba(0, 169, 157, 0.4), inset 0 0 20px rgba(0, 169, 157, 0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-3xl border-[3px] border-teal-400"}),s.jsx(Je.div,{animate:{opacity:[.3,.6,.3]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"absolute inset-[6px] rounded-2xl bg-gradient-to-br from-teal-400/20 to-cyan-400/20"}),Array.from({length:8}).map((P,T)=>s.jsx(Je.div,{className:"absolute w-2 h-2 rounded-full bg-teal-400",style:{left:`${20+T*12}%`,top:`${15+T%3*30}%`},animate:{scale:[0,1,0],opacity:[0,1,0],y:[-10,-20,-10]},transition:{duration:2,repeat:1/0,delay:T*.2,ease:"easeInOut"}},T)),k.navigateTo&&s.jsxs(Je.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -bottom-16 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 text-white px-6 py-3 rounded-full text-sm font-bold shadow-2xl whitespace-nowrap backdrop-blur-sm",style:{backgroundSize:"200% 100%",animation:"gradient-shift 3s ease infinite"},children:[s.jsx(Je.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0},children:s.jsx(Jme,{className:"w-4 h-4"})}),s.jsx("span",{children:"  "}),s.jsx(Je.div,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:s.jsx(Ms,{className:`w-4 h-4 ${x?"rotate-180":""}`})})]})]}),s.jsx(Je.div,{initial:{opacity:0,y:30,scale:.9,rotateX:-15},animate:{opacity:1,y:0,scale:1,rotateX:0},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",damping:30,stiffness:400,mass:.8},className:be("fixed z-[10000]",D.className),style:{...D.style,perspective:"1000px"},children:s.jsx(Je.div,{whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:25},children:s.jsxs(je,{className:"w-[400px] max-w-[90vw] shadow-2xl border-0 overflow-hidden bg-gradient-to-br from-card/98 via-card/95 to-card/98 backdrop-blur-2xl relative",children:[s.jsx(Je.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 0% 0%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(0, 169, 157, 0.1) 0%, transparent 50%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),s.jsx(Je.div,{className:"absolute inset-0 opacity-20",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)"}}),s.jsx("div",{className:"h-2 bg-muted/50 relative overflow-hidden",children:s.jsx(Je.div,{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 relative",initial:{width:0},animate:{width:`${S}%`},transition:{duration:.5,ease:"easeOut"},style:{backgroundSize:"200% 100%",animation:"gradient-shift 3s ease infinite"},children:s.jsx(Je.div,{className:"absolute inset-0 bg-white/30",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}),s.jsxs(Ce,{className:"p-6 relative z-10",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[s.jsxs(Je.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20,delay:.1},whileHover:{scale:1.1,rotate:5},className:be("p-4 rounded-2xl flex-shrink-0 shadow-xl relative overflow-hidden",C?"bg-gradient-to-br from-teal-500 via-cyan-500 to-teal-500":"bg-gradient-to-br from-teal-500/20 to-cyan-500/20 border-2 border-teal-500/30"),children:[C&&s.jsx(Je.div,{className:"absolute inset-0 bg-white/20",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsx(Je.div,{animate:C?{rotate:[0,5,-5,0]}:{},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:be("relative z-10",C?"text-white":"text-teal-500"),children:k.icon})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Je.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-xl font-bold leading-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:k.title}),s.jsx(Je.div,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0 text-muted-foreground hover:text-foreground hover:bg-destructive/10",onClick:N,children:s.jsx(hr,{className:"h-4 w-4"})})})]}),s.jsx(Je.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-line",children:k.description})]})]}),s.jsxs(Je.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex items-center justify-between mb-5 px-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Je.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"text-sm text-muted-foreground font-medium",children:[" ",o+1,"  ",y.length]},o),s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>p(!m),className:be("h-6 px-2 text-xs gap-1.5 rounded-full transition-all duration-300",m?"bg-teal-100 text-teal-700 hover:bg-teal-200":"bg-teal-50 text-teal-600 hover:bg-teal-100"),children:[s.jsx(ds,{className:"w-3 h-3"}),m?x?" ":"Hide AI":x?"  ":"Ask AI"]})]}),s.jsx("div",{className:"flex gap-1.5",children:Array.from({length:Math.min(y.length,8)}).map((P,T)=>{const _=Math.floor(o/8)*8+T,O=_===o,F=_<o;return s.jsx(Je.div,{initial:{scale:0},animate:{scale:O?1.2:1,width:O?24:8},whileHover:{scale:1.3},transition:{type:"spring",stiffness:400,damping:20},className:be("h-2 rounded-full transition-all duration-300",O?"bg-gradient-to-r from-teal-500 to-cyan-500 shadow-lg shadow-teal-500/50":F?"bg-teal-500/50":"bg-muted")},T)})})]}),s.jsx(Wi,{children:m&&s.jsx(Zpt,{step:k,onClose:()=>p(!1)})}),s.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:be("flex gap-3",x&&"flex-row-reverse"),children:[s.jsx(Wi,{children:o>0&&s.jsx(Je.div,{initial:{opacity:0,x:x?20:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:x?20:-20},transition:{type:"spring",stiffness:300},children:s.jsxs(z,{variant:"outline",onClick:v,className:"gap-2 px-4 relative overflow-hidden group",children:[s.jsx(Je.div,{whileHover:{x:x?-3:3},transition:{type:"spring",stiffness:400},children:x?s.jsx(Ms,{className:"h-4 w-4"}):s.jsx($c,{className:"h-4 w-4"})}),""]})})}),s.jsx(Je.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(z,{onClick:b,className:"w-full gap-2 bg-gradient-to-r from-teal-500 via-cyan-500 to-teal-500 hover:from-teal-600 hover:via-cyan-600 hover:to-teal-600 font-semibold shadow-xl relative overflow-hidden group",style:{backgroundSize:"200% 100%"},children:[s.jsx(Je.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),s.jsx(Je.span,{className:"relative z-10 flex items-center gap-2",animate:o===y.length-1?{scale:[1,1.05,1]}:{},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:o===y.length-1?s.jsxs(s.Fragment,{children:[s.jsx(Je.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(Kf,{className:"h-4 w-4"})})," !"]}):s.jsxs(s.Fragment,{children:["",s.jsx(Je.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:x?s.jsx($c,{className:"h-4 w-4"}):s.jsx(Ms,{className:"h-4 w-4"})})]})})]})})]}),s.jsx(Je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"w-full mt-4 text-xs text-muted-foreground hover:text-foreground transition-colors",children:" "})]})]})})},o),s.jsx("style",{children:`
            @keyframes gradient-shift {
              0%, 100% {
                background-position: 0% 50%;
              }
              50% {
                background-position: 100% 50%;
              }
            }
            
            @keyframes tour-glow {
              0%, 100% {
                box-shadow: 0 0 30px rgba(0, 169, 157, 0.7), 0 0 60px rgba(0, 169, 157, 0.4);
              }
              50% {
                box-shadow: 0 0 50px rgba(0, 169, 157, 0.9), 0 0 80px rgba(0, 169, 157, 0.5);
              }
            }
            
            .tour-highlight-active {
              position: relative;
              z-index: 1;
              transition: all 0.3s ease;
            }
            
            .tour-highlight-active::before {
              content: '';
              position: absolute;
              inset: -4px;
              border-radius: inherit;
              padding: 2px;
              background: linear-gradient(45deg, rgba(0, 169, 157, 0.3), rgba(0, 255, 255, 0.3));
              -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
              -webkit-mask-composite: xor;
              mask-composite: exclude;
              animation: border-glow 2s ease-in-out infinite;
            }
            
            @keyframes border-glow {
              0%, 100% {
                opacity: 0.5;
              }
              50% {
                opacity: 1;
              }
            }
          `})]})})},rxt=()=>{const{startTour:e}=sde();return s.jsx(z,{onClick:e,variant:"ghost",size:"icon",className:"relative",title:"  ",children:s.jsx(DO,{className:"h-5 w-5"})})},ade=({onMenuClick:e,userName:t="User",userEmail:r="admin@example.com",userAvatar:a})=>{const{t:n,i18n:i}=Ct(),o=i.language==="ar",[l,c]=f.useState("month"),d=Kr(),u=Tn(),{notifications:h,unreadCount:m,markAsRead:p,markAllAsRead:g}=qye(),[x,y]=f.useState("SAR"),[w,b]=f.useState("."),[v,N]=f.useState(""),[j,k]=f.useState(!1),[S,C]=f.useState("all"),[A,E]=f.useState(""),[D,P]=f.useState("");f.useEffect(()=>{(async()=>{var W;try{const M=await he.get("/site-config",{requireAuth:!0});if(M&&typeof M=="object"&&((W=M.settings)!=null&&W.currency)){const G=String(M.settings.currency);if(G&&G.length<=10){y(G);try{const V=await he.get("/currencies",{requireAuth:!0});if(Array.isArray(V)){const q=V.find(Y=>(Y==null?void 0:Y.code)===G);q!=null&&q.symbol&&typeof q.symbol=="string"?b(q.symbol):b({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[G]||G)}else b({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[G]||G)}catch{b({SAR:".",AED:".",USD:"$",EUR:"",GBP:""}[G]||G)}}}}catch(M){console.error("Failed to load currency:",M),y("SAR"),b(".")}})()},[]);const T=async()=>{try{console.log("Logout initiated"),await logout(),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),localStorage.removeItem("adminApiKey");const H=document.cookie.split(";");for(let W of H){const M=W.indexOf("="),G=M>-1?W.substr(0,M).trim():W.trim();document.cookie=`${G}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`,document.cookie=`${G}=; path=/; domain=${window.location.hostname}; expires=Thu, 01 Jan 1970 00:00:00 GMT`}window.location.href="/auth/login"}catch(H){console.error("Logout error:",H),localStorage.clear(),document.cookie.split(";").forEach(W=>{document.cookie=W.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.href="/auth/login"}},_=async()=>{try{const H=u.pathname;if(H.includes("/reports")){const W=new CustomEvent("exportReports");window.dispatchEvent(W),toast({title:n("dashboard.header.download"),description:n("dashboard.header.exportingReports","Exporting reports...")})}else if(H.includes("/orders")){const W=new CustomEvent("exportOrders");window.dispatchEvent(W),toast({title:n("dashboard.header.download"),description:n("dashboard.header.exportingOrders","Exporting orders...")})}else if(H.includes("/products")){const W=new CustomEvent("exportProducts");window.dispatchEvent(W),toast({title:n("dashboard.header.download"),description:n("dashboard.header.exportingProducts","Exporting products...")})}else if(H.includes("/customers")){const W=new CustomEvent("exportCustomers");window.dispatchEvent(W),toast({title:n("dashboard.header.download"),description:n("dashboard.header.exportingCustomers","Exporting customers...")})}else d("/dashboard/reports"),toast({title:n("dashboard.header.download"),description:n("dashboard.header.navigateToReports","Navigate to reports page to export data")})}catch(H){console.error("Export error:",H),toast({title:n("common.error"),description:n("dashboard.header.exportError","Failed to export data"),variant:"destructive"})}},O=()=>{k(!0)},F=()=>{u.pathname;const H={status:S,dateFrom:A,dateTo:D},W=new CustomEvent("applyFilter",{detail:H});window.dispatchEvent(W),k(!1),toast({title:n("dashboard.header.filter"),description:n("dashboard.header.filterApplied","Filter applied successfully")})},I=()=>{g()},R=H=>{switch(p(H.id),H.type){case"ORDER":d("/dashboard/orders");break;case"CUSTOMER":d("/dashboard/customers");break;case"INVENTORY":d("/dashboard/products");break;case"MARKETING":d("/dashboard/marketing");break}},L=H=>{if(H.preventDefault(),!v.trim())return;u.pathname;const W=new CustomEvent("searchQuery",{detail:v});window.dispatchEvent(W),d(`/dashboard/search?q=${encodeURIComponent(v)}`)};return s.jsxs("header",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[s.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 gap-1.5 sm:gap-2 md:gap-3 lg:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 flex-1 min-w-0",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 flex-shrink-0",onClick:e,"aria-label":" ",children:s.jsx(ym,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsx("div",{className:`hidden sm:flex items-center flex-shrink-0 ${o?"mr-1 md:mr-3 lg:mr-6":"ml-1 md:ml-3 lg:ml-6"}`,children:s.jsx("img",{src:Ho(),alt:"Saeaa - ",className:"h-12 sm:h-14 md:h-16 lg:h-18 object-contain bg-transparent"})})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1.5 xl:gap-2 flex-shrink-0",children:[s.jsxs(nr,{value:l,onValueChange:c,children:[s.jsxs(Jt,{className:"w-[240px] xl:w-[280px] bg-muted/50 border-0 h-9",children:[s.jsx(ji,{className:`h-4 w-4 text-muted-foreground ${o?"ml-2":"mr-2"}`}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"week",children:(()=>{const H=new Date,W=new Date(H);W.setDate(W.getDate()-7);const M=i.language==="ar"?"ar-SA":"en-US",G={year:"numeric",month:"long",day:"numeric"};return`${W.toLocaleDateString(M,G)} - ${H.toLocaleDateString(M,G)}`})()}),s.jsx(Oe,{value:"month",children:(()=>{const H=new Date,W=new Date(H.getFullYear(),H.getMonth(),1),M=new Date(H.getFullYear(),H.getMonth()+1,0),G=i.language==="ar"?"ar-SA":"en-US",V={year:"numeric",month:"long",day:"numeric"};return`${W.toLocaleDateString(G,V)} - ${M.toLocaleDateString(G,V)}`})()}),s.jsx(Oe,{value:"year",children:(()=>{const H=new Date,W=new Date(H.getFullYear(),0,1),M=new Date(H.getFullYear(),11,31),G=i.language==="ar"?"ar-SA":"en-US",V={year:"numeric",month:"long",day:"numeric"};return`${W.toLocaleDateString(G,V)} - ${M.toLocaleDateString(G,V)}`})()}),s.jsx(Oe,{value:"custom",children:n("dashboard.header.customDate")})]})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:_,title:n("dashboard.header.download"),children:s.jsx(Za,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:O,title:n("dashboard.header.filter"),children:s.jsx(wu,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 md:gap-1.5 lg:gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"hidden lg:flex items-center gap-1.5 px-2 py-1.5 rounded-md bg-muted/50 border border-border",children:[s.jsx(pn,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"text-xs font-medium",children:w}),s.jsx("span",{className:"text-xs text-muted-foreground hidden xl:inline",children:x})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(Jpt,{})}),s.jsx("div",{id:"tour-header-theme",children:s.jsx(Fpt,{})}),s.jsx(Mpt,{}),s.jsx(rxt,{}),s.jsxs(Ece,{children:[s.jsx(Pce,{asChild:!0,children:s.jsxs(z,{id:"tour-header-notifications",variant:"ghost",size:"icon",className:"relative h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10",children:[s.jsx(zl,{className:"h-4 w-4 sm:h-5 sm:w-5"}),m>0&&s.jsx(Ze,{variant:"destructive",className:"absolute -top-0.5 -right-0.5 h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center p-0 text-[10px] sm:text-xs",children:m>9?"9+":m})]})}),s.jsxs(rM,{className:"w-[calc(100vw-3rem)] sm:w-80 md:w-96 max-w-sm p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"font-semibold",children:n("dashboard.header.notifications")}),m>0&&s.jsx(z,{variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:I,children:n("dashboard.header.clearAll")})]}),s.jsx(xn,{className:"h-[400px]",children:h.length===0?s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(zl,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:n("dashboard.header.noNotifications","No notifications")})]}):s.jsx("div",{className:"divide-y",children:h.map(H=>s.jsx("div",{onClick:()=>R(H),className:`p-4 hover:bg-muted/50 transition-colors cursor-pointer ${H.readAt?"":"bg-cyan-50/30 dark:bg-cyan-900/10"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${H.type==="ORDER"?"bg-green-100 dark:bg-green-900/30":H.type==="CUSTOMER"?"bg-blue-100 dark:bg-blue-900/30":H.type==="INVENTORY"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-purple-100 dark:bg-purple-900/30"}`,children:s.jsx(zl,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:o&&H.titleAr||H.titleEn}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:o&&H.bodyAr||H.bodyEn}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(H.createdAt).toLocaleTimeString(o?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit"})})]}),!H.readAt&&s.jsx("div",{className:"w-2 h-2 bg-cyan-500 rounded-full mt-2"})]})},H.id))})})]})]}),s.jsx(Qs,{orientation:"vertical",className:"h-6"}),s.jsxs(AA,{children:[s.jsx(EA,{asChild:!0,children:s.jsxs(z,{id:"tour-header-profile",variant:"ghost",className:"gap-1 sm:gap-1.5 md:gap-2 px-1 sm:px-1.5 md:px-2 h-8 sm:h-9 md:h-10",children:[s.jsxs(mp,{className:"h-6 w-6 sm:h-7 sm:w-7 md:h-8 md:w-8",children:[s.jsx(fp,{src:a,alt:t}),s.jsx(pp,{className:"bg-gradient-to-br from-cyan-500 to-blue-600 text-white text-[10px] sm:text-xs md:text-sm",children:t.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[s.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm font-medium truncate max-w-[100px] xl:max-w-[120px]",children:t}),s.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs text-muted-foreground truncate max-w-[100px] xl:max-w-[120px]",children:r})]}),s.jsx(zi,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground hidden md:block"})]})}),s.jsxs(jj,{align:"end",className:"w-56 sm:w-64 md:w-72",children:[s.jsx(PF,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:t}),s.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:r})]})}),s.jsx(c0,{}),s.jsxs(ol,{onClick:()=>d("/dashboard/profile"),children:[s.jsx(Gi,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s.jsx("span",{children:n("dashboard.header.profile")})]}),s.jsxs(ol,{onClick:()=>d("/dashboard/settings"),children:[s.jsx(vs,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s.jsx("span",{children:n("dashboard.header.settings")})]}),s.jsxs(ol,{onClick:()=>d("/dashboard/help"),children:[s.jsx(DO,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s.jsx("span",{children:n("dashboard.header.helpAndSupport")})]}),s.jsx(c0,{}),s.jsxs(ol,{className:"text-red-600 focus:text-red-600 cursor-pointer",onSelect:H=>{H.preventDefault(),T()},onClick:H=>{H.preventDefault(),H.stopPropagation(),T()},children:[s.jsx(rm,{className:`h-4 w-4 ${o?"ml-2":"mr-2"}`}),s.jsx("span",{children:n("dashboard.header.logout")})]})]})]})]})]}),s.jsx("div",{className:"lg:hidden px-2 sm:px-3 md:px-4 pb-2 sm:pb-3 border-t",children:s.jsxs("form",{onSubmit:L,className:"relative",children:[s.jsx(Or,{className:`absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground ${o?"right-2 sm:right-3":"left-2 sm:left-3"}`}),s.jsx(me,{type:"search",placeholder:n("dashboard.header.searchPlaceholder"),value:v,onChange:H=>N(H.target.value),className:`bg-muted/50 border-0 h-8 sm:h-9 text-xs sm:text-sm ${o?"pr-8 sm:pr-10":"pl-8 sm:pl-10"}`})]})}),s.jsx(Qt,{open:j,onOpenChange:k,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:n("dashboard.header.filter","Filter")}),s.jsx(ur,{children:n("dashboard.header.filterDescription","Apply filters to the current page")})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:n("dashboard.header.status","Status")}),s.jsxs(nr,{value:S,onValueChange:C,children:[s.jsx(Jt,{children:s.jsx(cr,{})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:n("dashboard.header.all","All")}),s.jsx(Oe,{value:"active",children:n("dashboard.header.active","Active")}),s.jsx(Oe,{value:"inactive",children:n("dashboard.header.inactive","Inactive")}),s.jsx(Oe,{value:"pending",children:n("dashboard.header.pending","Pending")}),s.jsx(Oe,{value:"completed",children:n("dashboard.header.completed","Completed")})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:n("dashboard.header.fromDate","From Date")}),s.jsx(me,{type:"date",value:A,onChange:H=>E(H.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:n("dashboard.header.toDate","To Date")}),s.jsx(me,{type:"date",value:D,onChange:H=>P(H.target.value)})]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>{C("all"),E(""),P(""),k(!1)},children:n("common.reset","Reset")}),s.jsx(z,{onClick:F,children:n("common.apply","Apply")})]})]})})]})};function sxt(){const{t:e}=Ct(),[t,r]=f.useState(!0),[a,n]=f.useState(!0),{user:i}=$s();f.useEffect(()=>{(async()=>{if(!(i!=null&&i.id)){n(!1);return}try{const d=await he.get("/partner/status",{requireAuth:!0});d!=null&&d.asusPartnerCompleted&&r(!1)}catch(d){console.error("Partner status check error:",d)}finally{n(!1)}})()},[i==null?void 0:i.id]);const o=()=>{r(!1)},l=()=>{r(!1)};return a||!t?null:s.jsxs("div",{className:"mb-6 relative group",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"absolute top-2 left-2 z-10 text-white/80 hover:text-white hover:bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity",onClick:o,children:s.jsx(hr,{className:"h-4 w-4"})}),s.jsx(je,{className:"relative overflow-hidden border-0 bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600",children:s.jsx(Ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx("img",{src:"/partners/asus-logo.png",alt:"ASUS",className:"w-12 h-12"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:e("dashboard.banner.title","ASUS Products")}),s.jsx("p",{className:"text-white/90 text-sm",children:e("dashboard.banner.subtitle","Gaming cards, PUBG cards, and PlayStation cards")})]})]}),s.jsx(Qe,{to:"/partner",onClick:l,children:s.jsxs(z,{size:"lg",className:"bg-white text-purple-600 hover:bg-white/90 font-semibold shadow-xl",children:[e("dashboard.banner.startNow","Start Now"),s.jsx(Tt,{className:"mr-2 h-5 w-5"})]})})]})})})]})}function axt(){const{t:e,i18n:t}=Ct(),{startTour:r}=sde(),[a,n]=f.useState(!1),i=t.language==="ar";f.useEffect(()=>{const c=localStorage.getItem("tour_completed"),d=sessionStorage.getItem("tour_banner_dismissed");if(!c&&!d){const u=setTimeout(()=>n(!0),1500);return()=>clearTimeout(u)}},[]);const o=()=>{n(!1),sessionStorage.setItem("tour_banner_dismissed","true")},l=()=>{n(!1),sessionStorage.setItem("tour_banner_dismissed","true"),r()};return s.jsx(Wi,{children:a&&s.jsx(Je.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"mb-6",children:s.jsx(Je.div,{whileHover:{scale:1.01},transition:{type:"spring",stiffness:400},children:s.jsxs(je,{className:"relative overflow-hidden border-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 shadow-2xl",children:[s.jsx(Je.div,{className:"absolute inset-0 opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"},children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20% 50%, white 1px, transparent 1px), radial-gradient(circle at 80% 30%, white 1px, transparent 1px)",backgroundSize:"60px 60px"}})}),s.jsx(Je.div,{className:"absolute inset-0 opacity-20",animate:{background:["radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)","radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)","radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.3) 0%, transparent 50%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),s.jsx(Je.div,{className:"absolute inset-0 opacity-30",animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent)"}}),s.jsx(z,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-10 text-white/80 hover:text-white hover:bg-white/20",onClick:o,children:s.jsx(hr,{className:"h-4 w-4"})}),s.jsx(Ce,{className:"p-6 relative z-10",children:s.jsxs("div",{className:`flex items-center justify-between gap-4 ${i?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`flex items-center gap-4 ${i?"flex-row-reverse":""}`,children:[s.jsxs(Je.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:300,damping:20,delay:.2},whileHover:{scale:1.1,rotate:5},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl relative overflow-hidden",children:[s.jsx(Je.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),s.jsx(Je.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:s.jsx(ds,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:`text-white ${i?"text-right":"text-left"}`,children:[s.jsx(Je.h3,{initial:{opacity:0,x:i?20:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-xl font-bold mb-1",children:e("tour.banner.title"," ! ")}),s.jsx(Je.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/90 text-sm max-w-md",children:e("tour.banner.description","              .")})]})]}),s.jsxs("div",{className:`flex gap-2 ${i?"flex-row-reverse":""}`,children:[s.jsx(Je.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(z,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/20",onClick:o,children:e("common.later","")})}),s.jsx(Je.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(z,{size:"sm",className:"bg-white text-teal-600 hover:bg-white/90 font-semibold shadow-xl gap-2 relative overflow-hidden group",onClick:l,children:[s.jsx(Je.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}}),s.jsxs(Je.span,{className:"relative z-10 flex items-center gap-2",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[e("tour.startTour"," "),s.jsx(Je.div,{animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:s.jsx(ta,{className:`h-4 w-4 ${i?"rotate-180":""}`})})]})]})})]})]})})]})})})})}const nxt=()=>{const{i18n:e}=Ct(),[t,r]=f.useState(!1),[a,n]=f.useState(!1),{user:i}=$s(),o=e.language==="ar";return s.jsxs(ext,{children:[s.jsx("div",{className:"min-h-screen bg-background",dir:o?"rtl":"ltr",children:s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[s.jsx("aside",{className:`hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 bg-card z-40 transition-all duration-300 ${o?"right-0 border-l":"left-0 border-r"} ${a?"lg:w-20":"lg:w-64"}`,children:s.jsx(nW,{collapsed:a,onToggleCollapse:()=>n(!a)},`sidebar-desktop-${e.language}`)}),s.jsx(J0,{open:t,onOpenChange:r,children:s.jsx(Ip,{side:o?"right":"left",className:"w-[280px] sm:w-80 p-0 overflow-hidden",children:s.jsx(nW,{},`sidebar-mobile-${e.language}`)})}),s.jsxs("div",{className:`flex-1 w-full transition-all duration-300 ${o?a?"lg:mr-20":"lg:mr-64":a?"lg:ml-20":"lg:ml-64"}`,style:{maxWidth:"100%",overflowX:"hidden"},children:[s.jsx(ade,{onMenuClick:()=>r(!0),userName:(i==null?void 0:i.name)||(i==null?void 0:i.tenantName)||(i==null?void 0:i.email)||"User",userEmail:(i==null?void 0:i.employerEmail)||(i==null?void 0:i.email)||"",userAvatar:(i==null?void 0:i.avatar)||(i==null?void 0:i.tenantLogo)||void 0},`header-${e.language}`),s.jsxs("main",{className:"p-3 sm:p-4 md:p-5 lg:p-6 xl:p-8 w-full flex flex-col",style:{maxWidth:"100%",overflowX:"hidden"},children:[s.jsx(axt,{}),s.jsx(sxt,{}),s.jsx("div",{className:"mt-3 sm:mt-4 md:mt-5 lg:mt-6 flex-1 w-full overflow-y-visible",style:{maxWidth:"100%",overflowX:"hidden"},children:s.jsx(qk,{})}),s.jsx(wp,{className:"mt-6 sm:mt-8 pt-3 sm:pt-4 border-t border-border"})]})]})]})}),s.jsx(aC,{context:{currentPage:"dashboard"}})]})};function ixt(){return s.jsxs("div",{className:"h-screen w-screen bg-background overflow-hidden flex flex-col",children:[s.jsx(ade,{}),s.jsx("div",{className:"flex-1 overflow-hidden p-2",children:s.jsx(Coe,{isFullScreen:!0})})]})}function oxt(){var R,L,H;const{user:e}=$s(),t=Kr(),{toast:r}=Rt(),{t:a,i18n:n}=Ct(),i=n.language==="ar",[o,l]=f.useState(0),[c,d]=f.useState(""),[u,h]=f.useState("BANK_TRANSFER"),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,w]=f.useState(""),[b,v]=f.useState(""),[N,j]=f.useState(null),[k,S]=f.useState(""),[C,A]=f.useState(""),[E,D]=f.useState(!0),[P,T]=f.useState(!1),_=f.useCallback(async()=>{try{D(!0);const[W,M]=await Promise.all([Ns.getBalance().catch(()=>({balance:0})),Ns.getBanks().catch(()=>[])]);l(Number(W.balance)||0),p(M),M.length>0&&x(M[0].id)}catch(W){console.error("Failed to load data:",W),r({title:a("sections.chargeWallet.loadError","Failed to load data"),description:a("sections.chargeWallet.loadErrorDesc","An error occurred while loading data. Please try again."),variant:"destructive"})}finally{D(!1)}},[a,r]);if(f.useEffect(()=>{(e==null?void 0:e.role)==="STAFF"&&(t("/"),r({title:a("sections.chargeWallet.notAllowed","Not Allowed"),description:a("sections.chargeWallet.staffNotAllowed","Staff are not allowed to recharge balance"),variant:"destructive"}))},[e,t,r,a]),f.useEffect(()=>{(e==null?void 0:e.role)!=="STAFF"&&_()},[e,_]),(e==null?void 0:e.role)==="STAFF")return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-8 max-w-4xl",children:s.jsxs(yi,{variant:"destructive",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx(Dg,{children:a("sections.chargeWallet.notAllowed","Not Allowed")}),s.jsx(bi,{children:a("sections.chargeWallet.staffNotAllowedDesc","Staff members are not allowed to recharge balance. Please contact the store owner to add balance.")})]})})});const O=W=>{var G;const M=(G=W.target.files)==null?void 0:G[0];if(M){if(M.size>5*1024*1024){r({title:a("sections.chargeWallet.fileSizeError","File size too large"),description:a("sections.chargeWallet.fileSizeErrorDesc","Maximum file size is 5MB"),variant:"destructive"});return}j(M);const V=new FileReader;V.onloadend=()=>{S(V.result)},V.readAsDataURL(M)}},F=async W=>{if(W.preventDefault(),!c||Number(c)<=0){r({title:a("sections.chargeWallet.invalidAmount","Invalid amount"),description:a("sections.chargeWallet.invalidAmountDesc","Please enter a valid amount greater than zero"),variant:"destructive"});return}if(u==="BANK_TRANSFER"&&!g){r({title:a("sections.chargeWallet.bankRequired","Bank required"),description:a("sections.chargeWallet.bankRequiredDesc","Please select a bank"),variant:"destructive"});return}try{T(!0);const M={amount:Number(c),currency:"SAR",paymentMethod:u,bankId:u==="BANK_TRANSFER"?g:void 0,senderName:y||void 0,transferReference:b||void 0,notes:C||void 0};await Ns.createTopUpRequest(M),r({title:a("sections.chargeWallet.submitSuccess","Recharge request sent successfully"),description:a("sections.chargeWallet.submitSuccessDesc","Your request will be reviewed soon and balance will be added to your wallet")}),setTimeout(()=>{t("/account/orders")},2e3)}catch(M){console.error("Failed to create top-up request:",M);const G=M instanceof Error?M.message:a("common.somethingWentWrong","Something went wrong");r({title:a("sections.chargeWallet.submitError","Failed to send recharge request"),description:G,variant:"destructive"})}finally{T(!1)}},I=[50,100,200,500,1e3];return E?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"container py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-indigo-600"})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",dir:i?"rtl":"ltr",children:s.jsxs("div",{className:"container py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:a("sections.chargeWallet.title","Charge Balance")}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:a("sections.chargeWallet.desc","Add balance to your wallet to benefit from our services")})]}),s.jsx(je,{className:"mb-6 border-0 shadow-lg bg-gradient-to-br from-indigo-600 to-purple-600 text-white",children:s.jsx(Ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-90 mb-2",children:a("sections.chargeWallet.currentBalance","Current Balance")}),s.jsxs("p",{className:"text-4xl font-bold",children:[o.toFixed(2)," ",a("currencies.SAR","SAR")]})]}),s.jsx(ca,{className:"h-16 w-16 opacity-50"})]})})}),s.jsxs(je,{className:"border-0 shadow-lg",children:[s.jsxs(et,{children:[s.jsx(at,{className:"text-2xl",children:a("sections.chargeWallet.addNewBalance","Add New Balance")}),s.jsx(Vt,{children:a("sections.chargeWallet.choosePaymentMethod","Choose payment method and enter amount")})]}),s.jsx(Ce,{children:s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{htmlFor:"amount",children:[a("sections.chargeWallet.amount","Amount")," (",a("currencies.SAR","SAR"),")"]}),s.jsx(me,{id:"amount",type:"number",min:"1",step:"0.01",value:c,onChange:W=>d(W.target.value),placeholder:a("sections.chargeWallet.amount","Amount"),className:"text-lg",required:!0}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:I.map(W=>s.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:()=>d(W.toString()),className:"rounded-lg",children:[W," ",a("currencies.SAR","SAR")]},W))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:a("sections.chargeWallet.paymentMethod","Payment Method")}),s.jsxs(Cw,{value:u,onValueChange:W=>h(W),children:[s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[s.jsx(Oh,{value:"BANK_TRANSFER",id:"bank"}),s.jsxs(X,{htmlFor:"bank",className:"flex-1 cursor-pointer flex items-center gap-2",children:[s.jsx(Do,{className:"h-4 w-4"}),a("sections.chargeWallet.methods.bankTransfer","Bank Transfer")]})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[s.jsx(Oh,{value:"VISA",id:"visa"}),s.jsxs(X,{htmlFor:"visa",className:"flex-1 cursor-pointer flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),"Visa"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[s.jsx(Oh,{value:"MASTERCARD",id:"mastercard"}),s.jsxs(X,{htmlFor:"mastercard",className:"flex-1 cursor-pointer flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),"Mastercard"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",children:[s.jsx(Oh,{value:"MADA",id:"mada"}),s.jsxs(X,{htmlFor:"mada",className:"flex-1 cursor-pointer flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4"}),a("payment.mada.name","Mada")]})]})]})]}),u==="BANK_TRANSFER"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"bank",children:a("sections.chargeWallet.bank","Bank")}),s.jsx("select",{id:"bank",value:g,onChange:W=>x(W.target.value),className:"w-full px-3 py-2 border rounded-lg bg-background",required:!0,children:m.map(W=>s.jsx("option",{value:W.id,children:i?W.nameAr||W.name:W.name||W.nameAr},W.id))}),g&&s.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:m.find(W=>W.id===g)&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-semibold mb-2",children:a("sections.chargeWallet.bankInfo","Bank Account Information:")}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.accountName","Account Name:")})," ",(R=m.find(W=>W.id===g))==null?void 0:R.accountName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.accountNumber","Account Number:")})," ",(L=m.find(W=>W.id===g))==null?void 0:L.accountNumber]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:a("sections.chargeWallet.iban","IBAN:")})," ",(H=m.find(W=>W.id===g))==null?void 0:H.iban]})]})]})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(X,{htmlFor:"senderName",children:a("sections.chargeWallet.transferrerName","Transferrer Name")}),s.jsx(me,{id:"senderName",value:y,onChange:W=>w(W.target.value),placeholder:a("sections.chargeWallet.transferrerNamePlaceholder","Enter transferrer name")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"transferReference",children:a("sections.balanceOperations.id","ID")}),s.jsx(me,{id:"transferReference",value:b,onChange:W=>v(W.target.value),placeholder:a("sections.balanceOperations.id","ID")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"receipt",children:a("sections.chargeWallet.receipt","Receipt Image")}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(me,{id:"receipt",type:"file",accept:"image/*",onChange:O,className:"flex-1"}),k&&s.jsx("img",{src:k,alt:"Receipt preview",className:"h-20 w-20 object-cover rounded-lg"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"notes",children:a("sections.supportTickets.description","Description")}),s.jsx(Fs,{id:"notes",value:C,onChange:W=>A(W.target.value),placeholder:a("sections.chargeWallet.notesPlaceholder","Any additional notes..."),rows:3})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(z,{type:"submit",size:"lg",disabled:P,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:`${i?"ml-2":"mr-2"} h-4 w-4 animate-spin`}),a("sections.chargeWallet.submitting","Submitting...")]}):s.jsxs(s.Fragment,{children:[a("sections.chargeWallet.submit","Submit"),i?s.jsx(ml,{className:"mr-2 h-4 w-4"}):s.jsx(ta,{className:"ml-2 h-4 w-4"})]})}),s.jsx(z,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/account/orders"),children:a("common.cancel","Cancel")})]})]})})]})]})})}function iW(){const{t:e}=Ct(),{items:t,clearWishlist:r}=hI();return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"}),s.jsxs("div",{className:"container relative py-6 sm:py-8 lg:py-12 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-3 sm:mb-4 animate-fade-in text-sm sm:text-base",children:[s.jsx(Qe,{to:"/",className:"hover:text-primary transition-colors truncate",children:e("storefront.products.home")}),s.jsx(Ms,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-foreground font-medium truncate",children:e("nav.wishlist","")})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-2 animate-slide-up",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl gradient-accent shadow-glow shrink-0",children:s.jsx(dn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold gradient-text",children:e("nav.wishlist","")})]}),t.length>0&&s.jsxs(z,{variant:"destructive",onClick:r,className:"gap-2 rounded-xl w-full sm:w-auto",size:"sm",children:[s.jsx(_r,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:e("common.clear"," ")}),s.jsx("span",{className:"sm:hidden",children:e("common.clear","")})]})]})]})]}),s.jsx("div",{className:"container py-4 sm:py-6 lg:py-8 px-4 sm:px-6",children:t.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:t.map((a,n)=>s.jsx(Ej,{product:a,index:n},a.id))}):s.jsxs(je,{className:"p-8 sm:p-12 lg:p-16 text-center border-2 border-dashed border-border shadow-xl rounded-2xl sm:rounded-3xl glass-card animate-scale-in",children:[s.jsxs("div",{className:"relative inline-block mb-4 sm:mb-6",children:[s.jsx("div",{className:"absolute inset-0 rounded-full gradient-mesh blur-2xl opacity-50"}),s.jsx("div",{className:"relative p-4 sm:p-6 rounded-full bg-muted/50",children:s.jsx(dn,{className:"h-16 w-16 sm:h-20 sm:w-20 text-muted-foreground/30"})})]}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3",children:e("wishlist.empty"," ")}),s.jsx("p",{className:"text-muted-foreground mb-6 sm:mb-8 max-w-md mx-auto text-base sm:text-lg px-4",children:e("wishlist.emptyDesc","       .")}),s.jsx(Qe,{to:"/products",children:s.jsxs(z,{size:"lg",className:"rounded-xl gradient-primary text-white hover:shadow-glow transition-shadow",children:[s.jsx(Tt,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"}),e("storefront.home.shopNow"," ")]})})]})})]})}const lxt=()=>{f.useEffect(()=>{(async()=>{var t,r,a;try{const n=await he.get("/site-config",{requireAuth:!1});if((t=n==null?void 0:n.settings)!=null&&t.storeLogoUrl){const i=document.getElementById("favicon");i&&(i.href=n.settings.storeLogoUrl);const o=((r=n==null?void 0:n.settings)==null?void 0:r.storeName)||((a=n==null?void 0:n.settings)==null?void 0:a.tenantName);o&&(document.title=o)}}catch(n){console.error("Failed to update favicon:",n)}})()},[])},cxt={ITUNES:"",GOOGLEPLAY:"",PLAYSTATION:"",XBOX:"",STEAM:"",PUBG:"",FREEFIRE:"",NETFLIX:"",SPOTIFY:"",RAZERGOLD:"",AMAZON:"",NINTENDO:""};function dxt(){var O,F;const{i18n:e}=Ct(),t=e.language==="ar",[r,a]=Nm(),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState("grid"),[g,x]=f.useState(r.get("search")||""),[y,w]=f.useState(r.get("brand")||""),[b,v]=f.useState(r.get("category")||""),[N,j]=f.useState([0,1e3]),[k,S]=f.useState("popular"),[C,A]=f.useState(!1);f.useEffect(()=>{E()},[]),f.useEffect(()=>{const I=new URLSearchParams;g&&I.set("search",g),y&&I.set("brand",y),b&&I.set("category",b),a(I,{replace:!0})},[g,y,b,a]);const E=async()=>{try{const[I,R,L]=await Promise.all([he.getBrands().catch(()=>[]),he.getCategories().catch(()=>[]),he.get("/card-products?limit=100").catch(()=>({data:[]}))]);i(Array.isArray(I)?I:[]),l(Array.isArray(R)?R:[]),d(L.data||[])}catch(I){console.error("Error loading data:",I)}finally{h(!1)}},D=f.useMemo(()=>{let I=[...c];if(g){const R=g.toLowerCase();I=I.filter(L=>{var H,W;return L.name.toLowerCase().includes(R)||((H=L.nameAr)==null?void 0:H.toLowerCase().includes(R))||((W=L.brand)==null?void 0:W.name.toLowerCase().includes(R))})}switch(y&&(I=I.filter(R=>{var L;return((L=R.brand)==null?void 0:L.id)===y})),b&&(I=I.filter(R=>{var L;return((L=R.category)==null?void 0:L.id)===b})),I=I.filter(R=>R.price>=N[0]&&R.price<=N[1]),C&&(I=I.filter(R=>R.inStock>0)),k){case"price-low":I.sort((R,L)=>R.price-L.price);break;case"price-high":I.sort((R,L)=>L.price-R.price);break;case"name":I.sort((R,L)=>R.name.localeCompare(L.name));break;case"popular":default:I.sort((R,L)=>(L.isPopular?1:0)-(R.isPopular?1:0))}return I},[c,g,y,b,N,C,k]),P=()=>{x(""),w(""),v(""),j([0,1e3]),A(!1),S("popular")},T=[g,y,b,C,N[0]>0||N[1]<1e3].filter(Boolean).length,_=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:t?" ":"Brands"}),s.jsx(xn,{className:"h-48",children:s.jsx("div",{className:"space-y-2",children:n.map(I=>s.jsxs("button",{onClick:()=>w(y===I.id?"":I.id),className:be("w-full flex items-center gap-2 p-2 rounded-lg transition-colors text-right",y===I.id?"bg-purple-500/20 text-purple-400":"hover:bg-white/5 text-slate-300"),children:[s.jsx("span",{className:"text-lg",children:cxt[I.code||""]||""}),s.jsx("span",{className:"flex-1 text-sm",children:t&&I.nameAr||I.name}),y===I.id&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]},I.id))})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:t?"":"Categories"}),s.jsx("div",{className:"space-y-2",children:o.map(I=>s.jsxs("button",{onClick:()=>v(b===I.id?"":I.id),className:be("w-full flex items-center justify-between p-2 rounded-lg transition-colors text-right",b===I.id?"bg-purple-500/20 text-purple-400":"hover:bg-white/5 text-slate-300"),children:[s.jsx("span",{className:"text-sm",children:t&&I.nameAr||I.name}),b===I.id&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]},I.id))})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ki,{id:"inStock",checked:C,onCheckedChange:I=>A(I===!0),className:"border-slate-500"}),s.jsx("label",{htmlFor:"inStock",className:"text-slate-300 text-sm cursor-pointer",children:t?" ":"In Stock Only"})]}),T>0&&s.jsxs(z,{variant:"outline",className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700",onClick:P,children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),t?" ":"Clear All"," (",T,")"]})]});return u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-purple-400"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[s.jsx("div",{className:"border-b border-white/10 bg-black/20 sticky top-0 z-40 backdrop-blur-xl",children:s.jsxs("div",{className:"container py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-4",children:[s.jsx(Qe,{to:"/",className:"hover:text-purple-400 transition-colors",children:t?"":"Home"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-purple-400",children:t?"":"Cards"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),s.jsx(me,{type:"text",placeholder:t?"  ...":"Search cards...",value:g,onChange:I=>x(I.target.value),className:"w-full pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400 focus:border-purple-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(J0,{children:[s.jsx(MA,{asChild:!0,children:s.jsxs(z,{variant:"outline",className:"md:hidden border-white/20 text-white",children:[s.jsx(wu,{className:"h-4 w-4 mr-2"}),t?"":"Filter",T>0&&s.jsx(Ze,{className:"ml-2 bg-purple-500",children:T})]})}),s.jsxs(Ip,{side:t?"right":"left",className:"bg-slate-900 border-white/10",children:[s.jsx(Z0,{children:s.jsx(ev,{className:"text-white",children:t?"":"Filters"})}),s.jsx("div",{className:"mt-6",children:s.jsx(_,{})})]})]}),s.jsxs(nr,{value:k,onValueChange:S,children:[s.jsx(Jt,{className:"w-40 bg-white/10 border-white/20 text-white",children:s.jsx(cr,{})}),s.jsxs(Zt,{className:"bg-slate-800 border-white/20",children:[s.jsx(Oe,{value:"popular",children:t?" ":"Most Popular"}),s.jsx(Oe,{value:"price-low",children:t?":  ":"Price: Low to High"}),s.jsx(Oe,{value:"price-high",children:t?":  ":"Price: High to Low"}),s.jsx(Oe,{value:"name",children:t?"":"Name"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1 p-1 bg-white/10 rounded-lg",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>p("grid"),className:be("h-8 w-8",m==="grid"?"bg-purple-500/30 text-purple-400":"text-slate-400"),children:s.jsx(pG,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>p("list"),className:be("h-8 w-8",m==="list"?"bg-purple-500/30 text-purple-400":"text-slate-400"),children:s.jsx(Mw,{className:"h-4 w-4"})})]})]})]}),(y||b)&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[y&&s.jsxs(Ze,{className:"bg-purple-500/20 text-purple-300 border-purple-500/30 cursor-pointer hover:bg-purple-500/30",onClick:()=>w(""),children:[(O=n.find(I=>I.id===y))==null?void 0:O.name,s.jsx(hr,{className:"h-3 w-3 ml-1"})]}),b&&s.jsxs(Ze,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30 cursor-pointer hover:bg-blue-500/30",onClick:()=>v(""),children:[(F=o.find(I=>I.id===b))==null?void 0:F.name,s.jsx(hr,{className:"h-3 w-3 ml-1"})]})]})]})}),s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsx("aside",{className:"hidden md:block w-64 shrink-0",children:s.jsx(je,{className:"bg-white/5 border-white/10 sticky top-32",children:s.jsxs(Ce,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(yG,{className:"h-5 w-5 text-purple-400"}),s.jsx("h2",{className:"text-white font-semibold",children:t?"":"Filters"})]}),s.jsx(_,{})]})})}),s.jsxs("main",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("p",{className:"text-slate-400",children:t?`${D.length} `:`${D.length} cards`})}),D.length===0?s.jsx(je,{className:"bg-white/5 border-white/10",children:s.jsxs(Ce,{className:"py-16 text-center",children:[s.jsx(Wr,{className:"h-16 w-16 mx-auto text-slate-500 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t?"  ":"No results found"}),s.jsx("p",{className:"text-slate-400 mb-4",children:t?"   ":"Try changing your search criteria"}),s.jsx(z,{variant:"outline",onClick:P,className:"border-purple-500/50 text-purple-400",children:t?" ":"Clear Filters"})]})}):m==="grid"?s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:D.map(I=>s.jsx(Qe,{to:`/cards/${I.id}`,children:s.jsx(je,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 hover:-translate-y-1 transition-all duration-300 cursor-pointer group overflow-hidden h-full",children:s.jsxs(Ce,{className:"p-0",children:[s.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative overflow-hidden",children:[I.imageUrl?s.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Wr,{className:"h-12 w-12 text-purple-400/50"})}),I.inStock>0&&s.jsx(Ze,{className:"absolute top-2 right-2 bg-green-500/90 text-white text-xs",children:t?"":"In Stock"}),I.isPopular&&s.jsx(Ze,{className:"absolute top-2 left-2 bg-yellow-500/90 text-black text-xs",children:s.jsx(Bo,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"p-3",children:[I.brand&&s.jsx("p",{className:"text-purple-400 text-xs font-medium mb-1 truncate",children:t&&I.brand.nameAr||I.brand.name}),s.jsx("h3",{className:"text-white font-medium text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:t&&I.nameAr||I.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-lg font-bold text-purple-400",children:[I.price.toFixed(2),s.jsx("span",{className:"text-xs ml-1",children:I.currencyCode})]}),s.jsx(z,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 h-8 w-8 p-0",children:s.jsx(Dr,{className:"h-4 w-4"})})]})]})]})})},I.id))}):s.jsx("div",{className:"space-y-3",children:D.map(I=>s.jsx(Qe,{to:`/cards/${I.id}`,children:s.jsx(je,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 transition-all duration-300 cursor-pointer group",children:s.jsxs(Ce,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-purple-600/30 to-blue-600/30 flex items-center justify-center overflow-hidden shrink-0",children:I.imageUrl?s.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-full object-cover"}):s.jsx(Wr,{className:"h-8 w-8 text-purple-400/50"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[I.brand&&s.jsx("p",{className:"text-purple-400 text-xs font-medium mb-1",children:t&&I.brand.nameAr||I.brand.name}),s.jsx("h3",{className:"text-white font-medium mb-1 truncate",children:t&&I.nameAr||I.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[I.inStock>0&&s.jsx(Ze,{className:"bg-green-500/20 text-green-400 text-xs",children:t?"":"In Stock"}),I.isPopular&&s.jsxs(Ze,{className:"bg-yellow-500/20 text-yellow-400 text-xs",children:[s.jsx(Bo,{className:"h-3 w-3 mr-1"}),t?"":"Popular"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xl font-bold text-purple-400 mb-2",children:[I.price.toFixed(2)," ",I.currencyCode]}),s.jsxs(z,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(Dr,{className:"h-4 w-4 mr-2"}),t?"":"Buy"]})]})]})})},I.id))})]})]})})]})}const oW={ITUNES:"",GOOGLEPLAY:"",PLAYSTATION:"",XBOX:"",STEAM:"",PUBG:"",FREEFIRE:"",NETFLIX:"",SPOTIFY:"",RAZERGOLD:"",AMAZON:"",NINTENDO:""};function uxt(){var T,_;const{id:e}=jm(),{i18n:t}=Ct(),r=t.language==="ar",a=Kr(),{user:n,isAuthenticated:i}=$s(),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState(1),[g,x]=f.useState(!1),[y,w]=f.useState(!1),[b,v]=f.useState(!1),[N,j]=f.useState(0);f.useEffect(()=>{e&&k()},[e]);const k=async()=>{var O;try{h(!0);const[F,I]=await Promise.all([he.get(`/card-products/${e}`).catch(()=>null),i?he.get("/wallet",{requireAuth:!0}).catch(()=>({balance:0})):{balance:0}]);if(F&&(l(F),j(I.balance||0),(O=F.brand)!=null&&O.id)){const R=await he.get(`/card-products?brandId=${F.brand.id}&limit=4`).catch(()=>({data:[]}));d((R.data||[]).filter(L=>L.id!==e))}}catch(F){console.error("Error loading card:",F)}finally{h(!1)}},S=O=>{const F=m+O;F>=1&&F<=Math.min(10,(o==null?void 0:o.inStock)||10)&&p(F)},C=async()=>{if(!i){a("/auth/login",{state:{from:`/cards/${e}`}});return}const O=((o==null?void 0:o.price)||0)*m;if(N<O){Tr.error(r?"   ":"Insufficient wallet balance");return}v(!0)},A=async()=>{if(o)try{w(!0),await he.post("/card-orders",{items:[{productId:o.id,quantity:m}]},{requireAuth:!0}),Tr.success(r?"  !":"Purchase successful!"),v(!1),a("/account/cards")}catch(O){console.error("Purchase error:",O),Tr.error(r?"   ":"Purchase failed")}finally{w(!1)}},E=async()=>{if(!i){a("/auth/login");return}try{g?await he.delete(`/favorites/${e}`,{requireAuth:!0}):await he.post("/favorites",{cardProductId:e},{requireAuth:!0}),x(!g),Tr.success(g?r?"   ":"Removed from favorites":r?"  ":"Added to favorites")}catch(O){console.error("Favorite error:",O)}},D=()=>{navigator.share?navigator.share({title:o==null?void 0:o.name,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),Tr.success(r?"  ":"Link copied"))};if(u)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Ge,{className:"h-12 w-12 animate-spin text-purple-400"})});if(!o)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(je,{className:"bg-white/5 border-white/10 max-w-md mx-auto",children:s.jsxs(Ce,{className:"py-16 text-center",children:[s.jsx(Wr,{className:"h-16 w-16 mx-auto text-slate-500 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:r?"  ":"Card not found"}),s.jsx(Qe,{to:"/cards",children:s.jsx(z,{variant:"outline",className:"mt-4 border-purple-500/50 text-purple-400",children:r?" ":"Browse Cards"})})]})})});const P=o.price*m;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[s.jsxs("div",{className:"container py-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-8",children:[s.jsx(Qe,{to:"/",className:"hover:text-purple-400 transition-colors",children:r?"":"Home"}),s.jsx(Ms,{className:be("h-4 w-4",r&&"rotate-180")}),s.jsx(Qe,{to:"/cards",className:"hover:text-purple-400 transition-colors",children:r?"":"Cards"}),o.brand&&s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:be("h-4 w-4",r&&"rotate-180")}),s.jsx(Qe,{to:`/cards?brand=${o.brand.id}`,className:"hover:text-purple-400 transition-colors",children:r&&o.brand.nameAr||o.brand.name})]}),s.jsx(Ms,{className:be("h-4 w-4",r&&"rotate-180")}),s.jsx("span",{className:"text-purple-400 truncate max-w-[200px]",children:o.name})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx(je,{className:"bg-white/5 border-white/10 overflow-hidden",children:s.jsx(Ce,{className:"p-0",children:s.jsxs("div",{className:"aspect-square bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative",children:[o.imageUrl?s.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-contain p-8"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-8xl mb-4 block",children:oW[((T=o.brand)==null?void 0:T.code)||""]||""}),s.jsx(Wr,{className:"h-24 w-24 text-purple-400/50 mx-auto"})]})}),s.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[o.inStock>0&&s.jsxs(Ze,{className:"bg-green-500 text-white",children:[s.jsx(ks,{className:"h-3 w-3 mr-1"}),r?"":"In Stock"]}),o.isPopular&&s.jsxs(Ze,{className:"bg-yellow-500 text-black",children:[s.jsx(Bo,{className:"h-3 w-3 mr-1"}),r?" ":"Best Seller"]})]})]})})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[{icon:An,text:r?" ":"Instant",color:"text-yellow-400"},{icon:Ws,text:r?" 100%":"100% Safe",color:"text-green-400"},{icon:fo,text:r?" 24/7":"24/7 Support",color:"text-blue-400"}].map((O,F)=>s.jsxs("div",{className:"text-center p-3 rounded-xl bg-white/5",children:[s.jsx(O.icon,{className:be("h-5 w-5 mx-auto mb-1",O.color)}),s.jsx("span",{className:"text-xs text-slate-300",children:O.text})]},F))})]}),s.jsxs("div",{className:"space-y-6",children:[o.brand&&s.jsxs(Qe,{to:`/cards?brand=${o.brand.id}`,className:"inline-flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[s.jsx("span",{className:"text-xl",children:oW[o.brand.code||""]||""}),s.jsx("span",{className:"font-medium",children:r&&o.brand.nameAr||o.brand.name})]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:r&&o.nameAr||o.name}),s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsx("span",{className:"text-4xl font-bold text-purple-400",children:o.price.toFixed(2)}),s.jsx("span",{className:"text-xl text-slate-400",children:o.currencyCode})]}),(o.description||o.descriptionAr)&&s.jsx("p",{className:"text-slate-300 leading-relaxed",children:r&&o.descriptionAr||o.description}),s.jsx(Qs,{className:"bg-white/10"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-slate-300",children:r?":":"Quantity:"}),s.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>S(-1),disabled:m<=1,className:"h-10 w-10 text-white hover:bg-white/10",children:s.jsx(sm,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-white font-semibold w-10 text-center",children:m}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>S(1),disabled:m>=Math.min(10,o.inStock),className:"h-10 w-10 text-white hover:bg-white/10",children:s.jsx(Gt,{className:"h-4 w-4"})})]}),s.jsxs("span",{className:"text-slate-400 text-sm",children:["(",o.inStock," ",r?"":"available",")"]})]}),s.jsx(je,{className:"bg-purple-500/10 border-purple-500/30",children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300",children:r?":":"Total:"}),s.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[P.toFixed(2)," ",o.currencyCode]})]})})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(z,{size:"lg",className:"flex-1 h-14 text-lg bg-purple-600 hover:bg-purple-700",onClick:C,disabled:o.inStock<1,children:[s.jsx(Dr,{className:"h-5 w-5 mr-2"}),r?" ":"Buy Now"]}),s.jsx(z,{variant:"outline",size:"lg",className:"h-14 border-white/20 text-white hover:bg-white/10",onClick:E,children:s.jsx(dn,{className:be("h-5 w-5",g&&"fill-red-500 text-red-500")})}),s.jsx(z,{variant:"outline",size:"lg",className:"h-14 border-white/20 text-white hover:bg-white/10",onClick:D,children:s.jsx(UO,{className:"h-5 w-5"})})]}),o.inStock>0&&o.inStock<=5&&s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[s.jsx(Us,{className:"h-5 w-5 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-sm",children:r?`${o.inStock}   - !`:`Only ${o.inStock} left - Hurry up!`})]})]})]}),c.length>0&&s.jsxs("section",{className:"mt-16",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:r?" ":"Related Cards"}),s.jsx(Qe,{to:`/cards?brand=${(_=o.brand)==null?void 0:_.id}`,children:s.jsxs(z,{variant:"ghost",className:"text-purple-400 hover:text-purple-300",children:[r?" ":"View All",s.jsx(ta,{className:be("h-4 w-4 ml-1",r&&"rotate-180")})]})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(O=>s.jsx(Qe,{to:`/cards/${O.id}`,children:s.jsx(je,{className:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-purple-500/50 transition-all duration-300 cursor-pointer group overflow-hidden",children:s.jsxs(Ce,{className:"p-0",children:[s.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-600/30 to-blue-600/30 relative",children:O.imageUrl?s.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Wr,{className:"h-10 w-10 text-purple-400/50"})})}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-white font-medium text-sm truncate",children:r&&O.nameAr||O.name}),s.jsxs("p",{className:"text-purple-400 font-bold mt-1",children:[O.price.toFixed(2)," ",O.currencyCode]})]})]})})},O.id))})]})]}),s.jsx(Qt,{open:b,onOpenChange:v,children:s.jsxs(Yt,{className:"bg-slate-900 border-white/10 text-white",children:[s.jsxs(tr,{children:[s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(kh,{className:"h-5 w-5 text-purple-400"}),r?" ":"Confirm Purchase"]}),s.jsx(ur,{className:"text-slate-400",children:r?"     ":"The amount will be deducted from your wallet balance"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-purple-500/20 flex items-center justify-center",children:o.imageUrl?s.jsx("img",{src:o.imageUrl,alt:"",className:"w-12 h-12 object-contain"}):s.jsx(Wr,{className:"h-8 w-8 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:o.name}),s.jsxs("p",{className:"text-sm text-slate-400",children:[" ",m]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-xl font-bold text-purple-400",children:[P.toFixed(2)," ",o.currencyCode]})})]}),s.jsx(Qs,{className:"bg-white/10"}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-400",children:r?" :":"Wallet Balance:"}),s.jsxs("span",{className:be("font-semibold",N>=P?"text-green-400":"text-red-400"),children:[N.toFixed(2)," ",o.currencyCode]})]}),N<P&&s.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30",children:s.jsx("p",{className:"text-red-300 text-sm",children:r?"   .    .":"Insufficient balance. Please top up your wallet first."})})]}),s.jsxs(Vr,{className:"gap-2",children:[s.jsx(z,{variant:"outline",onClick:()=>v(!1),className:"border-white/20 text-white hover:bg-white/10",children:r?"":"Cancel"}),s.jsxs(z,{onClick:A,disabled:y||N<P,className:"bg-purple-600 hover:bg-purple-700",children:[y&&s.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),r?" ":"Confirm Purchase"]})]})]})})]})}function hxt(){const{i18n:e}=Ct(),t=e.language==="ar";Tn();const r=Kr(),{user:a,isAuthenticated:n,logout:i}=$s(),[o,l]=f.useState([]),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(0);f.useState(0),f.useEffect(()=>{y();const j=()=>{h(window.scrollY>10)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),f.useEffect(()=>{n&&w()},[n]);const y=async()=>{try{const j=await he.getBrands().catch(()=>[]);l(Array.isArray(j)?j.slice(0,6):[])}catch(j){console.error("Error loading data:",j)}},w=async()=>{try{const j=await he.get("/wallet",{requireAuth:!0}).catch(()=>({balance:0}));x(j.balance||0)}catch(j){console.error("Error loading wallet:",j)}},b=j=>{j.preventDefault(),c.trim()&&(r(`/cards?search=${encodeURIComponent(c)}`),p(!1))},v=()=>{const j=e.language==="ar"?"en":"ar";e.changeLanguage(j),localStorage.setItem("language",j)},N=()=>{i(),r("/")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[s.jsx("header",{className:be("fixed top-0 left-0 right-0 z-50 transition-all duration-300",u?"bg-slate-900/95 backdrop-blur-xl shadow-lg":"bg-transparent"),children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[s.jsxs(Qe,{to:"/",className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:s.jsx(Wr,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white hidden sm:block",children:t?"":"MyCards"})]}),s.jsx("form",{onSubmit:b,className:"hidden md:flex flex-1 max-w-xl mx-8",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(me,{type:"text",placeholder:t?"  ...":"Search for cards...",value:c,onChange:j=>d(j.target.value),className:"w-full pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400 focus:border-purple-400 rounded-xl"})]})}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:v,className:"text-slate-300 hover:text-white hover:bg-white/10",children:s.jsx(Oa,{className:"h-5 w-5"})}),n?s.jsxs(s.Fragment,{children:[s.jsx(Qe,{to:"/account/wallet",children:s.jsxs(z,{variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-white/10 gap-2",children:[s.jsx(ca,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold text-purple-400",children:g.toFixed(2)})]})}),s.jsx(Qe,{to:"/account/favorites",children:s.jsx(z,{variant:"ghost",size:"icon",className:"text-slate-300 hover:text-white hover:bg-white/10",children:s.jsx(dn,{className:"h-5 w-5"})})}),s.jsxs(AA,{children:[s.jsx(EA,{asChild:!0,children:s.jsxs(z,{variant:"ghost",className:"text-slate-300 hover:text-white hover:bg-white/10 gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500/30 flex items-center justify-center",children:s.jsx(Gi,{className:"h-4 w-4"})}),s.jsx(zi,{className:"h-4 w-4"})]})}),s.jsxs(jj,{align:"end",className:"bg-slate-800 border-white/10 w-56",children:[s.jsx("div",{className:"px-3 py-2",children:s.jsx("p",{className:"text-sm font-medium text-white",children:a==null?void 0:a.email})}),s.jsx(c0,{className:"bg-white/10"}),s.jsx(ol,{asChild:!0,children:s.jsxs(Qe,{to:"/account/cards",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Tt,{className:"h-4 w-4"}),t?"":"My Cards"]})}),s.jsx(ol,{asChild:!0,children:s.jsxs(Qe,{to:"/account/wallet",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(ca,{className:"h-4 w-4"}),t?"":"Wallet"]})}),s.jsx(ol,{asChild:!0,children:s.jsxs(Qe,{to:"/account/favorites",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(dn,{className:"h-4 w-4"}),t?"":"Favorites"]})}),s.jsx(c0,{className:"bg-white/10"}),s.jsxs(ol,{onClick:N,className:"flex items-center gap-2 text-red-400 cursor-pointer",children:[s.jsx(rm,{className:"h-4 w-4"}),t?" ":"Logout"]})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{to:"/auth/login",children:s.jsx(z,{variant:"ghost",className:"text-white hover:bg-white/10",children:t?" ":"Login"})}),s.jsx(Qe,{to:"/auth/signup",children:s.jsx(z,{className:"bg-purple-600 hover:bg-purple-700",children:t?" ":"Sign Up"})})]})]}),s.jsxs(J0,{open:m,onOpenChange:p,children:[s.jsx(MA,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"icon",className:"md:hidden text-white",children:s.jsx(ym,{className:"h-6 w-6"})})}),s.jsxs(Ip,{side:t?"right":"left",className:"bg-slate-900 border-white/10 w-80",children:[s.jsx(Z0,{children:s.jsxs(ev,{className:"text-white flex items-center gap-2",children:[s.jsx(Wr,{className:"h-6 w-6 text-purple-400"}),t?"":"MyCards"]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsx("form",{onSubmit:b,children:s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(me,{type:"text",placeholder:t?"...":"Search...",value:c,onChange:j=>d(j.target.value),className:"pr-10 bg-white/10 border-white/20 text-white placeholder:text-slate-400"})]})}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs(Qe,{to:"/",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[s.jsx(Gf,{className:"h-5 w-5"}),t?"":"Home"]}),s.jsxs(Qe,{to:"/cards",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[s.jsx(Wr,{className:"h-5 w-5"}),t?" ":"All Cards"]}),n&&s.jsxs(s.Fragment,{children:[s.jsxs(Qe,{to:"/account/cards",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[s.jsx(Tt,{className:"h-5 w-5"}),t?"":"My Cards"]}),s.jsxs(Qe,{to:"/account/wallet",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[s.jsx(ca,{className:"h-5 w-5"}),t?"":"Wallet",s.jsx(Ze,{className:"ml-auto bg-purple-500/30 text-purple-300",children:g.toFixed(2)})]}),s.jsxs(Qe,{to:"/account/favorites",onClick:()=>p(!1),className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 text-slate-300",children:[s.jsx(dn,{className:"h-5 w-5"}),t?"":"Favorites"]})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/10",children:n?s.jsxs(z,{variant:"ghost",className:"w-full justify-start text-red-400 hover:bg-red-500/10",onClick:N,children:[s.jsx(rm,{className:"h-5 w-5 mr-3"}),t?" ":"Logout"]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{to:"/auth/login",onClick:()=>p(!1),children:s.jsx(z,{variant:"outline",className:"w-full border-white/20 text-white",children:t?" ":"Login"})}),s.jsx(Qe,{to:"/auth/signup",onClick:()=>p(!1),children:s.jsx(z,{className:"w-full bg-purple-600 hover:bg-purple-700",children:t?" ":"Sign Up"})})]})}),s.jsxs(z,{variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-white/5",onClick:v,children:[s.jsx(Oa,{className:"h-5 w-5 mr-3"}),e.language==="ar"?"English":""]})]})]})]})]}),o.length>0&&s.jsxs("div",{className:"hidden md:flex items-center gap-4 py-2 border-t border-white/10",children:[o.map(j=>s.jsx(Qe,{to:`/cards?brand=${j.id}`,className:"text-sm text-slate-400 hover:text-purple-400 transition-colors",children:String(t?j.nameAr||j.name||"":j.name||"")},j.id)),s.jsx(Qe,{to:"/cards",className:"text-sm text-purple-400 hover:text-purple-300 transition-colors ml-auto",children:t?"  ":"View All "})]})]})}),s.jsx("main",{className:"pt-16 md:pt-24",children:s.jsx(qk,{})}),s.jsx("footer",{className:"bg-black/50 border-t border-white/10 py-12 mt-16",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center",children:s.jsx(Wr,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:t?"":"MyCards"})]}),s.jsx("p",{className:"text-slate-400 text-sm",children:t?"      ":"The fastest and easiest way to get digital cards"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:t?" ":"Quick Links"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{to:"/cards",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"All Cards"}),s.jsx(Qe,{to:"/about",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"About Us"}),s.jsx(Qe,{to:"/contact",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Contact Us"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:t?"":"Support"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{to:"/faq",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"FAQ"}),s.jsx(Qe,{to:"/terms",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Terms & Conditions"}),s.jsx(Qe,{to:"/privacy",className:"block text-slate-400 hover:text-purple-400 text-sm",children:t?" ":"Privacy Policy"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:t?" ":"Contact"}),s.jsxs("div",{className:"space-y-2 text-slate-400 text-sm",children:[s.jsx("p",{children:"support@example.com"}),s.jsx("p",{children:"+966 50 000 0000"})]})]})]}),s.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center text-slate-500 text-sm",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",t?"  ":"All rights reserved"]})})]})})]})}function mxt(){const[e,t]=f.useState(!0),[r,a]=f.useState(!1),[n,i]=f.useState(!1);return f.useEffect(()=>{const o=()=>a(window.scrollY>50);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),f.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:be("fixed top-0 left-0 right-0 z-50 transition-all duration-500",r?"bg-background/80 backdrop-blur-md border-b border-border/50 shadow-sm":"bg-transparent"),children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-20",children:[s.jsxs(Qe,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs(Je.div,{className:"relative",animate:{y:[0,-4,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[s.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/20 blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx(Je.div,{className:"relative p-2 rounded-xl bg-card border border-border/50 group-hover:border-primary/50 transition-colors",whileHover:{scale:1.1,rotate:[0,-5,5,0]},transition:{type:"spring",stiffness:300},children:s.jsx("img",{src:Ho(),alt:"Saeaa",className:"h-8 w-auto"})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold tracking-tight",children:"Saeaa"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-8",children:[{label:"",href:"/#features"},{label:"",href:"/#pricing"},{label:" ",href:"/#testimonials"}].map(o=>s.jsx(Qe,{to:o.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:o.label},o.href))}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-full hover:bg-muted transition-colors",children:e?s.jsx(Nu,{className:"w-5 h-5"}):s.jsx(_d,{className:"w-5 h-5"})}),s.jsx(Qe,{to:"/login",className:"hidden sm:block text-sm font-medium hover:text-primary transition-colors",children:" "}),s.jsxs(Qe,{to:"/register",className:"hidden sm:flex items-center gap-2 bg-primary text-primary-foreground px-5 py-2.5 rounded-full text-sm font-semibold hover:opacity-90 transition-opacity shadow-lg shadow-primary/20",children:[" ",s.jsx(ml,{className:"w-4 h-4"})]}),s.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2",children:n?s.jsx(hr,{className:"w-6 h-6"}):s.jsx(ym,{className:"w-6 h-6"})})]})]})})}),s.jsx(Wi,{children:n&&s.jsx(Je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"fixed top-20 left-0 right-0 z-40 bg-background border-b border-border md:hidden overflow-hidden",children:s.jsxs("div",{className:"p-4 space-y-4",children:[[{label:"",href:"/#features"},{label:"",href:"/#pricing"},{label:" ",href:"/#testimonials"}].map(o=>s.jsx(Qe,{to:o.href,onClick:()=>i(!1),className:"block text-lg font-medium py-2",children:o.label},o.href)),s.jsxs("div",{className:"pt-4 border-t border-border space-y-3",children:[s.jsx(Qe,{to:"/login",className:"block w-full text-center py-3 rounded-xl bg-muted font-medium",children:" "}),s.jsx(Qe,{to:"/register",onClick:()=>i(!1),className:"block w-full text-center py-3 rounded-xl bg-primary text-primary-foreground font-bold",children:" "})]})]})})})]})}function fxt(){return s.jsx("footer",{className:"bg-card border-t border-border py-16 text-right",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-12",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsxs(Qe,{to:"/",className:"flex items-center gap-3 mb-6",children:[s.jsx("img",{src:Ho(),alt:"Saeaa",className:"h-10 w-auto"}),s.jsx("span",{className:"text-2xl font-bold",children:"Saeaa"})]}),s.jsx("p",{className:"text-muted-foreground max-w-md",children:"             ."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-6",children:""}),s.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[s.jsx("li",{children:s.jsx(Qe,{to:"/#features",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx(Qe,{to:"/#pricing",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx(Qe,{to:"/#testimonials",className:"hover:text-primary transition-colors",children:" "})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-6",children:""}),s.jsxs("ul",{className:"space-y-4 text-muted-foreground",children:[s.jsx("li",{children:s.jsx(Qe,{to:"/about",className:"hover:text-primary transition-colors",children:" "})}),s.jsx("li",{children:s.jsx(Qe,{to:"/contact",className:"hover:text-primary transition-colors",children:" "})}),s.jsx("li",{children:s.jsx(Qe,{to:"/privacy",className:"hover:text-primary transition-colors",children:" "})})]})]})]}),s.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Saeaa - .   ."}),s.jsx(wp,{})]})]})})}function sM({children:e}){const{i18n:t}=Ct(),r=t.language==="ar";return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",dir:r?"rtl":"ltr",children:[s.jsx(mxt,{}),s.jsx("main",{className:"flex-1",children:e}),s.jsx(fxt,{})]})}function nde(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=[{icon:s.jsx(ife,{className:"w-8 h-8 text-primary"}),title:r?"":"Our Vision",description:r?"          .":"Empowering e-commerce in the region through innovative and reliable technical solutions."},{icon:s.jsx(mr,{className:"w-8 h-8 text-primary"}),title:r?"":"Our Team",description:r?"        .":"A team of experts and developers passionate about building the future of digital commerce."},{icon:s.jsx(dn,{className:"w-8 h-8 text-primary"}),title:r?"":"Our Values",description:r?"          .":"Transparency, quality, and commitment to our clients' success are the foundation of everything we do."},{icon:s.jsx(Do,{className:"w-8 h-8 text-primary"}),title:r?"":"Our History",description:r?"          .":"Years of experience in developing e-commerce platforms and serving thousands of merchants."}];return s.jsxs(sM,{children:[s.jsxs("section",{className:"relative py-20 md:py-32 overflow-hidden bg-primary/5",children:[s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/60",children:r?" ":"Who We Are"}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground leading-relaxed",children:r?'  ""      .          .':'We are "Saeaa", your strategic partner in the e-commerce journey. We provide integrated solutions that help you grow and thrive in the digital market.'})]})}),s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 opacity-30",children:[s.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-b from-primary/20 to-transparent rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-to-t from-primary/20 to-transparent rounded-full blur-3xl"})]})]}),s.jsx("section",{className:"py-20 bg-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map((n,i)=>s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"p-6 rounded-2xl bg-card border border-border/50 hover:border-primary/50 transition-colors shadow-sm hover:shadow-md",children:[s.jsx("div",{className:"mb-4 p-3 bg-primary/10 w-fit rounded-xl",children:n.icon}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]},i))})})}),s.jsx("section",{className:"py-20 bg-primary/5 border-y border-border/50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{label:r?" ":"Happy Clients",value:"+10k"},{label:r?" ":"Online Stores",value:"+5000"},{label:r?" ":"Completed Orders",value:"+1M"},{label:r?" ":"Years Experience",value:"+5"}].map((n,i)=>s.jsxs(Je.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold text-primary mb-2",children:n.value}),s.jsx("div",{className:"text-muted-foreground font-medium",children:n.label})]},i))})})})]})}function ide(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",[a,n]=f.useState(!1),i=async l=>{l.preventDefault(),n(!0),await new Promise(c=>setTimeout(c,1500)),Tr.success(r?"   ":"Your message has been sent successfully"),n(!1),l.target.reset()},o=[{icon:s.jsx(la,{className:"w-6 h-6"}),title:r?" ":"Email",value:"support@saeaa.com",link:"mailto:support@saeaa.com"},{icon:s.jsx(Si,{className:"w-6 h-6"}),title:r?"":"Phone",value:"+966 50 000 0000",link:"tel:+966500000000"},{icon:s.jsx(ju,{className:"w-6 h-6"}),title:r?"":"Address",value:r?"   ":"Riyadh, Saudi Arabia",link:"#"}];return s.jsxs(sM,{children:[s.jsx("section",{className:"relative py-16 md:py-24 bg-primary/5",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:r?" ":"Contact Us"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:r?"  .      .":"We are here to help. Contact us for any inquiries or suggestions."})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[s.jsxs(Je.div,{initial:{opacity:0,x:r?20:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:r?" ":"Contact Information"}),s.jsx("p",{className:"text-muted-foreground mb-8 text-lg",children:r?"         .":"Our customer service team is available around the clock to answer your inquiries."})]}),s.jsx("div",{className:"grid gap-6",children:o.map((l,c)=>s.jsxs("a",{href:l.link,className:"flex items-center gap-4 p-4 rounded-xl bg-card border border-border/50 hover:border-primary/50 transition-all hover:shadow-md group",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:l.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground text-sm",children:l.title}),s.jsx("div",{className:"font-bold text-lg",children:l.value})]})]},c))})]}),s.jsxs(Je.div,{initial:{opacity:0,x:r?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},className:"bg-card p-8 rounded-2xl border border-border shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:r?"  ":"Send us a message"}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"name",children:r?"":"Name"}),s.jsx(me,{id:"name",required:!0,placeholder:r?" ":"Full Name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:r?" ":"Email"}),s.jsx(me,{id:"email",type:"email",required:!0,placeholder:"name@example.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"subject",children:r?"":"Subject"}),s.jsx(me,{id:"subject",required:!0,placeholder:r?" ":"Message Subject"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"message",children:r?"":"Message"}),s.jsx(Fs,{id:"message",required:!0,placeholder:r?"  ...":"Type your message here...",className:"min-h-[150px]"})]}),s.jsxs(z,{type:"submit",className:"w-full h-12 text-lg",disabled:a,children:[a?s.jsx(Ge,{className:"w-5 h-5 animate-spin mr-2"}):s.jsx(yp,{className:`w-5 h-5 ${r?"ml-2":"mr-2"}`}),r?" ":"Send Message"]})]})]})]})})})]})}function ode(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=[{title:r?" ":"Information Collection",content:r?"                 .          .":"We collect information you provide directly to us when registering on the site, such as name, email address, and phone number. We also collect information about how you use the site to improve your experience."},{title:r?" ":"Information Usage",content:r?"             ()    .":"We use the information we collect to provide and improve our services, communicate with you, send updates and promotional offers (with your consent), and protect our rights and the rights of our users."},{title:r?" ":"Information Sharing",content:r?"        .                .":"We do not sell or rent your personal information to third parties. We may share your information with service providers who assist us in operating the site, subject to strict privacy policies."},{title:r?" ":"Data Security",content:r?"                 .      .":"We take appropriate security measures to protect your information from unauthorized access, alteration, disclosure, or destruction. We use encryption technologies and standard security protocols."},{title:r?" ":"User Rights",content:r?"         .          .":"You have the right to access, correct, or delete your personal information. You can also unsubscribe from marketing messages at any time."}];return s.jsxs(sM,{children:[s.jsx("section",{className:"relative py-16 md:py-24 bg-primary/5",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 bg-background rounded-full shadow-sm",children:s.jsx(Ws,{className:"w-12 h-12 text-primary"})})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:r?" ":"Privacy Policy"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:r?"     .     .":"We are committed to protecting your privacy and personal data. Please read this policy carefully."})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:s.jsxs("div",{className:"space-y-12",children:[a.map((n,i)=>s.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-card p-8 rounded-2xl border border-border/50 hover:border-primary/20 transition-colors",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-8 bg-primary rounded-full"}),n.title]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed text-lg",children:n.content})]},i)),s.jsx(Je.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"text-center pt-8 border-t border-border",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:r?" : 22  2025":"Last updated: December 22, 2025"})})]})})})]})}var pxt=Object.defineProperty,xxt=Object.defineProperties,gxt=Object.getOwnPropertyDescriptors,mk=Object.getOwnPropertySymbols,lde=Object.prototype.hasOwnProperty,cde=Object.prototype.propertyIsEnumerable,lW=(e,t,r)=>t in e?pxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vxt=(e,t)=>{for(var r in t||(t={}))lde.call(t,r)&&lW(e,r,t[r]);if(mk)for(var r of mk(t))cde.call(t,r)&&lW(e,r,t[r]);return e},yxt=(e,t)=>xxt(e,gxt(t)),bxt=(e,t)=>{var r={};for(var a in e)lde.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&mk)for(var a of mk(e))t.indexOf(a)<0&&cde.call(e,a)&&(r[a]=e[a]);return r};function wxt(e){let t=setTimeout(e,0),r=setTimeout(e,10),a=setTimeout(e,50);return[t,r,a]}function jxt(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var Nxt=18,dde=40,Sxt=`${dde}px`,kxt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Cxt({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:a}){let[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),u=f.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&n&&o,[n,o,r]),h=f.useCallback(()=>{let m=e.current,p=t.current;if(!m||!p||c||r==="none")return;let g=m,x=g.getBoundingClientRect().left+g.offsetWidth,y=g.getBoundingClientRect().top+g.offsetHeight/2,w=x-Nxt,b=y;document.querySelectorAll(kxt).length===0&&document.elementFromPoint(w,b)===m||(i(!0),d(!0))},[e,t,c,r]);return f.useEffect(()=>{let m=e.current;if(!m||r==="none")return;function p(){let x=window.innerWidth-m.getBoundingClientRect().right;l(x>=dde)}p();let g=setInterval(p,1e3);return()=>{clearInterval(g)}},[e,r]),f.useEffect(()=>{let m=a||document.activeElement===t.current;if(r==="none"||!m)return;let p=setTimeout(h,0),g=setTimeout(h,2e3),x=setTimeout(h,5e3),y=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(g),clearTimeout(x),clearTimeout(y)}},[t,a,r,h]),{hasPWMBadge:n,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:Sxt}}var ude=f.createContext({}),hde=f.forwardRef((e,t)=>{var r=e,{value:a,onChange:n,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:u,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:m,containerClassName:p,noScriptCSSFallback:g=Axt,render:x,children:y}=r,w=bxt(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),b,v,N,j,k;let[S,C]=f.useState(typeof w.defaultValue=="string"?w.defaultValue:""),A=a??S,E=jxt(A),D=f.useCallback(ye=>{n==null||n(ye),C(ye)},[n]),P=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),T=f.useRef(null),_=f.useRef(null),O=f.useRef({value:A,onChange:D,isIOS:typeof window<"u"&&((v=(b=window==null?void 0:window.CSS)==null?void 0:b.supports)==null?void 0:v.call(b,"-webkit-touch-callout","none"))}),F=f.useRef({prev:[(N=T.current)==null?void 0:N.selectionStart,(j=T.current)==null?void 0:j.selectionEnd,(k=T.current)==null?void 0:k.selectionDirection]});f.useImperativeHandle(t,()=>T.current,[]),f.useEffect(()=>{let ye=T.current,Re=_.current;if(!ye||!Re)return;O.current.value!==ye.value&&O.current.onChange(ye.value),F.current.prev=[ye.selectionStart,ye.selectionEnd,ye.selectionDirection];function qe(){if(document.activeElement!==ye){M(null),V(null);return}let Ue=ye.selectionStart,ie=ye.selectionEnd,Pe=ye.selectionDirection,Te=ye.maxLength,Ve=ye.value,Le=F.current.prev,de=-1,xe=-1,Ie;if(Ve.length!==0&&Ue!==null&&ie!==null){let Bt=Ue===ie,pr=Ue===Ve.length&&Ve.length<Te;if(Bt&&!pr){let $t=Ue;if($t===0)de=0,xe=1,Ie="forward";else if($t===Te)de=$t-1,xe=$t,Ie="backward";else if(Te>1&&Ve.length>1){let _t=0;if(Le[0]!==null&&Le[1]!==null){Ie=$t<Le[1]?"backward":"forward";let as=Le[0]===Le[1]&&Le[0]<Te;Ie==="backward"&&!as&&(_t=-1)}de=_t+$t,xe=_t+$t+1}}de!==-1&&xe!==-1&&de!==xe&&T.current.setSelectionRange(de,xe,Ie)}let st=de!==-1?de:Ue,wt=xe!==-1?xe:ie,tt=Ie??Pe;M(st),V(wt),F.current.prev=[st,wt,tt]}if(document.addEventListener("selectionchange",qe,{capture:!0}),qe(),document.activeElement===ye&&H(!0),!document.getElementById("input-otp-style")){let Ue=document.createElement("style");if(Ue.id="input-otp-style",document.head.appendChild(Ue),Ue.sheet){let ie="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";$v(Ue.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),$v(Ue.sheet,`[data-input-otp]:autofill { ${ie} }`),$v(Ue.sheet,`[data-input-otp]:-webkit-autofill { ${ie} }`),$v(Ue.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),$v(Ue.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let He=()=>{Re&&Re.style.setProperty("--root-height",`${ye.clientHeight}px`)};He();let fe=new ResizeObserver(He);return fe.observe(ye),()=>{document.removeEventListener("selectionchange",qe,{capture:!0}),fe.disconnect()}},[]);let[I,R]=f.useState(!1),[L,H]=f.useState(!1),[W,M]=f.useState(null),[G,V]=f.useState(null);f.useEffect(()=>{wxt(()=>{var ye,Re,qe,He;(ye=T.current)==null||ye.dispatchEvent(new Event("input"));let fe=(Re=T.current)==null?void 0:Re.selectionStart,Ue=(qe=T.current)==null?void 0:qe.selectionEnd,ie=(He=T.current)==null?void 0:He.selectionDirection;fe!==null&&Ue!==null&&(M(fe),V(Ue),F.current.prev=[fe,Ue,ie])})},[A,L]),f.useEffect(()=>{E!==void 0&&A!==E&&E.length<i&&A.length===i&&(u==null||u(A))},[i,u,E,A]);let q=Cxt({containerRef:_,inputRef:T,pushPasswordManagerStrategy:h,isFocused:L}),Y=f.useCallback(ye=>{let Re=ye.currentTarget.value.slice(0,i);if(Re.length>0&&P&&!P.test(Re)){ye.preventDefault();return}typeof E=="string"&&Re.length<E.length&&document.dispatchEvent(new Event("selectionchange")),D(Re)},[i,D,E,P]),U=f.useCallback(()=>{var ye;if(T.current){let Re=Math.min(T.current.value.length,i-1),qe=T.current.value.length;(ye=T.current)==null||ye.setSelectionRange(Re,qe),M(Re),V(qe)}H(!0)},[i]),Z=f.useCallback(ye=>{var Re,qe;let He=T.current;if(!m&&(!O.current.isIOS||!ye.clipboardData||!He))return;let fe=ye.clipboardData.getData("text/plain"),Ue=m?m(fe):fe;ye.preventDefault();let ie=(Re=T.current)==null?void 0:Re.selectionStart,Pe=(qe=T.current)==null?void 0:qe.selectionEnd,Te=(ie!==Pe?A.slice(0,ie)+Ue+A.slice(Pe):A.slice(0,ie)+Ue+A.slice(ie)).slice(0,i);if(Te.length>0&&P&&!P.test(Te))return;He.value=Te,D(Te);let Ve=Math.min(Te.length,i-1),Le=Te.length;He.setSelectionRange(Ve,Le),M(Ve),V(Le)},[i,D,P,A]),J=f.useMemo(()=>({position:"relative",cursor:w.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[w.disabled]),K=f.useMemo(()=>({position:"absolute",inset:0,width:q.willPushPWMBadge?`calc(100% + ${q.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:q.willPushPWMBadge?`inset(0 ${q.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[q.PWM_BADGE_SPACE_WIDTH,q.willPushPWMBadge,o]),se=f.useMemo(()=>f.createElement("input",yxt(vxt({autoComplete:w.autoComplete||"one-time-code"},w),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":G,inputMode:d,pattern:P==null?void 0:P.source,"aria-placeholder":c,style:K,maxLength:i,value:A,ref:T,onPaste:ye=>{var Re;Z(ye),(Re=w.onPaste)==null||Re.call(w,ye)},onChange:Y,onMouseOver:ye=>{var Re;R(!0),(Re=w.onMouseOver)==null||Re.call(w,ye)},onMouseLeave:ye=>{var Re;R(!1),(Re=w.onMouseLeave)==null||Re.call(w,ye)},onFocus:ye=>{var Re;U(),(Re=w.onFocus)==null||Re.call(w,ye)},onBlur:ye=>{var Re;H(!1),(Re=w.onBlur)==null||Re.call(w,ye)}})),[Y,U,Z,d,K,i,G,W,w,P==null?void 0:P.source,A]),B=f.useMemo(()=>({slots:Array.from({length:i}).map((ye,Re)=>{var qe;let He=L&&W!==null&&G!==null&&(W===G&&Re===W||Re>=W&&Re<G),fe=A[Re]!==void 0?A[Re]:null,Ue=A[0]!==void 0?null:(qe=c==null?void 0:c[Re])!=null?qe:null;return{char:fe,placeholderChar:Ue,isActive:He,hasFakeCaret:He&&fe===null}}),isFocused:L,isHovering:!w.disabled&&I}),[L,I,i,G,W,w.disabled,A]),Ne=f.useMemo(()=>x?x(B):f.createElement(ude.Provider,{value:B},y),[y,B,x]);return f.createElement(f.Fragment,null,g!==null&&f.createElement("noscript",null,f.createElement("style",null,g)),f.createElement("div",{ref:_,"data-input-otp-container":!0,style:J,className:p},Ne,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},se)))});hde.displayName="Input";function $v(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Axt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const mde=f.forwardRef(({className:e,containerClassName:t,...r},a)=>s.jsx(hde,{ref:a,containerClassName:be("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:be("disabled:cursor-not-allowed",e),...r}));mde.displayName="InputOTP";const fde=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:be("flex items-center",e),...t}));fde.displayName="InputOTPGroup";const of=f.forwardRef(({index:e,className:t,...r},a)=>{const n=f.useContext(ude),{char:i,hasFakeCaret:o,isActive:l}=n.slots[e];return s.jsxs("div",{ref:a,className:be("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[i,o&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});of.displayName="InputOTPSlot";const Ext=f.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(zme,{})}));Ext.displayName="InputOTPSeparator";function eN(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),n=Tn(),{toast:i}=Rt(),{login:o}=$s(),[l,c]=f.useState("login"),[d,u]=f.useState("customer");f.useEffect(()=>{const I=()=>{var H,W;if(d==="customer"){const M=localStorage.getItem("customerToken"),G=localStorage.getItem("customerData");if(M&&G){const V=((W=(H=n.state)==null?void 0:H.from)==null?void 0:W.pathname)||"/";a(V,{replace:!0})}}else localStorage.getItem("accessToken")&&a("/dashboard",{replace:!0})};I();const R=()=>{I()},L=setInterval(I,100);return window.addEventListener("storage",R),()=>{clearInterval(L),window.removeEventListener("storage",R)}},[d,a,n]);const[h,m]=f.useState(""),[p,g]=f.useState(""),[x,y]=f.useState(""),[w,b]=f.useState(""),[v,N]=f.useState(""),[j,k]=f.useState(!1),[S,C]=f.useState(""),[A,E]=f.useState(!1),[D,P]=f.useState(!1),T=async I=>{var R,L;I.preventDefault(),E(!0);try{if(d==="customer"){const H=ag(),W={};H.subdomain&&(W["X-Tenant-Domain"]=H.domain);const M=await Q.post(`${Q.authUrl}/customers/login`,{email:h,password:p},{requireAuth:!1,headers:W});if(no(M))throw new Error(kc(M));localStorage.setItem("customerToken",String(M.token||"")),M.customer&&localStorage.setItem("customerData",JSON.stringify(M.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:M.token,customer:M.customer}})),i({title:r?"   ":"Login successful",description:r?"   ":"Welcome back!"});const G=((L=(R=n.state)==null?void 0:R.from)==null?void 0:L.pathname)||"/";a(G,{replace:!0})}else await o(h,p)?(i({title:r?"  ":"Login successful",description:r?"    ":"Please change your password to continue"}),a("/auth/change-password",{replace:!0})):(i({title:r?"   ":"Login successful",description:r?"    ":"Welcome to the dashboard!"}),setTimeout(()=>a("/dashboard"),1e3))}catch(H){const{title:W,description:M}=ii(H,{operation:r?" ":"login",resource:d==="customer"?r?"":"as customer":r?"":"as employee"},r);i({variant:"destructive",title:W,description:M})}finally{E(!1)}},_=async I=>{I.preventDefault(),E(!0);try{const R=ag(),L={};R.subdomain&&(L["X-Tenant-Domain"]=R.domain);const H=await Q.post(`${Q.authUrl}/customers/signup`,{email:h,password:p,firstName:x,lastName:w,phone:v},{requireAuth:!1,headers:L});if(no(H))throw new Error(kc(H));H.verificationCodeSent?(k(!0),i({title:r?"   ":"Verification code sent",description:r?`     ${h}`:`A verification code has been sent to ${h}`}),H.verificationCode&&(console.log("Verification Code:",H.verificationCode),i({title:"Development Mode",description:`Code: ${H.verificationCode}`,duration:1e4}))):(i({title:r?"   ":"Account created successfully",description:r?"  ":"Please sign in"}),c("login"))}catch(R){const{title:L,description:H}=ii(R,{operation:r?" ":"signup",resource:r?"":"as customer"},r);i({variant:"destructive",title:L,description:H})}finally{E(!1)}},O=async I=>{I.preventDefault(),E(!0);try{const R=await Q.post(`${Q.authUrl}/customers/verify-email`,{email:h,code:S},{requireAuth:!1});if(no(R))throw new Error(kc(R));if(R.valid)localStorage.setItem("customerToken",String(R.token||"")),R.customer&&localStorage.setItem("customerData",JSON.stringify(R.customer)),window.dispatchEvent(new CustomEvent("customerLogin",{detail:{token:R.token,customer:R.customer}})),i({title:r?"  ":"Verification successful",description:r?"    ":"Your account has been created and you are now logged in"}),setTimeout(()=>a("/"),1e3);else throw new Error(R.message||"Verification failed")}catch(R){i({variant:"destructive",title:r?" ":"Verification failed",description:kc(R)})}finally{E(!1)}},F=async()=>{E(!0);try{const I=await Q.post(`${Q.authUrl}/customers/resend-verification-code`,{email:h},{requireAuth:!1});if(no(I))throw new Error(kc(I));i({title:r?"   ":"Code resent",description:r?"      ":"A new code has been sent to your email"}),I.verificationCode&&(console.log("Verification Code:",I.verificationCode),i({title:"Development Mode",description:`Code: ${I.verificationCode}`,duration:1e4}))}catch(I){i({variant:"destructive",title:r?"  ":"Failed to resend code",description:kc(I)})}finally{E(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background relative overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-primary/5 blur-[120px] animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-secondary/5 blur-[120px] animate-pulse-slow",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-4 rounded-3xl gradient-primary shadow-xl animate-bounce-subtle",children:s.jsx(zo,{className:"h-10 w-10 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold gradient-text tracking-tight",children:j?r?"  ":"Verify Email":d==="employee"?r?" ":"Employee Login":l==="login"?r?" ":"Welcome Back":r?"  ":"Join Us Today"}),s.jsx("p",{className:"text-muted-foreground",children:j?r?`    ${h}`:`Enter the code sent to ${h}`:d==="employee"?r?"     ":"Sign in to access the dashboard":l==="login"?r?"    ":"Sign in to manage your account and orders":r?"     ":"Create an account for a better shopping experience"})]}),s.jsxs(je,{className:"border-border/50 shadow-2xl glass-effect-strong overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 gradient-aurora animate-gradient bg-[length:200%_auto]"}),j?s.jsx(Ce,{className:"pt-8 pb-8 space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx(mde,{maxLength:6,value:S,onChange:I=>C(I),children:s.jsxs(fde,{children:[s.jsx(of,{index:0}),s.jsx(of,{index:1}),s.jsx(of,{index:2}),s.jsx(of,{index:3}),s.jsx(of,{index:4}),s.jsx(of,{index:5})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r?"    6 ":"Enter the 6-digit code"})]}),s.jsxs("div",{className:"flex flex-col w-full gap-3",children:[s.jsx(z,{onClick:O,className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all",disabled:A||S.length!==6,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:r?" ...":"Verifying..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:r?"":"Verify"})]})}),s.jsx(z,{variant:"ghost",onClick:F,disabled:A,className:"w-full",children:r?"  ":"Resend Code"}),s.jsxs(z,{variant:"link",onClick:()=>k(!1),className:"w-full text-muted-foreground",children:[s.jsx(ml,{className:be("h-4 w-4",r?"ml-2":"mr-2")}),r?"":"Back"]})]})]})}):d==="employee"?s.jsxs(Ce,{className:"pt-8 pb-8 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:r?" ":"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx(la,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:be("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",r?"pr-12":"pl-12")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{htmlFor:"password",children:r?" ":"Password"}),s.jsx(Qe,{to:"/auth/forgot-password",className:"text-xs text-primary hover:underline",children:r?"  ":"Forgot password?"})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,className:be("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",r?"pr-12 pl-12":"pl-12 pr-12")}),s.jsx("button",{type:"button",onClick:()=>P(!D),className:be("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",r?"left-4":"right-4"),children:D?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsx(z,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:r?"  ...":"Signing in..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(NL,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:r?" ":"Employee Login"}),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})})]}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:r?"":"Or"})}),s.jsxs(z,{variant:"outline",onClick:()=>u("customer"),className:"w-full h-11 rounded-xl border-2 border-border/50 hover:bg-muted/50",children:[s.jsx(Gi,{className:"mr-2 h-4 w-4"}),r?"  ":"Customer Login"]})]}):s.jsxs(Yn,{value:l,onValueChange:I=>c(I),className:"w-full",children:[s.jsxs(_n,{className:"grid w-full grid-cols-2 h-14 p-1 bg-muted/50 rounded-none border-b border-border/50",children:[s.jsx(Ar,{value:"login",className:"rounded-none data-[state=active]:bg-background data-[state=active]:shadow-none font-semibold",children:r?" ":"Login"}),s.jsx(Ar,{value:"signup",className:"rounded-none data-[state=active]:bg-background data-[state=active]:shadow-none font-semibold",children:r?" ":"Sign Up"})]}),s.jsxs(Ce,{className:"pt-6",children:[s.jsxs(ls,{value:"login",className:"space-y-6 mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"email",children:r?" ":"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx(la,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:be("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",r?"pr-12":"pl-12")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(X,{htmlFor:"password",children:r?" ":"Password"}),s.jsx(Qe,{to:"/auth/forgot-password",className:"text-xs text-primary hover:underline",children:r?"  ":"Forgot password?"})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,className:be("h-12 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all",r?"pr-12 pl-12":"pl-12 pr-12")}),s.jsx("button",{type:"button",onClick:()=>P(!D),className:be("absolute top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",r?"left-4":"right-4"),children:D?s.jsx(Wl,{className:"h-5 w-5"}):s.jsx(fr,{className:"h-5 w-5"})})]})]}),s.jsx(z,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:r?"  ...":"Signing in..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(c2,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:r?" ":"Sign In"}),s.jsx(ta,{className:"mr-2 h-5 w-5"})]})})]}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:r?"":"Or"})}),s.jsxs(z,{variant:"ghost",onClick:()=>u("employee"),className:"w-full h-10 text-muted-foreground hover:text-foreground",children:[s.jsx(NL,{className:"mr-2 h-4 w-4"}),r?"  ":"Employee Login"]})]}),s.jsxs(ls,{value:"signup",className:"space-y-6 mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(ds,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-primary/80 leading-relaxed",children:r?"         .":"Join us today for exclusive offers and easy order tracking."})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"firstName",children:r?" ":"First Name"}),s.jsx(me,{id:"firstName",placeholder:r?"":"John",value:x,onChange:I=>y(I.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"lastName",children:r?" ":"Last Name"}),s.jsx(me,{id:"lastName",placeholder:r?"":"Doe",value:w,onChange:I=>b(I.target.value),required:!0,className:"h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"signup-email",children:r?" ":"Email"}),s.jsxs("div",{className:"relative group",children:[s.jsx(la,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"signup-email",type:"email",placeholder:"name@example.com",value:h,onChange:I=>m(I.target.value),required:!0,className:be("h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all",r?"pr-12":"pl-12")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"signup-password",children:r?" ":"Password"}),s.jsxs("div",{className:"relative group",children:[s.jsx(ci,{className:be("absolute top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors",r?"right-4":"left-4")}),s.jsx(me,{id:"signup-password",type:D?"text":"password",placeholder:"",value:p,onChange:I=>g(I.target.value),required:!0,minLength:6,className:be("h-11 rounded-xl border-2 border-border/50 bg-background/50 focus:border-primary/50 transition-all",r?"pr-12 pl-12":"pl-12 pr-12")})]})]}),s.jsx(z,{type:"submit",className:"w-full h-12 text-base font-semibold rounded-xl gradient-primary text-white shadow-lg hover:shadow-glow transition-all mt-2",disabled:A,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"ml-2 h-5 w-5 animate-spin"}),s.jsx("span",{children:r?"  ...":"Creating account..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(jd,{className:"ml-2 h-5 w-5"}),s.jsx("span",{children:r?" ":"Create Account"})]})})]})]})]}),s.jsxs(Ru,{className:"flex flex-col gap-4 pb-8 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Ws,{className:"h-3 w-3"}),r?"    ":"Your data is protected by industry-standard encryption"]}),s.jsxs("div",{className:"w-full flex items-center gap-4",children:[s.jsx("div",{className:"h-px flex-1 bg-border/50"}),s.jsx("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground font-bold",children:r?"":"OR"}),s.jsx("div",{className:"h-px flex-1 bg-border/50"})]}),s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[l==="login"?r?"  ":"Don't have an account?":r?"  ":"Already have an account?",s.jsx("button",{onClick:()=>c(l==="login"?"signup":"login"),className:"text-primary hover:text-primary/80 font-bold ml-1 hover:underline transition-colors",children:l==="login"?r?"  ":"Sign up now":r?" ":"Login here"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Js,{className:"h-3.5 w-3.5 text-success"}),r?" ":"Secure Payment"]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Js,{className:"h-3.5 w-3.5 text-success"}),r?" 24/7":"24/7 Support"]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Js,{className:"h-3.5 w-3.5 text-success"}),r?" ":"Full Privacy"]})]}),s.jsx(Qe,{to:"/",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:r?" ":"Back to Store"})]})]})]})}const Pxt=()=>(console.log("Rendering TenantRouter"),lxt(),s.jsxs(NK,{children:[s.jsxs(rt,{element:s.jsx(hxt,{}),children:[s.jsx(rt,{path:"/cards",element:s.jsx(dxt,{})}),s.jsx(rt,{path:"/cards/:id",element:s.jsx(uxt,{})}),s.jsx(rt,{path:"/account/cards",element:s.jsx(id,{children:s.jsx(DD,{})})}),s.jsx(rt,{path:"/account/wallet",element:s.jsx(id,{children:s.jsx(FN,{})})}),s.jsx(rt,{path:"/account/favorites",element:s.jsx(iW,{})})]}),s.jsxs(rt,{element:s.jsx(xce,{}),children:[s.jsx(rt,{path:"/",element:s.jsx(dle,{})}),s.jsx(rt,{path:"/products",element:s.jsx(ule,{})}),s.jsx(rt,{path:"/products/:id",element:s.jsx(ck,{})}),s.jsx(rt,{path:"/products/:tenantId/:productId",element:s.jsx(ck,{})}),s.jsx(rt,{path:"/collections/:id",element:s.jsx(Wle,{})}),s.jsx(rt,{path:"/categories",element:s.jsx(Hle,{})}),s.jsx(rt,{path:"/categories/:id",element:s.jsx(qle,{})}),s.jsx(rt,{path:"/cart",element:s.jsx(Ale,{})}),s.jsx(rt,{path:"/checkout",element:s.jsx(Vle,{})}),s.jsx(rt,{path:"/account",element:s.jsx(id,{children:s.jsx(FN,{})})}),s.jsx(rt,{path:"/account/orders",element:s.jsx(id,{children:s.jsx(DD,{})})}),s.jsx(rt,{path:"/account/profile",element:s.jsx(id,{children:s.jsx(FN,{})})}),s.jsx(rt,{path:"/account/recharge",element:s.jsx(id,{children:s.jsx(oxt,{})})}),s.jsx(rt,{path:"/orders/:id",element:s.jsx(id,{children:s.jsx(zle,{})})}),s.jsx(rt,{path:"/wishlist",element:s.jsx(iW,{})}),s.jsx(rt,{path:"/track-order",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/returns",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/faq",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/terms",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/policies",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/rules",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/offers",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/page/:slug",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/:slug",element:s.jsx(rd,{})}),s.jsx(rt,{path:"/about",element:s.jsx(nde,{})}),s.jsx(rt,{path:"/contact",element:s.jsx(ide,{})}),s.jsx(rt,{path:"/privacy",element:s.jsx(ode,{})}),s.jsx(rt,{path:"/help",element:s.jsx(oce,{})})]}),s.jsx(rt,{path:"/auth/login",element:s.jsx(eN,{})}),s.jsx(rt,{path:"/auth/signup",element:s.jsx(eN,{})}),s.jsx(rt,{path:"/auth/forgot-password",element:s.jsx(dQ,{})}),s.jsx(rt,{path:"/auth/reset-password",element:s.jsx(uQ,{})}),s.jsx(rt,{path:"/login",element:s.jsx(eN,{})}),s.jsx(rt,{path:"/signup",element:s.jsx(eN,{})}),s.jsx(rt,{path:"*",element:s.jsx(tY,{})})]})),Uf=()=>(console.warn("SECURITY: getAdminApiKeySync should not be used. Admin operations require JWT authentication."),""),kr=Uf,Txt=async()=>{console.warn("SECURITY: initializeAdminApiKey should not be used. Admin operations require JWT authentication.")},_xt=e=>{console.warn("SECURITY: setAdminApiKeyCache should not be used. Admin operations require JWT authentication.")};function Dxt(){const{t:e}=Ct(),[t,r]=f.useState(null),[a,n]=f.useState(!0),i=async()=>{try{n(!0);const c=await he.get("/admin/master/overview",{requireAuth:!0,adminApiKey:kr()});r(c)}catch(c){console.error("Failed to load overview:",c),r(null)}finally{n(!1)}};if(f.useEffect(()=>{i()},[]),a)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-purple-500"})});if(!t)return s.jsx("div",{className:"text-center text-gray-400 py-12",children:e("masterDashboard.overview.loadError")});const o=[{title:e("masterDashboard.overview.stats.totalTenants"),value:t.tenants.total,icon:Vs,color:"purple",subtitle:`${t.tenants.active} ${e("masterDashboard.overview.stats.activeTenants")}`},{title:e("masterDashboard.overview.stats.totalRevenue"),value:`$${(t.transactions.totalRevenue||0).toLocaleString()}`,icon:pn,color:"green",subtitle:`$${(t.transactions.platformFees||0).toLocaleString()} ${e("masterDashboard.overview.stats.platformFees")}`},{title:e("masterDashboard.overview.stats.transactions"),value:t.transactions.total.toLocaleString(),icon:Wo,color:"blue",subtitle:e("masterDashboard.overview.stats.allTime")},{title:e("masterDashboard.overview.stats.totalUsers"),value:t.totalUsers.toLocaleString(),icon:mr,color:"orange",subtitle:e("masterDashboard.overview.stats.acrossTenants")},{title:e("masterDashboard.overview.stats.paymentGateways"),value:t.activePaymentGateways,icon:Wr,color:"pink",subtitle:e("masterDashboard.overview.stats.active")},{title:e("masterDashboard.overview.stats.partners"),value:t.activePartners,icon:RO,color:"indigo",subtitle:e("masterDashboard.overview.stats.active")}],l=c=>c.includes("CREATED")?s.jsx(ks,{className:"w-4 h-4 text-green-400"}):c.includes("DELETED")?s.jsx(Cs,{className:"w-4 h-4 text-red-400"}):c.includes("SUSPENDED")?s.jsx(Us,{className:"w-4 h-4 text-yellow-400"}):s.jsx(ad,{className:"w-4 h-4 text-blue-400"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e("masterDashboard.overview.title")}),s.jsx("p",{className:"text-gray-400",children:e("masterDashboard.overview.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,d)=>{const u=c.icon,h={purple:"from-purple-500/20 to-purple-600/20 border-purple-500/30",green:"from-green-500/20 to-green-600/20 border-green-500/30",blue:"from-blue-500/20 to-blue-600/20 border-blue-500/30",orange:"from-orange-500/20 to-orange-600/20 border-orange-500/30",pink:"from-pink-500/20 to-pink-600/20 border-pink-500/30",indigo:"from-indigo-500/20 to-indigo-600/20 border-indigo-500/30"}[c.color],m={purple:"text-purple-400",green:"text-green-400",blue:"text-blue-400",orange:"text-orange-400",pink:"text-pink-400",indigo:"text-indigo-400"}[c.color];return s.jsxs("div",{className:`bg-gradient-to-br ${h} border backdrop-blur-sm rounded-xl p-6 hover:scale-105 transition-transform duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium",children:c.title}),s.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:c.value})]}),s.jsx("div",{className:`p-3 rounded-lg bg-gray-800/50 ${m}`,children:s.jsx(u,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-sm text-gray-400",children:c.subtitle})]},d)})}),s.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.tenantStatus.title")}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ks,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.active})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.active")})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Us,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.suspended})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.suspended")})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Cs,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.inactive})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.inactive")})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Vs,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:t.tenants.total})]}),s.jsx("p",{className:"text-sm text-gray-400",children:e("masterDashboard.overview.tenantStatus.total")})]})]})]}),s.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.planDistribution.title")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.planDistribution.map((c,d)=>s.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:c.plan}),s.jsx("p",{className:"text-2xl font-bold text-white",children:c.count})]},d))})]}),s.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e("masterDashboard.overview.recentActivity.title")}),s.jsx("div",{className:"space-y-3",children:t.recentActivity.length>0?t.recentActivity.map(c=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 transition-colors",children:[l(c.action),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:c.action.replace(/_/g," ")}),s.jsx("p",{className:"text-sm text-gray-400",children:c.resource})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[s.jsx(fo,{className:"w-4 h-4"}),new Date(c.createdAt).toLocaleString()]})]},c.id)):s.jsx("p",{className:"text-center text-gray-400 py-4",children:e("masterDashboard.overview.recentActivity.noActivity")})})]})]})}function Oxt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),{toast:u}=Rt(),[h,m]=f.useState({name:"",subdomain:"",plan:"STARTER",description:"",ownerEmail:"",ownerPassword:""}),p=f.useCallback(async()=>{try{a(!0);const j=await he.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:kr()});t(j.tenants||[])}catch(j){console.error("Failed to load tenants:",j),u({variant:"destructive",title:"Error",description:"Failed to load tenants"})}finally{a(!1)}},[u]);f.useEffect(()=>{p()},[p]);const g=async j=>{var k,S;j.preventDefault();try{await he.post("/admin/master/tenants",h,{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Tenant created successfully"}),l(!1),m({name:"",subdomain:"",plan:"STARTER",description:"",ownerEmail:"",ownerPassword:""}),p()}catch(C){u({variant:"destructive",title:"Error",description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Failed to create tenant"})}},x=async j=>{var k,S;if(j.preventDefault(),!!c)try{await he.put(`/admin/master/tenants/${c.id}`,{name:h.name,plan:h.plan,description:h.description},{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Tenant updated successfully"}),d(null),p()}catch(C){u({variant:"destructive",title:"Error",description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Failed to update tenant"})}},y=async j=>{if(confirm("Are you sure you want to suspend this tenant?"))try{await he.post(`/admin/master/tenants/${j}/suspend`,{reason:"Suspended by admin"},{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Tenant suspended"}),p()}catch{u({variant:"destructive",title:"Error"})}},w=async j=>{var k,S;try{await he.post(`/admin/master/tenants/${j}/activate`,{},{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Tenant activated"}),p()}catch(C){u({variant:"destructive",title:"Error",description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Failed to activate tenant"})}},b=async j=>{var k,S;if(confirm("Are you sure you want to delete this tenant? This action cannot be undone."))try{await he.delete(`/admin/master/tenants/${j}`,{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Tenant deleted"}),p()}catch(C){u({variant:"destructive",title:"Error",description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||"Failed to delete tenant"})}},v=e.filter(j=>j.name.toLowerCase().includes(n.toLowerCase())||j.subdomain.toLowerCase().includes(n.toLowerCase())),N=j=>{switch(j){case"ACTIVE":return s.jsx(ks,{className:"w-4 h-4 text-green-500"});case"SUSPENDED":return s.jsx(Us,{className:"w-4 h-4 text-yellow-500"});case"INACTIVE":return s.jsx(Cs,{className:"w-4 h-4 text-red-500"});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tenant Management"}),s.jsx("p",{className:"text-gray-400",children:"Manage all tenants across the platform"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(Gt,{className:"w-4 h-4"}),"Create Tenant"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search tenants...",value:n,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-purple-500"})}):s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-950 text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 text-left font-medium",children:"Tenant"}),s.jsx("th",{className:"p-4 text-left font-medium",children:"Plan"}),s.jsx("th",{className:"p-4 text-left font-medium",children:"Status"}),s.jsx("th",{className:"p-4 text-left font-medium",children:"Stats"}),s.jsx("th",{className:"p-4 text-left font-medium",children:"Created"}),s.jsx("th",{className:"p-4 text-right font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800",children:[v.map(j=>{var k,S;return s.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:[j.subdomain,".saaah.com"]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-400 rounded-full text-xs font-medium",children:j.plan})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[N(j.status),s.jsx("span",{className:"text-sm text-white",children:j.status})]})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"text-sm text-gray-400",children:[((k=j._count)==null?void 0:k.products)||0," products  ",((S=j._count)==null?void 0:S.orders)||0," orders"]})}),s.jsx("td",{className:"p-4 text-sm text-gray-400",children:new Date(j.createdAt).toLocaleDateString()}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{d(j),m({name:j.name,subdomain:j.subdomain,plan:j.plan,description:"",ownerEmail:"",ownerPassword:""})},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:s.jsx(La,{className:"w-4 h-4 text-blue-400"})}),j.status==="ACTIVE"?s.jsx("button",{onClick:()=>y(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Suspend",children:s.jsx(LO,{className:"w-4 h-4 text-yellow-400"})}):s.jsx("button",{onClick:()=>w(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Activate",children:s.jsx($O,{className:"w-4 h-4 text-green-400"})}),s.jsx("button",{onClick:()=>b(j.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:s.jsx(_r,{className:"w-4 h-4 text-red-400"})})]})})]},j.id)}),v.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"No tenants found"})})]})]})}),(o||c)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c?"Edit Tenant":"Create New Tenant"}),s.jsxs("form",{onSubmit:c?x:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tenant Name"}),s.jsx("input",{type:"text",value:h.name,onChange:j=>m({...h,name:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Subdomain"}),s.jsx("input",{type:"text",value:h.subdomain,onChange:j=>m({...h,subdomain:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner Email"}),s.jsx("input",{type:"email",value:h.ownerEmail,onChange:j=>m({...h,ownerEmail:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Owner Password"}),s.jsx("input",{type:"password",value:h.ownerPassword,onChange:j=>m({...h,ownerPassword:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan"}),s.jsxs("select",{value:h.plan,onChange:j=>m({...h,plan:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[s.jsx("option",{value:"STARTER",children:"Starter"}),s.jsx("option",{value:"PROFESSIONAL",children:"Professional"}),s.jsx("option",{value:"ENTERPRISE",children:"Enterprise"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:c?"Update":"Create"})]})]})]})})]})}const Ixt=[{value:"HYPERPAY",label:"HyperPay"},{value:"NEOLEAP",label:"Neoleap"}],Bv=Uf();function Rxt(){const{t:e}=Ct(),[t,r]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(""),[l,c]=f.useState(!1),[d,u]=f.useState(null),{toast:h}=Rt(),[m,p]=f.useState({name:"",provider:"HYPERPAY",tenantId:null,credentials:{},settings:{},isActive:!0}),g=f.useCallback(async()=>{var j;try{n(!0);const k=await he.get("/admin/master/payment-gateways",{requireAuth:!0,adminApiKey:Bv}),S=(k==null?void 0:k.gateways)||((j=k==null?void 0:k.data)==null?void 0:j.gateways)||(Array.isArray(k)?k:[]),C=Array.isArray(S)?S.filter(A=>!A.tenantId||A.tenantId===null):[];r(C)}catch(k){console.error("Failed to load payment gateways:",k);const S=k;h({title:e("common.error"),description:(S==null?void 0:S.message)||e("masterDashboard.paymentGateways.loadError"),variant:"destructive"})}finally{n(!1)}},[h,e]);f.useEffect(()=>{g()},[g]);const x=async j=>{var k,S;if(j.preventDefault(),!m.name){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingName"),description:e("masterDashboard.paymentGateways.missingNameDesc")});return}if(m.provider==="HYPERPAY"&&!m.credentials.entityId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingEntityId"),description:e("masterDashboard.paymentGateways.missingEntityIdDesc")});return}if(m.provider==="NEOLEAP"&&!m.credentials.clientId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingClientId"),description:e("masterDashboard.paymentGateways.missingClientIdDesc")});return}try{await he.post("/admin/master/payment-gateways",m,{requireAuth:!0,adminApiKey:Bv}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.createSuccess")}),c(!1),v(),g()}catch(C){const A=C;h({variant:"destructive",title:e("common.error"),description:(A==null?void 0:A.message)||((S=(k=A==null?void 0:A.response)==null?void 0:k.data)==null?void 0:S.message)||e("masterDashboard.paymentGateways.loadError")})}},y=async j=>{var k,S;if(confirm(e("masterDashboard.paymentGateways.deleteConfirm")))try{await he.delete(`/admin/master/payment-gateways/${j}`,{requireAuth:!0,adminApiKey:Bv}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.deleteSuccess")}),g()}catch(C){h({variant:"destructive",title:e("common.error"),description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||e("masterDashboard.paymentGateways.loadError")})}},w=async j=>{var k,S;try{await he.post(`/admin/master/payment-gateways/${j}/toggle`,{},{requireAuth:!0,adminApiKey:Bv}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.toggleSuccess")}),g()}catch(C){h({variant:"destructive",title:e("common.error"),description:((S=(k=C.response)==null?void 0:k.data)==null?void 0:S.message)||e("masterDashboard.paymentGateways.loadError")})}},b=async j=>{var k,S;if(j.preventDefault(),!!d){if(!m.name){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingName"),description:e("masterDashboard.paymentGateways.missingNameDesc")});return}if(m.provider==="HYPERPAY"&&!m.credentials.entityId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingEntityId"),description:e("masterDashboard.paymentGateways.missingEntityIdDesc")});return}if(m.provider==="NEOLEAP"&&!m.credentials.clientId){h({variant:"destructive",title:e("masterDashboard.paymentGateways.missingClientId"),description:e("masterDashboard.paymentGateways.missingClientIdDesc")});return}try{await he.put(`/admin/master/payment-gateways/${d.id}`,m,{requireAuth:!0,adminApiKey:Bv}),h({title:e("common.success"),description:e("masterDashboard.paymentGateways.updateSuccess")}),c(!1),u(null),v(),g()}catch(C){const A=C;h({variant:"destructive",title:e("common.error"),description:(A==null?void 0:A.message)||((S=(k=A==null?void 0:A.response)==null?void 0:k.data)==null?void 0:S.message)||e("masterDashboard.paymentGateways.loadError")})}}},v=()=>{p({name:"",provider:"HYPERPAY",tenantId:null,credentials:{},settings:{},isActive:!0})},N=t.filter(j=>j.name.toLowerCase().includes(i.toLowerCase())||j.provider.toLowerCase().includes(i.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:e("masterDashboard.paymentGateways.title")}),s.jsx("p",{className:"text-gray-400",children:e("masterDashboard.paymentGateways.subtitle")})]}),s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Gt,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.addGateway")]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:e("masterDashboard.paymentGateways.searchPlaceholder"),value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-green-500"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[N.map(j=>s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${j.isActive?"bg-green-500/10":"bg-gray-500/10"}`,children:s.jsx(Wr,{className:`w-5 h-5 ${j.isActive?"text-green-500":"text-gray-500"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white",children:j.name}),s.jsx("p",{className:"text-sm text-gray-400",children:j.provider})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:j.isActive?s.jsx(ks,{className:"w-4 h-4 text-green-500"}):s.jsx(Cs,{className:"w-4 h-4 text-gray-500"})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(j.createdAt).toLocaleDateString()]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{u(j),p({name:j.name,provider:j.provider,tenantId:j.tenantId||null,credentials:j.credentials||{},settings:j.settings||{},isActive:j.isActive}),c(!0)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[s.jsx(La,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.edit")]}),s.jsx("button",{onClick:()=>w(j.id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-colors ${j.isActive?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20":"bg-green-500/10 text-green-500 hover:bg-green-500/20"}`,children:j.isActive?s.jsxs(s.Fragment,{children:[s.jsx(LO,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.disable")]}):s.jsxs(s.Fragment,{children:[s.jsx($O,{className:"w-4 h-4"}),e("masterDashboard.paymentGateways.enable")]})}),s.jsx("button",{onClick:()=>y(j.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:s.jsx(_r,{className:"w-4 h-4"})})]})]},j.id)),N.length===0&&s.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:e("masterDashboard.paymentGateways.noGateways")})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:e(d?"masterDashboard.paymentGateways.modal.editTitle":"masterDashboard.paymentGateways.modal.addTitle")}),s.jsxs("form",{onSubmit:d?b:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.gatewayName")}),s.jsx("input",{type:"text",value:m.name,onChange:j=>p({...m,name:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.provider")}),s.jsx("select",{value:m.provider,onChange:j=>p({...m,provider:j.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500",disabled:!!d,children:Ixt.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]}),s.jsxs("div",{className:"space-y-4 border-t border-slate-800 pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-white",children:e("masterDashboard.paymentGateways.modal.credentials")}),m.provider==="STRIPE"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.secretKey")}),s.jsx("input",{type:"password",value:m.credentials.secretKey||"",onChange:j=>p({...m,credentials:{...m.credentials,secretKey:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.publishableKey")}),s.jsx("input",{type:"text",value:m.credentials.publishableKey||"",onChange:j=>p({...m,credentials:{...m.credentials,publishableKey:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]}),m.provider==="PAYPAL"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.clientId")}),s.jsx("input",{type:"text",value:m.credentials.clientId||"",onChange:j=>p({...m,credentials:{...m.credentials,clientId:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.clientSecret")}),s.jsx("input",{type:"password",value:m.credentials.clientSecret||"",onChange:j=>p({...m,credentials:{...m.credentials,clientSecret:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]}),(m.provider==="HYPERPAY"||m.provider==="NEOLEAP")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.entityId")}),s.jsx("input",{type:"text",value:m.credentials.entityId||"",onChange:j=>p({...m,credentials:{...m.credentials,entityId:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:e("masterDashboard.paymentGateways.modal.accessToken")}),s.jsx("input",{type:"password",value:m.credentials.accessToken||"",onChange:j=>p({...m,credentials:{...m.credentials,accessToken:j.target.value}}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-green-500"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),u(null),v()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:e("masterDashboard.paymentGateways.modal.cancel")}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e(d?"masterDashboard.paymentGateways.modal.update":"masterDashboard.paymentGateways.modal.add")})]})]})]})})]})}function Fxt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(!1),{toast:m}=Rt(),p=f.useRef(null),[g,x]=f.useState({name:"",nameAr:"",email:"",phone:"",logo:"",description:"",descriptionAr:"",website:"",commissionType:"PERCENTAGE",commissionValue:0,aiScript:""}),y=f.useCallback(async()=>{try{a(!0);const C=await he.get("/admin/master/partners",{requireAuth:!0,adminApiKey:kr()});t(C.partners||C||[])}catch(C){console.error("Failed to load partners:",C),m({variant:"destructive",title:"Error",description:"Failed to load partners"})}finally{a(!1)}},[m]);f.useEffect(()=>{y()},[y]);const w=async C=>{var E;const A=(E=C.target.files)==null?void 0:E[0];if(A){if(!A.type.startsWith("image/")){m({variant:"destructive",title:"Invalid file",description:"Please select an image file"});return}if(A.size>5*1024*1024){m({variant:"destructive",title:"File too large",description:"Image must be less than 5MB"});return}try{h(!0);const D=new FormData;D.append("file",A),D.append("folder","partners");const P=await fetch("https://saeaa.net/api/api/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:D});if(P.ok){const T=await P.json();x({...g,logo:T.url||T.path}),m({title:"Success",description:"Logo uploaded successfully"})}else{const T=new FileReader;T.onloadend=()=>{x({...g,logo:T.result}),m({title:"Success",description:"Logo loaded (local preview)"})},T.readAsDataURL(A)}}catch{const P=new FileReader;P.onloadend=()=>{x({...g,logo:P.result})},P.readAsDataURL(A)}finally{h(!1)}}},b=async C=>{C.preventDefault();try{await he.post("/admin/master/partners",g,{requireAuth:!0,adminApiKey:kr()}),m({title:"Success",description:"Partner created successfully"}),l(!1),j(),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to create partner"})}},v=async C=>{if(C.preventDefault(),!!c)try{const A=encodeURIComponent(c.id);await he.put(`/admin/master/partners/${A}`,g,{requireAuth:!0,adminApiKey:kr()}),m({title:"Success",description:"Partner updated successfully"}),d(null),l(!1),j(),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to update partner"})}},N=async C=>{if(confirm("Are you sure you want to delete this partner?"))try{const A=encodeURIComponent(C);await he.delete(`/admin/master/partners/${A}`,{requireAuth:!0,adminApiKey:kr()}),m({title:"Success",description:"Partner deleted"}),y()}catch(A){m({variant:"destructive",title:"Error",description:A.message||"Failed to delete partner"})}},j=()=>{x({name:"",nameAr:"",email:"",phone:"",logo:"",description:"",descriptionAr:"",website:"",commissionType:"PERCENTAGE",commissionValue:0,aiScript:""})},k=C=>{d(C),x({name:C.name,nameAr:C.nameAr||"",email:C.email,phone:C.phone||"",logo:C.logo||"",description:C.description||"",descriptionAr:C.descriptionAr||"",website:C.website||"",commissionType:C.commissionType,commissionValue:C.commissionValue,aiScript:C.aiScript||""}),l(!0)},S=e.filter(C=>C.name.toLowerCase().includes(n.toLowerCase())||C.email.toLowerCase().includes(n.toLowerCase())||C.nameAr&&C.nameAr.includes(n));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Partner Management"}),s.jsx("p",{className:"text-gray-400",children:"Manage business partners, logos, and commissions"})]}),s.jsxs("button",{onClick:()=>{j(),d(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[s.jsx(Gt,{className:"w-4 h-4"}),"Add Partner"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search partners...",value:n,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-indigo-500"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[S.map(C=>s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-indigo-500/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[C.logo?s.jsx("img",{src:C.logo,alt:C.name,className:"w-14 h-14 rounded-lg object-cover bg-slate-800",onError:A=>{var E;A.target.style.display="none",(E=A.target.nextElementSibling)==null||E.classList.remove("hidden")}}):null,s.jsx("div",{className:`p-3 rounded-lg ${C.isActive?"bg-indigo-500/10":"bg-gray-500/10"} ${C.logo?"hidden":""}`,children:s.jsx(RO,{className:`w-6 h-6 ${C.isActive?"text-indigo-500":"text-gray-500"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white text-lg",children:C.name}),C.nameAr&&s.jsx("p",{className:"text-sm text-gray-400",children:C.nameAr})]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isActive?"bg-green-500/10 text-green-500":"bg-gray-500/10 text-gray-500"}`,children:C.isActive?"Active":"Inactive"})]}),C.description&&s.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:C.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Email:"}),s.jsx("span",{className:"text-white truncate",children:C.email})]}),C.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Phone:"}),s.jsx("span",{className:"text-white",children:C.phone})]}),C.website&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Oa,{className:"w-4 h-4 text-gray-400"}),s.jsx("a",{href:C.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline truncate",children:C.website.replace(/^https?:\/\//,"")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Commission:"}),s.jsx("div",{className:"flex items-center gap-1",children:C.commissionType==="PERCENTAGE"?s.jsxs(s.Fragment,{children:[s.jsx(MO,{className:"w-4 h-4 text-indigo-400"}),s.jsxs("span",{className:"text-white font-medium",children:[C.commissionValue,"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 text-indigo-400"}),s.jsxs("span",{className:"text-white font-medium",children:["$",C.commissionValue]})]})})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(C.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>k(C),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[s.jsx(La,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>N(C.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:s.jsx(_r,{className:"w-4 h-4"})})]})]},C.id)),S.length===0&&s.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:"No partners found"})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:c?"Edit Partner":"Add New Partner"}),s.jsxs("form",{onSubmit:c?v:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Logo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[g.logo?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:g.logo,alt:"Partner logo",className:"w-20 h-20 rounded-lg object-cover bg-slate-800"}),s.jsx("button",{type:"button",onClick:()=>x({...g,logo:""}),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(hr,{className:"w-3 h-3"})})]}):s.jsx("div",{onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:"w-20 h-20 rounded-lg bg-slate-800 border-2 border-dashed border-slate-700 flex flex-col items-center justify-center cursor-pointer hover:border-indigo-500 transition-colors",children:u?s.jsx(Ge,{className:"w-6 h-6 text-gray-400 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-6 h-6 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Upload"})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:w,className:"hidden"}),s.jsxs("button",{type:"button",onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},className:"flex items-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors text-sm",disabled:u,children:[s.jsx(Gn,{className:"w-4 h-4"}),u?"Uploading...":"Choose Image"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),s.jsx("input",{type:"url",value:g.logo,onChange:C=>x({...g,logo:C.target.value}),placeholder:"Or paste image URL...",className:"w-full mt-2 px-3 py-1.5 bg-slate-950 border border-slate-800 rounded text-white text-sm focus:outline-none focus:border-indigo-500"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Name *"}),s.jsx("input",{type:"text",value:g.name,onChange:C=>x({...g,name:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Partner Name (Arabic)"}),s.jsx("input",{type:"text",value:g.nameAr,onChange:C=>x({...g,nameAr:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:g.email,onChange:C=>x({...g,email:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:g.phone,onChange:C=>x({...g,phone:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Website URL"}),s.jsx("input",{type:"url",value:g.website,onChange:C=>x({...g,website:C.target.value}),placeholder:"https://example.com",className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),s.jsx("textarea",{value:g.description,onChange:C=>x({...g,description:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",rows:2,placeholder:"Partner description in English..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (Arabic)"}),s.jsx("textarea",{value:g.descriptionAr,onChange:C=>x({...g,descriptionAr:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",rows:2,dir:"rtl",placeholder:"  ..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Commission Type"}),s.jsxs("select",{value:g.commissionType,onChange:C=>x({...g,commissionType:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:[s.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),s.jsx("option",{value:"FIXED",children:"Fixed Amount ($)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Commission Value"}),s.jsx("input",{type:"number",value:g.commissionValue,onChange:C=>x({...g,commissionValue:parseFloat(C.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",min:"0",step:"0.01",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"AI Script (Optional)"}),s.jsx("textarea",{value:g.aiScript,onChange:C=>x({...g,aiScript:C.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500 font-mono text-sm",rows:3,placeholder:"Custom instructions for AI..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),j()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:c?"Update Partner":"Add Partner"})]})]})]})})]})}const Mxt=[{value:"MONTHLY",label:"Monthly",labelAr:""},{value:"YEARLY",label:"Yearly",labelAr:""},{value:"LIFETIME",label:"Lifetime",labelAr:" "}],Lxt=["Unlimited products","Advanced analytics","Priority support","Custom domain","API access","Multiple staff accounts","Email marketing","Chat support","White-label","Custom integrations"];function $xt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(null),{toast:u}=Rt(),[h,m]=f.useState({name:"",nameAr:"",description:"",descriptionAr:"",price:0,currency:"SAR",billingCycle:"MONTHLY",features:[],featuresAr:[],limits:{products:-1,orders:-1,storage:10,staff:5,customDomains:1},isActive:!0,isPopular:!1,sortOrder:0}),[p,g]=f.useState(""),[x,y]=f.useState(""),w=f.useCallback(async()=>{var T;try{a(!0);const _=await he.get("/admin/master/plans",{requireAuth:!0,adminApiKey:kr()}),O=(_==null?void 0:_.plans)||((T=_==null?void 0:_.data)==null?void 0:T.plans)||(Array.isArray(_)?_:[]);t(O)}catch(_){console.error("Failed to load plans:",_),u({title:"Error",description:(_==null?void 0:_.message)||"Failed to load plans",variant:"destructive"})}finally{a(!1)}},[u]);f.useEffect(()=>{w()},[w]);const b=()=>{m({name:"",nameAr:"",description:"",descriptionAr:"",price:0,currency:"SAR",billingCycle:"MONTHLY",features:[],featuresAr:[],limits:{products:-1,orders:-1,storage:10,staff:5,customDomains:1},isActive:!0,isPopular:!1,sortOrder:0}),g(""),y("")},v=async T=>{T.preventDefault();try{await he.post("/admin/master/plans",h,{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Plan created successfully"}),l(!1),b(),w()}catch{u({title:"Error",description:"Failed to create plan",variant:"destructive"})}},N=async T=>{if(T.preventDefault(),!!c)try{await he.put(`/admin/master/plans/${c.id}`,h,{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Plan updated successfully"}),l(!1),d(null),b(),w()}catch{u({title:"Error",description:"Failed to update plan",variant:"destructive"})}},j=async T=>{try{await he.patch(`/admin/master/plans/${T}/toggle`,{},{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Plan status updated"}),w()}catch{u({title:"Error",description:"Failed to update plan status",variant:"destructive"})}},k=async T=>{if(confirm("Are you sure you want to delete this plan?"))try{await he.delete(`/admin/master/plans/${T}`,{requireAuth:!0,adminApiKey:kr()}),u({title:"Success",description:"Plan deleted successfully"}),w()}catch{u({title:"Error",description:"Failed to delete plan",variant:"destructive"})}},S=()=>{p.trim()&&!h.features.includes(p.trim())&&(m({...h,features:[...h.features,p.trim()]}),g(""))},C=()=>{x.trim()&&!h.featuresAr.includes(x.trim())&&(m({...h,featuresAr:[...h.featuresAr,x.trim()]}),y(""))},A=T=>{m({...h,features:h.features.filter(_=>_!==T)})},E=T=>{m({...h,featuresAr:h.featuresAr.filter(_=>_!==T)})},D=T=>{switch(T.toLowerCase()){case"starter":return s.jsx(An,{className:"w-5 h-5"});case"professional":return s.jsx(v0,{className:"w-5 h-5"});case"enterprise":return s.jsx(Do,{className:"w-5 h-5"});default:return s.jsx(Wr,{className:"w-5 h-5"})}},P=e.filter(T=>T.name.toLowerCase().includes(n.toLowerCase())||(T.nameAr||"").includes(n));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Subscription Plans"}),s.jsx("p",{className:"text-gray-400",children:"Manage pricing plans and features"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg shadow-purple-500/20",children:[s.jsx(Gt,{className:"w-4 h-4"}),"Add Plan"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search plans...",value:n,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-purple-500"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[P.map(T=>{var _,O,F,I,R,L,H,W,M,G;return s.jsxs("div",{className:`relative bg-slate-900 border rounded-xl p-6 transition-all ${T.isPopular?"border-purple-500 shadow-lg shadow-purple-500/20":"border-slate-800 hover:border-slate-700"}`,children:[T.isPopular&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-xs font-semibold rounded-full",children:"Most Popular"}),s.jsxs("div",{className:"flex items-start justify-between mb-4 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${T.isActive?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"}`,children:D(T.name)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-lg",children:T.name}),T.nameAr&&s.jsx("p",{className:"text-sm text-gray-400",children:T.nameAr})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:T.isActive?s.jsx(ks,{className:"w-4 h-4 text-green-500"}):s.jsx(Cs,{className:"w-4 h-4 text-gray-500"})})]}),s.jsxs("div",{className:"mb-4",children:[Number(T.price)===0?s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl font-bold text-green-500",children:"Free"}),s.jsx("span",{className:"text-xs bg-green-500/10 text-green-500 px-2 py-0.5 rounded-full",children:"Forever"})]}):s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-3xl font-bold text-white",children:T.price}),s.jsx("span",{className:"text-gray-400",children:T.currency}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["/",T.billingCycle==="MONTHLY"?"month":T.billingCycle==="YEARLY"?"year":"lifetime"]})]}),T.description&&s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:T.description})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[(_=T.features)==null?void 0:_.slice(0,4).map((V,q)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(ks,{className:"w-3 h-3 text-green-500"}),V]},q)),T.features&&T.features.length>4&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+",T.features.length-4," more features"]})]}),s.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Products:"}),s.jsx("span",{className:"text-white ml-1",children:((O=T.limits)==null?void 0:O.products)===-1?"":((F=T.limits)==null?void 0:F.products)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Staff:"}),s.jsx("span",{className:"text-white ml-1",children:((I=T.limits)==null?void 0:I.staff)===-1?"":((R=T.limits)==null?void 0:R.staff)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Storage:"}),s.jsx("span",{className:"text-white ml-1",children:((L=T.limits)==null?void 0:L.storage)===-1?"":`${((H=T.limits)==null?void 0:H.storage)||0}GB`})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Domains:"}),s.jsx("span",{className:"text-white ml-1",children:((W=T.limits)==null?void 0:W.customDomains)===-1?"":((M=T.limits)==null?void 0:M.customDomains)||0})]})]}),((G=T._count)==null?void 0:G.tenants)!==void 0&&s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[T._count.tenants," active subscriptions"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>{var V,q,Y,U,Z;d(T),m({name:T.name,nameAr:T.nameAr||"",description:T.description||"",descriptionAr:T.descriptionAr||"",price:T.price,currency:T.currency,billingCycle:T.billingCycle,features:T.features||[],featuresAr:T.featuresAr||[],limits:{products:((V=T.limits)==null?void 0:V.products)??-1,orders:((q=T.limits)==null?void 0:q.orders)??-1,storage:((Y=T.limits)==null?void 0:Y.storage)??10,staff:((U=T.limits)==null?void 0:U.staff)??5,customDomains:((Z=T.limits)==null?void 0:Z.customDomains)??1},isActive:T.isActive,isPopular:T.isPopular,sortOrder:T.sortOrder})},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[s.jsx(La,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>j(T.id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg transition-colors ${T.isActive?"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20":"bg-green-500/10 text-green-500 hover:bg-green-500/20"}`,children:T.isActive?s.jsxs(s.Fragment,{children:[s.jsx(LO,{className:"w-4 h-4"}),"Disable"]}):s.jsxs(s.Fragment,{children:[s.jsx($O,{className:"w-4 h-4"}),"Enable"]})}),s.jsx("button",{onClick:()=>k(T.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:s.jsx(_r,{className:"w-4 h-4"})})]})]},T.id)}),P.length===0&&s.jsx("div",{className:"col-span-full p-8 text-center text-gray-400",children:"No plans found"})]}),(o||c)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:c?"Edit Plan":"Create New Plan"}),s.jsxs("form",{onSubmit:c?N:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Name (English)"}),s.jsx("input",{type:"text",value:h.name,onChange:T=>m({...h,name:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Name (Arabic)"}),s.jsx("input",{type:"text",value:h.nameAr,onChange:T=>m({...h,nameAr:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (English)"}),s.jsx("textarea",{value:h.description,onChange:T=>m({...h,description:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description (Arabic)"}),s.jsx("textarea",{value:h.descriptionAr,onChange:T=>m({...h,descriptionAr:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",rows:2,dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price"}),s.jsx("input",{type:"number",value:h.price,onChange:T=>m({...h,price:parseFloat(T.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Currency"}),s.jsxs("select",{value:h.currency,onChange:T=>m({...h,currency:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[s.jsx("option",{value:"SAR",children:"SAR - Saudi Riyal"}),s.jsx("option",{value:"USD",children:"USD - US Dollar"}),s.jsx("option",{value:"EUR",children:"EUR - Euro"}),s.jsx("option",{value:"AED",children:"AED - UAE Dirham"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Billing Cycle"}),s.jsx("select",{value:h.billingCycle,onChange:T=>m({...h,billingCycle:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:Mxt.map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Plan Limits (-1 for unlimited)"}),s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Products"}),s.jsx("input",{type:"number",value:h.limits.products,onChange:T=>m({...h,limits:{...h.limits,products:parseInt(T.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Orders"}),s.jsx("input",{type:"number",value:h.limits.orders,onChange:T=>m({...h,limits:{...h.limits,orders:parseInt(T.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Storage (GB)"}),s.jsx("input",{type:"number",value:h.limits.storage,onChange:T=>m({...h,limits:{...h.limits,storage:parseInt(T.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Staff"}),s.jsx("input",{type:"number",value:h.limits.staff,onChange:T=>m({...h,limits:{...h.limits,staff:parseInt(T.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Domains"}),s.jsx("input",{type:"number",value:h.limits.customDomains,onChange:T=>m({...h,limits:{...h.limits,customDomains:parseInt(T.target.value)}}),className:"w-full px-2 py-1 bg-slate-950 border border-slate-800 rounded text-white text-sm",min:"-1"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Features"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:p,onChange:T=>g(T.target.value),onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),S()),placeholder:"Add a feature...",className:"flex-1 px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"}),s.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Lxt.filter(T=>!h.features.includes(T)).slice(0,5).map(T=>s.jsxs("button",{type:"button",onClick:()=>m({...h,features:[...h.features,T]}),className:"px-2 py-1 text-xs bg-slate-800 text-gray-400 rounded hover:bg-slate-700",children:["+ ",T]},T))}),s.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.features.map((T,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded",children:[s.jsx("span",{className:"text-sm text-white",children:T}),s.jsx("button",{type:"button",onClick:()=>A(T),className:"text-red-400 hover:text-red-300",children:s.jsx(Cs,{className:"w-4 h-4"})})]},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Features (Arabic)"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:x,onChange:T=>y(T.target.value),onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),C()),placeholder:" ...",className:"flex-1 px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",dir:"rtl"}),s.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),s.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.featuresAr.map((T,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-800 rounded",children:[s.jsx("span",{className:"text-sm text-white",dir:"rtl",children:T}),s.jsx("button",{type:"button",onClick:()=>E(T),className:"text-red-400 hover:text-red-300",children:s.jsx(Cs,{className:"w-4 h-4"})})]},_))})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.isActive,onChange:T=>m({...h,isActive:T.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Active"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h.isPopular,onChange:T=>m({...h,isPopular:T.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Mark as Popular"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),b()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:c?"Update Plan":"Create Plan"})]})]})]})})]})}const jT=[{value:"core",label:"Core Features",icon:An},{value:"analytics",label:"Analytics",icon:Da},{value:"marketing",label:"Marketing",icon:Bo},{value:"integration",label:"Integrations",icon:Vh},{value:"support",label:"Support",icon:un},{value:"design",label:"Design",icon:Bc},{value:"security",label:"Security",icon:Ws}],NT=[{value:"FREE",label:"Free",color:"text-gray-400"},{value:"STARTER",label:"Starter",color:"text-blue-400"},{value:"PROFESSIONAL",label:"Professional",color:"text-purple-400"},{value:"ENTERPRISE",label:"Enterprise",color:"text-amber-400"}],cW=[{feature:"page_builder",displayName:"Page Builder",displayNameAr:" ",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Drag and drop page builder"},{feature:"ai_assistant",displayName:"AI Assistant",displayNameAr:" ",category:"core",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"AI-powered content generation"},{feature:"chat_support",displayName:"Live Chat Support",displayNameAr:" ",category:"support",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Real-time chat with customers"},{feature:"analytics_advanced",displayName:"Advanced Analytics",displayNameAr:" ",category:"analytics",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Detailed insights and reports"},{feature:"custom_domain",displayName:"Custom Domain",displayNameAr:" ",category:"core",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Use your own domain name"},{feature:"api_access",displayName:"API Access",displayNameAr:"  API",category:"integration",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"REST API for integrations"},{feature:"email_marketing",displayName:"Email Marketing",displayNameAr:" ",category:"marketing",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Send promotional emails"},{feature:"seo_tools",displayName:"SEO Tools",displayNameAr:" SEO",category:"marketing",requiredPlan:"FREE",isGlobal:!0,isEnabled:!0,description:"Basic SEO optimization"},{feature:"multiple_staff",displayName:"Team Members",displayNameAr:" ",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,description:"Add multiple staff accounts"},{feature:"white_label",displayName:"White Label",displayNameAr:" ",category:"design",requiredPlan:"ENTERPRISE",isGlobal:!0,isEnabled:!0,description:"Remove platform branding"},{feature:"webhooks",displayName:"Webhooks",displayNameAr:" ",category:"integration",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"Real-time event notifications"},{feature:"priority_support",displayName:"Priority Support",displayNameAr:" ",category:"support",requiredPlan:"PROFESSIONAL",isGlobal:!0,isEnabled:!0,description:"24/7 priority assistance"}];function Bxt(){const[e,t]=f.useState([]),[r,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState("all"),[u,h]=f.useState(!1),[m,p]=f.useState(!1),[g,x]=f.useState(null),[y,w]=f.useState("features"),{toast:b}=Rt(),[v,N]=f.useState({feature:"",displayName:"",displayNameAr:"",description:"",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,config:{}}),[j,k]=f.useState({tenantId:"",feature:"",enabled:!0,expiresAt:""});f.useEffect(()=>{S(),C()},[]);const S=async()=>{try{i(!0);const R=await he.get("/admin/master/features",{requireAuth:!0,adminApiKey:kr()});t(R.data||R.features||cW.map((L,H)=>({...L,id:`feature-${H}`,createdAt:new Date().toISOString()})))}catch(R){console.error("Failed to load features:",R),t(cW.map((L,H)=>({...L,id:`feature-${H}`,createdAt:new Date().toISOString()})))}finally{i(!1)}},C=async()=>{try{const R=await he.get("/admin/master/feature-overrides",{requireAuth:!0,adminApiKey:kr()});a(R.data||R.overrides||[])}catch(R){console.error("Failed to load tenant features:",R),a([])}},A=async R=>{var L,H;R.preventDefault();try{await he.post("/admin/master/features",v,{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:"Feature created successfully"}),h(!1),O(),S()}catch(W){b({variant:"destructive",title:" Error",description:((H=(L=W.response)==null?void 0:L.data)==null?void 0:H.message)||"Failed to create feature"})}},E=async R=>{var L,H;if(R.preventDefault(),!!g)try{await he.put(`/admin/master/features/${g.id}`,v,{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:"Feature updated successfully"}),x(null),S()}catch(W){b({variant:"destructive",title:" Error",description:((H=(L=W.response)==null?void 0:L.data)==null?void 0:H.message)||"Failed to update feature"})}},D=async R=>{var L,H;try{await he.post(`/admin/master/features/${R}/toggle`,{},{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:"Feature status updated"}),S()}catch(W){b({variant:"destructive",title:" Error",description:((H=(L=W.response)==null?void 0:L.data)==null?void 0:H.message)||"Failed to toggle feature"})}},P=async(R,L)=>{try{await he.put(`/admin/master/features/${R}`,{requiredPlan:L},{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:`Feature now requires ${L} plan`}),S()}catch{b({variant:"destructive",title:" Error",description:"Failed to update feature plan"})}},T=async R=>{var L,H;R.preventDefault();try{await he.post("/admin/master/feature-overrides",j,{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:"Feature override created"}),p(!1),k({tenantId:"",feature:"",enabled:!0,expiresAt:""}),C()}catch(W){b({variant:"destructive",title:" Error",description:((H=(L=W.response)==null?void 0:L.data)==null?void 0:H.message)||"Failed to create override"})}},_=async R=>{if(confirm("Remove this feature override?"))try{await he.delete(`/admin/master/feature-overrides/${R}`,{requireAuth:!0,adminApiKey:kr()}),b({title:" Success",description:"Override removed"}),C()}catch{b({variant:"destructive",title:" Error",description:"Failed to remove override"})}},O=()=>{N({feature:"",displayName:"",displayNameAr:"",description:"",category:"core",requiredPlan:"STARTER",isGlobal:!0,isEnabled:!0,config:{}})},F=R=>{const L=jT.find(W=>W.value===R),H=(L==null?void 0:L.icon)||vs;return s.jsx(H,{className:"w-4 h-4"})},I=e.filter(R=>(c==="all"||R.category===c)&&(R.displayName.toLowerCase().includes(o.toLowerCase())||R.feature.toLowerCase().includes(o.toLowerCase())||(R.displayNameAr||"").includes(o)));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Feature Control"}),s.jsx("p",{className:"text-gray-400",children:"Control which features are free or require a plan"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[s.jsx(EL,{className:"w-4 h-4"}),"Grant Feature"]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg shadow-indigo-500/20",children:[s.jsx(Gt,{className:"w-4 h-4"}),"Add Feature"]})]})]}),s.jsxs("div",{className:"flex gap-2 bg-slate-900 p-1 rounded-lg w-fit",children:[s.jsx("button",{onClick:()=>w("features"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y==="features"?"bg-indigo-600 text-white":"text-gray-400 hover:text-white"}`,children:"Feature Configuration"}),s.jsxs("button",{onClick:()=>w("overrides"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y==="overrides"?"bg-indigo-600 text-white":"text-gray-400 hover:text-white"}`,children:["Tenant Overrides (",r.length,")"]})]}),y==="features"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search features...",value:o,onChange:R=>l(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500"})]}),s.jsxs("select",{value:c,onChange:R=>d(R.target.value),className:"px-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),jT.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-indigo-500"})}):s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-gray-400 text-sm",children:[s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Category"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Required Plan"}),s.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),s.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800",children:[I.map(R=>{var L;return s.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${R.isEnabled?"bg-indigo-500/10 text-indigo-500":"bg-gray-500/10 text-gray-500"}`,children:F(R.category)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:R.displayName}),R.displayNameAr&&s.jsx("div",{className:"text-sm text-gray-400",dir:"rtl",children:R.displayNameAr}),R.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R.description})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-2 py-1 bg-slate-800 text-gray-300 text-xs rounded capitalize",children:R.category})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("select",{value:R.requiredPlan,onChange:H=>P(R.id,H.target.value),className:`px-3 py-1 bg-slate-800 border border-slate-700 rounded text-sm font-medium ${(L=NT.find(H=>H.value===R.requiredPlan))==null?void 0:L.color}`,children:NT.map(H=>s.jsx("option",{value:H.value,children:H.label},H.value))})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("button",{onClick:()=>D(R.id),className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${R.isEnabled?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:R.isEnabled?s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-3 h-3"}),"Enabled"]}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"w-3 h-3"}),"Disabled"]})})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>{x(R),N({feature:R.feature,displayName:R.displayName,displayNameAr:R.displayNameAr||"",description:R.description||"",category:R.category,requiredPlan:R.requiredPlan,isGlobal:R.isGlobal,isEnabled:R.isEnabled,config:R.config||{}})},className:"p-2 text-gray-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:s.jsx(La,{className:"w-4 h-4"})})})]},R.id)}),I.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No features found"})})]})]})})]}),y==="overrides"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(EL,{className:"w-5 h-5 text-amber-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-400",children:"Feature Overrides"}),s.jsx("p",{className:"text-sm text-amber-400/70 mt-1",children:"Override feature access for specific tenants. Grants or restricts access regardless of their plan."})]})]})}),s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-gray-400 text-sm",children:[s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Tenant"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Feature"}),s.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Expires"}),s.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800",children:[r.map(R=>s.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:R.tenantName||"Unknown"}),s.jsxs("div",{className:"text-sm text-gray-400",children:[R.tenantSubdomain,".saaah.com"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"font-medium text-gray-300",children:R.feature})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${R.enabled?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:R.enabled?"Granted":"Restricted"})}),s.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:R.expiresAt?new Date(R.expiresAt).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{onClick:()=>_(R.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(_r,{className:"w-4 h-4"})})})]},R.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No feature overrides configured"})})]})]})})]}),(u||g)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:g?"Edit Feature":"Add New Feature"}),s.jsxs("form",{onSubmit:g?E:A,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature Key"}),s.jsx("input",{type:"text",value:v.feature,onChange:R=>N({...v,feature:R.target.value.toLowerCase().replace(/\s+/g,"_")}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",placeholder:"e.g., ai_assistant",required:!0,disabled:!!g})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),s.jsx("select",{value:v.category,onChange:R=>N({...v,category:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",children:jT.map(R=>s.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name (English)"}),s.jsx("input",{type:"text",value:v.displayName,onChange:R=>N({...v,displayName:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Display Name (Arabic)"}),s.jsx("input",{type:"text",value:v.displayNameAr,onChange:R=>N({...v,displayNameAr:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",dir:"rtl"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:v.description,onChange:R=>N({...v,description:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-indigo-500",placeholder:"Brief description of the feature"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Required Plan"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:NT.map(R=>s.jsx("button",{type:"button",onClick:()=>N({...v,requiredPlan:R.value}),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${v.requiredPlan===R.value?"bg-indigo-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:R.label},R.value))})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v.isEnabled,onChange:R=>N({...v,isEnabled:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Enabled"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v.isGlobal,onChange:R=>N({...v,isGlobal:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Global (applies to all tenants)"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),x(null),O()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all",children:g?"Update":"Create"})]})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Grant Feature Access"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Tenant ID"}),s.jsx("input",{type:"text",value:j.tenantId,onChange:R=>k({...j,tenantId:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500",placeholder:"Enter tenant ID",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature"}),s.jsxs("select",{value:j.feature,onChange:R=>k({...j,feature:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a feature"}),e.map(R=>s.jsx("option",{value:R.feature,children:R.displayName},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Expires At (optional)"}),s.jsx("input",{type:"date",value:j.expiresAt,onChange:R=>k({...j,expiresAt:R.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-amber-500"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j.enabled,onChange:R=>k({...j,enabled:R.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-amber-600 focus:ring-amber-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Grant Access (uncheck to restrict)"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),k({tenantId:"",feature:"",enabled:!0,expiresAt:""})},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Grant Access"})]})]})]})})]})}const tN=[{value:"PLAN_UPGRADE",label:"Plan Upgrade",icon:v0,color:"text-amber-500",bg:"bg-amber-500/10"},{value:"FEATURE_ACCESS",label:"Feature Access",icon:An,color:"text-purple-500",bg:"bg-purple-500/10"},{value:"CREDIT",label:"Account Credit",icon:pn,color:"text-green-500",bg:"bg-green-500/10"},{value:"EXTENSION",label:"Plan Extension",icon:ji,color:"text-blue-500",bg:"bg-blue-500/10"},{value:"TRIAL",label:"Extended Trial",icon:fo,color:"text-cyan-500",bg:"bg-cyan-500/10"}],Uxt=["ai_assistant","page_builder","chat_support","analytics_advanced","custom_domain","api_access","email_marketing","multiple_staff","white_label","webhooks","priority_support"],Vxt=[{value:"STARTER",label:"Starter"},{value:"PROFESSIONAL",label:"Professional"},{value:"ENTERPRISE",label:"Enterprise"}];function zxt(){const[e,t]=f.useState([]),[r,a]=f.useState([]),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,p]=f.useState("PLAN_UPGRADE"),[g,x]=f.useState("tenant"),{toast:y}=Rt(),[w,b]=f.useState({targetId:"",giftType:"PLAN_UPGRADE",giftValue:"PROFESSIONAL",duration:30,creditAmount:100,feature:"ai_assistant",message:"",sendNotification:!0});f.useEffect(()=>{v(),N(),j()},[]);const v=async()=>{try{l(!0);const T=await he.get("/admin/master/gifts",{requireAuth:!0,adminApiKey:kr()});t(T.data||T.gifts||[])}catch(T){console.error("Failed to load gifts:",T),t([])}finally{l(!1)}},N=async()=>{try{const T=await he.get("/admin/master/users?limit=100",{requireAuth:!0,adminApiKey:kr()});a(T.data||T.users||[])}catch(T){console.error("Failed to load users:",T),a([])}},j=async()=>{var T;try{const _=await he.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:kr()});i(((T=_.data)==null?void 0:T.tenants)||_.tenants||[])}catch(_){console.error("Failed to load tenants:",_),i([])}},k=async T=>{var O,F;T.preventDefault();const _={targetType:g,targetId:w.targetId,giftType:m,giftValue:m==="CREDIT"?w.creditAmount.toString():m==="FEATURE_ACCESS"?w.feature:w.giftValue,duration:w.duration,message:w.message,sendNotification:w.sendNotification};try{await he.post("/admin/master/gifts",_,{requireAuth:!0,adminApiKey:kr()}),y({title:" Gift Granted!",description:"The gift has been successfully granted"}),h(!1),C(),v()}catch(I){y({variant:"destructive",title:" Error",description:((F=(O=I.response)==null?void 0:O.data)==null?void 0:F.message)||"Failed to grant gift"})}},S=async T=>{var _,O;if(confirm("Are you sure you want to revoke this gift?"))try{await he.post(`/admin/master/gifts/${T}/revoke`,{},{requireAuth:!0,adminApiKey:kr()}),y({title:" Success",description:"Gift has been revoked"}),v()}catch(F){y({variant:"destructive",title:" Error",description:((O=(_=F.response)==null?void 0:_.data)==null?void 0:O.message)||"Failed to revoke gift"})}},C=()=>{b({targetId:"",giftType:"PLAN_UPGRADE",giftValue:"PROFESSIONAL",duration:30,creditAmount:100,feature:"ai_assistant",message:"",sendNotification:!0}),p("PLAN_UPGRADE"),x("tenant")},A=T=>tN.find(_=>_.value===T)||tN[0],E=T=>{switch(T){case"ACTIVE":return"bg-green-500/10 text-green-500";case"EXPIRED":return"bg-gray-500/10 text-gray-500";case"REVOKED":return"bg-red-500/10 text-red-500";case"USED":return"bg-blue-500/10 text-blue-500";default:return"bg-gray-500/10 text-gray-500"}},D=e.filter(T=>{var _,O;return(((_=T.user)==null?void 0:_.email)||"").toLowerCase().includes(c.toLowerCase())||(((O=T.tenant)==null?void 0:O.name)||"").toLowerCase().includes(c.toLowerCase())||T.giftType.toLowerCase().includes(c.toLowerCase())}),P={total:e.length,active:e.filter(T=>T.status==="ACTIVE").length,planUpgrades:e.filter(T=>T.giftType==="PLAN_UPGRADE").length,featureGrants:e.filter(T=>T.giftType==="FEATURE_ACCESS").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"User Gifts & Rewards"}),s.jsx("p",{className:"text-gray-400",children:"Grant gifts, upgrades, and free access to users"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg hover:from-pink-700 hover:to-rose-700 transition-all shadow-lg shadow-pink-500/20",children:[s.jsx(kh,{className:"w-4 h-4"}),"Grant Gift"]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:s.jsx(kh,{className:"w-5 h-5 text-pink-500"})}),s.jsx("span",{className:"text-2xl font-bold text-white",children:P.total})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Total Gifts"})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(ks,{className:"w-5 h-5 text-green-500"})}),s.jsx("span",{className:"text-2xl font-bold text-white",children:P.active})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Active Gifts"})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:s.jsx(v0,{className:"w-5 h-5 text-amber-500"})}),s.jsx("span",{className:"text-2xl font-bold text-white",children:P.planUpgrades})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Plan Upgrades"})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(An,{className:"w-5 h-5 text-purple-500"})}),s.jsx("span",{className:"text-2xl font-bold text-white",children:P.featureGrants})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Feature Grants"})]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:tN.map(T=>{const _=T.icon;return s.jsxs("button",{onClick:()=>{p(T.value),h(!0)},className:`flex items-center gap-2 px-4 py-2 ${T.bg} ${T.color} rounded-lg hover:opacity-80 transition-opacity`,children:[s.jsx(_,{className:"w-4 h-4"}),"Grant ",T.label]},T.value)})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search gifts...",value:c,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500"})]}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-800 text-gray-300 rounded-lg hover:bg-slate-700 transition-colors",children:s.jsx(Xl,{className:"w-4 h-4"})})]}),o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-pink-500"})}):s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-950",children:s.jsxs("tr",{className:"text-gray-400 text-sm",children:[s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Recipient"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Gift Type"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Value"}),s.jsx("th",{className:"text-center px-6 py-4 font-medium",children:"Status"}),s.jsx("th",{className:"text-left px-6 py-4 font-medium",children:"Expires"}),s.jsx("th",{className:"text-right px-6 py-4 font-medium",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-800",children:[D.map(T=>{var F,I,R;const _=A(T.giftType),O=_.icon;return s.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-slate-800 rounded-full",children:T.tenantId?s.jsx(Ws,{className:"w-4 h-4 text-blue-400"}):s.jsx(mr,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:((F=T.tenant)==null?void 0:F.name)||((I=T.user)==null?void 0:I.name)||((R=T.user)==null?void 0:R.email)||"Unknown"}),T.tenant&&s.jsxs("div",{className:"text-sm text-gray-400",children:[T.tenant.subdomain,".saaah.com"]}),T.user&&!T.tenant&&s.jsx("div",{className:"text-sm text-gray-400",children:T.user.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg ${_.bg} ${_.color}`,children:[s.jsx(O,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:_.label})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("span",{className:"text-white font-medium",children:T.giftValue}),T.message&&typeof T.message=="string"&&s.jsx("p",{className:"text-xs text-gray-400 mt-1 max-w-[200px] truncate",children:T.message})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${E(T.status)}`,children:[T.status==="ACTIVE"&&s.jsx(ks,{className:"w-3 h-3"}),T.status==="EXPIRED"&&s.jsx(fo,{className:"w-3 h-3"}),T.status==="REVOKED"&&s.jsx(Cs,{className:"w-3 h-3"}),T.status]})}),s.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:T.expiresAt?new Date(T.expiresAt).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-6 py-4 text-right",children:T.status==="ACTIVE"&&s.jsx("button",{onClick:()=>S(T.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",title:"Revoke gift",children:s.jsx(_r,{className:"w-4 h-4"})})})]},T.id)}),D.length===0&&s.jsx("tr",{children:s.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:[s.jsx(kh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No gifts found"}),s.jsx("p",{className:"text-sm mt-1",children:"Start granting gifts to your users!"})]})})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-pink-500/10 rounded-lg",children:s.jsx(kh,{className:"w-6 h-6 text-pink-500"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Grant Gift"})]}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Gift Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:tN.map(T=>{const _=T.icon;return s.jsxs("button",{type:"button",onClick:()=>p(T.value),className:`flex items-center gap-2 p-3 rounded-lg border-2 transition-all ${m===T.value?`${T.bg} border-current ${T.color}`:"bg-slate-800 border-transparent text-gray-400 hover:bg-slate-700"}`,children:[s.jsx(_,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:T.label})]},T.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Grant To"}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs("button",{type:"button",onClick:()=>x("tenant"),className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg ${g==="tenant"?"bg-blue-500/10 text-blue-500 border border-blue-500/50":"bg-slate-800 text-gray-400"}`,children:[s.jsx(Ws,{className:"w-4 h-4"}),"Tenant (Store)"]}),s.jsxs("button",{type:"button",onClick:()=>x("user"),className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg ${g==="user"?"bg-blue-500/10 text-blue-500 border border-blue-500/50":"bg-slate-800 text-gray-400"}`,children:[s.jsx(mr,{className:"w-4 h-4"}),"User"]})]}),s.jsxs("select",{value:w.targetId,onChange:T=>b({...w,targetId:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",required:!0,children:[s.jsxs("option",{value:"",children:["Select ",g==="tenant"?"a tenant":"a user","..."]}),g==="tenant"?n.map(T=>s.jsxs("option",{value:T.id,children:[T.name," (",T.subdomain,") - ",T.plan]},T.id)):r.map(T=>s.jsxs("option",{value:T.id,children:[T.name||T.email," - ",T.role]},T.id))]})]}),m==="PLAN_UPGRADE"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Upgrade to Plan"}),s.jsx("select",{value:w.giftValue,onChange:T=>b({...w,giftValue:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",children:Vxt.map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})]}),m==="FEATURE_ACCESS"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Feature to Grant"}),s.jsx("select",{value:w.feature,onChange:T=>b({...w,feature:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",children:Uxt.map(T=>s.jsx("option",{value:T,children:T.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase())},T))})]}),m==="CREDIT"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Credit Amount (SAR)"}),s.jsx("input",{type:"number",value:w.creditAmount,onChange:T=>b({...w,creditAmount:parseFloat(T.target.value)||0}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",min:"0",step:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Duration (days)"}),s.jsxs("div",{className:"flex gap-2",children:[[7,14,30,60,90,365].map(T=>s.jsxs("button",{type:"button",onClick:()=>b({...w,duration:T}),className:`px-3 py-1 rounded-lg text-sm ${w.duration===T?"bg-pink-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:[T,"d"]},T)),s.jsx("button",{type:"button",onClick:()=>b({...w,duration:-1}),className:`px-3 py-1 rounded-lg text-sm ${w.duration===-1?"bg-pink-600 text-white":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:"Forever"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Personal Message (optional)"}),s.jsx("textarea",{value:w.message,onChange:T=>b({...w,message:T.target.value}),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-pink-500",rows:2,placeholder:"Thank you for being a valued customer!"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w.sendNotification,onChange:T=>b({...w,sendNotification:T.target.checked}),className:"w-4 h-4 rounded bg-slate-800 border-slate-700 text-pink-600 focus:ring-pink-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:"Send email notification to recipient"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),C()},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-pink-600 to-rose-600 text-white rounded-lg hover:from-pink-700 hover:to-rose-700 transition-all",children:[s.jsx(yp,{className:"w-4 h-4"}),"Grant Gift"]})]})]})]})})]})}function Wxt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState(null),[c,d]=f.useState(1),[u,h]=f.useState(!1),{toast:m}=Rt(),p=f.useCallback(async()=>{try{a(!0);const w=await el.get("/users",{requireAuth:!0,adminApiKey:kr()});t(w.users||[])}catch{m({variant:"destructive",title:"Error",description:"Failed to load users"})}finally{a(!1)}},[m]);f.useEffect(()=>{p()},[p]);const g=w=>{l(w),d(w.marketLimit||1),h(!0)},x=async()=>{var w,b;if(o){if(c<1){m({variant:"destructive",title:"Error",description:"Market limit must be at least 1"});return}try{await el.put(`/users/${o.id}/market-limit`,{limit:c},{requireAuth:!0,adminApiKey:kr()}),m({title:"Success",description:"Market limit updated successfully"}),h(!1),l(null),p()}catch(v){m({variant:"destructive",title:"Error",description:((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to update market limit"})}}},y=e.filter(w=>{var b;return w.email.toLowerCase().includes(n.toLowerCase())||((b=w.name)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))});return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage user market limits"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:"Search users by email or name...",value:n,onChange:w=>i(w.target.value),className:"max-w-sm"})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{children:"Email"}),s.jsx(Ee,{children:"Name"}),s.jsx(Ee,{children:"Role"}),s.jsx(Ee,{children:"Current Market"}),s.jsx(Ee,{children:"Market Limit"}),s.jsx(Ee,{children:"Actions"})]})}),s.jsx(ss,{children:y.length===0?s.jsx(jt,{children:s.jsx(ke,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):y.map(w=>s.jsxs(jt,{children:[s.jsx(ke,{className:"font-medium",children:w.email}),s.jsx(ke,{children:w.name||"-"}),s.jsx(ke,{children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:w.role})}),s.jsx(ke,{children:w.tenant?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{className:"h-4 w-4"}),s.jsx("span",{children:w.tenant.name})]}):s.jsx("span",{className:"text-muted-foreground",children:"No market"})}),s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:w.marketLimit||1}),w.currentMarkets!==void 0&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",w.currentMarkets," used)"]})]})}),s.jsx(ke,{children:s.jsxs(z,{variant:"outline",size:"sm",onClick:()=>g(w),children:[s.jsx(La,{className:"h-4 w-4 mr-2"}),"Edit Limit"]})})]},w.id))})]})}),s.jsx(Qt,{open:u,onOpenChange:h,children:s.jsxs(Yt,{children:[s.jsxs(tr,{children:[s.jsx(rr,{children:"Edit Market Limit"}),s.jsx(ur,{children:"Set the maximum number of markets this user can create."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"limit",children:"Market Limit"}),s.jsx(me,{id:"limit",type:"number",min:"1",value:c,onChange:w=>d(parseInt(w.target.value)||1)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum number of markets this user can create"})]}),o&&o.currentMarkets!==void 0&&s.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-md flex items-start gap-2",children:[s.jsx(Us,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Current Usage"}),s.jsxs("p",{className:"text-yellow-700 dark:text-yellow-300",children:["User currently has ",o.currentMarkets," market(s).",o.currentMarkets>c&&s.jsx("span",{className:"font-semibold",children:" Setting limit below current usage may cause issues."})]})]})]})]}),s.jsxs(Vr,{children:[s.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(z,{onClick:x,children:"Update Limit"})]})]})})]})}function Hxt(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(""),[p,g]=f.useState({}),[x,y]=f.useState(!1),[w,b]=f.useState(""),[v,N]=f.useState({name:""}),j=f.useCallback(async()=>{var O,F;try{y(!0);const I=await he.get("/admin/master/api-keys",{requireAuth:!0,adminApiKey:kr()}),R=Array.isArray(I)?I:(I==null?void 0:I.apiKeys)||[];r(R)}catch(I){console.error("Failed to load API keys:",I),e({variant:"destructive",title:"Error",description:((F=(O=I.response)==null?void 0:O.data)==null?void 0:F.message)||"Failed to load API keys"}),r([])}finally{y(!1)}},[e]);f.useEffect(()=>{j()},[j]);const k=async O=>{var F,I;if(O.preventDefault(),!v.name||!v.name.trim()){e({variant:"destructive",title:"Error",description:"Please enter an API key name"});return}y(!0);try{if(l){const R=encodeURIComponent(l.id);await he.put(`/admin/master/api-keys/${R}`,{name:v.name},{requireAuth:!0,adminApiKey:kr()}),e({title:"Success",description:"API key updated successfully"})}else{const R=await he.post("/admin/master/api-keys",{name:v.name.trim()},{requireAuth:!0,adminApiKey:kr()});m(R.apiKey),o(!0),u(null),e({title:"Success",description:"API key created successfully. Please copy it now - it will not be shown again!"})}n(!1),P(),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(F=R.response)==null?void 0:F.data)==null?void 0:I.message)||"Failed to save API key"})}finally{y(!1)}},S=O=>{c(O),N({name:O.name}),n(!0)},C=async O=>{var F,I;if(confirm("Are you sure you want to delete this API key? Any application using it will lose access to the API."))try{const R=encodeURIComponent(O);await he.delete(`/admin/master/api-keys/${R}`,{requireAuth:!0,adminApiKey:kr()}),e({title:"Success",description:"API key deleted successfully"}),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(F=R.response)==null?void 0:F.data)==null?void 0:I.message)||"Failed to delete API key"})}},A=async O=>{var F,I;try{const R=encodeURIComponent(O.id);await he.put(`/admin/master/api-keys/${R}`,{isActive:!O.isActive},{requireAuth:!0,adminApiKey:kr()}),e({title:"Success",description:O.isActive?"API key disabled":"API key enabled"}),j()}catch(R){e({variant:"destructive",title:"Error",description:((I=(F=R.response)==null?void 0:F.data)==null?void 0:I.message)||"Failed to update API key"})}},E=async()=>{var O,F;if(d&&confirm("Are you sure you want to regenerate this API key? The old key will be invalidated and will no longer work.")){y(!0);try{const I=encodeURIComponent(d.id),R=await he.post(`/admin/master/api-keys/${I}/regenerate`,{},{requireAuth:!0,adminApiKey:kr()});m(R.apiKey),o(!0),e({title:"Success",description:"API key regenerated successfully. Please copy it now - it will not be shown again!"}),j()}catch(I){e({variant:"destructive",title:"Error",description:((F=(O=I.response)==null?void 0:O.data)==null?void 0:F.message)||"Failed to regenerate API key"})}finally{y(!1)}}},D=O=>{navigator.clipboard.writeText(O),e({title:"Copied",description:"API key copied to clipboard"})},P=()=>{N({name:""}),c(null),u(null),m("")},T=O=>O?new Date(O).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never used",_=t.filter(O=>{if(w){const F=w.toLowerCase();return O.name.toLowerCase().includes(F)}return!0});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"API Key Management"}),s.jsx("p",{className:"text-gray-400",children:"Create and manage API keys to track usage of your APIs. Users can use these keys to authenticate their requests."})]}),s.jsxs(z,{onClick:()=>n(!0),className:"bg-violet-600 hover:bg-violet-700",children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Create API Key"]})]}),s.jsxs(yi,{className:"bg-gray-800/50 border-gray-700",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsxs(bi,{className:"text-gray-300",children:["Use API keys to authenticate API requests from external applications like websites or mobile apps. Add the key in the request header as ",s.jsx("code",{className:"px-1 py-0.5 bg-gray-700 rounded",children:"X-API-Key"}),". You can track which clients are using your APIs based on the API key name."]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(me,{placeholder:"Search by name...",value:w,onChange:O=>b(O.target.value),className:"pl-10 bg-gray-800/50 border-gray-700 text-white"})]})}),s.jsx("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-gray-700 rounded-xl overflow-hidden",children:x&&t.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-violet-500"})}):_.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(du,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"No API keys found"}),s.jsxs(z,{onClick:()=>n(!0),className:"mt-4 bg-violet-600 hover:bg-violet-700",children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Create First API Key"]})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{className:"border-gray-700",children:[s.jsx(Ee,{className:"text-gray-300",children:"Name"}),s.jsx(Ee,{className:"text-gray-300",children:"Status"}),s.jsx(Ee,{className:"text-gray-300",children:"Last Used"}),s.jsx(Ee,{className:"text-gray-300",children:"Created"}),s.jsx(Ee,{className:"text-right text-gray-300",children:"Actions"})]})}),s.jsx(ss,{children:_.map(O=>s.jsxs(jt,{className:"border-gray-700 hover:bg-gray-800/50",children:[s.jsx(ke,{className:"font-medium text-white",children:O.name}),s.jsx(ke,{children:s.jsx(Ze,{variant:O.isActive?"default":"secondary",className:O.isActive?"bg-green-600":"bg-gray-600",children:O.isActive?s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"mr-1 h-3 w-3"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"mr-1 h-3 w-3"}),"Inactive"]})})}),s.jsx(ke,{className:"text-gray-400",children:T(O.lastUsedAt)}),s.jsx(ke,{className:"text-gray-400",children:T(O.createdAt)}),s.jsx(ke,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>A(O),className:"text-gray-400 hover:text-white",children:O.isActive?"Disable":"Enable"}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{u(O),E()},className:"text-gray-400 hover:text-white",children:s.jsx(Xl,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>S(O),className:"text-gray-400 hover:text-white",children:s.jsx(La,{className:"h-4 w-4"})}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>C(O.id),className:"text-red-400 hover:text-red-300",children:s.jsx(_r,{className:"h-4 w-4"})})]})})]},O.id))})]})}),s.jsx(Qt,{open:a,onOpenChange:n,children:s.jsxs(Yt,{className:"bg-gray-800 border-gray-700",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-white",children:l?"Edit API Key":"Create New API Key"}),s.jsx(ur,{className:"text-gray-400",children:l?"Update the API key name":"Enter a descriptive name for the API key. The key will be auto-generated and you can copy it."})]}),s.jsxs("form",{onSubmit:k,children:[s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{htmlFor:"name",className:"text-gray-300",children:"API Key Name"}),s.jsx(me,{id:"name",placeholder:"e.g., Saeaa Website, Edara Mobile App, Mobile Client",value:v.name,onChange:O=>N({...v,name:O.target.value}),required:!0,className:"bg-gray-700 border-gray-600 text-white"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Enter a descriptive name to identify which client or application will use this API key"})]})}),s.jsxs(Vr,{children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-gray-600 text-gray-300",children:"Cancel"}),s.jsx(z,{type:"submit",disabled:x,className:"bg-violet-600 hover:bg-violet-700",children:x?"Saving...":l?"Update":"Create"})]})]})]})}),s.jsx(Qt,{open:i,onOpenChange:o,children:s.jsxs(Yt,{className:"bg-gray-800 border-gray-700",children:[s.jsxs(tr,{children:[s.jsx(rr,{className:"text-white",children:d?"API Key Regenerated":"API Key Created"}),s.jsx(ur,{className:"text-gray-400",children:s.jsxs(yi,{className:"mt-4 bg-yellow-900/20 border-yellow-700",children:[s.jsx(Us,{className:"h-4 w-4 text-yellow-500"}),s.jsxs(bi,{className:"text-yellow-200",children:[s.jsx("strong",{children:"Important:"})," Please copy the API key now. It will not be shown again after closing this dialog."]})]})})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{className:"text-gray-300",children:"API Key"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{type:p.new?"text":"password",value:h,readOnly:!0,className:"font-mono text-sm bg-gray-700 border-gray-600 text-white"}),s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>g({...p,new:!p.new}),className:"border-gray-600",children:p.new?s.jsx(Wl,{className:"h-4 w-4"}):s.jsx(fr,{className:"h-4 w-4"})}),s.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>D(h),className:"border-gray-600",children:s.jsx($l,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"rounded-md bg-gray-700/50 p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Usage:"}),s.jsxs("code",{className:"text-xs block text-gray-400",children:["X-API-Key: ",h.substring(0,20),"..."]})]})]}),s.jsx(Vr,{children:s.jsx(z,{onClick:()=>o(!1),className:"bg-violet-600 hover:bg-violet-700",children:"I've Copied It"})})]})})]})}function qxt({adminApiKey:e}){const[t,r]=f.useState("about"),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState({titleAr:"",titleEn:"",contentAr:"",contentEn:""}),{toast:d}=Rt();f.useEffect(()=>{(async m=>{n(!0);try{const p=await he.get(`/public/pages/${m}`);p!=null&&p.content?c(p.content):c({titleAr:m==="about"?" ":m==="contact"?" ":" ",titleEn:m==="about"?"About Us":m==="contact"?"Contact Us":"Privacy Policy",contentAr:"",contentEn:""})}catch{d({variant:"destructive",title:"Error",description:"Failed to load page content"})}finally{n(!1)}})(t)},[t,d]);const u=async()=>{o(!0);try{await he.put(`/admin/master/pages/${t}`,l,{requireAuth:!0,adminApiKey:e}),d({title:"Success",description:"Page content updated successfully"})}catch{d({variant:"destructive",title:"Error",description:"Failed to update page content"})}finally{o(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Page Content"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage content for static pages (About, Contact, Privacy)"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(je,{className:"md:col-span-1",children:[s.jsxs(et,{children:[s.jsx(at,{children:"Pages"}),s.jsx(Vt,{children:"Select a page to edit"})]}),s.jsx(Ce,{className:"p-0",children:s.jsx("div",{className:"flex flex-col",children:[{id:"about",label:"About Us /  "},{id:"contact",label:"Contact /  "},{id:"privacy",label:"Privacy Policy /  "}].map(h=>s.jsxs("button",{onClick:()=>r(h.id),className:`flex items-center gap-3 px-6 py-4 text-sm font-medium transition-colors hover:bg-muted/50 text-left ${t===h.id?"bg-muted border-l-4 border-primary":"border-l-4 border-transparent"}`,children:[s.jsx(ua,{className:"h-4 w-4"}),h.label]},h.id))})})]}),s.jsxs(je,{className:"md:col-span-3",children:[s.jsx(et,{children:s.jsxs(at,{className:"capitalize",children:[t," Page Content"]})}),s.jsx(Ce,{children:a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs(Yn,{defaultValue:"ar",className:"space-y-4",children:[s.jsxs(_n,{children:[s.jsxs(Ar,{value:"ar",className:"gap-2",children:[s.jsx(Oa,{className:"h-4 w-4"}),"Arabic"]}),s.jsxs(Ar,{value:"en",className:"gap-2",children:[s.jsx(Oa,{className:"h-4 w-4"}),"English"]})]}),s.jsxs(ls,{value:"ar",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Page Title (Arabic)"}),s.jsx(me,{value:l.titleAr,onChange:h=>c({...l,titleAr:h.target.value}),dir:"rtl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Content (Arabic)"}),s.jsx(Fs,{value:l.contentAr,onChange:h=>c({...l,contentAr:h.target.value}),className:"min-h-[400px] font-mono",dir:"rtl",placeholder:"Enter HTML content here..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports HTML tags for formatting."})]})]}),s.jsxs(ls,{value:"en",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Page Title (English)"}),s.jsx(me,{value:l.titleEn,onChange:h=>c({...l,titleEn:h.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Content (English)"}),s.jsx(Fs,{value:l.contentEn,onChange:h=>c({...l,contentEn:h.target.value}),className:"min-h-[400px] font-mono",placeholder:"Enter HTML content here..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports HTML tags for formatting."})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs(z,{onClick:u,disabled:i,children:[i&&s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})})]})]})]})}function Gxt(){const[e,t]=f.useState(""),[r,a]=f.useState(!0),[n,i]=f.useState(!1),{toast:o}=Rt(),l=f.useCallback(async()=>{try{a(!0);const d=await he.get("/admin/master/ai-script",{requireAuth:!0,adminApiKey:kr()});t(d.script||"")}catch(d){console.error("Failed to load AI script:",d),o({variant:"destructive",title:"Error",description:"Failed to load AI script"})}finally{a(!1)}},[o]);f.useEffect(()=>{l()},[l]);const c=async()=>{try{i(!0),await he.post("/admin/master/ai-script",{script:e},{requireAuth:!0,adminApiKey:kr()}),o({title:"Success",description:"AI script updated successfully"})}catch(d){console.error("Failed to save AI script:",d),o({variant:"destructive",title:"Error",description:"Failed to save AI script"})}finally{i(!1)}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-indigo-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"AI Assistant Settings"}),s.jsx("p",{className:"text-gray-400",children:"Configure the global behavior and knowledge base for the AI assistant"})]}),s.jsxs("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsx(Ha,{className:"w-4 h-4"}),"Save Changes"]})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-lg",children:s.jsx(cu,{className:"w-6 h-6 text-indigo-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Global Training Script"}),s.jsx("p",{className:"text-sm text-gray-400",children:"This script will be injected into the system prompt for all AI interactions across the platform. Use this to define the AI's persona, general knowledge about Saeaa, and core policies."})]})]}),s.jsx("textarea",{value:e,onChange:d=>t(d.target.value),className:"w-full h-[500px] px-4 py-4 bg-slate-950 border border-slate-800 rounded-lg text-white font-mono text-sm focus:outline-none focus:border-indigo-500 resize-none",placeholder:"Enter system instructions here..."})]})]})}const dW=[{category:"Products",permissions:[{id:"product:create",label:"Create Products",description:"Create new products",icon:Tt},{id:"product:read",label:"View Products",description:"View product information",icon:fr},{id:"product:update",label:"Edit Products",description:"Modify existing products",icon:vs},{id:"product:delete",label:"Delete Products",description:"Remove products",icon:Cs},{id:"product:manage",label:"Manage Products",description:"Full product management",icon:Tt}]},{category:"Orders",permissions:[{id:"order:create",label:"Create Orders",description:"Create new orders",icon:Dr},{id:"order:read",label:"View Orders",description:"View order information",icon:fr},{id:"order:update",label:"Update Orders",description:"Modify existing orders",icon:vs},{id:"order:delete",label:"Delete Orders",description:"Remove orders",icon:Cs},{id:"order:manage",label:"Manage Orders",description:"Full order management",icon:Dr}]},{category:"Customers",permissions:[{id:"customer:create",label:"Create Customers",description:"Create new customer accounts",icon:mr},{id:"customer:read",label:"View Customers",description:"View customer information",icon:fr},{id:"customer:update",label:"Update Customers",description:"Modify customer data",icon:vs},{id:"customer:delete",label:"Delete Customers",description:"Remove customers",icon:Cs},{id:"customer:manage",label:"Manage Customers",description:"Full customer management",icon:mr}]},{category:"Inventory",permissions:[{id:"inventory:read",label:"View Inventory",description:"View stock levels",icon:fr},{id:"inventory:update",label:"Update Inventory",description:"Modify stock levels",icon:vs},{id:"inventory:manage",label:"Manage Inventory",description:"Full inventory control",icon:Tt}]},{category:"Analytics",permissions:[{id:"analytics:read",label:"View Analytics",description:"View reports and analytics",icon:Da},{id:"analytics:manage",label:"Manage Analytics",description:"Full analytics access",icon:Da}]},{category:"Settings",permissions:[{id:"settings:read",label:"View Settings",description:"View store settings",icon:fr},{id:"settings:update",label:"Update Settings",description:"Modify store settings",icon:vs}]}];function Kxt(){const[e,t]=f.useState([]),[r,a]=f.useState(null),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,p]=f.useState(null),[g,x]=f.useState([]),[y,w]=f.useState(!1),{toast:b}=Rt(),v=f.useCallback(async()=>{try{l(!0);const A=await he.get("/admin/master/tenants",{requireAuth:!0,adminApiKey:kr()});t(A.tenants||[])}catch(A){console.error("Failed to load tenants:",A),b({variant:"destructive",title:"Error",description:"Failed to load tenants"})}finally{l(!1)}},[b]),N=f.useCallback(async A=>{try{d(!0);const P=((await Q.fetch(`${Q.authUrl}/staff?tenantId=${A}&limit=100`,{requireAuth:!0,adminApiKey:kr()})).data||[]).map(T=>{var _;return{id:T.id,email:T.email,name:T.name,phone:T.phone,role:T.role,createdAt:T.createdAt,permissions:((_=T.staffPermissions)==null?void 0:_.map(O=>O.permission).filter(O=>!O.startsWith("employee:")))||[]}});i(P)}catch(E){console.error("Failed to load staff users:",E),b({variant:"destructive",title:"Error",description:"Failed to load staff users"})}finally{d(!1)}},[b]);f.useEffect(()=>{v()},[v]),f.useEffect(()=>{r?N(r):i([])},[r,N]);const j=A=>{p(A),x([...A.permissions])},k=A=>{g.includes(A)?x(g.filter(E=>E!==A)):x([...g,A])},S=async()=>{if(!(!m||!r))try{w(!0),await Q.fetch(`${Q.authUrl}/staff/${m.id}/permissions`,{method:"PUT",body:JSON.stringify({permissions:g,tenantId:r}),requireAuth:!0,adminApiKey:kr()}),b({title:"Success",description:"Permissions updated successfully"}),i(n.map(A=>A.id===m.id?{...A,permissions:g}:A)),p(null),x([])}catch(A){b({variant:"destructive",title:"Error",description:(A==null?void 0:A.message)||"Failed to update permissions"})}finally{w(!1)}},C=n.filter(A=>{var E;return A.email.toLowerCase().includes(u.toLowerCase())||((E=A.name)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))});return e.find(A=>A.id===r),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Employee Permissions Management"}),s.jsx("p",{className:"text-gray-400",children:"Manage what employees can see and access for each store"})]}),s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Select Store (Tenant)"}),s.jsxs("select",{value:r||"",onChange:A=>a(A.target.value||null),className:"w-full px-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",children:[s.jsx("option",{value:"",children:"-- Select a store --"}),e.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.subdomain,")"]},A.id))]})]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search employees...",value:u,onChange:A=>h(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-purple-500"})}):C.length===0?s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-8 text-center",children:[s.jsx(mr,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No employees found for this store"})]}):s.jsx("div",{className:"grid gap-4",children:C.map(A=>s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-full flex items-center justify-center",children:s.jsx(zO,{className:"w-6 h-6 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-white",children:A.name||A.email}),s.jsx("p",{className:"text-sm text-gray-400",children:A.email}),A.phone&&s.jsx("p",{className:"text-xs text-gray-500",children:A.phone})]})]}),s.jsxs("button",{onClick:()=>j(A),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(Ws,{className:"w-4 h-4"}),"Manage Permissions"]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Current Permissions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:A.permissions.length>0?A.permissions.map(E=>{const D=dW.flatMap(P=>P.permissions).find(P=>P.id===E);return s.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-400 rounded-full text-xs",children:(D==null?void 0:D.label)||E},E)}):s.jsx("span",{className:"text-gray-500 text-sm",children:"No permissions assigned"})})]})]},A.id))})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-2",children:["Manage Permissions for ",m.name||m.email]}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Select what this employee can see and access"}),s.jsx("div",{className:"space-y-6",children:dW.map(A=>s.jsxs("div",{className:"border border-slate-800 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:A.category}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:A.permissions.map(E=>{const D=g.includes(E.id),P=E.icon;return s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${D?"bg-purple-500/10 border-purple-500":"bg-slate-950 border-slate-800 hover:border-slate-700"}`,children:[s.jsx("input",{type:"checkbox",checked:D,onChange:()=>k(E.id),className:"mt-1 w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(P,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"font-medium text-white text-sm",children:E.label})]}),s.jsx("p",{className:"text-xs text-gray-400",children:E.description})]})]},E.id)})})]},A.category))}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-slate-800",children:[s.jsx("button",{onClick:()=>{p(null),x([])},className:"flex-1 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:S,disabled:y,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-4 h-4"}),"Save Permissions"]})})]})]})})]})}function Yxt(){const{toast:e}=Rt(),[t,r]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(!1),[l,c]=f.useState(""),[d,u]=f.useState(new Set),h=async()=>{try{n(!0);const y=await he.get("/admin/master/cloudinary-access",{requireAuth:!0,adminApiKey:Uf()});r(y.users||[])}catch(y){console.error("Failed to load users:",y),e({variant:"destructive",title:"Error",description:y.message||"Failed to load users"})}finally{n(!1)}};f.useEffect(()=>{h()},[]);const m=y=>{u(w=>{const b=new Set(w);return b.has(y)?b.delete(y):b.add(y),b})},p=async()=>{if(d.size===0){e({variant:"destructive",title:"No Selection",description:"Please select at least one user"});return}try{o(!0);const y=Array.from(d);await he.post("/admin/master/cloudinary-access",{userIds:y},{requireAuth:!0,adminApiKey:Uf()}),e({title:"Success",description:`Cloudinary access granted to ${y.length} user(s)`}),await h(),u(new Set)}catch(y){console.error("Failed to update Cloudinary access:",y),e({variant:"destructive",title:"Error",description:y.message||"Failed to update Cloudinary access"})}finally{o(!1)}},g=async y=>{try{o(!0),await he.delete("/admin/master/cloudinary-access",{requireAuth:!0,adminApiKey:Uf(),data:{userIds:[y]}}),e({title:"Success",description:"Cloudinary access revoked"}),await h()}catch(w){console.error("Failed to revoke Cloudinary access:",w),e({variant:"destructive",title:"Error",description:w.message||"Failed to revoke Cloudinary access"})}finally{o(!1)}},x=t.filter(y=>{var w;return y.email.toLowerCase().includes(l.toLowerCase())||((w=y.name)==null?void 0:w.toLowerCase().includes(l.toLowerCase()))});return a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-violet-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ik,{className:"w-6 h-6"}),"Cloudinary Access Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Select users who can see and use the Cloudinary button"})]}),d.size>0&&s.jsx(z,{onClick:p,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Grant Access (",d.size,")"]})})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(me,{placeholder:"Search users by email or name...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:"w-12",children:s.jsx(Ki,{checked:x.length>0&&x.every(y=>d.has(y.id)),onCheckedChange:y=>{u(y?new Set(x.map(w=>w.id)):new Set)}})}),s.jsx(Ee,{children:"Email"}),s.jsx(Ee,{children:"Name"}),s.jsx(Ee,{children:"Role"}),s.jsx(Ee,{children:"Cloudinary Access"}),s.jsx(Ee,{children:"Actions"})]})}),s.jsx(ss,{children:x.length===0?s.jsx(jt,{children:s.jsx(ke,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):x.map(y=>s.jsxs(jt,{children:[s.jsx(ke,{children:s.jsx(Ki,{checked:d.has(y.id),onCheckedChange:()=>m(y.id)})}),s.jsx(ke,{className:"font-medium",children:y.email}),s.jsx(ke,{children:y.name||"-"}),s.jsx(ke,{children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:y.role})}),s.jsx(ke,{children:y.hasCloudinaryAccess?s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(ks,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Granted"})]}):s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Not Granted"})]})}),s.jsx(ke,{children:y.hasCloudinaryAccess&&s.jsx(z,{variant:"destructive",size:"sm",onClick:()=>g(y.id),disabled:i,children:"Revoke"})})]},y.id))})]})})]})}function Xxt(){const[e,t]=f.useState([]),[r,a]=f.useState(!0),[n,i]=f.useState(""),[o,l]=f.useState("ALL"),[c,d]=f.useState(null),[u,h]=f.useState(""),[m,p]=f.useState(!1),{toast:g}=Rt(),x=f.useCallback(async()=>{try{a(!0);const k={};o!=="ALL"&&(k.status=o),n&&(k.search=n);const S=await he.get("/admin/master/complaints",{params:k,requireAuth:!0,adminApiKey:kr()});t(S.items||[])}catch(k){console.error("Failed to load complaints:",k),g({variant:"destructive",title:"Error",description:"Failed to load complaints"})}finally{a(!1)}},[g,o,n]);f.useEffect(()=>{x()},[x]);const y=async(k,S)=>{try{p(!0),await he.put(`/admin/master/complaints/${k}`,{status:S},{requireAuth:!0,adminApiKey:kr()}),g({title:"Success",description:"Status updated successfully"}),x(),(c==null?void 0:c.id)===k&&d({...c,status:S})}catch{g({variant:"destructive",title:"Error",description:"Failed to update status"})}finally{p(!1)}},w=async(k,S)=>{try{p(!0),await he.put(`/admin/master/complaints/${k}`,{priority:S},{requireAuth:!0,adminApiKey:kr()}),g({title:"Success",description:"Priority updated successfully"}),x(),(c==null?void 0:c.id)===k&&d({...c,priority:S})}catch{g({variant:"destructive",title:"Error",description:"Failed to update priority"})}finally{p(!1)}},b=async()=>{if(c)try{p(!0),await he.put(`/admin/master/complaints/${c.id}`,{aiResponse:u},{requireAuth:!0,adminApiKey:kr()}),g({title:"Success",description:"AI response saved"}),x(),d({...c,aiResponse:u})}catch{g({variant:"destructive",title:"Error",description:"Failed to save AI response"})}finally{p(!1)}},v=async k=>{if(confirm("Are you sure you want to delete this complaint?"))try{await he.delete(`/admin/master/complaints/${k}`,{requireAuth:!0,adminApiKey:kr()}),g({title:"Success",description:"Complaint deleted"}),x(),(c==null?void 0:c.id)===k&&d(null)}catch{g({variant:"destructive",title:"Error",description:"Failed to delete complaint"})}},N=k=>{switch(k){case"OPEN":return"text-blue-400 bg-blue-400/10";case"IN_PROGRESS":return"text-yellow-400 bg-yellow-400/10";case"WAITING_CUSTOMER":return"text-purple-400 bg-purple-400/10";case"RESOLVED":return"text-green-400 bg-green-400/10";case"CLOSED":return"text-gray-400 bg-gray-400/10";default:return"text-gray-400 bg-gray-400/10"}},j=k=>{switch(k){case"LOW":return"text-gray-400";case"MEDIUM":return"text-blue-400";case"HIGH":return"text-orange-400";case"URGENT":return"text-red-400";default:return"text-gray-400"}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[s.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-4 bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-slate-800 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-purple-500"}),"Complaints"]}),s.jsxs("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 rounded text-xs",children:[e.length," Total"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search complaints...",value:n,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-sm text-white focus:outline-none focus:border-purple-500"})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["ALL","OPEN","IN_PROGRESS","RESOLVED","CLOSED"].map(k=>s.jsx("button",{onClick:()=>l(k),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-colors ${o===k?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:k},k))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:r?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Ge,{className:"w-6 h-6 animate-spin text-purple-500"})}):e.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No complaints found"}):e.map(k=>s.jsxs("button",{onClick:()=>{d(k),h(k.aiResponse||"")},className:`w-full text-left p-3 rounded-lg border transition-all ${(c==null?void 0:c.id)===k.id?"bg-purple-600/10 border-purple-500/50":"bg-slate-800/30 border-slate-800 hover:border-slate-700"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${N(k.status)}`,children:k.status}),s.jsx("span",{className:"text-[10px] text-gray-500",children:new Date(k.createdAt).toLocaleDateString()})]}),s.jsx("h4",{className:"text-sm font-medium text-white line-clamp-1 mb-1",children:k.subject}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Gi,{className:"w-3 h-3"}),s.jsx("span",{className:"line-clamp-1",children:k.name})]})]},k.id))})]}),s.jsx("div",{className:"lg:col-span-2 bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:c.subject}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${N(c.status)}`,children:c.status})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Gi,{className:"w-4 h-4"}),c.name]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(la,{className:"w-4 h-4"}),c.email]}),c.phone&&s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Si,{className:"w-4 h-4"}),c.phone]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ji,{className:"w-4 h-4"}),new Date(c.createdAt).toLocaleString()]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>v(c.id),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",title:"Delete Complaint",children:s.jsx(_r,{className:"w-5 h-5"})})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[s.jsxs("section",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),"Message Content"]}),s.jsx("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-4 text-white whitespace-pre-wrap leading-relaxed",children:c.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("section",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Update Status"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["OPEN","IN_PROGRESS","WAITING_CUSTOMER","RESOLVED","CLOSED"].map(k=>s.jsx("button",{onClick:()=>y(c.id,k),disabled:m,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${c.status===k?N(k)+" border border-current":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:k},k))})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Set Priority"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["LOW","MEDIUM","HIGH","URGENT"].map(k=>s.jsx("button",{onClick:()=>w(c.id,k),disabled:m,className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${c.priority===k?"bg-slate-800 text-white border border-slate-600":"bg-slate-800 text-slate-400 hover:bg-slate-700"} ${j(k)}`,children:k},k))})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(cu,{className:"w-4 h-4 text-purple-400"}),"AI Response / Internal Notes"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:u,onChange:k=>h(k.target.value),placeholder:"Type AI response or internal notes here...",className:"w-full h-32 px-4 py-3 bg-slate-950 border border-slate-800 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 resize-none"}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:b,disabled:m||u===c.aiResponse,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":"Save Response"})})]})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 space-y-4",children:[s.jsx("div",{className:"p-4 bg-slate-800/50 rounded-full",children:s.jsx(un,{className:"w-12 h-12 text-slate-700"})}),s.jsx("p",{children:"Select a complaint to view details"})]})})]})}function Qxt(){const[e,t]=f.useState(!0),[r,a]=f.useState(!1),{toast:n}=Rt(),[i,o]=f.useState({name:"SAEA",nameAr:"",email:"",phone:"",whatsapp:"",address:"",addressAr:"",logoUrl:"",socialLinks:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""},settings:{maintenanceMode:!1,allowNewTenants:!0,supportEmail:"",defaultCurrency:"USD"}}),[l,c]=f.useState(!1);f.useEffect(()=>{(async()=>{try{t(!0);const h=await he.get("/admin/master/platform-config",{requireAuth:!0,adminApiKey:kr()});h&&o(m=>({...m,...h,socialLinks:{...m.socialLinks,...h.socialLinks||{}},settings:{...m.settings,...h.settings||{}}}))}catch(h){console.error("Failed to load platform config:",h),n({variant:"destructive",title:"Error",description:"Failed to load platform settings"})}finally{t(!1)}})()},[n]);const d=async u=>{u.preventDefault();try{a(!0),await he.post("/admin/master/platform-config",i,{requireAuth:!0,adminApiKey:kr()}),n({title:"Success",description:"Platform settings updated successfully"})}catch{n({variant:"destructive",title:"Error",description:"Failed to update platform settings"})}finally{a(!1)}};return e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-purple-500"})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-12",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Platform Settings"}),s.jsx("p",{className:"text-gray-400",children:"Configure global platform details and preferences"})]}),s.jsxs("button",{onClick:d,disabled:r,className:"flex items-center gap-2 px-6 py-2.5 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-all disabled:opacity-50 shadow-lg shadow-purple-500/20",children:[r?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsx(Ha,{className:"w-4 h-4"}),r?"Saving...":"Save Changes"]})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[s.jsx(Ni,{className:"w-5 h-5 text-purple-500"}),"Website Logo"]}),s.jsxs("div",{className:"flex items-center gap-6",children:[i.logoUrl&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:i.logoUrl,alt:"Platform Logo",className:"w-32 h-32 object-contain bg-slate-950 rounded-xl border border-slate-800 p-2"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Upload Logo"}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/svg+xml",className:"hidden",onChange:async u=>{var m;const h=(m=u.target.files)==null?void 0:m[0];if(h){c(!0);try{const p=new FormData;p.append("logo",h);const g=await he.post("/admin/master/platform-logo",p,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0,adminApiKey:kr()});o(x=>({...x,logoUrl:g.logoUrl})),n({title:"Success",description:"Logo uploaded successfully"})}catch(p){console.error("Failed to upload logo:",p);const g=p instanceof Error?p.message:"Failed to upload logo. Please try again.";n({variant:"destructive",title:"Error",description:g})}finally{c(!1)}}},disabled:l}),s.jsx("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-all disabled:opacity-50 cursor-pointer",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"w-4 h-4"}),i.logoUrl?"Change Logo":"Upload Logo"]})})]})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: Square image, 500x500px or larger. Supported formats: JPEG, PNG, WebP, SVG"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[s.jsx(Oa,{className:"w-5 h-5 text-purple-500"}),"General Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Platform Name (English)"}),s.jsx("input",{type:"text",value:i.name,onChange:u=>o({...i,name:u.target.value}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Platform Name (Arabic)"}),s.jsx("input",{type:"text",value:i.nameAr,onChange:u=>o({...i,nameAr:u.target.value}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white text-right focus:outline-none focus:border-purple-500 transition-colors",dir:"rtl"})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[s.jsx(la,{className:"w-5 h-5 text-blue-500"}),"Contact Details"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Public Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(la,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"email",value:i.email,onChange:u=>o({...i,email:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Si,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",value:i.phone,onChange:u=>o({...i,phone:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"WhatsApp Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",value:i.whatsapp,onChange:u=>o({...i,whatsapp:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Address (English)"}),s.jsxs("div",{className:"relative",children:[s.jsx(ju,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"}),s.jsx("textarea",{value:i.address,onChange:u=>o({...i,address:u.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors h-24 resize-none"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Address (Arabic)"}),s.jsxs("div",{className:"relative",children:[s.jsx(ju,{className:"absolute right-3 top-3 w-4 h-4 text-gray-500"}),s.jsx("textarea",{value:i.addressAr,onChange:u=>o({...i,addressAr:u.target.value}),className:"w-full pr-10 pl-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white text-right focus:outline-none focus:border-purple-500 transition-colors h-24 resize-none",dir:"rtl"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[s.jsx(UO,{className:"w-5 h-5 text-orange-500"}),"Social Media Links"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[s.jsx(IO,{className:"w-4 h-4 text-blue-600"})," Facebook"]}),s.jsx("input",{type:"url",value:i.socialLinks.facebook,onChange:u=>o({...i,socialLinks:{...i.socialLinks,facebook:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://facebook.com/..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[s.jsx(VO,{className:"w-4 h-4 text-sky-400"})," Twitter"]}),s.jsx("input",{type:"url",value:i.socialLinks.twitter,onChange:u=>o({...i,socialLinks:{...i.socialLinks,twitter:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://twitter.com/..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[s.jsx(FO,{className:"w-4 h-4 text-pink-500"})," Instagram"]}),s.jsx("input",{type:"url",value:i.socialLinks.instagram,onChange:u=>o({...i,socialLinks:{...i.socialLinks,instagram:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://instagram.com/..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[s.jsx(xG,{className:"w-4 h-4 text-blue-700"})," LinkedIn"]}),s.jsx("input",{type:"url",value:i.socialLinks.linkedin,onChange:u=>o({...i,socialLinks:{...i.socialLinks,linkedin:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://linkedin.com/in/..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[s.jsx(wG,{className:"w-4 h-4 text-red-600"})," YouTube"]}),s.jsx("input",{type:"url",value:i.socialLinks.youtube,onChange:u=>o({...i,socialLinks:{...i.socialLinks,youtube:u.target.value}}),className:"w-full px-4 py-2.5 bg-slate-950 border border-slate-800 rounded-xl text-white focus:outline-none focus:border-purple-500 transition-colors",placeholder:"https://youtube.com/c/..."})]})]})]}),s.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white font-bold border-b border-slate-800 pb-4",children:[s.jsx(vs,{className:"w-5 h-5 text-gray-400"}),"System Preferences"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border border-slate-800 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Maintenance Mode"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Disable platform access for all users"})]}),s.jsx("button",{type:"button",onClick:()=>o({...i,settings:{...i.settings,maintenanceMode:!i.settings.maintenanceMode}}),className:`w-12 h-6 rounded-full transition-colors relative ${i.settings.maintenanceMode?"bg-red-600":"bg-slate-800"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${i.settings.maintenanceMode?"left-7":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border border-slate-800 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:"Allow New Tenants"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Enable or disable new store registrations"})]}),s.jsx("button",{type:"button",onClick:()=>o({...i,settings:{...i.settings,allowNewTenants:!i.settings.allowNewTenants}}),className:`w-12 h-6 rounded-full transition-colors relative ${i.settings.allowNewTenants?"bg-green-600":"bg-slate-800"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${i.settings.allowNewTenants?"left-7":"left-1"}`})})]})]})]})]})]})}function Jxt(){const{toast:e}=Rt(),[t,r]=f.useState(!0),[a,n]=f.useState([]),[i,o]=f.useState(0),[l,c]=f.useState(""),[d,u]=f.useState("ALL"),[h,m]=f.useState(null),[p,g]=f.useState(1),x=20;f.useEffect(()=>{y()},[p,d]);const y=async()=>{try{r(!0);const v={limit:x,offset:(p-1)*x};d!=="ALL"&&(v.status=d);const N=await he.get("/admin/master/transactions",{requireAuth:!0,adminApiKey:kr(),params:v});n(N.transactions),o(N.total)}catch(v){console.error("Failed to load transactions:",v),e({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{r(!1)}},w=async v=>{var N,j;if(confirm("Are you sure you want to refund this transaction? This will reverse the payment and cannot be undone."))try{m(v.id),await he.post(`/admin/master/transactions/${v.id}/refund`,{},{requireAuth:!0,adminApiKey:kr()}),n(k=>k.map(S=>S.id===v.id?{...S,status:"REFUNDED"}:S)),e({title:"Success",description:`Transaction ${v.orderNumber||v.id} has been refunded`})}catch(k){e({title:"Refund Failed",description:((j=(N=k.response)==null?void 0:N.data)==null?void 0:j.message)||"Failed to refund transaction",variant:"destructive"})}finally{m(null)}},b=v=>{switch(v){case"COMPLETED":return s.jsx(Ze,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Completed"});case"PENDING":return s.jsx(Ze,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:"Pending"});case"REFUNDED":return s.jsx(Ze,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:"Refunded"});case"FAILED":return s.jsx(Ze,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:"Failed"});default:return s.jsx(Ze,{variant:"outline",children:v})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Platform Transactions"}),s.jsx("p",{className:"text-gray-400",children:"Monitor and manage all transactions across the platform"})]}),s.jsxs(z,{variant:"outline",className:"gap-2 border-slate-700 text-white hover:bg-slate-800",children:[s.jsx(Za,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsxs(je,{className:"bg-slate-900/50 border-slate-800",children:[s.jsx(et,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search by order number or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-950 border border-slate-800 rounded-lg text-white focus:outline-none focus:border-purple-500",value:l,onChange:v=>c(v.target.value)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Zxt,{value:d,onValueChange:u,children:[s.jsx(egt,{className:"w-[180px] bg-slate-950 border-slate-800 text-white",children:s.jsx(tgt,{placeholder:"Filter by status"})}),s.jsxs(rgt,{className:"bg-slate-950 border-slate-800 text-white",children:[s.jsx(Uv,{value:"ALL",children:"All Statuses"}),s.jsx(Uv,{value:"COMPLETED",children:"Completed"}),s.jsx(Uv,{value:"PENDING",children:"Pending"}),s.jsx(Uv,{value:"REFUNDED",children:"Refunded"}),s.jsx(Uv,{value:"FAILED",children:"Failed"})]})]})})]})}),s.jsxs(Ce,{children:[s.jsx("div",{className:"rounded-md border border-slate-800 overflow-hidden",children:s.jsxs(ts,{children:[s.jsx(rs,{className:"bg-slate-950",children:s.jsxs(jt,{className:"border-slate-800 hover:bg-transparent",children:[s.jsx(Ee,{className:"text-slate-400",children:"Order #"}),s.jsx(Ee,{className:"text-slate-400",children:"Tenant"}),s.jsx(Ee,{className:"text-slate-400",children:"Date"}),s.jsx(Ee,{className:"text-slate-400",children:"Amount"}),s.jsx(Ee,{className:"text-slate-400",children:"Method"}),s.jsx(Ee,{className:"text-slate-400",children:"Status"}),s.jsx(Ee,{className:"text-slate-400 text-right",children:"Actions"})]})}),s.jsx(ss,{children:t?s.jsx(jt,{children:s.jsx(ke,{colSpan:7,className:"h-32 text-center",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin mx-auto text-purple-500"})})}):a.length===0?s.jsx(jt,{children:s.jsx(ke,{colSpan:7,className:"h-32 text-center text-slate-500",children:"No transactions found"})}):a.map(v=>s.jsxs(jt,{className:"border-slate-800 hover:bg-slate-800/30",children:[s.jsx(ke,{className:"font-medium text-white",children:v.orderNumber||v.id.substring(0,8)}),s.jsx(ke,{className:"text-slate-300",children:s.jsx("span",{className:"text-xs font-mono opacity-50",children:v.tenantId})}),s.jsx(ke,{className:"text-slate-300",children:KA(new Date(v.createdAt),"MMM dd, yyyy HH:mm")}),s.jsx(ke,{className:"text-white font-semibold",children:$n(v.amount,v.currency||"SAR")}),s.jsx(ke,{className:"text-slate-300",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-3 w-3 opacity-50"}),v.paymentMethodType||v.paymentProvider]})}),s.jsx(ke,{children:b(v.status)}),s.jsx(ke,{className:"text-right",children:s.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>w(v),disabled:h===v.id||v.status==="REFUNDED"||v.status!=="COMPLETED",className:`gap-1 ${v.status==="REFUNDED"?"text-slate-500":"text-red-400 hover:text-red-300 hover:bg-red-500/10"}`,children:[s.jsx(hG,{className:`h-4 w-4 ${h===v.id?"animate-pulse":""}`}),v.status==="REFUNDED"?"Refunded":h===v.id?"Refunding...":"Refund"]})})]},v.id))})]})}),i>x&&s.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(v=>Math.max(1,v-1)),disabled:p===1,className:"border-slate-800 text-white",children:"Previous"}),s.jsxs("div",{className:"text-slate-400 text-sm",children:["Page ",p," of ",Math.ceil(i/x)]}),s.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(v=>v+1),disabled:p>=Math.ceil(i/x),className:"border-slate-800 text-white",children:"Next"})]})]})]})]})}function Zxt({children:e,value:t,onValueChange:r}){return s.jsx("div",{className:"relative inline-block w-full",children:e})}function egt({children:e,className:t}){return s.jsx("button",{className:`flex items-center justify-between px-3 py-2 rounded-md border text-sm ${t}`,children:e})}function tgt({placeholder:e}){return s.jsx("span",{children:e})}function rgt({children:e,className:t}){return s.jsx("div",{className:`absolute z-50 mt-1 w-full rounded-md shadow-lg border ${t}`,children:e})}function Uv({children:e,value:t}){return s.jsx("div",{className:"px-3 py-2 hover:bg-slate-800 cursor-pointer text-sm",children:e})}const sgt={en:{systemAdmin:"System Admin",online:"Online",dashboard:"Dashboard",overview:"Overview",tenants:"Tenants",users:"Users",plans:"Plans",features:"Features",gifts:"Gifts",gateways:"Gateways",partners:"Partners",securityLogs:"Security Logs",customers:"Customers",permissions:"Permissions",complaints:"Complaints",platformSettings:"Platform Settings",transactions:"Transactions",logout:"Logout",systemStatus:"System Status",cpuUsage:"CPU Usage",memory:"Memory",uptime:"Uptime",cores:"Cores",ram:"RAM",search:"Search...",searchLogs:"Search logs...",totalTenants:"Total Tenants",activeTenants:"Active Tenants",totalUsers:"Total Users",paymentGateways:"Payment Gateways",totalRevenue:"Total Revenue",platformFees:"Platform Fees",totalTransactions:"Total Transactions",quickActions:"Quick Actions",manageTenants:"Manage Tenants",addEditTenants:"Add or edit tenants",updatePlans:"Update Plans",modifyPlans:"Modify subscription plans",featureControl:"Feature Control",toggleFeatures:"Toggle global features",recentActivity:"Recent Activity",viewAll:"View All",noRecentActivity:"No recent activity",accessGranted:"Access Granted",welcomeAdmin:"Welcome to System Admin Panel",accessDenied:"Access Denied",invalidPassword:"Invalid password",systemAdminAccess:"System Admin Access",restrictedArea:"Restricted area. Authorized personnel only.",enterPassword:"Enter admin password",accessPanel:"Access Panel",severity:"Severity",action:"Action",details:"Details",userIp:"User/IP",time:"Time",system:"System",errorFetchingLogs:"Error fetching logs",couldNotLoadLogs:"Could not load security logs",refresh:"Refresh",database:"Database",testConnection:"Test Connection",dbConnectionSuccess:"Database connection successful",dbConnectionFailed:"Database connection failed",dbStats:"Database Statistics",aiAssistant:"AI Assistant",dangerZone:"Danger Zone",resetWarning:"Resetting the database will permanently delete all data including users, tenants, orders, and products. This action cannot be undone.",resetDatabaseAction:"Reset Database"},ar:{systemAdmin:" ",online:"",dashboard:" ",overview:" ",tenants:"",users:"",plans:"",features:"",gifts:"",gateways:" ",partners:"",securityLogs:" ",customers:"",permissions:"",complaints:"",platformSettings:" ",transactions:"",logout:" ",systemStatus:" ",cpuUsage:" ",memory:"",uptime:" ",cores:"",ram:"",search:"...",searchLogs:"  ...",totalTenants:" ",activeTenants:" ",totalUsers:" ",paymentGateways:" ",totalRevenue:" ",platformFees:" ",totalTransactions:" ",quickActions:" ",manageTenants:" ",addEditTenants:"   ",updatePlans:" ",modifyPlans:"  ",featureControl:" ",toggleFeatures:"  ",recentActivity:" ",viewAll:" ",noRecentActivity:"   ",accessGranted:"  ",welcomeAdmin:"     ",accessDenied:"  ",invalidPassword:"   ",systemAdminAccess:"  ",restrictedArea:" .  .",enterPassword:"   ",accessPanel:" ",severity:"",action:"",details:"",userIp:"/IP",time:"",system:"",errorFetchingLogs:"   ",couldNotLoadLogs:"   ",refresh:"",database:" ",testConnection:" ",dbConnectionSuccess:"    ",dbConnectionFailed:"   ",dbStats:"  ",aiAssistant:"  ",dangerZone:" ",resetWarning:"                 .      .",resetDatabaseAction:"   "}};function agt(){var Sr,js,yr,us,ft,sr,hs,sa,ha,Pa,zr,_s,Ra,Yc,jo,Hu,qu,Qi,Mm,Lm,$m,Gu;const[e,t]=f.useState(""),[r,a]=f.useState(!1),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState([]),[g,x]=f.useState(""),[y,w]=f.useState("security"),[b,v]=f.useState(""),[N,j]=f.useState(""),[k,S]=f.useState(""),[C,A]=f.useState(""),[E,D]=f.useState(""),[P,T]=f.useState(""),[_,O]=f.useState(1),[F,I]=f.useState(20),[R,L]=f.useState(null),[H,W]=f.useState([]),[M,G]=f.useState(!1),[V,q]=f.useState("dashboard"),[Y,U]=f.useState(!0),[Z,J]=f.useState(null),[K,se]=f.useState(!1),[B,Ne]=f.useState(null),[ye,Re]=f.useState(null),[qe,He]=f.useState(null);f.useState(null);const[fe,Ue]=f.useState(!1),[ie,Pe]=f.useState(null),[Te,Ve]=f.useState(!1),[Le,de]=f.useState({loginMaxAttempts:100,loginWindowMs:15*60*1e3,signupMaxAttempts:3,signupWindowMs:60*60*1e3,passwordResetMaxAttempts:5,passwordResetWindowMs:60*60*1e3}),[xe,Ie]=f.useState({signupEnabled:!0,signinEnabled:!0,signupMaxAttempts:3,signupWindowMs:60*60*1e3,signinMaxAttempts:5,signinWindowMs:15*60*1e3,maxStoresPerUser:2}),[st,wt]=f.useState(!1),[tt,Bt]=f.useState(!1),{t:pr,i18n:$t}=Ct(),[_t,as]=f.useState(!0),[Se,vr]=f.useState($t.language||"ar");f.useEffect(()=>{const ve=$t.language;(ve==="en"||ve==="ar")&&vr(ve)},[$t.language]);const Br=()=>{const ve=Se==="en"?"ar":"en";dI(ve),vr(ve)},[Nr,Bs]=f.useState([]),[Ia,Hr]=f.useState(!1);Kr();const{toast:St}=Rt(),gt=sgt[Se],we=Se==="ar",[le,Ye]=f.useState(Uf());f.useEffect(()=>{const ve="Saeaa2025Admin!";Ye(ve),console.log("Admin API Key initialized from environment:",`${ve.substring(0,10)}... (length: ${ve.length})`)},[]);const ct=f.useCallback((ve,ht)=>{var cs;const zt=(ve==null?void 0:ve.logs)||((cs=ve==null?void 0:ve.data)==null?void 0:cs.logs)||(ve==null?void 0:ve.data)||ve||[];return Array.isArray(zt)?zt.map((Mt,jr)=>{var Bm,Um,Wd,oc,ns,Ku,lc;const It=Mt.id||Mt._id||`${ht}-${jr}-${Mt.createdAt||Date.now()}`,Xt=Mt.severity||Mt.level||(ht==="security"?"LOW":ht==="error"?"HIGH":void 0),Jr=Mt.action||Mt.event||Mt.type||(ht==="error"?"ERROR":"UNKNOWN");let ys="";Mt.details&&(typeof Mt.details=="string"?ys=Mt.details:typeof Mt.details=="object"&&Mt.details.message?ys=Mt.details.message:typeof Mt.details=="object"&&(ys=JSON.stringify(Mt.details))),ys=ys||Mt.message||Mt.description||((Bm=Mt.metadata)==null?void 0:Bm.message)||"";let Dn="";if(Mt.details&&typeof Mt.details=="object"&&Mt.details.url)Dn=Mt.details.url;else if(Mt.metadata){if(typeof Mt.metadata=="object"&&Mt.metadata.url)Dn=Mt.metadata.url;else if(typeof Mt.metadata=="string")try{const Ci=JSON.parse(Mt.metadata);Ci.url&&(Dn=Ci.url)}catch{}}if(!Dn&&Mt.action&&Mt.action.includes(" ")){const Ci=Mt.action.split(" ");Ci.length>=2&&(Dn=Ci.slice(1).join(" "))}const On=Mt.createdAt||Mt.timestamp||new Date().toISOString(),ki=((Um=Mt.user)==null?void 0:Um.email)||Mt.userEmail||Mt.email||((Wd=Mt.metadata)==null?void 0:Wd.userEmail),No=((oc=Mt.user)==null?void 0:oc.name)||Mt.userName||Mt.name||((ns=Mt.metadata)==null?void 0:ns.userName),ui=((Ku=Mt.tenant)==null?void 0:Ku.name)||Mt.tenantName||Mt.storeName||Mt.shopName,ic=Mt.resourceType||Mt.entity||Mt.model||((lc=Mt.metadata)==null?void 0:lc.resourceType)||(ht==="error"?"SYSTEM":""),Fp=Mt.resourceId||Mt.entityId||Mt.targetId||"";return{...Mt,id:It,severity:Xt,action:Jr,details:ys,url:Dn,createdAt:On,resourceType:ic,resourceId:Fp,user:ki?{email:ki,name:No}:Mt.user||{email:"System"},tenant:ui?{name:ui}:Mt.tenant}}):[]},[]);f.useEffect(()=>{sessionStorage.getItem("systemAdminAuth")==="true"&&a(!0)},[]);const lt=f.useCallback(async()=>{try{se(!0);const ve=await he.get("/admin/master/overview",{requireAuth:!0,adminApiKey:le});J(ve)}catch{}finally{se(!1)}},[le]),Xe=f.useCallback(async()=>{try{const ve=await he.get("/admin/master/system-health",{requireAuth:!0,adminApiKey:le});Ne(ve)}catch{}},[le]),At=f.useCallback(async()=>{try{const ve=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[ht,zt]=await Promise.allSettled([Q.get(`${ve}/security-events`,{requireAuth:!0,adminApiKey:le,timeout:2e4}),he.get("/admin/master/security-events",{requireAuth:!0,adminApiKey:le,timeout:2e4}).catch(()=>({logs:[]}))]),cs=ht.status==="fulfilled"?ct(ht.value,"security"):[],Mt=zt.status==="fulfilled"?ct(zt.value,"security"):[],jr=[...cs,...Mt].reduce((It,Xt)=>(It.find(Jr=>Jr.id===Xt.id)||It.push(Xt),It),[]).sort((It,Xt)=>new Date(Xt.createdAt).getTime()-new Date(It.createdAt).getTime());l(jr),y==="security"&&p(jr)}catch{l([])}},[y,ct,le]),Dt=f.useCallback(async()=>{try{const ve=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[ht,zt]=await Promise.allSettled([Q.get(`${ve}/error-logs?limit=10000`,{requireAuth:!0,adminApiKey:le,timeout:2e4}),he.get("/admin/master/error-logs?limit=10000",{requireAuth:!0,adminApiKey:le,timeout:2e4}).catch(()=>({logs:[]}))]),cs=ht.status==="fulfilled"?ct(ht.value,"error"):[],Mt=zt.status==="fulfilled"?ct(zt.value,"error"):[],jr=[...cs,...Mt].reduce((It,Xt)=>(It.find(Jr=>Jr.id===Xt.id)||It.push(Xt),It),[]).sort((It,Xt)=>new Date(Xt.createdAt).getTime()-new Date(It.createdAt).getTime());h(jr),y==="errors"&&p(jr)}catch{h([])}},[y,ct,le]),vt=f.useCallback(async()=>{try{const ve=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`,[ht,zt]=await Promise.allSettled([Q.get(`${ve}/audit-logs`,{requireAuth:!0,adminApiKey:le,timeout:2e4}),he.get("/admin/master/audit-logs",{requireAuth:!0,adminApiKey:le,timeout:2e4}).catch(()=>({logs:[]}))]),cs=ht.status==="fulfilled"?ct(ht.value,"audit"):[],Mt=zt.status==="fulfilled"?ct(zt.value,"audit"):[],jr=[...cs,...Mt].reduce((It,Xt)=>(It.find(Jr=>Jr.id===Xt.id)||It.push(Xt),It),[]).sort((It,Xt)=>new Date(Xt.createdAt).getTime()-new Date(It.createdAt).getTime());d(jr),y==="audit"&&p(jr)}catch{d([])}},[y,ct,le]),or=f.useCallback(async()=>{await Promise.all([At(),vt(),Dt()])},[At,vt,Dt]);f.useEffect(()=>{if(r){or(),lt(),Xe();const ve=setInterval(Xe,3e4);return()=>clearInterval(ve)}},[r,or,lt,Xe]),f.useEffect(()=>{r&&V==="database"&&(De(),Ae())},[r,V]);const Cr=f.useCallback(async()=>{try{const ve=await he.get("/admin/master/customers",{requireAuth:!0,adminApiKey:le});Bs(ve)}catch{St({variant:"destructive",title:"Error",description:"Could not load customer data"})}},[St]);f.useEffect(()=>{r&&V==="customers"&&Cr()},[r,V,Cr]),f.useEffect(()=>{r&&V==="limits"&&ee()},[r,V]);const ee=async()=>{wt(!0);try{const ve=await he.get("/admin/master/limits-config",{requireAuth:!0,adminApiKey:le});ve&&Ie({signupEnabled:ve.signupEnabled!==!1,signinEnabled:ve.signinEnabled!==!1,signupMaxAttempts:ve.signupMaxAttempts||3,signupWindowMs:ve.signupWindowMs||60*60*1e3,signinMaxAttempts:ve.signinMaxAttempts||5,signinWindowMs:ve.signinWindowMs||15*60*1e3,maxStoresPerUser:ve.maxStoresPerUser||2})}catch(ve){console.error("Failed to fetch limits config:",ve)}finally{wt(!1)}},ue=async()=>{Bt(!0);try{await he.post("/admin/master/limits-config",xe,{requireAuth:!0,adminApiKey:le}),St({title:Se==="ar"?" ":"Saved",description:Se==="ar"?"    ":"Limits configuration saved successfully"})}catch(ve){console.error("Failed to save limits config:",ve),St({title:Se==="ar"?"":"Error",description:Se==="ar"?"   ":"Failed to save limits configuration",variant:"destructive"})}finally{Bt(!1)}};f.useEffect(()=>{let ve=[];y==="security"?ve=o:y==="audit"?ve=c:y==="errors"?ve=u:y==="all"&&(ve=[...o,...c,...u].sort((ht,zt)=>new Date(zt.createdAt).getTime()-new Date(ht.createdAt).getTime())),p(ve),x(""),v(""),O(1)},[y,o,c,u]),f.useEffect(()=>{let ve=[];if(y==="security"?ve=o:y==="audit"?ve=c:y==="errors"?ve=u:y==="all"&&(ve=[...o,...c,...u].sort((ht,zt)=>new Date(zt.createdAt).getTime()-new Date(ht.createdAt).getTime())),b){const ht=b.toLowerCase();ve=ve.filter(zt=>{var cs;return(((cs=zt.user)==null?void 0:cs.email)||"").toLowerCase().includes(ht)})}if(N&&(ve=ve.filter(ht=>ht.severity===N)),k&&(ve=ve.filter(ht=>(ht.action||"").toLowerCase().includes(k.toLowerCase()))),C){const ht=new Date(C);ve=ve.filter(zt=>new Date(zt.createdAt)>=ht)}if(E){const ht=new Date(E);ht.setHours(23,59,59,999),ve=ve.filter(zt=>new Date(zt.createdAt)<=ht)}if(P){const ht=new Date;let zt;switch(P){case"1h":zt=new Date(ht.getTime()-60*60*1e3);break;case"24h":zt=new Date(ht.getTime()-24*60*60*1e3);break;case"7d":zt=new Date(ht.getTime()-7*24*60*60*1e3);break;case"30d":zt=new Date(ht.getTime()-30*24*60*60*1e3);break;default:zt=new Date(0)}P!=="all"&&(ve=ve.filter(cs=>new Date(cs.createdAt)>=zt))}if(g){const ht=g.toLowerCase();p(ve.filter(zt=>{var cs;return(zt.action||"").toLowerCase().includes(ht)||(zt.details||"").toLowerCase().includes(ht)||(zt.url||"").toLowerCase().includes(ht)||(zt.ipAddress||"").includes(ht)||(((cs=zt.user)==null?void 0:cs.email)||"").toLowerCase().includes(ht)}))}else p(ve);O(1)},[g,b,N,k,C,E,P,y,o,c,u]);const oe=Math.ceil(m.length/F),re=(_-1)*F,ne=re+F,ge=m.slice(re,ne),Me=ve=>{L(ve);const ht=[...o,...c].filter(zt=>{var cs;return(((cs=zt.user)==null?void 0:cs.email)||"").toLowerCase()===ve.toLowerCase()}).sort((zt,cs)=>new Date(cs.createdAt).getTime()-new Date(zt.createdAt).getTime());W(ht),G(!0)},$e=()=>{x(""),v(""),j(""),S(""),A(""),D(""),T("")},_e=()=>{const ve=new Set;return[...o,...c].forEach(ht=>{ht.action&&ve.add(ht.action)}),Array.from(ve)},De=async()=>{Ue(!0);try{const ve=Q.authUrl.replace(/\/auth$/,""),ht=await Q.fetch(`${ve}/admin/stats`,{method:"GET",requireAuth:!0,adminApiKey:le});Re(ht)}catch{St({variant:"destructive",title:Se==="ar"?"":"Error",description:Se==="ar"?"    ":"Failed to load database statistics"})}finally{Ue(!1)}},Ae=async()=>{try{const ve=Q.authUrl.replace(/\/auth$/,""),ht=await Q.fetch(`${ve}/admin/rate-limit-config`,{method:"GET",requireAuth:!0,adminApiKey:le});He(ht),ht.login&&de({loginMaxAttempts:ht.login.maxAttempts,loginWindowMs:ht.login.windowMs,signupMaxAttempts:ht.signup.maxAttempts,signupWindowMs:ht.signup.windowMs,passwordResetMaxAttempts:ht.passwordReset.maxAttempts,passwordResetWindowMs:ht.passwordReset.windowMs})}catch{St({variant:"destructive",title:Se==="ar"?"":"Error",description:Se==="ar"?"    ":"Failed to load rate limit configuration"})}},pe=async()=>{if(confirm(Se==="ar"?"           .":"Are you sure you want to update rate limit configuration? Changes will be applied immediately.")){Ve(!0);try{const ve=await Q.fetch(`${Q.authUrl}/admin/rate-limit-config`,{method:"PUT",body:JSON.stringify({loginMaxAttempts:Le.loginMaxAttempts,loginWindowMs:Le.loginWindowMs,signupMaxAttempts:Le.signupMaxAttempts,signupWindowMs:Le.signupWindowMs}),requireAuth:!0,adminApiKey:le});St({title:" Success",description:ve.message||(Se==="ar"?"   ":"Configuration updated successfully")}),Ae()}catch(ve){St({variant:"destructive",title:" Error",description:(ve==null?void 0:ve.message)||(Se==="ar"?"  ":"Failed to update configuration")})}finally{Ve(!1)}}},Fe=async ve=>{if(confirm(ve?`Clear rate limits for ${ve}?`:"Clear ALL rate limits? This will remove all rate limiting restrictions.")){Pe(ve?`rateLimits-${ve}`:"rateLimits");try{const ht=ve?`${Q.authUrl}/admin/clear-rate-limits?type=${ve}`:`${Q.authUrl}/admin/clear-rate-limits`,zt=await Q.fetch(ht,{method:"DELETE",requireAuth:!0,adminApiKey:le});St({title:" Success",description:zt.message||"Rate limits cleared successfully"}),De()}catch(ht){St({variant:"destructive",title:" Error",description:(ht==null?void 0:ht.message)||"Failed to clear rate limits"})}finally{Pe(null)}}},Ke=async ve=>{if(confirm(`Clear all ${ve}? This action cannot be undone.`)){Pe(ve);try{let ht="",zt="DELETE";switch(ve){case"loginAttempts":{ht=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-login-attempts`;break}case"securityEvents":{ht=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-security-events`;break}case"passwordResets":{ht=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-password-resets`;break}case"refreshTokens":{ht=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-refresh-tokens`;break}case"users":{ht=`${Q.authUrl.replace(/\/auth$/,"")}/admin/clear-users`;break}default:throw new Error("Unknown clear type")}const cs=await Q.fetch(ht,{method:zt,requireAuth:!0,adminApiKey:le});St({title:" Success",description:cs.message||`Cleared ${ve} successfully`}),De(),ve==="users"&&lt()}catch(ht){St({variant:"destructive",title:" Error",description:(ht==null?void 0:ht.message)||`Failed to clear ${ve}`})}finally{Pe(null)}}},nt=async()=>{if(confirm("ARE YOU SURE? This will delete ALL data. This action cannot be undone.")&&confirm("Really? Last warning!"))try{Hr(!0),await he.post("/admin/master/reset-database",{},{requireAuth:!0,adminApiKey:le}),St({title:" Success",description:"Database has been reset successfully"}),lt(),Xe(),De()}catch{St({variant:"destructive",title:" Error",description:"Failed to reset database"})}finally{Hr(!1)}},mt=async ve=>{ve.preventDefault();const ht=e.trim();if(!ht){St({variant:"destructive",title:` ${gt.accessDenied}`,description:Se==="ar"?"   ":"Please enter a password"});return}const zt="Saeaa2025Admin!",cs=zt;if(console.log("Login attempt:",{passwordLength:ht.length,expectedLength:(cs==null?void 0:cs.length)||0,hasEnvKey:!!zt,hasCachedKey:!!le}),ht===cs)a(!0),sessionStorage.setItem("systemAdminAuth","true"),zt!==le&&Ye(zt),_xt(),St({title:` ${gt.accessGranted}`,description:gt.welcomeAdmin});else{const Mt=Se==="ar"?`   . : ${cs.length} .    VITE_ADMIN_API_KEY   .env     .`:`Incorrect password. Required: ${cs.length} characters. Make sure VITE_ADMIN_API_KEY in .env matches the key in the database.`;St({variant:"destructive",title:` ${gt.accessDenied}`,description:Mt}),t("")}},kt=[{id:"dashboard",label:gt.dashboard,icon:wg},{id:"overview",label:gt.overview,icon:ad},{id:"tenants",label:gt.tenants,icon:mr},{id:"users",label:gt.users,icon:mr},{id:"plans",label:gt.plans,icon:CL},{id:"features",label:gt.features,icon:An},{id:"ai",label:gt.aiAssistant,icon:cu},{id:"gifts",label:gt.gifts,icon:kh},{id:"gateways",label:gt.gateways,icon:Wr},{id:"partners",label:gt.partners,icon:RO},{id:"api-keys",label:Se==="ar"?" API":"API Keys",icon:du},{id:"pages",label:Se==="ar"?"":"Pages",icon:ua},{id:"database",label:gt.database,icon:Vme},{id:"customers",label:gt.customers,icon:SL},{id:"permissions",label:gt.permissions,icon:Ws},{id:"complaints",label:gt.complaints,icon:un},{id:"platform-settings",label:gt.platformSettings,icon:vs},{id:"transactions",label:gt.transactions,icon:Wr},{id:"cloudinary",label:Se==="ar"?" Cloudinary":"Cloudinary Access",icon:Ik},{id:"analytics",label:Se==="ar"?"":"Analytics",icon:ad},{id:"limits",label:Se==="ar"?"":"Limits",icon:vs},{id:"logs",label:gt.securityLogs,icon:Ws}],te=_t?{bg:"bg-gray-950",bgSecondary:"bg-gray-900",card:"bg-gray-900",cardHover:"hover:bg-gray-800",border:"border-gray-800",text:"text-white",textMuted:"text-gray-400",textDim:"text-gray-500",accent:"bg-violet-600",accentHover:"hover:bg-violet-700",accentText:"text-violet-400",accentBg:"bg-violet-500/10",input:"bg-gray-950 border-gray-700 text-white placeholder-gray-500",focus:"focus:border-violet-500 focus:ring-1 focus:ring-violet-500",sidebar:"bg-gray-900",header:"bg-gray-900/80",divider:"divide-gray-800",scrollbar:"scrollbar-thumb-gray-700"}:{bg:"bg-slate-100",bgSecondary:"bg-white",card:"bg-white",cardHover:"hover:bg-slate-50",border:"border-slate-300",text:"text-slate-900",textMuted:"text-slate-600",textDim:"text-slate-500",accent:"bg-violet-600",accentHover:"hover:bg-violet-700",accentText:"text-violet-600",accentBg:"bg-violet-100",input:"bg-white border-slate-300 text-slate-900 placeholder-slate-400",focus:"focus:border-violet-500 focus:ring-1 focus:ring-violet-500",sidebar:"bg-white",header:"bg-white/90",divider:"divide-slate-200",scrollbar:"scrollbar-thumb-slate-300",cardClass:"bg-white border border-slate-200 shadow-sm"},Ot=_t?"bg-gray-900 border border-gray-800 shadow-sm":te.cardClass;return r?s.jsxs("div",{className:`min-h-screen ${te.bg} ${te.text} flex overflow-hidden`,dir:we?"rtl":"ltr",children:[s.jsx(Wi,{mode:"wait",children:Y&&s.jsxs(Je.aside,{initial:{width:0,opacity:0},animate:{width:280,opacity:1},exit:{width:0,opacity:0},className:`${te.sidebar} border-${we?"l":"r"} ${te.border} flex-shrink-0 flex flex-col h-screen sticky top-0 ${_t?"":"shadow-lg"}`,children:[s.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 ${te.accent} rounded-lg`,children:s.jsx(Ws,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-lg",children:gt.systemAdmin}),s.jsxs("div",{className:`text-xs ${te.textMuted} flex items-center gap-1`,children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),gt.online]})]})]}),s.jsx("button",{onClick:()=>U(!1),className:`lg:hidden p-2 ${te.cardHover} rounded-lg ${te.textMuted}`,children:s.jsx(hr,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:kt.map(ve=>{const ht=ve.icon,zt=V===ve.id;return s.jsxs("button",{onClick:()=>q(ve.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${zt?`${te.accent} text-white shadow-lg shadow-violet-600/20`:`${te.textMuted} ${te.cardHover} hover:text-white`}`,children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:ve.label}),zt&&s.jsx(Je.div,{layoutId:"activeTab",className:`${we?"mr-auto":"ml-auto"} w-1.5 h-1.5 bg-white rounded-full`})]},ve.id)})}),s.jsxs("div",{className:`p-4 border-t ${te.border}`,children:[s.jsxs("div",{className:`${_t?"bg-gray-950":"bg-slate-100"} rounded-xl p-4 mb-4 ${_t?"":"border border-slate-200"}`,children:[s.jsx("div",{className:`text-xs ${te.textDim} mb-2`,children:gt.systemStatus}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:gt.cpuUsage}),s.jsxs("span",{className:`text-xs ${(((Sr=B==null?void 0:B.cpu)==null?void 0:Sr.usage)??0)>80?"text-red-500":(((js=B==null?void 0:B.cpu)==null?void 0:js.usage)??0)>50?"text-yellow-500":"text-green-500"}`,children:[((yr=B==null?void 0:B.cpu)==null?void 0:yr.usage)??0,"%"]})]}),s.jsx("div",{className:`w-full ${_t?"bg-gray-800":"bg-gray-200"} rounded-full h-1.5 mb-3`,children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${(((us=B==null?void 0:B.cpu)==null?void 0:us.usage)??0)>80?"bg-red-500":(((ft=B==null?void 0:B.cpu)==null?void 0:ft.usage)??0)>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${((sr=B==null?void 0:B.cpu)==null?void 0:sr.usage)??0}%`}})}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:gt.memory}),s.jsxs("span",{className:`text-xs ${(((hs=B==null?void 0:B.memory)==null?void 0:hs.usage)??0)>80?"text-red-500":(((sa=B==null?void 0:B.memory)==null?void 0:sa.usage)??0)>50?"text-yellow-500":"text-green-500"}`,children:[((ha=B==null?void 0:B.memory)==null?void 0:ha.usage)??0,"%"]})]}),s.jsx("div",{className:`w-full ${_t?"bg-gray-800":"bg-gray-200"} rounded-full h-1.5 mb-3`,children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${(((Pa=B==null?void 0:B.memory)==null?void 0:Pa.usage)??0)>80?"bg-red-500":(((zr=B==null?void 0:B.memory)==null?void 0:zr.usage)??0)>50?"bg-yellow-500":"bg-green-500"}`,style:{width:`${((_s=B==null?void 0:B.memory)==null?void 0:_s.usage)??0}%`}})}),s.jsxs("div",{className:`text-xs ${te.textDim} mt-3 pt-3 border-t ${te.border}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:gt.uptime}),s.jsx("span",{className:te.textMuted,children:((Ra=B==null?void 0:B.uptime)==null?void 0:Ra.formatted)??"..."})]}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsx("span",{children:gt.cores}),s.jsx("span",{className:te.textMuted,children:((Yc=B==null?void 0:B.cpu)==null?void 0:Yc.cores)??0})]}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsx("span",{children:gt.ram}),s.jsxs("span",{className:te.textMuted,children:[((jo=B==null?void 0:B.memory)==null?void 0:jo.used)??0,"GB / ",((Hu=B==null?void 0:B.memory)==null?void 0:Hu.total)??0,"GB"]})]})]})]}),s.jsxs("button",{onClick:()=>{a(!1),t("")},className:`w-full flex items-center gap-3 px-4 py-3 ${te.textMuted} ${te.cardHover} hover:text-white rounded-xl transition-colors`,children:[s.jsx(rm,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:gt.logout})]}),s.jsxs("div",{className:`mt-4 text-center text-xs ${te.textDim}`,children:["v",ZI]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[s.jsxs("header",{className:`h-16 ${te.header} backdrop-blur-md border-b ${te.border} flex items-center justify-between px-6 sticky top-0 z-10 ${_t?"":"shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[!Y&&s.jsx("button",{onClick:()=>U(!0),className:`p-2 ${te.cardHover} rounded-lg ${te.textMuted}`,children:s.jsx(ym,{className:"w-5 h-5"})}),s.jsx("h2",{className:`text-xl font-bold ${te.text}`,children:(qu=kt.find(ve=>ve.id===V))==null?void 0:qu.label})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx(Or,{className:`absolute ${we?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),s.jsx("input",{type:"text",placeholder:gt.search,className:`${te.input} border rounded-full py-2 ${we?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus} w-64`})]}),s.jsxs("button",{onClick:Br,className:`p-2 ${te.cardHover} rounded-full ${te.textMuted} flex items-center gap-1`,children:[s.jsx(Oa,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs font-medium",children:Se.toUpperCase()})]}),s.jsx("button",{onClick:()=>as(!_t),className:`p-2 ${te.cardHover} rounded-full ${te.textMuted}`,children:_t?s.jsx(Nu,{className:"w-5 h-5"}):s.jsx(_d,{className:"w-5 h-5"})}),s.jsxs("button",{className:`p-2 ${te.cardHover} rounded-full ${te.textMuted} relative`,children:[s.jsx(zl,{className:"w-5 h-5"}),s.jsx("span",{className:`absolute top-1.5 ${we?"left-1.5":"right-1.5"} w-2 h-2 bg-violet-500 rounded-full border-2 ${_t?"border-gray-900":"border-white"}`})]}),s.jsx("div",{className:`w-8 h-8 ${te.accent} rounded-full flex items-center justify-center text-white font-bold`,children:"A"})]})]}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-7xl mx-auto",children:[V==="dashboard"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:gt.totalTenants,value:((Qi=Z==null?void 0:Z.tenants)==null?void 0:Qi.total)??0,icon:mr,bgColor:"bg-blue-500/10",textColor:"text-blue-500"},{label:gt.activeTenants,value:((Mm=Z==null?void 0:Z.tenants)==null?void 0:Mm.active)??0,icon:ks,bgColor:"bg-green-500/10",textColor:"text-green-500"},{label:gt.totalUsers,value:(Z==null?void 0:Z.totalUsers)??0,icon:mr,bgColor:"bg-purple-500/10",textColor:"text-purple-500"},{label:gt.paymentGateways,value:(Z==null?void 0:Z.activePaymentGateways)??0,icon:Wr,bgColor:"bg-amber-500/10",textColor:"text-amber-500"}].map((ve,ht)=>s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`p-3 rounded-xl ${ve.bgColor}`,children:s.jsx(ve.icon,{className:`w-6 h-6 ${ve.textColor}`})})}),s.jsx("h3",{className:`text-2xl font-bold ${te.text} mb-1`,children:K?"...":ve.value.toLocaleString()}),s.jsx("p",{className:`text-sm ${te.textMuted}`,children:ve.label})]},ht))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:gt.totalRevenue}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",K?"...":(((Lm=Z==null?void 0:Z.transactions)==null?void 0:Lm.totalRevenue)??0).toLocaleString()]})]}),s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:gt.platformFees}),s.jsxs("p",{className:"text-3xl font-bold text-purple-500",children:["$",K?"...":((($m=Z==null?void 0:Z.transactions)==null?void 0:$m.platformFees)??0).toLocaleString()]})]}),s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("h4",{className:`text-sm ${te.textMuted} mb-2`,children:gt.totalTransactions}),s.jsx("p",{className:"text-3xl font-bold text-blue-500",children:K?"...":(((Gu=Z==null?void 0:Z.transactions)==null?void 0:Gu.total)??0).toLocaleString()})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`${Ot} rounded-2xl p-6`,children:[s.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:gt.quickActions}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>q("tenants"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${we?"right":"left"}`,children:[s.jsx(mr,{className:"w-6 h-6 text-purple-500 mb-2"}),s.jsx("div",{className:`font-medium ${te.text}`,children:gt.manageTenants}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:gt.addEditTenants})]}),s.jsxs("button",{onClick:()=>q("plans"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${we?"right":"left"}`,children:[s.jsx(CL,{className:"w-6 h-6 text-blue-500 mb-2"}),s.jsx("div",{className:`font-medium ${te.text}`,children:gt.updatePlans}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:gt.modifyPlans})]}),s.jsxs("button",{onClick:()=>q("features"),className:`p-4 ${te.bg} border ${te.border} rounded-xl hover:border-violet-500/50 transition-colors text-${we?"right":"left"}`,children:[s.jsx(An,{className:"w-6 h-6 text-yellow-500 mb-2"}),s.jsx("div",{className:`font-medium ${te.text}`,children:gt.featureControl}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:gt.toggleFeatures})]})]})]}),s.jsxs("div",{className:`${Ot} rounded-2xl overflow-hidden`,children:[s.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[s.jsx("h3",{className:`text-lg font-bold ${te.text}`,children:gt.recentActivity}),s.jsx("button",{onClick:()=>q("logs"),className:"text-sm text-violet-400 hover:text-violet-300",children:gt.viewAll})]}),s.jsxs("div",{className:`divide-y ${_t?"divide-gray-800":"divide-gray-200"}`,children:[n.slice(0,20).map(ve=>s.jsxs("div",{className:`p-4 flex items-center justify-between ${te.cardHover} transition-colors`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${ve.severity==="CRITICAL"?"bg-red-500":ve.severity==="HIGH"?"bg-orange-500":ve.severity==="MEDIUM"?"bg-yellow-500":"bg-blue-500"}`}),s.jsxs("div",{children:[s.jsx("div",{className:`text-sm font-medium ${te.text}`,children:ve.action}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:ve.details})]})]}),s.jsx("div",{className:`text-xs ${te.textDim}`,children:new Date(ve.createdAt).toLocaleTimeString()})]},ve.id)),n.length===0&&s.jsx("div",{className:`p-8 text-center ${te.textDim}`,children:gt.noRecentActivity})]})]})]})]}),V==="database"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:`text-3xl font-bold ${te.text} mb-2`,children:gt.database}),s.jsx("p",{className:te.textMuted,children:Se==="ar"?"    ":"Manage system database and perform maintenance"})]}),s.jsx("button",{onClick:()=>{De(),Ae()},disabled:fe,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:fe?s.jsx(_i,{className:"w-5 h-5 animate-spin"}):s.jsx(_i,{className:"w-5 h-5"})})]}),ye&&s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:gt.dbStats}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"":"Users"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.users||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"":"Tenants"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.tenants||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?" ":"Rate Limits"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.rateLimits||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"  ":"Login Attempts"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.loginAttempts||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?" ":"Security Events"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.securityEvents||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"   ":"Password Resets"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.passwordResets||0})]}),s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?" ":"Refresh Tokens"}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ye.refreshTokens||0})]})]})]}),s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:`text-lg font-bold ${te.text}`,children:Se==="ar"?"  ":"Rate Limiting Management"}),s.jsx("button",{onClick:Ae,className:`px-3 py-1.5 text-sm ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:Se==="ar"?"":"Refresh"})]}),qe&&s.jsx("div",{className:"mb-6 space-y-4",children:s.jsxs("div",{className:`p-4 ${_t?"bg-gray-800":"bg-slate-100"} rounded-lg`,children:[s.jsx("h4",{className:`font-semibold ${te.text} mb-4`,children:Se==="ar"?" ":"Current Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?" ":"Login"}),s.jsxs("div",{className:`mt-1 ${te.text}`,children:[qe.login.maxAttempts," ",Se==="ar"?"":"attempts"," / ",Math.floor(qe.login.windowMs/6e4)," ",Se==="ar"?"":"min"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"":"Signup"}),s.jsxs("div",{className:`mt-1 ${te.text}`,children:[qe.signup.maxAttempts," ",Se==="ar"?"":"attempts"," / ",Math.floor(qe.signup.windowMs/36e5)," ",Se==="ar"?"":"hour"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"   ":"Password Reset"}),s.jsxs("div",{className:`mt-1 ${te.text}`,children:[qe.passwordReset.maxAttempts," ",Se==="ar"?"":"attempts"," / ",Math.floor(qe.passwordReset.windowMs/36e5)," ",Se==="ar"?"":"hour"]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[s.jsx("h5",{className:`font-semibold ${te.text} mb-3`,children:Se==="ar"?" ":"Update Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Se==="ar"?"  -  ":"Login - Max Attempts"}),s.jsx("input",{type:"number",min:"1",value:Le.loginMaxAttempts,onChange:ve=>de({...Le,loginMaxAttempts:parseInt(ve.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),s.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(Le.loginWindowMs/6e4)," ",Se==="ar"?"":"min"," window"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Se==="ar"?" -  ":"Signup - Max Attempts"}),s.jsx("input",{type:"number",min:"1",value:Le.signupMaxAttempts,onChange:ve=>de({...Le,signupMaxAttempts:parseInt(ve.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),s.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(Le.signupWindowMs/36e5)," ",Se==="ar"?"":"hour"," window"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`text-sm ${te.textMuted} block mb-1`,children:Se==="ar"?"  -  ":"Password Reset - Max Attempts"}),s.jsx("input",{type:"number",min:"1",value:Le.passwordResetMaxAttempts,onChange:ve=>de({...Le,passwordResetMaxAttempts:parseInt(ve.target.value)||1}),className:`w-full ${te.input} border rounded-lg px-3 py-2 text-sm ${te.text} focus:outline-none ${te.focus}`}),s.jsxs("span",{className:`text-xs ${te.textMuted} mt-1 block`,children:[Math.floor(Le.passwordResetWindowMs/36e5)," ",Se==="ar"?"":"hour"," window"]})]})]}),s.jsxs("button",{onClick:pe,disabled:Te,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[Te?s.jsx(_i,{className:"w-4 h-4 animate-spin"}):s.jsx(ks,{className:"w-4 h-4"}),Se==="ar"?" ":"Save Configuration"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx("button",{onClick:()=>Fe(),disabled:ie==="rateLimits",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="rateLimits"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-blue-500"}):s.jsx(_i,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"   ":"Clear All Rate Limits"}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"   ":"Remove all rate limiting restrictions"})]})]})}),s.jsx("button",{onClick:()=>Fe("LOGIN"),disabled:ie==="rateLimits-LOGIN",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="rateLimits-LOGIN"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-green-500"}):s.jsx(ci,{className:"w-5 h-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"   ":"Clear Login Rate Limits"}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"    ":"Remove login rate limits only"})]})]})}),s.jsx("button",{onClick:()=>Fe("REGISTRATION"),disabled:ie==="rateLimits-REGISTRATION",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="rateLimits-REGISTRATION"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-purple-500"}):s.jsx(jd,{className:"w-5 h-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"  ":"Clear Signup Rate Limits"}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"   ":"Remove signup rate limits only"})]})]})}),s.jsx("button",{onClick:()=>Fe("PASSWORD_RESET"),disabled:ie==="rateLimits-PASSWORD_RESET",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="rateLimits-PASSWORD_RESET"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-orange-500"}):s.jsx(du,{className:"w-5 h-5 text-orange-500"}),s.jsxs("div",{children:[s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"     ":"Clear Password Reset Limits"}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"     ":"Remove password reset rate limits"})]})]})})]})]}),s.jsxs("div",{className:`${Ot} p-6 rounded-2xl`,children:[s.jsx("h3",{className:`text-lg font-bold ${te.text} mb-4`,children:Se==="ar"?"  ":"Database Management"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>Ke("loginAttempts"),disabled:ie==="loginAttempts",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="loginAttempts"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-blue-500"}):s.jsx(_r,{className:"w-5 h-5 text-blue-500"}),s.jsx("div",{children:s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"   ":"Clear Login Attempts"})})]})}),s.jsx("button",{onClick:()=>Ke("securityEvents"),disabled:ie==="securityEvents",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="securityEvents"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-red-500"}):s.jsx(_r,{className:"w-5 h-5 text-red-500"}),s.jsx("div",{children:s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"  ":"Clear Security Events"})})]})}),s.jsx("button",{onClick:()=>Ke("passwordResets"),disabled:ie==="passwordResets",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="passwordResets"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-orange-500"}):s.jsx(_r,{className:"w-5 h-5 text-orange-500"}),s.jsx("div",{children:s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"     ":"Clear Password Resets"})})]})}),s.jsx("button",{onClick:()=>Ke("refreshTokens"),disabled:ie==="refreshTokens",className:`p-4 ${te.card} ${te.border} border rounded-lg hover:${te.cardHover} transition-colors text-left disabled:opacity-50`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[ie==="refreshTokens"?s.jsx(_i,{className:"w-5 h-5 animate-spin text-purple-500"}):s.jsx(_r,{className:"w-5 h-5 text-purple-500"}),s.jsx("div",{children:s.jsx("div",{className:`font-semibold ${te.text}`,children:Se==="ar"?"  ":"Clear Refresh Tokens"})})]})})]})]}),s.jsx("div",{className:`${Ot} p-6 rounded-2xl border border-red-500/20`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-red-500/10 rounded-lg",children:s.jsx(_r,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-bold ${te.text} mb-2`,children:gt.dangerZone}),s.jsx("p",{className:`${te.textMuted} mb-6`,children:gt.resetWarning}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>Ke("users"),disabled:ie==="users",className:"w-full px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[ie==="users"?s.jsx(_i,{className:"w-4 h-4 animate-spin"}):s.jsx(mr,{className:"w-4 h-4"}),Se==="ar"?"  ":"Clear All Users"]}),s.jsxs("button",{onClick:nt,disabled:Ia,className:"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[Ia?s.jsx(_i,{className:"w-4 h-4 animate-spin"}):s.jsx(_r,{className:"w-4 h-4"}),gt.resetDatabaseAction]})]})]})]})})]}),V==="overview"&&s.jsx(Dxt,{}),V==="tenants"&&s.jsx(Oxt,{}),V==="users"&&s.jsx(Wxt,{}),V==="gateways"&&s.jsx(Rxt,{}),V==="partners"&&s.jsx(Fxt,{}),V==="plans"&&s.jsx($xt,{}),V==="features"&&s.jsx(Bxt,{}),V==="ai"&&s.jsx(Gxt,{}),V==="gifts"&&s.jsx(zxt,{}),V==="api-keys"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(Hxt,{}),s.jsx(ngt,{adminPassword:le,onUpdate:()=>{Txt().then(()=>{Ye(Uf()),St({title:Se==="ar"?" ":"Updated",description:Se==="ar"?"   API ":"API key updated successfully"})})},theme:te,language:Se,cardStyle:Ot})]}),V==="pages"&&s.jsx(qxt,{adminApiKey:le}),V==="permissions"&&s.jsx(Kxt,{}),V==="cloudinary"&&s.jsx(Yxt,{}),V==="complaints"&&s.jsx(Xxt,{}),V==="platform-settings"&&s.jsx(Qxt,{}),V==="transactions"&&s.jsx(Jxt,{}),V==="customers"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:gt.customers}),s.jsx("button",{onClick:Cr,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:s.jsx(_i,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:`${Ot} rounded-2xl overflow-hidden`,children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${te.bg} ${te.textMuted}`,children:s.jsxs("tr",{children:[s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?"":"Customer"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?"":"Store"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?" / ":"OS / Browser"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?"":"Location"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:"VPN"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:"IP"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?" ":"Last Login"}),s.jsx("th",{className:`p-4 text-${we?"right":"left"} font-medium`,children:Se==="ar"?"":"Actions"})]})}),s.jsx("tbody",{className:`divide-y ${_t?"divide-gray-800":"divide-gray-200"}`,children:Nr.map(ve=>s.jsxs("tr",{className:te.cardHover,children:[s.jsxs("td",{className:`p-4 ${te.text}`,children:[s.jsx("div",{className:"font-medium",children:ve.email}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:ve.role})]}),s.jsx("td",{className:`p-4 ${te.text}`,children:ve.tenantName?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ve.tenantName}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:ve.tenantSubdomain})]}):s.jsx("span",{className:te.textMuted,children:"-"})}),s.jsx("td",{className:`p-4 ${te.text}`,children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-medium",children:ve.os||"Unknown"}),s.jsx("span",{className:`text-xs ${te.textMuted}`,children:ve.browser||"-"})]})}),s.jsx("td",{className:`p-4 ${te.text}`,children:s.jsx("div",{className:"flex items-center gap-2",children:ve.location&&ve.location!=="-"?s.jsx("span",{className:"text-sm",children:ve.location}):s.jsx("span",{className:`text-sm ${te.textMuted}`,children:"-"})})}),s.jsx("td",{className:"p-4",children:ve.isVpn?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:"VPN"}):s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Clean"})}),s.jsx("td",{className:`p-4 ${te.textMuted} text-sm`,children:ve.ipAddress||"-"}),s.jsx("td",{className:`p-4 ${te.textMuted} text-sm`,children:ve.lastLogin?new Date(ve.lastLogin).toLocaleString():"-"}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>St({title:Se==="ar"?" ":"View Details",description:`${ve.email}`}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",title:Se==="ar"?" ":"View Details",children:s.jsx(fr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>St({title:Se==="ar"?" ":"Block User",description:`${ve.email}`,variant:"destructive"}),className:"p-1.5 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:Se==="ar"?"":"Block",children:s.jsx(jL,{className:"w-4 h-4"})})]})})]},ve.id))})]})}),Nr.length===0&&s.jsxs("div",{className:`p-12 text-center ${te.textMuted}`,children:[s.jsx(SL,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:Se==="ar"?"    ":"No customer fingerprint data"}),s.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Se==="ar"?"      ":"Data will appear when customers log in"})]})]})]}),V==="logs"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:gt.securityLogs}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{(async()=>{const ve=Q.authUrl.endsWith("/auth")?Q.authUrl:`${Q.authUrl}/auth`;return Q.fetch(`${ve}/test-security-event`,{requireAuth:!0,adminApiKey:le})})().then(ve=>{St({title:Se==="ar"?"   ":"Test event created",description:ve.message}),or()}).catch(()=>St({variant:"destructive",title:"Error"}))},className:`px-3 py-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors text-sm`,children:Se==="ar"?"  ":"Add Test Event"}),s.jsx("button",{onClick:or,className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:s.jsx(_i,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-700 pb-4",children:[s.jsxs("button",{onClick:()=>w("security"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="security"?"bg-blue-500 text-white":`${te.card} ${te.textMuted} hover:bg-blue-500/20`}`,children:[s.jsx(Ws,{className:"w-4 h-4 inline-block mr-2"}),Se==="ar"?" ":"Security Events",s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:o.length})]}),s.jsxs("button",{onClick:()=>w("audit"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="audit"?"bg-purple-500 text-white":`${te.card} ${te.textMuted} hover:bg-purple-500/20`}`,children:[s.jsx(ad,{className:"w-4 h-4 inline-block mr-2"}),Se==="ar"?" ":"Audit Logs",s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:c.length})]}),s.jsxs("button",{onClick:()=>w("errors"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="errors"?"bg-red-500 text-white":`${te.card} ${te.textMuted} hover:bg-red-500/20`}`,children:[s.jsx(jL,{className:"w-4 h-4 inline-block mr-2"}),Se==="ar"?" ":"Error Logs",s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:u.length})]}),s.jsxs("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="all"?"bg-cyan-500 text-white":`${te.card} ${te.textMuted} hover:bg-cyan-500/20`}`,children:[s.jsx(ua,{className:"w-4 h-4 inline-block mr-2"}),Se==="ar"?" ":"All Logs",s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:o.length+c.length+u.length})]})]}),s.jsxs("div",{className:`${Ot} rounded-2xl overflow-hidden`,children:[s.jsxs("div",{className:`p-4 border-b ${te.border}`,children:[s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(Or,{className:`absolute ${we?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),s.jsx("input",{type:"text",placeholder:gt.searchLogs,value:g,onChange:ve=>x(ve.target.value),className:`w-full ${te.input} border rounded-lg py-2 ${we?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus}`})]}),s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(mr,{className:`absolute ${we?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-4 h-4 ${te.textDim}`}),s.jsx("input",{type:"text",placeholder:Se==="ar"?"  ...":"Filter by user email...",value:b,onChange:ve=>v(ve.target.value),className:`w-full ${te.input} border rounded-lg py-2 ${we?"pr-10 pl-4":"pl-10 pr-4"} text-sm ${te.text} focus:outline-none ${te.focus}`})]})]}),s.jsxs("div",{className:"flex gap-3 flex-wrap mt-4 items-center",children:[s.jsxs("select",{value:N,onChange:ve=>j(ve.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[s.jsx("option",{value:"",children:Se==="ar"?" ":"All Severities"}),s.jsx("option",{value:"LOW",children:Se==="ar"?"":"LOW"}),s.jsx("option",{value:"MEDIUM",children:Se==="ar"?"":"MEDIUM"}),s.jsx("option",{value:"HIGH",children:Se==="ar"?"":"HIGH"}),s.jsx("option",{value:"CRITICAL",children:Se==="ar"?"":"CRITICAL"})]}),s.jsxs("select",{value:k,onChange:ve=>S(ve.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[s.jsx("option",{value:"",children:Se==="ar"?" ":"All Actions"}),_e().map(ve=>s.jsx("option",{value:ve,children:ve},ve))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?":":"From:"}),s.jsx("input",{type:"date",value:C,onChange:ve=>A(ve.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus}`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?":":"To:"}),s.jsx("input",{type:"date",value:E,onChange:ve=>D(ve.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus}`})]}),s.jsxs("select",{value:P,onChange:ve=>T(ve.target.value),className:`${te.input} border rounded-lg py-2 px-3 text-sm ${te.text} focus:outline-none ${te.focus} min-w-[140px]`,children:[s.jsx("option",{value:"",children:Se==="ar"?" ":"All Time"}),s.jsx("option",{value:"1h",children:Se==="ar"?" ":"Last Hour"}),s.jsx("option",{value:"24h",children:Se==="ar"?" 24 ":"Last 24 Hours"}),s.jsx("option",{value:"7d",children:Se==="ar"?" 7 ":"Last 7 Days"}),s.jsx("option",{value:"30d",children:Se==="ar"?" 30 ":"Last 30 Days"})]}),s.jsxs("button",{onClick:$e,className:`px-4 py-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:bg-red-500/20 hover:text-red-400 transition-colors text-sm flex items-center gap-2`,children:[s.jsx(hr,{className:"w-4 h-4"}),Se==="ar"?"":"Clear"]}),s.jsx("span",{className:`text-sm ${te.textMuted} ml-auto`,children:Se==="ar"?`${m.length} `:`${m.length} results`})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left table-auto",style:{tableLayout:"auto"},children:[s.jsx("thead",{className:`${_t?"bg-gray-800/50":"bg-slate-50"} ${te.textMuted}`,children:s.jsx("tr",{children:y==="security"?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:gt.severity}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:gt.action}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Se==="ar"?"":"OS"}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[120px]",children:Se==="ar"?"":"Location"}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:gt.userIp}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:gt.time}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Se==="ar"?"":"Actions"})]}):s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:Se==="ar"?"":"Action"}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[200px]",children:Se==="ar"?"":"URL"}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Se==="ar"?"":"Resource"}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[150px]",children:Se==="ar"?" / ":"User / Customer"}),s.jsx("th",{className:"px-2 py-3 font-medium min-w-[120px]",children:Se==="ar"?"":"Tenant"}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:gt.time}),s.jsx("th",{className:"px-2 py-3 font-medium whitespace-nowrap",children:Se==="ar"?"":"Actions"})]})})}),s.jsx("tbody",{className:`divide-y ${_t?"divide-gray-800":"divide-gray-200"}`,children:m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:y==="security"?7:8,className:`px-6 py-12 text-center ${te.textMuted}`,children:y==="security"?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:Se==="ar"?"   ":"No security events found"}),s.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Se==="ar"?'  "  "  ':'Click "Add Test Event" to create a log'})]}):s.jsxs(s.Fragment,{children:[s.jsx(ad,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:Se==="ar"?"   ":"No audit logs found"}),s.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Se==="ar"?"      ":"Logs will appear when changes are made"})]})})}):y==="security"?ge.map(ve=>{var ht,zt,cs,Mt,jr,It,Xt;return s.jsxs("tr",{className:`${te.cardHover} transition-colors`,children:[s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ve.severity==="CRITICAL"?"bg-red-500/10 text-red-500":ve.severity==="HIGH"?"bg-orange-500/10 text-orange-500":ve.severity==="MEDIUM"?"bg-yellow-500/10 text-yellow-500":"bg-blue-500/10 text-blue-500"}`,children:ve.severity})}),s.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[s.jsx("div",{className:"font-medium break-words",children:ve.action}),s.jsx("div",{className:`text-xs ${te.textMuted} break-words line-clamp-2`,children:ve.details||"..."})]}),s.jsx("td",{className:`px-2 py-4 ${te.text}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(PE,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm break-words",children:typeof ve.metadata=="object"?(ht=ve.metadata)==null?void 0:ht.os:"Unknown"})]})}),s.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ju,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm break-words",children:typeof ve.metadata=="object"&&((zt=ve.metadata)!=null&&zt.city)&&((cs=ve.metadata)!=null&&cs.country)?`${ve.metadata.city}, ${ve.metadata.country}`:typeof ve.metadata=="object"&&((Mt=ve.metadata)==null?void 0:Mt.country)||"-"})]}),typeof ve.metadata=="object"&&((jr=ve.metadata)==null?void 0:jr.isVpn)&&s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 mt-1",children:"VPN"})]}),s.jsxs("td",{className:"px-2 py-4",children:[s.jsx("div",{className:`${te.text} break-words`,children:((It=ve.user)==null?void 0:It.email)||gt.system}),s.jsx("div",{className:`text-xs ${te.textDim} break-words`,children:ve.ipAddress})]}),s.jsx("td",{className:`px-2 py-4 ${te.textDim} whitespace-nowrap`,children:new Date(ve.createdAt).toLocaleString()}),s.jsx("td",{className:"px-2 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[((Xt=ve.user)==null?void 0:Xt.email)&&s.jsx("button",{onClick:()=>{var Jr;return Me(((Jr=ve.user)==null?void 0:Jr.email)||"")},className:"p-1.5 rounded-lg bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 transition-colors",title:Se==="ar"?"  ":"View User Activity",children:s.jsx(mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>St({title:Se==="ar"?" ":"Event Details",description:`${ve.action}: ${ve.details}`}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",title:Se==="ar"?"":"View",children:s.jsx(fr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>St({variant:"destructive",title:Se==="ar"?"":"Delete",description:`ID: ${ve.id}`}),className:"p-1.5 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-colors",title:Se==="ar"?"":"Delete",children:s.jsx(_r,{className:"w-4 h-4"})})]})})]},ve.id)}):ge.map(ve=>{var ht,zt,cs,Mt;return s.jsxs("tr",{className:`${te.cardHover} transition-colors`,children:[s.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[s.jsx("div",{className:"font-medium break-words",children:ve.action}),s.jsx("div",{className:`text-xs ${te.textMuted} break-words line-clamp-2`,children:ve.details||ve.resourceType||""})]}),s.jsx("td",{className:`px-2 py-4 ${te.text}`,children:s.jsx("code",{className:`text-xs ${te.textMuted} break-all font-mono`,children:ve.url||"-"})}),s.jsx("td",{className:`px-2 py-4 ${te.text}`,children:s.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-500 rounded text-xs whitespace-nowrap",children:ve.resourceType||"-"})}),s.jsxs("td",{className:`px-2 py-4 ${te.text}`,children:[s.jsx("div",{className:"font-medium break-words",children:((ht=ve.user)==null?void 0:ht.email)||ve.userEmail||gt.system}),s.jsx("div",{className:`text-xs ${te.textDim} break-words`,children:((zt=ve.user)==null?void 0:zt.name)||ve.userName||""})]}),s.jsx("td",{className:`px-2 py-4 ${te.text} break-words`,children:((cs=ve.tenant)==null?void 0:cs.name)||ve.tenantName||"-"}),s.jsx("td",{className:`px-2 py-4 ${te.textDim} whitespace-nowrap`,children:new Date(ve.createdAt).toLocaleString()}),s.jsx("td",{className:"px-2 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[((Mt=ve.user)==null?void 0:Mt.email)&&s.jsx("button",{onClick:()=>{var jr;return Me(((jr=ve.user)==null?void 0:jr.email)||"")},className:"p-1.5 rounded-lg bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 transition-colors",title:Se==="ar"?"  ":"View User Activity",children:s.jsx(mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>St({title:Se==="ar"?"":"Details",description:ve.details}),className:"p-1.5 rounded-lg bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 transition-colors",children:s.jsx(fr,{className:"w-4 h-4"})})]})})]},ve.id)})})]})}),m.length>0&&s.jsxs("div",{className:`p-4 border-t ${te.border} flex flex-col sm:flex-row items-center justify-between gap-4`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"":"Show"}),s.jsxs("select",{value:F,onChange:ve=>{I(Number(ve.target.value)),O(1)},className:`${te.input} border rounded-lg py-1 px-2 text-sm ${te.text} focus:outline-none ${te.focus}`,children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?" ":"per page"})]}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?` ${_}  ${oe} (${m.length} ${m.length===1,""})`:`Page ${_} of ${oe} (${m.length} ${m.length===1?"result":"results"})`}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>O(ve=>Math.max(1,ve-1)),disabled:_===1,className:`p-2 rounded-lg border ${te.border} ${_===1?`${te.textDim} cursor-not-allowed opacity-50`:`${te.textMuted} hover:${te.accentText} hover:border-violet-500`} transition-colors`,children:s.jsx($c,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,oe)},(ve,ht)=>{let zt;return oe<=5||_<=3?zt=ht+1:_>=oe-2?zt=oe-4+ht:zt=_-2+ht,s.jsx("button",{onClick:()=>O(zt),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${_===zt?`${te.accent} text-white`:`${te.card} ${te.border} border ${te.textMuted} hover:${te.accentText}`}`,children:zt},zt)})}),s.jsx("button",{onClick:()=>O(ve=>Math.min(oe,ve+1)),disabled:_===oe,className:`p-2 rounded-lg border ${te.border} ${_===oe?`${te.textDim} cursor-not-allowed opacity-50`:`${te.textMuted} hover:${te.accentText} hover:border-violet-500`} transition-colors`,children:s.jsx(Ms,{className:"w-4 h-4"})})]})]})]})]}),V==="limits"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:Se==="ar"?" ":"System Limits"}),s.jsx("button",{onClick:ue,disabled:tt,className:`px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors flex items-center gap-2 ${tt?"opacity-50 cursor-not-allowed":""}`,children:tt?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),Se==="ar"?" ...":"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-4 h-4"}),Se==="ar"?"":"Save"]})})]}),st?s.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-12 text-center`,children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin mx-auto text-violet-500"}),s.jsx("p",{className:`mt-4 ${te.textMuted}`,children:Se==="ar"?"  ...":"Loading settings..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[s.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Se==="ar"?"/ ":"Enable/Disable Registration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`font-semibold ${te.text}`,children:Se==="ar"?" ":"Enable Signup"}),s.jsx("p",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"     ":"Allow new users to sign up"})]}),s.jsx("button",{onClick:()=>Ie(ve=>({...ve,signupEnabled:!ve.signupEnabled})),className:`relative w-14 h-7 rounded-full transition-colors ${xe.signupEnabled?"bg-violet-600":"bg-gray-600"}`,children:s.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${xe.signupEnabled?"translate-x-7":"translate-x-0"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`font-semibold ${te.text}`,children:Se==="ar"?"  ":"Enable Signin"}),s.jsx("p",{className:`text-sm ${te.textMuted}`,children:Se==="ar"?"   ":"Allow users to sign in"})]}),s.jsx("button",{onClick:()=>Ie(ve=>({...ve,signinEnabled:!ve.signinEnabled})),className:`relative w-14 h-7 rounded-full transition-colors ${xe.signinEnabled?"bg-violet-600":"bg-gray-600"}`,children:s.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform ${xe.signinEnabled?"translate-x-7":"translate-x-0"}`})})]})]})]}),s.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[s.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Se==="ar"?"  ":"Signup Rate Limits"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Se==="ar"?"   ":"Max Signup Attempts"}),s.jsx("input",{type:"number",min:"1",max:"100",value:xe.signupMaxAttempts,onChange:ve=>Ie(ht=>({...ht,signupMaxAttempts:parseInt(ve.target.value)||3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),s.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Se==="ar"?"       ":"Number of signup attempts allowed in the time window"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Se==="ar"?"  ()":"Time Window (hours)"}),s.jsx("input",{type:"number",min:"0.1",step:"0.1",value:(xe.signupWindowMs/(60*60*1e3)).toFixed(1),onChange:ve=>Ie(ht=>({...ht,signupWindowMs:parseFloat(ve.target.value)*60*60*1e3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),s.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Se==="ar"?"       ":"Time period in hours for counting attempts"})]})]})]}),s.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[s.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Se==="ar"?"   ":"Signin Rate Limits"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Se==="ar"?"    ":"Max Signin Attempts"}),s.jsx("input",{type:"number",min:"1",max:"100",value:xe.signinMaxAttempts,onChange:ve=>Ie(ht=>({...ht,signinMaxAttempts:parseInt(ve.target.value)||5})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),s.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Se==="ar"?"        ":"Number of signin attempts allowed in the time window"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Se==="ar"?"  ()":"Time Window (minutes)"}),s.jsx("input",{type:"number",min:"1",value:(xe.signinWindowMs/(60*1e3)).toFixed(0),onChange:ve=>Ie(ht=>({...ht,signinWindowMs:parseInt(ve.target.value)*60*1e3})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),s.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Se==="ar"?"       ":"Time period in minutes for counting attempts"})]})]})]}),s.jsxs("div",{className:`${te.card} ${te.border} border rounded-xl p-6`,children:[s.jsx("h3",{className:`text-xl font-bold ${te.text} mb-4`,children:Se==="ar"?"   ":"Stores Per User Limit"}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${te.text} mb-2`,children:Se==="ar"?"    ":"Max Stores Per User"}),s.jsx("input",{type:"number",min:"1",max:"100",value:xe.maxStoresPerUser,onChange:ve=>Ie(ht=>({...ht,maxStoresPerUser:parseInt(ve.target.value)||2})),className:`w-full px-4 py-2 ${te.bgSecondary} ${te.border} border rounded-lg ${te.text} focus:outline-none focus:ring-2 focus:ring-violet-500`}),s.jsx("p",{className:`text-xs ${te.textMuted} mt-1`,children:Se==="ar"?"        ":"Maximum number of stores a single user can create"})]})]})]})]}),V==="analytics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:`text-3xl font-bold ${te.text}`,children:Se==="ar"?"":"Analytics"})}),s.jsxs("div",{className:`${Ot} rounded-2xl p-6`,children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-orange-500/10 rounded-xl",children:s.jsx(ad,{className:"w-8 h-8 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-xl font-bold ${te.text}`,children:"Google Analytics"}),s.jsx("p",{className:te.textMuted,children:Se==="ar"?"    ":"Connect your account to view store statistics"})]})]}),s.jsxs("div",{className:`p-6 ${_t?"bg-gray-800":"bg-slate-100"} rounded-xl mb-6`,children:[s.jsx("h4",{className:`font-medium ${te.text} mb-4`,children:Se==="ar"?" Google Analytics":"Google Analytics Setup"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm ${te.textMuted} mb-2`,children:Se==="ar"?"  (Measurement ID)":"Measurement ID"}),s.jsx("input",{type:"text",placeholder:"G-XXXXXXXXXX",className:`w-full ${te.input} border rounded-lg py-2 px-4 ${te.text} focus:outline-none ${te.focus}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm ${te.textMuted} mb-2`,children:Se==="ar"?" API ()":"API Key (Optional)"}),s.jsx("input",{type:"password",placeholder:"",className:`w-full ${te.input} border rounded-lg py-2 px-4 ${te.text} focus:outline-none ${te.focus}`})]}),s.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-medium rounded-lg hover:from-orange-600 hover:to-amber-600 transition-all",children:Se==="ar"?" ":"Save Settings"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{label:Se==="ar"?" ":"Visitors Today",value:"-",icon:mr,color:"blue"},{label:Se==="ar"?" ":"Page Views",value:"-",icon:fr,color:"green"},{label:Se==="ar"?" ":"Bounce Rate",value:"-",icon:ad,color:"yellow"},{label:Se==="ar"?" ":"Avg. Session",value:"-",icon:PE,color:"purple"}].map((ve,ht)=>s.jsxs("div",{className:`${_t?"bg-gray-800":"bg-slate-100"} p-4 rounded-xl`,children:[s.jsx("div",{className:`p-2 bg-${ve.color}-500/10 rounded-lg w-fit mb-2`,children:s.jsx(ve.icon,{className:`w-5 h-5 text-${ve.color}-500`})}),s.jsx("div",{className:`text-2xl font-bold ${te.text}`,children:ve.value}),s.jsx("div",{className:`text-sm ${te.textMuted}`,children:ve.label})]},ht))}),s.jsxs("div",{className:`p-8 text-center ${te.textMuted} ${_t?"bg-gray-800":"bg-slate-100"} rounded-xl`,children:[s.jsx(ad,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:Se==="ar"?"   Google Analytics ":"Google Analytics not connected yet"}),s.jsx("p",{className:`text-sm mt-2 ${te.textDim}`,children:Se==="ar"?"      ":"Enter your Measurement ID to view data"})]})]})]})]},V)})]}),s.jsx(Wi,{children:M&&R&&s.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>G(!1),children:s.jsxs(Je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`${te.card} rounded-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden shadow-2xl`,onClick:ve=>ve.stopPropagation(),children:[s.jsxs("div",{className:`p-6 border-b ${te.border} flex items-center justify-between`,children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-xl font-bold ${te.text}`,children:Se==="ar"?" ":"User Activity"}),s.jsxs("p",{className:`text-sm ${te.textMuted} mt-1`,children:[s.jsx(mr,{className:"w-4 h-4 inline-block mr-2"}),R]})]}),s.jsx("button",{onClick:()=>G(!1),className:`p-2 rounded-lg ${te.cardHover} transition-colors`,children:s.jsx(hr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4 border-b border-gray-700",children:[s.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[s.jsx("div",{className:"text-2xl font-bold text-blue-500",children:H.length}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?" ":"Total Logs"})]}),s.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[s.jsx("div",{className:"text-2xl font-bold text-green-500",children:H.filter(ve=>ve.severity==="LOW"||ve.severity==="MEDIUM"||!ve.severity).length}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?"":"Normal"})]}),s.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[s.jsx("div",{className:"text-2xl font-bold text-amber-500",children:H.filter(ve=>ve.severity==="HIGH").length}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?"":"Warnings"})]}),s.jsxs("div",{className:`${te.card} p-4 rounded-xl text-center`,children:[s.jsx("div",{className:"text-2xl font-bold text-red-500",children:H.filter(ve=>ve.severity==="CRITICAL").length}),s.jsx("div",{className:`text-xs ${te.textMuted}`,children:Se==="ar"?"":"Errors"})]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[50vh] p-4 space-y-3",children:H.length===0?s.jsxs("div",{className:`text-center py-12 ${te.textMuted}`,children:[s.jsx(ad,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:Se==="ar"?"    ":"No logs found for this user"})]}):H.map(ve=>s.jsx("div",{className:`${te.card} p-4 rounded-xl border ${ve.severity==="CRITICAL"?"border-red-500/50 bg-red-500/5":ve.severity==="HIGH"?"border-amber-500/50 bg-amber-500/5":te.border}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ve.severity&&s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${ve.severity==="CRITICAL"?"bg-red-500/20 text-red-400":ve.severity==="HIGH"?"bg-amber-500/20 text-amber-400":ve.severity==="MEDIUM"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:ve.severity}),s.jsx("span",{className:`font-medium ${te.text}`,children:ve.action})]}),s.jsx("p",{className:`text-sm ${te.textMuted}`,children:ve.details||"-"}),s.jsxs("div",{className:`flex items-center gap-4 mt-2 text-xs ${te.textDim}`,children:[ve.ipAddress&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-3 h-3"}),ve.ipAddress]}),typeof ve.metadata=="object"&&ve.metadata&&"os"in ve.metadata&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(PE,{className:"w-3 h-3"}),ve.metadata.os]}),typeof ve.metadata=="object"&&ve.metadata&&"country"in ve.metadata&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ju,{className:"w-3 h-3"}),ve.metadata.city||""," ",ve.metadata.country]})]})]}),s.jsx("div",{className:`text-xs ${te.textDim} whitespace-nowrap`,children:new Date(ve.createdAt).toLocaleString()})]})},ve.id))})]})})})]}):s.jsxs("div",{className:`min-h-screen ${te.bg} flex items-center justify-center p-4`,dir:we?"rtl":"ltr",children:[s.jsxs("div",{className:"fixed top-4 right-4 flex gap-2",children:[s.jsx("button",{onClick:()=>vr(Se==="en"?"ar":"en"),className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:s.jsx(Oa,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>as(!_t),className:`p-2 ${te.card} ${te.border} border rounded-lg ${te.textMuted} hover:${te.accentText} transition-colors`,children:_t?s.jsx(Nu,{className:"w-5 h-5"}):s.jsx(_d,{className:"w-5 h-5"})})]}),s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${Ot} p-8 rounded-2xl w-full max-w-md shadow-2xl`,children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("div",{className:`p-4 ${te.accentBg} rounded-full`,children:s.jsx(Ws,{className:`w-12 h-12 ${te.accentText}`})})}),s.jsx("h1",{className:`text-2xl font-bold ${te.text} text-center mb-2`,children:gt.systemAdminAccess}),s.jsx("p",{className:`${te.textMuted} text-center mb-8`,children:gt.restrictedArea}),s.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ci,{className:`absolute ${we?"right-3":"left-3"} top-1/2 -translate-y-1/2 w-5 h-5 ${te.textDim}`}),s.jsx("input",{type:"password",value:e,onChange:ve=>t(ve.target.value),className:`w-full ${te.input} border rounded-lg py-3 ${we?"pr-10 pl-4":"pl-10 pr-4"} ${te.text} focus:outline-none ${te.focus} transition-colors`,placeholder:gt.enterPassword,autoFocus:!0})]}),s.jsx("button",{type:"submit",className:`w-full ${te.accent} ${te.accentHover} text-white font-semibold py-3 rounded-lg transition-colors`,children:gt.accessPanel})]})]})]})}function ngt({adminPassword:e,onUpdate:t,theme:r,language:a,cardStyle:n}){const[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[p,g]=f.useState(!1),[x,y]=f.useState(!0),{toast:w}=Rt();f.useEffect(()=>{b()},[]);const b=async()=>{try{y(!0);const k=await he.get("/admin/master/admin-api-key",{requireAuth:!0,adminApiKey:e});o(k.apiKey||"")}catch(k){console.error("Failed to load admin API key:",k),w({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"   API":"Failed to load API key"})}finally{y(!1)}},v=()=>{const S=`system-admin-${Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}`;c(S)},N=async()=>{var k,S;if(!l.trim()||l.trim().length<20){w({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"    API 20   ":"API key must be at least 20 characters long"});return}if(l.trim()==="Saeaa2025Admin!"||l.trim().length<20){w({variant:"destructive",title:a==="ar"?"":"Error",description:a==="ar"?"    .     .":"Cannot use default key. Please choose a strong, secure key."});return}try{g(!0),await he.post("/admin/master/admin-api-key",{apiKey:l.trim()},{requireAuth:!0,adminApiKey:e}),w({title:a==="ar"?"":"Success",description:a==="ar"?"   API ":"API key updated successfully"}),c(""),await b(),t()}catch(C){console.error("Failed to update admin API key:",C),w({variant:"destructive",title:a==="ar"?"":"Error",description:((S=(k=C==null?void 0:C.response)==null?void 0:k.data)==null?void 0:S.message)||(a==="ar"?"   API":"Failed to update API key")})}finally{g(!1)}},j=k=>{navigator.clipboard.writeText(k),w({title:a==="ar"?" ":"Copied",description:a==="ar"?"   API  ":"API key copied to clipboard"})};return s.jsxs("div",{className:`${n} p-6 rounded-2xl border-2 border-violet-500/20`,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:`text-xl font-bold ${r.text} mb-2`,children:a==="ar"?" API ":"Admin API Key"}),s.jsx("p",{className:`text-sm ${r.textMuted}`,children:a==="ar"?"  API  .       .":"Manage the system admin API key. This key is used to access the admin panel."})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${r.text} mb-2`,children:a==="ar"?" API ":"Current API Key"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:d?"text":"password",value:x?a==="ar"?" ...":"Loading...":i,readOnly:!0,className:`flex-1 px-4 py-2 ${r.input} border ${r.border} rounded-lg font-mono text-sm`}),s.jsx("button",{onClick:()=>u(!d),className:`p-2 ${r.card} border ${r.border} rounded-lg ${r.textMuted} hover:${r.accentText}`,children:s.jsx(fr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(i),className:`p-2 ${r.card} border ${r.border} rounded-lg ${r.textMuted} hover:${r.accentText}`,children:s.jsx(du,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium ${r.text} mb-2`,children:a==="ar"?" API ":"New API Key"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:h?"text":"password",value:l,onChange:k=>c(k.target.value),placeholder:a==="ar"?"  API  (8   )":"Enter new API key (min 8 characters)",className:`flex-1 px-4 py-2 ${r.input} border ${r.border} rounded-lg font-mono text-sm`}),s.jsx("button",{onClick:()=>m(!h),className:`p-2 ${r.card} border ${r.border} rounded-lg ${r.textMuted} hover:${r.accentText}`,children:s.jsx(fr,{className:"w-4 h-4"})})]}),s.jsx("p",{className:`text-xs ${r.textMuted} mt-1`,children:a==="ar"?"    20   .    .":"Key must be at least 20 characters long. Use a strong, random key."}),s.jsx("button",{onClick:v,type:"button",className:`mt-2 px-3 py-1.5 text-xs ${r.card} border ${r.border} rounded-lg ${r.textMuted} hover:${r.accentText} transition-colors`,children:a==="ar"?"   ":" Generate Random Key"})]}),s.jsx("div",{className:`p-3 rounded-lg border ${r.border} bg-yellow-500/10 border-yellow-500/30`,children:s.jsxs("p",{className:`text-xs ${r.text} flex items-center gap-2`,children:[s.jsx("span",{children:""}),s.jsx("span",{children:a==="ar"?"       .          .":"Make sure to save the new key in a secure place. You will lose access to the admin panel if you lose the key."})]})}),s.jsx("button",{onClick:N,disabled:p||!l.trim()||l.trim().length<20,className:`w-full px-4 py-2 ${r.accent} ${r.accentHover} text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:p?a==="ar"?" ...":"Updating...":a==="ar"?"  API":"Update API Key"})]})]})}const uW=[{id:"gaming",name:"Gaming & PUBG",nameAr:"  PUBG",icon:qme,description:"Gaming cards, PUBG UC, game credits",descriptionAr:"     ",color:"from-purple-500 to-pink-500"},{id:"playstation",name:"PlayStation Store",nameAr:" ",icon:zo,description:"PS Plus, PS Store cards, games",descriptionAr:"    ",color:"from-blue-500 to-cyan-500"},{id:"communications",name:"Chat & Communications",nameAr:" ",icon:un,description:"Recharge cards, chat credits, VoIP",descriptionAr:"    ",color:"from-green-500 to-emerald-500"}],igt=[{value:"daily",label:"Daily",labelAr:""},{value:"weekly",label:"Weekly",labelAr:""},{value:"monthly",label:"Monthly",labelAr:""},{value:"yearly",label:"Yearly",labelAr:""}],ogt=[{id:"hyperpay",name:"HyperPay",description:"Visa, Mastercard, Mada",icon:""},{id:"stripe",name:"Stripe",description:"International payments",icon:""},{id:"paypal",name:"PayPal",description:"PayPal payments",icon:""},{id:"cod",name:"Cash on Delivery",description:"Pay on delivery",icon:""}];function lgt(){var A;const e=Kr(),{toast:t}=Rt(),[r,a]=f.useState(1),[n,i]=f.useState(!1),[o,l]=f.useState({marketCategory:"",storeName:"",storeNameAr:"",selectedProducts:[],logo:null,logoPreview:"",selectedTemplate:"",reportFrequency:"monthly",paymentGateways:[]}),[c,d]=f.useState([]),[u,h]=f.useState([]),[m,p]=f.useState(null),g=7,x=async E=>{l({...o,marketCategory:E});try{console.log(" Fetching products for category:",E);const D=await he.getProducts({categoryId:E,limit:100,market:!0});console.log(" Received products:",D);const P=Array.isArray(D)?D:D.data||[];console.log(" Product list:",P),d(P)}catch(D){console.error("Failed to load products:",D),t({title:"  ",description:"    .    .",variant:"destructive"})}},y=async E=>{var _;const D=(_=E.target.files)==null?void 0:_[0];if(!D)return;const{isValid:P,reason:T}=await Rk(D);if(!P){t({title:"  ",description:T||"    ",variant:"destructive"}),E.target.value="";return}l({...o,logo:D,logoPreview:URL.createObjectURL(D)})},w=f.useCallback(async()=>{i(!0);try{const E=uW.find(O=>O.id===o.marketCategory),D=E?E.name:"E-commerce",P=E?E.nameAr:" ",T=`Create a professional ${D} e-commerce website for "${o.storeName}" (${o.storeNameAr}).

BUSINESS: ${o.storeName} - ${D} store
PRODUCTS: ${o.selectedProducts.length>0?`${o.selectedProducts.length} products`:"Digital products"}
BRANDING: ${o.logo?"Custom logo":"Modern professional"}

REQUIREMENTS:
- Stunning conversion-optimized design
- Prominent ${D} product showcases
- Trust elements (testimonials, stats)
- Clear CTAs, mobile-responsive
- High-quality Unsplash images

TARGET: ${D} enthusiasts
STYLE: Professional, modern, trustworthy

CRITICAL: Create 3 DISTINCT variations:
1. Bold & Vibrant - Strong colors, dynamic
2. Clean & Minimal - Elegant, subtle
3. Modern & Premium - Gradients, luxury`;console.log(" Generating AI templates with prompt:",T);const _=await he.post("/templates/ai/generate-variations",{vision:T,businessType:D,category:"product"},{requireAuth:!0});if(Array.isArray(_))h(_.map((O,F)=>({id:`ai-generated-${F}`,name:O.template.name||`AI Template ${F+1}`,description:O.template.description,preview:O.template.thumbnail||"/placeholder-template.jpg",content:O.template.content})));else{const O=_.variations||[_.template];h(O.map((F,I)=>({id:`ai-generated-${I}`,name:F.name||`AI Template ${I+1}`,description:F.description,preview:F.thumbnail||"/placeholder-template.jpg",content:F.content})))}t({title:"   ",description:`  3     ${o.storeName}`})}catch(E){console.error("Failed to generate templates:",E),t({title:"Note",description:"Using default templates (AI generation unavailable)",variant:"default"});const D=[{type:"header",data:{logo:"Store Name",links:[{label:"Home",url:"/"},{label:"Products",url:"/products"}]},styles:{padding:"20px",background:"#fff"}},{type:"hero",data:{title:"Welcome"},styles:{padding:"4rem",textAlign:"center"}},{type:"features",data:{items:[]},styles:{background:"#f5f5f5",padding:"4rem"}},{type:"products-grid",data:{title:"Featured Products",count:4},styles:{padding:"4rem"}},{type:"testimonials",data:{items:[]},styles:{padding:"4rem"}},{type:"footer",data:{copyright:" 2024 Store"},styles:{padding:"2rem",background:"#000",color:"#fff"}}];h([{id:"modern",name:"Modern Gamer",preview:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=500&q=80",description:"Bold and energetic design",content:D},{id:"classic",name:"Digital Classic",preview:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=500&q=80",description:"Clean and professional layout",content:D},{id:"minimal",name:"Tech Minimal",preview:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=500&q=80",description:"Simple and focused on products",content:D}])}finally{i(!1)}},[o.marketCategory,o.storeName,t]);f.useEffect(()=>{r===5&&u.length===0&&w()},[r,u.length,w]);const b=E=>{const D=o.selectedProducts.includes(E);l({...o,selectedProducts:D?o.selectedProducts.filter(P=>P!==E):[...o.selectedProducts,E]})},v=E=>{const D=o.paymentGateways.includes(E);l({...o,paymentGateways:D?o.paymentGateways.filter(P=>P!==E):[...o.paymentGateways,E]})},N=()=>{r<g&&a(r+1)},j=()=>{r>1&&a(r-1)},k=async()=>{var E,D,P,T;i(!0);try{let _="";if(o.logo){const I=new FormData;I.append("files",o.logo);const R=await he.post("/upload/images",I,{headers:{"Content-Type":"multipart/form-data"},requireAuth:!0});_=((D=(E=R.files)==null?void 0:E[0])==null?void 0:D.secureUrl)||((T=(P=R.files)==null?void 0:P[0])==null?void 0:T.url)||""}const O=u.find(I=>I.id===o.selectedTemplate),F={name:o.storeName,nameAr:o.storeNameAr,category:o.marketCategory,products:o.selectedProducts,logo:_,template:o.selectedTemplate,templateContent:O==null?void 0:O.content,reportFrequency:o.reportFrequency,paymentGateways:o.paymentGateways};await he.post("/partner/marketplace",F,{requireAuth:!0}),t({title:"! ",description:"   "}),setTimeout(()=>{e("/dashboard")},2e3)}catch(_){console.error("Failed to create marketplace:",_),t({title:"  ",description:"    .    .",variant:"destructive"})}finally{i(!1)}},S=()=>{switch(r){case 1:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"      ASUS"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:uW.map(E=>{const D=E.icon,P=o.marketCategory===E.id;return s.jsxs(je,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl ${P?"ring-2 ring-primary shadow-lg scale-105":""}`,onClick:()=>x(E.id),children:[s.jsxs(et,{children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${E.color} flex items-center justify-center mb-4`,children:s.jsx(D,{className:"h-8 w-8 text-white"})}),s.jsx(at,{className:"text-xl",children:E.nameAr}),s.jsx(Vt,{children:E.descriptionAr})]}),s.jsx(Ce,{children:P&&s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx(Ba,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:" "})]})})]},E.id)})})]});case 2:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Vs,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),s.jsx(je,{children:s.jsxs(Ce,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeName",children:"  (English)"}),s.jsx(me,{id:"storeName",value:o.storeName,onChange:E=>l({...o,storeName:E.target.value}),placeholder:"My Gaming Store",className:"text-lg"})]}),s.jsxs("div",{children:[s.jsx(X,{htmlFor:"storeNameAr",children:"  ()"}),s.jsx(me,{id:"storeNameAr",value:o.storeNameAr,onChange:E=>l({...o,storeNameAr:E.target.value}),placeholder:" ",className:"text-lg"})]})]})})]});case 3:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(zo,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"      "})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4 max-h-[500px] overflow-y-auto",children:c.map(E=>{var P;const D=o.selectedProducts.includes(E.id);return s.jsx(je,{className:`cursor-pointer transition-all ${D?"ring-2 ring-primary":""}`,onClick:()=>b(E.id),children:s.jsxs(Ce,{className:"p-4",children:[((P=E.images)==null?void 0:P[0])&&s.jsx("img",{src:E.images[0].url,alt:E.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),s.jsx("h3",{className:"font-semibold mb-1",children:E.name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[E.price," ."]}),D&&s.jsxs("div",{className:"flex items-center gap-2 text-primary text-sm",children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx("span",{children:""})]})]})},E.id)})}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:["  ",o.selectedProducts.length," "]})]});case 4:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Gn,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  "})]}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsx("div",{className:"flex flex-col items-center gap-4",children:o.logoPreview?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o.logoPreview,alt:"Logo preview",className:"w-48 h-48 object-contain rounded-lg border-2 border-dashed border-gray-300"}),s.jsx(z,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>l({...o,logo:null,logoPreview:""}),children:""})]}):s.jsxs("label",{className:"w-48 h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[s.jsx(Gn,{className:"h-12 w-12 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"  "}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y})]})})})})]});case 5:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ds,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"     "})]}),n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-gray-600",children:"    ..."})]}):s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(E=>{const D=o.selectedTemplate===E.id;return s.jsx(je,{className:`cursor-pointer transition-all relative group ${D?"ring-2 ring-primary shadow-lg":""}`,onClick:()=>l({...o,selectedTemplate:E.id}),children:s.jsxs(Ce,{className:"p-4",children:[s.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 rounded-lg mb-3 flex items-center justify-center relative overflow-hidden",children:[E.preview&&E.preview.startsWith("http")?s.jsx("img",{src:E.preview,alt:E.name,className:"w-full h-full object-cover"}):s.jsx(An,{className:"h-12 w-12 text-gray-400"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs(z,{variant:"secondary",size:"sm",className:"gap-2",onClick:P=>{P.stopPropagation(),p(E)},children:[s.jsx(fr,{className:"h-4 w-4"}),""]})})]}),s.jsx("h3",{className:"font-semibold text-center",children:E.name}),D&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary mt-2",children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:""})]})]})},E.id)})})]});case 6:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ji,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"   "})]}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsx(Cw,{value:o.reportFrequency,onValueChange:E=>l({...o,reportFrequency:E}),children:igt.map(E=>s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-4 border rounded-lg mb-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsx(Oh,{value:E.value,id:E.value}),s.jsxs(X,{htmlFor:E.value,className:"flex-1 cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:E.labelAr}),s.jsx("div",{className:"text-sm text-gray-600",children:E.label})]})]},E.value))})})})]});case 7:return s.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Wr,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"    "})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ogt.map(E=>{const D=o.paymentGateways.includes(E.id);return s.jsx(je,{className:`cursor-pointer transition-all ${D?"ring-2 ring-primary":""}`,onClick:()=>v(E.id),children:s.jsx(Ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:E.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:E.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.description})]}),D&&s.jsx(Ba,{className:"h-6 w-6 text-primary"})]})})},E.id)})}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:["  ",o.paymentGateways.length,"  "]})]});default:return null}},C=()=>{switch(r){case 1:return o.marketCategory!=="";case 2:return o.storeName!==""&&o.storeNameAr!=="";case 3:return o.selectedProducts.length>0;case 4:return o.logo!==null;case 5:return o.selectedTemplate!=="";case 6:return o.reportFrequency!=="";case 7:return o.paymentGateways.length>0;default:return!1}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12",children:s.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:g}).map((E,D)=>s.jsx("div",{className:`flex-1 h-2 rounded-full mx-1 transition-all ${D+1<=r?"bg-gradient-to-r from-primary to-purple-600":"bg-gray-200 dark:bg-gray-700"}`},D))}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",r,"  ",g]})})]}),s.jsx(Wi,{mode:"wait",children:S()}),s.jsxs("div",{className:"flex justify-between mt-12",children:[s.jsxs(z,{variant:"outline",onClick:j,disabled:r===1,className:"gap-2",children:[s.jsx(ml,{className:"h-4 w-4"}),""]}),r===g?s.jsx(z,{onClick:k,disabled:!C()||n,className:"gap-2 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-700",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kf,{className:"h-5 w-5"})," "]})}):s.jsxs(z,{onClick:N,disabled:!C(),className:"gap-2",size:"lg",children:["",s.jsx(ta,{className:"h-4 w-4"})]})]}),s.jsx(Qt,{open:!!m,onOpenChange:E=>!E&&p(null),children:s.jsxs(Yt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(tr,{children:[s.jsx(rr,{children:m==null?void 0:m.name}),s.jsx(ur,{children:m==null?void 0:m.description})]}),s.jsxs("div",{className:"mt-4 space-y-6",children:[s.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:m!=null&&m.preview&&m.preview.startsWith("http")?s.jsx("img",{src:m.preview,alt:m.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(An,{className:"h-24 w-24 text-gray-300"})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-lg",children:" :"}),s.jsx("div",{className:"border rounded-lg overflow-hidden bg-white dark:bg-gray-950 max-h-[600px] overflow-y-auto",children:(A=m==null?void 0:m.content)==null?void 0:A.map((E,D)=>{const P={id:E.id||`preview-section-${D}`,type:E.type,props:{...E.data,...E.styles}};return s.jsx("div",{className:"relative",children:s.jsx(kw,{section:P})},D)})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{onClick:()=>{l({...o,selectedTemplate:m.id}),p(null)},children:"  "})})]})]})})]})})}function cgt({onAccept:e}){const[t,r]=f.useState(!1),[a]=f.useState(!0);f.useEffect(()=>{localStorage.getItem("cookiesAccepted")||r(!0)},[]);const n=()=>{localStorage.setItem("cookiesAccepted","true"),localStorage.setItem("cookiesAcceptedAt",new Date().toISOString()),r(!1),e()},i=()=>{localStorage.setItem("cookiesAccepted","true"),localStorage.setItem("cookiesAnalytics","true"),localStorage.setItem("cookiesMarketing","true"),localStorage.setItem("cookiesAcceptedAt",new Date().toISOString()),r(!1),e()};return t?s.jsx(Wi,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]"}),s.jsx(Je.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-[9999] p-4 md:p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-violet-600/20 to-blue-600/20 p-4 border-b border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-violet-500/20 rounded-xl",children:s.jsx(w4,{className:"w-6 h-6 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:a?"   ":"Cookie Policy"}),s.jsx("p",{className:"text-sm text-gray-400",children:a?"  ":"We need your consent to continue"})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx(Ws,{className:"w-10 h-10 text-green-400 flex-shrink-0 mt-1"}),s.jsx("div",{className:"text-gray-300 text-sm leading-relaxed",dir:a?"rtl":"ltr",children:a?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-3",children:"        .    :"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400 mb-3",children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"   "})]}),s.jsx("p",{className:"text-xs text-gray-500",children:'  " "        .'})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-3",children:"We use cookies to improve your experience on our website. These cookies help us:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400 mb-3",children:[s.jsx("li",{children:"Remember your preferences and settings"}),s.jsx("li",{children:"Improve your account security"}),s.jsx("li",{children:"Analyze how the site is used to improve it"}),s.jsx("li",{children:"Provide a personalized experience"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:'By clicking "Accept All", you agree to the use of all cookies.'})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",dir:a?"rtl":"ltr",children:[s.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-violet-600 to-blue-600 hover:from-violet-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40",children:a?" ":"Accept All"}),s.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-xl transition-colors border border-gray-600",children:a?" ":"Essential Only"})]}),s.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:a?s.jsxs(s.Fragment,{children:["   "," ",s.jsx("a",{href:"/privacy",className:"text-violet-400 hover:underline",children:" "})," ",""," ",s.jsx("a",{href:"/terms",className:"text-violet-400 hover:underline",children:" "})]}):s.jsxs(s.Fragment,{children:["By continuing, you agree to our"," ",s.jsx("a",{href:"/privacy",className:"text-violet-400 hover:underline",children:"Privacy Policy"})," ","and"," ",s.jsx("a",{href:"/terms",className:"text-violet-400 hover:underline",children:"Terms of Service"})]})})]})]})})]})}):null}function dgt(){const[e,t]=f.useState(!1),[r]=f.useState(!0);return f.useEffect(()=>{(()=>{document.cookie="cookieTest=1; path=/";const n=document.cookie.indexOf("cookieTest=")!==-1;document.cookie="cookieTest=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",n||t(!0)})()},[]),e?s.jsx(Wi,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999]"}),s.jsx(Je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-[10000] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-gradient-to-br from-red-900/90 via-gray-900 to-red-900/90 rounded-2xl shadow-2xl border-2 border-red-500/50 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600/30 to-orange-600/30 p-6 border-b border-red-500/50",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:s.jsx(Us,{className:"w-8 h-8 text-red-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:r?"   ":"Cookies Required"}),s.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r?"      ":"Cookies must be enabled to use this website"})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx(w4,{className:"w-12 h-12 text-yellow-400 flex-shrink-0 mt-1"}),s.jsx("div",{className:"text-gray-200 text-base leading-relaxed",dir:r?"rtl":"ltr",children:r?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-4 font-semibold text-white",children:"     ."}),s.jsx("p",{className:"mb-3",children:"       .      :"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300 mb-4",children:[s.jsx("li",{children:"     "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"text-yellow-200 font-medium mb-2",children:"    :"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300",children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:'   ""  "Privacy"'}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"  "})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-4 font-semibold text-white",children:"Cookies are disabled in your browser."}),s.jsx("p",{className:"mb-3",children:"To use this website, you must enable cookies. We use cookies to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300 mb-4",children:[s.jsx("li",{children:"Save your login session"}),s.jsx("li",{children:"Remember your preferences and settings"}),s.jsx("li",{children:"Ensure your account security"}),s.jsx("li",{children:"Improve your experience on the site"})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"text-yellow-200 font-medium mb-2",children:"How to enable cookies:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-300",children:[s.jsx("li",{children:"Open your browser settings"}),s.jsx("li",{children:'Go to "Privacy" or "Security" section'}),s.jsx("li",{children:"Enable cookies"}),s.jsx("li",{children:"Reload this page"})]})]})]})})]}),s.jsx("div",{className:"flex justify-center",dir:r?"rtl":"ltr",children:s.jsxs("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg shadow-red-500/25 hover:shadow-red-500/40 flex items-center gap-2",children:[s.jsx(w4,{className:"w-5 h-5"}),r?"  ":"Reload Page"]})})]})]})})]})}):null}function ugt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!0),[m,p]=f.useState("all"),[g,x]=f.useState(""),[y,w]=f.useState([]),[b,v]=f.useState(null),[N,j]=f.useState(0),[k,S]=f.useState(!1);f.useEffect(()=>{const I=async()=>{try{h(!0);const[L,H]=await Promise.all([he.get("/card-products/brands",{requireAuth:!0}),he.get("/card-products/categories",{requireAuth:!0})]);i(L||[]),l(H||[])}catch(L){console.error("Error fetching data:",L),Tr.error(e("common.error"," "))}finally{h(!1)}},R=async()=>{try{const L=await Ns.getBalance();j(Number(L.balance)||0)}catch(L){console.error("Error fetching wallet balance:",L)}};I(),R()},[e]),f.useEffect(()=>{(async()=>{if(!b){d([]);return}try{h(!0);const R=await he.get(`/card-products/brand/${b}`,{requireAuth:!0});d(R||[])}catch(R){console.error("Error fetching products:",R),Tr.error(e("common.error"," "))}finally{h(!1)}})()},[b,e]);const C=n.filter(I=>{var L;return g===""||I.name.toLowerCase().includes(g.toLowerCase())||((L=I.nameAr)==null?void 0:L.includes(g))}),A=I=>{w(R=>R.find(H=>H.product.id===I.id)?R.map(H=>H.product.id===I.id?{...H,quantity:H.quantity+1}:H):[...R,{product:I,quantity:1}]),Tr.success(e("cardsStore.addedToCart"))},E=(I,R)=>{w(L=>L.map(H=>{if(H.product.id===I){const W=H.quantity+R;return W<=0?null:{...H,quantity:W}}return H}).filter(Boolean))},D=I=>{w(R=>R.filter(L=>L.product.id!==I))},P=y.reduce((I,R)=>I+R.product.wholesalePrice*R.quantity,0),T=y.reduce((I,R)=>I+R.quantity,0),_=async I=>{try{await he.post(`/favorites/${I.id}/toggle`,{},{requireAuth:!0}),d(R=>R.map(L=>L.id===I.id?{...L,isFavorite:!L.isFavorite}:L)),Tr.success(I.isFavorite?e("cardsStore.removedFromFavorites"):e("cardsStore.addedToFavorites"))}catch(R){console.error("Error toggling favorite:",R)}},O=(I,R,L)=>{try{const H=atob(I),W=new Uint8Array(H.length);for(let J=0;J<H.length;J++)W[J]=H.charCodeAt(J);const M=new Blob([W],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),G=window.URL.createObjectURL(M),V=document.createElement("a");V.href=G,V.download=`${L}.xlsx`,document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(G);const q=atob(R),Y=new Blob([q],{type:"text/plain;charset=utf-8"}),U=window.URL.createObjectURL(Y),Z=document.createElement("a");Z.href=U,Z.download=`${L}.txt`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),window.URL.revokeObjectURL(U)}catch(H){console.error("Error downloading files:",H)}},F=async()=>{var I,R,L,H;if(y.length===0){Tr.error(e("cardsStore.cartEmpty"));return}S(!0);try{const W=y.reduce((q,Y)=>q+Y.product.wholesalePrice*Y.quantity,0);if(N<W){Tr.error(e("cardsStore.insufficientBalance")),S(!1),setTimeout(()=>{a("/dashboard/wallet")},2e3);return}const M=y.map(q=>({productId:q.product.id,quantity:q.quantity})),G=await he.post("/card-orders",{items:M},{requireAuth:!0}),V=(G==null?void 0:G.id)||((I=G==null?void 0:G.data)==null?void 0:I.id);if(V)try{const q=await he.get(`/card-orders/${V}/download-files`,{requireAuth:!0});q!=null&&q.excel&&(q!=null&&q.text)&&(O(q.excel,q.text,q.fileName||`Order_${G.orderNumber||V}`),Tr.success(e("cardsStore.downloadSuccess")))}catch(q){console.error("Error downloading files:",q)}w([]),Tr.success(e("cardsStore.orderCompletedSuccess")),a("/dashboard/cards/orders")}catch(W){console.error("Error completing card store order:",((R=W==null?void 0:W.response)==null?void 0:R.data)||W);const M=((H=(L=W==null?void 0:W.response)==null?void 0:L.data)==null?void 0:H.message)||(W==null?void 0:W.message);M&&(M.includes("")||M.includes("balance")||M.includes(" "))?(Tr.error(e("cardsStore.insufficientBalance")),setTimeout(()=>{a("/dashboard/wallet")},2e3)):Tr.error(e("cardsStore.orderFailed"))}finally{S(!1)}};return s.jsxs("div",{className:"flex h-[calc(100vh-4rem)] gap-4 p-4",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Vs,{className:"h-6 w-6"}),e("cardsStore.title")]})}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Or,{className:be("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground",r?"right-3":"left-3")}),s.jsx(me,{placeholder:e("cardsStore.searchPlaceholder"),value:g,onChange:I=>x(I.target.value),className:be(r?"pr-10":"pl-10")})]}),s.jsxs(nr,{value:m,onValueChange:p,children:[s.jsx(Jt,{className:"w-48",children:s.jsx(cr,{placeholder:e("cardsStore.allCategories")})}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"all",children:e("cardsStore.allCategories")}),o.map(I=>s.jsxs(Oe,{value:I.id,children:[I.icon," ",r&&I.nameAr||I.name]},I.id))]})]})]}),b&&s.jsxs(z,{variant:"outline",onClick:()=>v(null),className:"w-fit",children:[" ",e("cardsStore.backToBrands")]}),s.jsx(xn,{className:"flex-1",children:u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):b?s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:e("cardsStore.chooseCard")}),c.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Tt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:e("cardsStore.noCardsAvailable")})]}):s.jsx("div",{className:"space-y-3",children:c.map(I=>{var R;return s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:I.image?s.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"}):s.jsx(Tt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold truncate",children:r&&I.nameAr||I.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("cardsStore.retail"),": ",I.retailPrice.toFixed(2)," ",I.currency]})]}),s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>_(I),className:"flex-shrink-0",children:s.jsx(dn,{className:be("h-5 w-5",I.isFavorite&&"fill-red-500 text-red-500")})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold text-primary",children:[I.wholesalePrice.toFixed(2)," ",I.currency]}),s.jsx("span",{className:"text-xs text-muted-foreground mx-2",children:e("cardsStore.wholesale")})]}),y.find(L=>L.product.id===I.id)?s.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(I.id,-1),children:s.jsx(sm,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:(R=y.find(L=>L.product.id===I.id))==null?void 0:R.quantity}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(I.id,1),children:s.jsx(Gt,{className:"h-4 w-4"})})]}):s.jsx(z,{onClick:()=>A(I),disabled:I.availableStock===0,className:"bg-primary hover:bg-primary/90",children:e("cardsStore.addProduct")})]})]})]})})},I.id)})})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:e("cardsStore.chooseBrand")}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[C.length," ",e("cardsStore.brands")]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:C.map(I=>s.jsxs(je,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105 overflow-hidden",onClick:()=>v(I.id),children:[s.jsx("div",{className:"aspect-[4/3] bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center p-4",children:I.logo||I.image?s.jsx("img",{src:I.logo||I.image,alt:I.name,className:"max-w-full max-h-full object-contain"}):s.jsx(Vs,{className:"h-12 w-12 text-muted-foreground"})}),s.jsxs(Ce,{className:"p-3 text-center",children:[s.jsx("h3",{className:"font-semibold text-sm",children:r&&I.nameAr||I.name}),I.productCount!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[I.productCount," ",e("cardsStore.cards")]})]})]},I.id))})]})})]}),s.jsxs(je,{className:"w-80 flex-shrink-0 flex flex-col",children:[s.jsx(et,{className:"pb-3",children:s.jsxs(at,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Dr,{className:"h-5 w-5"}),e("cardsStore.shoppingCart"),T>0&&s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:T})]})}),s.jsx(Qs,{}),s.jsx(xn,{className:"flex-1",children:s.jsx("div",{className:"p-4 space-y-3",children:y.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:e("cardsStore.cartEmpty")})]}):y.map(I=>s.jsxs("div",{className:"flex items-start gap-3 p-2 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 rounded bg-background flex items-center justify-center overflow-hidden flex-shrink-0",children:I.product.image?s.jsx("img",{src:I.product.image,alt:"",className:"w-full h-full object-cover"}):s.jsx(Tt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:r&&I.product.nameAr||I.product.name}),s.jsxs("p",{className:"text-xs text-primary font-semibold",children:["$ ",I.product.wholesalePrice.toFixed(2)]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>E(I.product.id,-1),children:s.jsx(sm,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:I.quantity}),s.jsx(z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>E(I.product.id,1),children:s.jsx(Gt,{className:"h-3 w-3"})})]})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:()=>D(I.product.id),children:s.jsx(hr,{className:"h-4 w-4"})})]},I.product.id))})}),y.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Qs,{}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsStore.cardsCount"),":"]}),s.jsxs("span",{className:"font-medium",children:[T," ",e("cardsStore.cards")]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold",children:[e("cardsStore.total"),":"]}),s.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",P.toFixed(2)," ",e("cardsStore.usd")]})]}),s.jsx(z,{className:"w-full",size:"lg",onClick:F,disabled:k||y.length===0,children:k?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin ml-2"}),e("cardsStore.processing")]}):e("cardsStore.completeOrder")})]})]})]})]})}function hgt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState([]),[m,p]=f.useState(0),[g,x]=f.useState(!1);f.useEffect(()=>{const A=async()=>{try{l(!0);const D=await he.get("/favorites",{requireAuth:!0});i(D||[])}catch(D){console.error("Error fetching favorites:",D),Tr.error(e("common.error"," "))}finally{l(!1)}},E=async()=>{try{const D=await Ns.getBalance();p(Number(D.balance)||0)}catch(D){console.error("Error fetching wallet balance:",D)}};A(),E()},[e]);const y=n.filter(A=>{var D;return c===""||A.product.name.toLowerCase().includes(c.toLowerCase())||((D=A.product.nameAr)==null?void 0:D.includes(c))}),w=A=>{h(E=>E.find(P=>P.product.id===A.id)?E.map(P=>P.product.id===A.id?{...P,quantity:P.quantity+1}:P):[...E,{product:A,quantity:1}]),Tr.success(e("cardsStore.addedToCart"))},b=(A,E)=>{h(D=>D.map(P=>{if(P.product.id===A){const T=P.quantity+E;return T<=0?null:{...P,quantity:T}}return P}).filter(Boolean))},v=A=>{h(E=>E.filter(D=>D.product.id!==A))},N=u.reduce((A,E)=>A+E.product.wholesalePrice*E.quantity,0),j=u.reduce((A,E)=>A+E.quantity,0),k=async A=>{try{await he.delete(`/favorites/${A}`,{requireAuth:!0}),i(E=>E.filter(D=>D.product.id!==A)),Tr.success(e("cardsStore.removedFromFavorites"))}catch(E){console.error("Error removing favorite:",E),Tr.error(e("common.error"," "))}},S=(A,E,D)=>{try{const P=atob(A),T=new Uint8Array(P.length);for(let W=0;W<P.length;W++)T[W]=P.charCodeAt(W);const _=new Blob([T],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=window.URL.createObjectURL(_),F=document.createElement("a");F.href=O,F.download=`${D}.xlsx`,document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL(O);const I=atob(E),R=new Blob([I],{type:"text/plain;charset=utf-8"}),L=window.URL.createObjectURL(R),H=document.createElement("a");H.href=L,H.download=`${D}.txt`,document.body.appendChild(H),H.click(),document.body.removeChild(H),window.URL.revokeObjectURL(L)}catch(P){console.error("Error downloading files:",P)}},C=async()=>{var A,E,D,P;if(u.length===0){Tr.error(e("cardsStore.cartEmpty"));return}x(!0);try{const T=u.reduce((I,R)=>I+R.product.wholesalePrice*R.quantity,0);if(m<T){Tr.error(e("cardsStore.insufficientBalance")),x(!1),setTimeout(()=>{a("/dashboard/wallet")},2e3);return}const _=u.map(I=>({productId:I.product.id,quantity:I.quantity})),O=await he.post("/card-orders",{items:_},{requireAuth:!0}),F=(O==null?void 0:O.id)||((A=O==null?void 0:O.data)==null?void 0:A.id);if(F)try{const I=await he.get(`/card-orders/${F}/download-files`,{requireAuth:!0});I!=null&&I.excel&&(I!=null&&I.text)&&(S(I.excel,I.text,I.fileName||`Order_${O.orderNumber||F}`),Tr.success(e("cardsStore.downloadSuccess")))}catch(I){console.error("Error downloading files:",I)}h([]),Tr.success(e("cardsStore.orderCompletedSuccess")),a("/dashboard/cards/orders")}catch(T){console.error("Error completing favorites order:",((E=T==null?void 0:T.response)==null?void 0:E.data)||T);const _=((P=(D=T==null?void 0:T.response)==null?void 0:D.data)==null?void 0:P.message)||(T==null?void 0:T.message);_&&(_.includes("")||_.includes("balance")||_.includes(" "))?(Tr.error(e("cardsStore.insufficientBalance")),setTimeout(()=>{a("/dashboard/wallet")},2e3)):Tr.error(e("cardsStore.orderFailed"))}finally{x(!1)}};return s.jsxs("div",{className:"flex h-[calc(100vh-4rem)] gap-4 p-4",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-red-500"}),e("cardsFavorites.title")]})}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Or,{className:be("absolute top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground",r?"right-3":"left-3")}),s.jsx(me,{placeholder:e("cardsFavorites.searchPlaceholder"),value:c,onChange:A=>d(A.target.value),className:be(r?"pr-10":"pl-10")})]}),s.jsx(xn,{className:"flex-1",children:o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):y.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Yme,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("cardsFavorites.noFavorites")}),s.jsx("p",{className:"text-sm mb-4",children:e("cardsFavorites.addFromStore")}),s.jsx(z,{onClick:()=>a("/dashboard/cards/store"),children:e("cardsFavorites.browseStore")})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e("cardsFavorites.showing",{filtered:y.length,total:n.length})}),y.map(A=>{const E=A.product,D=u.find(P=>P.product.id===E.id);return s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(z,{variant:"ghost",size:"icon",onClick:()=>k(E.id),className:"flex-shrink-0",children:s.jsx(dn,{className:"h-5 w-5 fill-red-500 text-red-500"})}),s.jsx("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:E.image?s.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):s.jsx(Tt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold truncate",children:r&&E.nameAr||E.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("cardsStore.retail"),": $ ",E.retailPrice.toFixed(6)]}),s.jsx("div",{className:"flex items-center justify-between mt-2",children:s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",E.wholesalePrice.toFixed(6)]}),s.jsx("span",{className:"text-xs text-muted-foreground mx-2",children:e("cardsStore.wholesale")})]})})]}),s.jsx("div",{className:"flex-shrink-0",children:D?s.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(E.id,-1),children:s.jsx(sm,{className:"h-4 w-4"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:D.quantity}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(E.id,1),children:s.jsx(Gt,{className:"h-4 w-4"})})]}):s.jsx(z,{onClick:()=>w(E),disabled:E.availableStock===0,className:"bg-primary hover:bg-primary/90",children:e("cardsStore.addProduct")})})]})})},A.id)})]})})]}),s.jsxs(je,{className:"w-80 flex-shrink-0 flex flex-col",children:[s.jsx(et,{className:"pb-3",children:s.jsxs(at,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Dr,{className:"h-5 w-5"}),e("cardsStore.shoppingCart"),j>0&&s.jsx(Ze,{variant:"secondary",className:"ml-auto",children:j})]})}),s.jsx(Qs,{}),s.jsx(xn,{className:"flex-1",children:s.jsx("div",{className:"p-4 space-y-3",children:u.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:e("cardsStore.cartEmpty")})]}):u.map(A=>s.jsxs("div",{className:"flex items-start gap-3 p-2 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 rounded bg-background flex items-center justify-center overflow-hidden flex-shrink-0",children:A.product.image?s.jsx("img",{src:A.product.image,alt:"",className:"w-full h-full object-cover"}):s.jsx(Tt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:r&&A.product.nameAr||A.product.name}),s.jsxs("p",{className:"text-xs text-primary font-semibold",children:["$ ",A.product.wholesalePrice.toFixed(2)]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>b(A.product.id,-1),children:s.jsx(sm,{className:"h-3 w-3"})}),s.jsx("span",{className:"text-sm font-medium w-6 text-center",children:A.quantity}),s.jsx(z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>b(A.product.id,1),children:s.jsx(Gt,{className:"h-3 w-3"})})]})]}),s.jsx(z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:()=>v(A.product.id),children:s.jsx(hr,{className:"h-4 w-4"})})]},A.product.id))})}),u.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Qs,{}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsStore.cardsCount"),":"]}),s.jsxs("span",{className:"font-medium",children:[j," ",e("cardsStore.cards")]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold",children:[e("cardsStore.total"),":"]}),s.jsxs("span",{className:"text-lg font-bold text-primary",children:["$ ",N.toFixed(2)," ",e("cardsStore.usd")]})]}),s.jsx(z,{className:"w-full",size:"lg",onClick:C,disabled:g||u.length===0,children:g?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin ml-2"}),e("cardsStore.processing")]}):e("cardsStore.completeOrder")})]})]})]})]})}const hW={PENDING:{label:"Pending",labelAr:"",variant:"secondary",icon:fo},PAID:{label:"Paid",labelAr:"",variant:"default",icon:ks},PROCESSING:{label:"Processing",labelAr:" ",variant:"secondary",icon:fo},DELIVERED:{label:"Delivered",labelAr:" ",variant:"default",icon:ks},CANCELLED:{label:"Cancelled",labelAr:"",variant:"destructive",icon:Cs},FAILED:{label:"Failed",labelAr:"",variant:"destructive",icon:Cs}};function mgt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",a=Kr(),[n,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(null),[u,h]=f.useState(1),[m,p]=f.useState(1);f.useEffect(()=>{(async()=>{try{l(!0);const w=await he.get(`/card-orders/my-orders?page=${u}&limit=20`,{requireAuth:!0});i(w.data||[]),p(w.totalPages||1)}catch(w){console.error("Error fetching orders:",w),Tr.error(e("common.error"," "))}finally{l(!1)}})()},[u,e]);const g=y=>{navigator.clipboard.writeText(y),Tr.success(e("cardsOrders.copied"))},x=y=>{try{const w=new Date(y);return KA(w,"dd/MM/yyyy HH:mm",{locale:r?eM:void 0})}catch{return y}};return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(h2,{className:"h-6 w-6"}),e("sections.customerOrders.title")]}),s.jsxs(z,{onClick:()=>a("/dashboard/cards/store"),title:e("cardsOrders.createOrder"),children:[s.jsx(Gt,{className:`h-4 w-4 ${r?"ml-2":"mr-2"}`}),e("cardsOrders.createOrder")]})]}),s.jsx(je,{children:s.jsx(Ce,{className:"p-0",children:o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):n.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Tt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("sections.customerOrders.noOrders")}),s.jsx("p",{className:"text-sm mb-4",children:e("cardsOrders.createFirstOrder")}),s.jsx(z,{onClick:()=>a("/dashboard/cards/store"),children:e("cardsOrders.browseStore")})]}):s.jsxs(ts,{children:[s.jsx(rs,{children:s.jsxs(jt,{children:[s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.orderNumber")}),s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.date")}),s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.cards")}),s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.amount")}),s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.status")}),s.jsx(Ee,{className:r?"text-right":"",children:e("cardsOrders.table.by")}),s.jsx(Ee,{})]})}),s.jsx(ss,{children:n.map(y=>{const w=hW[y.status]||hW.PENDING,b=w.icon,v=y.items.reduce((N,j)=>N+j.quantity,0);return s.jsxs(jt,{children:[s.jsx(ke,{className:"font-medium",children:y.orderNumber}),s.jsx(ke,{children:x(y.createdAt)}),s.jsx(ke,{children:v}),s.jsxs(ke,{className:"font-semibold",children:["$ ",y.totalWithTax.toFixed(2)]}),s.jsx(ke,{children:s.jsxs(Ze,{variant:w.variant,className:"gap-1",children:[s.jsx(b,{className:"h-3 w-3"}),r?w.labelAr:w.label]})}),s.jsx(ke,{children:y.paymentMethod}),s.jsx(ke,{children:s.jsxs(Qt,{children:[s.jsx(Qx,{asChild:!0,children:s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d(y),children:s.jsx(fr,{className:"h-4 w-4"})})}),s.jsxs(Yt,{className:"max-w-2xl max-h-[80vh] overflow-auto",children:[s.jsx(tr,{children:s.jsxs(rr,{className:"flex items-center gap-2",children:[s.jsx(h2,{className:"h-5 w-5"}),e("cardsOrders.orderDetails")," - ",y.orderNumber]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.orderDate"),":"]}),s.jsx("p",{className:"font-medium",children:x(y.createdAt)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.status"),":"]}),s.jsx("p",{children:s.jsx(Ze,{variant:w.variant,children:r?w.labelAr:w.label})})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.totalAmount"),":"]}),s.jsxs("p",{className:"font-bold text-lg text-primary",children:["$ ",y.totalWithTax.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e("cardsOrders.paymentMethod"),":"]}),s.jsx("p",{className:"font-medium",children:y.paymentMethod})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:e("cardsOrders.orderedCards")}),s.jsx("div",{className:"space-y-4",children:y.items.map(N=>s.jsx(je,{children:s.jsx(Ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded bg-muted flex items-center justify-center overflow-hidden",children:N.product.image?s.jsx("img",{src:N.product.image,alt:"",className:"w-full h-full object-cover"}):s.jsx(Tt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-semibold",children:r&&N.product.nameAr||N.product.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.quantity,"  $ ",N.unitPrice.toFixed(2)," = $ ",N.totalWithTax.toFixed(2)]}),N.deliveries&&N.deliveries.length>0&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:e("cardsOrders.codes")}),s.jsx("div",{className:"space-y-1",children:N.deliveries.map((j,k)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:[s.jsxs("code",{className:"flex-1 text-sm font-mono",children:[j.cardCode,j.cardPin&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["PIN: ",j.cardPin]})]}),s.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(j.cardPin?`${j.cardCode} - PIN: ${j.cardPin}`:j.cardCode),children:s.jsx($l,{className:"h-4 w-4"})})]},k))})]})]})]})})},N.id))})]})]})]})]})})]},y.id)})})]})})}),m>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(z,{variant:"outline",size:"sm",disabled:u===1,onClick:()=>h(y=>y-1),children:e("cardsOrders.previous")}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[u," / ",m]}),s.jsx(z,{variant:"outline",size:"sm",disabled:u===m,onClick:()=>h(y=>y+1),children:e("cardsOrders.next")})]})]})}function fgt(){const{t:e,i18n:t}=Ct(),r=t.language==="ar",[a,n]=f.useState("month"),[i,o]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState([]),[h,m]=f.useState([]),[p,g]=f.useState([]);f.useEffect(()=>{(async()=>{try{o(!0);const v=new Date;let N=new Date;switch(a){case"week":N=Z1(v,7);break;case"month":N=Z1(v,30);break;case"quarter":N=Z1(v,90);break;case"year":N=Z1(v,365);break}const j=new URLSearchParams({startDate:N.toISOString(),endDate:v.toISOString()}),[k,S,C,A]=await Promise.all([he.get(`/card-orders/stats?${j}`,{requireAuth:!0}),he.get(`/card-orders/top-products?${j}&limit=10`,{requireAuth:!0}),he.get(`/card-orders/daily-stats?${j}`,{requireAuth:!0}),he.get(`/wallet/summary?${j}`,{requireAuth:!0})]);c(k),u(S.data||[]),m(C.data||[]),g(A.data||[])}catch(v){console.error("Error fetching reports:",v),c({totalOrders:0,totalRevenue:0,totalCards:0,averageOrderValue:0,ordersChange:0,revenueChange:0,cardsChange:0,aovChange:0}),u([]),m([]),g([])}finally{o(!1)}})()},[a]);const x=(b,v="SAR")=>new Intl.NumberFormat(r?"ar-SA":"en-US",{style:"currency",currency:v,minimumFractionDigits:2}).format(b),y=b=>{try{const v=new Date(b);return KA(v,"dd MMM",{locale:r?eM:uce})}catch{return b}},w=b=>{if(b===0)return null;const v=b>0;return s.jsxs("span",{className:be("flex items-center text-xs font-medium",v?"text-green-600":"text-red-600"),children:[v?s.jsx(Wo,{className:"h-3 w-3 mr-1"}):s.jsx(bG,{className:"h-3 w-3 mr-1"}),Math.abs(b).toFixed(1),"%"]})};return i?s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Da,{className:"h-6 w-6"}),r?" ":"Cards Reports"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(nr,{value:a,onValueChange:b=>n(b),children:[s.jsxs(Jt,{className:"w-[180px]",children:[s.jsx(ji,{className:"h-4 w-4 mr-2"}),s.jsx(cr,{})]}),s.jsxs(Zt,{children:[s.jsx(Oe,{value:"week",children:r?" ":"Last Week"}),s.jsx(Oe,{value:"month",children:r?" ":"Last Month"}),s.jsx(Oe,{value:"quarter",children:r?" 3 ":"Last Quarter"}),s.jsx(Oe,{value:"year",children:r?" ":"Last Year"})]})]}),s.jsxs(z,{variant:"outline",className:"gap-2",children:[s.jsx(Za,{className:"h-4 w-4"}),r?"":"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:r?" ":"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.totalOrders)||0}),w((l==null?void 0:l.ordersChange)||0)]}),s.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/20",children:s.jsx(Dr,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:r?" ":"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:x((l==null?void 0:l.totalRevenue)||0)}),w((l==null?void 0:l.revenueChange)||0)]}),s.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/20",children:s.jsx(ca,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:r?" ":"Cards Sold"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:(l==null?void 0:l.totalCards)||0}),w((l==null?void 0:l.cardsChange)||0)]}),s.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/20",children:s.jsx(Wr,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx(je,{children:s.jsx(Ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:r?"  ":"Avg. Order Value"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:x((l==null?void 0:l.averageOrderValue)||0)}),w((l==null?void 0:l.aovChange)||0)]}),s.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/20",children:s.jsx(Tt,{className:"h-6 w-6 text-orange-600"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{className:"text-lg",children:r?"  ":"Top Selling Products"}),s.jsx(Vt,{children:r?" 10    ":"Top 10 products by sales"})]}),s.jsx(Ce,{children:d.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Tt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:r?"  ":"No data available"})]}):s.jsx("div",{className:"space-y-4",children:d.map((b,v)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-sm font-semibold",children:v+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:r&&b.nameAr||b.name}),b.brand&&s.jsx("p",{className:"text-xs text-muted-foreground",children:r&&b.brand.nameAr||b.brand.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold",children:b.quantity}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x(b.revenue)})]})]},b.id))})})]}),s.jsxs(je,{children:[s.jsxs(et,{children:[s.jsx(at,{className:"text-lg",children:r?" ":"Wallet Summary"}),s.jsx(Vt,{children:r?"  ":"Financial transactions summary"})]}),s.jsx(Ce,{children:p.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ca,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:r?"  ":"No data available"})]}):s.jsx("div",{className:"space-y-4",children:p.map(b=>{const v=["TOPUP","REFUND","BONUS"].includes(b.type);return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:be("p-2 rounded-full",v?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"),children:v?s.jsx(b4,{className:"h-4 w-4 text-green-600"}):s.jsx(o2,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.type}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.count," ",r?"":"transactions"]})]})]}),s.jsxs("p",{className:be("font-semibold",v?"text-green-600":"text-red-600"),children:[v?"+":"-",x(b.total)]})]},b.type)})})})]})]}),s.jsxs(je,{children:[s.jsx(et,{children:s.jsx(at,{className:"text-lg",children:r?" ":"Daily Sales"})}),s.jsx(Ce,{children:h.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Da,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:r?"    ":"No data for selected period"})]}):s.jsx("div",{className:"h-64 flex items-end gap-1",children:h.map(b=>{const v=Math.max(...h.map(j=>j.revenue))||1,N=b.revenue/v*100;return s.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",title:`${y(b.date)}: ${x(b.revenue)}`,children:[s.jsx("div",{className:"w-full bg-primary/80 hover:bg-primary rounded-t transition-all cursor-pointer",style:{height:`${Math.max(N,2)}%`}}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:y(b.date)})]},b.date)})})})]})]})}const Qm=e=>{let t=0,r=0,a=0;e.length===4?(t=parseInt("0x"+e[1]+e[1]),r=parseInt("0x"+e[2]+e[2]),a=parseInt("0x"+e[3]+e[3])):e.length===7&&(t=parseInt("0x"+e[1]+e[2]),r=parseInt("0x"+e[3]+e[4]),a=parseInt("0x"+e[5]+e[6])),t/=255,r/=255,a/=255;const n=Math.min(t,r,a),i=Math.max(t,r,a),o=i-n;let l=0,c=0,d=0;return o===0?l=0:i===t?l=(r-a)/o%6:i===r?l=(a-t)/o+2:l=(t-r)/o+4,l=Math.round(l*60),l<0&&(l+=360),d=(i+n)/2,c=o===0?0:o/(1-Math.abs(2*d-1)),c=+(c*100).toFixed(1),d=+(d*100).toFixed(1),`${l} ${c}% ${d}%`},lh={light:{primary:"#FF8800",secondary:"#E74618",accent:"#FFCC00",background:"#FCFCFD",foreground:"#14141F",card:"#FFFFFF",sidebar:"#0D162B"},dark:{primary:"#FF8800",secondary:"#E74618",accent:"#FFCC00",background:"#0D162B",foreground:"#F1F1F3",card:"#09101F",sidebar:"#09101F"}},pgt=[{name:"Aurora (Default)",config:lh},{name:"Ocean Depths",config:{light:{primary:"#0EA5E9",secondary:"#0284C7",accent:"#38BDF8",background:"#F0F9FF",foreground:"#0C4A6E",card:"#FFFFFF",sidebar:"#0C4A6E"},dark:{primary:"#38BDF8",secondary:"#0EA5E9",accent:"#7DD3FC",background:"#0C4A6E",foreground:"#F0F9FF",card:"#082F49",sidebar:"#082F49"}}},{name:"Forest Whisper",config:{light:{primary:"#22C55E",secondary:"#16A34A",accent:"#86EFAC",background:"#F0FDF4",foreground:"#14532D",card:"#FFFFFF",sidebar:"#14532D"},dark:{primary:"#4ADE80",secondary:"#22C55E",accent:"#86EFAC",background:"#14532D",foreground:"#F0FDF4",card:"#052E16",sidebar:"#052E16"}}},{name:"Sunset Glow",config:{light:{primary:"#F97316",secondary:"#EA580C",accent:"#FDBA74",background:"#FFF7ED",foreground:"#7C2D12",card:"#FFFFFF",sidebar:"#7C2D12"},dark:{primary:"#FB923C",secondary:"#F97316",accent:"#FDBA74",background:"#7C2D12",foreground:"#FFF7ED",card:"#431407",sidebar:"#431407"}}},{name:"Royal Velvet",config:{light:{primary:"#8B5CF6",secondary:"#7C3AED",accent:"#C4B5FD",background:"#F5F3FF",foreground:"#4C1D95",card:"#FFFFFF",sidebar:"#4C1D95"},dark:{primary:"#A78BFA",secondary:"#8B5CF6",accent:"#C4B5FD",background:"#4C1D95",foreground:"#F5F3FF",card:"#2E1065",sidebar:"#2E1065"}}},{name:"Midnight Dreams",config:{light:{primary:"#6366F1",secondary:"#4F46E5",accent:"#818CF8",background:"#EEF2FF",foreground:"#1E1B4B",card:"#FFFFFF",sidebar:"#1E1B4B"},dark:{primary:"#818CF8",secondary:"#6366F1",accent:"#A5B4FC",background:"#1E1B4B",foreground:"#EEF2FF",card:"#1E1B4B",sidebar:"#0F0E24"}}},{name:"Crimson Tide",config:{light:{primary:"#EF4444",secondary:"#DC2626",accent:"#FCA5A5",background:"#FEF2F2",foreground:"#7F1D1D",card:"#FFFFFF",sidebar:"#7F1D1D"},dark:{primary:"#F87171",secondary:"#EF4444",accent:"#FCA5A5",background:"#7F1D1D",foreground:"#FEF2F2",card:"#450A0A",sidebar:"#450A0A"}}},{name:"Corporate Slate",config:{light:{primary:"#64748B",secondary:"#475569",accent:"#94A3B8",background:"#F8FAFC",foreground:"#0F172A",card:"#FFFFFF",sidebar:"#0F172A"},dark:{primary:"#94A3B8",secondary:"#64748B",accent:"#CBD5E1",background:"#0F172A",foreground:"#F8FAFC",card:"#020617",sidebar:"#020617"}}},{name:"Cyberpunk",config:{light:{primary:"#D946EF",secondary:"#8B5CF6",accent:"#06B6D4",background:"#FDF4FF",foreground:"#2E1065",card:"#FFFFFF",sidebar:"#2E1065"},dark:{primary:"#E879F9",secondary:"#D946EF",accent:"#22D3EE",background:"#09090B",foreground:"#FAFAFA",card:"#18181B",sidebar:"#000000"}}},{name:"Lavender Mist",config:{light:{primary:"#D8B4FE",secondary:"#C084FC",accent:"#E9D5FF",background:"#FAF5FF",foreground:"#3B0764",card:"#FFFFFF",sidebar:"#3B0764"},dark:{primary:"#C084FC",secondary:"#A855F7",accent:"#D8B4FE",background:"#3B0764",foreground:"#FAF5FF",card:"#2E1065",sidebar:"#2E1065"}}}];function xgt(){const{i18n:e}=Ct(),t=e.language==="ar",[r,a]=f.useState(lh),[n,i]=f.useState(!1),[o,l]=f.useState("light");f.useEffect(()=>{const p=localStorage.getItem("custom-theme-config");if(p)try{const g=JSON.parse(p),x={light:{...lh.light,...g.light},dark:{...lh.dark,...g.dark}};a(x),c(x)}catch(g){console.error("Failed to parse saved theme",g),c(lh)}else c(lh)},[]);const c=p=>{const g="theme-customizer-styles";let x=document.getElementById(g);x||(x=document.createElement("style"),x.id=g,document.head.appendChild(x));const y=w=>{const b=Qm(w.primary),v=Qm(w.secondary),N=Qm(w.accent),j=Qm(w.background),k=Qm(w.foreground),S=Qm(w.card),C=Qm(w.sidebar);return`
        --primary: ${b} !important;
        --secondary: ${v} !important;
        --accent: ${N} !important;
        --background: ${j} !important;
        --foreground: ${k} !important;
        --card: ${S} !important;
        --sidebar-background: ${C} !important;
        --ring: ${b} !important;
        
        /* Derived Gradients */
        --gradient-primary: linear-gradient(135deg, hsl(${b}) 0%, hsl(${v}) 100%) !important;
        --gradient-secondary: linear-gradient(135deg, hsl(${v}) 0%, hsl(0 84% 60%) 100%) !important;
        --gradient-accent: linear-gradient(135deg, hsl(${N}) 0%, hsl(${b}) 100%) !important;
      `};x.textContent=`
      html {
        ${y(p.light)}
      }
      
      html.dark {
        ${y(p.dark)}
      }
    `},d=(p,g,x)=>{const y={...r,[p]:{...r[p],[g]:x}};a(y),c(y)},u=p=>{a(p.config),c(p.config),Tr.success(`Applied ${p.name} theme!`)},h=()=>{localStorage.setItem("custom-theme-config",JSON.stringify(r)),Tr.success("Theme saved successfully!"),i(!1)},m=()=>{a(lh),c(lh),localStorage.removeItem("custom-theme-config");const p=document.getElementById("theme-customizer-styles");p&&p.remove(),Tr.info("Theme reset to default.")};return s.jsxs(J0,{open:n,onOpenChange:i,children:[s.jsx(MA,{asChild:!0,children:s.jsx(z,{variant:"outline",size:"icon",className:`fixed bottom-6 z-50 h-12 w-12 rounded-full shadow-lg border-primary/20 bg-background/80 backdrop-blur-sm hover:bg-primary/10 hover:border-primary transition-all duration-300 ${t?"left-24":"right-24"}`,children:s.jsx(Zme,{className:"h-6 w-6 text-primary"})})}),s.jsxs(Ip,{className:"overflow-y-auto w-[400px] sm:w-[540px]",children:[s.jsxs(Z0,{children:[s.jsx(ev,{children:"Theme Customizer"}),s.jsx(LA,{children:"Choose a preset theme or customize colors for Light and Dark modes."})]}),s.jsxs("div",{className:"grid gap-6 py-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{className:"text-base font-medium",children:"Preset Themes"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:pgt.map(p=>s.jsxs("button",{onClick:()=>u(p),className:"group relative flex items-center gap-3 rounded-lg border p-2 hover:border-primary transition-all hover:bg-accent/5",children:[s.jsxs("div",{className:"flex shrink-0 -space-x-2",children:[s.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-30",style:{backgroundColor:p.config.light.primary}}),s.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-20",style:{backgroundColor:p.config.light.secondary}}),s.jsx("div",{className:"h-6 w-6 rounded-full border shadow-sm z-10",style:{backgroundColor:p.config.light.background}})]}),s.jsx("span",{className:"text-sm font-medium",children:p.name})]},p.name))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or customize manually"})})]}),s.jsxs(Yn,{value:o,onValueChange:l,className:"w-full",children:[s.jsxs(_n,{className:"grid w-full grid-cols-2",children:[s.jsxs(Ar,{value:"light",className:"flex items-center gap-2",children:[s.jsx(Nu,{className:"h-4 w-4"})," Light Mode"]}),s.jsxs(Ar,{value:"dark",className:"flex items-center gap-2",children:[s.jsx(_d,{className:"h-4 w-4"})," Dark Mode"]})]}),["light","dark"].map(p=>s.jsxs(ls,{value:p,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:r[p].primary}}),s.jsx(me,{type:"color",value:r[p].primary,onChange:g=>d(p,"primary",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:r[p].secondary}}),s.jsx(me,{type:"color",value:r[p].secondary,onChange:g=>d(p,"secondary",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Accent Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:r[p].accent}}),s.jsx(me,{type:"color",value:r[p].accent,onChange:g=>d(p,"accent",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Background Color"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:r[p].background}}),s.jsx(me,{type:"color",value:r[p].background,onChange:g=>d(p,"background",g.target.value),className:"h-10 w-full cursor-pointer"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(X,{children:"Sidebar Background"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border shadow-sm",style:{backgroundColor:r[p].sidebar}}),s.jsx(me,{type:"color",value:r[p].sidebar,onChange:g=>d(p,"sidebar",g.target.value),className:"h-10 w-full cursor-pointer"})]})]})]},p))]})]}),s.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[s.jsxs(z,{onClick:h,className:"w-full gap-2",children:[s.jsx(Ba,{className:"h-4 w-4"})," Save Changes"]}),s.jsxs(z,{variant:"outline",onClick:m,className:"w-full gap-2",children:[s.jsx(BO,{className:"h-4 w-4"})," Reset to Default"]})]})]})]})}const ggt=new Pge,vgt=()=>{const{i18n:e}=Ct();return f.useEffect(()=>{let t=document.getElementById("direction-style");t||(t=document.createElement("style"),t.id="direction-style",document.head.appendChild(t));const r=i=>{const o=i==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",o),document.documentElement.classList.remove("rtl","ltr"),document.documentElement.classList.add(o),t.textContent=`
        html { direction: ${o} !important; }
        body { direction: ${o} !important; }
        html[dir="${o}"] { direction: ${o} !important; }
        body[dir="${o}"] { direction: ${o} !important; }
        html.${o} { direction: ${o} !important; }
        body.${o} { direction: ${o} !important; }
      `,document.documentElement.dir=o,document.documentElement.lang=i,document.documentElement.setAttribute("dir",o),document.documentElement.setAttribute("lang",i),document.body&&(document.body.dir=o,document.body.setAttribute("dir",o),document.body.style.setProperty("direction",o,"important"),document.body.style.direction=o),o==="rtl"?(document.documentElement.classList.add("rtl"),document.documentElement.classList.remove("ltr"),document.body&&(document.body.classList.add("rtl"),document.body.classList.remove("ltr"))):(document.documentElement.classList.add("ltr"),document.documentElement.classList.remove("rtl"),document.body&&(document.body.classList.add("ltr"),document.body.classList.remove("rtl"))),document.body&&document.body.offsetHeight},a=e.language||localStorage.getItem("language")||"ar";r(a);const n=i=>{r(i)};return e.on("languageChanged",n),()=>{e.off("languageChanged",n)}},[e]),null},ygt=()=>{const e=nC(),{i18n:t}=Ct();return console.log("App rendering. Hostname:",window.location.hostname,"isMainDomain:",e),s.jsxs("div",{children:[s.jsx(vgt,{}),s.jsx(Wve,{children:s.jsx(_ge,{client:ggt,children:s.jsx(Uve,{children:s.jsx(Yve,{children:s.jsx(Vve,{children:s.jsx(Kve,{children:s.jsx(qve,{children:s.jsx(Hye,{children:s.jsxs(nge,{children:[s.jsx(zfe,{}),s.jsx(wpe,{}),s.jsx(cgt,{onAccept:()=>{}}),s.jsx(dgt,{}),s.jsx(P0e,{children:e?s.jsxs(NK,{children:[s.jsx(rt,{path:"/",element:s.jsx(c2e,{})}),s.jsx(rt,{path:"/partner",element:s.jsx(lgt,{})}),s.jsx(rt,{path:"/about",element:s.jsx(nde,{})}),s.jsx(rt,{path:"/contact",element:s.jsx(ide,{})}),s.jsx(rt,{path:"/privacy",element:s.jsx(ode,{})}),s.jsx(rt,{path:"/system-admin-x7k9p2",element:s.jsx(agt,{})}),s.jsx(rt,{path:"/login",element:s.jsx(t8,{})}),s.jsx(rt,{path:"/register",element:s.jsx(r8,{})}),s.jsx(rt,{path:"/login",element:s.jsx(t8,{})}),s.jsx(rt,{path:"/signup",element:s.jsx(r8,{})}),s.jsx(rt,{path:"/forgot-password",element:s.jsx(dQ,{})}),s.jsx(rt,{path:"/reset-password",element:s.jsx(uQ,{})}),s.jsx(rt,{path:"/change-password",element:s.jsx(gSe,{})}),s.jsx(rt,{path:"/oauth/callback",element:s.jsx(vSe,{})}),s.jsxs(rt,{element:s.jsx(xce,{}),children:[s.jsx(rt,{path:"/store",element:s.jsx(dle,{})}),s.jsx(rt,{path:"/products",element:s.jsx(ule,{})}),s.jsx(rt,{path:"/products/:id",element:s.jsx(ck,{})}),s.jsx(rt,{path:"/products/:tenantId/:productId",element:s.jsx(ck,{})}),s.jsx(rt,{path:"/collections/:id",element:s.jsx(Wle,{})}),s.jsx(rt,{path:"/categories",element:s.jsx(Hle,{})}),s.jsx(rt,{path:"/categories/:id",element:s.jsx(qle,{})}),s.jsx(rt,{path:"/cart",element:s.jsx(Ale,{})}),s.jsx(rt,{path:"/checkout",element:s.jsx(Vle,{})}),s.jsx(rt,{path:"/order-confirmation/:orderNumber",element:s.jsx(Qut,{})}),s.jsx(rt,{path:"/profile",element:s.jsx(qm,{children:s.jsx(Gut,{})})}),s.jsx(rt,{path:"/account/orders",element:s.jsx(id,{children:s.jsx(DD,{})})}),s.jsx(rt,{path:"/account/profile",element:s.jsx(id,{children:s.jsx(FN,{})})}),s.jsx(rt,{path:"/orders/:id",element:s.jsx(id,{children:s.jsx(zle,{})})}),s.jsx(rt,{path:"/:slug",element:s.jsx(rd,{})})]}),s.jsx(rt,{path:"/setup",element:s.jsx(qm,{children:s.jsx(Ez,{})})}),s.jsx(rt,{path:"/builder/new",element:s.jsx(qm,{children:s.jsx(Qz,{})})}),s.jsx(rt,{path:"/builder/:id",element:s.jsx(qm,{children:s.jsx(Qz,{})})}),s.jsx(rt,{path:"/hierarchical-fullscreen",element:s.jsx(qm,{children:s.jsx(ixt,{})})}),s.jsx(rt,{path:"/dashboard/ai",element:s.jsx(qm,{children:s.jsx(cKe,{})})}),s.jsxs(rt,{element:s.jsx(qm,{children:s.jsx(nxt,{})}),children:[s.jsx(rt,{path:"/dashboard",element:s.jsx(lKe,{})}),s.jsx(rt,{path:"/dashboard/market-setup",element:s.jsx(Ez,{})}),s.jsx(rt,{path:"/dashboard/profile",element:s.jsx(_mt,{})}),s.jsx(rt,{path:"/dashboard/products",element:s.jsx(Ao,{route:"/dashboard/products",children:s.jsx(Aot,{})})}),s.jsx(rt,{path:"/dashboard/categories",element:s.jsx(Ao,{route:"/dashboard/categories",children:s.jsx(Pot,{})})}),s.jsx(rt,{path:"/dashboard/hierarchical",element:s.jsx(Ao,{route:"/dashboard/hierarchical",children:s.jsx(Coe,{})})}),s.jsx(rt,{path:"/dashboard/prices",element:s.jsx(Ao,{route:"/dashboard/prices",children:s.jsx(Tct,{})})}),s.jsx(rt,{path:"/dashboard/orders",element:s.jsx(Ao,{route:"/dashboard/orders",children:s.jsx(_ct,{})})}),s.jsx(rt,{path:"/dashboard/customers",element:s.jsx(Ao,{route:"/dashboard/customers",children:s.jsx($ct,{})})}),s.jsx(rt,{path:"/dashboard/reports",element:s.jsx(Ao,{route:"/dashboard/reports",children:s.jsx(Uct,{})})}),s.jsx(rt,{path:"/dashboard/pages",element:s.jsx(Jut,{})}),s.jsx(rt,{path:"/dashboard/chat",element:s.jsx(Ndt,{})}),s.jsx(rt,{path:"/dashboard/storefront",element:s.jsx(Pz,{})}),s.jsx(rt,{path:"/dashboard/navigation",element:s.jsx(Pz,{})}),s.jsx(rt,{path:"/dashboard/marketing",element:s.jsx(Adt,{})}),s.jsx(rt,{path:"/dashboard/smart-line",element:s.jsx(Edt,{})}),s.jsx(rt,{path:"/dashboard/design",element:s.jsx(Tdt,{})}),s.jsx(rt,{path:"/dashboard/apps",element:s.jsx(_dt,{})}),s.jsx(rt,{path:"/dashboard/management",element:s.jsx(Sdt,{})}),s.jsx(rt,{path:"/dashboard/app-builder",element:s.jsx(kdt,{})}),s.jsx(rt,{path:"/dashboard/installed-apps",element:s.jsx(Cdt,{})}),s.jsx(rt,{path:"/dashboard/templates",element:s.jsx(jdt,{})}),s.jsx(rt,{path:"/dashboard/wallet",element:s.jsx(upt,{})}),s.jsx(rt,{path:"/dashboard/activity-log",element:s.jsx(hpt,{})}),s.jsx(rt,{path:"/dashboard/chat-team",element:s.jsx(mpt,{})}),s.jsx(rt,{path:"/dashboard/reports",element:s.jsx(fpt,{})}),s.jsx(rt,{path:"/dashboard/support",element:s.jsx(Pdt,{})}),s.jsx(rt,{path:"/dashboard/help",element:s.jsx(oce,{})}),s.jsx(rt,{path:"/dashboard/cards/store",element:s.jsx(ugt,{})}),s.jsx(rt,{path:"/dashboard/cards/favorites",element:s.jsx(hgt,{})}),s.jsx(rt,{path:"/dashboard/cards/orders",element:s.jsx(mgt,{})}),s.jsx(rt,{path:"/dashboard/cards/reports",element:s.jsx(fgt,{})}),s.jsx(rt,{path:"/dashboard/employees",element:s.jsx(Ao,{requiredPermissions:[],children:s.jsx(sle,{})})}),s.jsx(rt,{path:"/dashboard/permissions",element:s.jsx(Ao,{requiredPermissions:[],children:s.jsx(ale,{})})}),s.jsx(rt,{path:"/dashboard/settings/suppliers",element:s.jsx(Ao,{route:"/dashboard/settings/suppliers",children:s.jsx(wz,{})})}),s.jsx(rt,{path:"/dashboard/settings/brands",element:s.jsx(Ao,{route:"/dashboard/settings/brands",children:s.jsx(Nz,{})})}),s.jsx(rt,{path:"/dashboard/settings/units",element:s.jsx(Ao,{route:"/dashboard/settings/units",children:s.jsx(jz,{})})}),s.jsx(rt,{path:"/dashboard/settings/currencies",element:s.jsx(Ao,{route:"/dashboard/settings/currencies",children:s.jsx(Sz,{})})}),s.jsxs(rt,{path:"/dashboard/settings",element:s.jsx(Ao,{route:"/dashboard/settings",children:s.jsx(idt,{})}),children:[s.jsx(rt,{index:!0,element:s.jsx(bz,{})}),s.jsx(rt,{path:"notifications",element:s.jsx(udt,{})}),s.jsx(rt,{path:"payment",element:s.jsx(ldt,{})}),s.jsx(rt,{path:"payment-options",element:s.jsx(cdt,{})}),s.jsx(rt,{path:"checkout",element:s.jsx(ddt,{})}),s.jsx(rt,{path:"limits",element:s.jsx(bdt,{})}),s.jsx(rt,{path:"domains",element:s.jsx(hdt,{})}),s.jsx(rt,{path:"suppliers",element:s.jsx(wz,{})}),s.jsx(rt,{path:"brands",element:s.jsx(Nz,{})}),s.jsx(rt,{path:"units",element:s.jsx(jz,{})}),s.jsx(rt,{path:"currencies",element:s.jsx(Sz,{})}),s.jsx(rt,{path:"users",element:s.jsx(mdt,{})}),s.jsx(rt,{path:"integrations",element:s.jsx(fdt,{})}),s.jsx(rt,{path:"kyc",element:s.jsx(pdt,{})}),s.jsx(rt,{path:"billing",element:s.jsx(ydt,{})})]}),s.jsx(rt,{path:"/dashboard/store-settings",element:s.jsx(bz,{})})]}),s.jsx(rt,{path:"*",element:s.jsx(tY,{})})]}):s.jsx(Pxt,{})}),s.jsx(xgt,{})]})})})})})})})})})]},t.language)};Iq(document.getElementById("root")).render(s.jsx(ygt,{}));export{Do as B,je as C,Qt as D,me as I,Ge as L,Gt as P,Bo as S,_r as T,Tr as a,et as b,at as c,Qx as d,z as e,Yt as f,tr as g,rr as h,Wr as i,s as j,ur as k,X as l,Ki as m,Vr as n,Js as o,Ce as p,Ze as q,f as r,sfe as s,Ct as u,Ns as w};
